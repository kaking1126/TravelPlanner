function yZ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function al(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bZ={exports:{}},cP={},xZ={exports:{}},ni={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2=Symbol.for("react.element"),dge=Symbol.for("react.portal"),fge=Symbol.for("react.fragment"),hge=Symbol.for("react.strict_mode"),pge=Symbol.for("react.profiler"),mge=Symbol.for("react.provider"),gge=Symbol.for("react.context"),Age=Symbol.for("react.forward_ref"),vge=Symbol.for("react.suspense"),yge=Symbol.for("react.memo"),bge=Symbol.for("react.lazy"),dz=Symbol.iterator;function xge(t){return t===null||typeof t!="object"?null:(t=dz&&t[dz]||t["@@iterator"],typeof t=="function"?t:null)}var _Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SZ=Object.assign,wZ={};function t1(t,e,n){this.props=t,this.context=e,this.refs=wZ,this.updater=n||_Z}t1.prototype.isReactComponent={};t1.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};t1.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CZ(){}CZ.prototype=t1.prototype;function RB(t,e,n){this.props=t,this.context=e,this.refs=wZ,this.updater=n||_Z}var NB=RB.prototype=new CZ;NB.constructor=RB;SZ(NB,t1.prototype);NB.isPureReactComponent=!0;var fz=Array.isArray,TZ=Object.prototype.hasOwnProperty,IB={current:null},EZ={key:!0,ref:!0,__self:!0,__source:!0};function MZ(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)TZ.call(e,r)&&!EZ.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:V2,type:t,key:o,ref:a,props:i,_owner:IB.current}}function _ge(t,e){return{$$typeof:V2,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function OB(t){return typeof t=="object"&&t!==null&&t.$$typeof===V2}function Sge(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hz=/\/+/g;function T4(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Sge(""+t.key):e.toString(36)}function ZT(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case V2:case dge:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+T4(a,0):r,fz(i)?(n="",t!=null&&(n=t.replace(hz,"$&/")+"/"),ZT(i,e,n,"",function(c){return c})):i!=null&&(OB(i)&&(i=_ge(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(hz,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",fz(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+T4(o,s);a+=ZT(o,e,n,l,i)}else if(l=xge(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+T4(o,s++),a+=ZT(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Nw(t,e,n){if(t==null)return t;var r=[],i=0;return ZT(t,r,"","",function(o){return e.call(n,o,i++)}),r}function wge(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sl={current:null},JT={transition:null},Cge={ReactCurrentDispatcher:sl,ReactCurrentBatchConfig:JT,ReactCurrentOwner:IB};function PZ(){throw Error("act(...) is not supported in production builds of React.")}ni.Children={map:Nw,forEach:function(t,e,n){Nw(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nw(t,function(){e++}),e},toArray:function(t){return Nw(t,function(e){return e})||[]},only:function(t){if(!OB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ni.Component=t1;ni.Fragment=fge;ni.Profiler=pge;ni.PureComponent=RB;ni.StrictMode=hge;ni.Suspense=vge;ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cge;ni.act=PZ;ni.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=SZ({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=IB.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)TZ.call(e,l)&&!EZ.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:V2,type:t.type,key:i,ref:o,props:r,_owner:a}};ni.createContext=function(t){return t={$$typeof:gge,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mge,_context:t},t.Consumer=t};ni.createElement=MZ;ni.createFactory=function(t){var e=MZ.bind(null,t);return e.type=t,e};ni.createRef=function(){return{current:null}};ni.forwardRef=function(t){return{$$typeof:Age,render:t}};ni.isValidElement=OB;ni.lazy=function(t){return{$$typeof:bge,_payload:{_status:-1,_result:t},_init:wge}};ni.memo=function(t,e){return{$$typeof:yge,type:t,compare:e===void 0?null:e}};ni.startTransition=function(t){var e=JT.transition;JT.transition={};try{t()}finally{JT.transition=e}};ni.unstable_act=PZ;ni.useCallback=function(t,e){return sl.current.useCallback(t,e)};ni.useContext=function(t){return sl.current.useContext(t)};ni.useDebugValue=function(){};ni.useDeferredValue=function(t){return sl.current.useDeferredValue(t)};ni.useEffect=function(t,e){return sl.current.useEffect(t,e)};ni.useId=function(){return sl.current.useId()};ni.useImperativeHandle=function(t,e,n){return sl.current.useImperativeHandle(t,e,n)};ni.useInsertionEffect=function(t,e){return sl.current.useInsertionEffect(t,e)};ni.useLayoutEffect=function(t,e){return sl.current.useLayoutEffect(t,e)};ni.useMemo=function(t,e){return sl.current.useMemo(t,e)};ni.useReducer=function(t,e,n){return sl.current.useReducer(t,e,n)};ni.useRef=function(t){return sl.current.useRef(t)};ni.useState=function(t){return sl.current.useState(t)};ni.useSyncExternalStore=function(t,e,n){return sl.current.useSyncExternalStore(t,e,n)};ni.useTransition=function(){return sl.current.useTransition()};ni.version="18.3.1";xZ.exports=ni;var S=xZ.exports;const Ye=al(S),uP=yZ({__proto__:null,default:Ye},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tge=S,Ege=Symbol.for("react.element"),Mge=Symbol.for("react.fragment"),Pge=Object.prototype.hasOwnProperty,Rge=Tge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nge={key:!0,ref:!0,__self:!0,__source:!0};function RZ(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Pge.call(e,r)&&!Nge.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ege,type:t,key:o,ref:a,props:i,_owner:Rge.current}}cP.Fragment=Mge;cP.jsx=RZ;cP.jsxs=RZ;bZ.exports=cP;var De=bZ.exports,hL={},NZ={exports:{}},yc={},IZ={exports:{}},OZ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,ee){var Z=Y.length;Y.push(ee);e:for(;0<Z;){var re=Z-1>>>1,ae=Y[re];if(0<i(ae,ee))Y[re]=ee,Y[Z]=ae,Z=re;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ee=Y[0],Z=Y.pop();if(Z!==ee){Y[0]=Z;e:for(var re=0,ae=Y.length,ce=ae>>>1;re<ce;){var he=2*(re+1)-1,ge=Y[he],se=he+1,me=Y[se];if(0>i(ge,Z))se<ae&&0>i(me,ge)?(Y[re]=me,Y[se]=Z,re=se):(Y[re]=ge,Y[he]=Z,re=he);else if(se<ae&&0>i(me,Z))Y[re]=me,Y[se]=Z,re=se;else break e}}return ee}function i(Y,ee){var Z=Y.sortIndex-ee.sortIndex;return Z!==0?Z:Y.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Y){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=Y)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function M(Y){if(_=!1,C(Y),!p)if(n(l)!==null)p=!0,H(R);else{var ee=n(c);ee!==null&&X(M,ee.startTime-Y)}}function R(Y,ee){p=!1,_&&(_=!1,y(B),B=-1),h=!0;var Z=f;try{for(C(ee),d=n(l);d!==null&&(!(d.expirationTime>ee)||Y&&!z());){var re=d.callback;if(typeof re=="function"){d.callback=null,f=d.priorityLevel;var ae=re(d.expirationTime<=ee);ee=t.unstable_now(),typeof ae=="function"?d.callback=ae:d===n(l)&&r(l),C(ee)}else r(l);d=n(l)}if(d!==null)var ce=!0;else{var he=n(c);he!==null&&X(M,he.startTime-ee),ce=!1}return ce}finally{d=null,f=Z,h=!1}}var N=!1,I=null,B=-1,D=5,$=-1;function z(){return!(t.unstable_now()-$<D)}function V(){if(I!==null){var Y=t.unstable_now();$=Y;var ee=!0;try{ee=I(!0,Y)}finally{ee?q():(N=!1,I=null)}}else N=!1}var q;if(typeof w=="function")q=function(){w(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,j=G.port2;G.port1.onmessage=V,q=function(){j.postMessage(null)}}else q=function(){x(V,0)};function H(Y){I=Y,N||(N=!0,q())}function X(Y,ee){B=x(function(){Y(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,H(R))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(f){case 1:case 2:case 3:var ee=3;break;default:ee=f}var Z=f;f=ee;try{return Y()}finally{f=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ee){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Z=f;f=Y;try{return ee()}finally{f=Z}},t.unstable_scheduleCallback=function(Y,ee,Z){var re=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?re+Z:re):Z=re,Y){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Z+ae,Y={id:u++,callback:ee,priorityLevel:Y,startTime:Z,expirationTime:ae,sortIndex:-1},Z>re?(Y.sortIndex=Z,e(c,Y),n(l)===null&&Y===n(c)&&(_?(y(B),B=-1):_=!0,X(M,Z-re))):(Y.sortIndex=ae,e(l,Y),p||h||(p=!0,H(R))),Y},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Y){var ee=f;return function(){var Z=f;f=ee;try{return Y.apply(this,arguments)}finally{f=Z}}}})(OZ);IZ.exports=OZ;var Ige=IZ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oge=S,pc=Ige;function pn(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DZ=new Set,f_={};function xg(t,e){Vv(t,e),Vv(t+"Capture",e)}function Vv(t,e){for(f_[t]=e,t=0;t<e.length;t++)DZ.add(e[t])}var ah=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pL=Object.prototype.hasOwnProperty,Dge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pz={},mz={};function Lge(t){return pL.call(mz,t)?!0:pL.call(pz,t)?!1:Dge.test(t)?mz[t]=!0:(pz[t]=!0,!1)}function Bge(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fge(t,e,n,r){if(e===null||typeof e>"u"||Bge(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ll(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var as={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){as[t]=new ll(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];as[e]=new ll(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){as[t]=new ll(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){as[t]=new ll(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){as[t]=new ll(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){as[t]=new ll(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){as[t]=new ll(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){as[t]=new ll(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){as[t]=new ll(t,5,!1,t.toLowerCase(),null,!1,!1)});var DB=/[\-:]([a-z])/g;function LB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(DB,LB);as[e]=new ll(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(DB,LB);as[e]=new ll(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(DB,LB);as[e]=new ll(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){as[t]=new ll(t,1,!1,t.toLowerCase(),null,!1,!1)});as.xlinkHref=new ll("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){as[t]=new ll(t,1,!1,t.toLowerCase(),null,!0,!0)});function BB(t,e,n,r){var i=as.hasOwnProperty(e)?as[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fge(e,n,i,r)&&(n=null),r||i===null?Lge(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xh=Oge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Iw=Symbol.for("react.element"),qA=Symbol.for("react.portal"),WA=Symbol.for("react.fragment"),FB=Symbol.for("react.strict_mode"),mL=Symbol.for("react.profiler"),LZ=Symbol.for("react.provider"),BZ=Symbol.for("react.context"),$B=Symbol.for("react.forward_ref"),gL=Symbol.for("react.suspense"),AL=Symbol.for("react.suspense_list"),kB=Symbol.for("react.memo"),hp=Symbol.for("react.lazy"),FZ=Symbol.for("react.offscreen"),gz=Symbol.iterator;function sb(t){return t===null||typeof t!="object"?null:(t=gz&&t[gz]||t["@@iterator"],typeof t=="function"?t:null)}var Lo=Object.assign,E4;function ax(t){if(E4===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);E4=e&&e[1]||""}return`
`+E4+t}var M4=!1;function P4(t,e){if(!t||M4)return"";M4=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{M4=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ax(t):""}function $ge(t){switch(t.tag){case 5:return ax(t.type);case 16:return ax("Lazy");case 13:return ax("Suspense");case 19:return ax("SuspenseList");case 0:case 2:case 15:return t=P4(t.type,!1),t;case 11:return t=P4(t.type.render,!1),t;case 1:return t=P4(t.type,!0),t;default:return""}}function vL(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case WA:return"Fragment";case qA:return"Portal";case mL:return"Profiler";case FB:return"StrictMode";case gL:return"Suspense";case AL:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case BZ:return(t.displayName||"Context")+".Consumer";case LZ:return(t._context.displayName||"Context")+".Provider";case $B:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kB:return e=t.displayName||null,e!==null?e:vL(t.type)||"Memo";case hp:e=t._payload,t=t._init;try{return vL(t(e))}catch{}}return null}function kge(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vL(e);case 8:return e===FB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zp(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $Z(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Uge(t){var e=$Z(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ow(t){t._valueTracker||(t._valueTracker=Uge(t))}function kZ(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$Z(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function WE(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yL(t,e){var n=e.checked;return Lo({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Az(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zp(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UZ(t,e){e=e.checked,e!=null&&BB(t,"checked",e,!1)}function bL(t,e){UZ(t,e);var n=Zp(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xL(t,e.type,n):e.hasOwnProperty("defaultValue")&&xL(t,e.type,Zp(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vz(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xL(t,e,n){(e!=="number"||WE(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sx=Array.isArray;function bv(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zp(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _L(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pn(91));return Lo({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yz(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pn(92));if(sx(n)){if(1<n.length)throw Error(pn(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zp(n)}}function zZ(t,e){var n=Zp(e.value),r=Zp(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bz(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VZ(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function SL(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VZ(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dw,GZ=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dw=Dw||document.createElement("div"),Dw.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dw.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function h_(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zge=["Webkit","ms","Moz","O"];Object.keys(Rx).forEach(function(t){zge.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rx[e]=Rx[t]})});function HZ(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rx.hasOwnProperty(t)&&Rx[t]?(""+e).trim():e+"px"}function jZ(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HZ(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Vge=Lo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wL(t,e){if(e){if(Vge[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pn(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pn(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pn(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pn(62))}}function CL(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TL=null;function UB(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var EL=null,xv=null,_v=null;function xz(t){if(t=j2(t)){if(typeof EL!="function")throw Error(pn(280));var e=t.stateNode;e&&(e=mP(e),EL(t.stateNode,t.type,e))}}function qZ(t){xv?_v?_v.push(t):_v=[t]:xv=t}function WZ(){if(xv){var t=xv,e=_v;if(_v=xv=null,xz(t),e)for(t=0;t<e.length;t++)xz(e[t])}}function XZ(t,e){return t(e)}function YZ(){}var R4=!1;function KZ(t,e,n){if(R4)return t(e,n);R4=!0;try{return XZ(t,e,n)}finally{R4=!1,(xv!==null||_v!==null)&&(YZ(),WZ())}}function p_(t,e){var n=t.stateNode;if(n===null)return null;var r=mP(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pn(231,e,typeof n));return n}var ML=!1;if(ah)try{var lb={};Object.defineProperty(lb,"passive",{get:function(){ML=!0}}),window.addEventListener("test",lb,lb),window.removeEventListener("test",lb,lb)}catch{ML=!1}function Gge(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Nx=!1,XE=null,YE=!1,PL=null,Hge={onError:function(t){Nx=!0,XE=t}};function jge(t,e,n,r,i,o,a,s,l){Nx=!1,XE=null,Gge.apply(Hge,arguments)}function qge(t,e,n,r,i,o,a,s,l){if(jge.apply(this,arguments),Nx){if(Nx){var c=XE;Nx=!1,XE=null}else throw Error(pn(198));YE||(YE=!0,PL=c)}}function _g(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QZ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _z(t){if(_g(t)!==t)throw Error(pn(188))}function Wge(t){var e=t.alternate;if(!e){if(e=_g(t),e===null)throw Error(pn(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _z(i),t;if(o===r)return _z(i),e;o=o.sibling}throw Error(pn(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(pn(189))}}if(n.alternate!==r)throw Error(pn(190))}if(n.tag!==3)throw Error(pn(188));return n.stateNode.current===n?t:e}function ZZ(t){return t=Wge(t),t!==null?JZ(t):null}function JZ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JZ(t);if(e!==null)return e;t=t.sibling}return null}var eJ=pc.unstable_scheduleCallback,Sz=pc.unstable_cancelCallback,Xge=pc.unstable_shouldYield,Yge=pc.unstable_requestPaint,Yo=pc.unstable_now,Kge=pc.unstable_getCurrentPriorityLevel,zB=pc.unstable_ImmediatePriority,tJ=pc.unstable_UserBlockingPriority,KE=pc.unstable_NormalPriority,Qge=pc.unstable_LowPriority,nJ=pc.unstable_IdlePriority,dP=null,Qd=null;function Zge(t){if(Qd&&typeof Qd.onCommitFiberRoot=="function")try{Qd.onCommitFiberRoot(dP,t,void 0,(t.current.flags&128)===128)}catch{}}var Yu=Math.clz32?Math.clz32:tAe,Jge=Math.log,eAe=Math.LN2;function tAe(t){return t>>>=0,t===0?32:31-(Jge(t)/eAe|0)|0}var Lw=64,Bw=4194304;function lx(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function QE(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=lx(s):(o&=a,o!==0&&(r=lx(o)))}else a=n&~i,a!==0?r=lx(a):o!==0&&(r=lx(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yu(e),i=1<<n,r|=t[n],e&=~i;return r}function nAe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rAe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Yu(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=nAe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function RL(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rJ(){var t=Lw;return Lw<<=1,!(Lw&4194240)&&(Lw=64),t}function N4(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function G2(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yu(e),t[e]=n}function iAe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yu(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function VB(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yu(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ki=0;function iJ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oJ,GB,aJ,sJ,lJ,NL=!1,Fw=[],Op=null,Dp=null,Lp=null,m_=new Map,g_=new Map,Ap=[],oAe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wz(t,e){switch(t){case"focusin":case"focusout":Op=null;break;case"dragenter":case"dragleave":Dp=null;break;case"mouseover":case"mouseout":Lp=null;break;case"pointerover":case"pointerout":m_.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":g_.delete(e.pointerId)}}function cb(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=j2(e),e!==null&&GB(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aAe(t,e,n,r,i){switch(e){case"focusin":return Op=cb(Op,t,e,n,r,i),!0;case"dragenter":return Dp=cb(Dp,t,e,n,r,i),!0;case"mouseover":return Lp=cb(Lp,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return m_.set(o,cb(m_.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,g_.set(o,cb(g_.get(o)||null,t,e,n,r,i)),!0}return!1}function cJ(t){var e=_0(t.target);if(e!==null){var n=_g(e);if(n!==null){if(e=n.tag,e===13){if(e=QZ(n),e!==null){t.blockedOn=e,lJ(t.priority,function(){aJ(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eE(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=IL(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);TL=r,n.target.dispatchEvent(r),TL=null}else return e=j2(n),e!==null&&GB(e),t.blockedOn=n,!1;e.shift()}return!0}function Cz(t,e,n){eE(t)&&n.delete(e)}function sAe(){NL=!1,Op!==null&&eE(Op)&&(Op=null),Dp!==null&&eE(Dp)&&(Dp=null),Lp!==null&&eE(Lp)&&(Lp=null),m_.forEach(Cz),g_.forEach(Cz)}function ub(t,e){t.blockedOn===e&&(t.blockedOn=null,NL||(NL=!0,pc.unstable_scheduleCallback(pc.unstable_NormalPriority,sAe)))}function A_(t){function e(i){return ub(i,t)}if(0<Fw.length){ub(Fw[0],t);for(var n=1;n<Fw.length;n++){var r=Fw[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Op!==null&&ub(Op,t),Dp!==null&&ub(Dp,t),Lp!==null&&ub(Lp,t),m_.forEach(e),g_.forEach(e),n=0;n<Ap.length;n++)r=Ap[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ap.length&&(n=Ap[0],n.blockedOn===null);)cJ(n),n.blockedOn===null&&Ap.shift()}var Sv=xh.ReactCurrentBatchConfig,ZE=!0;function lAe(t,e,n,r){var i=ki,o=Sv.transition;Sv.transition=null;try{ki=1,HB(t,e,n,r)}finally{ki=i,Sv.transition=o}}function cAe(t,e,n,r){var i=ki,o=Sv.transition;Sv.transition=null;try{ki=4,HB(t,e,n,r)}finally{ki=i,Sv.transition=o}}function HB(t,e,n,r){if(ZE){var i=IL(t,e,n,r);if(i===null)z4(t,e,r,JE,n),wz(t,r);else if(aAe(i,t,e,n,r))r.stopPropagation();else if(wz(t,r),e&4&&-1<oAe.indexOf(t)){for(;i!==null;){var o=j2(i);if(o!==null&&oJ(o),o=IL(t,e,n,r),o===null&&z4(t,e,r,JE,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else z4(t,e,r,null,n)}}var JE=null;function IL(t,e,n,r){if(JE=null,t=UB(r),t=_0(t),t!==null)if(e=_g(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QZ(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return JE=t,null}function uJ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kge()){case zB:return 1;case tJ:return 4;case KE:case Qge:return 16;case nJ:return 536870912;default:return 16}default:return 16}}var wp=null,jB=null,tE=null;function dJ(){if(tE)return tE;var t,e=jB,n=e.length,r,i="value"in wp?wp.value:wp.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return tE=i.slice(t,1<r?1-r:void 0)}function nE(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $w(){return!0}function Tz(){return!1}function bc(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$w:Tz,this.isPropagationStopped=Tz,this}return Lo(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$w)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$w)},persist:function(){},isPersistent:$w}),e}var n1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qB=bc(n1),H2=Lo({},n1,{view:0,detail:0}),uAe=bc(H2),I4,O4,db,fP=Lo({},H2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WB,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==db&&(db&&t.type==="mousemove"?(I4=t.screenX-db.screenX,O4=t.screenY-db.screenY):O4=I4=0,db=t),I4)},movementY:function(t){return"movementY"in t?t.movementY:O4}}),Ez=bc(fP),dAe=Lo({},fP,{dataTransfer:0}),fAe=bc(dAe),hAe=Lo({},H2,{relatedTarget:0}),D4=bc(hAe),pAe=Lo({},n1,{animationName:0,elapsedTime:0,pseudoElement:0}),mAe=bc(pAe),gAe=Lo({},n1,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AAe=bc(gAe),vAe=Lo({},n1,{data:0}),Mz=bc(vAe),yAe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bAe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xAe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _Ae(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xAe[t])?!!e[t]:!1}function WB(){return _Ae}var SAe=Lo({},H2,{key:function(t){if(t.key){var e=yAe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nE(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bAe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WB,charCode:function(t){return t.type==="keypress"?nE(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nE(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wAe=bc(SAe),CAe=Lo({},fP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pz=bc(CAe),TAe=Lo({},H2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WB}),EAe=bc(TAe),MAe=Lo({},n1,{propertyName:0,elapsedTime:0,pseudoElement:0}),PAe=bc(MAe),RAe=Lo({},fP,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NAe=bc(RAe),IAe=[9,13,27,32],XB=ah&&"CompositionEvent"in window,Ix=null;ah&&"documentMode"in document&&(Ix=document.documentMode);var OAe=ah&&"TextEvent"in window&&!Ix,fJ=ah&&(!XB||Ix&&8<Ix&&11>=Ix),Rz=String.fromCharCode(32),Nz=!1;function hJ(t,e){switch(t){case"keyup":return IAe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pJ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var XA=!1;function DAe(t,e){switch(t){case"compositionend":return pJ(e);case"keypress":return e.which!==32?null:(Nz=!0,Rz);case"textInput":return t=e.data,t===Rz&&Nz?null:t;default:return null}}function LAe(t,e){if(XA)return t==="compositionend"||!XB&&hJ(t,e)?(t=dJ(),tE=jB=wp=null,XA=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fJ&&e.locale!=="ko"?null:e.data;default:return null}}var BAe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iz(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BAe[t.type]:e==="textarea"}function mJ(t,e,n,r){qZ(r),e=eM(e,"onChange"),0<e.length&&(n=new qB("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ox=null,v_=null;function FAe(t){TJ(t,0)}function hP(t){var e=QA(t);if(kZ(e))return t}function $Ae(t,e){if(t==="change")return e}var gJ=!1;if(ah){var L4;if(ah){var B4="oninput"in document;if(!B4){var Oz=document.createElement("div");Oz.setAttribute("oninput","return;"),B4=typeof Oz.oninput=="function"}L4=B4}else L4=!1;gJ=L4&&(!document.documentMode||9<document.documentMode)}function Dz(){Ox&&(Ox.detachEvent("onpropertychange",AJ),v_=Ox=null)}function AJ(t){if(t.propertyName==="value"&&hP(v_)){var e=[];mJ(e,v_,t,UB(t)),KZ(FAe,e)}}function kAe(t,e,n){t==="focusin"?(Dz(),Ox=e,v_=n,Ox.attachEvent("onpropertychange",AJ)):t==="focusout"&&Dz()}function UAe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hP(v_)}function zAe(t,e){if(t==="click")return hP(e)}function VAe(t,e){if(t==="input"||t==="change")return hP(e)}function GAe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nd=typeof Object.is=="function"?Object.is:GAe;function y_(t,e){if(nd(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pL.call(e,i)||!nd(t[i],e[i]))return!1}return!0}function Lz(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bz(t,e){var n=Lz(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lz(n)}}function vJ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vJ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yJ(){for(var t=window,e=WE();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=WE(t.document)}return e}function YB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HAe(t){var e=yJ(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vJ(n.ownerDocument.documentElement,n)){if(r!==null&&YB(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Bz(n,o);var a=Bz(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jAe=ah&&"documentMode"in document&&11>=document.documentMode,YA=null,OL=null,Dx=null,DL=!1;function Fz(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;DL||YA==null||YA!==WE(r)||(r=YA,"selectionStart"in r&&YB(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dx&&y_(Dx,r)||(Dx=r,r=eM(OL,"onSelect"),0<r.length&&(e=new qB("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=YA)))}function kw(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var KA={animationend:kw("Animation","AnimationEnd"),animationiteration:kw("Animation","AnimationIteration"),animationstart:kw("Animation","AnimationStart"),transitionend:kw("Transition","TransitionEnd")},F4={},bJ={};ah&&(bJ=document.createElement("div").style,"AnimationEvent"in window||(delete KA.animationend.animation,delete KA.animationiteration.animation,delete KA.animationstart.animation),"TransitionEvent"in window||delete KA.transitionend.transition);function pP(t){if(F4[t])return F4[t];if(!KA[t])return t;var e=KA[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bJ)return F4[t]=e[n];return t}var xJ=pP("animationend"),_J=pP("animationiteration"),SJ=pP("animationstart"),wJ=pP("transitionend"),CJ=new Map,$z="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fm(t,e){CJ.set(t,e),xg(e,[t])}for(var $4=0;$4<$z.length;$4++){var k4=$z[$4],qAe=k4.toLowerCase(),WAe=k4[0].toUpperCase()+k4.slice(1);fm(qAe,"on"+WAe)}fm(xJ,"onAnimationEnd");fm(_J,"onAnimationIteration");fm(SJ,"onAnimationStart");fm("dblclick","onDoubleClick");fm("focusin","onFocus");fm("focusout","onBlur");fm(wJ,"onTransitionEnd");Vv("onMouseEnter",["mouseout","mouseover"]);Vv("onMouseLeave",["mouseout","mouseover"]);Vv("onPointerEnter",["pointerout","pointerover"]);Vv("onPointerLeave",["pointerout","pointerover"]);xg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xg("onBeforeInput",["compositionend","keypress","textInput","paste"]);xg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XAe=new Set("cancel close invalid load scroll toggle".split(" ").concat(cx));function kz(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qge(r,e,void 0,t),t.currentTarget=null}function TJ(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;kz(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;kz(i,s,c),o=l}}}if(YE)throw t=PL,YE=!1,PL=null,t}function oo(t,e){var n=e[kL];n===void 0&&(n=e[kL]=new Set);var r=t+"__bubble";n.has(r)||(EJ(e,t,2,!1),n.add(r))}function U4(t,e,n){var r=0;e&&(r|=4),EJ(n,t,r,e)}var Uw="_reactListening"+Math.random().toString(36).slice(2);function b_(t){if(!t[Uw]){t[Uw]=!0,DZ.forEach(function(n){n!=="selectionchange"&&(XAe.has(n)||U4(n,!1,t),U4(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uw]||(e[Uw]=!0,U4("selectionchange",!1,e))}}function EJ(t,e,n,r){switch(uJ(e)){case 1:var i=lAe;break;case 4:i=cAe;break;default:i=HB}n=i.bind(null,e,n,t),i=void 0,!ML||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function z4(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=_0(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}KZ(function(){var c=o,u=UB(n),d=[];e:{var f=CJ.get(t);if(f!==void 0){var h=qB,p=t;switch(t){case"keypress":if(nE(n)===0)break e;case"keydown":case"keyup":h=wAe;break;case"focusin":p="focus",h=D4;break;case"focusout":p="blur",h=D4;break;case"beforeblur":case"afterblur":h=D4;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Ez;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=fAe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=EAe;break;case xJ:case _J:case SJ:h=mAe;break;case wJ:h=PAe;break;case"scroll":h=uAe;break;case"wheel":h=NAe;break;case"copy":case"cut":case"paste":h=AAe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Pz}var _=(e&4)!==0,x=!_&&t==="scroll",y=_?f!==null?f+"Capture":null:f;_=[];for(var w=c,C;w!==null;){C=w;var M=C.stateNode;if(C.tag===5&&M!==null&&(C=M,y!==null&&(M=p_(w,y),M!=null&&_.push(x_(w,M,C)))),x)break;w=w.return}0<_.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==TL&&(p=n.relatedTarget||n.fromElement)&&(_0(p)||p[sh]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?_0(p):null,p!==null&&(x=_g(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(_=Ez,M="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=Pz,M="onPointerLeave",y="onPointerEnter",w="pointer"),x=h==null?f:QA(h),C=p==null?f:QA(p),f=new _(M,w+"leave",h,n,u),f.target=x,f.relatedTarget=C,M=null,_0(u)===c&&(_=new _(y,w+"enter",p,n,u),_.target=C,_.relatedTarget=x,M=_),x=M,h&&p)t:{for(_=h,y=p,w=0,C=_;C;C=Xg(C))w++;for(C=0,M=y;M;M=Xg(M))C++;for(;0<w-C;)_=Xg(_),w--;for(;0<C-w;)y=Xg(y),C--;for(;w--;){if(_===y||y!==null&&_===y.alternate)break t;_=Xg(_),y=Xg(y)}_=null}else _=null;h!==null&&Uz(d,f,h,_,!1),p!==null&&x!==null&&Uz(d,x,p,_,!0)}}e:{if(f=c?QA(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var R=$Ae;else if(Iz(f))if(gJ)R=VAe;else{R=UAe;var N=kAe}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=zAe);if(R&&(R=R(t,c))){mJ(d,R,n,u);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&xL(f,"number",f.value)}switch(N=c?QA(c):window,t){case"focusin":(Iz(N)||N.contentEditable==="true")&&(YA=N,OL=c,Dx=null);break;case"focusout":Dx=OL=YA=null;break;case"mousedown":DL=!0;break;case"contextmenu":case"mouseup":case"dragend":DL=!1,Fz(d,n,u);break;case"selectionchange":if(jAe)break;case"keydown":case"keyup":Fz(d,n,u)}var I;if(XB)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else XA?hJ(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(fJ&&n.locale!=="ko"&&(XA||B!=="onCompositionStart"?B==="onCompositionEnd"&&XA&&(I=dJ()):(wp=u,jB="value"in wp?wp.value:wp.textContent,XA=!0)),N=eM(c,B),0<N.length&&(B=new Mz(B,t,null,n,u),d.push({event:B,listeners:N}),I?B.data=I:(I=pJ(n),I!==null&&(B.data=I)))),(I=OAe?DAe(t,n):LAe(t,n))&&(c=eM(c,"onBeforeInput"),0<c.length&&(u=new Mz("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=I))}TJ(d,e)})}function x_(t,e,n){return{instance:t,listener:e,currentTarget:n}}function eM(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=p_(t,n),o!=null&&r.unshift(x_(t,o,i)),o=p_(t,e),o!=null&&r.push(x_(t,o,i))),t=t.return}return r}function Xg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uz(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=p_(n,o),l!=null&&a.unshift(x_(n,l,s))):i||(l=p_(n,o),l!=null&&a.push(x_(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var YAe=/\r\n?/g,KAe=/\u0000|\uFFFD/g;function zz(t){return(typeof t=="string"?t:""+t).replace(YAe,`
`).replace(KAe,"")}function zw(t,e,n){if(e=zz(e),zz(t)!==e&&n)throw Error(pn(425))}function tM(){}var LL=null,BL=null;function FL(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $L=typeof setTimeout=="function"?setTimeout:void 0,QAe=typeof clearTimeout=="function"?clearTimeout:void 0,Vz=typeof Promise=="function"?Promise:void 0,ZAe=typeof queueMicrotask=="function"?queueMicrotask:typeof Vz<"u"?function(t){return Vz.resolve(null).then(t).catch(JAe)}:$L;function JAe(t){setTimeout(function(){throw t})}function V4(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),A_(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);A_(e)}function Bp(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gz(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var r1=Math.random().toString(36).slice(2),Hd="__reactFiber$"+r1,__="__reactProps$"+r1,sh="__reactContainer$"+r1,kL="__reactEvents$"+r1,eve="__reactListeners$"+r1,tve="__reactHandles$"+r1;function _0(t){var e=t[Hd];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sh]||n[Hd]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gz(t);t!==null;){if(n=t[Hd])return n;t=Gz(t)}return e}t=n,n=t.parentNode}return null}function j2(t){return t=t[Hd]||t[sh],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function QA(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pn(33))}function mP(t){return t[__]||null}var UL=[],ZA=-1;function hm(t){return{current:t}}function so(t){0>ZA||(t.current=UL[ZA],UL[ZA]=null,ZA--)}function to(t,e){ZA++,UL[ZA]=t.current,t.current=e}var Jp={},Rs=hm(Jp),Il=hm(!1),X0=Jp;function Gv(t,e){var n=t.type.contextTypes;if(!n)return Jp;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ol(t){return t=t.childContextTypes,t!=null}function nM(){so(Il),so(Rs)}function Hz(t,e,n){if(Rs.current!==Jp)throw Error(pn(168));to(Rs,e),to(Il,n)}function MJ(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pn(108,kge(t)||"Unknown",i));return Lo({},n,r)}function rM(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jp,X0=Rs.current,to(Rs,t),to(Il,Il.current),!0}function jz(t,e,n){var r=t.stateNode;if(!r)throw Error(pn(169));n?(t=MJ(t,e,X0),r.__reactInternalMemoizedMergedChildContext=t,so(Il),so(Rs),to(Rs,t)):so(Il),to(Il,n)}var Ff=null,gP=!1,G4=!1;function PJ(t){Ff===null?Ff=[t]:Ff.push(t)}function nve(t){gP=!0,PJ(t)}function pm(){if(!G4&&Ff!==null){G4=!0;var t=0,e=ki;try{var n=Ff;for(ki=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ff=null,gP=!1}catch(i){throw Ff!==null&&(Ff=Ff.slice(t+1)),eJ(zB,pm),i}finally{ki=e,G4=!1}}return null}var JA=[],ev=0,iM=null,oM=0,Gc=[],Hc=0,Y0=null,Hf=1,jf="";function o0(t,e){JA[ev++]=oM,JA[ev++]=iM,iM=t,oM=e}function RJ(t,e,n){Gc[Hc++]=Hf,Gc[Hc++]=jf,Gc[Hc++]=Y0,Y0=t;var r=Hf;t=jf;var i=32-Yu(r)-1;r&=~(1<<i),n+=1;var o=32-Yu(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Hf=1<<32-Yu(e)+i|n<<i|r,jf=o+t}else Hf=1<<o|n<<i|r,jf=t}function KB(t){t.return!==null&&(o0(t,1),RJ(t,1,0))}function QB(t){for(;t===iM;)iM=JA[--ev],JA[ev]=null,oM=JA[--ev],JA[ev]=null;for(;t===Y0;)Y0=Gc[--Hc],Gc[Hc]=null,jf=Gc[--Hc],Gc[Hc]=null,Hf=Gc[--Hc],Gc[Hc]=null}var lc=null,oc=null,bo=!1,ku=null;function NJ(t,e){var n=qc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qz(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lc=t,oc=Bp(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lc=t,oc=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Y0!==null?{id:Hf,overflow:jf}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qc(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lc=t,oc=null,!0):!1;default:return!1}}function zL(t){return(t.mode&1)!==0&&(t.flags&128)===0}function VL(t){if(bo){var e=oc;if(e){var n=e;if(!qz(t,e)){if(zL(t))throw Error(pn(418));e=Bp(n.nextSibling);var r=lc;e&&qz(t,e)?NJ(r,n):(t.flags=t.flags&-4097|2,bo=!1,lc=t)}}else{if(zL(t))throw Error(pn(418));t.flags=t.flags&-4097|2,bo=!1,lc=t}}}function Wz(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lc=t}function Vw(t){if(t!==lc)return!1;if(!bo)return Wz(t),bo=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!FL(t.type,t.memoizedProps)),e&&(e=oc)){if(zL(t))throw IJ(),Error(pn(418));for(;e;)NJ(t,e),e=Bp(e.nextSibling)}if(Wz(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pn(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){oc=Bp(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}oc=null}}else oc=lc?Bp(t.stateNode.nextSibling):null;return!0}function IJ(){for(var t=oc;t;)t=Bp(t.nextSibling)}function Hv(){oc=lc=null,bo=!1}function ZB(t){ku===null?ku=[t]:ku.push(t)}var rve=xh.ReactCurrentBatchConfig;function fb(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pn(309));var r=n.stateNode}if(!r)throw Error(pn(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(pn(284));if(!n._owner)throw Error(pn(290,t))}return t}function Gw(t,e){throw t=Object.prototype.toString.call(e),Error(pn(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xz(t){var e=t._init;return e(t._payload)}function OJ(t){function e(y,w){if(t){var C=y.deletions;C===null?(y.deletions=[w],y.flags|=16):C.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Up(y,w),y.index=0,y.sibling=null,y}function o(y,w,C){return y.index=C,t?(C=y.alternate,C!==null?(C=C.index,C<w?(y.flags|=2,w):C):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,w,C,M){return w===null||w.tag!==6?(w=K4(C,y.mode,M),w.return=y,w):(w=i(w,C),w.return=y,w)}function l(y,w,C,M){var R=C.type;return R===WA?u(y,w,C.props.children,M,C.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===hp&&Xz(R)===w.type)?(M=i(w,C.props),M.ref=fb(y,w,C),M.return=y,M):(M=cE(C.type,C.key,C.props,null,y.mode,M),M.ref=fb(y,w,C),M.return=y,M)}function c(y,w,C,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Q4(C,y.mode,M),w.return=y,w):(w=i(w,C.children||[]),w.return=y,w)}function u(y,w,C,M,R){return w===null||w.tag!==7?(w=k0(C,y.mode,M,R),w.return=y,w):(w=i(w,C),w.return=y,w)}function d(y,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=K4(""+w,y.mode,C),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Iw:return C=cE(w.type,w.key,w.props,null,y.mode,C),C.ref=fb(y,null,w),C.return=y,C;case qA:return w=Q4(w,y.mode,C),w.return=y,w;case hp:var M=w._init;return d(y,M(w._payload),C)}if(sx(w)||sb(w))return w=k0(w,y.mode,C,null),w.return=y,w;Gw(y,w)}return null}function f(y,w,C,M){var R=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return R!==null?null:s(y,w,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Iw:return C.key===R?l(y,w,C,M):null;case qA:return C.key===R?c(y,w,C,M):null;case hp:return R=C._init,f(y,w,R(C._payload),M)}if(sx(C)||sb(C))return R!==null?null:u(y,w,C,M,null);Gw(y,C)}return null}function h(y,w,C,M,R){if(typeof M=="string"&&M!==""||typeof M=="number")return y=y.get(C)||null,s(w,y,""+M,R);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Iw:return y=y.get(M.key===null?C:M.key)||null,l(w,y,M,R);case qA:return y=y.get(M.key===null?C:M.key)||null,c(w,y,M,R);case hp:var N=M._init;return h(y,w,C,N(M._payload),R)}if(sx(M)||sb(M))return y=y.get(C)||null,u(w,y,M,R,null);Gw(w,M)}return null}function p(y,w,C,M){for(var R=null,N=null,I=w,B=w=0,D=null;I!==null&&B<C.length;B++){I.index>B?(D=I,I=null):D=I.sibling;var $=f(y,I,C[B],M);if($===null){I===null&&(I=D);break}t&&I&&$.alternate===null&&e(y,I),w=o($,w,B),N===null?R=$:N.sibling=$,N=$,I=D}if(B===C.length)return n(y,I),bo&&o0(y,B),R;if(I===null){for(;B<C.length;B++)I=d(y,C[B],M),I!==null&&(w=o(I,w,B),N===null?R=I:N.sibling=I,N=I);return bo&&o0(y,B),R}for(I=r(y,I);B<C.length;B++)D=h(I,y,B,C[B],M),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?B:D.key),w=o(D,w,B),N===null?R=D:N.sibling=D,N=D);return t&&I.forEach(function(z){return e(y,z)}),bo&&o0(y,B),R}function _(y,w,C,M){var R=sb(C);if(typeof R!="function")throw Error(pn(150));if(C=R.call(C),C==null)throw Error(pn(151));for(var N=R=null,I=w,B=w=0,D=null,$=C.next();I!==null&&!$.done;B++,$=C.next()){I.index>B?(D=I,I=null):D=I.sibling;var z=f(y,I,$.value,M);if(z===null){I===null&&(I=D);break}t&&I&&z.alternate===null&&e(y,I),w=o(z,w,B),N===null?R=z:N.sibling=z,N=z,I=D}if($.done)return n(y,I),bo&&o0(y,B),R;if(I===null){for(;!$.done;B++,$=C.next())$=d(y,$.value,M),$!==null&&(w=o($,w,B),N===null?R=$:N.sibling=$,N=$);return bo&&o0(y,B),R}for(I=r(y,I);!$.done;B++,$=C.next())$=h(I,y,B,$.value,M),$!==null&&(t&&$.alternate!==null&&I.delete($.key===null?B:$.key),w=o($,w,B),N===null?R=$:N.sibling=$,N=$);return t&&I.forEach(function(V){return e(y,V)}),bo&&o0(y,B),R}function x(y,w,C,M){if(typeof C=="object"&&C!==null&&C.type===WA&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Iw:e:{for(var R=C.key,N=w;N!==null;){if(N.key===R){if(R=C.type,R===WA){if(N.tag===7){n(y,N.sibling),w=i(N,C.props.children),w.return=y,y=w;break e}}else if(N.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===hp&&Xz(R)===N.type){n(y,N.sibling),w=i(N,C.props),w.ref=fb(y,N,C),w.return=y,y=w;break e}n(y,N);break}else e(y,N);N=N.sibling}C.type===WA?(w=k0(C.props.children,y.mode,M,C.key),w.return=y,y=w):(M=cE(C.type,C.key,C.props,null,y.mode,M),M.ref=fb(y,w,C),M.return=y,y=M)}return a(y);case qA:e:{for(N=C.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(y,w.sibling),w=i(w,C.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=Q4(C,y.mode,M),w.return=y,y=w}return a(y);case hp:return N=C._init,x(y,w,N(C._payload),M)}if(sx(C))return p(y,w,C,M);if(sb(C))return _(y,w,C,M);Gw(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,C),w.return=y,y=w):(n(y,w),w=K4(C,y.mode,M),w.return=y,y=w),a(y)):n(y,w)}return x}var jv=OJ(!0),DJ=OJ(!1),aM=hm(null),sM=null,tv=null,JB=null;function eF(){JB=tv=sM=null}function tF(t){var e=aM.current;so(aM),t._currentValue=e}function GL(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wv(t,e){sM=t,JB=tv=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sl=!0),t.firstContext=null)}function iu(t){var e=t._currentValue;if(JB!==t)if(t={context:t,memoizedValue:e,next:null},tv===null){if(sM===null)throw Error(pn(308));tv=t,sM.dependencies={lanes:0,firstContext:t}}else tv=tv.next=t;return e}var S0=null;function nF(t){S0===null?S0=[t]:S0.push(t)}function LJ(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nF(e)):(n.next=i.next,i.next=n),e.interleaved=n,lh(t,r)}function lh(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pp=!1;function rF(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BJ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kf(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fp(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,mi&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,lh(t,n)}return i=r.interleaved,i===null?(e.next=e,nF(r)):(e.next=i.next,i.next=e),r.interleaved=e,lh(t,n)}function rE(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VB(t,n)}}function Yz(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lM(t,e,n,r){var i=t.updateQueue;pp=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,u=c=l=null,s=o;do{var f=s.lane,h=s.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=t,_=s;switch(f=e,h=n,_.tag){case 1:if(p=_.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=_.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Lo({},d,f);break e;case 2:pp=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Q0|=a,t.lanes=a,t.memoizedState=d}}function Kz(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pn(191,i));i.call(r)}}}var q2={},Zd=hm(q2),S_=hm(q2),w_=hm(q2);function w0(t){if(t===q2)throw Error(pn(174));return t}function iF(t,e){switch(to(w_,e),to(S_,t),to(Zd,q2),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:SL(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=SL(e,t)}so(Zd),to(Zd,e)}function qv(){so(Zd),so(S_),so(w_)}function FJ(t){w0(w_.current);var e=w0(Zd.current),n=SL(e,t.type);e!==n&&(to(S_,t),to(Zd,n))}function oF(t){S_.current===t&&(so(Zd),so(S_))}var Ro=hm(0);function cM(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var H4=[];function aF(){for(var t=0;t<H4.length;t++)H4[t]._workInProgressVersionPrimary=null;H4.length=0}var iE=xh.ReactCurrentDispatcher,j4=xh.ReactCurrentBatchConfig,K0=0,Do=null,ma=null,Ra=null,uM=!1,Lx=!1,C_=0,ive=0;function hs(){throw Error(pn(321))}function sF(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nd(t[n],e[n]))return!1;return!0}function lF(t,e,n,r,i,o){if(K0=o,Do=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,iE.current=t===null||t.memoizedState===null?lve:cve,t=n(r,i),Lx){o=0;do{if(Lx=!1,C_=0,25<=o)throw Error(pn(301));o+=1,Ra=ma=null,e.updateQueue=null,iE.current=uve,t=n(r,i)}while(Lx)}if(iE.current=dM,e=ma!==null&&ma.next!==null,K0=0,Ra=ma=Do=null,uM=!1,e)throw Error(pn(300));return t}function cF(){var t=C_!==0;return C_=0,t}function kd(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ra===null?Do.memoizedState=Ra=t:Ra=Ra.next=t,Ra}function ou(){if(ma===null){var t=Do.alternate;t=t!==null?t.memoizedState:null}else t=ma.next;var e=Ra===null?Do.memoizedState:Ra.next;if(e!==null)Ra=e,ma=t;else{if(t===null)throw Error(pn(310));ma=t,t={memoizedState:ma.memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},Ra===null?Do.memoizedState=Ra=t:Ra=Ra.next=t}return Ra}function T_(t,e){return typeof e=="function"?e(t):e}function q4(t){var e=ou(),n=e.queue;if(n===null)throw Error(pn(311));n.lastRenderedReducer=t;var r=ma,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if((K0&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,Do.lanes|=u,Q0|=u}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,nd(r,e.memoizedState)||(Sl=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Do.lanes|=o,Q0|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function W4(t){var e=ou(),n=e.queue;if(n===null)throw Error(pn(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);nd(o,e.memoizedState)||(Sl=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function $J(){}function kJ(t,e){var n=Do,r=ou(),i=e(),o=!nd(r.memoizedState,i);if(o&&(r.memoizedState=i,Sl=!0),r=r.queue,uF(VJ.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ra!==null&&Ra.memoizedState.tag&1){if(n.flags|=2048,E_(9,zJ.bind(null,n,r,i,e),void 0,null),Da===null)throw Error(pn(349));K0&30||UJ(n,e,i)}return i}function UJ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Do.updateQueue,e===null?(e={lastEffect:null,stores:null},Do.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zJ(t,e,n,r){e.value=n,e.getSnapshot=r,GJ(e)&&HJ(t)}function VJ(t,e,n){return n(function(){GJ(e)&&HJ(t)})}function GJ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nd(t,n)}catch{return!0}}function HJ(t){var e=lh(t,1);e!==null&&Ku(e,t,1,-1)}function Qz(t){var e=kd();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:T_,lastRenderedState:t},e.queue=t,t=t.dispatch=sve.bind(null,Do,t),[e.memoizedState,t]}function E_(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Do.updateQueue,e===null?(e={lastEffect:null,stores:null},Do.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jJ(){return ou().memoizedState}function oE(t,e,n,r){var i=kd();Do.flags|=t,i.memoizedState=E_(1|e,n,void 0,r===void 0?null:r)}function AP(t,e,n,r){var i=ou();r=r===void 0?null:r;var o=void 0;if(ma!==null){var a=ma.memoizedState;if(o=a.destroy,r!==null&&sF(r,a.deps)){i.memoizedState=E_(e,n,o,r);return}}Do.flags|=t,i.memoizedState=E_(1|e,n,o,r)}function Zz(t,e){return oE(8390656,8,t,e)}function uF(t,e){return AP(2048,8,t,e)}function qJ(t,e){return AP(4,2,t,e)}function WJ(t,e){return AP(4,4,t,e)}function XJ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YJ(t,e,n){return n=n!=null?n.concat([t]):null,AP(4,4,XJ.bind(null,e,t),n)}function dF(){}function KJ(t,e){var n=ou();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sF(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QJ(t,e){var n=ou();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sF(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZJ(t,e,n){return K0&21?(nd(n,e)||(n=rJ(),Do.lanes|=n,Q0|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sl=!0),t.memoizedState=n)}function ove(t,e){var n=ki;ki=n!==0&&4>n?n:4,t(!0);var r=j4.transition;j4.transition={};try{t(!1),e()}finally{ki=n,j4.transition=r}}function JJ(){return ou().memoizedState}function ave(t,e,n){var r=kp(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eee(t))tee(e,n);else if(n=LJ(t,e,n,r),n!==null){var i=tl();Ku(n,t,r,i),nee(n,e,r)}}function sve(t,e,n){var r=kp(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eee(t))tee(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,nd(s,a)){var l=e.interleaved;l===null?(i.next=i,nF(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=LJ(t,e,i,r),n!==null&&(i=tl(),Ku(n,t,r,i),nee(n,e,r))}}function eee(t){var e=t.alternate;return t===Do||e!==null&&e===Do}function tee(t,e){Lx=uM=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nee(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VB(t,n)}}var dM={readContext:iu,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},lve={readContext:iu,useCallback:function(t,e){return kd().memoizedState=[t,e===void 0?null:e],t},useContext:iu,useEffect:Zz,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,oE(4194308,4,XJ.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oE(4194308,4,t,e)},useInsertionEffect:function(t,e){return oE(4,2,t,e)},useMemo:function(t,e){var n=kd();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kd();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ave.bind(null,Do,t),[r.memoizedState,t]},useRef:function(t){var e=kd();return t={current:t},e.memoizedState=t},useState:Qz,useDebugValue:dF,useDeferredValue:function(t){return kd().memoizedState=t},useTransition:function(){var t=Qz(!1),e=t[0];return t=ove.bind(null,t[1]),kd().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Do,i=kd();if(bo){if(n===void 0)throw Error(pn(407));n=n()}else{if(n=e(),Da===null)throw Error(pn(349));K0&30||UJ(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Zz(VJ.bind(null,r,o,t),[t]),r.flags|=2048,E_(9,zJ.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=kd(),e=Da.identifierPrefix;if(bo){var n=jf,r=Hf;n=(r&~(1<<32-Yu(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=C_++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ive++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cve={readContext:iu,useCallback:KJ,useContext:iu,useEffect:uF,useImperativeHandle:YJ,useInsertionEffect:qJ,useLayoutEffect:WJ,useMemo:QJ,useReducer:q4,useRef:jJ,useState:function(){return q4(T_)},useDebugValue:dF,useDeferredValue:function(t){var e=ou();return ZJ(e,ma.memoizedState,t)},useTransition:function(){var t=q4(T_)[0],e=ou().memoizedState;return[t,e]},useMutableSource:$J,useSyncExternalStore:kJ,useId:JJ,unstable_isNewReconciler:!1},uve={readContext:iu,useCallback:KJ,useContext:iu,useEffect:uF,useImperativeHandle:YJ,useInsertionEffect:qJ,useLayoutEffect:WJ,useMemo:QJ,useReducer:W4,useRef:jJ,useState:function(){return W4(T_)},useDebugValue:dF,useDeferredValue:function(t){var e=ou();return ma===null?e.memoizedState=t:ZJ(e,ma.memoizedState,t)},useTransition:function(){var t=W4(T_)[0],e=ou().memoizedState;return[t,e]},useMutableSource:$J,useSyncExternalStore:kJ,useId:JJ,unstable_isNewReconciler:!1};function Bu(t,e){if(t&&t.defaultProps){e=Lo({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function HL(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Lo({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vP={isMounted:function(t){return(t=t._reactInternals)?_g(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tl(),i=kp(t),o=Kf(r,i);o.payload=e,n!=null&&(o.callback=n),e=Fp(t,o,i),e!==null&&(Ku(e,t,i,r),rE(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tl(),i=kp(t),o=Kf(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Fp(t,o,i),e!==null&&(Ku(e,t,i,r),rE(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tl(),r=kp(t),i=Kf(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fp(t,i,r),e!==null&&(Ku(e,t,r,n),rE(e,t,r))}};function Jz(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!y_(n,r)||!y_(i,o):!0}function ree(t,e,n){var r=!1,i=Jp,o=e.contextType;return typeof o=="object"&&o!==null?o=iu(o):(i=Ol(e)?X0:Rs.current,r=e.contextTypes,o=(r=r!=null)?Gv(t,i):Jp),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vP,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function eV(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vP.enqueueReplaceState(e,e.state,null)}function jL(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},rF(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=iu(o):(o=Ol(e)?X0:Rs.current,i.context=Gv(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(HL(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vP.enqueueReplaceState(i,i.state,null),lM(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wv(t,e){try{var n="",r=e;do n+=$ge(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function X4(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qL(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dve=typeof WeakMap=="function"?WeakMap:Map;function iee(t,e,n){n=Kf(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hM||(hM=!0,n5=r),qL(t,e)},n}function oee(t,e,n){n=Kf(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qL(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){qL(t,e),typeof r!="function"&&($p===null?$p=new Set([this]):$p.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function tV(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dve;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Cve.bind(null,t,e,n),e.then(t,t))}function nV(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rV(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kf(-1,1),e.tag=2,Fp(n,e,1))),n.lanes|=1),t)}var fve=xh.ReactCurrentOwner,Sl=!1;function Gs(t,e,n,r){e.child=t===null?DJ(e,null,n,r):jv(e,t.child,n,r)}function iV(t,e,n,r,i){n=n.render;var o=e.ref;return wv(e,i),r=lF(t,e,n,r,o,i),n=cF(),t!==null&&!Sl?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ch(t,e,i)):(bo&&n&&KB(e),e.flags|=1,Gs(t,e,r,i),e.child)}function oV(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!yF(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,aee(t,e,o,r,i)):(t=cE(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:y_,n(a,r)&&t.ref===e.ref)return ch(t,e,i)}return e.flags|=1,t=Up(o,r),t.ref=e.ref,t.return=e,e.child=t}function aee(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(y_(o,r)&&t.ref===e.ref)if(Sl=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Sl=!0);else return e.lanes=t.lanes,ch(t,e,i)}return WL(t,e,n,r,i)}function see(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},to(rv,ec),ec|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,to(rv,ec),ec|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,to(rv,ec),ec|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,to(rv,ec),ec|=r;return Gs(t,e,i,n),e.child}function lee(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function WL(t,e,n,r,i){var o=Ol(n)?X0:Rs.current;return o=Gv(e,o),wv(e,i),n=lF(t,e,n,r,o,i),r=cF(),t!==null&&!Sl?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ch(t,e,i)):(bo&&r&&KB(e),e.flags|=1,Gs(t,e,n,i),e.child)}function aV(t,e,n,r,i){if(Ol(n)){var o=!0;rM(e)}else o=!1;if(wv(e,i),e.stateNode===null)aE(t,e),ree(e,n,r),jL(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=iu(c):(c=Ol(n)?X0:Rs.current,c=Gv(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&eV(e,a,r,c),pp=!1;var f=e.memoizedState;a.state=f,lM(e,r,a,i),l=e.memoizedState,s!==r||f!==l||Il.current||pp?(typeof u=="function"&&(HL(e,n,u,r),l=e.memoizedState),(s=pp||Jz(e,n,s,r,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,BJ(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Bu(e.type,s),a.props=c,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=iu(l):(l=Ol(n)?X0:Rs.current,l=Gv(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==l)&&eV(e,a,r,l),pp=!1,f=e.memoizedState,a.state=f,lM(e,r,a,i);var p=e.memoizedState;s!==d||f!==p||Il.current||pp?(typeof h=="function"&&(HL(e,n,h,r),p=e.memoizedState),(c=pp||Jz(e,n,c,r,f,p,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return XL(t,e,n,r,o,i)}function XL(t,e,n,r,i,o){lee(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&jz(e,n,!1),ch(t,e,o);r=e.stateNode,fve.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=jv(e,t.child,null,o),e.child=jv(e,null,s,o)):Gs(t,e,s,o),e.memoizedState=r.state,i&&jz(e,n,!0),e.child}function cee(t){var e=t.stateNode;e.pendingContext?Hz(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hz(t,e.context,!1),iF(t,e.containerInfo)}function sV(t,e,n,r,i){return Hv(),ZB(i),e.flags|=256,Gs(t,e,n,r),e.child}var YL={dehydrated:null,treeContext:null,retryLane:0};function KL(t){return{baseLanes:t,cachePool:null,transitions:null}}function uee(t,e,n){var r=e.pendingProps,i=Ro.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),to(Ro,i&1),t===null)return VL(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=xP(a,r,0,null),t=k0(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=KL(n),e.memoizedState=YL,t):fF(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return hve(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Up(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Up(s,o):(o=k0(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?KL(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=YL,r}return o=t.child,t=o.sibling,r=Up(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fF(t,e){return e=xP({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hw(t,e,n,r){return r!==null&&ZB(r),jv(e,t.child,null,n),t=fF(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hve(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=X4(Error(pn(422))),Hw(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=xP({mode:"visible",children:r.children},i,0,null),o=k0(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&jv(e,t.child,null,a),e.child.memoizedState=KL(a),e.memoizedState=YL,o);if(!(e.mode&1))return Hw(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(pn(419)),r=X4(o,r,void 0),Hw(t,e,a,r)}if(s=(a&t.childLanes)!==0,Sl||s){if(r=Da,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,lh(t,i),Ku(r,t,i,-1))}return vF(),r=X4(Error(pn(421))),Hw(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Tve.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,oc=Bp(i.nextSibling),lc=e,bo=!0,ku=null,t!==null&&(Gc[Hc++]=Hf,Gc[Hc++]=jf,Gc[Hc++]=Y0,Hf=t.id,jf=t.overflow,Y0=e),e=fF(e,r.children),e.flags|=4096,e)}function lV(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),GL(t.return,e,n)}function Y4(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function dee(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Gs(t,e,r.children,n),r=Ro.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lV(t,n,e);else if(t.tag===19)lV(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(to(Ro,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cM(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Y4(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cM(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Y4(e,!0,n,null,o);break;case"together":Y4(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function aE(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ch(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Q0|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pn(153));if(e.child!==null){for(t=e.child,n=Up(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Up(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pve(t,e,n){switch(e.tag){case 3:cee(e),Hv();break;case 5:FJ(e);break;case 1:Ol(e.type)&&rM(e);break;case 4:iF(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;to(aM,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(to(Ro,Ro.current&1),e.flags|=128,null):n&e.child.childLanes?uee(t,e,n):(to(Ro,Ro.current&1),t=ch(t,e,n),t!==null?t.sibling:null);to(Ro,Ro.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dee(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),to(Ro,Ro.current),r)break;return null;case 22:case 23:return e.lanes=0,see(t,e,n)}return ch(t,e,n)}var fee,QL,hee,pee;fee=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};QL=function(){};hee=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,w0(Zd.current);var o=null;switch(n){case"input":i=yL(t,i),r=yL(t,r),o=[];break;case"select":i=Lo({},i,{value:void 0}),r=Lo({},r,{value:void 0}),o=[];break;case"textarea":i=_L(t,i),r=_L(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tM)}wL(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(f_.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(f_.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&oo("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};pee=function(t,e,n,r){n!==r&&(e.flags|=4)};function hb(t,e){if(!bo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ps(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mve(t,e,n){var r=e.pendingProps;switch(QB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(e),null;case 1:return Ol(e.type)&&nM(),ps(e),null;case 3:return r=e.stateNode,qv(),so(Il),so(Rs),aF(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vw(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ku!==null&&(o5(ku),ku=null))),QL(t,e),ps(e),null;case 5:oF(e);var i=w0(w_.current);if(n=e.type,t!==null&&e.stateNode!=null)hee(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pn(166));return ps(e),null}if(t=w0(Zd.current),Vw(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Hd]=e,r[__]=o,t=(e.mode&1)!==0,n){case"dialog":oo("cancel",r),oo("close",r);break;case"iframe":case"object":case"embed":oo("load",r);break;case"video":case"audio":for(i=0;i<cx.length;i++)oo(cx[i],r);break;case"source":oo("error",r);break;case"img":case"image":case"link":oo("error",r),oo("load",r);break;case"details":oo("toggle",r);break;case"input":Az(r,o),oo("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},oo("invalid",r);break;case"textarea":yz(r,o),oo("invalid",r)}wL(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&zw(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&zw(r.textContent,s,t),i=["children",""+s]):f_.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&oo("scroll",r)}switch(n){case"input":Ow(r),vz(r,o,!0);break;case"textarea":Ow(r),bz(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=tM)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VZ(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Hd]=e,t[__]=r,fee(t,e,!1,!1),e.stateNode=t;e:{switch(a=CL(n,r),n){case"dialog":oo("cancel",t),oo("close",t),i=r;break;case"iframe":case"object":case"embed":oo("load",t),i=r;break;case"video":case"audio":for(i=0;i<cx.length;i++)oo(cx[i],t);i=r;break;case"source":oo("error",t),i=r;break;case"img":case"image":case"link":oo("error",t),oo("load",t),i=r;break;case"details":oo("toggle",t),i=r;break;case"input":Az(t,r),i=yL(t,r),oo("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Lo({},r,{value:void 0}),oo("invalid",t);break;case"textarea":yz(t,r),i=_L(t,r),oo("invalid",t);break;default:i=r}wL(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?jZ(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GZ(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&h_(t,l):typeof l=="number"&&h_(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(f_.hasOwnProperty(o)?l!=null&&o==="onScroll"&&oo("scroll",t):l!=null&&BB(t,o,l,a))}switch(n){case"input":Ow(t),vz(t,r,!1);break;case"textarea":Ow(t),bz(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zp(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?bv(t,!!r.multiple,o,!1):r.defaultValue!=null&&bv(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tM)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ps(e),null;case 6:if(t&&e.stateNode!=null)pee(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pn(166));if(n=w0(w_.current),w0(Zd.current),Vw(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hd]=e,(o=r.nodeValue!==n)&&(t=lc,t!==null))switch(t.tag){case 3:zw(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zw(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hd]=e,e.stateNode=r}return ps(e),null;case 13:if(so(Ro),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bo&&oc!==null&&e.mode&1&&!(e.flags&128))IJ(),Hv(),e.flags|=98560,o=!1;else if(o=Vw(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(pn(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(pn(317));o[Hd]=e}else Hv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ps(e),o=!1}else ku!==null&&(o5(ku),ku=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ro.current&1?ga===0&&(ga=3):vF())),e.updateQueue!==null&&(e.flags|=4),ps(e),null);case 4:return qv(),QL(t,e),t===null&&b_(e.stateNode.containerInfo),ps(e),null;case 10:return tF(e.type._context),ps(e),null;case 17:return Ol(e.type)&&nM(),ps(e),null;case 19:if(so(Ro),o=e.memoizedState,o===null)return ps(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)hb(o,!1);else{if(ga!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=cM(t),a!==null){for(e.flags|=128,hb(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return to(Ro,Ro.current&1|2),e.child}t=t.sibling}o.tail!==null&&Yo()>Xv&&(e.flags|=128,r=!0,hb(o,!1),e.lanes=4194304)}else{if(!r)if(t=cM(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hb(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!bo)return ps(e),null}else 2*Yo()-o.renderingStartTime>Xv&&n!==1073741824&&(e.flags|=128,r=!0,hb(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Yo(),e.sibling=null,n=Ro.current,to(Ro,r?n&1|2:n&1),e):(ps(e),null);case 22:case 23:return AF(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ec&1073741824&&(ps(e),e.subtreeFlags&6&&(e.flags|=8192)):ps(e),null;case 24:return null;case 25:return null}throw Error(pn(156,e.tag))}function gve(t,e){switch(QB(e),e.tag){case 1:return Ol(e.type)&&nM(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qv(),so(Il),so(Rs),aF(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oF(e),null;case 13:if(so(Ro),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pn(340));Hv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return so(Ro),null;case 4:return qv(),null;case 10:return tF(e.type._context),null;case 22:case 23:return AF(),null;case 24:return null;default:return null}}var jw=!1,xs=!1,Ave=typeof WeakSet=="function"?WeakSet:Set,jn=null;function nv(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){zo(t,e,r)}else n.current=null}function ZL(t,e,n){try{n()}catch(r){zo(t,e,r)}}var cV=!1;function vve(t,e){if(LL=ZE,t=yJ(),YB(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(s=a),f===o&&++u===r&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(BL={focusedElem:t,selectionRange:n},ZE=!1,jn=e;jn!==null;)if(e=jn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,jn=t;else for(;jn!==null;){e=jn;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var _=p.memoizedProps,x=p.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:Bu(e.type,_),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pn(163))}}catch(M){zo(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,jn=t;break}jn=e.return}return p=cV,cV=!1,p}function Bx(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ZL(e,n,o)}i=i.next}while(i!==r)}}function yP(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function JL(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mee(t){var e=t.alternate;e!==null&&(t.alternate=null,mee(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hd],delete e[__],delete e[kL],delete e[eve],delete e[tve])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gee(t){return t.tag===5||t.tag===3||t.tag===4}function uV(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gee(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function e5(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tM));else if(r!==4&&(t=t.child,t!==null))for(e5(t,e,n),t=t.sibling;t!==null;)e5(t,e,n),t=t.sibling}function t5(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(t5(t,e,n),t=t.sibling;t!==null;)t5(t,e,n),t=t.sibling}var Xa=null,Fu=!1;function Wh(t,e,n){for(n=n.child;n!==null;)Aee(t,e,n),n=n.sibling}function Aee(t,e,n){if(Qd&&typeof Qd.onCommitFiberUnmount=="function")try{Qd.onCommitFiberUnmount(dP,n)}catch{}switch(n.tag){case 5:xs||nv(n,e);case 6:var r=Xa,i=Fu;Xa=null,Wh(t,e,n),Xa=r,Fu=i,Xa!==null&&(Fu?(t=Xa,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xa.removeChild(n.stateNode));break;case 18:Xa!==null&&(Fu?(t=Xa,n=n.stateNode,t.nodeType===8?V4(t.parentNode,n):t.nodeType===1&&V4(t,n),A_(t)):V4(Xa,n.stateNode));break;case 4:r=Xa,i=Fu,Xa=n.stateNode.containerInfo,Fu=!0,Wh(t,e,n),Xa=r,Fu=i;break;case 0:case 11:case 14:case 15:if(!xs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&ZL(n,e,a),i=i.next}while(i!==r)}Wh(t,e,n);break;case 1:if(!xs&&(nv(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){zo(n,e,s)}Wh(t,e,n);break;case 21:Wh(t,e,n);break;case 22:n.mode&1?(xs=(r=xs)||n.memoizedState!==null,Wh(t,e,n),xs=r):Wh(t,e,n);break;default:Wh(t,e,n)}}function dV(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ave),e.forEach(function(r){var i=Eve.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Cu(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Xa=s.stateNode,Fu=!1;break e;case 3:Xa=s.stateNode.containerInfo,Fu=!0;break e;case 4:Xa=s.stateNode.containerInfo,Fu=!0;break e}s=s.return}if(Xa===null)throw Error(pn(160));Aee(o,a,i),Xa=null,Fu=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){zo(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vee(e,t),e=e.sibling}function vee(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cu(e,t),Td(t),r&4){try{Bx(3,t,t.return),yP(3,t)}catch(_){zo(t,t.return,_)}try{Bx(5,t,t.return)}catch(_){zo(t,t.return,_)}}break;case 1:Cu(e,t),Td(t),r&512&&n!==null&&nv(n,n.return);break;case 5:if(Cu(e,t),Td(t),r&512&&n!==null&&nv(n,n.return),t.flags&32){var i=t.stateNode;try{h_(i,"")}catch(_){zo(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&UZ(i,o),CL(s,a);var c=CL(s,o);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?jZ(i,d):u==="dangerouslySetInnerHTML"?GZ(i,d):u==="children"?h_(i,d):BB(i,u,d,c)}switch(s){case"input":bL(i,o);break;case"textarea":zZ(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?bv(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?bv(i,!!o.multiple,o.defaultValue,!0):bv(i,!!o.multiple,o.multiple?[]:"",!1))}i[__]=o}catch(_){zo(t,t.return,_)}}break;case 6:if(Cu(e,t),Td(t),r&4){if(t.stateNode===null)throw Error(pn(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){zo(t,t.return,_)}}break;case 3:if(Cu(e,t),Td(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{A_(e.containerInfo)}catch(_){zo(t,t.return,_)}break;case 4:Cu(e,t),Td(t);break;case 13:Cu(e,t),Td(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(mF=Yo())),r&4&&dV(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(xs=(c=xs)||u,Cu(e,t),xs=c):Cu(e,t),Td(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(jn=t,u=t.child;u!==null;){for(d=jn=u;jn!==null;){switch(f=jn,h=f.child,f.tag){case 0:case 11:case 14:case 15:Bx(4,f,f.return);break;case 1:nv(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(_){zo(r,n,_)}}break;case 5:nv(f,f.return);break;case 22:if(f.memoizedState!==null){hV(d);continue}}h!==null?(h.return=f,jn=h):hV(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=HZ("display",a))}catch(_){zo(t,t.return,_)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(_){zo(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Cu(e,t),Td(t),r&4&&dV(t);break;case 21:break;default:Cu(e,t),Td(t)}}function Td(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gee(n)){var r=n;break e}n=n.return}throw Error(pn(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(h_(i,""),r.flags&=-33);var o=uV(t);t5(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=uV(t);e5(t,s,a);break;default:throw Error(pn(161))}}catch(l){zo(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yve(t,e,n){jn=t,yee(t)}function yee(t,e,n){for(var r=(t.mode&1)!==0;jn!==null;){var i=jn,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||jw;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||xs;s=jw;var c=xs;if(jw=a,(xs=l)&&!c)for(jn=i;jn!==null;)a=jn,l=a.child,a.tag===22&&a.memoizedState!==null?pV(i):l!==null?(l.return=a,jn=l):pV(i);for(;o!==null;)jn=o,yee(o),o=o.sibling;jn=i,jw=s,xs=c}fV(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,jn=o):fV(t)}}function fV(t){for(;jn!==null;){var e=jn;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xs||yP(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xs)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bu(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Kz(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kz(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&A_(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pn(163))}xs||e.flags&512&&JL(e)}catch(f){zo(e,e.return,f)}}if(e===t){jn=null;break}if(n=e.sibling,n!==null){n.return=e.return,jn=n;break}jn=e.return}}function hV(t){for(;jn!==null;){var e=jn;if(e===t){jn=null;break}var n=e.sibling;if(n!==null){n.return=e.return,jn=n;break}jn=e.return}}function pV(t){for(;jn!==null;){var e=jn;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yP(4,e)}catch(l){zo(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){zo(e,i,l)}}var o=e.return;try{JL(e)}catch(l){zo(e,o,l)}break;case 5:var a=e.return;try{JL(e)}catch(l){zo(e,a,l)}}}catch(l){zo(e,e.return,l)}if(e===t){jn=null;break}var s=e.sibling;if(s!==null){s.return=e.return,jn=s;break}jn=e.return}}var bve=Math.ceil,fM=xh.ReactCurrentDispatcher,hF=xh.ReactCurrentOwner,Jc=xh.ReactCurrentBatchConfig,mi=0,Da=null,sa=null,rs=0,ec=0,rv=hm(0),ga=0,M_=null,Q0=0,bP=0,pF=0,Fx=null,yl=null,mF=0,Xv=1/0,Bf=null,hM=!1,n5=null,$p=null,qw=!1,Cp=null,pM=0,$x=0,r5=null,sE=-1,lE=0;function tl(){return mi&6?Yo():sE!==-1?sE:sE=Yo()}function kp(t){return t.mode&1?mi&2&&rs!==0?rs&-rs:rve.transition!==null?(lE===0&&(lE=rJ()),lE):(t=ki,t!==0||(t=window.event,t=t===void 0?16:uJ(t.type)),t):1}function Ku(t,e,n,r){if(50<$x)throw $x=0,r5=null,Error(pn(185));G2(t,n,r),(!(mi&2)||t!==Da)&&(t===Da&&(!(mi&2)&&(bP|=n),ga===4&&vp(t,rs)),Dl(t,r),n===1&&mi===0&&!(e.mode&1)&&(Xv=Yo()+500,gP&&pm()))}function Dl(t,e){var n=t.callbackNode;rAe(t,e);var r=QE(t,t===Da?rs:0);if(r===0)n!==null&&Sz(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sz(n),e===1)t.tag===0?nve(mV.bind(null,t)):PJ(mV.bind(null,t)),ZAe(function(){!(mi&6)&&pm()}),n=null;else{switch(iJ(r)){case 1:n=zB;break;case 4:n=tJ;break;case 16:n=KE;break;case 536870912:n=nJ;break;default:n=KE}n=Eee(n,bee.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bee(t,e){if(sE=-1,lE=0,mi&6)throw Error(pn(327));var n=t.callbackNode;if(Cv()&&t.callbackNode!==n)return null;var r=QE(t,t===Da?rs:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mM(t,r);else{e=r;var i=mi;mi|=2;var o=_ee();(Da!==t||rs!==e)&&(Bf=null,Xv=Yo()+500,$0(t,e));do try{Sve();break}catch(s){xee(t,s)}while(1);eF(),fM.current=o,mi=i,sa!==null?e=0:(Da=null,rs=0,e=ga)}if(e!==0){if(e===2&&(i=RL(t),i!==0&&(r=i,e=i5(t,i))),e===1)throw n=M_,$0(t,0),vp(t,r),Dl(t,Yo()),n;if(e===6)vp(t,r);else{if(i=t.current.alternate,!(r&30)&&!xve(i)&&(e=mM(t,r),e===2&&(o=RL(t),o!==0&&(r=o,e=i5(t,o))),e===1))throw n=M_,$0(t,0),vp(t,r),Dl(t,Yo()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(pn(345));case 2:a0(t,yl,Bf);break;case 3:if(vp(t,r),(r&130023424)===r&&(e=mF+500-Yo(),10<e)){if(QE(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tl(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$L(a0.bind(null,t,yl,Bf),e);break}a0(t,yl,Bf);break;case 4:if(vp(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Yu(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Yo()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bve(r/1960))-r,10<r){t.timeoutHandle=$L(a0.bind(null,t,yl,Bf),r);break}a0(t,yl,Bf);break;case 5:a0(t,yl,Bf);break;default:throw Error(pn(329))}}}return Dl(t,Yo()),t.callbackNode===n?bee.bind(null,t):null}function i5(t,e){var n=Fx;return t.current.memoizedState.isDehydrated&&($0(t,e).flags|=256),t=mM(t,e),t!==2&&(e=yl,yl=n,e!==null&&o5(e)),t}function o5(t){yl===null?yl=t:yl.push.apply(yl,t)}function xve(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!nd(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vp(t,e){for(e&=~pF,e&=~bP,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yu(e),r=1<<n;t[n]=-1,e&=~r}}function mV(t){if(mi&6)throw Error(pn(327));Cv();var e=QE(t,0);if(!(e&1))return Dl(t,Yo()),null;var n=mM(t,e);if(t.tag!==0&&n===2){var r=RL(t);r!==0&&(e=r,n=i5(t,r))}if(n===1)throw n=M_,$0(t,0),vp(t,e),Dl(t,Yo()),n;if(n===6)throw Error(pn(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,a0(t,yl,Bf),Dl(t,Yo()),null}function gF(t,e){var n=mi;mi|=1;try{return t(e)}finally{mi=n,mi===0&&(Xv=Yo()+500,gP&&pm())}}function Z0(t){Cp!==null&&Cp.tag===0&&!(mi&6)&&Cv();var e=mi;mi|=1;var n=Jc.transition,r=ki;try{if(Jc.transition=null,ki=1,t)return t()}finally{ki=r,Jc.transition=n,mi=e,!(mi&6)&&pm()}}function AF(){ec=rv.current,so(rv)}function $0(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QAe(n)),sa!==null)for(n=sa.return;n!==null;){var r=n;switch(QB(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nM();break;case 3:qv(),so(Il),so(Rs),aF();break;case 5:oF(r);break;case 4:qv();break;case 13:so(Ro);break;case 19:so(Ro);break;case 10:tF(r.type._context);break;case 22:case 23:AF()}n=n.return}if(Da=t,sa=t=Up(t.current,null),rs=ec=e,ga=0,M_=null,pF=bP=Q0=0,yl=Fx=null,S0!==null){for(e=0;e<S0.length;e++)if(n=S0[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}S0=null}return t}function xee(t,e){do{var n=sa;try{if(eF(),iE.current=dM,uM){for(var r=Do.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uM=!1}if(K0=0,Ra=ma=Do=null,Lx=!1,C_=0,hF.current=null,n===null||n.return===null){ga=1,M_=e,sa=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=rs,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=nV(a);if(h!==null){h.flags&=-257,rV(h,a,s,o,e),h.mode&1&&tV(o,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var _=new Set;_.add(l),e.updateQueue=_}else p.add(l);break e}else{if(!(e&1)){tV(o,c,e),vF();break e}l=Error(pn(426))}}else if(bo&&s.mode&1){var x=nV(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),rV(x,a,s,o,e),ZB(Wv(l,s));break e}}o=l=Wv(l,s),ga!==4&&(ga=2),Fx===null?Fx=[o]:Fx.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=iee(o,l,e);Yz(o,y);break e;case 1:s=l;var w=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&($p===null||!$p.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=oee(o,s,e);Yz(o,M);break e}}o=o.return}while(o!==null)}wee(n)}catch(R){e=R,sa===n&&n!==null&&(sa=n=n.return);continue}break}while(1)}function _ee(){var t=fM.current;return fM.current=dM,t===null?dM:t}function vF(){(ga===0||ga===3||ga===2)&&(ga=4),Da===null||!(Q0&268435455)&&!(bP&268435455)||vp(Da,rs)}function mM(t,e){var n=mi;mi|=2;var r=_ee();(Da!==t||rs!==e)&&(Bf=null,$0(t,e));do try{_ve();break}catch(i){xee(t,i)}while(1);if(eF(),mi=n,fM.current=r,sa!==null)throw Error(pn(261));return Da=null,rs=0,ga}function _ve(){for(;sa!==null;)See(sa)}function Sve(){for(;sa!==null&&!Xge();)See(sa)}function See(t){var e=Tee(t.alternate,t,ec);t.memoizedProps=t.pendingProps,e===null?wee(t):sa=e,hF.current=null}function wee(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gve(n,e),n!==null){n.flags&=32767,sa=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ga=6,sa=null;return}}else if(n=mve(n,e,ec),n!==null){sa=n;return}if(e=e.sibling,e!==null){sa=e;return}sa=e=t}while(e!==null);ga===0&&(ga=5)}function a0(t,e,n){var r=ki,i=Jc.transition;try{Jc.transition=null,ki=1,wve(t,e,n,r)}finally{Jc.transition=i,ki=r}return null}function wve(t,e,n,r){do Cv();while(Cp!==null);if(mi&6)throw Error(pn(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pn(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(iAe(t,o),t===Da&&(sa=Da=null,rs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qw||(qw=!0,Eee(KE,function(){return Cv(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Jc.transition,Jc.transition=null;var a=ki;ki=1;var s=mi;mi|=4,hF.current=null,vve(t,n),vee(n,t),HAe(BL),ZE=!!LL,BL=LL=null,t.current=n,yve(n),Yge(),mi=s,ki=a,Jc.transition=o}else t.current=n;if(qw&&(qw=!1,Cp=t,pM=i),o=t.pendingLanes,o===0&&($p=null),Zge(n.stateNode),Dl(t,Yo()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hM)throw hM=!1,t=n5,n5=null,t;return pM&1&&t.tag!==0&&Cv(),o=t.pendingLanes,o&1?t===r5?$x++:($x=0,r5=t):$x=0,pm(),null}function Cv(){if(Cp!==null){var t=iJ(pM),e=Jc.transition,n=ki;try{if(Jc.transition=null,ki=16>t?16:t,Cp===null)var r=!1;else{if(t=Cp,Cp=null,pM=0,mi&6)throw Error(pn(331));var i=mi;for(mi|=4,jn=t.current;jn!==null;){var o=jn,a=o.child;if(jn.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(jn=c;jn!==null;){var u=jn;switch(u.tag){case 0:case 11:case 15:Bx(8,u,o)}var d=u.child;if(d!==null)d.return=u,jn=d;else for(;jn!==null;){u=jn;var f=u.sibling,h=u.return;if(mee(u),u===c){jn=null;break}if(f!==null){f.return=h,jn=f;break}jn=h}}}var p=o.alternate;if(p!==null){var _=p.child;if(_!==null){p.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}jn=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,jn=a;else e:for(;jn!==null;){if(o=jn,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Bx(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,jn=y;break e}jn=o.return}}var w=t.current;for(jn=w;jn!==null;){a=jn;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,jn=C;else e:for(a=w;jn!==null;){if(s=jn,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:yP(9,s)}}catch(R){zo(s,s.return,R)}if(s===a){jn=null;break e}var M=s.sibling;if(M!==null){M.return=s.return,jn=M;break e}jn=s.return}}if(mi=i,pm(),Qd&&typeof Qd.onPostCommitFiberRoot=="function")try{Qd.onPostCommitFiberRoot(dP,t)}catch{}r=!0}return r}finally{ki=n,Jc.transition=e}}return!1}function gV(t,e,n){e=Wv(n,e),e=iee(t,e,1),t=Fp(t,e,1),e=tl(),t!==null&&(G2(t,1,e),Dl(t,e))}function zo(t,e,n){if(t.tag===3)gV(t,t,n);else for(;e!==null;){if(e.tag===3){gV(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($p===null||!$p.has(r))){t=Wv(n,t),t=oee(e,t,1),e=Fp(e,t,1),t=tl(),e!==null&&(G2(e,1,t),Dl(e,t));break}}e=e.return}}function Cve(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tl(),t.pingedLanes|=t.suspendedLanes&n,Da===t&&(rs&n)===n&&(ga===4||ga===3&&(rs&130023424)===rs&&500>Yo()-mF?$0(t,0):pF|=n),Dl(t,e)}function Cee(t,e){e===0&&(t.mode&1?(e=Bw,Bw<<=1,!(Bw&130023424)&&(Bw=4194304)):e=1);var n=tl();t=lh(t,e),t!==null&&(G2(t,e,n),Dl(t,n))}function Tve(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Cee(t,n)}function Eve(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pn(314))}r!==null&&r.delete(e),Cee(t,n)}var Tee;Tee=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Il.current)Sl=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sl=!1,pve(t,e,n);Sl=!!(t.flags&131072)}else Sl=!1,bo&&e.flags&1048576&&RJ(e,oM,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;aE(t,e),t=e.pendingProps;var i=Gv(e,Rs.current);wv(e,n),i=lF(null,e,r,t,i,n);var o=cF();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ol(r)?(o=!0,rM(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rF(e),i.updater=vP,e.stateNode=i,i._reactInternals=e,jL(e,r,t,n),e=XL(null,e,r,!0,o,n)):(e.tag=0,bo&&o&&KB(e),Gs(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(aE(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Pve(r),t=Bu(r,t),i){case 0:e=WL(null,e,r,t,n);break e;case 1:e=aV(null,e,r,t,n);break e;case 11:e=iV(null,e,r,t,n);break e;case 14:e=oV(null,e,r,Bu(r.type,t),n);break e}throw Error(pn(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bu(r,i),WL(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bu(r,i),aV(t,e,r,i,n);case 3:e:{if(cee(e),t===null)throw Error(pn(387));r=e.pendingProps,o=e.memoizedState,i=o.element,BJ(t,e),lM(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Wv(Error(pn(423)),e),e=sV(t,e,r,n,i);break e}else if(r!==i){i=Wv(Error(pn(424)),e),e=sV(t,e,r,n,i);break e}else for(oc=Bp(e.stateNode.containerInfo.firstChild),lc=e,bo=!0,ku=null,n=DJ(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hv(),r===i){e=ch(t,e,n);break e}Gs(t,e,r,n)}e=e.child}return e;case 5:return FJ(e),t===null&&VL(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,FL(r,i)?a=null:o!==null&&FL(r,o)&&(e.flags|=32),lee(t,e),Gs(t,e,a,n),e.child;case 6:return t===null&&VL(e),null;case 13:return uee(t,e,n);case 4:return iF(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jv(e,null,r,n):Gs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bu(r,i),iV(t,e,r,i,n);case 7:return Gs(t,e,e.pendingProps,n),e.child;case 8:return Gs(t,e,e.pendingProps.children,n),e.child;case 12:return Gs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,to(aM,r._currentValue),r._currentValue=a,o!==null)if(nd(o.value,a)){if(o.children===i.children&&!Il.current){e=ch(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Kf(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),GL(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(pn(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),GL(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Gs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wv(e,n),i=iu(i),r=r(i),e.flags|=1,Gs(t,e,r,n),e.child;case 14:return r=e.type,i=Bu(r,e.pendingProps),i=Bu(r.type,i),oV(t,e,r,i,n);case 15:return aee(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bu(r,i),aE(t,e),e.tag=1,Ol(r)?(t=!0,rM(e)):t=!1,wv(e,n),ree(e,r,i),jL(e,r,i,n),XL(null,e,r,!0,t,n);case 19:return dee(t,e,n);case 22:return see(t,e,n)}throw Error(pn(156,e.tag))};function Eee(t,e){return eJ(t,e)}function Mve(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qc(t,e,n,r){return new Mve(t,e,n,r)}function yF(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pve(t){if(typeof t=="function")return yF(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$B)return 11;if(t===kB)return 14}return 2}function Up(t,e){var n=t.alternate;return n===null?(n=qc(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cE(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")yF(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case WA:return k0(n.children,i,o,e);case FB:a=8,i|=8;break;case mL:return t=qc(12,n,e,i|2),t.elementType=mL,t.lanes=o,t;case gL:return t=qc(13,n,e,i),t.elementType=gL,t.lanes=o,t;case AL:return t=qc(19,n,e,i),t.elementType=AL,t.lanes=o,t;case FZ:return xP(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LZ:a=10;break e;case BZ:a=9;break e;case $B:a=11;break e;case kB:a=14;break e;case hp:a=16,r=null;break e}throw Error(pn(130,t==null?t:typeof t,""))}return e=qc(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function k0(t,e,n,r){return t=qc(7,t,r,e),t.lanes=n,t}function xP(t,e,n,r){return t=qc(22,t,r,e),t.elementType=FZ,t.lanes=n,t.stateNode={isHidden:!1},t}function K4(t,e,n){return t=qc(6,t,null,e),t.lanes=n,t}function Q4(t,e,n){return e=qc(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Rve(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=N4(0),this.expirationTimes=N4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N4(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bF(t,e,n,r,i,o,a,s,l){return t=new Rve(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=qc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rF(o),t}function Nve(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qA,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Mee(t){if(!t)return Jp;t=t._reactInternals;e:{if(_g(t)!==t||t.tag!==1)throw Error(pn(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ol(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pn(171))}if(t.tag===1){var n=t.type;if(Ol(n))return MJ(t,n,e)}return e}function Pee(t,e,n,r,i,o,a,s,l){return t=bF(n,r,!0,t,i,o,a,s,l),t.context=Mee(null),n=t.current,r=tl(),i=kp(n),o=Kf(r,i),o.callback=e??null,Fp(n,o,i),t.current.lanes=i,G2(t,i,r),Dl(t,r),t}function _P(t,e,n,r){var i=e.current,o=tl(),a=kp(i);return n=Mee(n),e.context===null?e.context=n:e.pendingContext=n,e=Kf(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fp(i,e,a),t!==null&&(Ku(t,i,a,o),rE(t,i,a)),a}function gM(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AV(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xF(t,e){AV(t,e),(t=t.alternate)&&AV(t,e)}function Ive(){return null}var Ree=typeof reportError=="function"?reportError:function(t){console.error(t)};function _F(t){this._internalRoot=t}SP.prototype.render=_F.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pn(409));_P(t,e,null,null)};SP.prototype.unmount=_F.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Z0(function(){_P(null,t,null,null)}),e[sh]=null}};function SP(t){this._internalRoot=t}SP.prototype.unstable_scheduleHydration=function(t){if(t){var e=sJ();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ap.length&&e!==0&&e<Ap[n].priority;n++);Ap.splice(n,0,t),n===0&&cJ(t)}};function SF(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vV(){}function Ove(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=gM(a);o.call(c)}}var a=Pee(e,r,t,0,null,!1,!1,"",vV);return t._reactRootContainer=a,t[sh]=a.current,b_(t.nodeType===8?t.parentNode:t),Z0(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=gM(l);s.call(c)}}var l=bF(t,0,!1,null,null,!1,!1,"",vV);return t._reactRootContainer=l,t[sh]=l.current,b_(t.nodeType===8?t.parentNode:t),Z0(function(){_P(e,l,n,r)}),l}function CP(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=gM(a);s.call(l)}}_P(e,a,t,i)}else a=Ove(n,e,t,i,r);return gM(a)}oJ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lx(e.pendingLanes);n!==0&&(VB(e,n|1),Dl(e,Yo()),!(mi&6)&&(Xv=Yo()+500,pm()))}break;case 13:Z0(function(){var r=lh(t,1);if(r!==null){var i=tl();Ku(r,t,1,i)}}),xF(t,1)}};GB=function(t){if(t.tag===13){var e=lh(t,134217728);if(e!==null){var n=tl();Ku(e,t,134217728,n)}xF(t,134217728)}};aJ=function(t){if(t.tag===13){var e=kp(t),n=lh(t,e);if(n!==null){var r=tl();Ku(n,t,e,r)}xF(t,e)}};sJ=function(){return ki};lJ=function(t,e){var n=ki;try{return ki=t,e()}finally{ki=n}};EL=function(t,e,n){switch(e){case"input":if(bL(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mP(r);if(!i)throw Error(pn(90));kZ(r),bL(r,i)}}}break;case"textarea":zZ(t,n);break;case"select":e=n.value,e!=null&&bv(t,!!n.multiple,e,!1)}};XZ=gF;YZ=Z0;var Dve={usingClientEntryPoint:!1,Events:[j2,QA,mP,qZ,WZ,gF]},pb={findFiberByHostInstance:_0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lve={bundleType:pb.bundleType,version:pb.version,rendererPackageName:pb.rendererPackageName,rendererConfig:pb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xh.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZZ(t),t===null?null:t.stateNode},findFiberByHostInstance:pb.findFiberByHostInstance||Ive,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ww=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ww.isDisabled&&Ww.supportsFiber)try{dP=Ww.inject(Lve),Qd=Ww}catch{}}yc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dve;yc.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!SF(e))throw Error(pn(200));return Nve(t,e,null,n)};yc.createRoot=function(t,e){if(!SF(t))throw Error(pn(299));var n=!1,r="",i=Ree;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bF(t,1,!1,null,null,n,!1,r,i),t[sh]=e.current,b_(t.nodeType===8?t.parentNode:t),new _F(e)};yc.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pn(188)):(t=Object.keys(t).join(","),Error(pn(268,t)));return t=ZZ(e),t=t===null?null:t.stateNode,t};yc.flushSync=function(t){return Z0(t)};yc.hydrate=function(t,e,n){if(!wP(e))throw Error(pn(200));return CP(null,t,e,!0,n)};yc.hydrateRoot=function(t,e,n){if(!SF(t))throw Error(pn(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Ree;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Pee(e,null,t,1,n??null,i,!1,o,a),t[sh]=e.current,b_(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new SP(e)};yc.render=function(t,e,n){if(!wP(e))throw Error(pn(200));return CP(null,t,e,!1,n)};yc.unmountComponentAtNode=function(t){if(!wP(t))throw Error(pn(40));return t._reactRootContainer?(Z0(function(){CP(null,null,t,!1,function(){t._reactRootContainer=null,t[sh]=null})}),!0):!1};yc.unstable_batchedUpdates=gF;yc.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wP(n))throw Error(pn(200));if(t==null||t._reactInternals===void 0)throw Error(pn(38));return CP(t,e,n,!1,r)};yc.version="18.3.1-next-f1338f8080-20240426";function Nee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nee)}catch(t){console.error(t)}}Nee(),NZ.exports=yc;var rd=NZ.exports;const AM=al(rd),Bve=yZ({__proto__:null,default:AM},[rd]);var yV=rd;hL.createRoot=yV.createRoot,hL.hydrateRoot=yV.hydrateRoot;var Iee={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)e.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Iee);var Fve=Iee.exports;const je=al(Fve);function ft(){return ft=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ft.apply(null,arguments)}function Dn(t){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(t)}var $ve=Symbol.for("react.element"),kve=Symbol.for("react.transitional.element"),Uve=Symbol.for("react.fragment");function Oee(t){return t&&Dn(t)==="object"&&(t.$$typeof===$ve||t.$$typeof===kve)&&t.type===Uve}function mc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return Ye.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(mc(r)):Oee(r)&&r.props?n=n.concat(mc(r.props.children,e)):n.push(r))}),n}var a5={},zve=function(e){};function Vve(t,e){}function Gve(t,e){}function Hve(){a5={}}function Dee(t,e,n){!e&&!a5[n]&&(t(!1,n),a5[n]=!0)}function is(t,e){Dee(Vve,t,e)}function jve(t,e){Dee(Gve,t,e)}is.preMessage=zve;is.resetWarned=Hve;is.noteOnce=jve;function qve(t,e){if(Dn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lee(t){var e=qve(t,"string");return Dn(e)=="symbol"?e:e+""}function Re(t,e,n){return(e=Lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(n),!0).forEach(function(r){Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P_(t){return t instanceof HTMLElement||t instanceof SVGElement}function Bee(t){return t&&Dn(t)==="object"&&P_(t.nativeElement)?t.nativeElement:P_(t)?t:null}function uE(t){var e=Bee(t);if(e)return e;if(t instanceof Ye.Component){var n;return(n=AM.findDOMNode)===null||n===void 0?void 0:n.call(AM,t)}return null}var Fee={exports:{}},Vi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wF=Symbol.for("react.element"),CF=Symbol.for("react.portal"),TP=Symbol.for("react.fragment"),EP=Symbol.for("react.strict_mode"),MP=Symbol.for("react.profiler"),PP=Symbol.for("react.provider"),RP=Symbol.for("react.context"),Wve=Symbol.for("react.server_context"),NP=Symbol.for("react.forward_ref"),IP=Symbol.for("react.suspense"),OP=Symbol.for("react.suspense_list"),DP=Symbol.for("react.memo"),LP=Symbol.for("react.lazy"),Xve=Symbol.for("react.offscreen"),$ee;$ee=Symbol.for("react.module.reference");function mu(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wF:switch(t=t.type,t){case TP:case MP:case EP:case IP:case OP:return t;default:switch(t=t&&t.$$typeof,t){case Wve:case RP:case NP:case LP:case DP:case PP:return t;default:return e}}case CF:return e}}}Vi.ContextConsumer=RP;Vi.ContextProvider=PP;Vi.Element=wF;Vi.ForwardRef=NP;Vi.Fragment=TP;Vi.Lazy=LP;Vi.Memo=DP;Vi.Portal=CF;Vi.Profiler=MP;Vi.StrictMode=EP;Vi.Suspense=IP;Vi.SuspenseList=OP;Vi.isAsyncMode=function(){return!1};Vi.isConcurrentMode=function(){return!1};Vi.isContextConsumer=function(t){return mu(t)===RP};Vi.isContextProvider=function(t){return mu(t)===PP};Vi.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wF};Vi.isForwardRef=function(t){return mu(t)===NP};Vi.isFragment=function(t){return mu(t)===TP};Vi.isLazy=function(t){return mu(t)===LP};Vi.isMemo=function(t){return mu(t)===DP};Vi.isPortal=function(t){return mu(t)===CF};Vi.isProfiler=function(t){return mu(t)===MP};Vi.isStrictMode=function(t){return mu(t)===EP};Vi.isSuspense=function(t){return mu(t)===IP};Vi.isSuspenseList=function(t){return mu(t)===OP};Vi.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===TP||t===MP||t===EP||t===IP||t===OP||t===Xve||typeof t=="object"&&t!==null&&(t.$$typeof===LP||t.$$typeof===DP||t.$$typeof===PP||t.$$typeof===RP||t.$$typeof===NP||t.$$typeof===$ee||t.getModuleId!==void 0)};Vi.typeOf=mu;Fee.exports=Vi;var Z4=Fee.exports;function W2(t,e,n){var r=S.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var Yve=Number(S.version.split(".")[0]),TF=function(e,n){typeof e=="function"?e(n):Dn(e)==="object"&&e&&"current"in e&&(e.current=n)},kl=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);return i.length<=1?i[0]:function(o){n.forEach(function(a){TF(a,o)})}},mm=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return W2(function(){return kl.apply(void 0,n)},n,function(i,o){return i.length!==o.length||i.every(function(a,s){return a!==o[s]})})},gm=function(e){var n,r;if(!e)return!1;if(kee(e)&&Yve>=19)return!0;var i=Z4.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==Z4.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==Z4.ForwardRef)};function kee(t){return S.isValidElement(t)&&!Oee(t)}var Sg=function(e){if(e&&kee(e)){var n=e;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null},s5=S.createContext(null);function Kve(t){var e=t.children,n=t.onBatchResize,r=S.useRef(0),i=S.useRef([]),o=S.useContext(s5),a=S.useCallback(function(s,l,c){r.current+=1;var u=r.current;i.current.push({size:s,element:l,data:c}),Promise.resolve().then(function(){u===r.current&&(n==null||n(i.current),i.current=[])}),o==null||o(s,l,c)},[n,o]);return S.createElement(s5.Provider,{value:a},e)}var Uee=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];n.call(r,a[1],a[0])}},e}()}(),l5=typeof window<"u"&&typeof document<"u"&&window.document===document,vM=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Qve=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(vM):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Zve=2;function Jve(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){Qve(o)}function s(){var l=Date.now();if(n){if(l-i<Zve)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=l}return s}var eye=20,tye=["top","right","bottom","left","width","height","size","weight"],nye=typeof MutationObserver<"u",rye=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Jve(this.refresh.bind(this),eye)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!l5||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),nye?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!l5||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=tye.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),zee=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Yv=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||vM},Vee=BP(0,0,0,0);function yM(t){return parseFloat(t)||0}function xV(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+yM(o)},0)}function iye(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=yM(a)}return n}function oye(t){var e=t.getBBox();return BP(0,0,e.width,e.height)}function aye(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Vee;var r=Yv(t).getComputedStyle(t),i=iye(r),o=i.left+i.right,a=i.top+i.bottom,s=yM(r.width),l=yM(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=xV(r,"left","right")+o),Math.round(l+a)!==n&&(l-=xV(r,"top","bottom")+a)),!lye(t)){var c=Math.round(s+o)-e,u=Math.round(l+a)-n;Math.abs(c)!==1&&(s-=c),Math.abs(u)!==1&&(l-=u)}return BP(i.left,i.top,s,l)}var sye=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Yv(t).SVGGraphicsElement}:function(t){return t instanceof Yv(t).SVGElement&&typeof t.getBBox=="function"}}();function lye(t){return t===Yv(t).document.documentElement}function cye(t){return l5?sye(t)?oye(t):aye(t):Vee}function uye(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return zee(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function BP(t,e,n,r){return{x:t,y:e,width:n,height:r}}var dye=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=BP(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=cye(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),fye=function(){function t(e,n){var r=uye(n);zee(this,{target:e,contentRect:r})}return t}(),hye=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new Uee,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Yv(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new dye(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Yv(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new fye(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Gee=typeof WeakMap<"u"?new WeakMap:new Uee,Hee=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=rye.getInstance(),r=new hye(e,n,this);Gee.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Hee.prototype[t]=function(){var e;return(e=Gee.get(this))[t].apply(e,arguments)}});var pye=function(){return typeof vM.ResizeObserver<"u"?vM.ResizeObserver:Hee}(),Tp=new Map;function mye(t){t.forEach(function(e){var n,r=e.target;(n=Tp.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var jee=new pye(mye);function gye(t,e){Tp.has(t)||(Tp.set(t,new Set),jee.observe(t)),Tp.get(t).add(e)}function Aye(t,e){Tp.has(t)&&(Tp.get(t).delete(e),Tp.get(t).size||(jee.unobserve(t),Tp.delete(t)))}function Jo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lee(r.key),r)}}function ea(t,e,n){return e&&_V(t.prototype,e),n&&_V(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kv(t,e){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Kv(t,e)}function _h(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kv(t,e)}function R_(t){return R_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R_(t)}function EF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!t})()}function jr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vye(t,e){if(e&&(Dn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jr(t)}function Sh(t){var e=EF();return function(){var n,r=R_(t);if(e){var i=R_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vye(this,n)}}var yye=function(t){_h(n,t);var e=Sh(n);function n(){return Jo(this,n),e.apply(this,arguments)}return ea(n,[{key:"render",value:function(){return this.props.children}}]),n}(S.Component);function bye(t,e){var n=t.children,r=t.disabled,i=S.useRef(null),o=S.useRef(null),a=S.useContext(s5),s=typeof n=="function",l=s?n(i):n,c=S.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!s&&S.isValidElement(l)&&gm(l),d=u?Sg(l):null,f=mm(d,i),h=function(){var y;return uE(i.current)||(i.current&&Dn(i.current)==="object"?uE((y=i.current)===null||y===void 0?void 0:y.nativeElement):null)||uE(o.current)};S.useImperativeHandle(e,function(){return h()});var p=S.useRef(t);p.current=t;var _=S.useCallback(function(x){var y=p.current,w=y.onResize,C=y.data,M=x.getBoundingClientRect(),R=M.width,N=M.height,I=x.offsetWidth,B=x.offsetHeight,D=Math.floor(R),$=Math.floor(N);if(c.current.width!==D||c.current.height!==$||c.current.offsetWidth!==I||c.current.offsetHeight!==B){var z={width:D,height:$,offsetWidth:I,offsetHeight:B};c.current=z;var V=I===Math.round(R)?R:I,q=B===Math.round(N)?N:B,G=Ie(Ie({},z),{},{offsetWidth:V,offsetHeight:q});a==null||a(G,x,C),w&&Promise.resolve().then(function(){w(G,x)})}},[]);return S.useEffect(function(){var x=h();return x&&!r&&gye(x,_),function(){return Aye(x,_)}},[i.current,r]),S.createElement(yye,{ref:o},u?S.cloneElement(l,{ref:f}):l)}var xye=S.forwardRef(bye),_ye="rc-observer-key";function Sye(t,e){var n=t.children,r=typeof n=="function"?[n]:mc(n);return r.map(function(i,o){var a=(i==null?void 0:i.key)||"".concat(_ye,"-").concat(o);return S.createElement(xye,ft({},t,{key:a,ref:o===0?e:void 0}),i)})}var Ll=S.forwardRef(Sye);Ll.Collection=Kve;function c5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wye(t){if(Array.isArray(t))return c5(t)}function qee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MF(t,e){if(t){if(typeof t=="string")return c5(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c5(t,e):void 0}}function Cye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xt(t){return wye(t)||qee(t)||MF(t)||Cye()}var Wee=function(e){return+setTimeout(e,16)},Xee=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(Wee=function(e){return window.requestAnimationFrame(e)},Xee=function(e){return window.cancelAnimationFrame(e)});var SV=0,PF=new Map;function Yee(t){PF.delete(t)}var qr=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;SV+=1;var r=SV;function i(o){if(o===0)Yee(r),e();else{var a=Wee(function(){i(o-1)});PF.set(r,a)}}return i(n),r};qr.cancel=function(t){var e=PF.get(t);return Yee(t),Xee(e)};function Kee(t){if(Array.isArray(t))return t}function Tye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Qee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ze(t,e){return Kee(t)||Tye(t,e)||MF(t,e)||Qee()}function N_(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function ss(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function u5(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var wV="data-rc-order",CV="data-rc-priority",Eye="rc-util-key",d5=new Map;function Zee(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Eye}function FP(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function Mye(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function RF(t){return Array.from((d5.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function Jee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ss())return null;var n=e.csp,r=e.prepend,i=e.priority,o=i===void 0?0:i,a=Mye(r),s=a==="prependQueue",l=document.createElement("style");l.setAttribute(wV,a),s&&o&&l.setAttribute(CV,"".concat(o)),n!=null&&n.nonce&&(l.nonce=n==null?void 0:n.nonce),l.innerHTML=t;var c=FP(e),u=c.firstChild;if(r){if(s){var d=(e.styles||RF(c)).filter(function(f){if(!["prepend","prependQueue"].includes(f.getAttribute(wV)))return!1;var h=Number(f.getAttribute(CV)||0);return o>=h});if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function ete(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=FP(e);return(e.styles||RF(n)).find(function(r){return r.getAttribute(Zee(e))===t})}function I_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=ete(t,e);if(n){var r=FP(e);r.removeChild(n)}}function Pye(t,e){var n=d5.get(t);if(!n||!u5(document,n)){var r=Jee("",e),i=r.parentNode;d5.set(t,i),t.removeChild(r)}}function Qf(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=FP(n),i=RF(r),o=Ie(Ie({},n),{},{styles:i});Pye(r,o);var a=ete(e,o);if(a){var s,l;if((s=o.csp)!==null&&s!==void 0&&s.nonce&&a.nonce!==((l=o.csp)===null||l===void 0?void 0:l.nonce)){var c;a.nonce=(c=o.csp)===null||c===void 0?void 0:c.nonce}return a.innerHTML!==t&&(a.innerHTML=t),a}var u=Jee(t,o);return u.setAttribute(Zee(o),e),u}function O_(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pr(t,e){if(t==null)return{};var n,r,i=O_(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function D_(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(o,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(o);if(is(!l,"Warning: There may be circular references"),l)return!1;if(o===a)return!0;if(n&&s>1)return!1;r.add(o);var c=s+1;if(Array.isArray(o)){if(!Array.isArray(a)||o.length!==a.length)return!1;for(var u=0;u<o.length;u++)if(!i(o[u],a[u],c))return!1;return!0}if(o&&a&&Dn(o)==="object"&&Dn(a)==="object"){var d=Object.keys(o);return d.length!==Object.keys(a).length?!1:d.every(function(f){return i(o[f],a[f],c)})}return!1}return i(t,e)}var Rye="%";function f5(t){return t.join(Rye)}var Nye=function(){function t(e){Jo(this,t),Re(this,"instanceId",void 0),Re(this,"cache",new Map),Re(this,"extracted",new Set),this.instanceId=e}return ea(t,[{key:"get",value:function(n){return this.opGet(f5(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(f5(n),r)}},{key:"opUpdate",value:function(n,r){var i=this.cache.get(n),o=r(i);o===null?this.cache.delete(n):this.cache.set(n,o)}}]),t}(),Qv="data-token-hash",Qu="data-css-hash",Ep="__cssinjs_instance__";function Iye(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Qu,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(i){i[Ep]=i[Ep]||t,i[Ep]===t&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(Qu,"]"))).forEach(function(i){var o=i.getAttribute(Qu);if(r[o]){if(i[Ep]===t){var a;(a=i.parentNode)===null||a===void 0||a.removeChild(i)}}else r[o]=!0})}return new Nye(t)}var X2=S.createContext({hashPriority:"low",cache:Iye(),defaultCache:!0});function Oye(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var NF=function(){function t(){Jo(this,t),Re(this,"cache",void 0),Re(this,"keys",void 0),Re(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return ea(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a={map:this.cache};return n.forEach(function(s){if(!a)a=void 0;else{var l;a=(l=a)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(s)}}),(r=a)!==null&&r!==void 0&&r.value&&o&&(a.value[1]=this.cacheCallTimes++),(i=a)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(c,u){var d=ze(c,2),f=d[1];return i.internalGet(u)[1]<f?[u,i.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),a=ze(o,1),s=a[0];this.delete(s)}this.keys.push(n)}var l=this.cache;n.forEach(function(c,u){if(u===n.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var d=l.get(c);d?d.map||(d.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var o;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var a=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),a}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!Oye(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();Re(NF,"MAX_CACHE_SIZE",20);Re(NF,"MAX_CACHE_OFFSET",5);var TV=0,tte=function(){function t(e){Jo(this,t),Re(this,"derivatives",void 0),Re(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=TV,e.length===0&&(e.length>0,void 0),TV+=1}return ea(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),t}(),J4=new NF;function h5(t){var e=Array.isArray(t)?t:[t];return J4.has(e)||J4.set(e,new tte(e)),J4.get(e)}var Dye=new WeakMap,eI={};function Lye(t,e){for(var n=Dye,r=0;r<e.length;r+=1){var i=e[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(eI)||n.set(eI,t()),n.get(eI)}var EV=new WeakMap;function kx(t){var e=EV.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof tte?e+=r.id:r&&Dn(r)==="object"?e+=kx(r):e+=r}),e=N_(e),EV.set(t,e)),e}function MV(t,e){return N_("".concat(e,"_").concat(kx(t)))}var p5=ss();function ke(t){return typeof t=="number"?"".concat(t,"px"):t}function bM(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(i)return t;var o=Ie(Ie({},r),{},Re(Re({},Qv,e),Qu,n)),a=Object.keys(o).map(function(s){var l=o[s];return l?"".concat(s,'="').concat(l,'"'):null}).filter(function(s){return s}).join(" ");return"<style ".concat(a,">").concat(t,"</style>")}var dE=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Bye=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(i){var o=ze(i,2),a=o[0],s=o[1];return"".concat(a,":").concat(s,";")}).join(""),"}"):""},nte=function(e,n,r){var i={},o={};return Object.entries(e).forEach(function(a){var s,l,c=ze(a,2),u=c[0],d=c[1];if(r!=null&&(s=r.preserve)!==null&&s!==void 0&&s[u])o[u]=d;else if((typeof d=="string"||typeof d=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[u])){var f,h=dE(u,r==null?void 0:r.prefix);i[h]=typeof d=="number"&&!(r!=null&&(f=r.unitless)!==null&&f!==void 0&&f[u])?"".concat(d,"px"):String(d),o[u]="var(".concat(h,")")}}),[o,Bye(i,n,{scope:r==null?void 0:r.scope})]},PV=ss()?S.useLayoutEffect:S.useEffect,zr=function(e,n){var r=S.useRef(!0);PV(function(){return e(r.current)},n),PV(function(){return r.current=!1,function(){r.current=!0}},[])},xM=function(e,n){zr(function(r){if(!r)return e()},n)},Fye=Ie({},uP),RV=Fye.useInsertionEffect,$ye=function(e,n,r){S.useMemo(e,r),zr(function(){return n(!0)},r)},kye=RV?function(t,e,n){return RV(function(){return t(),e()},n)}:$ye,Uye=Ie({},uP),zye=Uye.useInsertionEffect,Vye=function(e){var n=[],r=!1;function i(o){r||n.push(o)}return S.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(o){return o()})}},e),i},Gye=function(){return function(e){e()}},Hye=typeof zye<"u"?Vye:Gye;function IF(t,e,n,r,i){var o=S.useContext(X2),a=o.cache,s=[t].concat(Xt(e)),l=f5(s),c=Hye([l]),u=function(p){a.opUpdate(l,function(_){var x=_||[void 0,void 0],y=ze(x,2),w=y[0],C=w===void 0?0:w,M=y[1],R=M,N=R||n(),I=[C,N];return p?p(I):I})};S.useMemo(function(){u()},[l]);var d=a.opGet(l),f=d[1];return kye(function(){i==null||i(f)},function(h){return u(function(p){var _=ze(p,2),x=_[0],y=_[1];return h&&x===0&&(i==null||i(f)),[x+1,y]}),function(){a.opUpdate(l,function(p){var _=p||[],x=ze(_,2),y=x[0],w=y===void 0?0:y,C=x[1],M=w-1;return M===0?(c(function(){(h||!a.opGet(l))&&(r==null||r(C,!1))}),null):[w-1,C]})}},[l]),f}var jye={},qye="css",h0=new Map;function Wye(t){h0.set(t,(h0.get(t)||0)+1)}function Xye(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Qv,'="').concat(t,'"]'));n.forEach(function(r){if(r[Ep]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var Yye=0;function Kye(t,e){h0.set(t,(h0.get(t)||0)-1);var n=new Set;h0.forEach(function(r,i){r<=0&&n.add(i)}),h0.size-n.size>Yye&&n.forEach(function(r){Xye(r,e),h0.delete(r)})}var Qye=function(e,n,r,i){var o=r.getDerivativeToken(e),a=Ie(Ie({},o),n);return i&&(a=i(a)),a},rte="token";function Zye(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=S.useContext(X2),i=r.cache.instanceId,o=r.container,a=n.salt,s=a===void 0?"":a,l=n.override,c=l===void 0?jye:l,u=n.formatToken,d=n.getComputedToken,f=n.cssVar,h=Lye(function(){return Object.assign.apply(Object,[{}].concat(Xt(e)))},e),p=kx(h),_=kx(c),x=f?kx(f):"",y=IF(rte,[s,t.id,p,_,x],function(){var w,C=d?d(h,c,t):Qye(h,c,t,u),M=Ie({},C),R="";if(f){var N=nte(C,f.key,{prefix:f.prefix,ignore:f.ignore,unitless:f.unitless,preserve:f.preserve}),I=ze(N,2);C=I[0],R=I[1]}var B=MV(C,s);C._tokenKey=B,M._tokenKey=MV(M,s);var D=(w=f==null?void 0:f.key)!==null&&w!==void 0?w:B;C._themeKey=D,Wye(D);var $="".concat(qye,"-").concat(N_(B));return C._hashId=$,[C,$,M,R,(f==null?void 0:f.key)||""]},function(w){Kye(w[0]._themeKey,i)},function(w){var C=ze(w,4),M=C[0],R=C[3];if(f&&R){var N=Qf(R,N_("css-variables-".concat(M._themeKey)),{mark:Qu,prepend:"queue",attachTo:o,priority:-999});N[Ep]=i,N.setAttribute(Qv,M._themeKey)}});return y}var Jye=function(e,n,r){var i=ze(e,5),o=i[2],a=i[3],s=i[4],l=r||{},c=l.plain;if(!a)return null;var u=o._tokenKey,d=-999,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)},h=bM(a,s,u,f,c);return[d,u,h]},e1e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ite="comm",ote="rule",ate="decl",t1e="@import",n1e="@namespace",r1e="@keyframes",i1e="@layer",ste=Math.abs,OF=String.fromCharCode;function lte(t){return t.trim()}function fE(t,e,n){return t.replace(e,n)}function o1e(t,e,n){return t.indexOf(e,n)}function Tv(t,e){return t.charCodeAt(e)|0}function Zv(t,e,n){return t.slice(e,n)}function Ud(t){return t.length}function a1e(t){return t.length}function Xw(t,e){return e.push(t),t}var $P=1,Jv=1,cte=0,au=0,aa=0,i1="";function DF(t,e,n,r,i,o,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:$P,column:Jv,length:a,return:"",siblings:s}}function s1e(){return aa}function l1e(){return aa=au>0?Tv(i1,--au):0,Jv--,aa===10&&(Jv=1,$P--),aa}function Zu(){return aa=au<cte?Tv(i1,au++):0,Jv++,aa===10&&(Jv=1,$P++),aa}function Mp(){return Tv(i1,au)}function hE(){return au}function kP(t,e){return Zv(i1,t,e)}function L_(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function c1e(t){return $P=Jv=1,cte=Ud(i1=t),au=0,[]}function u1e(t){return i1="",t}function tI(t){return lte(kP(au-1,m5(t===91?t+2:t===40?t+1:t)))}function d1e(t){for(;(aa=Mp())&&aa<33;)Zu();return L_(t)>2||L_(aa)>3?"":" "}function f1e(t,e){for(;--e&&Zu()&&!(aa<48||aa>102||aa>57&&aa<65||aa>70&&aa<97););return kP(t,hE()+(e<6&&Mp()==32&&Zu()==32))}function m5(t){for(;Zu();)switch(aa){case t:return au;case 34:case 39:t!==34&&t!==39&&m5(aa);break;case 40:t===41&&m5(t);break;case 92:Zu();break}return au}function h1e(t,e){for(;Zu()&&t+aa!==47+10;)if(t+aa===42+42&&Mp()===47)break;return"/*"+kP(e,au-1)+"*"+OF(t===47?t:Zu())}function p1e(t){for(;!L_(Mp());)Zu();return kP(t,au)}function m1e(t){return u1e(pE("",null,null,null,[""],t=c1e(t),0,[0],t))}function pE(t,e,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,f=0,h=0,p=0,_=1,x=1,y=1,w=0,C="",M=i,R=o,N=r,I=C;x;)switch(p=w,w=Zu()){case 40:if(p!=108&&Tv(I,d-1)==58){o1e(I+=fE(tI(w),"&","&\f"),"&\f",ste(c?s[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:I+=tI(w);break;case 9:case 10:case 13:case 32:I+=d1e(p);break;case 92:I+=f1e(hE()-1,7);continue;case 47:switch(Mp()){case 42:case 47:Xw(g1e(h1e(Zu(),hE()),e,n,l),l),(L_(p||1)==5||L_(Mp()||1)==5)&&Ud(I)&&Zv(I,-1,void 0)!==" "&&(I+=" ");break;default:I+="/"}break;case 123*_:s[c++]=Ud(I)*y;case 125*_:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+u:y==-1&&(I=fE(I,/\f/g,"")),h>0&&(Ud(I)-d||_===0&&p===47)&&Xw(h>32?IV(I+";",r,n,d-1,l):IV(fE(I," ","")+";",r,n,d-2,l),l);break;case 59:I+=";";default:if(Xw(N=NV(I,e,n,c,u,i,s,C,M=[],R=[],d,o),o),w===123)if(u===0)pE(I,e,N,N,M,o,d,s,R);else{switch(f){case 99:if(Tv(I,3)===110)break;case 108:if(Tv(I,2)===97)break;default:u=0;case 100:case 109:case 115:}u?pE(t,N,N,r&&Xw(NV(t,N,N,0,0,i,s,C,i,M=[],d,R),R),i,R,d,s,r?M:R):pE(I,N,N,N,[""],R,0,s,R)}}c=u=h=0,_=y=1,C=I="",d=a;break;case 58:d=1+Ud(I),h=p;default:if(_<1){if(w==123)--_;else if(w==125&&_++==0&&l1e()==125)continue}switch(I+=OF(w),w*_){case 38:y=u>0?1:(I+="\f",-1);break;case 44:s[c++]=(Ud(I)-1)*y,y=1;break;case 64:Mp()===45&&(I+=tI(Zu())),f=Mp(),u=d=Ud(C=I+=p1e(hE())),w++;break;case 45:p===45&&Ud(I)==2&&(_=0)}}return o}function NV(t,e,n,r,i,o,a,s,l,c,u,d){for(var f=i-1,h=i===0?o:[""],p=a1e(h),_=0,x=0,y=0;_<r;++_)for(var w=0,C=Zv(t,f+1,f=ste(x=a[_])),M=t;w<p;++w)(M=lte(x>0?h[w]+" "+C:fE(C,/&\f/g,h[w])))&&(l[y++]=M);return DF(t,e,n,i===0?ote:s,l,c,u,d)}function g1e(t,e,n,r){return DF(t,e,n,ite,OF(s1e()),Zv(t,2,-2),0,r)}function IV(t,e,n,r,i){return DF(t,e,n,ate,Zv(t,0,r),Zv(t,r+1,-1),r,i)}function g5(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function A1e(t,e,n,r){switch(t.type){case i1e:if(t.children.length)break;case t1e:case n1e:case ate:return t.return=t.return||t.value;case ite:return"";case r1e:return t.return=t.value+"{"+g5(t.children,r)+"}";case ote:if(!Ud(t.value=t.props.join(",")))return""}return Ud(n=g5(t.children,r))?t.return=t.value+"{"+n+"}":""}var OV="data-ant-cssinjs-cache-path",ute="_FILE_STYLE__",U0,dte=!0;function v1e(){if(!U0&&(U0={},ss())){var t=document.createElement("div");t.className=OV,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var o=i.split(":"),a=ze(o,2),s=a[0],l=a[1];U0[s]=l});var n=document.querySelector("style[".concat(OV,"]"));if(n){var r;dte=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function y1e(t){return v1e(),!!U0[t]}function b1e(t){var e=U0[t],n=null;if(e&&ss())if(dte)n=ute;else{var r=document.querySelector("style[".concat(Qu,'="').concat(U0[t],'"]'));r?n=r.innerHTML:delete U0[t]}return[n,e]}var x1e="_skip_check_",fte="_multi_value_";function mE(t){var e=g5(m1e(t),A1e);return e.replace(/\{%%%\:[^;];}/g,";")}function _1e(t){return Dn(t)==="object"&&t&&(x1e in t||fte in t)}function DV(t,e,n){if(!e)return t;var r=".".concat(e),i=n==="low"?":where(".concat(r,")"):r,o=t.split(",").map(function(a){var s,l=a.trim().split(/\s+/),c=l[0]||"",u=((s=c.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return c="".concat(u).concat(i).concat(c.slice(u.length)),[c].concat(Xt(l.slice(1))).join(" ")});return o.join(",")}var S1e=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,a=r.parentSelectors,s=n.hashId,l=n.layer;n.path;var c=n.hashPriority,u=n.transformers,d=u===void 0?[]:u;n.linters;var f="",h={};function p(y){var w=y.getName(s);if(!h[w]){var C=t(y.style,n,{root:!1,parentSelectors:a}),M=ze(C,1),R=M[0];h[w]="@keyframes ".concat(y.getName(s)).concat(R)}}function _(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return y.forEach(function(C){Array.isArray(C)?_(C,w):C&&w.push(C)}),w}var x=_(Array.isArray(e)?e:[e]);return x.forEach(function(y){var w=typeof y=="string"&&!i?{}:y;if(typeof w=="string")f+="".concat(w,`
`);else if(w._keyframe)p(w);else{var C=d.reduce(function(M,R){var N;return(R==null||(N=R.visit)===null||N===void 0?void 0:N.call(R,M))||M},w);Object.keys(C).forEach(function(M){var R=C[M];if(Dn(R)==="object"&&R&&(M!=="animationName"||!R._keyframe)&&!_1e(R)){var N=!1,I=M.trim(),B=!1;(i||o)&&s?I.startsWith("@")?N=!0:I==="&"?I=DV("",s,c):I=DV(M,s,c):i&&!s&&(I==="&"||I==="")&&(I="",B=!0);var D=t(R,n,{root:B,injectHash:N,parentSelectors:[].concat(Xt(a),[I])}),$=ze(D,2),z=$[0],V=$[1];h=Ie(Ie({},h),V),f+="".concat(I).concat(z)}else{let H=function(X,Y){var ee=X.replace(/[A-Z]/g,function(re){return"-".concat(re.toLowerCase())}),Z=Y;!e1e[X]&&typeof Z=="number"&&Z!==0&&(Z="".concat(Z,"px")),X==="animationName"&&Y!==null&&Y!==void 0&&Y._keyframe&&(p(Y),Z=Y.getName(s)),f+="".concat(ee,":").concat(Z,";")};var j=H,q,G=(q=R==null?void 0:R.value)!==null&&q!==void 0?q:R;Dn(R)==="object"&&R!==null&&R!==void 0&&R[fte]&&Array.isArray(G)?G.forEach(function(X){H(M,X)}):H(M,G)}})}}),i?l&&(f&&(f="@layer ".concat(l.name," {").concat(f,"}")),l.dependencies&&(h["@layer ".concat(l.name)]=l.dependencies.map(function(y){return"@layer ".concat(y,", ").concat(l.name,";")}).join(`
`))):f="{".concat(f,"}"),[f,h]};function hte(t,e){return N_("".concat(t.join("%")).concat(e))}function w1e(){return null}var pte="style";function A5(t,e){var n=t.token,r=t.path,i=t.hashId,o=t.layer,a=t.nonce,s=t.clientOnly,l=t.order,c=l===void 0?0:l,u=S.useContext(X2),d=u.autoClear;u.mock;var f=u.defaultCache,h=u.hashPriority,p=u.container,_=u.ssrInline,x=u.transformers,y=u.linters,w=u.cache,C=u.layer,M=n._tokenKey,R=[M];C&&R.push("layer"),R.push.apply(R,Xt(r));var N=p5,I=IF(pte,R,function(){var V=R.join("|");if(y1e(V)){var q=b1e(V),G=ze(q,2),j=G[0],H=G[1];if(j)return[j,M,H,{},s,c]}var X=e(),Y=S1e(X,{hashId:i,hashPriority:h,layer:C?o:void 0,path:r.join("-"),transformers:x,linters:y}),ee=ze(Y,2),Z=ee[0],re=ee[1],ae=mE(Z),ce=hte(R,ae);return[ae,M,ce,re,s,c]},function(V,q){var G=ze(V,3),j=G[2];(q||d)&&p5&&I_(j,{mark:Qu,attachTo:p})},function(V){var q=ze(V,4),G=q[0];q[1];var j=q[2],H=q[3];if(N&&G!==ute){var X={mark:Qu,prepend:C?!1:"queue",attachTo:p,priority:c},Y=typeof a=="function"?a():a;Y&&(X.csp={nonce:Y});var ee=[],Z=[];Object.keys(H).forEach(function(ae){ae.startsWith("@layer")?ee.push(ae):Z.push(ae)}),ee.forEach(function(ae){Qf(mE(H[ae]),"_layer-".concat(ae),Ie(Ie({},X),{},{prepend:!0}))});var re=Qf(G,j,X);re[Ep]=w.instanceId,re.setAttribute(Qv,M),Z.forEach(function(ae){Qf(mE(H[ae]),"_effect-".concat(ae),X)})}}),B=ze(I,3),D=B[0],$=B[1],z=B[2];return function(V){var q;return!_||N||!f?q=S.createElement(w1e,null):q=S.createElement("style",ft({},Re(Re({},Qv,$),Qu,z),{dangerouslySetInnerHTML:{__html:D}})),S.createElement(S.Fragment,null,q,V)}}var C1e=function(e,n,r){var i=ze(e,6),o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],d=r||{},f=d.plain;if(c)return null;var h=o,p={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return h=bM(o,a,s,p,f),l&&Object.keys(l).forEach(function(_){if(!n[_]){n[_]=!0;var x=mE(l[_]),y=bM(x,a,"_effect-".concat(_),p,f);_.startsWith("@layer")?h=y+h:h+=y}}),[u,s,h]},mte="cssVar",T1e=function(e,n){var r=e.key,i=e.prefix,o=e.unitless,a=e.ignore,s=e.token,l=e.scope,c=l===void 0?"":l,u=S.useContext(X2),d=u.cache.instanceId,f=u.container,h=s._tokenKey,p=[].concat(Xt(e.path),[r,c,h]),_=IF(mte,p,function(){var x=n(),y=nte(x,r,{prefix:i,unitless:o,ignore:a,scope:c}),w=ze(y,2),C=w[0],M=w[1],R=hte(p,M);return[C,M,R,r]},function(x){var y=ze(x,3),w=y[2];p5&&I_(w,{mark:Qu,attachTo:f})},function(x){var y=ze(x,3),w=y[1],C=y[2];if(w){var M=Qf(w,C,{mark:Qu,prepend:"queue",attachTo:f,priority:-999});M[Ep]=d,M.setAttribute(Qv,r)}});return _},E1e=function(e,n,r){var i=ze(e,4),o=i[1],a=i[2],s=i[3],l=r||{},c=l.plain;if(!o)return null;var u=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},f=bM(o,s,a,d,c);return[u,a,f]};Re(Re(Re({},pte,C1e),rte,Jye),mte,E1e);var Gr=function(){function t(e,n){Jo(this,t),Re(this,"name",void 0),Re(this,"style",void 0),Re(this,"_keyframe",!0),this.name=e,this.style=n}return ea(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function Yg(t){return t.notSplit=!0,t}Yg(["borderTop","borderBottom"]),Yg(["borderTop"]),Yg(["borderBottom"]),Yg(["borderLeft","borderRight"]),Yg(["borderLeft"]),Yg(["borderRight"]);var M1e=S.createContext({});const LF=M1e;function gte(t){return Kee(t)||qee(t)||MF(t)||Qee()}function Wc(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function Ate(t,e,n,r){if(!e.length)return n;var i=gte(e),o=i[0],a=i.slice(1),s;return!t&&typeof o=="number"?s=[]:Array.isArray(t)?s=Xt(t):s=Ie({},t),r&&n===void 0&&a.length===1?delete s[o][a[0]]:s[o]=Ate(s[o],a,n,r),s}function Vc(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Wc(t,e.slice(0,-1))?t:Ate(t,e,n,r)}function P1e(t){return Dn(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function LV(t){return Array.isArray(t)?[]:{}}var R1e=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function iv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=LV(e[0]);return e.forEach(function(i){function o(a,s){var l=new Set(s),c=Wc(i,a),u=Array.isArray(c);if(u||P1e(c)){if(!l.has(c)){l.add(c);var d=Wc(r,a);u?r=Vc(r,a,[]):(!d||Dn(d)!=="object")&&(r=Vc(r,a,LV(c))),R1e(c).forEach(function(f){o([].concat(Xt(a),[f]),l)})}}else r=Vc(r,a,c)}o([])}),r}function N1e(){}const I1e=S.createContext({}),UP=()=>{const t=()=>{};return t.deprecated=N1e,t},vte=S.createContext(void 0);var yte={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},O1e={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},D1e=Ie(Ie({},O1e),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const L1e={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},bte=L1e,B1e={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},D1e),timePickerLocale:Object.assign({},bte)},_M=B1e,Hl="${label} is not a valid ${type}",F1e={locale:"en",Pagination:yte,DatePicker:_M,TimePicker:bte,Calendar:_M,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Hl,method:Hl,array:Hl,object:Hl,number:Hl,date:Hl,boolean:Hl,integer:Hl,float:Hl,regexp:Hl,email:Hl,url:Hl,hex:Hl},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}},ff=F1e;let gE=Object.assign({},ff.Modal),AE=[];const BV=()=>AE.reduce((t,e)=>Object.assign(Object.assign({},t),e),ff.Modal);function $1e(t){if(t){const e=Object.assign({},t);return AE.push(e),gE=BV(),()=>{AE=AE.filter(n=>n!==e),gE=BV()}}gE=Object.assign({},ff.Modal)}function xte(){return gE}const k1e=S.createContext(void 0),BF=k1e,U1e=(t,e)=>{const n=S.useContext(BF),r=S.useMemo(()=>{var o;const a=e||ff[t],s=(o=n==null?void 0:n[t])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof a=="function"?a():a),s||{})},[t,e,n]),i=S.useMemo(()=>{const o=n==null?void 0:n.locale;return n!=null&&n.exist&&!o?ff.locale:o},[n]);return[r,i]},xc=U1e,z1e="internalMark",V1e=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;S.useEffect(()=>$1e(e==null?void 0:e.Modal),[e]);const i=S.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return S.createElement(BF.Provider,{value:i},n)},G1e=V1e,_te={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},H1e=Object.assign(Object.assign({},_te),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),B_=H1e,Ca=Math.round;function nI(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=e(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const FV=(t,e,n)=>n===0?t:t/100;function mb(t,e){const n=e||255;return t>n?n:t<0?0:t}class gi{constructor(e){Re(this,"isValid",!0),Re(this,"r",0),Re(this,"g",0),Re(this,"b",0),Re(this,"a",1),Re(this,"_h",void 0),Re(this,"_s",void 0),Re(this,"_l",void 0),Re(this,"_v",void 0),Re(this,"_max",void 0),Re(this,"_min",void 0),Re(this,"_brightness",void 0);function n(i){return i[0]in e&&i[1]in e&&i[2]in e}if(e)if(typeof e=="string"){let o=function(a){return i.startsWith(a)};var r=o;const i=e.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):o("rgb")?this.fromRgbString(i):o("hsl")?this.fromHslString(i):(o("hsv")||o("hsb"))&&this.fromHsvString(i)}else if(e instanceof gi)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=mb(e.r),this.g=mb(e.g),this.b=mb(e.b),this.a=typeof e.a=="number"?mb(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(o){const a=o/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),i=e(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Ca(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(e,n=50){const r=this._c(e),i=n/100,o=s=>(r[s]-this[s])*i+this[s],a={r:Ca(o("r")),g:Ca(o("g")),b:Ca(o("b")),a:Ca(o("a")*100)/100};return this._c(a)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),i=o=>Ca((this[o]*this.a+n[o]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=Ca(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=Ca(this.getSaturation()*100),r=Ca(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const i=this.clone();return i[e]=mb(n,r),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(i,o){return parseInt(n[i]+n[o||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:i}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const f=Ca(r*255);this.r=f,this.g=f,this.b=f}let o=0,a=0,s=0;const l=e/60,c=(1-Math.abs(2*r-1))*n,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(o=c,a=u):l>=1&&l<2?(o=u,a=c):l>=2&&l<3?(a=c,s=u):l>=3&&l<4?(a=u,s=c):l>=4&&l<5?(o=u,s=c):l>=5&&l<6&&(o=c,s=u);const d=r-c/2;this.r=Ca((o+d)*255),this.g=Ca((a+d)*255),this.b=Ca((s+d)*255)}fromHsv({h:e,s:n,v:r,a:i}){this._h=e%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const o=Ca(r*255);if(this.r=o,this.g=o,this.b=o,n<=0)return;const a=e/60,s=Math.floor(a),l=a-s,c=Ca(r*(1-n)*255),u=Ca(r*(1-n*l)*255),d=Ca(r*(1-n*(1-l))*255);switch(s){case 0:this.g=d,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=u;break;case 4:this.r=d,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(e){const n=nI(e,FV);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=nI(e,FV);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=nI(e,(r,i)=>i.includes("%")?Ca(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var Yw=2,$V=.16,j1e=.05,q1e=.05,W1e=.15,Ste=5,wte=4,X1e=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function kV(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Yw*e:Math.round(t.h)+Yw*e:r=n?Math.round(t.h)+Yw*e:Math.round(t.h)-Yw*e,r<0?r+=360:r>=360&&(r-=360),r}function UV(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-$V*e:e===wte?r=t.s+$V:r=t.s+j1e*e,r>1&&(r=1),n&&e===Ste&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function zV(t,e,n){var r;return n?r=t.v+q1e*e:r=t.v-W1e*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function F_(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new gi(t),i=r.toHsv(),o=Ste;o>0;o-=1){var a=new gi({h:kV(i,o,!0),s:UV(i,o,!0),v:zV(i,o,!0)});n.push(a)}n.push(r);for(var s=1;s<=wte;s+=1){var l=new gi({h:kV(i,s),s:UV(i,s),v:zV(i,s)});n.push(l)}return e.theme==="dark"?X1e.map(function(c){var u=c.index,d=c.amount;return new gi(e.backgroundColor||"#141414").mix(n[u],d).toHexString()}):n.map(function(c){return c.toHexString()})}var Ev={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},v5=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];v5.primary=v5[5];var y5=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];y5.primary=y5[5];var b5=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];b5.primary=b5[5];var SM=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];SM.primary=SM[5];var x5=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];x5.primary=x5[5];var _5=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];_5.primary=_5[5];var S5=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];S5.primary=S5[5];var w5=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];w5.primary=w5[5];var wM=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];wM.primary=wM[5];var C5=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];C5.primary=C5[5];var T5=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];T5.primary=T5[5];var E5=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];E5.primary=E5[5];var M5=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];M5.primary=M5[5];var rI={red:v5,volcano:y5,orange:b5,gold:SM,yellow:x5,lime:_5,green:S5,cyan:w5,blue:wM,geekblue:C5,purple:T5,magenta:E5,grey:M5};function Y1e(t,{generateColorPalettes:e,generateNeutralColorPalettes:n}){const{colorSuccess:r,colorWarning:i,colorError:o,colorInfo:a,colorPrimary:s,colorBgBase:l,colorTextBase:c}=t,u=e(s),d=e(r),f=e(i),h=e(o),p=e(a),_=n(l,c),x=t.colorLink||t.colorInfo,y=e(x),w=new gi(h[1]).mix(new gi(h[3]),50).toHexString();return Object.assign(Object.assign({},_),{colorPrimaryBg:u[1],colorPrimaryBgHover:u[2],colorPrimaryBorder:u[3],colorPrimaryBorderHover:u[4],colorPrimaryHover:u[5],colorPrimary:u[6],colorPrimaryActive:u[7],colorPrimaryTextHover:u[8],colorPrimaryText:u[9],colorPrimaryTextActive:u[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:h[1],colorErrorBgHover:h[2],colorErrorBgFilledHover:w,colorErrorBgActive:h[3],colorErrorBorder:h[3],colorErrorBorderHover:h[4],colorErrorHover:h[5],colorError:h[6],colorErrorActive:h[7],colorErrorTextHover:h[8],colorErrorText:h[9],colorErrorTextActive:h[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:p[1],colorInfoBgHover:p[2],colorInfoBorder:p[3],colorInfoBorderHover:p[4],colorInfoHover:p[4],colorInfo:p[6],colorInfoActive:p[7],colorInfoTextHover:p[8],colorInfoText:p[9],colorInfoTextActive:p[10],colorLinkHover:y[4],colorLink:y[6],colorLinkActive:y[7],colorBgMask:new gi("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const K1e=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}},Q1e=K1e;function Z1e(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},Q1e(r))}const J1e=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},ebe=J1e;function vE(t){return(t+8)/t}function tbe(t){const e=Array.from({length:10}).map((n,r)=>{const i=r-1,o=t*Math.pow(Math.E,i/5),a=r>1?Math.floor(o):Math.ceil(o);return Math.floor(a/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:vE(n)}))}const nbe=t=>{const e=tbe(t),n=e.map(u=>u.size),r=e.map(u=>u.lineHeight),i=n[1],o=n[0],a=n[2],s=r[1],l=r[0],c=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:a,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:s,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(s*i),fontHeightLG:Math.round(c*a),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}},rbe=nbe;function ibe(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const Nc=(t,e)=>new gi(t).setA(e).toRgbString(),gb=(t,e)=>new gi(t).darken(e).toHexString(),obe=t=>{const e=F_(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},abe=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Nc(r,.88),colorTextSecondary:Nc(r,.65),colorTextTertiary:Nc(r,.45),colorTextQuaternary:Nc(r,.25),colorFill:Nc(r,.15),colorFillSecondary:Nc(r,.06),colorFillTertiary:Nc(r,.04),colorFillQuaternary:Nc(r,.02),colorBgSolid:Nc(r,1),colorBgSolidHover:Nc(r,.75),colorBgSolidActive:Nc(r,.95),colorBgLayout:gb(n,4),colorBgContainer:gb(n,0),colorBgElevated:gb(n,0),colorBgSpotlight:Nc(r,.85),colorBgBlur:"transparent",colorBorder:gb(n,15),colorBorderSecondary:gb(n,6)}};function sbe(t){Ev.pink=Ev.magenta,rI.pink=rI.magenta;const e=Object.keys(_te).map(n=>{const r=t[n]===Ev[n]?rI[n]:F_(t[n]);return Array.from({length:10},()=>1).reduce((i,o,a)=>(i[`${n}-${a+1}`]=r[a],i[`${n}${a+1}`]=r[a],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),Y1e(t,{generateColorPalettes:obe,generateNeutralColorPalettes:abe})),rbe(t.fontSize)),ibe(t)),ebe(t)),Z1e(t))}const lbe=h5(sbe),Cte=lbe,P5={token:B_,override:{override:B_},hashed:!0},Tte=Ye.createContext(P5),$_="ant",zP="anticon",cbe=["outlined","borderless","filled","underlined"],ube=(t,e)=>e||(t?`${$_}-${t}`:$_),ir=S.createContext({getPrefixCls:ube,iconPrefixCls:zP}),VV={};function Fa(t){const e=S.useContext(ir),{getPrefixCls:n,direction:r,getPopupContainer:i}=e,o=e[t];return Object.assign(Object.assign({classNames:VV,styles:VV},o),{getPrefixCls:n,direction:r,getPopupContainer:i})}const dbe=`-ant-${Date.now()}-${Math.random()}`;function fbe(t,e){const n={},r=(a,s)=>{let l=a.clone();return l=(s==null?void 0:s(l))||l,l.toRgbString()},i=(a,s)=>{const l=new gi(a),c=F_(l.toRgbString());n[`${s}-color`]=r(l),n[`${s}-color-disabled`]=c[1],n[`${s}-color-hover`]=c[4],n[`${s}-color-active`]=c[6],n[`${s}-color-outline`]=l.clone().setA(.2).toRgbString(),n[`${s}-color-deprecated-bg`]=c[0],n[`${s}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const a=new gi(e.primaryColor),s=F_(a.toRgbString());s.forEach((c,u)=>{n[`primary-${u+1}`]=c}),n["primary-color-deprecated-l-35"]=r(a,c=>c.lighten(35)),n["primary-color-deprecated-l-20"]=r(a,c=>c.lighten(20)),n["primary-color-deprecated-t-20"]=r(a,c=>c.tint(20)),n["primary-color-deprecated-t-50"]=r(a,c=>c.tint(50)),n["primary-color-deprecated-f-12"]=r(a,c=>c.setA(c.a*.12));const l=new gi(s[0]);n["primary-color-active-deprecated-f-30"]=r(l,c=>c.setA(c.a*.3)),n["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(a=>`--${t}-${a}: ${n[a]};`).join(`
`)}
  }
  `.trim()}function hbe(t,e){const n=fbe(t,e);ss()&&Qf(n,`${dbe}-dynamic-theme`)}const R5=S.createContext(!1),FF=({children:t,disabled:e})=>{const n=S.useContext(R5);return S.createElement(R5.Provider,{value:e??n},t)},wh=R5,N5=S.createContext(void 0),pbe=({children:t,size:e})=>{const n=S.useContext(N5);return S.createElement(N5.Provider,{value:e||n},t)},Y2=N5;function mbe(){const t=S.useContext(wh),e=S.useContext(Y2);return{componentDisabled:t,componentSize:e}}var Ete=ea(function t(){Jo(this,t)}),Mte="CALC_UNIT",gbe=new RegExp(Mte,"g");function iI(t){return typeof t=="number"?"".concat(t).concat(Mte):t}var Abe=function(t){_h(n,t);var e=Sh(n);function n(r,i){var o;Jo(this,n),o=e.call(this),Re(jr(o),"result",""),Re(jr(o),"unitlessCssVar",void 0),Re(jr(o),"lowPriority",void 0);var a=Dn(r);return o.unitlessCssVar=i,r instanceof n?o.result="(".concat(r.result,")"):a==="number"?o.result=iI(r):a==="string"&&(o.result=r),o}return ea(n,[{key:"add",value:function(i){return i instanceof n?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(iI(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof n?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(iI(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var o=this,a=i||{},s=a.unit,l=!0;return typeof s=="boolean"?l=s:Array.from(this.unitlessCssVar).some(function(c){return o.result.includes(c)})&&(l=!1),this.result=this.result.replace(gbe,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(Ete),vbe=function(t){_h(n,t);var e=Sh(n);function n(r){var i;return Jo(this,n),i=e.call(this),Re(jr(i),"result",0),r instanceof n?i.result=r.result:typeof r=="number"&&(i.result=r),i}return ea(n,[{key:"add",value:function(i){return i instanceof n?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof n?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof n?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof n?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),n}(Ete),ybe=function(e,n){var r=e==="css"?Abe:vbe;return function(i){return new r(i,n)}},GV=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Xr(t){var e=S.useRef();e.current=t;var n=S.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n}function J0(t){var e=S.useRef(!1),n=S.useState(t),r=ze(n,2),i=r[0],o=r[1];S.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function a(s,l){l&&e.current||o(s)}return[i,a]}function oI(t){return t!==void 0}function Ui(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=J0(function(){return oI(i)?i:oI(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=ze(s,2),c=l[0],u=l[1],d=i!==void 0?i:c,f=a?a(d):d,h=Xr(o),p=J0([d]),_=ze(p,2),x=_[0],y=_[1];xM(function(){var C=x[0];c!==C&&h(c,C)},[x]),xM(function(){oI(i)||u(i)},[i]);var w=Xr(function(C,M){u(C,M),y([d],M)});return[f,w]}function HV(t,e,n,r){var i=Ie({},e[t]);if(r!=null&&r.deprecatedTokens){var o=r.deprecatedTokens;o.forEach(function(s){var l=ze(s,2),c=l[0],u=l[1];if(i!=null&&i[c]||i!=null&&i[u]){var d;(d=i[u])!==null&&d!==void 0||(i[u]=i==null?void 0:i[c])}})}var a=Ie(Ie({},n),i);return Object.keys(a).forEach(function(s){a[s]===e[s]&&delete a[s]}),a}var Pte=typeof CSSINJS_STATISTIC<"u",I5=!0;function Yr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!Pte)return Object.assign.apply(Object,[{}].concat(e));I5=!1;var r={};return e.forEach(function(i){if(Dn(i)==="object"){var o=Object.keys(i);o.forEach(function(a){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return i[a]}})})}}),I5=!0,r}var jV={};function bbe(){}var xbe=function(e){var n,r=e,i=bbe;return Pte&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(a,s){if(I5){var l;(l=n)===null||l===void 0||l.add(s)}return a[s]}}),i=function(a,s){var l;jV[a]={global:Array.from(n),component:Ie(Ie({},(l=jV[a])===null||l===void 0?void 0:l.component),s)}}),{token:r,keys:n,flush:i}};function qV(t,e,n){if(typeof n=="function"){var r;return n(Yr(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function _be(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"max(".concat(r.map(function(o){return ke(o)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"min(".concat(r.map(function(o){return ke(o)}).join(","),")")}}}var Sbe=1e3*60*10,wbe=function(){function t(){Jo(this,t),Re(this,"map",new Map),Re(this,"objectIDMap",new WeakMap),Re(this,"nextID",0),Re(this,"lastAccessBeat",new Map),Re(this,"accessBeat",0)}return ea(t,[{key:"set",value:function(n,r){this.clear();var i=this.getCompositeKey(n);this.map.set(i,r),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),i=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(n){var r=this,i=n.map(function(o){return o&&Dn(o)==="object"?"obj_".concat(r.getObjectID(o)):"".concat(Dn(o),"_").concat(o)});return i.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(i,o){r-i>Sbe&&(n.map.delete(o),n.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),t}(),WV=new wbe;function Cbe(t,e){return Ye.useMemo(function(){var n=WV.get(e);if(n)return n;var r=t();return WV.set(e,r),r},e)}var Tbe=function(){return{}};function Ebe(t){var e=t.useCSP,n=e===void 0?Tbe:e,r=t.useToken,i=t.usePrefix,o=t.getResetStyles,a=t.getCommonStyle,s=t.getCompUnitless;function l(f,h,p,_){var x=Array.isArray(f)?f[0]:f;function y(B){return"".concat(String(x)).concat(B.slice(0,1).toUpperCase()).concat(B.slice(1))}var w=(_==null?void 0:_.unitless)||{},C=typeof s=="function"?s(f):{},M=Ie(Ie({},C),{},Re({},y("zIndexPopup"),!0));Object.keys(w).forEach(function(B){M[y(B)]=w[B]});var R=Ie(Ie({},_),{},{unitless:M,prefixToken:y}),N=u(f,h,p,R),I=c(x,p,R);return function(B){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B,$=N(B,D),z=ze($,2),V=z[1],q=I(D),G=ze(q,2),j=G[0],H=G[1];return[j,V,H]}}function c(f,h,p){var _=p.unitless,x=p.injectStyle,y=x===void 0?!0:x,w=p.prefixToken,C=p.ignore,M=function(I){var B=I.rootCls,D=I.cssVar,$=D===void 0?{}:D,z=r(),V=z.realToken;return T1e({path:[f],prefix:$.prefix,key:$.key,unitless:_,ignore:C,token:V,scope:B},function(){var q=qV(f,V,h),G=HV(f,V,q,{deprecatedTokens:p==null?void 0:p.deprecatedTokens});return Object.keys(q).forEach(function(j){G[w(j)]=G[j],delete G[j]}),G}),null},R=function(I){var B=r(),D=B.cssVar;return[function($){return y&&D?Ye.createElement(Ye.Fragment,null,Ye.createElement(M,{rootCls:I,cssVar:D,component:f}),$):$},D==null?void 0:D.key]};return R}function u(f,h,p){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},x=Array.isArray(f)?f:[f,f],y=ze(x,1),w=y[0],C=x.join("-"),M=t.layer||{name:"antd"};return function(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R,I=r(),B=I.theme,D=I.realToken,$=I.hashId,z=I.token,V=I.cssVar,q=i(),G=q.rootPrefixCls,j=q.iconPrefixCls,H=n(),X=V?"css":"js",Y=Cbe(function(){var he=new Set;return V&&Object.keys(_.unitless||{}).forEach(function(ge){he.add(dE(ge,V.prefix)),he.add(dE(ge,GV(w,V.prefix)))}),ybe(X,he)},[X,w,V==null?void 0:V.prefix]),ee=_be(X),Z=ee.max,re=ee.min,ae={theme:B,token:z,hashId:$,nonce:function(){return H.nonce},clientOnly:_.clientOnly,layer:M,order:_.order||-999};typeof o=="function"&&A5(Ie(Ie({},ae),{},{clientOnly:!1,path:["Shared",G]}),function(){return o(z,{prefix:{rootPrefixCls:G,iconPrefixCls:j},csp:H})});var ce=A5(Ie(Ie({},ae),{},{path:[C,R,j]}),function(){if(_.injectStyle===!1)return[];var he=xbe(z),ge=he.token,se=he.flush,me=qV(w,D,p),ye=".".concat(R),we=HV(w,D,me,{deprecatedTokens:_.deprecatedTokens});V&&me&&Dn(me)==="object"&&Object.keys(me).forEach(function(Ue){me[Ue]="var(".concat(dE(Ue,GV(w,V.prefix)),")")});var Ee=Yr(ge,{componentCls:ye,prefixCls:R,iconCls:".".concat(j),antCls:".".concat(G),calc:Y,max:Z,min:re},V?me:we),Me=h(Ee,{hashId:$,prefixCls:R,rootPrefixCls:G,iconPrefixCls:j});se(w,we);var Oe=typeof a=="function"?a(Ee,R,N,_.resetFont):null;return[_.resetStyle===!1?null:Oe,Me]});return[ce,$]}}function d(f,h,p){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},x=u(f,h,p,Ie({resetStyle:!1,order:-998},_)),y=function(C){var M=C.prefixCls,R=C.rootCls,N=R===void 0?M:R;return x(M,N),null};return y}return{genStyleHooks:l,genSubStyleComponent:d,genComponentStyleHook:u}}const em=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],Mbe="5.29.3";function aI(t){return t>=0&&t<=255}function ux(t,e){const{r:n,g:r,b:i,a:o}=new gi(t).toRgb();if(o<1)return t;const{r:a,g:s,b:l}=new gi(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((n-a*(1-c))/c),d=Math.round((r-s*(1-c))/c),f=Math.round((i-l*(1-c))/c);if(aI(u)&&aI(d)&&aI(f))return new gi({r:u,g:d,b:f,a:Math.round(c*100)/100}).toRgbString()}return new gi({r:n,g:r,b:i,a:1}).toRgbString()}var Pbe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Rte(t){const{override:e}=t,n=Pbe(t,["override"]),r=Object.assign({},e);Object.keys(B_).forEach(f=>{delete r[f]});const i=Object.assign(Object.assign({},n),r),o=480,a=576,s=768,l=992,c=1200,u=1600;if(i.motion===!1){const f="0s";i.motionDurationFast=f,i.motionDurationMid=f,i.motionDurationSlow=f}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:ux(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:ux(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:ux(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*3,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:ux(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:a-1,screenSM:a,screenSMMin:a,screenSMMax:s-1,screenMD:s,screenMDMin:s,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new gi("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new gi("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new gi("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var XV=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Nte={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},Rbe={motionBase:!0,motionUnit:!0},Nbe={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},Ite=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:i}=e,o=XV(e,["override"]);let a=Object.assign(Object.assign({},r),{override:i});return a=Rte(a),o&&Object.entries(o).forEach(([s,l])=>{const{theme:c}=l,u=XV(l,["theme"]);let d=u;c&&(d=Ite(Object.assign(Object.assign({},a),u),{override:u},c)),a[s]=d}),a};function Ul(){const{token:t,hashed:e,theme:n,override:r,cssVar:i}=Ye.useContext(Tte),o=`${Mbe}-${e||""}`,a=n||Cte,[s,l,c]=Zye(a,[B_,t],{salt:o,override:r,getComputedToken:Ite,formatToken:Rte,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:Nte,ignore:Rbe,preserve:Nbe}});return[a,c,e?l:"",s,i]}const tm={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ho=(t,e=!1)=>({boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}),VP=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),K2=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Ibe=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),Obe=(t,e,n,r)=>{const i=`[class^="${e}"], [class*=" ${e}"]`,o=n?`.${n}`:i,a={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return r!==!1&&(s={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},s),a),{[i]:a})}},ey=(t,e)=>({outline:`${ke(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),eg=(t,e)=>({"&:focus-visible":ey(t,e)}),Ote=t=>({[`.${t}`]:Object.assign(Object.assign({},VP()),{[`.${t} .${t}-icon`]:{display:"block"}})}),Dte=t=>Object.assign(Object.assign({color:t.colorLink,textDecoration:t.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},eg(t)),{"&:hover":{color:t.colorLinkHover,textDecoration:t.linkHoverDecoration},"&:focus":{color:t.colorLinkHover,textDecoration:t.linkFocusDecoration},"&:active":{color:t.colorLinkActive,textDecoration:t.linkHoverDecoration}}),{genStyleHooks:Ti,genComponentStyleHook:Dbe,genSubStyleComponent:o1}=Ebe({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=S.useContext(ir);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,i]=Ul();return{theme:t,realToken:e,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:t}=S.useContext(ir);return t??{}},getResetStyles:(t,e)=>{var n;const r=Ibe(t);return[r,{"&":r},Ote((n=e==null?void 0:e.prefix.iconPrefixCls)!==null&&n!==void 0?n:zP)]},getCommonStyle:Obe,getCompUnitless:()=>Nte});function GP(t,e){return em.reduce((n,r)=>{const i=t[`${r}1`],o=t[`${r}3`],a=t[`${r}6`],s=t[`${r}7`];return Object.assign(Object.assign({},n),e(r,{lightColor:i,lightBorderColor:o,darkColor:a,textColor:s}))},{})}const Lbe=(t,e)=>{const[n,r]=Ul();return A5({theme:n,token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>Ote(t))},Bbe=Lbe,Fbe=Object.assign({},uP),{useId:YV}=Fbe,$be=()=>"",kbe=typeof YV>"u"?$be:YV,Ube=kbe;function zbe(t,e,n){var r;UP();const i=t||{},o=i.inherit===!1||!e?Object.assign(Object.assign({},P5),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:P5.hashed,cssVar:e==null?void 0:e.cssVar}):e,a=Ube();return W2(()=>{var s,l;if(!t)return e;const c=Object.assign({},o.components);Object.keys(t.components||{}).forEach(f=>{c[f]=Object.assign(Object.assign({},c[f]),t.components[f])});const u=`css-var-${a.replace(/:/g,"")}`,d=((s=i.cssVar)!==null&&s!==void 0?s:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((l=i.cssVar)===null||l===void 0?void 0:l.key)||u});return Object.assign(Object.assign(Object.assign({},o),i),{token:Object.assign(Object.assign({},o.token),i.token),components:c,cssVar:d})},[i,o],(s,l)=>s.some((c,u)=>{const d=l[u];return!D_(c,d,!0)}))}var Vbe=["children"],Lte=S.createContext({});function Gbe(t){var e=t.children,n=pr(t,Vbe);return S.createElement(Lte.Provider,{value:n},e)}var Hbe=function(t){_h(n,t);var e=Sh(n);function n(){return Jo(this,n),e.apply(this,arguments)}return ea(n,[{key:"render",value:function(){return this.props.children}}]),n}(S.Component);function jbe(t){var e=S.useReducer(function(s){return s+1},0),n=ze(e,2),r=n[1],i=S.useRef(t),o=Xr(function(){return i.current}),a=Xr(function(s){i.current=typeof s=="function"?s(i.current):s,r()});return[o,a]}var up="none",Kw="appear",Qw="enter",Zw="leave",KV="none",$u="prepare",ov="start",av="active",$F="end",Bte="prepared";function QV(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function qbe(t,e){var n={animationend:QV("Animation","AnimationEnd"),transitionend:QV("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var Wbe=qbe(ss(),typeof window<"u"?window:{}),Fte={};if(ss()){var Xbe=document.createElement("div");Fte=Xbe.style}var Jw={};function $te(t){if(Jw[t])return Jw[t];var e=Wbe[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in Fte)return Jw[t]=e[o],Jw[t]}return""}var kte=$te("animationend"),Ute=$te("transitionend"),zte=!!(kte&&Ute),ZV=kte||"animationend",JV=Ute||"transitionend";function eG(t,e){if(!t)return null;if(Dn(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const Ybe=function(t){var e=S.useRef();function n(i){i&&(i.removeEventListener(JV,t),i.removeEventListener(ZV,t))}function r(i){e.current&&e.current!==i&&n(e.current),i&&i!==e.current&&(i.addEventListener(JV,t),i.addEventListener(ZV,t),e.current=i)}return S.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var Vte=ss()?S.useLayoutEffect:S.useEffect;const Kbe=function(){var t=S.useRef(null);function e(){qr.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=qr(function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)});t.current=o}return S.useEffect(function(){return function(){e()}},[]),[n,e]};var Qbe=[$u,ov,av,$F],Zbe=[$u,Bte],Gte=!1,Jbe=!0;function Hte(t){return t===av||t===$F}const exe=function(t,e,n){var r=J0(KV),i=ze(r,2),o=i[0],a=i[1],s=Kbe(),l=ze(s,2),c=l[0],u=l[1];function d(){a($u,!0)}var f=e?Zbe:Qbe;return Vte(function(){if(o!==KV&&o!==$F){var h=f.indexOf(o),p=f[h+1],_=n(o);_===Gte?a(p,!0):p&&c(function(x){function y(){x.isCanceled()||a(p,!0)}_===!0?y():Promise.resolve(_).then(y)})}},[t,o]),S.useEffect(function(){return function(){u()}},[]),[d,o]};function txe(t,e,n,r){var i=r.motionEnter,o=i===void 0?!0:i,a=r.motionAppear,s=a===void 0?!0:a,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,d=r.motionLeaveImmediately,f=r.onAppearPrepare,h=r.onEnterPrepare,p=r.onLeavePrepare,_=r.onAppearStart,x=r.onEnterStart,y=r.onLeaveStart,w=r.onAppearActive,C=r.onEnterActive,M=r.onLeaveActive,R=r.onAppearEnd,N=r.onEnterEnd,I=r.onLeaveEnd,B=r.onVisibleChanged,D=J0(),$=ze(D,2),z=$[0],V=$[1],q=jbe(up),G=ze(q,2),j=G[0],H=G[1],X=J0(null),Y=ze(X,2),ee=Y[0],Z=Y[1],re=j(),ae=S.useRef(!1),ce=S.useRef(null);function he(){return n()}var ge=S.useRef(!1);function se(){H(up),Z(null,!0)}var me=Xr(function(ct){var Ze=j();if(Ze!==up){var pe=he();if(!(ct&&!ct.deadline&&ct.target!==pe)){var te=ge.current,Ne;Ze===Kw&&te?Ne=R==null?void 0:R(pe,ct):Ze===Qw&&te?Ne=N==null?void 0:N(pe,ct):Ze===Zw&&te&&(Ne=I==null?void 0:I(pe,ct)),te&&Ne!==!1&&se()}}}),ye=Ybe(me),we=ze(ye,1),Ee=we[0],Me=function(Ze){switch(Ze){case Kw:return Re(Re(Re({},$u,f),ov,_),av,w);case Qw:return Re(Re(Re({},$u,h),ov,x),av,C);case Zw:return Re(Re(Re({},$u,p),ov,y),av,M);default:return{}}},Oe=S.useMemo(function(){return Me(re)},[re]),Ue=exe(re,!t,function(ct){if(ct===$u){var Ze=Oe[$u];return Ze?Ze(he()):Gte}if(ve in Oe){var pe;Z(((pe=Oe[ve])===null||pe===void 0?void 0:pe.call(Oe,he(),null))||null)}return ve===av&&re!==up&&(Ee(he()),u>0&&(clearTimeout(ce.current),ce.current=setTimeout(function(){me({deadline:!0})},u))),ve===Bte&&se(),Jbe}),Se=ze(Ue,2),_e=Se[0],ve=Se[1],Ge=Hte(ve);ge.current=Ge;var ue=S.useRef(null);Vte(function(){if(!(ae.current&&ue.current===e)){V(e);var ct=ae.current;ae.current=!0;var Ze;!ct&&e&&s&&(Ze=Kw),ct&&e&&o&&(Ze=Qw),(ct&&!e&&c||!ct&&d&&!e&&c)&&(Ze=Zw);var pe=Me(Ze);Ze&&(t||pe[$u])?(H(Ze),_e()):H(up),ue.current=e}},[e]),S.useEffect(function(){(re===Kw&&!s||re===Qw&&!o||re===Zw&&!c)&&H(up)},[s,o,c]),S.useEffect(function(){return function(){ae.current=!1,clearTimeout(ce.current)}},[]);var at=S.useRef(!1);S.useEffect(function(){z&&(at.current=!0),z!==void 0&&re===up&&((at.current||z)&&(B==null||B(z)),at.current=!0)},[z,re]);var nt=ee;return Oe[$u]&&ve===ov&&(nt=Ie({transition:"none"},nt)),[re,ve,nt,z??e]}function nxe(t){var e=t;Dn(t)==="object"&&(e=t.transitionSupport);function n(i,o){return!!(i.motionName&&e&&o!==!1)}var r=S.forwardRef(function(i,o){var a=i.visible,s=a===void 0?!0:a,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,d=i.children,f=i.motionName,h=i.leavedClassName,p=i.eventProps,_=S.useContext(Lte),x=_.motion,y=n(i,x),w=S.useRef(),C=S.useRef();function M(){try{return w.current instanceof HTMLElement?w.current:uE(C.current)}catch{return null}}var R=txe(y,s,M,i),N=ze(R,4),I=N[0],B=N[1],D=N[2],$=N[3],z=S.useRef($);$&&(z.current=!0);var V=S.useCallback(function(Y){w.current=Y,TF(o,Y)},[o]),q,G=Ie(Ie({},p),{},{visible:s});if(!d)q=null;else if(I===up)$?q=d(Ie({},G),V):!c&&z.current&&h?q=d(Ie(Ie({},G),{},{className:h}),V):u||!c&&!h?q=d(Ie(Ie({},G),{},{style:{display:"none"}}),V):q=null;else{var j;B===$u?j="prepare":Hte(B)?j="active":B===ov&&(j="start");var H=eG(f,"".concat(I,"-").concat(j));q=d(Ie(Ie({},G),{},{className:je(eG(f,I),Re(Re({},H,H&&j),f,typeof f=="string")),style:D}),V)}if(S.isValidElement(q)&&gm(q)){var X=Sg(q);X||(q=S.cloneElement(q,{ref:V}))}return S.createElement(Hbe,{ref:C},q)});return r.displayName="CSSMotion",r}const dd=nxe(zte);var O5="add",D5="keep",L5="remove",sI="removed";function rxe(t){var e;return t&&Dn(t)==="object"&&"key"in t?e=t:e={key:t},Ie(Ie({},e),{},{key:String(e.key)})}function B5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(rxe)}function ixe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,o=B5(t),a=B5(e);o.forEach(function(c){for(var u=!1,d=r;d<i;d+=1){var f=a[d];if(f.key===c.key){r<d&&(n=n.concat(a.slice(r,d).map(function(h){return Ie(Ie({},h),{},{status:O5})})),r=d),n.push(Ie(Ie({},f),{},{status:D5})),r+=1,u=!0;break}}u||n.push(Ie(Ie({},c),{},{status:L5}))}),r<i&&(n=n.concat(a.slice(r).map(function(c){return Ie(Ie({},c),{},{status:O5})})));var s={};n.forEach(function(c){var u=c.key;s[u]=(s[u]||0)+1});var l=Object.keys(s).filter(function(c){return s[c]>1});return l.forEach(function(c){n=n.filter(function(u){var d=u.key,f=u.status;return d!==c||f!==L5}),n.forEach(function(u){u.key===c&&(u.status=D5)})}),n}var oxe=["component","children","onVisibleChanged","onAllRemoved"],axe=["status"],sxe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function lxe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dd,n=function(r){_h(o,r);var i=Sh(o);function o(){var a;Jo(this,o);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=i.call.apply(i,[this].concat(l)),Re(jr(a),"state",{keyEntities:[]}),Re(jr(a),"removeKey",function(u){a.setState(function(d){var f=d.keyEntities.map(function(h){return h.key!==u?h:Ie(Ie({},h),{},{status:sI})});return{keyEntities:f}},function(){var d=a.state.keyEntities,f=d.filter(function(h){var p=h.status;return p!==sI}).length;f===0&&a.props.onAllRemoved&&a.props.onAllRemoved()})}),a}return ea(o,[{key:"render",value:function(){var s=this,l=this.state.keyEntities,c=this.props,u=c.component,d=c.children,f=c.onVisibleChanged;c.onAllRemoved;var h=pr(c,oxe),p=u||S.Fragment,_={};return sxe.forEach(function(x){_[x]=h[x],delete h[x]}),delete h.keys,S.createElement(p,h,l.map(function(x,y){var w=x.status,C=pr(x,axe),M=w===O5||w===D5;return S.createElement(e,ft({},_,{key:C.key,visible:M,eventProps:C,onVisibleChanged:function(N){f==null||f(N,{key:C.key}),N||s.removeKey(C.key)}}),function(R,N){return d(Ie(Ie({},R),{},{index:y}),N)})}))}}],[{key:"getDerivedStateFromProps",value:function(s,l){var c=s.keys,u=l.keyEntities,d=B5(c),f=ixe(u,d);return{keyEntities:f.filter(function(h){var p=u.find(function(_){var x=_.key;return h.key===x});return!(p&&p.status===sI&&h.status===L5)})}}}]),o}(S.Component);return Re(n,"defaultProps",{component:"div"}),n}const jte=lxe(zte),tG=S.createContext(!0);function cxe(t){const e=S.useContext(tG),{children:n}=t,[,r]=Ul(),{motion:i}=r,o=S.useRef(!1);return o.current||(o.current=e!==i),o.current?S.createElement(tG.Provider,{value:i},S.createElement(Gbe,{motion:i},n)):n}const uxe=()=>null;var dxe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const fxe=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let CM,qte,Wte,Xte;function yE(){return CM||$_}function hxe(){return qte||zP}function pxe(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const mxe=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:i}=t;e!==void 0&&(CM=e),n!==void 0&&(qte=n),"holderRender"in t&&(Xte=i),r&&(pxe(r)?hbe(yE(),r):Wte=r)},Yte=()=>({getPrefixCls:(t,e)=>e||(t?`${yE()}-${t}`:yE()),getIconPrefixCls:hxe,getRootPrefixCls:()=>CM||yE(),getTheme:()=>Wte,holderRender:Xte}),gxe=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:o,form:a,locale:s,componentSize:l,direction:c,space:u,splitter:d,virtual:f,dropdownMatchSelectWidth:h,popupMatchSelectWidth:p,popupOverflow:_,legacyLocale:x,parentContext:y,iconPrefixCls:w,theme:C,componentDisabled:M,segmented:R,statistic:N,spin:I,calendar:B,carousel:D,cascader:$,collapse:z,typography:V,checkbox:q,descriptions:G,divider:j,drawer:H,skeleton:X,steps:Y,image:ee,layout:Z,list:re,mentions:ae,modal:ce,progress:he,result:ge,slider:se,breadcrumb:me,menu:ye,pagination:we,input:Ee,textArea:Me,empty:Oe,badge:Ue,radio:Se,rate:_e,switch:ve,transfer:Ge,avatar:ue,message:at,tag:nt,table:ct,card:Ze,tabs:pe,timeline:te,timePicker:Ne,upload:qe,notification:gt,tree:tt,colorPicker:wt,datePicker:_t,rangePicker:Et,flex:Tt,wave:ht,dropdown:Xe,warning:pt,tour:ut,tooltip:Ke,popover:Rt,popconfirm:$e,floatButton:$t,floatButtonGroup:Lt,variant:tn,inputNumber:Qe,treeSelect:Pt}=t,Ft=S.useCallback((St,xt)=>{const{prefixCls:m}=t;if(xt)return xt;const de=m||y.getPrefixCls("");return St?`${de}-${St}`:de},[y.getPrefixCls,t.prefixCls]),Yt=w||y.iconPrefixCls||zP,Rn=n||y.csp;Bbe(Yt,Rn);const Cn=zbe(C,y.theme,{prefixCls:Ft("")}),dn={csp:Rn,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:s||x,direction:c,space:u,splitter:d,virtual:f,popupMatchSelectWidth:p??h,popupOverflow:_,getPrefixCls:Ft,iconPrefixCls:Yt,theme:Cn,segmented:R,statistic:N,spin:I,calendar:B,carousel:D,cascader:$,collapse:z,typography:V,checkbox:q,descriptions:G,divider:j,drawer:H,skeleton:X,steps:Y,image:ee,input:Ee,textArea:Me,layout:Z,list:re,mentions:ae,modal:ce,progress:he,result:ge,slider:se,breadcrumb:me,menu:ye,pagination:we,empty:Oe,badge:Ue,radio:Se,rate:_e,switch:ve,transfer:Ge,avatar:ue,message:at,tag:nt,table:ct,card:Ze,tabs:pe,timeline:te,timePicker:Ne,upload:qe,notification:gt,tree:tt,colorPicker:wt,datePicker:_t,rangePicker:Et,flex:Tt,wave:ht,dropdown:Xe,warning:pt,tour:ut,tooltip:Ke,popover:Rt,popconfirm:$e,floatButton:$t,floatButtonGroup:Lt,variant:tn,inputNumber:Qe,treeSelect:Pt},Mn=Object.assign({},y);Object.keys(dn).forEach(St=>{dn[St]!==void 0&&(Mn[St]=dn[St])}),fxe.forEach(St=>{const xt=t[St];xt&&(Mn[St]=xt)}),typeof r<"u"&&(Mn.button=Object.assign({autoInsertSpace:r},Mn.button));const Tn=W2(()=>Mn,Mn,(St,xt)=>{const m=Object.keys(St),de=Object.keys(xt);return m.length!==de.length||m.some(gn=>St[gn]!==xt[gn])}),{layer:Qt}=S.useContext(X2),Gt=S.useMemo(()=>({prefixCls:Yt,csp:Rn,layer:Qt?"antd":void 0}),[Yt,Rn,Qt]);let Ut=S.createElement(S.Fragment,null,S.createElement(uxe,{dropdownMatchSelectWidth:h}),e);const Pe=S.useMemo(()=>{var St,xt,m,de;return iv(((St=ff.Form)===null||St===void 0?void 0:St.defaultValidateMessages)||{},((m=(xt=Tn.locale)===null||xt===void 0?void 0:xt.Form)===null||m===void 0?void 0:m.defaultValidateMessages)||{},((de=Tn.form)===null||de===void 0?void 0:de.validateMessages)||{},(a==null?void 0:a.validateMessages)||{})},[Tn,a==null?void 0:a.validateMessages]);Object.keys(Pe).length>0&&(Ut=S.createElement(vte.Provider,{value:Pe},Ut)),s&&(Ut=S.createElement(G1e,{locale:s,_ANT_MARK__:z1e},Ut)),(Yt||Rn)&&(Ut=S.createElement(LF.Provider,{value:Gt},Ut)),l&&(Ut=S.createElement(pbe,{size:l},Ut)),Ut=S.createElement(cxe,null,Ut);const mt=S.useMemo(()=>{const St=Cn||{},{algorithm:xt,token:m,components:de,cssVar:gn}=St,Pn=dxe(St,["algorithm","token","components","cssVar"]),tr=xt&&(!Array.isArray(xt)||xt.length>0)?h5(xt):Cte,bn={};Object.entries(de||{}).forEach(([_r,Ln])=>{const Dt=Object.assign({},Ln);"algorithm"in Dt&&(Dt.algorithm===!0?Dt.theme=tr:(Array.isArray(Dt.algorithm)||typeof Dt.algorithm=="function")&&(Dt.theme=h5(Dt.algorithm)),delete Dt.algorithm),bn[_r]=Dt});const Gn=Object.assign(Object.assign({},B_),m);return Object.assign(Object.assign({},Pn),{theme:tr,token:Gn,components:bn,override:Object.assign({override:Gn},bn),cssVar:gn})},[Cn]);return C&&(Ut=S.createElement(Tte.Provider,{value:mt},Ut)),Tn.warning&&(Ut=S.createElement(I1e.Provider,{value:Tn.warning},Ut)),M!==void 0&&(Ut=S.createElement(FF,{disabled:M},Ut)),S.createElement(ir.Provider,{value:Tn},Ut)},a1=t=>{const e=S.useContext(ir),n=S.useContext(BF);return S.createElement(gxe,Object.assign({parentContext:e,legacyLocale:n},t))};a1.ConfigContext=ir;a1.SizeContext=Y2;a1.config=mxe;a1.useConfig=mbe;Object.defineProperty(a1,"SizeContext",{get:()=>Y2});const Q2=a1;var Axe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const vxe=Axe;function Kte(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function yxe(t){return Kte(t)instanceof ShadowRoot}function TM(t){return yxe(t)?Kte(t):null}function bxe(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function xxe(t,e){is(t,"[@ant-design/icons] ".concat(e))}function nG(t){return Dn(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(Dn(t.icon)==="object"||typeof t.icon=="function")}function rG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[bxe(n)]=r}return e},{})}function F5(t,e,n){return n?Ye.createElement(t.tag,Ie(Ie({key:e},rG(t.attrs)),n),(t.children||[]).map(function(r,i){return F5(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):Ye.createElement(t.tag,Ie({key:e},rG(t.attrs)),(t.children||[]).map(function(r,i){return F5(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function Qte(t){return F_(t)[0]}function Zte(t){return t?Array.isArray(t)?t:[t]:[]}var _xe=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Sxe=function(e){var n=S.useContext(LF),r=n.csp,i=n.prefixCls,o=n.layer,a=_xe;i&&(a=a.replace(/anticon/g,i)),o&&(a="@layer ".concat(o,` {
`).concat(a,`
}`)),S.useEffect(function(){var s=e.current,l=TM(s);Qf(a,"@ant-design-icons",{prepend:!o,csp:r,attachTo:l})},[])},wxe=["icon","className","onClick","style","primaryColor","secondaryColor"],Ux={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Cxe(t){var e=t.primaryColor,n=t.secondaryColor;Ux.primaryColor=e,Ux.secondaryColor=n||Qte(e),Ux.calculated=!!n}function Txe(){return Ie({},Ux)}var HP=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,a=e.primaryColor,s=e.secondaryColor,l=pr(e,wxe),c=S.useRef(),u=Ux;if(a&&(u={primaryColor:a,secondaryColor:s||Qte(a)}),Sxe(c),xxe(nG(n),"icon should be icon definiton, but got ".concat(n)),!nG(n))return null;var d=n;return d&&typeof d.icon=="function"&&(d=Ie(Ie({},d),{},{icon:d.icon(u.primaryColor,u.secondaryColor)})),F5(d.icon,"svg-".concat(d.name),Ie(Ie({className:r,onClick:i,style:o,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};HP.displayName="IconReact";HP.getTwoToneColors=Txe;HP.setTwoToneColors=Cxe;const kF=HP;function Jte(t){var e=Zte(t),n=ze(e,2),r=n[0],i=n[1];return kF.setTwoToneColors({primaryColor:r,secondaryColor:i})}function Exe(){var t=kF.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var Mxe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Jte(wM.primary);var jP=S.forwardRef(function(t,e){var n=t.className,r=t.icon,i=t.spin,o=t.rotate,a=t.tabIndex,s=t.onClick,l=t.twoToneColor,c=pr(t,Mxe),u=S.useContext(LF),d=u.prefixCls,f=d===void 0?"anticon":d,h=u.rootClassName,p=je(h,f,Re(Re({},"".concat(f,"-").concat(r.name),!!r.name),"".concat(f,"-spin"),!!i||r.name==="loading"),n),_=a;_===void 0&&s&&(_=-1);var x=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,y=Zte(l),w=ze(y,2),C=w[0],M=w[1];return S.createElement("span",ft({role:"img","aria-label":r.name},c,{ref:e,tabIndex:_,onClick:s,className:p}),S.createElement(kF,{icon:r,primaryColor:C,secondaryColor:M,style:x}))});jP.displayName="AntdIcon";jP.getTwoToneColor=Exe;jP.setTwoToneColor=Jte;const Gi=jP;var Pxe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:vxe}))},Rxe=S.forwardRef(Pxe);const qP=Rxe;var Nxe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const Ixe=Nxe;var Oxe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:Ixe}))},Dxe=S.forwardRef(Oxe);const s1=Dxe;var Lxe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const Bxe=Lxe;var Fxe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:Bxe}))},$xe=S.forwardRef(Fxe);const Am=$xe;var kxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const Uxe=kxe;var zxe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:Uxe}))},Vxe=S.forwardRef(zxe);const Z2=Vxe;var Gxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const Hxe=Gxe;var jxe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:Hxe}))},qxe=S.forwardRef(jxe);const ene=qxe;var Wxe=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Xxe=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Yxe="".concat(Wxe," ").concat(Xxe).split(/[\s\n]+/),Kxe="aria-",Qxe="data-";function iG(t,e){return t.indexOf(e)===0}function gc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=Ie({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||iG(i,Kxe))||n.data&&iG(i,Qxe)||n.attr&&Yxe.includes(i))&&(r[i]=t[i])}),r}function tne(t){return t&&Ye.isValidElement(t)&&t.type===Ye.Fragment}const nne=(t,e,n)=>Ye.isValidElement(t)?Ye.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e;function su(t,e){return nne(t,t,e)}const oG=t=>typeof t=="object"&&t!=null&&t.nodeType===1,aG=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",eC=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return aG(n.overflowY,e)||aG(n.overflowX,e)||(r=>{const i=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(t)}return!1},tC=(t,e,n,r,i,o,a,s)=>o<t&&a>e||o>t&&a<e?0:o<=t&&s<=n||a>=e&&s>=n?o-t-r:a>e&&s<n||o<t&&s>n?a-e+i:0,Zxe=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},sG=(t,e)=>{var n,r,i,o;if(typeof document>"u")return[];const{scrollMode:a,block:s,inline:l,boundary:c,skipOverflowHiddenElements:u}=e,d=typeof c=="function"?c:H=>H!==c;if(!oG(t))throw new TypeError("Invalid target");const f=document.scrollingElement||document.documentElement,h=[];let p=t;for(;oG(p)&&d(p);){if(p=Zxe(p),p===f){h.push(p);break}p!=null&&p===document.body&&eC(p)&&!eC(document.documentElement)||p!=null&&eC(p,u)&&h.push(p)}const _=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,x=(o=(i=window.visualViewport)==null?void 0:i.height)!=null?o:innerHeight,{scrollX:y,scrollY:w}=window,{height:C,width:M,top:R,right:N,bottom:I,left:B}=t.getBoundingClientRect(),{top:D,right:$,bottom:z,left:V}=(H=>{const X=window.getComputedStyle(H);return{top:parseFloat(X.scrollMarginTop)||0,right:parseFloat(X.scrollMarginRight)||0,bottom:parseFloat(X.scrollMarginBottom)||0,left:parseFloat(X.scrollMarginLeft)||0}})(t);let q=s==="start"||s==="nearest"?R-D:s==="end"?I+z:R+C/2-D+z,G=l==="center"?B+M/2-V+$:l==="end"?N+$:B-V;const j=[];for(let H=0;H<h.length;H++){const X=h[H],{height:Y,width:ee,top:Z,right:re,bottom:ae,left:ce}=X.getBoundingClientRect();if(a==="if-needed"&&R>=0&&B>=0&&I<=x&&N<=_&&(X===f&&!eC(X)||R>=Z&&I<=ae&&B>=ce&&N<=re))return j;const he=getComputedStyle(X),ge=parseInt(he.borderLeftWidth,10),se=parseInt(he.borderTopWidth,10),me=parseInt(he.borderRightWidth,10),ye=parseInt(he.borderBottomWidth,10);let we=0,Ee=0;const Me="offsetWidth"in X?X.offsetWidth-X.clientWidth-ge-me:0,Oe="offsetHeight"in X?X.offsetHeight-X.clientHeight-se-ye:0,Ue="offsetWidth"in X?X.offsetWidth===0?0:ee/X.offsetWidth:0,Se="offsetHeight"in X?X.offsetHeight===0?0:Y/X.offsetHeight:0;if(f===X)we=s==="start"?q:s==="end"?q-x:s==="nearest"?tC(w,w+x,x,se,ye,w+q,w+q+C,C):q-x/2,Ee=l==="start"?G:l==="center"?G-_/2:l==="end"?G-_:tC(y,y+_,_,ge,me,y+G,y+G+M,M),we=Math.max(0,we+w),Ee=Math.max(0,Ee+y);else{we=s==="start"?q-Z-se:s==="end"?q-ae+ye+Oe:s==="nearest"?tC(Z,ae,Y,se,ye+Oe,q,q+C,C):q-(Z+Y/2)+Oe/2,Ee=l==="start"?G-ce-ge:l==="center"?G-(ce+ee/2)+Me/2:l==="end"?G-re+me+Me:tC(ce,re,ee,ge,me+Me,G,G+M,M);const{scrollLeft:_e,scrollTop:ve}=X;we=Se===0?0:Math.max(0,Math.min(ve+we/Se,X.scrollHeight-Y/Se+Oe)),Ee=Ue===0?0:Math.max(0,Math.min(_e+Ee/Ue,X.scrollWidth-ee/Ue+Me)),q+=ve-we,G+=_e-Ee}j.push({el:X,top:we,left:Ee})}return j},Jxe=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function e_e(t,e){if(!t.isConnected||!(i=>{let o=i;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(t))return;const n=(i=>{const o=window.getComputedStyle(i);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(t);if((i=>typeof i=="object"&&typeof i.behavior=="function")(e))return e.behavior(sG(t,e));const r=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:i,top:o,left:a}of sG(t,Jxe(e))){const s=o-n.top+n.bottom,l=a-n.left+n.right;i.scroll({top:s,left:l,behavior:r})}}const t_e=t=>{const[,,,,e]=Ul();return e?`${t}-css-var`:""},_c=t_e;var qt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=qt.F1&&n<=qt.F12)return!1;switch(n){case qt.ALT:case qt.CAPS_LOCK:case qt.CONTEXT_MENU:case qt.CTRL:case qt.DOWN:case qt.END:case qt.ESC:case qt.HOME:case qt.INSERT:case qt.LEFT:case qt.MAC_FF_META:case qt.META:case qt.NUMLOCK:case qt.NUM_CENTER:case qt.PAGE_DOWN:case qt.PAGE_UP:case qt.PAUSE:case qt.PRINT_SCREEN:case qt.RIGHT:case qt.SHIFT:case qt.UP:case qt.WIN_KEY:case qt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=qt.ZERO&&e<=qt.NINE||e>=qt.NUM_ZERO&&e<=qt.NUM_MULTIPLY||e>=qt.A&&e<=qt.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case qt.SPACE:case qt.QUESTION_MARK:case qt.NUM_PLUS:case qt.NUM_MINUS:case qt.NUM_PERIOD:case qt.NUM_DIVISION:case qt.SEMICOLON:case qt.DASH:case qt.EQUALS:case qt.COMMA:case qt.PERIOD:case qt.SLASH:case qt.APOSTROPHE:case qt.SINGLE_QUOTE:case qt.OPEN_SQUARE_BRACKET:case qt.BACKSLASH:case qt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},rne=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.className,o=t.duration,a=o===void 0?4.5:o,s=t.showProgress,l=t.pauseOnHover,c=l===void 0?!0:l,u=t.eventKey,d=t.content,f=t.closable,h=t.closeIcon,p=h===void 0?"x":h,_=t.props,x=t.onClick,y=t.onNoticeClose,w=t.times,C=t.hovering,M=S.useState(!1),R=ze(M,2),N=R[0],I=R[1],B=S.useState(0),D=ze(B,2),$=D[0],z=D[1],V=S.useState(0),q=ze(V,2),G=q[0],j=q[1],H=C||N,X=a>0&&s,Y=function(){y(u)},ee=function(ge){(ge.key==="Enter"||ge.code==="Enter"||ge.keyCode===qt.ENTER)&&Y()};S.useEffect(function(){if(!H&&a>0){var he=Date.now()-G,ge=setTimeout(function(){Y()},a*1e3-G);return function(){c&&clearTimeout(ge),j(Date.now()-he)}}},[a,H,w]),S.useEffect(function(){if(!H&&X&&(c||G===0)){var he=performance.now(),ge,se=function me(){cancelAnimationFrame(ge),ge=requestAnimationFrame(function(ye){var we=ye+G-he,Ee=Math.min(we/(a*1e3),1);z(Ee*100),Ee<1&&me()})};return se(),function(){c&&cancelAnimationFrame(ge)}}},[a,G,H,X,w]);var Z=S.useMemo(function(){return Dn(f)==="object"&&f!==null?f:f?{closeIcon:p}:{}},[f,p]),re=gc(Z,!0),ae=100-(!$||$<0?0:$>100?100:$),ce="".concat(n,"-notice");return S.createElement("div",ft({},_,{ref:e,className:je(ce,i,Re({},"".concat(ce,"-closable"),f)),style:r,onMouseEnter:function(ge){var se;I(!0),_==null||(se=_.onMouseEnter)===null||se===void 0||se.call(_,ge)},onMouseLeave:function(ge){var se;I(!1),_==null||(se=_.onMouseLeave)===null||se===void 0||se.call(_,ge)},onClick:x}),S.createElement("div",{className:"".concat(ce,"-content")},d),f&&S.createElement("a",ft({tabIndex:0,className:"".concat(ce,"-close"),onKeyDown:ee,"aria-label":"Close"},re,{onClick:function(ge){ge.preventDefault(),ge.stopPropagation(),Y()}}),Z.closeIcon),X&&S.createElement("progress",{className:"".concat(ce,"-progress"),max:"100",value:ae},ae+"%"))}),ine=Ye.createContext({}),n_e=function(e){var n=e.children,r=e.classNames;return Ye.createElement(ine.Provider,{value:{classNames:r}},n)},lG=8,cG=3,uG=16,r_e=function(e){var n={offset:lG,threshold:cG,gap:uG};if(e&&Dn(e)==="object"){var r,i,o;n.offset=(r=e.offset)!==null&&r!==void 0?r:lG,n.threshold=(i=e.threshold)!==null&&i!==void 0?i:cG,n.gap=(o=e.gap)!==null&&o!==void 0?o:uG}return[!!e,n]},i_e=["className","style","classNames","styles"],o_e=function(e){var n=e.configList,r=e.placement,i=e.prefixCls,o=e.className,a=e.style,s=e.motion,l=e.onAllNoticeRemoved,c=e.onNoticeClose,u=e.stack,d=S.useContext(ine),f=d.classNames,h=S.useRef({}),p=S.useState(null),_=ze(p,2),x=_[0],y=_[1],w=S.useState([]),C=ze(w,2),M=C[0],R=C[1],N=n.map(function(H){return{config:H,key:String(H.key)}}),I=r_e(u),B=ze(I,2),D=B[0],$=B[1],z=$.offset,V=$.threshold,q=$.gap,G=D&&(M.length>0||N.length<=V),j=typeof s=="function"?s(r):s;return S.useEffect(function(){D&&M.length>1&&R(function(H){return H.filter(function(X){return N.some(function(Y){var ee=Y.key;return X===ee})})})},[M,N,D]),S.useEffect(function(){var H;if(D&&h.current[(H=N[N.length-1])===null||H===void 0?void 0:H.key]){var X;y(h.current[(X=N[N.length-1])===null||X===void 0?void 0:X.key])}},[N,D]),Ye.createElement(jte,ft({key:r,className:je(i,"".concat(i,"-").concat(r),f==null?void 0:f.list,o,Re(Re({},"".concat(i,"-stack"),!!D),"".concat(i,"-stack-expanded"),G)),style:a,keys:N,motionAppear:!0},j,{onAllRemoved:function(){l(r)}}),function(H,X){var Y=H.config,ee=H.className,Z=H.style,re=H.index,ae=Y,ce=ae.key,he=ae.times,ge=String(ce),se=Y,me=se.className,ye=se.style,we=se.classNames,Ee=se.styles,Me=pr(se,i_e),Oe=N.findIndex(function(te){return te.key===ge}),Ue={};if(D){var Se=N.length-1-(Oe>-1?Oe:re-1),_e=r==="top"||r==="bottom"?"-50%":"0";if(Se>0){var ve,Ge,ue;Ue.height=G?(ve=h.current[ge])===null||ve===void 0?void 0:ve.offsetHeight:x==null?void 0:x.offsetHeight;for(var at=0,nt=0;nt<Se;nt++){var ct;at+=((ct=h.current[N[N.length-1-nt].key])===null||ct===void 0?void 0:ct.offsetHeight)+q}var Ze=(G?at:Se*z)*(r.startsWith("top")?1:-1),pe=!G&&x!==null&&x!==void 0&&x.offsetWidth&&(Ge=h.current[ge])!==null&&Ge!==void 0&&Ge.offsetWidth?((x==null?void 0:x.offsetWidth)-z*2*(Se<3?Se:3))/((ue=h.current[ge])===null||ue===void 0?void 0:ue.offsetWidth):1;Ue.transform="translate3d(".concat(_e,", ").concat(Ze,"px, 0) scaleX(").concat(pe,")")}else Ue.transform="translate3d(".concat(_e,", 0, 0)")}return Ye.createElement("div",{ref:X,className:je("".concat(i,"-notice-wrapper"),ee,we==null?void 0:we.wrapper),style:Ie(Ie(Ie({},Z),Ue),Ee==null?void 0:Ee.wrapper),onMouseEnter:function(){return R(function(Ne){return Ne.includes(ge)?Ne:[].concat(Xt(Ne),[ge])})},onMouseLeave:function(){return R(function(Ne){return Ne.filter(function(qe){return qe!==ge})})}},Ye.createElement(rne,ft({},Me,{ref:function(Ne){Oe>-1?h.current[ge]=Ne:delete h.current[ge]},prefixCls:i,classNames:we,styles:Ee,className:je(me,f==null?void 0:f.notice),style:ye,times:he,key:ce,eventKey:ce,onNoticeClose:c,hovering:D&&M.length>0})))})},a_e=S.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,i=t.container,o=t.motion,a=t.maxCount,s=t.className,l=t.style,c=t.onAllRemoved,u=t.stack,d=t.renderNotifications,f=S.useState([]),h=ze(f,2),p=h[0],_=h[1],x=function(D){var $,z=p.find(function(V){return V.key===D});z==null||($=z.onClose)===null||$===void 0||$.call(z),_(function(V){return V.filter(function(q){return q.key!==D})})};S.useImperativeHandle(e,function(){return{open:function(D){_(function($){var z=Xt($),V=z.findIndex(function(j){return j.key===D.key}),q=Ie({},D);if(V>=0){var G;q.times=(((G=$[V])===null||G===void 0?void 0:G.times)||0)+1,z[V]=q}else q.times=0,z.push(q);return a>0&&z.length>a&&(z=z.slice(-a)),z})},close:function(D){x(D)},destroy:function(){_([])}}});var y=S.useState({}),w=ze(y,2),C=w[0],M=w[1];S.useEffect(function(){var B={};p.forEach(function(D){var $=D.placement,z=$===void 0?"topRight":$;z&&(B[z]=B[z]||[],B[z].push(D))}),Object.keys(C).forEach(function(D){B[D]=B[D]||[]}),M(B)},[p]);var R=function(D){M(function($){var z=Ie({},$),V=z[D]||[];return V.length||delete z[D],z})},N=S.useRef(!1);if(S.useEffect(function(){Object.keys(C).length>0?N.current=!0:N.current&&(c==null||c(),N.current=!1)},[C]),!i)return null;var I=Object.keys(C);return rd.createPortal(S.createElement(S.Fragment,null,I.map(function(B){var D=C[B],$=S.createElement(o_e,{key:B,configList:D,placement:B,prefixCls:r,className:s==null?void 0:s(B),style:l==null?void 0:l(B),motion:o,onNoticeClose:x,onAllNoticeRemoved:R,stack:u});return d?d($,{prefixCls:r,key:B}):$})),i)}),s_e=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],l_e=function(){return document.body},dG=0;function c_e(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(i){i&&Object.keys(i).forEach(function(o){var a=i[o];a!==void 0&&(t[o]=a)})}),t}function u_e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?l_e:e,r=t.motion,i=t.prefixCls,o=t.maxCount,a=t.className,s=t.style,l=t.onAllRemoved,c=t.stack,u=t.renderNotifications,d=pr(t,s_e),f=S.useState(),h=ze(f,2),p=h[0],_=h[1],x=S.useRef(),y=S.createElement(a_e,{container:p,ref:x,prefixCls:i,motion:r,maxCount:o,className:a,style:s,onAllRemoved:l,stack:c,renderNotifications:u}),w=S.useState([]),C=ze(w,2),M=C[0],R=C[1],N=Xr(function(B){var D=c_e(d,B);(D.key===null||D.key===void 0)&&(D.key="rc-notification-".concat(dG),dG+=1),R(function($){return[].concat(Xt($),[{type:"open",config:D}])})}),I=S.useMemo(function(){return{open:N,close:function(D){R(function($){return[].concat(Xt($),[{type:"close",key:D}])})},destroy:function(){R(function(D){return[].concat(Xt(D),[{type:"destroy"}])})}}},[]);return S.useEffect(function(){_(n())}),S.useEffect(function(){if(x.current&&M.length){M.forEach(function($){switch($.type){case"open":x.current.open($.config);break;case"close":x.current.close($.key);break;case"destroy":x.current.destroy();break}});var B,D;R(function($){return(B!==$||!D)&&(B=$,D=$.filter(function(z){return!M.includes(z)})),D})}},[M]),[I,y]}var d_e={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const f_e=d_e;var h_e=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:f_e}))},p_e=S.forwardRef(h_e);const J2=p_e;function $5(...t){const e={};return t.forEach(n=>{n&&Object.keys(n).forEach(r=>{n[r]!==void 0&&(e[r]=n[r])})}),e}function EM(t){if(!t)return;const{closable:e,closeIcon:n}=t;return{closable:e,closeIcon:n}}function fG(t){const{closable:e,closeIcon:n}=t||{};return Ye.useMemo(()=>{if(!e&&(e===!1||n===!1||n===null))return!1;if(e===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return e&&typeof e=="object"&&(r=Object.assign(Object.assign({},r),e)),r},[e,n])}const m_e={},one=(t,e,n=m_e)=>{const r=fG(t),i=fG(e),[o]=xc("global",ff.global),a=typeof r!="boolean"?!!(r!=null&&r.disabled):!1,s=Ye.useMemo(()=>Object.assign({closeIcon:Ye.createElement(Am,null)},n),[n]),l=Ye.useMemo(()=>r===!1?!1:r?$5(s,i,r):i===!1?!1:i?$5(s,i):s.closable?s:!1,[r,i,s]);return Ye.useMemo(()=>{var c,u;if(l===!1)return[!1,null,a,{}];const{closeIconRender:d}=s,{closeIcon:f}=l;let h=f;const p=gc(l,!0);return h!=null&&(d&&(h=d(f)),h=Ye.isValidElement(h)?Ye.cloneElement(h,Object.assign(Object.assign(Object.assign({},h.props),{"aria-label":(u=(c=h.props)===null||c===void 0?void 0:c["aria-label"])!==null&&u!==void 0?u:o.close}),p)):Ye.createElement("span",Object.assign({"aria-label":o.close},p),h)),[!0,h,a,p]},[a,o.close,l,s])},g_e=()=>Ye.useReducer(t=>t+1,0);function ane(t,...e){const n=t||{};return e.reduce((r,i)=>(Object.keys(i||{}).forEach(o=>{const a=n[o],s=i[o];if(a&&typeof a=="object")if(s&&typeof s=="object")r[o]=ane(a,r[o],s);else{const{_default:l}=a;l&&(r[o]=r[o]||{},r[o][l]=je(r[o][l],s))}else r[o]=je(r[o],s)}),r),{})}function A_e(t,...e){return S.useMemo(()=>ane.apply(void 0,[t].concat(e)),[e,t])}function v_e(...t){return S.useMemo(()=>t.reduce((e,n={})=>(Object.keys(n).forEach(r=>{e[r]=Object.assign(Object.assign({},e[r]),n[r])}),e),{}),[t])}function k5(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(r=>{if(r!=="_default"){const i=e[r],o=n[r]||{};n[r]=i?k5(o,i):o}}),n}const y_e=(t,e,n)=>{const r=A_e.apply(void 0,[n].concat(Xt(t))),i=v_e.apply(void 0,Xt(e));return S.useMemo(()=>[k5(r,n),k5(i,n)],[r,i,n])},b_e=()=>{const[t,e]=S.useState([]),n=S.useCallback(r=>(e(i=>[].concat(Xt(i),[r])),()=>{e(i=>i.filter(o=>o!==r))}),[]);return[t,n]},x_e=Ye.createContext(void 0),UF=x_e,dp=100,__e=10,sne=dp*__e,lne={Modal:dp,Drawer:dp,Popover:dp,Popconfirm:dp,Tooltip:dp,Tour:dp,FloatButton:dp},S_e={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function w_e(t){return t in lne}const l1=(t,e)=>{const[,n]=Ul(),r=Ye.useContext(UF),i=w_e(t);let o;if(e!==void 0)o=[e,e];else{let a=r??0;i?a+=(r?0:n.zIndexPopupBase)+lne[t]:a+=S_e[t],o=[r===void 0?e:a,a]}return o},C_e=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:i,colorSuccess:o,colorError:a,colorWarning:s,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:u,motionDurationSlow:d,marginXS:f,paddingXS:h,borderRadiusLG:p,zIndexPopup:_,contentPadding:x,contentBg:y}=t,w=`${e}-notice`,C=new Gr("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:h,transform:"translateY(0)",opacity:1}}),M=new Gr("MessageMoveOut",{"0%":{maxHeight:t.height,padding:h,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),R={padding:h,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${n}`]:{marginInlineEnd:f,fontSize:c},[`${w}-content`]:{display:"inline-block",padding:x,background:y,borderRadius:p,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:o},[`${e}-error > ${n}`]:{color:a},[`${e}-warning > ${n}`]:{color:s},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:l}};return[{[e]:Object.assign(Object.assign({},ho(t)),{color:i,position:"fixed",top:f,width:"100%",pointerEvents:"none",zIndex:_,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:C,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:M,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${w}-wrapper`]:Object.assign({},R)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},R),{padding:0,textAlign:"start"})}]},T_e=t=>({zIndexPopup:t.zIndexPopupBase+sne+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),cne=Ti("Message",t=>{const e=Yr(t,{height:150});return C_e(e)},T_e);var E_e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const M_e={info:S.createElement(ene,null),success:S.createElement(qP,null),error:S.createElement(s1,null),warning:S.createElement(Z2,null),loading:S.createElement(J2,null)},une=({prefixCls:t,type:e,icon:n,children:r})=>S.createElement("div",{className:je(`${t}-custom-content`,`${t}-${e}`)},n||M_e[e],S.createElement("span",null,r)),P_e=t=>{const{prefixCls:e,className:n,type:r,icon:i,content:o}=t,a=E_e(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:s}=S.useContext(ir),l=e||s("message"),c=_c(l),[u,d,f]=cne(l,c);return u(S.createElement(rne,Object.assign({},a,{prefixCls:l,className:je(n,d,`${l}-notice-pure-panel`,f,c),eventKey:"pure",duration:null,content:S.createElement(une,{prefixCls:l,type:r,icon:i},o)})))},R_e=P_e;function N_e(t,e){return{motionName:e??`${t}-move-up`}}function zF(t){let e;const n=new Promise(i=>{e=t(()=>{i(!0)})}),r=()=>{e==null||e()};return r.then=(i,o)=>n.then(i,o),r.promise=n,r}var I_e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const O_e=8,D_e=3,L_e=({children:t,prefixCls:e})=>{const n=_c(e),[r,i,o]=cne(e,n);return r(S.createElement(n_e,{classNames:{list:je(i,o,n)}},t))},B_e=(t,{prefixCls:e,key:n})=>S.createElement(L_e,{prefixCls:e,key:n},t),F_e=S.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:i,maxCount:o,duration:a=D_e,rtl:s,transitionName:l,onAllRemoved:c}=t,{getPrefixCls:u,getPopupContainer:d,message:f,direction:h}=S.useContext(ir),p=r||u("message"),_=()=>({left:"50%",transform:"translateX(-50%)",top:n??O_e}),x=()=>je({[`${p}-rtl`]:s??h==="rtl"}),y=()=>N_e(p,l),w=S.createElement("span",{className:`${p}-close-x`},S.createElement(Am,{className:`${p}-close-icon`})),[C,M]=u_e({prefixCls:p,style:_,className:x,motion:y,closable:!1,closeIcon:w,duration:a,getContainer:()=>(i==null?void 0:i())||(d==null?void 0:d())||document.body,maxCount:o,onAllRemoved:c,renderNotifications:B_e});return S.useImperativeHandle(e,()=>Object.assign(Object.assign({},C),{prefixCls:p,message:f})),M});let hG=0;function dne(t){const e=S.useRef(null);return UP(),[S.useMemo(()=>{const r=l=>{var c;(c=e.current)===null||c===void 0||c.close(l)},i=l=>{if(!e.current){const N=()=>{};return N.then=()=>{},N}const{open:c,prefixCls:u,message:d}=e.current,f=`${u}-notice`,{content:h,icon:p,type:_,key:x,className:y,style:w,onClose:C}=l,M=I_e(l,["content","icon","type","key","className","style","onClose"]);let R=x;return R==null&&(hG+=1,R=`antd-message-${hG}`),zF(N=>(c(Object.assign(Object.assign({},M),{key:R,content:S.createElement(une,{prefixCls:u,type:_,icon:p},h),placement:"top",className:je(_&&`${f}-${_}`,y,d==null?void 0:d.className),style:Object.assign(Object.assign({},d==null?void 0:d.style),w),onClose:()=>{C==null||C(),N()}})),()=>{r(R)}))},a={open:i,destroy:l=>{var c;l!==void 0?r(l):(c=e.current)===null||c===void 0||c.destroy()}};return["info","success","warning","error","loading"].forEach(l=>{const c=(u,d,f)=>{let h;u&&typeof u=="object"&&"content"in u?h=u:h={content:u};let p,_;typeof d=="function"?_=d:(p=d,_=f);const x=Object.assign(Object.assign({onClose:_,duration:p},h),{type:l});return i(x)};a[l]=c}),a},[]),S.createElement(F_e,Object.assign({key:"message-holder"},t,{ref:e}))]}function $_e(t){return dne(t)}function fne(t,e){this.v=t,this.k=e}function ys(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}ys=function(a,s,l,c){function u(d,f){ys(a,d,function(h){return this._invoke(d,f,h)})}s?i?i(a,s,{value:l,enumerable:!c,configurable:!c,writable:!c}):a[s]=l:(u("next",0),u("throw",1),u("return",2))},ys(t,e,n,r)}function VF(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n=typeof Symbol=="function"?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(h,p,_,x){var y=p&&p.prototype instanceof s?p:s,w=Object.create(y.prototype);return ys(w,"_invoke",function(C,M,R){var N,I,B,D=0,$=R||[],z=!1,V={p:0,n:0,v:t,a:q,f:q.bind(t,4),d:function(j,H){return N=j,I=0,B=t,V.n=H,a}};function q(G,j){for(I=G,B=j,e=0;!z&&D&&!H&&e<$.length;e++){var H,X=$[e],Y=V.p,ee=X[2];G>3?(H=ee===j)&&(B=X[(I=X[4])?5:(I=3,3)],X[4]=X[5]=t):X[0]<=Y&&((H=G<2&&Y<X[1])?(I=0,V.v=j,V.n=X[1]):Y<ee&&(H=G<3||X[0]>j||j>ee)&&(X[4]=G,X[5]=j,V.n=ee,I=0))}if(H||G>1)return a;throw z=!0,j}return function(G,j,H){if(D>1)throw TypeError("Generator is already running");for(z&&j===1&&q(j,H),I=j,B=H;(e=I<2?t:B)||!z;){N||(I?I<3?(I>1&&(V.n=-1),q(I,B)):V.n=B:V.v=B);try{if(D=2,N){if(I||(G="next"),e=N[G]){if(!(e=e.call(N,B)))throw TypeError("iterator result is not an object");if(!e.done)return e;B=e.value,I<2&&(I=0)}else I===1&&(e=N.return)&&e.call(N),I<2&&(B=TypeError("The iterator does not provide a '"+G+"' method"),I=1);N=t}else if((e=(z=V.n<0)?B:C.call(M,V))!==a)break}catch(X){N=t,I=1,B=X}finally{D=1}}return{value:e,done:z}}}(h,_,x),!0),w}var a={};function s(){}function l(){}function c(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(ys(e={},r,function(){return this}),e),d=c.prototype=s.prototype=Object.create(u);function f(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,c):(h.__proto__=c,ys(h,i,"GeneratorFunction")),h.prototype=Object.create(d),h}return l.prototype=c,ys(d,"constructor",c),ys(c,"constructor",l),l.displayName="GeneratorFunction",ys(c,i,"GeneratorFunction"),ys(d),ys(d,i,"Generator"),ys(d,r,function(){return this}),ys(d,"toString",function(){return"[object Generator]"}),(VF=function(){return{w:o,m:f}})()}function MM(t,e){function n(i,o,a,s){try{var l=t[i](o),c=l.value;return c instanceof fne?e.resolve(c.v).then(function(u){n("next",u,a,s)},function(u){n("throw",u,a,s)}):e.resolve(c).then(function(u){l.value=u,a(l)},function(u){return n("throw",u,a,s)})}catch(u){s(u)}}var r;this.next||(ys(MM.prototype),ys(MM.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),ys(this,"_invoke",function(i,o,a){function s(){return new e(function(l,c){n(i,a,l,c)})}return r=r?r.then(s,s):s()},!0)}function hne(t,e,n,r,i){return new MM(VF().w(t,e,n,r),i||Promise)}function k_e(t,e,n,r,i){var o=hne(t,e,n,r,i);return o.next().then(function(a){return a.done?a.value:o.next()})}function U_e(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function i(){for(;n.length;)if((r=n.pop())in e)return i.value=r,i.done=!1,i;return i.done=!0,i}}function pG(t){if(t!=null){var e=t[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(Dn(t)+" is not iterable")}function Ns(){var t=VF(),e=t.m(Ns),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(a){var s=typeof a=="function"&&a.constructor;return!!s&&(s===n||(s.displayName||s.name)==="GeneratorFunction")}var i={throw:1,return:2,break:3,continue:3};function o(a){var s,l;return function(c){s||(s={stop:function(){return l(c.a,2)},catch:function(){return c.v},abrupt:function(d,f){return l(c.a,i[d],f)},delegateYield:function(d,f,h){return s.resultName=f,l(c.d,pG(d),h)},finish:function(d){return l(c.f,d)}},l=function(d,f,h){c.p=s.prev,c.n=s.next;try{return d(f,h)}finally{s.next=c.n}}),s.resultName&&(s[s.resultName]=c.v,s.resultName=void 0),s.sent=c.v,s.next=c.n;try{return a.call(this,s)}finally{c.p=s.prev,c.n=s.next}}}return(Ns=function(){return{wrap:function(l,c,u,d){return t.w(o(l),c,u,d&&d.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(l,c){return new fne(l,c)},AsyncIterator:MM,async:function(l,c,u,d,f){return(r(c)?hne:k_e)(o(l),c,u,d,f)},keys:U_e,values:pG}})()}function mG(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function wg(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(l){mG(o,r,i,a,s,"next",l)}function s(l){mG(o,r,i,a,s,"throw",l)}a(void 0)})}}var eS=Ie({},Bve),z_e=eS.version,lI=eS.render,V_e=eS.unmountComponentAtNode,WP;try{var G_e=Number((z_e||"").split(".")[0]);G_e>=18&&(WP=eS.createRoot)}catch{}function gG(t){var e=eS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Dn(e)==="object"&&(e.usingClientEntryPoint=t)}var PM="__rc_react_root__";function H_e(t,e){gG(!0);var n=e[PM]||WP(e);gG(!1),n.render(t),e[PM]=n}function j_e(t,e){lI==null||lI(t,e)}function q_e(t,e){if(WP){H_e(t,e);return}j_e(t,e)}function W_e(t){return U5.apply(this,arguments)}function U5(){return U5=wg(Ns().mark(function t(e){return Ns().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[PM])===null||i===void 0||i.unmount(),delete e[PM]}));case 1:case"end":return r.stop()}},t)})),U5.apply(this,arguments)}function X_e(t){V_e(t)}function Y_e(t){return z5.apply(this,arguments)}function z5(){return z5=wg(Ns().mark(function t(e){return Ns().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(WP===void 0){r.next=2;break}return r.abrupt("return",W_e(e));case 2:X_e(e);case 3:case"end":return r.stop()}},t)})),z5.apply(this,arguments)}const K_e=(t,e)=>(q_e(t,e),()=>Y_e(e));let AG=K_e;function GF(t){return t&&(AG=t),AG}const cI=()=>({height:0,opacity:0}),vG=t=>{const{scrollHeight:e}=t;return{height:e,opacity:1}},Q_e=t=>({height:t?t.offsetHeight:0}),uI=(t,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",yG=(t=$_)=>({motionName:`${t}-motion-collapse`,onAppearStart:cI,onEnterStart:cI,onAppearActive:vG,onEnterActive:vG,onLeaveStart:Q_e,onLeaveActive:cI,onAppearEnd:uI,onEnterEnd:uI,onLeaveEnd:uI,motionDeadline:500}),nm=(t,e,n)=>n!==void 0?n:`${t}-${e}`;function po(t,e){var n=Object.assign({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}const tS=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}}return!1},Z_e=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${t.motionDurationSlow} ${t.motionEaseInOut}`,`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`].join(",")}}}}},J_e=Dbe("Wave",Z_e),pne=`${$_}-wave-target`;function e2e(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"&&t!=="canvastext"}function t2e(t){var e;const{borderTopColor:n,borderColor:r,backgroundColor:i}=getComputedStyle(t);return(e=[n,r,i].find(e2e))!==null&&e!==void 0?e:null}function dI(t){return Number.isNaN(t)?0:t}const n2e=t=>{const{className:e,target:n,component:r,registerUnmount:i}=t,o=S.useRef(null),a=S.useRef(null);S.useEffect(()=>{a.current=i()},[]);const[s,l]=S.useState(null),[c,u]=S.useState([]),[d,f]=S.useState(0),[h,p]=S.useState(0),[_,x]=S.useState(0),[y,w]=S.useState(0),[C,M]=S.useState(!1),R={left:d,top:h,width:_,height:y,borderRadius:c.map(B=>`${B}px`).join(" ")};s&&(R["--wave-color"]=s);function N(){const B=getComputedStyle(n);l(t2e(n));const D=B.position==="static",{borderLeftWidth:$,borderTopWidth:z}=B;f(D?n.offsetLeft:dI(-Number.parseFloat($))),p(D?n.offsetTop:dI(-Number.parseFloat(z))),x(n.offsetWidth),w(n.offsetHeight);const{borderTopLeftRadius:V,borderTopRightRadius:q,borderBottomLeftRadius:G,borderBottomRightRadius:j}=B;u([V,q,j,G].map(H=>dI(Number.parseFloat(H))))}if(S.useEffect(()=>{if(n){const B=qr(()=>{N(),M(!0)});let D;return typeof ResizeObserver<"u"&&(D=new ResizeObserver(N),D.observe(n)),()=>{qr.cancel(B),D==null||D.disconnect()}}},[n]),!C)return null;const I=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(pne));return S.createElement(dd,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(B,D)=>{var $,z;if(D.deadline||D.propertyName==="opacity"){const V=($=o.current)===null||$===void 0?void 0:$.parentElement;(z=a.current)===null||z===void 0||z.call(a).then(()=>{V==null||V.remove()})}return!1}},({className:B},D)=>S.createElement("div",{ref:kl(o,D),className:je(e,B,{"wave-quick":I}),style:R}))},r2e=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",t==null||t.insertBefore(i,t==null?void 0:t.firstChild);const o=GF();let a=null;function s(){return a}a=o(S.createElement(n2e,Object.assign({},e,{target:t,registerUnmount:s})),i)},i2e=r2e,o2e=(t,e,n)=>{const{wave:r}=S.useContext(ir),[,i,o]=Ul(),a=Xr(c=>{const u=t.current;if(r!=null&&r.disabled||!u)return;const d=u.querySelector(`.${pne}`)||u,{showEffect:f}=r||{};(f||i2e)(d,{className:e,token:i,component:n,event:c,hashId:o})}),s=S.useRef(null);return c=>{qr.cancel(s.current),s.current=qr(()=>{a(c)})}},a2e=o2e,s2e=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:i}=S.useContext(ir),o=S.useRef(null),a=i("wave"),[,s]=J_e(a),l=a2e(o,je(a,s),r);if(Ye.useEffect(()=>{const u=o.current;if(!u||u.nodeType!==window.Node.ELEMENT_NODE||n)return;const d=f=>{!tS(f.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")&&!u.className.includes("disabled:")||u.getAttribute("aria-disabled")==="true"||u.className.includes("-leave")||l(f)};return u.addEventListener("click",d,!0),()=>{u.removeEventListener("click",d,!0)}},[n]),!Ye.isValidElement(e))return e??null;const c=gm(e)?kl(Sg(e),o):o;return su(e,{ref:c})},mne=s2e,l2e=t=>{const e=Ye.useContext(Y2);return Ye.useMemo(()=>t?typeof t=="string"?t??e:typeof t=="function"?t(e):e:e,[t,e])},cl=l2e;globalThis&&globalThis.__rest;const gne=S.createContext(null),Cg=(t,e)=>{const n=S.useContext(gne),r=S.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:o,isLastItem:a}=n,s=i==="vertical"?"-vertical-":"-";return je(`${t}-compact${s}item`,{[`${t}-compact${s}first-item`]:o,[`${t}-compact${s}last-item`]:a,[`${t}-compact${s}item-rtl`]:e==="rtl"})},[t,e,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},c2e=t=>{const{children:e}=t;return S.createElement(gne.Provider,{value:null},e)};var u2e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ane=S.createContext(void 0),d2e=t=>{const{getPrefixCls:e,direction:n}=S.useContext(ir),{prefixCls:r,size:i,className:o}=t,a=u2e(t,["prefixCls","size","className"]),s=e("btn-group",r),[,,l]=Ul(),c=S.useMemo(()=>{switch(i){case"large":return"lg";case"small":return"sm";default:return""}},[i]),u=je(s,{[`${s}-${c}`]:c,[`${s}-rtl`]:n==="rtl"},o,l);return S.createElement(Ane.Provider,{value:i},S.createElement("div",Object.assign({},a,{className:u})))},f2e=d2e,bG=/^[\u4E00-\u9FA5]{2}$/,V5=bG.test.bind(bG);function HF(t){return t==="danger"?{danger:!0}:{type:t}}function xG(t){return typeof t=="string"}function fI(t){return t==="text"||t==="link"}function h2e(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&xG(t.type)&&V5(t.props.children)?su(t,{children:t.props.children.split("").join(n)}):xG(t)?V5(t)?Ye.createElement("span",null,t.split("").join(n)):Ye.createElement("span",null,t):tne(t)?Ye.createElement("span",null,t):t}function p2e(t,e){let n=!1;const r=[];return Ye.Children.forEach(t,i=>{const o=typeof i,a=o==="string"||o==="number";if(n&&a){const s=r.length-1,l=r[s];r[s]=`${l}${i}`}else r.push(i);n=a}),Ye.Children.map(r,i=>h2e(i,e))}["default","primary","danger"].concat(Xt(em));const m2e=S.forwardRef((t,e)=>{const{className:n,style:r,children:i,prefixCls:o}=t,a=je(`${o}-icon`,n);return Ye.createElement("span",{ref:e,className:a,style:r},i)}),vne=m2e,_G=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,style:i,iconClassName:o}=t,a=je(`${n}-loading-icon`,r);return Ye.createElement(vne,{prefixCls:n,className:a,style:i,ref:e},Ye.createElement(J2,{className:o}))}),hI=()=>({width:0,opacity:0,transform:"scale(0)"}),pI=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),g2e=t=>{const{prefixCls:e,loading:n,existIcon:r,className:i,style:o,mount:a}=t,s=!!n;return r?Ye.createElement(_G,{prefixCls:e,className:i,style:o}):Ye.createElement(dd,{visible:s,motionName:`${e}-loading-icon-motion`,motionAppear:!a,motionEnter:!a,motionLeave:!a,removeOnLeave:!0,onAppearStart:hI,onAppearActive:pI,onEnterStart:hI,onEnterActive:pI,onLeaveStart:pI,onLeaveActive:hI},({className:l,style:c},u)=>{const d=Object.assign(Object.assign({},o),c);return Ye.createElement(_G,{prefixCls:e,className:je(i,l),style:d,ref:u})})},A2e=g2e,SG=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),v2e=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},SG(`${e}-primary`,i),SG(`${e}-danger`,o)]}},y2e=v2e;var b2e=["b"],x2e=["v"],mI=function(e){return Math.round(Number(e||0))},_2e=function(e){if(e instanceof gi)return e;if(e&&Dn(e)==="object"&&"h"in e&&"b"in e){var n=e,r=n.b,i=pr(n,b2e);return Ie(Ie({},i),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},k_=function(t){_h(n,t);var e=Sh(n);function n(r){return Jo(this,n),e.call(this,_2e(r))}return ea(n,[{key:"toHsbString",value:function(){var i=this.toHsb(),o=mI(i.s*100),a=mI(i.b*100),s=mI(i.h),l=i.a,c="hsb(".concat(s,", ").concat(o,"%, ").concat(a,"%)"),u="hsba(".concat(s,", ").concat(o,"%, ").concat(a,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?c:u}},{key:"toHsb",value:function(){var i=this.toHsv(),o=i.v,a=pr(i,x2e);return Ie(Ie({},a),{},{b:o,a:this.a})}}]),n}(gi),S2e=function(e){return e instanceof k_?e:new k_(e)};S2e("#1677ff");const w2e=(t,e)=>(t==null?void 0:t.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",C2e=(t,e)=>t?w2e(t,e):"";let G5=function(){function t(e){Jo(this,t);var n;if(this.cleared=!1,e instanceof t){this.metaColor=e.metaColor.clone(),this.colors=(n=e.colors)===null||n===void 0?void 0:n.map(i=>({color:new t(i.color),percent:i.percent})),this.cleared=e.cleared;return}const r=Array.isArray(e);r&&e.length?(this.colors=e.map(({color:i,percent:o})=>({color:new t(i),percent:o})),this.metaColor=new k_(this.colors[0].color.metaColor)):this.metaColor=new k_(r?"":e),(!e||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return ea(t,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return C2e(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(i=>`${i.color.toRgbString()} ${i.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((r,i)=>{const o=n.colors[i];return r.percent===o.percent&&r.color.equals(o.color)}):this.toHexString()===n.toHexString()}}])}();var T2e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const E2e=T2e;var M2e=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:E2e}))},P2e=S.forwardRef(M2e);const U_=P2e,R2e=t=>({[t.componentCls]:{[`${t.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}},[`${t.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}}}),N2e=R2e,I2e=t=>({animationDuration:t,animationFillMode:"both"}),O2e=t=>({animationDuration:t,animationFillMode:"both"}),XP=(t,e,n,r,i=!1)=>{const o=i?"&":"";return{[`
      ${o}${t}-enter,
      ${o}${t}-appear
    `]:Object.assign(Object.assign({},I2e(r)),{animationPlayState:"paused"}),[`${o}${t}-leave`]:Object.assign(Object.assign({},O2e(r)),{animationPlayState:"paused"}),[`
      ${o}${t}-enter${t}-enter-active,
      ${o}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},D2e=new Gr("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),L2e=new Gr("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),B2e=(t,e=!1)=>{const{antCls:n}=t,r=`${n}-fade`,i=e?"&":"";return[XP(r,D2e,L2e,t.motionDurationMid,e),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},F2e=new Gr("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),$2e=new Gr("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),k2e=new Gr("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),U2e=new Gr("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),z2e=new Gr("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),V2e=new Gr("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),G2e=new Gr("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),H2e=new Gr("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),j2e={"move-up":{inKeyframes:G2e,outKeyframes:H2e},"move-down":{inKeyframes:F2e,outKeyframes:$2e},"move-left":{inKeyframes:k2e,outKeyframes:U2e},"move-right":{inKeyframes:z2e,outKeyframes:V2e}},RM=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=j2e[e];return[XP(r,i,o,t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},jF=new Gr("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),qF=new Gr("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),WF=new Gr("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),XF=new Gr("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),q2e=new Gr("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),W2e=new Gr("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),X2e=new Gr("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),Y2e=new Gr("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),K2e={"slide-up":{inKeyframes:jF,outKeyframes:qF},"slide-down":{inKeyframes:WF,outKeyframes:XF},"slide-left":{inKeyframes:q2e,outKeyframes:W2e},"slide-right":{inKeyframes:X2e,outKeyframes:Y2e}},ty=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=K2e[e];return[XP(r,i,o,t.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInQuint}}]},YF=new Gr("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Q2e=new Gr("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),wG=new Gr("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),CG=new Gr("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Z2e=new Gr("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),J2e=new Gr("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),eSe=new Gr("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),tSe=new Gr("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),nSe=new Gr("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),rSe=new Gr("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),iSe=new Gr("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),oSe=new Gr("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),aSe={zoom:{inKeyframes:YF,outKeyframes:Q2e},"zoom-big":{inKeyframes:wG,outKeyframes:CG},"zoom-big-fast":{inKeyframes:wG,outKeyframes:CG},"zoom-left":{inKeyframes:eSe,outKeyframes:tSe},"zoom-right":{inKeyframes:nSe,outKeyframes:rSe},"zoom-up":{inKeyframes:Z2e,outKeyframes:J2e},"zoom-down":{inKeyframes:iSe,outKeyframes:oSe}},KF=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=aSe[e];return[XP(r,i,o,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},sSe=t=>t instanceof G5?t:new G5(t),lSe=(t,e)=>{const{r:n,g:r,b:i,a:o}=t.toRgb(),a=new k_(t.toRgbString()).onBackground(e).toHsv();return o<=.5?a.v>.5:n*.299+r*.587+i*.114>192},yne=t=>{const{paddingInline:e,onlyIconSize:n}=t;return Yr(t,{buttonPaddingHorizontal:e,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},bne=t=>{var e,n,r,i,o,a;const s=(e=t.contentFontSize)!==null&&e!==void 0?e:t.fontSize,l=(n=t.contentFontSizeSM)!==null&&n!==void 0?n:t.fontSize,c=(r=t.contentFontSizeLG)!==null&&r!==void 0?r:t.fontSizeLG,u=(i=t.contentLineHeight)!==null&&i!==void 0?i:vE(s),d=(o=t.contentLineHeightSM)!==null&&o!==void 0?o:vE(l),f=(a=t.contentLineHeightLG)!==null&&a!==void 0?a:vE(c),h=lSe(new G5(t.colorBgSolid),"#fff")?"#000":"#fff",p=em.reduce((_,x)=>Object.assign(Object.assign({},_),{[`${x}ShadowColor`]:`0 ${ke(t.controlOutlineWidth)} 0 ${ux(t[`${x}1`],t.colorBgContainer)}`}),{});return Object.assign(Object.assign({},p),{fontWeight:400,iconGap:t.marginXS,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:t.colorText,textTextHoverColor:t.colorText,textTextActiveColor:t.colorText,textHoverBg:t.colorFillTertiary,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,defaultHoverBg:t.colorBgContainer,defaultHoverColor:t.colorPrimaryHover,defaultHoverBorderColor:t.colorPrimaryHover,defaultActiveBg:t.colorBgContainer,defaultActiveColor:t.colorPrimaryActive,defaultActiveBorderColor:t.colorPrimaryActive,solidTextColor:h,contentFontSize:s,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:f,paddingBlock:Math.max((t.controlHeight-s*u)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-l*d)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-c*f)/2-t.lineWidth,0)})},cSe=t=>{const{componentCls:e,iconCls:n,fontWeight:r,opacityLoading:i,motionDurationSlow:o,motionEaseInOut:a,iconGap:s,calc:l}=t;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:s,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${ke(t.lineWidth)} ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:t.colorText,"&:disabled > *":{pointerEvents:"none"},[`${e}-icon > svg`]:VP(),"> a":{color:"currentColor"},"&:not(:disabled)":eg(t),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${e}-icon-only`]:{paddingInline:0,[`&${e}-compact-item`]:{flex:"none"}},[`&${e}-loading`]:{opacity:i,cursor:"default"},[`${e}-loading-icon`]:{transition:["width","opacity","margin"].map(c=>`${c} ${o} ${a}`).join(",")},[`&:not(${e}-icon-end)`]:{[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:l(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:l(s).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:l(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:l(s).mul(-1).equal()}}}}}},xne=(t,e,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":n}}),uSe=t=>({minWidth:t.controlHeight,paddingInline:0,borderRadius:"50%"}),dSe=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),YP=(t,e,n,r,i,o,a,s)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},xne(t,Object.assign({background:e},a),Object.assign({background:e},s))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),fSe=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},dSe(t))}),hSe=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),KP=(t,e,n,r)=>{const o=r&&["link","text"].includes(r)?hSe:fSe;return Object.assign(Object.assign({},o(t)),xne(t.componentCls,e,n))},QP=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-solid`]:Object.assign({color:e,background:n},KP(t,r,i))}),ZP=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-outlined, &${t.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:n},KP(t,r,i))}),JP=t=>({[`&${t.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),eR=(t,e,n,r)=>({[`&${t.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},KP(t,n,r))}),hf=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-${n}`]:Object.assign({color:e,boxShadow:"none"},KP(t,r,i,n))}),pSe=t=>{const{componentCls:e}=t;return em.reduce((n,r)=>{const i=t[`${r}6`],o=t[`${r}1`],a=t[`${r}5`],s=t[`${r}2`],l=t[`${r}3`],c=t[`${r}7`];return Object.assign(Object.assign({},n),{[`&${e}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:i,boxShadow:t[`${r}ShadowColor`]},QP(t,t.colorTextLightSolid,i,{background:a},{background:c})),ZP(t,i,t.colorBgContainer,{color:a,borderColor:a,background:t.colorBgContainer},{color:c,borderColor:c,background:t.colorBgContainer})),JP(t)),eR(t,o,{color:i,background:s},{color:i,background:l})),hf(t,i,"link",{color:a},{color:c})),hf(t,i,"text",{color:a,background:o},{color:c,background:l}))})},{})},mSe=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.defaultColor,boxShadow:t.defaultShadow},QP(t,t.solidTextColor,t.colorBgSolid,{color:t.solidTextColor,background:t.colorBgSolidHover},{color:t.solidTextColor,background:t.colorBgSolidActive})),JP(t)),eR(t,t.colorFillTertiary,{color:t.defaultColor,background:t.colorFillSecondary},{color:t.defaultColor,background:t.colorFill})),YP(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),hf(t,t.textTextColor,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),gSe=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorPrimary,boxShadow:t.primaryShadow},ZP(t,t.colorPrimary,t.colorBgContainer,{color:t.colorPrimaryTextHover,borderColor:t.colorPrimaryHover,background:t.colorBgContainer},{color:t.colorPrimaryTextActive,borderColor:t.colorPrimaryActive,background:t.colorBgContainer})),JP(t)),eR(t,t.colorPrimaryBg,{color:t.colorPrimary,background:t.colorPrimaryBgHover},{color:t.colorPrimary,background:t.colorPrimaryBorder})),hf(t,t.colorPrimaryText,"text",{color:t.colorPrimaryTextHover,background:t.colorPrimaryBg},{color:t.colorPrimaryTextActive,background:t.colorPrimaryBorder})),hf(t,t.colorPrimaryText,"link",{color:t.colorPrimaryTextHover,background:t.linkHoverBg},{color:t.colorPrimaryTextActive})),YP(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),ASe=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorError,boxShadow:t.dangerShadow},QP(t,t.dangerColor,t.colorError,{background:t.colorErrorHover},{background:t.colorErrorActive})),ZP(t,t.colorError,t.colorBgContainer,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),JP(t)),eR(t,t.colorErrorBg,{color:t.colorError,background:t.colorErrorBgFilledHover},{color:t.colorError,background:t.colorErrorBgActive})),hf(t,t.colorError,"text",{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBgActive})),hf(t,t.colorError,"link",{color:t.colorErrorHover},{color:t.colorErrorActive})),YP(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),vSe=t=>Object.assign(Object.assign({},hf(t,t.colorLink,"link",{color:t.colorLinkHover},{color:t.colorLinkActive})),YP(t.componentCls,t.ghostBg,t.colorInfo,t.colorInfo,t.colorTextDisabled,t.colorBorder,{color:t.colorInfoHover,borderColor:t.colorInfoHover},{color:t.colorInfoActive,borderColor:t.colorInfoActive})),ySe=t=>{const{componentCls:e}=t;return Object.assign({[`${e}-color-default`]:mSe(t),[`${e}-color-primary`]:gSe(t),[`${e}-color-dangerous`]:ASe(t),[`${e}-color-link`]:vSe(t)},pSe(t))},bSe=t=>Object.assign(Object.assign(Object.assign(Object.assign({},ZP(t,t.defaultBorderColor,t.defaultBg,{color:t.defaultHoverColor,borderColor:t.defaultHoverBorderColor,background:t.defaultHoverBg},{color:t.defaultActiveColor,borderColor:t.defaultActiveBorderColor,background:t.defaultActiveBg})),hf(t,t.textTextColor,"text",{color:t.textTextHoverColor,background:t.textHoverBg},{color:t.textTextActiveColor,background:t.colorBgTextActive})),QP(t,t.primaryColor,t.colorPrimary,{background:t.colorPrimaryHover,color:t.primaryColor},{background:t.colorPrimaryActive,color:t.primaryColor})),hf(t,t.colorLink,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),QF=(t,e="")=>{const{componentCls:n,controlHeight:r,fontSize:i,borderRadius:o,buttonPaddingHorizontal:a,iconCls:s,buttonPaddingVertical:l,buttonIconOnlyFontSize:c}=t;return[{[e]:{fontSize:i,height:r,padding:`${ke(l)} ${ke(a)}`,borderRadius:o,[`&${n}-icon-only`]:{width:r,[s]:{fontSize:c}}}},{[`${n}${n}-circle${e}`]:uSe(t)},{[`${n}${n}-round${e}`]:{borderRadius:t.controlHeight,[`&:not(${n}-icon-only)`]:{paddingInline:t.buttonPaddingHorizontal}}}]},xSe=t=>{const e=Yr(t,{fontSize:t.contentFontSize});return QF(e,t.componentCls)},_Se=t=>{const e=Yr(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:0,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return QF(e,`${t.componentCls}-sm`)},SSe=t=>{const e=Yr(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:0,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return QF(e,`${t.componentCls}-lg`)},wSe=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},CSe=Ti("Button",t=>{const e=yne(t);return[cSe(e),xSe(e),_Se(e),SSe(e),wSe(e),ySe(e),bSe(e),y2e(e)]},bne,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function TSe(t,e,n,r){const{focusElCls:i,focus:o,borderElCls:a}=n,s=a?"> *":"",l=["hover",o?"focus":null,"active"].filter(Boolean).map(c=>`&:${c} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},[`&-item:not(${r}-status-success)`]:{zIndex:2},"&-item":Object.assign(Object.assign({[l]:{zIndex:3}},i?{[`&${i}`]:{zIndex:3}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function ESe(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function tR(t,e={focus:!0}){const{componentCls:n}=t,{componentCls:r}=e,i=r||n,o=`${i}-compact`;return{[o]:Object.assign(Object.assign({},TSe(t,o,e,i)),ESe(i,o,e))}}function MSe(t,e,n){return{[`&-item:not(${e}-last-item)`]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},[`&-item:not(${n}-status-success)`]:{zIndex:2},"&-item":{"&:hover,&:focus,&:active":{zIndex:3},"&[disabled]":{zIndex:0}}}}function PSe(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function RSe(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},MSe(t,e,t.componentCls)),PSe(t.componentCls,e))}}const NSe=t=>{const{componentCls:e,colorPrimaryHover:n,lineWidth:r,calc:i}=t,o=i(r).mul(-1).equal(),a=s=>{const l=`${e}-compact${s?"-vertical":""}-item${e}-primary:not([disabled])`;return{[`${l} + ${l}::before`]:{position:"absolute",top:s?o:0,insetInlineStart:s?0:o,backgroundColor:n,content:'""',width:s?"100%":r,height:s?r:"100%"}}};return Object.assign(Object.assign({},a()),a(!0))},ISe=o1(["Button","compact"],t=>{const e=yne(t);return[tR(e),RSe(e),NSe(e)]},bne);var OSe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function DSe(t){if(typeof t=="object"&&t){let e=t==null?void 0:t.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!t,delay:0}}const LSe={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},BSe=Ye.forwardRef((t,e)=>{var n,r;const{loading:i=!1,prefixCls:o,color:a,variant:s,type:l,danger:c=!1,shape:u,size:d,styles:f,disabled:h,className:p,rootClassName:_,children:x,icon:y,iconPosition:w="start",ghost:C=!1,block:M=!1,htmlType:R="button",classNames:N,style:I={},autoInsertSpace:B,autoFocus:D}=t,$=OSe(t,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),z=l||"default",{button:V}=Ye.useContext(ir),q=u||(V==null?void 0:V.shape)||"default",[G,j]=S.useMemo(()=>{if(a&&s)return[a,s];if(l||c){const $e=LSe[z]||[];return c?["danger",$e[1]]:$e}return V!=null&&V.color&&(V!=null&&V.variant)?[V.color,V.variant]:["default","outlined"]},[a,s,l,c,V==null?void 0:V.color,V==null?void 0:V.variant,z]),X=G==="danger"?"dangerous":G,{getPrefixCls:Y,direction:ee,autoInsertSpace:Z,className:re,style:ae,classNames:ce,styles:he}=Fa("button"),ge=(n=B??Z)!==null&&n!==void 0?n:!0,se=Y("btn",o),[me,ye,we]=CSe(se),Ee=S.useContext(wh),Me=h??Ee,Oe=S.useContext(Ane),Ue=S.useMemo(()=>DSe(i),[i]),[Se,_e]=S.useState(Ue.loading),[ve,Ge]=S.useState(!1),ue=S.useRef(null),at=mm(e,ue),nt=S.Children.count(x)===1&&!y&&!fI(j),ct=S.useRef(!0);Ye.useEffect(()=>(ct.current=!1,()=>{ct.current=!0}),[]),zr(()=>{let $e=null;Ue.delay>0?$e=setTimeout(()=>{$e=null,_e(!0)},Ue.delay):_e(Ue.loading);function $t(){$e&&(clearTimeout($e),$e=null)}return $t},[Ue.delay,Ue.loading]),S.useEffect(()=>{if(!ue.current||!ge)return;const $e=ue.current.textContent||"";nt&&V5($e)?ve||Ge(!0):ve&&Ge(!1)}),S.useEffect(()=>{D&&ue.current&&ue.current.focus()},[]);const Ze=Ye.useCallback($e=>{var $t;if(Se||Me){$e.preventDefault();return}($t=t.onClick)===null||$t===void 0||$t.call(t,("href"in t,$e))},[t.onClick,Se,Me]),{compactSize:pe,compactItemClassnames:te}=Cg(se,ee),Ne={large:"lg",small:"sm",middle:void 0},qe=cl($e=>{var $t,Lt;return(Lt=($t=d??pe)!==null&&$t!==void 0?$t:Oe)!==null&&Lt!==void 0?Lt:$e}),gt=qe&&(r=Ne[qe])!==null&&r!==void 0?r:"",tt=Se?"loading":y,wt=po($,["navigate"]),_t=je(se,ye,we,{[`${se}-${q}`]:q!=="default"&&q,[`${se}-${z}`]:z,[`${se}-dangerous`]:c,[`${se}-color-${X}`]:X,[`${se}-variant-${j}`]:j,[`${se}-${gt}`]:gt,[`${se}-icon-only`]:!x&&x!==0&&!!tt,[`${se}-background-ghost`]:C&&!fI(j),[`${se}-loading`]:Se,[`${se}-two-chinese-chars`]:ve&&ge&&!Se,[`${se}-block`]:M,[`${se}-rtl`]:ee==="rtl",[`${se}-icon-end`]:w==="end"},te,p,_,re),Et=Object.assign(Object.assign({},ae),I),Tt=je(N==null?void 0:N.icon,ce.icon),ht=Object.assign(Object.assign({},(f==null?void 0:f.icon)||{}),he.icon||{}),Xe=$e=>Ye.createElement(vne,{prefixCls:se,className:Tt,style:ht},$e),pt=()=>Ye.createElement(A2e,{existIcon:!!y,prefixCls:se,loading:Se,mount:ct.current});let ut;y&&!Se?ut=Xe(y):i&&typeof i=="object"&&i.icon?ut=Xe(i.icon):ut=pt();const Ke=x||x===0?p2e(x,nt&&ge):null;if(wt.href!==void 0)return me(Ye.createElement("a",Object.assign({},wt,{className:je(_t,{[`${se}-disabled`]:Me}),href:Me?void 0:wt.href,style:Et,onClick:Ze,ref:at,tabIndex:Me?-1:0,"aria-disabled":Me}),ut,Ke));let Rt=Ye.createElement("button",Object.assign({},$,{type:R,className:_t,style:Et,onClick:Ze,disabled:Me,ref:at}),ut,Ke,te&&Ye.createElement(ISe,{prefixCls:se}));return fI(j)||(Rt=Ye.createElement(mne,{component:"Button",disabled:Se},Rt)),me(Rt)}),ZF=BSe;ZF.Group=f2e;ZF.__ANT_BUTTON=!0;const Go=ZF,gI=t=>typeof(t==null?void 0:t.then)=="function",FSe=t=>{const{type:e,children:n,prefixCls:r,buttonProps:i,close:o,autoFocus:a,emitEvent:s,isSilent:l,quitOnNullishReturnValue:c,actionFn:u}=t,d=S.useRef(!1),f=S.useRef(null),[h,p]=J0(!1),_=(...w)=>{o==null||o.apply(void 0,w)};S.useEffect(()=>{let w=null;return a&&(w=setTimeout(()=>{var C;(C=f.current)===null||C===void 0||C.focus({preventScroll:!0})})),()=>{w&&clearTimeout(w)}},[a]);const x=w=>{gI(w)&&(p(!0),w.then((...C)=>{p(!1,!0),_.apply(void 0,C),d.current=!1},C=>{if(p(!1,!0),d.current=!1,!(l!=null&&l()))return Promise.reject(C)}))},y=w=>{if(d.current)return;if(d.current=!0,!u){_();return}let C;if(s){if(C=u(w),c&&!gI(C)){d.current=!1,_(w);return}}else if(u.length)C=u(o),d.current=!1;else if(C=u(),!gI(C)){_();return}x(C)};return S.createElement(Go,Object.assign({},HF(e),{onClick:y,loading:h,prefixCls:r},i,{ref:f}),n)},JF=FSe,nS=Ye.createContext({}),{Provider:_ne}=nS,$Se=()=>{const{autoFocusButton:t,cancelButtonProps:e,cancelTextLocale:n,isSilent:r,mergedOkCancel:i,rootPrefixCls:o,close:a,onCancel:s,onConfirm:l}=S.useContext(nS);return i?Ye.createElement(JF,{isSilent:r,actionFn:s,close:(...c)=>{a==null||a.apply(void 0,c),l==null||l(!1)},autoFocus:t==="cancel",buttonProps:e,prefixCls:`${o}-btn`},n):null},TG=$Se,kSe=()=>{const{autoFocusButton:t,close:e,isSilent:n,okButtonProps:r,rootPrefixCls:i,okTextLocale:o,okType:a,onConfirm:s,onOk:l}=S.useContext(nS);return Ye.createElement(JF,{isSilent:n,type:a||"primary",actionFn:l,close:(...c)=>{e==null||e.apply(void 0,c),s==null||s(!0)},autoFocus:t==="ok",buttonProps:r,prefixCls:`${i}-btn`},o)},EG=kSe;var Sne=S.createContext(null),MG=[];function USe(t,e){var n=S.useState(function(){if(!ss())return null;var p=document.createElement("div");return p}),r=ze(n,1),i=r[0],o=S.useRef(!1),a=S.useContext(Sne),s=S.useState(MG),l=ze(s,2),c=l[0],u=l[1],d=a||(o.current?void 0:function(p){u(function(_){var x=[p].concat(Xt(_));return x})});function f(){i.parentElement||document.body.appendChild(i),o.current=!0}function h(){var p;(p=i.parentElement)===null||p===void 0||p.removeChild(i),o.current=!1}return zr(function(){return t?a?a(f):f():h(),h},[t]),zr(function(){c.length&&(c.forEach(function(p){return p()}),u(MG))},[c]),[i,d]}function zSe(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var i,o;if(t){var a=getComputedStyle(t);r.scrollbarColor=a.scrollbarColor,r.scrollbarWidth=a.scrollbarWidth;var s=getComputedStyle(t,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var u=l?"width: ".concat(s.width,";"):"",d=c?"height: ".concat(s.height,";"):"";Qf(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(u,`
`).concat(d,`
}`),e)}catch(p){console.error(p),i=l,o=c}}document.body.appendChild(n);var f=t&&i&&!isNaN(i)?i:n.offsetWidth-n.clientWidth,h=t&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),I_(e),{width:f,height:h}}function VSe(t){return typeof document>"u"||!t||!(t instanceof Element)?{width:0,height:0}:zSe(t)}function GSe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var HSe="rc-util-locker-".concat(Date.now()),PG=0;function jSe(t){var e=!!t,n=S.useState(function(){return PG+=1,"".concat(HSe,"_").concat(PG)}),r=ze(n,1),i=r[0];zr(function(){if(e){var o=VSe(document.body).width,a=GSe();Qf(`
html body {
  overflow-y: hidden;
  `.concat(a?"width: calc(100% - ".concat(o,"px);"):"",`
}`),i)}else I_(i);return function(){I_(i)}},[e,i])}var RG=!1;function qSe(t){return typeof t=="boolean"&&(RG=t),RG}var NG=function(e){return e===!1?!1:!ss()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},e$=S.forwardRef(function(t,e){var n=t.open,r=t.autoLock,i=t.getContainer;t.debug;var o=t.autoDestroy,a=o===void 0?!0:o,s=t.children,l=S.useState(n),c=ze(l,2),u=c[0],d=c[1],f=u||n;S.useEffect(function(){(a||n)&&d(n)},[n,a]);var h=S.useState(function(){return NG(i)}),p=ze(h,2),_=p[0],x=p[1];S.useEffect(function(){var z=NG(i);x(z??null)});var y=USe(f&&!_),w=ze(y,2),C=w[0],M=w[1],R=_??C;jSe(r&&n&&ss()&&(R===C||R===document.body));var N=null;if(s&&gm(s)&&e){var I=s;N=I.ref}var B=mm(N,e);if(!f||!ss()||_===void 0)return null;var D=R===!1||qSe(),$=s;return e&&($=S.cloneElement(s,{ref:B})),S.createElement(Sne.Provider,{value:M},D?$:rd.createPortal($,R))}),wne=S.createContext({});function WSe(){var t=Ie({},uP);return t.useId}var IG=0,OG=WSe();const t$=OG?function(e){var n=OG();return e||n}:function(e){var n=S.useState("ssr-id"),r=ze(n,2),i=r[0],o=r[1];return S.useEffect(function(){var a=IG;IG+=1,o("rc_unique_".concat(a))},[]),e||i};function DG(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}function LG(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var i=t.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function XSe(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=LG(i),n.top+=LG(i,!0),n}const YSe=S.memo(function(t){var e=t.children;return e},function(t,e){var n=e.shouldUpdate;return!n});var KSe={width:0,height:0,overflow:"hidden",outline:"none"},QSe={outline:"none"},Cne=Ye.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.title,a=t.ariaId,s=t.footer,l=t.closable,c=t.closeIcon,u=t.onClose,d=t.children,f=t.bodyStyle,h=t.bodyProps,p=t.modalRender,_=t.onMouseDown,x=t.onMouseUp,y=t.holderRef,w=t.visible,C=t.forceRender,M=t.width,R=t.height,N=t.classNames,I=t.styles,B=Ye.useContext(wne),D=B.panel,$=mm(y,D),z=S.useRef(),V=S.useRef();Ye.useImperativeHandle(e,function(){return{focus:function(){var ae;(ae=z.current)===null||ae===void 0||ae.focus({preventScroll:!0})},changeActive:function(ae){var ce=document,he=ce.activeElement;ae&&he===V.current?z.current.focus({preventScroll:!0}):!ae&&he===z.current&&V.current.focus({preventScroll:!0})}}});var q={};M!==void 0&&(q.width=M),R!==void 0&&(q.height=R);var G=s?Ye.createElement("div",{className:je("".concat(n,"-footer"),N==null?void 0:N.footer),style:Ie({},I==null?void 0:I.footer)},s):null,j=o?Ye.createElement("div",{className:je("".concat(n,"-header"),N==null?void 0:N.header),style:Ie({},I==null?void 0:I.header)},Ye.createElement("div",{className:"".concat(n,"-title"),id:a},o)):null,H=S.useMemo(function(){return Dn(l)==="object"&&l!==null?l:l?{closeIcon:c??Ye.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[l,c,n]),X=gc(H,!0),Y=Dn(l)==="object"&&l.disabled,ee=l?Ye.createElement("button",ft({type:"button",onClick:u,"aria-label":"Close"},X,{className:"".concat(n,"-close"),disabled:Y}),H.closeIcon):null,Z=Ye.createElement("div",{className:je("".concat(n,"-content"),N==null?void 0:N.content),style:I==null?void 0:I.content},ee,j,Ye.createElement("div",ft({className:je("".concat(n,"-body"),N==null?void 0:N.body),style:Ie(Ie({},f),I==null?void 0:I.body)},h),d),G);return Ye.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?a:null,"aria-modal":"true",ref:$,style:Ie(Ie({},i),q),className:je(n,r),onMouseDown:_,onMouseUp:x},Ye.createElement("div",{ref:z,tabIndex:0,style:QSe},Ye.createElement(YSe,{shouldUpdate:w||C},p?p(Z):Z)),Ye.createElement("div",{tabIndex:0,ref:V,style:KSe}))}),Tne=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.title,i=t.style,o=t.className,a=t.visible,s=t.forceRender,l=t.destroyOnClose,c=t.motionName,u=t.ariaId,d=t.onVisibleChanged,f=t.mousePosition,h=S.useRef(),p=S.useState(),_=ze(p,2),x=_[0],y=_[1],w={};x&&(w.transformOrigin=x);function C(){var M=XSe(h.current);y(f&&(f.x||f.y)?"".concat(f.x-M.left,"px ").concat(f.y-M.top,"px"):"")}return S.createElement(dd,{visible:a,onVisibleChanged:d,onAppearPrepare:C,onEnterPrepare:C,forceRender:s,motionName:c,removeOnLeave:l,ref:h},function(M,R){var N=M.className,I=M.style;return S.createElement(Cne,ft({},t,{ref:e,title:r,ariaId:u,prefixCls:n,holderRef:R,style:Ie(Ie(Ie({},I),i),w),className:je(o,N)}))})});Tne.displayName="Content";var ZSe=function(e){var n=e.prefixCls,r=e.style,i=e.visible,o=e.maskProps,a=e.motionName,s=e.className;return S.createElement(dd,{key:"mask",visible:i,motionName:a,leavedClassName:"".concat(n,"-mask-hidden")},function(l,c){var u=l.className,d=l.style;return S.createElement("div",ft({ref:c,style:Ie(Ie({},d),r),className:je("".concat(n,"-mask"),u,s)},o))})},JSe=function(e){var n=e.prefixCls,r=n===void 0?"rc-dialog":n,i=e.zIndex,o=e.visible,a=o===void 0?!1:o,s=e.keyboard,l=s===void 0?!0:s,c=e.focusTriggerAfterClose,u=c===void 0?!0:c,d=e.wrapStyle,f=e.wrapClassName,h=e.wrapProps,p=e.onClose,_=e.afterOpenChange,x=e.afterClose,y=e.transitionName,w=e.animation,C=e.closable,M=C===void 0?!0:C,R=e.mask,N=R===void 0?!0:R,I=e.maskTransitionName,B=e.maskAnimation,D=e.maskClosable,$=D===void 0?!0:D,z=e.maskStyle,V=e.maskProps,q=e.rootClassName,G=e.classNames,j=e.styles,H=S.useRef(),X=S.useRef(),Y=S.useRef(),ee=S.useState(a),Z=ze(ee,2),re=Z[0],ae=Z[1],ce=t$();function he(){u5(X.current,document.activeElement)||(H.current=document.activeElement)}function ge(){if(!u5(X.current,document.activeElement)){var _e;(_e=Y.current)===null||_e===void 0||_e.focus()}}function se(_e){if(_e)ge();else{if(ae(!1),N&&H.current&&u){try{H.current.focus({preventScroll:!0})}catch{}H.current=null}re&&(x==null||x())}_==null||_(_e)}function me(_e){p==null||p(_e)}var ye=S.useRef(!1),we=S.useRef(),Ee=function(){clearTimeout(we.current),ye.current=!0},Me=function(){we.current=setTimeout(function(){ye.current=!1})},Oe=null;$&&(Oe=function(ve){ye.current?ye.current=!1:X.current===ve.target&&me(ve)});function Ue(_e){if(l&&_e.keyCode===qt.ESC){_e.stopPropagation(),me(_e);return}a&&_e.keyCode===qt.TAB&&Y.current.changeActive(!_e.shiftKey)}S.useEffect(function(){a&&(ae(!0),he())},[a]),S.useEffect(function(){return function(){clearTimeout(we.current)}},[]);var Se=Ie(Ie(Ie({zIndex:i},d),j==null?void 0:j.wrapper),{},{display:re?null:"none"});return S.createElement("div",ft({className:je("".concat(r,"-root"),q)},gc(e,{data:!0})),S.createElement(ZSe,{prefixCls:r,visible:N&&a,motionName:DG(r,I,B),style:Ie(Ie({zIndex:i},z),j==null?void 0:j.mask),maskProps:V,className:G==null?void 0:G.mask}),S.createElement("div",ft({tabIndex:-1,onKeyDown:Ue,className:je("".concat(r,"-wrap"),f,G==null?void 0:G.wrapper),ref:X,onClick:Oe,style:Se},h),S.createElement(Tne,ft({},e,{onMouseDown:Ee,onMouseUp:Me,ref:Y,closable:M,ariaId:ce,prefixCls:r,visible:a&&re,onClose:me,onVisibleChanged:se,motionName:DG(r,y,w)}))))},Ene=function(e){var n=e.visible,r=e.getContainer,i=e.forceRender,o=e.destroyOnClose,a=o===void 0?!1:o,s=e.afterClose,l=e.panelRef,c=S.useState(n),u=ze(c,2),d=u[0],f=u[1],h=S.useMemo(function(){return{panel:l}},[l]);return S.useEffect(function(){n&&f(!0)},[n]),!i&&a&&!d?null:S.createElement(wne.Provider,{value:h},S.createElement(e$,{open:n||i||d,autoDestroy:!1,getContainer:r,autoLock:n||d},S.createElement(JSe,ft({},e,{destroyOnClose:a,afterClose:function(){s==null||s(),f(!1)}}))))};Ene.displayName="Dialog";var C0="RC_FORM_INTERNAL_HOOKS",ji=function(){is(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},tg=S.createContext({getFieldValue:ji,getFieldsValue:ji,getFieldError:ji,getFieldWarning:ji,getFieldsError:ji,isFieldsTouched:ji,isFieldTouched:ji,isFieldValidating:ji,isFieldsValidating:ji,resetFields:ji,setFields:ji,setFieldValue:ji,setFieldsValue:ji,validateFields:ji,submit:ji,getInternalHooks:function(){return ji(),{dispatch:ji,initEntityValue:ji,registerField:ji,useSubscribe:ji,setInitialValues:ji,destroyForm:ji,setCallbacks:ji,registerWatch:ji,getFields:ji,setValidateMessages:ji,setPreserve:ji,getInitialValue:ji}}}),z_=S.createContext(null);function H5(t){return t==null?[]:Array.isArray(t)?t:[t]}function ewe(t){return t&&!!t._init}function j5(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",tel:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var q5=j5();function twe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function nwe(t,e,n){if(EF())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&Kv(i,n.prototype),i}function NM(t){var e=typeof Map=="function"?new Map:void 0;return NM=function(r){if(r===null||!twe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return nwe(r,arguments,R_(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Kv(i,r)},NM(t)}var rwe=/%[sdj%]/g,iwe=function(){};typeof process<"u"&&process.env;function W5(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function ac(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(rwe,function(s){if(s==="%%")return"%";if(i>=o)return s;switch(s){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return s}});return a}return t}function owe(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"||t==="tel"}function va(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||owe(e)&&typeof t=="string"&&!t)}function awe(t,e,n){var r=[],i=0,o=t.length;function a(s){r.push.apply(r,Xt(s||[])),i++,i===o&&n(r)}t.forEach(function(s){e(s,a)})}function BG(t,e,n){var r=0,i=t.length;function o(a){if(a&&a.length){n(a);return}var s=r;r=r+1,s<i?e(t[s],o):n([])}o([])}function swe(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,Xt(t[n]||[]))}),e}var FG=function(t){_h(n,t);var e=Sh(n);function n(r,i){var o;return Jo(this,n),o=e.call(this,"Async Validation Error"),Re(jr(o),"errors",void 0),Re(jr(o),"fields",void 0),o.errors=r,o.fields=i,o}return ea(n)}(NM(Error));function lwe(t,e,n,r,i){if(e.first){var o=new Promise(function(f,h){var p=function(y){return r(y),y.length?h(new FG(y,W5(y))):f(i)},_=swe(t);BG(_,n,p)});return o.catch(function(f){return f}),o}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),l=s.length,c=0,u=[],d=new Promise(function(f,h){var p=function(x){if(u.push.apply(u,x),c++,c===l)return r(u),u.length?h(new FG(u,W5(u))):f(i)};s.length||(r(u),f(i)),s.forEach(function(_){var x=t[_];a.indexOf(_)!==-1?BG(x,n,p):awe(x,n,p)})});return d.catch(function(f){return f}),d}function cwe(t){return!!(t&&t.message!==void 0)}function uwe(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function $G(t,e){return function(n){var r;return t.fullFields?r=uwe(e,t.fullFields):r=e[n.field||t.fullField],cwe(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function kG(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];Dn(r)==="object"&&Dn(t[n])==="object"?t[n]=Ie(Ie({},t[n]),r):t[n]=r}}return t}var Kg="enum",dwe=function(e,n,r,i,o){e[Kg]=Array.isArray(e[Kg])?e[Kg]:[],e[Kg].indexOf(n)===-1&&i.push(ac(o.messages[Kg],e.fullField,e[Kg].join(", ")))},fwe=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(ac(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||i.push(ac(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},hwe=function(e,n,r,i,o){var a=typeof e.len=="number",s=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,f=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(f?d="number":h?d="string":p&&(d="array"),!d)return!1;p&&(u=n.length),h&&(u=n.replace(c,"_").length),a?u!==e.len&&i.push(ac(o.messages[d].len,e.fullField,e.len)):s&&!l&&u<e.min?i.push(ac(o.messages[d].min,e.fullField,e.min)):l&&!s&&u>e.max?i.push(ac(o.messages[d].max,e.fullField,e.max)):s&&l&&(u<e.min||u>e.max)&&i.push(ac(o.messages[d].range,e.fullField,e.min,e.max))},Mne=function(e,n,r,i,o,a){e.required&&(!r.hasOwnProperty(e.field)||va(n,a||e.type))&&i.push(ac(o.messages.required,e.fullField))},nC;const pwe=function(){if(nC)return nC;var t="[a-fA-F\\d:]",e=function(N){return N&&N.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",a="(?:".concat(i.join("|"),")").concat(o),s=new RegExp("(?:^".concat(n,"$)|(?:^").concat(a,"$)")),l=new RegExp("^".concat(n,"$")),c=new RegExp("^".concat(a,"$")),u=function(N){return N&&N.exact?s:new RegExp("(?:".concat(e(N)).concat(n).concat(e(N),")|(?:").concat(e(N)).concat(a).concat(e(N),")"),"g")};u.v4=function(R){return R&&R.exact?l:new RegExp("".concat(e(R)).concat(n).concat(e(R)),"g")},u.v6=function(R){return R&&R.exact?c:new RegExp("".concat(e(R)).concat(a).concat(e(R)),"g")};var d="(?:(?:[a-z]+:)?//)",f="(?:\\S+(?::\\S*)?@)?",h=u.v4().source,p=u.v6().source,_="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",x="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",y="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",C='(?:[/?#][^\\s"]*)?',M="(?:".concat(d,"|www\\.)").concat(f,"(?:localhost|").concat(h,"|").concat(p,"|").concat(_).concat(x).concat(y,")").concat(w).concat(C);return nC=new RegExp("(?:^".concat(M,"$)"),"i"),nC};var AI={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,tel:/^(\+[0-9]{1,3}[-\s\u2011]?)?(\([0-9]{1,4}\)[-\s\u2011]?)?([0-9]+[-\s\u2011]?)*[0-9]+$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},dx={integer:function(e){return dx.number(e)&&parseInt(e,10)===e},float:function(e){return dx.number(e)&&!dx.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return Dn(e)==="object"&&!dx.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(AI.email)},tel:function(e){return typeof e=="string"&&e.length<=32&&!!e.match(AI.tel)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(pwe())},hex:function(e){return typeof e=="string"&&!!e.match(AI.hex)}},mwe=function(e,n,r,i,o){if(e.required&&n===void 0){Mne(e,n,r,i,o);return}var a=["integer","float","array","regexp","object","method","email","tel","number","date","url","hex"],s=e.type;a.indexOf(s)>-1?dx[s](n)||i.push(ac(o.messages.types[s],e.fullField,e.type)):s&&Dn(n)!==e.type&&i.push(ac(o.messages.types[s],e.fullField,e.type))},gwe=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(ac(o.messages.whitespace,e.fullField))};const si={required:Mne,whitespace:gwe,type:mwe,range:hwe,enum:dwe,pattern:fwe};var Awe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(va(n)&&!e.required)return r();si.required(e,n,i,a,o)}r(a)},vwe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n==null&&!e.required)return r();si.required(e,n,i,a,o,"array"),n!=null&&(si.type(e,n,i,a,o),si.range(e,n,i,a,o))}r(a)},ywe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(va(n)&&!e.required)return r();si.required(e,n,i,a,o),n!==void 0&&si.type(e,n,i,a,o)}r(a)},bwe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(va(n,"date")&&!e.required)return r();if(si.required(e,n,i,a,o),!va(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),si.type(e,l,i,a,o),l&&si.range(e,l.getTime(),i,a,o)}}r(a)},xwe="enum",_we=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(va(n)&&!e.required)return r();si.required(e,n,i,a,o),n!==void 0&&si[xwe](e,n,i,a,o)}r(a)},Swe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(va(n)&&!e.required)return r();si.required(e,n,i,a,o),n!==void 0&&(si.type(e,n,i,a,o),si.range(e,n,i,a,o))}r(a)},wwe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(va(n)&&!e.required)return r();si.required(e,n,i,a,o),n!==void 0&&(si.type(e,n,i,a,o),si.range(e,n,i,a,o))}r(a)},Cwe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(va(n)&&!e.required)return r();si.required(e,n,i,a,o),n!==void 0&&si.type(e,n,i,a,o)}r(a)},Twe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n===""&&(n=void 0),va(n)&&!e.required)return r();si.required(e,n,i,a,o),n!==void 0&&(si.type(e,n,i,a,o),si.range(e,n,i,a,o))}r(a)},Ewe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(va(n)&&!e.required)return r();si.required(e,n,i,a,o),n!==void 0&&si.type(e,n,i,a,o)}r(a)},Mwe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(va(n,"string")&&!e.required)return r();si.required(e,n,i,a,o),va(n,"string")||si.pattern(e,n,i,a,o)}r(a)},Pwe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(va(n)&&!e.required)return r();si.required(e,n,i,a,o),va(n)||si.type(e,n,i,a,o)}r(a)},Rwe=function(e,n,r,i,o){var a=[],s=Array.isArray(n)?"array":Dn(n);si.required(e,n,i,a,o,s),r(a)},Nwe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(va(n,"string")&&!e.required)return r();si.required(e,n,i,a,o,"string"),va(n,"string")||(si.type(e,n,i,a,o),si.range(e,n,i,a,o),si.pattern(e,n,i,a,o),e.whitespace===!0&&si.whitespace(e,n,i,a,o))}r(a)},rC=function(e,n,r,i,o){var a=e.type,s=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(va(n,a)&&!e.required)return r();si.required(e,n,i,s,o,a),va(n,a)||si.type(e,n,i,s,o)}r(s)};const zx={string:Nwe,method:Cwe,number:Twe,boolean:ywe,regexp:Pwe,integer:wwe,float:Swe,array:vwe,object:Ewe,enum:_we,pattern:Mwe,date:bwe,url:rC,hex:rC,email:rC,tel:rC,required:Rwe,any:Awe};var rS=function(){function t(e){Jo(this,t),Re(this,"rules",null),Re(this,"_messages",q5),this.define(e)}return ea(t,[{key:"define",value:function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(Dn(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(i){var o=n[i];r.rules[i]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(n){return n&&(this._messages=kG(j5(),n)),this._messages}},{key:"validate",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=n,s=i,l=o;if(typeof s=="function"&&(l=s,s={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,a),Promise.resolve(a);function c(p){var _=[],x={};function y(C){if(Array.isArray(C)){var M;_=(M=_).concat.apply(M,Xt(C))}else _.push(C)}for(var w=0;w<p.length;w++)y(p[w]);_.length?(x=W5(_),l(_,x)):l(null,a)}if(s.messages){var u=this.messages();u===q5&&(u=j5()),kG(u,s.messages),s.messages=u}else s.messages=this.messages();var d={},f=s.keys||Object.keys(this.rules);f.forEach(function(p){var _=r.rules[p],x=a[p];_.forEach(function(y){var w=y;typeof w.transform=="function"&&(a===n&&(a=Ie({},a)),x=a[p]=w.transform(x),x!=null&&(w.type=w.type||(Array.isArray(x)?"array":Dn(x)))),typeof w=="function"?w={validator:w}:w=Ie({},w),w.validator=r.getValidationMethod(w),w.validator&&(w.field=p,w.fullField=w.fullField||p,w.type=r.getType(w),d[p]=d[p]||[],d[p].push({rule:w,value:x,source:a,field:p}))})});var h={};return lwe(d,s,function(p,_){var x=p.rule,y=(x.type==="object"||x.type==="array")&&(Dn(x.fields)==="object"||Dn(x.defaultField)==="object");y=y&&(x.required||!x.required&&p.value),x.field=p.field;function w(I,B){return Ie(Ie({},B),{},{fullField:"".concat(x.fullField,".").concat(I),fullFields:x.fullFields?[].concat(Xt(x.fullFields),[I]):[I]})}function C(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=Array.isArray(I)?I:[I];!s.suppressWarning&&B.length&&t.warning("async-validator:",B),B.length&&x.message!==void 0&&x.message!==null&&(B=[].concat(x.message));var D=B.map($G(x,a));if(s.first&&D.length)return h[x.field]=1,_(D);if(!y)_(D);else{if(x.required&&!p.value)return x.message!==void 0?D=[].concat(x.message).map($G(x,a)):s.error&&(D=[s.error(x,ac(s.messages.required,x.field))]),_(D);var $={};x.defaultField&&Object.keys(p.value).map(function(q){$[q]=x.defaultField}),$=Ie(Ie({},$),p.rule.fields);var z={};Object.keys($).forEach(function(q){var G=$[q],j=Array.isArray(G)?G:[G];z[q]=j.map(w.bind(null,q))});var V=new t(z);V.messages(s.messages),p.rule.options&&(p.rule.options.messages=s.messages,p.rule.options.error=s.error),V.validate(p.value,p.rule.options||s,function(q){var G=[];D&&D.length&&G.push.apply(G,Xt(D)),q&&q.length&&G.push.apply(G,Xt(q)),_(G.length?G:null)})}}var M;if(x.asyncValidator)M=x.asyncValidator(x,p.value,C,p.source,s);else if(x.validator){try{M=x.validator(x,p.value,C,p.source,s)}catch(I){var R,N;(R=(N=console).error)===null||R===void 0||R.call(N,I),s.suppressValidatorError||setTimeout(function(){throw I},0),C(I.message)}M===!0?C():M===!1?C(typeof x.message=="function"?x.message(x.fullField||x.field):x.message||"".concat(x.fullField||x.field," fails")):M instanceof Array?C(M):M instanceof Error&&C(M.message)}M&&M.then&&M.then(function(){return C()},function(I){return C(I)})},function(p){c(p)},a)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!zx.hasOwnProperty(n.type))throw new Error(ac("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),i=r.indexOf("message");return i!==-1&&r.splice(i,1),r.length===1&&r[0]==="required"?zx.required:zx[this.getType(n)]||void 0}}]),t}();Re(rS,"register",function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");zx[e]=n});Re(rS,"warning",iwe);Re(rS,"messages",q5);Re(rS,"validators",zx);var jl="'${name}' is not a valid ${type}",Pne={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:jl,method:jl,array:jl,object:jl,number:jl,date:jl,boolean:jl,integer:jl,float:jl,regexp:jl,email:jl,url:jl,hex:jl},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},UG=rS;function Iwe(t,e){return t.replace(/\\?\$\{\w+\}/g,function(n){if(n.startsWith("\\"))return n.slice(1);var r=n.slice(2,-1);return e[r]})}var zG="CODE_LOGIC_ERROR";function X5(t,e,n,r,i){return Y5.apply(this,arguments)}function Y5(){return Y5=wg(Ns().mark(function t(e,n,r,i,o){var a,s,l,c,u,d,f,h,p;return Ns().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return a=Ie({},r),delete a.ruleIndex,UG.warning=function(){},a.validator&&(s=a.validator,a.validator=function(){try{return s.apply(void 0,arguments)}catch(y){return console.error(y),Promise.reject(zG)}}),l=null,a&&a.type==="array"&&a.defaultField&&(l=a.defaultField,delete a.defaultField),c=new UG(Re({},e,[a])),u=iv(Pne,i.validateMessages),c.messages(u),d=[],x.prev=10,x.next=13,Promise.resolve(c.validate(Re({},e,n),Ie({},i)));case 13:x.next=18;break;case 15:x.prev=15,x.t0=x.catch(10),x.t0.errors&&(d=x.t0.errors.map(function(y,w){var C=y.message,M=C===zG?u.default:C;return S.isValidElement(M)?S.cloneElement(M,{key:"error_".concat(w)}):M}));case 18:if(!(!d.length&&l&&Array.isArray(n)&&n.length>0)){x.next=23;break}return x.next=21,Promise.all(n.map(function(y,w){return X5("".concat(e,".").concat(w),y,l,i,o)}));case 21:return f=x.sent,x.abrupt("return",f.reduce(function(y,w){return[].concat(Xt(y),Xt(w))},[]));case 23:return h=Ie(Ie({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),p=d.map(function(y){return typeof y=="string"?Iwe(y,h):y}),x.abrupt("return",p);case 26:case"end":return x.stop()}},t,null,[[10,15]])})),Y5.apply(this,arguments)}function Owe(t,e,n,r,i,o){var a=t.join("."),s=n.map(function(u,d){var f=u.validator,h=Ie(Ie({},u),{},{ruleIndex:d});return f&&(h.validator=function(p,_,x){var y=!1,w=function(){for(var R=arguments.length,N=new Array(R),I=0;I<R;I++)N[I]=arguments[I];Promise.resolve().then(function(){is(!y,"Your validator function has already return a promise. `callback` will be ignored."),y||x.apply(void 0,N)})},C=f(p,_,w);y=C&&typeof C.then=="function"&&typeof C.catch=="function",is(y,"`callback` is deprecated. Please return a promise instead."),y&&C.then(function(){x()}).catch(function(M){x(M||" ")})}),h}).sort(function(u,d){var f=u.warningOnly,h=u.ruleIndex,p=d.warningOnly,_=d.ruleIndex;return!!f==!!p?h-_:f?1:-1}),l;if(i===!0)l=new Promise(function(){var u=wg(Ns().mark(function d(f,h){var p,_,x;return Ns().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:p=0;case 1:if(!(p<s.length)){w.next=12;break}return _=s[p],w.next=5,X5(a,e,_,r,o);case 5:if(x=w.sent,!x.length){w.next=9;break}return h([{errors:x,rule:_}]),w.abrupt("return");case 9:p+=1,w.next=1;break;case 12:f([]);case 13:case"end":return w.stop()}},d)}));return function(d,f){return u.apply(this,arguments)}}());else{var c=s.map(function(u){return X5(a,e,u,r,o).then(function(d){return{errors:d,rule:u}})});l=(i?Lwe(c):Dwe(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function Dwe(t){return K5.apply(this,arguments)}function K5(){return K5=wg(Ns().mark(function t(e){return Ns().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,a=(o=[]).concat.apply(o,Xt(i));return a}));case 1:case"end":return r.stop()}},t)})),K5.apply(this,arguments)}function Lwe(t){return Q5.apply(this,arguments)}function Q5(){return Q5=wg(Ns().mark(function t(e){var n;return Ns().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){e.forEach(function(a){a.then(function(s){s.errors.length&&o([s]),n+=1,n===e.length&&o([])})})}));case 2:case"end":return i.stop()}},t)})),Q5.apply(this,arguments)}function Xo(t){return H5(t)}function VG(t,e){var n={};return e.forEach(function(r){var i=Wc(t,r);n=Vc(n,r,i)}),n}function Mv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t&&t.some(function(r){return Rne(e,r,n)})}function Rne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t||!e||!n&&t.length!==e.length?!1:e.every(function(r,i){return t[i]===r})}function Bwe(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||Dn(t)!=="object"||Dn(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(n,r));return Xt(i).every(function(o){var a=t[o],s=e[o];return typeof a=="function"&&typeof s=="function"?!0:a===s})}function Fwe(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&Dn(e.target)==="object"&&t in e.target?e.target[t]:e}function GG(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(Xt(t.slice(0,n)),[i],Xt(t.slice(n,e)),Xt(t.slice(e+1,r))):o<0?[].concat(Xt(t.slice(0,e)),Xt(t.slice(e+1,n+1)),[i],Xt(t.slice(n+1,r))):t}var $we=["name"],Ic=[];function vI(t,e,n,r,i,o){return typeof t=="function"?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var n$=function(t){_h(n,t);var e=Sh(n);function n(r){var i;if(Jo(this,n),i=e.call(this,r),Re(jr(i),"state",{resetCount:0}),Re(jr(i),"cancelRegisterFunc",null),Re(jr(i),"mounted",!1),Re(jr(i),"touched",!1),Re(jr(i),"dirty",!1),Re(jr(i),"validatePromise",void 0),Re(jr(i),"prevValidating",void 0),Re(jr(i),"errors",Ic),Re(jr(i),"warnings",Ic),Re(jr(i),"cancelRegister",function(){var l=i.props,c=l.preserve,u=l.isListField,d=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(u,c,Xo(d)),i.cancelRegisterFunc=null}),Re(jr(i),"getNamePath",function(){var l=i.props,c=l.name,u=l.fieldContext,d=u.prefixName,f=d===void 0?[]:d;return c!==void 0?[].concat(Xt(f),Xt(c)):[]}),Re(jr(i),"getRules",function(){var l=i.props,c=l.rules,u=c===void 0?[]:c,d=l.fieldContext;return u.map(function(f){return typeof f=="function"?f(d):f})}),Re(jr(i),"refresh",function(){i.mounted&&i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),Re(jr(i),"metaCache",null),Re(jr(i),"triggerMetaEvent",function(l){var c=i.props.onMetaChange;if(c){var u=Ie(Ie({},i.getMeta()),{},{destroy:l});D_(i.metaCache,u)||c(u),i.metaCache=u}else i.metaCache=null}),Re(jr(i),"onStoreChange",function(l,c,u){var d=i.props,f=d.shouldUpdate,h=d.dependencies,p=h===void 0?[]:h,_=d.onReset,x=u.store,y=i.getNamePath(),w=i.getValue(l),C=i.getValue(x),M=c&&Mv(c,y);switch(u.type==="valueUpdate"&&u.source==="external"&&!D_(w,C)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Ic,i.warnings=Ic,i.triggerMetaEvent()),u.type){case"reset":if(!c||M){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=Ic,i.warnings=Ic,i.triggerMetaEvent(),_==null||_(),i.refresh();return}break;case"remove":{if(f&&vI(f,l,x,w,C,u)){i.reRender();return}break}case"setField":{var R=u.data;if(M){"touched"in R&&(i.touched=R.touched),"validating"in R&&!("originRCField"in R)&&(i.validatePromise=R.validating?Promise.resolve([]):null),"errors"in R&&(i.errors=R.errors||Ic),"warnings"in R&&(i.warnings=R.warnings||Ic),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in R&&Mv(c,y,!0)){i.reRender();return}if(f&&!y.length&&vI(f,l,x,w,C,u)){i.reRender();return}break}case"dependenciesUpdate":{var N=p.map(Xo);if(N.some(function(I){return Mv(u.relatedFields,I)})){i.reRender();return}break}default:if(M||(!p.length||y.length||f)&&vI(f,l,x,w,C,u)){i.reRender();return}break}f===!0&&i.reRender()}),Re(jr(i),"validateRules",function(l){var c=i.getNamePath(),u=i.getValue(),d=l||{},f=d.triggerName,h=d.validateOnly,p=h===void 0?!1:h,_=Promise.resolve().then(wg(Ns().mark(function x(){var y,w,C,M,R,N,I;return Ns().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(i.mounted){D.next=2;break}return D.abrupt("return",[]);case 2:if(y=i.props,w=y.validateFirst,C=w===void 0?!1:w,M=y.messageVariables,R=y.validateDebounce,N=i.getRules(),f&&(N=N.filter(function($){return $}).filter(function($){var z=$.validateTrigger;if(!z)return!0;var V=H5(z);return V.includes(f)})),!(R&&f)){D.next=10;break}return D.next=8,new Promise(function($){setTimeout($,R)});case 8:if(i.validatePromise===_){D.next=10;break}return D.abrupt("return",[]);case 10:return I=Owe(c,u,N,l,C,M),I.catch(function($){return $}).then(function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ic;if(i.validatePromise===_){var z;i.validatePromise=null;var V=[],q=[];(z=$.forEach)===null||z===void 0||z.call($,function(G){var j=G.rule.warningOnly,H=G.errors,X=H===void 0?Ic:H;j?q.push.apply(q,Xt(X)):V.push.apply(V,Xt(X))}),i.errors=V,i.warnings=q,i.triggerMetaEvent(),i.reRender()}}),D.abrupt("return",I);case 13:case"end":return D.stop()}},x)})));return p||(i.validatePromise=_,i.dirty=!0,i.errors=Ic,i.warnings=Ic,i.triggerMetaEvent(),i.reRender()),_}),Re(jr(i),"isFieldValidating",function(){return!!i.validatePromise}),Re(jr(i),"isFieldTouched",function(){return i.touched}),Re(jr(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(C0),u=c.getInitialValue;return u(i.getNamePath())!==void 0}),Re(jr(i),"getErrors",function(){return i.errors}),Re(jr(i),"getWarnings",function(){return i.warnings}),Re(jr(i),"isListField",function(){return i.props.isListField}),Re(jr(i),"isList",function(){return i.props.isList}),Re(jr(i),"isPreserve",function(){return i.props.preserve}),Re(jr(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),Re(jr(i),"getOnlyChild",function(l){if(typeof l=="function"){var c=i.getMeta();return Ie(Ie({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var u=mc(l);return u.length!==1||!S.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),Re(jr(i),"getValue",function(l){var c=i.props.fieldContext.getFieldsValue,u=i.getNamePath();return Wc(l||c(!0),u)}),Re(jr(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,u=c.name,d=c.trigger,f=c.validateTrigger,h=c.getValueFromEvent,p=c.normalize,_=c.valuePropName,x=c.getValueProps,y=c.fieldContext,w=f!==void 0?f:y.validateTrigger,C=i.getNamePath(),M=y.getInternalHooks,R=y.getFieldsValue,N=M(C0),I=N.dispatch,B=i.getValue(),D=x||function(G){return Re({},_,G)},$=l[d],z=u!==void 0?D(B):{},V=Ie(Ie({},l),z);V[d]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var G,j=arguments.length,H=new Array(j),X=0;X<j;X++)H[X]=arguments[X];h?G=h.apply(void 0,H):G=Fwe.apply(void 0,[_].concat(H)),p&&(G=p(G,B,R(!0))),G!==B&&I({type:"updateValue",namePath:C,value:G}),$&&$.apply(void 0,H)};var q=H5(w||[]);return q.forEach(function(G){var j=V[G];V[G]=function(){j&&j.apply(void 0,arguments);var H=i.props.rules;H&&H.length&&I({type:"validateField",namePath:C,triggerName:G})}}),V}),r.fieldContext){var o=r.fieldContext.getInternalHooks,a=o(C0),s=a.initEntityValue;s(jr(i))}return i}return ea(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,a=i.fieldContext;if(this.mounted=!0,a){var s=a.getInternalHooks,l=s(C0),c=l.registerField;this.cancelRegisterFunc=c(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,a=this.getOnlyChild(o),s=a.child,l=a.isFunction,c;return l?c=s:S.isValidElement(s)?c=S.cloneElement(s,this.getControlled(s.props)):(is(!s,"`children` of Field is not validate ReactElement."),c=s),S.createElement(S.Fragment,{key:i},c)}}]),n}(S.Component);Re(n$,"contextType",tg);Re(n$,"defaultProps",{trigger:"onChange",valuePropName:"value"});function r$(t){var e,n=t.name,r=pr(t,$we),i=S.useContext(tg),o=S.useContext(z_),a=n!==void 0?Xo(n):void 0,s=(e=r.isListField)!==null&&e!==void 0?e:!!o,l="keep";return s||(l="_".concat((a||[]).join("_"))),S.createElement(n$,ft({key:l,name:a,isListField:s},r,{fieldContext:i}))}function Nne(t){var e=t.name,n=t.initialValue,r=t.children,i=t.rules,o=t.validateTrigger,a=t.isListField,s=S.useContext(tg),l=S.useContext(z_),c=S.useRef({keys:[],id:0}),u=c.current,d=S.useMemo(function(){var _=Xo(s.prefixName)||[];return[].concat(Xt(_),Xt(Xo(e)))},[s.prefixName,e]),f=S.useMemo(function(){return Ie(Ie({},s),{},{prefixName:d})},[s,d]),h=S.useMemo(function(){return{getKey:function(x){var y=d.length,w=x[y];return[u.keys[w],x.slice(y+1)]}}},[d]);if(typeof r!="function")return is(!1,"Form.List only accepts function as children."),null;var p=function(x,y,w){var C=w.source;return C==="internal"?!1:x!==y};return S.createElement(z_.Provider,{value:h},S.createElement(tg.Provider,{value:f},S.createElement(r$,{name:[],shouldUpdate:p,rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:a??!!l},function(_,x){var y=_.value,w=y===void 0?[]:y,C=_.onChange,M=s.getFieldValue,R=function(){var D=M(d||[]);return D||[]},N={add:function(D,$){var z=R();$>=0&&$<=z.length?(u.keys=[].concat(Xt(u.keys.slice(0,$)),[u.id],Xt(u.keys.slice($))),C([].concat(Xt(z.slice(0,$)),[D],Xt(z.slice($))))):(u.keys=[].concat(Xt(u.keys),[u.id]),C([].concat(Xt(z),[D]))),u.id+=1},remove:function(D){var $=R(),z=new Set(Array.isArray(D)?D:[D]);z.size<=0||(u.keys=u.keys.filter(function(V,q){return!z.has(q)}),C($.filter(function(V,q){return!z.has(q)})))},move:function(D,$){if(D!==$){var z=R();D<0||D>=z.length||$<0||$>=z.length||(u.keys=GG(u.keys,D,$),C(GG(z,D,$)))}}},I=w||[];return Array.isArray(I)||(I=[]),r(I.map(function(B,D){var $=u.keys[D];return $===void 0&&(u.keys[D]=u.id,$=u.keys[D],u.id+=1),{name:D,key:$,isListField:!0}}),N,x)})))}function kwe(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(i,o){t.forEach(function(a,s){a.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[s]=l,!(n>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}var Ine="__@field_split__";function yI(t){return t.map(function(e){return"".concat(Dn(e),":").concat(e)}).join(Ine)}var Qg=function(){function t(){Jo(this,t),Re(this,"kvs",new Map)}return ea(t,[{key:"set",value:function(n,r){this.kvs.set(yI(n),r)}},{key:"get",value:function(n){return this.kvs.get(yI(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(yI(n))}},{key:"map",value:function(n){return Xt(this.kvs.entries()).map(function(r){var i=ze(r,2),o=i[0],a=i[1],s=o.split(Ine);return n({key:s.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=ze(c,3),d=u[1],f=u[2];return d==="number"?Number(f):f}),value:a})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),t}(),Uwe=["name"],zwe=ea(function t(e){var n=this;Jo(this,t),Re(this,"formHooked",!1),Re(this,"forceRootUpdate",void 0),Re(this,"subscribable",!0),Re(this,"store",{}),Re(this,"fieldEntities",[]),Re(this,"initialValues",{}),Re(this,"callbacks",{}),Re(this,"validateMessages",null),Re(this,"preserve",null),Re(this,"lastValidatePromise",null),Re(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),Re(this,"getInternalHooks",function(r){return r===C0?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(is(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),Re(this,"useSubscribe",function(r){n.subscribable=r}),Re(this,"prevWithoutPreserves",null),Re(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var o,a=iv(r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(s){var l=s.key;a=Vc(a,l,Wc(r,l))}),n.prevWithoutPreserves=null,n.updateStore(a)}}),Re(this,"destroyForm",function(r){if(r)n.updateStore({});else{var i=new Qg;n.getFieldEntities(!0).forEach(function(o){n.isMergedPreserve(o.isPreserve())||i.set(o.getNamePath(),!0)}),n.prevWithoutPreserves=i}}),Re(this,"getInitialValue",function(r){var i=Wc(n.initialValues,r);return r.length?iv(i):i}),Re(this,"setCallbacks",function(r){n.callbacks=r}),Re(this,"setValidateMessages",function(r){n.validateMessages=r}),Re(this,"setPreserve",function(r){n.preserve=r}),Re(this,"watchList",[]),Re(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),Re(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach(function(a){a(i,o,r)})}}),Re(this,"timeoutId",null),Re(this,"warningUnhooked",function(){}),Re(this,"updateStore",function(r){n.store=r}),Re(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),Re(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new Qg;return n.getFieldEntities(r).forEach(function(o){var a=o.getNamePath();i.set(a,o)}),i}),Re(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var a=Xo(o);return i.get(a)||{INVALIDATE_NAME_PATH:Xo(o)}})}),Re(this,"getFieldsValue",function(r,i){n.warningUnhooked();var o,a,s;if(r===!0||Array.isArray(r)?(o=r,a=i):r&&Dn(r)==="object"&&(s=r.strict,a=r.filter),o===!0&&!a)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),c=[];return l.forEach(function(u){var d,f,h="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(s){var p,_;if((p=(_=u).isList)!==null&&p!==void 0&&p.call(_))return}else if(!o&&(d=(f=u).isListField)!==null&&d!==void 0&&d.call(f))return;if(!a)c.push(h);else{var x="getMeta"in u?u.getMeta():null;a(x)&&c.push(h)}}),VG(n.store,c.map(Xo))}),Re(this,"getFieldValue",function(r){n.warningUnhooked();var i=Xo(r);return Wc(n.store,i)}),Re(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,a){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:Xo(r[a]),errors:[],warnings:[]}})}),Re(this,"getFieldError",function(r){n.warningUnhooked();var i=Xo(r),o=n.getFieldsError([i])[0];return o.errors}),Re(this,"getFieldWarning",function(r){n.warningUnhooked();var i=Xo(r),o=n.getFieldsError([i])[0];return o.warnings}),Re(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i[0],s=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(a)?(l=a.map(Xo),c=!1):(l=null,c=a):(l=a.map(Xo),c=s);var u=n.getFieldEntities(!0),d=function(x){return x.isFieldTouched()};if(!l)return c?u.every(function(_){return d(_)||_.isList()}):u.some(d);var f=new Qg;l.forEach(function(_){f.set(_,[])}),u.forEach(function(_){var x=_.getNamePath();l.forEach(function(y){y.every(function(w,C){return x[C]===w})&&f.update(y,function(w){return[].concat(Xt(w),[_])})})});var h=function(x){return x.some(d)},p=f.map(function(_){var x=_.value;return x});return c?p.every(h):p.some(h)}),Re(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),Re(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(a){return a.isFieldValidating()});var o=r.map(Xo);return i.some(function(a){var s=a.getNamePath();return Mv(o,s)&&a.isFieldValidating()})}),Re(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),Re(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new Qg,o=n.getFieldEntities(!0);o.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var d=i.get(u)||new Set;d.add({entity:l,value:c}),i.set(u,d)}});var a=function(c){c.forEach(function(u){var d=u.props.initialValue;if(d!==void 0){var f=u.getNamePath(),h=n.getInitialValue(f);if(h!==void 0)is(!1,"Form already set 'initialValues' with path '".concat(f.join("."),"'. Field can not overwrite it."));else{var p=i.get(f);if(p&&p.size>1)is(!1,"Multiple Field with path '".concat(f.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(p){var _=n.getFieldValue(f),x=u.isListField();!x&&(!r.skipExist||_===void 0)&&n.updateStore(Vc(n.store,f,Xt(p)[0].value))}}}})},s;r.entities?s=r.entities:r.namePathList?(s=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var u;(u=s).push.apply(u,Xt(Xt(c).map(function(d){return d.entity})))}})):s=o,a(s)}),Re(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(iv(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(Xo);o.forEach(function(a){var s=n.getInitialValue(a);n.updateStore(Vc(n.store,a,s))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)}),Re(this,"setFields",function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(a){var s=a.name,l=pr(a,Uwe),c=Xo(s);o.push(c),"value"in l&&n.updateStore(Vc(n.store,c,l.value)),n.notifyObservers(i,[c],{type:"setField",data:a})}),n.notifyWatch(o)}),Re(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var a=o.getNamePath(),s=o.getMeta(),l=Ie(Ie({},s),{},{name:a,value:n.getFieldValue(a)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),Re(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),a=Wc(n.store,o);a===void 0&&n.updateStore(Vc(n.store,o,i))}}),Re(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),Re(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(d){return d!==r}),!n.isMergedPreserve(s)&&(!a||l.length>1)){var c=a?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==c&&n.fieldEntities.every(function(d){return!Rne(d.getNamePath(),i)})){var u=n.store;n.updateStore(Vc(u,i,c,!0)),n.notifyObservers(u,[i],{type:"remove"}),n.triggerDependenciesUpdate(u,i)}}n.notifyWatch([i])}}),Re(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var a=r.namePath,s=r.triggerName;n.validateFields([a],{triggerName:s});break}}}),Re(this,"notifyObservers",function(r,i,o){if(n.subscribable){var a=Ie(Ie({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(s){var l=s.onStoreChange;l(r,i,a)})}else n.forceRootUpdate()}),Re(this,"triggerDependenciesUpdate",function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(Xt(o))}),o}),Re(this,"updateValue",function(r,i){var o=Xo(r),a=n.store;n.updateStore(Vc(n.store,o,i)),n.notifyObservers(a,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var s=n.triggerDependenciesUpdate(a,o),l=n.callbacks.onValuesChange;if(l){var c=VG(n.store,[o]);l(c,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(Xt(s)))}),Re(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var o=iv(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),Re(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i,errors:[],warnings:[]}])}),Re(this,"getDependencyChildrenFields",function(r){var i=new Set,o=[],a=new Qg;n.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var d=Xo(u);a.update(d,function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return f.add(l),f})})});var s=function l(c){var u=a.get(c)||new Set;u.forEach(function(d){if(!i.has(d)){i.add(d);var f=d.getNamePath();d.isFieldDirty()&&f.length&&(o.push(f),l(f))}})};return s(r),o}),Re(this,"triggerOnFieldsChange",function(r,i){var o=n.callbacks.onFieldsChange;if(o){var a=n.getFields();if(i){var s=new Qg;i.forEach(function(c){var u=c.name,d=c.errors;s.set(u,d)}),a.forEach(function(c){c.errors=s.get(c.name)||c.errors})}var l=a.filter(function(c){var u=c.name;return Mv(r,u)});l.length&&o(l,a)}}),Re(this,"validateFields",function(r,i){n.warningUnhooked();var o,a;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(o=r,a=i):a=r;var s=!!o,l=s?o.map(Xo):[],c=[],u=String(Date.now()),d=new Set,f=a||{},h=f.recursive,p=f.dirty;n.getFieldEntities(!0).forEach(function(w){if(s||l.push(w.getNamePath()),!(!w.props.rules||!w.props.rules.length)&&!(p&&!w.isFieldDirty())){var C=w.getNamePath();if(d.add(C.join(u)),!s||Mv(l,C,h)){var M=w.validateRules(Ie({validateMessages:Ie(Ie({},Pne),n.validateMessages)},a));c.push(M.then(function(){return{name:C,errors:[],warnings:[]}}).catch(function(R){var N,I=[],B=[];return(N=R.forEach)===null||N===void 0||N.call(R,function(D){var $=D.rule.warningOnly,z=D.errors;$?B.push.apply(B,Xt(z)):I.push.apply(I,Xt(z))}),I.length?Promise.reject({name:C,errors:I,warnings:B}):{name:C,errors:I,warnings:B}}))}}});var _=kwe(c);n.lastValidatePromise=_,_.catch(function(w){return w}).then(function(w){var C=w.map(function(M){var R=M.name;return R});n.notifyObservers(n.store,C,{type:"validateFinish"}),n.triggerOnFieldsChange(C,w)});var x=_.then(function(){return n.lastValidatePromise===_?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(w){var C=w.filter(function(M){return M&&M.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:C,outOfDate:n.lastValidatePromise!==_})});x.catch(function(w){return w});var y=l.filter(function(w){return d.has(w.join(u))});return n.triggerOnFieldsChange(y),x}),Re(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=e});function i$(t){var e=S.useRef(),n=S.useState({}),r=ze(n,2),i=r[1];if(!e.current)if(t)e.current=t;else{var o=function(){i({})},a=new zwe(o);e.current=a.getForm()}return[e.current]}var Z5=S.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),One=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,a=S.useContext(Z5),s=S.useRef({});return S.createElement(Z5.Provider,{value:Ie(Ie({},a),{},{validateMessages:Ie(Ie({},a.validateMessages),n),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:s.current}),a.triggerFormChange(c,u)},triggerFormFinish:function(c,u){i&&i(c,{values:u,forms:s.current}),a.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(s.current=Ie(Ie({},s.current),{},Re({},c,u))),a.registerForm(c,u)},unregisterForm:function(c){var u=Ie({},s.current);delete u[c],s.current=u,a.unregisterForm(c)}})},o)},Vwe=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Gwe=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,a=e.form,s=e.preserve,l=e.children,c=e.component,u=c===void 0?"form":c,d=e.validateMessages,f=e.validateTrigger,h=f===void 0?"onChange":f,p=e.onValuesChange,_=e.onFieldsChange,x=e.onFinish,y=e.onFinishFailed,w=e.clearOnDestroy,C=pr(e,Vwe),M=S.useRef(null),R=S.useContext(Z5),N=i$(a),I=ze(N,1),B=I[0],D=B.getInternalHooks(C0),$=D.useSubscribe,z=D.setInitialValues,V=D.setCallbacks,q=D.setValidateMessages,G=D.setPreserve,j=D.destroyForm;S.useImperativeHandle(n,function(){return Ie(Ie({},B),{},{nativeElement:M.current})}),S.useEffect(function(){return R.registerForm(r,B),function(){R.unregisterForm(r)}},[R,B,r]),q(Ie(Ie({},R.validateMessages),d)),V({onValuesChange:p,onFieldsChange:function(he){if(R.triggerFormChange(r,he),_){for(var ge=arguments.length,se=new Array(ge>1?ge-1:0),me=1;me<ge;me++)se[me-1]=arguments[me];_.apply(void 0,[he].concat(se))}},onFinish:function(he){R.triggerFormFinish(r,he),x&&x(he)},onFinishFailed:y}),G(s);var H=S.useRef(null);z(i,!H.current),H.current||(H.current=!0),S.useEffect(function(){return function(){return j(w)}},[]);var X,Y=typeof l=="function";if(Y){var ee=B.getFieldsValue(!0);X=l(ee,B)}else X=l;$(!Y);var Z=S.useRef();S.useEffect(function(){Bwe(Z.current||[],o||[])||B.setFields(o||[]),Z.current=o},[o,B]);var re=S.useMemo(function(){return Ie(Ie({},B),{},{validateTrigger:h})},[B,h]),ae=S.createElement(z_.Provider,{value:null},S.createElement(tg.Provider,{value:re},X));return u===!1?ae:S.createElement(u,ft({},C,{ref:M,onSubmit:function(he){he.preventDefault(),he.stopPropagation(),B.submit()},onReset:function(he){var ge;he.preventDefault(),B.resetFields(),(ge=C.onReset)===null||ge===void 0||ge.call(C,he)}}),ae)};function HG(t){try{return JSON.stringify(t)}catch{return Math.random()}}function Dne(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=i===void 0?{}:i,a=ewe(o)?{form:o}:o,s=a.form,l=S.useState(),c=ze(l,2),u=c[0],d=c[1],f=S.useMemo(function(){return HG(u)},[u]),h=S.useRef(f);h.current=f;var p=S.useContext(tg),_=s||p,x=_&&_._init,y=Xo(r),w=S.useRef(y);return w.current=y,S.useEffect(function(){if(x){var C=_.getFieldsValue,M=_.getInternalHooks,R=M(C0),N=R.registerWatch,I=function(z,V){var q=a.preserve?V:z;return typeof r=="function"?r(q):Wc(q,w.current)},B=N(function($,z){var V=I($,z),q=HG(V);h.current!==q&&(h.current=q,d(V))}),D=I(C(),C(!0));return u!==D&&d(D),B}},[x]),u}var Hwe=S.forwardRef(Gwe),c1=Hwe;c1.FormProvider=One;c1.Field=r$;c1.List=Nne;c1.useForm=i$;c1.useWatch=Dne;const uh=S.createContext({labelAlign:"right",layout:"horizontal",itemRef:()=>{}}),Lne=S.createContext(null),Bne=t=>{const e=po(t,["prefixCls"]);return S.createElement(One,Object.assign({},e))},o$=S.createContext({prefixCls:""}),ol=S.createContext({}),Fne=({children:t,status:e,override:n})=>{const r=S.useContext(ol),i=S.useMemo(()=>{const o=Object.assign({},r);return n&&delete o.isFormItemInput,e&&(delete o.status,delete o.hasFeedback,delete o.feedbackIcon),o},[e,n,r]);return S.createElement(ol.Provider,{value:i},t)},$ne=S.createContext(void 0),jwe=t=>{const{space:e,form:n,children:r}=t;if(r==null)return null;let i=r;return n&&(i=Ye.createElement(Fne,{override:!0,status:!0},i)),e&&(i=Ye.createElement(c2e,null,i)),i},ng=jwe;var kne=function(e){if(ss()&&window.document.documentElement){var n=Array.isArray(e)?e:[e],r=window.document.documentElement;return n.some(function(i){return i in r.style})}return!1},qwe=function(e,n){if(!kne(e))return!1;var r=document.createElement("div"),i=r.style[e];return r.style[e]=n,r.style[e]!==i};function jG(t,e){return!Array.isArray(t)&&e!==void 0?qwe(t,e):kne(t)}const Wwe=()=>ss()&&window.document.documentElement,Xwe=t=>{const{prefixCls:e,className:n,style:r,size:i,shape:o}=t,a=je({[`${e}-lg`]:i==="large",[`${e}-sm`]:i==="small"}),s=je({[`${e}-circle`]:o==="circle",[`${e}-square`]:o==="square",[`${e}-round`]:o==="round"}),l=S.useMemo(()=>typeof i=="number"?{width:i,height:i,lineHeight:`${i}px`}:{},[i]);return S.createElement("span",{className:je(e,a,s,n),style:Object.assign(Object.assign({},l),r)})},nR=Xwe,Ywe=new Gr("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),rR=t=>({height:t,lineHeight:ke(t)}),Pv=t=>Object.assign({width:t},rR(t)),Kwe=t=>({background:t.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Ywe,animationDuration:t.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),bI=(t,e)=>Object.assign({width:e(t).mul(5).equal(),minWidth:e(t).mul(5).equal()},rR(t)),Qwe=t=>{const{skeletonAvatarCls:e,gradientFromColor:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o}=t;return{[e]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},Pv(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},Pv(i)),[`${e}${e}-sm`]:Object.assign({},Pv(o))}},Zwe=t=>{const{controlHeight:e,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:a,calc:s}=t;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:n},bI(e,s)),[`${r}-lg`]:Object.assign({},bI(i,s)),[`${r}-sm`]:Object.assign({},bI(o,s))}},qG=t=>Object.assign({width:t},rR(t)),Jwe=t=>{const{skeletonImageCls:e,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:i,calc:o}=t;return{[e]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:i},qG(o(n).mul(2).equal())),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},qG(n)),{maxWidth:o(n).mul(4).equal(),maxHeight:o(n).mul(4).equal()}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},xI=(t,e,n)=>{const{skeletonButtonCls:r}=t;return{[`${n}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:e}}},_I=(t,e)=>Object.assign({width:e(t).mul(2).equal(),minWidth:e(t).mul(2).equal()},rR(t)),eCe=t=>{const{borderRadiusSM:e,skeletonButtonCls:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:a,calc:s}=t;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:e,width:s(r).mul(2).equal(),minWidth:s(r).mul(2).equal()},_I(r,s))},xI(t,r,n)),{[`${n}-lg`]:Object.assign({},_I(i,s))}),xI(t,i,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},_I(o,s))}),xI(t,o,`${n}-sm`))},tCe=t=>{const{componentCls:e,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:i,skeletonButtonCls:o,skeletonInputCls:a,skeletonImageCls:s,controlHeight:l,controlHeightLG:c,controlHeightSM:u,gradientFromColor:d,padding:f,marginSM:h,borderRadius:p,titleHeight:_,blockRadius:x,paragraphLiHeight:y,controlHeightXS:w,paragraphMarginTop:C}=t;return{[e]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:f,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},Pv(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},Pv(c)),[`${n}-sm`]:Object.assign({},Pv(u))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:_,background:d,borderRadius:x,[`+ ${i}`]:{marginBlockStart:u}},[i]:{padding:0,"> li":{width:"100%",height:y,listStyle:"none",background:d,borderRadius:x,"+ li":{marginBlockStart:w}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${i} > li`]:{borderRadius:p}}},[`${e}-with-avatar ${e}-content`]:{[r]:{marginBlockStart:h,[`+ ${i}`]:{marginBlockStart:C}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},eCe(t)),Qwe(t)),Zwe(t)),Jwe(t)),[`${e}${e}-block`]:{width:"100%",[o]:{width:"100%"},[a]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${i} > li,
        ${n},
        ${o},
        ${a},
        ${s}
      `]:Object.assign({},Kwe(t))}}},nCe=t=>{const{colorFillContent:e,colorFill:n}=t,r=e,i=n;return{color:r,colorGradientEnd:i,gradientFromColor:r,gradientToColor:i,titleHeight:t.controlHeight/2,blockRadius:t.borderRadiusSM,paragraphMarginTop:t.marginLG+t.marginXXS,paragraphLiHeight:t.controlHeight/2}},u1=Ti("Skeleton",t=>{const{componentCls:e,calc:n}=t,r=Yr(t,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:n(t.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${t.gradientFromColor} 25%, ${t.gradientToColor} 37%, ${t.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return tCe(r)},nCe,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),rCe=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,shape:o="circle",size:a="default"}=t,{getPrefixCls:s}=S.useContext(ir),l=s("skeleton",e),[c,u,d]=u1(l),f=po(t,["prefixCls","className"]),h=je(l,`${l}-element`,{[`${l}-active`]:i},n,r,u,d);return c(S.createElement("div",{className:h},S.createElement(nR,Object.assign({prefixCls:`${l}-avatar`,shape:o,size:a},f))))},iCe=rCe,oCe=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,block:o=!1,size:a="default"}=t,{getPrefixCls:s}=S.useContext(ir),l=s("skeleton",e),[c,u,d]=u1(l),f=po(t,["prefixCls"]),h=je(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},n,r,u,d);return c(S.createElement("div",{className:h},S.createElement(nR,Object.assign({prefixCls:`${l}-button`,size:a},f))))},aCe=oCe,sCe="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",lCe=t=>{const{prefixCls:e,className:n,rootClassName:r,style:i,active:o}=t,{getPrefixCls:a}=S.useContext(ir),s=a("skeleton",e),[l,c,u]=u1(s),d=je(s,`${s}-element`,{[`${s}-active`]:o},n,r,c,u);return l(S.createElement("div",{className:d},S.createElement("div",{className:je(`${s}-image`,n),style:i},S.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${s}-image-svg`},S.createElement("title",null,"Image placeholder"),S.createElement("path",{d:sCe,className:`${s}-image-path`})))))},cCe=lCe,uCe=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,block:o,size:a="default"}=t,{getPrefixCls:s}=S.useContext(ir),l=s("skeleton",e),[c,u,d]=u1(l),f=po(t,["prefixCls"]),h=je(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},n,r,u,d);return c(S.createElement("div",{className:h},S.createElement(nR,Object.assign({prefixCls:`${l}-input`,size:a},f))))},dCe=uCe,fCe=t=>{const{prefixCls:e,className:n,rootClassName:r,style:i,active:o,children:a}=t,{getPrefixCls:s}=S.useContext(ir),l=s("skeleton",e),[c,u,d]=u1(l),f=je(l,`${l}-element`,{[`${l}-active`]:o},u,n,r,d);return c(S.createElement("div",{className:f},S.createElement("div",{className:je(`${l}-image`,n),style:i},a)))},hCe=fCe,pCe=(t,e)=>{const{width:n,rows:r=2}=e;if(Array.isArray(n))return n[t];if(r-1===t)return n},mCe=t=>{const{prefixCls:e,className:n,style:r,rows:i=0}=t,o=Array.from({length:i}).map((a,s)=>S.createElement("li",{key:s,style:{width:pCe(s,t)}}));return S.createElement("ul",{className:je(e,n),style:r},o)},gCe=mCe,ACe=({prefixCls:t,className:e,width:n,style:r})=>S.createElement("h3",{className:je(t,e),style:Object.assign({width:n},r)}),vCe=ACe;function SI(t){return t&&typeof t=="object"?t:{}}function yCe(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function bCe(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}function xCe(t,e){const n={};return(!t||!e)&&(n.width="61%"),!t&&e?n.rows=3:n.rows=2,n}const d1=t=>{const{prefixCls:e,loading:n,className:r,rootClassName:i,style:o,children:a,avatar:s=!1,title:l=!0,paragraph:c=!0,active:u,round:d}=t,{getPrefixCls:f,direction:h,className:p,style:_}=Fa("skeleton"),x=f("skeleton",e),[y,w,C]=u1(x);if(n||!("loading"in t)){const M=!!s,R=!!l,N=!!c;let I;if(M){const $=Object.assign(Object.assign({prefixCls:`${x}-avatar`},yCe(R,N)),SI(s));I=S.createElement("div",{className:`${x}-header`},S.createElement(nR,Object.assign({},$)))}let B;if(R||N){let $;if(R){const V=Object.assign(Object.assign({prefixCls:`${x}-title`},bCe(M,N)),SI(l));$=S.createElement(vCe,Object.assign({},V))}let z;if(N){const V=Object.assign(Object.assign({prefixCls:`${x}-paragraph`},xCe(M,R)),SI(c));z=S.createElement(gCe,Object.assign({},V))}B=S.createElement("div",{className:`${x}-content`},$,z)}const D=je(x,{[`${x}-with-avatar`]:M,[`${x}-active`]:u,[`${x}-rtl`]:h==="rtl",[`${x}-round`]:d},p,r,i,w,C);return y(S.createElement("div",{className:D,style:Object.assign(Object.assign({},_),o)},I,B))}return a??null};d1.Button=aCe;d1.Avatar=iCe;d1.Input=dCe;d1.Image=cCe;d1.Node=hCe;const Une=d1;function WG(){}const _Ce=S.createContext({add:WG,remove:WG});function SCe(t){const e=S.useContext(_Ce),n=S.useRef(null);return Xr(i=>{if(i){const o=t?i.querySelector(t):i;o&&(e.add(o),n.current=o)}else e.remove(n.current)})}const wCe=()=>{const{cancelButtonProps:t,cancelTextLocale:e,onCancel:n}=S.useContext(nS);return Ye.createElement(Go,Object.assign({onClick:n},t),e)},XG=wCe,CCe=()=>{const{confirmLoading:t,okButtonProps:e,okType:n,okTextLocale:r,onOk:i}=S.useContext(nS);return Ye.createElement(Go,Object.assign({},HF(n),{loading:t,onClick:i},e),r)},YG=CCe;function zne(t,e){return Ye.createElement("span",{className:`${t}-close-x`},e||Ye.createElement(Am,{className:`${t}-close-icon`}))}const Vne=t=>{const{okText:e,okType:n="primary",cancelText:r,confirmLoading:i,onOk:o,onCancel:a,okButtonProps:s,cancelButtonProps:l,footer:c}=t,[u]=xc("Modal",xte()),d=e||(u==null?void 0:u.okText),f=r||(u==null?void 0:u.cancelText),h=Ye.useMemo(()=>({confirmLoading:i,okButtonProps:s,cancelButtonProps:l,okTextLocale:d,cancelTextLocale:f,okType:n,onOk:o,onCancel:a}),[i,s,l,d,f,n,o,a]);let p;return typeof c=="function"||typeof c>"u"?(p=Ye.createElement(Ye.Fragment,null,Ye.createElement(XG,null),Ye.createElement(YG,null)),typeof c=="function"&&(p=c(p,{OkBtn:YG,CancelBtn:XG})),p=Ye.createElement(_ne,{value:h},p)):p=c,Ye.createElement(FF,{disabled:!1},p)},TCe=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},ECe=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},MCe=(t,e)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=t,o={};for(let a=i;a>=0;a--)a===0?(o[`${r}${e}-${a}`]={display:"none"},o[`${r}-push-${a}`]={insetInlineStart:"auto"},o[`${r}-pull-${a}`]={insetInlineEnd:"auto"},o[`${r}${e}-push-${a}`]={insetInlineStart:"auto"},o[`${r}${e}-pull-${a}`]={insetInlineEnd:"auto"},o[`${r}${e}-offset-${a}`]={marginInlineStart:0},o[`${r}${e}-order-${a}`]={order:0}):(o[`${r}${e}-${a}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${a/i*100}%`,maxWidth:`${a/i*100}%`}],o[`${r}${e}-push-${a}`]={insetInlineStart:`${a/i*100}%`},o[`${r}${e}-pull-${a}`]={insetInlineEnd:`${a/i*100}%`},o[`${r}${e}-offset-${a}`]={marginInlineStart:`${a/i*100}%`},o[`${r}${e}-order-${a}`]={order:a});return o[`${r}${e}-flex`]={flex:`var(--${n}${e}-flex)`},o},J5=(t,e)=>MCe(t,e),PCe=(t,e,n)=>({[`@media (min-width: ${ke(e)})`]:Object.assign({},J5(t,n))}),RCe=()=>({}),NCe=()=>({}),ICe=Ti("Grid",TCe,RCe),Gne=t=>({xs:t.screenXSMin,sm:t.screenSMMin,md:t.screenMDMin,lg:t.screenLGMin,xl:t.screenXLMin,xxl:t.screenXXLMin}),OCe=Ti("Grid",t=>{const e=Yr(t,{gridColumns:24}),n=Gne(e);return delete n.xs,[ECe(e),J5(e,""),J5(e,"-xs"),Object.keys(n).map(r=>PCe(e,n[r],`-${r}`)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},NCe);function KG(t){return{position:t,inset:0}}const DCe=t=>{const{componentCls:e,antCls:n}=t;return[{[`${e}-root`]:{[`${e}${n}-zoom-enter, ${e}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:t.motionDurationSlow,userSelect:"none"},[`${e}${n}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},KG("fixed")),{zIndex:t.zIndexPopupBase,height:"100%",backgroundColor:t.colorBgMask,pointerEvents:"none",[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},KG("fixed")),{zIndex:t.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${e}-root`]:B2e(t)}]},LCe=t=>{const{componentCls:e}=t;return[{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${t.screenSMMax}px)`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${ke(t.marginXS)} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},ho(t)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${ke(t.calc(t.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:t.paddingLG,[`${e}-title`]:{margin:0,color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:t.contentBg,backgroundClip:"padding-box",border:0,borderRadius:t.borderRadiusLG,boxShadow:t.boxShadow,pointerEvents:"auto",padding:t.contentPadding},[`${e}-close`]:Object.assign({position:"absolute",top:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),insetInlineEnd:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),zIndex:t.calc(t.zIndexPopupBase).add(10).equal(),padding:0,color:t.modalCloseIconColor,fontWeight:t.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:t.borderRadiusSM,width:t.modalCloseBtnSize,height:t.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${t.motionDurationMid}, background-color ${t.motionDurationMid}`,"&-x":{display:"flex",fontSize:t.fontSizeLG,fontStyle:"normal",lineHeight:ke(t.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:t.modalCloseIconHoverColor,backgroundColor:t.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:t.colorBgTextActive}},eg(t)),[`${e}-header`]:{color:t.colorText,background:t.headerBg,borderRadius:`${ke(t.borderRadiusLG)} ${ke(t.borderRadiusLG)} 0 0`,marginBottom:t.headerMarginBottom,padding:t.headerPadding,borderBottom:t.headerBorderBottom},[`${e}-body`]:{fontSize:t.fontSize,lineHeight:t.lineHeight,wordWrap:"break-word",padding:t.bodyPadding,[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${ke(t.margin)} auto`}},[`${e}-footer`]:{textAlign:"end",background:t.footerBg,marginTop:t.footerMarginTop,padding:t.footerPadding,borderTop:t.footerBorderTop,borderRadius:t.footerBorderRadius,[`> ${t.antCls}-btn + ${t.antCls}-btn`]:{marginInlineStart:t.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},BCe=t=>{const{componentCls:e}=t;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},FCe=t=>{const{componentCls:e}=t,n=Gne(t),r=Object.assign({},n);delete r.xs;const i=`--${e.replace(".","")}-`,o=Object.keys(r).map(a=>({[`@media (min-width: ${ke(r[a])})`]:{width:`var(${i}${a}-width)`}}));return{[`${e}-root`]:{[e]:[].concat(Xt(Object.keys(n).map((a,s)=>{const l=Object.keys(n)[s-1];return l?{[`${i}${a}-width`]:`var(${i}${l}-width)`}:null})),[{width:`var(${i}xs-width)`}],Xt(o))}}},Hne=t=>{const e=t.padding,n=t.fontSizeHeading5,r=t.lineHeightHeading5;return Yr(t,{modalHeaderHeight:t.calc(t.calc(r).mul(n).equal()).add(t.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:t.colorSplit,modalFooterBorderStyle:t.lineType,modalFooterBorderWidth:t.lineWidth,modalCloseIconColor:t.colorIcon,modalCloseIconHoverColor:t.colorIconHover,modalCloseBtnSize:t.controlHeight,modalConfirmIconSize:t.fontHeight,modalTitleHeight:t.calc(t.titleFontSize).mul(t.titleLineHeight).equal()})},jne=t=>({footerBg:"transparent",headerBg:t.colorBgElevated,titleLineHeight:t.lineHeightHeading5,titleFontSize:t.fontSizeHeading5,contentBg:t.colorBgElevated,titleColor:t.colorTextHeading,contentPadding:t.wireframe?0:`${ke(t.paddingMD)} ${ke(t.paddingContentHorizontalLG)}`,headerPadding:t.wireframe?`${ke(t.padding)} ${ke(t.paddingLG)}`:0,headerBorderBottom:t.wireframe?`${ke(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",headerMarginBottom:t.wireframe?0:t.marginXS,bodyPadding:t.wireframe?t.paddingLG:0,footerPadding:t.wireframe?`${ke(t.paddingXS)} ${ke(t.padding)}`:0,footerBorderTop:t.wireframe?`${ke(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",footerBorderRadius:t.wireframe?`0 0 ${ke(t.borderRadiusLG)} ${ke(t.borderRadiusLG)}`:0,footerMarginTop:t.wireframe?0:t.marginSM,confirmBodyPadding:t.wireframe?`${ke(t.padding*2)} ${ke(t.padding*2)} ${ke(t.paddingLG)}`:0,confirmIconMarginInlineEnd:t.wireframe?t.margin:t.marginSM,confirmBtnsMarginTop:t.wireframe?t.marginLG:t.marginSM}),qne=Ti("Modal",t=>{const e=Hne(t);return[LCe(e),BCe(e),DCe(e),KF(e,"zoom"),FCe(e)]},jne,{unitless:{titleLineHeight:!0}});var $Ce=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let e8;const kCe=t=>{e8={x:t.pageX,y:t.pageY},setTimeout(()=>{e8=null},100)};Wwe()&&document.documentElement.addEventListener("click",kCe,!0);const UCe=t=>{const{prefixCls:e,className:n,rootClassName:r,open:i,wrapClassName:o,centered:a,getContainer:s,focusTriggerAfterClose:l=!0,style:c,visible:u,width:d=520,footer:f,classNames:h,styles:p,children:_,loading:x,confirmLoading:y,zIndex:w,mousePosition:C,onOk:M,onCancel:R,destroyOnHidden:N,destroyOnClose:I,panelRef:B=null,modalRender:D}=t,$=$Ce(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose","panelRef","modalRender"]),{getPopupContainer:z,getPrefixCls:V,direction:q,modal:G}=S.useContext(ir),j=ue=>{y||R==null||R(ue)},H=ue=>{M==null||M(ue)},X=V("modal",e),Y=V(),ee=_c(X),[Z,re,ae]=qne(X,ee),ce=je(o,{[`${X}-centered`]:a??(G==null?void 0:G.centered),[`${X}-wrap-rtl`]:q==="rtl"}),he=f!==null&&!x?S.createElement(Vne,Object.assign({},t,{onOk:H,onCancel:j})):null,[ge,se,me,ye]=one(EM(t),EM(G),{closable:!0,closeIcon:S.createElement(Am,{className:`${X}-close-icon`}),closeIconRender:ue=>zne(X,ue)}),we=D?ue=>S.createElement("div",{className:`${X}-render`},D(ue)):void 0,Ee=`.${X}-${D?"render":"content"}`,Me=SCe(Ee),Oe=kl(B,Me),[Ue,Se]=l1("Modal",w),[_e,ve]=S.useMemo(()=>d&&typeof d=="object"?[void 0,d]:[d,void 0],[d]),Ge=S.useMemo(()=>{const ue={};return ve&&Object.keys(ve).forEach(at=>{const nt=ve[at];nt!==void 0&&(ue[`--${X}-${at}-width`]=typeof nt=="number"?`${nt}px`:nt)}),ue},[X,ve]);return Z(S.createElement(ng,{form:!0,space:!0},S.createElement(UF.Provider,{value:Se},S.createElement(Ene,Object.assign({width:_e},$,{zIndex:Ue,getContainer:s===void 0?z:s,prefixCls:X,rootClassName:je(re,r,ae,ee),footer:he,visible:i??u,mousePosition:C??e8,onClose:j,closable:ge&&Object.assign({disabled:me,closeIcon:se},ye),closeIcon:se,focusTriggerAfterClose:l,transitionName:nm(Y,"zoom",t.transitionName),maskTransitionName:nm(Y,"fade",t.maskTransitionName),className:je(re,n,G==null?void 0:G.className),style:Object.assign(Object.assign(Object.assign({},G==null?void 0:G.style),c),Ge),classNames:Object.assign(Object.assign(Object.assign({},G==null?void 0:G.classNames),h),{wrapper:je(ce,h==null?void 0:h.wrapper)}),styles:Object.assign(Object.assign({},G==null?void 0:G.styles),p),panelRef:Oe,destroyOnClose:N??I,modalRender:we}),x?S.createElement(Une,{active:!0,title:!1,paragraph:{rows:4},className:`${X}-body-skeleton`}):_))))},Wne=UCe,zCe=t=>{const{componentCls:e,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:i,fontSize:o,lineHeight:a,modalTitleHeight:s,fontHeight:l,confirmBodyPadding:c}=t,u=`${e}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${t.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},K2()),[`&${e} ${e}-body`]:{padding:c},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t.iconCls}`]:{flex:"none",fontSize:i,marginInlineEnd:t.confirmIconMarginInlineEnd,marginTop:t.calc(t.calc(l).sub(i).equal()).div(2).equal()},[`&-has-title > ${t.iconCls}`]:{marginTop:t.calc(t.calc(s).sub(i).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:t.marginXS,maxWidth:`calc(100% - ${ke(t.marginSM)})`},[`${t.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${ke(t.calc(t.modalConfirmIconSize).add(t.marginSM).equal())})`},[`${u}-title`]:{color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:n,lineHeight:r},[`${u}-content`]:{color:t.colorText,fontSize:o,lineHeight:a},[`${u}-btns`]:{textAlign:"end",marginTop:t.confirmBtnsMarginTop,[`${t.antCls}-btn + ${t.antCls}-btn`]:{marginBottom:0,marginInlineStart:t.marginXS}}},[`${u}-error ${u}-body > ${t.iconCls}`]:{color:t.colorError},[`${u}-warning ${u}-body > ${t.iconCls},
        ${u}-confirm ${u}-body > ${t.iconCls}`]:{color:t.colorWarning},[`${u}-info ${u}-body > ${t.iconCls}`]:{color:t.colorInfo},[`${u}-success ${u}-body > ${t.iconCls}`]:{color:t.colorSuccess}}},VCe=o1(["Modal","confirm"],t=>{const e=Hne(t);return zCe(e)},jne,{order:-1e3});var GCe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Xne=t=>{const{prefixCls:e,icon:n,okText:r,cancelText:i,confirmPrefixCls:o,type:a,okCancel:s,footer:l,locale:c}=t,u=GCe(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let d=n;if(!n&&n!==null)switch(a){case"info":d=S.createElement(ene,null);break;case"success":d=S.createElement(qP,null);break;case"error":d=S.createElement(s1,null);break;default:d=S.createElement(Z2,null)}const f=s??a==="confirm",h=t.autoFocusButton===null?!1:t.autoFocusButton||"ok",[p]=xc("Modal"),_=c||p,x=r||(f?_==null?void 0:_.okText:_==null?void 0:_.justOkText),y=i||(_==null?void 0:_.cancelText),w=S.useMemo(()=>Object.assign({autoFocusButton:h,cancelTextLocale:y,okTextLocale:x,mergedOkCancel:f},u),[h,y,x,f,u]),C=S.createElement(S.Fragment,null,S.createElement(TG,null),S.createElement(EG,null)),M=t.title!==void 0&&t.title!==null,R=`${o}-body`;return S.createElement("div",{className:`${o}-body-wrapper`},S.createElement("div",{className:je(R,{[`${R}-has-title`]:M})},d,S.createElement("div",{className:`${o}-paragraph`},M&&S.createElement("span",{className:`${o}-title`},t.title),S.createElement("div",{className:`${o}-content`},t.content))),l===void 0||typeof l=="function"?S.createElement(_ne,{value:w},S.createElement("div",{className:`${o}-btns`},typeof l=="function"?l(C,{OkBtn:EG,CancelBtn:TG}):C)):l,S.createElement(VCe,{prefixCls:e}))},HCe=t=>{const{close:e,zIndex:n,maskStyle:r,direction:i,prefixCls:o,wrapClassName:a,rootPrefixCls:s,bodyStyle:l,closable:c=!1,onConfirm:u,styles:d,title:f}=t,h=`${o}-confirm`,p=t.width||416,_=t.style||{},x=t.mask===void 0?!0:t.mask,y=t.maskClosable===void 0?!1:t.maskClosable,w=je(h,`${h}-${t.type}`,{[`${h}-rtl`]:i==="rtl"},t.className),[,C]=Ul(),M=S.useMemo(()=>n!==void 0?n:C.zIndexPopupBase+sne,[n,C]);return S.createElement(Wne,Object.assign({},t,{className:w,wrapClassName:je({[`${h}-centered`]:!!t.centered},a),onCancel:()=>{e==null||e({triggerCancel:!0}),u==null||u(!1)},title:f,footer:null,transitionName:nm(s||"","zoom",t.transitionName),maskTransitionName:nm(s||"","fade",t.maskTransitionName),mask:x,maskClosable:y,style:_,styles:Object.assign({body:l,mask:r},d),width:p,zIndex:M,closable:c}),S.createElement(Xne,Object.assign({},t,{confirmPrefixCls:h})))},Yne=t=>{const{rootPrefixCls:e,iconPrefixCls:n,direction:r,theme:i}=t;return S.createElement(Q2,{prefixCls:e,iconPrefixCls:n,direction:r,theme:i},S.createElement(HCe,Object.assign({},t)))},jCe=[],T0=jCe;let Kne="";function Qne(){return Kne}const qCe=t=>{var e,n;const{prefixCls:r,getContainer:i,direction:o}=t,a=xte(),s=S.useContext(ir),l=Qne()||s.getPrefixCls(),c=r||`${l}-modal`;let u=i;return u===!1&&(u=void 0),Ye.createElement(Yne,Object.assign({},t,{rootPrefixCls:l,prefixCls:c,iconPrefixCls:s.iconPrefixCls,theme:s.theme,direction:o??s.direction,locale:(n=(e=s.locale)===null||e===void 0?void 0:e.Modal)!==null&&n!==void 0?n:a,getContainer:u}))};function iS(t){const e=Yte(),n=document.createDocumentFragment();let r=Object.assign(Object.assign({},t),{close:l,open:!0}),i,o;function a(...u){var d;if(u.some(p=>p==null?void 0:p.triggerCancel)){var h;(d=t.onCancel)===null||d===void 0||(h=d).call.apply(h,[t,()=>{}].concat(Xt(u.slice(1))))}for(let p=0;p<T0.length;p++)if(T0[p]===l){T0.splice(p,1);break}o()}const s=u=>{clearTimeout(i),i=setTimeout(()=>{const d=e.getPrefixCls(void 0,Qne()),f=e.getIconPrefixCls(),h=e.getTheme(),p=Ye.createElement(qCe,Object.assign({},u));o=GF()(Ye.createElement(Q2,{prefixCls:d,iconPrefixCls:f,theme:h},typeof e.holderRender=="function"?e.holderRender(p):p),n)})};function l(...u){r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof t.afterClose=="function"&&t.afterClose(),a.apply(this,u)}}),r.visible&&delete r.visible,s(r)}function c(u){typeof u=="function"?r=u(r):r=Object.assign(Object.assign({},r),u),s(r)}return s(r),T0.push(l),{destroy:l,update:c}}function Zne(t){return Object.assign(Object.assign({},t),{type:"warning"})}function Jne(t){return Object.assign(Object.assign({},t),{type:"info"})}function ere(t){return Object.assign(Object.assign({},t),{type:"success"})}function tre(t){return Object.assign(Object.assign({},t),{type:"error"})}function nre(t){return Object.assign(Object.assign({},t),{type:"confirm"})}function WCe({rootPrefixCls:t}){Kne=t}var XCe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const YCe=(t,e)=>{var n,{afterClose:r,config:i}=t,o=XCe(t,["afterClose","config"]);const[a,s]=S.useState(!0),[l,c]=S.useState(i),{direction:u,getPrefixCls:d}=S.useContext(ir),f=d("modal"),h=d(),p=()=>{var w;r(),(w=l.afterClose)===null||w===void 0||w.call(l)},_=(...w)=>{var C;if(s(!1),w.some(N=>N==null?void 0:N.triggerCancel)){var R;(C=l.onCancel)===null||C===void 0||(R=C).call.apply(R,[l,()=>{}].concat(Xt(w.slice(1))))}};S.useImperativeHandle(e,()=>({destroy:_,update:w=>{c(C=>{const M=typeof w=="function"?w(C):w;return Object.assign(Object.assign({},C),M)})}}));const x=(n=l.okCancel)!==null&&n!==void 0?n:l.type==="confirm",[y]=xc("Modal",ff.Modal);return S.createElement(Yne,Object.assign({prefixCls:f,rootPrefixCls:h},l,{close:_,open:a,afterClose:p,okText:l.okText||(x?y==null?void 0:y.okText:y==null?void 0:y.justOkText),direction:l.direction||u,cancelText:l.cancelText||(y==null?void 0:y.cancelText)},o))},KCe=S.forwardRef(YCe);let QG=0;const QCe=S.memo(S.forwardRef((t,e)=>{const[n,r]=b_e();return S.useImperativeHandle(e,()=>({patchElement:r}),[r]),S.createElement(S.Fragment,null,n)}));function ZCe(){const t=S.useRef(null),[e,n]=S.useState([]);S.useEffect(()=>{e.length&&(Xt(e).forEach(a=>{a()}),n([]))},[e]);const r=S.useCallback(o=>function(s){var l;QG+=1;const c=S.createRef();let u;const d=new Promise(x=>{u=x});let f=!1,h;const p=S.createElement(KCe,{key:`modal-${QG}`,config:o(s),ref:c,afterClose:()=>{h==null||h()},isSilent:()=>f,onConfirm:x=>{u(x)}});return h=(l=t.current)===null||l===void 0?void 0:l.patchElement(p),h&&T0.push(h),{destroy:()=>{function x(){var y;(y=c.current)===null||y===void 0||y.destroy()}c.current?x():n(y=>[].concat(Xt(y),[x]))},update:x=>{function y(){var w;(w=c.current)===null||w===void 0||w.update(x)}c.current?y():n(w=>[].concat(Xt(w),[y]))},then:x=>(f=!0,d.then(x))}},[]);return[S.useMemo(()=>({info:r(Jne),success:r(ere),error:r(tre),warning:r(Zne),confirm:r(nre)}),[r]),S.createElement(QCe,{key:"modal-holder",ref:t})]}const JCe=Ye.createContext({});function rre(t){return e=>S.createElement(Q2,{theme:{token:{motion:!1,zIndexPopupBase:0}}},S.createElement(t,Object.assign({},e)))}const iR=(t,e,n,r,i)=>rre(a=>{const{prefixCls:s,style:l}=a,c=S.useRef(null),[u,d]=S.useState(0),[f,h]=S.useState(0),[p,_]=Ui(!1,{value:a.open}),{getPrefixCls:x}=S.useContext(ir),y=x(r||"select",s);S.useEffect(()=>{if(_(!0),typeof ResizeObserver<"u"){const M=new ResizeObserver(N=>{const I=N[0].target;d(I.offsetHeight+8),h(I.offsetWidth)}),R=setInterval(()=>{var N;const I=i?`.${i(y)}`:`.${y}-dropdown`,B=(N=c.current)===null||N===void 0?void 0:N.querySelector(I);B&&(clearInterval(R),M.observe(B))},10);return()=>{clearInterval(R),M.disconnect()}}},[y]);let w=Object.assign(Object.assign({},a),{style:Object.assign(Object.assign({},l),{margin:0}),open:p,visible:p,getPopupContainer:()=>c.current});n&&(w=n(w)),e&&Object.assign(w,{[e]:{overflow:{adjustX:!1,adjustY:!1}}});const C={paddingBottom:u,position:"relative",minWidth:f};return S.createElement("div",{ref:c,style:C},S.createElement(t,Object.assign({},w)))}),a$=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};var oR=function(e){var n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.children,a=e.onMouseDown,s=e.onClick,l=typeof r=="function"?r(i):r;return S.createElement("span",{className:n,onMouseDown:function(u){u.preventDefault(),a==null||a(u)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},l!==void 0?l:S.createElement("span",{className:je(n.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},o))},eTe=function(e,n,r,i,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=Ye.useMemo(function(){if(Dn(i)==="object")return i.clearIcon;if(o)return o},[i,o]),u=Ye.useMemo(function(){return!!(!a&&i&&(r.length||s)&&!(l==="combobox"&&s===""))},[i,a,r.length,s,l]);return{allowClear:u,clearIcon:Ye.createElement(oR,{className:"".concat(e,"-clear"),onMouseDown:n,customizeIcon:c},"")}},ire=S.createContext(null);function tTe(){return S.useContext(ire)}function nTe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=S.useState(!1),n=ze(e,2),r=n[0],i=n[1],o=S.useRef(null),a=function(){window.clearTimeout(o.current)};S.useEffect(function(){return a},[]);var s=function(c,u){a(),o.current=window.setTimeout(function(){i(c),u&&u()},t)};return[r,s,a]}function ore(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=S.useRef(null),n=S.useRef(null);S.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function rTe(t,e,n,r){var i=S.useRef(null);i.current={open:e,triggerOpen:n,customizedTrigger:r},S.useEffect(function(){function o(a){var s;if(!((s=i.current)!==null&&s!==void 0&&s.customizedTrigger)){var l=a.target;l.shadowRoot&&a.composed&&(l=a.composedPath()[0]||l),i.current.open&&t().filter(function(c){return c}).every(function(c){return!c.contains(l)&&c!==l})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",o),function(){return window.removeEventListener("mousedown",o)}},[])}function iTe(t){return t&&![qt.ESC,qt.SHIFT,qt.BACKSPACE,qt.TAB,qt.WIN_KEY,qt.ALT,qt.META,qt.WIN_KEY_RIGHT,qt.CTRL,qt.SEMICOLON,qt.EQUALS,qt.CAPS_LOCK,qt.CONTEXT_MENU,qt.F1,qt.F2,qt.F3,qt.F4,qt.F5,qt.F6,qt.F7,qt.F8,qt.F9,qt.F10,qt.F11,qt.F12].includes(t)}var oTe=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Zg=void 0;function aTe(t,e){var n=t.prefixCls,r=t.invalidate,i=t.item,o=t.renderItem,a=t.responsive,s=t.responsiveDisabled,l=t.registerSize,c=t.itemKey,u=t.className,d=t.style,f=t.children,h=t.display,p=t.order,_=t.component,x=_===void 0?"div":_,y=pr(t,oTe),w=a&&!h;function C(B){l(c,B)}S.useEffect(function(){return function(){C(null)}},[]);var M=o&&i!==Zg?o(i,{index:p}):f,R;r||(R={opacity:w?0:1,height:w?0:Zg,overflowY:w?"hidden":Zg,order:a?p:Zg,pointerEvents:w?"none":Zg,position:w?"absolute":Zg});var N={};w&&(N["aria-hidden"]=!0);var I=S.createElement(x,ft({className:je(!r&&n,u),style:Ie(Ie({},R),d)},N,y,{ref:e}),M);return a&&(I=S.createElement(Ll,{onResize:function(D){var $=D.offsetWidth;C($)},disabled:s},I)),I}var sv=S.forwardRef(aTe);sv.displayName="Item";function sTe(t){if(typeof MessageChannel>"u")qr(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}function lTe(){var t=S.useRef(null),e=function(r){t.current||(t.current=[],sTe(function(){rd.unstable_batchedUpdates(function(){t.current.forEach(function(i){i()}),t.current=null})})),t.current.push(r)};return e}function Jg(t,e){var n=S.useState(e),r=ze(n,2),i=r[0],o=r[1],a=Xr(function(s){t(function(){o(s)})});return[i,a]}var IM=Ye.createContext(null),cTe=["component"],uTe=["className"],dTe=["className"],fTe=function(e,n){var r=S.useContext(IM);if(!r){var i=e.component,o=i===void 0?"div":i,a=pr(e,cTe);return S.createElement(o,ft({},a,{ref:n}))}var s=r.className,l=pr(r,uTe),c=e.className,u=pr(e,dTe);return S.createElement(IM.Provider,{value:null},S.createElement(sv,ft({ref:n,className:je(s,c)},l,u)))},are=S.forwardRef(fTe);are.displayName="RawItem";var hTe=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","prefix","suffix","component","itemComponent","onVisibleChange"],sre="responsive",lre="invalidate";function pTe(t){return"+ ".concat(t.length," ...")}function mTe(t,e){var n=t.prefixCls,r=n===void 0?"rc-overflow":n,i=t.data,o=i===void 0?[]:i,a=t.renderItem,s=t.renderRawItem,l=t.itemKey,c=t.itemWidth,u=c===void 0?10:c,d=t.ssr,f=t.style,h=t.className,p=t.maxCount,_=t.renderRest,x=t.renderRawRest,y=t.prefix,w=t.suffix,C=t.component,M=C===void 0?"div":C,R=t.itemComponent,N=t.onVisibleChange,I=pr(t,hTe),B=d==="full",D=lTe(),$=Jg(D,null),z=ze($,2),V=z[0],q=z[1],G=V||0,j=Jg(D,new Map),H=ze(j,2),X=H[0],Y=H[1],ee=Jg(D,0),Z=ze(ee,2),re=Z[0],ae=Z[1],ce=Jg(D,0),he=ze(ce,2),ge=he[0],se=he[1],me=Jg(D,0),ye=ze(me,2),we=ye[0],Ee=ye[1],Me=Jg(D,0),Oe=ze(Me,2),Ue=Oe[0],Se=Oe[1],_e=S.useState(null),ve=ze(_e,2),Ge=ve[0],ue=ve[1],at=S.useState(null),nt=ze(at,2),ct=nt[0],Ze=nt[1],pe=S.useMemo(function(){return ct===null&&B?Number.MAX_SAFE_INTEGER:ct||0},[ct,V]),te=S.useState(!1),Ne=ze(te,2),qe=Ne[0],gt=Ne[1],tt="".concat(r,"-item"),wt=Math.max(re,ge),_t=p===sre,Et=o.length&&_t,Tt=p===lre,ht=Et||typeof p=="number"&&o.length>p,Xe=S.useMemo(function(){var Gt=o;return Et?V===null&&B?Gt=o:Gt=o.slice(0,Math.min(o.length,G/u)):typeof p=="number"&&(Gt=o.slice(0,p)),Gt},[o,u,V,p,Et]),pt=S.useMemo(function(){return Et?o.slice(pe+1):o.slice(Xe.length)},[o,Xe,Et,pe]),ut=S.useCallback(function(Gt,Ut){var Pe;return typeof l=="function"?l(Gt):(Pe=l&&(Gt==null?void 0:Gt[l]))!==null&&Pe!==void 0?Pe:Ut},[l]),Ke=S.useCallback(a||function(Gt){return Gt},[a]);function Rt(Gt,Ut,Pe){ct===Gt&&(Ut===void 0||Ut===Ge)||(Ze(Gt),Pe||(gt(Gt<o.length-1),N==null||N(Gt)),Ut!==void 0&&ue(Ut))}function $e(Gt,Ut){q(Ut.clientWidth)}function $t(Gt,Ut){Y(function(Pe){var mt=new Map(Pe);return Ut===null?mt.delete(Gt):mt.set(Gt,Ut),mt})}function Lt(Gt,Ut){se(Ut),ae(ge)}function tn(Gt,Ut){Ee(Ut)}function Qe(Gt,Ut){Se(Ut)}function Pt(Gt){return X.get(ut(Xe[Gt],Gt))}zr(function(){if(G&&typeof wt=="number"&&Xe){var Gt=we+Ue,Ut=Xe.length,Pe=Ut-1;if(!Ut){Rt(0,null);return}for(var mt=0;mt<Ut;mt+=1){var St=Pt(mt);if(B&&(St=St||0),St===void 0){Rt(mt-1,void 0,!0);break}if(Gt+=St,Pe===0&&Gt<=G||mt===Pe-1&&Gt+Pt(Pe)<=G){Rt(Pe,null);break}else if(Gt+wt>G){Rt(mt-1,Gt-St-Ue+ge);break}}w&&Pt(0)+Ue>G&&ue(null)}},[G,X,ge,we,Ue,ut,Xe]);var Ft=qe&&!!pt.length,Yt={};Ge!==null&&Et&&(Yt={position:"absolute",left:Ge,top:0});var Rn={prefixCls:tt,responsive:Et,component:R,invalidate:Tt},Cn=s?function(Gt,Ut){var Pe=ut(Gt,Ut);return S.createElement(IM.Provider,{key:Pe,value:Ie(Ie({},Rn),{},{order:Ut,item:Gt,itemKey:Pe,registerSize:$t,display:Ut<=pe})},s(Gt,Ut))}:function(Gt,Ut){var Pe=ut(Gt,Ut);return S.createElement(sv,ft({},Rn,{order:Ut,key:Pe,item:Gt,renderItem:Ke,itemKey:Pe,registerSize:$t,display:Ut<=pe}))},dn={order:Ft?pe:Number.MAX_SAFE_INTEGER,className:"".concat(tt,"-rest"),registerSize:Lt,display:Ft},Mn=_||pTe,Tn=x?S.createElement(IM.Provider,{value:Ie(Ie({},Rn),dn)},x(pt)):S.createElement(sv,ft({},Rn,dn),typeof Mn=="function"?Mn(pt):Mn),Qt=S.createElement(M,ft({className:je(!Tt&&r,h),style:f,ref:e},I),y&&S.createElement(sv,ft({},Rn,{responsive:_t,responsiveDisabled:!Et,order:-1,className:"".concat(tt,"-prefix"),registerSize:tn,display:!0}),y),Xe.map(Cn),ht?Tn:null,w&&S.createElement(sv,ft({},Rn,{responsive:_t,responsiveDisabled:!Et,order:pe,className:"".concat(tt,"-suffix"),registerSize:Qe,display:!0,style:Yt}),w));return _t?S.createElement(Ll,{onResize:$e,disabled:!Et},Qt):Qt}var Ju=S.forwardRef(mTe);Ju.displayName="Overflow";Ju.Item=are;Ju.RESPONSIVE=sre;Ju.INVALIDATE=lre;function gTe(t,e,n){var r=Ie(Ie({},t),n?e:{});return Object.keys(e).forEach(function(i){var o=e[i];typeof o=="function"&&(r[i]=function(){for(var a,s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return o.apply(void 0,l),(a=t[i])===null||a===void 0?void 0:a.call.apply(a,[t].concat(l))})}),r}var ATe=["prefixCls","id","inputElement","autoFocus","autoComplete","editable","activeDescendantId","value","open","attrs"],vTe=function(e,n){var r=e.prefixCls,i=e.id,o=e.inputElement,a=e.autoFocus,s=e.autoComplete,l=e.editable,c=e.activeDescendantId,u=e.value,d=e.open,f=e.attrs,h=pr(e,ATe),p=o||S.createElement("input",null),_=p,x=_.ref,y=_.props;return"maxLength"in p.props,p=S.cloneElement(p,Ie(Ie(Ie({type:"search"},gTe(h,y,!0)),{},{id:i,ref:kl(n,x),autoComplete:s||"off",autoFocus:a,className:je("".concat(r,"-selection-search-input"),y==null?void 0:y.className),role:"combobox","aria-expanded":d||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":d?c:void 0},f),{},{value:l?u:"",readOnly:!l,unselectable:l?null:"on",style:Ie(Ie({},y.style),{},{opacity:l?null:0})})),p},cre=S.forwardRef(vTe);function ure(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var yTe=typeof window<"u"&&window.document&&window.document.documentElement,bTe=yTe;function xTe(t){return t!=null}function _Te(t){return!t&&t!==0}function ZG(t){return["string","number"].includes(Dn(t))}function dre(t){var e=void 0;return t&&(ZG(t.title)?e=t.title.toString():ZG(t.label)&&(e=t.label.toString())),e}function STe(t,e){bTe?S.useLayoutEffect(t,e):S.useEffect(t,e)}function wTe(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var JG=function(e){e.preventDefault(),e.stopPropagation()},CTe=function(e){var n=e.id,r=e.prefixCls,i=e.values,o=e.open,a=e.searchValue,s=e.autoClearSearchValue,l=e.inputRef,c=e.placeholder,u=e.disabled,d=e.mode,f=e.showSearch,h=e.autoFocus,p=e.autoComplete,_=e.activeDescendantId,x=e.tabIndex,y=e.removeIcon,w=e.maxTagCount,C=e.maxTagTextLength,M=e.maxTagPlaceholder,R=M===void 0?function(Se){return"+ ".concat(Se.length," ...")}:M,N=e.tagRender,I=e.onToggleOpen,B=e.onRemove,D=e.onInputChange,$=e.onInputPaste,z=e.onInputKeyDown,V=e.onInputMouseDown,q=e.onInputCompositionStart,G=e.onInputCompositionEnd,j=e.onInputBlur,H=S.useRef(null),X=S.useState(0),Y=ze(X,2),ee=Y[0],Z=Y[1],re=S.useState(!1),ae=ze(re,2),ce=ae[0],he=ae[1],ge="".concat(r,"-selection"),se=o||d==="multiple"&&s===!1||d==="tags"?a:"",me=d==="tags"||d==="multiple"&&s===!1||f&&(o||ce);STe(function(){Z(H.current.scrollWidth)},[se]);var ye=function(_e,ve,Ge,ue,at){return S.createElement("span",{title:dre(_e),className:je("".concat(ge,"-item"),Re({},"".concat(ge,"-item-disabled"),Ge))},S.createElement("span",{className:"".concat(ge,"-item-content")},ve),ue&&S.createElement(oR,{className:"".concat(ge,"-item-remove"),onMouseDown:JG,onClick:at,customizeIcon:y},""))},we=function(_e,ve,Ge,ue,at,nt){var ct=function(pe){JG(pe),I(!o)};return S.createElement("span",{onMouseDown:ct},N({label:ve,value:_e,disabled:Ge,closable:ue,onClose:at,isMaxTag:!!nt}))},Ee=function(_e){var ve=_e.disabled,Ge=_e.label,ue=_e.value,at=!u&&!ve,nt=Ge;if(typeof C=="number"&&(typeof Ge=="string"||typeof Ge=="number")){var ct=String(nt);ct.length>C&&(nt="".concat(ct.slice(0,C),"..."))}var Ze=function(te){te&&te.stopPropagation(),B(_e)};return typeof N=="function"?we(ue,nt,ve,at,Ze):ye(_e,nt,ve,at,Ze)},Me=function(_e){if(!i.length)return null;var ve=typeof R=="function"?R(_e):R;return typeof N=="function"?we(void 0,ve,!1,!1,void 0,!0):ye({title:ve},ve,!1)},Oe=S.createElement("div",{className:"".concat(ge,"-search"),style:{width:ee},onFocus:function(){he(!0)},onBlur:function(){he(!1)}},S.createElement(cre,{ref:l,open:o,prefixCls:r,id:n,inputElement:null,disabled:u,autoFocus:h,autoComplete:p,editable:me,activeDescendantId:_,value:se,onKeyDown:z,onMouseDown:V,onChange:D,onPaste:$,onCompositionStart:q,onCompositionEnd:G,onBlur:j,tabIndex:x,attrs:gc(e,!0)}),S.createElement("span",{ref:H,className:"".concat(ge,"-search-mirror"),"aria-hidden":!0},se,"")),Ue=S.createElement(Ju,{prefixCls:"".concat(ge,"-overflow"),data:i,renderItem:Ee,renderRest:Me,suffix:Oe,itemKey:wTe,maxCount:w});return S.createElement("span",{className:"".concat(ge,"-wrap")},Ue,!i.length&&!se&&S.createElement("span",{className:"".concat(ge,"-placeholder")},c))},TTe=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,o=e.inputRef,a=e.disabled,s=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,h=e.placeholder,p=e.tabIndex,_=e.showSearch,x=e.searchValue,y=e.activeValue,w=e.maxLength,C=e.onInputKeyDown,M=e.onInputMouseDown,R=e.onInputChange,N=e.onInputPaste,I=e.onInputCompositionStart,B=e.onInputCompositionEnd,D=e.onInputBlur,$=e.title,z=S.useState(!1),V=ze(z,2),q=V[0],G=V[1],j=u==="combobox",H=j||_,X=f[0],Y=x||"";j&&y&&!q&&(Y=y),S.useEffect(function(){j&&G(!1)},[j,y]);var ee=u!=="combobox"&&!d&&!_?!1:!!Y,Z=$===void 0?dre(X):$,re=S.useMemo(function(){return X?null:S.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:ee?{visibility:"hidden"}:void 0},h)},[X,ee,h,r]);return S.createElement("span",{className:"".concat(r,"-selection-wrap")},S.createElement("span",{className:"".concat(r,"-selection-search")},S.createElement(cre,{ref:o,prefixCls:r,id:i,open:d,inputElement:n,disabled:a,autoFocus:s,autoComplete:l,editable:H,activeDescendantId:c,value:Y,onKeyDown:C,onMouseDown:M,onChange:function(ce){G(!0),R(ce)},onPaste:N,onCompositionStart:I,onCompositionEnd:B,onBlur:D,tabIndex:p,attrs:gc(e,!0),maxLength:j?w:void 0})),!j&&X?S.createElement("span",{className:"".concat(r,"-selection-item"),title:Z,style:ee?{visibility:"hidden"}:void 0},X.label):null,re)},ETe=function(e,n){var r=S.useRef(null),i=S.useRef(!1),o=e.prefixCls,a=e.open,s=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.disabled,d=e.prefix,f=e.autoClearSearchValue,h=e.onSearch,p=e.onSearchSubmit,_=e.onToggleOpen,x=e.onInputKeyDown,y=e.onInputBlur,w=e.domRef;S.useImperativeHandle(n,function(){return{focus:function(Z){r.current.focus(Z)},blur:function(){r.current.blur()}}});var C=ore(0),M=ze(C,2),R=M[0],N=M[1],I=function(Z){var re=Z.which,ae=r.current instanceof HTMLTextAreaElement;!ae&&a&&(re===qt.UP||re===qt.DOWN)&&Z.preventDefault(),x&&x(Z),re===qt.ENTER&&s==="tags"&&!i.current&&!a&&(p==null||p(Z.target.value)),!(ae&&!a&&~[qt.UP,qt.DOWN,qt.LEFT,qt.RIGHT].indexOf(re))&&iTe(re)&&_(!0)},B=function(){N(!0)},D=S.useRef(null),$=function(Z){h(Z,!0,i.current)!==!1&&_(!0)},z=function(){i.current=!0},V=function(Z){i.current=!1,s!=="combobox"&&$(Z.target.value)},q=function(Z){var re=Z.target.value;if(c&&D.current&&/[\r\n]/.test(D.current)){var ae=D.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");re=re.replace(ae,D.current)}D.current=null,$(re)},G=function(Z){var re=Z.clipboardData,ae=re==null?void 0:re.getData("text");D.current=ae||""},j=function(Z){var re=Z.target;if(re!==r.current){var ae=document.body.style.msTouchAction!==void 0;ae?setTimeout(function(){r.current.focus()}):r.current.focus()}},H=function(Z){var re=R();Z.target!==r.current&&!re&&!(s==="combobox"&&u)&&Z.preventDefault(),(s!=="combobox"&&(!l||!re)||!a)&&(a&&f!==!1&&h("",!0,!1),_())},X={inputRef:r,onInputKeyDown:I,onInputMouseDown:B,onInputChange:q,onInputPaste:G,onInputCompositionStart:z,onInputCompositionEnd:V,onInputBlur:y},Y=s==="multiple"||s==="tags"?S.createElement(CTe,ft({},e,X)):S.createElement(TTe,ft({},e,X));return S.createElement("div",{ref:w,className:"".concat(o,"-selector"),onClick:j,onMouseDown:H},d&&S.createElement("div",{className:"".concat(o,"-prefix")},d),Y)},MTe=S.forwardRef(ETe);function PTe(t){var e=t.prefixCls,n=t.align,r=t.arrow,i=t.arrowPos,o=r||{},a=o.className,s=o.content,l=i.x,c=l===void 0?0:l,u=i.y,d=u===void 0?0:u,f=S.useRef();if(!n||!n.points)return null;var h={position:"absolute"};if(n.autoArrow!==!1){var p=n.points[0],_=n.points[1],x=p[0],y=p[1],w=_[0],C=_[1];x===w||!["t","b"].includes(x)?h.top=d:x==="t"?h.top=0:h.bottom=0,y===C||!["l","r"].includes(y)?h.left=c:y==="l"?h.left=0:h.right=0}return S.createElement("div",{ref:f,className:je("".concat(e,"-arrow"),a),style:h},s)}function RTe(t){var e=t.prefixCls,n=t.open,r=t.zIndex,i=t.mask,o=t.motion;return i?S.createElement(dd,ft({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(a){var s=a.className;return S.createElement("div",{style:{zIndex:r},className:je("".concat(e,"-mask"),s)})}):null}var NTe=S.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),ITe=S.forwardRef(function(t,e){var n=t.popup,r=t.className,i=t.prefixCls,o=t.style,a=t.target,s=t.onVisibleChanged,l=t.open,c=t.keepDom,u=t.fresh,d=t.onClick,f=t.mask,h=t.arrow,p=t.arrowPos,_=t.align,x=t.motion,y=t.maskMotion,w=t.forceRender,C=t.getPopupContainer,M=t.autoDestroy,R=t.portal,N=t.zIndex,I=t.onMouseEnter,B=t.onMouseLeave,D=t.onPointerEnter,$=t.onPointerDownCapture,z=t.ready,V=t.offsetX,q=t.offsetY,G=t.offsetR,j=t.offsetB,H=t.onAlign,X=t.onPrepare,Y=t.stretch,ee=t.targetWidth,Z=t.targetHeight,re=typeof n=="function"?n():n,ae=l||c,ce=(C==null?void 0:C.length)>0,he=S.useState(!C||!ce),ge=ze(he,2),se=ge[0],me=ge[1];if(zr(function(){!se&&ce&&a&&me(!0)},[se,ce,a]),!se)return null;var ye="auto",we={left:"-1000vw",top:"-1000vh",right:ye,bottom:ye};if(z||!l){var Ee,Me=_.points,Oe=_.dynamicInset||((Ee=_._experimental)===null||Ee===void 0?void 0:Ee.dynamicInset),Ue=Oe&&Me[0][1]==="r",Se=Oe&&Me[0][0]==="b";Ue?(we.right=G,we.left=ye):(we.left=V,we.right=ye),Se?(we.bottom=j,we.top=ye):(we.top=q,we.bottom=ye)}var _e={};return Y&&(Y.includes("height")&&Z?_e.height=Z:Y.includes("minHeight")&&Z&&(_e.minHeight=Z),Y.includes("width")&&ee?_e.width=ee:Y.includes("minWidth")&&ee&&(_e.minWidth=ee)),l||(_e.pointerEvents="none"),S.createElement(R,{open:w||ae,getContainer:C&&function(){return C(a)},autoDestroy:M},S.createElement(RTe,{prefixCls:i,open:l,zIndex:N,mask:f,motion:y}),S.createElement(Ll,{onResize:H,disabled:!l},function(ve){return S.createElement(dd,ft({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(i,"-hidden")},x,{onAppearPrepare:X,onEnterPrepare:X,visible:l,onVisibleChanged:function(ue){var at;x==null||(at=x.onVisibleChanged)===null||at===void 0||at.call(x,ue),s(ue)}}),function(Ge,ue){var at=Ge.className,nt=Ge.style,ct=je(i,at,r);return S.createElement("div",{ref:kl(ve,e,ue),className:ct,style:Ie(Ie(Ie(Ie({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},we),_e),nt),{},{boxSizing:"border-box",zIndex:N},o),onMouseEnter:I,onMouseLeave:B,onPointerEnter:D,onClick:d,onPointerDownCapture:$},h&&S.createElement(PTe,{prefixCls:i,arrow:h,arrowPos:p,align:_}),S.createElement(NTe,{cache:!l&&!u},re))})}))}),OTe=S.forwardRef(function(t,e){var n=t.children,r=t.getTriggerDOMNode,i=gm(n),o=S.useCallback(function(s){TF(e,r?r(s):s)},[r]),a=mm(o,Sg(n));return i?S.cloneElement(n,{ref:a}):n}),eH=S.createContext(null);function tH(t){return t?Array.isArray(t)?t:[t]:[]}function DTe(t,e,n,r){return S.useMemo(function(){var i=tH(n??e),o=tH(r??e),a=new Set(i),s=new Set(o);return t&&(a.has("hover")&&(a.delete("hover"),a.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[a,s]},[t,e,n,r])}function LTe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function BTe(t,e,n,r){for(var i=n.points,o=Object.keys(t),a=0;a<o.length;a+=1){var s,l=o[a];if(LTe((s=t[l])===null||s===void 0?void 0:s.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}function nH(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function oS(t){return t.ownerDocument.defaultView}function t8(t){for(var e=[],n=t==null?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=oS(n).getComputedStyle(n),o=i.overflowX,a=i.overflowY,s=i.overflow;[o,a,s].some(function(l){return r.includes(l)})&&e.push(n),n=n.parentElement}return e}function V_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function Ab(t){return V_(parseFloat(t),0)}function rH(t,e){var n=Ie({},t);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=oS(r).getComputedStyle(r),o=i.overflow,a=i.overflowClipMargin,s=i.borderTopWidth,l=i.borderBottomWidth,c=i.borderLeftWidth,u=i.borderRightWidth,d=r.getBoundingClientRect(),f=r.offsetHeight,h=r.clientHeight,p=r.offsetWidth,_=r.clientWidth,x=Ab(s),y=Ab(l),w=Ab(c),C=Ab(u),M=V_(Math.round(d.width/p*1e3)/1e3),R=V_(Math.round(d.height/f*1e3)/1e3),N=(p-_-w-C)*M,I=(f-h-x-y)*R,B=x*R,D=y*R,$=w*M,z=C*M,V=0,q=0;if(o==="clip"){var G=Ab(a);V=G*M,q=G*R}var j=d.x+$-V,H=d.y+B-q,X=j+d.width+2*V-$-z-N,Y=H+d.height+2*q-B-D-I;n.left=Math.max(n.left,j),n.top=Math.max(n.top,H),n.right=Math.min(n.right,X),n.bottom=Math.min(n.bottom,Y)}}),n}function iH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function oH(t,e){var n=e||[],r=ze(n,2),i=r[0],o=r[1];return[iH(t.width,i),iH(t.height,o)]}function aH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function eA(t,e){var n=e[0],r=e[1],i,o;return n==="t"?o=t.y:n==="b"?o=t.y+t.height:o=t.y+t.height/2,r==="l"?i=t.x:r==="r"?i=t.x+t.width:i=t.x+t.width/2,{x:i,y:o}}function Xh(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(r,i){return i===e?n[r]||"c":r}).join("")}function FTe(t,e,n,r,i,o,a){var s=S.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=ze(s,2),c=l[0],u=l[1],d=S.useRef(0),f=S.useMemo(function(){return e?t8(e):[]},[e]),h=S.useRef({}),p=function(){h.current={}};t||p();var _=Xr(function(){if(e&&n&&t){let Wo=function(ri,dl){var gr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne,Ua=ae.x+ri,di=ae.y+dl,Nh=Ua+Se,$n=di+Ue,dr=Math.max(Ua,gr.left),yi=Math.max(di,gr.top),xi=Math.min(Nh,gr.right),Ei=Math.min($n,gr.bottom);return Math.max(0,(xi-dr)*(Ei-yi))},Tc=function(){tr=ae.y+Mn,bn=tr+Ue,Gn=ae.x+dn,_r=Gn+Se};var Ki=Wo,Cc=Tc,w,C,M,R,N=e,I=N.ownerDocument,B=oS(N),D=B.getComputedStyle(N),$=D.position,z=N.style.left,V=N.style.top,q=N.style.right,G=N.style.bottom,j=N.style.overflow,H=Ie(Ie({},i[r]),o),X=I.createElement("div");(w=N.parentElement)===null||w===void 0||w.appendChild(X),X.style.left="".concat(N.offsetLeft,"px"),X.style.top="".concat(N.offsetTop,"px"),X.style.position=$,X.style.height="".concat(N.offsetHeight,"px"),X.style.width="".concat(N.offsetWidth,"px"),N.style.left="0",N.style.top="0",N.style.right="auto",N.style.bottom="auto",N.style.overflow="hidden";var Y;if(Array.isArray(n))Y={x:n[0],y:n[1],width:0,height:0};else{var ee,Z,re=n.getBoundingClientRect();re.x=(ee=re.x)!==null&&ee!==void 0?ee:re.left,re.y=(Z=re.y)!==null&&Z!==void 0?Z:re.top,Y={x:re.x,y:re.y,width:re.width,height:re.height}}var ae=N.getBoundingClientRect(),ce=B.getComputedStyle(N),he=ce.height,ge=ce.width;ae.x=(C=ae.x)!==null&&C!==void 0?C:ae.left,ae.y=(M=ae.y)!==null&&M!==void 0?M:ae.top;var se=I.documentElement,me=se.clientWidth,ye=se.clientHeight,we=se.scrollWidth,Ee=se.scrollHeight,Me=se.scrollTop,Oe=se.scrollLeft,Ue=ae.height,Se=ae.width,_e=Y.height,ve=Y.width,Ge={left:0,top:0,right:me,bottom:ye},ue={left:-Oe,top:-Me,right:we-Oe,bottom:Ee-Me},at=H.htmlRegion,nt="visible",ct="visibleFirst";at!=="scroll"&&at!==ct&&(at=nt);var Ze=at===ct,pe=rH(ue,f),te=rH(Ge,f),Ne=at===nt?te:pe,qe=Ze?te:Ne;N.style.left="auto",N.style.top="auto",N.style.right="0",N.style.bottom="0";var gt=N.getBoundingClientRect();N.style.left=z,N.style.top=V,N.style.right=q,N.style.bottom=G,N.style.overflow=j,(R=N.parentElement)===null||R===void 0||R.removeChild(X);var tt=V_(Math.round(Se/parseFloat(ge)*1e3)/1e3),wt=V_(Math.round(Ue/parseFloat(he)*1e3)/1e3);if(tt===0||wt===0||P_(n)&&!tS(n))return;var _t=H.offset,Et=H.targetOffset,Tt=oH(ae,_t),ht=ze(Tt,2),Xe=ht[0],pt=ht[1],ut=oH(Y,Et),Ke=ze(ut,2),Rt=Ke[0],$e=Ke[1];Y.x-=Rt,Y.y-=$e;var $t=H.points||[],Lt=ze($t,2),tn=Lt[0],Qe=Lt[1],Pt=aH(Qe),Ft=aH(tn),Yt=eA(Y,Pt),Rn=eA(ae,Ft),Cn=Ie({},H),dn=Yt.x-Rn.x+Xe,Mn=Yt.y-Rn.y+pt,Tn=Wo(dn,Mn),Qt=Wo(dn,Mn,te),Gt=eA(Y,["t","l"]),Ut=eA(ae,["t","l"]),Pe=eA(Y,["b","r"]),mt=eA(ae,["b","r"]),St=H.overflow||{},xt=St.adjustX,m=St.adjustY,de=St.shiftX,gn=St.shiftY,Pn=function(dl){return typeof dl=="boolean"?dl:dl>=0},tr,bn,Gn,_r;Tc();var Ln=Pn(m),Dt=Ft[0]===Pt[0];if(Ln&&Ft[0]==="t"&&(bn>qe.bottom||h.current.bt)){var cn=Mn;Dt?cn-=Ue-_e:cn=Gt.y-mt.y-pt;var Bn=Wo(dn,cn),er=Wo(dn,cn,te);Bn>Tn||Bn===Tn&&(!Ze||er>=Qt)?(h.current.bt=!0,Mn=cn,pt=-pt,Cn.points=[Xh(Ft,0),Xh(Pt,0)]):h.current.bt=!1}if(Ln&&Ft[0]==="b"&&(tr<qe.top||h.current.tb)){var Ae=Mn;Dt?Ae+=Ue-_e:Ae=Pe.y-Ut.y-pt;var Ve=Wo(dn,Ae),lt=Wo(dn,Ae,te);Ve>Tn||Ve===Tn&&(!Ze||lt>=Qt)?(h.current.tb=!0,Mn=Ae,pt=-pt,Cn.points=[Xh(Ft,0),Xh(Pt,0)]):h.current.tb=!1}var dt=Pn(xt),He=Ft[1]===Pt[1];if(dt&&Ft[1]==="l"&&(_r>qe.right||h.current.rl)){var Nt=dn;He?Nt-=Se-ve:Nt=Gt.x-mt.x-Xe;var Ht=Wo(Nt,Mn),Ot=Wo(Nt,Mn,te);Ht>Tn||Ht===Tn&&(!Ze||Ot>=Qt)?(h.current.rl=!0,dn=Nt,Xe=-Xe,Cn.points=[Xh(Ft,1),Xh(Pt,1)]):h.current.rl=!1}if(dt&&Ft[1]==="r"&&(Gn<qe.left||h.current.lr)){var fe=dn;He?fe+=Se-ve:fe=Pe.x-Ut.x-Xe;var Mt=Wo(fe,Mn),fn=Wo(fe,Mn,te);Mt>Tn||Mt===Tn&&(!Ze||fn>=Qt)?(h.current.lr=!0,dn=fe,Xe=-Xe,Cn.points=[Xh(Ft,1),Xh(Pt,1)]):h.current.lr=!1}Tc();var wn=de===!0?0:de;typeof wn=="number"&&(Gn<te.left&&(dn-=Gn-te.left-Xe,Y.x+ve<te.left+wn&&(dn+=Y.x-te.left+ve-wn)),_r>te.right&&(dn-=_r-te.right-Xe,Y.x>te.right-wn&&(dn+=Y.x-te.right+wn)));var Hn=gn===!0?0:gn;typeof Hn=="number"&&(tr<te.top&&(Mn-=tr-te.top-pt,Y.y+_e<te.top+Hn&&(Mn+=Y.y-te.top+_e-Hn)),bn>te.bottom&&(Mn-=bn-te.bottom-pt,Y.y>te.bottom-Hn&&(Mn+=Y.y-te.bottom+Hn)));var lr=ae.x+dn,Lr=lr+Se,le=ae.y+Mn,yn=le+Ue,jt=Y.x,en=jt+ve,xn=Y.y,hn=xn+_e,An=Math.max(lr,jt),Xn=Math.min(Lr,en),cr=(An+Xn)/2,nr=cr-lr,Mr=Math.max(le,xn),ur=Math.min(yn,hn),Wr=(Mr+ur)/2,zn=Wr-le;a==null||a(e,Cn);var Fn=gt.right-ae.x-(dn+ae.width),rr=gt.bottom-ae.y-(Mn+ae.height);tt===1&&(dn=Math.floor(dn),Fn=Math.floor(Fn)),wt===1&&(Mn=Math.floor(Mn),rr=Math.floor(rr));var ui={ready:!0,offsetX:dn/tt,offsetY:Mn/wt,offsetR:Fn/tt,offsetB:rr/wt,arrowX:nr/tt,arrowY:zn/wt,scaleX:tt,scaleY:wt,align:Cn};u(ui)}}),x=function(){d.current+=1;var C=d.current;Promise.resolve().then(function(){d.current===C&&_()})},y=function(){u(function(C){return Ie(Ie({},C),{},{ready:!1})})};return zr(y,[r]),zr(function(){t||y()},[t]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,x]}function $Te(t,e,n,r,i){zr(function(){if(t&&e&&n){let f=function(){r(),i()};var d=f,o=e,a=n,s=t8(o),l=t8(a),c=oS(a),u=new Set([c].concat(Xt(s),Xt(l)));return u.forEach(function(h){h.addEventListener("scroll",f,{passive:!0})}),c.addEventListener("resize",f,{passive:!0}),r(),function(){u.forEach(function(h){h.removeEventListener("scroll",f),c.removeEventListener("resize",f)})}}},[t,e,n])}function kTe(t,e,n,r,i,o,a,s){var l=S.useRef(t);l.current=t;var c=S.useRef(!1);S.useEffect(function(){if(e&&r&&(!i||o)){var d=function(){c.current=!1},f=function(x){var y;l.current&&!a(((y=x.composedPath)===null||y===void 0||(y=y.call(x))===null||y===void 0?void 0:y[0])||x.target)&&!c.current&&s(!1)},h=oS(r);h.addEventListener("pointerdown",d,!0),h.addEventListener("mousedown",f,!0),h.addEventListener("contextmenu",f,!0);var p=TM(n);return p&&(p.addEventListener("mousedown",f,!0),p.addEventListener("contextmenu",f,!0)),function(){h.removeEventListener("pointerdown",d,!0),h.removeEventListener("mousedown",f,!0),h.removeEventListener("contextmenu",f,!0),p&&(p.removeEventListener("mousedown",f,!0),p.removeEventListener("contextmenu",f,!0))}}},[e,n,r,i,o]);function u(){c.current=!0}return u}var UTe=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function zTe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e$,e=S.forwardRef(function(n,r){var i=n.prefixCls,o=i===void 0?"rc-trigger-popup":i,a=n.children,s=n.action,l=s===void 0?"hover":s,c=n.showAction,u=n.hideAction,d=n.popupVisible,f=n.defaultPopupVisible,h=n.onPopupVisibleChange,p=n.afterPopupVisibleChange,_=n.mouseEnterDelay,x=n.mouseLeaveDelay,y=x===void 0?.1:x,w=n.focusDelay,C=n.blurDelay,M=n.mask,R=n.maskClosable,N=R===void 0?!0:R,I=n.getPopupContainer,B=n.forceRender,D=n.autoDestroy,$=n.destroyPopupOnHide,z=n.popup,V=n.popupClassName,q=n.popupStyle,G=n.popupPlacement,j=n.builtinPlacements,H=j===void 0?{}:j,X=n.popupAlign,Y=n.zIndex,ee=n.stretch,Z=n.getPopupClassNameFromAlign,re=n.fresh,ae=n.alignPoint,ce=n.onPopupClick,he=n.onPopupAlign,ge=n.arrow,se=n.popupMotion,me=n.maskMotion,ye=n.popupTransitionName,we=n.popupAnimation,Ee=n.maskTransitionName,Me=n.maskAnimation,Oe=n.className,Ue=n.getTriggerDOMNode,Se=pr(n,UTe),_e=D||$||!1,ve=S.useState(!1),Ge=ze(ve,2),ue=Ge[0],at=Ge[1];zr(function(){at(a$())},[]);var nt=S.useRef({}),ct=S.useContext(eH),Ze=S.useMemo(function(){return{registerSubPopup:function(dr,yi){nt.current[dr]=yi,ct==null||ct.registerSubPopup(dr,yi)}}},[ct]),pe=t$(),te=S.useState(null),Ne=ze(te,2),qe=Ne[0],gt=Ne[1],tt=S.useRef(null),wt=Xr(function($n){tt.current=$n,P_($n)&&qe!==$n&&gt($n),ct==null||ct.registerSubPopup(pe,$n)}),_t=S.useState(null),Et=ze(_t,2),Tt=Et[0],ht=Et[1],Xe=S.useRef(null),pt=Xr(function($n){P_($n)&&Tt!==$n&&(ht($n),Xe.current=$n)}),ut=S.Children.only(a),Ke=(ut==null?void 0:ut.props)||{},Rt={},$e=Xr(function($n){var dr,yi,xi=Tt;return(xi==null?void 0:xi.contains($n))||((dr=TM(xi))===null||dr===void 0?void 0:dr.host)===$n||$n===xi||(qe==null?void 0:qe.contains($n))||((yi=TM(qe))===null||yi===void 0?void 0:yi.host)===$n||$n===qe||Object.values(nt.current).some(function(Ei){return(Ei==null?void 0:Ei.contains($n))||$n===Ei})}),$t=nH(o,se,we,ye),Lt=nH(o,me,Me,Ee),tn=S.useState(f||!1),Qe=ze(tn,2),Pt=Qe[0],Ft=Qe[1],Yt=d??Pt,Rn=Xr(function($n){d===void 0&&Ft($n)});zr(function(){Ft(d||!1)},[d]);var Cn=S.useRef(Yt);Cn.current=Yt;var dn=S.useRef([]);dn.current=[];var Mn=Xr(function($n){var dr;Rn($n),((dr=dn.current[dn.current.length-1])!==null&&dr!==void 0?dr:Yt)!==$n&&(dn.current.push($n),h==null||h($n))}),Tn=S.useRef(),Qt=function(){clearTimeout(Tn.current)},Gt=function(dr){var yi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Qt(),yi===0?Mn(dr):Tn.current=setTimeout(function(){Mn(dr)},yi*1e3)};S.useEffect(function(){return Qt},[]);var Ut=S.useState(!1),Pe=ze(Ut,2),mt=Pe[0],St=Pe[1];zr(function($n){(!$n||Yt)&&St(!0)},[Yt]);var xt=S.useState(null),m=ze(xt,2),de=m[0],gn=m[1],Pn=S.useState(null),tr=ze(Pn,2),bn=tr[0],Gn=tr[1],_r=function(dr){Gn([dr.clientX,dr.clientY])},Ln=FTe(Yt,qe,ae&&bn!==null?bn:Tt,G,H,X,he),Dt=ze(Ln,11),cn=Dt[0],Bn=Dt[1],er=Dt[2],Ae=Dt[3],Ve=Dt[4],lt=Dt[5],dt=Dt[6],He=Dt[7],Nt=Dt[8],Ht=Dt[9],Ot=Dt[10],fe=DTe(ue,l,c,u),Mt=ze(fe,2),fn=Mt[0],wn=Mt[1],Hn=fn.has("click"),lr=wn.has("click")||wn.has("contextMenu"),Lr=Xr(function(){mt||Ot()}),le=function(){Cn.current&&ae&&lr&&Gt(!1)};$Te(Yt,Tt,qe,Lr,le),zr(function(){Lr()},[bn,G]),zr(function(){Yt&&!(H!=null&&H[G])&&Lr()},[JSON.stringify(X)]);var yn=S.useMemo(function(){var $n=BTe(H,o,Ht,ae);return je($n,Z==null?void 0:Z(Ht))},[Ht,Z,H,o,ae]);S.useImperativeHandle(r,function(){return{nativeElement:Xe.current,popupElement:tt.current,forceAlign:Lr}});var jt=S.useState(0),en=ze(jt,2),xn=en[0],hn=en[1],An=S.useState(0),Xn=ze(An,2),cr=Xn[0],nr=Xn[1],Mr=function(){if(ee&&Tt){var dr=Tt.getBoundingClientRect();hn(dr.width),nr(dr.height)}},ur=function(){Mr(),Lr()},Wr=function(dr){St(!1),Ot(),p==null||p(dr)},zn=function(){return new Promise(function(dr){Mr(),gn(function(){return dr})})};zr(function(){de&&(Ot(),de(),gn(null))},[de]);function Fn($n,dr,yi,xi){Rt[$n]=function(Ei){var Ec;xi==null||xi(Ei),Gt(dr,yi);for(var mo=arguments.length,Mc=new Array(mo>1?mo-1:0),vu=1;vu<mo;vu++)Mc[vu-1]=arguments[vu];(Ec=Ke[$n])===null||Ec===void 0||Ec.call.apply(Ec,[Ke,Ei].concat(Mc))}}(Hn||lr)&&(Rt.onClick=function($n){var dr;Cn.current&&lr?Gt(!1):!Cn.current&&Hn&&(_r($n),Gt(!0));for(var yi=arguments.length,xi=new Array(yi>1?yi-1:0),Ei=1;Ei<yi;Ei++)xi[Ei-1]=arguments[Ei];(dr=Ke.onClick)===null||dr===void 0||dr.call.apply(dr,[Ke,$n].concat(xi))});var rr=kTe(Yt,lr,Tt,qe,M,N,$e,Gt),ui=fn.has("hover"),Ki=wn.has("hover"),Cc,Wo;ui&&(Fn("onMouseEnter",!0,_,function($n){_r($n)}),Fn("onPointerEnter",!0,_,function($n){_r($n)}),Cc=function(dr){(Yt||mt)&&qe!==null&&qe!==void 0&&qe.contains(dr.target)&&Gt(!0,_)},ae&&(Rt.onMouseMove=function($n){var dr;(dr=Ke.onMouseMove)===null||dr===void 0||dr.call(Ke,$n)})),Ki&&(Fn("onMouseLeave",!1,y),Fn("onPointerLeave",!1,y),Wo=function(){Gt(!1,y)}),fn.has("focus")&&Fn("onFocus",!0,w),wn.has("focus")&&Fn("onBlur",!1,C),fn.has("contextMenu")&&(Rt.onContextMenu=function($n){var dr;Cn.current&&wn.has("contextMenu")?Gt(!1):(_r($n),Gt(!0)),$n.preventDefault();for(var yi=arguments.length,xi=new Array(yi>1?yi-1:0),Ei=1;Ei<yi;Ei++)xi[Ei-1]=arguments[Ei];(dr=Ke.onContextMenu)===null||dr===void 0||dr.call.apply(dr,[Ke,$n].concat(xi))}),Oe&&(Rt.className=je(Ke.className,Oe));var Tc=S.useRef(!1);Tc.current||(Tc.current=B||Yt||mt);var ri=Ie(Ie({},Ke),Rt),dl={},gr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];gr.forEach(function($n){Se[$n]&&(dl[$n]=function(){for(var dr,yi=arguments.length,xi=new Array(yi),Ei=0;Ei<yi;Ei++)xi[Ei]=arguments[Ei];(dr=ri[$n])===null||dr===void 0||dr.call.apply(dr,[ri].concat(xi)),Se[$n].apply(Se,xi)})});var Ua=S.cloneElement(ut,Ie(Ie({},ri),dl)),di={x:lt,y:dt},Nh=ge?Ie({},ge!==!0?ge:{}):null;return S.createElement(S.Fragment,null,S.createElement(Ll,{disabled:!Yt,ref:pt,onResize:ur},S.createElement(OTe,{getTriggerDOMNode:Ue},Ua)),Tc.current&&S.createElement(eH.Provider,{value:Ze},S.createElement(ITe,{portal:t,ref:wt,prefixCls:o,popup:z,className:je(V,yn),style:q,target:Tt,onMouseEnter:Cc,onMouseLeave:Wo,onPointerEnter:Cc,zIndex:Y,open:Yt,keepDom:mt,fresh:re,onClick:ce,onPointerDownCapture:rr,mask:M,motion:$t,maskMotion:Lt,onVisibleChanged:Wr,onPrepare:zn,forceRender:B,autoDestroy:_e,getPopupContainer:I,align:Ht,arrow:Nh,arrowPos:di,ready:cn,offsetX:Bn,offsetY:er,offsetR:Ae,offsetB:Ve,onAlign:Lr,stretch:ee,targetWidth:xn/He,targetHeight:cr/Nt})))});return e}const aS=zTe(e$);var VTe=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],GTe=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},HTe=function(e,n){var r=e.prefixCls;e.disabled;var i=e.visible,o=e.children,a=e.popupElement,s=e.animation,l=e.transitionName,c=e.dropdownStyle,u=e.dropdownClassName,d=e.direction,f=d===void 0?"ltr":d,h=e.placement,p=e.builtinPlacements,_=e.dropdownMatchSelectWidth,x=e.dropdownRender,y=e.dropdownAlign,w=e.getPopupContainer,C=e.empty,M=e.getTriggerDOMNode,R=e.onPopupVisibleChange,N=e.onPopupMouseEnter,I=pr(e,VTe),B="".concat(r,"-dropdown"),D=a;x&&(D=x(a));var $=S.useMemo(function(){return p||GTe(_)},[p,_]),z=s?"".concat(B,"-").concat(s):l,V=typeof _=="number",q=S.useMemo(function(){return V?null:_===!1?"minWidth":"width"},[_,V]),G=c;V&&(G=Ie(Ie({},G),{},{width:_}));var j=S.useRef(null);return S.useImperativeHandle(n,function(){return{getPopupElement:function(){var X;return(X=j.current)===null||X===void 0?void 0:X.popupElement}}}),S.createElement(aS,ft({},I,{showAction:R?["click"]:[],hideAction:R?["click"]:[],popupPlacement:h||(f==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:$,prefixCls:B,popupTransitionName:z,popup:S.createElement("div",{onMouseEnter:N},D),ref:j,stretch:q,popupAlign:y,popupVisible:i,getPopupContainer:w,popupClassName:je(u,Re({},"".concat(B,"-empty"),C)),popupStyle:G,getTriggerDOMNode:M,onPopupVisibleChange:R}),o)},jTe=S.forwardRef(HTe);function sH(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n??(r!==void 0?r:"rc-index-key-".concat(e))}function n8(t){return typeof t<"u"&&!Number.isNaN(t)}function fre(t,e){var n=t||{},r=n.label,i=n.value,o=n.options,a=n.groupLabel,s=r||(e?"children":"label");return{label:s,value:i||"value",options:o||"options",groupLabel:a||s}}function qTe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=fre(n,!1),a=o.label,s=o.value,l=o.options,c=o.groupLabel;function u(d,f){Array.isArray(d)&&d.forEach(function(h){if(f||!(l in h)){var p=h[s];i.push({key:sH(h,i.length),groupOption:f,data:h,label:h[a],value:p})}else{var _=h[c];_===void 0&&r&&(_=h.label),i.push({key:sH(h,i.length),group:!0,data:h,label:_}),u(h[l],!0)}})}return u(t,!1),i}function r8(t){var e=Ie({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return is(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var WTe=function(e,n,r){if(!n||!n.length)return null;var i=!1,o=function s(l,c){var u=gte(c),d=u[0],f=u.slice(1);if(!d)return[l];var h=l.split(d);return i=i||h.length>1,h.reduce(function(p,_){return[].concat(Xt(p),Xt(s(_,f)))},[]).filter(Boolean)},a=o(e,n);return i?typeof r<"u"?a.slice(0,r):a:null},s$=S.createContext(null);function XTe(t){var e=t.visible,n=t.values;if(!e)return null;var r=50;return S.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(i){var o=i.label,a=i.value;return["number","string"].includes(Dn(o))?o:a}).join(", ")),n.length>r?", ...":null)}var YTe=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],KTe=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],i8=function(e){return e==="tags"||e==="multiple"},QTe=S.forwardRef(function(t,e){var n,r=t.id,i=t.prefixCls,o=t.className,a=t.showSearch,s=t.tagRender,l=t.direction,c=t.omitDomProps,u=t.displayValues,d=t.onDisplayValuesChange,f=t.emptyOptions,h=t.notFoundContent,p=h===void 0?"Not Found":h,_=t.onClear,x=t.mode,y=t.disabled,w=t.loading,C=t.getInputElement,M=t.getRawInputElement,R=t.open,N=t.defaultOpen,I=t.onDropdownVisibleChange,B=t.activeValue,D=t.onActiveValueChange,$=t.activeDescendantId,z=t.searchValue,V=t.autoClearSearchValue,q=t.onSearch,G=t.onSearchSplit,j=t.tokenSeparators,H=t.allowClear,X=t.prefix,Y=t.suffixIcon,ee=t.clearIcon,Z=t.OptionList,re=t.animation,ae=t.transitionName,ce=t.dropdownStyle,he=t.dropdownClassName,ge=t.dropdownMatchSelectWidth,se=t.dropdownRender,me=t.dropdownAlign,ye=t.placement,we=t.builtinPlacements,Ee=t.getPopupContainer,Me=t.showAction,Oe=Me===void 0?[]:Me,Ue=t.onFocus,Se=t.onBlur,_e=t.onKeyUp,ve=t.onKeyDown,Ge=t.onMouseDown,ue=pr(t,YTe),at=i8(x),nt=(a!==void 0?a:at)||x==="combobox",ct=Ie({},ue);KTe.forEach(function(jt){delete ct[jt]}),c==null||c.forEach(function(jt){delete ct[jt]});var Ze=S.useState(!1),pe=ze(Ze,2),te=pe[0],Ne=pe[1];S.useEffect(function(){Ne(a$())},[]);var qe=S.useRef(null),gt=S.useRef(null),tt=S.useRef(null),wt=S.useRef(null),_t=S.useRef(null),Et=S.useRef(!1),Tt=nTe(),ht=ze(Tt,3),Xe=ht[0],pt=ht[1],ut=ht[2];S.useImperativeHandle(e,function(){var jt,en;return{focus:(jt=wt.current)===null||jt===void 0?void 0:jt.focus,blur:(en=wt.current)===null||en===void 0?void 0:en.blur,scrollTo:function(hn){var An;return(An=_t.current)===null||An===void 0?void 0:An.scrollTo(hn)},nativeElement:qe.current||gt.current}});var Ke=S.useMemo(function(){var jt;if(x!=="combobox")return z;var en=(jt=u[0])===null||jt===void 0?void 0:jt.value;return typeof en=="string"||typeof en=="number"?String(en):""},[z,x,u]),Rt=x==="combobox"&&typeof C=="function"&&C()||null,$e=typeof M=="function"&&M(),$t=mm(gt,$e==null||(n=$e.props)===null||n===void 0?void 0:n.ref),Lt=S.useState(!1),tn=ze(Lt,2),Qe=tn[0],Pt=tn[1];zr(function(){Pt(!0)},[]);var Ft=Ui(!1,{defaultValue:N,value:R}),Yt=ze(Ft,2),Rn=Yt[0],Cn=Yt[1],dn=Qe?Rn:!1,Mn=!p&&f;(y||Mn&&dn&&x==="combobox")&&(dn=!1);var Tn=Mn?!1:dn,Qt=S.useCallback(function(jt){var en=jt!==void 0?jt:!dn;y||(Cn(en),dn!==en&&(I==null||I(en)))},[y,dn,Cn,I]),Gt=S.useMemo(function(){return(j||[]).some(function(jt){return[`
`,`\r
`].includes(jt)})},[j]),Ut=S.useContext(s$)||{},Pe=Ut.maxCount,mt=Ut.rawValues,St=function(en,xn,hn){if(!(at&&n8(Pe)&&(mt==null?void 0:mt.size)>=Pe)){var An=!0,Xn=en;D==null||D(null);var cr=WTe(en,j,n8(Pe)?Pe-mt.size:void 0),nr=hn?null:cr;return x!=="combobox"&&nr&&(Xn="",G==null||G(nr),Qt(!1),An=!1),q&&Ke!==Xn&&q(Xn,{source:xn?"typing":"effect"}),An}},xt=function(en){!en||!en.trim()||q(en,{source:"submit"})};S.useEffect(function(){!dn&&!at&&x!=="combobox"&&St("",!1,!1)},[dn]),S.useEffect(function(){Rn&&y&&Cn(!1),y&&!Et.current&&pt(!1)},[y]);var m=ore(),de=ze(m,2),gn=de[0],Pn=de[1],tr=S.useRef(!1),bn=function(en){var xn=gn(),hn=en.key,An=hn==="Enter";if(An&&(x!=="combobox"&&en.preventDefault(),dn||Qt(!0)),Pn(!!Ke),hn==="Backspace"&&!xn&&at&&!Ke&&u.length){for(var Xn=Xt(u),cr=null,nr=Xn.length-1;nr>=0;nr-=1){var Mr=Xn[nr];if(!Mr.disabled){Xn.splice(nr,1),cr=Mr;break}}cr&&d(Xn,{type:"remove",values:[cr]})}for(var ur=arguments.length,Wr=new Array(ur>1?ur-1:0),zn=1;zn<ur;zn++)Wr[zn-1]=arguments[zn];if(dn&&(!An||!tr.current)){var Fn;An&&(tr.current=!0),(Fn=_t.current)===null||Fn===void 0||Fn.onKeyDown.apply(Fn,[en].concat(Wr))}ve==null||ve.apply(void 0,[en].concat(Wr))},Gn=function(en){for(var xn=arguments.length,hn=new Array(xn>1?xn-1:0),An=1;An<xn;An++)hn[An-1]=arguments[An];if(dn){var Xn;(Xn=_t.current)===null||Xn===void 0||Xn.onKeyUp.apply(Xn,[en].concat(hn))}en.key==="Enter"&&(tr.current=!1),_e==null||_e.apply(void 0,[en].concat(hn))},_r=function(en){var xn=u.filter(function(hn){return hn!==en});d(xn,{type:"remove",values:[en]})},Ln=function(){tr.current=!1},Dt=S.useRef(!1),cn=function(){pt(!0),y||(Ue&&!Dt.current&&Ue.apply(void 0,arguments),Oe.includes("focus")&&Qt(!0)),Dt.current=!0},Bn=function(){Et.current=!0,pt(!1,function(){Dt.current=!1,Et.current=!1,Qt(!1)}),!y&&(Ke&&(x==="tags"?q(Ke,{source:"submit"}):x==="multiple"&&q("",{source:"blur"})),Se&&Se.apply(void 0,arguments))},er=[];S.useEffect(function(){return function(){er.forEach(function(jt){return clearTimeout(jt)}),er.splice(0,er.length)}},[]);var Ae=function(en){var xn,hn=en.target,An=(xn=tt.current)===null||xn===void 0?void 0:xn.getPopupElement();if(An&&An.contains(hn)){var Xn=setTimeout(function(){var ur=er.indexOf(Xn);if(ur!==-1&&er.splice(ur,1),ut(),!te&&!An.contains(document.activeElement)){var Wr;(Wr=wt.current)===null||Wr===void 0||Wr.focus()}});er.push(Xn)}for(var cr=arguments.length,nr=new Array(cr>1?cr-1:0),Mr=1;Mr<cr;Mr++)nr[Mr-1]=arguments[Mr];Ge==null||Ge.apply(void 0,[en].concat(nr))},Ve=S.useState({}),lt=ze(Ve,2),dt=lt[1];function He(){dt({})}var Nt;$e&&(Nt=function(en){Qt(en)}),rTe(function(){var jt;return[qe.current,(jt=tt.current)===null||jt===void 0?void 0:jt.getPopupElement()]},Tn,Qt,!!$e);var Ht=S.useMemo(function(){return Ie(Ie({},t),{},{notFoundContent:p,open:dn,triggerOpen:Tn,id:r,showSearch:nt,multiple:at,toggleOpen:Qt})},[t,p,Tn,dn,r,nt,at,Qt]),Ot=!!Y||w,fe;Ot&&(fe=S.createElement(oR,{className:je("".concat(i,"-arrow"),Re({},"".concat(i,"-arrow-loading"),w)),customizeIcon:Y,customizeIconProps:{loading:w,searchValue:Ke,open:dn,focused:Xe,showSearch:nt}}));var Mt=function(){var en;_==null||_(),(en=wt.current)===null||en===void 0||en.focus(),d([],{type:"clear",values:u}),St("",!1,!1)},fn=eTe(i,Mt,u,H,ee,y,Ke,x),wn=fn.allowClear,Hn=fn.clearIcon,lr=S.createElement(Z,{ref:_t}),Lr=je(i,o,Re(Re(Re(Re(Re(Re(Re(Re(Re(Re({},"".concat(i,"-focused"),Xe),"".concat(i,"-multiple"),at),"".concat(i,"-single"),!at),"".concat(i,"-allow-clear"),H),"".concat(i,"-show-arrow"),Ot),"".concat(i,"-disabled"),y),"".concat(i,"-loading"),w),"".concat(i,"-open"),dn),"".concat(i,"-customize-input"),Rt),"".concat(i,"-show-search"),nt)),le=S.createElement(jTe,{ref:tt,disabled:y,prefixCls:i,visible:Tn,popupElement:lr,animation:re,transitionName:ae,dropdownStyle:ce,dropdownClassName:he,direction:l,dropdownMatchSelectWidth:ge,dropdownRender:se,dropdownAlign:me,placement:ye,builtinPlacements:we,getPopupContainer:Ee,empty:f,getTriggerDOMNode:function(en){return gt.current||en},onPopupVisibleChange:Nt,onPopupMouseEnter:He},$e?S.cloneElement($e,{ref:$t}):S.createElement(MTe,ft({},t,{domRef:gt,prefixCls:i,inputElement:Rt,ref:wt,id:r,prefix:X,showSearch:nt,autoClearSearchValue:V,mode:x,activeDescendantId:$,tagRender:s,values:u,open:dn,onToggleOpen:Qt,activeValue:B,searchValue:Ke,onSearch:St,onSearchSubmit:xt,onRemove:_r,tokenWithEnter:Gt,onInputBlur:Ln}))),yn;return $e?yn=le:yn=S.createElement("div",ft({className:Lr},ct,{ref:qe,onMouseDown:Ae,onKeyDown:bn,onKeyUp:Gn,onFocus:cn,onBlur:Bn}),S.createElement(XTe,{visible:Xe&&!dn,values:u}),le,fe,wn&&Hn),S.createElement(ire.Provider,{value:Ht},yn)}),l$=function(){return null};l$.isSelectOptGroup=!0;var c$=function(){return null};c$.isSelectOption=!0;var hre=S.forwardRef(function(t,e){var n=t.height,r=t.offsetY,i=t.offsetX,o=t.children,a=t.prefixCls,s=t.onInnerResize,l=t.innerProps,c=t.rtl,u=t.extra,d={},f={display:"flex",flexDirection:"column"};return r!==void 0&&(d={height:n,position:"relative",overflow:"hidden"},f=Ie(Ie({},f),{},Re(Re(Re(Re(Re({transform:"translateY(".concat(r,"px)")},c?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),S.createElement("div",{style:d},S.createElement(Ll,{onResize:function(p){var _=p.offsetHeight;_&&s&&s()}},S.createElement("div",ft({style:f,className:je(Re({},"".concat(a,"-holder-inner"),a)),ref:e},l),o,u)))});hre.displayName="Filler";function ZTe(t){var e=t.children,n=t.setRef,r=S.useCallback(function(i){n(i)},[]);return S.cloneElement(e,{ref:r})}function JTe(t,e,n,r,i,o,a,s){var l=s.getKey;return t.slice(e,n+1).map(function(c,u){var d=e+u,f=a(c,d,{style:{width:r},offsetX:i}),h=l(c);return S.createElement(ZTe,{key:h,setRef:function(_){return o(c,_)}},f)})}function eEe(t,e,n){var r=t.length,i=e.length,o,a;if(r===0&&i===0)return null;r<i?(o=t,a=e):(o=e,a=t);var s={__EMPTY_ITEM__:!0};function l(p){return p!==void 0?n(p):s}for(var c=null,u=Math.abs(r-i)!==1,d=0;d<a.length;d+=1){var f=l(o[d]),h=l(a[d]);if(f!==h){c=d,u=u||f!==l(a[d+1]);break}}return c===null?null:{index:c,multiple:u}}function tEe(t,e,n){var r=S.useState(t),i=ze(r,2),o=i[0],a=i[1],s=S.useState(null),l=ze(s,2),c=l[0],u=l[1];return S.useEffect(function(){var d=eEe(o||[],t||[],e);(d==null?void 0:d.index)!==void 0&&(n==null||n(d.index),u(t[d.index])),a(t)},[t]),[c]}var lH=(typeof navigator>"u"?"undefined":Dn(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const pre=function(t,e,n,r){var i=S.useRef(!1),o=S.useRef(null);function a(){clearTimeout(o.current),i.current=!0,o.current=setTimeout(function(){i.current=!1},50)}var s=S.useRef({top:t,bottom:e,left:n,right:r});return s.current.top=t,s.current.bottom=e,s.current.left=n,s.current.right=r,function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=l?c<0&&s.current.left||c>0&&s.current.right:c<0&&s.current.top||c>0&&s.current.bottom;return u&&d?(clearTimeout(o.current),i.current=!1):(!d||i.current)&&a(),!i.current&&d}};function nEe(t,e,n,r,i,o,a){var s=S.useRef(0),l=S.useRef(null),c=S.useRef(null),u=S.useRef(!1),d=pre(e,n,r,i);function f(w,C){if(qr.cancel(l.current),!d(!1,C)){var M=w;if(!M._virtualHandled)M._virtualHandled=!0;else return;s.current+=C,c.current=C,lH||M.preventDefault(),l.current=qr(function(){var R=u.current?10:1;a(s.current*R,!1),s.current=0})}}function h(w,C){a(C,!0),lH||w.preventDefault()}var p=S.useRef(null),_=S.useRef(null);function x(w){if(t){qr.cancel(_.current),_.current=qr(function(){p.current=null},2);var C=w.deltaX,M=w.deltaY,R=w.shiftKey,N=C,I=M;(p.current==="sx"||!p.current&&R&&M&&!C)&&(N=M,I=0,p.current="sx");var B=Math.abs(N),D=Math.abs(I);p.current===null&&(p.current=o&&B>D?"x":"y"),p.current==="y"?f(w,I):h(w,N)}}function y(w){t&&(u.current=w.detail===c.current)}return[x,y]}function rEe(t,e,n,r){var i=S.useMemo(function(){return[new Map,[]]},[t,n.id,r]),o=ze(i,2),a=o[0],s=o[1],l=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,f=a.get(u),h=a.get(d);if(f===void 0||h===void 0)for(var p=t.length,_=s.length;_<p;_+=1){var x,y=t[_],w=e(y);a.set(w,_);var C=(x=n.get(w))!==null&&x!==void 0?x:r;if(s[_]=(s[_-1]||0)+C,w===u&&(f=_),w===d&&(h=_),f!==void 0&&h!==void 0)break}return{top:s[f-1]||0,bottom:s[h]}};return l}var iEe=function(){function t(){Jo(this,t),Re(this,"maps",void 0),Re(this,"id",0),Re(this,"diffRecords",new Map),this.maps=Object.create(null)}return ea(t,[{key:"set",value:function(n,r){this.diffRecords.set(n,this.maps[n]),this.maps[n]=r,this.id+=1}},{key:"get",value:function(n){return this.maps[n]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),t}();function cH(t){var e=parseFloat(t);return isNaN(e)?0:e}function oEe(t,e,n){var r=S.useState(0),i=ze(r,2),o=i[0],a=i[1],s=S.useRef(new Map),l=S.useRef(new iEe),c=S.useRef(0);function u(){c.current+=1}function d(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;u();var p=function(){var y=!1;s.current.forEach(function(w,C){if(w&&w.offsetParent){var M=w.offsetHeight,R=getComputedStyle(w),N=R.marginTop,I=R.marginBottom,B=cH(N),D=cH(I),$=M+B+D;l.current.get(C)!==$&&(l.current.set(C,$),y=!0)}}),y&&a(function(w){return w+1})};if(h)p();else{c.current+=1;var _=c.current;Promise.resolve().then(function(){_===c.current&&p()})}}function f(h,p){var _=t(h),x=s.current.get(_);p?(s.current.set(_,p),d()):s.current.delete(_),!x!=!p&&(p?e==null||e(h):n==null||n(h))}return S.useEffect(function(){return u},[]),[f,d,l.current,o]}var uH=14/15;function aEe(t,e,n){var r=S.useRef(!1),i=S.useRef(0),o=S.useRef(0),a=S.useRef(null),s=S.useRef(null),l,c=function(h){if(r.current){var p=Math.ceil(h.touches[0].pageX),_=Math.ceil(h.touches[0].pageY),x=i.current-p,y=o.current-_,w=Math.abs(x)>Math.abs(y);w?i.current=p:o.current=_;var C=n(w,w?x:y,!1,h);C&&h.preventDefault(),clearInterval(s.current),C&&(s.current=setInterval(function(){w?x*=uH:y*=uH;var M=Math.floor(w?x:y);(!n(w,M,!0)||Math.abs(M)<=.1)&&clearInterval(s.current)},16))}},u=function(){r.current=!1,l()},d=function(h){l(),h.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(h.touches[0].pageX),o.current=Math.ceil(h.touches[0].pageY),a.current=h.target,a.current.addEventListener("touchmove",c,{passive:!1}),a.current.addEventListener("touchend",u,{passive:!0}))};l=function(){a.current&&(a.current.removeEventListener("touchmove",c),a.current.removeEventListener("touchend",u))},zr(function(){return t&&e.current.addEventListener("touchstart",d,{passive:!0}),function(){var f;(f=e.current)===null||f===void 0||f.removeEventListener("touchstart",d),l(),clearInterval(s.current)}},[t])}function dH(t){return Math.floor(Math.pow(t,.5))}function o8(t,e){var n="touches"in t?t.touches[0]:t;return n[e?"pageX":"pageY"]-window[e?"scrollX":"scrollY"]}function sEe(t,e,n){S.useEffect(function(){var r=e.current;if(t&&r){var i=!1,o,a,s=function(){qr.cancel(o)},l=function f(){s(),o=qr(function(){n(a),f()})},c=function(){i=!1,s()},u=function(h){if(!(h.target.draggable||h.button!==0)){var p=h;p._virtualHandled||(p._virtualHandled=!0,i=!0)}},d=function(h){if(i){var p=o8(h,!1),_=r.getBoundingClientRect(),x=_.top,y=_.bottom;if(p<=x){var w=x-p;a=-dH(w),l()}else if(p>=y){var C=p-y;a=dH(C),l()}else s()}};return r.addEventListener("mousedown",u),r.ownerDocument.addEventListener("mouseup",c),r.ownerDocument.addEventListener("mousemove",d),r.ownerDocument.addEventListener("dragend",c),function(){r.removeEventListener("mousedown",u),r.ownerDocument.removeEventListener("mouseup",c),r.ownerDocument.removeEventListener("mousemove",d),r.ownerDocument.removeEventListener("dragend",c),s()}}},[t])}var lEe=10;function cEe(t,e,n,r,i,o,a,s){var l=S.useRef(),c=S.useState(null),u=ze(c,2),d=u[0],f=u[1];return zr(function(){if(d&&d.times<lEe){if(!t.current){f(function(ee){return Ie({},ee)});return}o();var h=d.targetAlign,p=d.originAlign,_=d.index,x=d.offset,y=t.current.clientHeight,w=!1,C=h,M=null;if(y){for(var R=h||p,N=0,I=0,B=0,D=Math.min(e.length-1,_),$=0;$<=D;$+=1){var z=i(e[$]);I=N;var V=n.get(z);B=I+(V===void 0?r:V),N=B}for(var q=R==="top"?x:y-x,G=D;G>=0;G-=1){var j=i(e[G]),H=n.get(j);if(H===void 0){w=!0;break}if(q-=H,q<=0)break}switch(R){case"top":M=I-x;break;case"bottom":M=B-y+x;break;default:{var X=t.current.scrollTop,Y=X+y;I<X?C="top":B>Y&&(C="bottom")}}M!==null&&a(M),M!==d.lastTop&&(w=!0)}w&&f(Ie(Ie({},d),{},{times:d.times+1,targetAlign:C,lastTop:M}))}},[d,t.current]),function(h){if(h==null){s();return}if(qr.cancel(l.current),typeof h=="number")a(h);else if(h&&Dn(h)==="object"){var p,_=h.align;"index"in h?p=h.index:p=e.findIndex(function(w){return i(w)===h.key});var x=h.offset,y=x===void 0?0:x;f({times:0,index:p,offset:y,originAlign:_})}}}var fH=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.rtl,i=t.scrollOffset,o=t.scrollRange,a=t.onStartMove,s=t.onStopMove,l=t.onScroll,c=t.horizontal,u=t.spinSize,d=t.containerSize,f=t.style,h=t.thumbStyle,p=t.showScrollBar,_=S.useState(!1),x=ze(_,2),y=x[0],w=x[1],C=S.useState(null),M=ze(C,2),R=M[0],N=M[1],I=S.useState(null),B=ze(I,2),D=B[0],$=B[1],z=!r,V=S.useRef(),q=S.useRef(),G=S.useState(p),j=ze(G,2),H=j[0],X=j[1],Y=S.useRef(),ee=function(){p===!0||p===!1||(clearTimeout(Y.current),X(!0),Y.current=setTimeout(function(){X(!1)},3e3))},Z=o-d||0,re=d-u||0,ae=S.useMemo(function(){if(i===0||Z===0)return 0;var Me=i/Z;return Me*re},[i,Z,re]),ce=function(Oe){Oe.stopPropagation(),Oe.preventDefault()},he=S.useRef({top:ae,dragging:y,pageY:R,startTop:D});he.current={top:ae,dragging:y,pageY:R,startTop:D};var ge=function(Oe){w(!0),N(o8(Oe,c)),$(he.current.top),a(),Oe.stopPropagation(),Oe.preventDefault()};S.useEffect(function(){var Me=function(_e){_e.preventDefault()},Oe=V.current,Ue=q.current;return Oe.addEventListener("touchstart",Me,{passive:!1}),Ue.addEventListener("touchstart",ge,{passive:!1}),function(){Oe.removeEventListener("touchstart",Me),Ue.removeEventListener("touchstart",ge)}},[]);var se=S.useRef();se.current=Z;var me=S.useRef();me.current=re,S.useEffect(function(){if(y){var Me,Oe=function(_e){var ve=he.current,Ge=ve.dragging,ue=ve.pageY,at=ve.startTop;qr.cancel(Me);var nt=V.current.getBoundingClientRect(),ct=d/(c?nt.width:nt.height);if(Ge){var Ze=(o8(_e,c)-ue)*ct,pe=at;!z&&c?pe-=Ze:pe+=Ze;var te=se.current,Ne=me.current,qe=Ne?pe/Ne:0,gt=Math.ceil(qe*te);gt=Math.max(gt,0),gt=Math.min(gt,te),Me=qr(function(){l(gt,c)})}},Ue=function(){w(!1),s()};return window.addEventListener("mousemove",Oe,{passive:!0}),window.addEventListener("touchmove",Oe,{passive:!0}),window.addEventListener("mouseup",Ue,{passive:!0}),window.addEventListener("touchend",Ue,{passive:!0}),function(){window.removeEventListener("mousemove",Oe),window.removeEventListener("touchmove",Oe),window.removeEventListener("mouseup",Ue),window.removeEventListener("touchend",Ue),qr.cancel(Me)}}},[y]),S.useEffect(function(){return ee(),function(){clearTimeout(Y.current)}},[i]),S.useImperativeHandle(e,function(){return{delayHidden:ee}});var ye="".concat(n,"-scrollbar"),we={position:"absolute",visibility:H?null:"hidden"},Ee={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return c?(Object.assign(we,{height:8,left:0,right:0,bottom:0}),Object.assign(Ee,Re({height:"100%",width:u},z?"left":"right",ae))):(Object.assign(we,Re({width:8,top:0,bottom:0},z?"right":"left",0)),Object.assign(Ee,{width:"100%",height:u,top:ae})),S.createElement("div",{ref:V,className:je(ye,Re(Re(Re({},"".concat(ye,"-horizontal"),c),"".concat(ye,"-vertical"),!c),"".concat(ye,"-visible"),H)),style:Ie(Ie({},we),f),onMouseDown:ce,onMouseMove:ee},S.createElement("div",{ref:q,className:je("".concat(ye,"-thumb"),Re({},"".concat(ye,"-thumb-moving"),y)),style:Ie(Ie({},Ee),h),onMouseDown:ge}))}),uEe=20;function hH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t/e*t;return isNaN(n)&&(n=0),n=Math.max(n,uEe),Math.floor(n)}var dEe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],fEe=[],hEe={overflowY:"auto",overflowAnchor:"none"};function pEe(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,i=t.className,o=t.height,a=t.itemHeight,s=t.fullHeight,l=s===void 0?!0:s,c=t.style,u=t.data,d=t.children,f=t.itemKey,h=t.virtual,p=t.direction,_=t.scrollWidth,x=t.component,y=x===void 0?"div":x,w=t.onScroll,C=t.onVirtualScroll,M=t.onVisibleChange,R=t.innerProps,N=t.extraRender,I=t.styles,B=t.showScrollBar,D=B===void 0?"optional":B,$=pr(t,dEe),z=S.useCallback(function(Dt){return typeof f=="function"?f(Dt):Dt==null?void 0:Dt[f]},[f]),V=oEe(z,null,null),q=ze(V,4),G=q[0],j=q[1],H=q[2],X=q[3],Y=!!(h!==!1&&o&&a),ee=S.useMemo(function(){return Object.values(H.maps).reduce(function(Dt,cn){return Dt+cn},0)},[H.id,H.maps]),Z=Y&&u&&(Math.max(a*u.length,ee)>o||!!_),re=p==="rtl",ae=je(r,Re({},"".concat(r,"-rtl"),re),i),ce=u||fEe,he=S.useRef(),ge=S.useRef(),se=S.useRef(),me=S.useState(0),ye=ze(me,2),we=ye[0],Ee=ye[1],Me=S.useState(0),Oe=ze(Me,2),Ue=Oe[0],Se=Oe[1],_e=S.useState(!1),ve=ze(_e,2),Ge=ve[0],ue=ve[1],at=function(){ue(!0)},nt=function(){ue(!1)},ct={getKey:z};function Ze(Dt){Ee(function(cn){var Bn;typeof Dt=="function"?Bn=Dt(cn):Bn=Dt;var er=Pt(Bn);return he.current.scrollTop=er,er})}var pe=S.useRef({start:0,end:ce.length}),te=S.useRef(),Ne=tEe(ce,z),qe=ze(Ne,1),gt=qe[0];te.current=gt;var tt=S.useMemo(function(){if(!Y)return{scrollHeight:void 0,start:0,end:ce.length-1,offset:void 0};if(!Z){var Dt;return{scrollHeight:((Dt=ge.current)===null||Dt===void 0?void 0:Dt.offsetHeight)||0,start:0,end:ce.length-1,offset:void 0}}for(var cn=0,Bn,er,Ae,Ve=ce.length,lt=0;lt<Ve;lt+=1){var dt=ce[lt],He=z(dt),Nt=H.get(He),Ht=cn+(Nt===void 0?a:Nt);Ht>=we&&Bn===void 0&&(Bn=lt,er=cn),Ht>we+o&&Ae===void 0&&(Ae=lt),cn=Ht}return Bn===void 0&&(Bn=0,er=0,Ae=Math.ceil(o/a)),Ae===void 0&&(Ae=ce.length-1),Ae=Math.min(Ae+1,ce.length-1),{scrollHeight:cn,start:Bn,end:Ae,offset:er}},[Z,Y,we,ce,X,o]),wt=tt.scrollHeight,_t=tt.start,Et=tt.end,Tt=tt.offset;pe.current.start=_t,pe.current.end=Et,S.useLayoutEffect(function(){var Dt=H.getRecord();if(Dt.size===1){var cn=Array.from(Dt.keys())[0],Bn=Dt.get(cn),er=ce[_t];if(er&&Bn===void 0){var Ae=z(er);if(Ae===cn){var Ve=H.get(cn),lt=Ve-a;Ze(function(dt){return dt+lt})}}}H.resetRecord()},[wt]);var ht=S.useState({width:0,height:o}),Xe=ze(ht,2),pt=Xe[0],ut=Xe[1],Ke=function(cn){ut({width:cn.offsetWidth,height:cn.offsetHeight})},Rt=S.useRef(),$e=S.useRef(),$t=S.useMemo(function(){return hH(pt.width,_)},[pt.width,_]),Lt=S.useMemo(function(){return hH(pt.height,wt)},[pt.height,wt]),tn=wt-o,Qe=S.useRef(tn);Qe.current=tn;function Pt(Dt){var cn=Dt;return Number.isNaN(Qe.current)||(cn=Math.min(cn,Qe.current)),cn=Math.max(cn,0),cn}var Ft=we<=0,Yt=we>=tn,Rn=Ue<=0,Cn=Ue>=_,dn=pre(Ft,Yt,Rn,Cn),Mn=function(){return{x:re?-Ue:Ue,y:we}},Tn=S.useRef(Mn()),Qt=Xr(function(Dt){if(C){var cn=Ie(Ie({},Mn()),Dt);(Tn.current.x!==cn.x||Tn.current.y!==cn.y)&&(C(cn),Tn.current=cn)}});function Gt(Dt,cn){var Bn=Dt;cn?(rd.flushSync(function(){Se(Bn)}),Qt()):Ze(Bn)}function Ut(Dt){var cn=Dt.currentTarget.scrollTop;cn!==we&&Ze(cn),w==null||w(Dt),Qt()}var Pe=function(cn){var Bn=cn,er=_?_-pt.width:0;return Bn=Math.max(Bn,0),Bn=Math.min(Bn,er),Bn},mt=Xr(function(Dt,cn){cn?(rd.flushSync(function(){Se(function(Bn){var er=Bn+(re?-Dt:Dt);return Pe(er)})}),Qt()):Ze(function(Bn){var er=Bn+Dt;return er})}),St=nEe(Y,Ft,Yt,Rn,Cn,!!_,mt),xt=ze(St,2),m=xt[0],de=xt[1];aEe(Y,he,function(Dt,cn,Bn,er){var Ae=er;return dn(Dt,cn,Bn)?!1:!Ae||!Ae._virtualHandled?(Ae&&(Ae._virtualHandled=!0),m({preventDefault:function(){},deltaX:Dt?cn:0,deltaY:Dt?0:cn}),!0):!1}),sEe(Z,he,function(Dt){Ze(function(cn){return cn+Dt})}),zr(function(){function Dt(Bn){var er=Ft&&Bn.detail<0,Ae=Yt&&Bn.detail>0;Y&&!er&&!Ae&&Bn.preventDefault()}var cn=he.current;return cn.addEventListener("wheel",m,{passive:!1}),cn.addEventListener("DOMMouseScroll",de,{passive:!0}),cn.addEventListener("MozMousePixelScroll",Dt,{passive:!1}),function(){cn.removeEventListener("wheel",m),cn.removeEventListener("DOMMouseScroll",de),cn.removeEventListener("MozMousePixelScroll",Dt)}},[Y,Ft,Yt]),zr(function(){if(_){var Dt=Pe(Ue);Se(Dt),Qt({x:Dt})}},[pt.width,_]);var gn=function(){var cn,Bn;(cn=Rt.current)===null||cn===void 0||cn.delayHidden(),(Bn=$e.current)===null||Bn===void 0||Bn.delayHidden()},Pn=cEe(he,ce,H,a,z,function(){return j(!0)},Ze,gn);S.useImperativeHandle(e,function(){return{nativeElement:se.current,getScrollInfo:Mn,scrollTo:function(cn){function Bn(er){return er&&Dn(er)==="object"&&("left"in er||"top"in er)}Bn(cn)?(cn.left!==void 0&&Se(Pe(cn.left)),Pn(cn.top)):Pn(cn)}}}),zr(function(){if(M){var Dt=ce.slice(_t,Et+1);M(Dt,ce)}},[_t,Et,ce]);var tr=rEe(ce,z,H,a),bn=N==null?void 0:N({start:_t,end:Et,virtual:Z,offsetX:Ue,offsetY:Tt,rtl:re,getSize:tr}),Gn=JTe(ce,_t,Et,_,Ue,G,d,ct),_r=null;o&&(_r=Ie(Re({},l?"height":"maxHeight",o),hEe),Y&&(_r.overflowY="hidden",_&&(_r.overflowX="hidden"),Ge&&(_r.pointerEvents="none")));var Ln={};return re&&(Ln.dir="rtl"),S.createElement("div",ft({ref:se,style:Ie(Ie({},c),{},{position:"relative"}),className:ae},Ln,$),S.createElement(Ll,{onResize:Ke},S.createElement(y,{className:"".concat(r,"-holder"),style:_r,ref:he,onScroll:Ut,onMouseEnter:gn},S.createElement(hre,{prefixCls:r,height:wt,offsetX:Ue,offsetY:Tt,scrollWidth:_,onInnerResize:j,ref:ge,innerProps:R,rtl:re,extra:bn},Gn))),Z&&wt>o&&S.createElement(fH,{ref:Rt,prefixCls:r,scrollOffset:we,scrollRange:wt,rtl:re,onScroll:Gt,onStartMove:at,onStopMove:nt,spinSize:Lt,containerSize:pt.height,style:I==null?void 0:I.verticalScrollBar,thumbStyle:I==null?void 0:I.verticalScrollBarThumb,showScrollBar:D}),Z&&_>pt.width&&S.createElement(fH,{ref:$e,prefixCls:r,scrollOffset:Ue,scrollRange:_,rtl:re,onScroll:Gt,onStartMove:at,onStopMove:nt,spinSize:$t,containerSize:pt.width,horizontal:!0,style:I==null?void 0:I.horizontalScrollBar,thumbStyle:I==null?void 0:I.horizontalScrollBarThumb,showScrollBar:D}))}var mre=S.forwardRef(pEe);mre.displayName="List";function mEe(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var gEe=["disabled","title","children","style","className"];function pH(t){return typeof t=="string"||typeof t=="number"}var AEe=function(e,n){var r=tTe(),i=r.prefixCls,o=r.id,a=r.open,s=r.multiple,l=r.mode,c=r.searchValue,u=r.toggleOpen,d=r.notFoundContent,f=r.onPopupScroll,h=S.useContext(s$),p=h.maxCount,_=h.flattenOptions,x=h.onActiveValue,y=h.defaultActiveFirstOption,w=h.onSelect,C=h.menuItemSelectedIcon,M=h.rawValues,R=h.fieldNames,N=h.virtual,I=h.direction,B=h.listHeight,D=h.listItemHeight,$=h.optionRender,z="".concat(i,"-item"),V=W2(function(){return _},[a,_],function(Me,Oe){return Oe[0]&&Me[1]!==Oe[1]}),q=S.useRef(null),G=S.useMemo(function(){return s&&n8(p)&&(M==null?void 0:M.size)>=p},[s,p,M==null?void 0:M.size]),j=function(Oe){Oe.preventDefault()},H=function(Oe){var Ue;(Ue=q.current)===null||Ue===void 0||Ue.scrollTo(typeof Oe=="number"?{index:Oe}:Oe)},X=S.useCallback(function(Me){return l==="combobox"?!1:M.has(Me)},[l,Xt(M).toString(),M.size]),Y=function(Oe){for(var Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Se=V.length,_e=0;_e<Se;_e+=1){var ve=(Oe+_e*Ue+Se)%Se,Ge=V[ve]||{},ue=Ge.group,at=Ge.data;if(!ue&&!(at!=null&&at.disabled)&&(X(at.value)||!G))return ve}return-1},ee=S.useState(function(){return Y(0)}),Z=ze(ee,2),re=Z[0],ae=Z[1],ce=function(Oe){var Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ae(Oe);var Se={source:Ue?"keyboard":"mouse"},_e=V[Oe];if(!_e){x(null,-1,Se);return}x(_e.value,Oe,Se)};S.useEffect(function(){ce(y!==!1?Y(0):-1)},[V.length,c]);var he=S.useCallback(function(Me){return l==="combobox"?String(Me).toLowerCase()===c.toLowerCase():M.has(Me)},[l,c,Xt(M).toString(),M.size]);S.useEffect(function(){var Me=setTimeout(function(){if(!s&&a&&M.size===1){var Ue=Array.from(M)[0],Se=V.findIndex(function(_e){var ve=_e.data;return c?String(ve.value).startsWith(c):ve.value===Ue});Se!==-1&&(ce(Se),H(Se))}});if(a){var Oe;(Oe=q.current)===null||Oe===void 0||Oe.scrollTo(void 0)}return function(){return clearTimeout(Me)}},[a,c]);var ge=function(Oe){Oe!==void 0&&w(Oe,{selected:!M.has(Oe)}),s||u(!1)};if(S.useImperativeHandle(n,function(){return{onKeyDown:function(Oe){var Ue=Oe.which,Se=Oe.ctrlKey;switch(Ue){case qt.N:case qt.P:case qt.UP:case qt.DOWN:{var _e=0;if(Ue===qt.UP?_e=-1:Ue===qt.DOWN?_e=1:mEe()&&Se&&(Ue===qt.N?_e=1:Ue===qt.P&&(_e=-1)),_e!==0){var ve=Y(re+_e,_e);H(ve),ce(ve,!0)}break}case qt.TAB:case qt.ENTER:{var Ge,ue=V[re];ue&&!(ue!=null&&(Ge=ue.data)!==null&&Ge!==void 0&&Ge.disabled)&&!G?ge(ue.value):ge(void 0),a&&Oe.preventDefault();break}case qt.ESC:u(!1),a&&Oe.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Oe){H(Oe)}}}),V.length===0)return S.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(z,"-empty"),onMouseDown:j},d);var se=Object.keys(R).map(function(Me){return R[Me]}),me=function(Oe){return Oe.label};function ye(Me,Oe){var Ue=Me.group;return{role:Ue?"presentation":"option",id:"".concat(o,"_list_").concat(Oe)}}var we=function(Oe){var Ue=V[Oe];if(!Ue)return null;var Se=Ue.data||{},_e=Se.value,ve=Ue.group,Ge=gc(Se,!0),ue=me(Ue);return Ue?S.createElement("div",ft({"aria-label":typeof ue=="string"&&!ve?ue:null},Ge,{key:Oe},ye(Ue,Oe),{"aria-selected":he(_e)}),_e):null},Ee={role:"listbox",id:"".concat(o,"_list")};return S.createElement(S.Fragment,null,N&&S.createElement("div",ft({},Ee,{style:{height:0,width:0,overflow:"hidden"}}),we(re-1),we(re),we(re+1)),S.createElement(mre,{itemKey:"key",ref:q,data:V,height:B,itemHeight:D,fullHeight:!1,onMouseDown:j,onScroll:f,virtual:N,direction:I,innerProps:N?null:Ee},function(Me,Oe){var Ue=Me.group,Se=Me.groupOption,_e=Me.data,ve=Me.label,Ge=Me.value,ue=_e.key;if(Ue){var at,nt=(at=_e.title)!==null&&at!==void 0?at:pH(ve)?ve.toString():void 0;return S.createElement("div",{className:je(z,"".concat(z,"-group"),_e.className),title:nt},ve!==void 0?ve:ue)}var ct=_e.disabled,Ze=_e.title;_e.children;var pe=_e.style,te=_e.className,Ne=pr(_e,gEe),qe=po(Ne,se),gt=X(Ge),tt=ct||!gt&&G,wt="".concat(z,"-option"),_t=je(z,wt,te,Re(Re(Re(Re({},"".concat(wt,"-grouped"),Se),"".concat(wt,"-active"),re===Oe&&!tt),"".concat(wt,"-disabled"),tt),"".concat(wt,"-selected"),gt)),Et=me(Me),Tt=!C||typeof C=="function"||gt,ht=typeof Et=="number"?Et:Et||Ge,Xe=pH(ht)?ht.toString():void 0;return Ze!==void 0&&(Xe=Ze),S.createElement("div",ft({},gc(qe),N?{}:ye(Me,Oe),{"aria-selected":he(Ge),className:_t,title:Xe,onMouseMove:function(){re===Oe||tt||ce(Oe)},onClick:function(){tt||ge(Ge)},style:pe}),S.createElement("div",{className:"".concat(wt,"-content")},typeof $=="function"?$(Me,{index:Oe}):ht),S.isValidElement(C)||gt,Tt&&S.createElement(oR,{className:"".concat(z,"-option-state"),customizeIcon:C,customizeIconProps:{value:Ge,disabled:tt,isSelected:gt}},gt?"":null))}))},vEe=S.forwardRef(AEe);const yEe=function(t,e){var n=S.useRef({values:new Map,options:new Map}),r=S.useMemo(function(){var o=n.current,a=o.values,s=o.options,l=t.map(function(d){if(d.label===void 0){var f;return Ie(Ie({},d),{},{label:(f=a.get(d.value))===null||f===void 0?void 0:f.label})}return d}),c=new Map,u=new Map;return l.forEach(function(d){c.set(d.value,d),u.set(d.value,e.get(d.value)||s.get(d.value))}),n.current.values=c,n.current.options=u,l},[t,e]),i=S.useCallback(function(o){return e.get(o)||n.current.options.get(o)},[e]);return[r,i]};function wI(t,e){return ure(t).join("").toUpperCase().includes(e)}const bEe=function(t,e,n,r,i){return S.useMemo(function(){if(!n||r===!1)return t;var o=e.options,a=e.label,s=e.value,l=[],c=typeof r=="function",u=n.toUpperCase(),d=c?r:function(h,p){return i?wI(p[i],u):p[o]?wI(p[a!=="children"?a:"label"],u):wI(p[s],u)},f=c?function(h){return r8(h)}:function(h){return h};return t.forEach(function(h){if(h[o]){var p=d(n,f(h));if(p)l.push(h);else{var _=h[o].filter(function(x){return d(n,f(x))});_.length&&l.push(Ie(Ie({},h),{},Re({},o,_)))}return}d(n,f(h))&&l.push(h)}),l},[t,r,i,n,e])};var mH=0,xEe=ss();function _Ee(){var t;return xEe?(t=mH,mH+=1):t="TEST_OR_SSR",t}function SEe(t){var e=S.useState(),n=ze(e,2),r=n[0],i=n[1];return S.useEffect(function(){i("rc_select_".concat(_Ee()))},[]),t||r}var wEe=["children","value"],CEe=["children"];function TEe(t){var e=t,n=e.key,r=e.props,i=r.children,o=r.value,a=pr(r,wEe);return Ie({key:n,value:o!==void 0?o:n,children:i},a)}function gre(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return mc(t).map(function(n,r){if(!S.isValidElement(n)||!n.type)return null;var i=n,o=i.type.isSelectOptGroup,a=i.key,s=i.props,l=s.children,c=pr(s,CEe);return e||!o?TEe(n):Ie(Ie({key:"__RC_SELECT_GRP__".concat(a===null?r:a,"__"),label:a},c),{},{options:gre(l)})}).filter(function(n){return n})}var EEe=function(e,n,r,i,o){return S.useMemo(function(){var a=e,s=!e;s&&(a=gre(n));var l=new Map,c=new Map,u=function(h,p,_){_&&typeof _=="string"&&h.set(p[_],p)},d=function f(h){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=0;_<h.length;_+=1){var x=h[_];!x[r.options]||p?(l.set(x[r.value],x),u(c,x,r.label),u(c,x,i),u(c,x,o)):f(x[r.options],!0)}};return d(a),{options:a,valueOptions:l,labelOptions:c}},[e,n,r,i,o])};function gH(t){var e=S.useRef();e.current=t;var n=S.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var MEe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],PEe=["inputValue"];function REe(t){return!t||Dn(t)!=="object"}var NEe=S.forwardRef(function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=i===void 0?"rc-select":i,a=t.backfill,s=t.fieldNames,l=t.inputValue,c=t.searchValue,u=t.onSearch,d=t.autoClearSearchValue,f=d===void 0?!0:d,h=t.onSelect,p=t.onDeselect,_=t.dropdownMatchSelectWidth,x=_===void 0?!0:_,y=t.filterOption,w=t.filterSort,C=t.optionFilterProp,M=t.optionLabelProp,R=t.options,N=t.optionRender,I=t.children,B=t.defaultActiveFirstOption,D=t.menuItemSelectedIcon,$=t.virtual,z=t.direction,V=t.listHeight,q=V===void 0?200:V,G=t.listItemHeight,j=G===void 0?20:G,H=t.labelRender,X=t.value,Y=t.defaultValue,ee=t.labelInValue,Z=t.onChange,re=t.maxCount,ae=pr(t,MEe),ce=SEe(n),he=i8(r),ge=!!(!R&&I),se=S.useMemo(function(){return y===void 0&&r==="combobox"?!1:y},[y,r]),me=S.useMemo(function(){return fre(s,ge)},[JSON.stringify(s),ge]),ye=Ui("",{value:c!==void 0?c:l,postState:function(Gt){return Gt||""}}),we=ze(ye,2),Ee=we[0],Me=we[1],Oe=EEe(R,I,me,C,M),Ue=Oe.valueOptions,Se=Oe.labelOptions,_e=Oe.options,ve=S.useCallback(function(Qt){var Gt=ure(Qt);return Gt.map(function(Ut){var Pe,mt,St,xt,m;if(REe(Ut))Pe=Ut;else{var de;St=Ut.key,mt=Ut.label,Pe=(de=Ut.value)!==null&&de!==void 0?de:St}var gn=Ue.get(Pe);if(gn){var Pn;mt===void 0&&(mt=gn==null?void 0:gn[M||me.label]),St===void 0&&(St=(Pn=gn==null?void 0:gn.key)!==null&&Pn!==void 0?Pn:Pe),xt=gn==null?void 0:gn.disabled,m=gn==null?void 0:gn.title}return{label:mt,value:Pe,key:St,disabled:xt,title:m}})},[me,M,Ue]),Ge=Ui(Y,{value:X}),ue=ze(Ge,2),at=ue[0],nt=ue[1],ct=S.useMemo(function(){var Qt,Gt=he&&at===null?[]:at,Ut=ve(Gt);return r==="combobox"&&_Te((Qt=Ut[0])===null||Qt===void 0?void 0:Qt.value)?[]:Ut},[at,ve,r,he]),Ze=yEe(ct,Ue),pe=ze(Ze,2),te=pe[0],Ne=pe[1],qe=S.useMemo(function(){if(!r&&te.length===1){var Qt=te[0];if(Qt.value===null&&(Qt.label===null||Qt.label===void 0))return[]}return te.map(function(Gt){var Ut;return Ie(Ie({},Gt),{},{label:(Ut=typeof H=="function"?H(Gt):Gt.label)!==null&&Ut!==void 0?Ut:Gt.value})})},[r,te,H]),gt=S.useMemo(function(){return new Set(te.map(function(Qt){return Qt.value}))},[te]);S.useEffect(function(){if(r==="combobox"){var Qt,Gt=(Qt=te[0])===null||Qt===void 0?void 0:Qt.value;Me(xTe(Gt)?String(Gt):"")}},[te]);var tt=gH(function(Qt,Gt){var Ut=Gt??Qt;return Re(Re({},me.value,Qt),me.label,Ut)}),wt=S.useMemo(function(){if(r!=="tags")return _e;var Qt=Xt(_e),Gt=function(Pe){return Ue.has(Pe)};return Xt(te).sort(function(Ut,Pe){return Ut.value<Pe.value?-1:1}).forEach(function(Ut){var Pe=Ut.value;Gt(Pe)||Qt.push(tt(Pe,Ut.label))}),Qt},[tt,_e,Ue,te,r]),_t=bEe(wt,me,Ee,se,C),Et=S.useMemo(function(){return r!=="tags"||!Ee||_t.some(function(Qt){return Qt[C||"value"]===Ee})||_t.some(function(Qt){return Qt[me.value]===Ee})?_t:[tt(Ee)].concat(Xt(_t))},[tt,C,r,_t,Ee,me]),Tt=function Qt(Gt){var Ut=Xt(Gt).sort(function(Pe,mt){return w(Pe,mt,{searchValue:Ee})});return Ut.map(function(Pe){return Array.isArray(Pe.options)?Ie(Ie({},Pe),{},{options:Pe.options.length>0?Qt(Pe.options):Pe.options}):Pe})},ht=S.useMemo(function(){return w?Tt(Et):Et},[Et,w,Ee]),Xe=S.useMemo(function(){return qTe(ht,{fieldNames:me,childrenAsData:ge})},[ht,me,ge]),pt=function(Gt){var Ut=ve(Gt);if(nt(Ut),Z&&(Ut.length!==te.length||Ut.some(function(St,xt){var m;return((m=te[xt])===null||m===void 0?void 0:m.value)!==(St==null?void 0:St.value)}))){var Pe=ee?Ut:Ut.map(function(St){return St.value}),mt=Ut.map(function(St){return r8(Ne(St.value))});Z(he?Pe:Pe[0],he?mt:mt[0])}},ut=S.useState(null),Ke=ze(ut,2),Rt=Ke[0],$e=Ke[1],$t=S.useState(0),Lt=ze($t,2),tn=Lt[0],Qe=Lt[1],Pt=B!==void 0?B:r!=="combobox",Ft=S.useCallback(function(Qt,Gt){var Ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Pe=Ut.source,mt=Pe===void 0?"keyboard":Pe;Qe(Gt),a&&r==="combobox"&&Qt!==null&&mt==="keyboard"&&$e(String(Qt))},[a,r]),Yt=function(Gt,Ut,Pe){var mt=function(){var _r,Ln=Ne(Gt);return[ee?{label:Ln==null?void 0:Ln[me.label],value:Gt,key:(_r=Ln==null?void 0:Ln.key)!==null&&_r!==void 0?_r:Gt}:Gt,r8(Ln)]};if(Ut&&h){var St=mt(),xt=ze(St,2),m=xt[0],de=xt[1];h(m,de)}else if(!Ut&&p&&Pe!=="clear"){var gn=mt(),Pn=ze(gn,2),tr=Pn[0],bn=Pn[1];p(tr,bn)}},Rn=gH(function(Qt,Gt){var Ut,Pe=he?Gt.selected:!0;Pe?Ut=he?[].concat(Xt(te),[Qt]):[Qt]:Ut=te.filter(function(mt){return mt.value!==Qt}),pt(Ut),Yt(Qt,Pe),r==="combobox"?$e(""):(!i8||f)&&(Me(""),$e(""))}),Cn=function(Gt,Ut){pt(Gt);var Pe=Ut.type,mt=Ut.values;(Pe==="remove"||Pe==="clear")&&mt.forEach(function(St){Yt(St.value,!1,Pe)})},dn=function(Gt,Ut){if(Me(Gt),$e(null),Ut.source==="submit"){var Pe=(Gt||"").trim();if(Pe){var mt=Array.from(new Set([].concat(Xt(gt),[Pe])));pt(mt),Yt(Pe,!0),Me("")}return}Ut.source!=="blur"&&(r==="combobox"&&pt(Gt),u==null||u(Gt))},Mn=function(Gt){var Ut=Gt;r!=="tags"&&(Ut=Gt.map(function(mt){var St=Se.get(mt);return St==null?void 0:St.value}).filter(function(mt){return mt!==void 0}));var Pe=Array.from(new Set([].concat(Xt(gt),Xt(Ut))));pt(Pe),Pe.forEach(function(mt){Yt(mt,!0)})},Tn=S.useMemo(function(){var Qt=$!==!1&&x!==!1;return Ie(Ie({},Oe),{},{flattenOptions:Xe,onActiveValue:Ft,defaultActiveFirstOption:Pt,onSelect:Rn,menuItemSelectedIcon:D,rawValues:gt,fieldNames:me,virtual:Qt,direction:z,listHeight:q,listItemHeight:j,childrenAsData:ge,maxCount:re,optionRender:N})},[re,Oe,Xe,Ft,Pt,Rn,D,gt,me,$,x,z,q,j,ge,N]);return S.createElement(s$.Provider,{value:Tn},S.createElement(QTe,ft({},ae,{id:ce,prefixCls:o,ref:e,omitDomProps:PEe,mode:r,displayValues:qe,onDisplayValuesChange:Cn,direction:z,searchValue:Ee,onSearch:dn,autoClearSearchValue:f,onSearchSplit:Mn,dropdownMatchSelectWidth:x,OptionList:vEe,emptyOptions:!Xe.length,activeValue:Rt,activeDescendantId:"".concat(ce,"_list_").concat(tn)})))}),u$=NEe;u$.Option=c$;u$.OptGroup=l$;function ny(t,e,n){return je({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const f1=(t,e)=>e||t,IEe=()=>{const[,t]=Ul(),[e]=xc("Empty"),r=new gi(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return S.createElement("svg",{style:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},S.createElement("title",null,(e==null?void 0:e.description)||"Empty"),S.createElement("g",{fill:"none",fillRule:"evenodd"},S.createElement("g",{transform:"translate(24 31.67)"},S.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),S.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),S.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),S.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),S.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),S.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),S.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},S.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),S.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},OEe=IEe,DEe=()=>{const[,t]=Ul(),[e]=xc("Empty"),{colorFill:n,colorFillTertiary:r,colorFillQuaternary:i,colorBgContainer:o}=t,{borderColor:a,shadowColor:s,contentColor:l}=S.useMemo(()=>({borderColor:new gi(n).onBackground(o).toHexString(),shadowColor:new gi(r).onBackground(o).toHexString(),contentColor:new gi(i).onBackground(o).toHexString()}),[n,r,i,o]);return S.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},S.createElement("title",null,(e==null?void 0:e.description)||"Empty"),S.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},S.createElement("ellipse",{fill:s,cx:"32",cy:"33",rx:"32",ry:"7"}),S.createElement("g",{fillRule:"nonzero",stroke:a},S.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),S.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},LEe=DEe,BEe=t=>{const{componentCls:e,margin:n,marginXS:r,marginXL:i,fontSize:o,lineHeight:a}=t;return{[e]:{marginInline:r,fontSize:o,lineHeight:a,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:r,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:t.colorTextDescription},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:t.colorTextDescription,[`${e}-description`]:{color:t.colorTextDescription},[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:r,color:t.colorTextDescription,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},FEe=Ti("Empty",t=>{const{componentCls:e,controlHeightLG:n,calc:r}=t,i=Yr(t,{emptyImgCls:`${e}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return BEe(i)});var $Ee=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Are=S.createElement(OEe,null),vre=S.createElement(LEe,null),d$=t=>{var e;const{className:n,rootClassName:r,prefixCls:i,image:o,description:a,children:s,imageStyle:l,style:c,classNames:u,styles:d}=t,f=$Ee(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:h,direction:p,className:_,style:x,classNames:y,styles:w,image:C}=Fa("empty"),M=h("empty",i),[R,N,I]=FEe(M),[B]=xc("Empty"),D=typeof a<"u"?a:B==null?void 0:B.description,$=typeof D=="string"?D:"empty",z=(e=o??C)!==null&&e!==void 0?e:Are;let V=null;return typeof z=="string"?V=S.createElement("img",{draggable:!1,alt:$,src:z}):V=z,R(S.createElement("div",Object.assign({className:je(N,I,M,_,{[`${M}-normal`]:z===vre,[`${M}-rtl`]:p==="rtl"},n,r,y.root,u==null?void 0:u.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},w.root),x),d==null?void 0:d.root),c)},f),S.createElement("div",{className:je(`${M}-image`,y.image,u==null?void 0:u.image),style:Object.assign(Object.assign(Object.assign({},l),w.image),d==null?void 0:d.image)},V),D&&S.createElement("div",{className:je(`${M}-description`,y.description,u==null?void 0:u.description),style:Object.assign(Object.assign({},w.description),d==null?void 0:d.description)},D),s&&S.createElement("div",{className:je(`${M}-footer`,y.footer,u==null?void 0:u.footer),style:Object.assign(Object.assign({},w.footer),d==null?void 0:d.footer)},s)))};d$.PRESENTED_IMAGE_DEFAULT=Are;d$.PRESENTED_IMAGE_SIMPLE=vre;const vb=d$,kEe=t=>{const{componentName:e}=t,{getPrefixCls:n}=S.useContext(ir),r=n("empty");switch(e){case"Table":case"List":return Ye.createElement(vb,{image:vb.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return Ye.createElement(vb,{image:vb.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});case"Table.filter":return null;default:return Ye.createElement(vb,null)}},yre=kEe,UEe=(t,e,n)=>{var r,i;const{variant:o,[t]:a}=S.useContext(ir),s=S.useContext($ne),l=a==null?void 0:a.variant;let c;typeof e<"u"?c=e:n===!1?c="borderless":c=(i=(r=s??l)!==null&&r!==void 0?r:o)!==null&&i!==void 0?i:"outlined";const u=cbe.includes(c);return[c,u]},h1=UEe,zEe=t=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:t==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function VEe(t,e){return t||zEe(e)}const AH=t=>{const{optionHeight:e,optionFontSize:n,optionLineHeight:r,optionPadding:i}=t;return{position:"relative",display:"block",minHeight:e,padding:i,color:t.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},GEe=t=>{const{antCls:e,componentCls:n}=t,r=`${n}-item`,i=`&${e}-slide-up-enter${e}-slide-up-enter-active`,o=`&${e}-slide-up-appear${e}-slide-up-appear-active`,a=`&${e}-slide-up-leave${e}-slide-up-leave-active`,s=`${n}-dropdown-placement-`,l=`${r}-option-selected`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},ho(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
          ${i}${s}bottomLeft,
          ${o}${s}bottomLeft
        `]:{animationName:jF},[`
          ${i}${s}topLeft,
          ${o}${s}topLeft,
          ${i}${s}topRight,
          ${o}${s}topRight
        `]:{animationName:WF},[`${a}${s}bottomLeft`]:{animationName:qF},[`
          ${a}${s}topLeft,
          ${a}${s}topRight
        `]:{animationName:XF},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},AH(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},tm),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:t.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,[`${r}-option-state`]:{color:t.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.calc(t.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},AH(t)),{color:t.colorTextDisabled})}),[`${l}:has(+ ${l})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${l}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},ty(t,"slide-up"),ty(t,"slide-down"),RM(t,"move-up"),RM(t,"move-down")]},HEe=GEe,bre=t=>{const{multipleSelectItemHeight:e,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:i}=t,o=t.max(t.calc(n).sub(r).equal(),0),a=t.max(t.calc(o).sub(i).equal(),0);return{basePadding:o,containerPadding:a,itemHeight:ke(e),itemLineHeight:ke(t.calc(e).sub(t.calc(t.lineWidth).mul(2)).equal())}},jEe=t=>{const{multipleSelectItemHeight:e,selectHeight:n,lineWidth:r}=t;return t.calc(n).sub(e).div(2).sub(r).equal()},xre=t=>{const{componentCls:e,iconCls:n,borderRadiusSM:r,motionDurationSlow:i,paddingXS:o,multipleItemColorDisabled:a,multipleItemBorderColorDisabled:s,colorIcon:l,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:u}=t;return{[`${e}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"calc(100% - 4px)",display:"inline-flex"},[`${e}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:u,borderRadius:r,cursor:"default",transition:`font-size ${i}, line-height ${i}, height ${i}`,marginInlineEnd:t.calc(u).mul(2).equal(),paddingInlineStart:o,paddingInlineEnd:t.calc(o).div(2).equal(),[`${e}-disabled&`]:{color:a,borderColor:s,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.calc(o).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},VP()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},qEe=(t,e)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=t,i=`${n}-selection-overflow`,o=t.multipleSelectItemHeight,a=jEe(t),s=e?`${n}-${e}`:"",l=bre(t);return{[`${n}-multiple${s}`]:Object.assign(Object.assign({},xre(t)),{[`${n}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:t.borderRadius,[`${n}-disabled&`]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${ke(r)} 0`,lineHeight:ke(o),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:l.itemHeight,lineHeight:ke(l.itemLineHeight)},[`${n}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:ke(o),marginBlock:r}},[`${n}-prefix`]:{marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(l.basePadding).equal()},[`${i}-item + ${i}-item,
        ${n}-prefix + ${n}-selection-wrap
      `]:{[`${n}-selection-search`]:{marginInlineStart:0},[`${n}-selection-placeholder`]:{insetInlineStart:0}},[`${i}-item-suffix`]:{minHeight:l.itemHeight,marginBlock:r},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(a).equal(),"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:t.fontFamily,lineHeight:ke(o),transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(l.basePadding).equal(),insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}})}};function CI(t,e){const{componentCls:n}=t,r=e?`${n}-${e}`:"",i={[`${n}-multiple${r}`]:{fontSize:t.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.calc(t.fontSizeIcon).add(t.controlPaddingHorizontal).equal()}}};return[qEe(t,e),i]}const WEe=t=>{const{componentCls:e}=t,n=Yr(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),r=Yr(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius});return[CI(t),CI(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},CI(r,"lg")]},XEe=WEe;function TI(t,e){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=t,o=t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),a=e?`${n}-${e}`:"";return{[`${n}-single${a}`]:{fontSize:t.fontSize,height:t.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},ho(t,!0)),{display:"flex",borderRadius:i,flex:"1 1 auto",[`${n}-selection-wrap:after`]:{lineHeight:ke(o)},[`${n}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:ke(o),transition:`all ${t.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-search,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:t.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${ke(r)}`,[`${n}-selection-search-input`]:{height:o,fontSize:t.fontSize},"&:after":{lineHeight:ke(o)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${ke(r)}`,"&:after":{display:"none"}}}}}}}function YEe(t){const{componentCls:e}=t,n=t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal();return[TI(t),TI(Yr(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selector`]:{padding:`0 ${ke(n)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:t.calc(n).add(t.calc(t.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.calc(t.fontSize).mul(1.5).equal()}}}},TI(Yr(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const KEe=t=>{const{fontSize:e,lineHeight:n,lineWidth:r,controlHeight:i,controlHeightSM:o,controlHeightLG:a,paddingXXS:s,controlPaddingHorizontal:l,zIndexPopupBase:c,colorText:u,fontWeightStrong:d,controlItemBgActive:f,controlItemBgHover:h,colorBgContainer:p,colorFillSecondary:_,colorBgContainerDisabled:x,colorTextDisabled:y,colorPrimaryHover:w,colorPrimary:C,controlOutline:M}=t,R=s*2,N=r*2,I=Math.min(i-R,i-N),B=Math.min(o-R,o-N),D=Math.min(a-R,a-N);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(s/2),zIndexPopup:c+50,optionSelectedColor:u,optionSelectedFontWeight:d,optionSelectedBg:f,optionActiveBg:h,optionPadding:`${(i-e*n)/2}px ${l}px`,optionFontSize:e,optionLineHeight:n,optionHeight:i,selectorBg:p,clearBg:p,singleItemHeightLG:a,multipleItemBg:_,multipleItemBorderColor:"transparent",multipleItemHeight:I,multipleItemHeightSM:B,multipleItemHeightLG:D,multipleSelectorBgDisabled:x,multipleItemColorDisabled:y,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(t.fontSize*1.25),hoverBorderColor:w,activeBorderColor:C,activeOutlineColor:M,selectAffixPadding:s}},_re=(t,e)=>{const{componentCls:n,antCls:r,controlOutlineWidth:i}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${ke(t.lineWidth)} ${t.lineType} ${e.borderColor}`,background:t.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:e.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:e.activeBorderColor,boxShadow:`0 0 0 ${ke(i)} ${e.activeOutlineColor}`,outline:0},[`${n}-prefix`]:{color:e.color}}}},vH=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},_re(t,e))}),QEe=t=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},_re(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor,color:t.colorText})),vH(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline,color:t.colorError})),vH(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${ke(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),Sre=(t,e)=>{const{componentCls:n,antCls:r}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:e.bg,border:`${ke(t.lineWidth)} ${t.lineType} transparent`,color:e.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:e.hoverBg},[`${n}-focused& ${n}-selector`]:{background:t.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},yH=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},Sre(t,e))}),ZEe=t=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},Sre(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor,color:t.colorText})),yH(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,color:t.colorError})),yH(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{borderColor:t.colorBorder,background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.colorBgContainer,border:`${ke(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}})}),JEe=t=>({"&-borderless":{[`${t.componentCls}-selector`]:{background:"transparent",border:`${ke(t.lineWidth)} ${t.lineType} transparent`},[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${ke(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`},[`&${t.componentCls}-status-error`]:{[`${t.componentCls}-prefix, ${t.componentCls}-selection-item`]:{color:t.colorError}},[`&${t.componentCls}-status-warning`]:{[`${t.componentCls}-prefix, ${t.componentCls}-selection-item`]:{color:t.colorWarning}}}}),wre=(t,e)=>{const{componentCls:n,antCls:r}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{borderWidth:`${ke(t.lineWidth)} 0`,borderStyle:`${t.lineType} none`,borderColor:`transparent transparent ${e.borderColor} transparent`,background:t.selectorBg,borderRadius:0},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:`transparent transparent ${e.hoverBorderHover} transparent`},[`${n}-focused& ${n}-selector`]:{borderColor:`transparent transparent ${e.activeBorderColor} transparent`,outline:0},[`${n}-prefix`]:{color:e.color}}}},bH=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},wre(t,e))}),eMe=t=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},wre(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor,color:t.colorText})),bH(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline,color:t.colorError})),bH(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${ke(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),tMe=t=>({[t.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},QEe(t)),ZEe(t)),JEe(t)),eMe(t))}),nMe=tMe,rMe=t=>{const{componentCls:e}=t;return{position:"relative",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},iMe=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none",appearance:"none"}}}},oMe=t=>{const{antCls:e,componentCls:n,inputPaddingHorizontalBase:r,iconCls:i}=t,o={[`${n}-clear`]:{opacity:1,background:t.colorBgBase,borderRadius:"50%"}};return{[n]:Object.assign(Object.assign({},ho(t)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},rMe(t)),iMe(t)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},tm),{[`> ${e}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},tm),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},VP()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${t.motionDurationSlow} ease`,[i]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${n}-prefix`]:{flex:"none",marginInlineEnd:t.selectAffixPadding},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto",transform:"translateZ(0)","&:before":{display:"block"},"&:hover":{color:t.colorIcon}},"@media(hover:none)":o,"&:hover":o}),[`${n}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:t.calc(r).add(t.fontSize).add(t.paddingXS).equal()}}}}}},aMe=t=>{const{componentCls:e}=t;return[{[e]:{[`&${e}-in-form-item`]:{width:"100%"}}},oMe(t),YEe(t),XEe(t),HEe(t),{[`${e}-rtl`]:{direction:"rtl"}},tR(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},sMe=Ti("Select",(t,{rootPrefixCls:e})=>{const n=Yr(t,{rootPrefixCls:e,inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[aMe(n),nMe(n)]},KEe,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var lMe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const cMe=lMe;var uMe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:cMe}))},dMe=S.forwardRef(uMe);const aR=dMe;var fMe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const hMe=fMe;var pMe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:hMe}))},mMe=S.forwardRef(pMe);const gMe=mMe;var AMe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const vMe=AMe;var yMe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:vMe}))},bMe=S.forwardRef(yMe);const Cre=bMe;function Tre({suffixIcon:t,clearIcon:e,menuItemSelectedIcon:n,removeIcon:r,loading:i,multiple:o,hasFeedback:a,prefixCls:s,showSuffixIcon:l,feedbackIcon:c,showArrow:u,componentName:d}){const f=e??S.createElement(s1,null),h=y=>t===null&&!a&&!u?null:S.createElement(S.Fragment,null,l!==!1&&y,a&&c);let p=null;if(t!==void 0)p=h(t);else if(i)p=h(S.createElement(J2,{spin:!0}));else{const y=`${s}-suffix`;p=({open:w,showSearch:C})=>h(w&&C?S.createElement(Cre,{className:y}):S.createElement(gMe,{className:y}))}let _=null;n!==void 0?_=n:o?_=S.createElement(aR,null):_=null;let x=null;return r!==void 0?x=r:x=S.createElement(Am,null),{clearIcon:f,suffixIcon:p,itemIcon:_,removeIcon:x}}function xMe(t){return Ye.useMemo(()=>{if(t)return(...e)=>Ye.createElement(ng,{space:!0},t.apply(void 0,e))},[t])}function _Me(t,e){return e!==void 0?e:t!==null}var SMe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ere="SECRET_COMBOBOX_MODE_DO_NOT_USE",wMe=(t,e)=>{var n,r,i,o,a;const{prefixCls:s,bordered:l,className:c,rootClassName:u,getPopupContainer:d,popupClassName:f,dropdownClassName:h,listHeight:p=256,placement:_,listItemHeight:x,size:y,disabled:w,notFoundContent:C,status:M,builtinPlacements:R,dropdownMatchSelectWidth:N,popupMatchSelectWidth:I,direction:B,style:D,allowClear:$,variant:z,dropdownStyle:V,transitionName:q,tagRender:G,maxCount:j,prefix:H,dropdownRender:X,popupRender:Y,onDropdownVisibleChange:ee,onOpenChange:Z,styles:re,classNames:ae}=t,ce=SMe(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix","dropdownRender","popupRender","onDropdownVisibleChange","onOpenChange","styles","classNames"]),{getPopupContainer:he,getPrefixCls:ge,renderEmpty:se,direction:me,virtual:ye,popupMatchSelectWidth:we,popupOverflow:Ee}=S.useContext(ir),{showSearch:Me,style:Oe,styles:Ue,className:Se,classNames:_e}=Fa("select"),[,ve]=Ul(),Ge=x??(ve==null?void 0:ve.controlHeight),ue=ge("select",s),at=ge(),nt=B??me,{compactSize:ct,compactItemClassnames:Ze}=Cg(ue,nt),[pe,te]=h1("select",z,l),Ne=_c(ue),[qe,gt,tt]=sMe(ue,Ne),wt=S.useMemo(()=>{const{mode:Pe}=t;if(Pe!=="combobox")return Pe===Ere?"combobox":Pe},[t.mode]),_t=wt==="multiple"||wt==="tags",Et=_Me(t.suffixIcon,t.showArrow),Tt=(n=I??N)!==null&&n!==void 0?n:we,ht=((r=re==null?void 0:re.popup)===null||r===void 0?void 0:r.root)||((i=Ue.popup)===null||i===void 0?void 0:i.root)||V,Xe=xMe(Y||X),pt=Z||ee,{status:ut,hasFeedback:Ke,isFormItemInput:Rt,feedbackIcon:$e}=S.useContext(ol),$t=f1(ut,M);let Lt;C!==void 0?Lt=C:wt==="combobox"?Lt=null:Lt=(se==null?void 0:se("Select"))||S.createElement(yre,{componentName:"Select"});const{suffixIcon:tn,itemIcon:Qe,removeIcon:Pt,clearIcon:Ft}=Tre(Object.assign(Object.assign({},ce),{multiple:_t,hasFeedback:Ke,feedbackIcon:$e,showSuffixIcon:Et,prefixCls:ue,componentName:"Select"})),Yt=$===!0?{clearIcon:Ft}:$,Rn=po(ce,["suffixIcon","itemIcon"]),Cn=je(((o=ae==null?void 0:ae.popup)===null||o===void 0?void 0:o.root)||((a=_e==null?void 0:_e.popup)===null||a===void 0?void 0:a.root)||f||h,{[`${ue}-dropdown-${nt}`]:nt==="rtl"},u,_e.root,ae==null?void 0:ae.root,tt,Ne,gt),dn=cl(Pe=>{var mt;return(mt=y??ct)!==null&&mt!==void 0?mt:Pe}),Mn=S.useContext(wh),Tn=w??Mn,Qt=je({[`${ue}-lg`]:dn==="large",[`${ue}-sm`]:dn==="small",[`${ue}-rtl`]:nt==="rtl",[`${ue}-${pe}`]:te,[`${ue}-in-form-item`]:Rt},ny(ue,$t,Ke),Ze,Se,c,_e.root,ae==null?void 0:ae.root,u,tt,Ne,gt),Gt=S.useMemo(()=>_!==void 0?_:nt==="rtl"?"bottomRight":"bottomLeft",[_,nt]),[Ut]=l1("SelectLike",ht==null?void 0:ht.zIndex);return qe(S.createElement(u$,Object.assign({ref:e,virtual:ye,showSearch:Me},Rn,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Ue.root),re==null?void 0:re.root),Oe),D),dropdownMatchSelectWidth:Tt,transitionName:nm(at,"slide-up",q),builtinPlacements:VEe(R,Ee),listHeight:p,listItemHeight:Ge,mode:wt,prefixCls:ue,placement:Gt,direction:nt,prefix:H,suffixIcon:tn,menuItemSelectedIcon:Qe,removeIcon:Pt,allowClear:Yt,notFoundContent:Lt,className:Qt,getPopupContainer:d||he,dropdownClassName:Cn,disabled:Tn,dropdownStyle:Object.assign(Object.assign({},ht),{zIndex:Ut}),maxCount:_t?j:void 0,tagRender:_t?G:void 0,dropdownRender:Xe,onDropdownVisibleChange:pt})))},p1=S.forwardRef(wMe),CMe=iR(p1,"dropdownAlign");p1.SECRET_COMBOBOX_MODE_DO_NOT_USE=Ere;p1.Option=c$;p1.OptGroup=l$;p1._InternalPanelDoNotUseOrYouWillBeFired=CMe;const G_=p1,{Option:xH}=G_;function _H(t){return(t==null?void 0:t.type)&&(t.type.isSelectOption||t.type.isSelectOptGroup)}const TMe=(t,e)=>{var n,r;const{prefixCls:i,className:o,popupClassName:a,dropdownClassName:s,children:l,dataSource:c,dropdownStyle:u,dropdownRender:d,popupRender:f,onDropdownVisibleChange:h,onOpenChange:p,styles:_,classNames:x}=t,y=mc(l),w=((n=_==null?void 0:_.popup)===null||n===void 0?void 0:n.root)||u,C=((r=x==null?void 0:x.popup)===null||r===void 0?void 0:r.root)||a||s,M=f||d,R=p||h;let N;y.length===1&&S.isValidElement(y[0])&&!_H(y[0])&&([N]=y);const I=N?()=>N:void 0;let B;y.length&&_H(y[0])?B=l:B=c?c.map(V=>{if(S.isValidElement(V))return V;switch(typeof V){case"string":return S.createElement(xH,{key:V,value:V},V);case"object":{const{value:q}=V;return S.createElement(xH,{key:q,value:q},V.text)}default:return}}):[];const{getPrefixCls:D}=S.useContext(ir),$=D("select",i),[z]=l1("SelectLike",w==null?void 0:w.zIndex);return S.createElement(G_,Object.assign({ref:e,suffixIcon:null},po(t,["dataSource","dropdownClassName","popupClassName"]),{prefixCls:$,classNames:{popup:{root:C},root:x==null?void 0:x.root},styles:{popup:{root:Object.assign(Object.assign({},w),{zIndex:z})},root:_==null?void 0:_.root},className:je(`${$}-auto-complete`,o),mode:G_.SECRET_COMBOBOX_MODE_DO_NOT_USE,popupRender:M,onOpenChange:R,getInputElement:I}),B)},EMe=S.forwardRef(TMe),Mre=EMe,{Option:MMe}=G_,PMe=iR(Mre,"dropdownAlign",t=>po(t,["visible"])),f$=Mre;f$.Option=MMe;f$._InternalPanelDoNotUseOrYouWillBeFired=PMe;const RMe=f$,Pre=(t,e)=>{typeof(t==null?void 0:t.addEventListener)<"u"?t.addEventListener("change",e):typeof(t==null?void 0:t.addListener)<"u"&&t.addListener(e)},Rre=(t,e)=>{typeof(t==null?void 0:t.removeEventListener)<"u"?t.removeEventListener("change",e):typeof(t==null?void 0:t.removeListener)<"u"&&t.removeListener(e)},rg=["xxl","xl","lg","md","sm","xs"],NMe=t=>({xs:`(max-width: ${t.screenXSMax}px)`,sm:`(min-width: ${t.screenSM}px)`,md:`(min-width: ${t.screenMD}px)`,lg:`(min-width: ${t.screenLG}px)`,xl:`(min-width: ${t.screenXL}px)`,xxl:`(min-width: ${t.screenXXL}px)`}),IMe=t=>{const e=t,n=[].concat(rg).reverse();return n.forEach((r,i)=>{const o=r.toUpperCase(),a=`screen${o}Min`,s=`screen${o}`;if(!(e[a]<=e[s]))throw new Error(`${a}<=${s} fails : !(${e[a]}<=${e[s]})`);if(i<n.length-1){const l=`screen${o}Max`;if(!(e[s]<=e[l]))throw new Error(`${s}<=${l} fails : !(${e[s]}<=${e[l]})`);const u=`screen${n[i+1].toUpperCase()}Min`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`)}}),t},OMe=()=>{const[,t]=Ul(),e=NMe(IMe(t));return Ye.useMemo(()=>{const n=new Map;let r=-1,i={};return{responsiveMap:e,matchHandlers:{},dispatch(o){return i=o,n.forEach(a=>a(i)),n.size>=1},subscribe(o){return n.size||this.register(),r+=1,n.set(r,o),o(i),r},unsubscribe(o){n.delete(o),n.size||this.unregister()},register(){Object.entries(e).forEach(([o,a])=>{const s=({matches:c})=>{this.dispatch(Object.assign(Object.assign({},i),{[o]:c}))},l=window.matchMedia(a);Pre(l,s),this.matchHandlers[a]={mql:l,listener:s},s(l)})},unregister(){Object.values(e).forEach(o=>{const a=this.matchHandlers[o];Rre(a==null?void 0:a.mql,a==null?void 0:a.listener)}),n.clear()}}},[e])};function sR(t=!0,e={}){const n=S.useRef(e),[,r]=g_e(),i=OMe();return zr(()=>{const o=i.subscribe(a=>{n.current=a,t&&r()});return()=>i.unsubscribe(o)},[]),n.current}const ry=t=>t?typeof t=="function"?t():t:null;function h$(t){var e=t.children,n=t.prefixCls,r=t.id,i=t.overlayInnerStyle,o=t.bodyClassName,a=t.className,s=t.style;return S.createElement("div",{className:je("".concat(n,"-content"),a),style:s},S.createElement("div",{className:je("".concat(n,"-inner"),o),id:r,role:"tooltip",style:i},typeof e=="function"?e():e))}var tA={shiftX:64,adjustY:1},nA={adjustX:1,shiftY:!0},Oc=[0,0],DMe={left:{points:["cr","cl"],overflow:nA,offset:[-4,0],targetOffset:Oc},right:{points:["cl","cr"],overflow:nA,offset:[4,0],targetOffset:Oc},top:{points:["bc","tc"],overflow:tA,offset:[0,-4],targetOffset:Oc},bottom:{points:["tc","bc"],overflow:tA,offset:[0,4],targetOffset:Oc},topLeft:{points:["bl","tl"],overflow:tA,offset:[0,-4],targetOffset:Oc},leftTop:{points:["tr","tl"],overflow:nA,offset:[-4,0],targetOffset:Oc},topRight:{points:["br","tr"],overflow:tA,offset:[0,-4],targetOffset:Oc},rightTop:{points:["tl","tr"],overflow:nA,offset:[4,0],targetOffset:Oc},bottomRight:{points:["tr","br"],overflow:tA,offset:[0,4],targetOffset:Oc},rightBottom:{points:["bl","br"],overflow:nA,offset:[4,0],targetOffset:Oc},bottomLeft:{points:["tl","bl"],overflow:tA,offset:[0,4],targetOffset:Oc},leftBottom:{points:["br","bl"],overflow:nA,offset:[-4,0],targetOffset:Oc}},LMe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],BMe=function(e,n){var r=e.overlayClassName,i=e.trigger,o=i===void 0?["hover"]:i,a=e.mouseEnterDelay,s=a===void 0?0:a,l=e.mouseLeaveDelay,c=l===void 0?.1:l,u=e.overlayStyle,d=e.prefixCls,f=d===void 0?"rc-tooltip":d,h=e.children,p=e.onVisibleChange,_=e.afterVisibleChange,x=e.transitionName,y=e.animation,w=e.motion,C=e.placement,M=C===void 0?"right":C,R=e.align,N=R===void 0?{}:R,I=e.destroyTooltipOnHide,B=I===void 0?!1:I,D=e.defaultVisible,$=e.getTooltipContainer,z=e.overlayInnerStyle;e.arrowContent;var V=e.overlay,q=e.id,G=e.showArrow,j=G===void 0?!0:G,H=e.classNames,X=e.styles,Y=pr(e,LMe),ee=t$(q),Z=S.useRef(null);S.useImperativeHandle(n,function(){return Z.current});var re=Ie({},Y);"visible"in e&&(re.popupVisible=e.visible);var ae=function(){return S.createElement(h$,{key:"content",prefixCls:f,id:ee,bodyClassName:H==null?void 0:H.body,overlayInnerStyle:Ie(Ie({},z),X==null?void 0:X.body)},V)},ce=function(){var ge=S.Children.only(h),se=(ge==null?void 0:ge.props)||{},me=Ie(Ie({},se),{},{"aria-describedby":V?ee:null});return S.cloneElement(h,me)};return S.createElement(aS,ft({popupClassName:je(r,H==null?void 0:H.root),prefixCls:f,popup:ae,action:o,builtinPlacements:DMe,popupPlacement:M,ref:Z,popupAlign:N,getPopupContainer:$,onPopupVisibleChange:p,afterPopupVisibleChange:_,popupTransitionName:x,popupAnimation:y,popupMotion:w,defaultPopupVisible:D,autoDestroy:B,mouseLeaveDelay:c,popupStyle:Ie(Ie({},u),X==null?void 0:X.root),mouseEnterDelay:s,arrow:j},re),ce())};const FMe=S.forwardRef(BMe);function p$(t){const{sizePopupArrow:e,borderRadiusXS:n,borderRadiusOuter:r}=t,i=e/2,o=0,a=i,s=r*1/Math.sqrt(2),l=i-r*(1-1/Math.sqrt(2)),c=i-n*(1/Math.sqrt(2)),u=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),d=2*i-c,f=u,h=2*i-s,p=l,_=2*i-o,x=a,y=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),w=r*(Math.sqrt(2)-1),C=`polygon(${w}px 100%, 50% ${w}px, ${2*i-w}px 100%, ${w}px 100%)`,M=`path('M ${o} ${a} A ${r} ${r} 0 0 0 ${s} ${l} L ${c} ${u} A ${n} ${n} 0 0 1 ${d} ${f} L ${h} ${p} A ${r} ${r} 0 0 0 ${_} ${x} Z')`;return{arrowShadowWidth:y,arrowPath:M,arrowPolygon:C}}const Nre=(t,e,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:o,arrowShadowWidth:a,borderRadiusXS:s,calc:l}=t;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[i,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${ke(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},Ire=8;function m$(t){const{contentRadius:e,limitVerticalRadius:n}=t,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?Ire:r}}function iC(t,e){return t?e:{}}function Ore(t,e,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:o,arrowOffsetHorizontal:a}=t,{arrowDistance:s=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Nre(t,e,i)),{"&:before":{background:e}})]},iC(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":a,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${ke(a)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),iC(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":a,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${ke(a)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),iC(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),iC(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}function $Me(t,e,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},o={};switch(t){case"top":case"bottom":o.shiftX=e.arrowOffsetHorizontal*2+n,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=e.arrowOffsetVertical*2+n,o.shiftX=!0,o.adjustX=!0;break}const a=Object.assign(Object.assign({},o),i);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}const SH={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},kMe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},UMe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function zMe(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o,visibleFirst:a}=t,s=e/2,l={},c=m$({contentRadius:o,limitVerticalRadius:!0});return Object.keys(SH).forEach(u=>{const d=r&&kMe[u]||SH[u],f=Object.assign(Object.assign({},d),{offset:[0,0],dynamicInset:!0});switch(l[u]=f,UMe.has(u)&&(f.autoArrow=!1),u){case"top":case"topLeft":case"topRight":f.offset[1]=-s-i;break;case"bottom":case"bottomLeft":case"bottomRight":f.offset[1]=s+i;break;case"left":case"leftTop":case"leftBottom":f.offset[0]=-s-i;break;case"right":case"rightTop":case"rightBottom":f.offset[0]=s+i;break}if(r)switch(u){case"topLeft":case"bottomLeft":f.offset[0]=-c.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":f.offset[0]=c.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":f.offset[1]=-c.arrowOffsetHorizontal*2+s;break;case"leftBottom":case"rightBottom":f.offset[1]=c.arrowOffsetHorizontal*2-s;break}f.overflow=$Me(u,c,e,n),a&&(f.htmlRegion="visibleFirst")}),l}const VMe=t=>{const{calc:e,componentCls:n,tooltipMaxWidth:r,tooltipColor:i,tooltipBg:o,tooltipBorderRadius:a,zIndexPopup:s,controlHeight:l,boxShadowSecondary:c,paddingSM:u,paddingXS:d,arrowOffsetHorizontal:f,sizePopupArrow:h}=t,p=e(a).add(h).add(f).equal(),_=e(a).mul(2).add(h).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},ho(t)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${n}-inner`]:{minWidth:_,minHeight:l,padding:`${ke(t.calc(u).div(2).equal())} ${ke(d)}`,color:`var(--ant-tooltip-color, ${i})`,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:a,boxShadow:c,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:p},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:t.min(a,Ire)}},[`${n}-content`]:{position:"relative"}}),GP(t,(x,{darkColor:y})=>({[`&${n}-${x}`]:{[`${n}-inner`]:{backgroundColor:y},[`${n}-arrow`]:{"--antd-arrow-background-color":y}}}))),{"&-rtl":{direction:"rtl"}})},Ore(t,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},GMe=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70},m$({contentRadius:t.borderRadius,limitVerticalRadius:!0})),p$(Yr(t,{borderRadiusOuter:Math.min(t.borderRadiusOuter,4)}))),Dre=(t,e=!0)=>Ti("Tooltip",r=>{const{borderRadius:i,colorTextLightSolid:o,colorBgSpotlight:a}=r,s=Yr(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:a});return[VMe(s),KF(r,"zoom-big-fast")]},GMe,{resetStyle:!1,injectStyle:e})(t),HMe=em.map(t=>`${t}-inverse`),jMe=["success","processing","error","default","warning"];function lR(t,e=!0){return e?[].concat(Xt(HMe),Xt(em)).includes(t):em.includes(t)}function qMe(t){return jMe.includes(t)}function Lre(t,e){const n=lR(e),r=je({[`${t}-${e}`]:e&&n}),i={},o={},a=sSe(e).toRgb(),l=(.299*a.r+.587*a.g+.114*a.b)/255<.5?"#FFF":"#000";return e&&!n&&(i.background=e,i["--ant-tooltip-color"]=l,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:o}}const WMe=t=>{const{prefixCls:e,className:n,placement:r="top",title:i,color:o,overlayInnerStyle:a}=t,{getPrefixCls:s}=S.useContext(ir),l=s("tooltip",e),[c,u,d]=Dre(l),f=Lre(l,o),h=f.arrowStyle,p=Object.assign(Object.assign({},a),f.overlayStyle),_=je(u,d,l,`${l}-pure`,`${l}-placement-${r}`,n,f.className);return c(S.createElement("div",{className:_,style:h},S.createElement("div",{className:`${l}-arrow`}),S.createElement(h$,Object.assign({},t,{className:u,prefixCls:l,overlayInnerStyle:p}),i)))},XMe=WMe;var YMe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const KMe=S.forwardRef((t,e)=>{var n,r;const{prefixCls:i,openClassName:o,getTooltipContainer:a,color:s,overlayInnerStyle:l,children:c,afterOpenChange:u,afterVisibleChange:d,destroyTooltipOnHide:f,destroyOnHidden:h,arrow:p=!0,title:_,overlay:x,builtinPlacements:y,arrowPointAtCenter:w=!1,autoAdjustOverflow:C=!0,motion:M,getPopupContainer:R,placement:N="top",mouseEnterDelay:I=.1,mouseLeaveDelay:B=.1,overlayStyle:D,rootClassName:$,overlayClassName:z,styles:V,classNames:q}=t,G=YMe(t,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","destroyOnHidden","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),j=!!p,[,H]=Ul(),{getPopupContainer:X,getPrefixCls:Y,direction:ee,className:Z,style:re,classNames:ae,styles:ce}=Fa("tooltip"),he=UP(),ge=S.useRef(null),se=()=>{var Et;(Et=ge.current)===null||Et===void 0||Et.forceAlign()};S.useImperativeHandle(e,()=>{var Et,Tt;return{forceAlign:se,forcePopupAlign:()=>{he.deprecated(!1,"forcePopupAlign","forceAlign"),se()},nativeElement:(Et=ge.current)===null||Et===void 0?void 0:Et.nativeElement,popupElement:(Tt=ge.current)===null||Tt===void 0?void 0:Tt.popupElement}});const[me,ye]=Ui(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),we=!_&&!x&&_!==0,Ee=Et=>{var Tt,ht;ye(we?!1:Et),we||((Tt=t.onOpenChange)===null||Tt===void 0||Tt.call(t,Et),(ht=t.onVisibleChange)===null||ht===void 0||ht.call(t,Et))},Me=S.useMemo(()=>{var Et,Tt;let ht=w;return typeof p=="object"&&(ht=(Tt=(Et=p.pointAtCenter)!==null&&Et!==void 0?Et:p.arrowPointAtCenter)!==null&&Tt!==void 0?Tt:w),y||zMe({arrowPointAtCenter:ht,autoAdjustOverflow:C,arrowWidth:j?H.sizePopupArrow:0,borderRadius:H.borderRadius,offset:H.marginXXS,visibleFirst:!0})},[w,p,y,H]),Oe=S.useMemo(()=>_===0?_:x||_||"",[x,_]),Ue=S.createElement(ng,{space:!0},typeof Oe=="function"?Oe():Oe),Se=Y("tooltip",i),_e=Y(),ve=t["data-popover-inject"];let Ge=me;!("open"in t)&&!("visible"in t)&&we&&(Ge=!1);const ue=S.isValidElement(c)&&!tne(c)?c:S.createElement("span",null,c),at=ue.props,nt=!at.className||typeof at.className=="string"?je(at.className,o||`${Se}-open`):at.className,[ct,Ze,pe]=Dre(Se,!ve),te=Lre(Se,s),Ne=te.arrowStyle,qe=je(z,{[`${Se}-rtl`]:ee==="rtl"},te.className,$,Ze,pe,Z,ae.root,q==null?void 0:q.root),gt=je(ae.body,q==null?void 0:q.body),[tt,wt]=l1("Tooltip",G.zIndex),_t=S.createElement(FMe,Object.assign({},G,{zIndex:tt,showArrow:j,placement:N,mouseEnterDelay:I,mouseLeaveDelay:B,prefixCls:Se,classNames:{root:qe,body:gt},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ne),ce.root),re),D),V==null?void 0:V.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},ce.body),l),V==null?void 0:V.body),te.overlayStyle)},getTooltipContainer:R||a||X,ref:ge,builtinPlacements:Me,overlay:Ue,visible:Ge,onVisibleChange:Ee,afterVisibleChange:u??d,arrowContent:S.createElement("span",{className:`${Se}-arrow-content`}),motion:{motionName:nm(_e,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:h??!!f}),Ge?su(ue,{className:nt}):ue);return ct(S.createElement(UF.Provider,{value:wt},_t))}),Bre=KMe;Bre._InternalPanelDoNotUseOrYouWillBeFired=XMe;const Tg=Bre,QMe=t=>{const{componentCls:e,popoverColor:n,titleMinWidth:r,fontWeightStrong:i,innerPadding:o,boxShadowSecondary:a,colorTextHeading:s,borderRadiusLG:l,zIndexPopup:c,titleMarginBottom:u,colorBgElevated:d,popoverBg:f,titleBorderBottom:h,innerContentPadding:p,titlePadding:_}=t;return[{[e]:Object.assign(Object.assign({},ho(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":d,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:f,backgroundClip:"padding-box",borderRadius:l,boxShadow:a,padding:o},[`${e}-title`]:{minWidth:r,marginBottom:u,color:s,fontWeight:i,borderBottom:h,padding:_},[`${e}-inner-content`]:{color:n,padding:p}})},Ore(t,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},ZMe=t=>{const{componentCls:e}=t;return{[e]:em.map(n=>{const r=t[`${n}6`];return{[`&${e}-${n}`]:{"--antd-arrow-background-color":r,[`${e}-inner`]:{backgroundColor:r},[`${e}-arrow`]:{background:"transparent"}}}})}},JMe=t=>{const{lineWidth:e,controlHeight:n,fontHeight:r,padding:i,wireframe:o,zIndexPopupBase:a,borderRadiusLG:s,marginXS:l,lineType:c,colorSplit:u,paddingSM:d}=t,f=n-r,h=f/2,p=f/2-e,_=i;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:a+30},p$(t)),m$({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:o?0:12,titleMarginBottom:o?0:l,titlePadding:o?`${h}px ${_}px ${p}px`:0,titleBorderBottom:o?`${e}px ${c} ${u}`:"none",innerContentPadding:o?`${d}px ${_}px`:0})},Fre=Ti("Popover",t=>{const{colorBgElevated:e,colorText:n}=t,r=Yr(t,{popoverBg:e,popoverColor:n});return[QMe(r),ZMe(r),KF(r,"zoom-big")]},JMe,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var e3e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const $re=({title:t,content:e,prefixCls:n})=>!t&&!e?null:S.createElement(S.Fragment,null,t&&S.createElement("div",{className:`${n}-title`},t),e&&S.createElement("div",{className:`${n}-inner-content`},e)),t3e=t=>{const{hashId:e,prefixCls:n,className:r,style:i,placement:o="top",title:a,content:s,children:l}=t,c=ry(a),u=ry(s),d=je(e,n,`${n}-pure`,`${n}-placement-${o}`,r);return S.createElement("div",{className:d,style:i},S.createElement("div",{className:`${n}-arrow`}),S.createElement(h$,Object.assign({},t,{className:e,prefixCls:n}),l||S.createElement($re,{prefixCls:n,title:c,content:u})))},n3e=t=>{const{prefixCls:e,className:n}=t,r=e3e(t,["prefixCls","className"]),{getPrefixCls:i}=S.useContext(ir),o=i("popover",e),[a,s,l]=Fre(o);return a(S.createElement(t3e,Object.assign({},r,{prefixCls:o,hashId:s,className:je(n,l)})))},kre=n3e;var r3e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const i3e=S.forwardRef((t,e)=>{var n,r;const{prefixCls:i,title:o,content:a,overlayClassName:s,placement:l="top",trigger:c="hover",children:u,mouseEnterDelay:d=.1,mouseLeaveDelay:f=.1,onOpenChange:h,overlayStyle:p={},styles:_,classNames:x}=t,y=r3e(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:w,className:C,style:M,classNames:R,styles:N}=Fa("popover"),I=w("popover",i),[B,D,$]=Fre(I),z=w(),V=je(s,D,$,C,R.root,x==null?void 0:x.root),q=je(R.body,x==null?void 0:x.body),[G,j]=Ui(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),H=(re,ae)=>{j(re,!0),h==null||h(re,ae)},X=re=>{re.keyCode===qt.ESC&&H(!1,re)},Y=re=>{H(re)},ee=ry(o),Z=ry(a);return B(S.createElement(Tg,Object.assign({placement:l,trigger:c,mouseEnterDelay:d,mouseLeaveDelay:f},y,{prefixCls:I,classNames:{root:V,body:q},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},N.root),M),p),_==null?void 0:_.root),body:Object.assign(Object.assign({},N.body),_==null?void 0:_.body)},ref:e,open:G,onOpenChange:Y,overlay:ee||Z?S.createElement($re,{prefixCls:I,title:ee,content:Z}):null,transitionName:nm(z,"zoom-big",y.transitionName),"data-popover-inject":!0}),su(u,{onKeyDown:re=>{var ae,ce;S.isValidElement(u)&&((ce=u==null?void 0:(ae=u.props).onKeyDown)===null||ce===void 0||ce.call(ae,re)),X(re)}})))}),Ure=i3e;Ure._InternalPanelDoNotUseOrYouWillBeFired=kre;const o3e=Ure,a3e=new Gr("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),s3e=new Gr("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),l3e=new Gr("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),c3e=new Gr("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),u3e=new Gr("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),d3e=new Gr("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),f3e=t=>{const{componentCls:e,iconCls:n,antCls:r,badgeShadowSize:i,textFontSize:o,textFontSizeSM:a,statusSize:s,dotSize:l,textFontWeight:c,indicatorHeight:u,indicatorHeightSM:d,marginXS:f,calc:h}=t,p=`${r}-scroll-number`,_=GP(t,(x,{darkColor:y})=>({[`&${e} ${e}-color-${x}`]:{background:y,[`&:not(${e}-count)`]:{color:y},"a:hover &":{background:y}}}));return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},ho(t)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${e}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:t.indicatorZIndex,minWidth:u,height:u,color:t.badgeTextColor,fontWeight:c,fontSize:o,lineHeight:ke(u),whiteSpace:"nowrap",textAlign:"center",background:t.badgeColor,borderRadius:h(u).div(2).equal(),boxShadow:`0 0 0 ${ke(i)} ${t.badgeShadowColor}`,transition:`background ${t.motionDurationMid}`,a:{color:t.badgeTextColor},"a:hover":{color:t.badgeTextColor},"a:hover &":{background:t.badgeColorHover}},[`${e}-count-sm`]:{minWidth:d,height:d,fontSize:a,lineHeight:ke(d),borderRadius:h(d).div(2).equal()},[`${e}-multiple-words`]:{padding:`0 ${ke(t.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${e}-dot`]:{zIndex:t.indicatorZIndex,width:l,minWidth:l,height:l,background:t.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${ke(i)} ${t.badgeShadowColor}`},[`${e}-count, ${e}-dot, ${p}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${n}-spin`]:{animationName:d3e,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${e}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${e}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:s,height:s,verticalAlign:"middle",borderRadius:"50%"},[`${e}-status-success`]:{backgroundColor:t.colorSuccess},[`${e}-status-processing`]:{overflow:"visible",color:t.colorInfo,backgroundColor:t.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:i,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:a3e,animationDuration:t.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${e}-status-default`]:{backgroundColor:t.colorTextPlaceholder},[`${e}-status-error`]:{backgroundColor:t.colorError},[`${e}-status-warning`]:{backgroundColor:t.colorWarning},[`${e}-status-text`]:{marginInlineStart:f,color:t.colorText,fontSize:t.fontSize}}}),_),{[`${e}-zoom-appear, ${e}-zoom-enter`]:{animationName:s3e,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`${e}-zoom-leave`]:{animationName:l3e,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`&${e}-not-a-wrapper`]:{[`${e}-zoom-appear, ${e}-zoom-enter`]:{animationName:c3e,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`${e}-zoom-leave`]:{animationName:u3e,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`&:not(${e}-status)`]:{verticalAlign:"middle"},[`${p}-custom-component, ${e}-count`]:{transform:"none"},[`${p}-custom-component, ${p}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[p]:{overflow:"hidden",transition:`all ${t.motionDurationMid} ${t.motionEaseOutBack}`,[`${p}-only`]:{position:"relative",display:"inline-block",height:u,transition:`all ${t.motionDurationSlow} ${t.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${p}-only-unit`]:{height:u,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${p}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${e}-count, ${e}-dot, ${p}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},zre=t=>{const{fontHeight:e,lineWidth:n,marginXS:r,colorBorderBg:i}=t,o=e,a=n,s=t.colorTextLightSolid,l=t.colorError,c=t.colorErrorHover;return Yr(t,{badgeFontHeight:o,badgeShadowSize:a,badgeTextColor:s,badgeColor:l,badgeColorHover:c,badgeShadowColor:i,badgeProcessingDuration:"1.2s",badgeRibbonOffset:r,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},Vre=t=>{const{fontSize:e,lineHeight:n,fontSizeSM:r,lineWidth:i}=t;return{indicatorZIndex:"auto",indicatorHeight:Math.round(e*n)-2*i,indicatorHeightSM:e,dotSize:r/2,textFontSize:r,textFontSizeSM:r,textFontWeight:"normal",statusSize:r/2}},h3e=Ti("Badge",t=>{const e=zre(t);return f3e(e)},Vre),p3e=t=>{const{antCls:e,badgeFontHeight:n,marginXS:r,badgeRibbonOffset:i,calc:o}=t,a=`${e}-ribbon`,s=`${e}-ribbon-wrapper`,l=GP(t,(c,{darkColor:u})=>({[`&${a}-color-${c}`]:{background:u,color:u}}));return{[s]:{position:"relative"},[a]:Object.assign(Object.assign(Object.assign(Object.assign({},ho(t)),{position:"absolute",top:r,padding:`0 ${ke(t.paddingXS)}`,color:t.colorPrimary,lineHeight:ke(n),whiteSpace:"nowrap",backgroundColor:t.colorPrimary,borderRadius:t.borderRadiusSM,[`${a}-text`]:{color:t.badgeTextColor},[`${a}-corner`]:{position:"absolute",top:"100%",width:i,height:i,color:"currentcolor",border:`${ke(o(i).div(2).equal())} solid`,transform:t.badgeRibbonCornerTransform,transformOrigin:"top",filter:t.badgeRibbonCornerFilter}}),l),{[`&${a}-placement-end`]:{insetInlineEnd:o(i).mul(-1).equal(),borderEndEndRadius:0,[`${a}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${a}-placement-start`]:{insetInlineStart:o(i).mul(-1).equal(),borderEndStartRadius:0,[`${a}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},m3e=Ti(["Badge","Ribbon"],t=>{const e=zre(t);return p3e(e)},Vre),g3e=t=>{const{className:e,prefixCls:n,style:r,color:i,children:o,text:a,placement:s="end",rootClassName:l}=t,{getPrefixCls:c,direction:u}=S.useContext(ir),d=c("ribbon",n),f=`${d}-wrapper`,[h,p,_]=m3e(d,f),x=lR(i,!1),y=je(d,`${d}-placement-${s}`,{[`${d}-rtl`]:u==="rtl",[`${d}-color-${i}`]:x},e),w={},C={};return i&&!x&&(w.background=i,C.color=i),h(S.createElement("div",{className:je(f,l,p,_)},o,S.createElement("div",{className:je(y,p),style:Object.assign(Object.assign({},w),r)},S.createElement("span",{className:`${d}-text`},a),S.createElement("div",{className:`${d}-corner`,style:C}))))},A3e=g3e,wH=t=>{const{prefixCls:e,value:n,current:r,offset:i=0}=t;let o;return i&&(o={position:"absolute",top:`${i}00%`,left:0}),S.createElement("span",{style:o,className:je(`${e}-only-unit`,{current:r})},n)};function v3e(t,e,n){let r=t,i=0;for(;(r+10)%10!==e;)r+=n,i+=n;return i}const y3e=t=>{const{prefixCls:e,count:n,value:r}=t,i=Number(r),o=Math.abs(n),[a,s]=S.useState(i),[l,c]=S.useState(o),u=()=>{s(i),c(o)};S.useEffect(()=>{const h=setTimeout(u,1e3);return()=>clearTimeout(h)},[i]);let d,f;if(a===i||Number.isNaN(i)||Number.isNaN(a))d=[S.createElement(wH,Object.assign({},t,{key:i,current:!0}))],f={transition:"none"};else{d=[];const h=i+10,p=[];for(let w=i;w<=h;w+=1)p.push(w);const _=l<o?1:-1,x=p.findIndex(w=>w%10===a);d=(_<0?p.slice(0,x+1):p.slice(x)).map((w,C)=>{const M=w%10;return S.createElement(wH,Object.assign({},t,{key:w,value:M,offset:_<0?C-x:C,current:C===x}))}),f={transform:`translateY(${-v3e(a,i,_)}00%)`}}return S.createElement("span",{className:`${e}-only`,style:f,onTransitionEnd:u},d)},b3e=y3e;var x3e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _3e=S.forwardRef((t,e)=>{const{prefixCls:n,count:r,className:i,motionClassName:o,style:a,title:s,show:l,component:c="sup",children:u}=t,d=x3e(t,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:f}=S.useContext(ir),h=f("scroll-number",n),p=Object.assign(Object.assign({},d),{"data-show":l,style:a,className:je(h,i,o),title:s});let _=r;if(r&&Number(r)%1===0){const x=String(r).split("");_=S.createElement("bdi",null,x.map((y,w)=>S.createElement(b3e,{prefixCls:h,count:Number(r),value:y,key:x.length-w})))}return a!=null&&a.borderColor&&(p.style=Object.assign(Object.assign({},a),{boxShadow:`0 0 0 1px ${a.borderColor} inset`})),u?su(u,x=>({className:je(`${h}-custom-component`,x==null?void 0:x.className,o)})):S.createElement(c,Object.assign({},p,{ref:e}),_)}),S3e=_3e;var w3e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const C3e=S.forwardRef((t,e)=>{var n,r,i,o,a;const{prefixCls:s,scrollNumberPrefixCls:l,children:c,status:u,text:d,color:f,count:h=null,overflowCount:p=99,dot:_=!1,size:x="default",title:y,offset:w,style:C,className:M,rootClassName:R,classNames:N,styles:I,showZero:B=!1}=t,D=w3e(t,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:$,direction:z,badge:V}=S.useContext(ir),q=$("badge",s),[G,j,H]=h3e(q),X=h>p?`${p}+`:h,Y=X==="0"||X===0||d==="0"||d===0,ee=h===null||Y&&!B,Z=(u!=null||f!=null)&&ee,re=u!=null||!Y,ae=_&&!Y,ce=ae?"":X,he=S.useMemo(()=>((ce==null||ce==="")&&(d==null||d==="")||Y&&!B)&&!ae,[ce,Y,B,ae,d]),ge=S.useRef(h);he||(ge.current=h);const se=ge.current,me=S.useRef(ce);he||(me.current=ce);const ye=me.current,we=S.useRef(ae);he||(we.current=ae);const Ee=S.useMemo(()=>{if(!w)return Object.assign(Object.assign({},V==null?void 0:V.style),C);const at={marginTop:w[1]};return z==="rtl"?at.left=Number.parseInt(w[0],10):at.right=-Number.parseInt(w[0],10),Object.assign(Object.assign(Object.assign({},at),V==null?void 0:V.style),C)},[z,w,C,V==null?void 0:V.style]),Me=y??(typeof se=="string"||typeof se=="number"?se:void 0),Oe=!he&&(d===0?B:!!d&&d!==!0),Ue=Oe?S.createElement("span",{className:`${q}-status-text`},d):null,Se=!se||typeof se!="object"?void 0:su(se,at=>({style:Object.assign(Object.assign({},Ee),at.style)})),_e=lR(f,!1),ve=je(N==null?void 0:N.indicator,(n=V==null?void 0:V.classNames)===null||n===void 0?void 0:n.indicator,{[`${q}-status-dot`]:Z,[`${q}-status-${u}`]:!!u,[`${q}-color-${f}`]:_e}),Ge={};f&&!_e&&(Ge.color=f,Ge.background=f);const ue=je(q,{[`${q}-status`]:Z,[`${q}-not-a-wrapper`]:!c,[`${q}-rtl`]:z==="rtl"},M,R,V==null?void 0:V.className,(r=V==null?void 0:V.classNames)===null||r===void 0?void 0:r.root,N==null?void 0:N.root,j,H);if(!c&&Z&&(d||re||!ee)){const at=Ee.color;return G(S.createElement("span",Object.assign({},D,{className:ue,style:Object.assign(Object.assign(Object.assign({},I==null?void 0:I.root),(i=V==null?void 0:V.styles)===null||i===void 0?void 0:i.root),Ee)}),S.createElement("span",{className:ve,style:Object.assign(Object.assign(Object.assign({},I==null?void 0:I.indicator),(o=V==null?void 0:V.styles)===null||o===void 0?void 0:o.indicator),Ge)}),Oe&&S.createElement("span",{style:{color:at},className:`${q}-status-text`},d)))}return G(S.createElement("span",Object.assign({ref:e},D,{className:ue,style:Object.assign(Object.assign({},(a=V==null?void 0:V.styles)===null||a===void 0?void 0:a.root),I==null?void 0:I.root)}),c,S.createElement(dd,{visible:!he,motionName:`${q}-zoom`,motionAppear:!1,motionDeadline:1e3},({className:at})=>{var nt,ct;const Ze=$("scroll-number",l),pe=we.current,te=je(N==null?void 0:N.indicator,(nt=V==null?void 0:V.classNames)===null||nt===void 0?void 0:nt.indicator,{[`${q}-dot`]:pe,[`${q}-count`]:!pe,[`${q}-count-sm`]:x==="small",[`${q}-multiple-words`]:!pe&&ye&&ye.toString().length>1,[`${q}-status-${u}`]:!!u,[`${q}-color-${f}`]:_e});let Ne=Object.assign(Object.assign(Object.assign({},I==null?void 0:I.indicator),(ct=V==null?void 0:V.styles)===null||ct===void 0?void 0:ct.indicator),Ee);return f&&!_e&&(Ne=Ne||{},Ne.background=f),S.createElement(S3e,{prefixCls:Ze,show:!he,motionClassName:at,className:te,count:ye,title:Me,style:Ne,key:"scrollNumber"},Se)}),Ue))}),Gre=C3e;Gre.Ribbon=A3e;const CH=Gre;var T3e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};const E3e=T3e;var M3e=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:E3e}))},P3e=S.forwardRef(M3e);const OM=P3e;var R3e=qt.ESC,N3e=qt.TAB;function I3e(t){var e=t.visible,n=t.triggerRef,r=t.onVisibleChange,i=t.autoFocus,o=t.overlayRef,a=S.useRef(!1),s=function(){if(e){var d,f;(d=n.current)===null||d===void 0||(f=d.focus)===null||f===void 0||f.call(d),r==null||r(!1)}},l=function(){var d;return(d=o.current)!==null&&d!==void 0&&d.focus?(o.current.focus(),a.current=!0,!0):!1},c=function(d){switch(d.keyCode){case R3e:s();break;case N3e:{var f=!1;a.current||(f=l()),f?d.preventDefault():s();break}}};S.useEffect(function(){return e?(window.addEventListener("keydown",c),i&&qr(l,3),function(){window.removeEventListener("keydown",c),a.current=!1}):function(){a.current=!1}},[e])}var O3e=S.forwardRef(function(t,e){var n=t.overlay,r=t.arrow,i=t.prefixCls,o=S.useMemo(function(){var s;return typeof n=="function"?s=n():s=n,s},[n]),a=kl(e,Sg(o));return Ye.createElement(Ye.Fragment,null,r&&Ye.createElement("div",{className:"".concat(i,"-arrow")}),Ye.cloneElement(o,{ref:gm(o)?a:void 0}))}),rA={adjustX:1,adjustY:1},iA=[0,0],D3e={topLeft:{points:["bl","tl"],overflow:rA,offset:[0,-4],targetOffset:iA},top:{points:["bc","tc"],overflow:rA,offset:[0,-4],targetOffset:iA},topRight:{points:["br","tr"],overflow:rA,offset:[0,-4],targetOffset:iA},bottomLeft:{points:["tl","bl"],overflow:rA,offset:[0,4],targetOffset:iA},bottom:{points:["tc","bc"],overflow:rA,offset:[0,4],targetOffset:iA},bottomRight:{points:["tr","br"],overflow:rA,offset:[0,4],targetOffset:iA}},L3e=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function B3e(t,e){var n,r=t.arrow,i=r===void 0?!1:r,o=t.prefixCls,a=o===void 0?"rc-dropdown":o,s=t.transitionName,l=t.animation,c=t.align,u=t.placement,d=u===void 0?"bottomLeft":u,f=t.placements,h=f===void 0?D3e:f,p=t.getPopupContainer,_=t.showAction,x=t.hideAction,y=t.overlayClassName,w=t.overlayStyle,C=t.visible,M=t.trigger,R=M===void 0?["hover"]:M,N=t.autoFocus,I=t.overlay,B=t.children,D=t.onVisibleChange,$=pr(t,L3e),z=Ye.useState(),V=ze(z,2),q=V[0],G=V[1],j="visible"in t?C:q,H=Ye.useRef(null),X=Ye.useRef(null),Y=Ye.useRef(null);Ye.useImperativeHandle(e,function(){return H.current});var ee=function(ye){G(ye),D==null||D(ye)};I3e({visible:j,triggerRef:Y,onVisibleChange:ee,autoFocus:N,overlayRef:X});var Z=function(ye){var we=t.onOverlayClick;G(!1),we&&we(ye)},re=function(){return Ye.createElement(O3e,{ref:X,overlay:I,prefixCls:a,arrow:i})},ae=function(){return typeof I=="function"?re:re()},ce=function(){var ye=t.minOverlayWidthMatchTrigger,we=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?ye:!we},he=function(){var ye=t.openClassName;return ye!==void 0?ye:"".concat(a,"-open")},ge=Ye.cloneElement(B,{className:je((n=B.props)===null||n===void 0?void 0:n.className,j&&he()),ref:gm(B)?kl(Y,Sg(B)):void 0}),se=x;return!se&&R.indexOf("contextMenu")!==-1&&(se=["click"]),Ye.createElement(aS,ft({builtinPlacements:h},$,{prefixCls:a,ref:H,popupClassName:je(y,Re({},"".concat(a,"-show-arrow"),i)),popupStyle:w,action:R,showAction:_,hideAction:se,popupPlacement:d,popupAlign:c,popupTransitionName:s,popupAnimation:l,popupVisible:j,stretch:ce()?"minWidth":"",popup:ae(),onPopupVisibleChange:ee,onPopupClick:Z,getPopupContainer:p}),ge)}const F3e=Ye.forwardRef(B3e);var Hre=S.createContext(null);function jre(t,e){return t===void 0?null:"".concat(t,"-").concat(e)}function qre(t){var e=S.useContext(Hre);return jre(e,t)}var $3e=["children","locked"],id=S.createContext(null);function k3e(t,e){var n=Ie({},t);return Object.keys(e).forEach(function(r){var i=e[r];i!==void 0&&(n[r]=i)}),n}function H_(t){var e=t.children,n=t.locked,r=pr(t,$3e),i=S.useContext(id),o=W2(function(){return k3e(i,r)},[i,r],function(a,s){return!n&&(a[0]!==s[0]||!D_(a[1],s[1],!0))});return S.createElement(id.Provider,{value:o},e)}var U3e=[],Wre=S.createContext(null);function cR(){return S.useContext(Wre)}var Xre=S.createContext(U3e);function sS(t){var e=S.useContext(Xre);return S.useMemo(function(){return t!==void 0?[].concat(Xt(e),[t]):e},[e,t])}var Yre=S.createContext(null),g$=S.createContext({});function TH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(tS(t)){var n=t.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||t.isContentEditable||n==="a"&&!!t.getAttribute("href"),i=t.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&a===null&&(a=0),r&&t.disabled&&(a=null),a!==null&&(a>=0||e&&a<0)}return!1}function z3e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Xt(t.querySelectorAll("*")).filter(function(r){return TH(r,e)});return TH(t,e)&&n.unshift(t),n}var a8=qt.LEFT,s8=qt.RIGHT,l8=qt.UP,bE=qt.DOWN,xE=qt.ENTER,Kre=qt.ESC,yb=qt.HOME,bb=qt.END,EH=[l8,bE,a8,s8];function V3e(t,e,n,r){var i,o="prev",a="next",s="children",l="parent";if(t==="inline"&&r===xE)return{inlineTrigger:!0};var c=Re(Re({},l8,o),bE,a),u=Re(Re(Re(Re({},a8,n?a:o),s8,n?o:a),bE,s),xE,s),d=Re(Re(Re(Re(Re(Re({},l8,o),bE,a),xE,s),Kre,l),a8,n?s:l),s8,n?l:s),f={inline:c,horizontal:u,vertical:d,inlineSub:c,horizontalSub:d,verticalSub:d},h=(i=f["".concat(t).concat(e?"":"Sub")])===null||i===void 0?void 0:i[r];switch(h){case o:return{offset:-1,sibling:!0};case a:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}function G3e(t){for(var e=t;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function H3e(t,e){for(var n=t||document.activeElement;n;){if(e.has(n))return n;n=n.parentElement}return null}function A$(t,e){var n=z3e(t,!0);return n.filter(function(r){return e.has(r)})}function MH(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!t)return null;var i=A$(t,e),o=i.length,a=i.findIndex(function(s){return n===s});return r<0?a===-1?a=o-1:a-=1:r>0&&(a+=1),a=(a+o)%o,i[a]}var c8=function(e,n){var r=new Set,i=new Map,o=new Map;return e.forEach(function(a){var s=document.querySelector("[data-menu-id='".concat(jre(n,a),"']"));s&&(r.add(s),o.set(s,a),i.set(a,s))}),{elements:r,key2element:i,element2key:o}};function j3e(t,e,n,r,i,o,a,s,l,c){var u=S.useRef(),d=S.useRef();d.current=e;var f=function(){qr.cancel(u.current)};return S.useEffect(function(){return function(){f()}},[]),function(h){var p=h.which;if([].concat(EH,[xE,Kre,yb,bb]).includes(p)){var _=o(),x=c8(_,r),y=x,w=y.elements,C=y.key2element,M=y.element2key,R=C.get(e),N=H3e(R,w),I=M.get(N),B=V3e(t,a(I,!0).length===1,n,p);if(!B&&p!==yb&&p!==bb)return;(EH.includes(p)||[yb,bb].includes(p))&&h.preventDefault();var D=function(X){if(X){var Y=X,ee=X.querySelector("a");ee!=null&&ee.getAttribute("href")&&(Y=ee);var Z=M.get(X);s(Z),f(),u.current=qr(function(){d.current===Z&&Y.focus()})}};if([yb,bb].includes(p)||B.sibling||!N){var $;!N||t==="inline"?$=i.current:$=G3e(N);var z,V=A$($,w);p===yb?z=V[0]:p===bb?z=V[V.length-1]:z=MH($,w,N,B.offset),D(z)}else if(B.inlineTrigger)l(I);else if(B.offset>0)l(I,!0),f(),u.current=qr(function(){x=c8(_,r);var H=N.getAttribute("aria-controls"),X=document.getElementById(H),Y=MH(X,x.elements);D(Y)},5);else if(B.offset<0){var q=a(I,!0),G=q[q.length-2],j=C.get(G);l(G,!1),D(j)}}c==null||c(h)}}function q3e(t){Promise.resolve().then(t)}var v$="__RC_UTIL_PATH_SPLIT__",PH=function(e){return e.join(v$)},W3e=function(e){return e.split(v$)},u8="rc-menu-more";function X3e(){var t=S.useState({}),e=ze(t,2),n=e[1],r=S.useRef(new Map),i=S.useRef(new Map),o=S.useState([]),a=ze(o,2),s=a[0],l=a[1],c=S.useRef(0),u=S.useRef(!1),d=function(){u.current||n({})},f=S.useCallback(function(C,M){var R=PH(M);i.current.set(R,C),r.current.set(C,R),c.current+=1;var N=c.current;q3e(function(){N===c.current&&d()})},[]),h=S.useCallback(function(C,M){var R=PH(M);i.current.delete(R),r.current.delete(C)},[]),p=S.useCallback(function(C){l(C)},[]),_=S.useCallback(function(C,M){var R=r.current.get(C)||"",N=W3e(R);return M&&s.includes(N[0])&&N.unshift(u8),N},[s]),x=S.useCallback(function(C,M){return C.filter(function(R){return R!==void 0}).some(function(R){var N=_(R,!0);return N.includes(M)})},[_]),y=function(){var M=Xt(r.current.keys());return s.length&&M.push(u8),M},w=S.useCallback(function(C){var M="".concat(r.current.get(C)).concat(v$),R=new Set;return Xt(i.current.keys()).forEach(function(N){N.startsWith(M)&&R.add(i.current.get(N))}),R},[]);return S.useEffect(function(){return function(){u.current=!0}},[]),{registerPath:f,unregisterPath:h,refreshOverflowKeys:p,isSubPathKey:x,getKeyPath:_,getKeys:y,getSubPathKeys:w}}function fx(t){var e=S.useRef(t);e.current=t;var n=S.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return t?n:void 0}var Y3e=Math.random().toFixed(5).toString().slice(2),RH=0;function K3e(t){var e=Ui(t,{value:t}),n=ze(e,2),r=n[0],i=n[1];return S.useEffect(function(){RH+=1;var o="".concat(Y3e,"-").concat(RH);i("rc-menu-uuid-".concat(o))},[]),r}function Qre(t,e,n,r){var i=S.useContext(id),o=i.activeKey,a=i.onActive,s=i.onInactive,l={active:o===t};return e||(l.onMouseEnter=function(c){n==null||n({key:t,domEvent:c}),a(t)},l.onMouseLeave=function(c){r==null||r({key:t,domEvent:c}),s(t)}),l}function Zre(t){var e=S.useContext(id),n=e.mode,r=e.rtl,i=e.inlineIndent;if(n!=="inline")return null;var o=t;return r?{paddingRight:o*i}:{paddingLeft:o*i}}function Jre(t){var e=t.icon,n=t.props,r=t.children,i;return e===null||e===!1?null:(typeof e=="function"?i=S.createElement(e,Ie({},n)):typeof e!="boolean"&&(i=e),i||r||null)}var Q3e=["item"];function DM(t){var e=t.item,n=pr(t,Q3e);return Object.defineProperty(n,"item",{get:function(){return is(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),n}var Z3e=["title","attribute","elementRef"],J3e=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],ePe=["active"],tPe=function(t){_h(n,t);var e=Sh(n);function n(){return Jo(this,n),e.apply(this,arguments)}return ea(n,[{key:"render",value:function(){var i=this.props,o=i.title,a=i.attribute,s=i.elementRef,l=pr(i,Z3e),c=po(l,["eventKey","popupClassName","popupOffset","onTitleClick"]);return is(!a,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),S.createElement(Ju.Item,ft({},a,{title:typeof o=="string"?o:void 0},c,{ref:s}))}}]),n}(S.Component),nPe=S.forwardRef(function(t,e){var n=t.style,r=t.className,i=t.eventKey;t.warnKey;var o=t.disabled,a=t.itemIcon,s=t.children,l=t.role,c=t.onMouseEnter,u=t.onMouseLeave,d=t.onClick,f=t.onKeyDown,h=t.onFocus,p=pr(t,J3e),_=qre(i),x=S.useContext(id),y=x.prefixCls,w=x.onItemClick,C=x.disabled,M=x.overflowDisabled,R=x.itemIcon,N=x.selectedKeys,I=x.onActive,B=S.useContext(g$),D=B._internalRenderMenuItem,$="".concat(y,"-item"),z=S.useRef(),V=S.useRef(),q=C||o,G=mm(e,V),j=sS(i),H=function(we){return{key:i,keyPath:Xt(j).reverse(),item:z.current,domEvent:we}},X=a||R,Y=Qre(i,q,c,u),ee=Y.active,Z=pr(Y,ePe),re=N.includes(i),ae=Zre(j.length),ce=function(we){if(!q){var Ee=H(we);d==null||d(DM(Ee)),w(Ee)}},he=function(we){if(f==null||f(we),we.which===qt.ENTER){var Ee=H(we);d==null||d(DM(Ee)),w(Ee)}},ge=function(we){I(i),h==null||h(we)},se={};t.role==="option"&&(se["aria-selected"]=re);var me=S.createElement(tPe,ft({ref:z,elementRef:G,role:l===null?"none":l||"menuitem",tabIndex:o?null:-1,"data-menu-id":M&&_?null:_},po(p,["extra"]),Z,se,{component:"li","aria-disabled":o,style:Ie(Ie({},ae),n),className:je($,Re(Re(Re({},"".concat($,"-active"),ee),"".concat($,"-selected"),re),"".concat($,"-disabled"),q),r),onClick:ce,onKeyDown:he,onFocus:ge}),s,S.createElement(Jre,{props:Ie(Ie({},t),{},{isSelected:re}),icon:X}));return D&&(me=D(me,t,{selected:re})),me});function rPe(t,e){var n=t.eventKey,r=cR(),i=sS(n);return S.useEffect(function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}},[i]),r?null:S.createElement(nPe,ft({},t,{ref:e}))}const uR=S.forwardRef(rPe);var iPe=["className","children"],oPe=function(e,n){var r=e.className,i=e.children,o=pr(e,iPe),a=S.useContext(id),s=a.prefixCls,l=a.mode,c=a.rtl;return S.createElement("ul",ft({className:je(s,c&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat(l==="inline"?"inline":"vertical"),r),role:"menu"},o,{"data-menu-list":!0,ref:n}),i)},y$=S.forwardRef(oPe);y$.displayName="SubMenuList";function b$(t,e){return mc(t).map(function(n,r){if(S.isValidElement(n)){var i,o,a=n.key,s=(i=(o=n.props)===null||o===void 0?void 0:o.eventKey)!==null&&i!==void 0?i:a,l=s==null;l&&(s="tmp_key-".concat([].concat(Xt(e),[r]).join("-")));var c={key:s,eventKey:s};return S.cloneElement(n,c)}return n})}var bs={adjustX:1,adjustY:1},aPe={topLeft:{points:["bl","tl"],overflow:bs},topRight:{points:["br","tr"],overflow:bs},bottomLeft:{points:["tl","bl"],overflow:bs},bottomRight:{points:["tr","br"],overflow:bs},leftTop:{points:["tr","tl"],overflow:bs},leftBottom:{points:["br","bl"],overflow:bs},rightTop:{points:["tl","tr"],overflow:bs},rightBottom:{points:["bl","br"],overflow:bs}},sPe={topLeft:{points:["bl","tl"],overflow:bs},topRight:{points:["br","tr"],overflow:bs},bottomLeft:{points:["tl","bl"],overflow:bs},bottomRight:{points:["tr","br"],overflow:bs},rightTop:{points:["tr","tl"],overflow:bs},rightBottom:{points:["br","bl"],overflow:bs},leftTop:{points:["tl","tr"],overflow:bs},leftBottom:{points:["bl","br"],overflow:bs}};function eie(t,e,n){if(e)return e;if(n)return n[t]||n.other}var lPe={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function cPe(t){var e=t.prefixCls,n=t.visible,r=t.children,i=t.popup,o=t.popupStyle,a=t.popupClassName,s=t.popupOffset,l=t.disabled,c=t.mode,u=t.onVisibleChange,d=S.useContext(id),f=d.getPopupContainer,h=d.rtl,p=d.subMenuOpenDelay,_=d.subMenuCloseDelay,x=d.builtinPlacements,y=d.triggerSubMenuAction,w=d.forceSubMenuRender,C=d.rootClassName,M=d.motion,R=d.defaultMotions,N=S.useState(!1),I=ze(N,2),B=I[0],D=I[1],$=Ie(h?Ie({},sPe):Ie({},aPe),x),z=lPe[c],V=eie(c,M,R),q=S.useRef(V);c!=="inline"&&(q.current=V);var G=Ie(Ie({},q.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),j=S.useRef();return S.useEffect(function(){return j.current=qr(function(){D(n)}),function(){qr.cancel(j.current)}},[n]),S.createElement(aS,{prefixCls:e,popupClassName:je("".concat(e,"-popup"),Re({},"".concat(e,"-rtl"),h),a,C),stretch:c==="horizontal"?"minWidth":null,getPopupContainer:f,builtinPlacements:$,popupPlacement:z,popupVisible:B,popup:i,popupStyle:o,popupAlign:s&&{offset:s},action:l?[]:[y],mouseEnterDelay:p,mouseLeaveDelay:_,onPopupVisibleChange:u,forceRender:w,popupMotion:G,fresh:!0},r)}function uPe(t){var e=t.id,n=t.open,r=t.keyPath,i=t.children,o="inline",a=S.useContext(id),s=a.prefixCls,l=a.forceSubMenuRender,c=a.motion,u=a.defaultMotions,d=a.mode,f=S.useRef(!1);f.current=d===o;var h=S.useState(!f.current),p=ze(h,2),_=p[0],x=p[1],y=f.current?n:!1;S.useEffect(function(){f.current&&x(!1)},[d]);var w=Ie({},eie(o,c,u));r.length>1&&(w.motionAppear=!1);var C=w.onVisibleChanged;return w.onVisibleChanged=function(M){return!f.current&&!M&&x(!0),C==null?void 0:C(M)},_?null:S.createElement(H_,{mode:o,locked:!f.current},S.createElement(dd,ft({visible:y},w,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),function(M){var R=M.className,N=M.style;return S.createElement(y$,{id:e,className:R,style:N},i)}))}var dPe=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],fPe=["active"],hPe=S.forwardRef(function(t,e){var n=t.style,r=t.className,i=t.title,o=t.eventKey;t.warnKey;var a=t.disabled,s=t.internalPopupClose,l=t.children,c=t.itemIcon,u=t.expandIcon,d=t.popupClassName,f=t.popupOffset,h=t.popupStyle,p=t.onClick,_=t.onMouseEnter,x=t.onMouseLeave,y=t.onTitleClick,w=t.onTitleMouseEnter,C=t.onTitleMouseLeave,M=pr(t,dPe),R=qre(o),N=S.useContext(id),I=N.prefixCls,B=N.mode,D=N.openKeys,$=N.disabled,z=N.overflowDisabled,V=N.activeKey,q=N.selectedKeys,G=N.itemIcon,j=N.expandIcon,H=N.onItemClick,X=N.onOpenChange,Y=N.onActive,ee=S.useContext(g$),Z=ee._internalRenderSubMenuItem,re=S.useContext(Yre),ae=re.isSubPathKey,ce=sS(),he="".concat(I,"-submenu"),ge=$||a,se=S.useRef(),me=S.useRef(),ye=c??G,we=u??j,Ee=D.includes(o),Me=!z&&Ee,Oe=ae(q,o),Ue=Qre(o,ge,w,C),Se=Ue.active,_e=pr(Ue,fPe),ve=S.useState(!1),Ge=ze(ve,2),ue=Ge[0],at=Ge[1],nt=function(ut){ge||at(ut)},ct=function(ut){nt(!0),_==null||_({key:o,domEvent:ut})},Ze=function(ut){nt(!1),x==null||x({key:o,domEvent:ut})},pe=S.useMemo(function(){return Se||(B!=="inline"?ue||ae([V],o):!1)},[B,Se,V,ue,o,ae]),te=Zre(ce.length),Ne=function(ut){ge||(y==null||y({key:o,domEvent:ut}),B==="inline"&&X(o,!Ee))},qe=fx(function(pt){p==null||p(DM(pt)),H(pt)}),gt=function(ut){B!=="inline"&&X(o,ut)},tt=function(){Y(o)},wt=R&&"".concat(R,"-popup"),_t=S.useMemo(function(){return S.createElement(Jre,{icon:B!=="horizontal"?we:void 0,props:Ie(Ie({},t),{},{isOpen:Me,isSubMenu:!0})},S.createElement("i",{className:"".concat(he,"-arrow")}))},[B,we,t,Me,he]),Et=S.createElement("div",ft({role:"menuitem",style:te,className:"".concat(he,"-title"),tabIndex:ge?null:-1,ref:se,title:typeof i=="string"?i:null,"data-menu-id":z&&R?null:R,"aria-expanded":Me,"aria-haspopup":!0,"aria-controls":wt,"aria-disabled":ge,onClick:Ne,onFocus:tt},_e),i,_t),Tt=S.useRef(B);if(B!=="inline"&&ce.length>1?Tt.current="vertical":Tt.current=B,!z){var ht=Tt.current;Et=S.createElement(cPe,{mode:ht,prefixCls:he,visible:!s&&Me&&B!=="inline",popupClassName:d,popupOffset:f,popupStyle:h,popup:S.createElement(H_,{mode:ht==="horizontal"?"vertical":ht},S.createElement(y$,{id:wt,ref:me},l)),disabled:ge,onVisibleChange:gt},Et)}var Xe=S.createElement(Ju.Item,ft({ref:e,role:"none"},M,{component:"li",style:n,className:je(he,"".concat(he,"-").concat(B),r,Re(Re(Re(Re({},"".concat(he,"-open"),Me),"".concat(he,"-active"),pe),"".concat(he,"-selected"),Oe),"".concat(he,"-disabled"),ge)),onMouseEnter:ct,onMouseLeave:Ze}),Et,!z&&S.createElement(uPe,{id:wt,open:Me,keyPath:ce},l));return Z&&(Xe=Z(Xe,t,{selected:Oe,active:pe,open:Me,disabled:ge})),S.createElement(H_,{onItemClick:qe,mode:B==="horizontal"?"vertical":B,itemIcon:ye,expandIcon:we},Xe)}),x$=S.forwardRef(function(t,e){var n=t.eventKey,r=t.children,i=sS(n),o=b$(r,i),a=cR();S.useEffect(function(){if(a)return a.registerPath(n,i),function(){a.unregisterPath(n,i)}},[i]);var s;return a?s=o:s=S.createElement(hPe,ft({ref:e},t),o),S.createElement(Xre.Provider,{value:i},s)});function tie(t){var e=t.className,n=t.style,r=S.useContext(id),i=r.prefixCls,o=cR();return o?null:S.createElement("li",{role:"separator",className:je("".concat(i,"-item-divider"),e),style:n})}var pPe=["className","title","eventKey","children"],mPe=S.forwardRef(function(t,e){var n=t.className,r=t.title;t.eventKey;var i=t.children,o=pr(t,pPe),a=S.useContext(id),s=a.prefixCls,l="".concat(s,"-item-group");return S.createElement("li",ft({ref:e,role:"presentation"},o,{onClick:function(u){return u.stopPropagation()},className:je(l,n)}),S.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:typeof r=="string"?r:void 0},r),S.createElement("ul",{role:"group",className:"".concat(l,"-list")},i))}),nie=S.forwardRef(function(t,e){var n=t.eventKey,r=t.children,i=sS(n),o=b$(r,i),a=cR();return a?o:S.createElement(mPe,ft({ref:e},po(t,["warnKey"])),o)}),gPe=["label","children","key","type","extra"];function d8(t,e,n){var r=e.item,i=e.group,o=e.submenu,a=e.divider;return(t||[]).map(function(s,l){if(s&&Dn(s)==="object"){var c=s,u=c.label,d=c.children,f=c.key,h=c.type,p=c.extra,_=pr(c,gPe),x=f??"tmp-".concat(l);return d||h==="group"?h==="group"?S.createElement(i,ft({key:x},_,{title:u}),d8(d,e,n)):S.createElement(o,ft({key:x},_,{title:u}),d8(d,e,n)):h==="divider"?S.createElement(a,ft({key:x},_)):S.createElement(r,ft({key:x},_,{extra:p}),u,(!!p||p===0)&&S.createElement("span",{className:"".concat(n,"-item-extra")},p))}return null}).filter(function(s){return s})}function NH(t,e,n,r,i){var o=t,a=Ie({divider:tie,item:uR,group:nie,submenu:x$},r);return e&&(o=d8(e,a,i)),b$(o,n)}var APe=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],$m=[],vPe=S.forwardRef(function(t,e){var n,r=t,i=r.prefixCls,o=i===void 0?"rc-menu":i,a=r.rootClassName,s=r.style,l=r.className,c=r.tabIndex,u=c===void 0?0:c,d=r.items,f=r.children,h=r.direction,p=r.id,_=r.mode,x=_===void 0?"vertical":_,y=r.inlineCollapsed,w=r.disabled,C=r.disabledOverflow,M=r.subMenuOpenDelay,R=M===void 0?.1:M,N=r.subMenuCloseDelay,I=N===void 0?.1:N,B=r.forceSubMenuRender,D=r.defaultOpenKeys,$=r.openKeys,z=r.activeKey,V=r.defaultActiveFirst,q=r.selectable,G=q===void 0?!0:q,j=r.multiple,H=j===void 0?!1:j,X=r.defaultSelectedKeys,Y=r.selectedKeys,ee=r.onSelect,Z=r.onDeselect,re=r.inlineIndent,ae=re===void 0?24:re,ce=r.motion,he=r.defaultMotions,ge=r.triggerSubMenuAction,se=ge===void 0?"hover":ge,me=r.builtinPlacements,ye=r.itemIcon,we=r.expandIcon,Ee=r.overflowedIndicator,Me=Ee===void 0?"...":Ee,Oe=r.overflowedIndicatorPopupClassName,Ue=r.getPopupContainer,Se=r.onClick,_e=r.onOpenChange,ve=r.onKeyDown;r.openAnimation,r.openTransitionName;var Ge=r._internalRenderMenuItem,ue=r._internalRenderSubMenuItem,at=r._internalComponents,nt=pr(r,APe),ct=S.useMemo(function(){return[NH(f,d,$m,at,o),NH(f,d,$m,{},o)]},[f,d,at]),Ze=ze(ct,2),pe=Ze[0],te=Ze[1],Ne=S.useState(!1),qe=ze(Ne,2),gt=qe[0],tt=qe[1],wt=S.useRef(),_t=K3e(p),Et=h==="rtl",Tt=Ui(D,{value:$,postState:function(jt){return jt||$m}}),ht=ze(Tt,2),Xe=ht[0],pt=ht[1],ut=function(jt){var en=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function xn(){pt(jt),_e==null||_e(jt)}en?rd.flushSync(xn):xn()},Ke=S.useState(Xe),Rt=ze(Ke,2),$e=Rt[0],$t=Rt[1],Lt=S.useRef(!1),tn=S.useMemo(function(){return(x==="inline"||x==="vertical")&&y?["vertical",y]:[x,!1]},[x,y]),Qe=ze(tn,2),Pt=Qe[0],Ft=Qe[1],Yt=Pt==="inline",Rn=S.useState(Pt),Cn=ze(Rn,2),dn=Cn[0],Mn=Cn[1],Tn=S.useState(Ft),Qt=ze(Tn,2),Gt=Qt[0],Ut=Qt[1];S.useEffect(function(){Mn(Pt),Ut(Ft),Lt.current&&(Yt?pt($e):ut($m))},[Pt,Ft]);var Pe=S.useState(0),mt=ze(Pe,2),St=mt[0],xt=mt[1],m=St>=pe.length-1||dn!=="horizontal"||C;S.useEffect(function(){Yt&&$t(Xe)},[Xe]),S.useEffect(function(){return Lt.current=!0,function(){Lt.current=!1}},[]);var de=X3e(),gn=de.registerPath,Pn=de.unregisterPath,tr=de.refreshOverflowKeys,bn=de.isSubPathKey,Gn=de.getKeyPath,_r=de.getKeys,Ln=de.getSubPathKeys,Dt=S.useMemo(function(){return{registerPath:gn,unregisterPath:Pn}},[gn,Pn]),cn=S.useMemo(function(){return{isSubPathKey:bn}},[bn]);S.useEffect(function(){tr(m?$m:pe.slice(St+1).map(function(yn){return yn.key}))},[St,m]);var Bn=Ui(z||V&&((n=pe[0])===null||n===void 0?void 0:n.key),{value:z}),er=ze(Bn,2),Ae=er[0],Ve=er[1],lt=fx(function(yn){Ve(yn)}),dt=fx(function(){Ve(void 0)});S.useImperativeHandle(e,function(){return{list:wt.current,focus:function(jt){var en,xn=_r(),hn=c8(xn,_t),An=hn.elements,Xn=hn.key2element,cr=hn.element2key,nr=A$(wt.current,An),Mr=Ae??(nr[0]?cr.get(nr[0]):(en=pe.find(function(zn){return!zn.props.disabled}))===null||en===void 0?void 0:en.key),ur=Xn.get(Mr);if(Mr&&ur){var Wr;ur==null||(Wr=ur.focus)===null||Wr===void 0||Wr.call(ur,jt)}}}});var He=Ui(X||[],{value:Y,postState:function(jt){return Array.isArray(jt)?jt:jt==null?$m:[jt]}}),Nt=ze(He,2),Ht=Nt[0],Ot=Nt[1],fe=function(jt){if(G){var en=jt.key,xn=Ht.includes(en),hn;H?xn?hn=Ht.filter(function(Xn){return Xn!==en}):hn=[].concat(Xt(Ht),[en]):hn=[en],Ot(hn);var An=Ie(Ie({},jt),{},{selectedKeys:hn});xn?Z==null||Z(An):ee==null||ee(An)}!H&&Xe.length&&dn!=="inline"&&ut($m)},Mt=fx(function(yn){Se==null||Se(DM(yn)),fe(yn)}),fn=fx(function(yn,jt){var en=Xe.filter(function(hn){return hn!==yn});if(jt)en.push(yn);else if(dn!=="inline"){var xn=Ln(yn);en=en.filter(function(hn){return!xn.has(hn)})}D_(Xe,en,!0)||ut(en,!0)}),wn=function(jt,en){var xn=en??!Xe.includes(jt);fn(jt,xn)},Hn=j3e(dn,Ae,Et,_t,wt,_r,Gn,Ve,wn,ve);S.useEffect(function(){tt(!0)},[]);var lr=S.useMemo(function(){return{_internalRenderMenuItem:Ge,_internalRenderSubMenuItem:ue}},[Ge,ue]),Lr=dn!=="horizontal"||C?pe:pe.map(function(yn,jt){return S.createElement(H_,{key:yn.key,overflowDisabled:jt>St},yn)}),le=S.createElement(Ju,ft({id:p,ref:wt,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:uR,className:je(o,"".concat(o,"-root"),"".concat(o,"-").concat(dn),l,Re(Re({},"".concat(o,"-inline-collapsed"),Gt),"".concat(o,"-rtl"),Et),a),dir:h,style:s,role:"menu",tabIndex:u,data:Lr,renderRawItem:function(jt){return jt},renderRawRest:function(jt){var en=jt.length,xn=en?pe.slice(-en):null;return S.createElement(x$,{eventKey:u8,title:Me,disabled:m,internalPopupClose:en===0,popupClassName:Oe},xn)},maxCount:dn!=="horizontal"||C?Ju.INVALIDATE:Ju.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(jt){xt(jt)},onKeyDown:Hn},nt));return S.createElement(g$.Provider,{value:lr},S.createElement(Hre.Provider,{value:_t},S.createElement(H_,{prefixCls:o,rootClassName:a,mode:dn,openKeys:Xe,rtl:Et,disabled:w,motion:gt?ce:null,defaultMotions:gt?he:null,activeKey:Ae,onActive:lt,onInactive:dt,selectedKeys:Ht,inlineIndent:ae,subMenuOpenDelay:R,subMenuCloseDelay:I,forceSubMenuRender:B,builtinPlacements:me,triggerSubMenuAction:se,getPopupContainer:Ue,itemIcon:ye,expandIcon:we,onItemClick:Mt,onOpenChange:fn},S.createElement(Yre.Provider,{value:cn},le),S.createElement("div",{style:{display:"none"},"aria-hidden":!0},S.createElement(Wre.Provider,{value:Dt},te)))))}),lS=vPe;lS.Item=uR;lS.SubMenu=x$;lS.ItemGroup=nie;lS.Divider=tie;var yPe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};const bPe=yPe;var xPe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:bPe}))},_Pe=S.forwardRef(xPe);const SPe=_Pe,rie=S.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),wPe=t=>{const{antCls:e,componentCls:n,colorText:r,footerBg:i,headerHeight:o,headerPadding:a,headerColor:s,footerPadding:l,fontSize:c,bodyBg:u,headerBg:d}=t;return{[n]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:u,"&, *":{boxSizing:"border-box"},[`&${n}-has-sider`]:{flexDirection:"row",[`> ${n}, > ${n}-content`]:{width:0}},[`${n}-header, &${n}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${n}-header`]:{height:o,padding:a,color:s,lineHeight:ke(o),background:d,[`${e}-menu`]:{lineHeight:"inherit"}},[`${n}-footer`]:{padding:l,color:r,fontSize:c,background:i},[`${n}-content`]:{flex:"auto",color:r,minHeight:0}}},iie=t=>{const{colorBgLayout:e,controlHeight:n,controlHeightLG:r,colorText:i,controlHeightSM:o,marginXXS:a,colorTextLightSolid:s,colorBgContainer:l}=t,c=r*1.25;return{colorBgHeader:"#001529",colorBgBody:e,colorBgTrigger:"#002140",bodyBg:e,headerBg:"#001529",headerHeight:n*2,headerPadding:`0 ${c}px`,headerColor:i,footerPadding:`${o}px ${c}px`,footerBg:e,siderBg:"#001529",triggerHeight:r+a*2,triggerBg:"#002140",triggerColor:s,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:l,lightTriggerBg:l,lightTriggerColor:i}},oie=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],aie=Ti("Layout",wPe,iie,{deprecatedTokens:oie}),CPe=t=>{const{componentCls:e,siderBg:n,motionDurationMid:r,motionDurationSlow:i,antCls:o,triggerHeight:a,triggerColor:s,triggerBg:l,headerHeight:c,zeroTriggerWidth:u,zeroTriggerHeight:d,borderRadiusLG:f,lightSiderBg:h,lightTriggerColor:p,lightTriggerBg:_,bodyBg:x}=t;return{[e]:{position:"relative",minWidth:0,background:n,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:a},"&-right":{order:1},[`${e}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${o}-menu${o}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${e}-children`]:{overflow:"hidden"},[`${e}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:a,color:s,lineHeight:ke(a),textAlign:"center",background:l,cursor:"pointer",transition:`all ${r}`},[`${e}-zero-width-trigger`]:{position:"absolute",top:c,insetInlineEnd:t.calc(u).mul(-1).equal(),zIndex:1,width:u,height:d,color:s,fontSize:t.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:n,borderRadius:`0 ${ke(f)} ${ke(f)} 0`,cursor:"pointer",transition:`background ${i} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${i}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:t.calc(u).mul(-1).equal(),borderRadius:`${ke(f)} 0 0 ${ke(f)}`}},"&-light":{background:h,[`${e}-trigger`]:{color:p,background:_},[`${e}-zero-width-trigger`]:{color:p,background:_,border:`1px solid ${x}`,borderInlineStart:0}}}}},TPe=Ti(["Layout","Sider"],CPe,iie,{deprecatedTokens:oie});var EPe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const IH={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},MPe=t=>!Number.isNaN(Number.parseFloat(t))&&Number.isFinite(Number(t)),sie=S.createContext({}),PPe=(()=>{let t=0;return(e="")=>(t+=1,`${e}${t}`)})(),RPe=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,trigger:i,children:o,defaultCollapsed:a=!1,theme:s="dark",style:l={},collapsible:c=!1,reverseArrow:u=!1,width:d=200,collapsedWidth:f=80,zeroWidthTriggerStyle:h,breakpoint:p,onCollapse:_,onBreakpoint:x}=t,y=EPe(t,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:w}=S.useContext(rie),[C,M]=S.useState("collapsed"in t?t.collapsed:a),[R,N]=S.useState(!1);S.useEffect(()=>{"collapsed"in t&&M(t.collapsed)},[t.collapsed]);const I=(ye,we)=>{"collapsed"in t||M(ye),_==null||_(ye,we)},{getPrefixCls:B,direction:D}=S.useContext(ir),$=B("layout-sider",n),[z,V,q]=TPe($),G=S.useRef(null);G.current=ye=>{N(ye.matches),x==null||x(ye.matches),C!==ye.matches&&I(ye.matches,"responsive")},S.useEffect(()=>{function ye(Ee){var Me;return(Me=G.current)===null||Me===void 0?void 0:Me.call(G,Ee)}let we;return typeof(window==null?void 0:window.matchMedia)<"u"&&p&&p in IH&&(we=window.matchMedia(`screen and (max-width: ${IH[p]})`),Pre(we,ye),ye(we)),()=>{Rre(we,ye)}},[p]),S.useEffect(()=>{const ye=PPe("ant-sider-");return w.addSider(ye),()=>w.removeSider(ye)},[]);const j=()=>{I(!C,"clickTrigger")},H=po(y,["collapsed"]),X=C?f:d,Y=MPe(X)?`${X}px`:String(X),ee=Number.parseFloat(String(f||0))===0?S.createElement("span",{onClick:j,className:je(`${$}-zero-width-trigger`,`${$}-zero-width-trigger-${u?"right":"left"}`),style:h},i||S.createElement(SPe,null)):null,Z=D==="rtl"==!u,ce={expanded:Z?S.createElement(U_,null):S.createElement(OM,null),collapsed:Z?S.createElement(OM,null):S.createElement(U_,null)}[C?"collapsed":"expanded"],he=i!==null?ee||S.createElement("div",{className:`${$}-trigger`,onClick:j,style:{width:Y}},i||ce):null,ge=Object.assign(Object.assign({},l),{flex:`0 0 ${Y}`,maxWidth:Y,minWidth:Y,width:Y}),se=je($,`${$}-${s}`,{[`${$}-collapsed`]:!!C,[`${$}-has-trigger`]:c&&i!==null&&!ee,[`${$}-below`]:!!R,[`${$}-zero-width`]:Number.parseFloat(Y)===0},r,V,q),me=S.useMemo(()=>({siderCollapsed:C}),[C]);return z(S.createElement(sie.Provider,{value:me},S.createElement("aside",Object.assign({className:se},H,{style:ge,ref:e}),S.createElement("div",{className:`${$}-children`},o),c||R&&ee?he:null)))}),lie=RPe;var NPe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const IPe=NPe;var OPe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:IPe}))},DPe=S.forwardRef(OPe);const LPe=DPe;var cie={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(bh,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",a="second",s="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",p="date",_="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(G){var j=["th","st","nd","rd"],H=G%100;return"["+G+(j[(H-20)%10]||j[H]||j[0])+"]"}},C=function(G,j,H){var X=String(G);return!X||X.length>=j?G:""+Array(j+1-X.length).join(H)+G},M={s:C,z:function(G){var j=-G.utcOffset(),H=Math.abs(j),X=Math.floor(H/60),Y=H%60;return(j<=0?"+":"-")+C(X,2,"0")+":"+C(Y,2,"0")},m:function G(j,H){if(j.date()<H.date())return-G(H,j);var X=12*(H.year()-j.year())+(H.month()-j.month()),Y=j.clone().add(X,d),ee=H-Y<0,Z=j.clone().add(X+(ee?-1:1),d);return+(-(X+(H-Y)/(ee?Y-Z:Z-Y))||0)},a:function(G){return G<0?Math.ceil(G)||0:Math.floor(G)},p:function(G){return{M:d,y:h,w:u,d:c,D:p,h:l,m:s,s:a,ms:o,Q:f}[G]||String(G||"").toLowerCase().replace(/s$/,"")},u:function(G){return G===void 0}},R="en",N={};N[R]=w;var I="$isDayjsObject",B=function(G){return G instanceof V||!(!G||!G[I])},D=function G(j,H,X){var Y;if(!j)return R;if(typeof j=="string"){var ee=j.toLowerCase();N[ee]&&(Y=ee),H&&(N[ee]=H,Y=ee);var Z=j.split("-");if(!Y&&Z.length>1)return G(Z[0])}else{var re=j.name;N[re]=j,Y=re}return!X&&Y&&(R=Y),Y||!X&&R},$=function(G,j){if(B(G))return G.clone();var H=typeof j=="object"?j:{};return H.date=G,H.args=arguments,new V(H)},z=M;z.l=D,z.i=B,z.w=function(G,j){return $(G,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var V=function(){function G(H){this.$L=D(H.locale,null,!0),this.parse(H),this.$x=this.$x||H.x||{},this[I]=!0}var j=G.prototype;return j.parse=function(H){this.$d=function(X){var Y=X.date,ee=X.utc;if(Y===null)return new Date(NaN);if(z.u(Y))return new Date;if(Y instanceof Date)return new Date(Y);if(typeof Y=="string"&&!/Z$/i.test(Y)){var Z=Y.match(x);if(Z){var re=Z[2]-1||0,ae=(Z[7]||"0").substring(0,3);return ee?new Date(Date.UTC(Z[1],re,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,ae)):new Date(Z[1],re,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,ae)}}return new Date(Y)}(H),this.init()},j.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},j.$utils=function(){return z},j.isValid=function(){return this.$d.toString()!==_},j.isSame=function(H,X){var Y=$(H);return this.startOf(X)<=Y&&Y<=this.endOf(X)},j.isAfter=function(H,X){return $(H)<this.startOf(X)},j.isBefore=function(H,X){return this.endOf(X)<$(H)},j.$g=function(H,X,Y){return z.u(H)?this[X]:this.set(Y,H)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(H,X){var Y=this,ee=!!z.u(X)||X,Z=z.p(H),re=function(we,Ee){var Me=z.w(Y.$u?Date.UTC(Y.$y,Ee,we):new Date(Y.$y,Ee,we),Y);return ee?Me:Me.endOf(c)},ae=function(we,Ee){return z.w(Y.toDate()[we].apply(Y.toDate("s"),(ee?[0,0,0,0]:[23,59,59,999]).slice(Ee)),Y)},ce=this.$W,he=this.$M,ge=this.$D,se="set"+(this.$u?"UTC":"");switch(Z){case h:return ee?re(1,0):re(31,11);case d:return ee?re(1,he):re(0,he+1);case u:var me=this.$locale().weekStart||0,ye=(ce<me?ce+7:ce)-me;return re(ee?ge-ye:ge+(6-ye),he);case c:case p:return ae(se+"Hours",0);case l:return ae(se+"Minutes",1);case s:return ae(se+"Seconds",2);case a:return ae(se+"Milliseconds",3);default:return this.clone()}},j.endOf=function(H){return this.startOf(H,!1)},j.$set=function(H,X){var Y,ee=z.p(H),Z="set"+(this.$u?"UTC":""),re=(Y={},Y[c]=Z+"Date",Y[p]=Z+"Date",Y[d]=Z+"Month",Y[h]=Z+"FullYear",Y[l]=Z+"Hours",Y[s]=Z+"Minutes",Y[a]=Z+"Seconds",Y[o]=Z+"Milliseconds",Y)[ee],ae=ee===c?this.$D+(X-this.$W):X;if(ee===d||ee===h){var ce=this.clone().set(p,1);ce.$d[re](ae),ce.init(),this.$d=ce.set(p,Math.min(this.$D,ce.daysInMonth())).$d}else re&&this.$d[re](ae);return this.init(),this},j.set=function(H,X){return this.clone().$set(H,X)},j.get=function(H){return this[z.p(H)]()},j.add=function(H,X){var Y,ee=this;H=Number(H);var Z=z.p(X),re=function(he){var ge=$(ee);return z.w(ge.date(ge.date()+Math.round(he*H)),ee)};if(Z===d)return this.set(d,this.$M+H);if(Z===h)return this.set(h,this.$y+H);if(Z===c)return re(1);if(Z===u)return re(7);var ae=(Y={},Y[s]=r,Y[l]=i,Y[a]=n,Y)[Z]||1,ce=this.$d.getTime()+H*ae;return z.w(ce,this)},j.subtract=function(H,X){return this.add(-1*H,X)},j.format=function(H){var X=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||_;var ee=H||"YYYY-MM-DDTHH:mm:ssZ",Z=z.z(this),re=this.$H,ae=this.$m,ce=this.$M,he=Y.weekdays,ge=Y.months,se=Y.meridiem,me=function(Ee,Me,Oe,Ue){return Ee&&(Ee[Me]||Ee(X,ee))||Oe[Me].slice(0,Ue)},ye=function(Ee){return z.s(re%12||12,Ee,"0")},we=se||function(Ee,Me,Oe){var Ue=Ee<12?"AM":"PM";return Oe?Ue.toLowerCase():Ue};return ee.replace(y,function(Ee,Me){return Me||function(Oe){switch(Oe){case"YY":return String(X.$y).slice(-2);case"YYYY":return z.s(X.$y,4,"0");case"M":return ce+1;case"MM":return z.s(ce+1,2,"0");case"MMM":return me(Y.monthsShort,ce,ge,3);case"MMMM":return me(ge,ce);case"D":return X.$D;case"DD":return z.s(X.$D,2,"0");case"d":return String(X.$W);case"dd":return me(Y.weekdaysMin,X.$W,he,2);case"ddd":return me(Y.weekdaysShort,X.$W,he,3);case"dddd":return he[X.$W];case"H":return String(re);case"HH":return z.s(re,2,"0");case"h":return ye(1);case"hh":return ye(2);case"a":return we(re,ae,!0);case"A":return we(re,ae,!1);case"m":return String(ae);case"mm":return z.s(ae,2,"0");case"s":return String(X.$s);case"ss":return z.s(X.$s,2,"0");case"SSS":return z.s(X.$ms,3,"0");case"Z":return Z}return null}(Ee)||Z.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(H,X,Y){var ee,Z=this,re=z.p(X),ae=$(H),ce=(ae.utcOffset()-this.utcOffset())*r,he=this-ae,ge=function(){return z.m(Z,ae)};switch(re){case h:ee=ge()/12;break;case d:ee=ge();break;case f:ee=ge()/3;break;case u:ee=(he-ce)/6048e5;break;case c:ee=(he-ce)/864e5;break;case l:ee=he/i;break;case s:ee=he/r;break;case a:ee=he/n;break;default:ee=he}return Y?ee:z.a(ee)},j.daysInMonth=function(){return this.endOf(d).$D},j.$locale=function(){return N[this.$L]},j.locale=function(H,X){if(!H)return this.$L;var Y=this.clone(),ee=D(H,X,!0);return ee&&(Y.$L=ee),Y},j.clone=function(){return z.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},G}(),q=V.prototype;return $.prototype=q,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",c],["$M",d],["$y",h],["$D",p]].forEach(function(G){q[G[1]]=function(j){return this.$g(j,G[0],G[1])}}),$.extend=function(G,j){return G.$i||(G(j,V,$),G.$i=!0),$},$.locale=D,$.isDayjs=B,$.unix=function(G){return $(1e3*G)},$.en=N[R],$.Ls=N,$.p={},$})})(cie);var BPe=cie.exports;const Qa=al(BPe);var uie={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(bh,function(){return function(n,r){r.prototype.weekday=function(i){var o=this.$locale().weekStart||0,a=this.$W,s=(a<o?a+7:a)-o;return this.$utils().u(i)?s:this.subtract(s,"day").add(i,"day")}}})})(uie);var FPe=uie.exports;const $Pe=al(FPe);var die={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(bh,function(){return function(n,r,i){var o=r.prototype,a=function(d){return d&&(d.indexOf?d:d.s)},s=function(d,f,h,p,_){var x=d.name?d:d.$locale(),y=a(x[f]),w=a(x[h]),C=y||w.map(function(R){return R.slice(0,p)});if(!_)return C;var M=x.weekStart;return C.map(function(R,N){return C[(N+(M||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,_,x){return _||x.slice(1)})}(d.formats[f.toUpperCase()])},u=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):s(d,"months")},monthsShort:function(f){return f?f.format("MMM"):s(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):s(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):s(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):s(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return u.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(d){return s(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return s(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return s(l(),"weekdaysMin","weekdays",2,d)}}})})(die);var kPe=die.exports;const UPe=al(kPe);var fie={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(bh,function(){var n="week",r="year";return function(i,o,a){var s=o.prototype;s.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=a(this).startOf(r).add(1,r).date(c),d=a(this).endOf(n);if(u.isBefore(d))return 1}var f=a(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),h=this.diff(f,n,!0);return h<0?a(this).startOf("week").week():Math.ceil(h)},s.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(fie);var zPe=fie.exports;const VPe=al(zPe);var hie={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(bh,function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),o=this.week(),a=this.year();return o===1&&i===11?a+1:i===0&&o>=52?a-1:a}}})})(hie);var GPe=hie.exports;const HPe=al(GPe);var pie={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(bh,function(){return function(n,r){var i=r.prototype,o=i.format;i.format=function(a){var s=this,l=this.$locale();if(!this.isValid())return o.bind(this)(a);var c=this.$utils(),u=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return l.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return l.ordinal(s.week(),"W");case"w":case"ww":return c.s(s.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(s.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(s.$H===0?24:s.$H),d==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return d}});return o.bind(this)(u)}}})})(pie);var jPe=pie.exports;const qPe=al(jPe);var mie={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(bh,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,o=/\d\d/,a=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,l={},c=function(x){return(x=+x)+(x>68?1900:2e3)},u=function(x){return function(y){this[x]=+y}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var w=y.match(/([+-]|\d\d)/g),C=60*w[1]+(+w[2]||0);return C===0?0:w[0]==="+"?-C:C}(x)}],f=function(x){var y=l[x];return y&&(y.indexOf?y:y.s.concat(y.f))},h=function(x,y){var w,C=l.meridiem;if(C){for(var M=1;M<=24;M+=1)if(x.indexOf(C(M,0,y))>-1){w=M>12;break}}else w=x===(y?"pm":"PM");return w},p={A:[s,function(x){this.afternoon=h(x,!1)}],a:[s,function(x){this.afternoon=h(x,!0)}],Q:[i,function(x){this.month=3*(x-1)+1}],S:[i,function(x){this.milliseconds=100*+x}],SS:[o,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[a,u("seconds")],ss:[a,u("seconds")],m:[a,u("minutes")],mm:[a,u("minutes")],H:[a,u("hours")],h:[a,u("hours")],HH:[a,u("hours")],hh:[a,u("hours")],D:[a,u("day")],DD:[o,u("day")],Do:[s,function(x){var y=l.ordinal,w=x.match(/\d+/);if(this.day=w[0],y)for(var C=1;C<=31;C+=1)y(C).replace(/\[|\]/g,"")===x&&(this.day=C)}],w:[a,u("week")],ww:[o,u("week")],M:[a,u("month")],MM:[o,u("month")],MMM:[s,function(x){var y=f("months"),w=(f("monthsShort")||y.map(function(C){return C.slice(0,3)})).indexOf(x)+1;if(w<1)throw new Error;this.month=w%12||w}],MMMM:[s,function(x){var y=f("months").indexOf(x)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,u("year")],YY:[o,function(x){this.year=c(x)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function _(x){var y,w;y=x,w=l&&l.formats;for(var C=(x=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function($,z,V){var q=V&&V.toUpperCase();return z||w[V]||n[V]||w[q].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(G,j,H){return j||H.slice(1)})})).match(r),M=C.length,R=0;R<M;R+=1){var N=C[R],I=p[N],B=I&&I[0],D=I&&I[1];C[R]=D?{regex:B,parser:D}:N.replace(/^\[|\]$/g,"")}return function($){for(var z={},V=0,q=0;V<M;V+=1){var G=C[V];if(typeof G=="string")q+=G.length;else{var j=G.regex,H=G.parser,X=$.slice(q),Y=j.exec(X)[0];H.call(z,Y),$=$.replace(Y,"")}}return function(ee){var Z=ee.afternoon;if(Z!==void 0){var re=ee.hours;Z?re<12&&(ee.hours+=12):re===12&&(ee.hours=0),delete ee.afternoon}}(z),z}}return function(x,y,w){w.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(c=x.parseTwoDigitYear);var C=y.prototype,M=C.parse;C.parse=function(R){var N=R.date,I=R.utc,B=R.args;this.$u=I;var D=B[1];if(typeof D=="string"){var $=B[2]===!0,z=B[3]===!0,V=$||z,q=B[2];z&&(q=B[2]),l=this.$locale(),!$&&q&&(l=w.Ls[q]),this.$d=function(X,Y,ee,Z){try{if(["x","X"].indexOf(Y)>-1)return new Date((Y==="X"?1e3:1)*X);var re=_(Y)(X),ae=re.year,ce=re.month,he=re.day,ge=re.hours,se=re.minutes,me=re.seconds,ye=re.milliseconds,we=re.zone,Ee=re.week,Me=new Date,Oe=he||(ae||ce?1:Me.getDate()),Ue=ae||Me.getFullYear(),Se=0;ae&&!ce||(Se=ce>0?ce-1:Me.getMonth());var _e,ve=ge||0,Ge=se||0,ue=me||0,at=ye||0;return we?new Date(Date.UTC(Ue,Se,Oe,ve,Ge,ue,at+60*we.offset*1e3)):ee?new Date(Date.UTC(Ue,Se,Oe,ve,Ge,ue,at)):(_e=new Date(Ue,Se,Oe,ve,Ge,ue,at),Ee&&(_e=Z(_e).week(Ee).toDate()),_e)}catch{return new Date("")}}(N,D,I,w),this.init(),q&&q!==!0&&(this.$L=this.locale(q).$L),V&&N!=this.format(D)&&(this.$d=new Date("")),l={}}else if(D instanceof Array)for(var G=D.length,j=1;j<=G;j+=1){B[1]=D[j-1];var H=w.apply(this,B);if(H.isValid()){this.$d=H.$d,this.$L=H.$L,this.init();break}j===G&&(this.$d=new Date(""))}else M.call(this,R)}}})})(mie);var WPe=mie.exports;const XPe=al(WPe);Qa.extend(XPe);Qa.extend(qPe);Qa.extend($Pe);Qa.extend(UPe);Qa.extend(VPe);Qa.extend(HPe);Qa.extend(function(t,e){var n=e.prototype,r=n.format;n.format=function(o){var a=(o||"").replace("Wo","wo");return r.bind(this)(a)}});var YPe={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},km=function(e){var n=YPe[e];return n||e.split("_")[0]},KPe={getNow:function(){var e=Qa();return typeof e.tz=="function"?e.tz():e},getFixedDate:function(e){return Qa(e,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(e){return e.endOf("month")},getWeekDay:function(e){var n=e.locale("en");return n.weekday()+n.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},getMillisecond:function(e){return e.millisecond()},addYear:function(e,n){return e.add(n,"year")},addMonth:function(e,n){return e.add(n,"month")},addDate:function(e,n){return e.add(n,"day")},setYear:function(e,n){return e.year(n)},setMonth:function(e,n){return e.month(n)},setDate:function(e,n){return e.date(n)},setHour:function(e,n){return e.hour(n)},setMinute:function(e,n){return e.minute(n)},setSecond:function(e,n){return e.second(n)},setMillisecond:function(e,n){return e.millisecond(n)},isAfter:function(e,n){return e.isAfter(n)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return Qa().locale(km(e)).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,n){return n.locale(km(e)).weekday(0)},getWeek:function(e,n){return n.locale(km(e)).week()},getShortWeekDays:function(e){return Qa().locale(km(e)).localeData().weekdaysMin()},getShortMonths:function(e){return Qa().locale(km(e)).localeData().monthsShort()},format:function(e,n,r){return n.locale(km(e)).format(r)},parse:function(e,n,r){for(var i=km(e),o=0;o<r.length;o+=1){var a=r[o],s=n;if(a.includes("wo")||a.includes("Wo")){for(var l=s.split("-")[0],c=s.split("-")[1],u=Qa(l,"YYYY").startOf("year").locale(i),d=0;d<=52;d+=1){var f=u.add(d,"week");if(f.format("Wo")===c)return f}return null}var h=Qa(s,a,!0).locale(i);if(h.isValid())return h}return null}}};function QPe(t,e){return t!==void 0?t:e?"bottomRight":"bottomLeft"}var fd=S.createContext(null),ZPe={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function gie(t){var e=t.popupElement,n=t.popupStyle,r=t.popupClassName,i=t.popupAlign,o=t.transitionName,a=t.getPopupContainer,s=t.children,l=t.range,c=t.placement,u=t.builtinPlacements,d=u===void 0?ZPe:u,f=t.direction,h=t.visible,p=t.onClose,_=S.useContext(fd),x=_.prefixCls,y="".concat(x,"-dropdown"),w=QPe(c,f==="rtl");return S.createElement(aS,{showAction:[],hideAction:["click"],popupPlacement:w,builtinPlacements:d,prefixCls:y,popupTransitionName:o,popup:e,popupAlign:i,popupVisible:h,popupClassName:je(r,Re(Re({},"".concat(y,"-range"),l),"".concat(y,"-rtl"),f==="rtl")),popupStyle:n,stretch:"minWidth",getPopupContainer:a,onPopupVisibleChange:function(M){M||p()}},s)}function _$(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",r=String(t);r.length<e;)r="".concat(n).concat(r);return r}function Eg(t){return t==null?[]:Array.isArray(t)?t:[t]}function Vx(t,e,n){var r=Xt(t);return r[e]=n,r}function dR(t,e){var n={},r=e||Object.keys(t);return r.forEach(function(i){t[i]!==void 0&&(n[i]=t[i])}),n}function Aie(t,e,n){if(n)return n;switch(t){case"time":return e.fieldTimeFormat;case"datetime":return e.fieldDateTimeFormat;case"month":return e.fieldMonthFormat;case"year":return e.fieldYearFormat;case"quarter":return e.fieldQuarterFormat;case"week":return e.fieldWeekFormat;default:return e.fieldDateFormat}}function vie(t,e,n){var r=n!==void 0?n:e[e.length-1],i=e.find(function(o){return t[o]});return r!==i?t[i]:void 0}function yie(t){return dR(t,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function S$(t,e,n,r){var i=S.useMemo(function(){return t||function(a,s){var l=a;return e&&s.type==="date"?e(l,s.today):n&&s.type==="month"?n(l,s.locale):s.originNode}},[t,n,e]),o=S.useCallback(function(a,s){return i(a,Ie(Ie({},s),{},{range:r}))},[i,r]);return o}function bie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=S.useState([!1,!1]),i=ze(r,2),o=i[0],a=i[1],s=function(u,d){a(function(f){return Vx(f,d,u)})},l=S.useMemo(function(){return o.map(function(c,u){if(c)return!0;var d=t[u];return d?!!(!n[u]&&!d||d&&e(d,{activeIndex:u})):!1})},[t,o,e,n]);return[l,s]}function xie(t,e,n,r,i){var o="",a=[];return t&&a.push(i?"hh":"HH"),e&&a.push("mm"),n&&a.push("ss"),o=a.join(":"),r&&(o+=".SSS"),i&&(o+=" A"),o}function JPe(t,e,n,r,i,o){var a=t.fieldDateTimeFormat,s=t.fieldDateFormat,l=t.fieldTimeFormat,c=t.fieldMonthFormat,u=t.fieldYearFormat,d=t.fieldWeekFormat,f=t.fieldQuarterFormat,h=t.yearFormat,p=t.cellYearFormat,_=t.cellQuarterFormat,x=t.dayFormat,y=t.cellDateFormat,w=xie(e,n,r,i,o);return Ie(Ie({},t),{},{fieldDateTimeFormat:a||"YYYY-MM-DD ".concat(w),fieldDateFormat:s||"YYYY-MM-DD",fieldTimeFormat:l||w,fieldMonthFormat:c||"YYYY-MM",fieldYearFormat:u||"YYYY",fieldWeekFormat:d||"gggg-wo",fieldQuarterFormat:f||"YYYY-[Q]Q",yearFormat:h||"YYYY",cellYearFormat:p||"YYYY",cellQuarterFormat:_||"[Q]Q",cellDateFormat:y||x||"D"})}function _ie(t,e){var n=e.showHour,r=e.showMinute,i=e.showSecond,o=e.showMillisecond,a=e.use12Hours;return Ye.useMemo(function(){return JPe(t,n,r,i,o,a)},[t,n,r,i,o,a])}function xb(t,e,n){return n??e.some(function(r){return t.includes(r)})}var eRe=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function tRe(t){var e=dR(t,eRe),n=t.format,r=t.picker,i=null;return n&&(i=n,Array.isArray(i)&&(i=i[0]),i=Dn(i)==="object"?i.format:i),r==="time"&&(e.format=i),[e,i]}function nRe(t){return t&&typeof t=="string"}function Sie(t,e,n,r){return[t,e,n,r].some(function(i){return i!==void 0})}function wie(t,e,n,r,i){var o=e,a=n,s=r;if(!t&&!o&&!a&&!s&&!i)o=!0,a=!0,s=!0;else if(t){var l,c,u,d=[o,a,s].some(function(p){return p===!1}),f=[o,a,s].some(function(p){return p===!0}),h=d?!0:!f;o=(l=o)!==null&&l!==void 0?l:h,a=(c=a)!==null&&c!==void 0?c:h,s=(u=s)!==null&&u!==void 0?u:h}return[o,a,s,i]}function Cie(t){var e=t.showTime,n=tRe(t),r=ze(n,2),i=r[0],o=r[1],a=e&&Dn(e)==="object"?e:{},s=Ie(Ie({defaultOpenValue:a.defaultOpenValue||a.defaultValue},i),a),l=s.showMillisecond,c=s.showHour,u=s.showMinute,d=s.showSecond,f=Sie(c,u,d,l),h=wie(f,c,u,d,l),p=ze(h,3);return c=p[0],u=p[1],d=p[2],[s,Ie(Ie({},s),{},{showHour:c,showMinute:u,showSecond:d,showMillisecond:l}),s.format,o]}function Tie(t,e,n,r,i){var o=t==="time";if(t==="datetime"||o){for(var a=r,s=Aie(t,i,null),l=s,c=[e,n],u=0;u<c.length;u+=1){var d=Eg(c[u])[0];if(nRe(d)){l=d;break}}var f=a.showHour,h=a.showMinute,p=a.showSecond,_=a.showMillisecond,x=a.use12Hours,y=xb(l,["a","A","LT","LLL","LTS"],x),w=Sie(f,h,p,_);w||(f=xb(l,["H","h","k","LT","LLL"]),h=xb(l,["m","LT","LLL"]),p=xb(l,["s","LTS"]),_=xb(l,["SSS"]));var C=wie(w,f,h,p,_),M=ze(C,3);f=M[0],h=M[1],p=M[2];var R=e||xie(f,h,p,_,y);return Ie(Ie({},a),{},{format:R,showHour:f,showMinute:h,showSecond:p,showMillisecond:_,use12Hours:y})}return null}function rRe(t,e,n){if(e===!1)return null;var r=e&&Dn(e)==="object"?e:{};return r.clearIcon||n||S.createElement("span",{className:"".concat(t,"-clear-btn")})}var EI=7;function vm(t,e,n){return!t&&!e||t===e?!0:!t||!e?!1:n()}function f8(t,e,n){return vm(e,n,function(){var r=Math.floor(t.getYear(e)/10),i=Math.floor(t.getYear(n)/10);return r===i})}function ig(t,e,n){return vm(e,n,function(){return t.getYear(e)===t.getYear(n)})}function OH(t,e){var n=Math.floor(t.getMonth(e)/3);return n+1}function iRe(t,e,n){return vm(e,n,function(){return ig(t,e,n)&&OH(t,e)===OH(t,n)})}function w$(t,e,n){return vm(e,n,function(){return ig(t,e,n)&&t.getMonth(e)===t.getMonth(n)})}function C$(t,e,n){return vm(e,n,function(){return ig(t,e,n)&&w$(t,e,n)&&t.getDate(e)===t.getDate(n)})}function Eie(t,e,n){return vm(e,n,function(){return t.getHour(e)===t.getHour(n)&&t.getMinute(e)===t.getMinute(n)&&t.getSecond(e)===t.getSecond(n)})}function Mie(t,e,n){return vm(e,n,function(){return C$(t,e,n)&&Eie(t,e,n)&&t.getMillisecond(e)===t.getMillisecond(n)})}function hx(t,e,n,r){return vm(n,r,function(){var i=t.locale.getWeekFirstDate(e,n),o=t.locale.getWeekFirstDate(e,r);return ig(t,i,o)&&t.locale.getWeek(e,n)===t.locale.getWeek(e,r)})}function Cs(t,e,n,r,i){switch(i){case"date":return C$(t,n,r);case"week":return hx(t,e.locale,n,r);case"month":return w$(t,n,r);case"quarter":return iRe(t,n,r);case"year":return ig(t,n,r);case"decade":return f8(t,n,r);case"time":return Eie(t,n,r);default:return Mie(t,n,r)}}function fR(t,e,n,r){return!e||!n||!r?!1:t.isAfter(r,e)&&t.isAfter(n,r)}function oC(t,e,n,r,i){return Cs(t,e,n,r,i)?!0:t.isAfter(n,r)}function oRe(t,e,n){var r=e.locale.getWeekFirstDay(t),i=e.setDate(n,1),o=e.getWeekDay(i),a=e.addDate(i,r-o);return e.getMonth(a)===e.getMonth(n)&&e.getDate(a)>1&&(a=e.addDate(a,-7)),a}function Aa(t,e){var n=e.generateConfig,r=e.locale,i=e.format;return t?typeof i=="function"?i(t):n.locale.format(r.locale,t,i):""}function LM(t,e,n){var r=e,i=["getHour","getMinute","getSecond","getMillisecond"],o=["setHour","setMinute","setSecond","setMillisecond"];return o.forEach(function(a,s){n?r=t[a](r,t[i[s]](n)):r=t[a](r,0)}),r}function aRe(t,e,n,r,i){var o=Xr(function(a,s){return!!(n&&n(a,s)||r&&t.isAfter(r,a)&&!Cs(t,e,r,a,s.type)||i&&t.isAfter(a,i)&&!Cs(t,e,i,a,s.type))});return o}function sRe(t,e,n){return S.useMemo(function(){var r=Aie(t,e,n),i=Eg(r),o=i[0],a=Dn(o)==="object"&&o.type==="mask"?o.format:null;return[i.map(function(s){return typeof s=="string"||typeof s=="function"?s:s.format}),a]},[t,e,n])}function lRe(t,e,n){return typeof t[0]=="function"||n?!0:e}function cRe(t,e,n,r){var i=Xr(function(o,a){var s=Ie({type:e},a);if(delete s.activeIndex,!t.isValidate(o)||n&&n(o,s))return!0;if((e==="date"||e==="time")&&r){var l,c=a&&a.activeIndex===1?"end":"start",u=((l=r.disabledTime)===null||l===void 0?void 0:l.call(r,o,c,{from:s.from}))||{},d=u.disabledHours,f=u.disabledMinutes,h=u.disabledSeconds,p=u.disabledMilliseconds,_=r.disabledHours,x=r.disabledMinutes,y=r.disabledSeconds,w=d||_,C=f||x,M=h||y,R=t.getHour(o),N=t.getMinute(o),I=t.getSecond(o),B=t.getMillisecond(o);if(w&&w().includes(R)||C&&C(R).includes(N)||M&&M(R,N).includes(I)||p&&p(R,N,I).includes(B))return!0}return!1});return i}function aC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=S.useMemo(function(){var r=t&&Eg(t);return e&&r&&(r[1]=r[1]||r[0]),r},[t,e]);return n}function Pie(t,e){var n=t.generateConfig,r=t.locale,i=t.picker,o=i===void 0?"date":i,a=t.prefixCls,s=a===void 0?"rc-picker":a,l=t.styles,c=l===void 0?{}:l,u=t.classNames,d=u===void 0?{}:u,f=t.order,h=f===void 0?!0:f,p=t.components,_=p===void 0?{}:p,x=t.inputRender,y=t.allowClear,w=t.clearIcon,C=t.needConfirm,M=t.multiple,R=t.format,N=t.inputReadOnly,I=t.disabledDate,B=t.minDate,D=t.maxDate,$=t.showTime,z=t.value,V=t.defaultValue,q=t.pickerValue,G=t.defaultPickerValue,j=aC(z),H=aC(V),X=aC(q),Y=aC(G),ee=o==="date"&&$?"datetime":o,Z=ee==="time"||ee==="datetime",re=Z||M,ae=C??Z,ce=Cie(t),he=ze(ce,4),ge=he[0],se=he[1],me=he[2],ye=he[3],we=_ie(r,se),Ee=S.useMemo(function(){return Tie(ee,me,ye,ge,we)},[ee,me,ye,ge,we]),Me=S.useMemo(function(){return Ie(Ie({},t),{},{prefixCls:s,locale:we,picker:o,styles:c,classNames:d,order:h,components:Ie({input:x},_),clearIcon:rRe(s,y,w),showTime:Ee,value:j,defaultValue:H,pickerValue:X,defaultPickerValue:Y},e==null?void 0:e())},[t]),Oe=sRe(ee,we,R),Ue=ze(Oe,2),Se=Ue[0],_e=Ue[1],ve=lRe(Se,N,M),Ge=aRe(n,r,I,B,D),ue=cRe(n,o,Ge,Ee),at=S.useMemo(function(){return Ie(Ie({},Me),{},{needConfirm:ae,inputReadOnly:ve,disabledDate:Ge})},[Me,ae,ve,Ge]);return[at,ee,re,Se,_e,ue]}function uRe(t,e,n){var r=Ui(e,{value:t}),i=ze(r,2),o=i[0],a=i[1],s=Ye.useRef(t),l=Ye.useRef(),c=function(){qr.cancel(l.current)},u=Xr(function(){a(s.current),n&&o!==s.current&&n(s.current)}),d=Xr(function(f,h){c(),s.current=f,f||h?u():l.current=qr(u)});return Ye.useEffect(function(){return c},[]),[o,d]}function Rie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,i=n.every(function(u){return u})?!1:t,o=uRe(i,e||!1,r),a=ze(o,2),s=a[0],l=a[1];function c(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!d.inherit||s)&&l(u,d.force)}return[s,c]}function Nie(t){var e=S.useRef();return S.useImperativeHandle(t,function(){var n;return{nativeElement:(n=e.current)===null||n===void 0?void 0:n.nativeElement,focus:function(i){var o;(o=e.current)===null||o===void 0||o.focus(i)},blur:function(){var i;(i=e.current)===null||i===void 0||i.blur()}}}),e}function Iie(t,e){return S.useMemo(function(){return t||(e?(is(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(e).map(function(n){var r=ze(n,2),i=r[0],o=r[1];return{label:i,value:o}})):[])},[t,e])}function T$(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=S.useRef(e);r.current=e,xM(function(){if(t)r.current(t);else{var i=qr(function(){r.current(t)},n);return function(){qr.cancel(i)}}},[t])}function Oie(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=S.useState(0),i=ze(r,2),o=i[0],a=i[1],s=S.useState(!1),l=ze(s,2),c=l[0],u=l[1],d=S.useRef([]),f=S.useRef(null),h=S.useRef(null),p=function(M){f.current=M},_=function(M){return f.current===M},x=function(M){u(M)},y=function(M){return M&&(h.current=M),h.current},w=function(M){var R=d.current,N=new Set(R.filter(function(B){return M[B]||e[B]})),I=R[R.length-1]===0?1:0;return N.size>=2||t[I]?null:I};return T$(c||n,function(){c||(d.current=[],p(null))}),S.useEffect(function(){c&&d.current.push(o)},[c,o]),[c,x,y,o,a,w,d.current,p,_]}function dRe(t,e,n,r,i,o){var a=n[n.length-1],s=function(c,u){var d=ze(t,2),f=d[0],h=d[1],p=Ie(Ie({},u),{},{from:vie(t,n)});return a===1&&e[0]&&f&&!Cs(r,i,f,c,p.type)&&r.isAfter(f,c)||a===0&&e[1]&&h&&!Cs(r,i,h,c,p.type)&&r.isAfter(c,h)?!0:o==null?void 0:o(c,p)};return s}function px(t,e,n,r){switch(e){case"date":case"week":return t.addMonth(n,r);case"month":case"quarter":return t.addYear(n,r);case"year":return t.addYear(n,r*10);case"decade":return t.addYear(n,r*100);default:return n}}var MI=[];function Die(t,e,n,r,i,o,a,s){var l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:MI,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:MI,u=arguments.length>10&&arguments[10]!==void 0?arguments[10]:MI,d=arguments.length>11?arguments[11]:void 0,f=arguments.length>12?arguments[12]:void 0,h=arguments.length>13?arguments[13]:void 0,p=a==="time",_=o||0,x=function(X){var Y=t.getNow();return p&&(Y=LM(t,Y)),l[X]||n[X]||Y},y=ze(c,2),w=y[0],C=y[1],M=Ui(function(){return x(0)},{value:w}),R=ze(M,2),N=R[0],I=R[1],B=Ui(function(){return x(1)},{value:C}),D=ze(B,2),$=D[0],z=D[1],V=S.useMemo(function(){var H=[N,$][_];return p?H:LM(t,H,u[_])},[p,N,$,_,t,u]),q=function(X){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",ee=[I,z][_];ee(X);var Z=[N,$];Z[_]=X,d&&(!Cs(t,e,N,Z[0],a)||!Cs(t,e,$,Z[1],a))&&d(Z,{source:Y,range:_===1?"end":"start",mode:r})},G=function(X,Y){if(s){var ee={date:"month",week:"month",month:"year",quarter:"year"},Z=ee[a];if(Z&&!Cs(t,e,X,Y,Z))return px(t,a,Y,-1);if(a==="year"&&X){var re=Math.floor(t.getYear(X)/10),ae=Math.floor(t.getYear(Y)/10);if(re!==ae)return px(t,a,Y,-1)}}return Y},j=S.useRef(null);return zr(function(){if(i&&!l[_]){var H=p?null:t.getNow();if(j.current!==null&&j.current!==_?H=[N,$][_^1]:n[_]?H=_===0?n[0]:G(n[0],n[1]):n[_^1]&&(H=n[_^1]),H){f&&t.isAfter(f,H)&&(H=f);var X=s?px(t,a,H,1):H;h&&t.isAfter(X,h)&&(H=s?px(t,a,h,-1):h),q(H,"reset")}}},[i,_,n[_]]),S.useEffect(function(){i?j.current=_:j.current=null},[i,_]),zr(function(){i&&l&&l[_]&&q(l[_],"reset")},[i,_]),[V,q]}function Lie(t,e){var n=S.useRef(t),r=S.useState({}),i=ze(r,2),o=i[1],a=function(c){return c&&e!==void 0?e:n.current},s=function(c){n.current=c,o({})};return[a,s,a(!0)]}var fRe=[];function Bie(t,e,n){var r=function(a){return a.map(function(s){return Aa(s,{generateConfig:t,locale:e,format:n[0]})})},i=function(a,s){for(var l=Math.max(a.length,s.length),c=-1,u=0;u<l;u+=1){var d=a[u]||null,f=s[u]||null;if(d!==f&&!Mie(t,d,f)){c=u;break}}return[c<0,c!==0]};return[r,i]}function Fie(t,e){return Xt(t).sort(function(n,r){return e.isAfter(n,r)?1:-1})}function hRe(t){var e=Lie(t),n=ze(e,2),r=n[0],i=n[1],o=Xr(function(){i(t)});return S.useEffect(function(){o()},[t]),[r,i]}function $ie(t,e,n,r,i,o,a,s,l){var c=Ui(o,{value:a}),u=ze(c,2),d=u[0],f=u[1],h=d||fRe,p=hRe(h),_=ze(p,2),x=_[0],y=_[1],w=Bie(t,e,n),C=ze(w,2),M=C[0],R=C[1],N=Xr(function(B){var D=Xt(B);if(r)for(var $=0;$<2;$+=1)D[$]=D[$]||null;else i&&(D=Fie(D.filter(function(H){return H}),t));var z=R(x(),D),V=ze(z,2),q=V[0],G=V[1];if(!q&&(y(D),s)){var j=M(D);s(D,j,{range:G?"end":"start"})}}),I=function(){l&&l(x())};return[h,f,x,N,I]}function kie(t,e,n,r,i,o,a,s,l,c){var u=t.generateConfig,d=t.locale,f=t.picker,h=t.onChange,p=t.allowEmpty,_=t.order,x=o.some(function(q){return q})?!1:_,y=Bie(u,d,a),w=ze(y,2),C=w[0],M=w[1],R=Lie(e),N=ze(R,2),I=N[0],B=N[1],D=Xr(function(){B(e)});S.useEffect(function(){D()},[e]);var $=Xr(function(q){var G=q===null,j=Xt(q||I());if(G)for(var H=Math.max(o.length,j.length),X=0;X<H;X+=1)o[X]||(j[X]=null);x&&j[0]&&j[1]&&(j=Fie(j,u)),i(j);var Y=j,ee=ze(Y,2),Z=ee[0],re=ee[1],ae=!Z,ce=!re,he=p?(!ae||p[0])&&(!ce||p[1]):!0,ge=!_||ae||ce||Cs(u,d,Z,re,f)||u.isAfter(re,Z),se=(o[0]||!Z||!c(Z,{activeIndex:0}))&&(o[1]||!re||!c(re,{from:Z,activeIndex:1})),me=G||he&&ge&&se;if(me){n(j);var ye=M(j,e),we=ze(ye,1),Ee=we[0];h&&!Ee&&h(G&&j.every(function(Me){return!Me})?null:j,C(j))}return me}),z=Xr(function(q,G){var j=Vx(I(),q,r()[q]);B(j),G&&$()}),V=!s&&!l;return T$(!V,function(){V&&($(),i(e),D())},2),[z,$]}function Uie(t,e,n,r,i){return e!=="date"&&e!=="time"?!1:n!==void 0?n:r!==void 0?r:!i&&(t==="date"||t==="time")}function pRe(t,e,n,r,i,o){var a=t;function s(d,f,h){var p=o[d](a),_=h.find(function(C){return C.value===p});if(!_||_.disabled){var x=h.filter(function(C){return!C.disabled}),y=Xt(x).reverse(),w=y.find(function(C){return C.value<=p})||x[0];w&&(p=w.value,a=o[f](a,p))}return p}var l=s("getHour","setHour",e()),c=s("getMinute","setMinute",n(l)),u=s("getSecond","setSecond",r(l,c));return s("getMillisecond","setMillisecond",i(l,c,u)),a}function sC(){return[]}function lC(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:2,a=[],s=n>=1?n|0:1,l=t;l<=e;l+=s){var c=i.includes(l);(!c||!r)&&a.push({label:_$(l,o),value:l,disabled:c})}return a}function E$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e||{},i=r.use12Hours,o=r.hourStep,a=o===void 0?1:o,s=r.minuteStep,l=s===void 0?1:s,c=r.secondStep,u=c===void 0?1:c,d=r.millisecondStep,f=d===void 0?100:d,h=r.hideDisabledOptions,p=r.disabledTime,_=r.disabledHours,x=r.disabledMinutes,y=r.disabledSeconds,w=S.useMemo(function(){return n||t.getNow()},[n,t]),C=S.useCallback(function(Y){var ee=(p==null?void 0:p(Y))||{};return[ee.disabledHours||_||sC,ee.disabledMinutes||x||sC,ee.disabledSeconds||y||sC,ee.disabledMilliseconds||sC]},[p,_,x,y]),M=S.useMemo(function(){return C(w)},[w,C]),R=ze(M,4),N=R[0],I=R[1],B=R[2],D=R[3],$=S.useCallback(function(Y,ee,Z,re){var ae=lC(0,23,a,h,Y()),ce=i?ae.map(function(me){return Ie(Ie({},me),{},{label:_$(me.value%12||12,2)})}):ae,he=function(ye){return lC(0,59,l,h,ee(ye))},ge=function(ye,we){return lC(0,59,u,h,Z(ye,we))},se=function(ye,we,Ee){return lC(0,999,f,h,re(ye,we,Ee),3)};return[ce,he,ge,se]},[h,a,i,f,l,u]),z=S.useMemo(function(){return $(N,I,B,D)},[$,N,I,B,D]),V=ze(z,4),q=V[0],G=V[1],j=V[2],H=V[3],X=function(ee,Z){var re=function(){return q},ae=G,ce=j,he=H;if(Z){var ge=C(Z),se=ze(ge,4),me=se[0],ye=se[1],we=se[2],Ee=se[3],Me=$(me,ye,we,Ee),Oe=ze(Me,4),Ue=Oe[0],Se=Oe[1],_e=Oe[2],ve=Oe[3];re=function(){return Ue},ae=Se,ce=_e,he=ve}var Ge=pRe(ee,re,ae,ce,he,t);return Ge};return[X,q,G,j,H]}function mRe(t){var e=t.mode,n=t.internalMode,r=t.renderExtraFooter,i=t.showNow,o=t.showTime,a=t.onSubmit,s=t.onNow,l=t.invalid,c=t.needConfirm,u=t.generateConfig,d=t.disabledDate,f=S.useContext(fd),h=f.prefixCls,p=f.locale,_=f.button,x=_===void 0?"button":_,y=u.getNow(),w=E$(u,o,y),C=ze(w,1),M=C[0],R=r==null?void 0:r(e),N=d(y,{type:e}),I=function(){if(!N){var G=M(y);s(G)}},B="".concat(h,"-now"),D="".concat(B,"-btn"),$=i&&S.createElement("li",{className:B},S.createElement("a",{className:je(D,N&&"".concat(D,"-disabled")),"aria-disabled":N,onClick:I},n==="date"?p.today:p.now)),z=c&&S.createElement("li",{className:"".concat(h,"-ok")},S.createElement(x,{disabled:l,onClick:a},p.ok)),V=($||z)&&S.createElement("ul",{className:"".concat(h,"-ranges")},$,z);return!R&&!V?null:S.createElement("div",{className:"".concat(h,"-footer")},R&&S.createElement("div",{className:"".concat(h,"-footer-extra")},R),V)}function zie(t,e,n){function r(i,o){var a=i.findIndex(function(l){return Cs(t,e,l,o,n)});if(a===-1)return[].concat(Xt(i),[o]);var s=Xt(i);return s.splice(a,1),s}return r}var Mg=S.createContext(null);function hR(){return S.useContext(Mg)}function m1(t,e){var n=t.prefixCls,r=t.generateConfig,i=t.locale,o=t.disabledDate,a=t.minDate,s=t.maxDate,l=t.cellRender,c=t.hoverValue,u=t.hoverRangeValue,d=t.onHover,f=t.values,h=t.pickerValue,p=t.onSelect,_=t.prevIcon,x=t.nextIcon,y=t.superPrevIcon,w=t.superNextIcon,C=r.getNow(),M={now:C,values:f,pickerValue:h,prefixCls:n,disabledDate:o,minDate:a,maxDate:s,cellRender:l,hoverValue:c,hoverRangeValue:u,onHover:d,locale:i,generateConfig:r,onSelect:p,panelType:e,prevIcon:_,nextIcon:x,superPrevIcon:y,superNextIcon:w};return[M,C]}var zp=S.createContext({});function cS(t){for(var e=t.rowNum,n=t.colNum,r=t.baseDate,i=t.getCellDate,o=t.prefixColumn,a=t.rowClassName,s=t.titleFormat,l=t.getCellText,c=t.getCellClassName,u=t.headerCells,d=t.cellSelection,f=d===void 0?!0:d,h=t.disabledDate,p=hR(),_=p.prefixCls,x=p.panelType,y=p.now,w=p.disabledDate,C=p.cellRender,M=p.onHover,R=p.hoverValue,N=p.hoverRangeValue,I=p.generateConfig,B=p.values,D=p.locale,$=p.onSelect,z=h||w,V="".concat(_,"-cell"),q=S.useContext(zp),G=q.onCellDblClick,j=function(ce){return B.some(function(he){return he&&Cs(I,D,ce,he,x)})},H=[],X=0;X<e;X+=1){for(var Y=[],ee=void 0,Z=function(){var ce=X*n+re,he=i(r,ce),ge=z==null?void 0:z(he,{type:x});re===0&&(ee=he,o&&Y.push(o(ee)));var se=!1,me=!1,ye=!1;if(f&&N){var we=ze(N,2),Ee=we[0],Me=we[1];se=fR(I,Ee,Me,he),me=Cs(I,D,he,Ee,x),ye=Cs(I,D,he,Me,x)}var Oe=s?Aa(he,{locale:D,format:s,generateConfig:I}):void 0,Ue=S.createElement("div",{className:"".concat(V,"-inner")},l(he));Y.push(S.createElement("td",{key:re,title:Oe,className:je(V,Ie(Re(Re(Re(Re(Re(Re({},"".concat(V,"-disabled"),ge),"".concat(V,"-hover"),(R||[]).some(function(Se){return Cs(I,D,he,Se,x)})),"".concat(V,"-in-range"),se&&!me&&!ye),"".concat(V,"-range-start"),me),"".concat(V,"-range-end"),ye),"".concat(_,"-cell-selected"),!N&&x!=="week"&&j(he)),c(he))),onClick:function(){ge||$(he)},onDoubleClick:function(){!ge&&G&&G()},onMouseEnter:function(){ge||M==null||M(he)},onMouseLeave:function(){ge||M==null||M(null)}},C?C(he,{prefixCls:_,originNode:Ue,today:y,type:x,locale:D}):Ue))},re=0;re<n;re+=1)Z();H.push(S.createElement("tr",{key:X,className:a==null?void 0:a(ee)},Y))}return S.createElement("div",{className:"".concat(_,"-body")},S.createElement("table",{className:"".concat(_,"-content")},u&&S.createElement("thead",null,S.createElement("tr",null,u)),S.createElement("tbody",null,H)))}var cC={visibility:"hidden"};function g1(t){var e=t.offset,n=t.superOffset,r=t.onChange,i=t.getStart,o=t.getEnd,a=t.children,s=hR(),l=s.prefixCls,c=s.prevIcon,u=c===void 0?"":c,d=s.nextIcon,f=d===void 0?"":d,h=s.superPrevIcon,p=h===void 0?"":h,_=s.superNextIcon,x=_===void 0?"":_,y=s.minDate,w=s.maxDate,C=s.generateConfig,M=s.locale,R=s.pickerValue,N=s.panelType,I="".concat(l,"-header"),B=S.useContext(zp),D=B.hidePrev,$=B.hideNext,z=B.hideHeader,V=S.useMemo(function(){if(!y||!e||!o)return!1;var ae=o(e(-1,R));return!oC(C,M,ae,y,N)},[y,e,R,o,C,M,N]),q=S.useMemo(function(){if(!y||!n||!o)return!1;var ae=o(n(-1,R));return!oC(C,M,ae,y,N)},[y,n,R,o,C,M,N]),G=S.useMemo(function(){if(!w||!e||!i)return!1;var ae=i(e(1,R));return!oC(C,M,w,ae,N)},[w,e,R,i,C,M,N]),j=S.useMemo(function(){if(!w||!n||!i)return!1;var ae=i(n(1,R));return!oC(C,M,w,ae,N)},[w,n,R,i,C,M,N]),H=function(ce){e&&r(e(ce,R))},X=function(ce){n&&r(n(ce,R))};if(z)return null;var Y="".concat(I,"-prev-btn"),ee="".concat(I,"-next-btn"),Z="".concat(I,"-super-prev-btn"),re="".concat(I,"-super-next-btn");return S.createElement("div",{className:I},n&&S.createElement("button",{type:"button","aria-label":M.previousYear,onClick:function(){return X(-1)},tabIndex:-1,className:je(Z,q&&"".concat(Z,"-disabled")),disabled:q,style:D?cC:{}},p),e&&S.createElement("button",{type:"button","aria-label":M.previousMonth,onClick:function(){return H(-1)},tabIndex:-1,className:je(Y,V&&"".concat(Y,"-disabled")),disabled:V,style:D?cC:{}},u),S.createElement("div",{className:"".concat(I,"-view")},a),e&&S.createElement("button",{type:"button","aria-label":M.nextMonth,onClick:function(){return H(1)},tabIndex:-1,className:je(ee,G&&"".concat(ee,"-disabled")),disabled:G,style:$?cC:{}},f),n&&S.createElement("button",{type:"button","aria-label":M.nextYear,onClick:function(){return X(1)},tabIndex:-1,className:je(re,j&&"".concat(re,"-disabled")),disabled:j,style:$?cC:{}},x))}function pR(t){var e=t.prefixCls,n=t.panelName,r=n===void 0?"date":n,i=t.locale,o=t.generateConfig,a=t.pickerValue,s=t.onPickerValueChange,l=t.onModeChange,c=t.mode,u=c===void 0?"date":c,d=t.disabledDate,f=t.onSelect,h=t.onHover,p=t.showWeek,_="".concat(e,"-").concat(r,"-panel"),x="".concat(e,"-cell"),y=u==="week",w=m1(t,u),C=ze(w,2),M=C[0],R=C[1],N=o.locale.getWeekFirstDay(i.locale),I=o.setDate(a,1),B=oRe(i.locale,o,I),D=o.getMonth(a),$=p===void 0?y:p,z=$?function(ae){var ce=d==null?void 0:d(ae,{type:"week"});return S.createElement("td",{key:"week",className:je(x,"".concat(x,"-week"),Re({},"".concat(x,"-disabled"),ce)),onClick:function(){ce||f(ae)},onMouseEnter:function(){ce||h==null||h(ae)},onMouseLeave:function(){ce||h==null||h(null)}},S.createElement("div",{className:"".concat(x,"-inner")},o.locale.getWeek(i.locale,ae)))}:null,V=[],q=i.shortWeekDays||(o.locale.getShortWeekDays?o.locale.getShortWeekDays(i.locale):[]);z&&V.push(S.createElement("th",{key:"empty"},S.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},i.week)));for(var G=0;G<EI;G+=1)V.push(S.createElement("th",{key:G},q[(G+N)%EI]));var j=function(ce,he){return o.addDate(ce,he)},H=function(ce){return Aa(ce,{locale:i,format:i.cellDateFormat,generateConfig:o})},X=function(ce){var he=Re(Re({},"".concat(e,"-cell-in-view"),w$(o,ce,a)),"".concat(e,"-cell-today"),C$(o,ce,R));return he},Y=i.shortMonths||(o.locale.getShortMonths?o.locale.getShortMonths(i.locale):[]),ee=S.createElement("button",{type:"button","aria-label":i.yearSelect,key:"year",onClick:function(){l("year",a)},tabIndex:-1,className:"".concat(e,"-year-btn")},Aa(a,{locale:i,format:i.yearFormat,generateConfig:o})),Z=S.createElement("button",{type:"button","aria-label":i.monthSelect,key:"month",onClick:function(){l("month",a)},tabIndex:-1,className:"".concat(e,"-month-btn")},i.monthFormat?Aa(a,{locale:i,format:i.monthFormat,generateConfig:o}):Y[D]),re=i.monthBeforeYear?[Z,ee]:[ee,Z];return S.createElement(Mg.Provider,{value:M},S.createElement("div",{className:je(_,p&&"".concat(_,"-show-week"))},S.createElement(g1,{offset:function(ce){return o.addMonth(a,ce)},superOffset:function(ce){return o.addYear(a,ce)},onChange:s,getStart:function(ce){return o.setDate(ce,1)},getEnd:function(ce){var he=o.setDate(ce,1);return he=o.addMonth(he,1),o.addDate(he,-1)}},re),S.createElement(cS,ft({titleFormat:i.fieldDateFormat},t,{colNum:EI,rowNum:6,baseDate:B,headerCells:V,getCellDate:j,getCellText:H,getCellClassName:X,prefixColumn:z,cellSelection:!y}))))}var gRe=1/3;function ARe(t,e){var n=S.useRef(!1),r=S.useRef(null),i=S.useRef(null),o=function(){return n.current},a=function(){qr.cancel(r.current),n.current=!1},s=S.useRef(),l=function(){var d=t.current;if(i.current=null,s.current=0,d){var f=d.querySelector('[data-value="'.concat(e,'"]')),h=d.querySelector("li"),p=function _(){a(),n.current=!0,s.current+=1;var x=d.scrollTop,y=h.offsetTop,w=f.offsetTop,C=w-y;if(w===0&&f!==h||!tS(d)){s.current<=5&&(r.current=qr(_));return}var M=x+(C-x)*gRe,R=Math.abs(C-M);if(i.current!==null&&i.current<R){a();return}if(i.current=R,R<=1){d.scrollTop=C,a();return}d.scrollTop=M,r.current=qr(_)};f&&h&&p()}},c=Xr(l);return[c,a,o]}var vRe=300;function yRe(t){return t.map(function(e){var n=e.value,r=e.label,i=e.disabled;return[n,r,i].join(",")}).join(";")}function _b(t){var e=t.units,n=t.value,r=t.optionalValue,i=t.type,o=t.onChange,a=t.onHover,s=t.onDblClick,l=t.changeOnScroll,c=hR(),u=c.prefixCls,d=c.cellRender,f=c.now,h=c.locale,p="".concat(u,"-time-panel"),_="".concat(u,"-time-panel-cell"),x=S.useRef(null),y=S.useRef(),w=function(){clearTimeout(y.current)},C=ARe(x,n??r),M=ze(C,3),R=M[0],N=M[1],I=M[2];zr(function(){return R(),w(),function(){N(),w()}},[n,r,yRe(e)]);var B=function(z){w();var V=z.target;!I()&&l&&(y.current=setTimeout(function(){var q=x.current,G=q.querySelector("li").offsetTop,j=Array.from(q.querySelectorAll("li")),H=j.map(function(re){return re.offsetTop-G}),X=H.map(function(re,ae){return e[ae].disabled?Number.MAX_SAFE_INTEGER:Math.abs(re-V.scrollTop)}),Y=Math.min.apply(Math,Xt(X)),ee=X.findIndex(function(re){return re===Y}),Z=e[ee];Z&&!Z.disabled&&o(Z.value)},vRe))},D="".concat(p,"-column");return S.createElement("ul",{className:D,ref:x,"data-type":i,onScroll:B},e.map(function($){var z=$.label,V=$.value,q=$.disabled,G=S.createElement("div",{className:"".concat(_,"-inner")},z);return S.createElement("li",{key:V,className:je(_,Re(Re({},"".concat(_,"-selected"),n===V),"".concat(_,"-disabled"),q)),onClick:function(){q||o(V)},onDoubleClick:function(){!q&&s&&s()},onMouseEnter:function(){a(V)},onMouseLeave:function(){a(null)},"data-value":V},d?d(V,{prefixCls:u,originNode:G,today:f,type:"time",subType:i,locale:h}):G)}))}function Yh(t){return t<12}function bRe(t){var e=t.showHour,n=t.showMinute,r=t.showSecond,i=t.showMillisecond,o=t.use12Hours,a=t.changeOnScroll,s=hR(),l=s.prefixCls,c=s.values,u=s.generateConfig,d=s.locale,f=s.onSelect,h=s.onHover,p=h===void 0?function(){}:h,_=s.pickerValue,x=(c==null?void 0:c[0])||null,y=S.useContext(zp),w=y.onCellDblClick,C=E$(u,t,x),M=ze(C,5),R=M[0],N=M[1],I=M[2],B=M[3],D=M[4],$=function(Rt){var $e=x&&u[Rt](x),$t=_&&u[Rt](_);return[$e,$t]},z=$("getHour"),V=ze(z,2),q=V[0],G=V[1],j=$("getMinute"),H=ze(j,2),X=H[0],Y=H[1],ee=$("getSecond"),Z=ze(ee,2),re=Z[0],ae=Z[1],ce=$("getMillisecond"),he=ze(ce,2),ge=he[0],se=he[1],me=q===null?null:Yh(q)?"am":"pm",ye=S.useMemo(function(){return o?Yh(q)?N.filter(function(Ke){return Yh(Ke.value)}):N.filter(function(Ke){return!Yh(Ke.value)}):N},[q,N,o]),we=function(Rt,$e){var $t,Lt=Rt.filter(function(tn){return!tn.disabled});return $e??(Lt==null||($t=Lt[0])===null||$t===void 0?void 0:$t.value)},Ee=we(N,q),Me=S.useMemo(function(){return I(Ee)},[I,Ee]),Oe=we(Me,X),Ue=S.useMemo(function(){return B(Ee,Oe)},[B,Ee,Oe]),Se=we(Ue,re),_e=S.useMemo(function(){return D(Ee,Oe,Se)},[D,Ee,Oe,Se]),ve=we(_e,ge),Ge=S.useMemo(function(){if(!o)return[];var Ke=u.getNow(),Rt=u.setHour(Ke,6),$e=u.setHour(Ke,18),$t=function(tn,Qe){var Pt=d.cellMeridiemFormat;return Pt?Aa(tn,{generateConfig:u,locale:d,format:Pt}):Qe};return[{label:$t(Rt,"AM"),value:"am",disabled:N.every(function(Lt){return Lt.disabled||!Yh(Lt.value)})},{label:$t($e,"PM"),value:"pm",disabled:N.every(function(Lt){return Lt.disabled||Yh(Lt.value)})}]},[N,o,u,d]),ue=function(Rt){var $e=R(Rt);f($e)},at=S.useMemo(function(){var Ke=x||_||u.getNow(),Rt=function($t){return $t!=null};return Rt(q)?(Ke=u.setHour(Ke,q),Ke=u.setMinute(Ke,X),Ke=u.setSecond(Ke,re),Ke=u.setMillisecond(Ke,ge)):Rt(G)?(Ke=u.setHour(Ke,G),Ke=u.setMinute(Ke,Y),Ke=u.setSecond(Ke,ae),Ke=u.setMillisecond(Ke,se)):Rt(Ee)&&(Ke=u.setHour(Ke,Ee),Ke=u.setMinute(Ke,Oe),Ke=u.setSecond(Ke,Se),Ke=u.setMillisecond(Ke,ve)),Ke},[x,_,q,X,re,ge,Ee,Oe,Se,ve,G,Y,ae,se,u]),nt=function(Rt,$e){return Rt===null?null:u[$e](at,Rt)},ct=function(Rt){return nt(Rt,"setHour")},Ze=function(Rt){return nt(Rt,"setMinute")},pe=function(Rt){return nt(Rt,"setSecond")},te=function(Rt){return nt(Rt,"setMillisecond")},Ne=function(Rt){return Rt===null?null:Rt==="am"&&!Yh(q)?u.setHour(at,q-12):Rt==="pm"&&Yh(q)?u.setHour(at,q+12):at},qe=function(Rt){ue(ct(Rt))},gt=function(Rt){ue(Ze(Rt))},tt=function(Rt){ue(pe(Rt))},wt=function(Rt){ue(te(Rt))},_t=function(Rt){ue(Ne(Rt))},Et=function(Rt){p(ct(Rt))},Tt=function(Rt){p(Ze(Rt))},ht=function(Rt){p(pe(Rt))},Xe=function(Rt){p(te(Rt))},pt=function(Rt){p(Ne(Rt))},ut={onDblClick:w,changeOnScroll:a};return S.createElement("div",{className:"".concat(l,"-content")},e&&S.createElement(_b,ft({units:ye,value:q,optionalValue:G,type:"hour",onChange:qe,onHover:Et},ut)),n&&S.createElement(_b,ft({units:Me,value:X,optionalValue:Y,type:"minute",onChange:gt,onHover:Tt},ut)),r&&S.createElement(_b,ft({units:Ue,value:re,optionalValue:ae,type:"second",onChange:tt,onHover:ht},ut)),i&&S.createElement(_b,ft({units:_e,value:ge,optionalValue:se,type:"millisecond",onChange:wt,onHover:Xe},ut)),o&&S.createElement(_b,ft({units:Ge,value:me,type:"meridiem",onChange:_t,onHover:pt},ut)))}function Vie(t){var e=t.prefixCls,n=t.value,r=t.locale,i=t.generateConfig,o=t.showTime,a=o||{},s=a.format,l="".concat(e,"-time-panel"),c=m1(t,"time"),u=ze(c,1),d=u[0];return S.createElement(Mg.Provider,{value:d},S.createElement("div",{className:je(l)},S.createElement(g1,null,n?Aa(n,{locale:r,format:s,generateConfig:i}):""),S.createElement(bRe,o)))}function xRe(t){var e=t.prefixCls,n=t.generateConfig,r=t.showTime,i=t.onSelect,o=t.value,a=t.pickerValue,s=t.onHover,l="".concat(e,"-datetime-panel"),c=E$(n,r),u=ze(c,1),d=u[0],f=function(x){return o?LM(n,x,o):LM(n,x,a)},h=function(x){s==null||s(x&&f(x))},p=function(x){var y=f(x);i(d(y,y))};return S.createElement("div",{className:l},S.createElement(pR,ft({},t,{onSelect:p,onHover:h})),S.createElement(Vie,t))}function _Re(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,i=t.pickerValue,o=t.disabledDate,a=t.onPickerValueChange,s="".concat(e,"-decade-panel"),l=m1(t,"decade"),c=ze(l,1),u=c[0],d=function(N){var I=Math.floor(r.getYear(N)/100)*100;return r.setYear(N,I)},f=function(N){var I=d(N);return r.addYear(I,99)},h=d(i),p=f(i),_=r.addYear(h,-10),x=function(N,I){return r.addYear(N,I*10)},y=function(N){var I=n.cellYearFormat,B=Aa(N,{locale:n,format:I,generateConfig:r}),D=Aa(r.addYear(N,9),{locale:n,format:I,generateConfig:r});return"".concat(B,"-").concat(D)},w=function(N){return Re({},"".concat(e,"-cell-in-view"),f8(r,N,h)||f8(r,N,p)||fR(r,h,p,N))},C=o?function(R,N){var I=r.setDate(R,1),B=r.setMonth(I,0),D=r.setYear(B,Math.floor(r.getYear(B)/10)*10),$=r.addYear(D,10),z=r.addDate($,-1);return o(D,N)&&o(z,N)}:null,M="".concat(Aa(h,{locale:n,format:n.yearFormat,generateConfig:r}),"-").concat(Aa(p,{locale:n,format:n.yearFormat,generateConfig:r}));return S.createElement(Mg.Provider,{value:u},S.createElement("div",{className:s},S.createElement(g1,{superOffset:function(N){return r.addYear(i,N*100)},onChange:a,getStart:d,getEnd:f},M),S.createElement(cS,ft({},t,{disabledDate:C,colNum:3,rowNum:4,baseDate:_,getCellDate:x,getCellText:y,getCellClassName:w}))))}function SRe(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,i=t.pickerValue,o=t.disabledDate,a=t.onPickerValueChange,s=t.onModeChange,l="".concat(e,"-month-panel"),c=m1(t,"month"),u=ze(c,1),d=u[0],f=r.setMonth(i,0),h=n.shortMonths||(r.locale.getShortMonths?r.locale.getShortMonths(n.locale):[]),p=function(M,R){return r.addMonth(M,R)},_=function(M){var R=r.getMonth(M);return n.monthFormat?Aa(M,{locale:n,format:n.monthFormat,generateConfig:r}):h[R]},x=function(){return Re({},"".concat(e,"-cell-in-view"),!0)},y=o?function(C,M){var R=r.setDate(C,1),N=r.setMonth(R,r.getMonth(R)+1),I=r.addDate(N,-1);return o(R,M)&&o(I,M)}:null,w=S.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){s("year")},tabIndex:-1,className:"".concat(e,"-year-btn")},Aa(i,{locale:n,format:n.yearFormat,generateConfig:r}));return S.createElement(Mg.Provider,{value:d},S.createElement("div",{className:l},S.createElement(g1,{superOffset:function(M){return r.addYear(i,M)},onChange:a,getStart:function(M){return r.setMonth(M,0)},getEnd:function(M){return r.setMonth(M,11)}},w),S.createElement(cS,ft({},t,{disabledDate:y,titleFormat:n.fieldMonthFormat,colNum:3,rowNum:4,baseDate:f,getCellDate:p,getCellText:_,getCellClassName:x}))))}function wRe(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,i=t.pickerValue,o=t.onPickerValueChange,a=t.onModeChange,s="".concat(e,"-quarter-panel"),l=m1(t,"quarter"),c=ze(l,1),u=c[0],d=r.setMonth(i,0),f=function(y,w){return r.addMonth(y,w*3)},h=function(y){return Aa(y,{locale:n,format:n.cellQuarterFormat,generateConfig:r})},p=function(){return Re({},"".concat(e,"-cell-in-view"),!0)},_=S.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){a("year")},tabIndex:-1,className:"".concat(e,"-year-btn")},Aa(i,{locale:n,format:n.yearFormat,generateConfig:r}));return S.createElement(Mg.Provider,{value:u},S.createElement("div",{className:s},S.createElement(g1,{superOffset:function(y){return r.addYear(i,y)},onChange:o,getStart:function(y){return r.setMonth(y,0)},getEnd:function(y){return r.setMonth(y,11)}},_),S.createElement(cS,ft({},t,{titleFormat:n.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:d,getCellDate:f,getCellText:h,getCellClassName:p}))))}function CRe(t){var e=t.prefixCls,n=t.generateConfig,r=t.locale,i=t.value,o=t.hoverValue,a=t.hoverRangeValue,s=r.locale,l="".concat(e,"-week-panel-row"),c=function(d){var f={};if(a){var h=ze(a,2),p=h[0],_=h[1],x=hx(n,s,p,d),y=hx(n,s,_,d);f["".concat(l,"-range-start")]=x,f["".concat(l,"-range-end")]=y,f["".concat(l,"-range-hover")]=!x&&!y&&fR(n,p,_,d)}return o&&(f["".concat(l,"-hover")]=o.some(function(w){return hx(n,s,d,w)})),je(l,Re({},"".concat(l,"-selected"),!a&&hx(n,s,i,d)),f)};return S.createElement(pR,ft({},t,{mode:"week",panelName:"week",rowClassName:c}))}function TRe(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,i=t.pickerValue,o=t.disabledDate,a=t.onPickerValueChange,s=t.onModeChange,l="".concat(e,"-year-panel"),c=m1(t,"year"),u=ze(c,1),d=u[0],f=function(I){var B=Math.floor(r.getYear(I)/10)*10;return r.setYear(I,B)},h=function(I){var B=f(I);return r.addYear(B,9)},p=f(i),_=h(i),x=r.addYear(p,-1),y=function(I,B){return r.addYear(I,B)},w=function(I){return Aa(I,{locale:n,format:n.cellYearFormat,generateConfig:r})},C=function(I){return Re({},"".concat(e,"-cell-in-view"),ig(r,I,p)||ig(r,I,_)||fR(r,p,_,I))},M=o?function(N,I){var B=r.setMonth(N,0),D=r.setDate(B,1),$=r.addYear(D,1),z=r.addDate($,-1);return o(D,I)&&o(z,I)}:null,R=S.createElement("button",{type:"button",key:"decade","aria-label":n.decadeSelect,onClick:function(){s("decade")},tabIndex:-1,className:"".concat(e,"-decade-btn")},Aa(p,{locale:n,format:n.yearFormat,generateConfig:r}),"-",Aa(_,{locale:n,format:n.yearFormat,generateConfig:r}));return S.createElement(Mg.Provider,{value:d},S.createElement("div",{className:l},S.createElement(g1,{superOffset:function(I){return r.addYear(i,I*10)},onChange:a,getStart:f,getEnd:h},R),S.createElement(cS,ft({},t,{disabledDate:M,titleFormat:n.fieldYearFormat,colNum:3,rowNum:4,baseDate:x,getCellDate:y,getCellText:w,getCellClassName:C}))))}var ERe={date:pR,datetime:xRe,week:CRe,month:SRe,quarter:wRe,year:TRe,decade:_Re,time:Vie};function MRe(t,e){var n,r=t.locale,i=t.generateConfig,o=t.direction,a=t.prefixCls,s=t.tabIndex,l=s===void 0?0:s,c=t.multiple,u=t.defaultValue,d=t.value,f=t.onChange,h=t.onSelect,p=t.defaultPickerValue,_=t.pickerValue,x=t.onPickerValueChange,y=t.mode,w=t.onPanelChange,C=t.picker,M=C===void 0?"date":C,R=t.showTime,N=t.hoverValue,I=t.hoverRangeValue,B=t.cellRender,D=t.dateRender,$=t.monthCellRender,z=t.components,V=z===void 0?{}:z,q=t.hideHeader,G=((n=S.useContext(fd))===null||n===void 0?void 0:n.prefixCls)||a||"rc-picker",j=S.useRef();S.useImperativeHandle(e,function(){return{nativeElement:j.current}});var H=Cie(t),X=ze(H,4),Y=X[0],ee=X[1],Z=X[2],re=X[3],ae=_ie(r,ee),ce=M==="date"&&R?"datetime":M,he=S.useMemo(function(){return Tie(ce,Z,re,Y,ae)},[ce,Z,re,Y,ae]),ge=i.getNow(),se=Ui(M,{value:y,postState:function(pt){return pt||"date"}}),me=ze(se,2),ye=me[0],we=me[1],Ee=ye==="date"&&he?"datetime":ye,Me=zie(i,r,ce),Oe=Ui(u,{value:d}),Ue=ze(Oe,2),Se=Ue[0],_e=Ue[1],ve=S.useMemo(function(){var Xe=Eg(Se).filter(function(pt){return pt});return c?Xe:Xe.slice(0,1)},[Se,c]),Ge=Xr(function(Xe){_e(Xe),f&&(Xe===null||ve.length!==Xe.length||ve.some(function(pt,ut){return!Cs(i,r,pt,Xe[ut],ce)}))&&(f==null||f(c?Xe:Xe[0]))}),ue=Xr(function(Xe){if(h==null||h(Xe),ye===M){var pt=c?Me(ve,Xe):[Xe];Ge(pt)}}),at=Ui(p||ve[0]||ge,{value:_}),nt=ze(at,2),ct=nt[0],Ze=nt[1];S.useEffect(function(){ve[0]&&!_&&Ze(ve[0])},[ve[0]]);var pe=function(pt,ut){w==null||w(pt||_,ut||ye)},te=function(pt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Ze(pt),x==null||x(pt),ut&&pe(pt)},Ne=function(pt,ut){we(pt),ut&&te(ut),pe(ut,pt)},qe=function(pt){if(ue(pt),te(pt),ye!==M){var ut=["decade","year"],Ke=[].concat(ut,["month"]),Rt={quarter:[].concat(ut,["quarter"]),week:[].concat(Xt(Ke),["week"]),date:[].concat(Xt(Ke),["date"])},$e=Rt[M]||Ke,$t=$e.indexOf(ye),Lt=$e[$t+1];Lt&&Ne(Lt,pt)}},gt=S.useMemo(function(){var Xe,pt;if(Array.isArray(I)){var ut=ze(I,2);Xe=ut[0],pt=ut[1]}else Xe=I;return!Xe&&!pt?null:(Xe=Xe||pt,pt=pt||Xe,i.isAfter(Xe,pt)?[pt,Xe]:[Xe,pt])},[I,i]),tt=S$(B,D,$),wt=V[Ee]||ERe[Ee]||pR,_t=S.useContext(zp),Et=S.useMemo(function(){return Ie(Ie({},_t),{},{hideHeader:q})},[_t,q]),Tt="".concat(G,"-panel"),ht=dR(t,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return S.createElement(zp.Provider,{value:Et},S.createElement("div",{ref:j,tabIndex:l,className:je(Tt,Re({},"".concat(Tt,"-rtl"),o==="rtl"))},S.createElement(wt,ft({},ht,{showTime:he,prefixCls:G,locale:ae,generateConfig:i,onModeChange:Ne,pickerValue:ct,onPickerValueChange:function(pt){te(pt,!0)},value:ve[0],onSelect:qe,values:ve,cellRender:tt,hoverRangeValue:gt,hoverValue:N}))))}var PI=S.memo(S.forwardRef(MRe));function PRe(t){var e=t.picker,n=t.multiplePanel,r=t.pickerValue,i=t.onPickerValueChange,o=t.needConfirm,a=t.onSubmit,s=t.range,l=t.hoverValue,c=S.useContext(fd),u=c.prefixCls,d=c.generateConfig,f=S.useCallback(function(w,C){return px(d,e,w,C)},[d,e]),h=S.useMemo(function(){return f(r,1)},[r,f]),p=function(C){i(f(C,-1))},_={onCellDblClick:function(){o&&a()}},x=e==="time",y=Ie(Ie({},t),{},{hoverValue:null,hoverRangeValue:null,hideHeader:x});return s?y.hoverRangeValue=l:y.hoverValue=l,n?S.createElement("div",{className:"".concat(u,"-panels")},S.createElement(zp.Provider,{value:Ie(Ie({},_),{},{hideNext:!0})},S.createElement(PI,y)),S.createElement(zp.Provider,{value:Ie(Ie({},_),{},{hidePrev:!0})},S.createElement(PI,ft({},y,{pickerValue:h,onPickerValueChange:p})))):S.createElement(zp.Provider,{value:Ie({},_)},S.createElement(PI,y))}function DH(t){return typeof t=="function"?t():t}function RRe(t){var e=t.prefixCls,n=t.presets,r=t.onClick,i=t.onHover;return n.length?S.createElement("div",{className:"".concat(e,"-presets")},S.createElement("ul",null,n.map(function(o,a){var s=o.label,l=o.value;return S.createElement("li",{key:a,onClick:function(){r(DH(l))},onMouseEnter:function(){i(DH(l))},onMouseLeave:function(){i(null)}},s)}))):null}function Gie(t){var e=t.panelRender,n=t.internalMode,r=t.picker,i=t.showNow,o=t.range,a=t.multiple,s=t.activeInfo,l=s===void 0?[0,0,0]:s,c=t.presets,u=t.onPresetHover,d=t.onPresetSubmit,f=t.onFocus,h=t.onBlur,p=t.onPanelMouseDown,_=t.direction,x=t.value,y=t.onSelect,w=t.isInvalid,C=t.defaultOpenValue,M=t.onOk,R=t.onSubmit,N=S.useContext(fd),I=N.prefixCls,B="".concat(I,"-panel"),D=_==="rtl",$=S.useRef(null),z=S.useRef(null),V=S.useState(0),q=ze(V,2),G=q[0],j=q[1],H=S.useState(0),X=ze(H,2),Y=X[0],ee=X[1],Z=S.useState(0),re=ze(Z,2),ae=re[0],ce=re[1],he=function(qe){qe.width&&j(qe.width)},ge=ze(l,3),se=ge[0],me=ge[1],ye=ge[2],we=S.useState(0),Ee=ze(we,2),Me=Ee[0],Oe=Ee[1];S.useEffect(function(){Oe(10)},[se]),S.useEffect(function(){if(o&&z.current){var Ne,qe=((Ne=$.current)===null||Ne===void 0?void 0:Ne.offsetWidth)||0,gt=z.current.getBoundingClientRect();if(!gt.height||gt.right<0){Oe(function(Et){return Math.max(0,Et-1)});return}var tt=(D?me-qe:se)-gt.left;if(ce(tt),G&&G<ye){var wt=D?gt.right-(me-qe+G):se+qe-gt.left-G,_t=Math.max(0,wt);ee(_t)}else ee(0)}},[Me,D,G,se,me,ye,o]);function Ue(Ne){return Ne.filter(function(qe){return qe})}var Se=S.useMemo(function(){return Ue(Eg(x))},[x]),_e=r==="time"&&!Se.length,ve=S.useMemo(function(){return _e?Ue([C]):Se},[_e,Se,C]),Ge=_e?C:Se,ue=S.useMemo(function(){return ve.length?ve.some(function(Ne){return w(Ne)}):!0},[ve,w]),at=function(){_e&&y(C),M(),R()},nt=S.createElement("div",{className:"".concat(I,"-panel-layout")},S.createElement(RRe,{prefixCls:I,presets:c,onClick:d,onHover:u}),S.createElement("div",null,S.createElement(PRe,ft({},t,{value:Ge})),S.createElement(mRe,ft({},t,{showNow:a?!1:i,invalid:ue,onSubmit:at}))));e&&(nt=e(nt));var ct="".concat(B,"-container"),Ze="marginLeft",pe="marginRight",te=S.createElement("div",{onMouseDown:p,tabIndex:-1,className:je(ct,"".concat(I,"-").concat(n,"-panel-container")),style:Re(Re({},D?pe:Ze,Y),D?Ze:pe,"auto"),onFocus:f,onBlur:h},nt);return o&&(te=S.createElement("div",{onMouseDown:p,ref:z,className:je("".concat(I,"-range-wrapper"),"".concat(I,"-").concat(r,"-range-wrapper"))},S.createElement("div",{ref:$,className:"".concat(I,"-range-arrow"),style:{left:ae}}),S.createElement(Ll,{onResize:he},te))),te}function Hie(t,e){var n=t.format,r=t.maskFormat,i=t.generateConfig,o=t.locale,a=t.preserveInvalidOnBlur,s=t.inputReadOnly,l=t.required,c=t["aria-required"],u=t.onSubmit,d=t.onFocus,f=t.onBlur,h=t.onInputChange,p=t.onInvalid,_=t.open,x=t.onOpenChange,y=t.onKeyDown,w=t.onChange,C=t.activeHelp,M=t.name,R=t.autoComplete,N=t.id,I=t.value,B=t.invalid,D=t.placeholder,$=t.disabled,z=t.activeIndex,V=t.allHelp,q=t.picker,G=function(ae,ce){var he=i.locale.parse(o.locale,ae,[ce]);return he&&i.isValidate(he)?he:null},j=n[0],H=S.useCallback(function(re){return Aa(re,{locale:o,format:j,generateConfig:i})},[o,i,j]),X=S.useMemo(function(){return I.map(H)},[I,H]),Y=S.useMemo(function(){var re=q==="time"?8:10,ae=typeof j=="function"?j(i.getNow()).length:j.length;return Math.max(re,ae)+2},[j,q,i]),ee=function(ae){for(var ce=0;ce<n.length;ce+=1){var he=n[ce];if(typeof he=="string"){var ge=G(ae,he);if(ge)return ge}}return!1},Z=function(ae){function ce(se){return ae!==void 0?se[ae]:se}var he=gc(t,{aria:!0,data:!0}),ge=Ie(Ie({},he),{},{format:r,validateFormat:function(me){return!!ee(me)},preserveInvalidOnBlur:a,readOnly:s,required:l,"aria-required":c,name:M,autoComplete:R,size:Y,id:ce(N),value:ce(X)||"",invalid:ce(B),placeholder:ce(D),active:z===ae,helped:V||C&&z===ae,disabled:ce($),onFocus:function(me){d(me,ae)},onBlur:function(me){f(me,ae)},onSubmit:u,onChange:function(me){h();var ye=ee(me);if(ye){p(!1,ae),w(ye,ae);return}p(!!me,ae)},onHelp:function(){x(!0,{index:ae})},onKeyDown:function(me){var ye=!1;if(y==null||y(me,function(){ye=!0}),!me.defaultPrevented&&!ye)switch(me.key){case"Escape":x(!1,{index:ae});break;case"Enter":_||x(!0);break}}},e==null?void 0:e({valueTexts:X}));return Object.keys(ge).forEach(function(se){ge[se]===void 0&&delete ge[se]}),ge};return[Z,H]}var NRe=["onMouseEnter","onMouseLeave"];function jie(t){return S.useMemo(function(){return dR(t,NRe)},[t])}var IRe=["icon","type"],ORe=["onClear"];function mR(t){var e=t.icon,n=t.type,r=pr(t,IRe),i=S.useContext(fd),o=i.prefixCls;return e?S.createElement("span",ft({className:"".concat(o,"-").concat(n)},r),e):null}function h8(t){var e=t.onClear,n=pr(t,ORe);return S.createElement(mR,ft({},n,{type:"clear",role:"button",onMouseDown:function(i){i.preventDefault()},onClick:function(i){i.stopPropagation(),e()}}))}var RI=["YYYY","MM","DD","HH","mm","ss","SSS"],LH="",DRe=function(){function t(e){Jo(this,t),Re(this,"format",void 0),Re(this,"maskFormat",void 0),Re(this,"cells",void 0),Re(this,"maskCells",void 0),this.format=e;var n=RI.map(function(s){return"(".concat(s,")")}).join("|"),r=new RegExp(n,"g");this.maskFormat=e.replace(r,function(s){return LH.repeat(s.length)});var i=new RegExp("(".concat(RI.join("|"),")")),o=(e.split(i)||[]).filter(function(s){return s}),a=0;this.cells=o.map(function(s){var l=RI.includes(s),c=a,u=a+s.length;return a=u,{text:s,mask:l,start:c,end:u}}),this.maskCells=this.cells.filter(function(s){return s.mask})}return ea(t,[{key:"getSelection",value:function(n){var r=this.maskCells[n]||{},i=r.start,o=r.end;return[i||0,o||0]}},{key:"match",value:function(n){for(var r=0;r<this.maskFormat.length;r+=1){var i=this.maskFormat[r],o=n[r];if(!o||i!==LH&&i!==o)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(n){for(var r=Number.MAX_SAFE_INTEGER,i=0,o=0;o<this.maskCells.length;o+=1){var a=this.maskCells[o],s=a.start,l=a.end;if(n>=s&&n<=l)return o;var c=Math.min(Math.abs(n-s),Math.abs(n-l));c<r&&(r=c,i=o)}return i}}]),t}();function LRe(t){var e={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return e[t]}var BRe=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],p8=S.forwardRef(function(t,e){var n=t.active,r=t.showActiveCls,i=r===void 0?!0:r,o=t.suffixIcon,a=t.format,s=t.validateFormat,l=t.onChange;t.onInput;var c=t.helped,u=t.onHelp,d=t.onSubmit,f=t.onKeyDown,h=t.preserveInvalidOnBlur,p=h===void 0?!1:h,_=t.invalid,x=t.clearIcon,y=pr(t,BRe),w=t.value,C=t.onFocus,M=t.onBlur,R=t.onMouseUp,N=S.useContext(fd),I=N.prefixCls,B=N.input,D=B===void 0?"input":B,$="".concat(I,"-input"),z=S.useState(!1),V=ze(z,2),q=V[0],G=V[1],j=S.useState(w),H=ze(j,2),X=H[0],Y=H[1],ee=S.useState(""),Z=ze(ee,2),re=Z[0],ae=Z[1],ce=S.useState(null),he=ze(ce,2),ge=he[0],se=he[1],me=S.useState(null),ye=ze(me,2),we=ye[0],Ee=ye[1],Me=X||"";S.useEffect(function(){Y(w)},[w]);var Oe=S.useRef(),Ue=S.useRef();S.useImperativeHandle(e,function(){return{nativeElement:Oe.current,inputElement:Ue.current,focus:function(Xe){Ue.current.focus(Xe)},blur:function(){Ue.current.blur()}}});var Se=S.useMemo(function(){return new DRe(a||"")},[a]),_e=S.useMemo(function(){return c?[0,0]:Se.getSelection(ge)},[Se,ge,c]),ve=ze(_e,2),Ge=ve[0],ue=ve[1],at=function(Xe){Xe&&Xe!==a&&Xe!==w&&u()},nt=Xr(function(ht){s(ht)&&l(ht),Y(ht),at(ht)}),ct=function(Xe){if(!a){var pt=Xe.target.value;at(pt),Y(pt),l(pt)}},Ze=function(Xe){var pt=Xe.clipboardData.getData("text");s(pt)&&nt(pt)},pe=S.useRef(!1),te=function(){pe.current=!0},Ne=function(Xe){var pt=Xe.target,ut=pt.selectionStart,Ke=Se.getMaskCellIndex(ut);se(Ke),Ee({}),R==null||R(Xe),pe.current=!1},qe=function(Xe){G(!0),se(0),ae(""),C(Xe)},gt=function(Xe){M(Xe)},tt=function(Xe){G(!1),gt(Xe)};T$(n,function(){!n&&!p&&Y(w)});var wt=function(Xe){Xe.key==="Enter"&&s(Me)&&d(),f==null||f(Xe)},_t=function(Xe){wt(Xe);var pt=Xe.key,ut=null,Ke=null,Rt=ue-Ge,$e=a.slice(Ge,ue),$t=function(Pt){se(function(Ft){var Yt=Ft+Pt;return Yt=Math.max(Yt,0),Yt=Math.min(Yt,Se.size()-1),Yt})},Lt=function(Pt){var Ft=LRe($e),Yt=ze(Ft,3),Rn=Yt[0],Cn=Yt[1],dn=Yt[2],Mn=Me.slice(Ge,ue),Tn=Number(Mn);if(isNaN(Tn))return String(dn||(Pt>0?Rn:Cn));var Qt=Tn+Pt,Gt=Cn-Rn+1;return String(Rn+(Gt+Qt-Rn)%Gt)};switch(pt){case"Backspace":case"Delete":ut="",Ke=$e;break;case"ArrowLeft":ut="",$t(-1);break;case"ArrowRight":ut="",$t(1);break;case"ArrowUp":ut="",Ke=Lt(1);break;case"ArrowDown":ut="",Ke=Lt(-1);break;default:isNaN(Number(pt))||(ut=re+pt,Ke=ut);break}if(ut!==null&&(ae(ut),ut.length>=Rt&&($t(1),ae(""))),Ke!==null){var tn=Me.slice(0,Ge)+_$(Ke,Rt)+Me.slice(ue);nt(tn.slice(0,a.length))}Ee({})},Et=S.useRef();zr(function(){if(!(!q||!a||pe.current)){if(!Se.match(Me)){nt(a);return}return Ue.current.setSelectionRange(Ge,ue),Et.current=qr(function(){Ue.current.setSelectionRange(Ge,ue)}),function(){qr.cancel(Et.current)}}},[Se,a,q,Me,ge,Ge,ue,we,nt]);var Tt=a?{onFocus:qe,onBlur:tt,onKeyDown:_t,onMouseDown:te,onMouseUp:Ne,onPaste:Ze}:{};return S.createElement("div",{ref:Oe,className:je($,Re(Re({},"".concat($,"-active"),n&&i),"".concat($,"-placeholder"),c))},S.createElement(D,ft({ref:Ue,"aria-invalid":_,autoComplete:"off"},y,{onKeyDown:wt,onBlur:gt},Tt,{value:Me,onChange:ct})),S.createElement(mR,{type:"suffix",icon:o}),x)}),FRe=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],$Re=["index"];function kRe(t,e){var n=t.id,r=t.prefix,i=t.clearIcon,o=t.suffixIcon,a=t.separator,s=a===void 0?"~":a,l=t.activeIndex;t.activeHelp,t.allHelp;var c=t.focused;t.onFocus,t.onBlur,t.onKeyDown,t.locale,t.generateConfig;var u=t.placeholder,d=t.className,f=t.style,h=t.onClick,p=t.onClear,_=t.value;t.onChange,t.onSubmit,t.onInputChange,t.format,t.maskFormat,t.preserveInvalidOnBlur,t.onInvalid;var x=t.disabled,y=t.invalid;t.inputReadOnly;var w=t.direction;t.onOpenChange;var C=t.onActiveInfo;t.placement;var M=t.onMouseDown;t.required,t["aria-required"];var R=t.autoFocus,N=t.tabIndex,I=pr(t,FRe),B=w==="rtl",D=S.useContext(fd),$=D.prefixCls,z=S.useMemo(function(){if(typeof n=="string")return[n];var we=n||{};return[we.start,we.end]},[n]),V=S.useRef(),q=S.useRef(),G=S.useRef(),j=function(Ee){var Me;return(Me=[q,G][Ee])===null||Me===void 0?void 0:Me.current};S.useImperativeHandle(e,function(){return{nativeElement:V.current,focus:function(Ee){if(Dn(Ee)==="object"){var Me,Oe=Ee||{},Ue=Oe.index,Se=Ue===void 0?0:Ue,_e=pr(Oe,$Re);(Me=j(Se))===null||Me===void 0||Me.focus(_e)}else{var ve;(ve=j(Ee??0))===null||ve===void 0||ve.focus()}},blur:function(){var Ee,Me;(Ee=j(0))===null||Ee===void 0||Ee.blur(),(Me=j(1))===null||Me===void 0||Me.blur()}}});var H=jie(I),X=S.useMemo(function(){return Array.isArray(u)?u:[u,u]},[u]),Y=Hie(Ie(Ie({},t),{},{id:z,placeholder:X})),ee=ze(Y,1),Z=ee[0],re=S.useState({position:"absolute",width:0}),ae=ze(re,2),ce=ae[0],he=ae[1],ge=Xr(function(){var we=j(l);if(we){var Ee=we.nativeElement.getBoundingClientRect(),Me=V.current.getBoundingClientRect(),Oe=Ee.left-Me.left;he(function(Ue){return Ie(Ie({},Ue),{},{width:Ee.width,left:Oe})}),C([Ee.left,Ee.right,Me.width])}});S.useEffect(function(){ge()},[l]);var se=i&&(_[0]&&!x[0]||_[1]&&!x[1]),me=R&&!x[0],ye=R&&!me&&!x[1];return S.createElement(Ll,{onResize:ge},S.createElement("div",ft({},H,{className:je($,"".concat($,"-range"),Re(Re(Re(Re({},"".concat($,"-focused"),c),"".concat($,"-disabled"),x.every(function(we){return we})),"".concat($,"-invalid"),y.some(function(we){return we})),"".concat($,"-rtl"),B),d),style:f,ref:V,onClick:h,onMouseDown:function(Ee){var Me=Ee.target;Me!==q.current.inputElement&&Me!==G.current.inputElement&&Ee.preventDefault(),M==null||M(Ee)}}),r&&S.createElement("div",{className:"".concat($,"-prefix")},r),S.createElement(p8,ft({ref:q},Z(0),{autoFocus:me,tabIndex:N,"date-range":"start"})),S.createElement("div",{className:"".concat($,"-range-separator")},s),S.createElement(p8,ft({ref:G},Z(1),{autoFocus:ye,tabIndex:N,"date-range":"end"})),S.createElement("div",{className:"".concat($,"-active-bar"),style:ce}),S.createElement(mR,{type:"suffix",icon:o}),se&&S.createElement(h8,{icon:i,onClear:p})))}var URe=S.forwardRef(kRe);function BH(t,e){var n=t??e;return Array.isArray(n)?n:[n,n]}function uC(t){return t===1?"end":"start"}function zRe(t,e){var n=Pie(t,function(){var zn=t.disabled,Fn=t.allowEmpty,rr=BH(zn,!1),ui=BH(Fn,!1);return{disabled:rr,allowEmpty:ui}}),r=ze(n,6),i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=i.prefixCls,d=i.styles,f=i.classNames,h=i.defaultValue,p=i.value,_=i.needConfirm,x=i.onKeyDown,y=i.disabled,w=i.allowEmpty,C=i.disabledDate,M=i.minDate,R=i.maxDate,N=i.defaultOpen,I=i.open,B=i.onOpenChange,D=i.locale,$=i.generateConfig,z=i.picker,V=i.showNow,q=i.showToday,G=i.showTime,j=i.mode,H=i.onPanelChange,X=i.onCalendarChange,Y=i.onOk,ee=i.defaultPickerValue,Z=i.pickerValue,re=i.onPickerValueChange,ae=i.inputReadOnly,ce=i.suffixIcon,he=i.onFocus,ge=i.onBlur,se=i.presets,me=i.ranges,ye=i.components,we=i.cellRender,Ee=i.dateRender,Me=i.monthCellRender,Oe=i.onClick,Ue=Nie(e),Se=Rie(I,N,y,B),_e=ze(Se,2),ve=_e[0],Ge=_e[1],ue=function(Fn,rr){(y.some(function(ui){return!ui})||!Fn)&&Ge(Fn,rr)},at=$ie($,D,s,!0,!1,h,p,X,Y),nt=ze(at,5),ct=nt[0],Ze=nt[1],pe=nt[2],te=nt[3],Ne=nt[4],qe=pe(),gt=Oie(y,w,ve),tt=ze(gt,9),wt=tt[0],_t=tt[1],Et=tt[2],Tt=tt[3],ht=tt[4],Xe=tt[5],pt=tt[6],ut=tt[7],Ke=tt[8],Rt=function(Fn,rr){_t(!0),he==null||he(Fn,{range:uC(rr??Tt)})},$e=function(Fn,rr){_t(!1),ge==null||ge(Fn,{range:uC(rr??Tt)})},$t=S.useMemo(function(){if(!G)return null;var zn=G.disabledTime,Fn=zn?function(rr){var ui=uC(Tt),Ki=vie(qe,pt,Tt);return zn(rr,ui,{from:Ki})}:void 0;return Ie(Ie({},G),{},{disabledTime:Fn})},[G,Tt,qe,pt]),Lt=Ui([z,z],{value:j}),tn=ze(Lt,2),Qe=tn[0],Pt=tn[1],Ft=Qe[Tt]||z,Yt=Ft==="date"&&$t?"datetime":Ft,Rn=Yt===z&&Yt!=="time",Cn=Uie(z,Ft,V,q,!0),dn=kie(i,ct,Ze,pe,te,y,s,wt,ve,c),Mn=ze(dn,2),Tn=Mn[0],Qt=Mn[1],Gt=dRe(qe,y,pt,$,D,C),Ut=bie(qe,c,w),Pe=ze(Ut,2),mt=Pe[0],St=Pe[1],xt=Die($,D,qe,Qe,ve,Tt,o,Rn,ee,Z,$t==null?void 0:$t.defaultOpenValue,re,M,R),m=ze(xt,2),de=m[0],gn=m[1],Pn=Xr(function(zn,Fn,rr){var ui=Vx(Qe,Tt,Fn);if((ui[0]!==Qe[0]||ui[1]!==Qe[1])&&Pt(ui),H&&rr!==!1){var Ki=Xt(qe);zn&&(Ki[Tt]=zn),H(Ki,ui)}}),tr=function(Fn,rr){return Vx(qe,rr,Fn)},bn=function(Fn,rr){var ui=qe;Fn&&(ui=tr(Fn,Tt)),ut(Tt);var Ki=Xe(ui);te(ui),Tn(Tt,Ki===null),Ki===null?ue(!1,{force:!0}):rr||Ue.current.focus({index:Ki})},Gn=function(Fn){var rr,ui=Fn.target.getRootNode();if(!Ue.current.nativeElement.contains((rr=ui.activeElement)!==null&&rr!==void 0?rr:document.activeElement)){var Ki=y.findIndex(function(Cc){return!Cc});Ki>=0&&Ue.current.focus({index:Ki})}ue(!0),Oe==null||Oe(Fn)},_r=function(){Qt(null),ue(!1,{force:!0})},Ln=S.useState(null),Dt=ze(Ln,2),cn=Dt[0],Bn=Dt[1],er=S.useState(null),Ae=ze(er,2),Ve=Ae[0],lt=Ae[1],dt=S.useMemo(function(){return Ve||qe},[qe,Ve]);S.useEffect(function(){ve||lt(null)},[ve]);var He=S.useState([0,0,0]),Nt=ze(He,2),Ht=Nt[0],Ot=Nt[1],fe=Iie(se,me),Mt=function(Fn){lt(Fn),Bn("preset")},fn=function(Fn){var rr=Qt(Fn);rr&&ue(!1,{force:!0})},wn=function(Fn){bn(Fn)},Hn=function(Fn){lt(Fn?tr(Fn,Tt):null),Bn("cell")},lr=function(Fn){ue(!0),Rt(Fn)},Lr=function(){Et("panel")},le=function(Fn){var rr=Vx(qe,Tt,Fn);te(rr),!_&&!a&&o===Yt&&bn(Fn)},yn=function(){ue(!1)},jt=S$(we,Ee,Me,uC(Tt)),en=qe[Tt]||null,xn=Xr(function(zn){return c(zn,{activeIndex:Tt})}),hn=S.useMemo(function(){var zn=gc(i,!1),Fn=po(i,[].concat(Xt(Object.keys(zn)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return Fn},[i]),An=S.createElement(Gie,ft({},hn,{showNow:Cn,showTime:$t,range:!0,multiplePanel:Rn,activeInfo:Ht,disabledDate:Gt,onFocus:lr,onBlur:$e,onPanelMouseDown:Lr,picker:z,mode:Ft,internalMode:Yt,onPanelChange:Pn,format:l,value:en,isInvalid:xn,onChange:null,onSelect:le,pickerValue:de,defaultOpenValue:Eg(G==null?void 0:G.defaultOpenValue)[Tt],onPickerValueChange:gn,hoverValue:dt,onHover:Hn,needConfirm:_,onSubmit:bn,onOk:Ne,presets:fe,onPresetHover:Mt,onPresetSubmit:fn,onNow:wn,cellRender:jt})),Xn=function(Fn,rr){var ui=tr(Fn,rr);te(ui)},cr=function(){Et("input")},nr=function(Fn,rr){var ui=pt.length,Ki=pt[ui-1];if(ui&&Ki!==rr&&_&&!w[Ki]&&!Ke(Ki)&&qe[Ki]){Ue.current.focus({index:Ki});return}Et("input"),ue(!0,{inherit:!0}),Tt!==rr&&ve&&!_&&a&&bn(null,!0),ht(rr),Rt(Fn,rr)},Mr=function(Fn,rr){if(ue(!1),!_&&Et()==="input"){var ui=Xe(qe);Tn(Tt,ui===null)}$e(Fn,rr)},ur=function(Fn,rr){Fn.key==="Tab"&&bn(null,!0),x==null||x(Fn,rr)},Wr=S.useMemo(function(){return{prefixCls:u,locale:D,generateConfig:$,button:ye.button,input:ye.input}},[u,D,$,ye.button,ye.input]);return zr(function(){ve&&Tt!==void 0&&Pn(null,z,!1)},[ve,Tt,z]),zr(function(){var zn=Et();!ve&&zn==="input"&&(ue(!1),bn(null,!0)),!ve&&a&&!_&&zn==="panel"&&(ue(!0),bn())},[ve]),S.createElement(fd.Provider,{value:Wr},S.createElement(gie,ft({},yie(i),{popupElement:An,popupStyle:d.popup,popupClassName:f.popup,visible:ve,onClose:yn,range:!0}),S.createElement(URe,ft({},i,{ref:Ue,suffixIcon:ce,activeIndex:wt||ve?Tt:null,activeHelp:!!Ve,allHelp:!!Ve&&cn==="preset",focused:wt,onFocus:nr,onBlur:Mr,onKeyDown:ur,onSubmit:bn,value:dt,maskFormat:l,onChange:Xn,onInputChange:cr,format:s,inputReadOnly:ae,disabled:y,open:ve,onOpenChange:ue,onClick:Gn,onClear:_r,invalid:mt,onInvalid:St,onActiveInfo:Ot}))))}var VRe=S.forwardRef(zRe);function GRe(t){var e=t.prefixCls,n=t.value,r=t.onRemove,i=t.removeIcon,o=i===void 0?"":i,a=t.formatDate,s=t.disabled,l=t.maxTagCount,c=t.placeholder,u="".concat(e,"-selector"),d="".concat(e,"-selection"),f="".concat(d,"-overflow");function h(x,y){return S.createElement("span",{className:je("".concat(d,"-item")),title:typeof x=="string"?x:null},S.createElement("span",{className:"".concat(d,"-item-content")},x),!s&&y&&S.createElement("span",{onMouseDown:function(C){C.preventDefault()},onClick:y,className:"".concat(d,"-item-remove")},o))}function p(x){var y=a(x),w=function(M){M&&M.stopPropagation(),r(x)};return h(y,w)}function _(x){var y="+ ".concat(x.length," ...");return h(y)}return S.createElement("div",{className:u},S.createElement(Ju,{prefixCls:f,data:n,renderItem:p,renderRest:_,itemKey:function(y){return a(y)},maxCount:l}),!n.length&&S.createElement("span",{className:"".concat(e,"-selection-placeholder")},c))}var HRe=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function jRe(t,e){t.id;var n=t.open,r=t.prefix,i=t.clearIcon,o=t.suffixIcon;t.activeHelp,t.allHelp;var a=t.focused;t.onFocus,t.onBlur,t.onKeyDown;var s=t.locale,l=t.generateConfig,c=t.placeholder,u=t.className,d=t.style,f=t.onClick,h=t.onClear,p=t.internalPicker,_=t.value,x=t.onChange,y=t.onSubmit;t.onInputChange;var w=t.multiple,C=t.maxTagCount;t.format,t.maskFormat,t.preserveInvalidOnBlur,t.onInvalid;var M=t.disabled,R=t.invalid;t.inputReadOnly;var N=t.direction;t.onOpenChange;var I=t.onMouseDown;t.required,t["aria-required"];var B=t.autoFocus,D=t.tabIndex,$=t.removeIcon,z=pr(t,HRe),V=N==="rtl",q=S.useContext(fd),G=q.prefixCls,j=S.useRef(),H=S.useRef();S.useImperativeHandle(e,function(){return{nativeElement:j.current,focus:function(me){var ye;(ye=H.current)===null||ye===void 0||ye.focus(me)},blur:function(){var me;(me=H.current)===null||me===void 0||me.blur()}}});var X=jie(z),Y=function(me){x([me])},ee=function(me){var ye=_.filter(function(we){return we&&!Cs(l,s,we,me,p)});x(ye),n||y()},Z=Hie(Ie(Ie({},t),{},{onChange:Y}),function(se){var me=se.valueTexts;return{value:me[0]||"",active:a}}),re=ze(Z,2),ae=re[0],ce=re[1],he=!!(i&&_.length&&!M),ge=w?S.createElement(S.Fragment,null,S.createElement(GRe,{prefixCls:G,value:_,onRemove:ee,formatDate:ce,maxTagCount:C,disabled:M,removeIcon:$,placeholder:c}),S.createElement("input",{className:"".concat(G,"-multiple-input"),value:_.map(ce).join(","),ref:H,readOnly:!0,autoFocus:B,tabIndex:D}),S.createElement(mR,{type:"suffix",icon:o}),he&&S.createElement(h8,{icon:i,onClear:h})):S.createElement(p8,ft({ref:H},ae(),{autoFocus:B,tabIndex:D,suffixIcon:o,clearIcon:he&&S.createElement(h8,{icon:i,onClear:h}),showActiveCls:!1}));return S.createElement("div",ft({},X,{className:je(G,Re(Re(Re(Re(Re({},"".concat(G,"-multiple"),w),"".concat(G,"-focused"),a),"".concat(G,"-disabled"),M),"".concat(G,"-invalid"),R),"".concat(G,"-rtl"),V),u),style:d,ref:j,onClick:f,onMouseDown:function(me){var ye,we=me.target;we!==((ye=H.current)===null||ye===void 0?void 0:ye.inputElement)&&me.preventDefault(),I==null||I(me)}}),r&&S.createElement("div",{className:"".concat(G,"-prefix")},r),ge)}var qRe=S.forwardRef(jRe);function WRe(t,e){var n=Pie(t),r=ze(n,6),i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=i,d=u.prefixCls,f=u.styles,h=u.classNames,p=u.order,_=u.defaultValue,x=u.value,y=u.needConfirm,w=u.onChange,C=u.onKeyDown,M=u.disabled,R=u.disabledDate,N=u.minDate,I=u.maxDate,B=u.defaultOpen,D=u.open,$=u.onOpenChange,z=u.locale,V=u.generateConfig,q=u.picker,G=u.showNow,j=u.showToday,H=u.showTime,X=u.mode,Y=u.onPanelChange,ee=u.onCalendarChange,Z=u.onOk,re=u.multiple,ae=u.defaultPickerValue,ce=u.pickerValue,he=u.onPickerValueChange,ge=u.inputReadOnly,se=u.suffixIcon,me=u.removeIcon,ye=u.onFocus,we=u.onBlur,Ee=u.presets,Me=u.components,Oe=u.cellRender,Ue=u.dateRender,Se=u.monthCellRender,_e=u.onClick,ve=Nie(e);function Ge(hn){return hn===null?null:re?hn:hn[0]}var ue=zie(V,z,o),at=Rie(D,B,[M],$),nt=ze(at,2),ct=nt[0],Ze=nt[1],pe=function(An,Xn,cr){if(ee){var nr=Ie({},cr);delete nr.range,ee(Ge(An),Ge(Xn),nr)}},te=function(An){Z==null||Z(Ge(An))},Ne=$ie(V,z,s,!1,p,_,x,pe,te),qe=ze(Ne,5),gt=qe[0],tt=qe[1],wt=qe[2],_t=qe[3],Et=qe[4],Tt=wt(),ht=Oie([M]),Xe=ze(ht,4),pt=Xe[0],ut=Xe[1],Ke=Xe[2],Rt=Xe[3],$e=function(An){ut(!0),ye==null||ye(An,{})},$t=function(An){ut(!1),we==null||we(An,{})},Lt=Ui(q,{value:X}),tn=ze(Lt,2),Qe=tn[0],Pt=tn[1],Ft=Qe==="date"&&H?"datetime":Qe,Yt=Uie(q,Qe,G,j),Rn=w&&function(hn,An){w(Ge(hn),Ge(An))},Cn=kie(Ie(Ie({},i),{},{onChange:Rn}),gt,tt,wt,_t,[],s,pt,ct,c),dn=ze(Cn,2),Mn=dn[1],Tn=bie(Tt,c),Qt=ze(Tn,2),Gt=Qt[0],Ut=Qt[1],Pe=S.useMemo(function(){return Gt.some(function(hn){return hn})},[Gt]),mt=function(An,Xn){if(he){var cr=Ie(Ie({},Xn),{},{mode:Xn.mode[0]});delete cr.range,he(An[0],cr)}},St=Die(V,z,Tt,[Qe],ct,Rt,o,!1,ae,ce,Eg(H==null?void 0:H.defaultOpenValue),mt,N,I),xt=ze(St,2),m=xt[0],de=xt[1],gn=Xr(function(hn,An,Xn){if(Pt(An),Y&&Xn!==!1){var cr=hn||Tt[Tt.length-1];Y(cr,An)}}),Pn=function(){Mn(wt()),Ze(!1,{force:!0})},tr=function(An){!M&&!ve.current.nativeElement.contains(document.activeElement)&&ve.current.focus(),Ze(!0),_e==null||_e(An)},bn=function(){Mn(null),Ze(!1,{force:!0})},Gn=S.useState(null),_r=ze(Gn,2),Ln=_r[0],Dt=_r[1],cn=S.useState(null),Bn=ze(cn,2),er=Bn[0],Ae=Bn[1],Ve=S.useMemo(function(){var hn=[er].concat(Xt(Tt)).filter(function(An){return An});return re?hn:hn.slice(0,1)},[Tt,er,re]),lt=S.useMemo(function(){return!re&&er?[er]:Tt.filter(function(hn){return hn})},[Tt,er,re]);S.useEffect(function(){ct||Ae(null)},[ct]);var dt=Iie(Ee),He=function(An){Ae(An),Dt("preset")},Nt=function(An){var Xn=re?ue(wt(),An):[An],cr=Mn(Xn);cr&&!re&&Ze(!1,{force:!0})},Ht=function(An){Nt(An)},Ot=function(An){Ae(An),Dt("cell")},fe=function(An){Ze(!0),$e(An)},Mt=function(An){if(Ke("panel"),!(re&&Ft!==q)){var Xn=re?ue(wt(),An):[An];_t(Xn),!y&&!a&&o===Ft&&Pn()}},fn=function(){Ze(!1)},wn=S$(Oe,Ue,Se),Hn=S.useMemo(function(){var hn=gc(i,!1),An=po(i,[].concat(Xt(Object.keys(hn)),["onChange","onCalendarChange","style","className","onPanelChange"]));return Ie(Ie({},An),{},{multiple:i.multiple})},[i]),lr=S.createElement(Gie,ft({},Hn,{showNow:Yt,showTime:H,disabledDate:R,onFocus:fe,onBlur:$t,picker:q,mode:Qe,internalMode:Ft,onPanelChange:gn,format:l,value:Tt,isInvalid:c,onChange:null,onSelect:Mt,pickerValue:m,defaultOpenValue:H==null?void 0:H.defaultOpenValue,onPickerValueChange:de,hoverValue:Ve,onHover:Ot,needConfirm:y,onSubmit:Pn,onOk:Et,presets:dt,onPresetHover:He,onPresetSubmit:Nt,onNow:Ht,cellRender:wn})),Lr=function(An){_t(An)},le=function(){Ke("input")},yn=function(An){Ke("input"),Ze(!0,{inherit:!0}),$e(An)},jt=function(An){Ze(!1),$t(An)},en=function(An,Xn){An.key==="Tab"&&Pn(),C==null||C(An,Xn)},xn=S.useMemo(function(){return{prefixCls:d,locale:z,generateConfig:V,button:Me.button,input:Me.input}},[d,z,V,Me.button,Me.input]);return zr(function(){ct&&Rt!==void 0&&gn(null,q,!1)},[ct,Rt,q]),zr(function(){var hn=Ke();!ct&&hn==="input"&&(Ze(!1),Pn()),!ct&&a&&!y&&hn==="panel"&&Pn()},[ct]),S.createElement(fd.Provider,{value:xn},S.createElement(gie,ft({},yie(i),{popupElement:lr,popupStyle:f.popup,popupClassName:h.popup,visible:ct,onClose:fn}),S.createElement(qRe,ft({},i,{ref:ve,suffixIcon:se,removeIcon:me,activeHelp:!!er,allHelp:!!er&&Ln==="preset",focused:pt,onFocus:yn,onBlur:jt,onKeyDown:en,onSubmit:Pn,value:lt,maskFormat:l,onChange:Lr,onInputChange:le,internalPicker:o,format:s,inputReadOnly:ge,disabled:M,open:ct,onOpenChange:Ze,onClick:tr,onClear:bn,invalid:Pe,onInvalid:function(An){Ut(An,0)}}))))}var XRe=S.forwardRef(WRe);const YRe=["parentNode"],KRe="form_item";function Gx(t){return t===void 0||t===!1?[]:Array.isArray(t)?t:[t]}function qie(t,e){if(!t.length)return;const n=t.join("_");return e?`${e}_${n}`:YRe.includes(n)?`${KRe}_${n}`:n}function Wie(t,e,n,r,i,o){let a=r;return o!==void 0?a=o:n.validating?a="validating":t.length?a="error":e.length?a="warning":(n.touched||i&&n.validated)&&(a="success"),a}var QRe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function FH(t){return Gx(t).join("_")}function $H(t,e){const n=e.getFieldInstance(t),r=Bee(n);if(r)return r;const i=qie(Gx(t),e.__INTERNAL__.name);if(i)return document.getElementById(i)}function Xie(t){const[e]=i$(),n=S.useRef({}),r=S.useMemo(()=>t??Object.assign(Object.assign({},e),{__INTERNAL__:{itemRef:i=>o=>{const a=FH(i);o?n.current[a]=o:delete n.current[a]}},scrollToField:(i,o={})=>{const{focus:a}=o,s=QRe(o,["focus"]),l=$H(i,r);l&&(e_e(l,Object.assign({scrollMode:"if-needed",block:"nearest"},s)),a&&r.focusField(i))},focusField:i=>{var o,a;const s=r.getFieldInstance(i);typeof(s==null?void 0:s.focus)=="function"?s.focus():(a=(o=$H(i,r))===null||o===void 0?void 0:o.focus)===null||a===void 0||a.call(o)},getFieldInstance:i=>{const o=FH(i);return n.current[o]}}),[t,e]);return[r]}function A1(t){return Yr(t,{inputAffixPadding:t.paddingXXS})}const v1=t=>{const{controlHeight:e,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:o,controlHeightLG:a,fontSizeLG:s,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:f,colorPrimaryHover:h,colorPrimary:p,controlOutlineWidth:_,controlOutline:x,colorErrorOutline:y,colorWarningOutline:w,colorBgContainer:C,inputFontSize:M,inputFontSizeLG:R,inputFontSizeSM:N}=t,I=M||n,B=N||I,D=R||s,$=Math.round((e-I*r)/2*10)/10-i,z=Math.round((o-B*r)/2*10)/10-i,V=Math.ceil((a-D*l)/2*10)/10-i;return{paddingBlock:Math.max($,0),paddingBlockSM:Math.max(z,0),paddingBlockLG:Math.max(V,0),paddingInline:c-i,paddingInlineSM:u-i,paddingInlineLG:d-i,addonBg:f,activeBorderColor:p,hoverBorderColor:h,activeShadow:`0 0 0 ${_}px ${x}`,errorActiveShadow:`0 0 0 ${_}px ${y}`,warningActiveShadow:`0 0 0 ${_}px ${w}`,hoverBg:C,activeBg:C,inputFontSize:I,inputFontSizeLG:D,inputFontSizeSM:B}},ZRe=t=>({borderColor:t.hoverBorderColor,backgroundColor:t.hoverBg}),gR=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},ZRe(Yr(t,{hoverBorderColor:t.colorBorder,hoverBg:t.colorBgContainerDisabled})))}),M$=(t,e)=>({background:t.colorBgContainer,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:t.activeBg}}),kH=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},M$(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:e.borderColor}}),Yie=(t,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},M$(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},gR(t))}),kH(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),kH(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),UH=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),JRe=t=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.addonBg,border:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},UH(t,{status:"error",addonBorderColor:t.colorError,addonColor:t.colorErrorText})),UH(t,{status:"warning",addonBorderColor:t.colorWarning,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group-addon`]:Object.assign({},gR(t))}})}),Kie=(t,e)=>{const{componentCls:n}=t;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:t.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:t.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:t.colorWarning}}},e)}},Qie=(t,e)=>{var n;return{background:e.bg,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:(n=e==null?void 0:e.inputColor)!==null&&n!==void 0?n:"unset"},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:t.activeBg}}},zH=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},Qie(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}})}),Zie=(t,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qie(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},gR(t))}),zH(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,inputColor:t.colorErrorText,affixColor:t.colorError})),zH(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,inputColor:t.colorWarningText,affixColor:t.colorWarning})),e)}),VH=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),eNe=t=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group-addon`]:{background:t.colorFillTertiary,"&:last-child":{position:"static"}}},VH(t,{status:"error",addonBg:t.colorErrorBg,addonColor:t.colorErrorText})),VH(t,{status:"warning",addonBg:t.colorWarningBg,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary,color:t.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`}}}})}),Jie=(t,e)=>({background:t.colorBgContainer,borderWidth:`${ke(t.lineWidth)} 0`,borderStyle:`${t.lineType} none`,borderColor:`transparent transparent ${e.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${e.hoverBorderColor} transparent`,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${e.activeBorderColor} transparent`,outline:0,backgroundColor:t.activeBg}}),GH=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},Jie(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:`transparent transparent ${e.borderColor} transparent`}}),eoe=(t,e)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Jie(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:{color:t.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${t.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),GH(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),GH(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),toe=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),noe=t=>{const{paddingBlockLG:e,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:i}=t;return{padding:`${ke(e)} ${ke(i)}`,fontSize:t.inputFontSizeLG,lineHeight:n,borderRadius:r}},P$=t=>({padding:`${ke(t.paddingBlockSM)} ${ke(t.paddingInlineSM)}`,fontSize:t.inputFontSizeSM,borderRadius:t.borderRadiusSM}),R$=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${ke(t.paddingBlock)} ${ke(t.paddingInline)}`,color:t.colorText,fontSize:t.inputFontSize,lineHeight:t.lineHeight,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},toe(t.colorTextPlaceholder)),{"&-lg":Object.assign({},noe(t)),"&-sm":Object.assign({},P$(t)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),tNe=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},noe(t)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},P$(t)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${ke(t.paddingInline)}`,color:t.colorText,fontWeight:"normal",fontSize:t.inputFontSize,textAlign:"center",borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${ke(t.calc(t.paddingBlock).add(1).mul(-1).equal())} ${ke(t.calc(t.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${ke(t.lineWidth)} ${t.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${ke(t.calc(t.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},K2()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderInlineEndWidth:t.lineWidth},[e]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${e},
      & > ${n}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${e},
      & > ${n}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${e},
      & > ${n}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},[`& > ${n}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},nNe=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r,calc:i}=t,o=16,a=i(n).sub(i(r).mul(2)).sub(o).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ho(t)),R$(t)),Yie(t)),Zie(t)),Kie(t)),eoe(t)),{'&[type="color"]':{height:t.controlHeight,[`&${e}-lg`]:{height:t.controlHeightLG},[`&${e}-sm`]:{height:n,paddingTop:a,paddingBottom:a}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},rNe=t=>{const{componentCls:e}=t;return{[`${e}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${t.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:t.colorIcon},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${ke(t.inputAffixPadding)}`}}}},iNe=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:a,iconCls:s}=t,l=`${e}-affix-wrapper`,c=`${e}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},R$(t)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),rNe(t)),{[`${s}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:a}}}),[`${e}-underlined`]:{borderRadius:0},[c]:{[`${s}${e}-password-icon`]:{color:o,cursor:"not-allowed","&:hover":{color:o}}}}},oNe=t=>{const{componentCls:e,borderRadiusLG:n,borderRadiusSM:r}=t;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},ho(t)),tNe(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:n,fontSize:t.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},JRe(t)),eNe(t)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},aNe=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-search`;return{[r]:{[e]:{"&:not([disabled]):hover, &:not([disabled]):focus":{[`+ ${e}-group-addon ${r}-button:not(${n}-btn-color-primary):not(${n}-btn-variant-text)`]:{borderInlineStartColor:t.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:t.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:t.calc(t.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-color-primary)`]:{color:t.colorTextDescription,"&:not([disabled]):hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},[`&${n}-btn-loading::before`]:{inset:0}}}},[`${r}-button`]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},sNe=t=>{const{componentCls:e}=t;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:t.colorError}}}},roe=Ti(["Input","Shared"],t=>{const e=Yr(t,A1(t));return[nNe(e),iNe(e)]},v1,{resetFont:!1}),ioe=Ti(["Input","Component"],t=>{const e=Yr(t,A1(t));return[oNe(e),aNe(e),sNe(e),tR(e)]},v1,{resetFont:!1}),NI=(t,e)=>{const{componentCls:n,controlHeight:r}=t,i=e?`${n}-${e}`:"",o=bre(t);return[{[`${n}-multiple${i}`]:{paddingBlock:o.containerPadding,paddingInlineStart:o.basePadding,minHeight:r,[`${n}-selection-item`]:{height:o.itemHeight,lineHeight:ke(o.itemLineHeight)}}}]},lNe=t=>{const{componentCls:e,calc:n,lineWidth:r}=t,i=Yr(t,{fontHeight:t.fontSize,selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS,controlHeight:t.controlHeightSM}),o=Yr(t,{fontHeight:n(t.multipleItemHeightLG).sub(n(r).mul(2).equal()).equal(),fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius,controlHeight:t.controlHeightLG});return[NI(i,"small"),NI(t),NI(o,"large"),{[`${e}${e}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${e}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${e}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}}},xre(t)),{[`${e}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},cNe=lNe,uNe=t=>{const{pickerCellCls:e,pickerCellInnerCls:n,cellHeight:r,borderRadiusSM:i,motionDurationMid:o,cellHoverBg:a,lineWidth:s,lineType:l,colorPrimary:c,cellActiveWithRangeBg:u,colorTextLightSolid:d,colorTextDisabled:f,cellBgDisabled:h,colorFillSecondary:p}=t;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:r,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[n]:{position:"relative",zIndex:2,display:"inline-block",minWidth:r,height:r,lineHeight:ke(r),borderRadius:i,transition:`background ${o}`},[`&:hover:not(${e}-in-view):not(${e}-disabled),
    &:hover:not(${e}-selected):not(${e}-range-start):not(${e}-range-end):not(${e}-disabled)`]:{[n]:{background:a}},[`&-in-view${e}-today ${n}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${ke(s)} ${l} ${c}`,borderRadius:i,content:'""'}},[`&-in-view${e}-in-range,
      &-in-view${e}-range-start,
      &-in-view${e}-range-end`]:{position:"relative",[`&:not(${e}-disabled):before`]:{background:u}},[`&-in-view${e}-selected,
      &-in-view${e}-range-start,
      &-in-view${e}-range-end`]:{[`&:not(${e}-disabled) ${n}`]:{color:d,background:c},[`&${e}-disabled ${n}`]:{background:p}},[`&-in-view${e}-range-start:not(${e}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${e}-range-end:not(${e}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${e}-range-start:not(${e}-range-end) ${n}`]:{borderStartStartRadius:i,borderEndStartRadius:i,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${e}-range-end:not(${e}-range-start) ${n}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:i,borderEndEndRadius:i},"&-disabled":{color:f,cursor:"not-allowed",[n]:{background:"transparent"},"&::before":{background:h}},[`&-disabled${e}-today ${n}::before`]:{borderColor:f}}},dNe=t=>{const{componentCls:e,pickerCellCls:n,pickerCellInnerCls:r,pickerYearMonthCellWidth:i,pickerControlIconSize:o,cellWidth:a,paddingSM:s,paddingXS:l,paddingXXS:c,colorBgContainer:u,lineWidth:d,lineType:f,borderRadiusLG:h,colorPrimary:p,colorTextHeading:_,colorSplit:x,pickerControlIconBorderWidth:y,colorIcon:w,textHeight:C,motionDurationMid:M,colorIconHover:R,fontWeightStrong:N,cellHeight:I,pickerCellPaddingVertical:B,colorTextDisabled:D,colorText:$,fontSize:z,motionDurationSlow:V,withoutTimeCellHeight:q,pickerQuarterPanelContentHeight:G,borderRadiusSM:j,colorTextLightSolid:H,cellHoverBg:X,timeColumnHeight:Y,timeColumnWidth:ee,timeCellHeight:Z,controlItemBgActive:re,marginXXS:ae,pickerDatePanelPaddingHorizontal:ce,pickerControlIconMargin:he}=t,ge=t.calc(a).mul(7).add(t.calc(ce).mul(2)).equal();return{[e]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:u,borderRadius:h,outline:"none","&-focused":{borderColor:p},"&-rtl":{[`${e}-prev-icon,
              ${e}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${e}-next-icon,
              ${e}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${e}-time-panel`]:{[`${e}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:ge},"&-header":{display:"flex",padding:`0 ${ke(l)}`,color:_,borderBottom:`${ke(d)} ${f} ${x}`,"> *":{flex:"none"},button:{padding:0,color:w,lineHeight:ke(C),background:"transparent",border:0,cursor:"pointer",transition:`color ${M}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:z,"&:hover":{color:R},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:N,lineHeight:ke(C),"> button":{color:"inherit",fontWeight:"inherit",verticalAlign:"top","&:not(:first-child)":{marginInlineStart:l},"&:hover":{color:p}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:o,height:o,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:o,height:o,border:"0 solid currentcolor",borderBlockStartWidth:y,borderInlineStartWidth:y,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:he,insetInlineStart:he,display:"inline-block",width:o,height:o,border:"0 solid currentcolor",borderBlockStartWidth:y,borderInlineStartWidth:y,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:I,fontWeight:"normal"},th:{height:t.calc(I).add(t.calc(B).mul(2)).equal(),color:$,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${ke(B)} 0`,color:D,cursor:"pointer","&-in-view":{color:$}},uNe(t)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${e}-content`]:{height:t.calc(q).mul(4).equal()},[r]:{padding:`0 ${ke(l)}`}},"&-quarter-panel":{[`${e}-content`]:{height:G}},"&-decade-panel":{[r]:{padding:`0 ${ke(t.calc(l).div(2).equal())}`},[`${e}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${e}-body`]:{padding:`0 ${ke(l)}`},[r]:{width:i}},"&-date-panel":{[`${e}-body`]:{padding:`${ke(l)} ${ke(ce)}`},[`${e}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel-row":{td:{"&:before":{transition:`background ${M}`},"&:first-child:before":{borderStartStartRadius:j,borderEndStartRadius:j},"&:last-child:before":{borderStartEndRadius:j,borderEndEndRadius:j}},"&:hover td:before":{background:X},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${n}`]:{"&:before":{background:p},[`&${e}-cell-week`]:{color:new gi(H).setA(.5).toHexString()},[r]:{color:H}}},"&-range-hover td:before":{background:re}},"&-week-panel, &-date-panel-show-week":{[`${e}-body`]:{padding:`${ke(l)} ${ke(s)}`},[`${e}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${e}-time-panel`]:{borderInlineStart:`${ke(d)} ${f} ${x}`},[`${e}-date-panel,
          ${e}-time-panel`]:{transition:`opacity ${V}`},"&-active":{[`${e}-date-panel,
            ${e}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${e}-content`]:{display:"flex",flex:"auto",height:Y},"&-column":{flex:"1 0 auto",width:ee,margin:`${ke(c)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${M}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:t.colorTextTertiary,borderRadius:t.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${t.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${ke(Z)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${ke(d)} ${f} ${x}`},"&-active":{background:new gi(re).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${e}-time-panel-cell`]:{marginInline:ae,[`${e}-time-panel-cell-inner`]:{display:"block",width:t.calc(ee).sub(t.calc(ae).mul(2)).equal(),height:Z,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:t.calc(ee).sub(Z).div(2).equal(),color:$,lineHeight:ke(Z),borderRadius:j,cursor:"pointer",transition:`background ${M}`,"&:hover":{background:X}},"&-selected":{[`${e}-time-panel-cell-inner`]:{background:re}},"&-disabled":{[`${e}-time-panel-cell-inner`]:{color:D,background:"transparent",cursor:"not-allowed"}}}}}}}}},fNe=t=>{const{componentCls:e,textHeight:n,lineWidth:r,paddingSM:i,antCls:o,colorPrimary:a,cellActiveWithRangeBg:s,colorPrimaryBorder:l,lineType:c,colorSplit:u}=t;return{[`${e}-dropdown`]:{[`${e}-footer`]:{borderTop:`${ke(r)} ${c} ${u}`,"&-extra":{padding:`0 ${ke(i)}`,lineHeight:ke(t.calc(n).sub(t.calc(r).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${ke(r)} ${c} ${u}`}}},[`${e}-panels + ${e}-footer ${e}-ranges`]:{justifyContent:"space-between"},[`${e}-ranges`]:{marginBlock:0,paddingInline:ke(i),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:ke(t.calc(n).sub(t.calc(r).mul(2)).equal()),display:"inline-block"},[`${e}-now-btn-disabled`]:{pointerEvents:"none",color:t.colorTextDisabled},[`${e}-preset > ${o}-tag-blue`]:{color:a,background:s,borderColor:l,cursor:"pointer"},[`${e}-ok`]:{paddingBlock:t.calc(r).mul(2).equal(),marginInlineStart:"auto"}}}}},hNe=fNe,pNe=t=>{const{componentCls:e,controlHeightLG:n,paddingXXS:r,padding:i}=t;return{pickerCellCls:`${e}-cell`,pickerCellInnerCls:`${e}-cell-inner`,pickerYearMonthCellWidth:t.calc(n).mul(1.5).equal(),pickerQuarterPanelContentHeight:t.calc(n).mul(1.4).equal(),pickerCellPaddingVertical:t.calc(r).add(t.calc(r).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:t.calc(i).add(t.calc(r).div(2)).equal()}},mNe=t=>{const{colorBgContainerDisabled:e,controlHeight:n,controlHeightSM:r,controlHeightLG:i,paddingXXS:o,lineWidth:a}=t,s=o*2,l=a*2,c=Math.min(n-s,n-l),u=Math.min(r-s,r-l),d=Math.min(i-s,i-l);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(o/2),cellHoverBg:t.controlItemBgHover,cellActiveWithRangeBg:t.controlItemBgActive,cellHoverWithRangeBg:new gi(t.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new gi(t.colorPrimary).lighten(20).toHexString(),cellBgDisabled:e,timeColumnWidth:i*1.4,timeColumnHeight:28*8,timeCellHeight:28,cellWidth:r*1.5,cellHeight:r,textHeight:i,withoutTimeCellHeight:i*1.65,multipleItemBg:t.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:c,multipleItemHeightSM:u,multipleItemHeightLG:d,multipleSelectorBgDisabled:e,multipleItemColorDisabled:t.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}},gNe=t=>Object.assign(Object.assign(Object.assign(Object.assign({},v1(t)),mNe(t)),p$(t)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:t.zIndexPopupBase+50}),ANe=t=>{const{componentCls:e}=t;return{[e]:[Object.assign(Object.assign(Object.assign(Object.assign({},Yie(t)),eoe(t)),Zie(t)),Kie(t)),{"&-outlined":{[`&${e}-multiple ${e}-selection-item`]:{background:t.multipleItemBg,border:`${ke(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}},"&-filled":{[`&${e}-multiple ${e}-selection-item`]:{background:t.colorBgContainer,border:`${ke(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}},"&-borderless":{[`&${e}-multiple ${e}-selection-item`]:{background:t.multipleItemBg,border:`${ke(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}},"&-underlined":{[`&${e}-multiple ${e}-selection-item`]:{background:t.multipleItemBg,border:`${ke(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}}}]}},vNe=ANe,II=(t,e)=>({padding:`${ke(t)} ${ke(e)}`}),yNe=t=>{const{componentCls:e,colorError:n,colorWarning:r}=t;return{[`${e}:not(${e}-disabled):not([disabled])`]:{[`&${e}-status-error`]:{[`${e}-active-bar`]:{background:n}},[`&${e}-status-warning`]:{[`${e}-active-bar`]:{background:r}}}}},bNe=t=>{var e;const{componentCls:n,antCls:r,paddingInline:i,lineWidth:o,lineType:a,colorBorder:s,borderRadius:l,motionDurationMid:c,colorTextDisabled:u,colorTextPlaceholder:d,colorTextQuaternary:f,fontSizeLG:h,inputFontSizeLG:p,fontSizeSM:_,inputFontSizeSM:x,controlHeightSM:y,paddingInlineSM:w,paddingXS:C,marginXS:M,colorIcon:R,lineWidthBold:N,colorPrimary:I,motionDurationSlow:B,zIndexPopup:D,paddingXXS:$,sizePopupArrow:z,colorBgElevated:V,borderRadiusLG:q,boxShadowSecondary:G,borderRadiusSM:j,colorSplit:H,cellHoverBg:X,presetsWidth:Y,presetsMaxWidth:ee,boxShadowPopoverArrow:Z,fontHeight:re,lineHeightLG:ae}=t;return[{[n]:Object.assign(Object.assign(Object.assign({},ho(t)),II(t.paddingBlock,t.paddingInline)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:l,transition:`border ${c}, box-shadow ${c}, background ${c}`,[`${n}-prefix`]:{flex:"0 0 auto",marginInlineEnd:t.inputAffixPadding},[`${n}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:(e=t.inputFontSize)!==null&&e!==void 0?e:t.fontSize,lineHeight:t.lineHeight,transition:`all ${c}`},toe(d)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:u,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:d}}},"&-large":Object.assign(Object.assign({},II(t.paddingBlockLG,t.paddingInlineLG)),{[`${n}-input > input`]:{fontSize:p??h,lineHeight:ae}}),"&-small":Object.assign(Object.assign({},II(t.paddingBlockSM,t.paddingInlineSM)),{[`${n}-input > input`]:{fontSize:x??_}}),[`${n}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:t.calc(C).div(2).equal(),color:f,lineHeight:1,pointerEvents:"none",transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:M}}},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:f,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top"},"&:hover":{color:R}},"&:hover":{[`${n}-clear`]:{opacity:1},[`${n}-suffix:not(:last-child)`]:{opacity:0}},[`${n}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:h,color:f,fontSize:h,verticalAlign:"top",cursor:"default",[`${n}-focused &`]:{color:R},[`${n}-range-separator &`]:{[`${n}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${n}-active-bar`]:{bottom:t.calc(o).mul(-1).equal(),height:N,background:I,opacity:0,transition:`all ${B} ease-out`,pointerEvents:"none"},[`&${n}-focused`]:{[`${n}-active-bar`]:{opacity:1}},[`${n}-range-separator`]:{alignItems:"center",padding:`0 ${ke(C)}`,lineHeight:1}},"&-range, &-multiple":{[`${n}-clear`]:{insetInlineEnd:i},[`&${n}-small`]:{[`${n}-clear`]:{insetInlineEnd:w}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},ho(t)),dNe(t)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:D,[`&${n}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${n}-dropdown-placement-bottomLeft,
            &${n}-dropdown-placement-bottomRight`]:{[`${n}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${n}-dropdown-placement-topLeft,
            &${n}-dropdown-placement-topRight`]:{[`${n}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${r}-slide-up-appear, &${r}-slide-up-enter`]:{[`${n}-range-arrow${n}-range-arrow`]:{transition:"none"}},[`&${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-topLeft,
          &${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-topRight,
          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-topLeft,
          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-topRight`]:{animationName:WF},[`&${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-bottomLeft,
          &${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-bottomRight,
          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-bottomLeft,
          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-bottomRight`]:{animationName:jF},[`&${r}-slide-up-leave ${n}-panel-container`]:{pointerEvents:"none"},[`&${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-topLeft,
          &${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-topRight`]:{animationName:XF},[`&${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-bottomLeft,
          &${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-bottomRight`]:{animationName:qF},[`${n}-panel > ${n}-time-panel`]:{paddingTop:$},[`${n}-range-wrapper`]:{display:"flex",position:"relative"},[`${n}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:t.calc(i).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${B} ease-out`},Nre(t,V,Z)),{"&:before":{insetInlineStart:t.calc(i).mul(1.5).equal()}}),[`${n}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:V,borderRadius:q,boxShadow:G,transition:`margin ${B}`,display:"inline-block",pointerEvents:"auto",[`${n}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${n}-presets`]:{display:"flex",flexDirection:"column",minWidth:Y,maxWidth:ee,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:C,borderInlineEnd:`${ke(o)} ${a} ${H}`,li:Object.assign(Object.assign({},tm),{borderRadius:j,paddingInline:C,paddingBlock:t.calc(y).sub(re).div(2).equal(),cursor:"pointer",transition:`all ${B}`,"+ li":{marginTop:M},"&:hover":{background:X}})}},[`${n}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${n}-panel`]:{borderWidth:0}}},[`${n}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${n}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:s}}}}),"&-dropdown-range":{padding:`${ke(t.calc(z).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${n}-separator`]:{transform:"scale(-1, 1)"},[`${n}-footer`]:{"&-extra":{direction:"rtl"}}}})},ty(t,"slide-up"),ty(t,"slide-down"),RM(t,"move-up"),RM(t,"move-down")]},ooe=Ti("DatePicker",t=>{const e=Yr(A1(t),pNe(t),{inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[hNe(e),bNe(e),vNe(e),yNe(e),cNe(e),tR(t,{focusElCls:`${t.componentCls}-focused`})]},gNe);var xNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const _Ne=xNe;var SNe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:_Ne}))},wNe=S.forwardRef(SNe);const AR=wNe,vR=S.createContext(null);var CNe=function(e){var n=e.activeTabOffset,r=e.horizontal,i=e.rtl,o=e.indicator,a=o===void 0?{}:o,s=a.size,l=a.align,c=l===void 0?"center":l,u=S.useState(),d=ze(u,2),f=d[0],h=d[1],p=S.useRef(),_=Ye.useCallback(function(y){return typeof s=="function"?s(y):typeof s=="number"?s:y},[s]);function x(){qr.cancel(p.current)}return S.useEffect(function(){var y={};if(n)if(r){y.width=_(n.width);var w=i?"right":"left";c==="start"&&(y[w]=n[w]),c==="center"&&(y[w]=n[w]+n.width/2,y.transform=i?"translateX(50%)":"translateX(-50%)"),c==="end"&&(y[w]=n[w]+n.width,y.transform="translateX(-100%)")}else y.height=_(n.height),c==="start"&&(y.top=n.top),c==="center"&&(y.top=n.top+n.height/2,y.transform="translateY(-50%)"),c==="end"&&(y.top=n.top+n.height,y.transform="translateY(-100%)");return x(),p.current=qr(function(){var C=f&&y&&Object.keys(y).every(function(M){var R=y[M],N=f[M];return typeof R=="number"&&typeof N=="number"?Math.round(R)===Math.round(N):R===N});C||h(y)}),x},[JSON.stringify(n),r,i,c,_]),{style:f}},HH={width:0,height:0,left:0,top:0};function TNe(t,e,n){return S.useMemo(function(){for(var r,i=new Map,o=e.get((r=t[0])===null||r===void 0?void 0:r.key)||HH,a=o.left+o.width,s=0;s<t.length;s+=1){var l=t[s].key,c=e.get(l);if(!c){var u;c=e.get((u=t[s-1])===null||u===void 0?void 0:u.key)||HH}var d=i.get(l)||Ie({},c);d.right=a-d.left-d.width,i.set(l,d)}return i},[t.map(function(r){return r.key}).join("_"),e,n])}function jH(t,e){var n=S.useRef(t),r=S.useState({}),i=ze(r,2),o=i[1];function a(s){var l=typeof s=="function"?s(n.current):s;l!==n.current&&e(l,n.current),n.current=l,o({})}return[n.current,a]}var ENe=.1,qH=.01,_E=20,WH=Math.pow(.995,_E);function MNe(t,e){var n=S.useState(),r=ze(n,2),i=r[0],o=r[1],a=S.useState(0),s=ze(a,2),l=s[0],c=s[1],u=S.useState(0),d=ze(u,2),f=d[0],h=d[1],p=S.useState(),_=ze(p,2),x=_[0],y=_[1],w=S.useRef();function C(D){var $=D.touches[0],z=$.screenX,V=$.screenY;o({x:z,y:V}),window.clearInterval(w.current)}function M(D){if(i){var $=D.touches[0],z=$.screenX,V=$.screenY;o({x:z,y:V});var q=z-i.x,G=V-i.y;e(q,G);var j=Date.now();c(j),h(j-l),y({x:q,y:G})}}function R(){if(i&&(o(null),y(null),x)){var D=x.x/f,$=x.y/f,z=Math.abs(D),V=Math.abs($);if(Math.max(z,V)<ENe)return;var q=D,G=$;w.current=window.setInterval(function(){if(Math.abs(q)<qH&&Math.abs(G)<qH){window.clearInterval(w.current);return}q*=WH,G*=WH,e(q*_E,G*_E)},_E)}}var N=S.useRef();function I(D){var $=D.deltaX,z=D.deltaY,V=0,q=Math.abs($),G=Math.abs(z);q===G?V=N.current==="x"?$:z:q>G?(V=$,N.current="x"):(V=z,N.current="y"),e(-V,-V)&&D.preventDefault()}var B=S.useRef(null);B.current={onTouchStart:C,onTouchMove:M,onTouchEnd:R,onWheel:I},S.useEffect(function(){function D(q){B.current.onTouchStart(q)}function $(q){B.current.onTouchMove(q)}function z(q){B.current.onTouchEnd(q)}function V(q){B.current.onWheel(q)}return document.addEventListener("touchmove",$,{passive:!1}),document.addEventListener("touchend",z,{passive:!0}),t.current.addEventListener("touchstart",D,{passive:!0}),t.current.addEventListener("wheel",V,{passive:!1}),function(){document.removeEventListener("touchmove",$),document.removeEventListener("touchend",z)}},[])}function aoe(t){var e=S.useState(0),n=ze(e,2),r=n[0],i=n[1],o=S.useRef(0),a=S.useRef();return a.current=t,xM(function(){var s;(s=a.current)===null||s===void 0||s.call(a)},[r]),function(){o.current===r&&(o.current+=1,i(o.current))}}function PNe(t){var e=S.useRef([]),n=S.useState({}),r=ze(n,2),i=r[1],o=S.useRef(typeof t=="function"?t():t),a=aoe(function(){var l=o.current;e.current.forEach(function(c){l=c(l)}),e.current=[],o.current=l,i({})});function s(l){e.current.push(l),a()}return[o.current,s]}var XH={width:0,height:0,left:0,top:0,right:0};function RNe(t,e,n,r,i,o,a){var s=a.tabs,l=a.tabPosition,c=a.rtl,u,d,f;return["top","bottom"].includes(l)?(u="width",d=c?"right":"left",f=Math.abs(n)):(u="height",d="top",f=-n),S.useMemo(function(){if(!s.length)return[0,0];for(var h=s.length,p=h,_=0;_<h;_+=1){var x=t.get(s[_].key)||XH;if(Math.floor(x[d]+x[u])>Math.floor(f+e)){p=_-1;break}}for(var y=0,w=h-1;w>=0;w-=1){var C=t.get(s[w].key)||XH;if(C[d]<f){y=w+1;break}}return y>p?[0,-1]:[y,p]},[t,e,r,i,o,f,l,s.map(function(h){return h.key}).join("_"),c])}function YH(t){var e;return t instanceof Map?(e={},t.forEach(function(n,r){e[r]=n})):e=t,JSON.stringify(e)}var NNe="TABS_DQ";function soe(t){return String(t).replace(/"/g,NNe)}function N$(t,e,n,r){return!(!n||r||t===!1||t===void 0&&(e===!1||e===null))}var loe=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.editable,i=t.locale,o=t.style;return!r||r.showAdd===!1?null:S.createElement("button",{ref:e,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(i==null?void 0:i.addAriaLabel)||"Add tab",onClick:function(s){r.onEdit("add",{event:s})}},r.addIcon||"+")}),KH=S.forwardRef(function(t,e){var n=t.position,r=t.prefixCls,i=t.extra;if(!i)return null;var o,a={};return Dn(i)==="object"&&!S.isValidElement(i)?a=i:a.right=i,n==="right"&&(o=a.right),n==="left"&&(o=a.left),o?S.createElement("div",{className:"".concat(r,"-extra-content"),ref:e},o):null}),INe=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.id,i=t.tabs,o=t.locale,a=t.mobile,s=t.more,l=s===void 0?{}:s,c=t.style,u=t.className,d=t.editable,f=t.tabBarGutter,h=t.rtl,p=t.removeAriaLabel,_=t.onTabClick,x=t.getPopupContainer,y=t.popupClassName,w=S.useState(!1),C=ze(w,2),M=C[0],R=C[1],N=S.useState(null),I=ze(N,2),B=I[0],D=I[1],$=l.icon,z=$===void 0?"More":$,V="".concat(r,"-more-popup"),q="".concat(n,"-dropdown"),G=B!==null?"".concat(V,"-").concat(B):null,j=o==null?void 0:o.dropdownAriaLabel;function H(ce,he){ce.preventDefault(),ce.stopPropagation(),d.onEdit("remove",{key:he,event:ce})}var X=S.createElement(lS,{onClick:function(he){var ge=he.key,se=he.domEvent;_(ge,se),R(!1)},prefixCls:"".concat(q,"-menu"),id:V,tabIndex:-1,role:"listbox","aria-activedescendant":G,selectedKeys:[B],"aria-label":j!==void 0?j:"expanded dropdown"},i.map(function(ce){var he=ce.closable,ge=ce.disabled,se=ce.closeIcon,me=ce.key,ye=ce.label,we=N$(he,se,d,ge);return S.createElement(uR,{key:me,id:"".concat(V,"-").concat(me),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(me),disabled:ge},S.createElement("span",null,ye),we&&S.createElement("button",{type:"button","aria-label":p||"remove",tabIndex:0,className:"".concat(q,"-menu-item-remove"),onClick:function(Me){Me.stopPropagation(),H(Me,me)}},se||d.removeIcon||""))}));function Y(ce){for(var he=i.filter(function(we){return!we.disabled}),ge=he.findIndex(function(we){return we.key===B})||0,se=he.length,me=0;me<se;me+=1){ge=(ge+ce+se)%se;var ye=he[ge];if(!ye.disabled){D(ye.key);return}}}function ee(ce){var he=ce.which;if(!M){[qt.DOWN,qt.SPACE,qt.ENTER].includes(he)&&(R(!0),ce.preventDefault());return}switch(he){case qt.UP:Y(-1),ce.preventDefault();break;case qt.DOWN:Y(1),ce.preventDefault();break;case qt.ESC:R(!1);break;case qt.SPACE:case qt.ENTER:B!==null&&_(B,ce);break}}S.useEffect(function(){var ce=document.getElementById(G);ce&&ce.scrollIntoView&&ce.scrollIntoView(!1)},[B]),S.useEffect(function(){M||D(null)},[M]);var Z=Re({},h?"marginRight":"marginLeft",f);i.length||(Z.visibility="hidden",Z.order=1);var re=je(Re({},"".concat(q,"-rtl"),h)),ae=a?null:S.createElement(F3e,ft({prefixCls:q,overlay:X,visible:i.length?M:!1,onVisibleChange:R,overlayClassName:je(re,y),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:x},l),S.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:Z,"aria-haspopup":"listbox","aria-controls":V,id:"".concat(r,"-more"),"aria-expanded":M,onKeyDown:ee},z));return S.createElement("div",{className:je("".concat(n,"-nav-operations"),u),style:c,ref:e},ae,S.createElement(loe,{prefixCls:n,locale:o,editable:d}))});const ONe=S.memo(INe,function(t,e){return e.tabMoving});var DNe=function(e){var n=e.prefixCls,r=e.id,i=e.active,o=e.focus,a=e.tab,s=a.key,l=a.label,c=a.disabled,u=a.closeIcon,d=a.icon,f=e.closable,h=e.renderWrapper,p=e.removeAriaLabel,_=e.editable,x=e.onClick,y=e.onFocus,w=e.onBlur,C=e.onKeyDown,M=e.onMouseDown,R=e.onMouseUp,N=e.style,I=e.tabCount,B=e.currentPosition,D="".concat(n,"-tab"),$=N$(f,u,_,c);function z(H){c||x(H)}function V(H){H.preventDefault(),H.stopPropagation(),_.onEdit("remove",{key:s,event:H})}var q=S.useMemo(function(){return d&&typeof l=="string"?S.createElement("span",null,l):l},[l,d]),G=S.useRef(null);S.useEffect(function(){o&&G.current&&G.current.focus()},[o]);var j=S.createElement("div",{key:s,"data-node-key":soe(s),className:je(D,Re(Re(Re(Re({},"".concat(D,"-with-remove"),$),"".concat(D,"-active"),i),"".concat(D,"-disabled"),c),"".concat(D,"-focus"),o)),style:N,onClick:z},S.createElement("div",{ref:G,role:"tab","aria-selected":i,id:r&&"".concat(r,"-tab-").concat(s),className:"".concat(D,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(s),"aria-disabled":c,tabIndex:c?null:i?0:-1,onClick:function(X){X.stopPropagation(),z(X)},onKeyDown:C,onMouseDown:M,onMouseUp:R,onFocus:y,onBlur:w},o&&S.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(B," of ").concat(I)),d&&S.createElement("span",{className:"".concat(D,"-icon")},d),l&&q),$&&S.createElement("button",{type:"button",role:"tab","aria-label":p||"remove",tabIndex:i?0:-1,className:"".concat(D,"-remove"),onClick:function(X){X.stopPropagation(),V(X)}},u||_.removeIcon||""));return h?h(j):j},LNe=function(e,n){var r=e.offsetWidth,i=e.offsetHeight,o=e.offsetTop,a=e.offsetLeft,s=e.getBoundingClientRect(),l=s.width,c=s.height,u=s.left,d=s.top;return Math.abs(l-r)<1?[l,c,u-n.left,d-n.top]:[r,i,a,o]},oA=function(e){var n=e.current||{},r=n.offsetWidth,i=r===void 0?0:r,o=n.offsetHeight,a=o===void 0?0:o;if(e.current){var s=e.current.getBoundingClientRect(),l=s.width,c=s.height;if(Math.abs(l-i)<1)return[l,c]}return[i,a]},dC=function(e,n){return e[n?0:1]},QH=S.forwardRef(function(t,e){var n=t.className,r=t.style,i=t.id,o=t.animated,a=t.activeKey,s=t.rtl,l=t.extra,c=t.editable,u=t.locale,d=t.tabPosition,f=t.tabBarGutter,h=t.children,p=t.onTabClick,_=t.onTabScroll,x=t.indicator,y=S.useContext(vR),w=y.prefixCls,C=y.tabs,M=S.useRef(null),R=S.useRef(null),N=S.useRef(null),I=S.useRef(null),B=S.useRef(null),D=S.useRef(null),$=S.useRef(null),z=d==="top"||d==="bottom",V=jH(0,function(Ae,Ve){z&&_&&_({direction:Ae>Ve?"left":"right"})}),q=ze(V,2),G=q[0],j=q[1],H=jH(0,function(Ae,Ve){!z&&_&&_({direction:Ae>Ve?"top":"bottom"})}),X=ze(H,2),Y=X[0],ee=X[1],Z=S.useState([0,0]),re=ze(Z,2),ae=re[0],ce=re[1],he=S.useState([0,0]),ge=ze(he,2),se=ge[0],me=ge[1],ye=S.useState([0,0]),we=ze(ye,2),Ee=we[0],Me=we[1],Oe=S.useState([0,0]),Ue=ze(Oe,2),Se=Ue[0],_e=Ue[1],ve=PNe(new Map),Ge=ze(ve,2),ue=Ge[0],at=Ge[1],nt=TNe(C,ue,se[0]),ct=dC(ae,z),Ze=dC(se,z),pe=dC(Ee,z),te=dC(Se,z),Ne=Math.floor(ct)<Math.floor(Ze+pe),qe=Ne?ct-te:ct-pe,gt="".concat(w,"-nav-operations-hidden"),tt=0,wt=0;z&&s?(tt=0,wt=Math.max(0,Ze-qe)):(tt=Math.min(0,qe-Ze),wt=0);function _t(Ae){return Ae<tt?tt:Ae>wt?wt:Ae}var Et=S.useRef(null),Tt=S.useState(),ht=ze(Tt,2),Xe=ht[0],pt=ht[1];function ut(){pt(Date.now())}function Ke(){Et.current&&clearTimeout(Et.current)}MNe(I,function(Ae,Ve){function lt(dt,He){dt(function(Nt){var Ht=_t(Nt+He);return Ht})}return Ne?(z?lt(j,Ae):lt(ee,Ve),Ke(),ut(),!0):!1}),S.useEffect(function(){return Ke(),Xe&&(Et.current=setTimeout(function(){pt(0)},100)),Ke},[Xe]);var Rt=RNe(nt,qe,z?G:Y,Ze,pe,te,Ie(Ie({},t),{},{tabs:C})),$e=ze(Rt,2),$t=$e[0],Lt=$e[1],tn=Xr(function(){var Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a,Ve=nt.get(Ae)||{width:0,height:0,left:0,right:0,top:0};if(z){var lt=G;s?Ve.right<G?lt=Ve.right:Ve.right+Ve.width>G+qe&&(lt=Ve.right+Ve.width-qe):Ve.left<-G?lt=-Ve.left:Ve.left+Ve.width>-G+qe&&(lt=-(Ve.left+Ve.width-qe)),ee(0),j(_t(lt))}else{var dt=Y;Ve.top<-Y?dt=-Ve.top:Ve.top+Ve.height>-Y+qe&&(dt=-(Ve.top+Ve.height-qe)),j(0),ee(_t(dt))}}),Qe=S.useState(),Pt=ze(Qe,2),Ft=Pt[0],Yt=Pt[1],Rn=S.useState(!1),Cn=ze(Rn,2),dn=Cn[0],Mn=Cn[1],Tn=C.filter(function(Ae){return!Ae.disabled}).map(function(Ae){return Ae.key}),Qt=function(Ve){var lt=Tn.indexOf(Ft||a),dt=Tn.length,He=(lt+Ve+dt)%dt,Nt=Tn[He];Yt(Nt)},Gt=function(Ve,lt){var dt=Tn.indexOf(Ve),He=C.find(function(Ht){return Ht.key===Ve}),Nt=N$(He==null?void 0:He.closable,He==null?void 0:He.closeIcon,c,He==null?void 0:He.disabled);Nt&&(lt.preventDefault(),lt.stopPropagation(),c.onEdit("remove",{key:Ve,event:lt}),dt===Tn.length-1?Qt(-1):Qt(1))},Ut=function(Ve,lt){Mn(!0),lt.button===1&&Gt(Ve,lt)},Pe=function(Ve){var lt=Ve.code,dt=s&&z,He=Tn[0],Nt=Tn[Tn.length-1];switch(lt){case"ArrowLeft":{z&&Qt(dt?1:-1);break}case"ArrowRight":{z&&Qt(dt?-1:1);break}case"ArrowUp":{Ve.preventDefault(),z||Qt(-1);break}case"ArrowDown":{Ve.preventDefault(),z||Qt(1);break}case"Home":{Ve.preventDefault(),Yt(He);break}case"End":{Ve.preventDefault(),Yt(Nt);break}case"Enter":case"Space":{Ve.preventDefault(),p(Ft??a,Ve);break}case"Backspace":case"Delete":{Gt(Ft,Ve);break}}},mt={};z?mt[s?"marginRight":"marginLeft"]=f:mt.marginTop=f;var St=C.map(function(Ae,Ve){var lt=Ae.key;return S.createElement(DNe,{id:i,prefixCls:w,key:lt,tab:Ae,style:Ve===0?void 0:mt,closable:Ae.closable,editable:c,active:lt===a,focus:lt===Ft,renderWrapper:h,removeAriaLabel:u==null?void 0:u.removeAriaLabel,tabCount:Tn.length,currentPosition:Ve+1,onClick:function(He){p(lt,He)},onKeyDown:Pe,onFocus:function(){dn||Yt(lt),tn(lt),ut(),I.current&&(s||(I.current.scrollLeft=0),I.current.scrollTop=0)},onBlur:function(){Yt(void 0)},onMouseDown:function(He){return Ut(lt,He)},onMouseUp:function(){Mn(!1)}})}),xt=function(){return at(function(){var Ve,lt=new Map,dt=(Ve=B.current)===null||Ve===void 0?void 0:Ve.getBoundingClientRect();return C.forEach(function(He){var Nt,Ht=He.key,Ot=(Nt=B.current)===null||Nt===void 0?void 0:Nt.querySelector('[data-node-key="'.concat(soe(Ht),'"]'));if(Ot){var fe=LNe(Ot,dt),Mt=ze(fe,4),fn=Mt[0],wn=Mt[1],Hn=Mt[2],lr=Mt[3];lt.set(Ht,{width:fn,height:wn,left:Hn,top:lr})}}),lt})};S.useEffect(function(){xt()},[C.map(function(Ae){return Ae.key}).join("_")]);var m=aoe(function(){var Ae=oA(M),Ve=oA(R),lt=oA(N);ce([Ae[0]-Ve[0]-lt[0],Ae[1]-Ve[1]-lt[1]]);var dt=oA($);Me(dt);var He=oA(D);_e(He);var Nt=oA(B);me([Nt[0]-dt[0],Nt[1]-dt[1]]),xt()}),de=C.slice(0,$t),gn=C.slice(Lt+1),Pn=[].concat(Xt(de),Xt(gn)),tr=nt.get(a),bn=CNe({activeTabOffset:tr,horizontal:z,indicator:x,rtl:s}),Gn=bn.style;S.useEffect(function(){tn()},[a,tt,wt,YH(tr),YH(nt),z]),S.useEffect(function(){m()},[s]);var _r=!!Pn.length,Ln="".concat(w,"-nav-wrap"),Dt,cn,Bn,er;return z?s?(cn=G>0,Dt=G!==wt):(Dt=G<0,cn=G!==tt):(Bn=Y<0,er=Y!==tt),S.createElement(Ll,{onResize:m},S.createElement("div",{ref:mm(e,M),role:"tablist","aria-orientation":z?"horizontal":"vertical",className:je("".concat(w,"-nav"),n),style:r,onKeyDown:function(){ut()}},S.createElement(KH,{ref:R,position:"left",extra:l,prefixCls:w}),S.createElement(Ll,{onResize:m},S.createElement("div",{className:je(Ln,Re(Re(Re(Re({},"".concat(Ln,"-ping-left"),Dt),"".concat(Ln,"-ping-right"),cn),"".concat(Ln,"-ping-top"),Bn),"".concat(Ln,"-ping-bottom"),er)),ref:I},S.createElement(Ll,{onResize:m},S.createElement("div",{ref:B,className:"".concat(w,"-nav-list"),style:{transform:"translate(".concat(G,"px, ").concat(Y,"px)"),transition:Xe?"none":void 0}},St,S.createElement(loe,{ref:$,prefixCls:w,locale:u,editable:c,style:Ie(Ie({},St.length===0?void 0:mt),{},{visibility:_r?"hidden":null})}),S.createElement("div",{className:je("".concat(w,"-ink-bar"),Re({},"".concat(w,"-ink-bar-animated"),o.inkBar)),style:Gn}))))),S.createElement(ONe,ft({},t,{removeAriaLabel:u==null?void 0:u.removeAriaLabel,ref:D,prefixCls:w,tabs:Pn,className:!_r&&gt,tabMoving:!!Xe})),S.createElement(KH,{ref:N,position:"right",extra:l,prefixCls:w})))}),coe=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.id,a=t.active,s=t.tabKey,l=t.children;return S.createElement("div",{id:o&&"".concat(o,"-panel-").concat(s),role:"tabpanel",tabIndex:a?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(s),"aria-hidden":!a,style:i,className:je(n,a&&"".concat(n,"-active"),r),ref:e},l)}),BNe=["renderTabBar"],FNe=["label","key"],$Ne=function(e){var n=e.renderTabBar,r=pr(e,BNe),i=S.useContext(vR),o=i.tabs;if(n){var a=Ie(Ie({},r),{},{panes:o.map(function(s){var l=s.label,c=s.key,u=pr(s,FNe);return S.createElement(coe,ft({tab:l,key:c,tabKey:c},u))})});return n(a,QH)}return S.createElement(QH,r)},kNe=["key","forceRender","style","className","destroyInactiveTabPane"],UNe=function(e){var n=e.id,r=e.activeKey,i=e.animated,o=e.tabPosition,a=e.destroyInactiveTabPane,s=S.useContext(vR),l=s.prefixCls,c=s.tabs,u=i.tabPane,d="".concat(l,"-tabpane");return S.createElement("div",{className:je("".concat(l,"-content-holder"))},S.createElement("div",{className:je("".concat(l,"-content"),"".concat(l,"-content-").concat(o),Re({},"".concat(l,"-content-animated"),u))},c.map(function(f){var h=f.key,p=f.forceRender,_=f.style,x=f.className,y=f.destroyInactiveTabPane,w=pr(f,kNe),C=h===r;return S.createElement(dd,ft({key:h,visible:C,forceRender:p,removeOnLeave:!!(a||y),leavedClassName:"".concat(d,"-hidden")},i.tabPaneMotion),function(M,R){var N=M.style,I=M.className;return S.createElement(coe,ft({},w,{prefixCls:d,id:n,tabKey:h,animated:u,active:C,style:Ie(Ie({},_),N),className:je(x,I),ref:R}))})})))};function zNe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},e;return t===!1?e={inkBar:!1,tabPane:!1}:t===!0?e={inkBar:!0,tabPane:!1}:e=Ie({inkBar:!0},Dn(t)==="object"?t:{}),e.tabPaneMotion&&e.tabPane===void 0&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}var VNe=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],ZH=0,GNe=S.forwardRef(function(t,e){var n=t.id,r=t.prefixCls,i=r===void 0?"rc-tabs":r,o=t.className,a=t.items,s=t.direction,l=t.activeKey,c=t.defaultActiveKey,u=t.editable,d=t.animated,f=t.tabPosition,h=f===void 0?"top":f,p=t.tabBarGutter,_=t.tabBarStyle,x=t.tabBarExtraContent,y=t.locale,w=t.more,C=t.destroyInactiveTabPane,M=t.renderTabBar,R=t.onChange,N=t.onTabClick,I=t.onTabScroll,B=t.getPopupContainer,D=t.popupClassName,$=t.indicator,z=pr(t,VNe),V=S.useMemo(function(){return(a||[]).filter(function(Se){return Se&&Dn(Se)==="object"&&"key"in Se})},[a]),q=s==="rtl",G=zNe(d),j=S.useState(!1),H=ze(j,2),X=H[0],Y=H[1];S.useEffect(function(){Y(a$())},[]);var ee=Ui(function(){var Se;return(Se=V[0])===null||Se===void 0?void 0:Se.key},{value:l,defaultValue:c}),Z=ze(ee,2),re=Z[0],ae=Z[1],ce=S.useState(function(){return V.findIndex(function(Se){return Se.key===re})}),he=ze(ce,2),ge=he[0],se=he[1];S.useEffect(function(){var Se=V.findIndex(function(ve){return ve.key===re});if(Se===-1){var _e;Se=Math.max(0,Math.min(ge,V.length-1)),ae((_e=V[Se])===null||_e===void 0?void 0:_e.key)}se(Se)},[V.map(function(Se){return Se.key}).join("_"),re,ge]);var me=Ui(null,{value:n}),ye=ze(me,2),we=ye[0],Ee=ye[1];S.useEffect(function(){n||(Ee("rc-tabs-".concat(ZH)),ZH+=1)},[]);function Me(Se,_e){N==null||N(Se,_e);var ve=Se!==re;ae(Se),ve&&(R==null||R(Se))}var Oe={id:we,activeKey:re,animated:G,tabPosition:h,rtl:q,mobile:X},Ue=Ie(Ie({},Oe),{},{editable:u,locale:y,more:w,tabBarGutter:p,onTabClick:Me,onTabScroll:I,extra:x,style:_,panes:null,getPopupContainer:B,popupClassName:D,indicator:$});return S.createElement(vR.Provider,{value:{tabs:V,prefixCls:i}},S.createElement("div",ft({ref:e,id:n,className:je(i,"".concat(i,"-").concat(h),Re(Re(Re({},"".concat(i,"-mobile"),X),"".concat(i,"-editable"),u),"".concat(i,"-rtl"),q),o)},z),S.createElement($Ne,ft({},Ue,{renderTabBar:M})),S.createElement(UNe,ft({destroyInactiveTabPane:C},Oe,{animated:G}))))});const HNe={motionAppear:!1,motionEnter:!0,motionLeave:!0};function jNe(t,e={inkBar:!0,tabPane:!1}){let n;return e===!1?n={inkBar:!1,tabPane:!1}:e===!0?n={inkBar:!0,tabPane:!0}:n=Object.assign({inkBar:!0},typeof e=="object"?e:{}),n.tabPane&&(n.tabPaneMotion=Object.assign(Object.assign({},HNe),{motionName:nm(t,"switch")})),n}var qNe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function WNe(t){return t.filter(e=>e)}function XNe(t,e){if(t)return t.map(r=>{var i;const o=(i=r.destroyOnHidden)!==null&&i!==void 0?i:r.destroyInactiveTabPane;return Object.assign(Object.assign({},r),{destroyInactiveTabPane:o})});const n=mc(e).map(r=>{if(S.isValidElement(r)){const{key:i,props:o}=r,a=o||{},{tab:s}=a,l=qNe(a,["tab"]);return Object.assign(Object.assign({key:String(i)},l),{label:s})}return null});return WNe(n)}const YNe=t=>{const{componentCls:e,motionDurationSlow:n}=t;return[{[e]:{[`${e}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[ty(t,"slide-up"),ty(t,"slide-down")]]},KNe=YNe,QNe=t=>{const{componentCls:e,tabsCardPadding:n,cardBg:r,cardGutter:i,colorBorderSecondary:o,itemSelectedColor:a}=t;return{[`${e}-card`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{margin:0,padding:n,background:r,border:`${ke(t.lineWidth)} ${t.lineType} ${o}`,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOut}`},[`${e}-tab-active`]:{color:a,background:t.colorBgContainer},[`${e}-tab-focus:has(${e}-tab-btn:focus-visible)`]:ey(t,-3),[`& ${e}-tab${e}-tab-focus ${e}-tab-btn:focus-visible`]:{outline:"none"},[`${e}-ink-bar`]:{visibility:"hidden"}},[`&${e}-top, &${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginLeft:{_skip_check_:!0,value:ke(i)}}}},[`&${e}-top`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`${ke(t.borderRadiusLG)} ${ke(t.borderRadiusLG)} 0 0`},[`${e}-tab-active`]:{borderBottomColor:t.colorBgContainer}}},[`&${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`0 0 ${ke(t.borderRadiusLG)} ${ke(t.borderRadiusLG)}`},[`${e}-tab-active`]:{borderTopColor:t.colorBgContainer}}},[`&${e}-left, &${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginTop:ke(i)}}},[`&${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${ke(t.borderRadiusLG)} 0 0 ${ke(t.borderRadiusLG)}`}},[`${e}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:t.colorBgContainer}}}},[`&${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${ke(t.borderRadiusLG)} ${ke(t.borderRadiusLG)} 0`}},[`${e}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:t.colorBgContainer}}}}}}},ZNe=t=>{const{componentCls:e,itemHoverColor:n,dropdownEdgeChildVerticalPadding:r}=t;return{[`${e}-dropdown`]:Object.assign(Object.assign({},ho(t)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:t.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:t.tabsDropdownHeight,margin:0,padding:`${ke(r)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:t.colorBgContainer,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,"&-item":Object.assign(Object.assign({},tm),{display:"flex",alignItems:"center",minWidth:t.tabsDropdownWidth,margin:0,padding:`${ke(t.paddingXXS)} ${ke(t.paddingSM)}`,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:t.marginSM},color:t.colorIcon,fontSize:t.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:t.controlItemBgHover},"&-disabled":{"&, &:hover":{color:t.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},JNe=t=>{const{componentCls:e,margin:n,colorBorderSecondary:r,horizontalMargin:i,verticalItemPadding:o,verticalItemMargin:a,calc:s}=t;return{[`${e}-top, ${e}-bottom`]:{flexDirection:"column",[`> ${e}-nav, > div > ${e}-nav`]:{margin:i,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${ke(t.lineWidth)} ${t.lineType} ${r}`,content:"''"},[`${e}-ink-bar`]:{height:t.lineWidthBold,"&-animated":{transition:`width ${t.motionDurationSlow}, left ${t.motionDurationSlow},
            right ${t.motionDurationSlow}`}},[`${e}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:t.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowRight},[`&${e}-nav-wrap-ping-left::before`]:{opacity:1},[`&${e}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${e}-top`]:{[`> ${e}-nav,
        > div > ${e}-nav`]:{"&::before":{bottom:0},[`${e}-ink-bar`]:{bottom:0}}},[`${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,marginTop:n,marginBottom:0,"&::before":{top:0},[`${e}-ink-bar`]:{top:0}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0}},[`${e}-left, ${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{flexDirection:"column",minWidth:s(t.controlHeight).mul(1.25).equal(),[`${e}-tab`]:{padding:o,textAlign:"center"},[`${e}-tab + ${e}-tab`]:{margin:a},[`${e}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:t.controlHeight},"&::before":{top:0,boxShadow:t.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:t.boxShadowTabsOverflowBottom},[`&${e}-nav-wrap-ping-top::before`]:{opacity:1},[`&${e}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${e}-ink-bar`]:{width:t.lineWidthBold,"&-animated":{transition:`height ${t.motionDurationSlow}, top ${t.motionDurationSlow}`}},[`${e}-nav-list, ${e}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{marginLeft:{_skip_check_:!0,value:ke(s(t.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:t.paddingLG}}}},[`${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,[`${e}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:s(t.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingRight:{_skip_check_:!0,value:t.paddingLG}}}}}},e4e=t=>{const{componentCls:e,cardPaddingSM:n,cardPaddingLG:r,cardHeightSM:i,cardHeightLG:o,horizontalItemPaddingSM:a,horizontalItemPaddingLG:s}=t;return{[e]:{"&-small":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:a,fontSize:t.titleFontSizeSM}}},"&-large":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:s,fontSize:t.titleFontSizeLG,lineHeight:t.lineHeightLG}}}},[`${e}-card`]:{[`&${e}-small`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:n},[`${e}-nav-add`]:{minWidth:i,minHeight:i}},[`&${e}-bottom`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`0 0 ${ke(t.borderRadius)} ${ke(t.borderRadius)}`}},[`&${e}-top`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`${ke(t.borderRadius)} ${ke(t.borderRadius)} 0 0`}},[`&${e}-right`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${ke(t.borderRadius)} ${ke(t.borderRadius)} 0`}}},[`&${e}-left`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${ke(t.borderRadius)} 0 0 ${ke(t.borderRadius)}`}}}},[`&${e}-large`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:r},[`${e}-nav-add`]:{minWidth:o,minHeight:o}}}}}},t4e=t=>{const{componentCls:e,itemActiveColor:n,itemHoverColor:r,iconCls:i,tabsHorizontalItemMargin:o,horizontalItemPadding:a,itemSelectedColor:s,itemColor:l}=t,c=`${e}-tab`;return{[c]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:a,fontSize:t.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:l,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:n}},"&-btn":{outline:"none",transition:`all ${t.motionDurationSlow}`,[`${c}-icon:not(:last-child)`]:{marginInlineEnd:t.marginSM}},"&-remove":Object.assign({flex:"none",lineHeight:1,marginRight:{_skip_check_:!0,value:t.calc(t.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:t.marginXS},color:t.colorIcon,fontSize:t.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}`,"&:hover":{color:t.colorTextHeading}},eg(t)),"&:hover":{color:r},[`&${c}-active ${c}-btn`]:{color:s,textShadow:t.tabsActiveTextShadow},[`&${c}-focus ${c}-btn:focus-visible`]:ey(t),[`&${c}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed"},[`&${c}-disabled ${c}-btn, &${c}-disabled ${e}-remove`]:{"&:focus, &:active":{color:t.colorTextDisabled}},[`& ${c}-remove ${i}`]:{margin:0,verticalAlign:"middle"},[`${i}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:t.marginSM}}},[`${c} + ${c}`]:{margin:{_skip_check_:!0,value:o}}}},n4e=t=>{const{componentCls:e,tabsHorizontalItemMarginRTL:n,iconCls:r,cardGutter:i,calc:o}=t;return{[`${e}-rtl`]:{direction:"rtl",[`${e}-nav`]:{[`${e}-tab`]:{margin:{_skip_check_:!0,value:n},[`${e}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:ke(t.marginSM)}},[`${e}-tab-remove`]:{marginRight:{_skip_check_:!0,value:ke(t.marginXS)},marginLeft:{_skip_check_:!0,value:ke(o(t.marginXXS).mul(-1).equal())},[r]:{margin:0}}}},[`&${e}-left`]:{[`> ${e}-nav`]:{order:1},[`> ${e}-content-holder`]:{order:0}},[`&${e}-right`]:{[`> ${e}-nav`]:{order:0},[`> ${e}-content-holder`]:{order:1}},[`&${e}-card${e}-top, &${e}-card${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginRight:{_skip_check_:!0,value:i},marginLeft:{_skip_check_:!0,value:0}}}}},[`${e}-dropdown-rtl`]:{direction:"rtl"},[`${e}-menu-item`]:{[`${e}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},r4e=t=>{const{componentCls:e,tabsCardPadding:n,cardHeight:r,cardGutter:i,itemHoverColor:o,itemActiveColor:a,colorBorderSecondary:s}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},ho(t)),{display:"flex",[`> ${e}-nav, > div > ${e}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${e}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${t.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${e}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${t.motionDurationSlow}`},[`${e}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${e}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${e}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,color:t.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:t.calc(t.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${e}-nav-add`]:Object.assign({minWidth:r,minHeight:r,marginLeft:{_skip_check_:!0,value:i},background:"transparent",border:`${ke(t.lineWidth)} ${t.lineType} ${s}`,borderRadius:`${ke(t.borderRadiusLG)} ${ke(t.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:t.colorText,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:a}},eg(t,-3))},[`${e}-extra-content`]:{flex:"none"},[`${e}-ink-bar`]:{position:"absolute",background:t.inkBarColor,pointerEvents:"none"}}),t4e(t)),{[`${e}-content`]:{position:"relative",width:"100%"},[`${e}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${e}-tabpane`]:Object.assign(Object.assign({},eg(t)),{"&-hidden":{display:"none"}})}),[`${e}-centered`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-nav-wrap`]:{[`&:not([class*='${e}-nav-wrap-ping']) > ${e}-nav-list`]:{margin:"auto"}}}}}},i4e=t=>{const{cardHeight:e,cardHeightSM:n,cardHeightLG:r,controlHeight:i,controlHeightLG:o}=t,a=e||o,s=n||i,l=r||o+8;return{zIndexPopup:t.zIndexPopupBase+50,cardBg:t.colorFillAlter,cardHeight:a,cardHeightSM:s,cardHeightLG:l,cardPadding:`${(a-t.fontHeight)/2-t.lineWidth}px ${t.padding}px`,cardPaddingSM:`${(s-t.fontHeight)/2-t.lineWidth}px ${t.paddingXS}px`,cardPaddingLG:`${(l-t.fontHeightLG)/2-t.lineWidth}px ${t.padding}px`,titleFontSize:t.fontSize,titleFontSizeLG:t.fontSizeLG,titleFontSizeSM:t.fontSize,inkBarColor:t.colorPrimary,horizontalMargin:`0 0 ${t.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${t.paddingSM}px 0`,horizontalItemPaddingSM:`${t.paddingXS}px 0`,horizontalItemPaddingLG:`${t.padding}px 0`,verticalItemPadding:`${t.paddingXS}px ${t.paddingLG}px`,verticalItemMargin:`${t.margin}px 0 0 0`,itemColor:t.colorText,itemSelectedColor:t.colorPrimary,itemHoverColor:t.colorPrimaryHover,itemActiveColor:t.colorPrimaryActive,cardGutter:t.marginXXS/2}},o4e=Ti("Tabs",t=>{const e=Yr(t,{tabsCardPadding:t.cardPadding,dropdownEdgeChildVerticalPadding:t.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${ke(t.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${ke(t.horizontalItemGutter)}`});return[e4e(e),n4e(e),JNe(e),ZNe(e),QNe(e),r4e(e),KNe(e)]},i4e),a4e=()=>null,s4e=a4e;var l4e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const c4e=S.forwardRef((t,e)=>{var n,r,i,o,a,s,l,c,u,d,f;const{type:h,className:p,rootClassName:_,size:x,onEdit:y,hideAdd:w,centered:C,addIcon:M,removeIcon:R,moreIcon:N,more:I,popupClassName:B,children:D,items:$,animated:z,style:V,indicatorSize:q,indicator:G,destroyInactiveTabPane:j,destroyOnHidden:H}=t,X=l4e(t,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator","destroyInactiveTabPane","destroyOnHidden"]),{prefixCls:Y}=X,{direction:ee,tabs:Z,getPrefixCls:re,getPopupContainer:ae}=S.useContext(ir),ce=re("tabs",Y),he=_c(ce),[ge,se,me]=o4e(ce,he),ye=S.useRef(null);S.useImperativeHandle(e,()=>({nativeElement:ye.current}));let we;h==="editable-card"&&(we={onEdit:(ve,{key:Ge,event:ue})=>{y==null||y(ve==="add"?ue:Ge,ve)},removeIcon:(n=R??(Z==null?void 0:Z.removeIcon))!==null&&n!==void 0?n:S.createElement(Am,null),addIcon:(M??(Z==null?void 0:Z.addIcon))||S.createElement(AR,null),showAdd:w!==!0});const Ee=re(),Me=cl(x),Oe=XNe($,D),Ue=jNe(ce,z),Se=Object.assign(Object.assign({},Z==null?void 0:Z.style),V),_e={align:(r=G==null?void 0:G.align)!==null&&r!==void 0?r:(i=Z==null?void 0:Z.indicator)===null||i===void 0?void 0:i.align,size:(l=(a=(o=G==null?void 0:G.size)!==null&&o!==void 0?o:q)!==null&&a!==void 0?a:(s=Z==null?void 0:Z.indicator)===null||s===void 0?void 0:s.size)!==null&&l!==void 0?l:Z==null?void 0:Z.indicatorSize};return ge(S.createElement(GNe,Object.assign({ref:ye,direction:ee,getPopupContainer:ae},X,{items:Oe,className:je({[`${ce}-${Me}`]:Me,[`${ce}-card`]:["card","editable-card"].includes(h),[`${ce}-editable-card`]:h==="editable-card",[`${ce}-centered`]:C},Z==null?void 0:Z.className,p,_,se,me,he),popupClassName:je(B,se,me,he),style:Se,editable:we,more:Object.assign({icon:(f=(d=(u=(c=Z==null?void 0:Z.more)===null||c===void 0?void 0:c.icon)!==null&&u!==void 0?u:Z==null?void 0:Z.moreIcon)!==null&&d!==void 0?d:N)!==null&&f!==void 0?f:S.createElement(LPe,null),transitionName:`${Ee}-slide-up`},I),prefixCls:ce,animated:Ue,indicator:_e,destroyInactiveTabPane:H??j})))}),uoe=c4e;uoe.TabPane=s4e;const u4e=uoe;var d4e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const f4e=t=>{var{prefixCls:e,className:n,hoverable:r=!0}=t,i=d4e(t,["prefixCls","className","hoverable"]);const{getPrefixCls:o}=S.useContext(ir),a=o("card",e),s=je(`${a}-grid`,n,{[`${a}-grid-hoverable`]:r});return S.createElement("div",Object.assign({},i,{className:s}))},doe=f4e,h4e=t=>{const{antCls:e,componentCls:n,headerHeight:r,headerPadding:i,tabsMarginBottom:o}=t;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${ke(i)}`,color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:t.headerFontSize,background:t.headerBg,borderBottom:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorderSecondary}`,borderRadius:`${ke(t.borderRadiusLG)} ${ke(t.borderRadiusLG)} 0 0`},K2()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},tm),{[`
          > ${n}-typography,
          > ${n}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${e}-tabs-top`]:{clear:"both",marginBottom:o,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,"&-bar":{borderBottom:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorderSecondary}`}}})},p4e=t=>{const{cardPaddingBase:e,colorBorderSecondary:n,cardShadow:r,lineWidth:i}=t;return{width:"33.33%",padding:e,border:0,borderRadius:0,boxShadow:`
      ${ke(i)} 0 0 0 ${n},
      0 ${ke(i)} 0 0 ${n},
      ${ke(i)} ${ke(i)} 0 0 ${n},
      ${ke(i)} 0 0 0 ${n} inset,
      0 ${ke(i)} 0 0 ${n} inset;
    `,transition:`all ${t.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},m4e=t=>{const{componentCls:e,iconCls:n,actionsLiMargin:r,cardActionsIconSize:i,colorBorderSecondary:o,actionsBg:a}=t;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:a,borderTop:`${ke(t.lineWidth)} ${t.lineType} ${o}`,display:"flex",borderRadius:`0 0 ${ke(t.borderRadiusLG)} ${ke(t.borderRadiusLG)}`},K2()),{"& > li":{margin:r,color:t.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:t.calc(t.cardActionsIconSize).mul(2).equal(),fontSize:t.fontSize,lineHeight:t.lineHeight,cursor:"pointer","&:hover":{color:t.colorPrimary,transition:`color ${t.motionDurationMid}`},[`a:not(${e}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:t.colorIcon,lineHeight:ke(t.fontHeight),transition:`color ${t.motionDurationMid}`,"&:hover":{color:t.colorPrimary}},[`> ${n}`]:{fontSize:i,lineHeight:ke(t.calc(i).mul(t.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${ke(t.lineWidth)} ${t.lineType} ${o}`}}})},g4e=t=>Object.assign(Object.assign({margin:`${ke(t.calc(t.marginXXS).mul(-1).equal())} 0`,display:"flex"},K2()),{"&-avatar":{paddingInlineEnd:t.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:t.marginXS}},"&-title":Object.assign({color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:t.fontSizeLG},tm),"&-description":{color:t.colorTextDescription}}),A4e=t=>{const{componentCls:e,colorFillAlter:n,headerPadding:r,bodyPadding:i}=t;return{[`${e}-head`]:{padding:`0 ${ke(r)}`,background:n,"&-title":{fontSize:t.fontSize}},[`${e}-body`]:{padding:`${ke(t.padding)} ${ke(i)}`}}},v4e=t=>{const{componentCls:e}=t;return{overflow:"hidden",[`${e}-body`]:{userSelect:"none"}}},y4e=t=>{const{componentCls:e,cardShadow:n,cardHeadPadding:r,colorBorderSecondary:i,boxShadowTertiary:o,bodyPadding:a,extraColor:s}=t;return{[e]:Object.assign(Object.assign({},ho(t)),{position:"relative",background:t.colorBgContainer,borderRadius:t.borderRadiusLG,[`&:not(${e}-bordered)`]:{boxShadow:o},[`${e}-head`]:h4e(t),[`${e}-extra`]:{marginInlineStart:"auto",color:s,fontWeight:"normal",fontSize:t.fontSize},[`${e}-body`]:{padding:a,borderRadius:`0 0 ${ke(t.borderRadiusLG)} ${ke(t.borderRadiusLG)}`},[`${e}-grid`]:p4e(t),[`${e}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${ke(t.borderRadiusLG)} ${ke(t.borderRadiusLG)} 0 0`}},[`${e}-actions`]:m4e(t),[`${e}-meta`]:g4e(t)}),[`${e}-bordered`]:{border:`${ke(t.lineWidth)} ${t.lineType} ${i}`,[`${e}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${e}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${t.motionDurationMid}, border-color ${t.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:n}},[`${e}-contain-grid`]:{borderRadius:`${ke(t.borderRadiusLG)} ${ke(t.borderRadiusLG)} 0 0 `,[`${e}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${e}-loading) ${e}-body`]:{marginBlockStart:t.calc(t.lineWidth).mul(-1).equal(),marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),padding:0}},[`${e}-contain-tabs`]:{[`> div${e}-head`]:{minHeight:0,[`${e}-head-title, ${e}-extra`]:{paddingTop:r}}},[`${e}-type-inner`]:A4e(t),[`${e}-loading`]:v4e(t),[`${e}-rtl`]:{direction:"rtl"}}},b4e=t=>{const{componentCls:e,bodyPaddingSM:n,headerPaddingSM:r,headerHeightSM:i,headerFontSizeSM:o}=t;return{[`${e}-small`]:{[`> ${e}-head`]:{minHeight:i,padding:`0 ${ke(r)}`,fontSize:o,[`> ${e}-head-wrapper`]:{[`> ${e}-extra`]:{fontSize:t.fontSize}}},[`> ${e}-body`]:{padding:n}},[`${e}-small${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},x4e=t=>{var e,n;return{headerBg:"transparent",headerFontSize:t.fontSizeLG,headerFontSizeSM:t.fontSize,headerHeight:t.fontSizeLG*t.lineHeightLG+t.padding*2,headerHeightSM:t.fontSize*t.lineHeight+t.paddingXS*2,actionsBg:t.colorBgContainer,actionsLiMargin:`${t.paddingSM}px 0`,tabsMarginBottom:-t.padding-t.lineWidth,extraColor:t.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:(e=t.bodyPadding)!==null&&e!==void 0?e:t.paddingLG,headerPadding:(n=t.headerPadding)!==null&&n!==void 0?n:t.paddingLG}},_4e=Ti("Card",t=>{const e=Yr(t,{cardShadow:t.boxShadowCard,cardHeadPadding:t.padding,cardPaddingBase:t.paddingLG,cardActionsIconSize:t.fontSize});return[y4e(e),b4e(e)]},x4e);var JH=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const S4e=t=>{const{actionClasses:e,actions:n=[],actionStyle:r}=t;return S.createElement("ul",{className:e,style:r},n.map((i,o)=>{const a=`action-${o}`;return S.createElement("li",{style:{width:`${100/n.length}%`},key:a},S.createElement("span",null,i))}))},w4e=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:i,style:o,extra:a,headStyle:s={},bodyStyle:l={},title:c,loading:u,bordered:d,variant:f,size:h,type:p,cover:_,actions:x,tabList:y,children:w,activeTabKey:C,defaultActiveTabKey:M,tabBarExtraContent:R,hoverable:N,tabProps:I={},classNames:B,styles:D}=t,$=JH(t,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:z,direction:V,card:q}=S.useContext(ir),[G]=h1("card",f,d),j=nt=>{var ct;(ct=t.onTabChange)===null||ct===void 0||ct.call(t,nt)},H=nt=>{var ct;return je((ct=q==null?void 0:q.classNames)===null||ct===void 0?void 0:ct[nt],B==null?void 0:B[nt])},X=nt=>{var ct;return Object.assign(Object.assign({},(ct=q==null?void 0:q.styles)===null||ct===void 0?void 0:ct[nt]),D==null?void 0:D[nt])},Y=S.useMemo(()=>{let nt=!1;return S.Children.forEach(w,ct=>{(ct==null?void 0:ct.type)===doe&&(nt=!0)}),nt},[w]),ee=z("card",n),[Z,re,ae]=_4e(ee),ce=S.createElement(Une,{loading:!0,active:!0,paragraph:{rows:4},title:!1},w),he=C!==void 0,ge=Object.assign(Object.assign({},I),{[he?"activeKey":"defaultActiveKey"]:he?C:M,tabBarExtraContent:R});let se;const me=cl(h),ye=!me||me==="default"?"large":me,we=y?S.createElement(u4e,Object.assign({size:ye},ge,{className:`${ee}-head-tabs`,onChange:j,items:y.map(nt=>{var{tab:ct}=nt,Ze=JH(nt,["tab"]);return Object.assign({label:ct},Ze)})})):null;if(c||a||we){const nt=je(`${ee}-head`,H("header")),ct=je(`${ee}-head-title`,H("title")),Ze=je(`${ee}-extra`,H("extra")),pe=Object.assign(Object.assign({},s),X("header"));se=S.createElement("div",{className:nt,style:pe},S.createElement("div",{className:`${ee}-head-wrapper`},c&&S.createElement("div",{className:ct,style:X("title")},c),a&&S.createElement("div",{className:Ze,style:X("extra")},a)),we)}const Ee=je(`${ee}-cover`,H("cover")),Me=_?S.createElement("div",{className:Ee,style:X("cover")},_):null,Oe=je(`${ee}-body`,H("body")),Ue=Object.assign(Object.assign({},l),X("body")),Se=S.createElement("div",{className:Oe,style:Ue},u?ce:w),_e=je(`${ee}-actions`,H("actions")),ve=x!=null&&x.length?S.createElement(S4e,{actionClasses:_e,actionStyle:X("actions"),actions:x}):null,Ge=po($,["onTabChange"]),ue=je(ee,q==null?void 0:q.className,{[`${ee}-loading`]:u,[`${ee}-bordered`]:G!=="borderless",[`${ee}-hoverable`]:N,[`${ee}-contain-grid`]:Y,[`${ee}-contain-tabs`]:y==null?void 0:y.length,[`${ee}-${me}`]:me,[`${ee}-type-${p}`]:!!p,[`${ee}-rtl`]:V==="rtl"},r,i,re,ae),at=Object.assign(Object.assign({},q==null?void 0:q.style),o);return Z(S.createElement("div",Object.assign({ref:e},Ge,{className:ue,style:at}),se,Me,Se,ve))}),C4e=w4e;var T4e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const E4e=t=>{const{prefixCls:e,className:n,avatar:r,title:i,description:o}=t,a=T4e(t,["prefixCls","className","avatar","title","description"]),{getPrefixCls:s}=S.useContext(ir),l=s("card",e),c=je(`${l}-meta`,n),u=r?S.createElement("div",{className:`${l}-meta-avatar`},r):null,d=i?S.createElement("div",{className:`${l}-meta-title`},i):null,f=o?S.createElement("div",{className:`${l}-meta-description`},o):null,h=d||f?S.createElement("div",{className:`${l}-meta-detail`},d,f):null;return S.createElement("div",Object.assign({},a,{className:c}),u,h)},M4e=E4e,I$=C4e;I$.Grid=doe;I$.Meta=M4e;const Hu=I$;function P4e(t,e,n){var r=n||{},i=r.noTrailing,o=i===void 0?!1:i,a=r.noLeading,s=a===void 0?!1:a,l=r.debounceMode,c=l===void 0?void 0:l,u,d=!1,f=0;function h(){u&&clearTimeout(u)}function p(x){var y=x||{},w=y.upcomingOnly,C=w===void 0?!1:w;h(),d=!C}function _(){for(var x=arguments.length,y=new Array(x),w=0;w<x;w++)y[w]=arguments[w];var C=this,M=Date.now()-f;if(d)return;function R(){f=Date.now(),e.apply(C,y)}function N(){u=void 0}!s&&c&&!u&&R(),h(),c===void 0&&M>t?s?(f=Date.now(),o||(u=setTimeout(c?N:R,t))):R():o!==!0&&(u=setTimeout(c?N:R,c===void 0?t-M:t))}return _.cancel=p,_}function R4e(t,e,n){var r=n||{},i=r.atBegin,o=i===void 0?!1:i;return P4e(t,e,{debounceMode:o!==!1})}const N4e=S.createContext({}),foe=N4e;var I4e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function ej(t){return t==="auto"?"1 1 auto":typeof t=="number"?`${t} ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}const O4e=["xs","sm","md","lg","xl","xxl"],D4e=S.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=S.useContext(ir),{gutter:i,wrap:o}=S.useContext(foe),{prefixCls:a,span:s,order:l,offset:c,push:u,pull:d,className:f,children:h,flex:p,style:_}=t,x=I4e(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),y=n("col",a),[w,C,M]=OCe(y),R={};let N={};O4e.forEach(D=>{let $={};const z=t[D];typeof z=="number"?$.span=z:typeof z=="object"&&($=z||{}),delete x[D],N=Object.assign(Object.assign({},N),{[`${y}-${D}-${$.span}`]:$.span!==void 0,[`${y}-${D}-order-${$.order}`]:$.order||$.order===0,[`${y}-${D}-offset-${$.offset}`]:$.offset||$.offset===0,[`${y}-${D}-push-${$.push}`]:$.push||$.push===0,[`${y}-${D}-pull-${$.pull}`]:$.pull||$.pull===0,[`${y}-rtl`]:r==="rtl"}),$.flex&&(N[`${y}-${D}-flex`]=!0,R[`--${y}-${D}-flex`]=ej($.flex))});const I=je(y,{[`${y}-${s}`]:s!==void 0,[`${y}-order-${l}`]:l,[`${y}-offset-${c}`]:c,[`${y}-push-${u}`]:u,[`${y}-pull-${d}`]:d},f,N,C,M),B={};if(i!=null&&i[0]){const D=typeof i[0]=="number"?`${i[0]/2}px`:`calc(${i[0]} / 2)`;B.paddingLeft=D,B.paddingRight=D}return p&&(B.flex=ej(p),o===!1&&!B.minWidth&&(B.minWidth=0)),w(S.createElement("div",Object.assign({},x,{style:Object.assign(Object.assign(Object.assign({},B),_),R),className:I,ref:e}),h))}),qf=D4e;function L4e(t,e){const n=[void 0,void 0],r=Array.isArray(t)?t:[t,void 0],i=e||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((o,a)=>{if(typeof o=="object"&&o!==null)for(let s=0;s<rg.length;s++){const l=rg[s];if(i[l]&&o[l]!==void 0){n[a]=o[l];break}}else n[a]=o}),n}var B4e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function tj(t,e){const[n,r]=S.useState(typeof t=="string"?t:""),i=()=>{if(typeof t=="string"&&r(t),typeof t=="object")for(let o=0;o<rg.length;o++){const a=rg[o];if(!e||!e[a])continue;const s=t[a];if(s!==void 0){r(s);return}}};return S.useEffect(()=>{i()},[JSON.stringify(t),e]),n}const F4e=S.forwardRef((t,e)=>{const{prefixCls:n,justify:r,align:i,className:o,style:a,children:s,gutter:l=0,wrap:c}=t,u=B4e(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:d,direction:f}=S.useContext(ir),h=sR(!0,null),p=tj(i,h),_=tj(r,h),x=d("row",n),[y,w,C]=ICe(x),M=L4e(l,h),R=je(x,{[`${x}-no-wrap`]:c===!1,[`${x}-${_}`]:_,[`${x}-${p}`]:p,[`${x}-rtl`]:f==="rtl"},o,w,C),N={};if(M!=null&&M[0]){const $=typeof M[0]=="number"?`${M[0]/-2}px`:`calc(${M[0]} / -2)`;N.marginLeft=$,N.marginRight=$}const[I,B]=M;N.rowGap=B;const D=S.useMemo(()=>({gutter:[I,B],wrap:c}),[I,B,c]);return y(S.createElement(foe.Provider,{value:D},S.createElement("div",Object.assign({},u,{className:R,style:Object.assign(Object.assign({},N),a),ref:e}),s)))}),yR=F4e,$4e=t=>{const{componentCls:e}=t;return{[e]:{"&-horizontal":{[`&${e}`]:{"&-sm":{marginBlock:t.marginXS},"&-md":{marginBlock:t.margin}}}}}},k4e=t=>{const{componentCls:e,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:i,textPaddingInline:o,orientationMargin:a,verticalMarginInline:s}=t;return{[e]:Object.assign(Object.assign({},ho(t)),{borderBlockStart:`${ke(i)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${ke(i)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${ke(t.marginLG)} 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${ke(t.dividerHorizontalWithTextGutterMargin)} 0`,color:t.colorTextHeading,fontWeight:500,fontSize:t.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${ke(i)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-start`]:{"&::before":{width:`calc(${a} * 100%)`},"&::after":{width:`calc(100% - ${a} * 100%)`}},[`&-horizontal${e}-with-text-end`]:{"&::before":{width:`calc(100% - ${a} * 100%)`},"&::after":{width:`calc(${a} * 100%)`}},[`${e}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:o},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${ke(i)} 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${ke(i)} 0 0`},[`&-horizontal${e}-with-text${e}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${e}-dotted`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:t.colorText,fontWeight:"normal",fontSize:t.fontSize},[`&-horizontal${e}-with-text-start${e}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${e}-with-text-end${e}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:n}}})}},U4e=t=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:t.marginXS}),z4e=Ti("Divider",t=>{const e=Yr(t,{dividerHorizontalWithTextGutterMargin:t.margin,sizePaddingEdgeHorizontal:0});return[k4e(e),$4e(e)]},U4e,{unitless:{orientationMargin:!0}});var V4e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const G4e={small:"sm",middle:"md"},H4e=t=>{const{getPrefixCls:e,direction:n,className:r,style:i}=Fa("divider"),{prefixCls:o,type:a="horizontal",orientation:s="center",orientationMargin:l,className:c,rootClassName:u,children:d,dashed:f,variant:h="solid",plain:p,style:_,size:x}=t,y=V4e(t,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),w=e("divider",o),[C,M,R]=z4e(w),N=cl(x),I=G4e[N],B=!!d,D=S.useMemo(()=>s==="left"?n==="rtl"?"end":"start":s==="right"?n==="rtl"?"start":"end":s,[n,s]),$=D==="start"&&l!=null,z=D==="end"&&l!=null,V=je(w,r,M,R,`${w}-${a}`,{[`${w}-with-text`]:B,[`${w}-with-text-${D}`]:B,[`${w}-dashed`]:!!f,[`${w}-${h}`]:h!=="solid",[`${w}-plain`]:!!p,[`${w}-rtl`]:n==="rtl",[`${w}-no-default-orientation-margin-start`]:$,[`${w}-no-default-orientation-margin-end`]:z,[`${w}-${I}`]:!!I},c,u),q=S.useMemo(()=>typeof l=="number"?l:/^\d+$/.test(l)?Number(l):l,[l]),G={marginInlineStart:$?q:void 0,marginInlineEnd:z?q:void 0};return C(S.createElement("div",Object.assign({className:V,style:Object.assign(Object.assign({},i),_)},y,{role:"separator"}),d&&a!=="vertical"&&S.createElement("span",{className:`${w}-inner-text`,style:G},d)))},Sb=H4e;function j4e(t){return!!(t.addonBefore||t.addonAfter)}function q4e(t){return!!(t.prefix||t.suffix||t.allowClear)}function nj(t,e,n){var r=e.cloneNode(!0),i=Object.create(t,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},i}function BM(t,e,n,r){if(n){var i=e;if(e.type==="click"){i=nj(e,t,""),n(i);return}if(t.type!=="file"&&r!==void 0){i=nj(e,t,r),n(i);return}n(i)}}function hoe(t,e){if(t){t.focus(e);var n=e||{},r=n.cursor;if(r){var i=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}}}var poe=Ye.forwardRef(function(t,e){var n,r,i,o=t.inputElement,a=t.children,s=t.prefixCls,l=t.prefix,c=t.suffix,u=t.addonBefore,d=t.addonAfter,f=t.className,h=t.style,p=t.disabled,_=t.readOnly,x=t.focused,y=t.triggerFocus,w=t.allowClear,C=t.value,M=t.handleReset,R=t.hidden,N=t.classes,I=t.classNames,B=t.dataAttrs,D=t.styles,$=t.components,z=t.onClear,V=a??o,q=($==null?void 0:$.affixWrapper)||"span",G=($==null?void 0:$.groupWrapper)||"span",j=($==null?void 0:$.wrapper)||"span",H=($==null?void 0:$.groupAddon)||"span",X=S.useRef(null),Y=function(_e){var ve;(ve=X.current)!==null&&ve!==void 0&&ve.contains(_e.target)&&(y==null||y())},ee=q4e(t),Z=S.cloneElement(V,{value:C,className:je((n=V.props)===null||n===void 0?void 0:n.className,!ee&&(I==null?void 0:I.variant))||null}),re=S.useRef(null);if(Ye.useImperativeHandle(e,function(){return{nativeElement:re.current||X.current}}),ee){var ae=null;if(w){var ce=!p&&!_&&C,he="".concat(s,"-clear-icon"),ge=Dn(w)==="object"&&w!==null&&w!==void 0&&w.clearIcon?w.clearIcon:"";ae=Ye.createElement("button",{type:"button",tabIndex:-1,onClick:function(_e){M==null||M(_e),z==null||z()},onMouseDown:function(_e){return _e.preventDefault()},className:je(he,Re(Re({},"".concat(he,"-hidden"),!ce),"".concat(he,"-has-suffix"),!!c))},ge)}var se="".concat(s,"-affix-wrapper"),me=je(se,Re(Re(Re(Re(Re({},"".concat(s,"-disabled"),p),"".concat(se,"-disabled"),p),"".concat(se,"-focused"),x),"".concat(se,"-readonly"),_),"".concat(se,"-input-with-clear-btn"),c&&w&&C),N==null?void 0:N.affixWrapper,I==null?void 0:I.affixWrapper,I==null?void 0:I.variant),ye=(c||w)&&Ye.createElement("span",{className:je("".concat(s,"-suffix"),I==null?void 0:I.suffix),style:D==null?void 0:D.suffix},ae,c);Z=Ye.createElement(q,ft({className:me,style:D==null?void 0:D.affixWrapper,onClick:Y},B==null?void 0:B.affixWrapper,{ref:X}),l&&Ye.createElement("span",{className:je("".concat(s,"-prefix"),I==null?void 0:I.prefix),style:D==null?void 0:D.prefix},l),Z,ye)}if(j4e(t)){var we="".concat(s,"-group"),Ee="".concat(we,"-addon"),Me="".concat(we,"-wrapper"),Oe=je("".concat(s,"-wrapper"),we,N==null?void 0:N.wrapper,I==null?void 0:I.wrapper),Ue=je(Me,Re({},"".concat(Me,"-disabled"),p),N==null?void 0:N.group,I==null?void 0:I.groupWrapper);Z=Ye.createElement(G,{className:Ue,ref:re},Ye.createElement(j,{className:Oe},u&&Ye.createElement(H,{className:Ee},u),Z,d&&Ye.createElement(H,{className:Ee},d)))}return Ye.cloneElement(Z,{className:je((r=Z.props)===null||r===void 0?void 0:r.className,f)||null,style:Ie(Ie({},(i=Z.props)===null||i===void 0?void 0:i.style),h),hidden:R})}),W4e=["show"];function moe(t,e){return S.useMemo(function(){var n={};e&&(n.show=Dn(e)==="object"&&e.formatter?e.formatter:!!e),n=Ie(Ie({},n),t);var r=n,i=r.show,o=pr(r,W4e);return Ie(Ie({},o),{},{show:!!i,showFormatter:typeof i=="function"?i:void 0,strategy:o.strategy||function(a){return a.length}})},[t,e])}var X4e=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],Y4e=S.forwardRef(function(t,e){var n=t.autoComplete,r=t.onChange,i=t.onFocus,o=t.onBlur,a=t.onPressEnter,s=t.onKeyDown,l=t.onKeyUp,c=t.prefixCls,u=c===void 0?"rc-input":c,d=t.disabled,f=t.htmlSize,h=t.className,p=t.maxLength,_=t.suffix,x=t.showCount,y=t.count,w=t.type,C=w===void 0?"text":w,M=t.classes,R=t.classNames,N=t.styles,I=t.onCompositionStart,B=t.onCompositionEnd,D=pr(t,X4e),$=S.useState(!1),z=ze($,2),V=z[0],q=z[1],G=S.useRef(!1),j=S.useRef(!1),H=S.useRef(null),X=S.useRef(null),Y=function(te){H.current&&hoe(H.current,te)},ee=Ui(t.defaultValue,{value:t.value}),Z=ze(ee,2),re=Z[0],ae=Z[1],ce=re==null?"":String(re),he=S.useState(null),ge=ze(he,2),se=ge[0],me=ge[1],ye=moe(y,x),we=ye.max||p,Ee=ye.strategy(ce),Me=!!we&&Ee>we;S.useImperativeHandle(e,function(){var pe;return{focus:Y,blur:function(){var Ne;(Ne=H.current)===null||Ne===void 0||Ne.blur()},setSelectionRange:function(Ne,qe,gt){var tt;(tt=H.current)===null||tt===void 0||tt.setSelectionRange(Ne,qe,gt)},select:function(){var Ne;(Ne=H.current)===null||Ne===void 0||Ne.select()},input:H.current,nativeElement:((pe=X.current)===null||pe===void 0?void 0:pe.nativeElement)||H.current}}),S.useEffect(function(){j.current&&(j.current=!1),q(function(pe){return pe&&d?!1:pe})},[d]);var Oe=function(te,Ne,qe){var gt=Ne;if(!G.current&&ye.exceedFormatter&&ye.max&&ye.strategy(Ne)>ye.max){if(gt=ye.exceedFormatter(Ne,{max:ye.max}),Ne!==gt){var tt,wt;me([((tt=H.current)===null||tt===void 0?void 0:tt.selectionStart)||0,((wt=H.current)===null||wt===void 0?void 0:wt.selectionEnd)||0])}}else if(qe.source==="compositionEnd")return;ae(gt),H.current&&BM(H.current,te,r,gt)};S.useEffect(function(){if(se){var pe;(pe=H.current)===null||pe===void 0||pe.setSelectionRange.apply(pe,Xt(se))}},[se]);var Ue=function(te){Oe(te,te.target.value,{source:"change"})},Se=function(te){G.current=!1,Oe(te,te.currentTarget.value,{source:"compositionEnd"}),B==null||B(te)},_e=function(te){a&&te.key==="Enter"&&!j.current&&(j.current=!0,a(te)),s==null||s(te)},ve=function(te){te.key==="Enter"&&(j.current=!1),l==null||l(te)},Ge=function(te){q(!0),i==null||i(te)},ue=function(te){j.current&&(j.current=!1),q(!1),o==null||o(te)},at=function(te){ae(""),Y(),H.current&&BM(H.current,te,r)},nt=Me&&"".concat(u,"-out-of-range"),ct=function(){var te=po(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return Ye.createElement("input",ft({autoComplete:n},te,{onChange:Ue,onFocus:Ge,onBlur:ue,onKeyDown:_e,onKeyUp:ve,className:je(u,Re({},"".concat(u,"-disabled"),d),R==null?void 0:R.input),style:N==null?void 0:N.input,ref:H,size:f,type:C,onCompositionStart:function(qe){G.current=!0,I==null||I(qe)},onCompositionEnd:Se}))},Ze=function(){var te=Number(we)>0;if(_||ye.show){var Ne=ye.showFormatter?ye.showFormatter({value:ce,count:Ee,maxLength:we}):"".concat(Ee).concat(te?" / ".concat(we):"");return Ye.createElement(Ye.Fragment,null,ye.show&&Ye.createElement("span",{className:je("".concat(u,"-show-count-suffix"),Re({},"".concat(u,"-show-count-has-suffix"),!!_),R==null?void 0:R.count),style:Ie({},N==null?void 0:N.count)},Ne),_)}return null};return Ye.createElement(poe,ft({},D,{prefixCls:u,className:je(h,nt),handleReset:at,value:ce,focused:V,triggerFocus:Y,suffix:Ze(),disabled:d,classes:M,classNames:R,styles:N,ref:X}),ct())});const K4e=t=>{let e;return typeof t=="object"&&(t!=null&&t.clearIcon)?e=t:t&&(e={clearIcon:Ye.createElement(s1,null)}),e},goe=K4e;function Aoe(t,e){const n=S.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var i,o,a,s;!((i=t.current)===null||i===void 0)&&i.input&&((o=t.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((a=t.current)===null||a===void 0)&&a.input.hasAttribute("value"))&&((s=t.current)===null||s===void 0||s.input.removeAttribute("value"))}))};return S.useEffect(()=>(e&&r(),()=>n.current.forEach(i=>{i&&clearTimeout(i)})),[]),r}function Q4e(t){return!!(t.prefix||t.suffix||t.allowClear||t.showCount)}var Z4e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const J4e=S.forwardRef((t,e)=>{const{prefixCls:n,bordered:r=!0,status:i,size:o,disabled:a,onBlur:s,onFocus:l,suffix:c,allowClear:u,addonAfter:d,addonBefore:f,className:h,style:p,styles:_,rootClassName:x,onChange:y,classNames:w,variant:C,_skipAddonWarning:M}=t,R=Z4e(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant","_skipAddonWarning"]),{getPrefixCls:N,direction:I,allowClear:B,autoComplete:D,className:$,style:z,classNames:V,styles:q}=Fa("input"),G=N("input",n),j=S.useRef(null),H=_c(G),[X,Y,ee]=roe(G,x),[Z]=ioe(G,H),{compactSize:re,compactItemClassnames:ae}=Cg(G,I),ce=cl(at=>{var nt;return(nt=o??re)!==null&&nt!==void 0?nt:at}),he=Ye.useContext(wh),ge=a??he,{status:se,hasFeedback:me,feedbackIcon:ye}=S.useContext(ol),we=f1(se,i),Ee=Q4e(t)||!!me;S.useRef(Ee);const Me=Aoe(j,!0),Oe=at=>{Me(),s==null||s(at)},Ue=at=>{Me(),l==null||l(at)},Se=at=>{Me(),y==null||y(at)},_e=(me||c)&&Ye.createElement(Ye.Fragment,null,c,me&&ye),ve=goe(u??B),[Ge,ue]=h1("input",C,r);return X(Z(Ye.createElement(Y4e,Object.assign({ref:kl(e,j),prefixCls:G,autoComplete:D},R,{disabled:ge,onBlur:Oe,onFocus:Ue,style:Object.assign(Object.assign({},z),p),styles:Object.assign(Object.assign({},q),_),suffix:_e,allowClear:ve,className:je(h,x,ee,H,ae,$),onChange:Se,addonBefore:f&&Ye.createElement(ng,{form:!0,space:!0},f),addonAfter:d&&Ye.createElement(ng,{form:!0,space:!0},d),classNames:Object.assign(Object.assign(Object.assign({},w),V),{input:je({[`${G}-sm`]:ce==="small",[`${G}-lg`]:ce==="large",[`${G}-rtl`]:I==="rtl"},w==null?void 0:w.input,V.input,Y),variant:je({[`${G}-${Ge}`]:ue},ny(G,we)),affixWrapper:je({[`${G}-affix-wrapper-sm`]:ce==="small",[`${G}-affix-wrapper-lg`]:ce==="large",[`${G}-affix-wrapper-rtl`]:I==="rtl"},Y),wrapper:je({[`${G}-group-rtl`]:I==="rtl"},Y),groupWrapper:je({[`${G}-group-wrapper-sm`]:ce==="small",[`${G}-group-wrapper-lg`]:ce==="large",[`${G}-group-wrapper-rtl`]:I==="rtl",[`${G}-group-wrapper-${Ge}`]:ue},ny(`${G}-group-wrapper`,we,me),Y)})}))))}),bR=J4e;var eIe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"};const tIe=eIe;var nIe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:tIe}))},rIe=S.forwardRef(nIe);const iIe=rIe,oIe=(t,e,n,r,i)=>{const{classNames:o,styles:a}=Fa(t),[s,l]=y_e([o,e],[a,n],{popup:{_default:"root"}});return S.useMemo(()=>{var c,u;const d=Object.assign(Object.assign({},s),{popup:Object.assign(Object.assign({},s.popup),{root:je((c=s.popup)===null||c===void 0?void 0:c.root,r)})}),f=Object.assign(Object.assign({},l),{popup:Object.assign(Object.assign({},l.popup),{root:Object.assign(Object.assign({},(u=l.popup)===null||u===void 0?void 0:u.root),i)})});return[d,f]},[s,l,r,i])},voe=oIe;function aIe(t,e,n){return n!==void 0?n:e==="year"&&t.lang.yearPlaceholder?t.lang.yearPlaceholder:e==="quarter"&&t.lang.quarterPlaceholder?t.lang.quarterPlaceholder:e==="month"&&t.lang.monthPlaceholder?t.lang.monthPlaceholder:e==="week"&&t.lang.weekPlaceholder?t.lang.weekPlaceholder:e==="time"&&t.timePickerLocale.placeholder?t.timePickerLocale.placeholder:t.lang.placeholder}function sIe(t,e,n){return n!==void 0?n:e==="year"&&t.lang.yearPlaceholder?t.lang.rangeYearPlaceholder:e==="quarter"&&t.lang.quarterPlaceholder?t.lang.rangeQuarterPlaceholder:e==="month"&&t.lang.monthPlaceholder?t.lang.rangeMonthPlaceholder:e==="week"&&t.lang.weekPlaceholder?t.lang.rangeWeekPlaceholder:e==="time"&&t.timePickerLocale.placeholder?t.timePickerLocale.rangePlaceholder:t.lang.rangePlaceholder}function yoe(t,e){const{allowClear:n=!0}=t,{clearIcon:r,removeIcon:i}=Tre(Object.assign(Object.assign({},t),{prefixCls:e,componentName:"DatePicker"}));return[S.useMemo(()=>n===!1?!1:Object.assign({clearIcon:r},n===!0?{}:n),[n,r]),i]}const[lIe,cIe]=["week","WeekPicker"],[uIe,dIe]=["month","MonthPicker"],[fIe,hIe]=["year","YearPicker"],[pIe,mIe]=["quarter","QuarterPicker"],[O$,rj]=["time","TimePicker"];var gIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"};const AIe=gIe;var vIe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:AIe}))},yIe=S.forwardRef(vIe);const bIe=yIe;var xIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};const _Ie=xIe;var SIe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:_Ie}))},wIe=S.forwardRef(SIe);const CIe=wIe,TIe=({picker:t,hasFeedback:e,feedbackIcon:n,suffixIcon:r})=>r===null||r===!1?null:r===!0||r===void 0?Ye.createElement(Ye.Fragment,null,t===O$?Ye.createElement(CIe,null):Ye.createElement(bIe,null),e&&n):r,boe=TIe,EIe=t=>S.createElement(Go,Object.assign({size:"small",type:"primary"},t)),MIe=EIe;function xoe(t){return S.useMemo(()=>Object.assign({button:MIe},t),[t])}var PIe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const RIe=t=>S.forwardRef((n,r)=>{var i;const{prefixCls:o,getPopupContainer:a,components:s,className:l,style:c,placement:u,size:d,disabled:f,bordered:h=!0,placeholder:p,popupStyle:_,popupClassName:x,dropdownClassName:y,status:w,rootClassName:C,variant:M,picker:R,styles:N,classNames:I,suffixIcon:B}=n,D=PIe(n,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupStyle","popupClassName","dropdownClassName","status","rootClassName","variant","picker","styles","classNames","suffixIcon"]),$=R===O$?"timePicker":"datePicker",z=S.useRef(null),{getPrefixCls:V,direction:q,getPopupContainer:G,rangePicker:j}=S.useContext(ir),H=V("picker",o),{compactSize:X,compactItemClassnames:Y}=Cg(H,q),ee=V(),[Z,re]=h1("rangePicker",M,h),ae=_c(H),[ce,he,ge]=ooe(H,ae),[se,me]=voe($,I,N,x||y,_),[ye]=yoe(n,H),we=xoe(s),Ee=cl(ct=>{var Ze;return(Ze=d??X)!==null&&Ze!==void 0?Ze:ct}),Me=S.useContext(wh),Oe=f??Me,Ue=S.useContext(ol),{hasFeedback:Se,status:_e,feedbackIcon:ve}=Ue,Ge=S.createElement(boe,{picker:R,hasFeedback:Se,feedbackIcon:ve,suffixIcon:B});S.useImperativeHandle(r,()=>z.current);const[ue]=xc("Calendar",_M),at=Object.assign(Object.assign({},ue),n.locale),[nt]=l1("DatePicker",(i=me.popup.root)===null||i===void 0?void 0:i.zIndex);return ce(S.createElement(ng,{space:!0},S.createElement(VRe,Object.assign({separator:S.createElement("span",{"aria-label":"to",className:`${H}-separator`},S.createElement(iIe,null)),disabled:Oe,ref:z,placement:u,placeholder:sIe(at,R,p),suffixIcon:Ge,prevIcon:S.createElement("span",{className:`${H}-prev-icon`}),nextIcon:S.createElement("span",{className:`${H}-next-icon`}),superPrevIcon:S.createElement("span",{className:`${H}-super-prev-icon`}),superNextIcon:S.createElement("span",{className:`${H}-super-next-icon`}),transitionName:`${ee}-slide-up`,picker:R},D,{className:je({[`${H}-${Ee}`]:Ee,[`${H}-${Z}`]:re},ny(H,f1(_e,w),Se),he,Y,l,j==null?void 0:j.className,ge,ae,C,se.root),style:Object.assign(Object.assign(Object.assign({},j==null?void 0:j.style),c),me.root),locale:at.lang,prefixCls:H,getPopupContainer:a||G,generateConfig:t,components:we,direction:q,classNames:{popup:je(he,ge,ae,C,se.popup.root)},styles:{popup:Object.assign(Object.assign({},me.popup.root),{zIndex:nt})},allowClear:ye}))))}),NIe=RIe;var IIe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const OIe=t=>{const e=(l,c)=>{const u=c===rj?"timePicker":"datePicker";return S.forwardRef((f,h)=>{var p;const{prefixCls:_,getPopupContainer:x,components:y,style:w,className:C,rootClassName:M,size:R,bordered:N,placement:I,placeholder:B,popupStyle:D,popupClassName:$,dropdownClassName:z,disabled:V,status:q,variant:G,onCalendarChange:j,styles:H,classNames:X,suffixIcon:Y}=f,ee=IIe(f,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupStyle","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange","styles","classNames","suffixIcon"]),{getPrefixCls:Z,direction:re,getPopupContainer:ae,[u]:ce}=S.useContext(ir),he=Z("picker",_),{compactSize:ge,compactItemClassnames:se}=Cg(he,re),me=S.useRef(null),[ye,we]=h1("datePicker",G,N),Ee=_c(he),[Me,Oe,Ue]=ooe(he,Ee);S.useImperativeHandle(h,()=>me.current);const Se={showToday:!0},_e=l||f.picker,ve=Z(),{onSelect:Ge,multiple:ue}=ee,at=Ge&&l==="time"&&!ue,nt=(Ke,Rt,$e)=>{j==null||j(Ke,Rt,$e),at&&Ge(Ke)},[ct,Ze]=voe(u,X,H,$||z,D),[pe,te]=yoe(f,he),Ne=xoe(y),qe=cl(Ke=>{var Rt;return(Rt=R??ge)!==null&&Rt!==void 0?Rt:Ke}),gt=S.useContext(wh),tt=V??gt,wt=S.useContext(ol),{hasFeedback:_t,status:Et,feedbackIcon:Tt}=wt,ht=S.createElement(boe,{picker:_e,hasFeedback:_t,feedbackIcon:Tt,suffixIcon:Y}),[Xe]=xc("DatePicker",_M),pt=Object.assign(Object.assign({},Xe),f.locale),[ut]=l1("DatePicker",(p=Ze.popup.root)===null||p===void 0?void 0:p.zIndex);return Me(S.createElement(ng,{space:!0},S.createElement(XRe,Object.assign({ref:me,placeholder:aIe(pt,_e,B),suffixIcon:ht,placement:I,prevIcon:S.createElement("span",{className:`${he}-prev-icon`}),nextIcon:S.createElement("span",{className:`${he}-next-icon`}),superPrevIcon:S.createElement("span",{className:`${he}-super-prev-icon`}),superNextIcon:S.createElement("span",{className:`${he}-super-next-icon`}),transitionName:`${ve}-slide-up`,picker:l,onCalendarChange:nt},Se,ee,{locale:pt.lang,className:je({[`${he}-${qe}`]:qe,[`${he}-${ye}`]:we},ny(he,f1(Et,q),_t),Oe,se,ce==null?void 0:ce.className,C,Ue,Ee,M,ct.root),style:Object.assign(Object.assign(Object.assign({},ce==null?void 0:ce.style),w),Ze.root),prefixCls:he,getPopupContainer:x||ae,generateConfig:t,components:Ne,direction:re,disabled:tt,classNames:{popup:je(Oe,Ue,Ee,M,ct.popup.root)},styles:{popup:Object.assign(Object.assign({},Ze.popup.root),{zIndex:ut})},allowClear:pe,removeIcon:te}))))})},n=e(),r=e(lIe,cIe),i=e(uIe,dIe),o=e(fIe,hIe),a=e(pIe,mIe),s=e(O$,rj);return{DatePicker:n,WeekPicker:r,MonthPicker:i,YearPicker:o,TimePicker:s,QuarterPicker:a}},DIe=OIe,LIe=t=>{const{DatePicker:e,WeekPicker:n,MonthPicker:r,YearPicker:i,TimePicker:o,QuarterPicker:a}=DIe(t),s=NIe(t),l=e;return l.WeekPicker=n,l.MonthPicker=r,l.YearPicker=i,l.RangePicker=s,l.TimePicker=o,l.QuarterPicker=a,l},_oe=LIe,y1=_oe(KPe),BIe=iR(y1,"popupAlign",void 0,"picker");y1._InternalPanelDoNotUseOrYouWillBeFired=BIe;const FIe=iR(y1.RangePicker,"popupAlign",void 0,"picker");y1._InternalRangePanelDoNotUseOrYouWillBeFired=FIe;y1.generatePicker=_oe;const ij=y1;function $Ie(t){return t==null?null:typeof t=="object"&&!S.isValidElement(t)?t:{title:t}}function FM(t){const[e,n]=S.useState(t);return S.useEffect(()=>{const r=setTimeout(()=>{n(t)},t.length?0:10);return()=>{clearTimeout(r)}},[t]),e}const kIe=t=>{const{componentCls:e}=t,n=`${e}-show-help`,r=`${e}-show-help-item`;return{[n]:{transition:`opacity ${t.motionDurationFast} ${t.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${t.motionDurationFast} ${t.motionEaseInOut},
                     opacity ${t.motionDurationFast} ${t.motionEaseInOut},
                     transform ${t.motionDurationFast} ${t.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},UIe=kIe,zIe=t=>({legend:{display:"block",width:"100%",marginBottom:t.marginLG,padding:0,color:t.colorTextDescription,fontSize:t.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${ke(t.controlOutlineWidth)} ${t.controlOutline}`},output:{display:"block",paddingTop:15,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight}}),oj=(t,e)=>{const{formItemCls:n}=t;return{[n]:{[`${n}-label > label`]:{height:e},[`${n}-control-input`]:{minHeight:e}}}},VIe=t=>{const{componentCls:e}=t;return{[t.componentCls]:Object.assign(Object.assign(Object.assign({},ho(t)),zIe(t)),{[`${e}-text`]:{display:"inline-block",paddingInlineEnd:t.paddingSM},"&-small":Object.assign({},oj(t,t.controlHeightSM)),"&-large":Object.assign({},oj(t,t.controlHeightLG))})}},GIe=t=>{const{formItemCls:e,iconCls:n,rootPrefixCls:r,antCls:i,labelRequiredMarkColor:o,labelColor:a,labelFontSize:s,labelHeight:l,labelColonMarginInlineStart:c,labelColonMarginInlineEnd:u,itemMarginBottom:d}=t;return{[e]:Object.assign(Object.assign({},ho(t)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${i}-row`]:{display:"none"},"&-has-warning":{[`${e}-split`]:{color:t.colorError}},"&-has-error":{[`${e}-split`]:{color:t.colorWarning}},[`${e}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:t.lineHeight,whiteSpace:"unset","> label":{verticalAlign:"middle",textWrap:"balance"}},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:l,color:a,fontSize:s,[`> ${n}`]:{fontSize:t.fontSize,verticalAlign:"top"},[`&${e}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:t.marginXXS,color:o,fontSize:t.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${e}-required-mark-hidden, &${e}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${e}-optional`]:{display:"inline-block",marginInlineStart:t.marginXXS,color:t.colorTextDescription,[`&${e}-required-mark-hidden`]:{display:"none"}},[`${e}-tooltip`]:{color:t.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:t.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:c,marginInlineEnd:u},[`&${e}-no-colon::after`]:{content:'"\\a0"'}}},[`${e}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${r}-col-'"]):not([class*="' ${r}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:t.controlHeight,"&-content":{flex:"auto",maxWidth:"100%",[`&:has(> ${i}-switch:only-child, > ${i}-rate:only-child)`]:{display:"flex",alignItems:"center"}}}},[e]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:t.colorTextDescription,fontSize:t.fontSize,lineHeight:t.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:t.controlHeightSM,transition:`color ${t.motionDurationMid} ${t.motionEaseOut}`},"&-explain":{"&-error":{color:t.colorError},"&-warning":{color:t.colorWarning}}},[`&-with-help ${e}-explain`]:{height:"auto",opacity:1},[`${e}-feedback-icon`]:{fontSize:t.fontSize,textAlign:"center",visibility:"visible",animationName:YF,animationDuration:t.motionDurationMid,animationTimingFunction:t.motionEaseOutBack,pointerEvents:"none","&-success":{color:t.colorSuccess},"&-error":{color:t.colorError},"&-warning":{color:t.colorWarning},"&-validating":{color:t.colorPrimary}}})}},p0=t=>({padding:t.verticalLabelPadding,margin:t.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),HIe=t=>{const{antCls:e,formItemCls:n}=t;return{[`${n}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}},[`${e}-col-24${n}-label,
        ${e}-col-xl-24${n}-label`]:p0(t)}}},jIe=t=>{const{componentCls:e,formItemCls:n,inlineItemMarginBottom:r}=t;return{[`${e}-inline`]:{display:"flex",flexWrap:"wrap",[`${n}-inline`]:{flex:"none",marginInlineEnd:t.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,
        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${e}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},qIe=t=>{const{componentCls:e,formItemCls:n,rootPrefixCls:r}=t;return{[`${n} ${n}-label`]:p0(t),[`${e}:not(${e}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},WIe=t=>{const{componentCls:e,formItemCls:n,antCls:r}=t;return{[`${n}-vertical`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,
        ${r}-col-24${n}-label,
        ${r}-col-xl-24${n}-label`]:p0(t)},[`@media (max-width: ${ke(t.screenXSMax)})`]:[qIe(t),{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:p0(t)}}}],[`@media (max-width: ${ke(t.screenSMMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:p0(t)}}},[`@media (max-width: ${ke(t.screenMDMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:p0(t)}}},[`@media (max-width: ${ke(t.screenLGMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:p0(t)}}}}},XIe=t=>({labelRequiredMarkColor:t.colorError,labelColor:t.colorTextHeading,labelFontSize:t.fontSize,labelHeight:t.controlHeight,labelColonMarginInlineStart:t.marginXXS/2,labelColonMarginInlineEnd:t.marginXS,itemMarginBottom:t.marginLG,verticalLabelPadding:`0 0 ${t.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),Soe=(t,e)=>Yr(t,{formItemCls:`${t.componentCls}-item`,rootPrefixCls:e}),D$=Ti("Form",(t,{rootPrefixCls:e})=>{const n=Soe(t,e);return[VIe(n),GIe(n),UIe(n),HIe(n),jIe(n),WIe(n),N2e(n),YF]},XIe,{order:-1e3}),aj=[];function OI(t,e,n,r=0){return{key:typeof t=="string"?t:`${e}-${r}`,error:t,errorStatus:n}}const YIe=({help:t,helpStatus:e,errors:n=aj,warnings:r=aj,className:i,fieldId:o,onVisibleChanged:a})=>{const{prefixCls:s}=S.useContext(o$),l=`${s}-item-explain`,c=_c(s),[u,d,f]=D$(s,c),h=S.useMemo(()=>yG(s),[s]),p=FM(n),_=FM(r),x=S.useMemo(()=>t!=null?[OI(t,"help",e)]:[].concat(Xt(p.map((C,M)=>OI(C,"error","error",M))),Xt(_.map((C,M)=>OI(C,"warning","warning",M)))),[t,e,p,_]),y=S.useMemo(()=>{const C={};return x.forEach(({key:M})=>{C[M]=(C[M]||0)+1}),x.map((M,R)=>Object.assign(Object.assign({},M),{key:C[M.key]>1?`${M.key}-fallback-${R}`:M.key}))},[x]),w={};return o&&(w.id=`${o}_help`),u(S.createElement(dd,{motionDeadline:h.motionDeadline,motionName:`${s}-show-help`,visible:!!y.length,onVisibleChanged:a},C=>{const{className:M,style:R}=C;return S.createElement("div",Object.assign({},w,{className:je(l,M,f,c,i,d),style:R}),S.createElement(jte,Object.assign({keys:y},yG(s),{motionName:`${s}-show-help-item`,component:!1}),N=>{const{key:I,error:B,errorStatus:D,className:$,style:z}=N;return S.createElement("div",{key:I,className:je($,{[`${l}-${D}`]:D}),style:z},B)}))}))},woe=YIe;var KIe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const QIe=(t,e)=>{const n=S.useContext(wh),{getPrefixCls:r,direction:i,requiredMark:o,colon:a,scrollToFirstError:s,className:l,style:c}=Fa("form"),{prefixCls:u,className:d,rootClassName:f,size:h,disabled:p=n,form:_,colon:x,labelAlign:y,labelWrap:w,labelCol:C,wrapperCol:M,hideRequiredMark:R,layout:N="horizontal",scrollToFirstError:I,requiredMark:B,onFinishFailed:D,name:$,style:z,feedbackIcons:V,variant:q}=t,G=KIe(t,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),j=cl(h),H=S.useContext(vte),X=S.useMemo(()=>B!==void 0?B:R?!1:o!==void 0?o:!0,[R,B,o]),Y=x??a,ee=r("form",u),Z=_c(ee),[re,ae,ce]=D$(ee,Z),he=je(ee,`${ee}-${N}`,{[`${ee}-hide-required-mark`]:X===!1,[`${ee}-rtl`]:i==="rtl",[`${ee}-${j}`]:j},ce,Z,ae,l,d,f),[ge]=Xie(_),{__INTERNAL__:se}=ge;se.name=$;const me=S.useMemo(()=>({name:$,labelAlign:y,labelCol:C,labelWrap:w,wrapperCol:M,layout:N,colon:Y,requiredMark:X,itemRef:se.itemRef,form:ge,feedbackIcons:V}),[$,y,C,M,N,Y,X,ge,V]),ye=S.useRef(null);S.useImperativeHandle(e,()=>{var Me;return Object.assign(Object.assign({},ge),{nativeElement:(Me=ye.current)===null||Me===void 0?void 0:Me.nativeElement})});const we=(Me,Oe)=>{if(Me){let Ue={block:"nearest"};typeof Me=="object"&&(Ue=Object.assign(Object.assign({},Ue),Me)),ge.scrollToField(Oe,Ue)}},Ee=Me=>{if(D==null||D(Me),Me.errorFields.length){const Oe=Me.errorFields[0].name;if(I!==void 0){we(I,Oe);return}s!==void 0&&we(s,Oe)}};return re(S.createElement($ne.Provider,{value:q},S.createElement(FF,{disabled:p},S.createElement(Y2.Provider,{value:j},S.createElement(Bne,{validateMessages:H},S.createElement(uh.Provider,{value:me},S.createElement(Fne,{status:!0},S.createElement(c1,Object.assign({id:$},G,{name:$,onFinishFailed:Ee,form:ge,ref:ye,style:Object.assign(Object.assign({},c),z),className:he})))))))))},ZIe=S.forwardRef(QIe),JIe=ZIe;function eOe(t){if(typeof t=="function")return t;const e=mc(t);return e.length<=1?e[0]:e}const Coe=()=>{const{status:t,errors:e=[],warnings:n=[]}=S.useContext(ol);return{status:t,errors:e,warnings:n}};Coe.Context=ol;const tOe=Coe;function nOe(t){const[e,n]=S.useState(t),r=S.useRef(null),i=S.useRef([]),o=S.useRef(!1);S.useEffect(()=>(o.current=!1,()=>{o.current=!0,qr.cancel(r.current),r.current=null}),[]);function a(s){o.current||(r.current===null&&(i.current=[],r.current=qr(()=>{r.current=null,n(l=>{let c=l;return i.current.forEach(u=>{c=u(c)}),c})})),i.current.push(s))}return[e,a]}function rOe(){const{itemRef:t}=S.useContext(uh),e=S.useRef({});function n(r,i){const o=i&&typeof i=="object"&&Sg(i),a=r.join("_");return(e.current.name!==a||e.current.originRef!==o)&&(e.current.name=a,e.current.originRef=o,e.current.ref=kl(t(r),o)),e.current.ref}return n}const iOe=t=>{const{formItemCls:e}=t;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${e}-control`]:{display:"flex"}}}},oOe=o1(["Form","item-item"],(t,{rootPrefixCls:e})=>{const n=Soe(t,e);return iOe(n)});var aOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const sOe=24,lOe=t=>{const{prefixCls:e,status:n,labelCol:r,wrapperCol:i,children:o,errors:a,warnings:s,_internalItemRender:l,extra:c,help:u,fieldId:d,marginBottom:f,onErrorVisibleChanged:h,label:p}=t,_=`${e}-item`,x=S.useContext(uh),y=S.useMemo(()=>{let G=Object.assign({},i||x.wrapperCol||{});return p===null&&!r&&!i&&x.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(H=>{const X=H?[H]:[],Y=Wc(x.labelCol,X),ee=typeof Y=="object"?Y:{},Z=Wc(G,X),re=typeof Z=="object"?Z:{};"span"in ee&&!("offset"in re)&&ee.span<sOe&&(G=Vc(G,[].concat(X,["offset"]),ee.span))}),G},[i,x.wrapperCol,x.labelCol,p,r]),w=je(`${_}-control`,y.className),C=S.useMemo(()=>aOe(x,["labelCol","wrapperCol"]),[x]),M=S.useRef(null),[R,N]=S.useState(0);zr(()=>{c&&M.current?N(M.current.clientHeight):N(0)},[c]);const I=S.createElement("div",{className:`${_}-control-input`},S.createElement("div",{className:`${_}-control-input-content`},o)),B=S.useMemo(()=>({prefixCls:e,status:n}),[e,n]),D=f!==null||a.length||s.length?S.createElement(o$.Provider,{value:B},S.createElement(woe,{fieldId:d,errors:a,warnings:s,help:u,helpStatus:n,className:`${_}-explain-connected`,onVisibleChanged:h})):null,$={};d&&($.id=`${d}_extra`);const z=c?S.createElement("div",Object.assign({},$,{className:`${_}-extra`,ref:M}),c):null,V=D||z?S.createElement("div",{className:`${_}-additional`,style:f?{minHeight:f+R}:{}},D,z):null,q=l&&l.mark==="pro_table_render"&&l.render?l.render(t,{input:I,errorList:D,extra:z}):S.createElement(S.Fragment,null,I,V);return S.createElement(uh.Provider,{value:C},S.createElement(qf,Object.assign({},y,{className:w}),q),S.createElement(oOe,{prefixCls:e}))},cOe=lOe;var uOe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};const dOe=uOe;var fOe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:dOe}))},hOe=S.forwardRef(fOe);const pOe=hOe;var mOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const gOe=({prefixCls:t,label:e,htmlFor:n,labelCol:r,labelAlign:i,colon:o,required:a,requiredMark:s,tooltip:l,vertical:c})=>{var u;const[d]=xc("Form"),{labelAlign:f,labelCol:h,labelWrap:p,colon:_}=S.useContext(uh);if(!e)return null;const x=r||h||{},y=i||f,w=`${t}-item-label`,C=je(w,y==="left"&&`${w}-left`,x.className,{[`${w}-wrap`]:!!p});let M=e;const R=o===!0||_!==!1&&o!==!1;R&&!c&&typeof e=="string"&&e.trim()&&(M=e.replace(/[:|]\s*$/,""));const I=$Ie(l);if(I){const{icon:q=S.createElement(pOe,null)}=I,G=mOe(I,["icon"]),j=S.createElement(Tg,Object.assign({},G),S.cloneElement(q,{className:`${t}-item-tooltip`,title:"",onClick:H=>{H.preventDefault()},tabIndex:null}));M=S.createElement(S.Fragment,null,M,j)}const B=s==="optional",D=typeof s=="function",$=s===!1;D?M=s(M,{required:!!a}):B&&!a&&(M=S.createElement(S.Fragment,null,M,S.createElement("span",{className:`${t}-item-optional`,title:""},(d==null?void 0:d.optional)||((u=ff.Form)===null||u===void 0?void 0:u.optional))));let z;$?z="hidden":(B||D)&&(z="optional");const V=je({[`${t}-item-required`]:a,[`${t}-item-required-mark-${z}`]:z,[`${t}-item-no-colon`]:!R});return S.createElement(qf,Object.assign({},x,{className:C}),S.createElement("label",{htmlFor:n,className:V,title:typeof e=="string"?e:""},M))},AOe=gOe,vOe={success:qP,warning:Z2,error:s1,validating:J2};function Toe({children:t,errors:e,warnings:n,hasFeedback:r,validateStatus:i,prefixCls:o,meta:a,noStyle:s,name:l}){const c=`${o}-item`,{feedbackIcons:u}=S.useContext(uh),d=Wie(e,n,a,null,!!r,i),{isFormItemInput:f,status:h,hasFeedback:p,feedbackIcon:_,name:x}=S.useContext(ol),y=S.useMemo(()=>{var w;let C;if(r){const R=r!==!0&&r.icons||u,N=d&&((w=R==null?void 0:R({status:d,errors:e,warnings:n}))===null||w===void 0?void 0:w[d]),I=d?vOe[d]:null;C=N!==!1&&I?S.createElement("span",{className:je(`${c}-feedback-icon`,`${c}-feedback-icon-${d}`)},N||S.createElement(I,null)):null}const M={status:d||"",errors:e,warnings:n,hasFeedback:!!r,feedbackIcon:C,isFormItemInput:!0,name:l};return s&&(M.status=(d??h)||"",M.isFormItemInput=f,M.hasFeedback=!!(r??p),M.feedbackIcon=r!==void 0?M.feedbackIcon:_,M.name=l??x),M},[d,r,s,f,h]);return S.createElement(ol.Provider,{value:y},t)}var yOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function bOe(t){const{prefixCls:e,className:n,rootClassName:r,style:i,help:o,errors:a,warnings:s,validateStatus:l,meta:c,hasFeedback:u,hidden:d,children:f,fieldId:h,required:p,isRequired:_,onSubItemMetaChange:x,layout:y,name:w}=t,C=yOe(t,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout","name"]),M=`${e}-item`,{requiredMark:R,layout:N}=S.useContext(uh),I=y||N,B=I==="vertical",D=S.useRef(null),$=FM(a),z=FM(s),V=o!=null,q=!!(V||a.length||s.length),G=!!D.current&&tS(D.current),[j,H]=S.useState(null);zr(()=>{if(q&&D.current){const re=getComputedStyle(D.current);H(Number.parseInt(re.marginBottom,10))}},[q,G]);const X=re=>{re||H(null)},ee=((re=!1)=>{const ae=re?$:c.errors,ce=re?z:c.warnings;return Wie(ae,ce,c,"",!!u,l)})(),Z=je(M,n,r,{[`${M}-with-help`]:V||$.length||z.length,[`${M}-has-feedback`]:ee&&u,[`${M}-has-success`]:ee==="success",[`${M}-has-warning`]:ee==="warning",[`${M}-has-error`]:ee==="error",[`${M}-is-validating`]:ee==="validating",[`${M}-hidden`]:d,[`${M}-${I}`]:I});return S.createElement("div",{className:Z,style:i,ref:D},S.createElement(yR,Object.assign({className:`${M}-row`},po(C,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),S.createElement(AOe,Object.assign({htmlFor:h},t,{requiredMark:R,required:p??_,prefixCls:e,vertical:B})),S.createElement(cOe,Object.assign({},t,c,{errors:$,warnings:z,prefixCls:e,status:ee,help:o,marginBottom:j,onErrorVisibleChanged:X}),S.createElement(Lne.Provider,{value:x},S.createElement(Toe,{prefixCls:e,meta:c,errors:c.errors,warnings:c.warnings,hasFeedback:u,validateStatus:ee,name:w},f)))),!!j&&S.createElement("div",{className:`${M}-margin-offset`,style:{marginBottom:-j}}))}const xOe="__SPLIT__";function _Oe(t,e){const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(i=>{const o=t[i],a=e[i];return o===a||typeof o=="function"||typeof a=="function"})}const SOe=S.memo(({children:t})=>t,(t,e)=>_Oe(t.control,e.control)&&t.update===e.update&&t.childProps.length===e.childProps.length&&t.childProps.every((n,r)=>n===e.childProps[r]));function sj(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function wOe(t){const{name:e,noStyle:n,className:r,dependencies:i,prefixCls:o,shouldUpdate:a,rules:s,children:l,required:c,label:u,messageVariables:d,trigger:f="onChange",validateTrigger:h,hidden:p,help:_,layout:x}=t,{getPrefixCls:y}=S.useContext(ir),{name:w}=S.useContext(uh),C=eOe(l),M=typeof C=="function",R=S.useContext(Lne),{validateTrigger:N}=S.useContext(tg),I=h!==void 0?h:N,B=e!=null,D=y("form",o),$=_c(D),[z,V,q]=D$(D,$);UP();const G=S.useContext(z_),j=S.useRef(null),[H,X]=nOe({}),[Y,ee]=J0(()=>sj()),Z=me=>{const ye=G==null?void 0:G.getKey(me.name);if(ee(me.destroy?sj():me,!0),n&&_!==!1&&R){let we=me.name;if(me.destroy)we=j.current||we;else if(ye!==void 0){const[Ee,Me]=ye;we=[Ee].concat(Xt(Me)),j.current=we}R(me,we)}},re=(me,ye)=>{X(we=>{const Ee=Object.assign({},we),Oe=[].concat(Xt(me.name.slice(0,-1)),Xt(ye)).join(xOe);return me.destroy?delete Ee[Oe]:Ee[Oe]=me,Ee})},[ae,ce]=S.useMemo(()=>{const me=Xt(Y.errors),ye=Xt(Y.warnings);return Object.values(H).forEach(we=>{me.push.apply(me,Xt(we.errors||[])),ye.push.apply(ye,Xt(we.warnings||[]))}),[me,ye]},[H,Y.errors,Y.warnings]),he=rOe();function ge(me,ye,we){return n&&!p?S.createElement(Toe,{prefixCls:D,hasFeedback:t.hasFeedback,validateStatus:t.validateStatus,meta:Y,errors:ae,warnings:ce,noStyle:!0,name:e},me):S.createElement(bOe,Object.assign({key:"row"},t,{className:je(r,q,$,V),prefixCls:D,fieldId:ye,isRequired:we,errors:ae,warnings:ce,meta:Y,onSubItemMetaChange:re,layout:x,name:e}),me)}if(!B&&!M&&!i)return z(ge(C));let se={};return typeof u=="string"?se.label=u:e&&(se.label=String(e)),d&&(se=Object.assign(Object.assign({},se),d)),z(S.createElement(r$,Object.assign({},t,{messageVariables:se,trigger:f,validateTrigger:I,onMetaChange:Z}),(me,ye,we)=>{const Ee=Gx(e).length&&ye?ye.name:[],Me=qie(Ee,w),Oe=c!==void 0?c:!!(s!=null&&s.some(_e=>{if(_e&&typeof _e=="object"&&_e.required&&!_e.warningOnly)return!0;if(typeof _e=="function"){const ve=_e(we);return(ve==null?void 0:ve.required)&&!(ve!=null&&ve.warningOnly)}return!1})),Ue=Object.assign({},me);let Se=null;if(Array.isArray(C)&&B)Se=C;else if(!(M&&(!(a||i)||B))){if(!(i&&!M&&!B))if(S.isValidElement(C)){const _e=Object.assign(Object.assign({},C.props),Ue);if(_e.id||(_e.id=Me),_||ae.length>0||ce.length>0||t.extra){const ue=[];(_||ae.length>0)&&ue.push(`${Me}_help`),t.extra&&ue.push(`${Me}_extra`),_e["aria-describedby"]=ue.join(" ")}ae.length>0&&(_e["aria-invalid"]="true"),Oe&&(_e["aria-required"]="true"),gm(C)&&(_e.ref=he(Ee,C)),new Set([].concat(Xt(Gx(f)),Xt(Gx(I)))).forEach(ue=>{_e[ue]=(...at)=>{var nt,ct,Ze,pe,te;(Ze=Ue[ue])===null||Ze===void 0||(nt=Ze).call.apply(nt,[Ue].concat(at)),(te=(pe=C.props)[ue])===null||te===void 0||(ct=te).call.apply(ct,[pe].concat(at))}});const Ge=[_e["aria-required"],_e["aria-invalid"],_e["aria-describedby"]];Se=S.createElement(SOe,{control:Ue,update:C,childProps:Ge},su(C,_e))}else M&&(a||i)&&!B?Se=C(we):Se=C}return ge(Se,Me,Oe)}))}const Eoe=wOe;Eoe.useStatus=tOe;const COe=Eoe;var TOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const EOe=t=>{var{prefixCls:e,children:n}=t,r=TOe(t,["prefixCls","children"]);const{getPrefixCls:i}=S.useContext(ir),o=i("form",e),a=S.useMemo(()=>({prefixCls:o,status:"error"}),[o]);return S.createElement(Nne,Object.assign({},r),(s,l,c)=>S.createElement(o$.Provider,{value:a},n(s.map(u=>Object.assign(Object.assign({},u),{fieldKey:u.key})),l,{errors:c.errors,warnings:c.warnings})))},MOe=EOe;function POe(){const{form:t}=S.useContext(uh);return t}const Ch=JIe;Ch.Item=COe;Ch.List=MOe;Ch.ErrorList=woe;Ch.useForm=Xie;Ch.useFormInstance=POe;Ch.useWatch=Dne;Ch.Provider=Bne;Ch.create=()=>{};const gl=Ch;var ROe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const NOe=ROe;var IOe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:NOe}))},OOe=S.forwardRef(IOe);const DOe=OOe,LOe=t=>{const{getPrefixCls:e,direction:n}=S.useContext(ir),{prefixCls:r,className:i}=t,o=e("input-group",r),a=e("input"),[s,l,c]=ioe(a),u=je(o,c,{[`${o}-lg`]:t.size==="large",[`${o}-sm`]:t.size==="small",[`${o}-compact`]:t.compact,[`${o}-rtl`]:n==="rtl"},l,i),d=S.useContext(ol),f=S.useMemo(()=>Object.assign(Object.assign({},d),{isFormItemInput:!1}),[d]);return s(S.createElement("span",{className:u,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},S.createElement(ol.Provider,{value:f},t.children)))},BOe=LOe,FOe=t=>{const{componentCls:e,paddingXS:n}=t;return{[e]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,[`${e}-input-wrapper`]:{position:"relative",[`${e}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${e}-mask-input`]:{color:"transparent",caretColor:t.colorText},[`${e}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${e}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:t.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:t.calc(t.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:t.paddingXS}}}},$Oe=Ti(["Input","OTP"],t=>{const e=Yr(t,A1(t));return FOe(e)},v1);var kOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const UOe=S.forwardRef((t,e)=>{const{className:n,value:r,onChange:i,onActiveChange:o,index:a,mask:s}=t,l=kOe(t,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:c}=S.useContext(ir),u=c("otp"),d=typeof s=="string"?s:r,f=S.useRef(null);S.useImperativeHandle(e,()=>f.current);const h=x=>{i(a,x.target.value)},p=()=>{qr(()=>{var x;const y=(x=f.current)===null||x===void 0?void 0:x.input;document.activeElement===y&&y&&y.select()})},_=x=>{const{key:y,ctrlKey:w,metaKey:C}=x;y==="ArrowLeft"?o(a-1):y==="ArrowRight"?o(a+1):y==="z"&&(w||C)?x.preventDefault():y==="Backspace"&&!r&&o(a-1),p()};return S.createElement("span",{className:`${u}-input-wrapper`,role:"presentation"},s&&r!==""&&r!==void 0&&S.createElement("span",{className:`${u}-mask-icon`,"aria-hidden":"true"},d),S.createElement(bR,Object.assign({"aria-label":`OTP Input ${a+1}`,type:s===!0?"password":"text"},l,{ref:f,value:r,onInput:h,onFocus:p,onKeyDown:_,onMouseDown:p,onMouseUp:p,className:je(n,{[`${u}-mask-input`]:s})})))}),zOe=UOe;var VOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function fC(t){return(t||"").split("")}const GOe=t=>{const{index:e,prefixCls:n,separator:r}=t,i=typeof r=="function"?r(e):r;return i?S.createElement("span",{className:`${n}-separator`},i):null},HOe=S.forwardRef((t,e)=>{const{prefixCls:n,length:r=6,size:i,defaultValue:o,value:a,onChange:s,formatter:l,separator:c,variant:u,disabled:d,status:f,autoFocus:h,mask:p,type:_,onInput:x,inputMode:y}=t,w=VOe(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:C,direction:M}=S.useContext(ir),R=C("otp",n),N=gc(w,{aria:!0,data:!0,attr:!0}),[I,B,D]=$Oe(R),$=cl(he=>i??he),z=S.useContext(ol),V=f1(z.status,f),q=S.useMemo(()=>Object.assign(Object.assign({},z),{status:V,hasFeedback:!1,feedbackIcon:null}),[z,V]),G=S.useRef(null),j=S.useRef({});S.useImperativeHandle(e,()=>({focus:()=>{var he;(he=j.current[0])===null||he===void 0||he.focus()},blur:()=>{var he;for(let ge=0;ge<r;ge+=1)(he=j.current[ge])===null||he===void 0||he.blur()},nativeElement:G.current}));const H=he=>l?l(he):he,[X,Y]=S.useState(()=>fC(H(o||"")));S.useEffect(()=>{a!==void 0&&Y(fC(a))},[a]);const ee=Xr(he=>{Y(he),x&&x(he),s&&he.length===r&&he.every(ge=>ge)&&he.some((ge,se)=>X[se]!==ge)&&s(he.join(""))}),Z=Xr((he,ge)=>{let se=Xt(X);for(let ye=0;ye<he;ye+=1)se[ye]||(se[ye]="");ge.length<=1?se[he]=ge:se=se.slice(0,he).concat(fC(ge)),se=se.slice(0,r);for(let ye=se.length-1;ye>=0&&!se[ye];ye-=1)se.pop();const me=H(se.map(ye=>ye||" ").join(""));return se=fC(me).map((ye,we)=>ye===" "&&!se[we]?se[we]:ye),se}),re=(he,ge)=>{var se;const me=Z(he,ge),ye=Math.min(he+ge.length,r-1);ye!==he&&me[he]!==void 0&&((se=j.current[ye])===null||se===void 0||se.focus()),ee(me)},ae=he=>{var ge;(ge=j.current[he])===null||ge===void 0||ge.focus()},ce={variant:u,disabled:d,status:V,mask:p,type:_,inputMode:y};return I(S.createElement("div",Object.assign({},N,{ref:G,className:je(R,{[`${R}-sm`]:$==="small",[`${R}-lg`]:$==="large",[`${R}-rtl`]:M==="rtl"},D,B),role:"group"}),S.createElement(ol.Provider,{value:q},Array.from({length:r}).map((he,ge)=>{const se=`otp-${ge}`,me=X[ge]||"";return S.createElement(S.Fragment,{key:se},S.createElement(zOe,Object.assign({ref:ye=>{j.current[ge]=ye},index:ge,size:$,htmlSize:1,className:`${R}-input`,onChange:re,value:me,onActiveChange:ae,autoFocus:ge===0&&h},ce)),ge<r-1&&S.createElement(GOe,{separator:c,index:ge,prefixCls:R}))}))))}),jOe=HOe;var qOe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const WOe=qOe;var XOe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:WOe}))},YOe=S.forwardRef(XOe);const KOe=YOe;var QOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ZOe=t=>t?S.createElement(DOe,null):S.createElement(KOe,null),JOe={click:"onClick",hover:"onMouseOver"},eDe=S.forwardRef((t,e)=>{const{disabled:n,action:r="click",visibilityToggle:i=!0,iconRender:o=ZOe,suffix:a}=t,s=S.useContext(wh),l=n??s,c=typeof i=="object"&&i.visible!==void 0,[u,d]=S.useState(()=>c?i.visible:!1),f=S.useRef(null);S.useEffect(()=>{c&&d(i.visible)},[c,i]);const h=Aoe(f),p=()=>{var z;if(l)return;u&&h();const V=!u;d(V),typeof i=="object"&&((z=i.onVisibleChange)===null||z===void 0||z.call(i,V))},_=z=>{const V=JOe[r]||"",q=o(u),G={[V]:p,className:`${z}-icon`,key:"passwordIcon",onMouseDown:j=>{j.preventDefault()},onMouseUp:j=>{j.preventDefault()}};return S.cloneElement(S.isValidElement(q)?q:S.createElement("span",null,q),G)},{className:x,prefixCls:y,inputPrefixCls:w,size:C}=t,M=QOe(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:R}=S.useContext(ir),N=R("input",w),I=R("input-password",y),B=i&&_(I),D=je(I,x,{[`${I}-${C}`]:!!C}),$=Object.assign(Object.assign({},po(M,["suffix","iconRender","visibilityToggle"])),{type:u?"text":"password",className:D,prefixCls:N,suffix:S.createElement(S.Fragment,null,B,a)});return C&&($.size=C),S.createElement(bR,Object.assign({ref:kl(e,f)},$))}),tDe=eDe;var nDe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const rDe=S.forwardRef((t,e)=>{const{prefixCls:n,inputPrefixCls:r,className:i,size:o,suffix:a,enterButton:s=!1,addonAfter:l,loading:c,disabled:u,onSearch:d,onChange:f,onCompositionStart:h,onCompositionEnd:p,variant:_,onPressEnter:x}=t,y=nDe(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd","variant","onPressEnter"]),{getPrefixCls:w,direction:C}=S.useContext(ir),M=S.useRef(!1),R=w("input-search",n),N=w("input",r),{compactSize:I}=Cg(R,C),B=cl(ce=>{var he;return(he=o??I)!==null&&he!==void 0?he:ce}),D=S.useRef(null),$=ce=>{ce!=null&&ce.target&&ce.type==="click"&&d&&d(ce.target.value,ce,{source:"clear"}),f==null||f(ce)},z=ce=>{var he;document.activeElement===((he=D.current)===null||he===void 0?void 0:he.input)&&ce.preventDefault()},V=ce=>{var he,ge;d&&d((ge=(he=D.current)===null||he===void 0?void 0:he.input)===null||ge===void 0?void 0:ge.value,ce,{source:"input"})},q=ce=>{M.current||c||(x==null||x(ce),V(ce))},G=typeof s=="boolean"?S.createElement(Cre,null):null,j=`${R}-button`;let H;const X=s||{},Y=X.type&&X.type.__ANT_BUTTON===!0;Y||X.type==="button"?H=su(X,Object.assign({onMouseDown:z,onClick:ce=>{var he,ge;(ge=(he=X==null?void 0:X.props)===null||he===void 0?void 0:he.onClick)===null||ge===void 0||ge.call(he,ce),V(ce)},key:"enterButton"},Y?{className:j,size:B}:{})):H=S.createElement(Go,{className:j,color:s?"primary":"default",size:B,disabled:u,key:"enterButton",onMouseDown:z,onClick:V,loading:c,icon:G,variant:_==="borderless"||_==="filled"||_==="underlined"?"text":s?"solid":void 0},s),l&&(H=[H,su(l,{key:"addonAfter"})]);const ee=je(R,{[`${R}-rtl`]:C==="rtl",[`${R}-${B}`]:!!B,[`${R}-with-button`]:!!s},i),Z=ce=>{M.current=!0,h==null||h(ce)},re=ce=>{M.current=!1,p==null||p(ce)},ae=Object.assign(Object.assign({},y),{className:ee,prefixCls:N,type:"search",size:B,variant:_,onPressEnter:q,onCompositionStart:Z,onCompositionEnd:re,addonAfter:H,suffix:a,onChange:$,disabled:u,_skipAddonWarning:!0});return S.createElement(bR,Object.assign({ref:kl(D,e)},ae))}),iDe=rDe;var oDe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,aDe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],DI={},ql;function sDe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&DI[n])return DI[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=aDe.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),l={sizingStyle:s,paddingSize:o,borderSize:a,boxSizing:i};return e&&n&&(DI[n]=l),l}function lDe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ql||(ql=document.createElement("textarea"),ql.setAttribute("tab-index","-1"),ql.setAttribute("aria-hidden","true"),ql.setAttribute("name","hiddenTextarea"),document.body.appendChild(ql)),t.getAttribute("wrap")?ql.setAttribute("wrap",t.getAttribute("wrap")):ql.removeAttribute("wrap");var i=sDe(t,e),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,l=i.sizingStyle;ql.setAttribute("style","".concat(l,";").concat(oDe)),ql.value=t.value||t.placeholder||"";var c=void 0,u=void 0,d,f=ql.scrollHeight;if(s==="border-box"?f+=a:s==="content-box"&&(f-=o),n!==null||r!==null){ql.value=" ";var h=ql.scrollHeight-o;n!==null&&(c=h*n,s==="border-box"&&(c=c+o+a),f=Math.max(c,f)),r!==null&&(u=h*r,s==="border-box"&&(u=u+o+a),d=f>u?"":"hidden",f=Math.min(u,f))}var p={height:f,overflowY:d,resize:"none"};return c&&(p.minHeight=c),u&&(p.maxHeight=u),p}var cDe=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],LI=0,BI=1,FI=2,uDe=S.forwardRef(function(t,e){var n=t,r=n.prefixCls,i=n.defaultValue,o=n.value,a=n.autoSize,s=n.onResize,l=n.className,c=n.style,u=n.disabled,d=n.onChange;n.onInternalAutoSize;var f=pr(n,cDe),h=Ui(i,{value:o,postState:function(ce){return ce??""}}),p=ze(h,2),_=p[0],x=p[1],y=function(ce){x(ce.target.value),d==null||d(ce)},w=S.useRef();S.useImperativeHandle(e,function(){return{textArea:w.current}});var C=S.useMemo(function(){return a&&Dn(a)==="object"?[a.minRows,a.maxRows]:[]},[a]),M=ze(C,2),R=M[0],N=M[1],I=!!a,B=S.useState(FI),D=ze(B,2),$=D[0],z=D[1],V=S.useState(),q=ze(V,2),G=q[0],j=q[1],H=function(){z(LI)};zr(function(){I&&H()},[o,R,N,I]),zr(function(){if($===LI)z(BI);else if($===BI){var ae=lDe(w.current,!1,R,N);z(FI),j(ae)}},[$]);var X=S.useRef(),Y=function(){qr.cancel(X.current)},ee=function(ce){$===FI&&(s==null||s(ce),a&&(Y(),X.current=qr(function(){H()})))};S.useEffect(function(){return Y},[]);var Z=I?G:null,re=Ie(Ie({},c),Z);return($===LI||$===BI)&&(re.overflowY="hidden",re.overflowX="hidden"),S.createElement(Ll,{onResize:ee,disabled:!(a||s)},S.createElement("textarea",ft({},f,{ref:w,style:re,className:je(r,l,Re({},"".concat(r,"-disabled"),u)),disabled:u,value:_,onChange:y})))}),dDe=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],fDe=Ye.forwardRef(function(t,e){var n,r=t.defaultValue,i=t.value,o=t.onFocus,a=t.onBlur,s=t.onChange,l=t.allowClear,c=t.maxLength,u=t.onCompositionStart,d=t.onCompositionEnd,f=t.suffix,h=t.prefixCls,p=h===void 0?"rc-textarea":h,_=t.showCount,x=t.count,y=t.className,w=t.style,C=t.disabled,M=t.hidden,R=t.classNames,N=t.styles,I=t.onResize,B=t.onClear,D=t.onPressEnter,$=t.readOnly,z=t.autoSize,V=t.onKeyDown,q=pr(t,dDe),G=Ui(r,{value:i,defaultValue:r}),j=ze(G,2),H=j[0],X=j[1],Y=H==null?"":String(H),ee=Ye.useState(!1),Z=ze(ee,2),re=Z[0],ae=Z[1],ce=Ye.useRef(!1),he=Ye.useState(null),ge=ze(he,2),se=ge[0],me=ge[1],ye=S.useRef(null),we=S.useRef(null),Ee=function(){var Xe;return(Xe=we.current)===null||Xe===void 0?void 0:Xe.textArea},Me=function(){Ee().focus()};S.useImperativeHandle(e,function(){var ht;return{resizableTextArea:we.current,focus:Me,blur:function(){Ee().blur()},nativeElement:((ht=ye.current)===null||ht===void 0?void 0:ht.nativeElement)||Ee()}}),S.useEffect(function(){ae(function(ht){return!C&&ht})},[C]);var Oe=Ye.useState(null),Ue=ze(Oe,2),Se=Ue[0],_e=Ue[1];Ye.useEffect(function(){if(Se){var ht;(ht=Ee()).setSelectionRange.apply(ht,Xt(Se))}},[Se]);var ve=moe(x,_),Ge=(n=ve.max)!==null&&n!==void 0?n:c,ue=Number(Ge)>0,at=ve.strategy(Y),nt=!!Ge&&at>Ge,ct=function(Xe,pt){var ut=pt;!ce.current&&ve.exceedFormatter&&ve.max&&ve.strategy(pt)>ve.max&&(ut=ve.exceedFormatter(pt,{max:ve.max}),pt!==ut&&_e([Ee().selectionStart||0,Ee().selectionEnd||0])),X(ut),BM(Xe.currentTarget,Xe,s,ut)},Ze=function(Xe){ce.current=!0,u==null||u(Xe)},pe=function(Xe){ce.current=!1,ct(Xe,Xe.currentTarget.value),d==null||d(Xe)},te=function(Xe){ct(Xe,Xe.target.value)},Ne=function(Xe){Xe.key==="Enter"&&D&&D(Xe),V==null||V(Xe)},qe=function(Xe){ae(!0),o==null||o(Xe)},gt=function(Xe){ae(!1),a==null||a(Xe)},tt=function(Xe){X(""),Me(),BM(Ee(),Xe,s)},wt=f,_t;ve.show&&(ve.showFormatter?_t=ve.showFormatter({value:Y,count:at,maxLength:Ge}):_t="".concat(at).concat(ue?" / ".concat(Ge):""),wt=Ye.createElement(Ye.Fragment,null,wt,Ye.createElement("span",{className:je("".concat(p,"-data-count"),R==null?void 0:R.count),style:N==null?void 0:N.count},_t)));var Et=function(Xe){var pt;I==null||I(Xe),(pt=Ee())!==null&&pt!==void 0&&pt.style.height&&me(!0)},Tt=!z&&!_&&!l;return Ye.createElement(poe,{ref:ye,value:Y,allowClear:l,handleReset:tt,suffix:wt,prefixCls:p,classNames:Ie(Ie({},R),{},{affixWrapper:je(R==null?void 0:R.affixWrapper,Re(Re({},"".concat(p,"-show-count"),_),"".concat(p,"-textarea-allow-clear"),l))}),disabled:C,focused:re,className:je(y,nt&&"".concat(p,"-out-of-range")),style:Ie(Ie({},w),se&&!Tt?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof _t=="string"?_t:void 0}},hidden:M,readOnly:$,onClear:B},Ye.createElement(uDe,ft({},q,{autoSize:z,maxLength:c,onKeyDown:Ne,onChange:te,onFocus:qe,onBlur:gt,onCompositionStart:Ze,onCompositionEnd:pe,className:je(R==null?void 0:R.textarea),style:Ie(Ie({},N==null?void 0:N.textarea),{},{resize:w==null?void 0:w.resize}),disabled:C,prefixCls:p,onResize:Et,ref:we,readOnly:$})))});const hDe=t=>{const{componentCls:e,paddingLG:n}=t,r=`${e}-textarea`;return{[`textarea${e}`]:{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}`,resize:"vertical",[`&${e}-mouse-active`]:{transition:`all ${t.motionDurationSlow}, height 0s, width 0s`}},[`${e}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[r]:{position:"relative","&-show-count":{[`${e}-data-count`]:{position:"absolute",bottom:t.calc(t.fontSize).mul(t.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:n},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:t.paddingInline,insetBlockStart:t.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-rtl`]:{[`${e}-suffix`]:{[`${e}-data-count`]:{direction:"ltr",insetInlineStart:0}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:t.paddingInlineSM}}}}}},pDe=Ti(["Input","TextArea"],t=>{const e=Yr(t,A1(t));return hDe(e)},v1,{resetFont:!1});var mDe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const gDe=S.forwardRef((t,e)=>{var n;const{prefixCls:r,bordered:i=!0,size:o,disabled:a,status:s,allowClear:l,classNames:c,rootClassName:u,className:d,style:f,styles:h,variant:p,showCount:_,onMouseDown:x,onResize:y}=t,w=mDe(t,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:C,direction:M,allowClear:R,autoComplete:N,className:I,style:B,classNames:D,styles:$}=Fa("textArea"),z=S.useContext(wh),V=a??z,{status:q,hasFeedback:G,feedbackIcon:j}=S.useContext(ol),H=f1(q,s),X=S.useRef(null);S.useImperativeHandle(e,()=>{var ve;return{resizableTextArea:(ve=X.current)===null||ve===void 0?void 0:ve.resizableTextArea,focus:Ge=>{var ue,at;hoe((at=(ue=X.current)===null||ue===void 0?void 0:ue.resizableTextArea)===null||at===void 0?void 0:at.textArea,Ge)},blur:()=>{var Ge;return(Ge=X.current)===null||Ge===void 0?void 0:Ge.blur()}}});const Y=C("input",r),ee=_c(Y),[Z,re,ae]=roe(Y,u),[ce]=pDe(Y,ee),{compactSize:he,compactItemClassnames:ge}=Cg(Y,M),se=cl(ve=>{var Ge;return(Ge=o??he)!==null&&Ge!==void 0?Ge:ve}),[me,ye]=h1("textArea",p,i),we=goe(l??R),[Ee,Me]=S.useState(!1),[Oe,Ue]=S.useState(!1),Se=ve=>{Me(!0),x==null||x(ve);const Ge=()=>{Me(!1),document.removeEventListener("mouseup",Ge)};document.addEventListener("mouseup",Ge)},_e=ve=>{var Ge,ue;if(y==null||y(ve),Ee&&typeof getComputedStyle=="function"){const at=(ue=(Ge=X.current)===null||Ge===void 0?void 0:Ge.nativeElement)===null||ue===void 0?void 0:ue.querySelector("textarea");at&&getComputedStyle(at).resize==="both"&&Ue(!0)}};return Z(ce(S.createElement(fDe,Object.assign({autoComplete:N},w,{style:Object.assign(Object.assign({},B),f),styles:Object.assign(Object.assign({},$),h),disabled:V,allowClear:we,className:je(ae,ee,d,u,ge,I,Oe&&`${Y}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},c),D),{textarea:je({[`${Y}-sm`]:se==="small",[`${Y}-lg`]:se==="large"},re,c==null?void 0:c.textarea,D.textarea,Ee&&`${Y}-mouse-active`),variant:je({[`${Y}-${me}`]:ye},ny(Y,H)),affixWrapper:je(`${Y}-textarea-affix-wrapper`,{[`${Y}-affix-wrapper-rtl`]:M==="rtl",[`${Y}-affix-wrapper-sm`]:se==="small",[`${Y}-affix-wrapper-lg`]:se==="large",[`${Y}-textarea-show-count`]:_||((n=t.count)===null||n===void 0?void 0:n.show)},re)}),prefixCls:Y,suffix:G&&S.createElement("span",{className:`${Y}-textarea-suffix`},j),showCount:_,ref:X,onResize:_e,onMouseDown:Se}))))}),Moe=gDe,b1=bR;b1.Group=BOe;b1.Search=iDe;b1.TextArea=Moe;b1.Password=tDe;b1.OTP=jOe;const Bc=b1;function ADe(t,e,n){return typeof n=="boolean"?n:t.length?!0:mc(e).some(i=>i.type===lie)}var Poe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function xR({suffixCls:t,tagName:e,displayName:n}){return r=>S.forwardRef((o,a)=>S.createElement(r,Object.assign({ref:a,suffixCls:t,tagName:e},o)))}const L$=S.forwardRef((t,e)=>{const{prefixCls:n,suffixCls:r,className:i,tagName:o}=t,a=Poe(t,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:s}=S.useContext(ir),l=s("layout",n),[c,u,d]=aie(l),f=r?`${l}-${r}`:l;return c(S.createElement(o,Object.assign({className:je(n||f,i,u,d),ref:e},a)))}),vDe=S.forwardRef((t,e)=>{const{direction:n}=S.useContext(ir),[r,i]=S.useState([]),{prefixCls:o,className:a,rootClassName:s,children:l,hasSider:c,tagName:u,style:d}=t,f=Poe(t,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),h=po(f,["suffixCls"]),{getPrefixCls:p,className:_,style:x}=Fa("layout"),y=p("layout",o),w=ADe(r,l,c),[C,M,R]=aie(y),N=je(y,{[`${y}-has-sider`]:w,[`${y}-rtl`]:n==="rtl"},_,a,s,M,R),I=S.useMemo(()=>({siderHook:{addSider:B=>{i(D=>[].concat(Xt(D),[B]))},removeSider:B=>{i(D=>D.filter($=>$!==B))}}}),[]);return C(S.createElement(rie.Provider,{value:I},S.createElement(u,Object.assign({ref:e,className:N,style:Object.assign(Object.assign({},x),d)},h),l)))}),yDe=xR({tagName:"div",displayName:"Layout"})(vDe),bDe=xR({suffixCls:"header",tagName:"header",displayName:"Header"})(L$),xDe=xR({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(L$),_De=xR({suffixCls:"content",tagName:"main",displayName:"Content"})(L$),SDe=yDe,x1=SDe;x1.Header=bDe;x1.Footer=xDe;x1.Content=_De;x1.Sider=lie;x1._InternalSiderContext=sie;const _R=x1;var wDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};const CDe=wDe;var TDe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:CDe}))},EDe=S.forwardRef(TDe);const lj=EDe;var MDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};const PDe=MDe;var RDe=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:PDe}))},NDe=S.forwardRef(RDe);const cj=NDe;var IDe={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""},ODe=[10,20,50,100],DDe=function(e){var n=e.pageSizeOptions,r=n===void 0?ODe:n,i=e.locale,o=e.changeSize,a=e.pageSize,s=e.goButton,l=e.quickGo,c=e.rootPrefixCls,u=e.disabled,d=e.buildOptionText,f=e.showSizeChanger,h=e.sizeChangerRender,p=Ye.useState(""),_=ze(p,2),x=_[0],y=_[1],w=function(){return!x||Number.isNaN(x)?void 0:Number(x)},C=typeof d=="function"?d:function(V){return"".concat(V," ").concat(i.items_per_page)},M=function(q){y(q.target.value)},R=function(q){s||x===""||(y(""),!(q.relatedTarget&&(q.relatedTarget.className.indexOf("".concat(c,"-item-link"))>=0||q.relatedTarget.className.indexOf("".concat(c,"-item"))>=0))&&(l==null||l(w())))},N=function(q){x!==""&&(q.keyCode===qt.ENTER||q.type==="click")&&(y(""),l==null||l(w()))},I=function(){return r.some(function(q){return q.toString()===a.toString()})?r:r.concat([a]).sort(function(q,G){var j=Number.isNaN(Number(q))?0:Number(q),H=Number.isNaN(Number(G))?0:Number(G);return j-H})},B="".concat(c,"-options");if(!f&&!l)return null;var D=null,$=null,z=null;return f&&h&&(D=h({disabled:u,size:a,onSizeChange:function(q){o==null||o(Number(q))},"aria-label":i.page_size,className:"".concat(B,"-size-changer"),options:I().map(function(V){return{label:C(V),value:V}})})),l&&(s&&(z=typeof s=="boolean"?Ye.createElement("button",{type:"button",onClick:N,onKeyUp:N,disabled:u,className:"".concat(B,"-quick-jumper-button")},i.jump_to_confirm):Ye.createElement("span",{onClick:N,onKeyUp:N},s)),$=Ye.createElement("div",{className:"".concat(B,"-quick-jumper")},i.jump_to,Ye.createElement("input",{disabled:u,type:"text",value:x,onChange:M,onKeyUp:N,onBlur:R,"aria-label":i.page}),i.page,z)),Ye.createElement("li",{className:B},D,$)},wb=function(e){var n=e.rootPrefixCls,r=e.page,i=e.active,o=e.className,a=e.showTitle,s=e.onClick,l=e.onKeyPress,c=e.itemRender,u="".concat(n,"-item"),d=je(u,"".concat(u,"-").concat(r),Re(Re({},"".concat(u,"-active"),i),"".concat(u,"-disabled"),!r),o),f=function(){s(r)},h=function(x){l(x,s,r)},p=c(r,"page",Ye.createElement("a",{rel:"nofollow"},r));return p?Ye.createElement("li",{title:a?String(r):null,className:d,onClick:f,onKeyDown:h,tabIndex:0},p):null},LDe=function(e,n,r){return r};function uj(){}function dj(t){var e=Number(t);return typeof e=="number"&&!Number.isNaN(e)&&isFinite(e)&&Math.floor(e)===e}function Um(t,e,n){var r=typeof t>"u"?e:t;return Math.floor((n-1)/r)+1}var BDe=function(e){var n=e.prefixCls,r=n===void 0?"rc-pagination":n,i=e.selectPrefixCls,o=i===void 0?"rc-select":i,a=e.className,s=e.current,l=e.defaultCurrent,c=l===void 0?1:l,u=e.total,d=u===void 0?0:u,f=e.pageSize,h=e.defaultPageSize,p=h===void 0?10:h,_=e.onChange,x=_===void 0?uj:_,y=e.hideOnSinglePage,w=e.align,C=e.showPrevNextJumpers,M=C===void 0?!0:C,R=e.showQuickJumper,N=e.showLessItems,I=e.showTitle,B=I===void 0?!0:I,D=e.onShowSizeChange,$=D===void 0?uj:D,z=e.locale,V=z===void 0?IDe:z,q=e.style,G=e.totalBoundaryShowSizeChanger,j=G===void 0?50:G,H=e.disabled,X=e.simple,Y=e.showTotal,ee=e.showSizeChanger,Z=ee===void 0?d>j:ee,re=e.sizeChangerRender,ae=e.pageSizeOptions,ce=e.itemRender,he=ce===void 0?LDe:ce,ge=e.jumpPrevIcon,se=e.jumpNextIcon,me=e.prevIcon,ye=e.nextIcon,we=Ye.useRef(null),Ee=Ui(10,{value:f,defaultValue:p}),Me=ze(Ee,2),Oe=Me[0],Ue=Me[1],Se=Ui(1,{value:s,defaultValue:c,postState:function(Nt){return Math.max(1,Math.min(Nt,Um(void 0,Oe,d)))}}),_e=ze(Se,2),ve=_e[0],Ge=_e[1],ue=Ye.useState(ve),at=ze(ue,2),nt=at[0],ct=at[1];S.useEffect(function(){ct(ve)},[ve]);var Ze=Math.max(1,ve-(N?3:5)),pe=Math.min(Um(void 0,Oe,d),ve+(N?3:5));function te(He,Nt){var Ht=He||Ye.createElement("button",{type:"button","aria-label":Nt,className:"".concat(r,"-item-link")});return typeof He=="function"&&(Ht=Ye.createElement(He,Ie({},e))),Ht}function Ne(He){var Nt=He.target.value,Ht=Um(void 0,Oe,d),Ot;return Nt===""?Ot=Nt:Number.isNaN(Number(Nt))?Ot=nt:Nt>=Ht?Ot=Ht:Ot=Number(Nt),Ot}function qe(He){return dj(He)&&He!==ve&&dj(d)&&d>0}var gt=d>Oe?R:!1;function tt(He){(He.keyCode===qt.UP||He.keyCode===qt.DOWN)&&He.preventDefault()}function wt(He){var Nt=Ne(He);switch(Nt!==nt&&ct(Nt),He.keyCode){case qt.ENTER:Tt(Nt);break;case qt.UP:Tt(Nt-1);break;case qt.DOWN:Tt(Nt+1);break}}function _t(He){Tt(Ne(He))}function Et(He){var Nt=Um(He,Oe,d),Ht=ve>Nt&&Nt!==0?Nt:ve;Ue(He),ct(Ht),$==null||$(ve,He),Ge(Ht),x==null||x(Ht,He)}function Tt(He){if(qe(He)&&!H){var Nt=Um(void 0,Oe,d),Ht=He;return He>Nt?Ht=Nt:He<1&&(Ht=1),Ht!==nt&&ct(Ht),Ge(Ht),x==null||x(Ht,Oe),Ht}return ve}var ht=ve>1,Xe=ve<Um(void 0,Oe,d);function pt(){ht&&Tt(ve-1)}function ut(){Xe&&Tt(ve+1)}function Ke(){Tt(Ze)}function Rt(){Tt(pe)}function $e(He,Nt){if(He.key==="Enter"||He.charCode===qt.ENTER||He.keyCode===qt.ENTER){for(var Ht=arguments.length,Ot=new Array(Ht>2?Ht-2:0),fe=2;fe<Ht;fe++)Ot[fe-2]=arguments[fe];Nt.apply(void 0,Ot)}}function $t(He){$e(He,pt)}function Lt(He){$e(He,ut)}function tn(He){$e(He,Ke)}function Qe(He){$e(He,Rt)}function Pt(He){var Nt=he(He,"prev",te(me,"prev page"));return Ye.isValidElement(Nt)?Ye.cloneElement(Nt,{disabled:!ht}):Nt}function Ft(He){var Nt=he(He,"next",te(ye,"next page"));return Ye.isValidElement(Nt)?Ye.cloneElement(Nt,{disabled:!Xe}):Nt}function Yt(He){(He.type==="click"||He.keyCode===qt.ENTER)&&Tt(nt)}var Rn=null,Cn=gc(e,{aria:!0,data:!0}),dn=Y&&Ye.createElement("li",{className:"".concat(r,"-total-text")},Y(d,[d===0?0:(ve-1)*Oe+1,ve*Oe>d?d:ve*Oe])),Mn=null,Tn=Um(void 0,Oe,d);if(y&&d<=Oe)return null;var Qt=[],Gt={rootPrefixCls:r,onClick:Tt,onKeyPress:$e,showTitle:B,itemRender:he,page:-1},Ut=ve-1>0?ve-1:0,Pe=ve+1<Tn?ve+1:Tn,mt=R&&R.goButton,St=Dn(X)==="object"?X.readOnly:!X,xt=mt,m=null;X&&(mt&&(typeof mt=="boolean"?xt=Ye.createElement("button",{type:"button",onClick:Yt,onKeyUp:Yt},V.jump_to_confirm):xt=Ye.createElement("span",{onClick:Yt,onKeyUp:Yt},mt),xt=Ye.createElement("li",{title:B?"".concat(V.jump_to).concat(ve,"/").concat(Tn):null,className:"".concat(r,"-simple-pager")},xt)),m=Ye.createElement("li",{title:B?"".concat(ve,"/").concat(Tn):null,className:"".concat(r,"-simple-pager")},St?nt:Ye.createElement("input",{type:"text","aria-label":V.jump_to,value:nt,disabled:H,onKeyDown:tt,onKeyUp:wt,onChange:wt,onBlur:_t,size:3}),Ye.createElement("span",{className:"".concat(r,"-slash")},"/"),Tn));var de=N?1:2;if(Tn<=3+de*2){Tn||Qt.push(Ye.createElement(wb,ft({},Gt,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var gn=1;gn<=Tn;gn+=1)Qt.push(Ye.createElement(wb,ft({},Gt,{key:gn,page:gn,active:ve===gn})))}else{var Pn=N?V.prev_3:V.prev_5,tr=N?V.next_3:V.next_5,bn=he(Ze,"jump-prev",te(ge,"prev page")),Gn=he(pe,"jump-next",te(se,"next page"));M&&(Rn=bn?Ye.createElement("li",{title:B?Pn:null,key:"prev",onClick:Ke,tabIndex:0,onKeyDown:tn,className:je("".concat(r,"-jump-prev"),Re({},"".concat(r,"-jump-prev-custom-icon"),!!ge))},bn):null,Mn=Gn?Ye.createElement("li",{title:B?tr:null,key:"next",onClick:Rt,tabIndex:0,onKeyDown:Qe,className:je("".concat(r,"-jump-next"),Re({},"".concat(r,"-jump-next-custom-icon"),!!se))},Gn):null);var _r=Math.max(1,ve-de),Ln=Math.min(ve+de,Tn);ve-1<=de&&(Ln=1+de*2),Tn-ve<=de&&(_r=Tn-de*2);for(var Dt=_r;Dt<=Ln;Dt+=1)Qt.push(Ye.createElement(wb,ft({},Gt,{key:Dt,page:Dt,active:ve===Dt})));if(ve-1>=de*2&&ve!==1+2&&(Qt[0]=Ye.cloneElement(Qt[0],{className:je("".concat(r,"-item-after-jump-prev"),Qt[0].props.className)}),Qt.unshift(Rn)),Tn-ve>=de*2&&ve!==Tn-2){var cn=Qt[Qt.length-1];Qt[Qt.length-1]=Ye.cloneElement(cn,{className:je("".concat(r,"-item-before-jump-next"),cn.props.className)}),Qt.push(Mn)}_r!==1&&Qt.unshift(Ye.createElement(wb,ft({},Gt,{key:1,page:1}))),Ln!==Tn&&Qt.push(Ye.createElement(wb,ft({},Gt,{key:Tn,page:Tn})))}var Bn=Pt(Ut);if(Bn){var er=!ht||!Tn;Bn=Ye.createElement("li",{title:B?V.prev_page:null,onClick:pt,tabIndex:er?null:0,onKeyDown:$t,className:je("".concat(r,"-prev"),Re({},"".concat(r,"-disabled"),er)),"aria-disabled":er},Bn)}var Ae=Ft(Pe);if(Ae){var Ve,lt;X?(Ve=!Xe,lt=ht?0:null):(Ve=!Xe||!Tn,lt=Ve?null:0),Ae=Ye.createElement("li",{title:B?V.next_page:null,onClick:ut,tabIndex:lt,onKeyDown:Lt,className:je("".concat(r,"-next"),Re({},"".concat(r,"-disabled"),Ve)),"aria-disabled":Ve},Ae)}var dt=je(r,a,Re(Re(Re(Re(Re({},"".concat(r,"-start"),w==="start"),"".concat(r,"-center"),w==="center"),"".concat(r,"-end"),w==="end"),"".concat(r,"-simple"),X),"".concat(r,"-disabled"),H));return Ye.createElement("ul",ft({className:dt,style:q,ref:we},Cn),dn,Bn,X?m:Qt,Ae,Ye.createElement(DDe,{locale:V,rootPrefixCls:r,disabled:H,selectPrefixCls:o,changeSize:Et,pageSize:Oe,pageSizeOptions:ae,quickGo:gt?Tt:null,goButton:xt,showSizeChanger:Z,sizeChangerRender:re}))};const FDe=t=>{const{componentCls:e}=t;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-item`]:{cursor:"not-allowed",backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"},a:{color:t.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:t.colorBorder,backgroundColor:t.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:t.itemActiveBgDisabled},a:{color:t.itemActiveColorDisabled}}},[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:t.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}}}},$De=t=>{const{componentCls:e}=t;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:t.itemSizeSM,lineHeight:ke(t.itemSizeSM)},[`&${e}-mini ${e}-item`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:ke(t.calc(t.itemSizeSM).sub(2).equal())},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:ke(t.itemSizeSM)},[`&${e}-mini:not(${e}-disabled)`]:{[`${e}-prev, ${e}-next`]:{[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:t.itemSizeSM,lineHeight:ke(t.itemSizeSM)}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:t.itemSizeSM,marginInlineEnd:0,lineHeight:ke(t.itemSizeSM)},[`&${e}-mini ${e}-options`]:{marginInlineStart:t.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:t.miniOptionsSizeChangerTop},"&-quick-jumper":{height:t.itemSizeSM,lineHeight:ke(t.itemSizeSM),input:Object.assign(Object.assign({},P$(t)),{width:t.paginationMiniQuickJumperInputWidth,height:t.controlHeightSM})}}}},kDe=t=>{const{componentCls:e}=t;return{[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{height:t.itemSize,lineHeight:ke(t.itemSize),verticalAlign:"top",[`${e}-item-link`]:{height:t.itemSize,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive},"&::after":{height:t.itemSize,lineHeight:ke(t.itemSize)}}},[`${e}-simple-pager`]:{display:"inline-flex",alignItems:"center",height:t.itemSize,marginInlineEnd:t.marginXS,input:{boxSizing:"border-box",height:"100%",width:t.quickJumperInputWidth,padding:`0 ${ke(t.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:t.itemInputBg,border:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadius,outline:"none",transition:`border-color ${t.motionDurationMid}`,color:"inherit","&:hover":{borderColor:t.colorPrimary},"&:focus":{borderColor:t.colorPrimaryHover,boxShadow:`${ke(t.inputOutlineOffset)} 0 ${ke(t.controlOutlineWidth)} ${t.controlOutline}`},"&[disabled]":{color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,cursor:"not-allowed"}}},[`&${e}-disabled`]:{[`${e}-prev, ${e}-next`]:{[`${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}},[`&${e}-mini`]:{[`${e}-prev, ${e}-next`]:{height:t.itemSizeSM,lineHeight:ke(t.itemSizeSM),[`${e}-item-link`]:{height:t.itemSizeSM,"&::after":{height:t.itemSizeSM,lineHeight:ke(t.itemSizeSM)}}},[`${e}-simple-pager`]:{height:t.itemSizeSM,input:{width:t.paginationMiniQuickJumperInputWidth}}}}}},UDe=t=>{const{componentCls:e}=t;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:t.colorPrimary,fontSize:t.fontSizeSM,opacity:0,transition:`all ${t.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:t.colorTextDisabled,letterSpacing:t.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:t.paginationEllipsisTextIndent,opacity:1,transition:`all ${t.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}}},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:t.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,color:t.colorText,fontFamily:t.fontFamily,lineHeight:ke(t.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{outline:0,button:{color:t.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:t.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${ke(t.lineWidth)} ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:"none",transition:`all ${t.motionDurationMid}`},[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:t.paginationSlashMarginInlineEnd,marginInlineStart:t.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:t.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:t.controlHeight,marginInlineStart:t.marginXS,lineHeight:ke(t.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},R$(t)),M$(t,{borderColor:t.colorBorder,hoverBorderColor:t.colorPrimaryHover,activeBorderColor:t.colorPrimary,activeShadow:t.activeShadow})),{"&[disabled]":Object.assign({},gR(t)),width:t.quickJumperInputWidth,height:t.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:t.marginXS,marginInlineEnd:t.marginXS})}}}},zDe=t=>{const{componentCls:e}=t;return{[`${e}-item`]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,marginInlineEnd:t.marginXS,fontFamily:t.fontFamily,lineHeight:ke(t.calc(t.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:t.itemBg,border:`${ke(t.lineWidth)} ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${ke(t.paginationItemPaddingInline)}`,color:t.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${t.motionDurationMid}`,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},"&-active":{fontWeight:t.fontWeightStrong,backgroundColor:t.itemActiveBg,borderColor:t.colorPrimary,a:{color:t.itemActiveColor},"&:hover":{borderColor:t.colorPrimaryHover},"&:hover a":{color:t.itemActiveColorHover}}}}},VDe=t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ho(t)),{display:"flex",flexWrap:"wrap",rowGap:t.paddingXS,"&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:t.itemSize,marginInlineEnd:t.marginXS,lineHeight:ke(t.calc(t.itemSize).sub(2).equal()),verticalAlign:"middle"}}),zDe(t)),UDe(t)),kDe(t)),$De(t)),FDe(t)),{[`@media only screen and (max-width: ${t.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${t.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${t.componentCls}-rtl`]:{direction:"rtl"}}},GDe=t=>{const{componentCls:e}=t;return{[`${e}:not(${e}-disabled)`]:{[`${e}-item`]:Object.assign({},eg(t)),[`${e}-jump-prev, ${e}-jump-next`]:{"&:focus-visible":Object.assign({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},ey(t))},[`${e}-prev, ${e}-next`]:{[`&:focus-visible ${e}-item-link`]:ey(t)}}}},Roe=t=>Object.assign({itemBg:t.colorBgContainer,itemSize:t.controlHeight,itemSizeSM:t.controlHeightSM,itemActiveBg:t.colorBgContainer,itemActiveColor:t.colorPrimary,itemActiveColorHover:t.colorPrimaryHover,itemLinkBg:t.colorBgContainer,itemActiveColorDisabled:t.colorTextDisabled,itemActiveBgDisabled:t.controlItemBgActiveDisabled,itemInputBg:t.colorBgContainer,miniOptionsSizeChangerTop:0},v1(t)),Noe=t=>Yr(t,{inputOutlineOffset:0,quickJumperInputWidth:t.calc(t.controlHeightLG).mul(1.25).equal(),paginationMiniOptionsMarginInlineStart:t.calc(t.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:t.calc(t.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:t.calc(t.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:t.calc(t.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:t.marginSM,paginationSlashMarginInlineEnd:t.marginSM,paginationEllipsisTextIndent:"0.13em"},A1(t)),HDe=Ti("Pagination",t=>{const e=Noe(t);return[VDe(e),GDe(e)]},Roe),jDe=t=>{const{componentCls:e}=t;return{[`${e}${e}-bordered${e}-disabled:not(${e}-mini)`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:t.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:t.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,a:{color:t.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:t.itemActiveBgDisabled}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,color:t.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder}}},[`${e}${e}-bordered:not(${e}-mini)`]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:t.colorPrimaryHover,backgroundColor:t.itemBg},[`${e}-item-link`]:{backgroundColor:t.itemLinkBg,borderColor:t.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,color:t.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:t.colorBorder,color:t.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:t.itemBg,border:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,a:{color:t.colorPrimary}},"&-active":{borderColor:t.colorPrimary}}}}},qDe=o1(["Pagination","bordered"],t=>{const e=Noe(t);return jDe(e)},Roe);function fj(t){return S.useMemo(()=>typeof t=="boolean"?[t,{}]:t&&typeof t=="object"?[!0,t]:[void 0,void 0],[t])}var WDe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const XDe=t=>{const{align:e,prefixCls:n,selectPrefixCls:r,className:i,rootClassName:o,style:a,size:s,locale:l,responsive:c,showSizeChanger:u,selectComponentClass:d,pageSizeOptions:f}=t,h=WDe(t,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:p}=sR(c),[,_]=Ul(),{getPrefixCls:x,direction:y,showSizeChanger:w,className:C,style:M}=Fa("pagination"),R=x("pagination",n),[N,I,B]=HDe(R),D=cl(s),$=D==="small"||!!(p&&!D&&c),[z]=xc("Pagination",yte),V=Object.assign(Object.assign({},z),l),[q,G]=fj(u),[j,H]=fj(w),X=q??j,Y=G??H,ee=d||G_,Z=S.useMemo(()=>f?f.map(se=>Number(se)):void 0,[f]),re=se=>{var me;const{disabled:ye,size:we,onSizeChange:Ee,"aria-label":Me,className:Oe,options:Ue}=se,{className:Se,onChange:_e}=Y||{},ve=(me=Ue.find(Ge=>String(Ge.value)===String(we)))===null||me===void 0?void 0:me.value;return S.createElement(ee,Object.assign({disabled:ye,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:Ge=>Ge.parentNode,"aria-label":Me,options:Ue},Y,{value:ve,onChange:(Ge,ue)=>{Ee==null||Ee(Ge),_e==null||_e(Ge,ue)},size:$?"small":"middle",className:je(Oe,Se)}))},ae=S.useMemo(()=>{const se=S.createElement("span",{className:`${R}-item-ellipsis`},""),me=S.createElement("button",{className:`${R}-item-link`,type:"button",tabIndex:-1},y==="rtl"?S.createElement(U_,null):S.createElement(OM,null)),ye=S.createElement("button",{className:`${R}-item-link`,type:"button",tabIndex:-1},y==="rtl"?S.createElement(OM,null):S.createElement(U_,null)),we=S.createElement("a",{className:`${R}-item-link`},S.createElement("div",{className:`${R}-item-container`},y==="rtl"?S.createElement(cj,{className:`${R}-item-link-icon`}):S.createElement(lj,{className:`${R}-item-link-icon`}),se)),Ee=S.createElement("a",{className:`${R}-item-link`},S.createElement("div",{className:`${R}-item-container`},y==="rtl"?S.createElement(lj,{className:`${R}-item-link-icon`}):S.createElement(cj,{className:`${R}-item-link-icon`}),se));return{prevIcon:me,nextIcon:ye,jumpPrevIcon:we,jumpNextIcon:Ee}},[y,R]),ce=x("select",r),he=je({[`${R}-${e}`]:!!e,[`${R}-mini`]:$,[`${R}-rtl`]:y==="rtl",[`${R}-bordered`]:_.wireframe},C,i,o,I,B),ge=Object.assign(Object.assign({},M),a);return N(S.createElement(S.Fragment,null,_.wireframe&&S.createElement(qDe,{prefixCls:R}),S.createElement(BDe,Object.assign({},ae,h,{style:ge,prefixCls:R,selectPrefixCls:ce,className:he,locale:V,pageSizeOptions:Z,showSizeChanger:X,sizeChangerRender:re}))))},YDe=XDe,$M=100,Ioe=$M/5,Ooe=$M/2-Ioe/2,$I=Ooe*2*Math.PI,hj=50,pj=t=>{const{dotClassName:e,style:n,hasCircleCls:r}=t;return S.createElement("circle",{className:je(`${e}-circle`,{[`${e}-circle-bg`]:r}),r:Ooe,cx:hj,cy:hj,strokeWidth:Ioe,style:n})},KDe=({percent:t,prefixCls:e})=>{const n=`${e}-dot`,r=`${n}-holder`,i=`${r}-hidden`,[o,a]=S.useState(!1);zr(()=>{t!==0&&a(!0)},[t!==0]);const s=Math.max(Math.min(t,100),0);if(!o)return null;const l={strokeDashoffset:`${$I/4}`,strokeDasharray:`${$I*s/100} ${$I*(100-s)/100}`};return S.createElement("span",{className:je(r,`${n}-progress`,s<=0&&i)},S.createElement("svg",{viewBox:`0 0 ${$M} ${$M}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":s},S.createElement(pj,{dotClassName:n,hasCircleCls:!0}),S.createElement(pj,{dotClassName:n,style:l})))},QDe=KDe;function ZDe(t){const{prefixCls:e,percent:n=0}=t,r=`${e}-dot`,i=`${r}-holder`,o=`${i}-hidden`;return S.createElement(S.Fragment,null,S.createElement("span",{className:je(i,n>0&&o)},S.createElement("span",{className:je(r,`${e}-dot-spin`)},[1,2,3,4].map(a=>S.createElement("i",{className:`${e}-dot-item`,key:a})))),S.createElement(QDe,{prefixCls:e,percent:n}))}function JDe(t){var e;const{prefixCls:n,indicator:r,percent:i}=t,o=`${n}-dot`;return r&&S.isValidElement(r)?su(r,{className:je((e=r.props)===null||e===void 0?void 0:e.className,o),percent:i}):S.createElement(ZDe,{prefixCls:n,percent:i})}const eLe=new Gr("antSpinMove",{to:{opacity:1}}),tLe=new Gr("antRotate",{to:{transform:"rotate(405deg)"}}),nLe=t=>{const{componentCls:e,calc:n}=t;return{[e]:Object.assign(Object.assign({},ho(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:t.fontSize,paddingTop:n(n(t.dotSize).sub(t.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:t.colorBgMask,zIndex:t.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${t.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:t.colorWhite},[`${e}-text`]:{color:t.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(t.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${t.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:n(t.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeSM).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:n(t.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeLG).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:t.dotSize,display:"inline-block",transition:`transform ${t.motionDurationSlow} ease, opacity ${t.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:t.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),height:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:eLe,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:tLe,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${t.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:t.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal(),height:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal(),height:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},rLe=t=>{const{controlHeightLG:e,controlHeight:n}=t;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:n}},iLe=Ti("Spin",t=>{const e=Yr(t,{spinDotDefault:t.colorTextDescription});return nLe(e)},rLe),oLe=200,mj=[[30,.05],[70,.03],[96,.01]];function aLe(t,e){const[n,r]=S.useState(0),i=S.useRef(null),o=e==="auto";return S.useEffect(()=>(o&&t&&(r(0),i.current=setInterval(()=>{r(a=>{const s=100-a;for(let l=0;l<mj.length;l+=1){const[c,u]=mj[l];if(a<=c)return a+s*u}return a})},oLe)),()=>{i.current&&(clearInterval(i.current),i.current=null)}),[o,t]),o?n:e}var sLe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let Doe;function lLe(t,e){return!!t&&!!e&&!Number.isNaN(Number(e))}const Loe=t=>{var e;const{prefixCls:n,spinning:r=!0,delay:i=0,className:o,rootClassName:a,size:s="default",tip:l,wrapperClassName:c,style:u,children:d,fullscreen:f=!1,indicator:h,percent:p}=t,_=sLe(t,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:x,direction:y,className:w,style:C,indicator:M}=Fa("spin"),R=x("spin",n),[N,I,B]=iLe(R),[D,$]=S.useState(()=>r&&!lLe(r,i)),z=aLe(D,p);S.useEffect(()=>{if(r){const Y=R4e(i,()=>{$(!0)});return Y(),()=>{var ee;(ee=Y==null?void 0:Y.cancel)===null||ee===void 0||ee.call(Y)}}$(!1)},[i,r]);const V=S.useMemo(()=>typeof d<"u"&&!f,[d,f]),q=je(R,w,{[`${R}-sm`]:s==="small",[`${R}-lg`]:s==="large",[`${R}-spinning`]:D,[`${R}-show-text`]:!!l,[`${R}-rtl`]:y==="rtl"},o,!f&&a,I,B),G=je(`${R}-container`,{[`${R}-blur`]:D}),j=(e=h??M)!==null&&e!==void 0?e:Doe,H=Object.assign(Object.assign({},C),u),X=S.createElement("div",Object.assign({},_,{style:H,className:q,"aria-live":"polite","aria-busy":D}),S.createElement(JDe,{prefixCls:R,indicator:j,percent:z}),l&&(V||f)?S.createElement("div",{className:`${R}-text`},l):null);return N(V?S.createElement("div",Object.assign({},_,{className:je(`${R}-nested-loading`,c,I,B)}),D&&S.createElement("div",{key:"loading"},X),S.createElement("div",{className:G,key:"container"},d)):f?S.createElement("div",{className:je(`${R}-fullscreen`,{[`${R}-fullscreen-show`]:D},a,I,B)},X):X)};Loe.setDefaultIndicator=t=>{Doe=t};const cLe=Loe,B$=Ye.createContext({});B$.Consumer;var Boe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const uLe=t=>{var{prefixCls:e,className:n,avatar:r,title:i,description:o}=t,a=Boe(t,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:s}=S.useContext(ir),l=s("list",e),c=je(`${l}-item-meta`,n),u=Ye.createElement("div",{className:`${l}-item-meta-content`},i&&Ye.createElement("h4",{className:`${l}-item-meta-title`},i),o&&Ye.createElement("div",{className:`${l}-item-meta-description`},o));return Ye.createElement("div",Object.assign({},a,{className:c}),r&&Ye.createElement("div",{className:`${l}-item-meta-avatar`},r),(i||o)&&u)},dLe=Ye.forwardRef((t,e)=>{const{prefixCls:n,children:r,actions:i,extra:o,styles:a,className:s,classNames:l,colStyle:c}=t,u=Boe(t,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:d,itemLayout:f}=S.useContext(B$),{getPrefixCls:h,list:p}=S.useContext(ir),_=I=>{var B,D;return je((D=(B=p==null?void 0:p.item)===null||B===void 0?void 0:B.classNames)===null||D===void 0?void 0:D[I],l==null?void 0:l[I])},x=I=>{var B,D;return Object.assign(Object.assign({},(D=(B=p==null?void 0:p.item)===null||B===void 0?void 0:B.styles)===null||D===void 0?void 0:D[I]),a==null?void 0:a[I])},y=()=>{let I=!1;return S.Children.forEach(r,B=>{typeof B=="string"&&(I=!0)}),I&&S.Children.count(r)>1},w=()=>f==="vertical"?!!o:!y(),C=h("list",n),M=i&&i.length>0&&Ye.createElement("ul",{className:je(`${C}-item-action`,_("actions")),key:"actions",style:x("actions")},i.map((I,B)=>Ye.createElement("li",{key:`${C}-item-action-${B}`},I,B!==i.length-1&&Ye.createElement("em",{className:`${C}-item-action-split`})))),R=d?"div":"li",N=Ye.createElement(R,Object.assign({},u,d?{}:{ref:e},{className:je(`${C}-item`,{[`${C}-item-no-flex`]:!w()},s)}),f==="vertical"&&o?[Ye.createElement("div",{className:`${C}-item-main`,key:"content"},r,M),Ye.createElement("div",{className:je(`${C}-item-extra`,_("extra")),key:"extra",style:x("extra")},o)]:[r,M,su(o,{key:"extra"})]);return d?Ye.createElement(qf,{ref:e,flex:1,style:c},N):N}),Foe=dLe;Foe.Meta=uLe;const fLe=Foe,hLe=t=>{const{listBorderedCls:e,componentCls:n,paddingLG:r,margin:i,itemPaddingSM:o,itemPaddingLG:a,marginLG:s,borderRadiusLG:l}=t,c=ke(t.calc(l).sub(t.lineWidth).equal());return{[e]:{border:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:l,[`${n}-header`]:{borderRadius:`${c} ${c} 0 0`},[`${n}-footer`]:{borderRadius:`0 0 ${c} ${c}`},[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${ke(i)} ${ke(s)}`}},[`${e}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:o}},[`${e}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:a}}}},pLe=t=>{const{componentCls:e,screenSM:n,screenMD:r,marginLG:i,marginSM:o,margin:a}=t;return{[`@media screen and (max-width:${r}px)`]:{[e]:{[`${e}-item`]:{[`${e}-item-action`]:{marginInlineStart:i}}},[`${e}-vertical`]:{[`${e}-item`]:{[`${e}-item-extra`]:{marginInlineStart:i}}}},[`@media screen and (max-width: ${n}px)`]:{[e]:{[`${e}-item`]:{flexWrap:"wrap",[`${e}-action`]:{marginInlineStart:o}}},[`${e}-vertical`]:{[`${e}-item`]:{flexWrap:"wrap-reverse",[`${e}-item-main`]:{minWidth:t.contentWidth},[`${e}-item-extra`]:{margin:`auto auto ${ke(a)}`}}}}}},mLe=t=>{const{componentCls:e,antCls:n,controlHeight:r,minHeight:i,paddingSM:o,marginLG:a,padding:s,itemPadding:l,colorPrimary:c,itemPaddingSM:u,itemPaddingLG:d,paddingXS:f,margin:h,colorText:p,colorTextDescription:_,motionDurationSlow:x,lineWidth:y,headerBg:w,footerBg:C,emptyTextPadding:M,metaMarginBottom:R,avatarMarginRight:N,titleMarginBottom:I,descriptionFontSize:B}=t;return{[e]:Object.assign(Object.assign({},ho(t)),{position:"relative","--rc-virtual-list-scrollbar-bg":t.colorSplit,"*":{outline:"none"},[`${e}-header`]:{background:w},[`${e}-footer`]:{background:C},[`${e}-header, ${e}-footer`]:{paddingBlock:o},[`${e}-pagination`]:{marginBlockStart:a,[`${n}-pagination-options`]:{textAlign:"start"}},[`${e}-spin`]:{minHeight:i,textAlign:"center"},[`${e}-items`]:{margin:0,padding:0,listStyle:"none"},[`${e}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:p,[`${e}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${e}-item-meta-avatar`]:{marginInlineEnd:N},[`${e}-item-meta-content`]:{flex:"1 0",width:0,color:p},[`${e}-item-meta-title`]:{margin:`0 0 ${ke(t.marginXXS)} 0`,color:p,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":{color:p,transition:`all ${x}`,"&:hover":{color:c}}},[`${e}-item-meta-description`]:{color:_,fontSize:B,lineHeight:t.lineHeight}},[`${e}-item-action`]:{flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${ke(f)}`,color:_,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${e}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:y,height:t.calc(t.fontHeight).sub(t.calc(t.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:t.colorSplit}}},[`${e}-empty`]:{padding:`${ke(s)} 0`,color:_,fontSize:t.fontSizeSM,textAlign:"center"},[`${e}-empty-text`]:{padding:M,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"},[`${e}-item-no-flex`]:{display:"block"}}),[`${e}-grid ${n}-col > ${e}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:h,paddingBlock:0,borderBlockEnd:"none"},[`${e}-vertical ${e}-item`]:{alignItems:"initial",[`${e}-item-main`]:{display:"block",flex:1},[`${e}-item-extra`]:{marginInlineStart:a},[`${e}-item-meta`]:{marginBlockEnd:R,[`${e}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:I,color:p,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}},[`${e}-item-action`]:{marginBlockStart:s,marginInlineStart:"auto","> li":{padding:`0 ${ke(s)}`,"&:first-child":{paddingInlineStart:0}}}},[`${e}-split ${e}-item`]:{borderBlockEnd:`${ke(t.lineWidth)} ${t.lineType} ${t.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${e}-split ${e}-header`]:{borderBlockEnd:`${ke(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-split${e}-empty ${e}-footer`]:{borderTop:`${ke(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-loading ${e}-spin-nested-loading`]:{minHeight:r},[`${e}-split${e}-something-after-last-item ${n}-spin-container > ${e}-items > ${e}-item:last-child`]:{borderBlockEnd:`${ke(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-lg ${e}-item`]:{padding:d},[`${e}-sm ${e}-item`]:{padding:u},[`${e}:not(${e}-vertical)`]:{[`${e}-item-no-flex`]:{[`${e}-item-action`]:{float:"right"}}}}},gLe=t=>({contentWidth:220,itemPadding:`${ke(t.paddingContentVertical)} 0`,itemPaddingSM:`${ke(t.paddingContentVerticalSM)} ${ke(t.paddingContentHorizontal)}`,itemPaddingLG:`${ke(t.paddingContentVerticalLG)} ${ke(t.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:t.padding,metaMarginBottom:t.padding,avatarMarginRight:t.padding,titleMarginBottom:t.paddingSM,descriptionFontSize:t.fontSize}),ALe=Ti("List",t=>{const e=Yr(t,{listBorderedCls:`${t.componentCls}-bordered`,minHeight:t.controlHeightLG});return[mLe(e),hLe(e),pLe(e)]},gLe);var vLe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function yLe(t,e){const{pagination:n=!1,prefixCls:r,bordered:i=!1,split:o=!0,className:a,rootClassName:s,style:l,children:c,itemLayout:u,loadMore:d,grid:f,dataSource:h=[],size:p,header:_,footer:x,loading:y=!1,rowKey:w,renderItem:C,locale:M}=t,R=vLe(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),N=n&&typeof n=="object"?n:{},[I,B]=S.useState(N.defaultCurrent||1),[D,$]=S.useState(N.defaultPageSize||10),{getPrefixCls:z,direction:V,className:q,style:G}=Fa("list"),{renderEmpty:j}=S.useContext(ir),H={current:1,total:0,position:"bottom"},X=Ze=>(pe,te)=>{var Ne;B(pe),$(te),n&&((Ne=n==null?void 0:n[Ze])===null||Ne===void 0||Ne.call(n,pe,te))},Y=X("onChange"),ee=X("onShowSizeChange"),Z=(Ze,pe)=>{if(!C)return null;let te;return typeof w=="function"?te=w(Ze):w?te=Ze[w]:te=Ze.key,te||(te=`list-item-${pe}`),S.createElement(S.Fragment,{key:te},C(Ze,pe))},re=!!(d||n||x),ae=z("list",r),[ce,he,ge]=ALe(ae);let se=y;typeof se=="boolean"&&(se={spinning:se});const me=!!(se!=null&&se.spinning),ye=cl(p);let we="";switch(ye){case"large":we="lg";break;case"small":we="sm";break}const Ee=je(ae,{[`${ae}-vertical`]:u==="vertical",[`${ae}-${we}`]:we,[`${ae}-split`]:o,[`${ae}-bordered`]:i,[`${ae}-loading`]:me,[`${ae}-grid`]:!!f,[`${ae}-something-after-last-item`]:re,[`${ae}-rtl`]:V==="rtl"},q,a,s,he,ge),Me=$5(H,{total:h.length,current:I,pageSize:D},n||{}),Oe=Math.ceil(Me.total/Me.pageSize);Me.current=Math.min(Me.current,Oe);const Ue=n&&S.createElement("div",{className:je(`${ae}-pagination`)},S.createElement(YDe,Object.assign({align:"end"},Me,{onChange:Y,onShowSizeChange:ee})));let Se=Xt(h);n&&h.length>(Me.current-1)*Me.pageSize&&(Se=Xt(h).splice((Me.current-1)*Me.pageSize,Me.pageSize));const _e=Object.keys(f||{}).some(Ze=>["xs","sm","md","lg","xl","xxl"].includes(Ze)),ve=sR(_e),Ge=S.useMemo(()=>{for(let Ze=0;Ze<rg.length;Ze+=1){const pe=rg[Ze];if(ve[pe])return pe}},[ve]),ue=S.useMemo(()=>{if(!f)return;const Ze=Ge&&f[Ge]?f[Ge]:f.column;if(Ze)return{width:`${100/Ze}%`,maxWidth:`${100/Ze}%`}},[JSON.stringify(f),Ge]);let at=me&&S.createElement("div",{style:{minHeight:53}});if(Se.length>0){const Ze=Se.map(Z);at=f?S.createElement(yR,{gutter:f.gutter},S.Children.map(Ze,pe=>S.createElement("div",{key:pe==null?void 0:pe.key,style:ue},pe))):S.createElement("ul",{className:`${ae}-items`},Ze)}else!c&&!me&&(at=S.createElement("div",{className:`${ae}-empty-text`},(M==null?void 0:M.emptyText)||(j==null?void 0:j("List"))||S.createElement(yre,{componentName:"List"})));const nt=Me.position,ct=S.useMemo(()=>({grid:f,itemLayout:u}),[JSON.stringify(f),u]);return ce(S.createElement(B$.Provider,{value:ct},S.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},G),l),className:Ee},R),(nt==="top"||nt==="both")&&Ue,_&&S.createElement("div",{className:`${ae}-header`},_),S.createElement(cLe,Object.assign({},se),at,c),x&&S.createElement("div",{className:`${ae}-footer`},x),d||(nt==="bottom"||nt==="both")&&Ue)))}const bLe=S.forwardRef(yLe),$oe=bLe;$oe.Item=fLe;const og=$oe,xLe=(t,e=!1)=>e&&t==null?[]:Array.isArray(t)?t:[t],_Le=xLe;let $c=null,E0=t=>t(),j_=[],q_={};function gj(){const{getContainer:t,duration:e,rtl:n,maxCount:r,top:i}=q_,o=(t==null?void 0:t())||document.body;return{getContainer:()=>o,duration:e,rtl:n,maxCount:r,top:i}}const SLe=Ye.forwardRef((t,e)=>{const{messageConfig:n,sync:r}=t,{getPrefixCls:i}=S.useContext(ir),o=q_.prefixCls||i("message"),a=S.useContext(JCe),[s,l]=dne(Object.assign(Object.assign(Object.assign({},n),{prefixCls:o}),a.message));return Ye.useImperativeHandle(e,()=>{const c=Object.assign({},s);return Object.keys(c).forEach(u=>{c[u]=(...d)=>(r(),s[u].apply(s,d))}),{instance:c,sync:r}}),l}),wLe=Ye.forwardRef((t,e)=>{const[n,r]=Ye.useState(gj),i=()=>{r(gj)};Ye.useEffect(i,[]);const o=Yte(),a=o.getRootPrefixCls(),s=o.getIconPrefixCls(),l=o.getTheme(),c=Ye.createElement(SLe,{ref:e,sync:i,messageConfig:n});return Ye.createElement(Q2,{prefixCls:a,iconPrefixCls:s,theme:l},o.holderRender?o.holderRender(c):c)}),SR=()=>{if(!$c){const t=document.createDocumentFragment(),e={fragment:t};$c=e,E0(()=>{GF()(Ye.createElement(wLe,{ref:r=>{const{instance:i,sync:o}=r||{};Promise.resolve().then(()=>{!e.instance&&i&&(e.instance=i,e.sync=o,SR())})}}),t)});return}$c.instance&&(j_.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{E0(()=>{const r=$c.instance.open(Object.assign(Object.assign({},q_),t.config));r==null||r.then(t.resolve),t.setCloseFn(r)});break}case"destroy":E0(()=>{$c==null||$c.instance.destroy(t.key)});break;default:E0(()=>{var r;const i=(r=$c.instance)[e].apply(r,Xt(t.args));i==null||i.then(t.resolve),t.setCloseFn(i)})}}),j_=[])};function CLe(t){q_=Object.assign(Object.assign({},q_),t),E0(()=>{var e;(e=$c==null?void 0:$c.sync)===null||e===void 0||e.call($c)})}function TLe(t){const e=zF(n=>{let r;const i={type:"open",config:t,resolve:n,setCloseFn:o=>{r=o}};return j_.push(i),()=>{r?E0(()=>{r()}):i.skipped=!0}});return SR(),e}function ELe(t,e){const n=zF(r=>{let i;const o={type:t,args:e,resolve:r,setCloseFn:a=>{i=a}};return j_.push(o),()=>{i?E0(()=>{i()}):o.skipped=!0}});return SR(),n}const MLe=t=>{j_.push({type:"destroy",key:t}),SR()},PLe=["success","info","warning","error","loading"],RLe={open:TLe,destroy:MLe,config:CLe,useMessage:$_e,_InternalPanelDoNotUseOrYouWillBeFired:R_e},koe=RLe;PLe.forEach(t=>{koe[t]=(...e)=>ELe(t,e)});const m8=koe;var NLe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ILe=t=>{const{prefixCls:e,className:n,closeIcon:r,closable:i,type:o,title:a,children:s,footer:l}=t,c=NLe(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:u}=S.useContext(ir),d=u(),f=e||u("modal"),h=_c(d),[p,_,x]=qne(f,h),y=`${f}-confirm`;let w={};return o?w={closable:i??!1,title:"",footer:"",children:S.createElement(Xne,Object.assign({},t,{prefixCls:f,confirmPrefixCls:y,rootPrefixCls:d,content:s}))}:w={closable:i??!0,title:a,footer:l!==null&&S.createElement(Vne,Object.assign({},t)),children:s},p(S.createElement(Cne,Object.assign({prefixCls:f,className:je(_,`${f}-pure-panel`,o&&y,o&&`${y}-${o}`,n,x,h)},c,{closeIcon:zne(f,r),closable:i},w)))},OLe=rre(ILe);function Uoe(t){return iS(Zne(t))}const hd=Wne;hd.useModal=ZCe;hd.info=function(e){return iS(Jne(e))};hd.success=function(e){return iS(ere(e))};hd.error=function(e){return iS(tre(e))};hd.warning=Uoe;hd.warn=Uoe;hd.confirm=function(e){return iS(nre(e))};hd.destroyAll=function(){for(;T0.length;){const e=T0.pop();e&&e()}};hd.config=WCe;hd._InternalPanelDoNotUseOrYouWillBeFired=OLe;const zoe=hd,DLe=t=>{const{componentCls:e,iconCls:n,antCls:r,zIndexPopup:i,colorText:o,colorWarning:a,marginXXS:s,marginXS:l,fontSize:c,fontWeightStrong:u,colorTextHeading:d}=t;return{[e]:{zIndex:i,[`&${r}-popover`]:{fontSize:c},[`${e}-message`]:{marginBottom:l,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e}-message-icon ${n}`]:{color:a,fontSize:c,lineHeight:1,marginInlineEnd:l},[`${e}-title`]:{fontWeight:u,color:d,"&:only-child":{fontWeight:"normal"}},[`${e}-description`]:{marginTop:s,color:o}},[`${e}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:l}}}}},LLe=t=>{const{zIndexPopupBase:e}=t;return{zIndexPopup:e+60}},Voe=Ti("Popconfirm",t=>DLe(t),LLe,{resetStyle:!1});var BLe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Goe=t=>{const{prefixCls:e,okButtonProps:n,cancelButtonProps:r,title:i,description:o,cancelText:a,okText:s,okType:l="primary",icon:c=S.createElement(Z2,null),showCancel:u=!0,close:d,onConfirm:f,onCancel:h,onPopupClick:p}=t,{getPrefixCls:_}=S.useContext(ir),[x]=xc("Popconfirm",ff.Popconfirm),y=ry(i),w=ry(o);return S.createElement("div",{className:`${e}-inner-content`,onClick:p},S.createElement("div",{className:`${e}-message`},c&&S.createElement("span",{className:`${e}-message-icon`},c),S.createElement("div",{className:`${e}-message-text`},y&&S.createElement("div",{className:`${e}-title`},y),w&&S.createElement("div",{className:`${e}-description`},w))),S.createElement("div",{className:`${e}-buttons`},u&&S.createElement(Go,Object.assign({onClick:h,size:"small"},r),a||(x==null?void 0:x.cancelText)),S.createElement(JF,{buttonProps:Object.assign(Object.assign({size:"small"},HF(l)),n),actionFn:f,close:d,prefixCls:_("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},s||(x==null?void 0:x.okText))))},FLe=t=>{const{prefixCls:e,placement:n,className:r,style:i}=t,o=BLe(t,["prefixCls","placement","className","style"]),{getPrefixCls:a}=S.useContext(ir),s=a("popconfirm",e),[l]=Voe(s);return l(S.createElement(kre,{placement:n,className:je(s,r),style:i,content:S.createElement(Goe,Object.assign({prefixCls:s},o))}))},$Le=FLe;var kLe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ULe=S.forwardRef((t,e)=>{var n,r;const{prefixCls:i,placement:o="top",trigger:a="click",okType:s="primary",icon:l=S.createElement(Z2,null),children:c,overlayClassName:u,onOpenChange:d,onVisibleChange:f,overlayStyle:h,styles:p,classNames:_}=t,x=kLe(t,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:y,className:w,style:C,classNames:M,styles:R}=Fa("popconfirm"),[N,I]=Ui(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),B=(X,Y)=>{I(X,!0),f==null||f(X),d==null||d(X,Y)},D=X=>{B(!1,X)},$=X=>{var Y;return(Y=t.onConfirm)===null||Y===void 0?void 0:Y.call(globalThis,X)},z=X=>{var Y;B(!1,X),(Y=t.onCancel)===null||Y===void 0||Y.call(globalThis,X)},V=(X,Y)=>{const{disabled:ee=!1}=t;ee||B(X,Y)},q=y("popconfirm",i),G=je(q,w,u,M.root,_==null?void 0:_.root),j=je(M.body,_==null?void 0:_.body),[H]=Voe(q);return H(S.createElement(o3e,Object.assign({},po(x,["title"]),{trigger:a,placement:o,onOpenChange:V,open:N,ref:e,classNames:{root:G,body:j},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},R.root),C),h),p==null?void 0:p.root),body:Object.assign(Object.assign({},R.body),p==null?void 0:p.body)},content:S.createElement(Goe,Object.assign({okType:s,icon:l},t,{prefixCls:q,close:D,onConfirm:$,onCancel:z})),"data-popover-inject":!0}),c))}),Hoe=ULe;Hoe._InternalPanelDoNotUseOrYouWillBeFired=$Le;const zLe=Hoe;var VLe={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},GLe=function(){var e=S.useRef([]),n=S.useRef(null);return S.useEffect(function(){var r=Date.now(),i=!1;e.current.forEach(function(o){if(o){i=!0;var a=o.style;a.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(a.transitionDuration="0s, 0s")}}),i&&(n.current=Date.now())}),e.current},Aj=0,HLe=ss();function jLe(){var t;return HLe?(t=Aj,Aj+=1):t="TEST_OR_SSR",t}const qLe=function(t){var e=S.useState(),n=ze(e,2),r=n[0],i=n[1];return S.useEffect(function(){i("rc_progress_".concat(jLe()))},[]),t||r};var vj=function(e){var n=e.bg,r=e.children;return S.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function yj(t,e){return Object.keys(t).map(function(n){var r=parseFloat(n),i="".concat(Math.floor(r*e),"%");return"".concat(t[n]," ").concat(i)})}var WLe=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.color,i=t.gradientId,o=t.radius,a=t.style,s=t.ptg,l=t.strokeLinecap,c=t.strokeWidth,u=t.size,d=t.gapDegree,f=r&&Dn(r)==="object",h=f?"#FFF":void 0,p=u/2,_=S.createElement("circle",{className:"".concat(n,"-circle-path"),r:o,cx:p,cy:p,stroke:h,strokeLinecap:l,strokeWidth:c,opacity:s===0?0:1,style:a,ref:e});if(!f)return _;var x="".concat(i,"-conic"),y=d?"".concat(180+d/2,"deg"):"0deg",w=yj(r,(360-d)/360),C=yj(r,1),M="conic-gradient(from ".concat(y,", ").concat(w.join(", "),")"),R="linear-gradient(to ".concat(d?"bottom":"top",", ").concat(C.join(", "),")");return S.createElement(S.Fragment,null,S.createElement("mask",{id:x},_),S.createElement("foreignObject",{x:0,y:0,width:u,height:u,mask:"url(#".concat(x,")")},S.createElement(vj,{bg:R},S.createElement(vj,{bg:M}))))}),mx=100,kI=function(e,n,r,i,o,a,s,l,c,u){var d=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,f=r/100*360*((360-a)/360),h=a===0?0:{bottom:0,top:180,left:90,right:-90}[s],p=(100-i)/100*n;c==="round"&&i!==100&&(p+=u/2,p>=n&&(p=n-.01));var _=mx/2;return{stroke:typeof l=="string"?l:void 0,strokeDasharray:"".concat(n,"px ").concat(e),strokeDashoffset:p+d,transform:"rotate(".concat(o+f+h,"deg)"),transformOrigin:"".concat(_,"px ").concat(_,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},XLe=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function bj(t){var e=t??[];return Array.isArray(e)?e:[e]}var YLe=function(e){var n=Ie(Ie({},VLe),e),r=n.id,i=n.prefixCls,o=n.steps,a=n.strokeWidth,s=n.trailWidth,l=n.gapDegree,c=l===void 0?0:l,u=n.gapPosition,d=n.trailColor,f=n.strokeLinecap,h=n.style,p=n.className,_=n.strokeColor,x=n.percent,y=pr(n,XLe),w=mx/2,C=qLe(r),M="".concat(C,"-gradient"),R=w-a/2,N=Math.PI*2*R,I=c>0?90+c/2:-90,B=N*((360-c)/360),D=Dn(o)==="object"?o:{count:o,gap:2},$=D.count,z=D.gap,V=bj(x),q=bj(_),G=q.find(function(re){return re&&Dn(re)==="object"}),j=G&&Dn(G)==="object",H=j?"butt":f,X=kI(N,B,0,100,I,c,u,d,H,a),Y=GLe(),ee=function(){var ae=0;return V.map(function(ce,he){var ge=q[he]||q[q.length-1],se=kI(N,B,ae,ce,I,c,u,ge,H,a);return ae+=ce,S.createElement(WLe,{key:he,color:ge,ptg:ce,radius:R,prefixCls:i,gradientId:M,style:se,strokeLinecap:H,strokeWidth:a,gapDegree:c,ref:function(ye){Y[he]=ye},size:mx})}).reverse()},Z=function(){var ae=Math.round($*(V[0]/100)),ce=100/$,he=0;return new Array($).fill(null).map(function(ge,se){var me=se<=ae-1?q[0]:d,ye=me&&Dn(me)==="object"?"url(#".concat(M,")"):void 0,we=kI(N,B,he,ce,I,c,u,me,"butt",a,z);return he+=(B-we.strokeDashoffset+z)*100/B,S.createElement("circle",{key:se,className:"".concat(i,"-circle-path"),r:R,cx:w,cy:w,stroke:ye,strokeWidth:a,opacity:1,style:we,ref:function(Me){Y[se]=Me}})})};return S.createElement("svg",ft({className:je("".concat(i,"-circle"),p),viewBox:"0 0 ".concat(mx," ").concat(mx),style:h,id:r,role:"presentation"},y),!$&&S.createElement("circle",{className:"".concat(i,"-circle-trail"),r:R,cx:w,cy:w,stroke:d,strokeLinecap:H,strokeWidth:s||a,style:X}),$?Z():ee())};function Vp(t){return!t||t<0?0:t>100?100:t}function kM({success:t,successPercent:e}){let n=e;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}const KLe=({percent:t,success:e,successPercent:n})=>{const r=Vp(kM({success:e,successPercent:n}));return[r,Vp(Vp(t)-r)]},QLe=({success:t={},strokeColor:e})=>{const{strokeColor:n}=t;return[n||Ev.green,e||null]},wR=(t,e,n)=>{var r,i,o,a;let s=-1,l=-1;if(e==="step"){const c=n.steps,u=n.strokeWidth;typeof t=="string"||typeof t>"u"?(s=t==="small"?2:14,l=u??8):typeof t=="number"?[s,l]=[t,t]:[s=14,l=8]=Array.isArray(t)?t:[t.width,t.height],s*=c}else if(e==="line"){const c=n==null?void 0:n.strokeWidth;typeof t=="string"||typeof t>"u"?l=c||(t==="small"?6:8):typeof t=="number"?[s,l]=[t,t]:[s=-1,l=8]=Array.isArray(t)?t:[t.width,t.height]}else(e==="circle"||e==="dashboard")&&(typeof t=="string"||typeof t>"u"?[s,l]=t==="small"?[60,60]:[120,120]:typeof t=="number"?[s,l]=[t,t]:Array.isArray(t)&&(s=(i=(r=t[0])!==null&&r!==void 0?r:t[1])!==null&&i!==void 0?i:120,l=(a=(o=t[0])!==null&&o!==void 0?o:t[1])!==null&&a!==void 0?a:120));return[s,l]},ZLe=3,JLe=t=>ZLe/t*100,e5e=t=>{const{prefixCls:e,trailColor:n=null,strokeLinecap:r="round",gapPosition:i,gapDegree:o,width:a=120,type:s,children:l,success:c,size:u=a,steps:d}=t,[f,h]=wR(u,"circle");let{strokeWidth:p}=t;p===void 0&&(p=Math.max(JLe(f),6));const _={width:f,height:h,fontSize:f*.15+6},x=S.useMemo(()=>{if(o||o===0)return o;if(s==="dashboard")return 75},[o,s]),y=KLe(t),w=i||s==="dashboard"&&"bottom"||void 0,C=Object.prototype.toString.call(t.strokeColor)==="[object Object]",M=QLe({success:c,strokeColor:t.strokeColor}),R=je(`${e}-inner`,{[`${e}-circle-gradient`]:C}),N=S.createElement(YLe,{steps:d,percent:d?y[1]:y,strokeWidth:p,trailWidth:p,strokeColor:d?M[1]:M,strokeLinecap:r,trailColor:n,prefixCls:e,gapDegree:x,gapPosition:w}),I=f<=20,B=S.createElement("div",{className:R,style:_},N,!I&&l);return I?S.createElement(Tg,{title:l},B):B},t5e=e5e,UM="--progress-line-stroke-color",joe="--progress-percent",xj=t=>{const e=t?"100%":"-100%";return new Gr(`antProgress${t?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},n5e=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:Object.assign(Object.assign({},ho(t)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:t.fontSize},[`${e}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:t.remainingColor,borderRadius:t.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",background:t.defaultColor,borderRadius:t.lineBorderRadius,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`},[`${e}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${e}-text`]:{width:"max-content",marginInlineStart:0,marginTop:t.marginXXS}},[`${e}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${UM})`]},height:"100%",width:`calc(1 / var(${joe}) * 100%)`,display:"block"},[`&${e}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${e}-text-inner`]:{color:t.colorWhite,[`&${e}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:t.colorSuccess},[`${e}-text`]:{display:"inline-block",marginInlineStart:t.marginXS,color:t.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:t.fontSize},[`&${e}-text-outer`]:{width:"max-content"},[`&${e}-text-outer${e}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:t.marginXS}},[`${e}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${ke(t.paddingXXS)}`,[`&${e}-text-start`]:{justifyContent:"start"},[`&${e}-text-end`]:{justifyContent:"end"}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:t.colorBgContainer,borderRadius:t.lineBorderRadius,opacity:0,animationName:xj(),animationDuration:t.progressActiveMotionDuration,animationTimingFunction:t.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:xj(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:t.colorError},[`${e}-text`]:{color:t.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:t.colorSuccess},[`${e}-text`]:{color:t.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorSuccess}}})}},r5e=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-circle-trail`]:{stroke:t.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:t.circleTextColor,fontSize:t.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:t.circleIconFontSize}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:t.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:t.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},i5e=t=>{const{componentCls:e}=t;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:t.progressStepMinWidth,marginInlineEnd:t.progressStepMarginInlineEnd,backgroundColor:t.remainingColor,transition:`all ${t.motionDurationSlow}`,"&-active":{backgroundColor:t.defaultColor}}}}}},o5e=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${n}`]:{fontSize:t.fontSizeSM}}}},a5e=t=>({circleTextColor:t.colorText,defaultColor:t.colorInfo,remainingColor:t.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${t.fontSize/t.fontSizeSM}em`}),s5e=Ti("Progress",t=>{const e=t.calc(t.marginXXS).div(2).equal(),n=Yr(t,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[n5e(n),r5e(n),i5e(n),o5e(n)]},a5e);var l5e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const c5e=t=>{let e=[];return Object.keys(t).forEach(n=>{const r=Number.parseFloat(n.replace(/%/g,""));Number.isNaN(r)||e.push({key:r,value:t[n]})}),e=e.sort((n,r)=>n.key-r.key),e.map(({key:n,value:r})=>`${r} ${n}%`).join(", ")},u5e=(t,e)=>{const{from:n=Ev.blue,to:r=Ev.blue,direction:i=e==="rtl"?"to left":"to right"}=t,o=l5e(t,["from","to","direction"]);if(Object.keys(o).length!==0){const s=c5e(o),l=`linear-gradient(${i}, ${s})`;return{background:l,[UM]:l}}const a=`linear-gradient(${i}, ${n}, ${r})`;return{background:a,[UM]:a}},d5e=t=>{const{prefixCls:e,direction:n,percent:r,size:i,strokeWidth:o,strokeColor:a,strokeLinecap:s="round",children:l,trailColor:c=null,percentPosition:u,success:d}=t,{align:f,type:h}=u,p=a&&typeof a!="string"?u5e(a,n):{[UM]:a,background:a},_=s==="square"||s==="butt"?0:void 0,x=i??[-1,o||(i==="small"?6:8)],[y,w]=wR(x,"line",{strokeWidth:o}),C={backgroundColor:c||void 0,borderRadius:_},M=Object.assign(Object.assign({width:`${Vp(r)}%`,height:w,borderRadius:_},p),{[joe]:Vp(r)/100}),R=kM(t),N={width:`${Vp(R)}%`,height:w,borderRadius:_,backgroundColor:d==null?void 0:d.strokeColor},I={width:y<0?"100%":y},B=S.createElement("div",{className:`${e}-inner`,style:C},S.createElement("div",{className:je(`${e}-bg`,`${e}-bg-${h}`),style:M},h==="inner"&&l),R!==void 0&&S.createElement("div",{className:`${e}-success-bg`,style:N})),D=h==="outer"&&f==="start",$=h==="outer"&&f==="end";return h==="outer"&&f==="center"?S.createElement("div",{className:`${e}-layout-bottom`},B,l):S.createElement("div",{className:`${e}-outer`,style:I},D&&l,B,$&&l)},f5e=d5e,h5e=t=>{const{size:e,steps:n,rounding:r=Math.round,percent:i=0,strokeWidth:o=8,strokeColor:a,trailColor:s=null,prefixCls:l,children:c}=t,u=r(n*(i/100)),f=e??[e==="small"?2:14,o],[h,p]=wR(f,"step",{steps:n,strokeWidth:o}),_=h/n,x=Array.from({length:n});for(let y=0;y<n;y++){const w=Array.isArray(a)?a[y]:a;x[y]=S.createElement("div",{key:y,className:je(`${l}-steps-item`,{[`${l}-steps-item-active`]:y<=u-1}),style:{backgroundColor:y<=u-1?w:s,width:_,height:p}})}return S.createElement("div",{className:`${l}-steps-outer`},x,c)},p5e=h5e;var m5e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const g5e=["normal","exception","active","success"],A5e=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:i,steps:o,strokeColor:a,percent:s=0,size:l="default",showInfo:c=!0,type:u="line",status:d,format:f,style:h,percentPosition:p={}}=t,_=m5e(t,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:x="end",type:y="outer"}=p,w=Array.isArray(a)?a[0]:a,C=typeof a=="string"||Array.isArray(a)?a:void 0,M=S.useMemo(()=>{if(w){const ee=typeof w=="string"?w:Object.values(w)[0];return new gi(ee).isLight()}return!1},[a]),R=S.useMemo(()=>{var ee,Z;const re=kM(t);return Number.parseInt(re!==void 0?(ee=re??0)===null||ee===void 0?void 0:ee.toString():(Z=s??0)===null||Z===void 0?void 0:Z.toString(),10)},[s,t.success,t.successPercent]),N=S.useMemo(()=>!g5e.includes(d)&&R>=100?"success":d||"normal",[d,R]),{getPrefixCls:I,direction:B,progress:D}=S.useContext(ir),$=I("progress",n),[z,V,q]=s5e($),G=u==="line",j=G&&!o,H=S.useMemo(()=>{if(!c)return null;const ee=kM(t);let Z;const re=f||(ce=>`${ce}%`),ae=G&&M&&y==="inner";return y==="inner"||f||N!=="exception"&&N!=="success"?Z=re(Vp(s),Vp(ee)):N==="exception"?Z=G?S.createElement(s1,null):S.createElement(Am,null):N==="success"&&(Z=G?S.createElement(qP,null):S.createElement(aR,null)),S.createElement("span",{className:je(`${$}-text`,{[`${$}-text-bright`]:ae,[`${$}-text-${x}`]:j,[`${$}-text-${y}`]:j}),title:typeof Z=="string"?Z:void 0},Z)},[c,s,R,N,u,$,f]);let X;u==="line"?X=o?S.createElement(p5e,Object.assign({},t,{strokeColor:C,prefixCls:$,steps:typeof o=="object"?o.count:o}),H):S.createElement(f5e,Object.assign({},t,{strokeColor:w,prefixCls:$,direction:B,percentPosition:{align:x,type:y}}),H):(u==="circle"||u==="dashboard")&&(X=S.createElement(t5e,Object.assign({},t,{strokeColor:w,prefixCls:$,progressStatus:N}),H));const Y=je($,`${$}-status-${N}`,{[`${$}-${u==="dashboard"&&"circle"||u}`]:u!=="line",[`${$}-inline-circle`]:u==="circle"&&wR(l,"circle")[0]<=20,[`${$}-line`]:j,[`${$}-line-align-${x}`]:j,[`${$}-line-position-${y}`]:j,[`${$}-steps`]:o,[`${$}-show-info`]:c,[`${$}-${l}`]:typeof l=="string",[`${$}-rtl`]:B==="rtl"},D==null?void 0:D.className,r,i,V,q);return z(S.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},D==null?void 0:D.style),h),className:Y,role:"progressbar","aria-valuenow":R,"aria-valuemin":0,"aria-valuemax":100},po(_,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),X))}),v5e=A5e;var y5e=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function _j(t){return typeof t=="string"}function qoe(t){var e,n=t.className,r=t.prefixCls,i=t.style,o=t.active,a=t.status,s=t.iconPrefix,l=t.icon;t.wrapperStyle;var c=t.stepNumber,u=t.disabled,d=t.description,f=t.title,h=t.subTitle,p=t.progressDot,_=t.stepIcon,x=t.tailContent,y=t.icons,w=t.stepIndex,C=t.onStepClick,M=t.onClick,R=t.render,N=pr(t,y5e),I=!!C&&!u,B={};I&&(B.role="button",B.tabIndex=0,B.onClick=function(G){M==null||M(G),C(w)},B.onKeyDown=function(G){var j=G.which;(j===qt.ENTER||j===qt.SPACE)&&C(w)});var D=function(){var j,H,X=je("".concat(r,"-icon"),"".concat(s,"icon"),(j={},Re(j,"".concat(s,"icon-").concat(l),l&&_j(l)),Re(j,"".concat(s,"icon-check"),!l&&a==="finish"&&(y&&!y.finish||!y)),Re(j,"".concat(s,"icon-cross"),!l&&a==="error"&&(y&&!y.error||!y)),j)),Y=S.createElement("span",{className:"".concat(r,"-icon-dot")});return p?typeof p=="function"?H=S.createElement("span",{className:"".concat(r,"-icon")},p(Y,{index:c-1,status:a,title:f,description:d})):H=S.createElement("span",{className:"".concat(r,"-icon")},Y):l&&!_j(l)?H=S.createElement("span",{className:"".concat(r,"-icon")},l):y&&y.finish&&a==="finish"?H=S.createElement("span",{className:"".concat(r,"-icon")},y.finish):y&&y.error&&a==="error"?H=S.createElement("span",{className:"".concat(r,"-icon")},y.error):l||a==="finish"||a==="error"?H=S.createElement("span",{className:X}):H=S.createElement("span",{className:"".concat(r,"-icon")},c),_&&(H=_({index:c-1,status:a,title:f,description:d,node:H})),H},$=a||"wait",z=je("".concat(r,"-item"),"".concat(r,"-item-").concat($),n,(e={},Re(e,"".concat(r,"-item-custom"),l),Re(e,"".concat(r,"-item-active"),o),Re(e,"".concat(r,"-item-disabled"),u===!0),e)),V=Ie({},i),q=S.createElement("div",ft({},N,{className:z,style:V}),S.createElement("div",ft({onClick:M},B,{className:"".concat(r,"-item-container")}),S.createElement("div",{className:"".concat(r,"-item-tail")},x),S.createElement("div",{className:"".concat(r,"-item-icon")},D()),S.createElement("div",{className:"".concat(r,"-item-content")},S.createElement("div",{className:"".concat(r,"-item-title")},f,h&&S.createElement("div",{title:typeof h=="string"?h:void 0,className:"".concat(r,"-item-subtitle")},h)),d&&S.createElement("div",{className:"".concat(r,"-item-description")},d))));return R&&(q=R(q)||null),q}var b5e=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function F$(t){var e,n=t.prefixCls,r=n===void 0?"rc-steps":n,i=t.style,o=i===void 0?{}:i,a=t.className;t.children;var s=t.direction,l=s===void 0?"horizontal":s,c=t.type,u=c===void 0?"default":c,d=t.labelPlacement,f=d===void 0?"horizontal":d,h=t.iconPrefix,p=h===void 0?"rc":h,_=t.status,x=_===void 0?"process":_,y=t.size,w=t.current,C=w===void 0?0:w,M=t.progressDot,R=M===void 0?!1:M,N=t.stepIcon,I=t.initial,B=I===void 0?0:I,D=t.icons,$=t.onChange,z=t.itemRender,V=t.items,q=V===void 0?[]:V,G=pr(t,b5e),j=u==="navigation",H=u==="inline",X=H||R,Y=H?"horizontal":l,ee=H?void 0:y,Z=X?"vertical":f,re=je(r,"".concat(r,"-").concat(Y),a,(e={},Re(e,"".concat(r,"-").concat(ee),ee),Re(e,"".concat(r,"-label-").concat(Z),Y==="horizontal"),Re(e,"".concat(r,"-dot"),!!X),Re(e,"".concat(r,"-navigation"),j),Re(e,"".concat(r,"-inline"),H),e)),ae=function(ge){$&&C!==ge&&$(ge)},ce=function(ge,se){var me=Ie({},ge),ye=B+se;return x==="error"&&se===C-1&&(me.className="".concat(r,"-next-error")),me.status||(ye===C?me.status=x:ye<C?me.status="finish":me.status="wait"),H&&(me.icon=void 0,me.subTitle=void 0),!me.render&&z&&(me.render=function(we){return z(me,we)}),Ye.createElement(qoe,ft({},me,{active:ye===C,stepNumber:ye+1,stepIndex:ye,key:ye,prefixCls:r,iconPrefix:p,wrapperStyle:o,progressDot:X,stepIcon:N,icons:D,onStepClick:$&&ae}))};return Ye.createElement("div",ft({className:re,style:o},G),q.filter(function(he){return he}).map(ce))}F$.Step=qoe;const x5e=t=>{const{componentCls:e,customIconTop:n,customIconSize:r,customIconFontSize:i}=t;return{[`${e}-item-custom`]:{[`> ${e}-item-container > ${e}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${e}-icon`]:{top:n,width:r,height:r,fontSize:i,lineHeight:ke(r)}}},[`&:not(${e}-vertical)`]:{[`${e}-item-custom`]:{[`${e}-item-icon`]:{width:"auto",background:"none"}}}}},_5e=x5e,S5e=t=>{const{componentCls:e}=t,n=`${e}-item`;return{[`${e}-horizontal`]:{[`${n}-tail`]:{transform:"translateY(-50%)"}}}},w5e=S5e,C5e=t=>{const{componentCls:e,inlineDotSize:n,inlineTitleColor:r,inlineTailColor:i}=t,o=t.calc(t.paddingXS).add(t.lineWidth).equal(),a={[`${e}-item-container ${e}-item-content ${e}-item-title`]:{color:r}};return{[`&${e}-inline`]:{width:"auto",display:"inline-flex",[`${e}-item`]:{flex:"none","&-container":{padding:`${ke(o)} ${ke(t.paddingXXS)} 0`,margin:`0 ${ke(t.calc(t.marginXXS).div(2).equal())}`,borderRadius:t.borderRadiusSM,cursor:"pointer",transition:`background-color ${t.motionDurationMid}`,"&:hover":{background:t.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:n,height:n,marginInlineStart:`calc(50% - ${ke(t.calc(n).div(2).equal())})`,[`> ${e}-icon`]:{top:0},[`${e}-icon-dot`]:{borderRadius:t.calc(t.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:t.calc(t.marginXS).sub(t.lineWidth).equal()},"&-title":{color:r,fontSize:t.fontSizeSM,lineHeight:t.lineHeightSM,fontWeight:"normal",marginBottom:t.calc(t.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:t.calc(n).div(2).add(o).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:t.lineWidth,borderRadius:0,marginInlineStart:0,background:i}},[`&:first-child ${e}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${e}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${e}-item-icon ${e}-icon ${e}-icon-dot`]:{backgroundColor:t.colorBorderBg,border:`${ke(t.lineWidth)} ${t.lineType} ${i}`}},a),"&-finish":Object.assign({[`${e}-item-tail::after`]:{backgroundColor:i},[`${e}-item-icon ${e}-icon ${e}-icon-dot`]:{backgroundColor:i,border:`${ke(t.lineWidth)} ${t.lineType} ${i}`}},a),"&-error":a,"&-active, &-process":Object.assign({[`${e}-item-icon`]:{width:n,height:n,marginInlineStart:`calc(50% - ${ke(t.calc(n).div(2).equal())})`,top:0}},a),[`&:not(${e}-item-active) > ${e}-item-container[role='button']:hover`]:{[`${e}-item-title`]:{color:r}}}}}},T5e=C5e,E5e=t=>{const{componentCls:e,iconSize:n,lineHeight:r,iconSizeSM:i}=t;return{[`&${e}-label-vertical`]:{[`${e}-item`]:{overflow:"visible","&-tail":{marginInlineStart:t.calc(n).div(2).add(t.controlHeightLG).equal(),padding:`0 ${ke(t.paddingLG)}`},"&-content":{display:"block",width:t.calc(n).div(2).add(t.controlHeightLG).mul(2).equal(),marginTop:t.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:t.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:t.marginXXS,marginInlineStart:0,lineHeight:r}},[`&${e}-small:not(${e}-dot)`]:{[`${e}-item`]:{"&-icon":{marginInlineStart:t.calc(n).sub(i).div(2).add(t.controlHeightLG).equal()}}}}}},M5e=E5e,P5e=t=>{const{componentCls:e,navContentMaxWidth:n,navArrowColor:r,stepsNavActiveColor:i,motionDurationSlow:o}=t;return{[`&${e}-navigation`]:{paddingTop:t.paddingSM,[`&${e}-small`]:{[`${e}-item`]:{"&-container":{marginInlineStart:t.calc(t.marginSM).mul(-1).equal()}}},[`${e}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:t.calc(t.margin).mul(-1).equal(),paddingBottom:t.paddingSM,textAlign:"start",transition:`opacity ${o}`,[`${e}-item-content`]:{maxWidth:n},[`${e}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},tm),{"&::after":{display:"none"}})},[`&:not(${e}-item-active)`]:{[`${e}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${ke(t.calc(t.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,borderTop:`${ke(t.lineWidth)} ${t.lineType} ${r}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${ke(t.lineWidth)} ${t.lineType} ${r}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:t.lineWidthBold,backgroundColor:i,transition:`width ${o}, inset-inline-start ${o}`,transitionTimingFunction:"ease-out",content:'""'}},[`${e}-item${e}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${e}-navigation${e}-vertical`]:{[`> ${e}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${e}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:t.calc(t.lineWidth).mul(3).equal(),height:`calc(100% - ${ke(t.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:t.calc(t.controlHeight).mul(.25).equal(),height:t.calc(t.controlHeight).mul(.25).equal(),marginBottom:t.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${e}-item-container > ${e}-item-tail`]:{visibility:"hidden"}}},[`&${e}-navigation${e}-horizontal`]:{[`> ${e}-item > ${e}-item-container > ${e}-item-tail`]:{visibility:"hidden"}}}},R5e=P5e,N5e=t=>{const{antCls:e,componentCls:n,iconSize:r,iconSizeSM:i,processIconColor:o,marginXXS:a,lineWidthBold:s,lineWidth:l,paddingXXS:c}=t,u=t.calc(r).add(t.calc(s).mul(4).equal()).equal(),d=t.calc(i).add(t.calc(t.lineWidth).mul(4).equal()).equal();return{[`&${n}-with-progress`]:{[`${n}-item`]:{paddingTop:c,[`&-process ${n}-item-container ${n}-item-icon ${n}-icon`]:{color:o}},[`&${n}-vertical > ${n}-item `]:{paddingInlineStart:c,[`> ${n}-item-container > ${n}-item-tail`]:{top:a,insetInlineStart:t.calc(r).div(2).sub(l).add(c).equal()}},[`&, &${n}-small`]:{[`&${n}-horizontal ${n}-item:first-child`]:{paddingBottom:c,paddingInlineStart:c}},[`&${n}-small${n}-vertical > ${n}-item > ${n}-item-container > ${n}-item-tail`]:{insetInlineStart:t.calc(i).div(2).sub(l).add(c).equal()},[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:t.calc(r).div(2).add(c).equal()},[`${n}-item-icon`]:{position:"relative",[`${e}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${ke(u)} !important`,height:`${ke(u)} !important`}}},[`&${n}-small`]:{[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:t.calc(i).div(2).add(c).equal()},[`${n}-item-icon ${e}-progress-inner`]:{width:`${ke(d)} !important`,height:`${ke(d)} !important`}}}}},I5e=N5e,O5e=t=>{const{componentCls:e,descriptionMaxWidth:n,lineHeight:r,dotCurrentSize:i,dotSize:o,motionDurationSlow:a}=t;return{[`&${e}-dot, &${e}-dot${e}-small`]:{[`${e}-item`]:{"&-title":{lineHeight:r},"&-tail":{top:t.calc(t.dotSize).sub(t.calc(t.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${ke(t.calc(n).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${ke(t.calc(t.marginSM).mul(2).equal())})`,height:t.calc(t.lineWidth).mul(3).equal(),marginInlineStart:t.marginSM}},"&-icon":{width:o,height:o,marginInlineStart:t.calc(t.descriptionMaxWidth).sub(o).div(2).equal(),paddingInlineEnd:0,lineHeight:ke(o),background:"transparent",border:0,[`${e}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${a}`,"&::after":{position:"absolute",top:t.calc(t.marginSM).mul(-1).equal(),insetInlineStart:t.calc(o).sub(t.calc(t.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:t.calc(t.controlHeightLG).mul(1.5).equal(),height:t.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:n},[`&-process ${e}-item-icon`]:{position:"relative",top:t.calc(o).sub(i).div(2).equal(),width:i,height:i,lineHeight:ke(i),background:"none",marginInlineStart:t.calc(t.descriptionMaxWidth).sub(i).div(2).equal()},[`&-process ${e}-icon`]:{[`&:first-child ${e}-icon-dot`]:{insetInlineStart:0}}}},[`&${e}-vertical${e}-dot`]:{[`${e}-item-icon`]:{marginTop:t.calc(t.controlHeight).sub(o).div(2).equal(),marginInlineStart:0,background:"none"},[`${e}-item-process ${e}-item-icon`]:{marginTop:t.calc(t.controlHeight).sub(i).div(2).equal(),top:0,insetInlineStart:t.calc(o).sub(i).div(2).equal(),marginInlineStart:0},[`${e}-item > ${e}-item-container > ${e}-item-tail`]:{top:t.calc(t.controlHeight).sub(o).div(2).equal(),insetInlineStart:0,margin:0,padding:`${ke(t.calc(o).add(t.paddingXS).equal())} 0 ${ke(t.paddingXS)}`,"&::after":{marginInlineStart:t.calc(o).sub(t.lineWidth).div(2).equal()}},[`&${e}-small`]:{[`${e}-item-icon`]:{marginTop:t.calc(t.controlHeightSM).sub(o).div(2).equal()},[`${e}-item-process ${e}-item-icon`]:{marginTop:t.calc(t.controlHeightSM).sub(i).div(2).equal()},[`${e}-item > ${e}-item-container > ${e}-item-tail`]:{top:t.calc(t.controlHeightSM).sub(o).div(2).equal()}},[`${e}-item:first-child ${e}-icon-dot`]:{insetInlineStart:0},[`${e}-item-content`]:{width:"inherit"}}}},D5e=O5e,L5e=t=>{const{componentCls:e}=t;return{[`&${e}-rtl`]:{direction:"rtl",[`${e}-item`]:{"&-subtitle":{float:"left"}},[`&${e}-navigation`]:{[`${e}-item::after`]:{transform:"rotate(-45deg)"}},[`&${e}-vertical`]:{[`> ${e}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${e}-item-icon`]:{float:"right"}}},[`&${e}-dot`]:{[`${e}-item-icon ${e}-icon-dot, &${e}-small ${e}-item-icon ${e}-icon-dot`]:{float:"right"}}}}},B5e=L5e,F5e=t=>{const{componentCls:e,iconSizeSM:n,fontSizeSM:r,fontSize:i,colorTextDescription:o}=t;return{[`&${e}-small`]:{[`&${e}-horizontal:not(${e}-label-vertical) ${e}-item`]:{paddingInlineStart:t.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${e}-item-icon`]:{width:n,height:n,marginTop:0,marginBottom:0,marginInline:`0 ${ke(t.marginXS)}`,fontSize:r,lineHeight:ke(n),textAlign:"center",borderRadius:n},[`${e}-item-title`]:{paddingInlineEnd:t.paddingSM,fontSize:i,lineHeight:ke(n),"&::after":{top:t.calc(n).div(2).equal()}},[`${e}-item-description`]:{color:o,fontSize:i},[`${e}-item-tail`]:{top:t.calc(n).div(2).sub(t.paddingXXS).equal()},[`${e}-item-custom ${e}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${e}-icon`]:{fontSize:n,lineHeight:ke(n),transform:"none"}}}}},$5e=F5e,k5e=t=>{const{componentCls:e,iconSizeSM:n,iconSize:r}=t;return{[`&${e}-vertical`]:{display:"flex",flexDirection:"column",[`> ${e}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${e}-item-icon`]:{float:"left",marginInlineEnd:t.margin},[`${e}-item-content`]:{display:"block",minHeight:t.calc(t.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${e}-item-title`]:{lineHeight:ke(r)},[`${e}-item-description`]:{paddingBottom:t.paddingSM}},[`> ${e}-item > ${e}-item-container > ${e}-item-tail`]:{position:"absolute",top:0,insetInlineStart:t.calc(r).div(2).sub(t.lineWidth).equal(),width:t.lineWidth,height:"100%",padding:`${ke(t.calc(t.marginXXS).mul(1.5).add(r).equal())} 0 ${ke(t.calc(t.marginXXS).mul(1.5).equal())}`,"&::after":{width:t.lineWidth,height:"100%"}},[`> ${e}-item:not(:last-child) > ${e}-item-container > ${e}-item-tail`]:{display:"block"},[` > ${e}-item > ${e}-item-container > ${e}-item-content > ${e}-item-title`]:{"&::after":{display:"none"}},[`&${e}-small ${e}-item-container`]:{[`${e}-item-tail`]:{position:"absolute",top:0,insetInlineStart:t.calc(n).div(2).sub(t.lineWidth).equal(),padding:`${ke(t.calc(t.marginXXS).mul(1.5).add(n).equal())} 0 ${ke(t.calc(t.marginXXS).mul(1.5).equal())}`},[`${e}-item-title`]:{lineHeight:ke(n)}}}}},U5e=k5e,z5e="wait",V5e="process",G5e="finish",H5e="error",hC=(t,e)=>{const n=`${e.componentCls}-item`,r=`${t}IconColor`,i=`${t}TitleColor`,o=`${t}DescriptionColor`,a=`${t}TailColor`,s=`${t}IconBgColor`,l=`${t}IconBorderColor`,c=`${t}DotColor`;return{[`${n}-${t} ${n}-icon`]:{backgroundColor:e[s],borderColor:e[l],[`> ${e.componentCls}-icon`]:{color:e[r],[`${e.componentCls}-icon-dot`]:{background:e[c]}}},[`${n}-${t}${n}-custom ${n}-icon`]:{[`> ${e.componentCls}-icon`]:{color:e[c]}},[`${n}-${t} > ${n}-container > ${n}-content > ${n}-title`]:{color:e[i],"&::after":{backgroundColor:e[a]}},[`${n}-${t} > ${n}-container > ${n}-content > ${n}-description`]:{color:e[o]},[`${n}-${t} > ${n}-container > ${n}-tail::after`]:{backgroundColor:e[a]}}},j5e=t=>{const{componentCls:e,motionDurationSlow:n}=t,r=`${e}-item`,i=`${r}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[r]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${r}-container > ${r}-tail, > ${r}-container >  ${r}-content > ${r}-title::after`]:{display:"none"}}},[`${r}-container`]:{outline:"none",[`&:focus-visible ${i}`]:ey(t)},[`${i}, ${r}-content`]:{display:"inline-block",verticalAlign:"top"},[i]:{width:t.iconSize,height:t.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:t.marginXS,fontSize:t.iconFontSize,fontFamily:t.fontFamily,lineHeight:ke(t.iconSize),textAlign:"center",borderRadius:t.iconSize,border:`${ke(t.lineWidth)} ${t.lineType} transparent`,transition:`background-color ${n}, border-color ${n}`,[`${e}-icon`]:{position:"relative",top:t.iconTop,color:t.colorPrimary,lineHeight:1}},[`${r}-tail`]:{position:"absolute",top:t.calc(t.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:t.lineWidth,background:t.colorSplit,borderRadius:t.lineWidth,transition:`background ${n}`,content:'""'}},[`${r}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:t.padding,color:t.colorText,fontSize:t.fontSizeLG,lineHeight:ke(t.titleLineHeight),"&::after":{position:"absolute",top:t.calc(t.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:t.lineWidth,background:t.processTailColor,content:'""'}},[`${r}-subtitle`]:{display:"inline",marginInlineStart:t.marginXS,color:t.colorTextDescription,fontWeight:"normal",fontSize:t.fontSize},[`${r}-description`]:{color:t.colorTextDescription,fontSize:t.fontSize}},hC(z5e,t)),hC(V5e,t)),{[`${r}-process > ${r}-container > ${r}-title`]:{fontWeight:t.fontWeightStrong}}),hC(G5e,t)),hC(H5e,t)),{[`${r}${e}-next-error > ${e}-item-title::after`]:{background:t.colorError},[`${r}-disabled`]:{cursor:"not-allowed"}})},q5e=t=>{const{componentCls:e,motionDurationSlow:n}=t;return{[`& ${e}-item`]:{[`&:not(${e}-item-active)`]:{[`& > ${e}-item-container[role='button']`]:{cursor:"pointer",[`${e}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${e}-icon`]:{transition:`color ${n}`}},"&:hover":{[`${e}-item`]:{"&-title, &-subtitle, &-description":{color:t.colorPrimary}}}},[`&:not(${e}-item-process)`]:{[`& > ${e}-item-container[role='button']:hover`]:{[`${e}-item`]:{"&-icon":{borderColor:t.colorPrimary,[`${e}-icon`]:{color:t.colorPrimary}}}}}}},[`&${e}-horizontal:not(${e}-label-vertical)`]:{[`${e}-item`]:{paddingInlineStart:t.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${e}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:t.descriptionMaxWidth,whiteSpace:"normal"}}}}},W5e=t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ho(t)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),j5e(t)),q5e(t)),_5e(t)),$5e(t)),U5e(t)),w5e(t)),M5e(t)),D5e(t)),R5e(t)),B5e(t)),I5e(t)),T5e(t))}},X5e=t=>({titleLineHeight:t.controlHeight,customIconSize:t.controlHeight,customIconTop:0,customIconFontSize:t.controlHeightSM,iconSize:t.controlHeight,iconTop:-.5,iconFontSize:t.fontSize,iconSizeSM:t.fontSizeHeading3,dotSize:t.controlHeight/4,dotCurrentSize:t.controlHeightLG/4,navArrowColor:t.colorTextDisabled,navContentMaxWidth:"unset",descriptionMaxWidth:140,waitIconColor:t.wireframe?t.colorTextDisabled:t.colorTextLabel,waitIconBgColor:t.wireframe?t.colorBgContainer:t.colorFillContent,waitIconBorderColor:t.wireframe?t.colorTextDisabled:"transparent",finishIconBgColor:t.wireframe?t.colorBgContainer:t.controlItemBgActive,finishIconBorderColor:t.wireframe?t.colorPrimary:t.controlItemBgActive}),Y5e=Ti("Steps",t=>{const{colorTextDisabled:e,controlHeightLG:n,colorTextLightSolid:r,colorText:i,colorPrimary:o,colorTextDescription:a,colorTextQuaternary:s,colorError:l,colorBorderSecondary:c,colorSplit:u}=t,d=Yr(t,{processIconColor:r,processTitleColor:i,processDescriptionColor:i,processIconBgColor:o,processIconBorderColor:o,processDotColor:o,processTailColor:u,waitTitleColor:a,waitDescriptionColor:a,waitTailColor:u,waitDotColor:e,finishIconColor:o,finishTitleColor:i,finishDescriptionColor:a,finishTailColor:o,finishDotColor:o,errorIconColor:r,errorTitleColor:l,errorDescriptionColor:l,errorTailColor:u,errorIconBgColor:l,errorIconBorderColor:l,errorDotColor:l,stepsNavActiveColor:o,stepsProgressSize:n,inlineDotSize:6,inlineTitleColor:s,inlineTailColor:c});return W5e(d)},X5e);function K5e(t){return t.filter(e=>e)}function Q5e(t,e){if(t)return t;const n=mc(e).map(r=>{if(S.isValidElement(r)){const{props:i}=r;return Object.assign({},i)}return null});return K5e(n)}var Z5e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Woe=t=>{const{percent:e,size:n,className:r,rootClassName:i,direction:o,items:a,responsive:s=!0,current:l=0,children:c,style:u}=t,d=Z5e(t,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:f}=sR(s),{getPrefixCls:h,direction:p,className:_,style:x}=Fa("steps"),y=S.useMemo(()=>s&&f?"vertical":o,[s,f,o]),w=cl(n),C=h("steps",t.prefixCls),[M,R,N]=Y5e(C),I=t.type==="inline",B=h("",t.iconPrefix),D=Q5e(a,c),$=I?void 0:e,z=Object.assign(Object.assign({},x),u),V=je(_,{[`${C}-rtl`]:p==="rtl",[`${C}-with-progress`]:$!==void 0},r,i,R,N),q={finish:S.createElement(aR,{className:`${C}-finish-icon`}),error:S.createElement(Am,{className:`${C}-error-icon`})},G=({node:H,status:X})=>{if(X==="process"&&$!==void 0){const Y=w==="small"?32:40;return S.createElement("div",{className:`${C}-progress-icon`},S.createElement(v5e,{type:"circle",percent:$,size:Y,strokeWidth:4,format:()=>null}),H)}return H},j=(H,X)=>H.description?S.createElement(Tg,{title:H.description},X):X;return M(S.createElement(F$,Object.assign({icons:q},d,{style:z,current:l,size:w,items:D,itemRender:I?j:void 0,stepIcon:G,direction:y,prefixCls:C,iconPrefix:B,className:V})))};Woe.Step=F$.Step;const J5e=Woe,e8e=t=>{const{paddingXXS:e,lineWidth:n,tagPaddingHorizontal:r,componentCls:i,calc:o}=t,a=o(r).sub(n).equal(),s=o(e).sub(n).equal();return{[i]:Object.assign(Object.assign({},ho(t)),{display:"inline-block",height:"auto",marginInlineEnd:t.marginXS,paddingInline:a,fontSize:t.tagFontSize,lineHeight:t.tagLineHeight,whiteSpace:"nowrap",background:t.defaultBg,border:`${ke(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,opacity:1,transition:`all ${t.motionDurationMid}`,textAlign:"start",position:"relative",[`&${i}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:t.defaultColor},[`${i}-close-icon`]:{marginInlineStart:s,fontSize:t.tagIconSize,color:t.colorIcon,cursor:"pointer",transition:`all ${t.motionDurationMid}`,"&:hover":{color:t.colorTextHeading}},[`&${i}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${t.iconCls}-close, ${t.iconCls}-close:hover`]:{color:t.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${i}-checkable-checked):hover`]:{color:t.colorPrimary,backgroundColor:t.colorFillSecondary},"&:active, &-checked":{color:t.colorTextLightSolid},"&-checked":{backgroundColor:t.colorPrimary,"&:hover":{backgroundColor:t.colorPrimaryHover}},"&:active":{backgroundColor:t.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${t.iconCls} + span, > span + ${t.iconCls}`]:{marginInlineStart:a}}),[`${i}-borderless`]:{borderColor:"transparent",background:t.tagBorderlessBg}}},$$=t=>{const{lineWidth:e,fontSizeIcon:n,calc:r}=t,i=t.fontSizeSM;return Yr(t,{tagFontSize:i,tagLineHeight:ke(r(t.lineHeightSM).mul(i).equal()),tagIconSize:r(n).sub(r(e).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:t.defaultBg})},k$=t=>({defaultBg:new gi(t.colorFillQuaternary).onBackground(t.colorBgContainer).toHexString(),defaultColor:t.colorText}),Xoe=Ti("Tag",t=>{const e=$$(t);return e8e(e)},k$);var t8e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const n8e=S.forwardRef((t,e)=>{const{prefixCls:n,style:r,className:i,checked:o,children:a,icon:s,onChange:l,onClick:c}=t,u=t8e(t,["prefixCls","style","className","checked","children","icon","onChange","onClick"]),{getPrefixCls:d,tag:f}=S.useContext(ir),h=C=>{l==null||l(!o),c==null||c(C)},p=d("tag",n),[_,x,y]=Xoe(p),w=je(p,`${p}-checkable`,{[`${p}-checkable-checked`]:o},f==null?void 0:f.className,i,x,y);return _(S.createElement("span",Object.assign({},u,{ref:e,style:Object.assign(Object.assign({},r),f==null?void 0:f.style),className:w,onClick:h}),s,S.createElement("span",null,a)))}),r8e=n8e,i8e=t=>GP(t,(e,{textColor:n,lightBorderColor:r,lightColor:i,darkColor:o})=>({[`${t.componentCls}${t.componentCls}-${e}`]:{color:n,background:i,borderColor:r,"&-inverse":{color:t.colorTextLightSolid,background:o,borderColor:o},[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}})),o8e=o1(["Tag","preset"],t=>{const e=$$(t);return i8e(e)},k$);function a8e(t){return typeof t!="string"?t:t.charAt(0).toUpperCase()+t.slice(1)}const pC=(t,e,n)=>{const r=a8e(n);return{[`${t.componentCls}${t.componentCls}-${e}`]:{color:t[`color${n}`],background:t[`color${r}Bg`],borderColor:t[`color${r}Border`],[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}},s8e=o1(["Tag","status"],t=>{const e=$$(t);return[pC(e,"success","Success"),pC(e,"processing","Info"),pC(e,"error","Error"),pC(e,"warning","Warning")]},k$);var l8e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const c8e=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:i,style:o,children:a,icon:s,color:l,onClose:c,bordered:u=!0,visible:d}=t,f=l8e(t,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:h,direction:p,tag:_}=S.useContext(ir),[x,y]=S.useState(!0),w=po(f,["closeIcon","closable"]);S.useEffect(()=>{d!==void 0&&y(d)},[d]);const C=lR(l),M=qMe(l),R=C||M,N=Object.assign(Object.assign({backgroundColor:l&&!R?l:void 0},_==null?void 0:_.style),o),I=h("tag",n),[B,D,$]=Xoe(I),z=je(I,_==null?void 0:_.className,{[`${I}-${l}`]:R,[`${I}-has-color`]:l&&!R,[`${I}-hidden`]:!x,[`${I}-rtl`]:p==="rtl",[`${I}-borderless`]:!u},r,i,D,$),V=Y=>{Y.stopPropagation(),c==null||c(Y),!Y.defaultPrevented&&y(!1)},[,q]=one(EM(t),EM(_),{closable:!1,closeIconRender:Y=>{const ee=S.createElement("span",{className:`${I}-close-icon`,onClick:V},Y);return nne(Y,ee,Z=>({onClick:re=>{var ae;(ae=Z==null?void 0:Z.onClick)===null||ae===void 0||ae.call(Z,re),V(re)},className:je(Z==null?void 0:Z.className,`${I}-close-icon`)}))}}),G=typeof f.onClick=="function"||a&&a.type==="a",j=s||null,H=j?S.createElement(S.Fragment,null,j,a&&S.createElement("span",null,a)):a,X=S.createElement("span",Object.assign({},w,{ref:e,className:z,style:N}),H,q,C&&S.createElement(o8e,{key:"preset",prefixCls:I}),M&&S.createElement(s8e,{key:"status",prefixCls:I}));return B(G?S.createElement(mne,{component:"Tag"},X):X)}),Yoe=c8e;Yoe.CheckableTag=r8e;const u8e=Yoe;var d8e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const f8e=d8e;var h8e=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:f8e}))},p8e=S.forwardRef(h8e);const m8e=p8e;var g8e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const A8e=g8e;var v8e=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:A8e}))},y8e=S.forwardRef(v8e);const b8e=y8e;var x8e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const _8e=x8e;var S8e=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:_8e}))},w8e=S.forwardRef(S8e);const C8e=w8e,T8e=(t,e,n,r)=>{const{titleMarginBottom:i,fontWeightStrong:o}=r;return{marginBottom:i,color:n,fontWeight:o,fontSize:t,lineHeight:e}},E8e=t=>{const e=[1,2,3,4,5],n={};return e.forEach(r=>{n[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=T8e(t[`fontSizeHeading${r}`],t[`lineHeightHeading${r}`],t.colorTextHeading,t)}),n},M8e=t=>{const{componentCls:e}=t;return{"a&, a":Object.assign(Object.assign({},Dte(t)),{userSelect:"text",[`&[disabled], &${e}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:t.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},P8e=t=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:t.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:t.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:SM[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:t.fontWeightStrong},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:t.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),R8e=t=>{const{componentCls:e,paddingSM:n}=t,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:t.calc(t.paddingSM).mul(-1).equal(),insetBlockStart:t.calc(r).div(-2).add(1).equal(),marginBottom:t.calc(r).div(2).sub(2).equal()},[`${e}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:t.calc(t.marginXS).add(2).equal(),insetBlockEnd:t.marginXS,color:t.colorIcon,fontWeight:"normal",fontSize:t.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},N8e=t=>({[`${t.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:t.colorSuccess}},[`${t.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),I8e=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),O8e=t=>{const{componentCls:e,titleMarginTop:n}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorText,wordBreak:"break-word",lineHeight:t.lineHeight,[`&${e}-secondary`]:{color:t.colorTextDescription},[`&${e}-success`]:{color:t.colorSuccessText},[`&${e}-warning`]:{color:t.colorWarningText},[`&${e}-danger`]:{color:t.colorErrorText,"a&:active, a&:focus":{color:t.colorErrorTextActive},"a&:hover":{color:t.colorErrorTextHover}},[`&${e}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},E8e(t)),{[`
      & + h1${e},
      & + h2${e},
      & + h3${e},
      & + h4${e},
      & + h5${e}
      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),P8e(t)),M8e(t)),{[`
        ${e}-expand,
        ${e}-collapse,
        ${e}-edit,
        ${e}-copy
      `]:Object.assign(Object.assign({},Dte(t)),{marginInlineStart:t.marginXXS})}),R8e(t)),N8e(t)),I8e()),{"&-rtl":{direction:"rtl"}})}},D8e=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),Koe=Ti("Typography",O8e,D8e),L8e=t=>{const{prefixCls:e,"aria-label":n,className:r,style:i,direction:o,maxLength:a,autoSize:s=!0,value:l,onSave:c,onCancel:u,onEnd:d,component:f,enterIcon:h=S.createElement(C8e,null)}=t,p=S.useRef(null),_=S.useRef(!1),x=S.useRef(null),[y,w]=S.useState(l);S.useEffect(()=>{w(l)},[l]),S.useEffect(()=>{var G;if(!((G=p.current)===null||G===void 0)&&G.resizableTextArea){const{textArea:j}=p.current.resizableTextArea;j.focus();const{length:H}=j.value;j.setSelectionRange(H,H)}},[]);const C=({target:G})=>{w(G.value.replace(/[\n\r]/g,""))},M=()=>{_.current=!0},R=()=>{_.current=!1},N=({keyCode:G})=>{_.current||(x.current=G)},I=()=>{c(y.trim())},B=({keyCode:G,ctrlKey:j,altKey:H,metaKey:X,shiftKey:Y})=>{x.current!==G||_.current||j||H||X||Y||(G===qt.ENTER?(I(),d==null||d()):G===qt.ESC&&u())},D=()=>{I()},[$,z,V]=Koe(e),q=je(e,`${e}-edit-content`,{[`${e}-rtl`]:o==="rtl",[`${e}-${f}`]:!!f},r,z,V);return $(S.createElement("div",{className:q,style:i},S.createElement(Moe,{ref:p,maxLength:a,value:y,onChange:C,onKeyDown:N,onKeyUp:B,onCompositionStart:M,onCompositionEnd:R,onBlur:D,"aria-label":n,rows:1,autoSize:s}),h!==null?su(h,{className:`${e}-edit-content-confirm`}):null))},B8e=L8e;var F8e=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(i){t.addRange(i)}),e&&e.focus()}},$8e=F8e,Sj={"text/plain":"Text","text/html":"Url",default:"Text"},k8e="Copy to clipboard: #{key}, Enter";function U8e(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function z8e(t,e){var n,r,i,o,a,s,l=!1;e||(e={}),n=e.debug||!1;try{i=$8e(),o=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=t,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=Sj[e.format]||Sj.default;window.clipboardData.setData(d,t)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,t);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(s),o.selectNodeContents(s),a.addRange(o);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),r=U8e("message"in e?e.message:k8e),window.prompt(r,t)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(o):a.removeAllRanges()),s&&document.body.removeChild(s),i()}return l}var V8e=z8e;const G8e=al(V8e);var H8e=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const j8e=({copyConfig:t,children:e})=>{const[n,r]=S.useState(!1),[i,o]=S.useState(!1),a=S.useRef(null),s=()=>{a.current&&clearTimeout(a.current)},l={};t.format&&(l.format=t.format),S.useEffect(()=>s,[]);const c=Xr(u=>H8e(void 0,void 0,void 0,function*(){var d;u==null||u.preventDefault(),u==null||u.stopPropagation(),o(!0);try{const f=typeof t.text=="function"?yield t.text():t.text;G8e(f||_Le(e,!0).join("")||"",l),o(!1),r(!0),s(),a.current=setTimeout(()=>{r(!1)},3e3),(d=t.onCopy)===null||d===void 0||d.call(t,u)}catch(f){throw o(!1),f}}));return{copied:n,copyLoading:i,onClick:c}},q8e=j8e;function UI(t,e){return S.useMemo(()=>{const n=!!t;return[n,Object.assign(Object.assign({},e),n&&typeof t=="object"?t:null)]},[t])}const W8e=t=>{const e=S.useRef(void 0);return S.useEffect(()=>{e.current=t}),e.current},X8e=W8e,Y8e=(t,e,n)=>S.useMemo(()=>t===!0?{title:e??n}:S.isValidElement(t)?{title:t}:typeof t=="object"?Object.assign({title:e??n},t):{title:t},[t,e,n]),K8e=Y8e;var Q8e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Z8e=S.forwardRef((t,e)=>{const{prefixCls:n,component:r="article",className:i,rootClassName:o,setContentRef:a,children:s,direction:l,style:c}=t,u=Q8e(t,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:d,direction:f,className:h,style:p}=Fa("typography"),_=l??f,x=a?kl(e,a):e,y=d("typography",n),[w,C,M]=Koe(y),R=je(y,h,{[`${y}-rtl`]:_==="rtl"},i,o,C,M),N=Object.assign(Object.assign({},p),c);return w(S.createElement(r,Object.assign({className:R,style:N,ref:x},u),s))}),Qoe=Z8e;var J8e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const e6e=J8e;var t6e=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:e6e}))},n6e=S.forwardRef(t6e);const r6e=n6e;function wj(t){return t===!1?[!1,!1]:Array.isArray(t)?t:[t]}function zI(t,e,n){return t===!0||t===void 0?e:t||n&&e}function i6e(t){const e=document.createElement("em");t.appendChild(e);const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return t.removeChild(e),n.left>r.left||r.right>n.right||n.top>r.top||r.bottom>n.bottom}const U$=t=>["string","number"].includes(typeof t),o6e=({prefixCls:t,copied:e,locale:n,iconOnly:r,tooltips:i,icon:o,tabIndex:a,onCopy:s,loading:l})=>{const c=wj(i),u=wj(o),{copied:d,copy:f}=n??{},h=e?d:f,p=zI(c[e?1:0],h),_=typeof p=="string"?p:h;return S.createElement(Tg,{title:p},S.createElement("button",{type:"button",className:je(`${t}-copy`,{[`${t}-copy-success`]:e,[`${t}-copy-icon-only`]:r}),onClick:s,"aria-label":_,tabIndex:a},e?zI(u[1],S.createElement(aR,null),!0):zI(u[0],l?S.createElement(J2,null):S.createElement(r6e,null),!0)))},a6e=o6e,mC=S.forwardRef(({style:t,children:e},n)=>{const r=S.useRef(null);return S.useImperativeHandle(n,()=>({isExceed:()=>{const i=r.current;return i.scrollHeight>i.clientHeight},getHeight:()=>r.current.clientHeight})),S.createElement("span",{"aria-hidden":!0,ref:r,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},t)},e)}),s6e=t=>t.reduce((e,n)=>e+(U$(n)?String(n).length:1),0);function Cj(t,e){let n=0;const r=[];for(let i=0;i<t.length;i+=1){if(n===e)return r;const o=t[i],s=U$(o)?String(o).length:1,l=n+s;if(l>e){const c=e-n;return r.push(String(o).slice(0,c)),r}r.push(o),n=l}return t}const VI=0,GI=1,HI=2,jI=3,Tj=4,gC={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function l6e(t){const{enableMeasure:e,width:n,text:r,children:i,rows:o,expanded:a,miscDeps:s,onEllipsis:l}=t,c=S.useMemo(()=>mc(r),[r]),u=S.useMemo(()=>s6e(c),[r]),d=S.useMemo(()=>i(c,!1),[r]),[f,h]=S.useState(null),p=S.useRef(null),_=S.useRef(null),x=S.useRef(null),y=S.useRef(null),w=S.useRef(null),[C,M]=S.useState(!1),[R,N]=S.useState(VI),[I,B]=S.useState(0),[D,$]=S.useState(null);zr(()=>{N(e&&n&&u?GI:VI)},[n,r,o,e,c]),zr(()=>{var G,j,H,X;if(R===GI){N(HI);const Y=_.current&&getComputedStyle(_.current).whiteSpace;$(Y)}else if(R===HI){const Y=!!(!((G=x.current)===null||G===void 0)&&G.isExceed());N(Y?jI:Tj),h(Y?[0,u]:null),M(Y);const ee=((j=x.current)===null||j===void 0?void 0:j.getHeight())||0,Z=o===1?0:((H=y.current)===null||H===void 0?void 0:H.getHeight())||0,re=((X=w.current)===null||X===void 0?void 0:X.getHeight())||0,ae=Math.max(ee,Z+re);B(ae+1),l(Y)}},[R]);const z=f?Math.ceil((f[0]+f[1])/2):0;zr(()=>{var G;const[j,H]=f||[0,0];if(j!==H){const Y=(((G=p.current)===null||G===void 0?void 0:G.getHeight())||0)>I;let ee=z;H-j===1&&(ee=Y?j:H),h(Y?[j,ee]:[ee,H])}},[f,z]);const V=S.useMemo(()=>{if(!e)return i(c,!1);if(R!==jI||!f||f[0]!==f[1]){const G=i(c,!1);return[Tj,VI].includes(R)?G:S.createElement("span",{style:Object.assign(Object.assign({},gC),{WebkitLineClamp:o})},G)}return i(a?c:Cj(c,f[0]),C)},[a,R,f,c].concat(Xt(s))),q={width:n,margin:0,padding:0,whiteSpace:D==="nowrap"?"normal":"inherit"};return S.createElement(S.Fragment,null,V,R===HI&&S.createElement(S.Fragment,null,S.createElement(mC,{style:Object.assign(Object.assign(Object.assign({},q),gC),{WebkitLineClamp:o}),ref:x},d),S.createElement(mC,{style:Object.assign(Object.assign(Object.assign({},q),gC),{WebkitLineClamp:o-1}),ref:y},d),S.createElement(mC,{style:Object.assign(Object.assign(Object.assign({},q),gC),{WebkitLineClamp:1}),ref:w},i([],!0))),R===jI&&f&&f[0]!==f[1]&&S.createElement(mC,{style:Object.assign(Object.assign({},q),{top:400}),ref:p},i(Cj(c,z),!0)),R===GI&&S.createElement("span",{style:{whiteSpace:"inherit"},ref:_}))}const c6e=({enableEllipsis:t,isEllipsis:e,children:n,tooltipProps:r})=>!(r!=null&&r.title)||!t?n:S.createElement(Tg,Object.assign({open:e?void 0:!1},r),n),u6e=c6e;var d6e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function f6e({mark:t,code:e,underline:n,delete:r,strong:i,keyboard:o,italic:a},s){let l=s;function c(u,d){d&&(l=S.createElement(u,{},l))}return c("strong",i),c("u",n),c("del",r),c("code",e),c("mark",t),c("kbd",o),c("i",a),l}const h6e="...",Ej=["delete","mark","code","underline","strong","keyboard","italic"],p6e=S.forwardRef((t,e)=>{var n;const{prefixCls:r,className:i,style:o,type:a,disabled:s,children:l,ellipsis:c,editable:u,copyable:d,component:f,title:h}=t,p=d6e(t,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:_,direction:x}=S.useContext(ir),[y]=xc("Text"),w=S.useRef(null),C=S.useRef(null),M=_("typography",r),R=po(p,Ej),[N,I]=UI(u),[B,D]=Ui(!1,{value:I.editing}),{triggerType:$=["icon"]}=I,z=ut=>{var Ke;ut&&((Ke=I.onStart)===null||Ke===void 0||Ke.call(I)),D(ut)},V=X8e(B);zr(()=>{var ut;!B&&V&&((ut=C.current)===null||ut===void 0||ut.focus())},[B]);const q=ut=>{ut==null||ut.preventDefault(),z(!0)},G=ut=>{var Ke;(Ke=I.onChange)===null||Ke===void 0||Ke.call(I,ut),z(!1)},j=()=>{var ut;(ut=I.onCancel)===null||ut===void 0||ut.call(I),z(!1)},[H,X]=UI(d),{copied:Y,copyLoading:ee,onClick:Z}=q8e({copyConfig:X,children:l}),[re,ae]=S.useState(!1),[ce,he]=S.useState(!1),[ge,se]=S.useState(!1),[me,ye]=S.useState(!1),[we,Ee]=S.useState(!0),[Me,Oe]=UI(c,{expandable:!1,symbol:ut=>ut?y==null?void 0:y.collapse:y==null?void 0:y.expand}),[Ue,Se]=Ui(Oe.defaultExpanded||!1,{value:Oe.expanded}),_e=Me&&(!Ue||Oe.expandable==="collapsible"),{rows:ve=1}=Oe,Ge=S.useMemo(()=>_e&&(Oe.suffix!==void 0||Oe.onEllipsis||Oe.expandable||N||H),[_e,Oe,N,H]);zr(()=>{Me&&!Ge&&(ae(jG("webkitLineClamp")),he(jG("textOverflow")))},[Ge,Me]);const[ue,at]=S.useState(_e),nt=S.useMemo(()=>Ge?!1:ve===1?ce:re,[Ge,ce,re]);zr(()=>{at(nt&&_e)},[nt,_e]);const ct=_e&&(ue?me:ge),Ze=_e&&ve===1&&ue,pe=_e&&ve>1&&ue,te=(ut,Ke)=>{var Rt;Se(Ke.expanded),(Rt=Oe.onExpand)===null||Rt===void 0||Rt.call(Oe,ut,Ke)},[Ne,qe]=S.useState(0),gt=({offsetWidth:ut})=>{qe(ut)},tt=ut=>{var Ke;se(ut),ge!==ut&&((Ke=Oe.onEllipsis)===null||Ke===void 0||Ke.call(Oe,ut))};S.useEffect(()=>{const ut=w.current;if(Me&&ue&&ut){const Ke=i6e(ut);me!==Ke&&ye(Ke)}},[Me,ue,l,pe,we,Ne]),S.useEffect(()=>{const ut=w.current;if(typeof IntersectionObserver>"u"||!ut||!ue||!_e)return;const Ke=new IntersectionObserver(()=>{Ee(!!ut.offsetParent)});return Ke.observe(ut),()=>{Ke.disconnect()}},[ue,_e]);const wt=K8e(Oe.tooltip,I.text,l),_t=S.useMemo(()=>{if(!(!Me||ue))return[I.text,l,h,wt.title].find(U$)},[Me,ue,h,wt.title,ct]);if(B)return S.createElement(B8e,{value:(n=I.text)!==null&&n!==void 0?n:typeof l=="string"?l:"",onSave:G,onCancel:j,onEnd:I.onEnd,prefixCls:M,className:i,style:o,direction:x,component:f,maxLength:I.maxLength,autoSize:I.autoSize,enterIcon:I.enterIcon});const Et=()=>{const{expandable:ut,symbol:Ke}=Oe;return ut?S.createElement("button",{type:"button",key:"expand",className:`${M}-${Ue?"collapse":"expand"}`,onClick:Rt=>te(Rt,{expanded:!Ue}),"aria-label":Ue?y.collapse:y==null?void 0:y.expand},typeof Ke=="function"?Ke(Ue):Ke):null},Tt=()=>{if(!N)return;const{icon:ut,tooltip:Ke,tabIndex:Rt}=I,$e=mc(Ke)[0]||(y==null?void 0:y.edit),$t=typeof $e=="string"?$e:"";return $.includes("icon")?S.createElement(Tg,{key:"edit",title:Ke===!1?"":$e},S.createElement("button",{type:"button",ref:C,className:`${M}-edit`,onClick:q,"aria-label":$t,tabIndex:Rt},ut||S.createElement(b8e,{role:"button"}))):null},ht=()=>H?S.createElement(a6e,Object.assign({key:"copy"},X,{prefixCls:M,copied:Y,locale:y,onCopy:Z,loading:ee,iconOnly:l==null})):null,Xe=ut=>[ut&&Et(),Tt(),ht()],pt=ut=>[ut&&!Ue&&S.createElement("span",{"aria-hidden":!0,key:"ellipsis"},h6e),Oe.suffix,Xe(ut)];return S.createElement(Ll,{onResize:gt,disabled:!_e},ut=>S.createElement(u6e,{tooltipProps:wt,enableEllipsis:_e,isEllipsis:ct},S.createElement(Qoe,Object.assign({className:je({[`${M}-${a}`]:a,[`${M}-disabled`]:s,[`${M}-ellipsis`]:Me,[`${M}-ellipsis-single-line`]:Ze,[`${M}-ellipsis-multiple-line`]:pe},i),prefixCls:r,style:Object.assign(Object.assign({},o),{WebkitLineClamp:pe?ve:void 0}),component:f,ref:kl(ut,w,e),direction:x,onClick:$.includes("text")?q:void 0,"aria-label":_t==null?void 0:_t.toString(),title:h},R),S.createElement(l6e,{enableMeasure:_e&&!ue,text:l,rows:ve,width:Ne,onEllipsis:tt,expanded:Ue,miscDeps:[Y,Ue,ee,N,H,y].concat(Xt(Ej.map(Ke=>t[Ke])))},(Ke,Rt)=>f6e(t,S.createElement(S.Fragment,null,Ke.length>0&&Rt&&!Ue&&_t?S.createElement("span",{key:"show-content","aria-hidden":!0},Ke):Ke,pt(Rt)))))))}),CR=p6e;var m6e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const g6e=S.forwardRef((t,e)=>{const{ellipsis:n,rel:r,children:i,navigate:o}=t,a=m6e(t,["ellipsis","rel","children","navigate"]),s=Object.assign(Object.assign({},a),{rel:r===void 0&&a.target==="_blank"?"noopener noreferrer":r});return S.createElement(CR,Object.assign({},s,{ref:e,ellipsis:!!n,component:"a"}),i)}),A6e=g6e;var v6e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const y6e=S.forwardRef((t,e)=>{const{children:n}=t,r=v6e(t,["children"]);return S.createElement(CR,Object.assign({ref:e},r,{component:"div"}),n)}),b6e=y6e;var x6e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _6e=(t,e)=>{const{ellipsis:n,children:r}=t,i=x6e(t,["ellipsis","children"]),o=S.useMemo(()=>n&&typeof n=="object"?po(n,["expandable","rows"]):n,[n]);return S.createElement(CR,Object.assign({ref:e},i,{ellipsis:o,component:"span"}),r)},S6e=S.forwardRef(_6e);var w6e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const C6e=[1,2,3,4,5],T6e=S.forwardRef((t,e)=>{const{level:n=1,children:r}=t,i=w6e(t,["level","children"]),o=C6e.includes(n)?`h${n}`:"h1";return S.createElement(CR,Object.assign({ref:e},i,{component:o}),r)}),E6e=T6e,uS=Qoe;uS.Text=S6e;uS.Link=A6e;uS.Title=E6e;uS.Paragraph=b6e;const _1=uS;var M6e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const P6e=M6e;var R6e=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:P6e}))},N6e=S.forwardRef(R6e);const I6e=N6e;var O6e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zM304 768V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340H304z"}}]},name:"bell",theme:"outlined"};const D6e=O6e;var L6e=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:D6e}))},B6e=S.forwardRef(L6e);const F6e=B6e;var $6e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"};const k6e=$6e;var U6e=function(e,n){return S.createElement(Gi,ft({},e,{ref:n,icon:k6e}))},z6e=S.forwardRef(U6e);const V6e=z6e,G6e=[{id:1,message:"Flight BA308 has been delayed by 30 minutes.",type:"warning"},{id:2,message:"The Louvre Museum will be closed on August 2nd for a private event.",type:"alert"},{id:3,message:"Weather forecast for Paris: Sunny with a high of 25C.",type:"info"}],H6e=({onClose:t})=>De.jsxs("div",{className:"fixed inset-0 bg-background p-4",children:[De.jsxs("div",{className:"flex justify-between items-center mb-4",children:[De.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Notifications"}),De.jsx("button",{onClick:t,className:"text-2xl text-text-secondary hover:text-text-primary",children:""})]}),De.jsx("ul",{children:G6e.map(e=>De.jsx("li",{className:`p-2 rounded mb-2 ${e.type==="warning"?"bg-accent/20 text-accent":e.type==="alert"?"bg-danger/20 text-danger":"bg-secondary/20 text-secondary"}`,children:e.message},e.id))})]}),{Title:j6e,Text:qI}=_1,q6e=({plans:t,onAddPlan:e,onSelectPlan:n,onDeletePlan:r})=>De.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[De.jsxs("div",{className:"flex justify-between items-center mb-6",children:[De.jsx(j6e,{level:2,className:"font-heading !text-text",children:"My Travel Plans"}),De.jsx(Go,{type:"primary",icon:De.jsx(AR,{}),onClick:e,size:"large",className:"bg-cta hover:bg-secondary border-none shadow-lg",children:"Create New Plan"})]}),De.jsx(og,{grid:{gutter:16,xs:1,sm:2,md:3},dataSource:t,renderItem:i=>De.jsx(og.Item,{children:De.jsx(Hu,{hoverable:!0,className:"border-border hover:border-primary transition-all duration-300 shadow-sm hover:shadow-md bg-surface",actions:[De.jsx(zLe,{title:"Delete the plan",description:"Are you sure to delete this plan?",onConfirm:o=>{o==null||o.stopPropagation(),r(i.id)},onCancel:o=>o==null?void 0:o.stopPropagation(),okText:"Yes",cancelText:"No",children:De.jsx(Go,{type:"text",danger:!0,icon:De.jsx(m8e,{}),onClick:o=>o.stopPropagation(),children:"Delete"})}),De.jsxs(Go,{type:"link",onClick:()=>n(i),className:"text-cta hover:text-primary",children:["Open ",De.jsx(U_,{})]})],onClick:()=>n(i),children:De.jsx(Hu.Meta,{title:De.jsx("span",{className:"font-heading text-lg text-primary",children:i.title}),description:De.jsxs("div",{children:[De.jsxs(qI,{className:"block text-text-secondary",children:["Created: ",new Date(i.createdAt).toLocaleDateString()]}),De.jsx(qI,{className:"block mt-2 font-medium text-text",children:i.timetable?`${i.timetable.flight.arrival.arrivalAirport}  ${i.timetable.flight.arrival.departureAirport}`:"No itinerary yet"})]})})})})}),t.length===0&&De.jsx("div",{className:"text-center py-12 bg-surface rounded-lg border-2 border-dashed border-border",children:De.jsx(qI,{className:"text-lg text-text-secondary",children:"No plans yet. Create one to get started!"})})]});function W6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function X6e(t,e,n){return e=nBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mj(t,e){return Q6e(t)||W6e(t,e)||Zoe(t,e)||eBe()}function Y6e(t){return K6e(t)||Z6e(t)||Zoe(t)||J6e()}function K6e(t){if(Array.isArray(t))return g8(t)}function Q6e(t){if(Array.isArray(t))return t}function Z6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zoe(t,e){if(t){if(typeof t=="string")return g8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g8(t,e)}}function g8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tBe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nBe(t){var e=tBe(t,"string");return typeof e=="symbol"?e:String(e)}var rBe=function(e,n){var r=new Set(n);return Object.assign.apply(Object,[{}].concat(Y6e(Object.entries(e).filter(function(i){var o=Mj(i,1),a=o[0];return!r.has(a)}).map(function(i){var o=Mj(i,2),a=o[0],s=o[1];return X6e({},a,s)}))))};function A8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function iBe(t){if(Array.isArray(t))return t}function oBe(t){if(Array.isArray(t))return A8(t)}function aBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function lBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uBe(t,e){return iBe(t)||sBe(t,e)||Joe(t,e)||lBe()}function Pj(t){return oBe(t)||aBe(t)||Joe(t)||cBe()}function Joe(t,e){if(t){if(typeof t=="string")return A8(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A8(t,e):void 0}}function dBe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.wrapperElementType,r=n===void 0?"div":n,i=e.nodeMapper,o=i===void 0?function(u){return u}:i,a=e.methodNames,s=a===void 0?[]:a,l=e.initPropNames,c=l===void 0?[]:l;return S.forwardRef(function(u,d){var f=S.useRef(),h=S.useMemo(function(){var x=Object.fromEntries(c.filter(function(y){return u.hasOwnProperty(y)}).map(function(y){return[y,u[y]]}));return t(x)},[]);Rj(function(){h(o(f.current))},S.useLayoutEffect),Rj(function(){return h._destructor instanceof Function?h._destructor:void 0});var p=S.useCallback(function(x){for(var y=arguments.length,w=new Array(y>1?y-1:0),C=1;C<y;C++)w[C-1]=arguments[C];return h[x]instanceof Function?h[x].apply(h,w):void 0},[h]),_=S.useRef({});return Object.keys(rBe(u,[].concat(Pj(s),Pj(c)))).filter(function(x){return _.current[x]!==u[x]}).forEach(function(x){return p(x,u[x])}),_.current=u,S.useImperativeHandle(d,function(){return Object.fromEntries(s.map(function(x){return[x,function(){for(var y=arguments.length,w=new Array(y),C=0;C<y;C++)w[C]=arguments[C];return p.apply(void 0,[x].concat(w))}]}))},[p]),Ye.createElement(r,{ref:f})})}function Rj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.useEffect,n=S.useRef(),r=S.useRef(!1),i=S.useRef(!1),o=S.useState(0),a=uBe(o,2);a[0];var s=a[1];r.current&&(i.current=!0),e(function(){return r.current||(n.current=t(),r.current=!0),s(function(l){return l+1}),function(){i.current&&n.current&&n.current()}},[])}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Pg="182",eu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},lv={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},eae=0,v8=1,tae=2,fBe=0,Hx=1,hBe=2,Wf=3,cc=0,Oi=1,Ko=2,nl=0,rl=1,iy=2,oy=3,ay=4,Rv=5,_s=100,z$=101,V$=102,nae=103,rae=104,$f=200,G$=201,H$=202,j$=203,W_=204,X_=205,q$=206,W$=207,X$=208,Y$=209,K$=210,pBe=211,mBe=212,gBe=213,ABe=214,Y_=0,K_=1,Q_=2,rm=3,Z_=4,J_=5,e2=6,t2=7,dS=0,iae=1,oae=2,Ja=0,Q$=1,Z$=2,J$=3,e7=4,aae=5,t7=6,n7=7,r7=300,od=301,pf=302,sy=303,ly=304,ag=306,sg=1e3,wl=1001,lg=1002,Ii=1003,i7=1004,Xf=1005,Ji=1006,Nv=1007,Cl=1008,vBe=1008,no=1009,z0=1010,V0=1011,ju=1012,Ia=1013,Ni=1014,Ho=1015,io=1016,TR=1017,ER=1018,uc=1020,MR=35902,PR=35899,o7=1021,fS=1022,qo=1023,os=1026,Ks=1027,hS=1028,S1=1029,Qs=1030,w1=1031,yBe=1032,C1=1033,Gp=33776,Hp=33777,jp=33778,qp=33779,n2=35840,r2=35841,i2=35842,o2=35843,cy=36196,uy=37492,dy=37496,fy=37488,hy=37489,cg=37490,py=37491,my=37808,gy=37809,Ay=37810,vy=37811,yy=37812,by=37813,xy=37814,_y=37815,Sy=37816,wy=37817,Cy=37818,Ty=37819,Ey=37820,My=37821,Py=36492,y8=36494,b8=36495,Ry=36283,Ny=36284,ug=36285,Iy=36286,bBe=0,xBe=1,Nj=2,_Be=3200,Jd=0,sae=1,_l="",Za="srgb",im="srgb-linear",Oy="linear",In="srgb",WI="",lae="rg",SBe="ga",wBe=0,s0=7680,CBe=7681,TBe=7682,EBe=7683,MBe=34055,PBe=34056,RBe=5386,NBe=512,IBe=513,OBe=514,DBe=515,LBe=516,BBe=517,FBe=518,x8=519,a7=512,pS=513,s7=514,mS=515,l7=516,c7=517,gS=518,u7=519,Dy=35044,M0=35048,Ij="300 es",Zs=2e3,lu=2001,Wd={COMPUTE:"compute",RENDER:"render"};function d7(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function zM(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function a2(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function cae(){const t=a2("canvas");return t.style.display="block",t}const Oj={};function s2(...t){const e="THREE."+t.shift();console.log(e,...t)}function Vt(...t){const e="THREE."+t.shift();console.warn(e,...t)}function Kt(...t){const e="THREE."+t.shift();console.error(e,...t)}function $i(...t){const e=t.join(" ");e in Oj||(Oj[e]=!0,Vt(...t))}function $Be(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}class pd{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}const ms=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Dj=1234567;const jx=Math.PI/180,dg=180/Math.PI;function ef(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ms[t&255]+ms[t>>8&255]+ms[t>>16&255]+ms[t>>24&255]+"-"+ms[e&255]+ms[e>>8&255]+"-"+ms[e>>16&15|64]+ms[e>>24&255]+"-"+ms[n&63|128]+ms[n>>8&255]+"-"+ms[n>>16&255]+ms[n>>24&255]+ms[r&255]+ms[r>>8&255]+ms[r>>16&255]+ms[r>>24&255]).toLowerCase()}function Pr(t,e,n){return Math.max(e,Math.min(n,t))}function f7(t,e){return(t%e+e)%e}function kBe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function UBe(t,e,n){return t!==e?(n-t)/(e-t):0}function qx(t,e,n){return(1-n)*t+n*e}function zBe(t,e,n,r){return qx(t,e,1-Math.exp(-n*r))}function VBe(t,e=1){return e-Math.abs(f7(t,e*2)-e)}function GBe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function HBe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function jBe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function qBe(t,e){return t+Math.random()*(e-t)}function WBe(t){return t*(.5-Math.random())}function XBe(t){t!==void 0&&(Dj=t);let e=Dj+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function YBe(t){return t*jx}function KBe(t){return t*dg}function QBe(t){return(t&t-1)===0&&t!==0}function ZBe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function JBe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function eFe(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),u=a((e+r)/2),d=o((e-r)/2),f=a((e-r)/2),h=o((r-e)/2),p=a((r-e)/2);switch(i){case"XYX":t.set(s*u,l*d,l*f,s*c);break;case"YZY":t.set(l*f,s*u,l*d,s*c);break;case"ZXZ":t.set(l*d,l*f,s*u,s*c);break;case"XZX":t.set(s*u,l*p,l*h,s*c);break;case"YXY":t.set(l*h,s*u,l*p,s*c);break;case"ZYZ":t.set(l*p,l*h,s*u,s*c);break;default:Vt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Xs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Vr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Ly={DEG2RAD:jx,RAD2DEG:dg,generateUUID:ef,clamp:Pr,euclideanModulo:f7,mapLinear:kBe,inverseLerp:UBe,lerp:qx,damp:zBe,pingpong:VBe,smoothstep:GBe,smootherstep:HBe,randInt:jBe,randFloat:qBe,randFloatSpread:WBe,seededRandom:XBe,degToRad:YBe,radToDeg:KBe,isPowerOfTwo:QBe,ceilPowerOfTwo:ZBe,floorPowerOfTwo:JBe,setQuaternionFromProperEuler:eFe,normalize:Vr,denormalize:Xs};class Wt{constructor(e=0,n=0){Wt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Pr(this.x,e.x,n.x),this.y=Pr(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Pr(this.x,e,n),this.y=Pr(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Pr(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Pr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ad{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3],f=o[a+0],h=o[a+1],p=o[a+2],_=o[a+3];if(s<=0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(s>=1){e[n+0]=f,e[n+1]=h,e[n+2]=p,e[n+3]=_;return}if(d!==_||l!==f||c!==h||u!==p){let x=l*f+c*h+u*p+d*_;x<0&&(f=-f,h=-h,p=-p,_=-_,x=-x);let y=1-s;if(x<.9995){const w=Math.acos(x),C=Math.sin(w);y=Math.sin(y*w)/C,s=Math.sin(s*w)/C,l=l*y+f*s,c=c*y+h*s,u=u*y+p*s,d=d*y+_*s}else{l=l*y+f*s,c=c*y+h*s,u=u*y+p*s,d=d*y+_*s;const w=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=w,c*=w,u*=w,d*=w}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[a],f=o[a+1],h=o[a+2],p=o[a+3];return e[n]=s*p+u*d+l*h-c*f,e[n+1]=l*p+u*f+c*d-s*h,e[n+2]=c*p+u*h+s*f-l*d,e[n+3]=u*p-s*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(r/2),u=s(i/2),d=s(o/2),f=l(r/2),h=l(i/2),p=l(o/2);switch(a){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:Vt("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+s+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(o-c)*h,this._z=(a-i)*h}else if(r>s&&r>d){const h=2*Math.sqrt(1+r-s-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+a)/h,this._z=(o+c)/h}else if(s>d){const h=2*Math.sqrt(1+s-r-d);this._w=(o-c)/h,this._x=(i+a)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-s);this._w=(a-i)/h,this._x=(o+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+a*s+i*c-o*l,this._y=i*u+a*l+o*s-r*c,this._z=o*u+a*c+r*l-i*s,this._w=a*u-r*s-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,i=e._y,o=e._z,a=e._w,s=this.dot(e);s<0&&(r=-r,i=-i,o=-o,a=-a,s=-s);let l=1-n;if(s<.9995){const c=Math.acos(s),u=Math.sin(c);l=Math.sin(l*c)/u,n=Math.sin(n*c)/u,this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+o*n,this._w=this._w*l+a*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+o*n,this._w=this._w*l+a*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Te{constructor(e=0,n=0,r=0){Te.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(Lj.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Lj.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=2*(a*i-s*r),u=2*(s*n-o*i),d=2*(o*r-a*n);return this.x=n+l*c+a*d-s*u,this.y=r+l*u+s*c-o*d,this.z=i+l*d+o*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Pr(this.x,e.x,n.x),this.y=Pr(this.y,e.y,n.y),this.z=Pr(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Pr(this.x,e,n),this.y=Pr(this.y,e,n),this.z=Pr(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Pr(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return XI.copy(this).projectOnVector(e),this.sub(XI)}reflect(e){return this.sub(XI.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Pr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const XI=new Te,Lj=new ad;class Or{constructor(e,n,r,i,o,a,s,l,c){Or.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c)}set(e,n,r,i,o,a,s,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=s,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],p=r[8],_=i[0],x=i[3],y=i[6],w=i[1],C=i[4],M=i[7],R=i[2],N=i[5],I=i[8];return o[0]=a*_+s*w+l*R,o[3]=a*x+s*C+l*N,o[6]=a*y+s*M+l*I,o[1]=c*_+u*w+d*R,o[4]=c*x+u*C+d*N,o[7]=c*y+u*M+d*I,o[2]=f*_+h*w+p*R,o[5]=f*x+h*C+p*N,o[8]=f*y+h*M+p*I,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*s*c-r*o*u+r*s*l+i*o*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=u*a-s*c,f=s*l-u*o,h=c*o-a*l,p=n*d+r*f+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/p;return e[0]=d*_,e[1]=(i*c-u*r)*_,e[2]=(s*r-i*a)*_,e[3]=f*_,e[4]=(u*n-i*l)*_,e[5]=(i*o-s*n)*_,e[6]=h*_,e[7]=(r*l-c*n)*_,e[8]=(a*n-r*o)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*a+c*s)+a+e,-i*c,i*l,-i*(-c*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(YI.makeScale(e,n)),this}rotate(e){return this.premultiply(YI.makeRotation(-e)),this}translate(e,n){return this.premultiply(YI.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const YI=new Or,Bj=new Or().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Fj=new Or().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function tFe(){const t={enabled:!0,workingColorSpace:im,spaces:{},convert:function(i,o,a){return this.enabled===!1||o===a||!o||!a||(this.spaces[o].transfer===In&&(i.r=Zf(i.r),i.g=Zf(i.g),i.b=Zf(i.b)),this.spaces[o].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[o].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===In&&(i.r=Iv(i.r),i.g=Iv(i.g),i.b=Iv(i.b))),i},workingToColorSpace:function(i,o){return this.convert(i,this.workingColorSpace,o)},colorSpaceToWorking:function(i,o){return this.convert(i,o,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===_l?Oy:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,o=this.workingColorSpace){return i.fromArray(this.spaces[o].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,o,a){return i.copy(this.spaces[o].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,o){return $i("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,o)},toWorkingColorSpace:function(i,o){return $i("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,o)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[im]:{primaries:e,whitePoint:r,transfer:Oy,toXYZ:Bj,fromXYZ:Fj,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Za},outputColorSpaceConfig:{drawingBufferColorSpace:Za}},[Za]:{primaries:e,whitePoint:r,transfer:In,toXYZ:Bj,fromXYZ:Fj,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Za}}}),t}const fr=tFe();function Zf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Iv(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let aA;class nFe{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{aA===void 0&&(aA=a2("canvas")),aA.width=e.width,aA.height=e.height;const i=aA.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=aA}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=a2("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=Zf(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Zf(n[r]/255)*255):n[r]=Zf(n[r]);return{data:n,width:e.width,height:e.height}}else return Vt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let rFe=0;class h7{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:rFe++}),this.uuid=ef(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(KI(i[a].image)):o.push(KI(i[a]))}else o=KI(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function KI(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?nFe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Vt("Texture: Unable to serialize Texture."),{})}let iFe=0;const QI=new Te;class la extends pd{constructor(e=la.DEFAULT_IMAGE,n=la.DEFAULT_MAPPING,r=wl,i=wl,o=Ji,a=Cl,s=qo,l=no,c=la.DEFAULT_ANISOTROPY,u=_l){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:iFe++}),this.uuid=ef(),this.name="",this.source=new h7(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Wt(0,0),this.repeat=new Wt(1,1),this.center=new Wt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Or,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(QI).x}get height(){return this.source.getSize(QI).y}get depth(){return this.source.getSize(QI).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){Vt(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Vt(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==r7)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case sg:e.x=e.x-Math.floor(e.x);break;case wl:e.x=e.x<0?0:1;break;case lg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case sg:e.y=e.y-Math.floor(e.y);break;case wl:e.y=e.y<0?0:1;break;case lg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}la.DEFAULT_IMAGE=null;la.DEFAULT_MAPPING=r7;la.DEFAULT_ANISOTROPY=1;class yr{constructor(e=0,n=0,r=0,i=1){yr.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],_=l[2],x=l[6],y=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-_)<.01&&Math.abs(p-x)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+_)<.1&&Math.abs(p+x)<.1&&Math.abs(c+h+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const C=(c+1)/2,M=(h+1)/2,R=(y+1)/2,N=(u+f)/4,I=(d+_)/4,B=(p+x)/4;return C>M&&C>R?C<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(C),i=N/r,o=I/r):M>R?M<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(M),r=N/i,o=B/i):R<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(R),r=I/o,i=B/o),this.set(r,i,o,n),this}let w=Math.sqrt((x-p)*(x-p)+(d-_)*(d-_)+(f-u)*(f-u));return Math.abs(w)<.001&&(w=1),this.x=(x-p)/w,this.y=(d-_)/w,this.z=(f-u)/w,this.w=Math.acos((c+h+y-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Pr(this.x,e.x,n.x),this.y=Pr(this.y,e.y,n.y),this.z=Pr(this.z,e.z,n.z),this.w=Pr(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Pr(this.x,e,n),this.y=Pr(this.y,e,n),this.z=Pr(this.z,e,n),this.w=Pr(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Pr(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Th extends pd{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ji,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new yr(0,0,e,n),this.scissorTest=!1,this.viewport=new yr(0,0,e,n);const i={width:e,height:n,depth:r.depth},o=new la(i);this.textures=[];const a=r.count;for(let s=0;s<a;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:Ji,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new h7(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ed extends Th{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class p7 extends la{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ii,this.minFilter=Ii,this.wrapR=wl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class oFe extends la{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ii,this.minFilter=Ii,this.wrapR=wl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Eh{constructor(e=new Te(1/0,1/0,1/0),n=new Te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Tu.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Tu.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Tu.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,Tu):Tu.fromBufferAttribute(o,a),Tu.applyMatrix4(e.matrixWorld),this.expandByPoint(Tu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),AC.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),AC.copy(r.boundingBox)),AC.applyMatrix4(e.matrixWorld),this.union(AC)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Tu),Tu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Cb),vC.subVectors(this.max,Cb),sA.subVectors(e.a,Cb),lA.subVectors(e.b,Cb),cA.subVectors(e.c,Cb),Kh.subVectors(lA,sA),Qh.subVectors(cA,lA),zm.subVectors(sA,cA);let n=[0,-Kh.z,Kh.y,0,-Qh.z,Qh.y,0,-zm.z,zm.y,Kh.z,0,-Kh.x,Qh.z,0,-Qh.x,zm.z,0,-zm.x,-Kh.y,Kh.x,0,-Qh.y,Qh.x,0,-zm.y,zm.x,0];return!ZI(n,sA,lA,cA,vC)||(n=[1,0,0,0,1,0,0,0,1],!ZI(n,sA,lA,cA,vC))?!1:(yC.crossVectors(Kh,Qh),n=[yC.x,yC.y,yC.z],ZI(n,sA,lA,cA,vC))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Tu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Tu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Pf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pf),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Pf=[new Te,new Te,new Te,new Te,new Te,new Te,new Te,new Te],Tu=new Te,AC=new Eh,sA=new Te,lA=new Te,cA=new Te,Kh=new Te,Qh=new Te,zm=new Te,Cb=new Te,vC=new Te,yC=new Te,Vm=new Te;function ZI(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){Vm.fromArray(t,o);const s=i.x*Math.abs(Vm.x)+i.y*Math.abs(Vm.y)+i.z*Math.abs(Vm.z),l=e.dot(Vm),c=n.dot(Vm),u=r.dot(Vm);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const aFe=new Eh,Tb=new Te,JI=new Te;class ym{constructor(e=new Te,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):aFe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Tb.subVectors(e,this.center);const n=Tb.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Tb,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(JI.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Tb.copy(e.center).add(JI)),this.expandByPoint(Tb.copy(e.center).sub(JI))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Rf=new Te,eO=new Te,bC=new Te,Zh=new Te,tO=new Te,xC=new Te,nO=new Te;class AS{constructor(e=new Te,n=new Te(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Rf)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Rf.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Rf.copy(this.origin).addScaledVector(this.direction,n),Rf.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){eO.copy(e).add(n).multiplyScalar(.5),bC.copy(n).sub(e).normalize(),Zh.copy(this.origin).sub(eO);const o=e.distanceTo(n)*.5,a=-this.direction.dot(bC),s=Zh.dot(this.direction),l=-Zh.dot(bC),c=Zh.lengthSq(),u=Math.abs(1-a*a);let d,f,h,p;if(u>0)if(d=a*l-s,f=a*s-l,p=o*u,d>=0)if(f>=-p)if(f<=p){const _=1/u;d*=_,f*=_,h=d*(d+a*f+2*s)+f*(a*d+f+2*l)+c}else f=o,d=Math.max(0,-(a*f+s)),h=-d*d+f*(f+2*l)+c;else f=-o,d=Math.max(0,-(a*f+s)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-a*o+s)),f=d>0?-o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-o,-l),o),h=f*(f+2*l)+c):(d=Math.max(0,-(a*o+s)),f=d>0?o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c);else f=a>0?-o:o,d=Math.max(0,-(a*f+s)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(eO).addScaledVector(bC,f),h}intersectSphere(e,n){Rf.subVectors(e.center,this.origin);const r=Rf.dot(this.direction),i=Rf.dot(Rf)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(o=(e.min.y-f.y)*u,a=(e.max.y-f.y)*u):(o=(e.max.y-f.y)*u,a=(e.min.y-f.y)*u),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),d>=0?(s=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(s=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Rf)!==null}intersectTriangle(e,n,r,i,o){tO.subVectors(n,e),xC.subVectors(r,e),nO.crossVectors(tO,xC);let a=this.direction.dot(nO),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;Zh.subVectors(this.origin,e);const l=s*this.direction.dot(xC.crossVectors(Zh,xC));if(l<0)return null;const c=s*this.direction.dot(tO.cross(Zh));if(c<0||l+c>a)return null;const u=-s*Zh.dot(nO);return u<0?null:this.at(u/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class wr{constructor(e,n,r,i,o,a,s,l,c,u,d,f,h,p,_,x){wr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c,u,d,f,h,p,_,x)}set(e,n,r,i,o,a,s,l,c,u,d,f,h,p,_,x){const y=this.elements;return y[0]=e,y[4]=n,y[8]=r,y[12]=i,y[1]=o,y[5]=a,y[9]=s,y[13]=l,y[2]=c,y[6]=u,y[10]=d,y[14]=f,y[3]=h,y[7]=p,y[11]=_,y[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new wr().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,r=e.elements,i=1/uA.setFromMatrixColumn(e,0).length(),o=1/uA.setFromMatrixColumn(e,1).length(),a=1/uA.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=a*u,h=a*d,p=s*u,_=s*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+p*c,n[5]=f-_*c,n[9]=-s*l,n[2]=_-f*c,n[6]=p+h*c,n[10]=a*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,p=c*u,_=c*d;n[0]=f+_*s,n[4]=p*s-h,n[8]=a*c,n[1]=a*d,n[5]=a*u,n[9]=-s,n[2]=h*s-p,n[6]=_+f*s,n[10]=a*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,p=c*u,_=c*d;n[0]=f-_*s,n[4]=-a*d,n[8]=p+h*s,n[1]=h+p*s,n[5]=a*u,n[9]=_-f*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const f=a*u,h=a*d,p=s*u,_=s*d;n[0]=l*u,n[4]=p*c-h,n[8]=f*c+_,n[1]=l*d,n[5]=_*c+f,n[9]=h*c-p,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const f=a*l,h=a*c,p=s*l,_=s*c;n[0]=l*u,n[4]=_-f*d,n[8]=p*d+h,n[1]=d,n[5]=a*u,n[9]=-s*u,n[2]=-c*u,n[6]=h*d+p,n[10]=f-_*d}else if(e.order==="XZY"){const f=a*l,h=a*c,p=s*l,_=s*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+_,n[5]=a*u,n[9]=h*d-p,n[2]=p*d-h,n[6]=s*u,n[10]=_*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(sFe,e,lFe)}lookAt(e,n,r){const i=this.elements;return Wl.subVectors(e,n),Wl.lengthSq()===0&&(Wl.z=1),Wl.normalize(),Jh.crossVectors(r,Wl),Jh.lengthSq()===0&&(Math.abs(r.z)===1?Wl.x+=1e-4:Wl.z+=1e-4,Wl.normalize(),Jh.crossVectors(r,Wl)),Jh.normalize(),_C.crossVectors(Wl,Jh),i[0]=Jh.x,i[4]=_C.x,i[8]=Wl.x,i[1]=Jh.y,i[5]=_C.y,i[9]=Wl.y,i[2]=Jh.z,i[6]=_C.z,i[10]=Wl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],p=r[2],_=r[6],x=r[10],y=r[14],w=r[3],C=r[7],M=r[11],R=r[15],N=i[0],I=i[4],B=i[8],D=i[12],$=i[1],z=i[5],V=i[9],q=i[13],G=i[2],j=i[6],H=i[10],X=i[14],Y=i[3],ee=i[7],Z=i[11],re=i[15];return o[0]=a*N+s*$+l*G+c*Y,o[4]=a*I+s*z+l*j+c*ee,o[8]=a*B+s*V+l*H+c*Z,o[12]=a*D+s*q+l*X+c*re,o[1]=u*N+d*$+f*G+h*Y,o[5]=u*I+d*z+f*j+h*ee,o[9]=u*B+d*V+f*H+h*Z,o[13]=u*D+d*q+f*X+h*re,o[2]=p*N+_*$+x*G+y*Y,o[6]=p*I+_*z+x*j+y*ee,o[10]=p*B+_*V+x*H+y*Z,o[14]=p*D+_*q+x*X+y*re,o[3]=w*N+C*$+M*G+R*Y,o[7]=w*I+C*z+M*j+R*ee,o[11]=w*B+C*V+M*H+R*Z,o[15]=w*D+C*q+M*X+R*re,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],p=e[3],_=e[7],x=e[11],y=e[15],w=l*h-c*f,C=s*h-c*d,M=s*f-l*d,R=a*h-c*u,N=a*f-l*u,I=a*d-s*u;return n*(_*w-x*C+y*M)-r*(p*w-x*R+y*N)+i*(p*C-_*R+y*I)-o*(p*M-_*N+x*I)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],_=e[13],x=e[14],y=e[15],w=d*x*c-_*f*c+_*l*h-s*x*h-d*l*y+s*f*y,C=p*f*c-u*x*c-p*l*h+a*x*h+u*l*y-a*f*y,M=u*_*c-p*d*c+p*s*h-a*_*h-u*s*y+a*d*y,R=p*d*l-u*_*l-p*s*f+a*_*f+u*s*x-a*d*x,N=n*w+r*C+i*M+o*R;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/N;return e[0]=w*I,e[1]=(_*f*o-d*x*o-_*i*h+r*x*h+d*i*y-r*f*y)*I,e[2]=(s*x*o-_*l*o+_*i*c-r*x*c-s*i*y+r*l*y)*I,e[3]=(d*l*o-s*f*o-d*i*c+r*f*c+s*i*h-r*l*h)*I,e[4]=C*I,e[5]=(u*x*o-p*f*o+p*i*h-n*x*h-u*i*y+n*f*y)*I,e[6]=(p*l*o-a*x*o-p*i*c+n*x*c+a*i*y-n*l*y)*I,e[7]=(a*f*o-u*l*o+u*i*c-n*f*c-a*i*h+n*l*h)*I,e[8]=M*I,e[9]=(p*d*o-u*_*o-p*r*h+n*_*h+u*r*y-n*d*y)*I,e[10]=(a*_*o-p*s*o+p*r*c-n*_*c-a*r*y+n*s*y)*I,e[11]=(u*s*o-a*d*o-u*r*c+n*d*c+a*r*h-n*s*h)*I,e[12]=R*I,e[13]=(u*_*i-p*d*i+p*r*f-n*_*f-u*r*x+n*d*x)*I,e[14]=(p*s*i-a*_*i-p*r*l+n*_*l+a*r*x-n*s*x)*I,e[15]=(a*d*i-u*s*i+u*r*l-n*d*l-a*r*f+n*s*f)*I,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,c=o*a,u=o*s;return this.set(c*a+r,c*s-i*l,c*l+i*s,0,c*s+i*l,u*s+r,u*l-i*a,0,c*l-i*s,u*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,c=o+o,u=a+a,d=s+s,f=o*c,h=o*u,p=o*d,_=a*u,x=a*d,y=s*d,w=l*c,C=l*u,M=l*d,R=r.x,N=r.y,I=r.z;return i[0]=(1-(_+y))*R,i[1]=(h+M)*R,i[2]=(p-C)*R,i[3]=0,i[4]=(h-M)*N,i[5]=(1-(f+y))*N,i[6]=(x+w)*N,i[7]=0,i[8]=(p+C)*I,i[9]=(x-w)*I,i[10]=(1-(f+_))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return r.set(1,1,1),n.identity(),this;let o=uA.set(i[0],i[1],i[2]).length();const a=uA.set(i[4],i[5],i[6]).length(),s=uA.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),Eu.copy(this);const c=1/o,u=1/a,d=1/s;return Eu.elements[0]*=c,Eu.elements[1]*=c,Eu.elements[2]*=c,Eu.elements[4]*=u,Eu.elements[5]*=u,Eu.elements[6]*=u,Eu.elements[8]*=d,Eu.elements[9]*=d,Eu.elements[10]*=d,n.setFromRotationMatrix(Eu),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=Zs,l=!1){const c=this.elements,u=2*o/(n-e),d=2*o/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let p,_;if(l)p=o/(a-o),_=a*o/(a-o);else if(s===Zs)p=-(a+o)/(a-o),_=-2*a*o/(a-o);else if(s===lu)p=-a/(a-o),_=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=d,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=p,c[14]=_,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=Zs,l=!1){const c=this.elements,u=2/(n-e),d=2/(r-i),f=-(n+e)/(n-e),h=-(r+i)/(r-i);let p,_;if(l)p=1/(a-o),_=a/(a-o);else if(s===Zs)p=-2/(a-o),_=-(a+o)/(a-o);else if(s===lu)p=-1/(a-o),_=-o/(a-o);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return c[0]=u,c[4]=0,c[8]=0,c[12]=f,c[1]=0,c[5]=d,c[9]=0,c[13]=h,c[2]=0,c[6]=0,c[10]=p,c[14]=_,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const uA=new Te,Eu=new wr,sFe=new Te(0,0,0),lFe=new Te(1,1,1),Jh=new Te,_C=new Te,Wl=new Te,$j=new wr,kj=new ad;class ls{constructor(e=0,n=0,r=0,i=ls.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Pr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Pr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Pr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Pr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Pr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-Pr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:Vt("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return $j.makeRotationFromQuaternion(e),this.setFromRotationMatrix($j,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return kj.setFromEuler(this),this.setFromQuaternion(kj,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ls.DEFAULT_ORDER="XYZ";class m7{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let cFe=0;const Uj=new Te,dA=new ad,Nf=new wr,SC=new Te,Eb=new Te,uFe=new Te,dFe=new ad,zj=new Te(1,0,0),Vj=new Te(0,1,0),Gj=new Te(0,0,1),Hj={type:"added"},fFe={type:"removed"},fA={type:"childadded",child:null},rO={type:"childremoved",child:null};class uo extends pd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:cFe++}),this.uuid=ef(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=uo.DEFAULT_UP.clone();const e=new Te,n=new ls,r=new ad,i=new Te(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new wr},normalMatrix:{value:new Or}}),this.matrix=new wr,this.matrixWorld=new wr,this.matrixAutoUpdate=uo.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=uo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new m7,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return dA.setFromAxisAngle(e,n),this.quaternion.multiply(dA),this}rotateOnWorldAxis(e,n){return dA.setFromAxisAngle(e,n),this.quaternion.premultiply(dA),this}rotateX(e){return this.rotateOnAxis(zj,e)}rotateY(e){return this.rotateOnAxis(Vj,e)}rotateZ(e){return this.rotateOnAxis(Gj,e)}translateOnAxis(e,n){return Uj.copy(e).applyQuaternion(this.quaternion),this.position.add(Uj.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(zj,e)}translateY(e){return this.translateOnAxis(Vj,e)}translateZ(e){return this.translateOnAxis(Gj,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Nf.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?SC.copy(e):SC.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Eb.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Nf.lookAt(Eb,SC,this.up):Nf.lookAt(SC,Eb,this.up),this.quaternion.setFromRotationMatrix(Nf),i&&(Nf.extractRotation(i.matrixWorld),dA.setFromRotationMatrix(Nf),this.quaternion.premultiply(dA.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(Kt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Hj),fA.child=e,this.dispatchEvent(fA),fA.child=null):Kt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(fFe),rO.child=e,this.dispatchEvent(rO),rO.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Nf.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Nf.multiply(e.parent.matrixWorld)),e.applyMatrix4(Nf),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Hj),fA.child=e,this.dispatchEvent(fA),fA.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Eb,e,uFe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Eb,dFe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(s=>({...s})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),d=a(e.shapes),f=a(e.skeletons),h=a(e.animations),p=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function a(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}uo.DEFAULT_UP=new Te(0,1,0);uo.DEFAULT_MATRIX_AUTO_UPDATE=!0;uo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Mu=new Te,If=new Te,iO=new Te,Of=new Te,hA=new Te,pA=new Te,jj=new Te,oO=new Te,aO=new Te,sO=new Te,lO=new yr,cO=new yr,uO=new yr;class zu{constructor(e=new Te,n=new Te,r=new Te){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Mu.subVectors(e,n),i.cross(Mu);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Mu.subVectors(i,n),If.subVectors(r,n),iO.subVectors(e,n);const a=Mu.dot(Mu),s=Mu.dot(If),l=Mu.dot(iO),c=If.dot(If),u=If.dot(iO),d=a*c-s*s;if(d===0)return o.set(0,0,0),null;const f=1/d,h=(c*l-s*u)*f,p=(a*u-s*l)*f;return o.set(1-h-p,p,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Of)===null?!1:Of.x>=0&&Of.y>=0&&Of.x+Of.y<=1}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,Of)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Of.x),l.addScaledVector(a,Of.y),l.addScaledVector(s,Of.z),l)}static getInterpolatedAttribute(e,n,r,i,o,a){return lO.setScalar(0),cO.setScalar(0),uO.setScalar(0),lO.fromBufferAttribute(e,n),cO.fromBufferAttribute(e,r),uO.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(lO,o.x),a.addScaledVector(cO,o.y),a.addScaledVector(uO,o.z),a}static isFrontFacing(e,n,r,i){return Mu.subVectors(r,n),If.subVectors(e,n),Mu.cross(If).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Mu.subVectors(this.c,this.b),If.subVectors(this.a,this.b),Mu.cross(If).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return zu.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return zu.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return zu.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return zu.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return zu.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;hA.subVectors(i,r),pA.subVectors(o,r),oO.subVectors(e,r);const l=hA.dot(oO),c=pA.dot(oO);if(l<=0&&c<=0)return n.copy(r);aO.subVectors(e,i);const u=hA.dot(aO),d=pA.dot(aO);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(r).addScaledVector(hA,a);sO.subVectors(e,o);const h=hA.dot(sO),p=pA.dot(sO);if(p>=0&&h<=p)return n.copy(o);const _=h*c-l*p;if(_<=0&&c>=0&&p<=0)return s=c/(c-p),n.copy(r).addScaledVector(pA,s);const x=u*p-h*d;if(x<=0&&d-u>=0&&h-p>=0)return jj.subVectors(o,i),s=(d-u)/(d-u+(h-p)),n.copy(i).addScaledVector(jj,s);const y=1/(x+_+f);return a=_*y,s=f*y,n.copy(r).addScaledVector(hA,a).addScaledVector(pA,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const uae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ep={h:0,s:0,l:0},wC={h:0,s:0,l:0};function dO(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Vn=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Za){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,fr.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=fr.workingColorSpace){return this.r=e,this.g=n,this.b=r,fr.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=fr.workingColorSpace){if(e=f7(e,1),n=Pr(n,0,1),r=Pr(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=dO(a,o,e+1/3),this.g=dO(a,o,e),this.b=dO(a,o,e-1/3)}return fr.colorSpaceToWorking(this,i),this}setStyle(e,n=Za){function r(o){o!==void 0&&parseFloat(o)<1&&Vt("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:Vt("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);Vt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Za){const r=uae[e.toLowerCase()];return r!==void 0?this.setHex(r,n):Vt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Zf(e.r),this.g=Zf(e.g),this.b=Zf(e.b),this}copyLinearToSRGB(e){return this.r=Iv(e.r),this.g=Iv(e.g),this.b=Iv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Za){return fr.workingToColorSpace(gs.copy(this),e),Math.round(Pr(gs.r*255,0,255))*65536+Math.round(Pr(gs.g*255,0,255))*256+Math.round(Pr(gs.b*255,0,255))}getHexString(e=Za){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=fr.workingColorSpace){fr.workingToColorSpace(gs.copy(this),n);const r=gs.r,i=gs.g,o=gs.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,c;const u=(s+a)/2;if(s===a)l=0,c=0;else{const d=a-s;switch(c=u<=.5?d/(a+s):d/(2-a-s),a){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=fr.workingColorSpace){return fr.workingToColorSpace(gs.copy(this),n),e.r=gs.r,e.g=gs.g,e.b=gs.b,e}getStyle(e=Za){fr.workingToColorSpace(gs.copy(this),e);const n=gs.r,r=gs.g,i=gs.b;return e!==Za?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(ep),this.setHSL(ep.h+e,ep.s+n,ep.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(ep),e.getHSL(wC);const r=qx(ep.h,wC.h,n),i=qx(ep.s,wC.s,n),o=qx(ep.l,wC.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const gs=new Vn;Vn.NAMES=uae;let hFe=0;class Is extends pd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:hFe++}),this.uuid=ef(),this.name="",this.type="Material",this.blending=rl,this.side=cc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=W_,this.blendDst=X_,this.blendEquation=_s,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Vn(0,0,0),this.blendAlpha=0,this.depthFunc=rm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=x8,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=s0,this.stencilZFail=s0,this.stencilZPass=s0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){Vt(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Vt(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==rl&&(r.blending=this.blending),this.side!==cc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==W_&&(r.blendSrc=this.blendSrc),this.blendDst!==X_&&(r.blendDst=this.blendDst),this.blendEquation!==_s&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==rm&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==x8&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==s0&&(r.stencilFail=this.stencilFail),this.stencilZFail!==s0&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==s0&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class jc extends Is{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Vn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ls,this.combine=dS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const zf=pFe();function pFe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function Xl(t){Math.abs(t)>65504&&Vt("DataUtils.toHalfFloat(): Value out of range."),t=Pr(t,-65504,65504),zf.floatView[0]=t;const e=zf.uint32View[0],n=e>>23&511;return zf.baseTable[n]+((e&8388607)>>zf.shiftTable[n])}function CC(t){const e=t>>10;return zf.uint32View[0]=zf.mantissaTable[zf.offsetTable[e]+(t&1023)]+zf.exponentTable[e],zf.floatView[0]}const na=new Te,TC=new Wt;let mFe=0;class So{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:mFe++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Dy,this.updateRanges=[],this.gpuType=Ho,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)TC.fromBufferAttribute(this,n),TC.applyMatrix3(e),this.setXY(n,TC.x,TC.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)na.fromBufferAttribute(this,n),na.applyMatrix3(e),this.setXYZ(n,na.x,na.y,na.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)na.fromBufferAttribute(this,n),na.applyMatrix4(e),this.setXYZ(n,na.x,na.y,na.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)na.fromBufferAttribute(this,n),na.applyNormalMatrix(e),this.setXYZ(n,na.x,na.y,na.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)na.fromBufferAttribute(this,n),na.transformDirection(e),this.setXYZ(n,na.x,na.y,na.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Xs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Vr(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Xs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Vr(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Xs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Vr(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Xs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Vr(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Xs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Vr(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Vr(n,this.array),r=Vr(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Vr(n,this.array),r=Vr(r,this.array),i=Vr(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Vr(n,this.array),r=Vr(r,this.array),i=Vr(i,this.array),o=Vr(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Dy&&(e.usage=this.usage),e}}class g7 extends So{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class A7 extends So{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class dae extends So{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=CC(this.array[e*this.itemSize]);return this.normalized&&(n=Xs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Vr(n,this.array)),this.array[e*this.itemSize]=Xl(n),this}getY(e){let n=CC(this.array[e*this.itemSize+1]);return this.normalized&&(n=Xs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Vr(n,this.array)),this.array[e*this.itemSize+1]=Xl(n),this}getZ(e){let n=CC(this.array[e*this.itemSize+2]);return this.normalized&&(n=Xs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Vr(n,this.array)),this.array[e*this.itemSize+2]=Xl(n),this}getW(e){let n=CC(this.array[e*this.itemSize+3]);return this.normalized&&(n=Xs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Vr(n,this.array)),this.array[e*this.itemSize+3]=Xl(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Vr(n,this.array),r=Vr(r,this.array)),this.array[e+0]=Xl(n),this.array[e+1]=Xl(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Vr(n,this.array),r=Vr(r,this.array),i=Vr(i,this.array)),this.array[e+0]=Xl(n),this.array[e+1]=Xl(r),this.array[e+2]=Xl(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Vr(n,this.array),r=Vr(r,this.array),i=Vr(i,this.array),o=Vr(o,this.array)),this.array[e+0]=Xl(n),this.array[e+1]=Xl(r),this.array[e+2]=Xl(i),this.array[e+3]=Xl(o),this}}class li extends So{constructor(e,n,r){super(new Float32Array(e),n,r)}}let gFe=0;const Dc=new wr,fO=new uo,mA=new Te,Yl=new Eh,Mb=new Eh,Ta=new Te;class bi extends pd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:gFe++}),this.uuid=ef(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(d7(e)?A7:g7)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Or().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Dc.makeRotationFromQuaternion(e),this.applyMatrix4(Dc),this}rotateX(e){return Dc.makeRotationX(e),this.applyMatrix4(Dc),this}rotateY(e){return Dc.makeRotationY(e),this.applyMatrix4(Dc),this}rotateZ(e){return Dc.makeRotationZ(e),this.applyMatrix4(Dc),this}translate(e,n,r){return Dc.makeTranslation(e,n,r),this.applyMatrix4(Dc),this}scale(e,n,r){return Dc.makeScale(e,n,r),this.applyMatrix4(Dc),this}lookAt(e){return fO.lookAt(e),fO.updateMatrix(),this.applyMatrix4(fO.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(mA).negate(),this.translate(mA.x,mA.y,mA.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new li(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const o=e[i];n.setXYZ(i,o.x,o.y,o.z||0)}e.length>n.count&&Vt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Eh);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Kt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Te(-1/0,-1/0,-1/0),new Te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Yl.setFromBufferAttribute(o),this.morphTargetsRelative?(Ta.addVectors(this.boundingBox.min,Yl.min),this.boundingBox.expandByPoint(Ta),Ta.addVectors(this.boundingBox.max,Yl.max),this.boundingBox.expandByPoint(Ta)):(this.boundingBox.expandByPoint(Yl.min),this.boundingBox.expandByPoint(Yl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Kt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ym);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Kt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Te,1/0);return}if(e){const r=this.boundingSphere.center;if(Yl.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];Mb.setFromBufferAttribute(s),this.morphTargetsRelative?(Ta.addVectors(Yl.min,Mb.min),Yl.expandByPoint(Ta),Ta.addVectors(Yl.max,Mb.max),Yl.expandByPoint(Ta)):(Yl.expandByPoint(Mb.min),Yl.expandByPoint(Mb.max))}Yl.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)Ta.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Ta));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)Ta.fromBufferAttribute(s,c),l&&(mA.fromBufferAttribute(e,c),Ta.add(mA)),i=Math.max(i,r.distanceToSquared(Ta))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&Kt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){Kt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new So(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),s=[],l=[];for(let B=0;B<r.count;B++)s[B]=new Te,l[B]=new Te;const c=new Te,u=new Te,d=new Te,f=new Wt,h=new Wt,p=new Wt,_=new Te,x=new Te;function y(B,D,$){c.fromBufferAttribute(r,B),u.fromBufferAttribute(r,D),d.fromBufferAttribute(r,$),f.fromBufferAttribute(o,B),h.fromBufferAttribute(o,D),p.fromBufferAttribute(o,$),u.sub(c),d.sub(c),h.sub(f),p.sub(f);const z=1/(h.x*p.y-p.x*h.y);isFinite(z)&&(_.copy(u).multiplyScalar(p.y).addScaledVector(d,-h.y).multiplyScalar(z),x.copy(d).multiplyScalar(h.x).addScaledVector(u,-p.x).multiplyScalar(z),s[B].add(_),s[D].add(_),s[$].add(_),l[B].add(x),l[D].add(x),l[$].add(x))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let B=0,D=w.length;B<D;++B){const $=w[B],z=$.start,V=$.count;for(let q=z,G=z+V;q<G;q+=3)y(e.getX(q+0),e.getX(q+1),e.getX(q+2))}const C=new Te,M=new Te,R=new Te,N=new Te;function I(B){R.fromBufferAttribute(i,B),N.copy(R);const D=s[B];C.copy(D),C.sub(R.multiplyScalar(R.dot(D))).normalize(),M.crossVectors(N,D);const z=M.dot(l[B])<0?-1:1;a.setXYZW(B,C.x,C.y,C.z,z)}for(let B=0,D=w.length;B<D;++B){const $=w[B],z=$.start,V=$.count;for(let q=z,G=z+V;q<G;q+=3)I(e.getX(q+0)),I(e.getX(q+1)),I(e.getX(q+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new So(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new Te,o=new Te,a=new Te,s=new Te,l=new Te,c=new Te,u=new Te,d=new Te;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),_=e.getX(f+1),x=e.getX(f+2);i.fromBufferAttribute(n,p),o.fromBufferAttribute(n,_),a.fromBufferAttribute(n,x),u.subVectors(a,o),d.subVectors(i,o),u.cross(d),s.fromBufferAttribute(r,p),l.fromBufferAttribute(r,_),c.fromBufferAttribute(r,x),s.add(u),l.add(u),c.add(u),r.setXYZ(p,s.x,s.y,s.z),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),u.subVectors(a,o),d.subVectors(i,o),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Ta.fromBufferAttribute(e,n),Ta.normalize(),e.setXYZ(n,Ta.x,Ta.y,Ta.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,d=s.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let _=0,x=l.length;_<x;_++){s.isInterleavedBufferAttribute?h=l[_]*s.data.stride+s.offset:h=l[_]*u;for(let y=0;y<u;y++)f[p++]=c[h++]}return new So(f,u,d)}if(this.index===null)return Vt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new bi,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);n.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const qj=new wr,Gm=new AS,EC=new ym,Wj=new Te,MC=new Te,PC=new Te,RC=new Te,hO=new Te,NC=new Te,Xj=new Te,IC=new Te;class Ai extends uo{constructor(e=new bi,n=new jc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){NC.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=s[l],d=o[l];u!==0&&(hO.fromBufferAttribute(d,e),a?NC.addScaledVector(hO,u):NC.addScaledVector(hO.sub(n),u))}n.add(NC)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),EC.copy(r.boundingSphere),EC.applyMatrix4(o),Gm.copy(e.ray).recast(e.near),!(EC.containsPoint(Gm.origin)===!1&&(Gm.intersectSphere(EC,Wj)===null||Gm.origin.distanceToSquared(Wj)>(e.far-e.near)**2))&&(qj.copy(o).invert(),Gm.copy(e.ray).applyMatrix4(qj),!(r.boundingBox!==null&&Gm.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Gm)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,f=o.groups,h=o.drawRange;if(s!==null)if(Array.isArray(a))for(let p=0,_=f.length;p<_;p++){const x=f[p],y=a[x.materialIndex],w=Math.max(x.start,h.start),C=Math.min(s.count,Math.min(x.start+x.count,h.start+h.count));for(let M=w,R=C;M<R;M+=3){const N=s.getX(M),I=s.getX(M+1),B=s.getX(M+2);i=OC(this,y,e,r,c,u,d,N,I,B),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),_=Math.min(s.count,h.start+h.count);for(let x=p,y=_;x<y;x+=3){const w=s.getX(x),C=s.getX(x+1),M=s.getX(x+2);i=OC(this,a,e,r,c,u,d,w,C,M),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let p=0,_=f.length;p<_;p++){const x=f[p],y=a[x.materialIndex],w=Math.max(x.start,h.start),C=Math.min(l.count,Math.min(x.start+x.count,h.start+h.count));for(let M=w,R=C;M<R;M+=3){const N=M,I=M+1,B=M+2;i=OC(this,y,e,r,c,u,d,N,I,B),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),_=Math.min(l.count,h.start+h.count);for(let x=p,y=_;x<y;x+=3){const w=x,C=x+1,M=x+2;i=OC(this,a,e,r,c,u,d,w,C,M),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function AFe(t,e,n,r,i,o,a,s){let l;if(e.side===Oi?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===cc,s),l===null)return null;IC.copy(s),IC.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(IC);return c<n.near||c>n.far?null:{distance:c,point:IC.clone(),object:t}}function OC(t,e,n,r,i,o,a,s,l,c){t.getVertexPosition(s,MC),t.getVertexPosition(l,PC),t.getVertexPosition(c,RC);const u=AFe(t,e,n,r,MC,PC,RC,Xj);if(u){const d=new Te;zu.getBarycoord(Xj,MC,PC,RC,d),i&&(u.uv=zu.getInterpolatedAttribute(i,s,l,c,d,new Wt)),o&&(u.uv1=zu.getInterpolatedAttribute(o,s,l,c,d,new Wt)),a&&(u.normal=zu.getInterpolatedAttribute(a,s,l,c,d,new Te),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a:s,b:l,c,normal:new Te,materialIndex:0};zu.getNormal(MC,PC,RC,f.normal),u.face=f,u.barycoord=d}return u}class bm extends bi{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],u=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,r,n,e,a,o,0),p("z","y","x",1,-1,r,n,-e,a,o,1),p("x","z","y",1,1,e,r,n,i,a,2),p("x","z","y",1,-1,e,r,-n,i,a,3),p("x","y","z",1,-1,e,n,r,i,o,4),p("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new li(c,3)),this.setAttribute("normal",new li(u,3)),this.setAttribute("uv",new li(d,2));function p(_,x,y,w,C,M,R,N,I,B,D){const $=M/I,z=R/B,V=M/2,q=R/2,G=N/2,j=I+1,H=B+1;let X=0,Y=0;const ee=new Te;for(let Z=0;Z<H;Z++){const re=Z*z-q;for(let ae=0;ae<j;ae++){const ce=ae*$-V;ee[_]=ce*w,ee[x]=re*C,ee[y]=G,c.push(ee.x,ee.y,ee.z),ee[_]=0,ee[x]=0,ee[y]=N>0?1:-1,u.push(ee.x,ee.y,ee.z),d.push(ae/I),d.push(1-Z/B),X+=1}}for(let Z=0;Z<B;Z++)for(let re=0;re<I;re++){const ae=f+re+j*Z,ce=f+re+j*(Z+1),he=f+(re+1)+j*(Z+1),ge=f+(re+1)+j*Z;l.push(ae,ce,ge),l.push(ce,he,ge),Y+=6}s.addGroup(h,Y,D),h+=Y,f+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function By(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Vt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function zs(t){const e={};for(let n=0;n<t.length;n++){const r=By(t[n]);for(const i in r)e[i]=r[i]}return e}function vFe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function fae(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:fr.workingColorSpace}const RR={clone:By,merge:zs};var yFe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,bFe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Os extends Is{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yFe,this.fragmentShader=bFe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=By(e.uniforms),this.uniformsGroups=vFe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class vS extends uo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new wr,this.projectionMatrix=new wr,this.projectionMatrixInverse=new wr,this.coordinateSystem=Zs,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const tp=new Te,Yj=new Wt,Kj=new Wt;class Oa extends vS{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=dg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(jx*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return dg*2*Math.atan(Math.tan(jx*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){tp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(tp.x,tp.y).multiplyScalar(-e/tp.z),tp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(tp.x,tp.y).multiplyScalar(-e/tp.z)}getViewSize(e,n){return this.getViewBounds(e,Yj,Kj),n.subVectors(Kj,Yj)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(jx*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const gA=-90,AA=1;class hae extends uo{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Oa(gA,AA,e,n);i.layers=this.layers,this.add(i);const o=new Oa(gA,AA,e,n);o.layers=this.layers,this.add(o);const a=new Oa(gA,AA,e,n);a.layers=this.layers,this.add(a);const s=new Oa(gA,AA,e,n);s.layers=this.layers,this.add(s);const l=new Oa(gA,AA,e,n);l.layers=this.layers,this.add(l);const c=new Oa(gA,AA,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const c of n)this.remove(c);if(e===Zs)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===lu)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const _=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=_,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class yS extends la{constructor(e=[],n=od,r,i,o,a,s,l,c,u){super(e,n,r,i,o,a,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class v7 extends ed{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new yS(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new bm(5,5,5),o=new Os({name:"CubemapFromEquirect",uniforms:By(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Oi,blending:nl});o.uniforms.tEquirect.value=n;const a=new Ai(i,o),s=n.minFilter;return n.minFilter===Cl&&(n.minFilter=Ji),new hae(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}let Tl=class extends uo{constructor(){super(),this.isGroup=!0,this.type="Group"}};const xFe={type:"move"};class SE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Tl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Tl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Tl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const _ of e.hand.values()){const x=n.getJointPose(_,r),y=this._getHandJoint(c,_);x!==null&&(y.matrix.fromArray(x.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=x.radius),y.visible=x!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(xFe)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Tl;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class NR extends uo{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ls,this.environmentIntensity=1,this.environmentRotation=new ls,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class y7{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Dy,this.updateRanges=[],this.version=0,this.uuid=ef()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ef()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ef()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $s=new Te;class Xd{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)$s.fromBufferAttribute(this,n),$s.applyMatrix4(e),this.setXYZ(n,$s.x,$s.y,$s.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)$s.fromBufferAttribute(this,n),$s.applyNormalMatrix(e),this.setXYZ(n,$s.x,$s.y,$s.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)$s.fromBufferAttribute(this,n),$s.transformDirection(e),this.setXYZ(n,$s.x,$s.y,$s.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Xs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Vr(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Vr(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Vr(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Vr(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Vr(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Xs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Xs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Xs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Xs(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Vr(n,this.array),r=Vr(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Vr(n,this.array),r=Vr(r,this.array),i=Vr(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Vr(n,this.array),r=Vr(r,this.array),i=Vr(i,this.array),o=Vr(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){s2("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new So(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Xd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){s2("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class _Fe extends Is{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Vn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}class b7 extends la{constructor(e=null,n=1,r=1,i,o,a,s,l,c=Ii,u=Ii,d,f){super(null,a,s,l,c,u,i,o,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Wp extends So{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const pO=new Te,SFe=new Te,wFe=new Or;let zd=class{constructor(e=new Te(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=pO.subVectors(r,n).cross(SFe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(pO),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||wFe.getNormalMatrix(e),i=this.coplanarPoint(pO).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const Hm=new ym,CFe=new Wt(.5,.5),DC=new Te;class T1{constructor(e=new zd,n=new zd,r=new zd,i=new zd,o=new zd,a=new zd){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Zs,r=!1){const i=this.planes,o=e.elements,a=o[0],s=o[1],l=o[2],c=o[3],u=o[4],d=o[5],f=o[6],h=o[7],p=o[8],_=o[9],x=o[10],y=o[11],w=o[12],C=o[13],M=o[14],R=o[15];if(i[0].setComponents(c-a,h-u,y-p,R-w).normalize(),i[1].setComponents(c+a,h+u,y+p,R+w).normalize(),i[2].setComponents(c+s,h+d,y+_,R+C).normalize(),i[3].setComponents(c-s,h-d,y-_,R-C).normalize(),r)i[4].setComponents(l,f,x,M).normalize(),i[5].setComponents(c-l,h-f,y-x,R-M).normalize();else if(i[4].setComponents(c-l,h-f,y-x,R-M).normalize(),n===Zs)i[5].setComponents(c+l,h+f,y+x,R+M).normalize();else if(n===lu)i[5].setComponents(l,f,x,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Hm.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Hm.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Hm)}intersectsSprite(e){Hm.center.set(0,0,0);const n=CFe.distanceTo(e.center);return Hm.radius=.7071067811865476+n,Hm.applyMatrix4(e.matrixWorld),this.intersectsSphere(Hm)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(DC.x=i.normal.x>0?e.max.x:e.min.x,DC.y=i.normal.y>0?e.max.y:e.min.y,DC.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(DC)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Ed=new wr,Md=new T1;class x7{constructor(){this.coordinateSystem=Zs}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ed.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Md.setFromProjectionMatrix(Ed,i.coordinateSystem,i.reversedDepth),Md.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ed.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Md.setFromProjectionMatrix(Ed,i.coordinateSystem,i.reversedDepth),Md.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ed.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Md.setFromProjectionMatrix(Ed,i.coordinateSystem,i.reversedDepth),Md.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ed.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Md.setFromProjectionMatrix(Ed,i.coordinateSystem,i.reversedDepth),Md.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ed.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Md.setFromProjectionMatrix(Ed,i.coordinateSystem,i.reversedDepth),Md.containsPoint(e))return!0}return!1}clone(){return new x7}}class E1 extends Is{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Vn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const VM=new Te,GM=new Te,Qj=new wr,Pb=new AS,LC=new ym,mO=new Te,Zj=new Te;class IR extends uo{constructor(e=new bi,n=new E1){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)VM.fromBufferAttribute(n,i-1),GM.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=VM.distanceTo(GM);e.setAttribute("lineDistance",new li(r,1))}else Vt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),LC.copy(r.boundingSphere),LC.applyMatrix4(i),LC.radius+=o,e.ray.intersectsSphere(LC)===!1)return;Qj.copy(i).invert(),Pb.copy(e.ray).applyMatrix4(Qj);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=this.isLineSegments?2:1,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);for(let _=h,x=p-1;_<x;_+=c){const y=u.getX(_),w=u.getX(_+1),C=BC(this,e,Pb,l,y,w,_);C&&n.push(C)}if(this.isLineLoop){const _=u.getX(p-1),x=u.getX(h),y=BC(this,e,Pb,l,_,x,p-1);y&&n.push(y)}}else{const h=Math.max(0,a.start),p=Math.min(f.count,a.start+a.count);for(let _=h,x=p-1;_<x;_+=c){const y=BC(this,e,Pb,l,_,_+1,_);y&&n.push(y)}if(this.isLineLoop){const _=BC(this,e,Pb,l,p-1,h,p-1);_&&n.push(_)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function BC(t,e,n,r,i,o,a){const s=t.geometry.attributes.position;if(VM.fromBufferAttribute(s,i),GM.fromBufferAttribute(s,o),n.distanceSqToSegment(VM,GM,mO,Zj)>r)return;mO.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(mO);if(!(c<e.near||c>e.far))return{distance:c,point:Zj.clone().applyMatrix4(t.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:t}}const Jj=new Te,eq=new Te;class pae extends IR{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)Jj.fromBufferAttribute(n,i),eq.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Jj.distanceTo(eq);e.setAttribute("lineDistance",new li(r,1))}else Vt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class _7 extends Is{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Vn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const tq=new wr,_8=new AS,FC=new ym,$C=new Te;class TFe extends uo{constructor(e=new bi,n=new _7){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),FC.copy(r.boundingSphere),FC.applyMatrix4(i),FC.radius+=o,e.ray.intersectsSphere(FC)===!1)return;tq.copy(i).invert(),_8.copy(e.ray).applyMatrix4(tq);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,a.start),h=Math.min(c.count,a.start+a.count);for(let p=f,_=h;p<_;p++){const x=c.getX(p);$C.fromBufferAttribute(d,x),nq($C,x,l,i,e,n,this)}}else{const f=Math.max(0,a.start),h=Math.min(d.count,a.start+a.count);for(let p=f,_=h;p<_;p++)$C.fromBufferAttribute(d,p),nq($C,p,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function nq(t,e,n,r,i,o,a){const s=_8.distanceSqToPoint(t);if(s<n){const l=new Te;_8.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class S7 extends la{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Ii,this.minFilter=Ii,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ms extends la{constructor(e,n,r=Ni,i,o,a,s=Ii,l=Ii,c,u=os,d=1){if(u!==os&&u!==Ks)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const f={width:e,height:n,depth:d};super(f,i,o,a,s,l,u,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new h7(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class mae extends Ms{constructor(e,n=Ni,r=od,i,o,a=Ii,s=Ii,l,c=os){const u={width:e,height:e,depth:1},d=[u,u,u,u,u,u];super(e,e,n,r,i,o,a,s,l,c),this.image=d,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class gae extends la{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class OR extends bi{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],c=new Te,u=new Wt;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const h=r+d/n*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),a.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(a[f]/e+1)/2,u.y=(a[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new li(a,3)),this.setAttribute("normal",new li(s,3)),this.setAttribute("uv",new li(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OR(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class DR extends bi{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],d=[],f=[],h=[];let p=0;const _=[],x=r/2;let y=0;w(),a===!1&&(e>0&&C(!0),n>0&&C(!1)),this.setIndex(u),this.setAttribute("position",new li(d,3)),this.setAttribute("normal",new li(f,3)),this.setAttribute("uv",new li(h,2));function w(){const M=new Te,R=new Te;let N=0;const I=(n-e)/r;for(let B=0;B<=o;B++){const D=[],$=B/o,z=$*(n-e)+e;for(let V=0;V<=i;V++){const q=V/i,G=q*l+s,j=Math.sin(G),H=Math.cos(G);R.x=z*j,R.y=-$*r+x,R.z=z*H,d.push(R.x,R.y,R.z),M.set(j,I,H).normalize(),f.push(M.x,M.y,M.z),h.push(q,1-$),D.push(p++)}_.push(D)}for(let B=0;B<i;B++)for(let D=0;D<o;D++){const $=_[D][B],z=_[D+1][B],V=_[D+1][B+1],q=_[D][B+1];(e>0||D!==0)&&(u.push($,z,q),N+=3),(n>0||D!==o-1)&&(u.push(z,V,q),N+=3)}c.addGroup(y,N,0),y+=N}function C(M){const R=p,N=new Wt,I=new Te;let B=0;const D=M===!0?e:n,$=M===!0?1:-1;for(let V=1;V<=i;V++)d.push(0,x*$,0),f.push(0,$,0),h.push(.5,.5),p++;const z=p;for(let V=0;V<=i;V++){const G=V/i*l+s,j=Math.cos(G),H=Math.sin(G);I.x=D*H,I.y=x*$,I.z=D*j,d.push(I.x,I.y,I.z),f.push(0,$,0),N.x=j*.5+.5,N.y=H*.5*$+.5,h.push(N.x,N.y),p++}for(let V=0;V<i;V++){const q=R+V,G=z+V;M===!0?u.push(G,G+1,q):u.push(G+1,G,q),B+=3}c.addGroup(y,B,M===!0?1:2),y+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new DR(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class md{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Vt("Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-a,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const u=r[i],f=r[i+1]-u,h=(a-u)/f;return(i+h)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new Wt:new Te);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new Te,i=[],o=[],a=[],s=new Te,l=new wr;for(let h=0;h<=e;h++){const p=h/e;i[h]=this.getTangentAt(p,new Te)}o[0]=new Te,a[0]=new Te;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let h=1;h<=e;h++){if(o[h]=o[h-1].clone(),a[h]=a[h-1].clone(),s.crossVectors(i[h-1],i[h]),s.length()>Number.EPSILON){s.normalize();const p=Math.acos(Pr(i[h-1].dot(i[h]),-1,1));o[h].applyMatrix4(l.makeRotationAxis(s,p))}a[h].crossVectors(i[h],o[h])}if(n===!0){let h=Math.acos(Pr(o[0].dot(o[e]),-1,1));h/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(h=-h);for(let p=1;p<=e;p++)o[p].applyMatrix4(l.makeRotationAxis(i[p],h*p)),a[p].crossVectors(i[p],o[p])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class w7 extends md{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new Wt){const r=n,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*u-h*d+this.aX,c=f*d+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class EFe extends w7{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function C7(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){i(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,u,d){let f=(a-o)/c-(s-o)/(c+u)+(s-a)/u,h=(s-a)/u-(l-a)/(u+d)+(l-s)/d;f*=u,h*=u,i(a,s,f,h)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const kC=new Te,gO=new C7,AO=new C7,vO=new C7;class MFe extends md{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new Te){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,u;this.closed||s>0?c=i[(s-1)%o]:(kC.subVectors(i[0],i[1]).add(i[0]),c=kC);const d=i[s%o],f=i[(s+1)%o];if(this.closed||s+2<o?u=i[(s+2)%o]:(kC.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=kC),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(d),h),_=Math.pow(d.distanceToSquared(f),h),x=Math.pow(f.distanceToSquared(u),h);_<1e-4&&(_=1),p<1e-4&&(p=_),x<1e-4&&(x=_),gO.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,p,_,x),AO.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,p,_,x),vO.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,p,_,x)}else this.curveType==="catmullrom"&&(gO.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),AO.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),vO.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(gO.calc(l),AO.calc(l),vO.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Te().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function rq(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function PFe(t,e){const n=1-t;return n*n*e}function RFe(t,e){return 2*(1-t)*t*e}function NFe(t,e){return t*t*e}function Wx(t,e,n,r){return PFe(t,e)+RFe(t,n)+NFe(t,r)}function IFe(t,e){const n=1-t;return n*n*n*e}function OFe(t,e){const n=1-t;return 3*n*n*t*e}function DFe(t,e){return 3*(1-t)*t*t*e}function LFe(t,e){return t*t*t*e}function Xx(t,e,n,r,i){return IFe(t,e)+OFe(t,n)+DFe(t,r)+LFe(t,i)}class Aae extends md{constructor(e=new Wt,n=new Wt,r=new Wt,i=new Wt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Wt){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Xx(e,i.x,o.x,a.x,s.x),Xx(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class vae extends md{constructor(e=new Te,n=new Te,r=new Te,i=new Te){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Te){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Xx(e,i.x,o.x,a.x,s.x),Xx(e,i.y,o.y,a.y,s.y),Xx(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class yae extends md{constructor(e=new Wt,n=new Wt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Wt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Wt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class BFe extends md{constructor(e=new Te,n=new Te){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Te){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Te){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bae extends md{constructor(e=new Wt,n=new Wt,r=new Wt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Wt){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Wx(e,i.x,o.x,a.x),Wx(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xae extends md{constructor(e=new Te,n=new Te,r=new Te){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Te){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Wx(e,i.x,o.x,a.x),Wx(e,i.y,o.y,a.y),Wx(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _ae extends md{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Wt){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],d=i[a>i.length-3?i.length-1:a+2];return r.set(rq(s,l.x,c.x,u.x,d.x),rq(s,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Wt().fromArray(i))}return this}}var HM=Object.freeze({__proto__:null,ArcCurve:EFe,CatmullRomCurve3:MFe,CubicBezierCurve:Aae,CubicBezierCurve3:vae,EllipseCurve:w7,LineCurve:yae,LineCurve3:BFe,QuadraticBezierCurve:bae,QuadraticBezierCurve3:xae,SplineCurve:_ae});class FFe extends md{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new HM[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new HM[i.type]().fromJSON(i))}return this}}let S8=class extends FFe{constructor(e){super(),this.type="Path",this.currentPoint=new Wt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new yae(this.currentPoint.clone(),new Wt(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new bae(this.currentPoint.clone(),new Wt(e,n),new Wt(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new Aae(this.currentPoint.clone(),new Wt(e,n),new Wt(r,i),new Wt(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new _ae(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const c=new w7(e,n,r,i,o,a,s,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class wE extends S8{constructor(e){super(e),this.uuid=ef(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new S8().fromJSON(i))}return this}}function $Fe(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=Sae(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c;if(r&&(o=GFe(t,e,o,n)),t.length>80*n){s=t[0],l=t[1];let u=s,d=l;for(let f=n;f<i;f+=n){const h=t[f],p=t[f+1];h<s&&(s=h),p<l&&(l=p),h>u&&(u=h),p>d&&(d=p)}c=Math.max(u-s,d-l),c=c!==0?32767/c:0}return l2(o,a,n,s,l,c,0),a}function Sae(t,e,n,r,i){let o;if(i===e$e(t,e,n,r)>0)for(let a=e;a<n;a+=r)o=iq(a/r|0,t[a],t[a+1],o);else for(let a=n-r;a>=e;a-=r)o=iq(a/r|0,t[a],t[a+1],o);return o&&Fy(o,o.next)&&(u2(o),o=o.next),o}function fg(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Fy(n,n.next)||No(n.prev,n,n.next)===0)){if(u2(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function l2(t,e,n,r,i,o,a){if(!t)return;!a&&o&&XFe(t,r,i,o);let s=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(o?UFe(t,r,i,o):kFe(t)){e.push(l.i,t.i,c.i),u2(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=zFe(fg(t),e),l2(t,e,n,r,i,o,2)):a===2&&VFe(t,e,n,r,i,o):l2(fg(t),e,n,r,i,o,1);break}}}function kFe(t){const e=t.prev,n=t,r=t.next;if(No(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,u=Math.min(i,o,a),d=Math.min(s,l,c),f=Math.max(i,o,a),h=Math.max(s,l,c);let p=r.next;for(;p!==e;){if(p.x>=u&&p.x<=f&&p.y>=d&&p.y<=h&&gx(i,s,o,l,a,c,p.x,p.y)&&No(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function UFe(t,e,n,r){const i=t.prev,o=t,a=t.next;if(No(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,d=o.y,f=a.y,h=Math.min(s,l,c),p=Math.min(u,d,f),_=Math.max(s,l,c),x=Math.max(u,d,f),y=w8(h,p,e,n,r),w=w8(_,x,e,n,r);let C=t.prevZ,M=t.nextZ;for(;C&&C.z>=y&&M&&M.z<=w;){if(C.x>=h&&C.x<=_&&C.y>=p&&C.y<=x&&C!==i&&C!==a&&gx(s,u,l,d,c,f,C.x,C.y)&&No(C.prev,C,C.next)>=0||(C=C.prevZ,M.x>=h&&M.x<=_&&M.y>=p&&M.y<=x&&M!==i&&M!==a&&gx(s,u,l,d,c,f,M.x,M.y)&&No(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;C&&C.z>=y;){if(C.x>=h&&C.x<=_&&C.y>=p&&C.y<=x&&C!==i&&C!==a&&gx(s,u,l,d,c,f,C.x,C.y)&&No(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;M&&M.z<=w;){if(M.x>=h&&M.x<=_&&M.y>=p&&M.y<=x&&M!==i&&M!==a&&gx(s,u,l,d,c,f,M.x,M.y)&&No(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function zFe(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Fy(r,i)&&Cae(r,n,n.next,i)&&c2(r,i)&&c2(i,r)&&(e.push(r.i,n.i,i.i),u2(n),u2(n.next),n=t=i),n=n.next}while(n!==t);return fg(n)}function VFe(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&QFe(a,s)){let l=Tae(a,s);a=fg(a,a.next),l=fg(l,l.next),l2(a,e,n,r,i,o,0),l2(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function GFe(t,e,n,r){const i=[];for(let o=0,a=e.length;o<a;o++){const s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=Sae(t,s,l,r,!1);c===c.next&&(c.steiner=!0),i.push(KFe(c))}i.sort(HFe);for(let o=0;o<i.length;o++)n=jFe(i[o],n);return n}function HFe(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function jFe(t,e){const n=qFe(t,e);if(!n)return e;const r=Tae(n,t);return fg(r,r.next),fg(n,n.next)}function qFe(t,e){let n=e;const r=t.x,i=t.y;let o=-1/0,a;if(Fy(t,n))return n;do{if(Fy(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const d=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=r&&d>o&&(o=d,a=n.x<n.next.x?n:n.next,d===r))return a}n=n.next}while(n!==e);if(!a)return null;const s=a,l=a.x,c=a.y;let u=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&wae(i<c?r:o,i,l,c,i<c?o:r,i,n.x,n.y)){const d=Math.abs(i-n.y)/(r-n.x);c2(n,t)&&(d<u||d===u&&(n.x>a.x||n.x===a.x&&WFe(a,n)))&&(a=n,u=d)}n=n.next}while(n!==s);return a}function WFe(t,e){return No(t.prev,t,e.prev)<0&&No(e.next,t,t.next)<0}function XFe(t,e,n,r){let i=t;do i.z===0&&(i.z=w8(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,YFe(i)}function YFe(t){let e,n=1;do{let r=t,i;t=null;let o=null;for(e=0;r;){e++;let a=r,s=0;for(let c=0;c<n&&(s++,a=a.nextZ,!!a);c++);let l=n;for(;s>0||l>0&&a;)s!==0&&(l===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,s--):(i=a,a=a.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=a}o.nextZ=null,n*=2}while(e>1);return t}function w8(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function KFe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function wae(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function gx(t,e,n,r,i,o,a,s){return!(t===a&&e===s)&&wae(t,e,n,r,i,o,a,s)}function QFe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!ZFe(t,e)&&(c2(t,e)&&c2(e,t)&&JFe(t,e)&&(No(t.prev,t,e.prev)||No(t,e.prev,e))||Fy(t,e)&&No(t.prev,t,t.next)>0&&No(e.prev,e,e.next)>0)}function No(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Fy(t,e){return t.x===e.x&&t.y===e.y}function Cae(t,e,n,r){const i=zC(No(t,e,n)),o=zC(No(t,e,r)),a=zC(No(n,r,t)),s=zC(No(n,r,e));return!!(i!==o&&a!==s||i===0&&UC(t,n,e)||o===0&&UC(t,r,e)||a===0&&UC(n,t,r)||s===0&&UC(n,e,r))}function UC(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function zC(t){return t>0?1:t<0?-1:0}function ZFe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Cae(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function c2(t,e){return No(t.prev,t,t.next)<0?No(t,e,t.next)>=0&&No(t,t.prev,e)>=0:No(t,e,t.prev)<0||No(t,t.next,e)<0}function JFe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Tae(t,e){const n=C8(t.i,t.x,t.y),r=C8(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function iq(t,e,n,r){const i=C8(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function u2(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function C8(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function e$e(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class t$e{static triangulate(e,n,r=2){return $Fe(e,n,r)}}class P0{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return P0.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];oq(e),aq(r,e);let a=e.length;n.forEach(oq);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,aq(r,n[l]);const s=t$e.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function oq(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function aq(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class T7 extends bi{constructor(e=new wE([new Wt(.5,.5),new Wt(-.5,.5),new Wt(-.5,-.5),new Wt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new li(i,3)),this.setAttribute("uv",new li(o,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,p=n.bevelSize!==void 0?n.bevelSize:h-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const y=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:n$e;let C,M=!1,R,N,I,B;if(y){C=y.getSpacedPoints(u),M=!0,f=!1;const Se=y.isCatmullRomCurve3?y.closed:!1;R=y.computeFrenetFrames(u,Se),N=new Te,I=new Te,B=new Te}f||(x=0,h=0,p=0,_=0);const D=s.extractPoints(c);let $=D.shape;const z=D.holes;if(!P0.isClockWise($)){$=$.reverse();for(let Se=0,_e=z.length;Se<_e;Se++){const ve=z[Se];P0.isClockWise(ve)&&(z[Se]=ve.reverse())}}function q(Se){const ve=10000000000000001e-36;let Ge=Se[0];for(let ue=1;ue<=Se.length;ue++){const at=ue%Se.length,nt=Se[at],ct=nt.x-Ge.x,Ze=nt.y-Ge.y,pe=ct*ct+Ze*Ze,te=Math.max(Math.abs(nt.x),Math.abs(nt.y),Math.abs(Ge.x),Math.abs(Ge.y)),Ne=ve*te*te;if(pe<=Ne){Se.splice(at,1),ue--;continue}Ge=nt}}q($),z.forEach(q);const G=z.length,j=$;for(let Se=0;Se<G;Se++){const _e=z[Se];$=$.concat(_e)}function H(Se,_e,ve){return _e||Kt("ExtrudeGeometry: vec does not exist"),Se.clone().addScaledVector(_e,ve)}const X=$.length;function Y(Se,_e,ve){let Ge,ue,at;const nt=Se.x-_e.x,ct=Se.y-_e.y,Ze=ve.x-Se.x,pe=ve.y-Se.y,te=nt*nt+ct*ct,Ne=nt*pe-ct*Ze;if(Math.abs(Ne)>Number.EPSILON){const qe=Math.sqrt(te),gt=Math.sqrt(Ze*Ze+pe*pe),tt=_e.x-ct/qe,wt=_e.y+nt/qe,_t=ve.x-pe/gt,Et=ve.y+Ze/gt,Tt=((_t-tt)*pe-(Et-wt)*Ze)/(nt*pe-ct*Ze);Ge=tt+nt*Tt-Se.x,ue=wt+ct*Tt-Se.y;const ht=Ge*Ge+ue*ue;if(ht<=2)return new Wt(Ge,ue);at=Math.sqrt(ht/2)}else{let qe=!1;nt>Number.EPSILON?Ze>Number.EPSILON&&(qe=!0):nt<-Number.EPSILON?Ze<-Number.EPSILON&&(qe=!0):Math.sign(ct)===Math.sign(pe)&&(qe=!0),qe?(Ge=-ct,ue=nt,at=Math.sqrt(te)):(Ge=nt,ue=ct,at=Math.sqrt(te/2))}return new Wt(Ge/at,ue/at)}const ee=[];for(let Se=0,_e=j.length,ve=_e-1,Ge=Se+1;Se<_e;Se++,ve++,Ge++)ve===_e&&(ve=0),Ge===_e&&(Ge=0),ee[Se]=Y(j[Se],j[ve],j[Ge]);const Z=[];let re,ae=ee.concat();for(let Se=0,_e=G;Se<_e;Se++){const ve=z[Se];re=[];for(let Ge=0,ue=ve.length,at=ue-1,nt=Ge+1;Ge<ue;Ge++,at++,nt++)at===ue&&(at=0),nt===ue&&(nt=0),re[Ge]=Y(ve[Ge],ve[at],ve[nt]);Z.push(re),ae=ae.concat(re)}let ce;if(x===0)ce=P0.triangulateShape(j,z);else{const Se=[],_e=[];for(let ve=0;ve<x;ve++){const Ge=ve/x,ue=h*Math.cos(Ge*Math.PI/2),at=p*Math.sin(Ge*Math.PI/2)+_;for(let nt=0,ct=j.length;nt<ct;nt++){const Ze=H(j[nt],ee[nt],at);we(Ze.x,Ze.y,-ue),Ge===0&&Se.push(Ze)}for(let nt=0,ct=G;nt<ct;nt++){const Ze=z[nt];re=Z[nt];const pe=[];for(let te=0,Ne=Ze.length;te<Ne;te++){const qe=H(Ze[te],re[te],at);we(qe.x,qe.y,-ue),Ge===0&&pe.push(qe)}Ge===0&&_e.push(pe)}}ce=P0.triangulateShape(Se,_e)}const he=ce.length,ge=p+_;for(let Se=0;Se<X;Se++){const _e=f?H($[Se],ae[Se],ge):$[Se];M?(I.copy(R.normals[0]).multiplyScalar(_e.x),N.copy(R.binormals[0]).multiplyScalar(_e.y),B.copy(C[0]).add(I).add(N),we(B.x,B.y,B.z)):we(_e.x,_e.y,0)}for(let Se=1;Se<=u;Se++)for(let _e=0;_e<X;_e++){const ve=f?H($[_e],ae[_e],ge):$[_e];M?(I.copy(R.normals[Se]).multiplyScalar(ve.x),N.copy(R.binormals[Se]).multiplyScalar(ve.y),B.copy(C[Se]).add(I).add(N),we(B.x,B.y,B.z)):we(ve.x,ve.y,d/u*Se)}for(let Se=x-1;Se>=0;Se--){const _e=Se/x,ve=h*Math.cos(_e*Math.PI/2),Ge=p*Math.sin(_e*Math.PI/2)+_;for(let ue=0,at=j.length;ue<at;ue++){const nt=H(j[ue],ee[ue],Ge);we(nt.x,nt.y,d+ve)}for(let ue=0,at=z.length;ue<at;ue++){const nt=z[ue];re=Z[ue];for(let ct=0,Ze=nt.length;ct<Ze;ct++){const pe=H(nt[ct],re[ct],Ge);M?we(pe.x,pe.y+C[u-1].y,C[u-1].x+ve):we(pe.x,pe.y,d+ve)}}}se(),me();function se(){const Se=i.length/3;if(f){let _e=0,ve=X*_e;for(let Ge=0;Ge<he;Ge++){const ue=ce[Ge];Ee(ue[2]+ve,ue[1]+ve,ue[0]+ve)}_e=u+x*2,ve=X*_e;for(let Ge=0;Ge<he;Ge++){const ue=ce[Ge];Ee(ue[0]+ve,ue[1]+ve,ue[2]+ve)}}else{for(let _e=0;_e<he;_e++){const ve=ce[_e];Ee(ve[2],ve[1],ve[0])}for(let _e=0;_e<he;_e++){const ve=ce[_e];Ee(ve[0]+X*u,ve[1]+X*u,ve[2]+X*u)}}r.addGroup(Se,i.length/3-Se,0)}function me(){const Se=i.length/3;let _e=0;ye(j,_e),_e+=j.length;for(let ve=0,Ge=z.length;ve<Ge;ve++){const ue=z[ve];ye(ue,_e),_e+=ue.length}r.addGroup(Se,i.length/3-Se,1)}function ye(Se,_e){let ve=Se.length;for(;--ve>=0;){const Ge=ve;let ue=ve-1;ue<0&&(ue=Se.length-1);for(let at=0,nt=u+x*2;at<nt;at++){const ct=X*at,Ze=X*(at+1),pe=_e+Ge+ct,te=_e+ue+ct,Ne=_e+ue+Ze,qe=_e+Ge+Ze;Me(pe,te,Ne,qe)}}}function we(Se,_e,ve){l.push(Se),l.push(_e),l.push(ve)}function Ee(Se,_e,ve){Oe(Se),Oe(_e),Oe(ve);const Ge=i.length/3,ue=w.generateTopUV(r,i,Ge-3,Ge-2,Ge-1);Ue(ue[0]),Ue(ue[1]),Ue(ue[2])}function Me(Se,_e,ve,Ge){Oe(Se),Oe(_e),Oe(Ge),Oe(_e),Oe(ve),Oe(Ge);const ue=i.length/3,at=w.generateSideWallUV(r,i,ue-6,ue-3,ue-2,ue-1);Ue(at[0]),Ue(at[1]),Ue(at[3]),Ue(at[1]),Ue(at[2]),Ue(at[3])}function Oe(Se){i.push(l[Se*3+0]),i.push(l[Se*3+1]),i.push(l[Se*3+2])}function Ue(Se){o.push(Se.x),o.push(Se.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return r$e(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new HM[i.type]().fromJSON(i)),new T7(r,e.options)}}const n$e={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Wt(o,a),new Wt(s,l),new Wt(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],h=e[i*3+1],p=e[i*3+2],_=e[o*3],x=e[o*3+1],y=e[o*3+2];return Math.abs(s-u)<Math.abs(a-c)?[new Wt(a,1-l),new Wt(c,1-d),new Wt(f,1-p),new Wt(_,1-y)]:[new Wt(s,1-l),new Wt(u,1-d),new Wt(h,1-p),new Wt(x,1-y)]}};function r$e(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class bS extends bi{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),c=s+1,u=l+1,d=e/s,f=n/l,h=[],p=[],_=[],x=[];for(let y=0;y<u;y++){const w=y*f-a;for(let C=0;C<c;C++){const M=C*d-o;p.push(M,-w,0),_.push(0,0,1),x.push(C/s),x.push(1-y/l)}}for(let y=0;y<l;y++)for(let w=0;w<s;w++){const C=w+c*y,M=w+c*(y+1),R=w+1+c*(y+1),N=w+1+c*y;h.push(C,M,N),h.push(M,R,N)}this.setIndex(h),this.setAttribute("position",new li(p,3)),this.setAttribute("normal",new li(_,3)),this.setAttribute("uv",new li(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bS(e.width,e.height,e.widthSegments,e.heightSegments)}}class xf extends bi{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let c=0;const u=[],d=new Te,f=new Te,h=[],p=[],_=[],x=[];for(let y=0;y<=r;y++){const w=[],C=y/r;let M=0;y===0&&a===0?M=.5/n:y===r&&l===Math.PI&&(M=-.5/n);for(let R=0;R<=n;R++){const N=R/n;d.x=-e*Math.cos(i+N*o)*Math.sin(a+C*s),d.y=e*Math.cos(a+C*s),d.z=e*Math.sin(i+N*o)*Math.sin(a+C*s),p.push(d.x,d.y,d.z),f.copy(d).normalize(),_.push(f.x,f.y,f.z),x.push(N+M,1-C),w.push(c++)}u.push(w)}for(let y=0;y<r;y++)for(let w=0;w<n;w++){const C=u[y][w+1],M=u[y][w],R=u[y+1][w],N=u[y+1][w+1];(y!==0||a>0)&&h.push(C,M,N),(y!==r-1||l<Math.PI)&&h.push(M,R,N)}this.setIndex(h),this.setAttribute("position",new li(p,3)),this.setAttribute("normal",new li(_,3)),this.setAttribute("uv",new li(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class E7 extends bi{constructor(e=new xae(new Te(-1,-1,0),new Te(-1,1,0),new Te(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new Te,l=new Te,c=new Wt;let u=new Te;const d=[],f=[],h=[],p=[];_(),this.setIndex(p),this.setAttribute("position",new li(d,3)),this.setAttribute("normal",new li(f,3)),this.setAttribute("uv",new li(h,2));function _(){for(let C=0;C<n;C++)x(C);x(o===!1?n:0),w(),y()}function x(C){u=e.getPointAt(C/n,u);const M=a.normals[C],R=a.binormals[C];for(let N=0;N<=i;N++){const I=N/i*Math.PI*2,B=Math.sin(I),D=-Math.cos(I);l.x=D*M.x+B*R.x,l.y=D*M.y+B*R.y,l.z=D*M.z+B*R.z,l.normalize(),f.push(l.x,l.y,l.z),s.x=u.x+r*l.x,s.y=u.y+r*l.y,s.z=u.z+r*l.z,d.push(s.x,s.y,s.z)}}function y(){for(let C=1;C<=n;C++)for(let M=1;M<=i;M++){const R=(i+1)*(C-1)+(M-1),N=(i+1)*C+(M-1),I=(i+1)*C+M,B=(i+1)*(C-1)+M;p.push(R,N,B),p.push(N,I,B)}}function w(){for(let C=0;C<=n;C++)for(let M=0;M<=i;M++)c.x=C/n,c.y=M/i,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new E7(new HM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class i$e extends bi{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new Te,o=new Te;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,h=d.count;for(let p=f,_=f+h;p<_;p+=3)for(let x=0;x<3;x++){const y=s.getX(p+x),w=s.getX(p+(x+1)%3);i.fromBufferAttribute(a,y),o.fromBufferAttribute(a,w),sq(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const u=3*s+c,d=3*s+(c+1)%3;i.fromBufferAttribute(a,u),o.fromBufferAttribute(a,d),sq(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new li(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function sq(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}class o$e extends Is{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Vn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class a$e extends Os{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Eae extends Is{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Vn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jd,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ls,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class s$e extends Eae{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Wt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Vn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Vn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Vn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Mae extends Is{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Vn(16777215),this.specular=new Vn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jd,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ls,this.combine=dS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class l$e extends Is{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Vn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jd,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class c$e extends Is{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jd,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Mh extends Is{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Vn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jd,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ls,this.combine=dS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class u$e extends Is{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_Be,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class d$e extends Is{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class f$e extends Is{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Vn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jd,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class h$e extends E1{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}const yO={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class p$e{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this._abortController=null,this.itemStart=function(u){s++,o===!1&&i.onStart!==void 0&&i.onStart(u,a,s),o=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],p=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const m$e=new p$e;class M7{constructor(e){this.manager=e!==void 0?e:m$e,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}M7.DEFAULT_MATERIAL_NAME="__DEFAULT";const vA=new WeakMap;class g$e extends M7{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=yO.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0);else{let d=vA.get(a);d===void 0&&(d=[],vA.set(a,d)),d.push({onLoad:n,onError:i})}return a}const s=a2("img");function l(){u(),n&&n(this);const d=vA.get(this)||[];for(let f=0;f<d.length;f++){const h=d[f];h.onLoad&&h.onLoad(this)}vA.delete(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),yO.remove(`image:${e}`);const f=vA.get(this)||[];for(let h=0;h<f.length;h++){const p=f[h];p.onError&&p.onError(d)}vA.delete(this),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),yO.add(`image:${e}`,s),o.manager.itemStart(e),s.src=e,s}}class P7 extends M7{constructor(e){super(e)}load(e,n,r,i){const o=new la,a=new g$e(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Rg extends uo{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Vn(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class A$e extends Rg{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(uo.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Vn(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const bO=new wr,lq=new Te,cq=new Te;class R7{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Wt(512,512),this.mapType=no,this.map=null,this.mapPass=null,this.matrix=new wr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new T1,this._frameExtents=new Wt(1,1),this._viewportCount=1,this._viewports=[new yr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;lq.setFromMatrixPosition(e.matrixWorld),n.position.copy(lq),cq.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(cq),n.updateMatrixWorld(),bO.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(bO,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(bO)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class v$e extends R7{constructor(){super(new Oa(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=dg*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class N7 extends Rg{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(uo.DEFAULT_UP),this.updateMatrix(),this.target=new uo,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new v$e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class y$e extends R7{constructor(){super(new Oa(90,1,.5,500)),this.isPointLightShadow=!0}}class b$e extends Rg{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new y$e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class M1 extends vS{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class x$e extends R7{constructor(){super(new M1(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Pae extends Rg{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(uo.DEFAULT_UP),this.updateMatrix(),this.target=new uo,this.shadow=new x$e}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class Rae extends Rg{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class _$e extends Rg{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class S$e{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Te)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class w$e extends Rg{constructor(e=new S$e,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class C$e extends bi{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Nae extends Oa{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class Iae{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}class jM extends y7{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}const uq=new wr;class T$e{constructor(e,n,r=0,i=1/0){this.ray=new AS(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new m7,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):Kt("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return uq.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(uq),this}intersectObject(e,n=!0,r=[]){return T8(e,this,r,n),r.sort(dq),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)T8(e[i],this,r,n);return r.sort(dq),r}}function dq(t,e){return t.distance-e.distance}function T8(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const o=t.children;for(let a=0,s=o.length;a<s;a++)T8(o[a],e,n,!0)}}class fq{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Pr(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Pr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class LR{constructor(e,n,r,i){LR.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const o=this.elements;return o[0]=e,o[2]=n,o[1]=r,o[3]=i,this}}const hq=new Te,VC=new Te,yA=new Te,bA=new Te,xO=new Te,E$e=new Te,M$e=new Te;class P$e{constructor(e=new Te,n=new Te){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){hq.subVectors(e,this.start),VC.subVectors(this.end,this.start);const r=VC.dot(VC);let o=VC.dot(hq)/r;return n&&(o=Pr(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=E$e,r=M$e){const i=10000000000000001e-32;let o,a;const s=this.start,l=e.start,c=this.end,u=e.end;yA.subVectors(c,s),bA.subVectors(u,l),xO.subVectors(s,l);const d=yA.dot(yA),f=bA.dot(bA),h=bA.dot(xO);if(d<=i&&f<=i)return n.copy(s),r.copy(l),n.sub(r),n.dot(n);if(d<=i)o=0,a=h/f,a=Pr(a,0,1);else{const p=yA.dot(xO);if(f<=i)a=0,o=Pr(-p/d,0,1);else{const _=yA.dot(bA),x=d*f-_*_;x!==0?o=Pr((_*h-p*f)/x,0,1):o=0,a=(_*o+h)/f,a<0?(a=0,o=Pr(-p/d,0,1)):a>1&&(a=1,o=Pr((_-p)/d,0,1))}}return n.copy(s).add(yA.multiplyScalar(o)),r.copy(l).add(bA.multiplyScalar(a)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}class R$e{constructor(){this.type="ShapePath",this.color=new Vn,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new S8,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(y){const w=[];for(let C=0,M=y.length;C<M;C++){const R=y[C],N=new wE;N.curves=R.curves,w.push(N)}return w}function r(y,w){const C=w.length;let M=!1;for(let R=C-1,N=0;N<C;R=N++){let I=w[R],B=w[N],D=B.x-I.x,$=B.y-I.y;if(Math.abs($)>Number.EPSILON){if($<0&&(I=w[N],D=-D,B=w[R],$=-$),y.y<I.y||y.y>B.y)continue;if(y.y===I.y){if(y.x===I.x)return!0}else{const z=$*(y.x-I.x)-D*(y.y-I.y);if(z===0)return!0;if(z<0)continue;M=!M}}else{if(y.y!==I.y)continue;if(B.x<=y.x&&y.x<=I.x||I.x<=y.x&&y.x<=B.x)return!0}}return M}const i=P0.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const c=[];if(o.length===1)return s=o[0],l=new wE,l.curves=s.curves,c.push(l),c;let u=!i(o[0].getPoints());u=e?!u:u;const d=[],f=[];let h=[],p=0,_;f[p]=void 0,h[p]=[];for(let y=0,w=o.length;y<w;y++)s=o[y],_=s.getPoints(),a=i(_),a=e?!a:a,a?(!u&&f[p]&&p++,f[p]={s:new wE,p:_},f[p].s.curves=s.curves,u&&p++,h[p]=[]):h[p].push({h:s,p:_[0]});if(!f[0])return n(o);if(f.length>1){let y=!1,w=0;for(let C=0,M=f.length;C<M;C++)d[C]=[];for(let C=0,M=f.length;C<M;C++){const R=h[C];for(let N=0;N<R.length;N++){const I=R[N];let B=!0;for(let D=0;D<f.length;D++)r(I.p,f[D].p)&&(C!==D&&w++,B?(B=!1,d[D].push(I)):y=!0);B&&d[C].push(I)}}w>0&&y===!1&&(h=d)}let x;for(let y=0,w=f.length;y<w;y++){l=f[y].s,c.push(l),x=h[y];for(let C=0,M=x.length;C<M;C++)l.holes.push(x[C].h)}return c}}class I7 extends pd{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Vt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function E8(t,e,n,r){const i=N$e(r);switch(n){case o7:return t*e;case hS:return t*e/i.components*i.byteLength;case S1:return t*e/i.components*i.byteLength;case Qs:return t*e*2/i.components*i.byteLength;case w1:return t*e*2/i.components*i.byteLength;case fS:return t*e*3/i.components*i.byteLength;case qo:return t*e*4/i.components*i.byteLength;case C1:return t*e*4/i.components*i.byteLength;case Gp:case Hp:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case jp:case qp:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case r2:case o2:return Math.max(t,16)*Math.max(e,8)/4;case n2:case i2:return Math.max(t,8)*Math.max(e,8)/2;case cy:case uy:case fy:case hy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case dy:case cg:case py:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case my:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case gy:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Ay:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case vy:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case yy:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case by:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case xy:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case _y:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Sy:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case wy:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Cy:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Ty:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Ey:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case My:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Py:case y8:case b8:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Ry:case Ny:return Math.ceil(t/4)*Math.ceil(e/4)*8;case ug:case Iy:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function N$e(t){switch(t){case no:case z0:return{byteLength:1,components:1};case ju:case V0:case io:return{byteLength:2,components:1};case TR:case ER:return{byteLength:2,components:4};case Ni:case Ia:case Ho:return{byteLength:4,components:1};case MR:case PR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Pg}}));typeof window<"u"&&(window.__THREE__?Vt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Pg);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Oae(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function I$e(t){const e=new WeakMap;function n(s,l){const c=s.array,u=s.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),s.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)h=t.HALF_FLOAT;else if(c instanceof Uint16Array)s.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:s.version,size:d}}function r(s,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,s),d.length===0)t.bufferSubData(c,0,u);else{d.sort((h,p)=>h.start-p.start);let f=0;for(let h=1;h<d.length;h++){const p=d[f],_=d[h];_.start<=p.start+p.count+1?p.count=Math.max(p.count,_.start+_.count-p.start):(++f,d[f]=_)}d.length=f+1;for(let h=0,p=d.length;h<p;h++){const _=d[h];t.bufferSubData(c,_.start*u.BYTES_PER_ELEMENT,u,_.start,_.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function a(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const u=e.get(s);(!u||u.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const c=e.get(s);if(c===void 0)e.set(s,n(s,l));else if(c.version<s.version){if(c.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,s,l),c.version=s.version}}return{get:i,remove:o,update:a}}var O$e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,D$e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,L$e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,B$e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,F$e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,$$e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,k$e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,U$e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,z$e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,V$e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,G$e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,H$e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,j$e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,q$e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,W$e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,X$e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Y$e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,K$e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Q$e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Z$e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,J$e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,e7e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,t7e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,n7e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,r7e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,i7e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,o7e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,a7e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,s7e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,l7e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,c7e="gl_FragColor = linearToOutputTexel( gl_FragColor );",u7e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,d7e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,f7e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,h7e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,p7e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,m7e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,g7e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,A7e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,v7e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,y7e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,b7e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,x7e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,_7e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,S7e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,w7e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,C7e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,T7e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,E7e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,M7e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,P7e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,R7e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,N7e=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,I7e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,O7e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,D7e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,L7e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,B7e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,F7e=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,$7e=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,k7e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,U7e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,z7e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,V7e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,G7e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,H7e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,j7e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,q7e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,W7e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,X7e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Y7e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,K7e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Q7e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Z7e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,J7e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,eke=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,tke=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,nke=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,rke=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,ike=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,oke=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,ake=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,ske=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,lke=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,cke=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,uke=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dke=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,fke=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,hke=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,pke=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,mke=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,gke=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Ake=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,vke=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,yke=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,bke=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,xke=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,_ke=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ske=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,wke=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Cke=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Tke=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Eke=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Mke=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Pke=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Rke=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Nke=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Ike=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Oke=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Dke=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Lke=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Bke=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Fke=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$ke=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,kke=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Uke=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,zke=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,Vke=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Gke=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hke=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,jke=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qke=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Wke=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xke=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Yke=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kke=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Qke=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zke=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Jke=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,e9e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,t9e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,n9e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,r9e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,i9e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,o9e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,a9e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,s9e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,l9e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,c9e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,u9e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,d9e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Fr={alphahash_fragment:O$e,alphahash_pars_fragment:D$e,alphamap_fragment:L$e,alphamap_pars_fragment:B$e,alphatest_fragment:F$e,alphatest_pars_fragment:$$e,aomap_fragment:k$e,aomap_pars_fragment:U$e,batching_pars_vertex:z$e,batching_vertex:V$e,begin_vertex:G$e,beginnormal_vertex:H$e,bsdfs:j$e,iridescence_fragment:q$e,bumpmap_pars_fragment:W$e,clipping_planes_fragment:X$e,clipping_planes_pars_fragment:Y$e,clipping_planes_pars_vertex:K$e,clipping_planes_vertex:Q$e,color_fragment:Z$e,color_pars_fragment:J$e,color_pars_vertex:e7e,color_vertex:t7e,common:n7e,cube_uv_reflection_fragment:r7e,defaultnormal_vertex:i7e,displacementmap_pars_vertex:o7e,displacementmap_vertex:a7e,emissivemap_fragment:s7e,emissivemap_pars_fragment:l7e,colorspace_fragment:c7e,colorspace_pars_fragment:u7e,envmap_fragment:d7e,envmap_common_pars_fragment:f7e,envmap_pars_fragment:h7e,envmap_pars_vertex:p7e,envmap_physical_pars_fragment:C7e,envmap_vertex:m7e,fog_vertex:g7e,fog_pars_vertex:A7e,fog_fragment:v7e,fog_pars_fragment:y7e,gradientmap_pars_fragment:b7e,lightmap_pars_fragment:x7e,lights_lambert_fragment:_7e,lights_lambert_pars_fragment:S7e,lights_pars_begin:w7e,lights_toon_fragment:T7e,lights_toon_pars_fragment:E7e,lights_phong_fragment:M7e,lights_phong_pars_fragment:P7e,lights_physical_fragment:R7e,lights_physical_pars_fragment:N7e,lights_fragment_begin:I7e,lights_fragment_maps:O7e,lights_fragment_end:D7e,logdepthbuf_fragment:L7e,logdepthbuf_pars_fragment:B7e,logdepthbuf_pars_vertex:F7e,logdepthbuf_vertex:$7e,map_fragment:k7e,map_pars_fragment:U7e,map_particle_fragment:z7e,map_particle_pars_fragment:V7e,metalnessmap_fragment:G7e,metalnessmap_pars_fragment:H7e,morphinstance_vertex:j7e,morphcolor_vertex:q7e,morphnormal_vertex:W7e,morphtarget_pars_vertex:X7e,morphtarget_vertex:Y7e,normal_fragment_begin:K7e,normal_fragment_maps:Q7e,normal_pars_fragment:Z7e,normal_pars_vertex:J7e,normal_vertex:eke,normalmap_pars_fragment:tke,clearcoat_normal_fragment_begin:nke,clearcoat_normal_fragment_maps:rke,clearcoat_pars_fragment:ike,iridescence_pars_fragment:oke,opaque_fragment:ake,packing:ske,premultiplied_alpha_fragment:lke,project_vertex:cke,dithering_fragment:uke,dithering_pars_fragment:dke,roughnessmap_fragment:fke,roughnessmap_pars_fragment:hke,shadowmap_pars_fragment:pke,shadowmap_pars_vertex:mke,shadowmap_vertex:gke,shadowmask_pars_fragment:Ake,skinbase_vertex:vke,skinning_pars_vertex:yke,skinning_vertex:bke,skinnormal_vertex:xke,specularmap_fragment:_ke,specularmap_pars_fragment:Ske,tonemapping_fragment:wke,tonemapping_pars_fragment:Cke,transmission_fragment:Tke,transmission_pars_fragment:Eke,uv_pars_fragment:Mke,uv_pars_vertex:Pke,uv_vertex:Rke,worldpos_vertex:Nke,background_vert:Ike,background_frag:Oke,backgroundCube_vert:Dke,backgroundCube_frag:Lke,cube_vert:Bke,cube_frag:Fke,depth_vert:$ke,depth_frag:kke,distance_vert:Uke,distance_frag:zke,equirect_vert:Vke,equirect_frag:Gke,linedashed_vert:Hke,linedashed_frag:jke,meshbasic_vert:qke,meshbasic_frag:Wke,meshlambert_vert:Xke,meshlambert_frag:Yke,meshmatcap_vert:Kke,meshmatcap_frag:Qke,meshnormal_vert:Zke,meshnormal_frag:Jke,meshphong_vert:e9e,meshphong_frag:t9e,meshphysical_vert:n9e,meshphysical_frag:r9e,meshtoon_vert:i9e,meshtoon_frag:o9e,points_vert:a9e,points_frag:s9e,shadow_vert:l9e,shadow_frag:c9e,sprite_vert:u9e,sprite_frag:d9e},En={common:{diffuse:{value:new Vn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Or},alphaMap:{value:null},alphaMapTransform:{value:new Or},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Or}},envmap:{envMap:{value:null},envMapRotation:{value:new Or},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Or}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Or}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Or},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Or},normalScale:{value:new Wt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Or},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Or}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Or}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Or}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Vn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Vn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Or},alphaTest:{value:0},uvTransform:{value:new Or}},sprite:{diffuse:{value:new Vn(16777215)},opacity:{value:1},center:{value:new Wt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Or},alphaMap:{value:null},alphaMapTransform:{value:new Or},alphaTest:{value:0}}},bl={basic:{uniforms:zs([En.common,En.specularmap,En.envmap,En.aomap,En.lightmap,En.fog]),vertexShader:Fr.meshbasic_vert,fragmentShader:Fr.meshbasic_frag},lambert:{uniforms:zs([En.common,En.specularmap,En.envmap,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.fog,En.lights,{emissive:{value:new Vn(0)}}]),vertexShader:Fr.meshlambert_vert,fragmentShader:Fr.meshlambert_frag},phong:{uniforms:zs([En.common,En.specularmap,En.envmap,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.fog,En.lights,{emissive:{value:new Vn(0)},specular:{value:new Vn(1118481)},shininess:{value:30}}]),vertexShader:Fr.meshphong_vert,fragmentShader:Fr.meshphong_frag},standard:{uniforms:zs([En.common,En.envmap,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.roughnessmap,En.metalnessmap,En.fog,En.lights,{emissive:{value:new Vn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Fr.meshphysical_vert,fragmentShader:Fr.meshphysical_frag},toon:{uniforms:zs([En.common,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.gradientmap,En.fog,En.lights,{emissive:{value:new Vn(0)}}]),vertexShader:Fr.meshtoon_vert,fragmentShader:Fr.meshtoon_frag},matcap:{uniforms:zs([En.common,En.bumpmap,En.normalmap,En.displacementmap,En.fog,{matcap:{value:null}}]),vertexShader:Fr.meshmatcap_vert,fragmentShader:Fr.meshmatcap_frag},points:{uniforms:zs([En.points,En.fog]),vertexShader:Fr.points_vert,fragmentShader:Fr.points_frag},dashed:{uniforms:zs([En.common,En.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Fr.linedashed_vert,fragmentShader:Fr.linedashed_frag},depth:{uniforms:zs([En.common,En.displacementmap]),vertexShader:Fr.depth_vert,fragmentShader:Fr.depth_frag},normal:{uniforms:zs([En.common,En.bumpmap,En.normalmap,En.displacementmap,{opacity:{value:1}}]),vertexShader:Fr.meshnormal_vert,fragmentShader:Fr.meshnormal_frag},sprite:{uniforms:zs([En.sprite,En.fog]),vertexShader:Fr.sprite_vert,fragmentShader:Fr.sprite_frag},background:{uniforms:{uvTransform:{value:new Or},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Fr.background_vert,fragmentShader:Fr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Or}},vertexShader:Fr.backgroundCube_vert,fragmentShader:Fr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Fr.cube_vert,fragmentShader:Fr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Fr.equirect_vert,fragmentShader:Fr.equirect_frag},distance:{uniforms:zs([En.common,En.displacementmap,{referencePosition:{value:new Te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Fr.distance_vert,fragmentShader:Fr.distance_frag},shadow:{uniforms:zs([En.lights,En.fog,{color:{value:new Vn(0)},opacity:{value:1}}]),vertexShader:Fr.shadow_vert,fragmentShader:Fr.shadow_frag}};bl.physical={uniforms:zs([bl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Or},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Or},clearcoatNormalScale:{value:new Wt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Or},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Or},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Or},sheen:{value:0},sheenColor:{value:new Vn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Or},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Or},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Or},transmissionSamplerSize:{value:new Wt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Or},attenuationDistance:{value:0},attenuationColor:{value:new Vn(0)},specularColor:{value:new Vn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Or},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Or},anisotropyVector:{value:new Wt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Or}}]),vertexShader:Fr.meshphysical_vert,fragmentShader:Fr.meshphysical_frag};const GC={r:0,b:0,g:0},jm=new ls,f9e=new wr;function h9e(t,e,n,r,i,o,a){const s=new Vn(0);let l=o===!0?0:1,c,u,d=null,f=0,h=null;function p(C){let M=C.isScene===!0?C.background:null;return M&&M.isTexture&&(M=(C.backgroundBlurriness>0?n:e).get(M)),M}function _(C){let M=!1;const R=p(C);R===null?y(s,l):R&&R.isColor&&(y(R,1),M=!0);const N=t.xr.getEnvironmentBlendMode();N==="additive"?r.buffers.color.setClear(0,0,0,1,a):N==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function x(C,M){const R=p(M);R&&(R.isCubeTexture||R.mapping===ag)?(u===void 0&&(u=new Ai(new bm(1,1,1),new Os({name:"BackgroundCubeMaterial",uniforms:By(bl.backgroundCube.uniforms),vertexShader:bl.backgroundCube.vertexShader,fragmentShader:bl.backgroundCube.fragmentShader,side:Oi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(N,I,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),jm.copy(M.backgroundRotation),jm.x*=-1,jm.y*=-1,jm.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(jm.y*=-1,jm.z*=-1),u.material.uniforms.envMap.value=R,u.material.uniforms.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(f9e.makeRotationFromEuler(jm)),u.material.toneMapped=fr.getTransfer(R.colorSpace)!==In,(d!==R||f!==R.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,d=R,f=R.version,h=t.toneMapping),u.layers.enableAll(),C.unshift(u,u.geometry,u.material,0,0,null)):R&&R.isTexture&&(c===void 0&&(c=new Ai(new bS(2,2),new Os({name:"BackgroundMaterial",uniforms:By(bl.background.uniforms),vertexShader:bl.background.vertexShader,fragmentShader:bl.background.fragmentShader,side:cc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=R,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.toneMapped=fr.getTransfer(R.colorSpace)!==In,R.matrixAutoUpdate===!0&&R.updateMatrix(),c.material.uniforms.uvTransform.value.copy(R.matrix),(d!==R||f!==R.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,d=R,f=R.version,h=t.toneMapping),c.layers.enableAll(),C.unshift(c,c.geometry,c.material,0,0,null))}function y(C,M){C.getRGB(GC,fae(t)),r.buffers.color.setClear(GC.r,GC.g,GC.b,M,a)}function w(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return s},setClearColor:function(C,M=1){s.set(C),l=M,y(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(C){l=C,y(s,l)},render:_,addToRenderList:x,dispose:w}}function p9e(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let o=i,a=!1;function s($,z,V,q,G){let j=!1;const H=d(q,V,z);o!==H&&(o=H,c(o.object)),j=h($,q,V,G),j&&p($,q,V,G),G!==null&&e.update(G,t.ELEMENT_ARRAY_BUFFER),(j||a)&&(a=!1,M($,z,V,q),G!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(G).buffer))}function l(){return t.createVertexArray()}function c($){return t.bindVertexArray($)}function u($){return t.deleteVertexArray($)}function d($,z,V){const q=V.wireframe===!0;let G=r[$.id];G===void 0&&(G={},r[$.id]=G);let j=G[z.id];j===void 0&&(j={},G[z.id]=j);let H=j[q];return H===void 0&&(H=f(l()),j[q]=H),H}function f($){const z=[],V=[],q=[];for(let G=0;G<n;G++)z[G]=0,V[G]=0,q[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:z,enabledAttributes:V,attributeDivisors:q,object:$,attributes:{},index:null}}function h($,z,V,q){const G=o.attributes,j=z.attributes;let H=0;const X=V.getAttributes();for(const Y in X)if(X[Y].location>=0){const Z=G[Y];let re=j[Y];if(re===void 0&&(Y==="instanceMatrix"&&$.instanceMatrix&&(re=$.instanceMatrix),Y==="instanceColor"&&$.instanceColor&&(re=$.instanceColor)),Z===void 0||Z.attribute!==re||re&&Z.data!==re.data)return!0;H++}return o.attributesNum!==H||o.index!==q}function p($,z,V,q){const G={},j=z.attributes;let H=0;const X=V.getAttributes();for(const Y in X)if(X[Y].location>=0){let Z=j[Y];Z===void 0&&(Y==="instanceMatrix"&&$.instanceMatrix&&(Z=$.instanceMatrix),Y==="instanceColor"&&$.instanceColor&&(Z=$.instanceColor));const re={};re.attribute=Z,Z&&Z.data&&(re.data=Z.data),G[Y]=re,H++}o.attributes=G,o.attributesNum=H,o.index=q}function _(){const $=o.newAttributes;for(let z=0,V=$.length;z<V;z++)$[z]=0}function x($){y($,0)}function y($,z){const V=o.newAttributes,q=o.enabledAttributes,G=o.attributeDivisors;V[$]=1,q[$]===0&&(t.enableVertexAttribArray($),q[$]=1),G[$]!==z&&(t.vertexAttribDivisor($,z),G[$]=z)}function w(){const $=o.newAttributes,z=o.enabledAttributes;for(let V=0,q=z.length;V<q;V++)z[V]!==$[V]&&(t.disableVertexAttribArray(V),z[V]=0)}function C($,z,V,q,G,j,H){H===!0?t.vertexAttribIPointer($,z,V,G,j):t.vertexAttribPointer($,z,V,q,G,j)}function M($,z,V,q){_();const G=q.attributes,j=V.getAttributes(),H=z.defaultAttributeValues;for(const X in j){const Y=j[X];if(Y.location>=0){let ee=G[X];if(ee===void 0&&(X==="instanceMatrix"&&$.instanceMatrix&&(ee=$.instanceMatrix),X==="instanceColor"&&$.instanceColor&&(ee=$.instanceColor)),ee!==void 0){const Z=ee.normalized,re=ee.itemSize,ae=e.get(ee);if(ae===void 0)continue;const ce=ae.buffer,he=ae.type,ge=ae.bytesPerElement,se=he===t.INT||he===t.UNSIGNED_INT||ee.gpuType===Ia;if(ee.isInterleavedBufferAttribute){const me=ee.data,ye=me.stride,we=ee.offset;if(me.isInstancedInterleavedBuffer){for(let Ee=0;Ee<Y.locationSize;Ee++)y(Y.location+Ee,me.meshPerAttribute);$.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let Ee=0;Ee<Y.locationSize;Ee++)x(Y.location+Ee);t.bindBuffer(t.ARRAY_BUFFER,ce);for(let Ee=0;Ee<Y.locationSize;Ee++)C(Y.location+Ee,re/Y.locationSize,he,Z,ye*ge,(we+re/Y.locationSize*Ee)*ge,se)}else{if(ee.isInstancedBufferAttribute){for(let me=0;me<Y.locationSize;me++)y(Y.location+me,ee.meshPerAttribute);$.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let me=0;me<Y.locationSize;me++)x(Y.location+me);t.bindBuffer(t.ARRAY_BUFFER,ce);for(let me=0;me<Y.locationSize;me++)C(Y.location+me,re/Y.locationSize,he,Z,re*ge,re/Y.locationSize*me*ge,se)}}else if(H!==void 0){const Z=H[X];if(Z!==void 0)switch(Z.length){case 2:t.vertexAttrib2fv(Y.location,Z);break;case 3:t.vertexAttrib3fv(Y.location,Z);break;case 4:t.vertexAttrib4fv(Y.location,Z);break;default:t.vertexAttrib1fv(Y.location,Z)}}}}w()}function R(){B();for(const $ in r){const z=r[$];for(const V in z){const q=z[V];for(const G in q)u(q[G].object),delete q[G];delete z[V]}delete r[$]}}function N($){if(r[$.id]===void 0)return;const z=r[$.id];for(const V in z){const q=z[V];for(const G in q)u(q[G].object),delete q[G];delete z[V]}delete r[$.id]}function I($){for(const z in r){const V=r[z];if(V[$.id]===void 0)continue;const q=V[$.id];for(const G in q)u(q[G].object),delete q[G];delete V[$.id]}}function B(){D(),a=!0,o!==i&&(o=i,c(o.object))}function D(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:B,resetDefaultState:D,dispose:R,releaseStatesOfGeometry:N,releaseStatesOfProgram:I,initAttributes:_,enableAttribute:x,disableUnusedAttributes:w}}function m9e(t,e,n){let r;function i(c){r=c}function o(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function a(c,u,d){d!==0&&(t.drawArraysInstanced(r,c,u,d),n.update(u,r,d))}function s(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let h=0;for(let p=0;p<d;p++)h+=u[p];n.update(h,r,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<c.length;p++)a(c[p],u[p],f[p]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let p=0;for(let _=0;_<d;_++)p+=u[_]*f[_];n.update(p,r,1)}}this.setMode=i,this.render=o,this.renderInstances=a,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function g9e(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(I){return!(I!==qo&&r.convert(I)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(I){const B=I===io&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==no&&r.convert(I)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==Ho&&!B)}function l(I){if(I==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(Vt("WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_TEXTURE_SIZE),x=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),C=t.getParameter(t.MAX_VARYING_VECTORS),M=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),R=t.getParameter(t.MAX_SAMPLES),N=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:s,precision:c,logarithmicDepthBuffer:d,reversedDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:_,maxCubemapSize:x,maxAttributes:y,maxVertexUniforms:w,maxVaryings:C,maxFragmentUniforms:M,maxSamples:R,samples:N}}function A9e(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new zd,s=new Or,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||r!==0||i;return i=f,r=d.length,h},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,h){const p=d.clippingPlanes,_=d.clipIntersection,x=d.clipShadows,y=t.get(d);if(!i||p===null||p.length===0||o&&!x)o?u(null):c();else{const w=o?0:r,C=w*4;let M=y.clippingState||null;l.value=M,M=u(p,f,C,h);for(let R=0;R!==C;++R)M[R]=n[R];y.clippingState=M,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,p){const _=d!==null?d.length:0;let x=null;if(_!==0){if(x=l.value,p!==!0||x===null){const y=h+_*4,w=f.matrixWorldInverse;s.getNormalMatrix(w),(x===null||x.length<y)&&(x=new Float32Array(y));for(let C=0,M=h;C!==_;++C,M+=4)a.copy(d[C]).applyMatrix4(w,s),a.normal.toArray(x,M),x[M+3]=a.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,x}}function v9e(t){let e=new WeakMap;function n(a,s){return s===sy?a.mapping=od:s===ly&&(a.mapping=pf),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===sy||s===ly)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new v7(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}const Pp=4,pq=[.125,.215,.35,.446,.526,.582],m0=20,y9e=256,Rb=new M1,mq=new Vn;let _O=null,SO=0,wO=0,CO=!1;const b9e=new Te;let gq=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,o={}){const{size:a=256,position:s=b9e}=o;_O=this._renderer.getRenderTarget(),SO=this._renderer.getActiveCubeFace(),wO=this._renderer.getActiveMipmapLevel(),CO=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,s),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=yq(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=vq(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(_O,SO,wO),this._renderer.xr.enabled=CO,e.scissorTest=!1,xA(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===od||e.mapping===pf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_O=this._renderer.getRenderTarget(),SO=this._renderer.getActiveCubeFace(),wO=this._renderer.getActiveMipmapLevel(),CO=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Ji,minFilter:Ji,generateMipmaps:!1,type:io,format:qo,colorSpace:im,depthBuffer:!1},i=Aq(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Aq(e,n,r);const{_lodMax:o}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=x9e(o)),this._blurMaterial=S9e(o,e,n),this._ggxMaterial=_9e(o,e,n)}return i}_compileMaterial(e){const n=new Ai(new bi,e);this._renderer.compile(n,Rb)}_sceneToCubeUV(e,n,r,i,o){const l=new Oa(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,h=d.toneMapping;d.getClearColor(mq),d.toneMapping=Ja,d.autoClear=!1,d.state.buffers.depth.getReversed()&&(d.setRenderTarget(i),d.clearDepth(),d.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Ai(new bm,new jc({name:"PMREM.Background",side:Oi,depthWrite:!1,depthTest:!1})));const _=this._backgroundBox,x=_.material;let y=!1;const w=e.background;w?w.isColor&&(x.color.copy(w),e.background=null,y=!0):(x.color.copy(mq),y=!0);for(let C=0;C<6;C++){const M=C%3;M===0?(l.up.set(0,c[C],0),l.position.set(o.x,o.y,o.z),l.lookAt(o.x+u[C],o.y,o.z)):M===1?(l.up.set(0,0,c[C]),l.position.set(o.x,o.y,o.z),l.lookAt(o.x,o.y+u[C],o.z)):(l.up.set(0,c[C],0),l.position.set(o.x,o.y,o.z),l.lookAt(o.x,o.y,o.z+u[C]));const R=this._cubeSize;xA(i,M*R,C>2?R:0,R,R),d.setRenderTarget(i),y&&d.render(_,l),d.render(e,l)}d.toneMapping=h,d.autoClear=f,e.background=w}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===od||e.mapping===pf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=yq()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=vq());const o=i?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=o;const s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;xA(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,Rb)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let o=1;o<i;o++)this._applyGGXFilter(e,o-1,o);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,o=this._pingPongRenderTarget,a=this._ggxMaterial,s=this._lodMeshes[r];s.material=a;const l=a.uniforms,c=r/(this._lodMeshes.length-1),u=n/(this._lodMeshes.length-1),d=Math.sqrt(c*c-u*u),f=0+c*1.25,h=d*f,{_lodMax:p}=this,_=this._sizeLods[r],x=3*_*(r>p-Pp?r-p+Pp:0),y=4*(this._cubeSize-_);l.envMap.value=e.texture,l.roughness.value=h,l.mipInt.value=p-n,xA(o,x,y,3*_,2*_),i.setRenderTarget(o),i.render(s,Rb),l.envMap.value=o.texture,l.roughness.value=0,l.mipInt.value=p-r,xA(e,x,y,3*_,2*_),i.setRenderTarget(e),i.render(s,Rb)}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&Kt("blur direction must be either latitudinal or longitudinal!");const u=3,d=this._lodMeshes[i];d.material=c;const f=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*m0-1),_=o/p,x=isFinite(o)?1+Math.floor(u*_):m0;x>m0&&Vt(`sigmaRadians, ${o}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${m0}`);const y=[];let w=0;for(let I=0;I<m0;++I){const B=I/_,D=Math.exp(-B*B/2);y.push(D),I===0?w+=D:I<x&&(w+=2*D)}for(let I=0;I<y.length;I++)y[I]=y[I]/w;f.envMap.value=e.texture,f.samples.value=x,f.weights.value=y,f.latitudinal.value=a==="latitudinal",s&&(f.poleAxis.value=s);const{_lodMax:C}=this;f.dTheta.value=p,f.mipInt.value=C-r;const M=this._sizeLods[i],R=3*M*(i>C-Pp?i-C+Pp:0),N=4*(this._cubeSize-M);xA(n,R,N,3*M,2*M),l.setRenderTarget(n),l.render(d,Rb)}};function x9e(t){const e=[],n=[],r=[];let i=t;const o=t-Pp+1+pq.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);e.push(s);let l=1/s;a>t-Pp?l=pq[a-t+Pp-1]:a===0&&(l=0),n.push(l);const c=1/(s-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,_=3,x=2,y=1,w=new Float32Array(_*p*h),C=new Float32Array(x*p*h),M=new Float32Array(y*p*h);for(let N=0;N<h;N++){const I=N%3*2/3-1,B=N>2?0:-1,D=[I,B,0,I+2/3,B,0,I+2/3,B+1,0,I,B,0,I+2/3,B+1,0,I,B+1,0];w.set(D,_*p*N),C.set(f,x*p*N);const $=[N,N,N,N,N,N];M.set($,y*p*N)}const R=new bi;R.setAttribute("position",new So(w,_)),R.setAttribute("uv",new So(C,x)),R.setAttribute("faceIndex",new So(M,y)),r.push(new Ai(R,null)),i>Pp&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function Aq(t,e,n){const r=new ed(t,e,n);return r.texture.mapping=ag,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function xA(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function _9e(t,e,n){return new Os({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:y9e,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:BR(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:nl,depthTest:!1,depthWrite:!1})}function S9e(t,e,n){const r=new Float32Array(m0),i=new Te(0,1,0);return new Os({name:"SphericalGaussianBlur",defines:{n:m0,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:BR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:nl,depthTest:!1,depthWrite:!1})}function vq(){return new Os({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:BR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:nl,depthTest:!1,depthWrite:!1})}function yq(){return new Os({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:BR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:nl,depthTest:!1,depthWrite:!1})}function BR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function w9e(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===sy||l===ly,u=l===od||l===pf;if(c||u){let d=e.get(s);const f=d!==void 0?d.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==f)return n===null&&(n=new gq(t)),d=c?n.fromEquirectangular(s,d):n.fromCubemap(s,d),d.texture.pmremVersion=s.pmremVersion,e.set(s,d),d.texture;if(d!==void 0)return d.texture;{const h=s.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new gq(t)),d=c?n.fromEquirectangular(s):n.fromCubemap(s),d.texture.pmremVersion=s.pmremVersion,e.set(s,d),s.addEventListener("dispose",o),d.texture):null}}}return s}function i(s){let l=0;const c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function C9e(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&$i("WebGLRenderer: "+r+" extension not supported."),i}}}function T9e(t,e,n,r){const i={},o=new WeakMap;function a(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);f.removeEventListener("dispose",a),delete i[f.id];const h=o.get(f);h&&(e.remove(h),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function s(d,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const h in f)e.update(f[h],t.ARRAY_BUFFER)}function c(d){const f=[],h=d.index,p=d.attributes.position;let _=0;if(h!==null){const w=h.array;_=h.version;for(let C=0,M=w.length;C<M;C+=3){const R=w[C+0],N=w[C+1],I=w[C+2];f.push(R,N,N,I,I,R)}}else if(p!==void 0){const w=p.array;_=p.version;for(let C=0,M=w.length/3-1;C<M;C+=3){const R=C+0,N=C+1,I=C+2;f.push(R,N,N,I,I,R)}}else return;const x=new(d7(f)?A7:g7)(f,1);x.version=_;const y=o.get(d);y&&e.remove(y),o.set(d,x)}function u(d){const f=o.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return o.get(d)}return{get:s,update:l,getWireframeAttribute:u}}function E9e(t,e,n){let r;function i(f){r=f}let o,a;function s(f){o=f.type,a=f.bytesPerElement}function l(f,h){t.drawElements(r,h,o,f*a),n.update(h,r,1)}function c(f,h,p){p!==0&&(t.drawElementsInstanced(r,h,o,f*a,p),n.update(h,r,p))}function u(f,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,o,f,0,p);let x=0;for(let y=0;y<p;y++)x+=h[y];n.update(x,r,1)}function d(f,h,p,_){if(p===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let y=0;y<f.length;y++)c(f[y]/a,h[y],_[y]);else{x.multiDrawElementsInstancedWEBGL(r,h,0,o,f,0,_,0,p);let y=0;for(let w=0;w<p;w++)y+=h[w]*_[w];n.update(y,r,1)}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function M9e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:Kt("WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function P9e(t,e,n){const r=new WeakMap,i=new yr;function o(a,s,l){const c=a.morphTargetInfluences,u=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(s);if(f===void 0||f.count!==d){let $=function(){B.dispose(),r.delete(s),s.removeEventListener("dispose",$)};var h=$;f!==void 0&&f.texture.dispose();const p=s.morphAttributes.position!==void 0,_=s.morphAttributes.normal!==void 0,x=s.morphAttributes.color!==void 0,y=s.morphAttributes.position||[],w=s.morphAttributes.normal||[],C=s.morphAttributes.color||[];let M=0;p===!0&&(M=1),_===!0&&(M=2),x===!0&&(M=3);let R=s.attributes.position.count*M,N=1;R>e.maxTextureSize&&(N=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const I=new Float32Array(R*N*4*d),B=new p7(I,R,N,d);B.type=Ho,B.needsUpdate=!0;const D=M*4;for(let z=0;z<d;z++){const V=y[z],q=w[z],G=C[z],j=R*N*4*z;for(let H=0;H<V.count;H++){const X=H*D;p===!0&&(i.fromBufferAttribute(V,H),I[j+X+0]=i.x,I[j+X+1]=i.y,I[j+X+2]=i.z,I[j+X+3]=0),_===!0&&(i.fromBufferAttribute(q,H),I[j+X+4]=i.x,I[j+X+5]=i.y,I[j+X+6]=i.z,I[j+X+7]=0),x===!0&&(i.fromBufferAttribute(G,H),I[j+X+8]=i.x,I[j+X+9]=i.y,I[j+X+10]=i.z,I[j+X+11]=G.itemSize===4?i.w:1)}}f={count:d,texture:B,size:new Wt(R,N)},r.set(s,f),s.addEventListener("dispose",$)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let p=0;for(let x=0;x<c.length;x++)p+=c[x];const _=s.morphTargetsRelative?1:1-p;l.getUniforms().setValue(t,"morphTargetBaseInfluence",_),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:o}}function R9e(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function a(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}const N9e={[Q$]:"LINEAR_TONE_MAPPING",[Z$]:"REINHARD_TONE_MAPPING",[J$]:"CINEON_TONE_MAPPING",[e7]:"ACES_FILMIC_TONE_MAPPING",[t7]:"AGX_TONE_MAPPING",[n7]:"NEUTRAL_TONE_MAPPING",[aae]:"CUSTOM_TONE_MAPPING"};function I9e(t,e,n,r,i){const o=new ed(e,n,{type:t,depthBuffer:r,stencilBuffer:i}),a=new ed(e,n,{type:io,depthBuffer:!1,stencilBuffer:!1}),s=new bi;s.setAttribute("position",new li([-1,3,0,-1,-1,0,3,-1,0],3)),s.setAttribute("uv",new li([0,2,0,0,2,0],2));const l=new a$e({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),c=new Ai(s,l),u=new M1(-1,1,1,-1,0,1);let d=null,f=null,h=!1,p,_=null,x=[],y=!1;this.setSize=function(w,C){o.setSize(w,C),a.setSize(w,C);for(let M=0;M<x.length;M++){const R=x[M];R.setSize&&R.setSize(w,C)}},this.setEffects=function(w){x=w,y=x.length>0&&x[0].isRenderPass===!0;const C=o.width,M=o.height;for(let R=0;R<x.length;R++){const N=x[R];N.setSize&&N.setSize(C,M)}},this.begin=function(w,C){if(h||w.toneMapping===Ja&&x.length===0)return!1;if(_=C,C!==null){const M=C.width,R=C.height;(o.width!==M||o.height!==R)&&this.setSize(M,R)}return y===!1&&w.setRenderTarget(o),p=w.toneMapping,w.toneMapping=Ja,!0},this.hasRenderPass=function(){return y},this.end=function(w,C){w.toneMapping=p,h=!0;let M=o,R=a;for(let N=0;N<x.length;N++){const I=x[N];if(I.enabled!==!1&&(I.render(w,R,M,C),I.needsSwap!==!1)){const B=M;M=R,R=B}}if(d!==w.outputColorSpace||f!==w.toneMapping){d=w.outputColorSpace,f=w.toneMapping,l.defines={},fr.getTransfer(d)===In&&(l.defines.SRGB_TRANSFER="");const N=N9e[f];N&&(l.defines[N]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=M.texture,w.setRenderTarget(_),w.render(c,u),_=null,h=!1},this.isCompositing=function(){return h},this.dispose=function(){o.dispose(),a.dispose(),s.dispose(),l.dispose()}}const Dae=new la,M8=new Ms(1,1),Lae=new p7,Bae=new oFe,Fae=new yS,bq=[],xq=[],_q=new Float32Array(16),Sq=new Float32Array(9),wq=new Float32Array(4);function P1(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=bq[i];if(o===void 0&&(o=new Float32Array(i),bq[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function ya(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ba(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function FR(t,e){let n=xq[e];n===void 0&&(n=new Int32Array(e),xq[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function O9e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function D9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ya(n,e))return;t.uniform2fv(this.addr,e),ba(n,e)}}function L9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ya(n,e))return;t.uniform3fv(this.addr,e),ba(n,e)}}function B9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ya(n,e))return;t.uniform4fv(this.addr,e),ba(n,e)}}function F9e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ya(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ba(n,e)}else{if(ya(n,r))return;wq.set(r),t.uniformMatrix2fv(this.addr,!1,wq),ba(n,r)}}function $9e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ya(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ba(n,e)}else{if(ya(n,r))return;Sq.set(r),t.uniformMatrix3fv(this.addr,!1,Sq),ba(n,r)}}function k9e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ya(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ba(n,e)}else{if(ya(n,r))return;_q.set(r),t.uniformMatrix4fv(this.addr,!1,_q),ba(n,r)}}function U9e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function z9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ya(n,e))return;t.uniform2iv(this.addr,e),ba(n,e)}}function V9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ya(n,e))return;t.uniform3iv(this.addr,e),ba(n,e)}}function G9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ya(n,e))return;t.uniform4iv(this.addr,e),ba(n,e)}}function H9e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function j9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ya(n,e))return;t.uniform2uiv(this.addr,e),ba(n,e)}}function q9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ya(n,e))return;t.uniform3uiv(this.addr,e),ba(n,e)}}function W9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ya(n,e))return;t.uniform4uiv(this.addr,e),ba(n,e)}}function X9e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(M8.compareFunction=n.isReversedDepthBuffer()?gS:mS,o=M8):o=Dae,n.setTexture2D(e||o,i)}function Y9e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Bae,i)}function K9e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Fae,i)}function Q9e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Lae,i)}function Z9e(t){switch(t){case 5126:return O9e;case 35664:return D9e;case 35665:return L9e;case 35666:return B9e;case 35674:return F9e;case 35675:return $9e;case 35676:return k9e;case 5124:case 35670:return U9e;case 35667:case 35671:return z9e;case 35668:case 35672:return V9e;case 35669:case 35673:return G9e;case 5125:return H9e;case 36294:return j9e;case 36295:return q9e;case 36296:return W9e;case 35678:case 36198:case 36298:case 36306:case 35682:return X9e;case 35679:case 36299:case 36307:return Y9e;case 35680:case 36300:case 36308:case 36293:return K9e;case 36289:case 36303:case 36311:case 36292:return Q9e}}function J9e(t,e){t.uniform1fv(this.addr,e)}function eUe(t,e){const n=P1(e,this.size,2);t.uniform2fv(this.addr,n)}function tUe(t,e){const n=P1(e,this.size,3);t.uniform3fv(this.addr,n)}function nUe(t,e){const n=P1(e,this.size,4);t.uniform4fv(this.addr,n)}function rUe(t,e){const n=P1(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function iUe(t,e){const n=P1(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function oUe(t,e){const n=P1(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function aUe(t,e){t.uniform1iv(this.addr,e)}function sUe(t,e){t.uniform2iv(this.addr,e)}function lUe(t,e){t.uniform3iv(this.addr,e)}function cUe(t,e){t.uniform4iv(this.addr,e)}function uUe(t,e){t.uniform1uiv(this.addr,e)}function dUe(t,e){t.uniform2uiv(this.addr,e)}function fUe(t,e){t.uniform3uiv(this.addr,e)}function hUe(t,e){t.uniform4uiv(this.addr,e)}function pUe(t,e,n){const r=this.cache,i=e.length,o=FR(n,i);ya(r,o)||(t.uniform1iv(this.addr,o),ba(r,o));let a;this.type===t.SAMPLER_2D_SHADOW?a=M8:a=Dae;for(let s=0;s!==i;++s)n.setTexture2D(e[s]||a,o[s])}function mUe(t,e,n){const r=this.cache,i=e.length,o=FR(n,i);ya(r,o)||(t.uniform1iv(this.addr,o),ba(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||Bae,o[a])}function gUe(t,e,n){const r=this.cache,i=e.length,o=FR(n,i);ya(r,o)||(t.uniform1iv(this.addr,o),ba(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||Fae,o[a])}function AUe(t,e,n){const r=this.cache,i=e.length,o=FR(n,i);ya(r,o)||(t.uniform1iv(this.addr,o),ba(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||Lae,o[a])}function vUe(t){switch(t){case 5126:return J9e;case 35664:return eUe;case 35665:return tUe;case 35666:return nUe;case 35674:return rUe;case 35675:return iUe;case 35676:return oUe;case 5124:case 35670:return aUe;case 35667:case 35671:return sUe;case 35668:case 35672:return lUe;case 35669:case 35673:return cUe;case 5125:return uUe;case 36294:return dUe;case 36295:return fUe;case 36296:return hUe;case 35678:case 36198:case 36298:case 36306:case 35682:return pUe;case 35679:case 36299:case 36307:return mUe;case 35680:case 36300:case 36308:case 36293:return gUe;case 36289:case 36303:case 36311:case 36292:return AUe}}class yUe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Z9e(n.type)}}class bUe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=vUe(n.type)}}class xUe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const TO=/(\w+)(\])?(\[|\.)?/g;function Cq(t,e){t.seq.push(e),t.map[e.id]=e}function _Ue(t,e,n){const r=t.name,i=r.length;for(TO.lastIndex=0;;){const o=TO.exec(r),a=TO.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===i){Cq(n,c===void 0?new yUe(s,t,e):new bUe(s,t,e));break}else{let d=n.map[s];d===void 0&&(d=new xUe(s),Cq(n,d)),n=d}}}class CE{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const s=e.getActiveUniform(n,a),l=e.getUniformLocation(n,s.name);_Ue(s,l,this)}const i=[],o=[];for(const a of this.seq)a.type===e.SAMPLER_2D_SHADOW||a.type===e.SAMPLER_CUBE_SHADOW||a.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(a):o.push(a);i.length>0&&(this.seq=i.concat(o))}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function Tq(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const SUe=37297;let wUe=0;function CUe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}const Eq=new Or;function TUe(t){fr._getMatrix(Eq,fr.workingColorSpace,t);const e=`mat3( ${Eq.elements.map(n=>n.toFixed(4))} )`;switch(fr.getTransfer(t)){case Oy:return[e,"LinearTransferOETF"];case In:return[e,"sRGBTransferOETF"];default:return Vt("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function Mq(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),o=(t.getShaderInfoLog(e)||"").trim();if(r&&o==="")return"";const a=/ERROR: 0:(\d+)/.exec(o);if(a){const s=parseInt(a[1]);return n.toUpperCase()+`

`+o+`

`+CUe(t.getShaderSource(e),s)}else return o}function EUe(t,e){const n=TUe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const MUe={[Q$]:"Linear",[Z$]:"Reinhard",[J$]:"Cineon",[e7]:"ACESFilmic",[t7]:"AgX",[n7]:"Neutral",[aae]:"Custom"};function PUe(t,e){const n=MUe[e];return n===void 0?(Vt("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const HC=new Te;function RUe(){fr.getLuminanceCoefficients(HC);const t=HC.x.toFixed(4),e=HC.y.toFixed(4),n=HC.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function NUe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ax).join(`
`)}function IUe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function OUe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function Ax(t){return t!==""}function Pq(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Rq(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const DUe=/^[ \t]*#include +<([\w\d./]+)>/gm;function P8(t){return t.replace(DUe,BUe)}const LUe=new Map;function BUe(t,e){let n=Fr[e];if(n===void 0){const r=LUe.get(e);if(r!==void 0)n=Fr[r],Vt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return P8(n)}const FUe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Nq(t){return t.replace(FUe,$Ue)}function $Ue(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Iq(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const kUe={[Hx]:"SHADOWMAP_TYPE_PCF",[Wf]:"SHADOWMAP_TYPE_VSM"};function UUe(t){return kUe[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const zUe={[od]:"ENVMAP_TYPE_CUBE",[pf]:"ENVMAP_TYPE_CUBE",[ag]:"ENVMAP_TYPE_CUBE_UV"};function VUe(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":zUe[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const GUe={[pf]:"ENVMAP_MODE_REFRACTION"};function HUe(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":GUe[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const jUe={[dS]:"ENVMAP_BLENDING_MULTIPLY",[iae]:"ENVMAP_BLENDING_MIX",[oae]:"ENVMAP_BLENDING_ADD"};function qUe(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":jUe[t.combine]||"ENVMAP_BLENDING_NONE"}function WUe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function XUe(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=UUe(n),c=VUe(n),u=HUe(n),d=qUe(n),f=WUe(n),h=NUe(n),p=IUe(o),_=i.createProgram();let x,y,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Ax).join(`
`),x.length>0&&(x+=`
`),y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Ax).join(`
`),y.length>0&&(y+=`
`)):(x=[Iq(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ax).join(`
`),y=[Iq(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ja?"#define TONE_MAPPING":"",n.toneMapping!==Ja?Fr.tonemapping_pars_fragment:"",n.toneMapping!==Ja?PUe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Fr.colorspace_pars_fragment,EUe("linearToOutputTexel",n.outputColorSpace),RUe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ax).join(`
`)),a=P8(a),a=Pq(a,n),a=Rq(a,n),s=P8(s),s=Pq(s,n),s=Rq(s,n),a=Nq(a),s=Nq(s),n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,x=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,y=["#define varying in",n.glslVersion===Ij?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Ij?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const C=w+x+a,M=w+y+s,R=Tq(i,i.VERTEX_SHADER,C),N=Tq(i,i.FRAGMENT_SHADER,M);i.attachShader(_,R),i.attachShader(_,N),n.index0AttributeName!==void 0?i.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_);function I(z){if(t.debug.checkShaderErrors){const V=i.getProgramInfoLog(_)||"",q=i.getShaderInfoLog(R)||"",G=i.getShaderInfoLog(N)||"",j=V.trim(),H=q.trim(),X=G.trim();let Y=!0,ee=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(Y=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,_,R,N);else{const Z=Mq(i,R,"vertex"),re=Mq(i,N,"fragment");Kt("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Material Name: `+z.name+`
Material Type: `+z.type+`

Program Info Log: `+j+`
`+Z+`
`+re)}else j!==""?Vt("WebGLProgram: Program Info Log:",j):(H===""||X==="")&&(ee=!1);ee&&(z.diagnostics={runnable:Y,programLog:j,vertexShader:{log:H,prefix:x},fragmentShader:{log:X,prefix:y}})}i.deleteShader(R),i.deleteShader(N),B=new CE(i,_),D=OUe(i,_)}let B;this.getUniforms=function(){return B===void 0&&I(this),B};let D;this.getAttributes=function(){return D===void 0&&I(this),D};let $=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return $===!1&&($=i.getProgramParameter(_,SUe)),$},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=wUe++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=R,this.fragmentShader=N,this}let YUe=0;class KUe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new QUe(e),n.set(e,r)),r}}class QUe{constructor(e){this.id=YUe++,this.code=e,this.usedTimes=0}}function ZUe(t,e,n,r,i,o,a){const s=new m7,l=new KUe,c=new Set,u=[],d=new Map,f=i.logarithmicDepthBuffer;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(D){return c.add(D),D===0?"uv":`uv${D}`}function x(D,$,z,V,q){const G=V.fog,j=q.geometry,H=D.isMeshStandardMaterial?V.environment:null,X=(D.isMeshStandardMaterial?n:e).get(D.envMap||H),Y=X&&X.mapping===ag?X.image.height:null,ee=p[D.type];D.precision!==null&&(h=i.getMaxPrecision(D.precision),h!==D.precision&&Vt("WebGLProgram.getParameters:",D.precision,"not supported, using",h,"instead."));const Z=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,re=Z!==void 0?Z.length:0;let ae=0;j.morphAttributes.position!==void 0&&(ae=1),j.morphAttributes.normal!==void 0&&(ae=2),j.morphAttributes.color!==void 0&&(ae=3);let ce,he,ge,se;if(ee){const Cn=bl[ee];ce=Cn.vertexShader,he=Cn.fragmentShader}else ce=D.vertexShader,he=D.fragmentShader,l.update(D),ge=l.getVertexShaderID(D),se=l.getFragmentShaderID(D);const me=t.getRenderTarget(),ye=t.state.buffers.depth.getReversed(),we=q.isInstancedMesh===!0,Ee=q.isBatchedMesh===!0,Me=!!D.map,Oe=!!D.matcap,Ue=!!X,Se=!!D.aoMap,_e=!!D.lightMap,ve=!!D.bumpMap,Ge=!!D.normalMap,ue=!!D.displacementMap,at=!!D.emissiveMap,nt=!!D.metalnessMap,ct=!!D.roughnessMap,Ze=D.anisotropy>0,pe=D.clearcoat>0,te=D.dispersion>0,Ne=D.iridescence>0,qe=D.sheen>0,gt=D.transmission>0,tt=Ze&&!!D.anisotropyMap,wt=pe&&!!D.clearcoatMap,_t=pe&&!!D.clearcoatNormalMap,Et=pe&&!!D.clearcoatRoughnessMap,Tt=Ne&&!!D.iridescenceMap,ht=Ne&&!!D.iridescenceThicknessMap,Xe=qe&&!!D.sheenColorMap,pt=qe&&!!D.sheenRoughnessMap,ut=!!D.specularMap,Ke=!!D.specularColorMap,Rt=!!D.specularIntensityMap,$e=gt&&!!D.transmissionMap,$t=gt&&!!D.thicknessMap,Lt=!!D.gradientMap,tn=!!D.alphaMap,Qe=D.alphaTest>0,Pt=!!D.alphaHash,Ft=!!D.extensions;let Yt=Ja;D.toneMapped&&(me===null||me.isXRRenderTarget===!0)&&(Yt=t.toneMapping);const Rn={shaderID:ee,shaderType:D.type,shaderName:D.name,vertexShader:ce,fragmentShader:he,defines:D.defines,customVertexShaderID:ge,customFragmentShaderID:se,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:h,batching:Ee,batchingColor:Ee&&q._colorsTexture!==null,instancing:we,instancingColor:we&&q.instanceColor!==null,instancingMorph:we&&q.morphTexture!==null,outputColorSpace:me===null?t.outputColorSpace:me.isXRRenderTarget===!0?me.texture.colorSpace:im,alphaToCoverage:!!D.alphaToCoverage,map:Me,matcap:Oe,envMap:Ue,envMapMode:Ue&&X.mapping,envMapCubeUVHeight:Y,aoMap:Se,lightMap:_e,bumpMap:ve,normalMap:Ge,displacementMap:ue,emissiveMap:at,normalMapObjectSpace:Ge&&D.normalMapType===sae,normalMapTangentSpace:Ge&&D.normalMapType===Jd,metalnessMap:nt,roughnessMap:ct,anisotropy:Ze,anisotropyMap:tt,clearcoat:pe,clearcoatMap:wt,clearcoatNormalMap:_t,clearcoatRoughnessMap:Et,dispersion:te,iridescence:Ne,iridescenceMap:Tt,iridescenceThicknessMap:ht,sheen:qe,sheenColorMap:Xe,sheenRoughnessMap:pt,specularMap:ut,specularColorMap:Ke,specularIntensityMap:Rt,transmission:gt,transmissionMap:$e,thicknessMap:$t,gradientMap:Lt,opaque:D.transparent===!1&&D.blending===rl&&D.alphaToCoverage===!1,alphaMap:tn,alphaTest:Qe,alphaHash:Pt,combine:D.combine,mapUv:Me&&_(D.map.channel),aoMapUv:Se&&_(D.aoMap.channel),lightMapUv:_e&&_(D.lightMap.channel),bumpMapUv:ve&&_(D.bumpMap.channel),normalMapUv:Ge&&_(D.normalMap.channel),displacementMapUv:ue&&_(D.displacementMap.channel),emissiveMapUv:at&&_(D.emissiveMap.channel),metalnessMapUv:nt&&_(D.metalnessMap.channel),roughnessMapUv:ct&&_(D.roughnessMap.channel),anisotropyMapUv:tt&&_(D.anisotropyMap.channel),clearcoatMapUv:wt&&_(D.clearcoatMap.channel),clearcoatNormalMapUv:_t&&_(D.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Et&&_(D.clearcoatRoughnessMap.channel),iridescenceMapUv:Tt&&_(D.iridescenceMap.channel),iridescenceThicknessMapUv:ht&&_(D.iridescenceThicknessMap.channel),sheenColorMapUv:Xe&&_(D.sheenColorMap.channel),sheenRoughnessMapUv:pt&&_(D.sheenRoughnessMap.channel),specularMapUv:ut&&_(D.specularMap.channel),specularColorMapUv:Ke&&_(D.specularColorMap.channel),specularIntensityMapUv:Rt&&_(D.specularIntensityMap.channel),transmissionMapUv:$e&&_(D.transmissionMap.channel),thicknessMapUv:$t&&_(D.thicknessMap.channel),alphaMapUv:tn&&_(D.alphaMap.channel),vertexTangents:!!j.attributes.tangent&&(Ge||Ze),vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!j.attributes.color&&j.attributes.color.itemSize===4,pointsUvs:q.isPoints===!0&&!!j.attributes.uv&&(Me||tn),fog:!!G,useFog:D.fog===!0,fogExp2:!!G&&G.isFogExp2,flatShading:D.flatShading===!0&&D.wireframe===!1,sizeAttenuation:D.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:ye,skinning:q.isSkinnedMesh===!0,morphTargets:j.morphAttributes.position!==void 0,morphNormals:j.morphAttributes.normal!==void 0,morphColors:j.morphAttributes.color!==void 0,morphTargetsCount:re,morphTextureStride:ae,numDirLights:$.directional.length,numPointLights:$.point.length,numSpotLights:$.spot.length,numSpotLightMaps:$.spotLightMap.length,numRectAreaLights:$.rectArea.length,numHemiLights:$.hemi.length,numDirLightShadows:$.directionalShadowMap.length,numPointLightShadows:$.pointShadowMap.length,numSpotLightShadows:$.spotShadowMap.length,numSpotLightShadowsWithMaps:$.numSpotLightShadowsWithMaps,numLightProbes:$.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:D.dithering,shadowMapEnabled:t.shadowMap.enabled&&z.length>0,shadowMapType:t.shadowMap.type,toneMapping:Yt,decodeVideoTexture:Me&&D.map.isVideoTexture===!0&&fr.getTransfer(D.map.colorSpace)===In,decodeVideoTextureEmissive:at&&D.emissiveMap.isVideoTexture===!0&&fr.getTransfer(D.emissiveMap.colorSpace)===In,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===Ko,flipSided:D.side===Oi,useDepthPacking:D.depthPacking>=0,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionClipCullDistance:Ft&&D.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ft&&D.extensions.multiDraw===!0||Ee)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:D.customProgramCacheKey()};return Rn.vertexUv1s=c.has(1),Rn.vertexUv2s=c.has(2),Rn.vertexUv3s=c.has(3),c.clear(),Rn}function y(D){const $=[];if(D.shaderID?$.push(D.shaderID):($.push(D.customVertexShaderID),$.push(D.customFragmentShaderID)),D.defines!==void 0)for(const z in D.defines)$.push(z),$.push(D.defines[z]);return D.isRawShaderMaterial===!1&&(w($,D),C($,D),$.push(t.outputColorSpace)),$.push(D.customProgramCacheKey),$.join()}function w(D,$){D.push($.precision),D.push($.outputColorSpace),D.push($.envMapMode),D.push($.envMapCubeUVHeight),D.push($.mapUv),D.push($.alphaMapUv),D.push($.lightMapUv),D.push($.aoMapUv),D.push($.bumpMapUv),D.push($.normalMapUv),D.push($.displacementMapUv),D.push($.emissiveMapUv),D.push($.metalnessMapUv),D.push($.roughnessMapUv),D.push($.anisotropyMapUv),D.push($.clearcoatMapUv),D.push($.clearcoatNormalMapUv),D.push($.clearcoatRoughnessMapUv),D.push($.iridescenceMapUv),D.push($.iridescenceThicknessMapUv),D.push($.sheenColorMapUv),D.push($.sheenRoughnessMapUv),D.push($.specularMapUv),D.push($.specularColorMapUv),D.push($.specularIntensityMapUv),D.push($.transmissionMapUv),D.push($.thicknessMapUv),D.push($.combine),D.push($.fogExp2),D.push($.sizeAttenuation),D.push($.morphTargetsCount),D.push($.morphAttributeCount),D.push($.numDirLights),D.push($.numPointLights),D.push($.numSpotLights),D.push($.numSpotLightMaps),D.push($.numHemiLights),D.push($.numRectAreaLights),D.push($.numDirLightShadows),D.push($.numPointLightShadows),D.push($.numSpotLightShadows),D.push($.numSpotLightShadowsWithMaps),D.push($.numLightProbes),D.push($.shadowMapType),D.push($.toneMapping),D.push($.numClippingPlanes),D.push($.numClipIntersection),D.push($.depthPacking)}function C(D,$){s.disableAll(),$.instancing&&s.enable(0),$.instancingColor&&s.enable(1),$.instancingMorph&&s.enable(2),$.matcap&&s.enable(3),$.envMap&&s.enable(4),$.normalMapObjectSpace&&s.enable(5),$.normalMapTangentSpace&&s.enable(6),$.clearcoat&&s.enable(7),$.iridescence&&s.enable(8),$.alphaTest&&s.enable(9),$.vertexColors&&s.enable(10),$.vertexAlphas&&s.enable(11),$.vertexUv1s&&s.enable(12),$.vertexUv2s&&s.enable(13),$.vertexUv3s&&s.enable(14),$.vertexTangents&&s.enable(15),$.anisotropy&&s.enable(16),$.alphaHash&&s.enable(17),$.batching&&s.enable(18),$.dispersion&&s.enable(19),$.batchingColor&&s.enable(20),$.gradientMap&&s.enable(21),D.push(s.mask),s.disableAll(),$.fog&&s.enable(0),$.useFog&&s.enable(1),$.flatShading&&s.enable(2),$.logarithmicDepthBuffer&&s.enable(3),$.reversedDepthBuffer&&s.enable(4),$.skinning&&s.enable(5),$.morphTargets&&s.enable(6),$.morphNormals&&s.enable(7),$.morphColors&&s.enable(8),$.premultipliedAlpha&&s.enable(9),$.shadowMapEnabled&&s.enable(10),$.doubleSided&&s.enable(11),$.flipSided&&s.enable(12),$.useDepthPacking&&s.enable(13),$.dithering&&s.enable(14),$.transmission&&s.enable(15),$.sheen&&s.enable(16),$.opaque&&s.enable(17),$.pointsUvs&&s.enable(18),$.decodeVideoTexture&&s.enable(19),$.decodeVideoTextureEmissive&&s.enable(20),$.alphaToCoverage&&s.enable(21),D.push(s.mask)}function M(D){const $=p[D.type];let z;if($){const V=bl[$];z=RR.clone(V.uniforms)}else z=D.uniforms;return z}function R(D,$){let z=d.get($);return z!==void 0?++z.usedTimes:(z=new XUe(t,$,D,o),u.push(z),d.set($,z)),z}function N(D){if(--D.usedTimes===0){const $=u.indexOf(D);u[$]=u[u.length-1],u.pop(),d.delete(D.cacheKey),D.destroy()}}function I(D){l.remove(D)}function B(){l.dispose()}return{getParameters:x,getProgramCacheKey:y,getUniforms:M,acquireProgram:R,releaseProgram:N,releaseShaderCache:I,programs:u,dispose:B}}function JUe(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let s=t.get(a);return s===void 0&&(s={},t.set(a,s)),s}function r(a){t.delete(a)}function i(a,s,l){t.get(a)[s]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function eze(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Oq(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Dq(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(d,f,h,p,_,x){let y=t[e];return y===void 0?(y={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:_,group:x},t[e]=y):(y.id=d.id,y.object=d,y.geometry=f,y.material=h,y.groupOrder=p,y.renderOrder=d.renderOrder,y.z=_,y.group=x),e++,y}function s(d,f,h,p,_,x){const y=a(d,f,h,p,_,x);h.transmission>0?r.push(y):h.transparent===!0?i.push(y):n.push(y)}function l(d,f,h,p,_,x){const y=a(d,f,h,p,_,x);h.transmission>0?r.unshift(y):h.transparent===!0?i.unshift(y):n.unshift(y)}function c(d,f){n.length>1&&n.sort(d||eze),r.length>1&&r.sort(f||Oq),i.length>1&&i.sort(f||Oq)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:u,sort:c}}function tze(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new Dq,t.set(r,[a])):i>=o.length?(a=new Dq,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function nze(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Te,color:new Vn};break;case"SpotLight":n={position:new Te,direction:new Te,color:new Vn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Te,color:new Vn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Te,skyColor:new Vn,groundColor:new Vn};break;case"RectAreaLight":n={color:new Vn,position:new Te,halfWidth:new Te,halfHeight:new Te};break}return t[e.id]=n,n}}}function rze(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let ize=0;function oze(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function aze(t){const e=new nze,n=rze(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Te);const i=new Te,o=new wr,a=new wr;function s(c){let u=0,d=0,f=0;for(let D=0;D<9;D++)r.probe[D].set(0,0,0);let h=0,p=0,_=0,x=0,y=0,w=0,C=0,M=0,R=0,N=0,I=0;c.sort(oze);for(let D=0,$=c.length;D<$;D++){const z=c[D],V=z.color,q=z.intensity,G=z.distance;let j=null;if(z.shadow&&z.shadow.map&&(z.shadow.map.texture.format===Qs?j=z.shadow.map.texture:j=z.shadow.map.depthTexture||z.shadow.map.texture),z.isAmbientLight)u+=V.r*q,d+=V.g*q,f+=V.b*q;else if(z.isLightProbe){for(let H=0;H<9;H++)r.probe[H].addScaledVector(z.sh.coefficients[H],q);I++}else if(z.isDirectionalLight){const H=e.get(z);if(H.color.copy(z.color).multiplyScalar(z.intensity),z.castShadow){const X=z.shadow,Y=n.get(z);Y.shadowIntensity=X.intensity,Y.shadowBias=X.bias,Y.shadowNormalBias=X.normalBias,Y.shadowRadius=X.radius,Y.shadowMapSize=X.mapSize,r.directionalShadow[h]=Y,r.directionalShadowMap[h]=j,r.directionalShadowMatrix[h]=z.shadow.matrix,w++}r.directional[h]=H,h++}else if(z.isSpotLight){const H=e.get(z);H.position.setFromMatrixPosition(z.matrixWorld),H.color.copy(V).multiplyScalar(q),H.distance=G,H.coneCos=Math.cos(z.angle),H.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),H.decay=z.decay,r.spot[_]=H;const X=z.shadow;if(z.map&&(r.spotLightMap[R]=z.map,R++,X.updateMatrices(z),z.castShadow&&N++),r.spotLightMatrix[_]=X.matrix,z.castShadow){const Y=n.get(z);Y.shadowIntensity=X.intensity,Y.shadowBias=X.bias,Y.shadowNormalBias=X.normalBias,Y.shadowRadius=X.radius,Y.shadowMapSize=X.mapSize,r.spotShadow[_]=Y,r.spotShadowMap[_]=j,M++}_++}else if(z.isRectAreaLight){const H=e.get(z);H.color.copy(V).multiplyScalar(q),H.halfWidth.set(z.width*.5,0,0),H.halfHeight.set(0,z.height*.5,0),r.rectArea[x]=H,x++}else if(z.isPointLight){const H=e.get(z);if(H.color.copy(z.color).multiplyScalar(z.intensity),H.distance=z.distance,H.decay=z.decay,z.castShadow){const X=z.shadow,Y=n.get(z);Y.shadowIntensity=X.intensity,Y.shadowBias=X.bias,Y.shadowNormalBias=X.normalBias,Y.shadowRadius=X.radius,Y.shadowMapSize=X.mapSize,Y.shadowCameraNear=X.camera.near,Y.shadowCameraFar=X.camera.far,r.pointShadow[p]=Y,r.pointShadowMap[p]=j,r.pointShadowMatrix[p]=z.shadow.matrix,C++}r.point[p]=H,p++}else if(z.isHemisphereLight){const H=e.get(z);H.skyColor.copy(z.color).multiplyScalar(q),H.groundColor.copy(z.groundColor).multiplyScalar(q),r.hemi[y]=H,y++}}x>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=En.LTC_FLOAT_1,r.rectAreaLTC2=En.LTC_FLOAT_2):(r.rectAreaLTC1=En.LTC_HALF_1,r.rectAreaLTC2=En.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=f;const B=r.hash;(B.directionalLength!==h||B.pointLength!==p||B.spotLength!==_||B.rectAreaLength!==x||B.hemiLength!==y||B.numDirectionalShadows!==w||B.numPointShadows!==C||B.numSpotShadows!==M||B.numSpotMaps!==R||B.numLightProbes!==I)&&(r.directional.length=h,r.spot.length=_,r.rectArea.length=x,r.point.length=p,r.hemi.length=y,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=M+R-N,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=N,r.numLightProbes=I,B.directionalLength=h,B.pointLength=p,B.spotLength=_,B.rectAreaLength=x,B.hemiLength=y,B.numDirectionalShadows=w,B.numPointShadows=C,B.numSpotShadows=M,B.numSpotMaps=R,B.numLightProbes=I,r.version=ize++)}function l(c,u){let d=0,f=0,h=0,p=0,_=0;const x=u.matrixWorldInverse;for(let y=0,w=c.length;y<w;y++){const C=c[y];if(C.isDirectionalLight){const M=r.directional[d];M.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(x),d++}else if(C.isSpotLight){const M=r.spot[h];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(x),M.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(x),h++}else if(C.isRectAreaLight){const M=r.rectArea[p];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(x),a.identity(),o.copy(C.matrixWorld),o.premultiply(x),a.extractRotation(o),M.halfWidth.set(C.width*.5,0,0),M.halfHeight.set(0,C.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),p++}else if(C.isPointLight){const M=r.point[f];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(x),f++}else if(C.isHemisphereLight){const M=r.hemi[_];M.direction.setFromMatrixPosition(C.matrixWorld),M.direction.transformDirection(x),_++}}}return{setup:s,setupView:l,state:r}}function Lq(t){const e=new aze(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function o(u){n.push(u)}function a(u){r.push(u)}function s(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:s,setupLightsView:l,pushLight:o,pushShadow:a}}function sze(t){let e=new WeakMap;function n(i,o=0){const a=e.get(i);let s;return a===void 0?(s=new Lq(t),e.set(i,[s])):o>=a.length?(s=new Lq(t),a.push(s)):s=a[o],s}function r(){e=new WeakMap}return{get:n,dispose:r}}const lze=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,cze=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,uze=[new Te(1,0,0),new Te(-1,0,0),new Te(0,1,0),new Te(0,-1,0),new Te(0,0,1),new Te(0,0,-1)],dze=[new Te(0,-1,0),new Te(0,-1,0),new Te(0,0,1),new Te(0,0,-1),new Te(0,-1,0),new Te(0,-1,0)],Bq=new wr,Nb=new Te,EO=new Te;function fze(t,e,n){let r=new T1;const i=new Wt,o=new Wt,a=new yr,s=new u$e,l=new d$e,c={},u=n.maxTextureSize,d={[cc]:Oi,[Oi]:cc,[Ko]:Ko},f=new Os({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Wt},radius:{value:4}},vertexShader:lze,fragmentShader:cze}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new bi;p.setAttribute("position",new So(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Ai(p,f),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Hx;let y=this.type;this.render=function(N,I,B){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||N.length===0)return;N.type===hBe&&(Vt("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),N.type=Hx);const D=t.getRenderTarget(),$=t.getActiveCubeFace(),z=t.getActiveMipmapLevel(),V=t.state;V.setBlending(nl),V.buffers.depth.getReversed()===!0?V.buffers.color.setClear(0,0,0,0):V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);const q=y!==this.type;q&&I.traverse(function(G){G.material&&(Array.isArray(G.material)?G.material.forEach(j=>j.needsUpdate=!0):G.material.needsUpdate=!0)});for(let G=0,j=N.length;G<j;G++){const H=N[G],X=H.shadow;if(X===void 0){Vt("WebGLShadowMap:",H,"has no shadow.");continue}if(X.autoUpdate===!1&&X.needsUpdate===!1)continue;i.copy(X.mapSize);const Y=X.getFrameExtents();if(i.multiply(Y),o.copy(X.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/Y.x),i.x=o.x*Y.x,X.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/Y.y),i.y=o.y*Y.y,X.mapSize.y=o.y)),X.map===null||q===!0){if(X.map!==null&&(X.map.depthTexture!==null&&(X.map.depthTexture.dispose(),X.map.depthTexture=null),X.map.dispose()),this.type===Wf){if(H.isPointLight){Vt("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}X.map=new ed(i.x,i.y,{format:Qs,type:io,minFilter:Ji,magFilter:Ji,generateMipmaps:!1}),X.map.texture.name=H.name+".shadowMap",X.map.depthTexture=new Ms(i.x,i.y,Ho),X.map.depthTexture.name=H.name+".shadowMapDepth",X.map.depthTexture.format=os,X.map.depthTexture.compareFunction=null,X.map.depthTexture.minFilter=Ii,X.map.depthTexture.magFilter=Ii}else{H.isPointLight?(X.map=new v7(i.x),X.map.depthTexture=new mae(i.x,Ni)):(X.map=new ed(i.x,i.y),X.map.depthTexture=new Ms(i.x,i.y,Ni)),X.map.depthTexture.name=H.name+".shadowMap",X.map.depthTexture.format=os;const Z=t.state.buffers.depth.getReversed();this.type===Hx?(X.map.depthTexture.compareFunction=Z?gS:mS,X.map.depthTexture.minFilter=Ji,X.map.depthTexture.magFilter=Ji):(X.map.depthTexture.compareFunction=null,X.map.depthTexture.minFilter=Ii,X.map.depthTexture.magFilter=Ii)}X.camera.updateProjectionMatrix()}const ee=X.map.isWebGLCubeRenderTarget?6:1;for(let Z=0;Z<ee;Z++){if(X.map.isWebGLCubeRenderTarget)t.setRenderTarget(X.map,Z),t.clear();else{Z===0&&(t.setRenderTarget(X.map),t.clear());const re=X.getViewport(Z);a.set(o.x*re.x,o.y*re.y,o.x*re.z,o.y*re.w),V.viewport(a)}if(H.isPointLight){const re=X.camera,ae=X.matrix,ce=H.distance||re.far;ce!==re.far&&(re.far=ce,re.updateProjectionMatrix()),Nb.setFromMatrixPosition(H.matrixWorld),re.position.copy(Nb),EO.copy(re.position),EO.add(uze[Z]),re.up.copy(dze[Z]),re.lookAt(EO),re.updateMatrixWorld(),ae.makeTranslation(-Nb.x,-Nb.y,-Nb.z),Bq.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),X._frustum.setFromProjectionMatrix(Bq,re.coordinateSystem,re.reversedDepth)}else X.updateMatrices(H);r=X.getFrustum(),M(I,B,X.camera,H,this.type)}X.isPointLightShadow!==!0&&this.type===Wf&&w(X,B),X.needsUpdate=!1}y=this.type,x.needsUpdate=!1,t.setRenderTarget(D,$,z)};function w(N,I){const B=e.update(_);f.defines.VSM_SAMPLES!==N.blurSamples&&(f.defines.VSM_SAMPLES=N.blurSamples,h.defines.VSM_SAMPLES=N.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new ed(i.x,i.y,{format:Qs,type:io})),f.uniforms.shadow_pass.value=N.map.depthTexture,f.uniforms.resolution.value=N.mapSize,f.uniforms.radius.value=N.radius,t.setRenderTarget(N.mapPass),t.clear(),t.renderBufferDirect(I,null,B,f,_,null),h.uniforms.shadow_pass.value=N.mapPass.texture,h.uniforms.resolution.value=N.mapSize,h.uniforms.radius.value=N.radius,t.setRenderTarget(N.map),t.clear(),t.renderBufferDirect(I,null,B,h,_,null)}function C(N,I,B,D){let $=null;const z=B.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(z!==void 0)$=z;else if($=B.isPointLight===!0?l:s,t.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const V=$.uuid,q=I.uuid;let G=c[V];G===void 0&&(G={},c[V]=G);let j=G[q];j===void 0&&(j=$.clone(),G[q]=j,I.addEventListener("dispose",R)),$=j}if($.visible=I.visible,$.wireframe=I.wireframe,D===Wf?$.side=I.shadowSide!==null?I.shadowSide:I.side:$.side=I.shadowSide!==null?I.shadowSide:d[I.side],$.alphaMap=I.alphaMap,$.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,$.map=I.map,$.clipShadows=I.clipShadows,$.clippingPlanes=I.clippingPlanes,$.clipIntersection=I.clipIntersection,$.displacementMap=I.displacementMap,$.displacementScale=I.displacementScale,$.displacementBias=I.displacementBias,$.wireframeLinewidth=I.wireframeLinewidth,$.linewidth=I.linewidth,B.isPointLight===!0&&$.isMeshDistanceMaterial===!0){const V=t.properties.get($);V.light=B}return $}function M(N,I,B,D,$){if(N.visible===!1)return;if(N.layers.test(I.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&$===Wf)&&(!N.frustumCulled||r.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,N.matrixWorld);const q=e.update(N),G=N.material;if(Array.isArray(G)){const j=q.groups;for(let H=0,X=j.length;H<X;H++){const Y=j[H],ee=G[Y.materialIndex];if(ee&&ee.visible){const Z=C(N,ee,D,$);N.onBeforeShadow(t,N,I,B,q,Z,Y),t.renderBufferDirect(B,null,q,Z,N,Y),N.onAfterShadow(t,N,I,B,q,Z,Y)}}}else if(G.visible){const j=C(N,G,D,$);N.onBeforeShadow(t,N,I,B,q,j,null),t.renderBufferDirect(B,null,q,j,N,null),N.onAfterShadow(t,N,I,B,q,j,null)}}const V=N.children;for(let q=0,G=V.length;q<G;q++)M(V[q],I,B,D,$)}function R(N){N.target.removeEventListener("dispose",R);for(const B in c){const D=c[B],$=N.target.uuid;$ in D&&(D[$].dispose(),delete D[$])}}}const hze={[Y_]:K_,[Q_]:e2,[Z_]:t2,[rm]:J_,[K_]:Y_,[e2]:Q_,[t2]:Z_,[J_]:rm};function pze(t,e){function n(){let $e=!1;const $t=new yr;let Lt=null;const tn=new yr(0,0,0,0);return{setMask:function(Qe){Lt!==Qe&&!$e&&(t.colorMask(Qe,Qe,Qe,Qe),Lt=Qe)},setLocked:function(Qe){$e=Qe},setClear:function(Qe,Pt,Ft,Yt,Rn){Rn===!0&&(Qe*=Yt,Pt*=Yt,Ft*=Yt),$t.set(Qe,Pt,Ft,Yt),tn.equals($t)===!1&&(t.clearColor(Qe,Pt,Ft,Yt),tn.copy($t))},reset:function(){$e=!1,Lt=null,tn.set(-1,0,0,0)}}}function r(){let $e=!1,$t=!1,Lt=null,tn=null,Qe=null;return{setReversed:function(Pt){if($t!==Pt){const Ft=e.get("EXT_clip_control");Pt?Ft.clipControlEXT(Ft.LOWER_LEFT_EXT,Ft.ZERO_TO_ONE_EXT):Ft.clipControlEXT(Ft.LOWER_LEFT_EXT,Ft.NEGATIVE_ONE_TO_ONE_EXT),$t=Pt;const Yt=Qe;Qe=null,this.setClear(Yt)}},getReversed:function(){return $t},setTest:function(Pt){Pt?me(t.DEPTH_TEST):ye(t.DEPTH_TEST)},setMask:function(Pt){Lt!==Pt&&!$e&&(t.depthMask(Pt),Lt=Pt)},setFunc:function(Pt){if($t&&(Pt=hze[Pt]),tn!==Pt){switch(Pt){case Y_:t.depthFunc(t.NEVER);break;case K_:t.depthFunc(t.ALWAYS);break;case Q_:t.depthFunc(t.LESS);break;case rm:t.depthFunc(t.LEQUAL);break;case Z_:t.depthFunc(t.EQUAL);break;case J_:t.depthFunc(t.GEQUAL);break;case e2:t.depthFunc(t.GREATER);break;case t2:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}tn=Pt}},setLocked:function(Pt){$e=Pt},setClear:function(Pt){Qe!==Pt&&($t&&(Pt=1-Pt),t.clearDepth(Pt),Qe=Pt)},reset:function(){$e=!1,Lt=null,tn=null,Qe=null,$t=!1}}}function i(){let $e=!1,$t=null,Lt=null,tn=null,Qe=null,Pt=null,Ft=null,Yt=null,Rn=null;return{setTest:function(Cn){$e||(Cn?me(t.STENCIL_TEST):ye(t.STENCIL_TEST))},setMask:function(Cn){$t!==Cn&&!$e&&(t.stencilMask(Cn),$t=Cn)},setFunc:function(Cn,dn,Mn){(Lt!==Cn||tn!==dn||Qe!==Mn)&&(t.stencilFunc(Cn,dn,Mn),Lt=Cn,tn=dn,Qe=Mn)},setOp:function(Cn,dn,Mn){(Pt!==Cn||Ft!==dn||Yt!==Mn)&&(t.stencilOp(Cn,dn,Mn),Pt=Cn,Ft=dn,Yt=Mn)},setLocked:function(Cn){$e=Cn},setClear:function(Cn){Rn!==Cn&&(t.clearStencil(Cn),Rn=Cn)},reset:function(){$e=!1,$t=null,Lt=null,tn=null,Qe=null,Pt=null,Ft=null,Yt=null,Rn=null}}}const o=new n,a=new r,s=new i,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],p=null,_=!1,x=null,y=null,w=null,C=null,M=null,R=null,N=null,I=new Vn(0,0,0),B=0,D=!1,$=null,z=null,V=null,q=null,G=null;const j=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,X=0;const Y=t.getParameter(t.VERSION);Y.indexOf("WebGL")!==-1?(X=parseFloat(/^WebGL (\d)/.exec(Y)[1]),H=X>=1):Y.indexOf("OpenGL ES")!==-1&&(X=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),H=X>=2);let ee=null,Z={};const re=t.getParameter(t.SCISSOR_BOX),ae=t.getParameter(t.VIEWPORT),ce=new yr().fromArray(re),he=new yr().fromArray(ae);function ge($e,$t,Lt,tn){const Qe=new Uint8Array(4),Pt=t.createTexture();t.bindTexture($e,Pt),t.texParameteri($e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri($e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Ft=0;Ft<Lt;Ft++)$e===t.TEXTURE_3D||$e===t.TEXTURE_2D_ARRAY?t.texImage3D($t,0,t.RGBA,1,1,tn,0,t.RGBA,t.UNSIGNED_BYTE,Qe):t.texImage2D($t+Ft,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Qe);return Pt}const se={};se[t.TEXTURE_2D]=ge(t.TEXTURE_2D,t.TEXTURE_2D,1),se[t.TEXTURE_CUBE_MAP]=ge(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),se[t.TEXTURE_2D_ARRAY]=ge(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),se[t.TEXTURE_3D]=ge(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),a.setClear(1),s.setClear(0),me(t.DEPTH_TEST),a.setFunc(rm),ve(!1),Ge(v8),me(t.CULL_FACE),Se(nl);function me($e){u[$e]!==!0&&(t.enable($e),u[$e]=!0)}function ye($e){u[$e]!==!1&&(t.disable($e),u[$e]=!1)}function we($e,$t){return d[$e]!==$t?(t.bindFramebuffer($e,$t),d[$e]=$t,$e===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=$t),$e===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=$t),!0):!1}function Ee($e,$t){let Lt=h,tn=!1;if($e){Lt=f.get($t),Lt===void 0&&(Lt=[],f.set($t,Lt));const Qe=$e.textures;if(Lt.length!==Qe.length||Lt[0]!==t.COLOR_ATTACHMENT0){for(let Pt=0,Ft=Qe.length;Pt<Ft;Pt++)Lt[Pt]=t.COLOR_ATTACHMENT0+Pt;Lt.length=Qe.length,tn=!0}}else Lt[0]!==t.BACK&&(Lt[0]=t.BACK,tn=!0);tn&&t.drawBuffers(Lt)}function Me($e){return p!==$e?(t.useProgram($e),p=$e,!0):!1}const Oe={[_s]:t.FUNC_ADD,[z$]:t.FUNC_SUBTRACT,[V$]:t.FUNC_REVERSE_SUBTRACT};Oe[nae]=t.MIN,Oe[rae]=t.MAX;const Ue={[$f]:t.ZERO,[G$]:t.ONE,[H$]:t.SRC_COLOR,[W_]:t.SRC_ALPHA,[K$]:t.SRC_ALPHA_SATURATE,[X$]:t.DST_COLOR,[q$]:t.DST_ALPHA,[j$]:t.ONE_MINUS_SRC_COLOR,[X_]:t.ONE_MINUS_SRC_ALPHA,[Y$]:t.ONE_MINUS_DST_COLOR,[W$]:t.ONE_MINUS_DST_ALPHA,[pBe]:t.CONSTANT_COLOR,[mBe]:t.ONE_MINUS_CONSTANT_COLOR,[gBe]:t.CONSTANT_ALPHA,[ABe]:t.ONE_MINUS_CONSTANT_ALPHA};function Se($e,$t,Lt,tn,Qe,Pt,Ft,Yt,Rn,Cn){if($e===nl){_===!0&&(ye(t.BLEND),_=!1);return}if(_===!1&&(me(t.BLEND),_=!0),$e!==Rv){if($e!==x||Cn!==D){if((y!==_s||M!==_s)&&(t.blendEquation(t.FUNC_ADD),y=_s,M=_s),Cn)switch($e){case rl:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case iy:t.blendFunc(t.ONE,t.ONE);break;case oy:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ay:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:Kt("WebGLState: Invalid blending: ",$e);break}else switch($e){case rl:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case iy:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case oy:Kt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case ay:Kt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Kt("WebGLState: Invalid blending: ",$e);break}w=null,C=null,R=null,N=null,I.set(0,0,0),B=0,x=$e,D=Cn}return}Qe=Qe||$t,Pt=Pt||Lt,Ft=Ft||tn,($t!==y||Qe!==M)&&(t.blendEquationSeparate(Oe[$t],Oe[Qe]),y=$t,M=Qe),(Lt!==w||tn!==C||Pt!==R||Ft!==N)&&(t.blendFuncSeparate(Ue[Lt],Ue[tn],Ue[Pt],Ue[Ft]),w=Lt,C=tn,R=Pt,N=Ft),(Yt.equals(I)===!1||Rn!==B)&&(t.blendColor(Yt.r,Yt.g,Yt.b,Rn),I.copy(Yt),B=Rn),x=$e,D=!1}function _e($e,$t){$e.side===Ko?ye(t.CULL_FACE):me(t.CULL_FACE);let Lt=$e.side===Oi;$t&&(Lt=!Lt),ve(Lt),$e.blending===rl&&$e.transparent===!1?Se(nl):Se($e.blending,$e.blendEquation,$e.blendSrc,$e.blendDst,$e.blendEquationAlpha,$e.blendSrcAlpha,$e.blendDstAlpha,$e.blendColor,$e.blendAlpha,$e.premultipliedAlpha),a.setFunc($e.depthFunc),a.setTest($e.depthTest),a.setMask($e.depthWrite),o.setMask($e.colorWrite);const tn=$e.stencilWrite;s.setTest(tn),tn&&(s.setMask($e.stencilWriteMask),s.setFunc($e.stencilFunc,$e.stencilRef,$e.stencilFuncMask),s.setOp($e.stencilFail,$e.stencilZFail,$e.stencilZPass)),at($e.polygonOffset,$e.polygonOffsetFactor,$e.polygonOffsetUnits),$e.alphaToCoverage===!0?me(t.SAMPLE_ALPHA_TO_COVERAGE):ye(t.SAMPLE_ALPHA_TO_COVERAGE)}function ve($e){$!==$e&&($e?t.frontFace(t.CW):t.frontFace(t.CCW),$=$e)}function Ge($e){$e!==eae?(me(t.CULL_FACE),$e!==z&&($e===v8?t.cullFace(t.BACK):$e===tae?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ye(t.CULL_FACE),z=$e}function ue($e){$e!==V&&(H&&t.lineWidth($e),V=$e)}function at($e,$t,Lt){$e?(me(t.POLYGON_OFFSET_FILL),(q!==$t||G!==Lt)&&(t.polygonOffset($t,Lt),q=$t,G=Lt)):ye(t.POLYGON_OFFSET_FILL)}function nt($e){$e?me(t.SCISSOR_TEST):ye(t.SCISSOR_TEST)}function ct($e){$e===void 0&&($e=t.TEXTURE0+j-1),ee!==$e&&(t.activeTexture($e),ee=$e)}function Ze($e,$t,Lt){Lt===void 0&&(ee===null?Lt=t.TEXTURE0+j-1:Lt=ee);let tn=Z[Lt];tn===void 0&&(tn={type:void 0,texture:void 0},Z[Lt]=tn),(tn.type!==$e||tn.texture!==$t)&&(ee!==Lt&&(t.activeTexture(Lt),ee=Lt),t.bindTexture($e,$t||se[$e]),tn.type=$e,tn.texture=$t)}function pe(){const $e=Z[ee];$e!==void 0&&$e.type!==void 0&&(t.bindTexture($e.type,null),$e.type=void 0,$e.texture=void 0)}function te(){try{t.compressedTexImage2D(...arguments)}catch($e){Kt("WebGLState:",$e)}}function Ne(){try{t.compressedTexImage3D(...arguments)}catch($e){Kt("WebGLState:",$e)}}function qe(){try{t.texSubImage2D(...arguments)}catch($e){Kt("WebGLState:",$e)}}function gt(){try{t.texSubImage3D(...arguments)}catch($e){Kt("WebGLState:",$e)}}function tt(){try{t.compressedTexSubImage2D(...arguments)}catch($e){Kt("WebGLState:",$e)}}function wt(){try{t.compressedTexSubImage3D(...arguments)}catch($e){Kt("WebGLState:",$e)}}function _t(){try{t.texStorage2D(...arguments)}catch($e){Kt("WebGLState:",$e)}}function Et(){try{t.texStorage3D(...arguments)}catch($e){Kt("WebGLState:",$e)}}function Tt(){try{t.texImage2D(...arguments)}catch($e){Kt("WebGLState:",$e)}}function ht(){try{t.texImage3D(...arguments)}catch($e){Kt("WebGLState:",$e)}}function Xe($e){ce.equals($e)===!1&&(t.scissor($e.x,$e.y,$e.z,$e.w),ce.copy($e))}function pt($e){he.equals($e)===!1&&(t.viewport($e.x,$e.y,$e.z,$e.w),he.copy($e))}function ut($e,$t){let Lt=c.get($t);Lt===void 0&&(Lt=new WeakMap,c.set($t,Lt));let tn=Lt.get($e);tn===void 0&&(tn=t.getUniformBlockIndex($t,$e.name),Lt.set($e,tn))}function Ke($e,$t){const tn=c.get($t).get($e);l.get($t)!==tn&&(t.uniformBlockBinding($t,tn,$e.__bindingPointIndex),l.set($t,tn))}function Rt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},ee=null,Z={},d={},f=new WeakMap,h=[],p=null,_=!1,x=null,y=null,w=null,C=null,M=null,R=null,N=null,I=new Vn(0,0,0),B=0,D=!1,$=null,z=null,V=null,q=null,G=null,ce.set(0,0,t.canvas.width,t.canvas.height),he.set(0,0,t.canvas.width,t.canvas.height),o.reset(),a.reset(),s.reset()}return{buffers:{color:o,depth:a,stencil:s},enable:me,disable:ye,bindFramebuffer:we,drawBuffers:Ee,useProgram:Me,setBlending:Se,setMaterial:_e,setFlipSided:ve,setCullFace:Ge,setLineWidth:ue,setPolygonOffset:at,setScissorTest:nt,activeTexture:ct,bindTexture:Ze,unbindTexture:pe,compressedTexImage2D:te,compressedTexImage3D:Ne,texImage2D:Tt,texImage3D:ht,updateUBOMapping:ut,uniformBlockBinding:Ke,texStorage2D:_t,texStorage3D:Et,texSubImage2D:qe,texSubImage3D:gt,compressedTexSubImage2D:tt,compressedTexSubImage3D:wt,scissor:Xe,viewport:pt,reset:Rt}}function mze(t,e,n,r,i,o,a){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Wt,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(pe,te){return h?new OffscreenCanvas(pe,te):a2("canvas")}function _(pe,te,Ne){let qe=1;const gt=Ze(pe);if((gt.width>Ne||gt.height>Ne)&&(qe=Ne/Math.max(gt.width,gt.height)),qe<1)if(typeof HTMLImageElement<"u"&&pe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&pe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&pe instanceof ImageBitmap||typeof VideoFrame<"u"&&pe instanceof VideoFrame){const tt=Math.floor(qe*gt.width),wt=Math.floor(qe*gt.height);d===void 0&&(d=p(tt,wt));const _t=te?p(tt,wt):d;return _t.width=tt,_t.height=wt,_t.getContext("2d").drawImage(pe,0,0,tt,wt),Vt("WebGLRenderer: Texture has been resized from ("+gt.width+"x"+gt.height+") to ("+tt+"x"+wt+")."),_t}else return"data"in pe&&Vt("WebGLRenderer: Image in DataTexture is too big ("+gt.width+"x"+gt.height+")."),pe;return pe}function x(pe){return pe.generateMipmaps}function y(pe){t.generateMipmap(pe)}function w(pe){return pe.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:pe.isWebGL3DRenderTarget?t.TEXTURE_3D:pe.isWebGLArrayRenderTarget||pe.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function C(pe,te,Ne,qe,gt=!1){if(pe!==null){if(t[pe]!==void 0)return t[pe];Vt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+pe+"'")}let tt=te;if(te===t.RED&&(Ne===t.FLOAT&&(tt=t.R32F),Ne===t.HALF_FLOAT&&(tt=t.R16F),Ne===t.UNSIGNED_BYTE&&(tt=t.R8)),te===t.RED_INTEGER&&(Ne===t.UNSIGNED_BYTE&&(tt=t.R8UI),Ne===t.UNSIGNED_SHORT&&(tt=t.R16UI),Ne===t.UNSIGNED_INT&&(tt=t.R32UI),Ne===t.BYTE&&(tt=t.R8I),Ne===t.SHORT&&(tt=t.R16I),Ne===t.INT&&(tt=t.R32I)),te===t.RG&&(Ne===t.FLOAT&&(tt=t.RG32F),Ne===t.HALF_FLOAT&&(tt=t.RG16F),Ne===t.UNSIGNED_BYTE&&(tt=t.RG8)),te===t.RG_INTEGER&&(Ne===t.UNSIGNED_BYTE&&(tt=t.RG8UI),Ne===t.UNSIGNED_SHORT&&(tt=t.RG16UI),Ne===t.UNSIGNED_INT&&(tt=t.RG32UI),Ne===t.BYTE&&(tt=t.RG8I),Ne===t.SHORT&&(tt=t.RG16I),Ne===t.INT&&(tt=t.RG32I)),te===t.RGB_INTEGER&&(Ne===t.UNSIGNED_BYTE&&(tt=t.RGB8UI),Ne===t.UNSIGNED_SHORT&&(tt=t.RGB16UI),Ne===t.UNSIGNED_INT&&(tt=t.RGB32UI),Ne===t.BYTE&&(tt=t.RGB8I),Ne===t.SHORT&&(tt=t.RGB16I),Ne===t.INT&&(tt=t.RGB32I)),te===t.RGBA_INTEGER&&(Ne===t.UNSIGNED_BYTE&&(tt=t.RGBA8UI),Ne===t.UNSIGNED_SHORT&&(tt=t.RGBA16UI),Ne===t.UNSIGNED_INT&&(tt=t.RGBA32UI),Ne===t.BYTE&&(tt=t.RGBA8I),Ne===t.SHORT&&(tt=t.RGBA16I),Ne===t.INT&&(tt=t.RGBA32I)),te===t.RGB&&(Ne===t.UNSIGNED_INT_5_9_9_9_REV&&(tt=t.RGB9_E5),Ne===t.UNSIGNED_INT_10F_11F_11F_REV&&(tt=t.R11F_G11F_B10F)),te===t.RGBA){const wt=gt?Oy:fr.getTransfer(qe);Ne===t.FLOAT&&(tt=t.RGBA32F),Ne===t.HALF_FLOAT&&(tt=t.RGBA16F),Ne===t.UNSIGNED_BYTE&&(tt=wt===In?t.SRGB8_ALPHA8:t.RGBA8),Ne===t.UNSIGNED_SHORT_4_4_4_4&&(tt=t.RGBA4),Ne===t.UNSIGNED_SHORT_5_5_5_1&&(tt=t.RGB5_A1)}return(tt===t.R16F||tt===t.R32F||tt===t.RG16F||tt===t.RG32F||tt===t.RGBA16F||tt===t.RGBA32F)&&e.get("EXT_color_buffer_float"),tt}function M(pe,te){let Ne;return pe?te===null||te===Ni||te===uc?Ne=t.DEPTH24_STENCIL8:te===Ho?Ne=t.DEPTH32F_STENCIL8:te===ju&&(Ne=t.DEPTH24_STENCIL8,Vt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):te===null||te===Ni||te===uc?Ne=t.DEPTH_COMPONENT24:te===Ho?Ne=t.DEPTH_COMPONENT32F:te===ju&&(Ne=t.DEPTH_COMPONENT16),Ne}function R(pe,te){return x(pe)===!0||pe.isFramebufferTexture&&pe.minFilter!==Ii&&pe.minFilter!==Ji?Math.log2(Math.max(te.width,te.height))+1:pe.mipmaps!==void 0&&pe.mipmaps.length>0?pe.mipmaps.length:pe.isCompressedTexture&&Array.isArray(pe.image)?te.mipmaps.length:1}function N(pe){const te=pe.target;te.removeEventListener("dispose",N),B(te),te.isVideoTexture&&u.delete(te)}function I(pe){const te=pe.target;te.removeEventListener("dispose",I),$(te)}function B(pe){const te=r.get(pe);if(te.__webglInit===void 0)return;const Ne=pe.source,qe=f.get(Ne);if(qe){const gt=qe[te.__cacheKey];gt.usedTimes--,gt.usedTimes===0&&D(pe),Object.keys(qe).length===0&&f.delete(Ne)}r.remove(pe)}function D(pe){const te=r.get(pe);t.deleteTexture(te.__webglTexture);const Ne=pe.source,qe=f.get(Ne);delete qe[te.__cacheKey],a.memory.textures--}function $(pe){const te=r.get(pe);if(pe.depthTexture&&(pe.depthTexture.dispose(),r.remove(pe.depthTexture)),pe.isWebGLCubeRenderTarget)for(let qe=0;qe<6;qe++){if(Array.isArray(te.__webglFramebuffer[qe]))for(let gt=0;gt<te.__webglFramebuffer[qe].length;gt++)t.deleteFramebuffer(te.__webglFramebuffer[qe][gt]);else t.deleteFramebuffer(te.__webglFramebuffer[qe]);te.__webglDepthbuffer&&t.deleteRenderbuffer(te.__webglDepthbuffer[qe])}else{if(Array.isArray(te.__webglFramebuffer))for(let qe=0;qe<te.__webglFramebuffer.length;qe++)t.deleteFramebuffer(te.__webglFramebuffer[qe]);else t.deleteFramebuffer(te.__webglFramebuffer);if(te.__webglDepthbuffer&&t.deleteRenderbuffer(te.__webglDepthbuffer),te.__webglMultisampledFramebuffer&&t.deleteFramebuffer(te.__webglMultisampledFramebuffer),te.__webglColorRenderbuffer)for(let qe=0;qe<te.__webglColorRenderbuffer.length;qe++)te.__webglColorRenderbuffer[qe]&&t.deleteRenderbuffer(te.__webglColorRenderbuffer[qe]);te.__webglDepthRenderbuffer&&t.deleteRenderbuffer(te.__webglDepthRenderbuffer)}const Ne=pe.textures;for(let qe=0,gt=Ne.length;qe<gt;qe++){const tt=r.get(Ne[qe]);tt.__webglTexture&&(t.deleteTexture(tt.__webglTexture),a.memory.textures--),r.remove(Ne[qe])}r.remove(pe)}let z=0;function V(){z=0}function q(){const pe=z;return pe>=i.maxTextures&&Vt("WebGLTextures: Trying to use "+pe+" texture units while this GPU supports only "+i.maxTextures),z+=1,pe}function G(pe){const te=[];return te.push(pe.wrapS),te.push(pe.wrapT),te.push(pe.wrapR||0),te.push(pe.magFilter),te.push(pe.minFilter),te.push(pe.anisotropy),te.push(pe.internalFormat),te.push(pe.format),te.push(pe.type),te.push(pe.generateMipmaps),te.push(pe.premultiplyAlpha),te.push(pe.flipY),te.push(pe.unpackAlignment),te.push(pe.colorSpace),te.join()}function j(pe,te){const Ne=r.get(pe);if(pe.isVideoTexture&&nt(pe),pe.isRenderTargetTexture===!1&&pe.isExternalTexture!==!0&&pe.version>0&&Ne.__version!==pe.version){const qe=pe.image;if(qe===null)Vt("WebGLRenderer: Texture marked for update but no image data found.");else if(qe.complete===!1)Vt("WebGLRenderer: Texture marked for update but image is incomplete");else{se(Ne,pe,te);return}}else pe.isExternalTexture&&(Ne.__webglTexture=pe.sourceTexture?pe.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,Ne.__webglTexture,t.TEXTURE0+te)}function H(pe,te){const Ne=r.get(pe);if(pe.isRenderTargetTexture===!1&&pe.version>0&&Ne.__version!==pe.version){se(Ne,pe,te);return}else pe.isExternalTexture&&(Ne.__webglTexture=pe.sourceTexture?pe.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,Ne.__webglTexture,t.TEXTURE0+te)}function X(pe,te){const Ne=r.get(pe);if(pe.isRenderTargetTexture===!1&&pe.version>0&&Ne.__version!==pe.version){se(Ne,pe,te);return}n.bindTexture(t.TEXTURE_3D,Ne.__webglTexture,t.TEXTURE0+te)}function Y(pe,te){const Ne=r.get(pe);if(pe.isCubeDepthTexture!==!0&&pe.version>0&&Ne.__version!==pe.version){me(Ne,pe,te);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Ne.__webglTexture,t.TEXTURE0+te)}const ee={[sg]:t.REPEAT,[wl]:t.CLAMP_TO_EDGE,[lg]:t.MIRRORED_REPEAT},Z={[Ii]:t.NEAREST,[i7]:t.NEAREST_MIPMAP_NEAREST,[Xf]:t.NEAREST_MIPMAP_LINEAR,[Ji]:t.LINEAR,[Nv]:t.LINEAR_MIPMAP_NEAREST,[Cl]:t.LINEAR_MIPMAP_LINEAR},re={[a7]:t.NEVER,[u7]:t.ALWAYS,[pS]:t.LESS,[mS]:t.LEQUAL,[s7]:t.EQUAL,[gS]:t.GEQUAL,[l7]:t.GREATER,[c7]:t.NOTEQUAL};function ae(pe,te){if(te.type===Ho&&e.has("OES_texture_float_linear")===!1&&(te.magFilter===Ji||te.magFilter===Nv||te.magFilter===Xf||te.magFilter===Cl||te.minFilter===Ji||te.minFilter===Nv||te.minFilter===Xf||te.minFilter===Cl)&&Vt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(pe,t.TEXTURE_WRAP_S,ee[te.wrapS]),t.texParameteri(pe,t.TEXTURE_WRAP_T,ee[te.wrapT]),(pe===t.TEXTURE_3D||pe===t.TEXTURE_2D_ARRAY)&&t.texParameteri(pe,t.TEXTURE_WRAP_R,ee[te.wrapR]),t.texParameteri(pe,t.TEXTURE_MAG_FILTER,Z[te.magFilter]),t.texParameteri(pe,t.TEXTURE_MIN_FILTER,Z[te.minFilter]),te.compareFunction&&(t.texParameteri(pe,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(pe,t.TEXTURE_COMPARE_FUNC,re[te.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(te.magFilter===Ii||te.minFilter!==Xf&&te.minFilter!==Cl||te.type===Ho&&e.has("OES_texture_float_linear")===!1)return;if(te.anisotropy>1||r.get(te).__currentAnisotropy){const Ne=e.get("EXT_texture_filter_anisotropic");t.texParameterf(pe,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(te.anisotropy,i.getMaxAnisotropy())),r.get(te).__currentAnisotropy=te.anisotropy}}}function ce(pe,te){let Ne=!1;pe.__webglInit===void 0&&(pe.__webglInit=!0,te.addEventListener("dispose",N));const qe=te.source;let gt=f.get(qe);gt===void 0&&(gt={},f.set(qe,gt));const tt=G(te);if(tt!==pe.__cacheKey){gt[tt]===void 0&&(gt[tt]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,Ne=!0),gt[tt].usedTimes++;const wt=gt[pe.__cacheKey];wt!==void 0&&(gt[pe.__cacheKey].usedTimes--,wt.usedTimes===0&&D(te)),pe.__cacheKey=tt,pe.__webglTexture=gt[tt].texture}return Ne}function he(pe,te,Ne){return Math.floor(Math.floor(pe/Ne)/te)}function ge(pe,te,Ne,qe){const tt=pe.updateRanges;if(tt.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,te.width,te.height,Ne,qe,te.data);else{tt.sort((ht,Xe)=>ht.start-Xe.start);let wt=0;for(let ht=1;ht<tt.length;ht++){const Xe=tt[wt],pt=tt[ht],ut=Xe.start+Xe.count,Ke=he(pt.start,te.width,4),Rt=he(Xe.start,te.width,4);pt.start<=ut+1&&Ke===Rt&&he(pt.start+pt.count-1,te.width,4)===Ke?Xe.count=Math.max(Xe.count,pt.start+pt.count-Xe.start):(++wt,tt[wt]=pt)}tt.length=wt+1;const _t=t.getParameter(t.UNPACK_ROW_LENGTH),Et=t.getParameter(t.UNPACK_SKIP_PIXELS),Tt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,te.width);for(let ht=0,Xe=tt.length;ht<Xe;ht++){const pt=tt[ht],ut=Math.floor(pt.start/4),Ke=Math.ceil(pt.count/4),Rt=ut%te.width,$e=Math.floor(ut/te.width),$t=Ke,Lt=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Rt),t.pixelStorei(t.UNPACK_SKIP_ROWS,$e),n.texSubImage2D(t.TEXTURE_2D,0,Rt,$e,$t,Lt,Ne,qe,te.data)}pe.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,_t),t.pixelStorei(t.UNPACK_SKIP_PIXELS,Et),t.pixelStorei(t.UNPACK_SKIP_ROWS,Tt)}}function se(pe,te,Ne){let qe=t.TEXTURE_2D;(te.isDataArrayTexture||te.isCompressedArrayTexture)&&(qe=t.TEXTURE_2D_ARRAY),te.isData3DTexture&&(qe=t.TEXTURE_3D);const gt=ce(pe,te),tt=te.source;n.bindTexture(qe,pe.__webglTexture,t.TEXTURE0+Ne);const wt=r.get(tt);if(tt.version!==wt.__version||gt===!0){n.activeTexture(t.TEXTURE0+Ne);const _t=fr.getPrimaries(fr.workingColorSpace),Et=te.colorSpace===_l?null:fr.getPrimaries(te.colorSpace),Tt=te.colorSpace===_l||_t===Et?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,te.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,te.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Tt);let ht=_(te.image,!1,i.maxTextureSize);ht=ct(te,ht);const Xe=o.convert(te.format,te.colorSpace),pt=o.convert(te.type);let ut=C(te.internalFormat,Xe,pt,te.colorSpace,te.isVideoTexture);ae(qe,te);let Ke;const Rt=te.mipmaps,$e=te.isVideoTexture!==!0,$t=wt.__version===void 0||gt===!0,Lt=tt.dataReady,tn=R(te,ht);if(te.isDepthTexture)ut=M(te.format===Ks,te.type),$t&&($e?n.texStorage2D(t.TEXTURE_2D,1,ut,ht.width,ht.height):n.texImage2D(t.TEXTURE_2D,0,ut,ht.width,ht.height,0,Xe,pt,null));else if(te.isDataTexture)if(Rt.length>0){$e&&$t&&n.texStorage2D(t.TEXTURE_2D,tn,ut,Rt[0].width,Rt[0].height);for(let Qe=0,Pt=Rt.length;Qe<Pt;Qe++)Ke=Rt[Qe],$e?Lt&&n.texSubImage2D(t.TEXTURE_2D,Qe,0,0,Ke.width,Ke.height,Xe,pt,Ke.data):n.texImage2D(t.TEXTURE_2D,Qe,ut,Ke.width,Ke.height,0,Xe,pt,Ke.data);te.generateMipmaps=!1}else $e?($t&&n.texStorage2D(t.TEXTURE_2D,tn,ut,ht.width,ht.height),Lt&&ge(te,ht,Xe,pt)):n.texImage2D(t.TEXTURE_2D,0,ut,ht.width,ht.height,0,Xe,pt,ht.data);else if(te.isCompressedTexture)if(te.isCompressedArrayTexture){$e&&$t&&n.texStorage3D(t.TEXTURE_2D_ARRAY,tn,ut,Rt[0].width,Rt[0].height,ht.depth);for(let Qe=0,Pt=Rt.length;Qe<Pt;Qe++)if(Ke=Rt[Qe],te.format!==qo)if(Xe!==null)if($e){if(Lt)if(te.layerUpdates.size>0){const Ft=E8(Ke.width,Ke.height,te.format,te.type);for(const Yt of te.layerUpdates){const Rn=Ke.data.subarray(Yt*Ft/Ke.data.BYTES_PER_ELEMENT,(Yt+1)*Ft/Ke.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Qe,0,0,Yt,Ke.width,Ke.height,1,Xe,Rn)}te.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Qe,0,0,0,Ke.width,Ke.height,ht.depth,Xe,Ke.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Qe,ut,Ke.width,Ke.height,ht.depth,0,Ke.data,0,0);else Vt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else $e?Lt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Qe,0,0,0,Ke.width,Ke.height,ht.depth,Xe,pt,Ke.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Qe,ut,Ke.width,Ke.height,ht.depth,0,Xe,pt,Ke.data)}else{$e&&$t&&n.texStorage2D(t.TEXTURE_2D,tn,ut,Rt[0].width,Rt[0].height);for(let Qe=0,Pt=Rt.length;Qe<Pt;Qe++)Ke=Rt[Qe],te.format!==qo?Xe!==null?$e?Lt&&n.compressedTexSubImage2D(t.TEXTURE_2D,Qe,0,0,Ke.width,Ke.height,Xe,Ke.data):n.compressedTexImage2D(t.TEXTURE_2D,Qe,ut,Ke.width,Ke.height,0,Ke.data):Vt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):$e?Lt&&n.texSubImage2D(t.TEXTURE_2D,Qe,0,0,Ke.width,Ke.height,Xe,pt,Ke.data):n.texImage2D(t.TEXTURE_2D,Qe,ut,Ke.width,Ke.height,0,Xe,pt,Ke.data)}else if(te.isDataArrayTexture)if($e){if($t&&n.texStorage3D(t.TEXTURE_2D_ARRAY,tn,ut,ht.width,ht.height,ht.depth),Lt)if(te.layerUpdates.size>0){const Qe=E8(ht.width,ht.height,te.format,te.type);for(const Pt of te.layerUpdates){const Ft=ht.data.subarray(Pt*Qe/ht.data.BYTES_PER_ELEMENT,(Pt+1)*Qe/ht.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Pt,ht.width,ht.height,1,Xe,pt,Ft)}te.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ht.width,ht.height,ht.depth,Xe,pt,ht.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ut,ht.width,ht.height,ht.depth,0,Xe,pt,ht.data);else if(te.isData3DTexture)$e?($t&&n.texStorage3D(t.TEXTURE_3D,tn,ut,ht.width,ht.height,ht.depth),Lt&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ht.width,ht.height,ht.depth,Xe,pt,ht.data)):n.texImage3D(t.TEXTURE_3D,0,ut,ht.width,ht.height,ht.depth,0,Xe,pt,ht.data);else if(te.isFramebufferTexture){if($t)if($e)n.texStorage2D(t.TEXTURE_2D,tn,ut,ht.width,ht.height);else{let Qe=ht.width,Pt=ht.height;for(let Ft=0;Ft<tn;Ft++)n.texImage2D(t.TEXTURE_2D,Ft,ut,Qe,Pt,0,Xe,pt,null),Qe>>=1,Pt>>=1}}else if(Rt.length>0){if($e&&$t){const Qe=Ze(Rt[0]);n.texStorage2D(t.TEXTURE_2D,tn,ut,Qe.width,Qe.height)}for(let Qe=0,Pt=Rt.length;Qe<Pt;Qe++)Ke=Rt[Qe],$e?Lt&&n.texSubImage2D(t.TEXTURE_2D,Qe,0,0,Xe,pt,Ke):n.texImage2D(t.TEXTURE_2D,Qe,ut,Xe,pt,Ke);te.generateMipmaps=!1}else if($e){if($t){const Qe=Ze(ht);n.texStorage2D(t.TEXTURE_2D,tn,ut,Qe.width,Qe.height)}Lt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Xe,pt,ht)}else n.texImage2D(t.TEXTURE_2D,0,ut,Xe,pt,ht);x(te)&&y(qe),wt.__version=tt.version,te.onUpdate&&te.onUpdate(te)}pe.__version=te.version}function me(pe,te,Ne){if(te.image.length!==6)return;const qe=ce(pe,te),gt=te.source;n.bindTexture(t.TEXTURE_CUBE_MAP,pe.__webglTexture,t.TEXTURE0+Ne);const tt=r.get(gt);if(gt.version!==tt.__version||qe===!0){n.activeTexture(t.TEXTURE0+Ne);const wt=fr.getPrimaries(fr.workingColorSpace),_t=te.colorSpace===_l?null:fr.getPrimaries(te.colorSpace),Et=te.colorSpace===_l||wt===_t?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,te.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,te.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Et);const Tt=te.isCompressedTexture||te.image[0].isCompressedTexture,ht=te.image[0]&&te.image[0].isDataTexture,Xe=[];for(let Pt=0;Pt<6;Pt++)!Tt&&!ht?Xe[Pt]=_(te.image[Pt],!0,i.maxCubemapSize):Xe[Pt]=ht?te.image[Pt].image:te.image[Pt],Xe[Pt]=ct(te,Xe[Pt]);const pt=Xe[0],ut=o.convert(te.format,te.colorSpace),Ke=o.convert(te.type),Rt=C(te.internalFormat,ut,Ke,te.colorSpace),$e=te.isVideoTexture!==!0,$t=tt.__version===void 0||qe===!0,Lt=gt.dataReady;let tn=R(te,pt);ae(t.TEXTURE_CUBE_MAP,te);let Qe;if(Tt){$e&&$t&&n.texStorage2D(t.TEXTURE_CUBE_MAP,tn,Rt,pt.width,pt.height);for(let Pt=0;Pt<6;Pt++){Qe=Xe[Pt].mipmaps;for(let Ft=0;Ft<Qe.length;Ft++){const Yt=Qe[Ft];te.format!==qo?ut!==null?$e?Lt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,Ft,0,0,Yt.width,Yt.height,ut,Yt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,Ft,Rt,Yt.width,Yt.height,0,Yt.data):Vt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):$e?Lt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,Ft,0,0,Yt.width,Yt.height,ut,Ke,Yt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,Ft,Rt,Yt.width,Yt.height,0,ut,Ke,Yt.data)}}}else{if(Qe=te.mipmaps,$e&&$t){Qe.length>0&&tn++;const Pt=Ze(Xe[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,tn,Rt,Pt.width,Pt.height)}for(let Pt=0;Pt<6;Pt++)if(ht){$e?Lt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,0,0,0,Xe[Pt].width,Xe[Pt].height,ut,Ke,Xe[Pt].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,0,Rt,Xe[Pt].width,Xe[Pt].height,0,ut,Ke,Xe[Pt].data);for(let Ft=0;Ft<Qe.length;Ft++){const Rn=Qe[Ft].image[Pt].image;$e?Lt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,Ft+1,0,0,Rn.width,Rn.height,ut,Ke,Rn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,Ft+1,Rt,Rn.width,Rn.height,0,ut,Ke,Rn.data)}}else{$e?Lt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,0,0,0,ut,Ke,Xe[Pt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,0,Rt,ut,Ke,Xe[Pt]);for(let Ft=0;Ft<Qe.length;Ft++){const Yt=Qe[Ft];$e?Lt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,Ft+1,0,0,ut,Ke,Yt.image[Pt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,Ft+1,Rt,ut,Ke,Yt.image[Pt])}}}x(te)&&y(t.TEXTURE_CUBE_MAP),tt.__version=gt.version,te.onUpdate&&te.onUpdate(te)}pe.__version=te.version}function ye(pe,te,Ne,qe,gt,tt){const wt=o.convert(Ne.format,Ne.colorSpace),_t=o.convert(Ne.type),Et=C(Ne.internalFormat,wt,_t,Ne.colorSpace),Tt=r.get(te),ht=r.get(Ne);if(ht.__renderTarget=te,!Tt.__hasExternalTextures){const Xe=Math.max(1,te.width>>tt),pt=Math.max(1,te.height>>tt);gt===t.TEXTURE_3D||gt===t.TEXTURE_2D_ARRAY?n.texImage3D(gt,tt,Et,Xe,pt,te.depth,0,wt,_t,null):n.texImage2D(gt,tt,Et,Xe,pt,0,wt,_t,null)}n.bindFramebuffer(t.FRAMEBUFFER,pe),at(te)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,qe,gt,ht.__webglTexture,0,ue(te)):(gt===t.TEXTURE_2D||gt>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&gt<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,qe,gt,ht.__webglTexture,tt),n.bindFramebuffer(t.FRAMEBUFFER,null)}function we(pe,te,Ne){if(t.bindRenderbuffer(t.RENDERBUFFER,pe),te.depthBuffer){const qe=te.depthTexture,gt=qe&&qe.isDepthTexture?qe.type:null,tt=M(te.stencilBuffer,gt),wt=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;at(te)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ue(te),tt,te.width,te.height):Ne?t.renderbufferStorageMultisample(t.RENDERBUFFER,ue(te),tt,te.width,te.height):t.renderbufferStorage(t.RENDERBUFFER,tt,te.width,te.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,wt,t.RENDERBUFFER,pe)}else{const qe=te.textures;for(let gt=0;gt<qe.length;gt++){const tt=qe[gt],wt=o.convert(tt.format,tt.colorSpace),_t=o.convert(tt.type),Et=C(tt.internalFormat,wt,_t,tt.colorSpace);at(te)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ue(te),Et,te.width,te.height):Ne?t.renderbufferStorageMultisample(t.RENDERBUFFER,ue(te),Et,te.width,te.height):t.renderbufferStorage(t.RENDERBUFFER,Et,te.width,te.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ee(pe,te,Ne){const qe=te.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,pe),!(te.depthTexture&&te.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const gt=r.get(te.depthTexture);if(gt.__renderTarget=te,(!gt.__webglTexture||te.depthTexture.image.width!==te.width||te.depthTexture.image.height!==te.height)&&(te.depthTexture.image.width=te.width,te.depthTexture.image.height=te.height,te.depthTexture.needsUpdate=!0),qe){if(gt.__webglInit===void 0&&(gt.__webglInit=!0,te.depthTexture.addEventListener("dispose",N)),gt.__webglTexture===void 0){gt.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,gt.__webglTexture),ae(t.TEXTURE_CUBE_MAP,te.depthTexture);const Tt=o.convert(te.depthTexture.format),ht=o.convert(te.depthTexture.type);let Xe;te.depthTexture.format===os?Xe=t.DEPTH_COMPONENT24:te.depthTexture.format===Ks&&(Xe=t.DEPTH24_STENCIL8);for(let pt=0;pt<6;pt++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0,Xe,te.width,te.height,0,Tt,ht,null)}}else j(te.depthTexture,0);const tt=gt.__webglTexture,wt=ue(te),_t=qe?t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne:t.TEXTURE_2D,Et=te.depthTexture.format===Ks?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(te.depthTexture.format===os)at(te)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Et,_t,tt,0,wt):t.framebufferTexture2D(t.FRAMEBUFFER,Et,_t,tt,0);else if(te.depthTexture.format===Ks)at(te)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Et,_t,tt,0,wt):t.framebufferTexture2D(t.FRAMEBUFFER,Et,_t,tt,0);else throw new Error("Unknown depthTexture format")}function Me(pe){const te=r.get(pe),Ne=pe.isWebGLCubeRenderTarget===!0;if(te.__boundDepthTexture!==pe.depthTexture){const qe=pe.depthTexture;if(te.__depthDisposeCallback&&te.__depthDisposeCallback(),qe){const gt=()=>{delete te.__boundDepthTexture,delete te.__depthDisposeCallback,qe.removeEventListener("dispose",gt)};qe.addEventListener("dispose",gt),te.__depthDisposeCallback=gt}te.__boundDepthTexture=qe}if(pe.depthTexture&&!te.__autoAllocateDepthBuffer)if(Ne)for(let qe=0;qe<6;qe++)Ee(te.__webglFramebuffer[qe],pe,qe);else{const qe=pe.texture.mipmaps;qe&&qe.length>0?Ee(te.__webglFramebuffer[0],pe,0):Ee(te.__webglFramebuffer,pe,0)}else if(Ne){te.__webglDepthbuffer=[];for(let qe=0;qe<6;qe++)if(n.bindFramebuffer(t.FRAMEBUFFER,te.__webglFramebuffer[qe]),te.__webglDepthbuffer[qe]===void 0)te.__webglDepthbuffer[qe]=t.createRenderbuffer(),we(te.__webglDepthbuffer[qe],pe,!1);else{const gt=pe.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,tt=te.__webglDepthbuffer[qe];t.bindRenderbuffer(t.RENDERBUFFER,tt),t.framebufferRenderbuffer(t.FRAMEBUFFER,gt,t.RENDERBUFFER,tt)}}else{const qe=pe.texture.mipmaps;if(qe&&qe.length>0?n.bindFramebuffer(t.FRAMEBUFFER,te.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,te.__webglFramebuffer),te.__webglDepthbuffer===void 0)te.__webglDepthbuffer=t.createRenderbuffer(),we(te.__webglDepthbuffer,pe,!1);else{const gt=pe.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,tt=te.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,tt),t.framebufferRenderbuffer(t.FRAMEBUFFER,gt,t.RENDERBUFFER,tt)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Oe(pe,te,Ne){const qe=r.get(pe);te!==void 0&&ye(qe.__webglFramebuffer,pe,pe.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Ne!==void 0&&Me(pe)}function Ue(pe){const te=pe.texture,Ne=r.get(pe),qe=r.get(te);pe.addEventListener("dispose",I);const gt=pe.textures,tt=pe.isWebGLCubeRenderTarget===!0,wt=gt.length>1;if(wt||(qe.__webglTexture===void 0&&(qe.__webglTexture=t.createTexture()),qe.__version=te.version,a.memory.textures++),tt){Ne.__webglFramebuffer=[];for(let _t=0;_t<6;_t++)if(te.mipmaps&&te.mipmaps.length>0){Ne.__webglFramebuffer[_t]=[];for(let Et=0;Et<te.mipmaps.length;Et++)Ne.__webglFramebuffer[_t][Et]=t.createFramebuffer()}else Ne.__webglFramebuffer[_t]=t.createFramebuffer()}else{if(te.mipmaps&&te.mipmaps.length>0){Ne.__webglFramebuffer=[];for(let _t=0;_t<te.mipmaps.length;_t++)Ne.__webglFramebuffer[_t]=t.createFramebuffer()}else Ne.__webglFramebuffer=t.createFramebuffer();if(wt)for(let _t=0,Et=gt.length;_t<Et;_t++){const Tt=r.get(gt[_t]);Tt.__webglTexture===void 0&&(Tt.__webglTexture=t.createTexture(),a.memory.textures++)}if(pe.samples>0&&at(pe)===!1){Ne.__webglMultisampledFramebuffer=t.createFramebuffer(),Ne.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer);for(let _t=0;_t<gt.length;_t++){const Et=gt[_t];Ne.__webglColorRenderbuffer[_t]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Ne.__webglColorRenderbuffer[_t]);const Tt=o.convert(Et.format,Et.colorSpace),ht=o.convert(Et.type),Xe=C(Et.internalFormat,Tt,ht,Et.colorSpace,pe.isXRRenderTarget===!0),pt=ue(pe);t.renderbufferStorageMultisample(t.RENDERBUFFER,pt,Xe,pe.width,pe.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.RENDERBUFFER,Ne.__webglColorRenderbuffer[_t])}t.bindRenderbuffer(t.RENDERBUFFER,null),pe.depthBuffer&&(Ne.__webglDepthRenderbuffer=t.createRenderbuffer(),we(Ne.__webglDepthRenderbuffer,pe,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(tt){n.bindTexture(t.TEXTURE_CUBE_MAP,qe.__webglTexture),ae(t.TEXTURE_CUBE_MAP,te);for(let _t=0;_t<6;_t++)if(te.mipmaps&&te.mipmaps.length>0)for(let Et=0;Et<te.mipmaps.length;Et++)ye(Ne.__webglFramebuffer[_t][Et],pe,te,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+_t,Et);else ye(Ne.__webglFramebuffer[_t],pe,te,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+_t,0);x(te)&&y(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(wt){for(let _t=0,Et=gt.length;_t<Et;_t++){const Tt=gt[_t],ht=r.get(Tt);let Xe=t.TEXTURE_2D;(pe.isWebGL3DRenderTarget||pe.isWebGLArrayRenderTarget)&&(Xe=pe.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Xe,ht.__webglTexture),ae(Xe,Tt),ye(Ne.__webglFramebuffer,pe,Tt,t.COLOR_ATTACHMENT0+_t,Xe,0),x(Tt)&&y(Xe)}n.unbindTexture()}else{let _t=t.TEXTURE_2D;if((pe.isWebGL3DRenderTarget||pe.isWebGLArrayRenderTarget)&&(_t=pe.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(_t,qe.__webglTexture),ae(_t,te),te.mipmaps&&te.mipmaps.length>0)for(let Et=0;Et<te.mipmaps.length;Et++)ye(Ne.__webglFramebuffer[Et],pe,te,t.COLOR_ATTACHMENT0,_t,Et);else ye(Ne.__webglFramebuffer,pe,te,t.COLOR_ATTACHMENT0,_t,0);x(te)&&y(_t),n.unbindTexture()}pe.depthBuffer&&Me(pe)}function Se(pe){const te=pe.textures;for(let Ne=0,qe=te.length;Ne<qe;Ne++){const gt=te[Ne];if(x(gt)){const tt=w(pe),wt=r.get(gt).__webglTexture;n.bindTexture(tt,wt),y(tt),n.unbindTexture()}}}const _e=[],ve=[];function Ge(pe){if(pe.samples>0){if(at(pe)===!1){const te=pe.textures,Ne=pe.width,qe=pe.height;let gt=t.COLOR_BUFFER_BIT;const tt=pe.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,wt=r.get(pe),_t=te.length>1;if(_t)for(let Tt=0;Tt<te.length;Tt++)n.bindFramebuffer(t.FRAMEBUFFER,wt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,wt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,wt.__webglMultisampledFramebuffer);const Et=pe.texture.mipmaps;Et&&Et.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,wt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,wt.__webglFramebuffer);for(let Tt=0;Tt<te.length;Tt++){if(pe.resolveDepthBuffer&&(pe.depthBuffer&&(gt|=t.DEPTH_BUFFER_BIT),pe.stencilBuffer&&pe.resolveStencilBuffer&&(gt|=t.STENCIL_BUFFER_BIT)),_t){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,wt.__webglColorRenderbuffer[Tt]);const ht=r.get(te[Tt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ht,0)}t.blitFramebuffer(0,0,Ne,qe,0,0,Ne,qe,gt,t.NEAREST),l===!0&&(_e.length=0,ve.length=0,_e.push(t.COLOR_ATTACHMENT0+Tt),pe.depthBuffer&&pe.resolveDepthBuffer===!1&&(_e.push(tt),ve.push(tt),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,ve)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,_e))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),_t)for(let Tt=0;Tt<te.length;Tt++){n.bindFramebuffer(t.FRAMEBUFFER,wt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.RENDERBUFFER,wt.__webglColorRenderbuffer[Tt]);const ht=r.get(te[Tt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,wt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.TEXTURE_2D,ht,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,wt.__webglMultisampledFramebuffer)}else if(pe.depthBuffer&&pe.resolveDepthBuffer===!1&&l){const te=pe.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[te])}}}function ue(pe){return Math.min(i.maxSamples,pe.samples)}function at(pe){const te=r.get(pe);return pe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&te.__useRenderToTexture!==!1}function nt(pe){const te=a.render.frame;u.get(pe)!==te&&(u.set(pe,te),pe.update())}function ct(pe,te){const Ne=pe.colorSpace,qe=pe.format,gt=pe.type;return pe.isCompressedTexture===!0||pe.isVideoTexture===!0||Ne!==im&&Ne!==_l&&(fr.getTransfer(Ne)===In?(qe!==qo||gt!==no)&&Vt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Kt("WebGLTextures: Unsupported texture color space:",Ne)),te}function Ze(pe){return typeof HTMLImageElement<"u"&&pe instanceof HTMLImageElement?(c.width=pe.naturalWidth||pe.width,c.height=pe.naturalHeight||pe.height):typeof VideoFrame<"u"&&pe instanceof VideoFrame?(c.width=pe.displayWidth,c.height=pe.displayHeight):(c.width=pe.width,c.height=pe.height),c}this.allocateTextureUnit=q,this.resetTextureUnits=V,this.setTexture2D=j,this.setTexture2DArray=H,this.setTexture3D=X,this.setTextureCube=Y,this.rebindTextures=Oe,this.setupRenderTarget=Ue,this.updateRenderTargetMipmap=Se,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=Me,this.setupFrameBufferTexture=ye,this.useMultisampledRTT=at,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function gze(t,e){function n(r,i=_l){let o;const a=fr.getTransfer(i);if(r===no)return t.UNSIGNED_BYTE;if(r===TR)return t.UNSIGNED_SHORT_4_4_4_4;if(r===ER)return t.UNSIGNED_SHORT_5_5_5_1;if(r===MR)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===PR)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===z0)return t.BYTE;if(r===V0)return t.SHORT;if(r===ju)return t.UNSIGNED_SHORT;if(r===Ia)return t.INT;if(r===Ni)return t.UNSIGNED_INT;if(r===Ho)return t.FLOAT;if(r===io)return t.HALF_FLOAT;if(r===o7)return t.ALPHA;if(r===fS)return t.RGB;if(r===qo)return t.RGBA;if(r===os)return t.DEPTH_COMPONENT;if(r===Ks)return t.DEPTH_STENCIL;if(r===hS)return t.RED;if(r===S1)return t.RED_INTEGER;if(r===Qs)return t.RG;if(r===w1)return t.RG_INTEGER;if(r===C1)return t.RGBA_INTEGER;if(r===Gp||r===Hp||r===jp||r===qp)if(a===In)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Gp)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Hp)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===jp)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===qp)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Gp)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Hp)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===jp)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===qp)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===n2||r===r2||r===i2||r===o2)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===n2)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===r2)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===i2)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===o2)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===cy||r===uy||r===dy||r===fy||r===hy||r===cg||r===py)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===cy||r===uy)return a===In?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===dy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC;if(r===fy)return o.COMPRESSED_R11_EAC;if(r===hy)return o.COMPRESSED_SIGNED_R11_EAC;if(r===cg)return o.COMPRESSED_RG11_EAC;if(r===py)return o.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===my||r===gy||r===Ay||r===vy||r===yy||r===by||r===xy||r===_y||r===Sy||r===wy||r===Cy||r===Ty||r===Ey||r===My)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===my)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===gy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===Ay)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===vy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===yy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===by)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===xy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===_y)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Sy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===wy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Cy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Ty)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Ey)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===My)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Py||r===y8||r===b8)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===Py)return a===In?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===y8)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===b8)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Ry||r===Ny||r===ug||r===Iy)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===Ry)return o.COMPRESSED_RED_RGTC1_EXT;if(r===Ny)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===ug)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Iy)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===uc?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const Aze=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,vze=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class yze{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new gae(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Os({vertexShader:Aze,fragmentShader:vze,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ai(new bS(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class bze extends pd{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,p=null;const _=typeof XRWebGLBinding<"u",x=new yze,y={},w=n.getContextAttributes();let C=null,M=null;const R=[],N=[],I=new Wt;let B=null;const D=new Oa;D.viewport=new yr;const $=new Oa;$.viewport=new yr;const z=[D,$],V=new Nae;let q=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let me=R[se];return me===void 0&&(me=new SE,R[se]=me),me.getTargetRaySpace()},this.getControllerGrip=function(se){let me=R[se];return me===void 0&&(me=new SE,R[se]=me),me.getGripSpace()},this.getHand=function(se){let me=R[se];return me===void 0&&(me=new SE,R[se]=me),me.getHandSpace()};function j(se){const me=N.indexOf(se.inputSource);if(me===-1)return;const ye=R[me];ye!==void 0&&(ye.update(se.inputSource,se.frame,c||a),ye.dispatchEvent({type:se.type,data:se.inputSource}))}function H(){i.removeEventListener("select",j),i.removeEventListener("selectstart",j),i.removeEventListener("selectend",j),i.removeEventListener("squeeze",j),i.removeEventListener("squeezestart",j),i.removeEventListener("squeezeend",j),i.removeEventListener("end",H),i.removeEventListener("inputsourceschange",X);for(let se=0;se<R.length;se++){const me=N[se];me!==null&&(N[se]=null,R[se].disconnect(me))}q=null,G=null,x.reset();for(const se in y)delete y[se];e.setRenderTarget(C),h=null,f=null,d=null,i=null,M=null,ge.stop(),r.isPresenting=!1,e.setPixelRatio(B),e.setSize(I.width,I.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){o=se,r.isPresenting===!0&&Vt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){s=se,r.isPresenting===!0&&Vt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(se){c=se},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d===null&&_&&(d=new XRWebGLBinding(i,n)),d},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(se){if(i=se,i!==null){if(C=e.getRenderTarget(),i.addEventListener("select",j),i.addEventListener("selectstart",j),i.addEventListener("selectend",j),i.addEventListener("squeeze",j),i.addEventListener("squeezestart",j),i.addEventListener("squeezeend",j),i.addEventListener("end",H),i.addEventListener("inputsourceschange",X),w.xrCompatible!==!0&&await n.makeXRCompatible(),B=e.getPixelRatio(),e.getSize(I),_&&"createProjectionLayer"in XRWebGLBinding.prototype){let ye=null,we=null,Ee=null;w.depth&&(Ee=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ye=w.stencil?Ks:os,we=w.stencil?uc:Ni);const Me={colorFormat:n.RGBA8,depthFormat:Ee,scaleFactor:o};d=this.getBinding(),f=d.createProjectionLayer(Me),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),M=new ed(f.textureWidth,f.textureHeight,{format:qo,type:no,depthTexture:new Ms(f.textureWidth,f.textureHeight,we,void 0,void 0,void 0,void 0,void 0,void 0,ye),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}else{const ye={antialias:w.antialias,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,ye),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),M=new ed(h.framebufferWidth,h.framebufferHeight,{format:qo,type:no,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}M.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(s),ge.setContext(i),ge.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function X(se){for(let me=0;me<se.removed.length;me++){const ye=se.removed[me],we=N.indexOf(ye);we>=0&&(N[we]=null,R[we].disconnect(ye))}for(let me=0;me<se.added.length;me++){const ye=se.added[me];let we=N.indexOf(ye);if(we===-1){for(let Me=0;Me<R.length;Me++)if(Me>=N.length){N.push(ye),we=Me;break}else if(N[Me]===null){N[Me]=ye,we=Me;break}if(we===-1)break}const Ee=R[we];Ee&&Ee.connect(ye)}}const Y=new Te,ee=new Te;function Z(se,me,ye){Y.setFromMatrixPosition(me.matrixWorld),ee.setFromMatrixPosition(ye.matrixWorld);const we=Y.distanceTo(ee),Ee=me.projectionMatrix.elements,Me=ye.projectionMatrix.elements,Oe=Ee[14]/(Ee[10]-1),Ue=Ee[14]/(Ee[10]+1),Se=(Ee[9]+1)/Ee[5],_e=(Ee[9]-1)/Ee[5],ve=(Ee[8]-1)/Ee[0],Ge=(Me[8]+1)/Me[0],ue=Oe*ve,at=Oe*Ge,nt=we/(-ve+Ge),ct=nt*-ve;if(me.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(ct),se.translateZ(nt),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),Ee[10]===-1)se.projectionMatrix.copy(me.projectionMatrix),se.projectionMatrixInverse.copy(me.projectionMatrixInverse);else{const Ze=Oe+nt,pe=Ue+nt,te=ue-ct,Ne=at+(we-ct),qe=Se*Ue/pe*Ze,gt=_e*Ue/pe*Ze;se.projectionMatrix.makePerspective(te,Ne,qe,gt,Ze,pe),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function re(se,me){me===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(me.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(i===null)return;let me=se.near,ye=se.far;x.texture!==null&&(x.depthNear>0&&(me=x.depthNear),x.depthFar>0&&(ye=x.depthFar)),V.near=$.near=D.near=me,V.far=$.far=D.far=ye,(q!==V.near||G!==V.far)&&(i.updateRenderState({depthNear:V.near,depthFar:V.far}),q=V.near,G=V.far),V.layers.mask=se.layers.mask|6,D.layers.mask=V.layers.mask&3,$.layers.mask=V.layers.mask&5;const we=se.parent,Ee=V.cameras;re(V,we);for(let Me=0;Me<Ee.length;Me++)re(Ee[Me],we);Ee.length===2?Z(V,D,$):V.projectionMatrix.copy(D.projectionMatrix),ae(se,V,we)};function ae(se,me,ye){ye===null?se.matrix.copy(me.matrixWorld):(se.matrix.copy(ye.matrixWorld),se.matrix.invert(),se.matrix.multiply(me.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(me.projectionMatrix),se.projectionMatrixInverse.copy(me.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=dg*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return V},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(se){l=se,f!==null&&(f.fixedFoveation=se),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=se)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(V)},this.getCameraTexture=function(se){return y[se]};let ce=null;function he(se,me){if(u=me.getViewerPose(c||a),p=me,u!==null){const ye=u.views;h!==null&&(e.setRenderTargetFramebuffer(M,h.framebuffer),e.setRenderTarget(M));let we=!1;ye.length!==V.cameras.length&&(V.cameras.length=0,we=!0);for(let Ue=0;Ue<ye.length;Ue++){const Se=ye[Ue];let _e=null;if(h!==null)_e=h.getViewport(Se);else{const Ge=d.getViewSubImage(f,Se);_e=Ge.viewport,Ue===0&&(e.setRenderTargetTextures(M,Ge.colorTexture,Ge.depthStencilTexture),e.setRenderTarget(M))}let ve=z[Ue];ve===void 0&&(ve=new Oa,ve.layers.enable(Ue),ve.viewport=new yr,z[Ue]=ve),ve.matrix.fromArray(Se.transform.matrix),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.projectionMatrix.fromArray(Se.projectionMatrix),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert(),ve.viewport.set(_e.x,_e.y,_e.width,_e.height),Ue===0&&(V.matrix.copy(ve.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale)),we===!0&&V.cameras.push(ve)}const Ee=i.enabledFeatures;if(Ee&&Ee.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&_){d=r.getBinding();const Ue=d.getDepthInformation(ye[0]);Ue&&Ue.isValid&&Ue.texture&&x.init(Ue,i.renderState)}if(Ee&&Ee.includes("camera-access")&&_){e.state.unbindTexture(),d=r.getBinding();for(let Ue=0;Ue<ye.length;Ue++){const Se=ye[Ue].camera;if(Se){let _e=y[Se];_e||(_e=new gae,y[Se]=_e);const ve=d.getCameraImage(Se);_e.sourceTexture=ve}}}}for(let ye=0;ye<R.length;ye++){const we=N[ye],Ee=R[ye];we!==null&&Ee!==void 0&&Ee.update(we,me,c||a)}ce&&ce(se,me),me.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:me}),p=null}const ge=new Oae;ge.setAnimationLoop(he),this.setAnimationLoop=function(se){ce=se},this.dispose=function(){}}}const qm=new ls,xze=new wr;function _ze(t,e){function n(x,y){x.matrixAutoUpdate===!0&&x.updateMatrix(),y.value.copy(x.matrix)}function r(x,y){y.color.getRGB(x.fogColor.value,fae(t)),y.isFog?(x.fogNear.value=y.near,x.fogFar.value=y.far):y.isFogExp2&&(x.fogDensity.value=y.density)}function i(x,y,w,C,M){y.isMeshBasicMaterial||y.isMeshLambertMaterial?o(x,y):y.isMeshToonMaterial?(o(x,y),d(x,y)):y.isMeshPhongMaterial?(o(x,y),u(x,y)):y.isMeshStandardMaterial?(o(x,y),f(x,y),y.isMeshPhysicalMaterial&&h(x,y,M)):y.isMeshMatcapMaterial?(o(x,y),p(x,y)):y.isMeshDepthMaterial?o(x,y):y.isMeshDistanceMaterial?(o(x,y),_(x,y)):y.isMeshNormalMaterial?o(x,y):y.isLineBasicMaterial?(a(x,y),y.isLineDashedMaterial&&s(x,y)):y.isPointsMaterial?l(x,y,w,C):y.isSpriteMaterial?c(x,y):y.isShadowMaterial?(x.color.value.copy(y.color),x.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function o(x,y){x.opacity.value=y.opacity,y.color&&x.diffuse.value.copy(y.color),y.emissive&&x.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(x.map.value=y.map,n(y.map,x.mapTransform)),y.alphaMap&&(x.alphaMap.value=y.alphaMap,n(y.alphaMap,x.alphaMapTransform)),y.bumpMap&&(x.bumpMap.value=y.bumpMap,n(y.bumpMap,x.bumpMapTransform),x.bumpScale.value=y.bumpScale,y.side===Oi&&(x.bumpScale.value*=-1)),y.normalMap&&(x.normalMap.value=y.normalMap,n(y.normalMap,x.normalMapTransform),x.normalScale.value.copy(y.normalScale),y.side===Oi&&x.normalScale.value.negate()),y.displacementMap&&(x.displacementMap.value=y.displacementMap,n(y.displacementMap,x.displacementMapTransform),x.displacementScale.value=y.displacementScale,x.displacementBias.value=y.displacementBias),y.emissiveMap&&(x.emissiveMap.value=y.emissiveMap,n(y.emissiveMap,x.emissiveMapTransform)),y.specularMap&&(x.specularMap.value=y.specularMap,n(y.specularMap,x.specularMapTransform)),y.alphaTest>0&&(x.alphaTest.value=y.alphaTest);const w=e.get(y),C=w.envMap,M=w.envMapRotation;C&&(x.envMap.value=C,qm.copy(M),qm.x*=-1,qm.y*=-1,qm.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(qm.y*=-1,qm.z*=-1),x.envMapRotation.value.setFromMatrix4(xze.makeRotationFromEuler(qm)),x.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=y.reflectivity,x.ior.value=y.ior,x.refractionRatio.value=y.refractionRatio),y.lightMap&&(x.lightMap.value=y.lightMap,x.lightMapIntensity.value=y.lightMapIntensity,n(y.lightMap,x.lightMapTransform)),y.aoMap&&(x.aoMap.value=y.aoMap,x.aoMapIntensity.value=y.aoMapIntensity,n(y.aoMap,x.aoMapTransform))}function a(x,y){x.diffuse.value.copy(y.color),x.opacity.value=y.opacity,y.map&&(x.map.value=y.map,n(y.map,x.mapTransform))}function s(x,y){x.dashSize.value=y.dashSize,x.totalSize.value=y.dashSize+y.gapSize,x.scale.value=y.scale}function l(x,y,w,C){x.diffuse.value.copy(y.color),x.opacity.value=y.opacity,x.size.value=y.size*w,x.scale.value=C*.5,y.map&&(x.map.value=y.map,n(y.map,x.uvTransform)),y.alphaMap&&(x.alphaMap.value=y.alphaMap,n(y.alphaMap,x.alphaMapTransform)),y.alphaTest>0&&(x.alphaTest.value=y.alphaTest)}function c(x,y){x.diffuse.value.copy(y.color),x.opacity.value=y.opacity,x.rotation.value=y.rotation,y.map&&(x.map.value=y.map,n(y.map,x.mapTransform)),y.alphaMap&&(x.alphaMap.value=y.alphaMap,n(y.alphaMap,x.alphaMapTransform)),y.alphaTest>0&&(x.alphaTest.value=y.alphaTest)}function u(x,y){x.specular.value.copy(y.specular),x.shininess.value=Math.max(y.shininess,1e-4)}function d(x,y){y.gradientMap&&(x.gradientMap.value=y.gradientMap)}function f(x,y){x.metalness.value=y.metalness,y.metalnessMap&&(x.metalnessMap.value=y.metalnessMap,n(y.metalnessMap,x.metalnessMapTransform)),x.roughness.value=y.roughness,y.roughnessMap&&(x.roughnessMap.value=y.roughnessMap,n(y.roughnessMap,x.roughnessMapTransform)),y.envMap&&(x.envMapIntensity.value=y.envMapIntensity)}function h(x,y,w){x.ior.value=y.ior,y.sheen>0&&(x.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),x.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(x.sheenColorMap.value=y.sheenColorMap,n(y.sheenColorMap,x.sheenColorMapTransform)),y.sheenRoughnessMap&&(x.sheenRoughnessMap.value=y.sheenRoughnessMap,n(y.sheenRoughnessMap,x.sheenRoughnessMapTransform))),y.clearcoat>0&&(x.clearcoat.value=y.clearcoat,x.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(x.clearcoatMap.value=y.clearcoatMap,n(y.clearcoatMap,x.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,n(y.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(x.clearcoatNormalMap.value=y.clearcoatNormalMap,n(y.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===Oi&&x.clearcoatNormalScale.value.negate())),y.dispersion>0&&(x.dispersion.value=y.dispersion),y.iridescence>0&&(x.iridescence.value=y.iridescence,x.iridescenceIOR.value=y.iridescenceIOR,x.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(x.iridescenceMap.value=y.iridescenceMap,n(y.iridescenceMap,x.iridescenceMapTransform)),y.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=y.iridescenceThicknessMap,n(y.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),y.transmission>0&&(x.transmission.value=y.transmission,x.transmissionSamplerMap.value=w.texture,x.transmissionSamplerSize.value.set(w.width,w.height),y.transmissionMap&&(x.transmissionMap.value=y.transmissionMap,n(y.transmissionMap,x.transmissionMapTransform)),x.thickness.value=y.thickness,y.thicknessMap&&(x.thicknessMap.value=y.thicknessMap,n(y.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=y.attenuationDistance,x.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(x.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(x.anisotropyMap.value=y.anisotropyMap,n(y.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=y.specularIntensity,x.specularColor.value.copy(y.specularColor),y.specularColorMap&&(x.specularColorMap.value=y.specularColorMap,n(y.specularColorMap,x.specularColorMapTransform)),y.specularIntensityMap&&(x.specularIntensityMap.value=y.specularIntensityMap,n(y.specularIntensityMap,x.specularIntensityMapTransform))}function p(x,y){y.matcap&&(x.matcap.value=y.matcap)}function _(x,y){const w=e.get(y).light;x.referencePosition.value.setFromMatrixPosition(w.matrixWorld),x.nearDistance.value=w.shadow.camera.near,x.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Sze(t,e,n,r){let i={},o={},a=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(w,C){const M=C.program;r.uniformBlockBinding(w,M)}function c(w,C){let M=i[w.id];M===void 0&&(p(w),M=u(w),i[w.id]=M,w.addEventListener("dispose",x));const R=C.program;r.updateUBOMapping(w,R);const N=e.render.frame;o[w.id]!==N&&(f(w),o[w.id]=N)}function u(w){const C=d();w.__bindingPointIndex=C;const M=t.createBuffer(),R=w.__size,N=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,R,N),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,C,M),M}function d(){for(let w=0;w<s;w++)if(a.indexOf(w)===-1)return a.push(w),w;return Kt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(w){const C=i[w.id],M=w.uniforms,R=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,C);for(let N=0,I=M.length;N<I;N++){const B=Array.isArray(M[N])?M[N]:[M[N]];for(let D=0,$=B.length;D<$;D++){const z=B[D];if(h(z,N,D,R)===!0){const V=z.__offset,q=Array.isArray(z.value)?z.value:[z.value];let G=0;for(let j=0;j<q.length;j++){const H=q[j],X=_(H);typeof H=="number"||typeof H=="boolean"?(z.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,V+G,z.__data)):H.isMatrix3?(z.__data[0]=H.elements[0],z.__data[1]=H.elements[1],z.__data[2]=H.elements[2],z.__data[3]=0,z.__data[4]=H.elements[3],z.__data[5]=H.elements[4],z.__data[6]=H.elements[5],z.__data[7]=0,z.__data[8]=H.elements[6],z.__data[9]=H.elements[7],z.__data[10]=H.elements[8],z.__data[11]=0):(H.toArray(z.__data,G),G+=X.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,V,z.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(w,C,M,R){const N=w.value,I=C+"_"+M;if(R[I]===void 0)return typeof N=="number"||typeof N=="boolean"?R[I]=N:R[I]=N.clone(),!0;{const B=R[I];if(typeof N=="number"||typeof N=="boolean"){if(B!==N)return R[I]=N,!0}else if(B.equals(N)===!1)return B.copy(N),!0}return!1}function p(w){const C=w.uniforms;let M=0;const R=16;for(let I=0,B=C.length;I<B;I++){const D=Array.isArray(C[I])?C[I]:[C[I]];for(let $=0,z=D.length;$<z;$++){const V=D[$],q=Array.isArray(V.value)?V.value:[V.value];for(let G=0,j=q.length;G<j;G++){const H=q[G],X=_(H),Y=M%R,ee=Y%X.boundary,Z=Y+ee;M+=ee,Z!==0&&R-Z<X.storage&&(M+=R-Z),V.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),V.__offset=M,M+=X.storage}}}const N=M%R;return N>0&&(M+=R-N),w.__size=M,w.__cache={},this}function _(w){const C={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(C.boundary=4,C.storage=4):w.isVector2?(C.boundary=8,C.storage=8):w.isVector3||w.isColor?(C.boundary=16,C.storage=12):w.isVector4?(C.boundary=16,C.storage=16):w.isMatrix3?(C.boundary=48,C.storage=48):w.isMatrix4?(C.boundary=64,C.storage=64):w.isTexture?Vt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Vt("WebGLRenderer: Unsupported uniform value type.",w),C}function x(w){const C=w.target;C.removeEventListener("dispose",x);const M=a.indexOf(C.__bindingPointIndex);a.splice(M,1),t.deleteBuffer(i[C.id]),delete i[C.id],delete o[C.id]}function y(){for(const w in i)t.deleteBuffer(i[w]);a=[],i={},o={}}return{bind:l,update:c,dispose:y}}const wze=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Pd=null;function Cze(){return Pd===null&&(Pd=new b7(wze,16,16,Qs,io),Pd.name="DFG_LUT",Pd.minFilter=Ji,Pd.magFilter=Ji,Pd.wrapS=wl,Pd.wrapT=wl,Pd.generateMipmaps=!1,Pd.needsUpdate=!0),Pd}class Tze{constructor(e={}){const{canvas:n=cae(),context:r=null,depth:i=!0,stencil:o=!1,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reversedDepthBuffer:f=!1,outputBufferType:h=no}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=a;const _=h,x=new Set([C1,w1,S1]),y=new Set([no,Ni,ju,uc,TR,ER]),w=new Uint32Array(4),C=new Int32Array(4);let M=null,R=null;const N=[],I=[];let B=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ja,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const D=this;let $=!1;this._outputColorSpace=Za;let z=0,V=0,q=null,G=-1,j=null;const H=new yr,X=new yr;let Y=null;const ee=new Vn(0);let Z=0,re=n.width,ae=n.height,ce=1,he=null,ge=null;const se=new yr(0,0,re,ae),me=new yr(0,0,re,ae);let ye=!1;const we=new T1;let Ee=!1,Me=!1;const Oe=new wr,Ue=new Te,Se=new yr,_e={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ve=!1;function Ge(){return q===null?ce:1}let ue=r;function at(Ae,Ve){return n.getContext(Ae,Ve)}try{const Ae={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Pg}`),n.addEventListener("webglcontextlost",Yt,!1),n.addEventListener("webglcontextrestored",Rn,!1),n.addEventListener("webglcontextcreationerror",Cn,!1),ue===null){const Ve="webgl2";if(ue=at(Ve,Ae),ue===null)throw at(Ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Ae){throw Kt("WebGLRenderer: "+Ae.message),Ae}let nt,ct,Ze,pe,te,Ne,qe,gt,tt,wt,_t,Et,Tt,ht,Xe,pt,ut,Ke,Rt,$e,$t,Lt,tn,Qe;function Pt(){nt=new C9e(ue),nt.init(),Lt=new gze(ue,nt),ct=new g9e(ue,nt,e,Lt),Ze=new pze(ue,nt),ct.reversedDepthBuffer&&f&&Ze.buffers.depth.setReversed(!0),pe=new M9e(ue),te=new JUe,Ne=new mze(ue,nt,Ze,te,ct,Lt,pe),qe=new v9e(D),gt=new w9e(D),tt=new I$e(ue),tn=new p9e(ue,tt),wt=new T9e(ue,tt,pe,tn),_t=new R9e(ue,wt,tt,pe),Rt=new P9e(ue,ct,Ne),pt=new A9e(te),Et=new ZUe(D,qe,gt,nt,ct,tn,pt),Tt=new _ze(D,te),ht=new tze,Xe=new sze(nt),Ke=new h9e(D,qe,gt,Ze,_t,p,l),ut=new fze(D,_t,ct),Qe=new Sze(ue,pe,ct,Ze),$e=new m9e(ue,nt,pe),$t=new E9e(ue,nt,pe),pe.programs=Et.programs,D.capabilities=ct,D.extensions=nt,D.properties=te,D.renderLists=ht,D.shadowMap=ut,D.state=Ze,D.info=pe}Pt(),_!==no&&(B=new I9e(_,n.width,n.height,i,o));const Ft=new bze(D,ue);this.xr=Ft,this.getContext=function(){return ue},this.getContextAttributes=function(){return ue.getContextAttributes()},this.forceContextLoss=function(){const Ae=nt.get("WEBGL_lose_context");Ae&&Ae.loseContext()},this.forceContextRestore=function(){const Ae=nt.get("WEBGL_lose_context");Ae&&Ae.restoreContext()},this.getPixelRatio=function(){return ce},this.setPixelRatio=function(Ae){Ae!==void 0&&(ce=Ae,this.setSize(re,ae,!1))},this.getSize=function(Ae){return Ae.set(re,ae)},this.setSize=function(Ae,Ve,lt=!0){if(Ft.isPresenting){Vt("WebGLRenderer: Can't change size while VR device is presenting.");return}re=Ae,ae=Ve,n.width=Math.floor(Ae*ce),n.height=Math.floor(Ve*ce),lt===!0&&(n.style.width=Ae+"px",n.style.height=Ve+"px"),B!==null&&B.setSize(n.width,n.height),this.setViewport(0,0,Ae,Ve)},this.getDrawingBufferSize=function(Ae){return Ae.set(re*ce,ae*ce).floor()},this.setDrawingBufferSize=function(Ae,Ve,lt){re=Ae,ae=Ve,ce=lt,n.width=Math.floor(Ae*lt),n.height=Math.floor(Ve*lt),this.setViewport(0,0,Ae,Ve)},this.setEffects=function(Ae){if(_===no){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(Ae){for(let Ve=0;Ve<Ae.length;Ve++)if(Ae[Ve].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}B.setEffects(Ae||[])},this.getCurrentViewport=function(Ae){return Ae.copy(H)},this.getViewport=function(Ae){return Ae.copy(se)},this.setViewport=function(Ae,Ve,lt,dt){Ae.isVector4?se.set(Ae.x,Ae.y,Ae.z,Ae.w):se.set(Ae,Ve,lt,dt),Ze.viewport(H.copy(se).multiplyScalar(ce).round())},this.getScissor=function(Ae){return Ae.copy(me)},this.setScissor=function(Ae,Ve,lt,dt){Ae.isVector4?me.set(Ae.x,Ae.y,Ae.z,Ae.w):me.set(Ae,Ve,lt,dt),Ze.scissor(X.copy(me).multiplyScalar(ce).round())},this.getScissorTest=function(){return ye},this.setScissorTest=function(Ae){Ze.setScissorTest(ye=Ae)},this.setOpaqueSort=function(Ae){he=Ae},this.setTransparentSort=function(Ae){ge=Ae},this.getClearColor=function(Ae){return Ae.copy(Ke.getClearColor())},this.setClearColor=function(){Ke.setClearColor(...arguments)},this.getClearAlpha=function(){return Ke.getClearAlpha()},this.setClearAlpha=function(){Ke.setClearAlpha(...arguments)},this.clear=function(Ae=!0,Ve=!0,lt=!0){let dt=0;if(Ae){let He=!1;if(q!==null){const Nt=q.texture.format;He=x.has(Nt)}if(He){const Nt=q.texture.type,Ht=y.has(Nt),Ot=Ke.getClearColor(),fe=Ke.getClearAlpha(),Mt=Ot.r,fn=Ot.g,wn=Ot.b;Ht?(w[0]=Mt,w[1]=fn,w[2]=wn,w[3]=fe,ue.clearBufferuiv(ue.COLOR,0,w)):(C[0]=Mt,C[1]=fn,C[2]=wn,C[3]=fe,ue.clearBufferiv(ue.COLOR,0,C))}else dt|=ue.COLOR_BUFFER_BIT}Ve&&(dt|=ue.DEPTH_BUFFER_BIT),lt&&(dt|=ue.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ue.clear(dt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Yt,!1),n.removeEventListener("webglcontextrestored",Rn,!1),n.removeEventListener("webglcontextcreationerror",Cn,!1),Ke.dispose(),ht.dispose(),Xe.dispose(),te.dispose(),qe.dispose(),gt.dispose(),_t.dispose(),tn.dispose(),Qe.dispose(),Et.dispose(),Ft.dispose(),Ft.removeEventListener("sessionstart",Pe),Ft.removeEventListener("sessionend",mt),St.stop()};function Yt(Ae){Ae.preventDefault(),s2("WebGLRenderer: Context Lost."),$=!0}function Rn(){s2("WebGLRenderer: Context Restored."),$=!1;const Ae=pe.autoReset,Ve=ut.enabled,lt=ut.autoUpdate,dt=ut.needsUpdate,He=ut.type;Pt(),pe.autoReset=Ae,ut.enabled=Ve,ut.autoUpdate=lt,ut.needsUpdate=dt,ut.type=He}function Cn(Ae){Kt("WebGLRenderer: A WebGL context could not be created. Reason: ",Ae.statusMessage)}function dn(Ae){const Ve=Ae.target;Ve.removeEventListener("dispose",dn),Mn(Ve)}function Mn(Ae){Tn(Ae),te.remove(Ae)}function Tn(Ae){const Ve=te.get(Ae).programs;Ve!==void 0&&(Ve.forEach(function(lt){Et.releaseProgram(lt)}),Ae.isShaderMaterial&&Et.releaseShaderCache(Ae))}this.renderBufferDirect=function(Ae,Ve,lt,dt,He,Nt){Ve===null&&(Ve=_e);const Ht=He.isMesh&&He.matrixWorld.determinant()<0,Ot=_r(Ae,Ve,lt,dt,He);Ze.setMaterial(dt,Ht);let fe=lt.index,Mt=1;if(dt.wireframe===!0){if(fe=wt.getWireframeAttribute(lt),fe===void 0)return;Mt=2}const fn=lt.drawRange,wn=lt.attributes.position;let Hn=fn.start*Mt,lr=(fn.start+fn.count)*Mt;Nt!==null&&(Hn=Math.max(Hn,Nt.start*Mt),lr=Math.min(lr,(Nt.start+Nt.count)*Mt)),fe!==null?(Hn=Math.max(Hn,0),lr=Math.min(lr,fe.count)):wn!=null&&(Hn=Math.max(Hn,0),lr=Math.min(lr,wn.count));const Lr=lr-Hn;if(Lr<0||Lr===1/0)return;tn.setup(He,dt,Ot,lt,fe);let le,yn=$e;if(fe!==null&&(le=tt.get(fe),yn=$t,yn.setIndex(le)),He.isMesh)dt.wireframe===!0?(Ze.setLineWidth(dt.wireframeLinewidth*Ge()),yn.setMode(ue.LINES)):yn.setMode(ue.TRIANGLES);else if(He.isLine){let jt=dt.linewidth;jt===void 0&&(jt=1),Ze.setLineWidth(jt*Ge()),He.isLineSegments?yn.setMode(ue.LINES):He.isLineLoop?yn.setMode(ue.LINE_LOOP):yn.setMode(ue.LINE_STRIP)}else He.isPoints?yn.setMode(ue.POINTS):He.isSprite&&yn.setMode(ue.TRIANGLES);if(He.isBatchedMesh)if(He._multiDrawInstances!==null)$i("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),yn.renderMultiDrawInstances(He._multiDrawStarts,He._multiDrawCounts,He._multiDrawCount,He._multiDrawInstances);else if(nt.get("WEBGL_multi_draw"))yn.renderMultiDraw(He._multiDrawStarts,He._multiDrawCounts,He._multiDrawCount);else{const jt=He._multiDrawStarts,en=He._multiDrawCounts,xn=He._multiDrawCount,hn=fe?tt.get(fe).bytesPerElement:1,An=te.get(dt).currentProgram.getUniforms();for(let Xn=0;Xn<xn;Xn++)An.setValue(ue,"_gl_DrawID",Xn),yn.render(jt[Xn]/hn,en[Xn])}else if(He.isInstancedMesh)yn.renderInstances(Hn,Lr,He.count);else if(lt.isInstancedBufferGeometry){const jt=lt._maxInstanceCount!==void 0?lt._maxInstanceCount:1/0,en=Math.min(lt.instanceCount,jt);yn.renderInstances(Hn,Lr,en)}else yn.render(Hn,Lr)};function Qt(Ae,Ve,lt){Ae.transparent===!0&&Ae.side===Ko&&Ae.forceSinglePass===!1?(Ae.side=Oi,Ae.needsUpdate=!0,tr(Ae,Ve,lt),Ae.side=cc,Ae.needsUpdate=!0,tr(Ae,Ve,lt),Ae.side=Ko):tr(Ae,Ve,lt)}this.compile=function(Ae,Ve,lt=null){lt===null&&(lt=Ae),R=Xe.get(lt),R.init(Ve),I.push(R),lt.traverseVisible(function(He){He.isLight&&He.layers.test(Ve.layers)&&(R.pushLight(He),He.castShadow&&R.pushShadow(He))}),Ae!==lt&&Ae.traverseVisible(function(He){He.isLight&&He.layers.test(Ve.layers)&&(R.pushLight(He),He.castShadow&&R.pushShadow(He))}),R.setupLights();const dt=new Set;return Ae.traverse(function(He){if(!(He.isMesh||He.isPoints||He.isLine||He.isSprite))return;const Nt=He.material;if(Nt)if(Array.isArray(Nt))for(let Ht=0;Ht<Nt.length;Ht++){const Ot=Nt[Ht];Qt(Ot,lt,He),dt.add(Ot)}else Qt(Nt,lt,He),dt.add(Nt)}),R=I.pop(),dt},this.compileAsync=function(Ae,Ve,lt=null){const dt=this.compile(Ae,Ve,lt);return new Promise(He=>{function Nt(){if(dt.forEach(function(Ht){te.get(Ht).currentProgram.isReady()&&dt.delete(Ht)}),dt.size===0){He(Ae);return}setTimeout(Nt,10)}nt.get("KHR_parallel_shader_compile")!==null?Nt():setTimeout(Nt,10)})};let Gt=null;function Ut(Ae){Gt&&Gt(Ae)}function Pe(){St.stop()}function mt(){St.start()}const St=new Oae;St.setAnimationLoop(Ut),typeof self<"u"&&St.setContext(self),this.setAnimationLoop=function(Ae){Gt=Ae,Ft.setAnimationLoop(Ae),Ae===null?St.stop():St.start()},Ft.addEventListener("sessionstart",Pe),Ft.addEventListener("sessionend",mt),this.render=function(Ae,Ve){if(Ve!==void 0&&Ve.isCamera!==!0){Kt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if($===!0)return;const lt=Ft.enabled===!0&&Ft.isPresenting===!0,dt=B!==null&&(q===null||lt)&&B.begin(D,q);if(Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),Ve.parent===null&&Ve.matrixWorldAutoUpdate===!0&&Ve.updateMatrixWorld(),Ft.enabled===!0&&Ft.isPresenting===!0&&(B===null||B.isCompositing()===!1)&&(Ft.cameraAutoUpdate===!0&&Ft.updateCamera(Ve),Ve=Ft.getCamera()),Ae.isScene===!0&&Ae.onBeforeRender(D,Ae,Ve,q),R=Xe.get(Ae,I.length),R.init(Ve),I.push(R),Oe.multiplyMatrices(Ve.projectionMatrix,Ve.matrixWorldInverse),we.setFromProjectionMatrix(Oe,Zs,Ve.reversedDepth),Me=this.localClippingEnabled,Ee=pt.init(this.clippingPlanes,Me),M=ht.get(Ae,N.length),M.init(),N.push(M),Ft.enabled===!0&&Ft.isPresenting===!0){const Ht=D.xr.getDepthSensingMesh();Ht!==null&&xt(Ht,Ve,-1/0,D.sortObjects)}xt(Ae,Ve,0,D.sortObjects),M.finish(),D.sortObjects===!0&&M.sort(he,ge),ve=Ft.enabled===!1||Ft.isPresenting===!1||Ft.hasDepthSensing()===!1,ve&&Ke.addToRenderList(M,Ae),this.info.render.frame++,Ee===!0&&pt.beginShadows();const He=R.state.shadowsArray;if(ut.render(He,Ae,Ve),Ee===!0&&pt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(dt&&B.hasRenderPass())===!1){const Ht=M.opaque,Ot=M.transmissive;if(R.setupLights(),Ve.isArrayCamera){const fe=Ve.cameras;if(Ot.length>0)for(let Mt=0,fn=fe.length;Mt<fn;Mt++){const wn=fe[Mt];de(Ht,Ot,Ae,wn)}ve&&Ke.render(Ae);for(let Mt=0,fn=fe.length;Mt<fn;Mt++){const wn=fe[Mt];m(M,Ae,wn,wn.viewport)}}else Ot.length>0&&de(Ht,Ot,Ae,Ve),ve&&Ke.render(Ae),m(M,Ae,Ve)}q!==null&&V===0&&(Ne.updateMultisampleRenderTarget(q),Ne.updateRenderTargetMipmap(q)),dt&&B.end(D),Ae.isScene===!0&&Ae.onAfterRender(D,Ae,Ve),tn.resetDefaultState(),G=-1,j=null,I.pop(),I.length>0?(R=I[I.length-1],Ee===!0&&pt.setGlobalState(D.clippingPlanes,R.state.camera)):R=null,N.pop(),N.length>0?M=N[N.length-1]:M=null};function xt(Ae,Ve,lt,dt){if(Ae.visible===!1)return;if(Ae.layers.test(Ve.layers)){if(Ae.isGroup)lt=Ae.renderOrder;else if(Ae.isLOD)Ae.autoUpdate===!0&&Ae.update(Ve);else if(Ae.isLight)R.pushLight(Ae),Ae.castShadow&&R.pushShadow(Ae);else if(Ae.isSprite){if(!Ae.frustumCulled||we.intersectsSprite(Ae)){dt&&Se.setFromMatrixPosition(Ae.matrixWorld).applyMatrix4(Oe);const Ht=_t.update(Ae),Ot=Ae.material;Ot.visible&&M.push(Ae,Ht,Ot,lt,Se.z,null)}}else if((Ae.isMesh||Ae.isLine||Ae.isPoints)&&(!Ae.frustumCulled||we.intersectsObject(Ae))){const Ht=_t.update(Ae),Ot=Ae.material;if(dt&&(Ae.boundingSphere!==void 0?(Ae.boundingSphere===null&&Ae.computeBoundingSphere(),Se.copy(Ae.boundingSphere.center)):(Ht.boundingSphere===null&&Ht.computeBoundingSphere(),Se.copy(Ht.boundingSphere.center)),Se.applyMatrix4(Ae.matrixWorld).applyMatrix4(Oe)),Array.isArray(Ot)){const fe=Ht.groups;for(let Mt=0,fn=fe.length;Mt<fn;Mt++){const wn=fe[Mt],Hn=Ot[wn.materialIndex];Hn&&Hn.visible&&M.push(Ae,Ht,Hn,lt,Se.z,wn)}}else Ot.visible&&M.push(Ae,Ht,Ot,lt,Se.z,null)}}const Nt=Ae.children;for(let Ht=0,Ot=Nt.length;Ht<Ot;Ht++)xt(Nt[Ht],Ve,lt,dt)}function m(Ae,Ve,lt,dt){const{opaque:He,transmissive:Nt,transparent:Ht}=Ae;R.setupLightsView(lt),Ee===!0&&pt.setGlobalState(D.clippingPlanes,lt),dt&&Ze.viewport(H.copy(dt)),He.length>0&&gn(He,Ve,lt),Nt.length>0&&gn(Nt,Ve,lt),Ht.length>0&&gn(Ht,Ve,lt),Ze.buffers.depth.setTest(!0),Ze.buffers.depth.setMask(!0),Ze.buffers.color.setMask(!0),Ze.setPolygonOffset(!1)}function de(Ae,Ve,lt,dt){if((lt.isScene===!0?lt.overrideMaterial:null)!==null)return;if(R.state.transmissionRenderTarget[dt.id]===void 0){const Hn=nt.has("EXT_color_buffer_half_float")||nt.has("EXT_color_buffer_float");R.state.transmissionRenderTarget[dt.id]=new ed(1,1,{generateMipmaps:!0,type:Hn?io:no,minFilter:Cl,samples:ct.samples,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:fr.workingColorSpace})}const Nt=R.state.transmissionRenderTarget[dt.id],Ht=dt.viewport||H;Nt.setSize(Ht.z*D.transmissionResolutionScale,Ht.w*D.transmissionResolutionScale);const Ot=D.getRenderTarget(),fe=D.getActiveCubeFace(),Mt=D.getActiveMipmapLevel();D.setRenderTarget(Nt),D.getClearColor(ee),Z=D.getClearAlpha(),Z<1&&D.setClearColor(16777215,.5),D.clear(),ve&&Ke.render(lt);const fn=D.toneMapping;D.toneMapping=Ja;const wn=dt.viewport;if(dt.viewport!==void 0&&(dt.viewport=void 0),R.setupLightsView(dt),Ee===!0&&pt.setGlobalState(D.clippingPlanes,dt),gn(Ae,lt,dt),Ne.updateMultisampleRenderTarget(Nt),Ne.updateRenderTargetMipmap(Nt),nt.has("WEBGL_multisampled_render_to_texture")===!1){let Hn=!1;for(let lr=0,Lr=Ve.length;lr<Lr;lr++){const le=Ve[lr],{object:yn,geometry:jt,material:en,group:xn}=le;if(en.side===Ko&&yn.layers.test(dt.layers)){const hn=en.side;en.side=Oi,en.needsUpdate=!0,Pn(yn,lt,dt,jt,en,xn),en.side=hn,en.needsUpdate=!0,Hn=!0}}Hn===!0&&(Ne.updateMultisampleRenderTarget(Nt),Ne.updateRenderTargetMipmap(Nt))}D.setRenderTarget(Ot,fe,Mt),D.setClearColor(ee,Z),wn!==void 0&&(dt.viewport=wn),D.toneMapping=fn}function gn(Ae,Ve,lt){const dt=Ve.isScene===!0?Ve.overrideMaterial:null;for(let He=0,Nt=Ae.length;He<Nt;He++){const Ht=Ae[He],{object:Ot,geometry:fe,group:Mt}=Ht;let fn=Ht.material;fn.allowOverride===!0&&dt!==null&&(fn=dt),Ot.layers.test(lt.layers)&&Pn(Ot,Ve,lt,fe,fn,Mt)}}function Pn(Ae,Ve,lt,dt,He,Nt){Ae.onBeforeRender(D,Ve,lt,dt,He,Nt),Ae.modelViewMatrix.multiplyMatrices(lt.matrixWorldInverse,Ae.matrixWorld),Ae.normalMatrix.getNormalMatrix(Ae.modelViewMatrix),He.onBeforeRender(D,Ve,lt,dt,Ae,Nt),He.transparent===!0&&He.side===Ko&&He.forceSinglePass===!1?(He.side=Oi,He.needsUpdate=!0,D.renderBufferDirect(lt,Ve,dt,He,Ae,Nt),He.side=cc,He.needsUpdate=!0,D.renderBufferDirect(lt,Ve,dt,He,Ae,Nt),He.side=Ko):D.renderBufferDirect(lt,Ve,dt,He,Ae,Nt),Ae.onAfterRender(D,Ve,lt,dt,He,Nt)}function tr(Ae,Ve,lt){Ve.isScene!==!0&&(Ve=_e);const dt=te.get(Ae),He=R.state.lights,Nt=R.state.shadowsArray,Ht=He.state.version,Ot=Et.getParameters(Ae,He.state,Nt,Ve,lt),fe=Et.getProgramCacheKey(Ot);let Mt=dt.programs;dt.environment=Ae.isMeshStandardMaterial?Ve.environment:null,dt.fog=Ve.fog,dt.envMap=(Ae.isMeshStandardMaterial?gt:qe).get(Ae.envMap||dt.environment),dt.envMapRotation=dt.environment!==null&&Ae.envMap===null?Ve.environmentRotation:Ae.envMapRotation,Mt===void 0&&(Ae.addEventListener("dispose",dn),Mt=new Map,dt.programs=Mt);let fn=Mt.get(fe);if(fn!==void 0){if(dt.currentProgram===fn&&dt.lightsStateVersion===Ht)return Gn(Ae,Ot),fn}else Ot.uniforms=Et.getUniforms(Ae),Ae.onBeforeCompile(Ot,D),fn=Et.acquireProgram(Ot,fe),Mt.set(fe,fn),dt.uniforms=Ot.uniforms;const wn=dt.uniforms;return(!Ae.isShaderMaterial&&!Ae.isRawShaderMaterial||Ae.clipping===!0)&&(wn.clippingPlanes=pt.uniform),Gn(Ae,Ot),dt.needsLights=Dt(Ae),dt.lightsStateVersion=Ht,dt.needsLights&&(wn.ambientLightColor.value=He.state.ambient,wn.lightProbe.value=He.state.probe,wn.directionalLights.value=He.state.directional,wn.directionalLightShadows.value=He.state.directionalShadow,wn.spotLights.value=He.state.spot,wn.spotLightShadows.value=He.state.spotShadow,wn.rectAreaLights.value=He.state.rectArea,wn.ltc_1.value=He.state.rectAreaLTC1,wn.ltc_2.value=He.state.rectAreaLTC2,wn.pointLights.value=He.state.point,wn.pointLightShadows.value=He.state.pointShadow,wn.hemisphereLights.value=He.state.hemi,wn.directionalShadowMap.value=He.state.directionalShadowMap,wn.directionalShadowMatrix.value=He.state.directionalShadowMatrix,wn.spotShadowMap.value=He.state.spotShadowMap,wn.spotLightMatrix.value=He.state.spotLightMatrix,wn.spotLightMap.value=He.state.spotLightMap,wn.pointShadowMap.value=He.state.pointShadowMap,wn.pointShadowMatrix.value=He.state.pointShadowMatrix),dt.currentProgram=fn,dt.uniformsList=null,fn}function bn(Ae){if(Ae.uniformsList===null){const Ve=Ae.currentProgram.getUniforms();Ae.uniformsList=CE.seqWithValue(Ve.seq,Ae.uniforms)}return Ae.uniformsList}function Gn(Ae,Ve){const lt=te.get(Ae);lt.outputColorSpace=Ve.outputColorSpace,lt.batching=Ve.batching,lt.batchingColor=Ve.batchingColor,lt.instancing=Ve.instancing,lt.instancingColor=Ve.instancingColor,lt.instancingMorph=Ve.instancingMorph,lt.skinning=Ve.skinning,lt.morphTargets=Ve.morphTargets,lt.morphNormals=Ve.morphNormals,lt.morphColors=Ve.morphColors,lt.morphTargetsCount=Ve.morphTargetsCount,lt.numClippingPlanes=Ve.numClippingPlanes,lt.numIntersection=Ve.numClipIntersection,lt.vertexAlphas=Ve.vertexAlphas,lt.vertexTangents=Ve.vertexTangents,lt.toneMapping=Ve.toneMapping}function _r(Ae,Ve,lt,dt,He){Ve.isScene!==!0&&(Ve=_e),Ne.resetTextureUnits();const Nt=Ve.fog,Ht=dt.isMeshStandardMaterial?Ve.environment:null,Ot=q===null?D.outputColorSpace:q.isXRRenderTarget===!0?q.texture.colorSpace:im,fe=(dt.isMeshStandardMaterial?gt:qe).get(dt.envMap||Ht),Mt=dt.vertexColors===!0&&!!lt.attributes.color&&lt.attributes.color.itemSize===4,fn=!!lt.attributes.tangent&&(!!dt.normalMap||dt.anisotropy>0),wn=!!lt.morphAttributes.position,Hn=!!lt.morphAttributes.normal,lr=!!lt.morphAttributes.color;let Lr=Ja;dt.toneMapped&&(q===null||q.isXRRenderTarget===!0)&&(Lr=D.toneMapping);const le=lt.morphAttributes.position||lt.morphAttributes.normal||lt.morphAttributes.color,yn=le!==void 0?le.length:0,jt=te.get(dt),en=R.state.lights;if(Ee===!0&&(Me===!0||Ae!==j)){const Wr=Ae===j&&dt.id===G;pt.setState(dt,Ae,Wr)}let xn=!1;dt.version===jt.__version?(jt.needsLights&&jt.lightsStateVersion!==en.state.version||jt.outputColorSpace!==Ot||He.isBatchedMesh&&jt.batching===!1||!He.isBatchedMesh&&jt.batching===!0||He.isBatchedMesh&&jt.batchingColor===!0&&He.colorTexture===null||He.isBatchedMesh&&jt.batchingColor===!1&&He.colorTexture!==null||He.isInstancedMesh&&jt.instancing===!1||!He.isInstancedMesh&&jt.instancing===!0||He.isSkinnedMesh&&jt.skinning===!1||!He.isSkinnedMesh&&jt.skinning===!0||He.isInstancedMesh&&jt.instancingColor===!0&&He.instanceColor===null||He.isInstancedMesh&&jt.instancingColor===!1&&He.instanceColor!==null||He.isInstancedMesh&&jt.instancingMorph===!0&&He.morphTexture===null||He.isInstancedMesh&&jt.instancingMorph===!1&&He.morphTexture!==null||jt.envMap!==fe||dt.fog===!0&&jt.fog!==Nt||jt.numClippingPlanes!==void 0&&(jt.numClippingPlanes!==pt.numPlanes||jt.numIntersection!==pt.numIntersection)||jt.vertexAlphas!==Mt||jt.vertexTangents!==fn||jt.morphTargets!==wn||jt.morphNormals!==Hn||jt.morphColors!==lr||jt.toneMapping!==Lr||jt.morphTargetsCount!==yn)&&(xn=!0):(xn=!0,jt.__version=dt.version);let hn=jt.currentProgram;xn===!0&&(hn=tr(dt,Ve,He));let An=!1,Xn=!1,cr=!1;const nr=hn.getUniforms(),Mr=jt.uniforms;if(Ze.useProgram(hn.program)&&(An=!0,Xn=!0,cr=!0),dt.id!==G&&(G=dt.id,Xn=!0),An||j!==Ae){Ze.buffers.depth.getReversed()&&Ae.reversedDepth!==!0&&(Ae._reversedDepth=!0,Ae.updateProjectionMatrix()),nr.setValue(ue,"projectionMatrix",Ae.projectionMatrix),nr.setValue(ue,"viewMatrix",Ae.matrixWorldInverse);const zn=nr.map.cameraPosition;zn!==void 0&&zn.setValue(ue,Ue.setFromMatrixPosition(Ae.matrixWorld)),ct.logarithmicDepthBuffer&&nr.setValue(ue,"logDepthBufFC",2/(Math.log(Ae.far+1)/Math.LN2)),(dt.isMeshPhongMaterial||dt.isMeshToonMaterial||dt.isMeshLambertMaterial||dt.isMeshBasicMaterial||dt.isMeshStandardMaterial||dt.isShaderMaterial)&&nr.setValue(ue,"isOrthographic",Ae.isOrthographicCamera===!0),j!==Ae&&(j=Ae,Xn=!0,cr=!0)}if(jt.needsLights&&(en.state.directionalShadowMap.length>0&&nr.setValue(ue,"directionalShadowMap",en.state.directionalShadowMap,Ne),en.state.spotShadowMap.length>0&&nr.setValue(ue,"spotShadowMap",en.state.spotShadowMap,Ne),en.state.pointShadowMap.length>0&&nr.setValue(ue,"pointShadowMap",en.state.pointShadowMap,Ne)),He.isSkinnedMesh){nr.setOptional(ue,He,"bindMatrix"),nr.setOptional(ue,He,"bindMatrixInverse");const Wr=He.skeleton;Wr&&(Wr.boneTexture===null&&Wr.computeBoneTexture(),nr.setValue(ue,"boneTexture",Wr.boneTexture,Ne))}He.isBatchedMesh&&(nr.setOptional(ue,He,"batchingTexture"),nr.setValue(ue,"batchingTexture",He._matricesTexture,Ne),nr.setOptional(ue,He,"batchingIdTexture"),nr.setValue(ue,"batchingIdTexture",He._indirectTexture,Ne),nr.setOptional(ue,He,"batchingColorTexture"),He._colorsTexture!==null&&nr.setValue(ue,"batchingColorTexture",He._colorsTexture,Ne));const ur=lt.morphAttributes;if((ur.position!==void 0||ur.normal!==void 0||ur.color!==void 0)&&Rt.update(He,lt,hn),(Xn||jt.receiveShadow!==He.receiveShadow)&&(jt.receiveShadow=He.receiveShadow,nr.setValue(ue,"receiveShadow",He.receiveShadow)),dt.isMeshGouraudMaterial&&dt.envMap!==null&&(Mr.envMap.value=fe,Mr.flipEnvMap.value=fe.isCubeTexture&&fe.isRenderTargetTexture===!1?-1:1),dt.isMeshStandardMaterial&&dt.envMap===null&&Ve.environment!==null&&(Mr.envMapIntensity.value=Ve.environmentIntensity),Mr.dfgLUT!==void 0&&(Mr.dfgLUT.value=Cze()),Xn&&(nr.setValue(ue,"toneMappingExposure",D.toneMappingExposure),jt.needsLights&&Ln(Mr,cr),Nt&&dt.fog===!0&&Tt.refreshFogUniforms(Mr,Nt),Tt.refreshMaterialUniforms(Mr,dt,ce,ae,R.state.transmissionRenderTarget[Ae.id]),CE.upload(ue,bn(jt),Mr,Ne)),dt.isShaderMaterial&&dt.uniformsNeedUpdate===!0&&(CE.upload(ue,bn(jt),Mr,Ne),dt.uniformsNeedUpdate=!1),dt.isSpriteMaterial&&nr.setValue(ue,"center",He.center),nr.setValue(ue,"modelViewMatrix",He.modelViewMatrix),nr.setValue(ue,"normalMatrix",He.normalMatrix),nr.setValue(ue,"modelMatrix",He.matrixWorld),dt.isShaderMaterial||dt.isRawShaderMaterial){const Wr=dt.uniformsGroups;for(let zn=0,Fn=Wr.length;zn<Fn;zn++){const rr=Wr[zn];Qe.update(rr,hn),Qe.bind(rr,hn)}}return hn}function Ln(Ae,Ve){Ae.ambientLightColor.needsUpdate=Ve,Ae.lightProbe.needsUpdate=Ve,Ae.directionalLights.needsUpdate=Ve,Ae.directionalLightShadows.needsUpdate=Ve,Ae.pointLights.needsUpdate=Ve,Ae.pointLightShadows.needsUpdate=Ve,Ae.spotLights.needsUpdate=Ve,Ae.spotLightShadows.needsUpdate=Ve,Ae.rectAreaLights.needsUpdate=Ve,Ae.hemisphereLights.needsUpdate=Ve}function Dt(Ae){return Ae.isMeshLambertMaterial||Ae.isMeshToonMaterial||Ae.isMeshPhongMaterial||Ae.isMeshStandardMaterial||Ae.isShadowMaterial||Ae.isShaderMaterial&&Ae.lights===!0}this.getActiveCubeFace=function(){return z},this.getActiveMipmapLevel=function(){return V},this.getRenderTarget=function(){return q},this.setRenderTargetTextures=function(Ae,Ve,lt){const dt=te.get(Ae);dt.__autoAllocateDepthBuffer=Ae.resolveDepthBuffer===!1,dt.__autoAllocateDepthBuffer===!1&&(dt.__useRenderToTexture=!1),te.get(Ae.texture).__webglTexture=Ve,te.get(Ae.depthTexture).__webglTexture=dt.__autoAllocateDepthBuffer?void 0:lt,dt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Ae,Ve){const lt=te.get(Ae);lt.__webglFramebuffer=Ve,lt.__useDefaultFramebuffer=Ve===void 0};const cn=ue.createFramebuffer();this.setRenderTarget=function(Ae,Ve=0,lt=0){q=Ae,z=Ve,V=lt;let dt=null,He=!1,Nt=!1;if(Ae){const Ot=te.get(Ae);if(Ot.__useDefaultFramebuffer!==void 0){Ze.bindFramebuffer(ue.FRAMEBUFFER,Ot.__webglFramebuffer),H.copy(Ae.viewport),X.copy(Ae.scissor),Y=Ae.scissorTest,Ze.viewport(H),Ze.scissor(X),Ze.setScissorTest(Y),G=-1;return}else if(Ot.__webglFramebuffer===void 0)Ne.setupRenderTarget(Ae);else if(Ot.__hasExternalTextures)Ne.rebindTextures(Ae,te.get(Ae.texture).__webglTexture,te.get(Ae.depthTexture).__webglTexture);else if(Ae.depthBuffer){const fn=Ae.depthTexture;if(Ot.__boundDepthTexture!==fn){if(fn!==null&&te.has(fn)&&(Ae.width!==fn.image.width||Ae.height!==fn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ne.setupDepthRenderbuffer(Ae)}}const fe=Ae.texture;(fe.isData3DTexture||fe.isDataArrayTexture||fe.isCompressedArrayTexture)&&(Nt=!0);const Mt=te.get(Ae).__webglFramebuffer;Ae.isWebGLCubeRenderTarget?(Array.isArray(Mt[Ve])?dt=Mt[Ve][lt]:dt=Mt[Ve],He=!0):Ae.samples>0&&Ne.useMultisampledRTT(Ae)===!1?dt=te.get(Ae).__webglMultisampledFramebuffer:Array.isArray(Mt)?dt=Mt[lt]:dt=Mt,H.copy(Ae.viewport),X.copy(Ae.scissor),Y=Ae.scissorTest}else H.copy(se).multiplyScalar(ce).floor(),X.copy(me).multiplyScalar(ce).floor(),Y=ye;if(lt!==0&&(dt=cn),Ze.bindFramebuffer(ue.FRAMEBUFFER,dt)&&Ze.drawBuffers(Ae,dt),Ze.viewport(H),Ze.scissor(X),Ze.setScissorTest(Y),He){const Ot=te.get(Ae.texture);ue.framebufferTexture2D(ue.FRAMEBUFFER,ue.COLOR_ATTACHMENT0,ue.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,Ot.__webglTexture,lt)}else if(Nt){const Ot=Ve;for(let fe=0;fe<Ae.textures.length;fe++){const Mt=te.get(Ae.textures[fe]);ue.framebufferTextureLayer(ue.FRAMEBUFFER,ue.COLOR_ATTACHMENT0+fe,Mt.__webglTexture,lt,Ot)}}else if(Ae!==null&&lt!==0){const Ot=te.get(Ae.texture);ue.framebufferTexture2D(ue.FRAMEBUFFER,ue.COLOR_ATTACHMENT0,ue.TEXTURE_2D,Ot.__webglTexture,lt)}G=-1},this.readRenderTargetPixels=function(Ae,Ve,lt,dt,He,Nt,Ht,Ot=0){if(!(Ae&&Ae.isWebGLRenderTarget)){Kt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let fe=te.get(Ae).__webglFramebuffer;if(Ae.isWebGLCubeRenderTarget&&Ht!==void 0&&(fe=fe[Ht]),fe){Ze.bindFramebuffer(ue.FRAMEBUFFER,fe);try{const Mt=Ae.textures[Ot],fn=Mt.format,wn=Mt.type;if(!ct.textureFormatReadable(fn)){Kt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ct.textureTypeReadable(wn)){Kt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ve>=0&&Ve<=Ae.width-dt&&lt>=0&&lt<=Ae.height-He&&(Ae.textures.length>1&&ue.readBuffer(ue.COLOR_ATTACHMENT0+Ot),ue.readPixels(Ve,lt,dt,He,Lt.convert(fn),Lt.convert(wn),Nt))}finally{const Mt=q!==null?te.get(q).__webglFramebuffer:null;Ze.bindFramebuffer(ue.FRAMEBUFFER,Mt)}}},this.readRenderTargetPixelsAsync=async function(Ae,Ve,lt,dt,He,Nt,Ht,Ot=0){if(!(Ae&&Ae.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let fe=te.get(Ae).__webglFramebuffer;if(Ae.isWebGLCubeRenderTarget&&Ht!==void 0&&(fe=fe[Ht]),fe)if(Ve>=0&&Ve<=Ae.width-dt&&lt>=0&&lt<=Ae.height-He){Ze.bindFramebuffer(ue.FRAMEBUFFER,fe);const Mt=Ae.textures[Ot],fn=Mt.format,wn=Mt.type;if(!ct.textureFormatReadable(fn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ct.textureTypeReadable(wn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Hn=ue.createBuffer();ue.bindBuffer(ue.PIXEL_PACK_BUFFER,Hn),ue.bufferData(ue.PIXEL_PACK_BUFFER,Nt.byteLength,ue.STREAM_READ),Ae.textures.length>1&&ue.readBuffer(ue.COLOR_ATTACHMENT0+Ot),ue.readPixels(Ve,lt,dt,He,Lt.convert(fn),Lt.convert(wn),0);const lr=q!==null?te.get(q).__webglFramebuffer:null;Ze.bindFramebuffer(ue.FRAMEBUFFER,lr);const Lr=ue.fenceSync(ue.SYNC_GPU_COMMANDS_COMPLETE,0);return ue.flush(),await $Be(ue,Lr,4),ue.bindBuffer(ue.PIXEL_PACK_BUFFER,Hn),ue.getBufferSubData(ue.PIXEL_PACK_BUFFER,0,Nt),ue.deleteBuffer(Hn),ue.deleteSync(Lr),Nt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Ae,Ve=null,lt=0){const dt=Math.pow(2,-lt),He=Math.floor(Ae.image.width*dt),Nt=Math.floor(Ae.image.height*dt),Ht=Ve!==null?Ve.x:0,Ot=Ve!==null?Ve.y:0;Ne.setTexture2D(Ae,0),ue.copyTexSubImage2D(ue.TEXTURE_2D,lt,0,0,Ht,Ot,He,Nt),Ze.unbindTexture()};const Bn=ue.createFramebuffer(),er=ue.createFramebuffer();this.copyTextureToTexture=function(Ae,Ve,lt=null,dt=null,He=0,Nt=null){Nt===null&&(He!==0?($i("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Nt=He,He=0):Nt=0);let Ht,Ot,fe,Mt,fn,wn,Hn,lr,Lr;const le=Ae.isCompressedTexture?Ae.mipmaps[Nt]:Ae.image;if(lt!==null)Ht=lt.max.x-lt.min.x,Ot=lt.max.y-lt.min.y,fe=lt.isBox3?lt.max.z-lt.min.z:1,Mt=lt.min.x,fn=lt.min.y,wn=lt.isBox3?lt.min.z:0;else{const ur=Math.pow(2,-He);Ht=Math.floor(le.width*ur),Ot=Math.floor(le.height*ur),Ae.isDataArrayTexture?fe=le.depth:Ae.isData3DTexture?fe=Math.floor(le.depth*ur):fe=1,Mt=0,fn=0,wn=0}dt!==null?(Hn=dt.x,lr=dt.y,Lr=dt.z):(Hn=0,lr=0,Lr=0);const yn=Lt.convert(Ve.format),jt=Lt.convert(Ve.type);let en;Ve.isData3DTexture?(Ne.setTexture3D(Ve,0),en=ue.TEXTURE_3D):Ve.isDataArrayTexture||Ve.isCompressedArrayTexture?(Ne.setTexture2DArray(Ve,0),en=ue.TEXTURE_2D_ARRAY):(Ne.setTexture2D(Ve,0),en=ue.TEXTURE_2D),ue.pixelStorei(ue.UNPACK_FLIP_Y_WEBGL,Ve.flipY),ue.pixelStorei(ue.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ve.premultiplyAlpha),ue.pixelStorei(ue.UNPACK_ALIGNMENT,Ve.unpackAlignment);const xn=ue.getParameter(ue.UNPACK_ROW_LENGTH),hn=ue.getParameter(ue.UNPACK_IMAGE_HEIGHT),An=ue.getParameter(ue.UNPACK_SKIP_PIXELS),Xn=ue.getParameter(ue.UNPACK_SKIP_ROWS),cr=ue.getParameter(ue.UNPACK_SKIP_IMAGES);ue.pixelStorei(ue.UNPACK_ROW_LENGTH,le.width),ue.pixelStorei(ue.UNPACK_IMAGE_HEIGHT,le.height),ue.pixelStorei(ue.UNPACK_SKIP_PIXELS,Mt),ue.pixelStorei(ue.UNPACK_SKIP_ROWS,fn),ue.pixelStorei(ue.UNPACK_SKIP_IMAGES,wn);const nr=Ae.isDataArrayTexture||Ae.isData3DTexture,Mr=Ve.isDataArrayTexture||Ve.isData3DTexture;if(Ae.isDepthTexture){const ur=te.get(Ae),Wr=te.get(Ve),zn=te.get(ur.__renderTarget),Fn=te.get(Wr.__renderTarget);Ze.bindFramebuffer(ue.READ_FRAMEBUFFER,zn.__webglFramebuffer),Ze.bindFramebuffer(ue.DRAW_FRAMEBUFFER,Fn.__webglFramebuffer);for(let rr=0;rr<fe;rr++)nr&&(ue.framebufferTextureLayer(ue.READ_FRAMEBUFFER,ue.COLOR_ATTACHMENT0,te.get(Ae).__webglTexture,He,wn+rr),ue.framebufferTextureLayer(ue.DRAW_FRAMEBUFFER,ue.COLOR_ATTACHMENT0,te.get(Ve).__webglTexture,Nt,Lr+rr)),ue.blitFramebuffer(Mt,fn,Ht,Ot,Hn,lr,Ht,Ot,ue.DEPTH_BUFFER_BIT,ue.NEAREST);Ze.bindFramebuffer(ue.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(ue.DRAW_FRAMEBUFFER,null)}else if(He!==0||Ae.isRenderTargetTexture||te.has(Ae)){const ur=te.get(Ae),Wr=te.get(Ve);Ze.bindFramebuffer(ue.READ_FRAMEBUFFER,Bn),Ze.bindFramebuffer(ue.DRAW_FRAMEBUFFER,er);for(let zn=0;zn<fe;zn++)nr?ue.framebufferTextureLayer(ue.READ_FRAMEBUFFER,ue.COLOR_ATTACHMENT0,ur.__webglTexture,He,wn+zn):ue.framebufferTexture2D(ue.READ_FRAMEBUFFER,ue.COLOR_ATTACHMENT0,ue.TEXTURE_2D,ur.__webglTexture,He),Mr?ue.framebufferTextureLayer(ue.DRAW_FRAMEBUFFER,ue.COLOR_ATTACHMENT0,Wr.__webglTexture,Nt,Lr+zn):ue.framebufferTexture2D(ue.DRAW_FRAMEBUFFER,ue.COLOR_ATTACHMENT0,ue.TEXTURE_2D,Wr.__webglTexture,Nt),He!==0?ue.blitFramebuffer(Mt,fn,Ht,Ot,Hn,lr,Ht,Ot,ue.COLOR_BUFFER_BIT,ue.NEAREST):Mr?ue.copyTexSubImage3D(en,Nt,Hn,lr,Lr+zn,Mt,fn,Ht,Ot):ue.copyTexSubImage2D(en,Nt,Hn,lr,Mt,fn,Ht,Ot);Ze.bindFramebuffer(ue.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(ue.DRAW_FRAMEBUFFER,null)}else Mr?Ae.isDataTexture||Ae.isData3DTexture?ue.texSubImage3D(en,Nt,Hn,lr,Lr,Ht,Ot,fe,yn,jt,le.data):Ve.isCompressedArrayTexture?ue.compressedTexSubImage3D(en,Nt,Hn,lr,Lr,Ht,Ot,fe,yn,le.data):ue.texSubImage3D(en,Nt,Hn,lr,Lr,Ht,Ot,fe,yn,jt,le):Ae.isDataTexture?ue.texSubImage2D(ue.TEXTURE_2D,Nt,Hn,lr,Ht,Ot,yn,jt,le.data):Ae.isCompressedTexture?ue.compressedTexSubImage2D(ue.TEXTURE_2D,Nt,Hn,lr,le.width,le.height,yn,le.data):ue.texSubImage2D(ue.TEXTURE_2D,Nt,Hn,lr,Ht,Ot,yn,jt,le);ue.pixelStorei(ue.UNPACK_ROW_LENGTH,xn),ue.pixelStorei(ue.UNPACK_IMAGE_HEIGHT,hn),ue.pixelStorei(ue.UNPACK_SKIP_PIXELS,An),ue.pixelStorei(ue.UNPACK_SKIP_ROWS,Xn),ue.pixelStorei(ue.UNPACK_SKIP_IMAGES,cr),Nt===0&&Ve.generateMipmaps&&ue.generateMipmap(en),Ze.unbindTexture()},this.initRenderTarget=function(Ae){te.get(Ae).__webglFramebuffer===void 0&&Ne.setupRenderTarget(Ae)},this.initTexture=function(Ae){Ae.isCubeTexture?Ne.setTextureCube(Ae,0):Ae.isData3DTexture?Ne.setTexture3D(Ae,0):Ae.isDataArrayTexture||Ae.isCompressedArrayTexture?Ne.setTexture2DArray(Ae,0):Ne.setTexture2D(Ae,0),Ze.unbindTexture()},this.resetState=function(){z=0,V=0,q=null,Ze.reset(),tn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Zs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=fr._getDrawingBufferColorSpace(e),n.unpackColorSpace=fr._getUnpackColorSpace()}}class Eze extends uo{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new Wt(.5,.5),this.addEventListener("removed",function(){this.traverse(function(n){n.element&&n.element instanceof n.element.ownerDocument.defaultView.Element&&n.element.parentNode!==null&&n.element.remove()})})}copy(e,n){return super.copy(e,n),this.element=e.element.cloneNode(!0),this.center=e.center,this}}const _A=new Te,Fq=new wr,$q=new wr,kq=new Te,Uq=new Te;class Mze{constructor(e={}){const n=this;let r,i,o,a;const s={objects:new WeakMap},l=e.element!==void 0?e.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l,this.sortObjects=!0,this.getSize=function(){return{width:r,height:i}},this.render=function(p,_){p.matrixWorldAutoUpdate===!0&&p.updateMatrixWorld(),_.parent===null&&_.matrixWorldAutoUpdate===!0&&_.updateMatrixWorld(),Fq.copy(_.matrixWorldInverse),$q.multiplyMatrices(_.projectionMatrix,Fq),u(p,p,_),this.sortObjects&&h(p)},this.setSize=function(p,_){r=p,i=_,o=r/2,a=i/2,l.style.width=p+"px",l.style.height=_+"px"};function c(p){p.isCSS2DObject&&(p.element.style.display="none");for(let _=0,x=p.children.length;_<x;_++)c(p.children[_])}function u(p,_,x){if(p.visible===!1){c(p);return}if(p.isCSS2DObject){_A.setFromMatrixPosition(p.matrixWorld),_A.applyMatrix4($q);const y=_A.z>=-1&&_A.z<=1&&p.layers.test(x.layers)===!0,w=p.element;w.style.display=y===!0?"":"none",y===!0&&(p.onBeforeRender(n,_,x),w.style.transform="translate("+-100*p.center.x+"%,"+-100*p.center.y+"%)translate("+(_A.x*o+o)+"px,"+(-_A.y*a+a)+"px)",w.parentNode!==l&&l.appendChild(w),p.onAfterRender(n,_,x));const C={distanceToCameraSquared:d(x,p)};s.objects.set(p,C)}for(let y=0,w=p.children.length;y<w;y++)u(p.children[y],_,x)}function d(p,_){return kq.setFromMatrixPosition(p.matrixWorld),Uq.setFromMatrixPosition(_.matrixWorld),kq.distanceToSquared(Uq)}function f(p){const _=[];return p.traverseVisible(function(x){x.isCSS2DObject&&_.push(x)}),_}function h(p){const _=f(p).sort(function(y,w){if(y.renderOrder!==w.renderOrder)return w.renderOrder-y.renderOrder;const C=s.objects.get(y).distanceToCameraSquared,M=s.objects.get(w).distanceToCameraSquared;return C-M}),x=_.length;for(let y=0,w=_.length;y<w;y++)_[y].element.style.zIndex=x-y}}}function R8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Pze=typeof global=="object"&&global&&global.Object===Object&&global;const Rze=Pze;var Nze=typeof self=="object"&&self&&self.Object===Object&&self,Ize=Rze||Nze||Function("return this")();const $ae=Ize;var Oze=function(){return $ae.Date.now()};const MO=Oze;var Dze=/\s/;function Lze(t){for(var e=t.length;e--&&Dze.test(t.charAt(e)););return e}var Bze=/^\s+/;function Fze(t){return t&&t.slice(0,Lze(t)+1).replace(Bze,"")}var $ze=$ae.Symbol;const qM=$ze;var kae=Object.prototype,kze=kae.hasOwnProperty,Uze=kae.toString,Ib=qM?qM.toStringTag:void 0;function zze(t){var e=kze.call(t,Ib),n=t[Ib];try{t[Ib]=void 0;var r=!0}catch{}var i=Uze.call(t);return r&&(e?t[Ib]=n:delete t[Ib]),i}var Vze=Object.prototype,Gze=Vze.toString;function Hze(t){return Gze.call(t)}var jze="[object Null]",qze="[object Undefined]",zq=qM?qM.toStringTag:void 0;function Wze(t){return t==null?t===void 0?qze:jze:zq&&zq in Object(t)?zze(t):Hze(t)}function Xze(t){return t!=null&&typeof t=="object"}var Yze="[object Symbol]";function Kze(t){return typeof t=="symbol"||Xze(t)&&Wze(t)==Yze}var Vq=0/0,Qze=/^[-+]0x[0-9a-f]+$/i,Zze=/^0b[01]+$/i,Jze=/^0o[0-7]+$/i,eVe=parseInt;function Gq(t){if(typeof t=="number")return t;if(Kze(t))return Vq;if(R8(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=R8(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Fze(t);var n=Zze.test(t);return n||Jze.test(t)?eVe(t.slice(2),n?2:8):Qze.test(t)?Vq:+t}var tVe="Expected a function",nVe=Math.max,rVe=Math.min;function iVe(t,e,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(tVe);e=Gq(e)||0,R8(n)&&(u=!!n.leading,d="maxWait"in n,o=d?nVe(Gq(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(N){var I=r,B=i;return r=i=void 0,c=N,a=t.apply(B,I),a}function p(N){return c=N,s=setTimeout(y,e),u?h(N):a}function _(N){var I=N-l,B=N-c,D=e-I;return d?rVe(D,o-B):D}function x(N){var I=N-l,B=N-c;return l===void 0||I>=e||I<0||d&&B>=o}function y(){var N=MO();if(x(N))return w(N);s=setTimeout(y,_(N))}function w(N){return s=void 0,f&&r?h(N):(r=i=void 0,a)}function C(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function M(){return s===void 0?a:w(MO())}function R(){var N=MO(),I=x(N);if(r=arguments,i=this,l=N,I){if(s===void 0)return p(l);if(d)return clearTimeout(s),s=setTimeout(y,e),h(l)}return s===void 0&&(s=setTimeout(y,e)),a}return R.cancel=C,R.flush=M,R}function Hq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function oVe(t){if(Array.isArray(t))return t}function aVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sVe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function lVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function cVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uVe(t,e){return oVe(t)||lVe(t,e)||dVe(t,e)||cVe()}function dVe(t,e){if(t){if(typeof t=="string")return Hq(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hq(t,e):void 0}}var fVe=sVe(function t(e,n){var r=n.default,i=r===void 0?null:r,o=n.triggerUpdate,a=o===void 0?!0:o,s=n.onChange,l=s===void 0?function(c,u){}:s;aVe(this,t),this.name=e,this.defaultVal=i,this.triggerUpdate=a,this.onChange=l});function xa(t){var e=t.stateInit,n=e===void 0?function(){return{}}:e,r=t.props,i=r===void 0?{}:r,o=t.methods,a=o===void 0?{}:o,s=t.aliases,l=s===void 0?{}:s,c=t.init,u=c===void 0?function(){}:c,d=t.update,f=d===void 0?function(){}:d,h=Object.keys(i).map(function(p){return new fVe(p,i[p])});return function p(){for(var _=arguments.length,x=new Array(_),y=0;y<_;y++)x[y]=arguments[y];var w=!!(this instanceof p&&this.constructor),C=w?x.shift():void 0,M=x[0],R=M===void 0?{}:M,N=Object.assign({},n instanceof Function?n(R):n,{initialised:!1}),I={};function B(z){return D(z,R),$(),B}var D=function(V,q){u.call(B,V,N,q),N.initialised=!0},$=iVe(function(){N.initialised&&(f.call(B,N,I),I={})},1);return h.forEach(function(z){B[z.name]=V(z);function V(q){var G=q.name,j=q.triggerUpdate,H=j===void 0?!1:j,X=q.onChange,Y=X===void 0?function(re,ae){}:X,ee=q.defaultVal,Z=ee===void 0?null:ee;return function(re){var ae=N[G];if(!arguments.length)return ae;var ce=re===void 0?Z:re;return N[G]=ce,Y.call(B,ce,N,ae),!I.hasOwnProperty(G)&&(I[G]=ae),H&&$(),B}}}),Object.keys(a).forEach(function(z){B[z]=function(){for(var V,q=arguments.length,G=new Array(q),j=0;j<q;j++)G[j]=arguments[j];return(V=a[z]).call.apply(V,[B,N].concat(G))}}),Object.entries(l).forEach(function(z){var V=uVe(z,2),q=V[0],G=V[1];return B[q]=B[G]}),B.resetProps=function(){return h.forEach(function(z){B[z.name](z.defaultVal)}),B},B.resetProps(),N._rerender=$,w&&C&&B(C),B}}var ca=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return t},Out:function(t){return t},InOut:function(t){return t}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-ca.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?ca.Bounce.In(t*2)*.5:ca.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),vx=function(){return performance.now()},$R=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(n){return e._tweens[n]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];(e=a._group)===null||e===void 0||e.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},t.prototype.remove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},t.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},t.prototype.update=function(e,n){e===void 0&&(e=vx()),n===void 0&&(n=!0);var r=Object.keys(this._tweens);if(r.length!==0)for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var o=this._tweens[r[i]],a=!n;o&&o.update(e,a)===!1&&!n&&this.remove(o)}r=Object.keys(this._tweensAddedDuringUpdate)}},t}(),cv={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=cv.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=cv.Utils.Bernstein,a=0;a<=r;a++)n+=i(1-e,r-a)*i(e,a)*t[a]*o(r,a);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=cv.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=cv.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var o=(n-t)*.5,a=(r-e)*.5,s=i*i,l=i*s;return(2*e-2*n+o+a)*l+(-3*e+3*n-2*o-a)*s+o*i+e}}},hVe=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),N8=new $R,Ds=function(){function t(e,n){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ca.Linear.None,this._interpolationFunction=cv.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=hVe.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof n=="object"?(this._group=n,n.add(this)):n===!0&&(this._group=N8,N8.add(this))}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.getDuration=function(){return this._duration},t.prototype.to=function(e,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,n){if(e===void 0&&(e=vx()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var o in this._valuesEnd)i[o]=this._valuesEnd[o];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,n,r,i,o){for(var a in r){var s=e[a],l=Array.isArray(s),c=l?"array":typeof s,u=!l&&Array.isArray(r[a]);if(!(c==="undefined"||c==="function")){if(u){var d=r[a];if(d.length===0)continue;for(var f=[s],h=0,p=d.length;h<p;h+=1){var _=this._handleRelativeValue(s,d[h]);if(isNaN(_)){u=!1,console.warn("Found invalid interpolation list. Skipping.");break}f.push(_)}u&&(r[a]=f)}if((c==="object"||l)&&s&&!u){n[a]=l?[]:{};var x=s;for(var y in x)n[a][y]=x[y];i[a]=l?[]:{};var d=r[a];if(!this._isDynamic){var w={};for(var y in d)w[y]=d[y];r[a]=d=w}this._setupProperties(x,n[a],d,i[a],o)}else(typeof n[a]>"u"||o)&&(n[a]=s),l||(n[a]*=1),u?i[a]=r[a].slice().reverse():i[a]=n[a]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},t.prototype.pause=function(e){return e===void 0&&(e=vx()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},t.prototype.resume=function(e){return e===void 0&&(e=vx()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},t.prototype.stopChainedTweens=function(){for(var e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},t.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=ca.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=cv.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,n){var r=this,i;if(e===void 0&&(e=vx()),n===void 0&&(n=t.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(n)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=e-this._startTime,s=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),l=this._duration+this._repeat*s,c=function(){if(r._duration===0||a>l)return 1;var _=Math.trunc(a/s),x=a-_*s,y=Math.min(x/r._duration,1);return y===0&&a===r._duration?1:y},u=c(),d=this._easingFunction(u);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,d),this._onUpdateCallback&&this._onUpdateCallback(this._object,u),this._duration===0||a>=this._duration)if(this._repeat>0){var f=Math.min(Math.trunc((a-this._duration)/s)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=f);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=s*f,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var h=0,p=this._chainedTweens.length;h<p;h++)this._chainedTweens[h].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,n,r,i){for(var o in r)if(n[o]!==void 0){var a=n[o]||0,s=r[o],l=Array.isArray(e[o]),c=Array.isArray(s),u=!l&&c;u?e[o]=this._interpolationFunction(s,i):typeof s=="object"&&s?this._updateProperties(e[o],a,s,i):(s=this._handleRelativeValue(a,s),typeof s=="number"&&(e[o]=a+(s-a)*i))}},t.prototype._handleRelativeValue=function(e,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?e+parseFloat(n):parseFloat(n)},t.prototype._swapEndStartRepeatValues=function(e){var n=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=n},t.autoStartOnUpdate=!1,t}(),mf=N8;mf.getAll.bind(mf);mf.removeAll.bind(mf);mf.add.bind(mf);mf.remove.bind(mf);mf.update.bind(mf);function pVe(t){const e=+this._x.call(null,t),n=+this._y.call(null,t),r=+this._z.call(null,t);return Uae(this.cover(e,n,r),e,n,r,t)}function Uae(t,e,n,r,i){if(isNaN(e)||isNaN(n)||isNaN(r))return t;var o,a=t._root,s={data:i},l=t._x0,c=t._y0,u=t._z0,d=t._x1,f=t._y1,h=t._z1,p,_,x,y,w,C,M,R,N,I,B;if(!a)return t._root=s,t;for(;a.length;)if((M=e>=(p=(l+d)/2))?l=p:d=p,(R=n>=(_=(c+f)/2))?c=_:f=_,(N=r>=(x=(u+h)/2))?u=x:h=x,o=a,!(a=a[I=N<<2|R<<1|M]))return o[I]=s,t;if(y=+t._x.call(null,a.data),w=+t._y.call(null,a.data),C=+t._z.call(null,a.data),e===y&&n===w&&r===C)return s.next=a,o?o[I]=s:t._root=s,t;do o=o?o[I]=new Array(8):t._root=new Array(8),(M=e>=(p=(l+d)/2))?l=p:d=p,(R=n>=(_=(c+f)/2))?c=_:f=_,(N=r>=(x=(u+h)/2))?u=x:h=x;while((I=N<<2|R<<1|M)===(B=(C>=x)<<2|(w>=_)<<1|y>=p));return o[B]=a,o[I]=s,t}function mVe(t){Array.isArray(t)||(t=Array.from(t));const e=t.length,n=new Float64Array(e),r=new Float64Array(e),i=new Float64Array(e);let o=1/0,a=1/0,s=1/0,l=-1/0,c=-1/0,u=-1/0;for(let d=0,f,h,p,_;d<e;++d)isNaN(h=+this._x.call(null,f=t[d]))||isNaN(p=+this._y.call(null,f))||isNaN(_=+this._z.call(null,f))||(n[d]=h,r[d]=p,i[d]=_,h<o&&(o=h),h>l&&(l=h),p<a&&(a=p),p>c&&(c=p),_<s&&(s=_),_>u&&(u=_));if(o>l||a>c||s>u)return this;this.cover(o,a,s).cover(l,c,u);for(let d=0;d<e;++d)Uae(this,n[d],r[d],i[d],t[d]);return this}function gVe(t,e,n){if(isNaN(t=+t)||isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,l=this._z1;if(isNaN(r))a=(r=Math.floor(t))+1,s=(i=Math.floor(e))+1,l=(o=Math.floor(n))+1;else{for(var c=a-r||1,u=this._root,d,f;r>t||t>=a||i>e||e>=s||o>n||n>=l;)switch(f=(n<o)<<2|(e<i)<<1|t<r,d=new Array(8),d[f]=u,u=d,c*=2,f){case 0:a=r+c,s=i+c,l=o+c;break;case 1:r=a-c,s=i+c,l=o+c;break;case 2:a=r+c,i=s-c,l=o+c;break;case 3:r=a-c,i=s-c,l=o+c;break;case 4:a=r+c,s=i+c,o=l-c;break;case 5:r=a-c,s=i+c,o=l-c;break;case 6:a=r+c,i=s-c,o=l-c;break;case 7:r=a-c,i=s-c,o=l-c;break}this._root&&this._root.length&&(this._root=u)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this}function AVe(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function vVe(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Zi(t,e,n,r,i,o,a){this.node=t,this.x0=e,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a}function yVe(t,e,n,r){var i,o=this._x0,a=this._y0,s=this._z0,l,c,u,d,f,h,p=this._x1,_=this._y1,x=this._z1,y=[],w=this._root,C,M;for(w&&y.push(new Zi(w,o,a,s,p,_,x)),r==null?r=1/0:(o=t-r,a=e-r,s=n-r,p=t+r,_=e+r,x=n+r,r*=r);C=y.pop();)if(!(!(w=C.node)||(l=C.x0)>p||(c=C.y0)>_||(u=C.z0)>x||(d=C.x1)<o||(f=C.y1)<a||(h=C.z1)<s))if(w.length){var R=(l+d)/2,N=(c+f)/2,I=(u+h)/2;y.push(new Zi(w[7],R,N,I,d,f,h),new Zi(w[6],l,N,I,R,f,h),new Zi(w[5],R,c,I,d,N,h),new Zi(w[4],l,c,I,R,N,h),new Zi(w[3],R,N,u,d,f,I),new Zi(w[2],l,N,u,R,f,I),new Zi(w[1],R,c,u,d,N,I),new Zi(w[0],l,c,u,R,N,I)),(M=(n>=I)<<2|(e>=N)<<1|t>=R)&&(C=y[y.length-1],y[y.length-1]=y[y.length-1-M],y[y.length-1-M]=C)}else{var B=t-+this._x.call(null,w.data),D=e-+this._y.call(null,w.data),$=n-+this._z.call(null,w.data),z=B*B+D*D+$*$;if(z<r){var V=Math.sqrt(r=z);o=t-V,a=e-V,s=n-V,p=t+V,_=e+V,x=n+V,i=w.data}}return i}const bVe=(t,e,n,r,i,o)=>Math.sqrt((t-r)**2+(e-i)**2+(n-o)**2);function xVe(t,e,n,r){const i=[],o=t-r,a=e-r,s=n-r,l=t+r,c=e+r,u=n+r;return this.visit((d,f,h,p,_,x,y)=>{if(!d.length)do{const w=d.data;bVe(t,e,n,this._x(w),this._y(w),this._z(w))<=r&&i.push(w)}while(d=d.next);return f>l||h>c||p>u||_<o||x<a||y<s}),i}function _Ve(t){if(isNaN(f=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t))||isNaN(p=+this._z.call(null,t)))return this;var e,n=this._root,r,i,o,a=this._x0,s=this._y0,l=this._z0,c=this._x1,u=this._y1,d=this._z1,f,h,p,_,x,y,w,C,M,R,N;if(!n)return this;if(n.length)for(;;){if((w=f>=(_=(a+c)/2))?a=_:c=_,(C=h>=(x=(s+u)/2))?s=x:u=x,(M=p>=(y=(l+d)/2))?l=y:d=y,e=n,!(n=n[R=M<<2|C<<1|w]))return this;if(!n.length)break;(e[R+1&7]||e[R+2&7]||e[R+3&7]||e[R+4&7]||e[R+5&7]||e[R+6&7]||e[R+7&7])&&(r=e,N=R)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[R]=o:delete e[R],(n=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&n===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[N]=n:this._root=n),this):(this._root=o,this)}function SVe(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function wVe(){return this._root}function CVe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function TVe(t){var e=[],n,r=this._root,i,o,a,s,l,c,u;for(r&&e.push(new Zi(r,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=e.pop();)if(!t(r=n.node,o=n.x0,a=n.y0,s=n.z0,l=n.x1,c=n.y1,u=n.z1)&&r.length){var d=(o+l)/2,f=(a+c)/2,h=(s+u)/2;(i=r[7])&&e.push(new Zi(i,d,f,h,l,c,u)),(i=r[6])&&e.push(new Zi(i,o,f,h,d,c,u)),(i=r[5])&&e.push(new Zi(i,d,a,h,l,f,u)),(i=r[4])&&e.push(new Zi(i,o,a,h,d,f,u)),(i=r[3])&&e.push(new Zi(i,d,f,s,l,c,h)),(i=r[2])&&e.push(new Zi(i,o,f,s,d,c,h)),(i=r[1])&&e.push(new Zi(i,d,a,s,l,f,h)),(i=r[0])&&e.push(new Zi(i,o,a,s,d,f,h))}return this}function EVe(t){var e=[],n=[],r;for(this._root&&e.push(new Zi(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,l=r.z0,c=r.x1,u=r.y1,d=r.z1,f=(a+c)/2,h=(s+u)/2,p=(l+d)/2;(o=i[0])&&e.push(new Zi(o,a,s,l,f,h,p)),(o=i[1])&&e.push(new Zi(o,f,s,l,c,h,p)),(o=i[2])&&e.push(new Zi(o,a,h,l,f,u,p)),(o=i[3])&&e.push(new Zi(o,f,h,l,c,u,p)),(o=i[4])&&e.push(new Zi(o,a,s,p,f,h,d)),(o=i[5])&&e.push(new Zi(o,f,s,p,c,h,d)),(o=i[6])&&e.push(new Zi(o,a,h,p,f,u,d)),(o=i[7])&&e.push(new Zi(o,f,h,p,c,u,d))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.z0,r.x1,r.y1,r.z1);return this}function MVe(t){return t[0]}function PVe(t){return arguments.length?(this._x=t,this):this._x}function RVe(t){return t[1]}function NVe(t){return arguments.length?(this._y=t,this):this._y}function IVe(t){return t[2]}function OVe(t){return arguments.length?(this._z=t,this):this._z}function zae(t,e,n,r){var i=new O7(e??MVe,n??RVe,r??IVe,NaN,NaN,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function O7(t,e,n,r,i,o,a,s,l){this._x=t,this._y=e,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this._root=void 0}function jq(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var us=zae.prototype=O7.prototype;us.copy=function(){var t=new O7(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=jq(e),t;for(n=[{source:e,target:t._root=new Array(8)}];e=n.pop();)for(var i=0;i<8;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(8)}):e.target[i]=jq(r));return t};us.add=pVe;us.addAll=mVe;us.cover=gVe;us.data=AVe;us.extent=vVe;us.find=yVe;us.findAllWithinRadius=xVe;us.remove=_Ve;us.removeAll=SVe;us.root=wVe;us.size=CVe;us.visit=TVe;us.visitAfter=EVe;us.x=PVe;us.y=NVe;us.z=OVe;function TE(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function DVe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Vae(t){let e,n,r;t.length!==2?(e=TE,n=(s,l)=>TE(t(s),l),r=(s,l)=>t(s)-l):(e=t===TE||t===DVe?t:LVe,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function LVe(){return 0}function BVe(t){return t===null?NaN:+t}const FVe=Vae(TE),$Ve=FVe.right;Vae(BVe).center;const Gae=$Ve;function WM(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Jf{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,s=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);s&&(n[r++]=s),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}const kVe=Math.sqrt(50),UVe=Math.sqrt(10),zVe=Math.sqrt(2);function XM(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=kVe?10:o>=UVe?5:o>=zVe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?XM(t,e,n*2):[s,l,c]}function VVe(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?XM(e,t,n):XM(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function I8(t,e,n){return e=+e,t=+t,n=+n,XM(t,e,n)[2]}function GVe(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?I8(e,t,n):I8(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function HVe(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function jVe(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function*qVe(t){for(const e of t)yield*e}function d2(t){return Array.from(qVe(t))}function uv(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function WVe(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function Hae(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function D7(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function jae(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xS(){}var f2=.7,YM=1/f2,Ov="\\s*([+-]?\\d+)\\s*",h2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XVe=/^#([0-9a-f]{3,8})$/,YVe=new RegExp(`^rgb\\(${Ov},${Ov},${Ov}\\)$`),KVe=new RegExp(`^rgb\\(${tf},${tf},${tf}\\)$`),QVe=new RegExp(`^rgba\\(${Ov},${Ov},${Ov},${h2}\\)$`),ZVe=new RegExp(`^rgba\\(${tf},${tf},${tf},${h2}\\)$`),JVe=new RegExp(`^hsl\\(${h2},${tf},${tf}\\)$`),eGe=new RegExp(`^hsla\\(${h2},${tf},${tf},${h2}\\)$`),qq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D7(xS,hg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Wq,formatHex:Wq,formatHex8:tGe,formatHsl:nGe,formatRgb:Xq,toString:Xq});function Wq(){return this.rgb().formatHex()}function tGe(){return this.rgb().formatHex8()}function nGe(){return qae(this).formatHsl()}function Xq(){return this.rgb().formatRgb()}function hg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=XVe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Yq(e):n===3?new El(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?jC(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?jC(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=YVe.exec(t))?new El(e[1],e[2],e[3],1):(e=KVe.exec(t))?new El(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=QVe.exec(t))?jC(e[1],e[2],e[3],e[4]):(e=ZVe.exec(t))?jC(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=JVe.exec(t))?Zq(e[1],e[2]/100,e[3]/100,1):(e=eGe.exec(t))?Zq(e[1],e[2]/100,e[3]/100,e[4]):qq.hasOwnProperty(t)?Yq(qq[t]):t==="transparent"?new El(NaN,NaN,NaN,0):null}function Yq(t){return new El(t>>16&255,t>>8&255,t&255,1)}function jC(t,e,n,r){return r<=0&&(t=e=n=NaN),new El(t,e,n,r)}function rGe(t){return t instanceof xS||(t=hg(t)),t?(t=t.rgb(),new El(t.r,t.g,t.b,t.opacity)):new El}function O8(t,e,n,r){return arguments.length===1?rGe(t):new El(t,e,n,r??1)}function El(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}D7(El,O8,jae(xS,{brighter(t){return t=t==null?YM:Math.pow(YM,t),new El(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?f2:Math.pow(f2,t),new El(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new El(G0(this.r),G0(this.g),G0(this.b),KM(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kq,formatHex:Kq,formatHex8:iGe,formatRgb:Qq,toString:Qq}));function Kq(){return`#${R0(this.r)}${R0(this.g)}${R0(this.b)}`}function iGe(){return`#${R0(this.r)}${R0(this.g)}${R0(this.b)}${R0((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qq(){const t=KM(this.opacity);return`${t===1?"rgb(":"rgba("}${G0(this.r)}, ${G0(this.g)}, ${G0(this.b)}${t===1?")":`, ${t})`}`}function KM(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function G0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function R0(t){return t=G0(t),(t<16?"0":"")+t.toString(16)}function Zq(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vu(t,e,n,r)}function qae(t){if(t instanceof Vu)return new Vu(t.h,t.s,t.l,t.opacity);if(t instanceof xS||(t=hg(t)),!t)return new Vu;if(t instanceof Vu)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Vu(a,s,l,t.opacity)}function oGe(t,e,n,r){return arguments.length===1?qae(t):new Vu(t,e,n,r??1)}function Vu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}D7(Vu,oGe,jae(xS,{brighter(t){return t=t==null?YM:Math.pow(YM,t),new Vu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?f2:Math.pow(f2,t),new Vu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new El(PO(t>=240?t-240:t+120,i,r),PO(t,i,r),PO(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Vu(Jq(this.h),qC(this.s),qC(this.l),KM(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=KM(this.opacity);return`${t===1?"hsl(":"hsla("}${Jq(this.h)}, ${qC(this.s)*100}%, ${qC(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Jq(t){return t=(t||0)%360,t<0?t+360:t}function qC(t){return Math.max(0,Math.min(1,t||0))}function PO(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const L7=t=>()=>t;function aGe(t,e){return function(n){return t+n*e}}function sGe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function lGe(t){return(t=+t)==1?Wae:function(e,n){return n-e?sGe(e,n,t):L7(isNaN(e)?n:e)}}function Wae(t,e){var n=e-t;return n?aGe(t,n):L7(isNaN(t)?e:t)}const eW=function t(e){var n=lGe(e);function r(i,o){var a=n((i=O8(i)).r,(o=O8(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=Wae(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Xae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Yae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cGe(t,e){return(Yae(e)?Xae:Kae)(t,e)}function Kae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=B7(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function uGe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function p2(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dGe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=B7(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var D8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,RO=new RegExp(D8.source,"g");function fGe(t){return function(){return t}}function hGe(t){return function(e){return t(e)+""}}function pGe(t,e){var n=D8.lastIndex=RO.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=D8.exec(t))&&(i=RO.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:p2(r,i)})),n=RO.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?hGe(l[0].x):fGe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function B7(t,e){var n=typeof e,r;return e==null||n==="boolean"?L7(e):(n==="number"?p2:n==="string"?(r=hg(e))?(e=r,eW):pGe:e instanceof hg?eW:e instanceof Date?uGe:Yae(e)?Xae:Array.isArray(e)?Kae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dGe:p2)(t,e)}function mGe(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function gGe(t){return function(){return t}}function AGe(t){return+t}var tW=[0,1];function dv(t){return t}function L8(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:gGe(isNaN(e)?NaN:.5)}function vGe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yGe(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=L8(i,r),o=n(a,o)):(r=L8(r,i),o=n(o,a)),function(s){return o(r(s))}}function bGe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=L8(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Gae(t,s,1,r)-1;return o[l](i[l](s))}}function xGe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _Ge(){var t=tW,e=tW,n=B7,r,i,o,a=dv,s,l,c;function u(){var f=Math.min(t.length,e.length);return a!==dv&&(a=vGe(t[0],t[f-1])),s=f>2?bGe:yGe,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(r),e,n)))(r(a(f)))}return d.invert=function(f){return a(i((c||(c=s(e,t.map(r),p2)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,AGe),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=mGe,u()},d.clamp=function(f){return arguments.length?(a=f?!0:dv,u()):a!==dv},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,u()}}function SGe(){return _Ge()(dv,dv)}function wGe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function QM(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function $y(t){return t=QM(Math.abs(t)),t?t[1]:NaN}function CGe(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function TGe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var EGe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ZM(t){if(!(e=EGe.exec(t)))throw new Error("invalid format: "+t);var e;return new F7({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ZM.prototype=F7.prototype;function F7(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}F7.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MGe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var JM;function PGe(t,e){var n=QM(t,e);if(!n)return JM=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(JM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+QM(t,Math.max(0,e+o-1))[0]}function nW(t,e){var n=QM(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rW={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wGe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nW(t*100,e),r:nW,s:PGe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iW(t){return t}var oW=Array.prototype.map,aW=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function RGe(t){var e=t.grouping===void 0||t.thousands===void 0?iW:CGe(oW.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?iW:TGe(oW.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,f){d=ZM(d);var h=d.fill,p=d.align,_=d.sign,x=d.symbol,y=d.zero,w=d.width,C=d.comma,M=d.precision,R=d.trim,N=d.type;N==="n"?(C=!0,N="g"):rW[N]||(M===void 0&&(M=12),R=!0,N="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var I=(f&&f.prefix!==void 0?f.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),B=(x==="$"?r:/[%p]/.test(N)?a:"")+(f&&f.suffix!==void 0?f.suffix:""),D=rW[N],$=/[defgprs%]/.test(N);M=M===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function z(V){var q=I,G=B,j,H,X;if(N==="c")G=D(V)+G,V="";else{V=+V;var Y=V<0||1/V<0;if(V=isNaN(V)?l:D(Math.abs(V),M),R&&(V=MGe(V)),Y&&+V==0&&_!=="+"&&(Y=!1),q=(Y?_==="("?_:s:_==="-"||_==="("?"":_)+q,G=(N==="s"&&!isNaN(V)&&JM!==void 0?aW[8+JM/3]:"")+G+(Y&&_==="("?")":""),$){for(j=-1,H=V.length;++j<H;)if(X=V.charCodeAt(j),48>X||X>57){G=(X===46?i+V.slice(j+1):V.slice(j))+G,V=V.slice(0,j);break}}}C&&!y&&(V=e(V,1/0));var ee=q.length+V.length+G.length,Z=ee<w?new Array(w-ee+1).join(h):"";switch(C&&y&&(V=e(Z+V,Z.length?w-G.length:1/0),Z=""),p){case"<":V=q+V+G+Z;break;case"=":V=q+Z+V+G;break;case"^":V=Z.slice(0,ee=Z.length>>1)+q+V+G+Z.slice(ee);break;default:V=Z+q+V+G;break}return o(V)}return z.toString=function(){return d+""},z}function u(d,f){var h=Math.max(-8,Math.min(8,Math.floor($y(f)/3)))*3,p=Math.pow(10,-h),_=c((d=ZM(d),d.type="f",d),{suffix:aW[8+h/3]});return function(x){return _(p*x)}}return{format:c,formatPrefix:u}}var WC,Qae,Zae;NGe({thousands:",",grouping:[3],currency:["$",""]});function NGe(t){return WC=RGe(t),Qae=WC.format,Zae=WC.formatPrefix,WC}function IGe(t){return Math.max(0,-$y(Math.abs(t)))}function OGe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($y(e)/3)))*3-$y(Math.abs(t)))}function DGe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$y(e)-$y(t))+1}function LGe(t,e,n,r){var i=GVe(t,e,n),o;switch(r=ZM(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=OGe(i,a))&&(r.precision=o),Zae(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=DGe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=IGe(i))&&(r.precision=o-(r.type==="%")*2);break}}return Qae(r)}function Jae(t){var e=t.domain;return t.ticks=function(n){var r=e();return VVe(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return LGe(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=I8(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function dh(){var t=SGe();return t.copy=function(){return xGe(t,dh())},Hae.apply(t,arguments),Jae(t)}function ese(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Gae(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return ese().domain([t,e]).range(i).unknown(o)},Hae.apply(Jae(a),arguments)}var Jr=1e-6,e3=1e-12,hi=Math.PI,Ml=hi/2,t3=hi/4,Ac=hi*2,Vo=180/hi,Dr=hi/180,Yi=Math.abs,$7=Math.atan,cu=Math.atan2,kr=Math.cos,XC=Math.ceil,BGe=Math.exp,B8=Math.hypot,FGe=Math.log,Rr=Math.sin,$Ge=Math.sign||function(t){return t>0?1:t<0?-1:0},fh=Math.sqrt,kGe=Math.tan;function UGe(t){return t>1?0:t<-1?hi:Math.acos(t)}function hh(t){return t>1?Ml:t<-1?-Ml:Math.asin(t)}function sW(t){return(t=Rr(t/2))*t}function Ss(){}function n3(t,e){t&&cW.hasOwnProperty(t.type)&&cW[t.type](t,e)}var lW={Feature:function(t,e){n3(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)n3(n[r].geometry,e)}},cW={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){F8(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)F8(n[r],e,0)},Polygon:function(t,e){uW(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)uW(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)n3(n[r],e)}};function F8(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function uW(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)F8(t[n],e,1);e.polygonEnd()}function kR(t,e){t&&lW.hasOwnProperty(t.type)?lW[t.type](t,e):n3(t,e)}var r3=new Jf,dW=new Jf,tse,nse,$8,k8,U8,ph={point:Ss,lineStart:Ss,lineEnd:Ss,polygonStart:function(){r3=new Jf,ph.lineStart=zGe,ph.lineEnd=VGe},polygonEnd:function(){var t=+r3;dW.add(t<0?Ac+t:t),this.lineStart=this.lineEnd=this.point=Ss},sphere:function(){dW.add(Ac)}};function zGe(){ph.point=GGe}function VGe(){rse(tse,nse)}function GGe(t,e){ph.point=rse,tse=t,nse=e,t*=Dr,e*=Dr,$8=t,k8=kr(e=e/2+t3),U8=Rr(e)}function rse(t,e){t*=Dr,e*=Dr,e=e/2+t3;var n=t-$8,r=n>=0?1:-1,i=r*n,o=kr(e),a=Rr(e),s=U8*a,l=k8*o+s*kr(i),c=s*r*Rr(i);r3.add(cu(c,l)),$8=t,k8=o,U8=a}function i3(t){return[cu(t[1],t[0]),hh(t[2])]}function pg(t){var e=t[0],n=t[1],r=kr(n);return[r*kr(e),r*Rr(e),Rr(n)]}function YC(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ky(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function NO(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function KC(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function o3(t){var e=fh(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Eo,xl,Uo,ic,l0,ise,ose,Dv,Yx,mp,mh,kf={point:z8,lineStart:fW,lineEnd:hW,polygonStart:function(){kf.point=sse,kf.lineStart=HGe,kf.lineEnd=jGe,Yx=new Jf,ph.polygonStart()},polygonEnd:function(){ph.polygonEnd(),kf.point=z8,kf.lineStart=fW,kf.lineEnd=hW,r3<0?(Eo=-(Uo=180),xl=-(ic=90)):Yx>Jr?ic=90:Yx<-Jr&&(xl=-90),mh[0]=Eo,mh[1]=Uo},sphere:function(){Eo=-(Uo=180),xl=-(ic=90)}};function z8(t,e){mp.push(mh=[Eo=t,Uo=t]),e<xl&&(xl=e),e>ic&&(ic=e)}function ase(t,e){var n=pg([t*Dr,e*Dr]);if(Dv){var r=ky(Dv,n),i=[r[1],-r[0],0],o=ky(i,r);o3(o),o=i3(o);var a=t-l0,s=a>0?1:-1,l=o[0]*Vo*s,c,u=Yi(a)>180;u^(s*l0<l&&l<s*t)?(c=o[1]*Vo,c>ic&&(ic=c)):(l=(l+360)%360-180,u^(s*l0<l&&l<s*t)?(c=-o[1]*Vo,c<xl&&(xl=c)):(e<xl&&(xl=e),e>ic&&(ic=e))),u?t<l0?tc(Eo,t)>tc(Eo,Uo)&&(Uo=t):tc(t,Uo)>tc(Eo,Uo)&&(Eo=t):Uo>=Eo?(t<Eo&&(Eo=t),t>Uo&&(Uo=t)):t>l0?tc(Eo,t)>tc(Eo,Uo)&&(Uo=t):tc(t,Uo)>tc(Eo,Uo)&&(Eo=t)}else mp.push(mh=[Eo=t,Uo=t]);e<xl&&(xl=e),e>ic&&(ic=e),Dv=n,l0=t}function fW(){kf.point=ase}function hW(){mh[0]=Eo,mh[1]=Uo,kf.point=z8,Dv=null}function sse(t,e){if(Dv){var n=t-l0;Yx.add(Yi(n)>180?n+(n>0?360:-360):n)}else ise=t,ose=e;ph.point(t,e),ase(t,e)}function HGe(){ph.lineStart()}function jGe(){sse(ise,ose),ph.lineEnd(),Yi(Yx)>Jr&&(Eo=-(Uo=180)),mh[0]=Eo,mh[1]=Uo,Dv=null}function tc(t,e){return(e-=t)<0?e+360:e}function qGe(t,e){return t[0]-e[0]}function pW(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function lse(t){var e,n,r,i,o,a,s;if(ic=Uo=-(Eo=xl=1/0),mp=[],kR(t,kf),n=mp.length){for(mp.sort(qGe),e=1,r=mp[0],o=[r];e<n;++e)i=mp[e],pW(r,i[0])||pW(r,i[1])?(tc(r[0],i[1])>tc(r[0],r[1])&&(r[1]=i[1]),tc(i[0],r[1])>tc(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(s=tc(r[1],i[0]))>a&&(a=s,Eo=i[0],Uo=r[1])}return mp=mh=null,Eo===1/0||xl===1/0?[[NaN,NaN],[NaN,NaN]]:[[Eo,xl],[Uo,ic]]}var yx,a3,s3,l3,c3,u3,d3,f3,V8,G8,H8,cse,use,Hs,js,qs,qu={sphere:Ss,point:k7,lineStart:mW,lineEnd:gW,polygonStart:function(){qu.lineStart=YGe,qu.lineEnd=KGe},polygonEnd:function(){qu.lineStart=mW,qu.lineEnd=gW}};function k7(t,e){t*=Dr,e*=Dr;var n=kr(e);_S(n*kr(t),n*Rr(t),Rr(e))}function _S(t,e,n){++yx,s3+=(t-s3)/yx,l3+=(e-l3)/yx,c3+=(n-c3)/yx}function mW(){qu.point=WGe}function WGe(t,e){t*=Dr,e*=Dr;var n=kr(e);Hs=n*kr(t),js=n*Rr(t),qs=Rr(e),qu.point=XGe,_S(Hs,js,qs)}function XGe(t,e){t*=Dr,e*=Dr;var n=kr(e),r=n*kr(t),i=n*Rr(t),o=Rr(e),a=cu(fh((a=js*o-qs*i)*a+(a=qs*r-Hs*o)*a+(a=Hs*i-js*r)*a),Hs*r+js*i+qs*o);a3+=a,u3+=a*(Hs+(Hs=r)),d3+=a*(js+(js=i)),f3+=a*(qs+(qs=o)),_S(Hs,js,qs)}function gW(){qu.point=k7}function YGe(){qu.point=QGe}function KGe(){dse(cse,use),qu.point=k7}function QGe(t,e){cse=t,use=e,t*=Dr,e*=Dr,qu.point=dse;var n=kr(e);Hs=n*kr(t),js=n*Rr(t),qs=Rr(e),_S(Hs,js,qs)}function dse(t,e){t*=Dr,e*=Dr;var n=kr(e),r=n*kr(t),i=n*Rr(t),o=Rr(e),a=js*o-qs*i,s=qs*r-Hs*o,l=Hs*i-js*r,c=B8(a,s,l),u=hh(c),d=c&&-u/c;V8.add(d*a),G8.add(d*s),H8.add(d*l),a3+=u,u3+=u*(Hs+(Hs=r)),d3+=u*(js+(js=i)),f3+=u*(qs+(qs=o)),_S(Hs,js,qs)}function AW(t){yx=a3=s3=l3=c3=u3=d3=f3=0,V8=new Jf,G8=new Jf,H8=new Jf,kR(t,qu);var e=+V8,n=+G8,r=+H8,i=B8(e,n,r);return i<e3&&(e=u3,n=d3,r=f3,a3<Jr&&(e=s3,n=l3,r=c3),i=B8(e,n,r),i<e3)?[NaN,NaN]:[cu(n,e)*Vo,hh(r/i)*Vo]}function j8(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function q8(t,e){return Yi(t)>hi&&(t-=Math.round(t/Ac)*Ac),[t,e]}q8.invert=q8;function fse(t,e,n){return(t%=Ac)?e||n?j8(yW(t),bW(e,n)):yW(t):e||n?bW(e,n):q8}function vW(t){return function(e,n){return e+=t,Yi(e)>hi&&(e-=Math.round(e/Ac)*Ac),[e,n]}}function yW(t){var e=vW(t);return e.invert=vW(-t),e}function bW(t,e){var n=kr(t),r=Rr(t),i=kr(e),o=Rr(e);function a(s,l){var c=kr(l),u=kr(s)*c,d=Rr(s)*c,f=Rr(l),h=f*n+u*r;return[cu(d*i-h*o,u*n-f*r),hh(h*i+d*o)]}return a.invert=function(s,l){var c=kr(l),u=kr(s)*c,d=Rr(s)*c,f=Rr(l),h=f*i-d*o;return[cu(d*i+f*o,u*n+h*r),hh(h*n-u*r)]},a}function ZGe(t){t=fse(t[0]*Dr,t[1]*Dr,t.length>2?t[2]*Dr:0);function e(n){return n=t(n[0]*Dr,n[1]*Dr),n[0]*=Vo,n[1]*=Vo,n}return e.invert=function(n){return n=t.invert(n[0]*Dr,n[1]*Dr),n[0]*=Vo,n[1]*=Vo,n},e}function JGe(t,e,n,r,i,o){if(n){var a=kr(e),s=Rr(e),l=r*n;i==null?(i=e+r*Ac,o=e-l/2):(i=xW(a,i),o=xW(a,o),(r>0?i<o:i>o)&&(i+=r*Ac));for(var c,u=i;r>0?u>o:u<o;u-=l)c=i3([a,-s*kr(u),-s*Rr(u)]),t.point(c[0],c[1])}}function xW(t,e){e=pg(e),e[0]-=t,o3(e);var n=UGe(-e[1]);return((-e[2]<0?-n:n)+Ac-Jr)%Ac}function hse(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Ss,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function EE(t,e){return Yi(t[0]-e[0])<Jr&&Yi(t[1]-e[1])<Jr}function QC(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function pse(t,e,n,r,i){var o=[],a=[],s,l;if(t.forEach(function(p){if(!((_=p.length-1)<=0)){var _,x=p[0],y=p[_],w;if(EE(x,y)){if(!x[2]&&!y[2]){for(i.lineStart(),s=0;s<_;++s)i.point((x=p[s])[0],x[1]);i.lineEnd();return}y[0]+=2*Jr}o.push(w=new QC(x,p,null,!0)),a.push(w.o=new QC(x,null,w,!1)),o.push(w=new QC(y,p,null,!1)),a.push(w.o=new QC(y,null,w,!0))}}),!!o.length){for(a.sort(e),_W(o),_W(a),s=0,l=a.length;s<l;++s)a[s].e=n=!n;for(var c=o[0],u,d;;){for(var f=c,h=!0;f.v;)if((f=f.n)===c)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(s=0,l=u.length;s<l;++s)i.point((d=u[s])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(u=f.p.z,s=u.length-1;s>=0;--s)i.point((d=u[s])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,h=!h}while(!f.v);i.lineEnd()}}}function _W(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function IO(t){return Yi(t[0])<=hi?t[0]:$Ge(t[0])*((Yi(t[0])+hi)%Ac-hi)}function mse(t,e){var n=IO(e),r=e[1],i=Rr(r),o=[Rr(n),-kr(n),0],a=0,s=0,l=new Jf;i===1?r=Ml+Jr:i===-1&&(r=-Ml-Jr);for(var c=0,u=t.length;c<u;++c)if(f=(d=t[c]).length)for(var d,f,h=d[f-1],p=IO(h),_=h[1]/2+t3,x=Rr(_),y=kr(_),w=0;w<f;++w,p=M,x=N,y=I,h=C){var C=d[w],M=IO(C),R=C[1]/2+t3,N=Rr(R),I=kr(R),B=M-p,D=B>=0?1:-1,$=D*B,z=$>hi,V=x*N;if(l.add(cu(V*D*Rr($),y*I+V*kr($))),a+=z?B+D*Ac:B,z^p>=n^M>=n){var q=ky(pg(h),pg(C));o3(q);var G=ky(o,q);o3(G);var j=(z^B>=0?-1:1)*hh(G[2]);(r>j||r===j&&(q[0]||q[1]))&&(s+=z^B>=0?1:-1)}}return(a<-Jr||a<Jr&&l<-e3)^s&1}function gse(t,e,n,r){return function(i){var o=e(i),a=hse(),s=e(a),l=!1,c,u,d,f={point:h,lineStart:_,lineEnd:x,polygonStart:function(){f.point=y,f.lineStart=w,f.lineEnd=C,u=[],c=[]},polygonEnd:function(){f.point=h,f.lineStart=_,f.lineEnd=x,u=d2(u);var M=mse(c,r);u.length?(l||(i.polygonStart(),l=!0),pse(u,tHe,M,n,i)):M&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(M,R){t(M,R)&&i.point(M,R)}function p(M,R){o.point(M,R)}function _(){f.point=p,o.lineStart()}function x(){f.point=h,o.lineEnd()}function y(M,R){d.push([M,R]),s.point(M,R)}function w(){s.lineStart(),d=[]}function C(){y(d[0][0],d[0][1]),s.lineEnd();var M=s.clean(),R=a.result(),N,I=R.length,B,D,$;if(d.pop(),c.push(d),d=null,!!I){if(M&1){if(D=R[0],(B=D.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),N=0;N<B;++N)i.point(($=D[N])[0],$[1]);i.lineEnd()}return}I>1&&M&2&&R.push(R.pop().concat(R.shift())),u.push(R.filter(eHe))}}return f}}function eHe(t){return t.length>1}function tHe(t,e){return((t=t.x)[0]<0?t[1]-Ml-Jr:Ml-t[1])-((e=e.x)[0]<0?e[1]-Ml-Jr:Ml-e[1])}const SW=gse(function(){return!0},nHe,iHe,[-hi,-Ml]);function nHe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var s=o>0?hi:-hi,l=Yi(o-e);Yi(l-hi)<Jr?(t.point(e,n=(n+a)/2>0?Ml:-Ml),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),i=0):r!==s&&l>=hi&&(Yi(e-r)<Jr&&(e-=r*Jr),Yi(o-s)<Jr&&(o-=s*Jr),n=rHe(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=o,n=a),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function rHe(t,e,n,r){var i,o,a=Rr(t-n);return Yi(a)>Jr?$7((Rr(e)*(o=kr(r))*Rr(n)-Rr(r)*(i=kr(e))*Rr(t))/(i*o*a)):(e+r)/2}function iHe(t,e,n,r){var i;if(t==null)i=n*Ml,r.point(-hi,i),r.point(0,i),r.point(hi,i),r.point(hi,0),r.point(hi,-i),r.point(0,-i),r.point(-hi,-i),r.point(-hi,0),r.point(-hi,i);else if(Yi(t[0]-e[0])>Jr){var o=t[0]<e[0]?hi:-hi;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function oHe(t){var e=kr(t),n=2*Dr,r=e>0,i=Yi(e)>Jr;function o(u,d,f,h){JGe(h,t,n,f,u,d)}function a(u,d){return kr(u)*kr(d)>e}function s(u){var d,f,h,p,_;return{lineStart:function(){p=h=!1,_=1},point:function(x,y){var w=[x,y],C,M=a(x,y),R=r?M?0:c(x,y):M?c(x+(x<0?hi:-hi),y):0;if(!d&&(p=h=M)&&u.lineStart(),M!==h&&(C=l(d,w),(!C||EE(d,C)||EE(w,C))&&(w[2]=1)),M!==h)_=0,M?(u.lineStart(),C=l(w,d),u.point(C[0],C[1])):(C=l(d,w),u.point(C[0],C[1],2),u.lineEnd()),d=C;else if(i&&d&&r^M){var N;!(R&f)&&(N=l(w,d,!0))&&(_=0,r?(u.lineStart(),u.point(N[0][0],N[0][1]),u.point(N[1][0],N[1][1]),u.lineEnd()):(u.point(N[1][0],N[1][1]),u.lineEnd(),u.lineStart(),u.point(N[0][0],N[0][1],3)))}M&&(!d||!EE(d,w))&&u.point(w[0],w[1]),d=w,h=M,f=R},lineEnd:function(){h&&u.lineEnd(),d=null},clean:function(){return _|(p&&h)<<1}}}function l(u,d,f){var h=pg(u),p=pg(d),_=[1,0,0],x=ky(h,p),y=YC(x,x),w=x[0],C=y-w*w;if(!C)return!f&&u;var M=e*y/C,R=-e*w/C,N=ky(_,x),I=KC(_,M),B=KC(x,R);NO(I,B);var D=N,$=YC(I,D),z=YC(D,D),V=$*$-z*(YC(I,I)-1);if(!(V<0)){var q=fh(V),G=KC(D,(-$-q)/z);if(NO(G,I),G=i3(G),!f)return G;var j=u[0],H=d[0],X=u[1],Y=d[1],ee;H<j&&(ee=j,j=H,H=ee);var Z=H-j,re=Yi(Z-hi)<Jr,ae=re||Z<Jr;if(!re&&Y<X&&(ee=X,X=Y,Y=ee),ae?re?X+Y>0^G[1]<(Yi(G[0]-j)<Jr?X:Y):X<=G[1]&&G[1]<=Y:Z>hi^(j<=G[0]&&G[0]<=H)){var ce=KC(D,(-$+q)/z);return NO(ce,I),[G,i3(ce)]}}}function c(u,d){var f=r?t:hi-t,h=0;return u<-f?h|=1:u>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return gse(a,s,o,r?[0,-t]:[-hi,t-hi])}function aHe(t,e,n,r,i,o){var a=t[0],s=t[1],l=e[0],c=e[1],u=0,d=1,f=l-a,h=c-s,p;if(p=n-a,!(!f&&p>0)){if(p/=f,f<0){if(p<u)return;p<d&&(d=p)}else if(f>0){if(p>d)return;p>u&&(u=p)}if(p=i-a,!(!f&&p<0)){if(p/=f,f<0){if(p>d)return;p>u&&(u=p)}else if(f>0){if(p<u)return;p<d&&(d=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>u&&(u=p)}if(p=o-s,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<d&&(d=p)}return u>0&&(t[0]=a+u*f,t[1]=s+u*h),d<1&&(e[0]=a+d*f,e[1]=s+d*h),!0}}}}}var bx=1e9,ZC=-bx;function sHe(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function o(c,u,d,f){var h=0,p=0;if(c==null||(h=a(c,d))!==(p=a(u,d))||l(c,u)<0^d>0)do f.point(h===0||h===3?t:n,h>1?r:e);while((h=(h+d+4)%4)!==p);else f.point(u[0],u[1])}function a(c,u){return Yi(c[0]-t)<Jr?u>0?0:3:Yi(c[0]-n)<Jr?u>0?2:1:Yi(c[1]-e)<Jr?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var d=a(c,1),f=a(u,1);return d!==f?d-f:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=hse(),f,h,p,_,x,y,w,C,M,R,N,I={point:B,lineStart:V,lineEnd:q,polygonStart:$,polygonEnd:z};function B(j,H){i(j,H)&&u.point(j,H)}function D(){for(var j=0,H=0,X=h.length;H<X;++H)for(var Y=h[H],ee=1,Z=Y.length,re=Y[0],ae,ce,he=re[0],ge=re[1];ee<Z;++ee)ae=he,ce=ge,re=Y[ee],he=re[0],ge=re[1],ce<=r?ge>r&&(he-ae)*(r-ce)>(ge-ce)*(t-ae)&&++j:ge<=r&&(he-ae)*(r-ce)<(ge-ce)*(t-ae)&&--j;return j}function $(){u=d,f=[],h=[],N=!0}function z(){var j=D(),H=N&&j,X=(f=d2(f)).length;(H||X)&&(c.polygonStart(),H&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),X&&pse(f,s,j,o,c),c.polygonEnd()),u=c,f=h=p=null}function V(){I.point=G,h&&h.push(p=[]),R=!0,M=!1,w=C=NaN}function q(){f&&(G(_,x),y&&M&&d.rejoin(),f.push(d.result())),I.point=B,M&&u.lineEnd()}function G(j,H){var X=i(j,H);if(h&&p.push([j,H]),R)_=j,x=H,y=X,R=!1,X&&(u.lineStart(),u.point(j,H));else if(X&&M)u.point(j,H);else{var Y=[w=Math.max(ZC,Math.min(bx,w)),C=Math.max(ZC,Math.min(bx,C))],ee=[j=Math.max(ZC,Math.min(bx,j)),H=Math.max(ZC,Math.min(bx,H))];aHe(Y,ee,t,e,n,r)?(M||(u.lineStart(),u.point(Y[0],Y[1])),u.point(ee[0],ee[1]),X||u.lineEnd(),N=!1):X&&(u.lineStart(),u.point(j,H),N=!1)}w=j,C=H,M=X}return I}}var W8,X8,ME,PE,Uy={sphere:Ss,point:Ss,lineStart:lHe,lineEnd:Ss,polygonStart:Ss,polygonEnd:Ss};function lHe(){Uy.point=uHe,Uy.lineEnd=cHe}function cHe(){Uy.point=Uy.lineEnd=Ss}function uHe(t,e){t*=Dr,e*=Dr,X8=t,ME=Rr(e),PE=kr(e),Uy.point=dHe}function dHe(t,e){t*=Dr,e*=Dr;var n=Rr(e),r=kr(e),i=Yi(t-X8),o=kr(i),a=Rr(i),s=r*a,l=PE*n-ME*r*o,c=ME*n+PE*r*o;W8.add(cu(fh(s*s+l*l),c)),X8=t,ME=n,PE=r}function fHe(t){return W8=new Jf,kR(t,Uy),+W8}var Y8=[null,null],hHe={type:"LineString",coordinates:Y8};function om(t,e){return Y8[0]=t,Y8[1]=e,fHe(hHe)}var wW={Feature:function(t,e){return h3(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(h3(n[r].geometry,e))return!0;return!1}},CW={Sphere:function(){return!0},Point:function(t,e){return TW(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(TW(n[r],e))return!0;return!1},LineString:function(t,e){return EW(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(EW(n[r],e))return!0;return!1},Polygon:function(t,e){return MW(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(MW(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(h3(n[r],e))return!0;return!1}};function h3(t,e){return t&&CW.hasOwnProperty(t.type)?CW[t.type](t,e):!1}function TW(t,e){return om(t,e)===0}function EW(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(r=om(t[o],e),r===0||o>0&&(i=om(t[o],t[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<e3*i))return!0;n=r}return!1}function MW(t,e){return!!mse(t.map(pHe),Ase(e))}function pHe(t){return t=t.map(Ase),t.pop(),t}function Ase(t){return[t[0]*Dr,t[1]*Dr]}function mHe(t,e){return(t&&wW.hasOwnProperty(t.type)?wW[t.type]:h3)(t,e)}function PW(t,e,n){var r=uv(t,e-Jr,n).concat(e);return function(i){return r.map(function(o){return[i,o]})}}function RW(t,e,n){var r=uv(t,e-Jr,n).concat(e);return function(i){return r.map(function(o){return[o,i]})}}function gHe(){var t,e,n,r,i,o,a,s,l=10,c=l,u=90,d=360,f,h,p,_,x=2.5;function y(){return{type:"MultiLineString",coordinates:w()}}function w(){return uv(XC(r/u)*u,n,u).map(p).concat(uv(XC(s/d)*d,a,d).map(_)).concat(uv(XC(e/l)*l,t,l).filter(function(C){return Yi(C%u)>Jr}).map(f)).concat(uv(XC(o/c)*c,i,c).filter(function(C){return Yi(C%d)>Jr}).map(h))}return y.lines=function(){return w().map(function(C){return{type:"LineString",coordinates:C}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(_(a).slice(1),p(n).reverse().slice(1),_(s).reverse().slice(1))]}},y.extent=function(C){return arguments.length?y.extentMajor(C).extentMinor(C):y.extentMinor()},y.extentMajor=function(C){return arguments.length?(r=+C[0][0],n=+C[1][0],s=+C[0][1],a=+C[1][1],r>n&&(C=r,r=n,n=C),s>a&&(C=s,s=a,a=C),y.precision(x)):[[r,s],[n,a]]},y.extentMinor=function(C){return arguments.length?(e=+C[0][0],t=+C[1][0],o=+C[0][1],i=+C[1][1],e>t&&(C=e,e=t,t=C),o>i&&(C=o,o=i,i=C),y.precision(x)):[[e,o],[t,i]]},y.step=function(C){return arguments.length?y.stepMajor(C).stepMinor(C):y.stepMinor()},y.stepMajor=function(C){return arguments.length?(u=+C[0],d=+C[1],y):[u,d]},y.stepMinor=function(C){return arguments.length?(l=+C[0],c=+C[1],y):[l,c]},y.precision=function(C){return arguments.length?(x=+C,f=PW(o,i,90),h=RW(e,t,x),p=PW(s,a,90),_=RW(r,n,x),y):x},y.extentMajor([[-180,-90+Jr],[180,90-Jr]]).extentMinor([[-180,-80-Jr],[180,80+Jr]])}function AHe(){return gHe()()}function U7(t,e){var n=t[0]*Dr,r=t[1]*Dr,i=e[0]*Dr,o=e[1]*Dr,a=kr(r),s=Rr(r),l=kr(o),c=Rr(o),u=a*kr(n),d=a*Rr(n),f=l*kr(i),h=l*Rr(i),p=2*hh(fh(sW(o-r)+a*l*sW(i-n))),_=Rr(p),x=p?function(y){var w=Rr(y*=p)/_,C=Rr(p-y)/_,M=C*u+w*f,R=C*d+w*h,N=C*s+w*c;return[cu(R,M)*Vo,cu(N,fh(M*M+R*R))*Vo]}:function(){return[n*Vo,r*Vo]};return x.distance=p,x}const NW=t=>t;var zy=1/0,p3=zy,m2=-zy,m3=m2,vHe={point:yHe,lineStart:Ss,lineEnd:Ss,polygonStart:Ss,polygonEnd:Ss,result:function(){var t=[[zy,p3],[m2,m3]];return m2=m3=-(p3=zy=1/0),t}};function yHe(t,e){t<zy&&(zy=t),t>m2&&(m2=t),e<p3&&(p3=e),e>m3&&(m3=e)}const IW=vHe;function z7(t){return function(e){var n=new K8;for(var r in t)n[r]=t[r];return n.stream=e,n}}function K8(){}K8.prototype={constructor:K8,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function V7(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),kR(n,t.stream(IW)),e(IW.result()),r!=null&&t.clipExtent(r),t}function vse(t,e,n){return V7(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,l])},n)}function bHe(t,e,n){return vse(t,[[0,0],e],n)}function xHe(t,e,n){return V7(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];t.scale(150*o).translate([a,s])},n)}function _He(t,e,n){return V7(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,s])},n)}var OW=16,SHe=kr(30*Dr);function DW(t,e){return+e?CHe(t,e):wHe(t)}function wHe(t){return z7({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function CHe(t,e){function n(r,i,o,a,s,l,c,u,d,f,h,p,_,x){var y=c-r,w=u-i,C=y*y+w*w;if(C>4*e&&_--){var M=a+f,R=s+h,N=l+p,I=fh(M*M+R*R+N*N),B=hh(N/=I),D=Yi(Yi(N)-1)<Jr||Yi(o-d)<Jr?(o+d)/2:cu(R,M),$=t(D,B),z=$[0],V=$[1],q=z-r,G=V-i,j=w*q-y*G;(j*j/C>e||Yi((y*q+w*G)/C-.5)>.3||a*f+s*h+l*p<SHe)&&(n(r,i,o,a,s,l,z,V,D,M/=I,R/=I,N,_,x),x.point(z,V),n(z,V,D,M,R,N,c,u,d,f,h,p,_,x))}}return function(r){var i,o,a,s,l,c,u,d,f,h,p,_,x={point:y,lineStart:w,lineEnd:M,polygonStart:function(){r.polygonStart(),x.lineStart=R},polygonEnd:function(){r.polygonEnd(),x.lineStart=w}};function y(B,D){B=t(B,D),r.point(B[0],B[1])}function w(){d=NaN,x.point=C,r.lineStart()}function C(B,D){var $=pg([B,D]),z=t(B,D);n(d,f,u,h,p,_,d=z[0],f=z[1],u=B,h=$[0],p=$[1],_=$[2],OW,r),r.point(d,f)}function M(){x.point=y,r.lineEnd()}function R(){w(),x.point=N,x.lineEnd=I}function N(B,D){C(i=B,D),o=d,a=f,s=h,l=p,c=_,x.point=C}function I(){n(d,f,u,h,p,_,o,a,i,s,l,c,OW,r),x.lineEnd=M,M()}return x}}var THe=z7({point:function(t,e){this.stream.point(t*Dr,e*Dr)}});function EHe(t){return z7({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function MHe(t,e,n,r,i){function o(a,s){return a*=r,s*=i,[e+t*a,n-t*s]}return o.invert=function(a,s){return[(a-e)/t*r,(n-s)/t*i]},o}function LW(t,e,n,r,i,o){if(!o)return MHe(t,e,n,r,i);var a=kr(o),s=Rr(o),l=a*t,c=s*t,u=a/t,d=s/t,f=(s*n-a*e)/t,h=(s*e+a*n)/t;function p(_,x){return _*=r,x*=i,[l*_-c*x+e,n-c*_-l*x]}return p.invert=function(_,x){return[r*(u*_-d*x+f),i*(h-d*_-u*x)]},p}function PHe(t){return RHe(function(){return t})()}function RHe(t){var e,n=150,r=480,i=250,o=0,a=0,s=0,l=0,c=0,u,d=0,f=1,h=1,p=null,_=SW,x=null,y,w,C,M=NW,R=.5,N,I,B,D,$;function z(j){return B(j[0]*Dr,j[1]*Dr)}function V(j){return j=B.invert(j[0],j[1]),j&&[j[0]*Vo,j[1]*Vo]}z.stream=function(j){return D&&$===j?D:D=THe(EHe(u)(_(N(M($=j)))))},z.preclip=function(j){return arguments.length?(_=j,p=void 0,G()):_},z.postclip=function(j){return arguments.length?(M=j,x=y=w=C=null,G()):M},z.clipAngle=function(j){return arguments.length?(_=+j?oHe(p=j*Dr):(p=null,SW),G()):p*Vo},z.clipExtent=function(j){return arguments.length?(M=j==null?(x=y=w=C=null,NW):sHe(x=+j[0][0],y=+j[0][1],w=+j[1][0],C=+j[1][1]),G()):x==null?null:[[x,y],[w,C]]},z.scale=function(j){return arguments.length?(n=+j,q()):n},z.translate=function(j){return arguments.length?(r=+j[0],i=+j[1],q()):[r,i]},z.center=function(j){return arguments.length?(o=j[0]%360*Dr,a=j[1]%360*Dr,q()):[o*Vo,a*Vo]},z.rotate=function(j){return arguments.length?(s=j[0]%360*Dr,l=j[1]%360*Dr,c=j.length>2?j[2]%360*Dr:0,q()):[s*Vo,l*Vo,c*Vo]},z.angle=function(j){return arguments.length?(d=j%360*Dr,q()):d*Vo},z.reflectX=function(j){return arguments.length?(f=j?-1:1,q()):f<0},z.reflectY=function(j){return arguments.length?(h=j?-1:1,q()):h<0},z.precision=function(j){return arguments.length?(N=DW(I,R=j*j),G()):fh(R)},z.fitExtent=function(j,H){return vse(z,j,H)},z.fitSize=function(j,H){return bHe(z,j,H)},z.fitWidth=function(j,H){return xHe(z,j,H)},z.fitHeight=function(j,H){return _He(z,j,H)};function q(){var j=LW(n,0,0,f,h,d).apply(null,e(o,a)),H=LW(n,r-j[0],i-j[1],f,h,d);return u=fse(s,l,c),I=j8(e,H),B=j8(u,I),N=DW(I,R),G()}function G(){return D=$=null,z}return function(){return e=t.apply(this,arguments),z.invert=e.invert&&V,q()}}function NHe(t){return function(e,n){var r=fh(e*e+n*n),i=t(r),o=Rr(i),a=kr(i);return[cu(e*o,r*a),hh(r&&n*o/r)]}}function G7(t,e){return[t,FGe(kGe((Ml+e)/2))]}G7.invert=function(t,e){return[t,2*$7(BGe(e))-Ml]};function yse(t,e){var n=kr(e),r=1+kr(t)*n;return[n*Rr(t)/r,Rr(e)/r]}yse.invert=NHe(function(t){return 2*$7(t)});function IHe(){return PHe(yse).scale(250).clipAngle(142)}function Q8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function OHe(t){if(Array.isArray(t))return t}function DHe(t){if(Array.isArray(t))return Q8(t)}function Kx(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function LHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BHe(t,e,n){return e=g3(e),qHe(t,xse()?Reflect.construct(e,[],g3(t).constructor):e.apply(t,n))}function bse(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function FHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kr(t,e){return t.get(Kx(t,e))}function np(t,e,n){bse(t,e),e.set(t,n)}function rp(t,e,n){return t.set(Kx(t,e),n),n}function $He(t,e){bse(t,e),e.add(t)}function kHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sse(r.key),r)}}function UHe(t,e,n){return e&&kHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SA(t,e,n){return(e=Sse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g3(t){return g3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g3(t)}function zHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z8(t,e)}function xse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xse=function(){return!!t})()}function VHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GHe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function HHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qHe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LHe(t)}function Z8(t,e){return Z8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Z8(t,e)}function RE(t,e){return OHe(t)||GHe(t,e)||wse(t,e)||HHe()}function _se(t){return DHe(t)||VHe(t)||wse(t)||jHe()}function WHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sse(t){var e=WHe(t,"string");return typeof e=="symbol"?e:e+""}function wse(t,e){if(t){if(typeof t=="string")return Q8(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q8(t,e):void 0}}var Cse=function(e){e instanceof Array?e.forEach(Cse):(e.map&&e.map.dispose(),e.dispose())},Tse=function(e){e.geometry&&e.geometry.dispose(),e.material&&Cse(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(Tse)},BW=function(e){if(e&&e.children)for(;e.children.length;){var n=e.children[0];e.remove(n),Tse(n)}};function Ese(t,e,n){var r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180;return{x:n*Math.sin(r)*Math.cos(i),y:n*Math.cos(r),z:n*Math.sin(r)*Math.sin(i)}}function XHe(t){var e=t.x,n=t.y,r=t.z,i=Math.sqrt(e*e+n*n+r*r),o=Math.acos(n/i),a=Math.atan2(r,e);return{lat:90-o*180/Math.PI,lng:90-a*180/Math.PI-(a<-Math.PI/2?360:0),r:i}}function Wm(t){return t*Math.PI/180}var Mse=function(e){return 1-(G7(0,(.5-e)*Math.PI)[1]/Math.PI+1)/2},OO=function(e){return Math.max(0,Math.min(1,Mse(e)))},FW=function(e){return .5-G7.invert(0,(2*(1-e)-1)*Math.PI)[1]/Math.PI},YHe=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=dh().domain([1,0]).range([n,r]).clamp(!0),o=dh().domain([OO(n),OO(r)]).range([1,0]).clamp(!0),a=function(d){return o(OO(i(d)))},s=e.array,l=0,c=s.length;l<c;l+=2)s[l+1]=a(s[l+1]);e.needsUpdate=!0},$W=function(e,n,r,i){var o=Math.pow(2,e),a=Math.max(0,Math.min(o-1,Math.floor((r+180)*o/360))),s=(90-i)/180;n&&(s=Math.max(0,Math.min(1,Mse(s))));var l=Math.floor(s*o);return[a,l]},J8=function(e,n){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,s=[],l=Math.pow(2,e),c=360/l,u=180/l,d=o===void 0?l-1:o,f=a===void 0?l-1:a,h=r,p=Math.min(l-1,d);h<=p;h++)for(var _=i,x=Math.min(l-1,f);_<=x;_++){var y=_,w=u;if(n){y=_===0?_:FW(_/l)*l;var C=_+1===l?_+1:FW((_+1)/l)*l;w=(C-y)*180/l}var M=-180+(h+.5)*c,R=90-(y*180/l+w/2),N=w;s.push({x:h,y:_,lng:M,lat:R,latLen:N})}return s},KHe=6,QHe=7,ZHe=3,JHe=90,Vd=new WeakMap,yp=new WeakMap,DO=new WeakMap,JC=new WeakMap,kc=new WeakMap,A3=new WeakMap,Lv=new WeakMap,Xm=new WeakMap,eT=new WeakSet,eje=function(t){function e(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.tileUrl,a=i.minLevel,s=a===void 0?0:a,l=i.maxLevel,c=l===void 0?17:l,u=i.mercatorProjection,d=u===void 0?!0:u;return FHe(this,e),r=BHe(this,e),$He(r,eT),np(r,Vd,void 0),np(r,yp,void 0),np(r,DO,void 0),np(r,JC,void 0),np(r,kc,{}),np(r,A3,void 0),np(r,Lv,void 0),np(r,Xm,void 0),SA(r,"minLevel",void 0),SA(r,"maxLevel",void 0),SA(r,"thresholds",_se(new Array(30)).map(function(f,h){return 8/Math.pow(2,h)})),SA(r,"curvatureResolution",5),SA(r,"tileMargin",0),SA(r,"clearTiles",function(){Object.values(Kr(kc,r)).forEach(function(f){f.forEach(function(h){h.obj&&(r.remove(h.obj),BW(h.obj),delete h.obj)})}),rp(kc,r,{})}),rp(Vd,r,n),r.tileUrl=o,rp(yp,r,d),r.minLevel=s,r.maxLevel=c,r.level=0,r.add(rp(Xm,r,new Ai(new xf(Kr(Vd,r)*.99,180,90),new jc({color:0})))),Kr(Xm,r).visible=!1,Kr(Xm,r).material.polygonOffset=!0,Kr(Xm,r).material.polygonOffsetUnits=3,Kr(Xm,r).material.polygonOffsetFactor=1,r}return zHe(e,t),UHe(e,[{key:"tileUrl",get:function(){return Kr(DO,this)},set:function(r){rp(DO,this,r),this.updatePov(Kr(Lv,this))}},{key:"level",get:function(){return Kr(JC,this)},set:function(r){var i,o=this;Kr(kc,this)[r]||Kx(eT,this,tje).call(this,r);var a=Kr(JC,this);if(rp(JC,this,r),!(r===a||a===void 0)){if(Kr(Xm,this).visible=r>0,Kr(kc,this)[r].forEach(function(l){return l.obj&&(l.obj.material.depthWrite=!0)}),a<r&&((i=Kr(kc,this)[a])===null||i===void 0||i.forEach(function(l){return l.obj&&(l.obj.material.depthWrite=!1)})),a>r)for(var s=r+1;s<=a;s++)Kr(kc,this)[s]&&Kr(kc,this)[s].forEach(function(l){l.obj&&(o.remove(l.obj),BW(l.obj),delete l.obj)});Kx(eT,this,kW).call(this)}}},{key:"updatePov",value:function(r){var i=this;if(!(!r||!(r instanceof vS))){rp(Lv,this,r);var o;if(rp(A3,this,function(u){if(!u.hullPnts){var d=360/Math.pow(2,i.level),f=u.lng,h=u.lat,p=u.latLen,_=f-d/2,x=f+d/2,y=h-p/2,w=h+p/2;u.hullPnts=[[h,f],[y,_],[w,_],[y,x],[w,x]].map(function(C){var M=RE(C,2),R=M[0],N=M[1];return Ese(R,N,Kr(Vd,i))}).map(function(C){var M=C.x,R=C.y,N=C.z;return new Te(M,R,N)})}return o||(o=new T1,r.updateMatrix(),r.updateMatrixWorld(),o.setFromProjectionMatrix(new wr().multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse))),u.hullPnts.some(function(C){return o.containsPoint(C.clone().applyMatrix4(i.matrixWorld))})}),this.tileUrl){var a=r.position.clone(),s=a.distanceTo(this.getWorldPosition(new Te)),l=(s-Kr(Vd,this))/Kr(Vd,this),c=this.thresholds.findIndex(function(u){return u&&u<=l});this.level=Math.min(this.maxLevel,Math.max(this.minLevel,c<0?this.thresholds.length:c)),Kx(eT,this,kW).call(this)}}}}])}(Tl);function tje(t){var e=this;if(t>QHe){Kr(kc,this)[t]=[];return}var n=Kr(kc,this)[t]=J8(t,Kr(yp,this));n.forEach(function(r){return r.centroid=Ese(r.lat,r.lng,Kr(Vd,e))}),n.octree=zae().x(function(r){return r.centroid.x}).y(function(r){return r.centroid.y}).z(function(r){return r.centroid.z}).addAll(n)}function kW(){var t=this;if(!(!this.tileUrl||this.level===void 0||!Kr(kc,this).hasOwnProperty(this.level))&&!(!Kr(A3,this)&&this.level>KHe)){var e=Kr(kc,this)[this.level];if(Kr(Lv,this)){var n=this.worldToLocal(Kr(Lv,this).position.clone());if(e.octree){var r,i=this.worldToLocal(Kr(Lv,this).position.clone()),o=(i.length()-Kr(Vd,this))*ZHe;e=(r=e.octree).findAllWithinRadius.apply(r,_se(i).concat([o]))}else{var a=XHe(n),s=(a.r/Kr(Vd,this)-1)*JHe,l=s/Math.cos(Wm(a.lat)),c=[a.lng-l,a.lng+l],u=[a.lat+s,a.lat-s],d=$W(this.level,Kr(yp,this),c[0],u[0]),f=RE(d,2),h=f[0],p=f[1],_=$W(this.level,Kr(yp,this),c[1],u[1]),x=RE(_,2),y=x[0],w=x[1];!e.record&&(e.record={});var C=e.record;if(!C.hasOwnProperty("".concat(Math.round((h+y)/2),"_").concat(Math.round((p+w)/2))))e=J8(this.level,Kr(yp,this),h,p,y,w).map(function(B){var D="".concat(B.x,"_").concat(B.y);return C.hasOwnProperty(D)?C[D]:(C[D]=B,e.push(B),B)});else{for(var M=[],R=h;R<=y;R++)for(var N=p;N<=w;N++){var I="".concat(R,"_").concat(N);C.hasOwnProperty(I)||(C[I]=J8(this.level,Kr(yp,this),R,N,R,N)[0],e.push(C[I])),M.push(C[I])}e=M}}}e.filter(function(B){return!B.obj}).filter(Kr(A3,this)||function(){return!0}).forEach(function(B){var D=B.x,$=B.y,z=B.lng,V=B.lat,q=B.latLen,G=360/Math.pow(2,t.level);if(!B.obj){var j=G*(1-t.tileMargin),H=q*(1-t.tileMargin),X=Wm(z),Y=Wm(-V),ee=new Ai(new xf(Kr(Vd,t),Math.ceil(j/t.curvatureResolution),Math.ceil(H/t.curvatureResolution),Wm(90-j/2)+X,Wm(j),Wm(90-H/2)+Y,Wm(H)),new Mh);if(Kr(yp,t)){var Z=[V+q/2,V-q/2].map(function(he){return .5-he/180}),re=RE(Z,2),ae=re[0],ce=re[1];YHe(ee.geometry.attributes.uv,ae,ce)}B.obj=ee}B.loading||(B.loading=!0,new P7().load(t.tileUrl(D,$,t.level),function(he){var ge=B.obj;ge&&(he.colorSpace=Za,ge.material.map=he,ge.material.color=null,ge.material.needsUpdate=!0,t.add(ge)),B.loading=!1}))})}}function nje(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=Pse(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c;if(r&&(o=sje(t,e,o,n)),t.length>80*n){s=t[0],l=t[1];let u=s,d=l;for(let f=n;f<i;f+=n){const h=t[f],p=t[f+1];h<s&&(s=h),p<l&&(l=p),h>u&&(u=h),p>d&&(d=p)}c=Math.max(u-s,d-l),c=c!==0?32767/c:0}return g2(o,a,n,s,l,c,0),a}function Pse(t,e,n,r,i){let o;if(i===vje(t,e,n,r)>0)for(let a=e;a<n;a+=r)o=UW(a/r|0,t[a],t[a+1],o);else for(let a=n-r;a>=e;a-=r)o=UW(a/r|0,t[a],t[a+1],o);return o&&Vy(o,o.next)&&(v2(o),o=o.next),o}function mg(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Vy(n,n.next)||Io(n.prev,n,n.next)===0)){if(v2(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function g2(t,e,n,r,i,o,a){if(!t)return;!a&&o&&fje(t,r,i,o);let s=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(o?ije(t,r,i,o):rje(t)){e.push(l.i,t.i,c.i),v2(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=oje(mg(t),e),g2(t,e,n,r,i,o,2)):a===2&&aje(t,e,n,r,i,o):g2(mg(t),e,n,r,i,o,1);break}}}function rje(t){const e=t.prev,n=t,r=t.next;if(Io(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,u=Math.min(i,o,a),d=Math.min(s,l,c),f=Math.max(i,o,a),h=Math.max(s,l,c);let p=r.next;for(;p!==e;){if(p.x>=u&&p.x<=f&&p.y>=d&&p.y<=h&&xx(i,s,o,l,a,c,p.x,p.y)&&Io(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function ije(t,e,n,r){const i=t.prev,o=t,a=t.next;if(Io(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,d=o.y,f=a.y,h=Math.min(s,l,c),p=Math.min(u,d,f),_=Math.max(s,l,c),x=Math.max(u,d,f),y=e6(h,p,e,n,r),w=e6(_,x,e,n,r);let C=t.prevZ,M=t.nextZ;for(;C&&C.z>=y&&M&&M.z<=w;){if(C.x>=h&&C.x<=_&&C.y>=p&&C.y<=x&&C!==i&&C!==a&&xx(s,u,l,d,c,f,C.x,C.y)&&Io(C.prev,C,C.next)>=0||(C=C.prevZ,M.x>=h&&M.x<=_&&M.y>=p&&M.y<=x&&M!==i&&M!==a&&xx(s,u,l,d,c,f,M.x,M.y)&&Io(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;C&&C.z>=y;){if(C.x>=h&&C.x<=_&&C.y>=p&&C.y<=x&&C!==i&&C!==a&&xx(s,u,l,d,c,f,C.x,C.y)&&Io(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;M&&M.z<=w;){if(M.x>=h&&M.x<=_&&M.y>=p&&M.y<=x&&M!==i&&M!==a&&xx(s,u,l,d,c,f,M.x,M.y)&&Io(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function oje(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Vy(r,i)&&Nse(r,n,n.next,i)&&A2(r,i)&&A2(i,r)&&(e.push(r.i,n.i,i.i),v2(n),v2(n.next),n=t=i),n=n.next}while(n!==t);return mg(n)}function aje(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&mje(a,s)){let l=Ise(a,s);a=mg(a,a.next),l=mg(l,l.next),g2(a,e,n,r,i,o,0),g2(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function sje(t,e,n,r){const i=[];for(let o=0,a=e.length;o<a;o++){const s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=Pse(t,s,l,r,!1);c===c.next&&(c.steiner=!0),i.push(pje(c))}i.sort(lje);for(let o=0;o<i.length;o++)n=cje(i[o],n);return n}function lje(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function cje(t,e){const n=uje(t,e);if(!n)return e;const r=Ise(n,t);return mg(r,r.next),mg(n,n.next)}function uje(t,e){let n=e;const r=t.x,i=t.y;let o=-1/0,a;if(Vy(t,n))return n;do{if(Vy(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const d=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=r&&d>o&&(o=d,a=n.x<n.next.x?n:n.next,d===r))return a}n=n.next}while(n!==e);if(!a)return null;const s=a,l=a.x,c=a.y;let u=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Rse(i<c?r:o,i,l,c,i<c?o:r,i,n.x,n.y)){const d=Math.abs(i-n.y)/(r-n.x);A2(n,t)&&(d<u||d===u&&(n.x>a.x||n.x===a.x&&dje(a,n)))&&(a=n,u=d)}n=n.next}while(n!==s);return a}function dje(t,e){return Io(t.prev,t,e.prev)<0&&Io(e.next,t,t.next)<0}function fje(t,e,n,r){let i=t;do i.z===0&&(i.z=e6(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,hje(i)}function hje(t){let e,n=1;do{let r=t,i;t=null;let o=null;for(e=0;r;){e++;let a=r,s=0;for(let c=0;c<n&&(s++,a=a.nextZ,!!a);c++);let l=n;for(;s>0||l>0&&a;)s!==0&&(l===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,s--):(i=a,a=a.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=a}o.nextZ=null,n*=2}while(e>1);return t}function e6(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function pje(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Rse(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function xx(t,e,n,r,i,o,a,s){return!(t===a&&e===s)&&Rse(t,e,n,r,i,o,a,s)}function mje(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!gje(t,e)&&(A2(t,e)&&A2(e,t)&&Aje(t,e)&&(Io(t.prev,t,e.prev)||Io(t,e.prev,e))||Vy(t,e)&&Io(t.prev,t,t.next)>0&&Io(e.prev,e,e.next)>0)}function Io(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Vy(t,e){return t.x===e.x&&t.y===e.y}function Nse(t,e,n,r){const i=nT(Io(t,e,n)),o=nT(Io(t,e,r)),a=nT(Io(n,r,t)),s=nT(Io(n,r,e));return!!(i!==o&&a!==s||i===0&&tT(t,n,e)||o===0&&tT(t,r,e)||a===0&&tT(n,t,r)||s===0&&tT(n,e,r))}function tT(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function nT(t){return t>0?1:t<0?-1:0}function gje(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Nse(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function A2(t,e){return Io(t.prev,t,t.next)<0?Io(t,e,t.next)>=0&&Io(t,t.prev,e)>=0:Io(t,e,t.prev)<0||Io(t,t.next,e)<0}function Aje(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Ise(t,e){const n=t6(t.i,t.x,t.y),r=t6(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function UW(t,e,n,r){const i=t6(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function v2(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function t6(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function vje(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function v3(t){const e=[],n=[],r=t[0][0].length;let i=0,o=0;for(const a of t){for(const s of a)for(let l=0;l<r;l++)e.push(s[l]);o&&(i+=o,n.push(i)),o=a.length}return{vertices:e,holes:n,dimensions:r}}function n6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yje(t){if(Array.isArray(t))return t}function bje(t){if(Array.isArray(t))return n6(t)}function xje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _je(t,e,n){return e=y3(e),Nje(t,Ose()?Reflect.construct(e,[],y3(t).constructor):e.apply(t,n))}function Sje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wje(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Cje(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=H7(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{a||n.return==null||n.return()}finally{if(s)throw o}}}}function y3(t){return y3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y3(t)}function Tje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r6(t,e)}function Ose(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ose=function(){return!!t})()}function Eje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Pje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nje(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xje(t)}function r6(t,e){return r6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},r6(t,e)}function Ob(t,e){return yje(t)||Mje(t,e)||H7(t,e)||Pje()}function Ije(t){return bje(t)||Eje(t)||H7(t)||Rje()}function H7(t,e){if(t){if(typeof t=="string")return n6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?n6(t,e):void 0}}var zW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=[],i=null;return e.forEach(function(o){if(i){var a=om(o,i)*180/Math.PI;if(a>n)for(var s=U7(i,o),l=i.length>2||o.length>2?p2(i[2]||0,o[2]||0):null,c=l?function(f){return[].concat(Ije(s(f)),[l(f)])}:s,u=1/Math.ceil(a/n),d=u;d<1;)r.push(c(d)),d+=u}r.push(i=o)}),r},i6=typeof window<"u"&&window.THREE?window.THREE:{BufferGeometry:bi,Float32BufferAttribute:li},Oje=new i6.BufferGeometry().setAttribute?"setAttribute":"addAttribute",Dse=function(t){function e(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;Sje(this,e),r=_je(this,e),r.type="GeoJsonGeometry",r.parameters={geoJson:n,radius:i,resolution:o};var a=({Point:u,MultiPoint:d,LineString:f,MultiLineString:h,Polygon:p,MultiPolygon:_}[n.type]||function(){return[]})(n.coordinates,i),s=[],l=[],c=0;a.forEach(function(x){var y=s.length;Db({indices:s,vertices:l},x),r.addGroup(y,s.length-y,c++)}),s.length&&r.setIndex(s),l.length&&r[Oje]("position",new i6.Float32BufferAttribute(l,3));function u(x,y){var w=LO(x[1],x[0],y+(x[2]||0)),C=[];return[{vertices:w,indices:C}]}function d(x,y){var w={vertices:[],indices:[]};return x.map(function(C){return u(C,y)}).forEach(function(C){var M=Ob(C,1),R=M[0];Db(w,R)}),[w]}function f(x,y){for(var w=zW(x,o).map(function(B){var D=Ob(B,3),$=D[0],z=D[1],V=D[2],q=V===void 0?0:V;return LO(z,$,y+q)}),C=v3([w]),M=C.vertices,R=Math.round(M.length/3),N=[],I=1;I<R;I++)N.push(I-1,I);return[{vertices:M,indices:N}]}function h(x,y){var w={vertices:[],indices:[]};return x.map(function(C){return f(C,y)}).forEach(function(C){var M=Ob(C,1),R=M[0];Db(w,R)}),[w]}function p(x,y){for(var w=x.map(function(j){return zW(j,o).map(function(H){var X=Ob(H,3),Y=X[0],ee=X[1],Z=X[2],re=Z===void 0?0:Z;return LO(ee,Y,y+re)})}),C=v3(w),M=C.vertices,R=C.holes,N=R[0]||1/0,I=M.slice(0,N*3),B=M.slice(N*3),D=new Set(R),$=Math.round(M.length/3),z=[],V=[],q=1;q<$;q++)D.has(q)||(q<N?z.push(q-1,q):V.push(q-1-N,q-N));var G=[{indices:z,vertices:I}];return R.length&&G.push({indices:V,vertices:B}),G}function _(x,y){var w={vertices:[],indices:[]},C={vertices:[],indices:[]};x.map(function(R){return p(R,y)}).forEach(function(R){var N=Ob(R,2),I=N[0],B=N[1];Db(w,I),B&&Db(C,B)});var M=[w];return C.vertices.length&&M.push(C),M}return r}return Tje(e,t),wje(e)}(i6.BufferGeometry);function Db(t,e){var n=Math.round(t.vertices.length/3);VW(t.vertices,e.vertices),VW(t.indices,e.indices.map(function(r){return r+n}))}function VW(t,e){var n=Cje(e),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;t.push(i)}}catch(o){n.e(o)}finally{n.f()}}function LO(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180;return[n*Math.sin(r)*Math.cos(i),n*Math.cos(r),n*Math.sin(r)*Math.sin(i)]}function Dje(t,e,n=!0){if(!e||!e.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!t.hasAttribute("position")||!t.hasAttribute("normal")||!t.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function r(a){if(a.normalized||a.isInterleavedBufferAttribute){const s=new Float32Array(a.count*a.itemSize);for(let l=0,c=0;l<a.count;l++)s[c++]=a.getX(l),s[c++]=a.getY(l),a.itemSize>2&&(s[c++]=a.getZ(l));return s}return a.array instanceof Float32Array?a.array:new Float32Array(a.array)}const i=t.index?t.toNonIndexed():t,o=e.generateTangents(r(i.attributes.position),r(i.attributes.normal),r(i.attributes.uv));if(n)for(let a=3;a<o.length;a+=4)o[a]*=-1;return i.setAttribute("tangent",new So(o,4)),t!==i&&t.copy(i),t}function Lje(t,e=!1){const n=t[0].index!==null,r=new Set(Object.keys(t[0].attributes)),i=new Set(Object.keys(t[0].morphAttributes)),o={},a={},s=t[0].morphTargetsRelative,l=new bi;let c=0;for(let u=0;u<t.length;++u){const d=t[u];let f=0;if(n!==(d.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const h in d.attributes){if(!r.has(h))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+h+'" attribute exists among all geometries, or in none of them.'),null;o[h]===void 0&&(o[h]=[]),o[h].push(d.attributes[h]),f++}if(f!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(s!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const h in d.morphAttributes){if(!i.has(h))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;a[h]===void 0&&(a[h]=[]),a[h].push(d.morphAttributes[h])}if(e){let h;if(n)h=d.index.count;else if(d.attributes.position!==void 0)h=d.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;l.addGroup(c,h,u),c+=h}}if(n){let u=0;const d=[];for(let f=0;f<t.length;++f){const h=t[f].index;for(let p=0;p<h.count;++p)d.push(h.getX(p)+u);u+=t[f].attributes.position.count}l.setIndex(d)}for(const u in o){const d=o6(o[u]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+u+" attribute."),null;l.setAttribute(u,d)}for(const u in a){const d=a[u][0].length;if(d===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[u]=[];for(let f=0;f<d;++f){const h=[];for(let _=0;_<a[u].length;++_)h.push(a[u][_][f]);const p=o6(h);if(!p)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+u+" morphAttribute."),null;l.morphAttributes[u].push(p)}}return l}function o6(t){let e,n,r,i=-1,o=0;for(let c=0;c<t.length;++c){const u=t[c];if(e===void 0&&(e=u.array.constructor),e!==u.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=u.itemSize),n!==u.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(r===void 0&&(r=u.normalized),r!==u.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(i===-1&&(i=u.gpuType),i!==u.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;o+=u.count*n}const a=new e(o),s=new So(a,n,r);let l=0;for(let c=0;c<t.length;++c){const u=t[c];if(u.isInterleavedBufferAttribute){const d=l/n;for(let f=0,h=u.count;f<h;f++)for(let p=0;p<n;p++){const _=u.getComponent(f,p);s.setComponent(f+d,p,_)}}else a.set(u.array,l);l+=u.count*n}return i!==void 0&&(s.gpuType=i),s}function Bje(t){return t.isInstancedInterleavedBufferAttribute||t.isInterleavedBufferAttribute?b3(t):t.isInstancedBufferAttribute?new Wp().copy(t):new So().copy(t)}function Fje(t){let e,n=0,r=0;for(let c=0,u=t.length;c<u;++c){const d=t[c];if(e===void 0&&(e=d.array.constructor),e!==d.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=d.array.length,r+=d.itemSize}const i=new y7(new e(n),r);let o=0;const a=[],s=["getX","getY","getZ","getW"],l=["setX","setY","setZ","setW"];for(let c=0,u=t.length;c<u;c++){const d=t[c],f=d.itemSize,h=d.count,p=new Xd(i,f,o,d.normalized);a.push(p),o+=f;for(let _=0;_<h;_++)for(let x=0;x<f;x++)p[l[x]](_,d[s[x]](_))}return a}function b3(t){const e=t.data.array.constructor,n=t.count,r=t.itemSize,i=t.normalized,o=new e(n*r);let a;t.isInstancedInterleavedBufferAttribute?a=new Wp(o,r,i,t.meshPerAttribute):a=new So(o,r,i);for(let s=0;s<n;s++)a.setX(s,t.getX(s)),r>=2&&a.setY(s,t.getY(s)),r>=3&&a.setZ(s,t.getZ(s)),r>=4&&a.setW(s,t.getW(s));return a}function $je(t){const e=t.attributes,n=t.morphTargets,r=new Map;for(const i in e){const o=e[i];o.isInterleavedBufferAttribute&&(r.has(o)||r.set(o,b3(o)),e[i]=r.get(o))}for(const i in n){const o=n[i];o.isInterleavedBufferAttribute&&(r.has(o)||r.set(o,b3(o)),n[i]=r.get(o))}}function kje(t){let e=0;for(const r in t.attributes){const i=t.getAttribute(r);e+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}const n=t.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,e}function Uje(t,e=1e-4){e=Math.max(e,Number.EPSILON);const n={},r=t.getIndex(),i=t.getAttribute("position"),o=r?r.count:i.count;let a=0;const s=Object.keys(t.attributes),l={},c={},u=[],d=["getX","getY","getZ","getW"],f=["setX","setY","setZ","setW"];for(let w=0,C=s.length;w<C;w++){const M=s[w],R=t.attributes[M];l[M]=new R.constructor(new R.array.constructor(R.count*R.itemSize),R.itemSize,R.normalized);const N=t.morphAttributes[M];N&&(c[M]||(c[M]=[]),N.forEach((I,B)=>{const D=new I.array.constructor(I.count*I.itemSize);c[M][B]=new I.constructor(D,I.itemSize,I.normalized)}))}const h=e*.5,p=Math.log10(1/e),_=Math.pow(10,p),x=h*_;for(let w=0;w<o;w++){const C=r?r.getX(w):w;let M="";for(let R=0,N=s.length;R<N;R++){const I=s[R],B=t.getAttribute(I),D=B.itemSize;for(let $=0;$<D;$++)M+=`${~~(B[d[$]](C)*_+x)},`}if(M in n)u.push(n[M]);else{for(let R=0,N=s.length;R<N;R++){const I=s[R],B=t.getAttribute(I),D=t.morphAttributes[I],$=B.itemSize,z=l[I],V=c[I];for(let q=0;q<$;q++){const G=d[q],j=f[q];if(z[j](a,B[G](C)),D)for(let H=0,X=D.length;H<X;H++)V[H][j](a,D[H][G](C))}}n[M]=a,u.push(a),a++}}const y=t.clone();for(const w in t.attributes){const C=l[w];if(y.setAttribute(w,new C.constructor(C.array.slice(0,a*C.itemSize),C.itemSize,C.normalized)),w in c)for(let M=0;M<c[w].length;M++){const R=c[w][M];y.morphAttributes[w][M]=new R.constructor(R.array.slice(0,a*R.itemSize),R.itemSize,R.normalized)}}return y.setIndex(u),y}function zje(t,e){if(e===bBe)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===Nj||e===xBe){let n=t.getIndex();if(n===null){const a=[],s=t.getAttribute("position");if(s!==void 0){for(let l=0;l<s.count;l++)a.push(l);t.setIndex(a),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(e===Nj)for(let a=1;a<=r;a++)i.push(n.getX(0)),i.push(n.getX(a)),i.push(n.getX(a+1));else for(let a=0;a<r;a++)a%2===0?(i.push(n.getX(a)),i.push(n.getX(a+1)),i.push(n.getX(a+2))):(i.push(n.getX(a+2)),i.push(n.getX(a+1)),i.push(n.getX(a)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=t.clone();return o.setIndex(i),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}function Vje(t){const e=new Te,n=new Te,r=new Te,i=new Te,o=new Te,a=new Te,s=new Te,l=new Te,c=new Te;function u(ee,Z,re,ae,ce,he,ge,se){e.fromBufferAttribute(Z,ce),n.fromBufferAttribute(Z,he),r.fromBufferAttribute(Z,ge);const me=ee.morphTargetInfluences;if(re&&me){s.set(0,0,0),l.set(0,0,0),c.set(0,0,0);for(let ye=0,we=re.length;ye<we;ye++){const Ee=me[ye],Me=re[ye];Ee!==0&&(i.fromBufferAttribute(Me,ce),o.fromBufferAttribute(Me,he),a.fromBufferAttribute(Me,ge),ae?(s.addScaledVector(i,Ee),l.addScaledVector(o,Ee),c.addScaledVector(a,Ee)):(s.addScaledVector(i.sub(e),Ee),l.addScaledVector(o.sub(n),Ee),c.addScaledVector(a.sub(r),Ee)))}e.add(s),n.add(l),r.add(c)}ee.isSkinnedMesh&&(ee.applyBoneTransform(ce,e),ee.applyBoneTransform(he,n),ee.applyBoneTransform(ge,r)),se[ce*3+0]=e.x,se[ce*3+1]=e.y,se[ce*3+2]=e.z,se[he*3+0]=n.x,se[he*3+1]=n.y,se[he*3+2]=n.z,se[ge*3+0]=r.x,se[ge*3+1]=r.y,se[ge*3+2]=r.z}const d=t.geometry,f=t.material;let h,p,_;const x=d.index,y=d.attributes.position,w=d.morphAttributes.position,C=d.morphTargetsRelative,M=d.attributes.normal,R=d.morphAttributes.position,N=d.groups,I=d.drawRange;let B,D,$,z,V,q,G;const j=new Float32Array(y.count*y.itemSize),H=new Float32Array(M.count*M.itemSize);if(x!==null)if(Array.isArray(f))for(B=0,$=N.length;B<$;B++)for(V=N[B],q=Math.max(V.start,I.start),G=Math.min(V.start+V.count,I.start+I.count),D=q,z=G;D<z;D+=3)h=x.getX(D),p=x.getX(D+1),_=x.getX(D+2),u(t,y,w,C,h,p,_,j),u(t,M,R,C,h,p,_,H);else for(q=Math.max(0,I.start),G=Math.min(x.count,I.start+I.count),B=q,$=G;B<$;B+=3)h=x.getX(B),p=x.getX(B+1),_=x.getX(B+2),u(t,y,w,C,h,p,_,j),u(t,M,R,C,h,p,_,H);else if(Array.isArray(f))for(B=0,$=N.length;B<$;B++)for(V=N[B],q=Math.max(V.start,I.start),G=Math.min(V.start+V.count,I.start+I.count),D=q,z=G;D<z;D+=3)h=D,p=D+1,_=D+2,u(t,y,w,C,h,p,_,j),u(t,M,R,C,h,p,_,H);else for(q=Math.max(0,I.start),G=Math.min(y.count,I.start+I.count),B=q,$=G;B<$;B+=3)h=B,p=B+1,_=B+2,u(t,y,w,C,h,p,_,j),u(t,M,R,C,h,p,_,H);const X=new li(j,3),Y=new li(H,3);return{positionAttribute:y,normalAttribute:M,morphedPositionAttribute:X,morphedNormalAttribute:Y}}function Gje(t){if(t.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),t;let e=t.groups;if(e=e.sort((a,s)=>a.materialIndex!==s.materialIndex?a.materialIndex-s.materialIndex:a.start-s.start),t.getIndex()===null){const a=t.getAttribute("position"),s=[];for(let l=0;l<a.count;l+=3)s.push(l,l+1,l+2);t.setIndex(s)}const n=t.getIndex(),r=[];for(let a=0;a<e.length;a++){const s=e[a],l=s.start,c=l+s.count;for(let u=l;u<c;u++)r.push(n.getX(u))}t.dispose(),t.setIndex(r);let i=0;for(let a=0;a<e.length;a++){const s=e[a];s.start=i,i+=s.count}let o=e[0];t.groups=[o];for(let a=1;a<e.length;a++){const s=e[a];o.materialIndex===s.materialIndex?o.count+=s.count:(o=s,t.groups.push(o))}return t}function Hje(t,e=Math.PI/3){const n=Math.cos(e),r=(1+1e-10)*100,i=[new Te,new Te,new Te],o=new Te,a=new Te,s=new Te,l=new Te;function c(_){const x=~~(_.x*r),y=~~(_.y*r),w=~~(_.z*r);return`${x},${y},${w}`}const u=t.index?t.toNonIndexed():t,d=u.attributes.position,f={};for(let _=0,x=d.count/3;_<x;_++){const y=3*_,w=i[0].fromBufferAttribute(d,y+0),C=i[1].fromBufferAttribute(d,y+1),M=i[2].fromBufferAttribute(d,y+2);o.subVectors(M,C),a.subVectors(w,C);const R=new Te().crossVectors(o,a).normalize();for(let N=0;N<3;N++){const I=i[N],B=c(I);B in f||(f[B]=[]),f[B].push(R)}}const h=new Float32Array(d.count*3),p=new So(h,3,!1);for(let _=0,x=d.count/3;_<x;_++){const y=3*_,w=i[0].fromBufferAttribute(d,y+0),C=i[1].fromBufferAttribute(d,y+1),M=i[2].fromBufferAttribute(d,y+2);o.subVectors(M,C),a.subVectors(w,C),s.crossVectors(o,a).normalize();for(let R=0;R<3;R++){const N=i[R],I=c(N),B=f[I];l.set(0,0,0);for(let D=0,$=B.length;D<$;D++){const z=B[D];s.dot(z)>n&&l.add(z)}l.normalize(),p.setXYZ(y+R,l.x,l.y,l.z)}}return u.setAttribute("normal",p),u}const j7=Object.freeze(Object.defineProperty({__proto__:null,computeMikkTSpaceTangents:Dje,computeMorphedAttributes:Vje,deepCloneAttribute:Bje,deinterleaveAttribute:b3,deinterleaveGeometry:$je,estimateBytesUsed:kje,interleaveAttributes:Fje,mergeAttributes:o6,mergeGeometries:Lje,mergeGroups:Gje,mergeVertices:Uje,toCreasedNormals:Hje,toTrianglesDrawMode:zje},Symbol.toStringTag,{value:"Module"}));var nn=function(t){return typeof t=="function"?t:typeof t=="string"?function(e){return e[t]}:function(e){return t}};function x3(t){"@babel/helpers - typeof";return x3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x3(t)}var jje=/^\s+/,qje=/\s+$/;function sr(t,e){if(t=t||"",e=e||{},t instanceof sr)return t;if(!(this instanceof sr))return new sr(t,e);var n=Wje(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}sr.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,a,s;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*a+.0722*s},setAlpha:function(e){return this._a=Lse(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=HW(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=HW(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=GW(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=GW(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return jW(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Qje(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(yo(this._r,255)*100)+"%",g:Math.round(yo(this._g,255)*100)+"%",b:Math.round(yo(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(yo(this._r,255)*100)+"%, "+Math.round(yo(this._g,255)*100)+"%, "+Math.round(yo(this._b,255)*100)+"%)":"rgba("+Math.round(yo(this._r,255)*100)+"%, "+Math.round(yo(this._g,255)*100)+"%, "+Math.round(yo(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:cqe[jW(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+qW(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=sr(e);r="#"+qW(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return sr(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(tqe,arguments)},brighten:function(){return this._applyModification(nqe,arguments)},darken:function(){return this._applyModification(rqe,arguments)},desaturate:function(){return this._applyModification(Zje,arguments)},saturate:function(){return this._applyModification(Jje,arguments)},greyscale:function(){return this._applyModification(eqe,arguments)},spin:function(){return this._applyModification(iqe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(sqe,arguments)},complement:function(){return this._applyCombination(oqe,arguments)},monochromatic:function(){return this._applyCombination(lqe,arguments)},splitcomplement:function(){return this._applyCombination(aqe,arguments)},triad:function(){return this._applyCombination(WW,[3])},tetrad:function(){return this._applyCombination(WW,[4])}};sr.fromRatio=function(t,e){if(x3(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=_x(t[r]));t=n}return sr(t,e)};function Wje(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return typeof t=="string"&&(t=hqe(t)),x3(t)=="object"&&(Df(t.r)&&Df(t.g)&&Df(t.b)?(e=Xje(t.r,t.g,t.b),a=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Df(t.h)&&Df(t.s)&&Df(t.v)?(r=_x(t.s),i=_x(t.v),e=Kje(t.h,r,i),a=!0,s="hsv"):Df(t.h)&&Df(t.s)&&Df(t.l)&&(r=_x(t.s),o=_x(t.l),e=Yje(t.h,r,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=Lse(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Xje(t,e,n){return{r:yo(t,255)*255,g:yo(e,255)*255,b:yo(n,255)*255}}function GW(t,e,n){t=yo(t,255),e=yo(e,255),n=yo(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,a,s=(r+i)/2;if(r==i)o=a=0;else{var l=r-i;switch(a=s>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,l:s}}function Yje(t,e,n){var r,i,o;t=yo(t,360),e=yo(e,100),n=yo(n,100);function a(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(e===0)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function HW(t,e,n){t=yo(t,255),e=yo(e,255),n=yo(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,a,s=r,l=r-i;if(a=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,v:s}}function Kje(t,e,n){t=yo(t,360)*6,e=yo(e,100),n=yo(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],d=[o,o,s,n,n,a][l];return{r:c*255,g:u*255,b:d*255}}function jW(t,e,n,r){var i=[Wu(Math.round(t).toString(16)),Wu(Math.round(e).toString(16)),Wu(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Qje(t,e,n,r,i){var o=[Wu(Math.round(t).toString(16)),Wu(Math.round(e).toString(16)),Wu(Math.round(n).toString(16)),Wu(Bse(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function qW(t,e,n,r){var i=[Wu(Bse(r)),Wu(Math.round(t).toString(16)),Wu(Math.round(e).toString(16)),Wu(Math.round(n).toString(16))];return i.join("")}sr.equals=function(t,e){return!t||!e?!1:sr(t).toRgbString()==sr(e).toRgbString()};sr.random=function(){return sr.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Zje(t,e){e=e===0?0:e||10;var n=sr(t).toHsl();return n.s-=e/100,n.s=UR(n.s),sr(n)}function Jje(t,e){e=e===0?0:e||10;var n=sr(t).toHsl();return n.s+=e/100,n.s=UR(n.s),sr(n)}function eqe(t){return sr(t).desaturate(100)}function tqe(t,e){e=e===0?0:e||10;var n=sr(t).toHsl();return n.l+=e/100,n.l=UR(n.l),sr(n)}function nqe(t,e){e=e===0?0:e||10;var n=sr(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),sr(n)}function rqe(t,e){e=e===0?0:e||10;var n=sr(t).toHsl();return n.l-=e/100,n.l=UR(n.l),sr(n)}function iqe(t,e){var n=sr(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,sr(n)}function oqe(t){var e=sr(t).toHsl();return e.h=(e.h+180)%360,sr(e)}function WW(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=sr(t).toHsl(),r=[sr(t)],i=360/e,o=1;o<e;o++)r.push(sr({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function aqe(t){var e=sr(t).toHsl(),n=e.h;return[sr(t),sr({h:(n+72)%360,s:e.s,l:e.l}),sr({h:(n+216)%360,s:e.s,l:e.l})]}function sqe(t,e,n){e=e||6,n=n||30;var r=sr(t).toHsl(),i=360/n,o=[sr(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(sr(r));return o}function lqe(t,e){e=e||6;for(var n=sr(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(sr({h:r,s:i,v:o})),o=(o+s)%1;return a}sr.mix=function(t,e,n){n=n===0?0:n||50;var r=sr(t).toRgb(),i=sr(e).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return sr(a)};sr.readability=function(t,e){var n=sr(t),r=sr(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};sr.isReadable=function(t,e,n){var r=sr.readability(t,e),i,o;switch(o=!1,i=pqe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};sr.mostReadable=function(t,e,n){var r=null,i=0,o,a,s,l;n=n||{},a=n.includeFallbackColors,s=n.level,l=n.size;for(var c=0;c<e.length;c++)o=sr.readability(t,e[c]),o>i&&(i=o,r=sr(e[c]));return sr.isReadable(t,r,{level:s,size:l})||!a?r:(n.includeFallbackColors=!1,sr.mostReadable(t,["#fff","#000"],n))};var a6=sr.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},cqe=sr.hexNames=uqe(a6);function uqe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Lse(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function yo(t,e){dqe(t)&&(t="100%");var n=fqe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function UR(t){return Math.min(1,Math.max(0,t))}function Ql(t){return parseInt(t,16)}function dqe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function fqe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Wu(t){return t.length==1?"0"+t:""+t}function _x(t){return t<=1&&(t=t*100+"%"),t}function Bse(t){return Math.round(parseFloat(t)*255).toString(16)}function XW(t){return Ql(t)/255}var Du=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Df(t){return!!Du.CSS_UNIT.exec(t)}function hqe(t){t=t.replace(jje,"").replace(qje,"").toLowerCase();var e=!1;if(a6[t])t=a6[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Du.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Du.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Du.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Du.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Du.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Du.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Du.hex8.exec(t))?{r:Ql(n[1]),g:Ql(n[2]),b:Ql(n[3]),a:XW(n[4]),format:e?"name":"hex8"}:(n=Du.hex6.exec(t))?{r:Ql(n[1]),g:Ql(n[2]),b:Ql(n[3]),format:e?"name":"hex"}:(n=Du.hex4.exec(t))?{r:Ql(n[1]+""+n[1]),g:Ql(n[2]+""+n[2]),b:Ql(n[3]+""+n[3]),a:XW(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Du.hex3.exec(t))?{r:Ql(n[1]+""+n[1]),g:Ql(n[2]+""+n[2]),b:Ql(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function pqe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function s6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function mqe(t){if(Array.isArray(t))return t}function gqe(t){if(Array.isArray(t))return s6(t)}function Fse(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Aqe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function As(t,e){return t.get(Fse(t,e))}function wA(t,e,n){Aqe(t,e),e.set(t,n)}function rT(t,e,n){return t.set(Fse(t,e),n),n}function yqe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mqe(r.key),r)}}function bqe(t,e,n){return e&&yqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _qe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Sqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cqe(t,e){return mqe(t)||_qe(t,e)||$se(t,e)||Sqe()}function Tqe(t){return gqe(t)||xqe(t)||$se(t)||wqe()}function Eqe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mqe(t){var e=Eqe(t,"string");return typeof e=="symbol"?e:e+""}function $se(t,e){if(t){if(typeof t=="string")return s6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s6(t,e):void 0}}var CA=new WeakMap,Lb=new WeakMap,TA=new WeakMap,BO=new WeakMap,FO=new WeakMap,$O=new WeakMap,Pqe=function(){function t(){vqe(this,t),wA(this,CA,new Map),wA(this,Lb,new Map),wA(this,TA,function(e){return e}),wA(this,BO,function(){return{}}),wA(this,FO,function(){}),wA(this,$O,function(){})}return bqe(t,[{key:"getObj",value:function(n){return As(CA,this).get(As(TA,this).call(this,n))}},{key:"getData",value:function(n){return As(Lb,this).get(n)}},{key:"entries",value:function(){return Tqe(As(Lb,this).entries()).map(function(n){var r=Cqe(n,2),i=r[0],o=r[1];return[o,i]})}},{key:"id",value:function(n){return rT(TA,this,nn(n)),this}},{key:"onCreateObj",value:function(n){return rT(BO,this,n),this}},{key:"onUpdateObj",value:function(n){return rT(FO,this,n),this}},{key:"onRemoveObj",value:function(n){return rT($O,this,n),this}},{key:"digest",value:function(n){var r=this;n.filter(function(o){return!As(CA,r).has(As(TA,r).call(r,o))}).forEach(function(o){var a=As(BO,r).call(r,o);As(CA,r).set(As(TA,r).call(r,o),a),As(Lb,r).set(a,o)});var i=new Map(n.map(function(o){return[As(TA,r).call(r,o),o]}));return As(CA,this).forEach(function(o,a){i.has(a)?As(FO,r).call(r,o,i.get(a)):(As($O,r).call(r,o,a),As(CA,r).delete(a),As(Lb,r).delete(o))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])}(),kse={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(bh,function(){return function(n){function r(o){if(i[o])return i[o].exports;var a=i[o]={exports:{},id:o,loaded:!1};return n[o].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(n,r,i){var o=i(1),a=function(){function s(l,c,u){l===void 0&&(l=NaN),c===void 0&&(c=NaN),u===void 0&&(u=!1),this._minFPS=c,this._maxFPS=l,this._timeScale=1,this._currentTick=0,this._currentTime=0,this._tickDeltaTime=0,this._isRunning=!1,this._maxInterval=isNaN(this._minFPS)?NaN:1e3/this._minFPS,this._minInterval=isNaN(this._maxFPS)?NaN:1e3/this._maxFPS,this._onResume=new o.default,this._onPause=new o.default,this._onTick=new o.default,this._onTickOncePerFrame=new o.default,u||this.resume()}return s.prototype.updateOnce=function(l){l(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},s.prototype.resume=function(){this._isRunning||(this._isRunning=!0,this._lastTimeUpdated=this.getTimer(),this._onResume.dispatch(),this.animateOnce())},s.prototype.pause=function(){this._isRunning&&(this._isRunning=!1,this._onPause.dispatch(),window.cancelAnimationFrame(this._animationFrameHandle))},s.prototype.dispose=function(){this.pause(),this._onResume.removeAll(),this._onPause.removeAll(),this._onTick.removeAll()},Object.defineProperty(s.prototype,"currentTick",{get:function(){return this._currentTick},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"currentTimeSeconds",{get:function(){return this._currentTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tickDeltaTimeSeconds",{get:function(){return this._tickDeltaTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"timeScale",{get:function(){return this._timeScale},set:function(l){this._timeScale!==l&&(this._timeScale=l)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"onResume",{get:function(){return this._onResume},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"onPause",{get:function(){return this._onPause},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"onTick",{get:function(){return this._onTick},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"onTickOncePerFrame",{get:function(){return this._onTickOncePerFrame},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!0,configurable:!0}),s.prototype.animateOnce=function(){var l=this;this._animationFrameHandle=window.requestAnimationFrame(function(){return l.onFrame()})},s.prototype.onFrame=function(){if(this._now=this.getTimer(),this._frameDeltaTime=this._now-this._lastTimeUpdated,isNaN(this._minInterval)||this._frameDeltaTime>=this._minInterval)if(isNaN(this._maxInterval))this.update(this._frameDeltaTime*this._timeScale,!0),this._lastTimeUpdated=this._now;else for(this._interval=Math.min(this._frameDeltaTime,this._maxInterval);this._now>=this._lastTimeUpdated+this._interval;)this.update(this._interval*this._timeScale,this._now<=this._lastTimeUpdated+2*this._maxInterval),this._lastTimeUpdated+=this._interval;this._isRunning&&this.animateOnce()},s.prototype.update=function(l,c){c===void 0&&(c=!0),this._currentTick++,this._currentTime+=l,this._tickDeltaTime=l,this._onTick.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick),c&&this._onTickOncePerFrame.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},s.prototype.getTimer=function(){return Date.now()},s}();Object.defineProperty(r,"__esModule",{value:!0}),r.default=a},function(n,r,i){(function(o,a){n.exports=a()})(this,function(){return function(o){function a(l){if(s[l])return s[l].exports;var c=s[l]={exports:{},id:l,loaded:!1};return o[l].call(c.exports,c,c.exports,a),c.loaded=!0,c.exports}var s={};return a.m=o,a.c=s,a.p="",a(0)}([function(o,a){var s=function(){function l(){this.functions=[]}return l.prototype.add=function(c){return this.functions.indexOf(c)===-1&&(this.functions.push(c),!0)},l.prototype.remove=function(c){var u=this.functions.indexOf(c);return u>-1&&(this.functions.splice(u,1),!0)},l.prototype.removeAll=function(){return this.functions.length>0&&(this.functions.length=0,!0)},l.prototype.dispatch=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=this.functions.concat();d.forEach(function(f){f.apply(void 0,c)})},Object.defineProperty(l.prototype,"numItems",{get:function(){return this.functions.length},enumerable:!0,configurable:!0}),l}();Object.defineProperty(a,"__esModule",{value:!0}),a.default=s}])})}])})})(kse);var Rqe=kse.exports;const Gy=al(Rqe),eh=11102230246251565e-32,vs=134217729,Nqe=(3+8*eh)*eh;function kO(t,e,n,r,i){let o,a,s,l,c=e[0],u=r[0],d=0,f=0;u>c==u>-c?(o=c,c=e[++d]):(o=u,u=r[++f]);let h=0;if(d<t&&f<n)for(u>c==u>-c?(a=c+o,s=o-(a-c),c=e[++d]):(a=u+o,s=o-(a-u),u=r[++f]),o=a,s!==0&&(i[h++]=s);d<t&&f<n;)u>c==u>-c?(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++d]):(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++f]),o=a,s!==0&&(i[h++]=s);for(;d<t;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++d],o=a,s!==0&&(i[h++]=s);for(;f<n;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++f],o=a,s!==0&&(i[h++]=s);return(o!==0||h===0)&&(i[h++]=o),h}function Iqe(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function SS(t){return new Float64Array(t)}const Oqe=(3+16*eh)*eh,Dqe=(2+12*eh)*eh,Lqe=(9+64*eh)*eh*eh,EA=SS(4),YW=SS(8),KW=SS(12),QW=SS(16),ks=SS(4);function Bqe(t,e,n,r,i,o,a){let s,l,c,u,d,f,h,p,_,x,y,w,C,M,R,N,I,B;const D=t-i,$=n-i,z=e-o,V=r-o;M=D*V,f=vs*D,h=f-(f-D),p=D-h,f=vs*V,_=f-(f-V),x=V-_,R=p*x-(M-h*_-p*_-h*x),N=z*$,f=vs*z,h=f-(f-z),p=z-h,f=vs*$,_=f-(f-$),x=$-_,I=p*x-(N-h*_-p*_-h*x),y=R-I,d=R-y,EA[0]=R-(y+d)+(d-I),w=M+y,d=w-M,C=M-(w-d)+(y-d),y=C-N,d=C-y,EA[1]=C-(y+d)+(d-N),B=w+y,d=B-w,EA[2]=w-(B-d)+(y-d),EA[3]=B;let q=Iqe(4,EA),G=Dqe*a;if(q>=G||-q>=G||(d=t-D,s=t-(D+d)+(d-i),d=n-$,c=n-($+d)+(d-i),d=e-z,l=e-(z+d)+(d-o),d=r-V,u=r-(V+d)+(d-o),s===0&&l===0&&c===0&&u===0)||(G=Lqe*a+Nqe*Math.abs(q),q+=D*u+V*s-(z*c+$*l),q>=G||-q>=G))return q;M=s*V,f=vs*s,h=f-(f-s),p=s-h,f=vs*V,_=f-(f-V),x=V-_,R=p*x-(M-h*_-p*_-h*x),N=l*$,f=vs*l,h=f-(f-l),p=l-h,f=vs*$,_=f-(f-$),x=$-_,I=p*x-(N-h*_-p*_-h*x),y=R-I,d=R-y,ks[0]=R-(y+d)+(d-I),w=M+y,d=w-M,C=M-(w-d)+(y-d),y=C-N,d=C-y,ks[1]=C-(y+d)+(d-N),B=w+y,d=B-w,ks[2]=w-(B-d)+(y-d),ks[3]=B;const j=kO(4,EA,4,ks,YW);M=D*u,f=vs*D,h=f-(f-D),p=D-h,f=vs*u,_=f-(f-u),x=u-_,R=p*x-(M-h*_-p*_-h*x),N=z*c,f=vs*z,h=f-(f-z),p=z-h,f=vs*c,_=f-(f-c),x=c-_,I=p*x-(N-h*_-p*_-h*x),y=R-I,d=R-y,ks[0]=R-(y+d)+(d-I),w=M+y,d=w-M,C=M-(w-d)+(y-d),y=C-N,d=C-y,ks[1]=C-(y+d)+(d-N),B=w+y,d=B-w,ks[2]=w-(B-d)+(y-d),ks[3]=B;const H=kO(j,YW,4,ks,KW);M=s*u,f=vs*s,h=f-(f-s),p=s-h,f=vs*u,_=f-(f-u),x=u-_,R=p*x-(M-h*_-p*_-h*x),N=l*c,f=vs*l,h=f-(f-l),p=l-h,f=vs*c,_=f-(f-c),x=c-_,I=p*x-(N-h*_-p*_-h*x),y=R-I,d=R-y,ks[0]=R-(y+d)+(d-I),w=M+y,d=w-M,C=M-(w-d)+(y-d),y=C-N,d=C-y,ks[1]=C-(y+d)+(d-N),B=w+y,d=B-w,ks[2]=w-(B-d)+(y-d),ks[3]=B;const X=kO(H,KW,4,ks,QW);return QW[X-1]}function Sx(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),l=a-s,c=Math.abs(a+s);return Math.abs(l)>=Oqe*c?l:-Bqe(t,e,n,r,i,o,c)}const ZW=Math.pow(2,-52),iT=new Uint32Array(512);class y2{static from(e,n=zqe,r=Vqe){const i=e.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const s=e[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new y2(o)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=e.length>>1;let s=1/0,l=1/0,c=-1/0,u=-1/0;for(let D=0;D<a;D++){const $=e[2*D],z=e[2*D+1];$<s&&(s=$),z<l&&(l=z),$>c&&(c=$),z>u&&(u=z),this._ids[D]=D}const d=(s+c)/2,f=(l+u)/2;let h,p,_;for(let D=0,$=1/0;D<a;D++){const z=UO(d,f,e[2*D],e[2*D+1]);z<$&&(h=D,$=z)}const x=e[2*h],y=e[2*h+1];for(let D=0,$=1/0;D<a;D++){if(D===h)continue;const z=UO(x,y,e[2*D],e[2*D+1]);z<$&&z>0&&(p=D,$=z)}let w=e[2*p],C=e[2*p+1],M=1/0;for(let D=0;D<a;D++){if(D===h||D===p)continue;const $=kqe(x,y,w,C,e[2*D],e[2*D+1]);$<M&&(_=D,M=$)}let R=e[2*_],N=e[2*_+1];if(M===1/0){for(let z=0;z<a;z++)this._dists[z]=e[2*z]-e[0]||e[2*z+1]-e[1];fv(this._ids,this._dists,0,a-1);const D=new Uint32Array(a);let $=0;for(let z=0,V=-1/0;z<a;z++){const q=this._ids[z],G=this._dists[q];G>V&&(D[$++]=q,V=G)}this.hull=D.subarray(0,$),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Sx(x,y,w,C,R,N)<0){const D=p,$=w,z=C;p=_,w=R,C=N,_=D,R=$,N=z}const I=Uqe(x,y,w,C,R,N);this._cx=I.x,this._cy=I.y;for(let D=0;D<a;D++)this._dists[D]=UO(e[2*D],e[2*D+1],I.x,I.y);fv(this._ids,this._dists,0,a-1),this._hullStart=h;let B=3;r[h]=n[_]=p,r[p]=n[h]=_,r[_]=n[p]=h,i[h]=0,i[p]=1,i[_]=2,o.fill(-1),o[this._hashKey(x,y)]=h,o[this._hashKey(w,C)]=p,o[this._hashKey(R,N)]=_,this.trianglesLen=0,this._addTriangle(h,p,_,-1,-1,-1);for(let D=0,$,z;D<this._ids.length;D++){const V=this._ids[D],q=e[2*V],G=e[2*V+1];if(D>0&&Math.abs(q-$)<=ZW&&Math.abs(G-z)<=ZW||($=q,z=G,V===h||V===p||V===_))continue;let j=0;for(let Z=0,re=this._hashKey(q,G);Z<this._hashSize&&(j=o[(re+Z)%this._hashSize],!(j!==-1&&j!==r[j]));Z++);j=n[j];let H=j,X;for(;X=r[H],Sx(q,G,e[2*H],e[2*H+1],e[2*X],e[2*X+1])>=0;)if(H=X,H===j){H=-1;break}if(H===-1)continue;let Y=this._addTriangle(H,V,r[H],-1,-1,i[H]);i[V]=this._legalize(Y+2),i[H]=Y,B++;let ee=r[H];for(;X=r[ee],Sx(q,G,e[2*ee],e[2*ee+1],e[2*X],e[2*X+1])<0;)Y=this._addTriangle(ee,V,X,i[V],-1,i[ee]),i[V]=this._legalize(Y+2),r[ee]=ee,B--,ee=X;if(H===j)for(;X=n[H],Sx(q,G,e[2*X],e[2*X+1],e[2*H],e[2*H+1])<0;)Y=this._addTriangle(X,V,H,-1,i[H],i[X]),this._legalize(Y+2),i[X]=Y,r[H]=H,B--,H=X;this._hullStart=n[V]=H,r[H]=n[ee]=V,r[V]=ee,o[this._hashKey(q,G)]=V,o[this._hashKey(e[2*H],e[2*H+1])]=H}this.hull=new Uint32Array(B);for(let D=0,$=this._hullStart;D<B;D++)this.hull[D]=$,$=r[$];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(Fqe(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const s=r[e],l=e-e%3;if(a=l+(e+2)%3,s===-1){if(o===0)break;e=iT[--o];continue}const c=s-s%3,u=l+(e+1)%3,d=c+(s+2)%3,f=n[a],h=n[e],p=n[u],_=n[d];if($qe(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*_],i[2*_+1])){n[e]=_,n[s]=f;const y=r[d];if(y===-1){let C=this._hullStart;do{if(this._hullTri[C]===d){this._hullTri[C]=e;break}C=this._hullPrev[C]}while(C!==this._hullStart)}this._link(e,y),this._link(s,r[a]),this._link(a,d);const w=c+(s+1)%3;o<iT.length&&(iT[o++]=w)}else{if(o===0)break;e=iT[--o]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,o,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function Fqe(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function UO(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function $qe(t,e,n,r,i,o,a,s){const l=t-a,c=e-s,u=n-a,d=r-s,f=i-a,h=o-s,p=l*l+c*c,_=u*u+d*d,x=f*f+h*h;return l*(d*x-_*h)-c*(u*x-_*f)+p*(u*h-d*f)<0}function kqe(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,d=l*l+c*c,f=.5/(a*c-s*l),h=(c*u-s*d)*f,p=(a*d-l*u)*f;return h*h+p*p}function Uqe(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,d=l*l+c*c,f=.5/(a*c-s*l),h=t+(c*u-s*d)*f,p=e+(a*d-l*u)*f;return{x:h,y:p}}function fv(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=t[i],a=e[o];let s=i-1;for(;s>=n&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{const i=n+r>>1;let o=n+1,a=r;Bb(t,i,o),e[t[n]]>e[t[r]]&&Bb(t,n,r),e[t[o]]>e[t[r]]&&Bb(t,o,r),e[t[n]]>e[t[o]]&&Bb(t,n,o);const s=t[o],l=e[s];for(;;){do o++;while(e[t[o]]<l);do a--;while(e[t[a]]>l);if(a<o)break;Bb(t,o,a)}t[n+1]=t[a],t[a]=s,r-o+1>=a-n?(fv(t,e,o,r),fv(t,e,n,a-1)):(fv(t,e,n,a-1),fv(t,e,o,r))}}function Bb(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function zqe(t){return t[0]}function Vqe(t){return t[1]}function Gqe(t,e){var n,r,i=0,o,a,s,l,c,u,d,f=t[0],h=t[1],p=e.length;for(n=0;n<p;n++){r=0;var _=e[n],x=_.length-1;if(u=_[0],u[0]!==_[x][0]&&u[1]!==_[x][1])throw new Error("First and last coordinates in a ring must be the same");for(a=u[0]-f,s=u[1]-h,r;r<x;r++){if(d=_[r+1],l=d[0]-f,c=d[1]-h,s===0&&c===0){if(l<=0&&a>=0||a<=0&&l>=0)return 0}else if(c>=0&&s<=0||c<=0&&s>=0){if(o=Sx(a,l,s,c,0,0),o===0)return 0;(o>0&&c>0&&s<=0||o<0&&c<=0&&s>0)&&i++}u=d,s=c,a=l}}return i%2!==0}function Hqe(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function jqe(t){return t.type==="Feature"?t.geometry:t}function qqe(t,e,n={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const r=Hqe(t),i=jqe(e),o=i.type,a=e.bbox;let s=i.coordinates;if(a&&Wqe(r,a)===!1)return!1;o==="Polygon"&&(s=[s]);let l=!1;for(var c=0;c<s.length;++c){const u=Gqe(r,s[c]);if(u===0)return!n.ignoreBoundary;u&&(l=!0)}return l}function Wqe(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}var Xqe=qqe;const JW=1e-6;class N0{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;const i=e+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>JW||Math.abs(this._y1-o)>JW)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class l6{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class Yqe{constructor(e,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let _=0,x=0,y=r.length,w,C;_<y;_+=3,x+=2){const M=r[_]*2,R=r[_+1]*2,N=r[_+2]*2,I=e[M],B=e[M+1],D=e[R],$=e[R+1],z=e[N],V=e[N+1],q=D-I,G=$-B,j=z-I,H=V-B,X=(q*H-G*j)*2;if(Math.abs(X)<1e-9){if(o===void 0){o=a=0;for(const ee of n)o+=e[ee*2],a+=e[ee*2+1];o/=n.length,a/=n.length}const Y=1e9*Math.sign((o-I)*H-(a-B)*j);w=(I+z)/2-Y*H,C=(B+V)/2+Y*j}else{const Y=1/X,ee=q*q+G*G,Z=j*j+H*H;w=I+(H*ee-G*Z)*Y,C=B+(q*Z-j*ee)*Y}s[x]=w,s[x+1]=C}let l=n[n.length-1],c,u=l*4,d,f=e[2*l],h,p=e[2*l+1];i.fill(0);for(let _=0;_<n.length;++_)l=n[_],c=u,d=f,h=p,u=l*4,f=e[2*l],p=e[2*l+1],i[c+2]=i[u]=h-p,i[c+3]=i[u+1]=f-d}render(e){const n=e==null?e=new N0:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let u=0,d=r.length;u<d;++u){const f=r[u];if(f<u)continue;const h=Math.floor(u/3)*2,p=Math.floor(f/3)*2,_=a[h],x=a[h+1],y=a[p],w=a[p+1];this._renderSegment(_,x,y,w,e)}let l,c=o[o.length-1];for(let u=0;u<o.length;++u){l=c,c=o[u];const d=Math.floor(i[c]/3)*2,f=a[d],h=a[d+1],p=l*4,_=this._project(f,h,s[p+2],s[p+3]);_&&this._renderSegment(f,h,_[0],_[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new N0:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const r=n==null?n=new N0:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){const n=new l6;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,o){let a;const s=this._regioncode(e,n),l=this._regioncode(r,i);s===0&&l===0?(o.moveTo(e,n),o.lineTo(r,i)):(a=this._clipSegment(e,n,r,i,s,l))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){const n=this._clip(e);if(n)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){e:for(let o=0,a=n.length;o<a;o+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[o]===i[s]&&n[o+1]===i[s+1]&&n[(o+2)%a]===i[(s+l-2)%l]&&n[(o+3)%a]===i[(s+l-1)%l]){yield r;break e}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[e];if(a===-1)return null;const s=[];let l=a;do{const c=Math.floor(l/3);if(s.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==e)break;l=i[l]}while(l!==a&&l!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){const r=n.length;let i=null,o,a,s=n[r-2],l=n[r-1],c,u=this._regioncode(s,l),d,f=0;for(let h=0;h<r;h+=2)if(o=s,a=l,s=n[h],l=n[h+1],c=u,u=this._regioncode(s,l),c===0&&u===0)d=f,f=0,i?i.push(s,l):i=[s,l];else{let p,_,x,y,w;if(c===0){if((p=this._clipSegment(o,a,s,l,c,u))===null)continue;[_,x,y,w]=p}else{if((p=this._clipSegment(s,l,o,a,u,c))===null)continue;[y,w,_,x]=p,d=f,f=this._edgecode(_,x),d&&f&&this._edge(e,d,f,i,i.length),i?i.push(_,x):i=[_,x]}d=f,f=this._edgecode(y,w),d&&f&&this._edge(e,d,f,i,i.length),i?i.push(y,w):i=[y,w]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(e,d,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,o,a){const s=o<a;for(s&&([e,n,r,i,o,a]=[r,i,e,n,a,o]);;){if(o===0&&a===0)return s?[r,i,e,n]:[e,n,r,i];if(o&a)return null;let l,c,u=o||a;u&8?(l=e+(r-e)*(this.ymax-n)/(i-n),c=this.ymax):u&4?(l=e+(r-e)*(this.ymin-n)/(i-n),c=this.ymin):u&2?(c=n+(i-n)*(this.xmax-e)/(r-e),l=this.xmax):(c=n+(i-n)*(this.xmin-e)/(r-e),l=this.xmin),o?(e=l,n=c,o=this._regioncode(e,n)):(r=l,i=c,a=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,o,a){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(l[0],l[1]),s=this._clipFinite(e,s))for(let c=0,u=s.length,d,f=this._edgecode(s[u-2],s[u-1]);c<u;c+=2)d=f,f=this._edgecode(s[c],s[c+1]),d&&f&&(c=this._edge(e,d,f,s,c),u=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,n,r,i,o){for(;n!==r;){let a,s;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,s=this.ymin;break}(i[o]!==a||i[o+1]!==s)&&this.contains(e,a,s)&&(i.splice(o,0,a,s),o+=2)}return o}_project(e,n,r,i){let o=1/0,a,s,l;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<o&&(l=this.ymin,s=e+(o=a)*r)}else if(i>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<o&&(l=this.ymax,s=e+(o=a)*r)}if(r>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/r)<o&&(s=this.xmax,l=n+(o=a)*i)}else if(r<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/r)<o&&(s=this.xmin,l=n+(o=a)*i)}return[s,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}}const Kqe=2*Math.PI,MA=Math.pow;function Qqe(t){return t[0]}function Zqe(t){return t[1]}function Jqe(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const i=2*e[r],o=2*e[r+1],a=2*e[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}function eWe(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class q7{static from(e,n=Qqe,r=Zqe,i){return new q7("length"in e?tWe(e,n,r,i):Float64Array.from(nWe(e,n,r,i)))}constructor(e){this._delaunator=new y2(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&Jqe(e)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],d=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let f=0,h=n.length/2;f<h;++f){const p=eWe(n[2*f],n[2*f+1],d);n[2*f]=p[0],n[2*f+1]=p[1]}this._delaunator=new y2(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const u=o[l%3===2?l-2:l+1];(r[l]===-1||a[u]===-1)&&(a[u]=l)}for(let l=0,c=i.length;l<c;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new Yqe(this,e)}*neighbors(e){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:s}=this;if(s){const d=s.indexOf(e);d>0&&(yield s[d-1]),d<s.length-1&&(yield s[d+1]);return}const l=n[e];if(l===-1)return;let c=l,u=-1;do{if(yield u=a[c],c=c%3===2?c-2:c+1,a[c]!==e)return;if(c=o[c],c===-1){const d=r[(i[e]+1)%r.length];d!==u&&(yield d);return}}while(c!==l)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,e,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(e,n,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:s,triangles:l,points:c}=this;if(i[e]===-1||!c.length)return(e+1)%(c.length>>1);let u=e,d=MA(n-c[e*2],2)+MA(r-c[e*2+1],2);const f=i[e];let h=f;do{let p=l[h];const _=MA(n-c[p*2],2)+MA(r-c[p*2+1],2);if(_<d&&(d=_,u=p),h=h%3===2?h-2:h+1,l[h]!==e)break;if(h=s[h],h===-1){if(h=o[(a[e]+1)%o.length],h!==p&&MA(n-c[h*2],2)+MA(r-c[h*2+1],2)<d)return h;break}}while(h!==f);return u}render(e){const n=e==null?e=new N0:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,s=i.length;a<s;++a){const l=i[a];if(l<a)continue;const c=o[a]*2,u=o[l]*2;e.moveTo(r[c],r[c+1]),e.lineTo(r[u],r[u+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const r=e==null?e=new N0:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const s=i[o],l=i[o+1];e.moveTo(s+n,l),e.arc(s,l,n,0,Kqe)}return r&&r.value()}renderHull(e){const n=e==null?e=new N0:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;e.moveTo(i[o],i[o+1]);for(let s=1;s<a;++s){const l=2*r[s];e.lineTo(i[l],i[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new l6;return this.renderHull(e),e.value()}renderTriangle(e,n){const r=n==null?n=new N0:void 0,{points:i,triangles:o}=this,a=o[e*=3]*2,s=o[e+1]*2,l=o[e+2]*2;return n.moveTo(i[a],i[a+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new l6;return this.renderTriangle(e,n),n.value()}}function tWe(t,e,n,r){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const s=t[a];o[a*2]=e.call(r,s,a,t),o[a*2+1]=n.call(r,s,a,t)}return o}function*nWe(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}const W7=Math.PI,eX=W7/2,tX=180/W7,nX=W7/180,rWe=Math.atan2,rX=Math.cos,iWe=Math.max,oWe=Math.min,iX=Math.sin,aWe=Math.sign||function(t){return t>0?1:t<0?-1:0},Use=Math.sqrt;function sWe(t){return t>1?eX:t<-1?-eX:Math.asin(t)}function zse(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function nc(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function _3(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]}function S3(t){var e=Use(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[t[0]/e,t[1]/e,t[2]/e]}function X7(t){return[rWe(t[1],t[0])*tX,sWe(iWe(-1,oWe(1,t[2])))*tX]}function nf(t){const e=t[0]*nX,n=t[1]*nX,r=rX(n);return[r*rX(e),r*iX(e),iX(n)]}function Y7(t){return t=t.map(e=>nf(e)),zse(t[0],nc(t[2],t[1]))}function lWe(t){const e=uWe(t),n=fWe(e),r=dWe(n,t),i=pWe(n,t.length),o=cWe(i,t),a=hWe(n,t),{polygons:s,centers:l}=mWe(a,n,t),c=gWe(s),u=vWe(n,t),d=AWe(r,n);return{delaunay:e,edges:r,triangles:n,centers:l,neighbors:i,polygons:s,mesh:c,hull:u,urquhart:d,find:o}}function cWe(t,e){function n(r,i){let o=r[0]-i[0],a=r[1]-i[1],s=r[2]-i[2];return o*o+a*a+s*s}return function(i,o,a){a===void 0&&(a=0);let s,l,c=a;const u=nf([i,o]);do s=a,a=null,l=n(u,nf(e[s])),t[s].forEach(d=>{let f=n(u,nf(e[d]));if(f<l){l=f,a=d,c=d;return}});while(a!==null);return c}}function uWe(t){if(t.length<2)return{};let e=0;for(;isNaN(t[e][0]+t[e][1])&&e++<t.length;);const n=ZGe(t[e]),r=IHe().translate([0,0]).scale(1).rotate(n.invert([180,0]));t=t.map(r);const i=[];let o=1;for(let d=0,f=t.length;d<f;d++){let h=t[d][0]**2+t[d][1]**2;!isFinite(h)||h>1e32?i.push(d):h>o&&(o=h)}const a=1e6*Use(o);i.forEach(d=>t[d]=[a,0]),t.push([0,a]),t.push([-a,0]),t.push([0,-a]);const s=q7.from(t);s.projection=r;const{triangles:l,halfedges:c,inedges:u}=s;for(let d=0,f=c.length;d<f;d++)if(c[d]<0){const h=d%3==2?d-2:d+1,p=d%3==0?d+2:d-1,_=c[h],x=c[p];c[_]=x,c[x]=_,c[h]=c[p]=-1,l[d]=l[h]=l[p]=e,u[l[_]]=_%3==0?_+2:_-1,u[l[x]]=x%3==0?x+2:x-1,d+=2-d%3}else l[d]>t.length-3-1&&(l[d]=e);return s}function dWe(t,e){const n=new Set;return e.length===2?[[0,1]]:(t.forEach(r=>{if(r[0]!==r[1]&&!(Y7(r.map(i=>e[i]))<0))for(let i=0,o;i<3;i++)o=(i+1)%3,n.add(WM([r[i],r[o]]).join("-"))}),Array.from(n,r=>r.split("-").map(Number)))}function fWe(t){const{triangles:e}=t;if(!e)return[];const n=[];for(let r=0,i=e.length/3;r<i;r++){const o=e[3*r],a=e[3*r+1],s=e[3*r+2];o!==a&&a!==s&&n.push([o,s,a])}return n}function hWe(t,e){return t.map(n=>{const r=n.map(o=>e[o]).map(nf),i=_3(_3(nc(r[1],r[0]),nc(r[2],r[1])),nc(r[0],r[2]));return X7(S3(i))})}function pWe(t,e){const n=[];return t.forEach(r=>{for(let i=0;i<3;i++){const o=r[i],a=r[(i+1)%3];n[o]=n[o]||[],n[o].push(a)}}),t.length===0&&(e===2?(n[0]=[1],n[1]=[0]):e===1&&(n[0]=[])),n}function mWe(t,e,n){const r=[],i=t.slice();if(e.length===0){if(n.length<2)return{polygons:r,centers:i};if(n.length===2){const s=nf(n[0]),l=nf(n[1]),c=S3(_3(s,l)),u=S3(nc(s,l)),d=nc(c,u),f=[c,nc(c,d),nc(nc(c,d),d),nc(nc(nc(c,d),d),d)].map(X7).map(a);return r.push(f),r.push(f.slice().reverse()),{polygons:r,centers:i}}}e.forEach((s,l)=>{for(let c=0;c<3;c++){const u=s[c],d=s[(c+1)%3],f=s[(c+2)%3];r[u]=r[u]||[],r[u].push([d,f,l,[u,d,f]])}});const o=r.map(s=>{const l=[s[0][2]];let c=s[0][1];for(let u=1;u<s.length;u++)for(let d=0;d<s.length;d++)if(s[d][0]==c){c=s[d][1],l.push(s[d][2]);break}if(l.length>2)return l;if(l.length==2){const u=oX(n[s[0][3][0]],n[s[0][3][1]],i[l[0]]),d=oX(n[s[0][3][2]],n[s[0][3][0]],i[l[0]]),f=a(u),h=a(d);return[l[0],h,l[1],f]}});function a(s){let l=-1;return i.slice(e.length,1/0).forEach((c,u)=>{c[0]===s[0]&&c[1]===s[1]&&(l=u+e.length)}),l<0&&(l=i.length,i.push(s)),l}return{polygons:o,centers:i}}function oX(t,e,n){t=nf(t),e=nf(e),n=nf(n);const r=aWe(zse(nc(e,t),n));return X7(S3(_3(t,e)).map(i=>r*i))}function gWe(t){const e=[];return t.forEach(n=>{if(!n)return;let r=n[n.length-1];for(let i of n)i>r&&e.push([r,i]),r=i}),e}function AWe(t,e){return function(n){const r=new Map,i=new Map;return t.forEach((o,a)=>{const s=o.join("-");r.set(s,n[a]),i.set(s,!0)}),e.forEach(o=>{let a=0,s=-1;for(let l=0;l<3;l++){let c=WM([o[l],o[(l+1)%3]]).join("-");r.get(c)>a&&(a=r.get(c),s=c)}i.set(s,!1)}),t.map(o=>i.get(o.join("-")))}}function vWe(t,e){const n=new Set,r=[];t.map(s=>{if(!(Y7(s.map(l=>e[l>e.length?0:l]))>1e-12))for(let l=0;l<3;l++){let c=[s[l],s[(l+1)%3]],u=`${c[0]}-${c[1]}`;n.has(u)?n.delete(u):n.add(`${c[1]}-${c[0]}`)}});const i=new Map;let o;if(n.forEach(s=>{s=s.split("-").map(Number),i.set(s[0],s[1]),o=s[0]}),o===void 0)return r;let a=o;do{r.push(a);let s=i.get(a);i.set(a,-1),a=s}while(a>-1&&a!==o);return r}function yWe(t){const e=function(n){if(e.delaunay=null,e._data=n,typeof e._data=="object"&&e._data.type==="FeatureCollection"&&(e._data=e._data.features),typeof e._data=="object"){const r=e._data.map(i=>[e._vx(i),e._vy(i),i]).filter(i=>isFinite(i[0]+i[1]));e.points=r.map(i=>[i[0],i[1]]),e.valid=r.map(i=>i[2]),e.delaunay=lWe(e.points)}return e};return e._vx=function(n){if(typeof n=="object"&&"type"in n)return AW(n)[0];if(0 in n)return n[0]},e._vy=function(n){if(typeof n=="object"&&"type"in n)return AW(n)[1];if(1 in n)return n[1]},e.x=function(n){return n?(e._vx=n,e):e._vx},e.y=function(n){return n?(e._vy=n,e):e._vy},e.polygons=function(n){if(n!==void 0&&e(n),!e.delaunay)return!1;const r={type:"FeatureCollection",features:[]};return e.valid.length===0||(e.delaunay.polygons.forEach((i,o)=>r.features.push({type:"Feature",geometry:i?{type:"Polygon",coordinates:[[...i,i[0]].map(a=>e.delaunay.centers[a])]}:null,properties:{site:e.valid[o],sitecoordinates:e.points[o],neighbours:e.delaunay.neighbors[o]}})),e.valid.length===1&&r.features.push({type:"Feature",geometry:{type:"Sphere"},properties:{site:e.valid[0],sitecoordinates:e.points[0],neighbours:[]}})),r},e.triangles=function(n){return n!==void 0&&e(n),e.delaunay?{type:"FeatureCollection",features:e.delaunay.triangles.map((r,i)=>(r=r.map(o=>e.points[o]),r.center=e.delaunay.centers[i],r)).filter(r=>Y7(r)>0).map(r=>({type:"Feature",properties:{circumcenter:r.center},geometry:{type:"Polygon",coordinates:[[...r,r[0]]]}}))}:!1},e.links=function(n){if(n!==void 0&&e(n),!e.delaunay)return!1;const r=e.delaunay.edges.map(o=>om(e.points[o[0]],e.points[o[1]])),i=e.delaunay.urquhart(r);return{type:"FeatureCollection",features:e.delaunay.edges.map((o,a)=>({type:"Feature",properties:{source:e.valid[o[0]],target:e.valid[o[1]],length:r[a],urquhart:!!i[a]},geometry:{type:"LineString",coordinates:[e.points[o[0]],e.points[o[1]]]}}))}},e.mesh=function(n){return n!==void 0&&e(n),e.delaunay?{type:"MultiLineString",coordinates:e.delaunay.edges.map(r=>[e.points[r[0]],e.points[r[1]]])}:!1},e.cellMesh=function(n){if(n!==void 0&&e(n),!e.delaunay)return!1;const{centers:r,polygons:i}=e.delaunay,o=[];for(const a of i)if(a)for(let s=a.length,l=a[s-1],c=a[0],u=0;u<s;l=c,c=a[++u])c>l&&o.push([r[l],r[c]]);return{type:"MultiLineString",coordinates:o}},e._found=void 0,e.find=function(n,r,i){if(e._found=e.delaunay.find(n,r,e._found),!i||om([n,r],e.points[e._found])<i)return e._found},e.hull=function(n){n!==void 0&&e(n);const r=e.delaunay.hull,i=e.points;return r.length===0?null:{type:"Polygon",coordinates:[[...r.map(o=>i[o]),i[r[0]]]]}},t?e(t):e}function c6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function bWe(t){if(Array.isArray(t))return t}function xWe(t){if(Array.isArray(t))return c6(t)}function _We(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SWe(t,e,n){return e=w3(e),NWe(t,Vse()?Reflect.construct(e,[],w3(t).constructor):e.apply(t,n))}function wWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CWe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function w3(t){return w3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w3(t)}function TWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u6(t,e)}function Vse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vse=function(){return!!t})()}function EWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MWe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function PWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NWe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _We(t)}function u6(t,e){return u6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},u6(t,e)}function Gd(t,e){return bWe(t)||MWe(t,e)||Gse(t,e)||PWe()}function zO(t){return xWe(t)||EWe(t)||Gse(t)||RWe()}function Gse(t,e){if(t){if(typeof t=="string")return c6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c6(t,e):void 0}}function IWe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.resolution,r=n===void 0?1/0:n,i=OWe(t,r),o=d2(i),a=DWe(t,r),s=[].concat(zO(o),zO(a)),l={type:"Polygon",coordinates:t},c=lse(l),u=Gd(c,2),d=Gd(u[0],2),f=d[0],h=d[1],p=Gd(u[1],2),_=p[0],x=p[1],y=f>_||x>=89||h<=-89,w=[];if(y){var C=yWe(s).triangles(),M=new Map(s.map(function(X,Y){var ee=Gd(X,2),Z=ee[0],re=ee[1];return["".concat(Z,"-").concat(re),Y]}));C.features.forEach(function(X){var Y,ee=X.geometry.coordinates[0].slice(0,3).reverse(),Z=[];if(ee.forEach(function(ae){var ce=Gd(ae,2),he=ce[0],ge=ce[1],se="".concat(he,"-").concat(ge);M.has(se)&&Z.push(M.get(se))}),Z.length===3){if(Z.some(function(ae){return ae<o.length})){var re=X.properties.circumcenter;if(!d6(re,l,y))return}(Y=w).push.apply(Y,Z)}})}else if(a.length)for(var D=y2.from(s),$=function(Y){var ee,Z=[2,1,0].map(function(ce){return D.triangles[Y+ce]}),re=Z.map(function(ce){return s[ce]});if(Z.some(function(ce){return ce<o.length})){var ae=[0,1].map(function(ce){return jVe(re,function(he){return he[ce]})});if(!d6(ae,l,y))return 1}(ee=w).push.apply(ee,zO(Z))},z=0,V=D.triangles.length;z<V;z+=3)$(z);else{var R=v3(i),N=R.vertices,I=R.holes,B=I===void 0?[]:I;w=nje(N,B,2)}var q=dh(WM(s,function(X){return X[0]}),[0,1]),G=dh(WM(s,function(X){return X[1]}),[0,1]),j=s.map(function(X){var Y=Gd(X,2),ee=Y[0],Z=Y[1];return[q(ee),G(Z)]}),H={points:s,indices:w,uvs:j};return{contour:i,triangles:H}}function OWe(t,e){return t.map(function(n){var r=[],i;return n.forEach(function(o){if(i){var a=om(o,i)*180/Math.PI;if(a>e)for(var s=U7(i,o),l=1/Math.ceil(a/e),c=l;c<1;)r.push(s(c)),c+=l}r.push(i=o)}),r})}function DWe(t,e){var n={type:"Polygon",coordinates:t},r=lse(n),i=Gd(r,2),o=Gd(i[0],2),a=o[0],s=o[1],l=Gd(i[1],2),c=l[0],u=l[1];if(Math.min(Math.abs(c-a),Math.abs(u-s))<e)return[];var d=a>c||u>=89||s<=-89;return LWe(e,{minLng:a,maxLng:c,minLat:s,maxLat:u}).filter(function(f){return d6(f,n,d)})}function LWe(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minLng,r=e.maxLng,i=e.minLat,o=e.maxLat,a=Math.round(Math.pow(360/t,2)/Math.PI),s=(1+Math.sqrt(5))/2,l=function(y){return y/s*360%360-180},c=function(y){return Math.acos(2*y/a-1)/Math.PI*180-90},u=function(y){return a*(Math.cos((y+90)*Math.PI/180)+1)/2},d=[o!==void 0?Math.ceil(u(o)):0,i!==void 0?Math.floor(u(i)):a-1],f=n===void 0&&r===void 0?function(){return!0}:n===void 0?function(x){return x<=r}:r===void 0?function(x){return x>=n}:r>=n?function(x){return x>=n&&x<=r}:function(x){return x>=n||x<=r},h=[],p=d[0];p<=d[1];p++){var _=l(p);f(_)&&h.push([_,c(p)])}return h}function d6(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n?mHe(e,t):Xqe(t,e)}var NE=window.THREE?window.THREE:{BufferGeometry:bi,Float32BufferAttribute:li},aX=new NE.BufferGeometry().setAttribute?"setAttribute":"addAttribute",K7=function(t){function e(n,r,i,o,a,s,l){var c;wWe(this,e),c=SWe(this,e),c.type="ConicPolygonGeometry",c.parameters={polygonGeoJson:n,bottomHeight:r,topHeight:i,closedBottom:o,closedTop:a,includeSides:s,curvatureResolution:l},r=r||0,i=i||1,o=o!==void 0?o:!0,a=a!==void 0?a:!0,s=s!==void 0?s:!0,l=l||5;var u=IWe(n,{resolution:l}),d=u.contour,f=u.triangles,h=d2(f.uvs),p=[],_=[],x=[],y=0,w=function(I){var B=Math.round(p.length/3),D=x.length;p=p.concat(I.vertices),_=_.concat(I.uvs),x=x.concat(B?I.indices.map(function($){return $+B}):I.indices),c.addGroup(D,x.length-D,y++)};s&&w(M()),o&&w(R(r,!1)),a&&w(R(i,!0)),c.setIndex(x),c[aX]("position",new NE.Float32BufferAttribute(p,3)),c[aX]("uv",new NE.Float32BufferAttribute(_,2)),c.computeVertexNormals();function C(N,I){var B=typeof I=="function"?I:function(){return I},D=N.map(function($){return $.map(function(z){var V=Gd(z,2),q=V[0],G=V[1];return BWe(G,q,B(q,G))})});return v3(D)}function M(){for(var N=C(d,r),I=N.vertices,B=N.holes,D=C(d,i),$=D.vertices,z=d2([$,I]),V=Math.round($.length/3),q=new Set(B),G=0,j=[],H=0;H<V;H++){var X=H+1;if(X===V)X=G;else if(q.has(X)){var Y=X;X=G,G=Y}j.push(H,H+V,X+V),j.push(X+V,X,H)}for(var ee=[],Z=1;Z>=0;Z--)for(var re=0;re<V;re+=1)ee.push(re/(V-1),Z);return{indices:j,vertices:z,uvs:ee}}function R(N){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{indices:I?f.indices:f.indices.slice().reverse(),vertices:C([f.points],N).vertices,uvs:h}}return c}return TWe(e,t),CWe(e)}(NE.BufferGeometry);function BWe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180;return[n*Math.sin(r)*Math.cos(i),n*Math.cos(r),n*Math.sin(r)*Math.sin(i)]}function f6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function FWe(t){if(Array.isArray(t))return t}function $We(t){if(Array.isArray(t))return f6(t)}function kWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UWe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function zWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GWe(t,e){if(t==null)return{};var n,r,i=HWe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HWe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function jWe(t,e){return FWe(t)||UWe(t,e)||Hse(t,e)||zWe()}function qWe(t){return $We(t)||kWe(t)||Hse(t)||VWe()}function WWe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XWe(t){var e=WWe(t,"string");return typeof e=="symbol"?e:e+""}function Hse(t,e){if(t){if(typeof t=="string")return f6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f6(t,e):void 0}}var YWe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(s){return{keyAccessor:s,isProp:!(s instanceof Function)}}),o=t.reduce(function(s,l){var c=s,u=l;return i.forEach(function(d,f){var h=d.keyAccessor,p=d.isProp,_;if(p){var x=u,y=x[h],w=GWe(x,[h].map(XWe));_=y,u=w}else _=h(u,f);f+1<i.length?(c.hasOwnProperty(_)||(c[_]={}),c=c[_]):n?(c.hasOwnProperty(_)||(c[_]=[]),c[_].push(u)):c[_]=u}),s},{});n instanceof Function&&function s(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;c===i.length?Object.keys(l).forEach(function(u){return l[u]=n(l[u])}):Object.values(l).forEach(function(u){return s(u,c+1)})}(o);var a=o;return r&&(a=[],function s(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];c.length===i.length?a.push({keys:c,vals:l}):Object.entries(l).forEach(function(u){var d=jWe(u,2),f=d[0],h=d[1];return s(h,[].concat(qWe(c),[f]))})}(o),e instanceof Array&&e.length===0&&a.length===1&&(a[0].keys=[])),a},ai=function(t){t=t||{};var e=typeof t<"u"?t:{},n={},r;for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);var i="";function o(Pe){return e.locateFile?e.locateFile(Pe,i):i+Pe}var a;typeof document<"u"&&document.currentScript&&(i=document.currentScript.src),i.indexOf("blob:")!==0?i=i.substr(0,i.lastIndexOf("/")+1):i="",a=function(mt,St,xt){var m=new XMLHttpRequest;m.open("GET",mt,!0),m.responseType="arraybuffer",m.onload=function(){if(m.status==200||m.status==0&&m.response){St(m.response);return}var gn=$t(mt);if(gn){St(gn.buffer);return}xt()},m.onerror=xt,m.send(null)};var s=e.print||console.log.bind(console),l=e.printErr||console.warn.bind(console);for(r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);n=null,e.arguments&&e.arguments;var c=0,u=function(Pe){c=Pe},d=function(){return c},f=8;function h(Pe,mt,St,xt){switch(St=St||"i8",St.charAt(St.length-1)==="*"&&(St="i32"),St){case"i1":V[Pe>>0]=mt;break;case"i8":V[Pe>>0]=mt;break;case"i16":G[Pe>>1]=mt;break;case"i32":j[Pe>>2]=mt;break;case"i64":Ne=[mt>>>0,(te=mt,+Ue(te)>=1?te>0?(ve(+_e(te/4294967296),4294967295)|0)>>>0:~~+Se((te-+(~~te>>>0))/4294967296)>>>0:0)],j[Pe>>2]=Ne[0],j[Pe+4>>2]=Ne[1];break;case"float":H[Pe>>2]=mt;break;case"double":X[Pe>>3]=mt;break;default:Ut("invalid type for setValue: "+St)}}function p(Pe,mt,St){switch(mt=mt||"i8",mt.charAt(mt.length-1)==="*"&&(mt="i32"),mt){case"i1":return V[Pe>>0];case"i8":return V[Pe>>0];case"i16":return G[Pe>>1];case"i32":return j[Pe>>2];case"i64":return j[Pe>>2];case"float":return H[Pe>>2];case"double":return X[Pe>>3];default:Ut("invalid type for getValue: "+mt)}return null}var _=!1;function x(Pe,mt){Pe||Ut("Assertion failed: "+mt)}function y(Pe){var mt=e["_"+Pe];return x(mt,"Cannot call unknown function "+Pe+", make sure it is exported"),mt}function w(Pe,mt,St,xt,m){var de={string:function(Dt){var cn=0;if(Dt!=null&&Dt!==0){var Bn=(Dt.length<<2)+1;cn=Ft(Bn),B(Dt,cn,Bn)}return cn},array:function(Dt){var cn=Ft(Dt.length);return D(Dt,cn),cn}};function gn(Dt){return mt==="string"?N(Dt):mt==="boolean"?!!Dt:Dt}var Pn=y(Pe),tr=[],bn=0;if(xt)for(var Gn=0;Gn<xt.length;Gn++){var _r=de[St[Gn]];_r?(bn===0&&(bn=Rn()),tr[Gn]=_r(xt[Gn])):tr[Gn]=xt[Gn]}var Ln=Pn.apply(null,tr);return Ln=gn(Ln),bn!==0&&Yt(bn),Ln}function C(Pe,mt,St,xt){St=St||[];var m=St.every(function(gn){return gn==="number"}),de=mt!=="string";return de&&m&&!xt?y(Pe):function(){return w(Pe,mt,St,arguments)}}var M=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function R(Pe,mt,St){for(var xt=mt+St,m=mt;Pe[m]&&!(m>=xt);)++m;if(m-mt>16&&Pe.subarray&&M)return M.decode(Pe.subarray(mt,m));for(var de="";mt<m;){var gn=Pe[mt++];if(!(gn&128)){de+=String.fromCharCode(gn);continue}var Pn=Pe[mt++]&63;if((gn&224)==192){de+=String.fromCharCode((gn&31)<<6|Pn);continue}var tr=Pe[mt++]&63;if((gn&240)==224?gn=(gn&15)<<12|Pn<<6|tr:gn=(gn&7)<<18|Pn<<12|tr<<6|Pe[mt++]&63,gn<65536)de+=String.fromCharCode(gn);else{var bn=gn-65536;de+=String.fromCharCode(55296|bn>>10,56320|bn&1023)}}return de}function N(Pe,mt){return Pe?R(q,Pe,mt):""}function I(Pe,mt,St,xt){if(!(xt>0))return 0;for(var m=St,de=St+xt-1,gn=0;gn<Pe.length;++gn){var Pn=Pe.charCodeAt(gn);if(Pn>=55296&&Pn<=57343){var tr=Pe.charCodeAt(++gn);Pn=65536+((Pn&1023)<<10)|tr&1023}if(Pn<=127){if(St>=de)break;mt[St++]=Pn}else if(Pn<=2047){if(St+1>=de)break;mt[St++]=192|Pn>>6,mt[St++]=128|Pn&63}else if(Pn<=65535){if(St+2>=de)break;mt[St++]=224|Pn>>12,mt[St++]=128|Pn>>6&63,mt[St++]=128|Pn&63}else{if(St+3>=de)break;mt[St++]=240|Pn>>18,mt[St++]=128|Pn>>12&63,mt[St++]=128|Pn>>6&63,mt[St++]=128|Pn&63}}return mt[St]=0,St-m}function B(Pe,mt,St){return I(Pe,q,mt,St)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function D(Pe,mt){V.set(Pe,mt)}function $(Pe,mt){return Pe%mt>0&&(Pe+=mt-Pe%mt),Pe}var z,V,q,G,j,H,X;function Y(Pe){z=Pe,e.HEAP8=V=new Int8Array(Pe),e.HEAP16=G=new Int16Array(Pe),e.HEAP32=j=new Int32Array(Pe),e.HEAPU8=q=new Uint8Array(Pe),e.HEAPU16=new Uint16Array(Pe),e.HEAPU32=new Uint32Array(Pe),e.HEAPF32=H=new Float32Array(Pe),e.HEAPF64=X=new Float64Array(Pe)}var ee=5271536,Z=28624,re=e.TOTAL_MEMORY||33554432;e.buffer?z=e.buffer:z=new ArrayBuffer(re),re=z.byteLength,Y(z),j[Z>>2]=ee;function ae(Pe){for(;Pe.length>0;){var mt=Pe.shift();if(typeof mt=="function"){mt();continue}var St=mt.func;typeof St=="number"?mt.arg===void 0?e.dynCall_v(St):e.dynCall_vi(St,mt.arg):St(mt.arg===void 0?null:mt.arg)}}var ce=[],he=[],ge=[],se=[];function me(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Me(e.preRun.shift());ae(ce)}function ye(){ae(he)}function we(){ae(ge)}function Ee(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Oe(e.postRun.shift());ae(se)}function Me(Pe){ce.unshift(Pe)}function Oe(Pe){se.unshift(Pe)}var Ue=Math.abs,Se=Math.ceil,_e=Math.floor,ve=Math.min,Ge=0,ue=null;function at(Pe){Ge++,e.monitorRunDependencies&&e.monitorRunDependencies(Ge)}function nt(Pe){if(Ge--,e.monitorRunDependencies&&e.monitorRunDependencies(Ge),Ge==0&&ue){var mt=ue;ue=null,mt()}}e.preloadedImages={},e.preloadedAudios={};var ct=null,Ze="data:application/octet-stream;base64,";function pe(Pe){return String.prototype.startsWith?Pe.startsWith(Ze):Pe.indexOf(Ze)===0}var te,Ne;ct="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAEAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAQAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAA6B6FaUp9QQTPXMuL4myJBraiDfBwx9UBYJseitzTIQOL5if9jqZtAnXX+Z+ycb0C3pucbhRBCQG8wJBYqpRRAlWbDCzCY5z/eFWBUEve6P/+qo4Q50Y4/D9YM3iCcYT8fcA2QJSA0P4ADxu0qAAc/BNcGolVJ2j5d9FACqwquPh9z7MthtI9CSUSYJke/YUJQ/64OyjU0Qpi0+HCmFQdCm3GfIVdh2kHsJ11kAyauQYC3UDFJOoFBSJsFV1OwU0FK5fcxX4AmQWhy/zZIt/lACqaCPsBjzUDbdUNIScugQMYQlVJ4MXNANiuq8GTvRUDxTXnulxEZQFZ8QX5kpuw/qmG/JwYFlEAluh3Q6DB+QKn4vyNq0GZAKOXekas+UUB8xabXXhI6QG63C2pLtSNAdDBtyNfLDUDyOcu67ID2P0rCMvRXAeE/Ki2TSVyzyT9Dk+8Sz2uzP5J+w5ARWp0/NQAoOiMuhj9YnP+RyMJwPxgW7TvQVFk/KgsLYF0kQz9g5dAC6IwzQcgHPVvDex1B1XjppodHBkHJq3OMM9fwQNvcmJ7wddlAInGPpQs/w0BRobq5EBmtQJZ2ai7n+ZVAtv2G5E+bgECG+gIfKBlpQK5f8jdI91JAL39sL/WpPEB8rGxhDqklQK6yUf43XhBAxL9y/tK8+D86XyZpgrHiPwAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAP////8AAAAAAAAAAAAAAAABAAAAAAAAAAAAAAD/////AAAAAAAAAAABAAAAAQAAAAAAAAAAAAAA/////wAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8FAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAAAAQABAAABAQAAAAAAAQAAAAEAAAABAAEAAAAAAAAAAAAAAAAAAAAAquJYWJZl+D9jaeZNtj/zPwwdI9KqaeO/qGefXwdHdz+q4lhYlmX4P+OrlPMN3PI/DB0j0qpp47+7SQLV4VIEQKriWFiWZfg/r2kma3tz8T82eQmLqNIGwMRIWXMqSvo/fcCszPux9j+jara6ozTwP6hnn18HR3c/MSoKLequ8r+SabgA2nj0P7jBLbDOHO8/1Ym/ICfH4T+6lxjvlFXHv73m373LRPU/0vXyDVxo7T+ToKRHJXMAQF/33578aPE/pAyy64tD9T8+U/hCvyruPwxv8Y7YYwLAuXYr8NAiCEB4+LDK0Sn0P1Qeuy4j+eo/OMx50n7K7L+TrGB/nyf8v5ehC2fbYPM/aXMKexiT6z8mFRIMjg/zP7yUVwGGBNw/E6opHERf8z/z0wR2g9DqPw4pBpcOhvu/NbA29uWAA8DMaTExyXzyP02biiQ+Ruk/S8jz2/FKBEB1pzZnpbb9P7pQU4wLfPI//7ZcQXeG6D9CqEQvAYoIwDB2VB6sSgRAVyv8H5We8T+EHWF8XNPmPzB2wT8Nrrg/SEi+cX+w4L8of+GtdSDxP1sjk5AdouU/6ZjOVru13r8K0obqI6bxvwVbdNXyhfA/w5GG024n5z+rwmtMzP8BwLw9pSX49QXABe/2uQxP8D+b6wCzCvXkP7uGT87fK+Q/pz/JWw4coj+qoBf2J0nwP/yE3PUo0+I/vFJeHcaC+D96luSIqvntP/bf8sHUYu8/gZNN41mL4z9bhOqVOF4FwO6lmAh1hQhAbCVxbdhk7z+1C8NdDcfiPwG36x/0OQBAx0WJ76c2+D9nlSHXANfuP2HlfZ3gqOE/EwnVlVPg9r96+oHzEH//v5bXzdT1Auw/DM3GwLsA4D9p/8uoKcr+v+U9x5DQVAPAehjSdghb7D9sc1IetODgP8MVwwB1pu6/azPk6OGe978W8t/TUc3rP+0QMvYfP+A/RsG/QpSE8D+l3uwScxzgPwQaifgujuw/k1Vti1I43z8MAwLnSh0GQH5nYnwwZgJAiGUzWC5s6j8WyyI/BbLgPw4iUapGeQJAB3W+imnp/j9BLWR4ssrpP2t+gG5Pstk/cpBsfm6DCMCOpU9dOZsFQEv8nFypHeo/ehJ6i+6S2D9jqlGEmarLv7STC5TRiOa/bC+x8WZD6D9H3yUkWpDZP8gZvmCMuQLAreY19/eRBsCoPOc8UzzpP6KI/QV+y9g/t/MoboyWzT+Hv5q3Zu3Mvy2xROCT4uY/9gQitMMg1T9abAqhWMDkv1oLTavoUfG/PMUJP9CD5j+fHRX3t6fSPz7W2gk6bvs/WRnuHwqN9D8YFturGCTmP1EZczv0b9I/5t4exabB5D/1ESLh5fTEP9X2z6SYweQ/6lv3I2zT0D9zkRGNUNMAQKoSvc4EIfs/Xggt8wQI5T+mJHHg/w/SP4lhT/9t8vQ/DrZ/DbwH7D+XlhbYZrjkP34LIpFt6c4/lwfp8fLX9L+j96CTTf76v3WdNhEv9uM/d8c3o4lV0D/vFdCHVcsFwAHeDq0F1QhApbYqcZiN5D9KoilqByXLPwX0/diA0vq/0fo0GxnxAMBbaTkvlCzjP/RrFrWXrMs/UYTrky7jA0DB9f4FiZYAQEGAk/3QzeE/r/TeqE8t0D/OqjlsnPbvvz8RKU8JOfW/smSEbK/O4T8MzuyPm3DDP/rFtctq9gZAfb1EVEaSA0Dts5dVInnhP18SFMc79MM/7y34cw6LAMDFrRJsZO0DwC2KLvLSYuA/hx5wcUHewz+49SnK/4ruPyeS0PX9a+E/ZxaaLvvZ3z8WPu5T2QS8Pygo4RIvMqa/BJ0Kqsd0279cKW4ay8jdP3b05bmZ364/10/qtdxk2r+Bcz6CDMvpv54qOw+Amdw/qLV71pW7sT/YKc80nIPUP8OfIaBJ77G/LyTuD1un2z+diYu8efWzP1wU7ACkfwjAZroyPL1yBkAmv3lKJJbbPysKSE4W+p0/dIgqY79TA8ATLTOQ3tsGwJ2zweD/Xdg/XO/jXeFUaL8VW2qLFKfov1cA9Aa6XfK/tIa7YGgI2T+f3hu/sxqPv2nXdPpf3Pc/jkw8Jbda8j+tT/z8tGPVP1yBHpJd35k/KYvYOy1s8j/yz+kCQjPrP9+agH7x59g/PZfJ9aBhpr/rDKzvYBb+PwtkiaGCt/c/vb1mVr+f1T/JIHwHc8Govw7aeF6+9vG/Xv7kD6fp979isYioQYHVP7AIQZuSFrG/3z1AdUTnAUDN3XY9O7f9P0AdQ9ljYNQ/dJANJPTOrb8kLECUiiPlP4yF7UgmStA/9xGmXxCG1T9qZzix4W2zv2SGJRJVrPe/Fh9a2M/B/b8IexzFCoPSP9y1QFD2bLe/Q86cWLJe/b+mOOfYm78BwOTjkPAGE9E/8aPCUKu/ub9pPZyLCiUGwBA7Mev/BQlALOmrlRi+0j+AMJ/dKULBv7iLtL6a6QRAEMDV/yajAUDa62dE3crJP1P70RgBUbq/38hVnR6esT/s1tG10Z/Ov/zLwalHPss/dTS9NKTXx78nMcRzCIEHQAabxDsAmQRA0tyLK3gSyT+Aui7nOhDGv5Gs58z3WgHATN3forJuBMCAui7nOhDGP9Lciyt4Esm/WAJyHQ4c7z8UP5HFIs3iP3U0vTSk18c//MvBqUc+y7+cvv8HLg/Kvy1I/mHsI+K/U/vRGAFRuj/a62dE3crJv8p+WV8KlQjAuQ/nOP43B0CAMJ/dKULBPyzpq5UYvtK/ZoU+VoLh4L9etLlRUfvtv/GjwlCrv7k/5OOQ8AYT0b9DfT9FhufXPwUX8hJp+4u/3LVAUPZstz8IexzFCoPSv9+L609E5fQ/q9Fz7X2J7T9qZzix4W2zP/cRpl8QhtW/vtNilqGX+j8MOy7QJoL0P3SQDST0zq0/QB1D2WNg1L8IIjSvGNkDwGB8Jou2GAfAsAhBm5IWsT9isYioQYHVvyS9D3zb6uy/gnwRa7uM9L/JIHwHc8GoP729Zla/n9W/CsAHJZwmAEDEW6OYT1r6Pz2XyfWgYaY/35qAfvHn2L83Tdy4lS30vxf2/gZ0jPq/XIEekl3fmb+tT/z8tGPVvybPr2zJ1/+/K7mJ0ypVAsCf3hu/sxqPPwCGu2BoCNm/5oITrpZn+r+UDUyDP+n/v1zv413hVGg/nbPB4P9d2L9MlmkxNvgCQMtZlKE85v8/KwpIThb6nb8mv3lKJJbbv8+SZsTvOOc/pQCIIOYw0j+diYu8efWzvy8k7g9bp9u/kxYDa+pKtD9XlYvA8HnVv6i1e9aVu7G/nio7D4CZ3L/WR6rNh5EGwCkgQweBkghAdvTluZnfrr9cKW4ay8jdvxbjhr1f1QVAR5C0MzivAkAWPu5T2QS8v2cWmi772d+/cKj4lzLJCEBx2QJfYrMFQIcecHFB3sO/LYou8tJi4L+jr7lhO38BwIcI0Nb7xgTAXxIUxzv0w7/ts5dVInnhv0T+l8DZLfE/MP3FoFvS5D8MzuyPm3DDv7JkhGyvzuG/tzhzRIRc0b9Ovv3/0z7mv6/03qhPLdC/m4CT/dDN4b9dwjU5VCQBQBBJX1ntCv0/9GsWtZesy79baTkvlCzjv1mjYgEz++S/oW6KnOQW8b9KoilqByXLv6W2KnGYjeS/SmaKz3Vx9z+BZB5yxGHwP3fHN6OJVdC/dZ02ES/2478PuaBjLrXaP4/JU81pPaO/fgsikW3pzr+XlhbYZrjkv4tSn7YDbP0/f2LnFKlF9z+mJHHg/w/Sv14ILfMECOW/mfg4qYhR/b+OP+RQDCACwOpb9yNs09C/1fbPpJjB5L9pN2WOVZ3wv3hHy9nxIve/URlzO/Rv0r8YFturGCTmv1d1/KKR8QPA8gsy9qzSB8CfHRX3t6fSvzzFCT/Qg+a/EYStnrzV9r/2QJqI7Lb9v/YEIrTDINW/LbFE4JPi5r/7kQEs5fEDQHunnf4GeQBAooj9BX7L2L+oPOc8Uzzpv+ydYY2SSAfAL4HK6CRTB0BH3yUkWpDZv2wvsfFmQ+i/Ik0Yzruh6T8fM3LoGoDUP3oSeovukti/S/ycXKkd6r9rEv+7UWcHQCRIQe/GfwNAa36Abk+y2b9BLWR4ssrpv9KT87qa0bM/FTyktw823L8WyyI/BbLgv4hlM1gubOq/DizMp9Ki6r8b5ckdjVrzv5NVbYtSON+/BBqJ+C6O7L/dUBFqgyXYv00Wh18r7+q/7RAy9h8/4L8W8t/TUc3rv4RM5DKx3wDAfvWIj94aBcBsc1IetODgv3oY0nYIW+y/oGcTFF54AUDkJqS/FKX6PwzNxsC7AOC/ltfN1PUC7L+5Wrz/zHnzP6688w2rNOc/YeV9neCo4b9nlSHXANfuvw9RsxKjY/s/1V8GteXE8j+1C8NdDcfiv2wlcW3YZO+/IOywaA7Q8b9bFP+4Tg36v4GTTeNZi+O/9t/ywdRi77+tRc3yFR7eP2bkcHXJkLO//ITc9SjT4r+qoBf2J0nwv2YHKoswwfm/iQcLspCjAcCb6wCzCvXkvwXv9rkMT/C/YkuwYAMXBMApCNUai9kIwMORhtNuJ+e/BVt01fKF8L+ZqWEfvIjsP6h693QZYNk/WyOTkB2i5b8of+GtdSDxvwpaaulDSwVADMQAX+lOAECEHWF8XNPmv1cr/B+VnvG/XyFG6opcCMD/mtR32/UEQP+2XEF3hui/ulBTjAt88r/imfCfRP+yP9zbvtc8XeO/TZuKJD5G6b/MaTExyXzyvxiTQeElXOO/rbJRQVGN9L/z0wR2g9DqvxOqKRxEX/O/FDGCEei99j9x8zV4VYTmP2lzCnsYk+u/l6ELZ9tg878pRXacaDT/v3k6GZRqoQXAVB67LiP56r94+LDK0Sn0vwO6pZ9b7wFAvK0nKVcc9j8+U/hCvyruv6QMsuuLQ/W/FPhKFYv46j8MyxaDTOW/v9L18g1caO2/vebfvctE9b/7GD8ZrF3xv3gx1AR9bQDAuMEtsM4c77+SabgA2nj0v5xKFIwxsATArKNSBaKsB0Cjara6ozTwv33ArMz7sfa/dF2U0FcWCcDxL357DJX/P69pJmt7c/G/quJYWJZl+L/YntVJlnrSP4sRLzXM+fe/46uU8w3c8r+q4lhYlmX4v85lu5+QRwRAsI0H/WU8479jaeZNtj/zv6riWFiWZfi/sI0H/WU847/OZbufkEcEQHAoPUBrnss/9exKzDtFtT88wM8kax+gP9OqeKeAYog/MW0ItiZvcj+ph+smvt5bP2lCaV5dEUU/StaUmQDaLz+kK9y22BMYP0O3whZuMwI/IIbgZGWE6z7UkjYaEM3UPuezxwa9cr8+LybxRMnFpz6E1N8DbPiRPsYjySMvK3s+//////8fAAj//////zMQCP////9/MiAI/////28yMAj/////YzJACP///z9iMlAI////N2IyYAj///8zYjJwCP//vzNiMoAI//+rM2IykAj/f6szYjKgCP8PqzNiMrAI/wOrM2IywAi/A6szYjLQCJ8DqzNiMuAImQOrM2Iy8Aj//////z8PCP//////Kx8I/////38pLwj/////Pyk/CP////85KU8I////PzgpXwj///8POClvCP///w44KX8I//8fDjgpjwj//w8OOCmfCP9/DQ44Ka8I/w8NDjgpvwj/DQ0OOCnPCP8MDQ44Kd8IxwwNDjgp7wjEDA0OOCn/CAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAABgtRFT7Ifk/GC1EVPsh+b8YLURU+yEJQBgtRFT7IQnAYWxnb3MuYwBoM05laWdoYm9yUm90YXRpb25zAGNvb3JkaWprLmMAX3VwQXA3Q2hlY2tlZABfdXBBcDdyQ2hlY2tlZABkaXJlY3RlZEVkZ2UuYwBkaXJlY3RlZEVkZ2VUb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpclt0bXBGaWprLmZhY2VdW2ZpamsuZmFjZV0gPT0gS0kAZmFjZWlqay5jAF9mYWNlSWprUGVudFRvQ2VsbEJvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9DZWxsQm91bmRhcnkAaDNJbmRleC5jAGNvbXBhY3RDZWxscwBsYXRMbmdUb0NlbGwAY2VsbFRvQ2hpbGRQb3MAdmFsaWRhdGVDaGlsZFBvcwBsYXRMbmcuYwBjZWxsQXJlYVJhZHMyAHBvbHlnb24tPm5leHQgPT0gTlVMTABsaW5rZWRHZW8uYwBhZGROZXdMaW5rZWRQb2x5Z29uAG5leHQgIT0gTlVMTABsb29wICE9IE5VTEwAYWRkTmV3TGlua2VkTG9vcABwb2x5Z29uLT5maXJzdCA9PSBOVUxMAGFkZExpbmtlZExvb3AAY29vcmQgIT0gTlVMTABhZGRMaW5rZWRDb29yZABsb29wLT5maXJzdCA9PSBOVUxMAGlubmVyTG9vcHMgIT0gTlVMTABub3JtYWxpemVNdWx0aVBvbHlnb24AYmJveGVzICE9IE5VTEwAY2FuZGlkYXRlcyAhPSBOVUxMAGZpbmRQb2x5Z29uRm9ySG9sZQBjYW5kaWRhdGVCQm94ZXMgIT0gTlVMTAByZXZEaXIgIT0gSU5WQUxJRF9ESUdJVABsb2NhbGlqLmMAY2VsbFRvTG9jYWxJamsAYmFzZUNlbGwgIT0gb3JpZ2luQmFzZUNlbGwAIShvcmlnaW5PblBlbnQgJiYgaW5kZXhPblBlbnQpAGJhc2VDZWxsID09IG9yaWdpbkJhc2VDZWxsAGJhc2VDZWxsICE9IElOVkFMSURfQkFTRV9DRUxMAGxvY2FsSWprVG9DZWxsACFfaXNCYXNlQ2VsbFBlbnRhZ29uKGJhc2VDZWxsKQBiYXNlQ2VsbFJvdGF0aW9ucyA+PSAwAGdyaWRQYXRoQ2VsbHMAcG9seWZpbGwuYwBpdGVyU3RlcFBvbHlnb25Db21wYWN0ADAAdmVydGV4LmMAdmVydGV4Um90YXRpb25zAGNlbGxUb1ZlcnRleABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";var qe=28640;function gt(Pe){return Pe}function tt(Pe){var mt=/\b__Z[\w\d_]+/g;return Pe.replace(mt,function(St){var xt=St;return St===xt?St:xt+" ["+St+"]"})}function wt(){var Pe=new Error;if(!Pe.stack){try{throw new Error(0)}catch(mt){Pe=mt}if(!Pe.stack)return"(no stack trace available)"}return Pe.stack.toString()}function _t(){var Pe=wt();return e.extraStackTrace&&(Pe+=`
`+e.extraStackTrace()),tt(Pe)}function Et(Pe,mt,St,xt){Ut("Assertion failed: "+N(Pe)+", at: "+[mt?N(mt):"unknown filename",St,xt?N(xt):"unknown function"])}function Tt(){return V.length}function ht(Pe,mt,St){q.set(q.subarray(mt,mt+St),Pe)}function Xe(Pe){return e.___errno_location&&(j[e.___errno_location()>>2]=Pe),Pe}function pt(Pe){Ut("OOM")}function ut(Pe){try{var mt=new ArrayBuffer(Pe);return mt.byteLength!=Pe?void 0:(new Int8Array(mt).set(V),Pt(mt),Y(mt),1)}catch{}}function Ke(Pe){var mt=Tt(),St=16777216,xt=2147483648-St;if(Pe>xt)return!1;for(var m=16777216,de=Math.max(mt,m);de<Pe;)de<=536870912?de=$(2*de,St):de=Math.min($((3*de+2147483648)/4,St),xt);var gn=ut(de);return!!gn}var Rt=typeof atob=="function"?atob:function(Pe){var mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",St="",xt,m,de,gn,Pn,tr,bn,Gn=0;Pe=Pe.replace(/[^A-Za-z0-9\+\/\=]/g,"");do gn=mt.indexOf(Pe.charAt(Gn++)),Pn=mt.indexOf(Pe.charAt(Gn++)),tr=mt.indexOf(Pe.charAt(Gn++)),bn=mt.indexOf(Pe.charAt(Gn++)),xt=gn<<2|Pn>>4,m=(Pn&15)<<4|tr>>2,de=(tr&3)<<6|bn,St=St+String.fromCharCode(xt),tr!==64&&(St=St+String.fromCharCode(m)),bn!==64&&(St=St+String.fromCharCode(de));while(Gn<Pe.length);return St};function $e(Pe){try{for(var mt=Rt(Pe),St=new Uint8Array(mt.length),xt=0;xt<mt.length;++xt)St[xt]=mt.charCodeAt(xt);return St}catch{throw new Error("Converting base64 string to bytes failed.")}}function $t(Pe){if(pe(Pe))return $e(Pe.slice(Ze.length))}var Lt={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},tn={a:Ut,b:u,c:d,d:Et,e:Xe,f:Tt,g:ht,h:Ke,i:pt,j:gt,k:tt,l:ut,m:wt,n:_t,o:qe,p:Z},Qe=function(Pe,mt,St){"almost asm";var xt=new Pe.Int8Array(St),m=new Pe.Int32Array(St);new Pe.Uint8Array(St),new Pe.Float32Array(St);var de=new Pe.Float64Array(St),gn=mt.o|0,Pn=mt.p|0,tr=Pe.Math.floor,bn=Pe.Math.abs,Gn=Pe.Math.sqrt,_r=Pe.Math.pow,Ln=Pe.Math.cos,Dt=Pe.Math.sin,cn=Pe.Math.tan,Bn=Pe.Math.acos,er=Pe.Math.asin,Ae=Pe.Math.atan,Ve=Pe.Math.atan2,lt=Pe.Math.ceil,dt=Pe.Math.imul,He=Pe.Math.min,Nt=Pe.Math.max,Ht=Pe.Math.clz32,Ot=mt.b,fe=mt.c,Mt=mt.d,fn=mt.e,wn=mt.f,Hn=mt.g,lr=mt.h,Lr=mt.i,le=28656;function yn(A){return xt=new Int8Array(A),m=new Int32Array(A),de=new Float64Array(A),St=A,!0}function jt(A){A=A|0;var g=0;return g=le,le=le+A|0,le=le+15&-16,g|0}function en(){return le|0}function xn(A){A=A|0,le=A}function hn(A,g){A=A|0,le=A}function An(A,g){A=A|0,g=g|0;var b=0,T=0,E=0;return(A|0)<0?(g=2,g|0):(A|0)>13780509?(g=Bm(15,g)|0,g|0):(b=((A|0)<0)<<31>>31,E=wa(A|0,b|0,3,0)|0,T=fe()|0,b=or(A|0,b|0,1,0)|0,b=wa(E|0,T|0,b|0,fe()|0)|0,b=or(b|0,fe()|0,1,0)|0,A=fe()|0,m[g>>2]=b,m[g+4>>2]=A,g=0,g|0)}function Xn(A,g,b,T){return A=A|0,g=g|0,b=b|0,T=T|0,cr(A,g,b,T,0)|0}function cr(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0,Q=0;if(W=le,le=le+16|0,F=W,!(nr(A,g,b,T,E)|0))return T=0,le=W,T|0;do if((b|0)>=0){if((b|0)>13780509){if(O=Bm(15,F)|0,O|0)break;U=F,F=m[U>>2]|0,U=m[U+4>>2]|0}else O=((b|0)<0)<<31>>31,Q=wa(b|0,O|0,3,0)|0,U=fe()|0,O=or(b|0,O|0,1,0)|0,O=wa(Q|0,U|0,O|0,fe()|0)|0,O=or(O|0,fe()|0,1,0)|0,U=fe()|0,m[F>>2]=O,m[F+4>>2]=U,F=O;if(jh(T|0,0,F<<3|0)|0,E|0){jh(E|0,0,F<<2|0)|0,O=Mr(A,g,b,T,E,F,U,0)|0;break}O=ml(F,4)|0,O?(Q=Mr(A,g,b,T,O,F,U,0)|0,ar(O),O=Q):O=13}else O=2;while(0);return Q=O,le=W,Q|0}function nr(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0;if(it=le,le=le+16|0,Be=it,Fe=it+8|0,Le=Be,m[Le>>2]=A,m[Le+4>>2]=g,(b|0)<0)return Fe=2,le=it,Fe|0;if(O=T,m[O>>2]=A,m[O+4>>2]=g,O=(E|0)!=0,O&&(m[E>>2]=0),fi(A,g)|0)return Fe=9,le=it,Fe|0;m[Fe>>2]=0;e:do if((b|0)>=1)if(O)for(ne=1,Q=0,xe=0,Le=1,O=A;;){if(!(Q|xe)){if(O=ur(O,g,4,Fe,Be)|0,O|0)break e;if(g=Be,O=m[g>>2]|0,g=m[g+4>>2]|0,fi(O,g)|0){O=9;break e}}if(O=ur(O,g,m[26800+(xe<<2)>>2]|0,Fe,Be)|0,O|0)break e;if(g=Be,O=m[g>>2]|0,g=m[g+4>>2]|0,A=T+(ne<<3)|0,m[A>>2]=O,m[A+4>>2]=g,m[E+(ne<<2)>>2]=Le,A=Q+1|0,F=(A|0)==(Le|0),U=xe+1|0,W=(U|0)==6,fi(O,g)|0){O=9;break e}if(Le=Le+(W&F&1)|0,(Le|0)>(b|0)){O=0;break}else ne=ne+1|0,Q=F?0:A,xe=F?W?0:U:xe}else for(ne=1,Q=0,xe=0,Le=1,O=A;;){if(!(Q|xe)){if(O=ur(O,g,4,Fe,Be)|0,O|0)break e;if(g=Be,O=m[g>>2]|0,g=m[g+4>>2]|0,fi(O,g)|0){O=9;break e}}if(O=ur(O,g,m[26800+(xe<<2)>>2]|0,Fe,Be)|0,O|0)break e;if(g=Be,O=m[g>>2]|0,g=m[g+4>>2]|0,A=T+(ne<<3)|0,m[A>>2]=O,m[A+4>>2]=g,A=Q+1|0,F=(A|0)==(Le|0),U=xe+1|0,W=(U|0)==6,fi(O,g)|0){O=9;break e}if(Le=Le+(W&F&1)|0,(Le|0)>(b|0)){O=0;break}else ne=ne+1|0,Q=F?0:A,xe=F?W?0:U:xe}else O=0;while(0);return Fe=O,le=it,Fe|0}function Mr(A,g,b,T,E,O,F,U){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0,O=O|0,F=F|0,U=U|0;var W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0;if(it=le,le=le+16|0,Be=it+8|0,Fe=it,W=qg(A|0,g|0,O|0,F|0)|0,ne=fe()|0,xe=T+(W<<3)|0,At=xe,It=m[At>>2]|0,At=m[At+4>>2]|0,Q=(It|0)==(A|0)&(At|0)==(g|0),!((It|0)==0&(At|0)==0|Q))do W=or(W|0,ne|0,1,0)|0,W=jg(W|0,fe()|0,O|0,F|0)|0,ne=fe()|0,xe=T+(W<<3)|0,It=xe,At=m[It>>2]|0,It=m[It+4>>2]|0,Q=(At|0)==(A|0)&(It|0)==(g|0);while(!((At|0)==0&(It|0)==0|Q));if(W=E+(W<<2)|0,Q&&(m[W>>2]|0)<=(U|0)||(It=xe,m[It>>2]=A,m[It+4>>2]=g,m[W>>2]=U,(U|0)>=(b|0)))return It=0,le=it,It|0;switch(Q=U+1|0,m[Be>>2]=0,W=ur(A,g,2,Be,Fe)|0,W|0){case 9:{Le=9;break}case 0:{W=Fe,W=Mr(m[W>>2]|0,m[W+4>>2]|0,b,T,E,O,F,Q)|0,W||(Le=9);break}}e:do if((Le|0)==9){switch(m[Be>>2]=0,W=ur(A,g,3,Be,Fe)|0,W|0){case 9:break;case 0:{if(W=Fe,W=Mr(m[W>>2]|0,m[W+4>>2]|0,b,T,E,O,F,Q)|0,W|0)break e;break}default:break e}switch(m[Be>>2]=0,W=ur(A,g,1,Be,Fe)|0,W|0){case 9:break;case 0:{if(W=Fe,W=Mr(m[W>>2]|0,m[W+4>>2]|0,b,T,E,O,F,Q)|0,W|0)break e;break}default:break e}switch(m[Be>>2]=0,W=ur(A,g,5,Be,Fe)|0,W|0){case 9:break;case 0:{if(W=Fe,W=Mr(m[W>>2]|0,m[W+4>>2]|0,b,T,E,O,F,Q)|0,W|0)break e;break}default:break e}switch(m[Be>>2]=0,W=ur(A,g,4,Be,Fe)|0,W|0){case 9:break;case 0:{if(W=Fe,W=Mr(m[W>>2]|0,m[W+4>>2]|0,b,T,E,O,F,Q)|0,W|0)break e;break}default:break e}switch(m[Be>>2]=0,W=ur(A,g,6,Be,Fe)|0,W|0){case 9:break;case 0:{if(W=Fe,W=Mr(m[W>>2]|0,m[W+4>>2]|0,b,T,E,O,F,Q)|0,W|0)break e;break}default:break e}return It=0,le=it,It|0}while(0);return It=W,le=it,It|0}function ur(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0;if(b>>>0>6)return E=1,E|0;if(xe=(m[T>>2]|0)%6|0,m[T>>2]=xe,(xe|0)>0){O=0;do b=vd(b)|0,O=O+1|0;while((O|0)<(m[T>>2]|0))}if(xe=Jt(A|0,g|0,45)|0,fe()|0,ne=xe&127,ne>>>0>121)return E=5,E|0;W=go(A,g)|0,O=Jt(A|0,g|0,52)|0,fe()|0,O=O&15;e:do if(!O)Q=8;else{for(;;){if(F=(15-O|0)*3|0,U=Jt(A|0,g|0,F|0)|0,fe()|0,U=U&7,(U|0)==7){g=5;break}if(Fe=(Va(O)|0)==0,O=O+-1|0,Le=sn(7,0,F|0)|0,g=g&~(fe()|0),Be=sn(m[(Fe?432:16)+(U*28|0)+(b<<2)>>2]|0,0,F|0)|0,F=fe()|0,b=m[(Fe?640:224)+(U*28|0)+(b<<2)>>2]|0,A=Be|A&~Le,g=F|g,!b){b=0;break e}if(!O){Q=8;break e}}return g|0}while(0);(Q|0)==8&&(Fe=m[848+(ne*28|0)+(b<<2)>>2]|0,Be=sn(Fe|0,0,45)|0,A=Be|A,g=fe()|0|g&-1040385,b=m[4272+(ne*28|0)+(b<<2)>>2]|0,(Fe&127|0)==127&&(Fe=sn(m[848+(ne*28|0)+20>>2]|0,0,45)|0,g=fe()|0|g&-1040385,b=m[4272+(ne*28|0)+20>>2]|0,A=bd(Fe|A,g)|0,g=fe()|0,m[T>>2]=(m[T>>2]|0)+1)),U=Jt(A|0,g|0,45)|0,fe()|0,U=U&127;e:do if(ri(U)|0){t:do if((go(A,g)|0)==1){if((ne|0)!=(U|0))if($n(U,m[7696+(ne*28|0)>>2]|0)|0){A=Fh(A,g)|0,F=1,g=fe()|0;break}else Mt(27795,26864,533,26872);switch(W|0){case 3:{A=bd(A,g)|0,g=fe()|0,m[T>>2]=(m[T>>2]|0)+1,F=0;break t}case 5:{A=Fh(A,g)|0,g=fe()|0,m[T>>2]=(m[T>>2]|0)+5,F=0;break t}case 0:return Fe=9,Fe|0;default:return Fe=1,Fe|0}}else F=0;while(0);if((b|0)>0){O=0;do A=Bh(A,g)|0,g=fe()|0,O=O+1|0;while((O|0)!=(b|0))}if((ne|0)!=(U|0)){if(!(dl(U)|0)){if((F|0)!=0|(go(A,g)|0)!=5)break;m[T>>2]=(m[T>>2]|0)+1;break}switch(xe&127){case 8:case 118:break e}(go(A,g)|0)!=3&&(m[T>>2]=(m[T>>2]|0)+1)}}else if((b|0)>0){O=0;do A=bd(A,g)|0,g=fe()|0,O=O+1|0;while((O|0)!=(b|0))}while(0);return m[T>>2]=((m[T>>2]|0)+b|0)%6|0,Fe=E,m[Fe>>2]=A,m[Fe+4>>2]=g,Fe=0,Fe|0}function Wr(A,g,b,T){return A=A|0,g=g|0,b=b|0,T=T|0,zn(A,g,b,T)|0?(jh(T|0,0,b*48|0)|0,T=Fn(A,g,b,T)|0,T|0):(T=0,T|0)}function zn(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0;if(Fe=le,le=le+16|0,Le=Fe,Be=Fe+8|0,xe=Le,m[xe>>2]=A,m[xe+4>>2]=g,(b|0)<0)return Be=2,le=Fe,Be|0;if(!b)return Be=T,m[Be>>2]=A,m[Be+4>>2]=g,Be=0,le=Fe,Be|0;m[Be>>2]=0;e:do if(fi(A,g)|0)A=9;else{E=0,xe=A;do{if(A=ur(xe,g,4,Be,Le)|0,A|0)break e;if(g=Le,xe=m[g>>2]|0,g=m[g+4>>2]|0,E=E+1|0,fi(xe,g)|0){A=9;break e}}while((E|0)<(b|0));ne=T,m[ne>>2]=xe,m[ne+4>>2]=g,ne=b+-1|0,Q=0,A=1;do{if(E=26800+(Q<<2)|0,(Q|0)==5)for(F=m[E>>2]|0,O=0,E=A;;){if(A=Le,A=ur(m[A>>2]|0,m[A+4>>2]|0,F,Be,Le)|0,A|0)break e;if((O|0)!=(ne|0))if(W=Le,U=m[W>>2]|0,W=m[W+4>>2]|0,A=T+(E<<3)|0,m[A>>2]=U,m[A+4>>2]=W,!(fi(U,W)|0))A=E+1|0;else{A=9;break e}else A=E;if(O=O+1|0,(O|0)>=(b|0))break;E=A}else for(F=Le,W=m[E>>2]|0,U=0,E=A,O=m[F>>2]|0,F=m[F+4>>2]|0;;){if(A=ur(O,F,W,Be,Le)|0,A|0)break e;if(F=Le,O=m[F>>2]|0,F=m[F+4>>2]|0,A=T+(E<<3)|0,m[A>>2]=O,m[A+4>>2]=F,A=E+1|0,fi(O,F)|0){A=9;break e}if(U=U+1|0,(U|0)>=(b|0))break;E=A}Q=Q+1|0}while(Q>>>0<6);A=Le,A=(xe|0)==(m[A>>2]|0)&&(g|0)==(m[A+4>>2]|0)?0:9}while(0);return Be=A,le=Fe,Be|0}function Fn(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0;if(xe=le,le=le+16|0,F=xe,!b)return m[T>>2]=A,m[T+4>>2]=g,T=0,le=xe,T|0;do if((b|0)>=0){if((b|0)>13780509){if(E=Bm(15,F)|0,E|0)break;O=F,E=m[O>>2]|0,O=m[O+4>>2]|0}else E=((b|0)<0)<<31>>31,ne=wa(b|0,E|0,3,0)|0,O=fe()|0,E=or(b|0,E|0,1,0)|0,E=wa(ne|0,O|0,E|0,fe()|0)|0,E=or(E|0,fe()|0,1,0)|0,O=fe()|0,ne=F,m[ne>>2]=E,m[ne+4>>2]=O;if(Q=ml(E,8)|0,!Q)E=13;else{if(ne=ml(E,4)|0,!ne){ar(Q),E=13;break}if(E=Mr(A,g,b,Q,ne,E,O,0)|0,E|0){ar(Q),ar(ne);break}if(g=m[F>>2]|0,F=m[F+4>>2]|0,(F|0)>0|(F|0)==0&g>>>0>0){E=0,U=0,W=0;do A=Q+(U<<3)|0,O=m[A>>2]|0,A=m[A+4>>2]|0,!((O|0)==0&(A|0)==0)&&(m[ne+(U<<2)>>2]|0)==(b|0)&&(Le=T+(E<<3)|0,m[Le>>2]=O,m[Le+4>>2]=A,E=E+1|0),U=or(U|0,W|0,1,0)|0,W=fe()|0;while((W|0)<(F|0)|(W|0)==(F|0)&U>>>0<g>>>0)}ar(Q),ar(ne),E=0}}else E=2;while(0);return Le=E,le=xe,Le|0}function rr(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0;for(U=le,le=le+16|0,O=U,F=U+8|0,E=(fi(A,g)|0)==0,E=E?1:2;;){if(m[F>>2]=0,Q=(ur(A,g,E,F,O)|0)==0,W=O,Q&((m[W>>2]|0)==(b|0)?(m[W+4>>2]|0)==(T|0):0)){A=4;break}if(E=E+1|0,E>>>0>=7){E=7,A=4;break}}return(A|0)==4?(le=U,E|0):0}function ui(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0;if(U=le,le=le+48|0,E=U+16|0,O=U+8|0,F=U,b=$r(b)|0,b|0)return F=b,le=U,F|0;if(Q=A,W=m[Q+4>>2]|0,b=O,m[b>>2]=m[Q>>2],m[b+4>>2]=W,Ar(O,E),b=ew(E,g,F)|0,!b){if(g=m[O>>2]|0,O=m[A+8>>2]|0,(O|0)>0){E=m[A+12>>2]|0,b=0;do g=(m[E+(b<<3)>>2]|0)+g|0,b=b+1|0;while((b|0)<(O|0))}b=F,E=m[b>>2]|0,b=m[b+4>>2]|0,O=((g|0)<0)<<31>>31,(b|0)<(O|0)|(b|0)==(O|0)&E>>>0<g>>>0?(b=F,m[b>>2]=g,m[b+4>>2]=O,b=O):g=E,W=or(g|0,b|0,12,0)|0,Q=fe()|0,b=F,m[b>>2]=W,m[b+4>>2]=Q,b=T,m[b>>2]=W,m[b+4>>2]=Q,b=0}return Q=b,le=U,Q|0}function Ki(A,g,b,T,E,O,F){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0,O=O|0,F=F|0;var U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0,st=0,un=0,Zn=0,Un=0,Nr=0,Ir=0,Hr=0,Sr=0,Jn=0,ln=0,Ur=0,Li=0,Br=0,Bi=0,Fs=0,uz=0;if(Li=le,le=le+64|0,Sr=Li+48|0,Jn=Li+32|0,ln=Li+24|0,un=Li+8|0,Zn=Li,W=m[A>>2]|0,(W|0)<=0)return Ur=0,le=Li,Ur|0;for(Un=A+4|0,Nr=Sr+8|0,Ir=Jn+8|0,Hr=un+8|0,U=0,vt=0;;){Q=m[Un>>2]|0,bt=Q+(vt<<4)|0,m[Sr>>2]=m[bt>>2],m[Sr+4>>2]=m[bt+4>>2],m[Sr+8>>2]=m[bt+8>>2],m[Sr+12>>2]=m[bt+12>>2],(vt|0)==(W+-1|0)?(m[Jn>>2]=m[Q>>2],m[Jn+4>>2]=m[Q+4>>2],m[Jn+8>>2]=m[Q+8>>2],m[Jn+12>>2]=m[Q+12>>2]):(bt=Q+(vt+1<<4)|0,m[Jn>>2]=m[bt>>2],m[Jn+4>>2]=m[bt+4>>2],m[Jn+8>>2]=m[bt+8>>2],m[Jn+12>>2]=m[bt+12>>2]),W=tw(Sr,Jn,T,ln)|0;e:do if(W)Q=0,U=W;else if(W=ln,Q=m[W>>2]|0,W=m[W+4>>2]|0,(W|0)>0|(W|0)==0&Q>>>0>0){It=0,bt=0;t:for(;;){if(Bi=1/(+(Q>>>0)+4294967296*+(W|0)),uz=+de[Sr>>3],W=Sa(Q|0,W|0,It|0,bt|0)|0,Fs=+(W>>>0)+4294967296*+(fe()|0),Br=+(It>>>0)+4294967296*+(bt|0),de[un>>3]=Bi*(uz*Fs)+Bi*(+de[Jn>>3]*Br),de[Hr>>3]=Bi*(+de[Nr>>3]*Fs)+Bi*(+de[Ir>>3]*Br),W=xd(un,T,Zn)|0,W|0){U=W;break}At=Zn,it=m[At>>2]|0,At=m[At+4>>2]|0,Le=qg(it|0,At|0,g|0,b|0)|0,ne=fe()|0,W=F+(Le<<3)|0,xe=W,Q=m[xe>>2]|0,xe=m[xe+4>>2]|0;n:do if((Q|0)==0&(xe|0)==0)st=W,Ur=16;else for(Be=0,Fe=0;;){if((Be|0)>(b|0)|(Be|0)==(b|0)&Fe>>>0>g>>>0){U=1;break t}if((Q|0)==(it|0)&(xe|0)==(At|0))break n;if(W=or(Le|0,ne|0,1,0)|0,Le=jg(W|0,fe()|0,g|0,b|0)|0,ne=fe()|0,Fe=or(Fe|0,Be|0,1,0)|0,Be=fe()|0,W=F+(Le<<3)|0,xe=W,Q=m[xe>>2]|0,xe=m[xe+4>>2]|0,(Q|0)==0&(xe|0)==0){st=W,Ur=16;break}}while(0);if((Ur|0)==16&&(Ur=0,!((it|0)==0&(At|0)==0))&&(Fe=st,m[Fe>>2]=it,m[Fe+4>>2]=At,Fe=O+(m[E>>2]<<3)|0,m[Fe>>2]=it,m[Fe+4>>2]=At,Fe=E,Fe=or(m[Fe>>2]|0,m[Fe+4>>2]|0,1,0)|0,it=fe()|0,At=E,m[At>>2]=Fe,m[At+4>>2]=it),It=or(It|0,bt|0,1,0)|0,bt=fe()|0,W=ln,Q=m[W>>2]|0,W=m[W+4>>2]|0,!((W|0)>(bt|0)|(W|0)==(bt|0)&Q>>>0>It>>>0)){Q=1;break e}}Q=0}else Q=1;while(0);if(vt=vt+1|0,!Q){Ur=21;break}if(W=m[A>>2]|0,(vt|0)>=(W|0)){U=0,Ur=21;break}}return(Ur|0)==21?(le=Li,U|0):0}function Cc(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0,st=0,un=0,Zn=0,Un=0,Nr=0,Ir=0,Hr=0,Sr=0,Jn=0,ln=0,Ur=0,Li=0,Br=0,Bi=0,Fs=0;if(Fs=le,le=le+112|0,Ur=Fs+80|0,W=Fs+72|0,Li=Fs,Br=Fs+56|0,E=$r(b)|0,E|0)return Bi=E,le=Fs,Bi|0;if(Q=A+8|0,Bi=Cd((m[Q>>2]<<5)+32|0)|0,!Bi)return Bi=13,le=Fs,Bi|0;if(da(A,Bi),E=$r(b)|0,!E){if(Jn=A,ln=m[Jn+4>>2]|0,E=W,m[E>>2]=m[Jn>>2],m[E+4>>2]=ln,Ar(W,Ur),E=ew(Ur,g,Li)|0,E)Jn=0,ln=0;else{if(E=m[W>>2]|0,O=m[Q>>2]|0,(O|0)>0){F=m[A+12>>2]|0,b=0;do E=(m[F+(b<<3)>>2]|0)+E|0,b=b+1|0;while((b|0)!=(O|0));b=E}else b=E;E=Li,O=m[E>>2]|0,E=m[E+4>>2]|0,F=((b|0)<0)<<31>>31,(E|0)<(F|0)|(E|0)==(F|0)&O>>>0<b>>>0?(E=Li,m[E>>2]=b,m[E+4>>2]=F,E=F):b=O,Jn=or(b|0,E|0,12,0)|0,ln=fe()|0,E=Li,m[E>>2]=Jn,m[E+4>>2]=ln,E=0}if(!E){if(b=ml(Jn,8)|0,!b)return ar(Bi),Bi=13,le=Fs,Bi|0;if(U=ml(Jn,8)|0,!U)return ar(Bi),ar(b),Bi=13,le=Fs,Bi|0;Hr=Ur,m[Hr>>2]=0,m[Hr+4>>2]=0,Hr=A,Sr=m[Hr+4>>2]|0,E=W,m[E>>2]=m[Hr>>2],m[E+4>>2]=Sr,E=Ki(W,Jn,ln,g,Ur,b,U)|0;e:do if(E)ar(b),ar(U),ar(Bi);else{t:do if((m[Q>>2]|0)>0){for(F=A+12|0,O=0;E=Ki((m[F>>2]|0)+(O<<3)|0,Jn,ln,g,Ur,b,U)|0,O=O+1|0,!(E|0);)if((O|0)>=(m[Q>>2]|0))break t;ar(b),ar(U),ar(Bi);break e}while(0);(ln|0)>0|(ln|0)==0&Jn>>>0>0&&jh(U|0,0,Jn<<3|0)|0,Sr=Ur,Hr=m[Sr+4>>2]|0;t:do if((Hr|0)>0|(Hr|0)==0&(m[Sr>>2]|0)>>>0>0){Un=b,Nr=U,Ir=b,Hr=U,Sr=b,E=b,st=b,un=U,Zn=U,b=U;n:for(;;){for(At=0,It=0,bt=0,vt=0,O=0,F=0;;){U=Li,W=U+56|0;do m[U>>2]=0,U=U+4|0;while((U|0)<(W|0));if(g=Un+(At<<3)|0,Q=m[g>>2]|0,g=m[g+4>>2]|0,nr(Q,g,1,Li,0)|0){U=Li,W=U+56|0;do m[U>>2]=0,U=U+4|0;while((U|0)<(W|0));U=ml(7,4)|0,U|0&&(Mr(Q,g,1,Li,U,7,0,0)|0,ar(U))}for(it=0;;){Fe=Li+(it<<3)|0,Be=m[Fe>>2]|0,Fe=m[Fe+4>>2]|0;r:do if((Be|0)==0&(Fe|0)==0)U=O,W=F;else{if(ne=qg(Be|0,Fe|0,Jn|0,ln|0)|0,Q=fe()|0,U=T+(ne<<3)|0,g=U,W=m[g>>2]|0,g=m[g+4>>2]|0,!((W|0)==0&(g|0)==0)){xe=0,Le=0;do{if((xe|0)>(ln|0)|(xe|0)==(ln|0)&Le>>>0>Jn>>>0)break n;if((W|0)==(Be|0)&(g|0)==(Fe|0)){U=O,W=F;break r}U=or(ne|0,Q|0,1,0)|0,ne=jg(U|0,fe()|0,Jn|0,ln|0)|0,Q=fe()|0,Le=or(Le|0,xe|0,1,0)|0,xe=fe()|0,U=T+(ne<<3)|0,g=U,W=m[g>>2]|0,g=m[g+4>>2]|0}while(!((W|0)==0&(g|0)==0))}if((Be|0)==0&(Fe|0)==0){U=O,W=F;break}Sd(Be,Fe,Br)|0,$o(A,Bi,Br)|0&&(Le=or(O|0,F|0,1,0)|0,F=fe()|0,xe=U,m[xe>>2]=Be,m[xe+4>>2]=Fe,O=Nr+(O<<3)|0,m[O>>2]=Be,m[O+4>>2]=Fe,O=Le),U=O,W=F}while(0);if(it=it+1|0,it>>>0>=7)break;O=U,F=W}if(At=or(At|0,It|0,1,0)|0,It=fe()|0,bt=or(bt|0,vt|0,1,0)|0,vt=fe()|0,F=Ur,O=m[F>>2]|0,F=m[F+4>>2]|0,(vt|0)<(F|0)|(vt|0)==(F|0)&bt>>>0<O>>>0)O=U,F=W;else break}if((F|0)>0|(F|0)==0&O>>>0>0){O=0,F=0;do vt=Un+(O<<3)|0,m[vt>>2]=0,m[vt+4>>2]=0,O=or(O|0,F|0,1,0)|0,F=fe()|0,vt=Ur,bt=m[vt+4>>2]|0;while((F|0)<(bt|0)|((F|0)==(bt|0)?O>>>0<(m[vt>>2]|0)>>>0:0))}if(vt=Ur,m[vt>>2]=U,m[vt+4>>2]=W,(W|0)>0|(W|0)==0&U>>>0>0)it=b,At=Zn,It=Sr,bt=un,vt=Nr,b=st,Zn=E,un=Ir,st=it,E=At,Sr=Hr,Hr=It,Ir=bt,Nr=Un,Un=vt;else break t}ar(Ir),ar(Hr),ar(Bi),E=1;break e}else E=U;while(0);ar(Bi),ar(b),ar(E),E=0}while(0);return Bi=E,le=Fs,Bi|0}}return ar(Bi),Bi=E,le=Fs,Bi|0}function Wo(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;if(ne=le,le=le+176|0,W=ne,(g|0)<1)return nz(b,0,0),Q=0,le=ne,Q|0;for(U=A,U=Jt(m[U>>2]|0,m[U+4>>2]|0,52)|0,fe()|0,nz(b,(g|0)>6?g:6,U&15),U=0;T=A+(U<<3)|0,T=kh(m[T>>2]|0,m[T+4>>2]|0,W)|0,!(T|0);){if(T=m[W>>2]|0,(T|0)>0){F=0;do O=W+8+(F<<4)|0,F=F+1|0,T=W+8+(((F|0)%(T|0)|0)<<4)|0,E=sge(b,T,O)|0,E?oz(b,E)|0:age(b,O,T)|0,T=m[W>>2]|0;while((F|0)<(T|0))}if(U=U+1|0,(U|0)>=(g|0)){T=0,Q=13;break}}return(Q|0)==13?(le=ne,T|0):(rz(b),Q=T,le=ne,Q|0)}function Tc(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0;if(O=le,le=le+32|0,T=O,E=O+16|0,A=Wo(A,g,E)|0,A|0)return b=A,le=O,b|0;if(m[b>>2]=0,m[b+4>>2]=0,m[b+8>>2]=0,A=iz(E)|0,A|0)do{g=bw(b)|0;do xw(g,A)|0,F=A+16|0,m[T>>2]=m[F>>2],m[T+4>>2]=m[F+4>>2],m[T+8>>2]=m[F+8>>2],m[T+12>>2]=m[F+12>>2],oz(E,A)|0,A=lge(E,T)|0;while(A|0);A=iz(E)|0}while(A|0);return rz(E),A=_w(b)|0,A?(rb(b),F=A,le=O,F|0):(F=0,le=O,F|0)}function ri(A){return A=A|0,A>>>0>121?(A=0,A|0):(A=m[7696+(A*28|0)+16>>2]|0,A|0)}function dl(A){return A=A|0,(A|0)==4|(A|0)==117|0}function gr(A){return A=A|0,m[11120+((m[A>>2]|0)*216|0)+((m[A+4>>2]|0)*72|0)+((m[A+8>>2]|0)*24|0)+(m[A+12>>2]<<3)>>2]|0}function Ua(A){return A=A|0,m[11120+((m[A>>2]|0)*216|0)+((m[A+4>>2]|0)*72|0)+((m[A+8>>2]|0)*24|0)+(m[A+12>>2]<<3)+4>>2]|0}function di(A,g){A=A|0,g=g|0,A=7696+(A*28|0)|0,m[g>>2]=m[A>>2],m[g+4>>2]=m[A+4>>2],m[g+8>>2]=m[A+8>>2],m[g+12>>2]=m[A+12>>2]}function Nh(A,g){A=A|0,g=g|0;var b=0,T=0;if(g>>>0>20)return g=-1,g|0;do if((m[11120+(g*216|0)>>2]|0)!=(A|0))if((m[11120+(g*216|0)+8>>2]|0)!=(A|0))if((m[11120+(g*216|0)+16>>2]|0)!=(A|0))if((m[11120+(g*216|0)+24>>2]|0)!=(A|0))if((m[11120+(g*216|0)+32>>2]|0)!=(A|0))if((m[11120+(g*216|0)+40>>2]|0)!=(A|0))if((m[11120+(g*216|0)+48>>2]|0)!=(A|0))if((m[11120+(g*216|0)+56>>2]|0)!=(A|0))if((m[11120+(g*216|0)+64>>2]|0)!=(A|0))if((m[11120+(g*216|0)+72>>2]|0)!=(A|0))if((m[11120+(g*216|0)+80>>2]|0)!=(A|0))if((m[11120+(g*216|0)+88>>2]|0)!=(A|0))if((m[11120+(g*216|0)+96>>2]|0)!=(A|0))if((m[11120+(g*216|0)+104>>2]|0)!=(A|0))if((m[11120+(g*216|0)+112>>2]|0)!=(A|0))if((m[11120+(g*216|0)+120>>2]|0)!=(A|0))if((m[11120+(g*216|0)+128>>2]|0)!=(A|0))if((m[11120+(g*216|0)+136>>2]|0)==(A|0))A=2,b=1,T=2;else{if((m[11120+(g*216|0)+144>>2]|0)==(A|0)){A=0,b=2,T=0;break}if((m[11120+(g*216|0)+152>>2]|0)==(A|0)){A=0,b=2,T=1;break}if((m[11120+(g*216|0)+160>>2]|0)==(A|0)){A=0,b=2,T=2;break}if((m[11120+(g*216|0)+168>>2]|0)==(A|0)){A=1,b=2,T=0;break}if((m[11120+(g*216|0)+176>>2]|0)==(A|0)){A=1,b=2,T=1;break}if((m[11120+(g*216|0)+184>>2]|0)==(A|0)){A=1,b=2,T=2;break}if((m[11120+(g*216|0)+192>>2]|0)==(A|0)){A=2,b=2,T=0;break}if((m[11120+(g*216|0)+200>>2]|0)==(A|0)){A=2,b=2,T=1;break}if((m[11120+(g*216|0)+208>>2]|0)==(A|0)){A=2,b=2,T=2;break}else A=-1;return A|0}else A=2,b=1,T=1;else A=2,b=1,T=0;else A=1,b=1,T=2;else A=1,b=1,T=1;else A=1,b=1,T=0;else A=0,b=1,T=2;else A=0,b=1,T=1;else A=0,b=1,T=0;else A=2,b=0,T=2;else A=2,b=0,T=1;else A=2,b=0,T=0;else A=1,b=0,T=2;else A=1,b=0,T=1;else A=1,b=0,T=0;else A=0,b=0,T=2;else A=0,b=0,T=1;else A=0,b=0,T=0;while(0);return g=m[11120+(g*216|0)+(b*72|0)+(A*24|0)+(T<<3)+4>>2]|0,g|0}function $n(A,g){return A=A|0,g=g|0,(m[7696+(A*28|0)+20>>2]|0)==(g|0)?(g=1,g|0):(g=(m[7696+(A*28|0)+24>>2]|0)==(g|0),g|0)}function dr(A,g){return A=A|0,g=g|0,m[848+(A*28|0)+(g<<2)>>2]|0}function yi(A,g){return A=A|0,g=g|0,(m[848+(A*28|0)>>2]|0)==(g|0)?(g=0,g|0):(m[848+(A*28|0)+4>>2]|0)==(g|0)?(g=1,g|0):(m[848+(A*28|0)+8>>2]|0)==(g|0)?(g=2,g|0):(m[848+(A*28|0)+12>>2]|0)==(g|0)?(g=3,g|0):(m[848+(A*28|0)+16>>2]|0)==(g|0)?(g=4,g|0):(m[848+(A*28|0)+20>>2]|0)==(g|0)?(g=5,g|0):((m[848+(A*28|0)+24>>2]|0)==(g|0)?6:7)|0}function xi(){return 122}function Ei(A){A=A|0;var g=0,b=0,T=0;g=0;do sn(g|0,0,45)|0,T=fe()|0|134225919,b=A+(g<<3)|0,m[b>>2]=-1,m[b+4>>2]=T,g=g+1|0;while((g|0)!=122);return 0}function Ec(A){A=A|0;var g=0,b=0,T=0;return T=+de[A+16>>3],b=+de[A+24>>3],g=T-b,+(T<b?g+6.283185307179586:g)}function mo(A){return A=A|0,+de[A+16>>3]<+de[A+24>>3]|0}function Mc(A){return A=A|0,+(+de[A>>3]-+de[A+8>>3])}function vu(A,g){A=A|0,g=g|0;var b=0,T=0,E=0;return b=+de[g>>3],!(b>=+de[A+8>>3])||!(b<=+de[A>>3])?(g=0,g|0):(T=+de[A+16>>3],b=+de[A+24>>3],E=+de[g+8>>3],g=E>=b,A=E<=T&1,T<b?g&&(A=1):g||(A=0),g=(A|0)!=0,g|0)}function Bg(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;return+de[A>>3]<+de[g+8>>3]||+de[A+8>>3]>+de[g>>3]?(T=0,T|0):(O=+de[A+16>>3],b=A+24|0,ne=+de[b>>3],F=O<ne,T=g+16|0,Q=+de[T>>3],E=g+24|0,W=+de[E>>3],U=Q<W,g=ne-Q<W-O,A=F?U|g?1:2:0,g=U?F?1:g?2:1:0,O=+fs(O,A),O<+fs(+de[E>>3],g)||(ne=+fs(+de[b>>3],A),ne>+fs(+de[T>>3],g))?(U=0,U|0):(U=1,U|0))}function JN(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0;O=+de[A+16>>3],W=+de[A+24>>3],A=O<W,U=+de[g+16>>3],F=+de[g+24>>3],E=U<F,g=W-U<F-O,m[b>>2]=A?E|g?1:2:0,m[T>>2]=E?A?1:g?2:1:0}function G1(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;return+de[A>>3]<+de[g>>3]||+de[A+8>>3]>+de[g+8>>3]?(T=0,T|0):(T=A+16|0,W=+de[T>>3],O=+de[A+24>>3],F=W<O,b=g+16|0,ne=+de[b>>3],E=g+24|0,Q=+de[E>>3],U=ne<Q,g=O-ne<Q-W,A=F?U|g?1:2:0,g=U?F?1:g?2:1:0,O=+fs(O,A),O<=+fs(+de[E>>3],g)?(ne=+fs(+de[T>>3],A),U=ne>=+fs(+de[b>>3],g),U|0):(U=0,U|0))}function Fg(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0;E=le,le=le+176|0,T=E,m[T>>2]=4,U=+de[g>>3],de[T+8>>3]=U,O=+de[g+16>>3],de[T+16>>3]=O,de[T+24>>3]=U,U=+de[g+24>>3],de[T+32>>3]=U,F=+de[g+8>>3],de[T+40>>3]=F,de[T+48>>3]=U,de[T+56>>3]=F,de[T+64>>3]=O,g=T+72|0,b=g+96|0;do m[g>>2]=0,g=g+4|0;while((g|0)<(b|0));Wg(A|0,T|0,168)|0,le=E}function ew(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0;Fe=le,le=le+288|0,ne=Fe+264|0,xe=Fe+96|0,Q=Fe,U=Q,W=U+96|0;do m[U>>2]=0,U=U+4|0;while((U|0)<(W|0));return g=J1(g,Q)|0,g|0?(Be=g,le=Fe,Be|0):(W=Q,Q=m[W>>2]|0,W=m[W+4>>2]|0,Sd(Q,W,ne)|0,kh(Q,W,xe)|0,F=+_u(ne,xe+8|0),de[ne>>3]=+de[A>>3],W=ne+8|0,de[W>>3]=+de[A+16>>3],de[xe>>3]=+de[A+8>>3],Q=xe+8|0,de[Q>>3]=+de[A+24>>3],E=+_u(ne,xe),At=+de[W>>3]-+de[Q>>3],O=+bn(+At),it=+de[ne>>3]-+de[xe>>3],T=+bn(+it),!(At==0|it==0)&&(At=+lz(+O,+T),At=+lt(+(E*E/+Pw(+(At/+Pw(+O,+T)),3)/(F*(F*2.59807621135)*.8))),de[gn>>3]=At,Le=~~At>>>0,Be=+bn(At)>=1?At>0?~~+He(+tr(At/4294967296),4294967295)>>>0:~~+lt((At-+(~~At>>>0))/4294967296)>>>0:0,(m[gn+4>>2]&2146435072|0)!=2146435072)?(xe=(Le|0)==0&(Be|0)==0,g=b,m[g>>2]=xe?1:Le,m[g+4>>2]=xe?0:Be,g=0):g=1,Be=g,le=Fe,Be|0)}function tw(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;Q=le,le=le+288|0,F=Q+264|0,U=Q+96|0,W=Q,E=W,O=E+96|0;do m[E>>2]=0,E=E+4|0;while((E|0)<(O|0));return b=J1(b,W)|0,b|0?(T=b,le=Q,T|0):(b=W,E=m[b>>2]|0,b=m[b+4>>2]|0,Sd(E,b,F)|0,kh(E,b,U)|0,ne=+_u(F,U+8|0),ne=+lt(+(+_u(A,g)/(ne*2))),de[gn>>3]=ne,b=~~ne>>>0,E=+bn(ne)>=1?ne>0?~~+He(+tr(ne/4294967296),4294967295)>>>0:~~+lt((ne-+(~~ne>>>0))/4294967296)>>>0:0,(m[gn+4>>2]&2146435072|0)==2146435072?(T=1,le=Q,T|0):(W=(b|0)==0&(E|0)==0,m[T>>2]=W?1:b,m[T+4>>2]=W?0:E,T=0,le=Q,T|0))}function ii(A,g){A=A|0,g=+g;var b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;O=A+16|0,F=+de[O>>3],b=A+24|0,E=+de[b>>3],T=F-E,T=F<E?T+6.283185307179586:T,Q=+de[A>>3],U=A+8|0,W=+de[U>>3],ne=Q-W,T=(T*g-T)*.5,g=(ne*g-ne)*.5,Q=Q+g,de[A>>3]=Q>1.5707963267948966?1.5707963267948966:Q,g=W-g,de[U>>3]=g<-1.5707963267948966?-1.5707963267948966:g,g=F+T,g=g>3.141592653589793?g+-6.283185307179586:g,de[O>>3]=g<-3.141592653589793?g+6.283185307179586:g,g=E-T,g=g>3.141592653589793?g+-6.283185307179586:g,de[b>>3]=g<-3.141592653589793?g+6.283185307179586:g}function e4(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0,m[A>>2]=g,m[A+4>>2]=b,m[A+8>>2]=T}function Vl(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0;xe=g+8|0,m[xe>>2]=0,W=+de[A>>3],F=+bn(+W),Q=+de[A+8>>3],U=+bn(+Q)*1.1547005383792515,F=F+U*.5,b=~~F,A=~~U,F=F-+(b|0),U=U-+(A|0);do if(F<.5)if(F<.3333333333333333)if(m[g>>2]=b,U<(F+1)*.5){m[g+4>>2]=A;break}else{A=A+1|0,m[g+4>>2]=A;break}else if(Le=1-F,A=(!(U<Le)&1)+A|0,m[g+4>>2]=A,Le<=U&U<F*2){b=b+1|0,m[g>>2]=b;break}else{m[g>>2]=b;break}else{if(!(F<.6666666666666666))if(b=b+1|0,m[g>>2]=b,U<F*.5){m[g+4>>2]=A;break}else{A=A+1|0,m[g+4>>2]=A;break}if(U<1-F){if(m[g+4>>2]=A,F*2+-1<U){m[g>>2]=b;break}}else A=A+1|0,m[g+4>>2]=A;b=b+1|0,m[g>>2]=b}while(0);do if(W<0)if(A&1){ne=(A+1|0)/2|0,ne=Sa(b|0,((b|0)<0)<<31>>31|0,ne|0,((ne|0)<0)<<31>>31|0)|0,b=~~(+(b|0)-((+(ne>>>0)+4294967296*+(fe()|0))*2+1)),m[g>>2]=b;break}else{ne=(A|0)/2|0,ne=Sa(b|0,((b|0)<0)<<31>>31|0,ne|0,((ne|0)<0)<<31>>31|0)|0,b=~~(+(b|0)-(+(ne>>>0)+4294967296*+(fe()|0))*2),m[g>>2]=b;break}while(0);ne=g+4|0,Q<0&&(b=b-((A<<1|1|0)/2|0)|0,m[g>>2]=b,A=0-A|0,m[ne>>2]=A),T=A-b|0,(b|0)<0?(E=0-b|0,m[ne>>2]=T,m[xe>>2]=E,m[g>>2]=0,A=T,b=0):E=0,(A|0)<0&&(b=b-A|0,m[g>>2]=b,E=E-A|0,m[xe>>2]=E,m[ne>>2]=0,A=0),O=b-E|0,T=A-E|0,(E|0)<0&&(m[g>>2]=O,m[ne>>2]=T,m[xe>>2]=0,A=T,b=O,E=0),T=(A|0)<(b|0)?A:b,T=(E|0)<(T|0)?E:T,!((T|0)<=0)&&(m[g>>2]=b-T,m[ne>>2]=A-T,m[xe>>2]=E-T)}function Fo(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0;g=m[A>>2]|0,F=A+4|0,b=m[F>>2]|0,(g|0)<0&&(b=b-g|0,m[F>>2]=b,O=A+8|0,m[O>>2]=(m[O>>2]|0)-g,m[A>>2]=0,g=0),(b|0)<0?(g=g-b|0,m[A>>2]=g,O=A+8|0,E=(m[O>>2]|0)-b|0,m[O>>2]=E,m[F>>2]=0,b=0):(E=A+8|0,O=E,E=m[E>>2]|0),(E|0)<0&&(g=g-E|0,m[A>>2]=g,b=b-E|0,m[F>>2]=b,m[O>>2]=0,E=0),T=(b|0)<(g|0)?b:g,T=(E|0)<(T|0)?E:T,!((T|0)<=0)&&(m[A>>2]=g-T,m[F>>2]=b-T,m[O>>2]=E-T)}function Ad(A,g){A=A|0,g=g|0;var b=0,T=0;T=m[A+8>>2]|0,b=+((m[A+4>>2]|0)-T|0),de[g>>3]=+((m[A>>2]|0)-T|0)-b*.5,de[g+8>>3]=b*.8660254037844386}function za(A,g,b){A=A|0,g=g|0,b=b|0,m[b>>2]=(m[g>>2]|0)+(m[A>>2]|0),m[b+4>>2]=(m[g+4>>2]|0)+(m[A+4>>2]|0),m[b+8>>2]=(m[g+8>>2]|0)+(m[A+8>>2]|0)}function Rm(A,g,b){A=A|0,g=g|0,b=b|0,m[b>>2]=(m[A>>2]|0)-(m[g>>2]|0),m[b+4>>2]=(m[A+4>>2]|0)-(m[g+4>>2]|0),m[b+8>>2]=(m[A+8>>2]|0)-(m[g+8>>2]|0)}function nw(A,g){A=A|0,g=g|0;var b=0,T=0;b=dt(m[A>>2]|0,g)|0,m[A>>2]=b,b=A+4|0,T=dt(m[b>>2]|0,g)|0,m[b>>2]=T,A=A+8|0,g=dt(m[A>>2]|0,g)|0,m[A>>2]=g}function Nm(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0;F=m[A>>2]|0,U=(F|0)<0,T=(m[A+4>>2]|0)-(U?F:0)|0,O=(T|0)<0,E=(O?0-T|0:0)+((m[A+8>>2]|0)-(U?F:0))|0,b=(E|0)<0,A=b?0:E,g=(O?0:T)-(b?E:0)|0,E=(U?0:F)-(O?T:0)-(b?E:0)|0,b=(g|0)<(E|0)?g:E,b=(A|0)<(b|0)?A:b,T=(b|0)>0,A=A-(T?b:0)|0,g=g-(T?b:0)|0;e:do switch(E-(T?b:0)|0){case 0:switch(g|0){case 0:return U=A|0?(A|0)==1?1:7:0,U|0;case 1:return U=A|0?(A|0)==1?3:7:2,U|0;default:break e}case 1:switch(g|0){case 0:return U=A|0?(A|0)==1?5:7:4,U|0;case 1:{if(!A)A=6;else break e;return A|0}default:break e}}while(0);return U=7,U|0}function t4(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0;if(W=A+8|0,F=m[W>>2]|0,U=(m[A>>2]|0)-F|0,Q=A+4|0,F=(m[Q>>2]|0)-F|0,U>>>0>715827881|F>>>0>715827881){if(T=(U|0)>0,E=2147483647-U|0,O=-2147483648-U|0,(T?(E|0)<(U|0):(O|0)>(U|0))||(b=U<<1,T?(2147483647-b|0)<(U|0):(-2147483648-b|0)>(U|0))||((F|0)>0?(2147483647-F|0)<(F|0):(-2147483648-F|0)>(F|0))||(g=U*3|0,b=F<<1,(T?(E|0)<(b|0):(O|0)>(b|0))||((U|0)>-1?(g|-2147483648|0)>=(F|0):(g^-2147483648|0)<(F|0))))return Q=1,Q|0}else b=F<<1,g=U*3|0;return T=Gh(+(g-F|0)*.14285714285714285)|0,m[A>>2]=T,E=Gh(+(b+U|0)*.14285714285714285)|0,m[Q>>2]=E,m[W>>2]=0,b=(E|0)<(T|0),g=b?T:E,b=b?E:T,(b|0)<0&&(((b|0)==-2147483648||((g|0)>0?(2147483647-g|0)<(b|0):(-2147483648-g|0)>(b|0)))&&Mt(27795,26892,354,26903),((g|0)>-1?(g|-2147483648|0)>=(b|0):(g^-2147483648|0)<(b|0))&&Mt(27795,26892,354,26903)),g=E-T|0,(T|0)<0?(b=0-T|0,m[Q>>2]=g,m[W>>2]=b,m[A>>2]=0,T=0):(g=E,b=0),(g|0)<0&&(T=T-g|0,m[A>>2]=T,b=b-g|0,m[W>>2]=b,m[Q>>2]=0,g=0),O=T-b|0,E=g-b|0,(b|0)<0?(m[A>>2]=O,m[Q>>2]=E,m[W>>2]=0,g=E,E=O,b=0):E=T,T=(g|0)<(E|0)?g:E,T=(b|0)<(T|0)?b:T,(T|0)<=0?(Q=0,Q|0):(m[A>>2]=E-T,m[Q>>2]=g-T,m[W>>2]=b-T,Q=0,Q|0)}function n4(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0,W=0;if(F=A+8|0,E=m[F>>2]|0,O=(m[A>>2]|0)-E|0,U=A+4|0,E=(m[U>>2]|0)-E|0,O>>>0>715827881|E>>>0>715827881){if(b=(O|0)>0,(b?(2147483647-O|0)<(O|0):(-2147483648-O|0)>(O|0))||(g=O<<1,T=(E|0)>0,T?(2147483647-E|0)<(E|0):(-2147483648-E|0)>(E|0)))return U=1,U|0;if(W=E<<1,(T?(2147483647-W|0)<(E|0):(-2147483648-W|0)>(E|0))||(b?(2147483647-g|0)<(E|0):(-2147483648-g|0)>(E|0))||(b=E*3|0,(E|0)>-1?(b|-2147483648|0)>=(O|0):(b^-2147483648|0)<(O|0)))return W=1,W|0}else b=E*3|0,g=O<<1;return T=Gh(+(g+E|0)*.14285714285714285)|0,m[A>>2]=T,E=Gh(+(b-O|0)*.14285714285714285)|0,m[U>>2]=E,m[F>>2]=0,b=(E|0)<(T|0),g=b?T:E,b=b?E:T,(b|0)<0&&(((b|0)==-2147483648||((g|0)>0?(2147483647-g|0)<(b|0):(-2147483648-g|0)>(b|0)))&&Mt(27795,26892,402,26917),((g|0)>-1?(g|-2147483648|0)>=(b|0):(g^-2147483648|0)<(b|0))&&Mt(27795,26892,402,26917)),g=E-T|0,(T|0)<0?(b=0-T|0,m[U>>2]=g,m[F>>2]=b,m[A>>2]=0,T=0):(g=E,b=0),(g|0)<0&&(T=T-g|0,m[A>>2]=T,b=b-g|0,m[F>>2]=b,m[U>>2]=0,g=0),O=T-b|0,E=g-b|0,(b|0)<0?(m[A>>2]=O,m[U>>2]=E,m[F>>2]=0,g=E,E=O,b=0):E=T,T=(g|0)<(E|0)?g:E,T=(b|0)<(T|0)?b:T,(T|0)<=0?(W=0,W|0):(m[A>>2]=E-T,m[U>>2]=g-T,m[F>>2]=b-T,W=0,W|0)}function H1(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0;F=A+8|0,b=m[F>>2]|0,g=(m[A>>2]|0)-b|0,U=A+4|0,b=(m[U>>2]|0)-b|0,T=Gh(+((g*3|0)-b|0)*.14285714285714285)|0,m[A>>2]=T,g=Gh(+((b<<1)+g|0)*.14285714285714285)|0,m[U>>2]=g,m[F>>2]=0,b=g-T|0,(T|0)<0?(O=0-T|0,m[U>>2]=b,m[F>>2]=O,m[A>>2]=0,g=b,T=0,b=O):b=0,(g|0)<0&&(T=T-g|0,m[A>>2]=T,b=b-g|0,m[F>>2]=b,m[U>>2]=0,g=0),O=T-b|0,E=g-b|0,(b|0)<0?(m[A>>2]=O,m[U>>2]=E,m[F>>2]=0,g=E,E=O,b=0):E=T,T=(g|0)<(E|0)?g:E,T=(b|0)<(T|0)?b:T,!((T|0)<=0)&&(m[A>>2]=E-T,m[U>>2]=g-T,m[F>>2]=b-T)}function rw(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0;F=A+8|0,b=m[F>>2]|0,g=(m[A>>2]|0)-b|0,U=A+4|0,b=(m[U>>2]|0)-b|0,T=Gh(+((g<<1)+b|0)*.14285714285714285)|0,m[A>>2]=T,g=Gh(+((b*3|0)-g|0)*.14285714285714285)|0,m[U>>2]=g,m[F>>2]=0,b=g-T|0,(T|0)<0?(O=0-T|0,m[U>>2]=b,m[F>>2]=O,m[A>>2]=0,g=b,T=0,b=O):b=0,(g|0)<0&&(T=T-g|0,m[A>>2]=T,b=b-g|0,m[F>>2]=b,m[U>>2]=0,g=0),O=T-b|0,E=g-b|0,(b|0)<0?(m[A>>2]=O,m[U>>2]=E,m[F>>2]=0,g=E,E=O,b=0):E=T,T=(g|0)<(E|0)?g:E,T=(b|0)<(T|0)?b:T,!((T|0)<=0)&&(m[A>>2]=E-T,m[U>>2]=g-T,m[F>>2]=b-T)}function Ls(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0;g=m[A>>2]|0,F=A+4|0,b=m[F>>2]|0,U=A+8|0,T=m[U>>2]|0,E=b+(g*3|0)|0,m[A>>2]=E,b=T+(b*3|0)|0,m[F>>2]=b,g=(T*3|0)+g|0,m[U>>2]=g,T=b-E|0,(E|0)<0?(g=g-E|0,m[F>>2]=T,m[U>>2]=g,m[A>>2]=0,b=T,T=0):T=E,(b|0)<0&&(T=T-b|0,m[A>>2]=T,g=g-b|0,m[U>>2]=g,m[F>>2]=0,b=0),O=T-g|0,E=b-g|0,(g|0)<0?(m[A>>2]=O,m[F>>2]=E,m[U>>2]=0,T=O,g=0):E=b,b=(E|0)<(T|0)?E:T,b=(g|0)<(b|0)?g:b,!((b|0)<=0)&&(m[A>>2]=T-b,m[F>>2]=E-b,m[U>>2]=g-b)}function wf(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0;E=m[A>>2]|0,F=A+4|0,g=m[F>>2]|0,U=A+8|0,b=m[U>>2]|0,T=(g*3|0)+E|0,E=b+(E*3|0)|0,m[A>>2]=E,m[F>>2]=T,g=(b*3|0)+g|0,m[U>>2]=g,b=T-E|0,(E|0)<0?(g=g-E|0,m[F>>2]=b,m[U>>2]=g,m[A>>2]=0,E=0):b=T,(b|0)<0&&(E=E-b|0,m[A>>2]=E,g=g-b|0,m[U>>2]=g,m[F>>2]=0,b=0),O=E-g|0,T=b-g|0,(g|0)<0?(m[A>>2]=O,m[F>>2]=T,m[U>>2]=0,E=O,g=0):T=b,b=(T|0)<(E|0)?T:E,b=(g|0)<(b|0)?g:b,!((b|0)<=0)&&(m[A>>2]=E-b,m[F>>2]=T-b,m[U>>2]=g-b)}function j1(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0;(g+-1|0)>>>0>=6||(E=(m[15440+(g*12|0)>>2]|0)+(m[A>>2]|0)|0,m[A>>2]=E,U=A+4|0,T=(m[15440+(g*12|0)+4>>2]|0)+(m[U>>2]|0)|0,m[U>>2]=T,F=A+8|0,g=(m[15440+(g*12|0)+8>>2]|0)+(m[F>>2]|0)|0,m[F>>2]=g,b=T-E|0,(E|0)<0?(g=g-E|0,m[U>>2]=b,m[F>>2]=g,m[A>>2]=0,T=0):(b=T,T=E),(b|0)<0&&(T=T-b|0,m[A>>2]=T,g=g-b|0,m[F>>2]=g,m[U>>2]=0,b=0),O=T-g|0,E=b-g|0,(g|0)<0?(m[A>>2]=O,m[U>>2]=E,m[F>>2]=0,T=O,g=0):E=b,b=(E|0)<(T|0)?E:T,b=(g|0)<(b|0)?g:b,!((b|0)<=0)&&(m[A>>2]=T-b,m[U>>2]=E-b,m[F>>2]=g-b))}function yu(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0;E=m[A>>2]|0,F=A+4|0,g=m[F>>2]|0,U=A+8|0,b=m[U>>2]|0,T=g+E|0,E=b+E|0,m[A>>2]=E,m[F>>2]=T,g=b+g|0,m[U>>2]=g,b=T-E|0,(E|0)<0?(g=g-E|0,m[F>>2]=b,m[U>>2]=g,m[A>>2]=0,T=0):(b=T,T=E),(b|0)<0&&(T=T-b|0,m[A>>2]=T,g=g-b|0,m[U>>2]=g,m[F>>2]=0,b=0),O=T-g|0,E=b-g|0,(g|0)<0?(m[A>>2]=O,m[F>>2]=E,m[U>>2]=0,T=O,g=0):E=b,b=(E|0)<(T|0)?E:T,b=(g|0)<(b|0)?g:b,!((b|0)<=0)&&(m[A>>2]=T-b,m[F>>2]=E-b,m[U>>2]=g-b)}function Im(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0;g=m[A>>2]|0,F=A+4|0,T=m[F>>2]|0,U=A+8|0,b=m[U>>2]|0,E=T+g|0,m[A>>2]=E,T=b+T|0,m[F>>2]=T,g=b+g|0,m[U>>2]=g,b=T-E|0,(E|0)<0?(g=g-E|0,m[F>>2]=b,m[U>>2]=g,m[A>>2]=0,T=0):(b=T,T=E),(b|0)<0&&(T=T-b|0,m[A>>2]=T,g=g-b|0,m[U>>2]=g,m[F>>2]=0,b=0),O=T-g|0,E=b-g|0,(g|0)<0?(m[A>>2]=O,m[F>>2]=E,m[U>>2]=0,T=O,g=0):E=b,b=(E|0)<(T|0)?E:T,b=(g|0)<(b|0)?g:b,!((b|0)<=0)&&(m[A>>2]=T-b,m[F>>2]=E-b,m[U>>2]=g-b)}function vd(A){switch(A=A|0,A|0){case 1:{A=5;break}case 5:{A=4;break}case 4:{A=6;break}case 6:{A=2;break}case 2:{A=3;break}case 3:{A=1;break}}return A|0}function Pc(A){switch(A=A|0,A|0){case 1:{A=3;break}case 3:{A=2;break}case 2:{A=6;break}case 6:{A=4;break}case 4:{A=5;break}case 5:{A=1;break}}return A|0}function iw(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0;g=m[A>>2]|0,F=A+4|0,b=m[F>>2]|0,U=A+8|0,T=m[U>>2]|0,E=b+(g<<1)|0,m[A>>2]=E,b=T+(b<<1)|0,m[F>>2]=b,g=(T<<1)+g|0,m[U>>2]=g,T=b-E|0,(E|0)<0?(g=g-E|0,m[F>>2]=T,m[U>>2]=g,m[A>>2]=0,b=T,T=0):T=E,(b|0)<0&&(T=T-b|0,m[A>>2]=T,g=g-b|0,m[U>>2]=g,m[F>>2]=0,b=0),O=T-g|0,E=b-g|0,(g|0)<0?(m[A>>2]=O,m[F>>2]=E,m[U>>2]=0,T=O,g=0):E=b,b=(E|0)<(T|0)?E:T,b=(g|0)<(b|0)?g:b,!((b|0)<=0)&&(m[A>>2]=T-b,m[F>>2]=E-b,m[U>>2]=g-b)}function q1(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0;E=m[A>>2]|0,F=A+4|0,g=m[F>>2]|0,U=A+8|0,b=m[U>>2]|0,T=(g<<1)+E|0,E=b+(E<<1)|0,m[A>>2]=E,m[F>>2]=T,g=(b<<1)+g|0,m[U>>2]=g,b=T-E|0,(E|0)<0?(g=g-E|0,m[F>>2]=b,m[U>>2]=g,m[A>>2]=0,E=0):b=T,(b|0)<0&&(E=E-b|0,m[A>>2]=E,g=g-b|0,m[U>>2]=g,m[F>>2]=0,b=0),O=E-g|0,T=b-g|0,(g|0)<0?(m[A>>2]=O,m[F>>2]=T,m[U>>2]=0,E=O,g=0):T=b,b=(T|0)<(E|0)?T:E,b=(g|0)<(b|0)?g:b,!((b|0)<=0)&&(m[A>>2]=E-b,m[F>>2]=T-b,m[U>>2]=g-b)}function $g(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0;return F=(m[A>>2]|0)-(m[g>>2]|0)|0,U=(F|0)<0,T=(m[A+4>>2]|0)-(m[g+4>>2]|0)-(U?F:0)|0,O=(T|0)<0,E=(U?0-F|0:0)+(m[A+8>>2]|0)-(m[g+8>>2]|0)+(O?0-T|0:0)|0,A=(E|0)<0,g=A?0:E,b=(O?0:T)-(A?E:0)|0,E=(U?0:F)-(O?T:0)-(A?E:0)|0,A=(b|0)<(E|0)?b:E,A=(g|0)<(A|0)?g:A,T=(A|0)>0,g=g-(T?A:0)|0,b=b-(T?A:0)|0,A=E-(T?A:0)|0,A=(A|0)>-1?A:0-A|0,b=(b|0)>-1?b:0-b|0,g=(g|0)>-1?g:0-g|0,g=(b|0)>(g|0)?b:g,((A|0)>(g|0)?A:g)|0}function r4(A,g){A=A|0,g=g|0;var b=0;b=m[A+8>>2]|0,m[g>>2]=(m[A>>2]|0)-b,m[g+4>>2]=(m[A+4>>2]|0)-b}function i4(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0;return T=m[A>>2]|0,m[g>>2]=T,E=m[A+4>>2]|0,F=g+4|0,m[F>>2]=E,U=g+8|0,m[U>>2]=0,b=(E|0)<(T|0),A=b?T:E,b=b?E:T,(b|0)<0&&((b|0)==-2147483648||((A|0)>0?(2147483647-A|0)<(b|0):(-2147483648-A|0)>(b|0))||((A|0)>-1?(A|-2147483648|0)>=(b|0):(A^-2147483648|0)<(b|0)))?(g=1,g|0):(A=E-T|0,(T|0)<0?(b=0-T|0,m[F>>2]=A,m[U>>2]=b,m[g>>2]=0,T=0):(A=E,b=0),(A|0)<0&&(T=T-A|0,m[g>>2]=T,b=b-A|0,m[U>>2]=b,m[F>>2]=0,A=0),O=T-b|0,E=A-b|0,(b|0)<0?(m[g>>2]=O,m[F>>2]=E,m[U>>2]=0,A=E,E=O,b=0):E=T,T=(A|0)<(E|0)?A:E,T=(b|0)<(T|0)?b:T,(T|0)<=0?(g=0,g|0):(m[g>>2]=E-T,m[F>>2]=A-T,m[U>>2]=b-T,g=0,g|0))}function kg(A){A=A|0;var g=0,b=0,T=0,E=0;g=A+8|0,E=m[g>>2]|0,b=E-(m[A>>2]|0)|0,m[A>>2]=b,T=A+4|0,A=(m[T>>2]|0)-E|0,m[T>>2]=A,m[g>>2]=0-(A+b)}function o4(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0;b=m[A>>2]|0,g=0-b|0,m[A>>2]=g,F=A+8|0,m[F>>2]=0,U=A+4|0,T=m[U>>2]|0,E=T+b|0,(b|0)>0?(m[U>>2]=E,m[F>>2]=b,m[A>>2]=0,g=0,T=E):b=0,(T|0)<0?(O=g-T|0,m[A>>2]=O,b=b-T|0,m[F>>2]=b,m[U>>2]=0,E=O-b|0,g=0-b|0,(b|0)<0?(m[A>>2]=E,m[U>>2]=g,m[F>>2]=0,T=g,b=0):(T=0,E=O)):E=g,g=(T|0)<(E|0)?T:E,g=(b|0)<(g|0)?b:g,!((g|0)<=0)&&(m[A>>2]=E-g,m[U>>2]=T-g,m[F>>2]=b-g)}function ow(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0;if(xe=le,le=le+64|0,ne=xe,U=xe+56|0,!(!0&(g&2013265920|0)==134217728&(!0&(T&2013265920|0)==134217728)))return E=5,le=xe,E|0;if((A|0)==(b|0)&(g|0)==(T|0))return m[E>>2]=0,E=0,le=xe,E|0;if(F=Jt(A|0,g|0,52)|0,fe()|0,F=F&15,Q=Jt(b|0,T|0,52)|0,fe()|0,(F|0)!=(Q&15|0))return E=12,le=xe,E|0;if(O=F+-1|0,F>>>0>1){K1(A,g,O,ne)|0,K1(b,T,O,U)|0,Q=ne,W=m[Q>>2]|0,Q=m[Q+4>>2]|0;e:do if((W|0)==(m[U>>2]|0)&&(Q|0)==(m[U+4>>2]|0)){F=(F^15)*3|0,O=Jt(A|0,g|0,F|0)|0,fe()|0,O=O&7,F=Jt(b|0,T|0,F|0)|0,fe()|0,F=F&7;do if((O|0)==0|(F|0)==0)m[E>>2]=1,O=0;else if((O|0)==7)O=5;else{if((O|0)==1|(F|0)==1&&fi(W,Q)|0){O=5;break}if((m[15536+(O<<2)>>2]|0)!=(F|0)&&(m[15568+(O<<2)>>2]|0)!=(F|0))break e;m[E>>2]=1,O=0}while(0);return E=O,le=xe,E|0}while(0)}O=ne,F=O+56|0;do m[O>>2]=0,O=O+4|0;while((O|0)<(F|0));return Xn(A,g,1,ne)|0,g=ne,!((m[g>>2]|0)==(b|0)&&(m[g+4>>2]|0)==(T|0))&&(g=ne+8|0,!((m[g>>2]|0)==(b|0)&&(m[g+4>>2]|0)==(T|0)))&&(g=ne+16|0,!((m[g>>2]|0)==(b|0)&&(m[g+4>>2]|0)==(T|0)))&&(g=ne+24|0,!((m[g>>2]|0)==(b|0)&&(m[g+4>>2]|0)==(T|0)))&&(g=ne+32|0,!((m[g>>2]|0)==(b|0)&&(m[g+4>>2]|0)==(T|0)))&&(g=ne+40|0,!((m[g>>2]|0)==(b|0)&&(m[g+4>>2]|0)==(T|0)))?(O=ne+48|0,O=((m[O>>2]|0)==(b|0)?(m[O+4>>2]|0)==(T|0):0)&1):O=1,m[E>>2]=O,E=0,le=xe,E|0}function aw(A,g,b,T,E){return A=A|0,g=g|0,b=b|0,T=T|0,E=E|0,b=rr(A,g,b,T)|0,(b|0)==7?(E=11,E|0):(T=sn(b|0,0,56)|0,g=g&-2130706433|(fe()|0)|268435456,m[E>>2]=A|T,m[E+4>>2]=g,E=0,E|0)}function Ug(A,g,b){return A=A|0,g=g|0,b=b|0,!0&(g&2013265920|0)==268435456?(m[b>>2]=A,m[b+4>>2]=g&-2130706433|134217728,b=0,b|0):(b=6,b|0)}function Cf(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0;return E=le,le=le+16|0,T=E,m[T>>2]=0,!0&(g&2013265920|0)==268435456?(O=Jt(A|0,g|0,56)|0,fe()|0,T=ur(A,g&-2130706433|134217728,O&7,T,b)|0,le=E,T|0):(T=6,le=E,T|0)}function sw(A,g){A=A|0,g=g|0;var b=0;switch(b=Jt(A|0,g|0,56)|0,fe()|0,b&7){case 0:case 7:return b=0,b|0}return b=g&-2130706433|134217728,!(!0&(g&2013265920|0)==268435456)||!0&(g&117440512|0)==16777216&(fi(A,b)|0)!=0?(b=0,b|0):(b=Ef(A,b)|0,b|0)}function Om(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0;return E=le,le=le+16|0,T=E,!0&(g&2013265920|0)==268435456?(O=g&-2130706433|134217728,F=b,m[F>>2]=A,m[F+4>>2]=O,m[T>>2]=0,g=Jt(A|0,g|0,56)|0,fe()|0,T=ur(A,O,g&7,T,b+8|0)|0,le=E,T|0):(T=6,le=E,T|0)}function fl(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0;return E=(fi(A,g)|0)==0,g=g&-2130706433,T=b,m[T>>2]=E?A:0,m[T+4>>2]=E?g|285212672:0,T=b+8|0,m[T>>2]=A,m[T+4>>2]=g|301989888,T=b+16|0,m[T>>2]=A,m[T+4>>2]=g|318767104,T=b+24|0,m[T>>2]=A,m[T+4>>2]=g|335544320,T=b+32|0,m[T>>2]=A,m[T+4>>2]=g|352321536,b=b+40|0,m[b>>2]=A,m[b+4>>2]=g|369098752,0}function Dm(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0;return F=le,le=le+16|0,E=F,O=g&-2130706433|134217728,!0&(g&2013265920|0)==268435456?(T=Jt(A|0,g|0,56)|0,fe()|0,T=S4(A,O,T&7)|0,(T|0)==-1?(m[b>>2]=0,O=6,le=F,O|0):(_d(A,O,E)|0&&Mt(27795,26932,282,26947),g=Jt(A|0,g|0,52)|0,fe()|0,g=g&15,fi(A,O)|0?X1(E,g,T,2,b):yd(E,g,T,2,b),O=0,le=F,O|0)):(O=6,le=F,O|0)}function lw(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0;T=le,le=le+16|0,E=T,a4(A,g,b,E),Vl(E,b+4|0),le=T}function a4(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0;if(U=le,le=le+16|0,W=U,W1(A,b,W),O=+Bn(+(1-+de[W>>3]*.5)),O<1e-16){m[T>>2]=0,m[T+4>>2]=0,m[T+8>>2]=0,m[T+12>>2]=0,le=U;return}if(W=m[b>>2]|0,E=+de[15920+(W*24|0)>>3],E=+wd(E-+wd(+zh(15600+(W<<4)|0,A))),Va(g)|0?F=+wd(E+-.3334731722518321):F=E,E=+cn(+O)*2.618033988749896,(g|0)>0){A=0;do E=E*2.6457513110645907,A=A+1|0;while((A|0)!=(g|0))}O=+Ln(+F)*E,de[T>>3]=O,F=+Dt(+F)*E,de[T+8>>3]=F,le=U}function W1(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0;if(O=le,le=le+32|0,E=O,Mw(A,E),m[g>>2]=0,de[b>>3]=5,T=+Ao(16400,E),T<+de[b>>3]&&(m[g>>2]=0,de[b>>3]=T),T=+Ao(16424,E),T<+de[b>>3]&&(m[g>>2]=1,de[b>>3]=T),T=+Ao(16448,E),T<+de[b>>3]&&(m[g>>2]=2,de[b>>3]=T),T=+Ao(16472,E),T<+de[b>>3]&&(m[g>>2]=3,de[b>>3]=T),T=+Ao(16496,E),T<+de[b>>3]&&(m[g>>2]=4,de[b>>3]=T),T=+Ao(16520,E),T<+de[b>>3]&&(m[g>>2]=5,de[b>>3]=T),T=+Ao(16544,E),T<+de[b>>3]&&(m[g>>2]=6,de[b>>3]=T),T=+Ao(16568,E),T<+de[b>>3]&&(m[g>>2]=7,de[b>>3]=T),T=+Ao(16592,E),T<+de[b>>3]&&(m[g>>2]=8,de[b>>3]=T),T=+Ao(16616,E),T<+de[b>>3]&&(m[g>>2]=9,de[b>>3]=T),T=+Ao(16640,E),T<+de[b>>3]&&(m[g>>2]=10,de[b>>3]=T),T=+Ao(16664,E),T<+de[b>>3]&&(m[g>>2]=11,de[b>>3]=T),T=+Ao(16688,E),T<+de[b>>3]&&(m[g>>2]=12,de[b>>3]=T),T=+Ao(16712,E),T<+de[b>>3]&&(m[g>>2]=13,de[b>>3]=T),T=+Ao(16736,E),T<+de[b>>3]&&(m[g>>2]=14,de[b>>3]=T),T=+Ao(16760,E),T<+de[b>>3]&&(m[g>>2]=15,de[b>>3]=T),T=+Ao(16784,E),T<+de[b>>3]&&(m[g>>2]=16,de[b>>3]=T),T=+Ao(16808,E),T<+de[b>>3]&&(m[g>>2]=17,de[b>>3]=T),T=+Ao(16832,E),T<+de[b>>3]&&(m[g>>2]=18,de[b>>3]=T),T=+Ao(16856,E),!(T<+de[b>>3])){le=O;return}m[g>>2]=19,de[b>>3]=T,le=O}function Tf(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0;if(O=+_4(A),O<1e-16){g=15600+(g<<4)|0,m[E>>2]=m[g>>2],m[E+4>>2]=m[g+4>>2],m[E+8>>2]=m[g+8>>2],m[E+12>>2]=m[g+12>>2];return}if(F=+Ve(+ +de[A+8>>3],+ +de[A>>3]),(b|0)>0){A=0;do O=O*.37796447300922725,A=A+1|0;while((A|0)!=(b|0))}U=O*.3333333333333333,T?(b=(Va(b)|0)==0,O=+Ae(+((b?U:U*.37796447300922725)*.381966011250105))):(O=+Ae(+(O*.381966011250105)),Va(b)|0&&(F=+wd(F+.3334731722518321))),gw(15600+(g<<4)|0,+wd(+de[15920+(g*24|0)>>3]-F),O,E)}function s4(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0;T=le,le=le+16|0,E=T,Ad(A+4|0,E),Tf(E,m[A>>2]|0,g,0,b),le=T}function X1(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0,st=0,un=0,Zn=0,Un=0,Nr=0,Ir=0,Hr=0,Sr=0,Jn=0,ln=0,Ur=0,Li=0,Br=0;if(Ur=le,le=le+272|0,O=Ur+256|0,bt=Ur+240|0,Sr=Ur,Jn=Ur+224|0,ln=Ur+208|0,vt=Ur+176|0,st=Ur+160|0,un=Ur+192|0,Zn=Ur+144|0,Un=Ur+128|0,Nr=Ur+112|0,Ir=Ur+96|0,Hr=Ur+80|0,m[O>>2]=g,m[bt>>2]=m[A>>2],m[bt+4>>2]=m[A+4>>2],m[bt+8>>2]=m[A+8>>2],m[bt+12>>2]=m[A+12>>2],Y1(bt,O,Sr),m[E>>2]=0,bt=T+b+((T|0)==5&1)|0,(bt|0)<=(b|0)){le=Ur;return}W=m[O>>2]|0,Q=Jn+4|0,ne=vt+4|0,xe=b+5|0,Le=16880+(W<<2)|0,Be=16960+(W<<2)|0,Fe=Un+8|0,it=Nr+8|0,At=Ir+8|0,It=ln+4|0,U=b;e:for(;;){F=Sr+(((U|0)%5|0)<<4)|0,m[ln>>2]=m[F>>2],m[ln+4>>2]=m[F+4>>2],m[ln+8>>2]=m[F+8>>2],m[ln+12>>2]=m[F+12>>2];do;while((Ih(ln,W,0,1)|0)==2);if((U|0)>(b|0)&(Va(g)|0)!=0){if(m[vt>>2]=m[ln>>2],m[vt+4>>2]=m[ln+4>>2],m[vt+8>>2]=m[ln+8>>2],m[vt+12>>2]=m[ln+12>>2],Ad(Q,st),T=m[vt>>2]|0,O=m[17040+(T*80|0)+(m[Jn>>2]<<2)>>2]|0,m[vt>>2]=m[18640+(T*80|0)+(O*20|0)>>2],F=m[18640+(T*80|0)+(O*20|0)+16>>2]|0,(F|0)>0){A=0;do yu(ne),A=A+1|0;while((A|0)<(F|0))}switch(F=18640+(T*80|0)+(O*20|0)+4|0,m[un>>2]=m[F>>2],m[un+4>>2]=m[F+4>>2],m[un+8>>2]=m[F+8>>2],nw(un,(m[Le>>2]|0)*3|0),za(ne,un,ne),Fo(ne),Ad(ne,Zn),Li=+(m[Be>>2]|0),de[Un>>3]=Li*3,de[Fe>>3]=0,Br=Li*-1.5,de[Nr>>3]=Br,de[it>>3]=Li*2.598076211353316,de[Ir>>3]=Br,de[At>>3]=Li*-2.598076211353316,m[17040+((m[vt>>2]|0)*80|0)+(m[ln>>2]<<2)>>2]|0){case 1:{A=Nr,T=Un;break}case 3:{A=Ir,T=Nr;break}case 2:{A=Un,T=Ir;break}default:{A=12;break e}}Tw(st,Zn,T,A,Hr),Tf(Hr,m[vt>>2]|0,W,1,E+8+(m[E>>2]<<4)|0),m[E>>2]=(m[E>>2]|0)+1}if((U|0)<(xe|0)&&(Ad(It,vt),Tf(vt,m[ln>>2]|0,W,1,E+8+(m[E>>2]<<4)|0),m[E>>2]=(m[E>>2]|0)+1),m[Jn>>2]=m[ln>>2],m[Jn+4>>2]=m[ln+4>>2],m[Jn+8>>2]=m[ln+8>>2],m[Jn+12>>2]=m[ln+12>>2],U=U+1|0,(U|0)>=(bt|0)){A=3;break}}if((A|0)==3){le=Ur;return}else(A|0)==12&&Mt(26970,27017,572,27027)}function Y1(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0;W=le,le=le+128|0,T=W+64|0,E=W,O=T,F=20240,U=O+60|0;do m[O>>2]=m[F>>2],O=O+4|0,F=F+4|0;while((O|0)<(U|0));O=E,F=20304,U=O+60|0;do m[O>>2]=m[F>>2],O=O+4|0,F=F+4|0;while((O|0)<(U|0));U=(Va(m[g>>2]|0)|0)==0,T=U?T:E,E=A+4|0,iw(E),q1(E),Va(m[g>>2]|0)|0&&(wf(E),m[g>>2]=(m[g>>2]|0)+1),m[b>>2]=m[A>>2],g=b+4|0,za(E,T,g),Fo(g),m[b+16>>2]=m[A>>2],g=b+20|0,za(E,T+12|0,g),Fo(g),m[b+32>>2]=m[A>>2],g=b+36|0,za(E,T+24|0,g),Fo(g),m[b+48>>2]=m[A>>2],g=b+52|0,za(E,T+36|0,g),Fo(g),m[b+64>>2]=m[A>>2],b=b+68|0,za(E,T+48|0,b),Fo(b),le=W}function Ih(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0;if(Fe=le,le=le+32|0,Le=Fe+12|0,U=Fe,Be=A+4|0,xe=m[16960+(g<<2)>>2]|0,ne=(T|0)!=0,xe=ne?xe*3|0:xe,E=m[Be>>2]|0,Q=A+8|0,F=m[Q>>2]|0,ne){if(O=A+12|0,T=m[O>>2]|0,E=F+E+T|0,(E|0)==(xe|0))return Be=1,le=Fe,Be|0;W=O}else W=A+12|0,T=m[W>>2]|0,E=F+E+T|0;if((E|0)<=(xe|0))return Be=0,le=Fe,Be|0;do if((T|0)>0){if(T=m[A>>2]|0,(F|0)>0){O=18640+(T*80|0)+60|0,T=A;break}T=18640+(T*80|0)+40|0,b?(e4(Le,xe,0,0),Rm(Be,Le,U),Im(U),za(U,Le,Be),O=T,T=A):(O=T,T=A)}else O=18640+((m[A>>2]|0)*80|0)+20|0,T=A;while(0);if(m[T>>2]=m[O>>2],E=O+16|0,(m[E>>2]|0)>0){T=0;do yu(Be),T=T+1|0;while((T|0)<(m[E>>2]|0))}return A=O+4|0,m[Le>>2]=m[A>>2],m[Le+4>>2]=m[A+4>>2],m[Le+8>>2]=m[A+8>>2],g=m[16880+(g<<2)>>2]|0,nw(Le,ne?g*3|0:g),za(Be,Le,Be),Fo(Be),ne?T=((m[Q>>2]|0)+(m[Be>>2]|0)+(m[W>>2]|0)|0)==(xe|0)?1:2:T=2,Be=T,le=Fe,Be|0}function Gl(A,g){A=A|0,g=g|0;var b=0;do b=Ih(A,g,0,1)|0;while((b|0)==2);return b|0}function yd(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0,st=0,un=0,Zn=0,Un=0,Nr=0,Ir=0,Hr=0,Sr=0;if(Ir=le,le=le+240|0,O=Ir+224|0,un=Ir+208|0,Zn=Ir,Un=Ir+192|0,Nr=Ir+176|0,At=Ir+160|0,It=Ir+144|0,bt=Ir+128|0,vt=Ir+112|0,st=Ir+96|0,m[O>>2]=g,m[un>>2]=m[A>>2],m[un+4>>2]=m[A+4>>2],m[un+8>>2]=m[A+8>>2],m[un+12>>2]=m[A+12>>2],cw(un,O,Zn),m[E>>2]=0,it=T+b+((T|0)==6&1)|0,(it|0)<=(b|0)){le=Ir;return}W=m[O>>2]|0,Q=b+6|0,ne=16960+(W<<2)|0,xe=It+8|0,Le=bt+8|0,Be=vt+8|0,Fe=Un+4|0,F=0,U=b,T=-1;e:for(;;){if(O=(U|0)%6|0,A=Zn+(O<<4)|0,m[Un>>2]=m[A>>2],m[Un+4>>2]=m[A+4>>2],m[Un+8>>2]=m[A+8>>2],m[Un+12>>2]=m[A+12>>2],A=F,F=Ih(Un,W,0,1)|0,(U|0)>(b|0)&(Va(g)|0)!=0&&(A|0)!=1&&(m[Un>>2]|0)!=(T|0)){switch(Ad(Zn+(((O+5|0)%6|0)<<4)+4|0,Nr),Ad(Zn+(O<<4)+4|0,At),Hr=+(m[ne>>2]|0),de[It>>3]=Hr*3,de[xe>>3]=0,Sr=Hr*-1.5,de[bt>>3]=Sr,de[Le>>3]=Hr*2.598076211353316,de[vt>>3]=Sr,de[Be>>3]=Hr*-2.598076211353316,O=m[un>>2]|0,m[17040+(O*80|0)+(((T|0)==(O|0)?m[Un>>2]|0:T)<<2)>>2]|0){case 1:{A=bt,T=It;break}case 3:{A=vt,T=bt;break}case 2:{A=It,T=vt;break}default:{A=8;break e}}Tw(Nr,At,T,A,st),!(Ew(Nr,st)|0)&&!(Ew(At,st)|0)&&(Tf(st,m[un>>2]|0,W,1,E+8+(m[E>>2]<<4)|0),m[E>>2]=(m[E>>2]|0)+1)}if((U|0)<(Q|0)&&(Ad(Fe,Nr),Tf(Nr,m[Un>>2]|0,W,1,E+8+(m[E>>2]<<4)|0),m[E>>2]=(m[E>>2]|0)+1),U=U+1|0,(U|0)>=(it|0)){A=3;break}else T=m[Un>>2]|0}if((A|0)==3){le=Ir;return}else(A|0)==8&&Mt(27054,27017,737,27099)}function cw(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0;W=le,le=le+160|0,T=W+80|0,E=W,O=T,F=20368,U=O+72|0;do m[O>>2]=m[F>>2],O=O+4|0,F=F+4|0;while((O|0)<(U|0));O=E,F=20448,U=O+72|0;do m[O>>2]=m[F>>2],O=O+4|0,F=F+4|0;while((O|0)<(U|0));U=(Va(m[g>>2]|0)|0)==0,T=U?T:E,E=A+4|0,iw(E),q1(E),Va(m[g>>2]|0)|0&&(wf(E),m[g>>2]=(m[g>>2]|0)+1),m[b>>2]=m[A>>2],g=b+4|0,za(E,T,g),Fo(g),m[b+16>>2]=m[A>>2],g=b+20|0,za(E,T+12|0,g),Fo(g),m[b+32>>2]=m[A>>2],g=b+36|0,za(E,T+24|0,g),Fo(g),m[b+48>>2]=m[A>>2],g=b+52|0,za(E,T+36|0,g),Fo(g),m[b+64>>2]=m[A>>2],g=b+68|0,za(E,T+48|0,g),Fo(g),m[b+80>>2]=m[A>>2],b=b+84|0,za(E,T+60|0,b),Fo(b),le=W}function bu(A,g){return A=A|0,g=g|0,g=Jt(A|0,g|0,52)|0,fe()|0,g&15|0}function uw(A,g){return A=A|0,g=g|0,g=Jt(A|0,g|0,45)|0,fe()|0,g&127|0}function Oh(A,g,b,T){return A=A|0,g=g|0,b=b|0,T=T|0,(b+-1|0)>>>0>14?(T=4,T|0):(b=Jt(A|0,g|0,(15-b|0)*3|0)|0,fe()|0,m[T>>2]=b&7,T=0,T|0)}function l4(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0;if(A>>>0>15)return T=4,T|0;if(g>>>0>121)return T=17,T|0;F=sn(A|0,0,52)|0,E=fe()|0,U=sn(g|0,0,45)|0,E=E|(fe()|0)|134225919;e:do if((A|0)>=1){for(U=1,F=(xt[20528+g>>0]|0)!=0,O=-1;;){if(g=m[b+(U+-1<<2)>>2]|0,g>>>0>6){E=18,g=10;break}if(!((g|0)==0|F^1))if((g|0)==1){E=19,g=10;break}else F=0;if(Q=(15-U|0)*3|0,W=sn(7,0,Q|0)|0,E=E&~(fe()|0),g=sn(g|0,((g|0)<0)<<31>>31|0,Q|0)|0,O=g|O&~W,E=fe()|0|E,(U|0)<(A|0))U=U+1|0;else break e}if((g|0)==10)return E|0}else O=-1;while(0);return Q=T,m[Q>>2]=O,m[Q+4>>2]=E,Q=0,Q|0}function Ef(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0;return!(!0&(g&-16777216|0)==134217728)||(T=Jt(A|0,g|0,52)|0,fe()|0,T=T&15,b=Jt(A|0,g|0,45)|0,fe()|0,b=b&127,b>>>0>121)?(A=0,A|0):(F=(T^15)*3|0,E=Jt(A|0,g|0,F|0)|0,F=sn(E|0,fe()|0,F|0)|0,E=fe()|0,O=Sa(-1227133514,-1171,F|0,E|0)|0,!((F&613566756&O|0)==0&(E&4681&(fe()|0)|0)==0)||(F=(T*3|0)+19|0,O=sn(~A|0,~g|0,F|0)|0,F=Jt(O|0,fe()|0,F|0)|0,!((T|0)==15|(F|0)==0&(fe()|0)==0))?(F=0,F|0):!(xt[20528+b>>0]|0)||(g=g&8191,(A|0)==0&(g|0)==0)?(F=1,F|0):(F=C4(A|0,g|0)|0,fe()|0,((63-F|0)%3|0|0)!=0|0))}function dw(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0;return!0&(g&-16777216|0)==134217728&&(T=Jt(A|0,g|0,52)|0,fe()|0,T=T&15,b=Jt(A|0,g|0,45)|0,fe()|0,b=b&127,b>>>0<=121)&&(F=(T^15)*3|0,E=Jt(A|0,g|0,F|0)|0,F=sn(E|0,fe()|0,F|0)|0,E=fe()|0,O=Sa(-1227133514,-1171,F|0,E|0)|0,(F&613566756&O|0)==0&(E&4681&(fe()|0)|0)==0)&&(F=(T*3|0)+19|0,O=sn(~A|0,~g|0,F|0)|0,F=Jt(O|0,fe()|0,F|0)|0,(T|0)==15|(F|0)==0&(fe()|0)==0)&&(!(xt[20528+b>>0]|0)||(b=g&8191,(A|0)==0&(b|0)==0)||(F=C4(A|0,b|0)|0,fe()|0,(63-F|0)%3|0|0))||sw(A,g)|0?(F=1,F|0):(F=(tz(A,g)|0)!=0&1,F|0)}function Dh(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0;if(E=sn(g|0,0,52)|0,O=fe()|0,b=sn(b|0,0,45)|0,b=O|(fe()|0)|134225919,(g|0)<1){O=-1,T=b,g=A,m[g>>2]=O,A=A+4|0,m[A>>2]=T;return}for(O=1,E=-1;F=(15-O|0)*3|0,U=sn(7,0,F|0)|0,b=b&~(fe()|0),F=sn(T|0,0,F|0)|0,E=E&~U|F,b=b|(fe()|0),(O|0)!=(g|0);)O=O+1|0;U=A,F=U,m[F>>2]=E,U=U+4|0,m[U>>2]=b}function K1(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0;if(O=Jt(A|0,g|0,52)|0,fe()|0,O=O&15,b>>>0>15)return T=4,T|0;if((O|0)<(b|0))return T=12,T|0;if((O|0)==(b|0))return m[T>>2]=A,m[T+4>>2]=g,T=0,T|0;if(E=sn(b|0,0,52)|0,E=E|A,A=fe()|0|g&-15728641,(O|0)>(b|0))do g=sn(7,0,(14-b|0)*3|0)|0,b=b+1|0,E=g|E,A=fe()|0|A;while((b|0)<(O|0));return m[T>>2]=E,m[T+4>>2]=A,T=0,T|0}function hl(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0;if(O=Jt(A|0,g|0,52)|0,fe()|0,O=O&15,!((b|0)<16&(O|0)<=(b|0)))return T=4,T|0;E=b-O|0,b=Jt(A|0,g|0,45)|0,fe()|0;e:do if(!(ri(b&127)|0))b=K(7,0,E,((E|0)<0)<<31>>31)|0,E=fe()|0;else{t:do if(O|0){for(b=1;F=sn(7,0,(15-b|0)*3|0)|0,!!((F&A|0)==0&((fe()|0)&g|0)==0);)if(b>>>0<O>>>0)b=b+1|0;else break t;b=K(7,0,E,((E|0)<0)<<31>>31)|0,E=fe()|0;break e}while(0);b=K(7,0,E,((E|0)<0)<<31>>31)|0,b=wa(b|0,fe()|0,5,0)|0,b=or(b|0,fe()|0,-5,-1)|0,b=Hh(b|0,fe()|0,6,0)|0,b=or(b|0,fe()|0,1,0)|0,E=fe()|0}while(0);return F=T,m[F>>2]=b,m[F+4>>2]=E,F=0,F|0}function fi(A,g){A=A|0,g=g|0;var b=0,T=0,E=0;if(E=Jt(A|0,g|0,45)|0,fe()|0,!(ri(E&127)|0))return E=0,E|0;E=Jt(A|0,g|0,52)|0,fe()|0,E=E&15;e:do if(!E)b=0;else for(T=1;;){if(b=Jt(A|0,g|0,(15-T|0)*3|0)|0,fe()|0,b=b&7,b|0)break e;if(T>>>0<E>>>0)T=T+1|0;else{b=0;break}}while(0);return E=(b|0)==0&1,E|0}function c4(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0;if(F=le,le=le+16|0,O=F,pl(O,A,g,b),g=O,A=m[g>>2]|0,g=m[g+4>>2]|0,(A|0)==0&(g|0)==0)return le=F,0;E=0,b=0;do U=T+(E<<3)|0,m[U>>2]=A,m[U+4>>2]=g,E=or(E|0,b|0,1,0)|0,b=fe()|0,eb(O),U=O,A=m[U>>2]|0,g=m[U+4>>2]|0;while(!((A|0)==0&(g|0)==0));return le=F,0}function zg(A,g,b,T){return A=A|0,g=g|0,b=b|0,T=T|0,(T|0)<(b|0)?(b=g,T=A,Ot(b|0),T|0):(b=sn(-1,-1,((T-b|0)*3|0)+3|0)|0,T=sn(~b|0,~(fe()|0)|0,(15-T|0)*3|0)|0,b=~(fe()|0)&g,T=~T&A,Ot(b|0),T|0)}function fw(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0;return E=Jt(A|0,g|0,52)|0,fe()|0,E=E&15,(b|0)<16&(E|0)<=(b|0)?((E|0)<(b|0)&&(E=sn(-1,-1,((b+-1-E|0)*3|0)+3|0)|0,E=sn(~E|0,~(fe()|0)|0,(15-b|0)*3|0)|0,g=~(fe()|0)&g,A=~E&A),E=sn(b|0,0,52)|0,b=g&-15728641|(fe()|0),m[T>>2]=A|E,m[T+4>>2]=b,T=0,T|0):(T=4,T|0)}function xu(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0,st=0,un=0,Zn=0,Un=0,Nr=0,Ir=0,Hr=0,Sr=0,Jn=0,ln=0;if((b|0)==0&(T|0)==0)return ln=0,ln|0;if(E=A,O=m[E>>2]|0,E=m[E+4>>2]|0,!0&(E&15728640|0)==0){if(!((T|0)>0|(T|0)==0&b>>>0>0)||(ln=g,m[ln>>2]=O,m[ln+4>>2]=E,(b|0)==1&(T|0)==0))return ln=0,ln|0;E=1,O=0;do Sr=A+(E<<3)|0,Jn=m[Sr+4>>2]|0,ln=g+(E<<3)|0,m[ln>>2]=m[Sr>>2],m[ln+4>>2]=Jn,E=or(E|0,O|0,1,0)|0,O=fe()|0;while((O|0)<(T|0)|(O|0)==(T|0)&E>>>0<b>>>0);return E=0,E|0}if(Hr=b<<3,Jn=Cd(Hr)|0,!Jn)return ln=13,ln|0;if(Wg(Jn|0,A|0,Hr|0)|0,Sr=ml(b,8)|0,!Sr)return ar(Jn),ln=13,ln|0;e:for(;;){E=Jn,Q=m[E>>2]|0,E=m[E+4>>2]|0,Nr=Jt(Q|0,E|0,52)|0,fe()|0,Nr=Nr&15,Ir=Nr+-1|0,Un=(Nr|0)!=0,Zn=(T|0)>0|(T|0)==0&b>>>0>0;t:do if(Un&Zn){if(bt=sn(Ir|0,0,52)|0,vt=fe()|0,Ir>>>0>15){if(!((Q|0)==0&(E|0)==0)){ln=16;break e}for(O=0,A=0;;){if(O=or(O|0,A|0,1,0)|0,A=fe()|0,!((A|0)<(T|0)|(A|0)==(T|0)&O>>>0<b>>>0))break t;if(F=Jn+(O<<3)|0,un=m[F>>2]|0,F=m[F+4>>2]|0,!((un|0)==0&(F|0)==0)){E=F,ln=16;break e}}}for(U=Q,A=E,O=0,F=0;;){if(!((U|0)==0&(A|0)==0)){if(!(!0&(A&117440512|0)==0)){ln=21;break e}if(ne=Jt(U|0,A|0,52)|0,fe()|0,ne=ne&15,(ne|0)<(Ir|0)){E=12,ln=27;break e}if((ne|0)!=(Ir|0)&&(U=U|bt,A=A&-15728641|vt,ne>>>0>=Nr>>>0)){W=Ir;do un=sn(7,0,(14-W|0)*3|0)|0,W=W+1|0,U=un|U,A=fe()|0|A;while(W>>>0<ne>>>0)}if(Le=qg(U|0,A|0,b|0,T|0)|0,Be=fe()|0,W=Sr+(Le<<3)|0,ne=W,xe=m[ne>>2]|0,ne=m[ne+4>>2]|0,!((xe|0)==0&(ne|0)==0)){At=0,It=0;do{if((At|0)>(T|0)|(At|0)==(T|0)&It>>>0>b>>>0){ln=31;break e}if((xe|0)==(U|0)&(ne&-117440513|0)==(A|0)){Fe=Jt(xe|0,ne|0,56)|0,fe()|0,Fe=Fe&7,it=Fe+1|0,un=Jt(xe|0,ne|0,45)|0,fe()|0;n:do if(!(ri(un&127)|0))ne=7;else{if(xe=Jt(xe|0,ne|0,52)|0,fe()|0,xe=xe&15,!xe){ne=6;break}for(ne=1;;){if(un=sn(7,0,(15-ne|0)*3|0)|0,!((un&U|0)==0&((fe()|0)&A|0)==0)){ne=7;break n}if(ne>>>0<xe>>>0)ne=ne+1|0;else{ne=6;break}}}while(0);if((Fe+2|0)>>>0>ne>>>0){ln=41;break e}un=sn(it|0,0,56)|0,A=fe()|0|A&-117440513,st=W,m[st>>2]=0,m[st+4>>2]=0,U=un|U}else Le=or(Le|0,Be|0,1,0)|0,Le=jg(Le|0,fe()|0,b|0,T|0)|0,Be=fe()|0;It=or(It|0,At|0,1,0)|0,At=fe()|0,W=Sr+(Le<<3)|0,ne=W,xe=m[ne>>2]|0,ne=m[ne+4>>2]|0}while(!((xe|0)==0&(ne|0)==0))}un=W,m[un>>2]=U,m[un+4>>2]=A}if(O=or(O|0,F|0,1,0)|0,F=fe()|0,!((F|0)<(T|0)|(F|0)==(T|0)&O>>>0<b>>>0))break t;A=Jn+(O<<3)|0,U=m[A>>2]|0,A=m[A+4>>2]|0}}while(0);if(un=or(b|0,T|0,5,0)|0,st=fe()|0,st>>>0<0|(st|0)==0&un>>>0<11){ln=85;break}if(un=Hh(b|0,T|0,6,0)|0,fe()|0,un=ml(un,8)|0,!un){ln=48;break}do if(Zn){for(it=0,A=0,Fe=0,At=0;;){if(ne=Sr+(it<<3)|0,F=ne,O=m[F>>2]|0,F=m[F+4>>2]|0,(O|0)==0&(F|0)==0)st=Fe;else{xe=Jt(O|0,F|0,56)|0,fe()|0,xe=xe&7,U=xe+1|0,Le=F&-117440513,st=Jt(O|0,F|0,45)|0,fe()|0;t:do if(ri(st&127)|0){if(Be=Jt(O|0,F|0,52)|0,fe()|0,Be=Be&15,Be|0)for(W=1;;){if(st=sn(7,0,(15-W|0)*3|0)|0,!((O&st|0)==0&(Le&(fe()|0)|0)==0))break t;if(W>>>0<Be>>>0)W=W+1|0;else break}F=sn(U|0,0,56)|0,O=F|O,F=fe()|0|Le,U=ne,m[U>>2]=O,m[U+4>>2]=F,U=xe+2|0}while(0);(U|0)==7?(st=un+(A<<3)|0,m[st>>2]=O,m[st+4>>2]=F&-117440513,A=or(A|0,Fe|0,1,0)|0,st=fe()|0):st=Fe}if(it=or(it|0,At|0,1,0)|0,At=fe()|0,(At|0)<(T|0)|(At|0)==(T|0)&it>>>0<b>>>0)Fe=st;else break}if(Zn){if(It=Ir>>>0>15,bt=sn(Ir|0,0,52)|0,vt=fe()|0,!Un){for(O=0,W=0,U=0,F=0;(Q|0)==0&(E|0)==0||(Ir=g+(O<<3)|0,m[Ir>>2]=Q,m[Ir+4>>2]=E,O=or(O|0,W|0,1,0)|0,W=fe()|0),U=or(U|0,F|0,1,0)|0,F=fe()|0,!!((F|0)<(T|0)|(F|0)==(T|0)&U>>>0<b>>>0);)E=Jn+(U<<3)|0,Q=m[E>>2]|0,E=m[E+4>>2]|0;E=st;break}for(O=0,W=0,F=0,U=0;;){do if(!((Q|0)==0&(E|0)==0)){if(Be=Jt(Q|0,E|0,52)|0,fe()|0,Be=Be&15,It|(Be|0)<(Ir|0)){ln=80;break e}if((Be|0)!=(Ir|0)){if(ne=Q|bt,xe=E&-15728641|vt,Be>>>0>=Nr>>>0){Le=Ir;do Un=sn(7,0,(14-Le|0)*3|0)|0,Le=Le+1|0,ne=Un|ne,xe=fe()|0|xe;while(Le>>>0<Be>>>0)}}else ne=Q,xe=E;Fe=qg(ne|0,xe|0,b|0,T|0)|0,Le=0,Be=0,At=fe()|0;do{if((Le|0)>(T|0)|(Le|0)==(T|0)&Be>>>0>b>>>0){ln=81;break e}if(Un=Sr+(Fe<<3)|0,it=m[Un+4>>2]|0,(it&-117440513|0)==(xe|0)&&(m[Un>>2]|0)==(ne|0)){ln=65;break}Un=or(Fe|0,At|0,1,0)|0,Fe=jg(Un|0,fe()|0,b|0,T|0)|0,At=fe()|0,Be=or(Be|0,Le|0,1,0)|0,Le=fe()|0,Un=Sr+(Fe<<3)|0}while(!((m[Un>>2]|0)==(ne|0)&&(m[Un+4>>2]|0)==(xe|0)));if((ln|0)==65&&(ln=0,!0&(it&117440512|0)==100663296))break;Un=g+(O<<3)|0,m[Un>>2]=Q,m[Un+4>>2]=E,O=or(O|0,W|0,1,0)|0,W=fe()|0}while(0);if(F=or(F|0,U|0,1,0)|0,U=fe()|0,!((U|0)<(T|0)|(U|0)==(T|0)&F>>>0<b>>>0))break;E=Jn+(F<<3)|0,Q=m[E>>2]|0,E=m[E+4>>2]|0}E=st}else O=0,E=st}else O=0,A=0,E=0;while(0);if(jh(Sr|0,0,Hr|0)|0,Wg(Jn|0,un|0,A<<3|0)|0,ar(un),(A|0)==0&(E|0)==0){ln=89;break}else g=g+(O<<3)|0,T=E,b=A}if((ln|0)==16)!0&(E&117440512|0)==0?(E=4,ln=27):ln=21;else if((ln|0)==31)Mt(27795,27122,620,27132);else{if((ln|0)==41)return ar(Jn),ar(Sr),ln=10,ln|0;if((ln|0)==48)return ar(Jn),ar(Sr),ln=13,ln|0;(ln|0)==80?Mt(27795,27122,711,27132):(ln|0)==81?Mt(27795,27122,723,27132):(ln|0)==85&&(Wg(g|0,Jn|0,b<<3|0)|0,ln=89)}return(ln|0)==21?(ar(Jn),ar(Sr),ln=5,ln|0):(ln|0)==27?(ar(Jn),ar(Sr),ln=E,ln|0):(ln|0)==89?(ar(Jn),ar(Sr),ln=0,ln|0):0}function u4(A,g,b,T,E,O,F){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0,O=O|0,F=F|0;var U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0;if(it=le,le=le+16|0,Fe=it,!((b|0)>0|(b|0)==0&g>>>0>0))return Fe=0,le=it,Fe|0;if((F|0)>=16)return Fe=12,le=it,Fe|0;Le=0,Be=0,xe=0,U=0;e:for(;;){if(Q=A+(Le<<3)|0,W=m[Q>>2]|0,Q=m[Q+4>>2]|0,ne=Jt(W|0,Q|0,52)|0,fe()|0,(ne&15|0)>(F|0)){U=12,W=11;break}if(pl(Fe,W,Q,F),ne=Fe,Q=m[ne>>2]|0,ne=m[ne+4>>2]|0,(Q|0)==0&(ne|0)==0)W=xe;else{W=xe;do{if(!((U|0)<(O|0)|(U|0)==(O|0)&W>>>0<E>>>0)){W=10;break e}xe=T+(W<<3)|0,m[xe>>2]=Q,m[xe+4>>2]=ne,W=or(W|0,U|0,1,0)|0,U=fe()|0,eb(Fe),xe=Fe,Q=m[xe>>2]|0,ne=m[xe+4>>2]|0}while(!((Q|0)==0&(ne|0)==0))}if(Le=or(Le|0,Be|0,1,0)|0,Be=fe()|0,(Be|0)<(b|0)|(Be|0)==(b|0)&Le>>>0<g>>>0)xe=W;else{U=0,W=11;break}}return(W|0)==10?(Fe=14,le=it,Fe|0):(W|0)==11?(le=it,U|0):0}function Lh(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0;Le=le,le=le+16|0,xe=Le;e:do if((b|0)>0|(b|0)==0&g>>>0>0){for(Q=0,F=0,O=0,ne=0;;){if(W=A+(Q<<3)|0,U=m[W>>2]|0,W=m[W+4>>2]|0,!((U|0)==0&(W|0)==0)&&(W=(hl(U,W,T,xe)|0)==0,U=xe,F=or(m[U>>2]|0,m[U+4>>2]|0,F|0,O|0)|0,O=fe()|0,!W)){O=12;break}if(Q=or(Q|0,ne|0,1,0)|0,ne=fe()|0,!((ne|0)<(b|0)|(ne|0)==(b|0)&Q>>>0<g>>>0))break e}return le=Le,O|0}else F=0,O=0;while(0);return m[E>>2]=F,m[E+4>>2]=O,E=0,le=Le,E|0}function d4(A,g){return A=A|0,g=g|0,g=Jt(A|0,g|0,52)|0,fe()|0,g&1|0}function go(A,g){A=A|0,g=g|0;var b=0,T=0,E=0;if(E=Jt(A|0,g|0,52)|0,fe()|0,E=E&15,!E)return E=0,E|0;for(T=1;;){if(b=Jt(A|0,g|0,(15-T|0)*3|0)|0,fe()|0,b=b&7,b|0){T=5;break}if(T>>>0<E>>>0)T=T+1|0;else{b=0,T=5;break}}return(T|0)==5?b|0:0}function Bh(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0,W=0;if(W=Jt(A|0,g|0,52)|0,fe()|0,W=W&15,!W)return U=g,W=A,Ot(U|0),W|0;for(U=1,b=0;;){O=(15-U|0)*3|0,T=sn(7,0,O|0)|0,E=fe()|0,F=Jt(A|0,g|0,O|0)|0,fe()|0,O=sn(vd(F&7)|0,0,O|0)|0,F=fe()|0,A=O|A&~T,g=F|g&~E;e:do if(!b)if((O&T|0)==0&(F&E|0)==0)b=0;else if(T=Jt(A|0,g|0,52)|0,fe()|0,T=T&15,!T)b=1;else{b=1;t:for(;;){switch(F=Jt(A|0,g|0,(15-b|0)*3|0)|0,fe()|0,F&7){case 1:break t;case 0:break;default:{b=1;break e}}if(b>>>0<T>>>0)b=b+1|0;else{b=1;break e}}for(b=1;;)if(F=(15-b|0)*3|0,E=Jt(A|0,g|0,F|0)|0,fe()|0,O=sn(7,0,F|0)|0,g=g&~(fe()|0),F=sn(vd(E&7)|0,0,F|0)|0,A=A&~O|F,g=g|(fe()|0),b>>>0<T>>>0)b=b+1|0;else{b=1;break}}while(0);if(U>>>0<W>>>0)U=U+1|0;else break}return Ot(g|0),A|0}function bd(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0;if(T=Jt(A|0,g|0,52)|0,fe()|0,T=T&15,!T)return b=g,T=A,Ot(b|0),T|0;for(b=1;O=(15-b|0)*3|0,F=Jt(A|0,g|0,O|0)|0,fe()|0,E=sn(7,0,O|0)|0,g=g&~(fe()|0),O=sn(vd(F&7)|0,0,O|0)|0,A=O|A&~E,g=fe()|0|g,b>>>0<T>>>0;)b=b+1|0;return Ot(g|0),A|0}function Q1(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0,W=0;if(W=Jt(A|0,g|0,52)|0,fe()|0,W=W&15,!W)return U=g,W=A,Ot(U|0),W|0;for(U=1,b=0;;){O=(15-U|0)*3|0,T=sn(7,0,O|0)|0,E=fe()|0,F=Jt(A|0,g|0,O|0)|0,fe()|0,O=sn(Pc(F&7)|0,0,O|0)|0,F=fe()|0,A=O|A&~T,g=F|g&~E;e:do if(!b)if((O&T|0)==0&(F&E|0)==0)b=0;else if(T=Jt(A|0,g|0,52)|0,fe()|0,T=T&15,!T)b=1;else{b=1;t:for(;;){switch(F=Jt(A|0,g|0,(15-b|0)*3|0)|0,fe()|0,F&7){case 1:break t;case 0:break;default:{b=1;break e}}if(b>>>0<T>>>0)b=b+1|0;else{b=1;break e}}for(b=1;;)if(E=(15-b|0)*3|0,O=sn(7,0,E|0)|0,F=g&~(fe()|0),g=Jt(A|0,g|0,E|0)|0,fe()|0,g=sn(Pc(g&7)|0,0,E|0)|0,A=A&~O|g,g=F|(fe()|0),b>>>0<T>>>0)b=b+1|0;else{b=1;break}}while(0);if(U>>>0<W>>>0)U=U+1|0;else break}return Ot(g|0),A|0}function Fh(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0;if(T=Jt(A|0,g|0,52)|0,fe()|0,T=T&15,!T)return b=g,T=A,Ot(b|0),T|0;for(b=1;F=(15-b|0)*3|0,O=sn(7,0,F|0)|0,E=g&~(fe()|0),g=Jt(A|0,g|0,F|0)|0,fe()|0,g=sn(Pc(g&7)|0,0,F|0)|0,A=g|A&~O,g=fe()|0|E,b>>>0<T>>>0;)b=b+1|0;return Ot(g|0),A|0}function Z1(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;if(W=le,le=le+64|0,U=W+40|0,T=W+24|0,E=W+12|0,O=W,sn(g|0,0,52)|0,b=fe()|0|134225919,!g)return(m[A+4>>2]|0)>2||(m[A+8>>2]|0)>2||(m[A+12>>2]|0)>2?(F=0,U=0,Ot(F|0),le=W,U|0):(sn(gr(A)|0,0,45)|0,F=fe()|0|b,U=-1,Ot(F|0),le=W,U|0);if(m[U>>2]=m[A>>2],m[U+4>>2]=m[A+4>>2],m[U+8>>2]=m[A+8>>2],m[U+12>>2]=m[A+12>>2],F=U+4|0,(g|0)>0)for(A=-1;m[T>>2]=m[F>>2],m[T+4>>2]=m[F+4>>2],m[T+8>>2]=m[F+8>>2],g&1?(H1(F),m[E>>2]=m[F>>2],m[E+4>>2]=m[F+4>>2],m[E+8>>2]=m[F+8>>2],Ls(E)):(rw(F),m[E>>2]=m[F>>2],m[E+4>>2]=m[F+4>>2],m[E+8>>2]=m[F+8>>2],wf(E)),Rm(T,E,O),Fo(O),ne=(15-g|0)*3|0,Q=sn(7,0,ne|0)|0,b=b&~(fe()|0),ne=sn(Nm(O)|0,0,ne|0)|0,A=ne|A&~Q,b=fe()|0|b,(g|0)>1;)g=g+-1|0;else A=-1;e:do if((m[F>>2]|0)<=2&&(m[U+8>>2]|0)<=2&&(m[U+12>>2]|0)<=2){if(T=gr(U)|0,g=sn(T|0,0,45)|0,g=g|A,A=fe()|0|b&-1040385,O=Ua(U)|0,!(ri(T)|0)){if((O|0)<=0)break;for(E=0;;){if(T=Jt(g|0,A|0,52)|0,fe()|0,T=T&15,T)for(b=1;ne=(15-b|0)*3|0,U=Jt(g|0,A|0,ne|0)|0,fe()|0,Q=sn(7,0,ne|0)|0,A=A&~(fe()|0),ne=sn(vd(U&7)|0,0,ne|0)|0,g=g&~Q|ne,A=A|(fe()|0),b>>>0<T>>>0;)b=b+1|0;if(E=E+1|0,(E|0)==(O|0))break e}}E=Jt(g|0,A|0,52)|0,fe()|0,E=E&15;t:do if(E){b=1;n:for(;;){switch(ne=Jt(g|0,A|0,(15-b|0)*3|0)|0,fe()|0,ne&7){case 1:break n;case 0:break;default:break t}if(b>>>0<E>>>0)b=b+1|0;else break t}if($n(T,m[U>>2]|0)|0)for(b=1;U=(15-b|0)*3|0,Q=sn(7,0,U|0)|0,ne=A&~(fe()|0),A=Jt(g|0,A|0,U|0)|0,fe()|0,A=sn(Pc(A&7)|0,0,U|0)|0,g=g&~Q|A,A=ne|(fe()|0),b>>>0<E>>>0;)b=b+1|0;else for(b=1;ne=(15-b|0)*3|0,U=Jt(g|0,A|0,ne|0)|0,fe()|0,Q=sn(7,0,ne|0)|0,A=A&~(fe()|0),ne=sn(vd(U&7)|0,0,ne|0)|0,g=g&~Q|ne,A=A|(fe()|0),b>>>0<E>>>0;)b=b+1|0}while(0);if((O|0)>0){b=0;do g=Bh(g,A)|0,A=fe()|0,b=b+1|0;while((b|0)!=(O|0))}}else g=0,A=0;while(0);return Q=A,ne=g,Ot(Q|0),le=W,ne|0}function Va(A){return A=A|0,(A|0)%2|0|0}function xd(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0;return E=le,le=le+16|0,T=E,g>>>0>15?(T=4,le=E,T|0):(m[A+4>>2]&2146435072|0)==2146435072||(m[A+8+4>>2]&2146435072|0)==2146435072?(T=3,le=E,T|0):(lw(A,g,T),g=Z1(T,g)|0,T=fe()|0,m[b>>2]=g,m[b+4>>2]=T,(g|0)==0&(T|0)==0&&Mt(27795,27122,1050,27145),T=0,le=E,T|0)}function $h(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0;if(E=b+4|0,O=Jt(A|0,g|0,52)|0,fe()|0,O=O&15,F=Jt(A|0,g|0,45)|0,fe()|0,T=(O|0)==0,ri(F&127)|0){if(T)return F=1,F|0;T=1}else{if(T)return F=0,F|0;!(m[E>>2]|0)&&!(m[b+8>>2]|0)?T=(m[b+12>>2]|0)!=0&1:T=1}for(b=1;b&1?Ls(E):wf(E),F=Jt(A|0,g|0,(15-b|0)*3|0)|0,fe()|0,j1(E,F&7),b>>>0<O>>>0;)b=b+1|0;return T|0}function _d(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;if(ne=le,le=le+16|0,W=ne,Q=Jt(A|0,g|0,45)|0,fe()|0,Q=Q&127,Q>>>0>121)return m[b>>2]=0,m[b+4>>2]=0,m[b+8>>2]=0,m[b+12>>2]=0,Q=5,le=ne,Q|0;e:do if(ri(Q)|0&&(O=Jt(A|0,g|0,52)|0,fe()|0,O=O&15,(O|0)!=0)){T=1;t:for(;;){switch(U=Jt(A|0,g|0,(15-T|0)*3|0)|0,fe()|0,U&7){case 5:break t;case 0:break;default:{T=g;break e}}if(T>>>0<O>>>0)T=T+1|0;else{T=g;break e}}for(E=1,T=g;g=(15-E|0)*3|0,F=sn(7,0,g|0)|0,U=T&~(fe()|0),T=Jt(A|0,T|0,g|0)|0,fe()|0,T=sn(Pc(T&7)|0,0,g|0)|0,A=A&~F|T,T=U|(fe()|0),E>>>0<O>>>0;)E=E+1|0}else T=g;while(0);if(U=7696+(Q*28|0)|0,m[b>>2]=m[U>>2],m[b+4>>2]=m[U+4>>2],m[b+8>>2]=m[U+8>>2],m[b+12>>2]=m[U+12>>2],!($h(A,T,b)|0))return Q=0,le=ne,Q|0;if(F=b+4|0,m[W>>2]=m[F>>2],m[W+4>>2]=m[F+4>>2],m[W+8>>2]=m[F+8>>2],O=Jt(A|0,T|0,52)|0,fe()|0,U=O&15,O&1?(wf(F),O=U+1|0):O=U,!(ri(Q)|0))T=0;else{e:do if(!U)T=0;else for(g=1;;){if(E=Jt(A|0,T|0,(15-g|0)*3|0)|0,fe()|0,E=E&7,E|0){T=E;break e}if(g>>>0<U>>>0)g=g+1|0;else{T=0;break}}while(0);T=(T|0)==4&1}if(!(Ih(b,O,T,0)|0))(O|0)!=(U|0)&&(m[F>>2]=m[W>>2],m[F+4>>2]=m[W+4>>2],m[F+8>>2]=m[W+8>>2]);else{if(ri(Q)|0)do;while(Ih(b,O,0,0)|0);(O|0)!=(U|0)&&rw(F)}return Q=0,le=ne,Q|0}function Sd(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0;return O=le,le=le+16|0,T=O,E=_d(A,g,T)|0,E|0?(le=O,E|0):(E=Jt(A|0,g|0,52)|0,fe()|0,s4(T,E&15,b),E=0,le=O,E|0)}function kh(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0;if(F=le,le=le+16|0,O=F,T=_d(A,g,O)|0,T|0)return O=T,le=F,O|0;T=Jt(A|0,g|0,45)|0,fe()|0,T=(ri(T&127)|0)==0,E=Jt(A|0,g|0,52)|0,fe()|0,E=E&15;e:do if(!T){if(E|0)for(T=1;;){if(U=sn(7,0,(15-T|0)*3|0)|0,!((U&A|0)==0&((fe()|0)&g|0)==0))break e;if(T>>>0<E>>>0)T=T+1|0;else break}return X1(O,E,0,5,b),U=0,le=F,U|0}while(0);return yd(O,E,0,6,b),U=0,le=F,U|0}function Vg(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0;if(E=Jt(A|0,g|0,45)|0,fe()|0,!(ri(E&127)|0))return E=2,m[b>>2]=E,0;if(E=Jt(A|0,g|0,52)|0,fe()|0,E=E&15,!E)return E=5,m[b>>2]=E,0;for(T=1;;){if(O=sn(7,0,(15-T|0)*3|0)|0,!((O&A|0)==0&((fe()|0)&g|0)==0)){T=2,A=6;break}if(T>>>0<E>>>0)T=T+1|0;else{T=5,A=6;break}}return(A|0)==6&&(m[b>>2]=T),0}function hw(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0;xe=le,le=le+128|0,Q=xe+112|0,O=xe+96|0,ne=xe,E=Jt(A|0,g|0,52)|0,fe()|0,U=E&15,m[Q>>2]=U,F=Jt(A|0,g|0,45)|0,fe()|0,F=F&127;e:do if(ri(F)|0){if(U|0)for(T=1;;){if(W=sn(7,0,(15-T|0)*3|0)|0,!((W&A|0)==0&((fe()|0)&g|0)==0)){E=0;break e}if(T>>>0<U>>>0)T=T+1|0;else break}if(E&1)E=1;else return W=sn(U+1|0,0,52)|0,ne=fe()|0|g&-15728641,Q=sn(7,0,(14-U|0)*3|0)|0,ne=hw((W|A)&~Q,ne&~(fe()|0),b)|0,le=xe,ne|0}else E=0;while(0);if(T=_d(A,g,O)|0,!T){E?(Y1(O,Q,ne),W=5):(cw(O,Q,ne),W=6);e:do if(ri(F)|0)if(!U)A=5;else for(T=1;;){if(F=sn(7,0,(15-T|0)*3|0)|0,!((F&A|0)==0&((fe()|0)&g|0)==0)){A=2;break e}if(T>>>0<U>>>0)T=T+1|0;else{A=5;break}}else A=2;while(0);jh(b|0,-1,A<<2|0)|0;e:do if(E)for(O=0;;){if(F=ne+(O<<4)|0,Gl(F,m[Q>>2]|0)|0,F=m[F>>2]|0,U=m[b>>2]|0,(U|0)==-1|(U|0)==(F|0))T=b;else{E=0;do{if(E=E+1|0,E>>>0>=A>>>0){T=1;break e}T=b+(E<<2)|0,U=m[T>>2]|0}while(!((U|0)==-1|(U|0)==(F|0)))}if(m[T>>2]=F,O=O+1|0,O>>>0>=W>>>0){T=0;break}}else for(O=0;;){if(F=ne+(O<<4)|0,Ih(F,m[Q>>2]|0,0,1)|0,F=m[F>>2]|0,U=m[b>>2]|0,(U|0)==-1|(U|0)==(F|0))T=b;else{E=0;do{if(E=E+1|0,E>>>0>=A>>>0){T=1;break e}T=b+(E<<2)|0,U=m[T>>2]|0}while(!((U|0)==-1|(U|0)==(F|0)))}if(m[T>>2]=F,O=O+1|0,O>>>0>=W>>>0){T=0;break}}while(0)}return ne=T,le=xe,ne|0}function pw(){return 12}function J1(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0,W=0;if(A>>>0>15)return U=4,U|0;if(sn(A|0,0,52)|0,U=fe()|0|134225919,!A){b=0,T=0;do ri(T)|0&&(sn(T|0,0,45)|0,F=U|(fe()|0),A=g+(b<<3)|0,m[A>>2]=-1,m[A+4>>2]=F,b=b+1|0),T=T+1|0;while((T|0)!=122);return b=0,b|0}b=0,F=0;do{if(ri(F)|0){for(sn(F|0,0,45)|0,T=1,E=-1,O=U|(fe()|0);W=sn(7,0,(15-T|0)*3|0)|0,E=E&~W,O=O&~(fe()|0),(T|0)!=(A|0);)T=T+1|0;W=g+(b<<3)|0,m[W>>2]=E,m[W+4>>2]=O,b=b+1|0}F=F+1|0}while((F|0)!=122);return b=0,b|0}function mw(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0;if(bt=le,le=le+16|0,At=bt,It=Jt(A|0,g|0,52)|0,fe()|0,It=It&15,b>>>0>15)return It=4,le=bt,It|0;if((It|0)<(b|0))return It=12,le=bt,It|0;if((It|0)!=(b|0))if(O=sn(b|0,0,52)|0,O=O|A,U=fe()|0|g&-15728641,(It|0)>(b|0)){W=b;do it=sn(7,0,(14-W|0)*3|0)|0,W=W+1|0,O=it|O,U=fe()|0|U;while((W|0)<(It|0));it=O}else it=O;else it=A,U=g;Fe=Jt(it|0,U|0,45)|0,fe()|0;e:do if(ri(Fe&127)|0){if(W=Jt(it|0,U|0,52)|0,fe()|0,W=W&15,W|0)for(O=1;;){if(Fe=sn(7,0,(15-O|0)*3|0)|0,!((Fe&it|0)==0&((fe()|0)&U|0)==0)){Q=33;break e}if(O>>>0<W>>>0)O=O+1|0;else break}if(Fe=T,m[Fe>>2]=0,m[Fe+4>>2]=0,(It|0)>(b|0)){for(Fe=g&-15728641,Be=It;;){if(Le=Be,Be=Be+-1|0,Be>>>0>15|(It|0)<(Be|0)){Q=19;break}if((It|0)!=(Be|0))if(O=sn(Be|0,0,52)|0,O=O|A,W=fe()|0|Fe,(It|0)<(Le|0))xe=O;else{Q=Be;do xe=sn(7,0,(14-Q|0)*3|0)|0,Q=Q+1|0,O=xe|O,W=fe()|0|W;while((Q|0)<(It|0));xe=O}else xe=A,W=g;if(ne=Jt(xe|0,W|0,45)|0,fe()|0,!(ri(ne&127)|0))O=0;else{ne=Jt(xe|0,W|0,52)|0,fe()|0,ne=ne&15;t:do if(!ne)O=0;else for(Q=1;;){if(O=Jt(xe|0,W|0,(15-Q|0)*3|0)|0,fe()|0,O=O&7,O|0)break t;if(Q>>>0<ne>>>0)Q=Q+1|0;else{O=0;break}}while(0);O=(O|0)==0&1}if(W=Jt(A|0,g|0,(15-Le|0)*3|0)|0,fe()|0,W=W&7,(W|0)==7){E=5,Q=42;break}if(O=(O|0)!=0,(W|0)==1&O){E=5,Q=42;break}if(xe=W+(((W|0)!=0&O)<<31>>31)|0,xe|0&&(Q=It-Le|0,Q=K(7,0,Q,((Q|0)<0)<<31>>31)|0,ne=fe()|0,O?(O=wa(Q|0,ne|0,5,0)|0,O=or(O|0,fe()|0,-5,-1)|0,O=Hh(O|0,fe()|0,6,0)|0,O=or(O|0,fe()|0,1,0)|0,W=fe()|0):(O=Q,W=ne),Le=xe+-1|0,Le=wa(Q|0,ne|0,Le|0,((Le|0)<0)<<31>>31|0)|0,Le=or(O|0,W|0,Le|0,fe()|0)|0,xe=fe()|0,ne=T,ne=or(Le|0,xe|0,m[ne>>2]|0,m[ne+4>>2]|0)|0,xe=fe()|0,Le=T,m[Le>>2]=ne,m[Le+4>>2]=xe),(Be|0)<=(b|0)){Q=37;break}}if((Q|0)==19)Mt(27795,27122,1367,27158);else if((Q|0)==37){F=T,E=m[F+4>>2]|0,F=m[F>>2]|0;break}else if((Q|0)==42)return le=bt,E|0}else E=0,F=0}else Q=33;while(0);e:do if((Q|0)==33)if(Fe=T,m[Fe>>2]=0,m[Fe+4>>2]=0,(It|0)>(b|0)){for(O=It;;){if(E=Jt(A|0,g|0,(15-O|0)*3|0)|0,fe()|0,E=E&7,(E|0)==7){E=5;break}if(F=It-O|0,F=K(7,0,F,((F|0)<0)<<31>>31)|0,E=wa(F|0,fe()|0,E|0,0)|0,F=fe()|0,Fe=T,F=or(m[Fe>>2]|0,m[Fe+4>>2]|0,E|0,F|0)|0,E=fe()|0,Fe=T,m[Fe>>2]=F,m[Fe+4>>2]=E,O=O+-1|0,(O|0)<=(b|0))break e}return le=bt,E|0}else E=0,F=0;while(0);return hl(it,U,It,At)|0&&Mt(27795,27122,1327,27173),It=At,At=m[It+4>>2]|0,((E|0)>-1|(E|0)==-1&F>>>0>4294967295)&((At|0)>(E|0)|((At|0)==(E|0)?(m[It>>2]|0)>>>0>F>>>0:0))?(It=0,le=bt,It|0):(Mt(27795,27122,1407,27158),0)}function f4(A,g,b,T,E,O){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0,O=O|0;var F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0;if(xe=le,le=le+16|0,F=xe,E>>>0>15)return O=4,le=xe,O|0;if(U=Jt(b|0,T|0,52)|0,fe()|0,U=U&15,(U|0)>(E|0))return O=12,le=xe,O|0;if(hl(b,T,E,F)|0&&Mt(27795,27122,1327,27173),ne=F,Q=m[ne+4>>2]|0,!(((g|0)>-1|(g|0)==-1&A>>>0>4294967295)&((Q|0)>(g|0)|((Q|0)==(g|0)?(m[ne>>2]|0)>>>0>A>>>0:0))))return O=2,le=xe,O|0;ne=E-U|0,E=sn(E|0,0,52)|0,W=fe()|0|T&-15728641,Q=O,m[Q>>2]=E|b,m[Q+4>>2]=W,Q=Jt(b|0,T|0,45)|0,fe()|0;e:do if(ri(Q&127)|0){if(U|0)for(F=1;;){if(Q=sn(7,0,(15-F|0)*3|0)|0,!((Q&b|0)==0&((fe()|0)&T|0)==0))break e;if(F>>>0<U>>>0)F=F+1|0;else break}if((ne|0)<1)return O=0,le=xe,O|0;for(Q=U^15,T=-1,W=1,F=1;;){U=ne-W|0,U=K(7,0,U,((U|0)<0)<<31>>31)|0,b=fe()|0;do if(F)if(F=wa(U|0,b|0,5,0)|0,F=or(F|0,fe()|0,-5,-1)|0,F=Hh(F|0,fe()|0,6,0)|0,E=fe()|0,(g|0)>(E|0)|(g|0)==(E|0)&A>>>0>F>>>0){g=or(A|0,g|0,-1,-1)|0,g=Sa(g|0,fe()|0,F|0,E|0)|0,F=fe()|0,Le=O,Fe=m[Le>>2]|0,Le=m[Le+4>>2]|0,it=(Q+T|0)*3|0,Be=sn(7,0,it|0)|0,Le=Le&~(fe()|0),T=Hh(g|0,F|0,U|0,b|0)|0,A=fe()|0,E=or(T|0,A|0,2,0)|0,it=sn(E|0,fe()|0,it|0)|0,Le=fe()|0|Le,E=O,m[E>>2]=it|Fe&~Be,m[E+4>>2]=Le,A=wa(T|0,A|0,U|0,b|0)|0,A=Sa(g|0,F|0,A|0,fe()|0)|0,F=0,g=fe()|0;break}else{it=O,Be=m[it>>2]|0,it=m[it+4>>2]|0,Fe=sn(7,0,(Q+T|0)*3|0)|0,it=it&~(fe()|0),F=O,m[F>>2]=Be&~Fe,m[F+4>>2]=it,F=1;break}else Be=O,E=m[Be>>2]|0,Be=m[Be+4>>2]|0,T=(Q+T|0)*3|0,Le=sn(7,0,T|0)|0,Be=Be&~(fe()|0),it=Hh(A|0,g|0,U|0,b|0)|0,F=fe()|0,T=sn(it|0,F|0,T|0)|0,Be=fe()|0|Be,Fe=O,m[Fe>>2]=T|E&~Le,m[Fe+4>>2]=Be,F=wa(it|0,F|0,U|0,b|0)|0,A=Sa(A|0,g|0,F|0,fe()|0)|0,F=0,g=fe()|0;while(0);if((ne|0)>(W|0))T=~W,W=W+1|0;else{g=0;break}}return le=xe,g|0}while(0);if((ne|0)<1)return it=0,le=xe,it|0;for(E=U^15,F=1;;)if(Fe=ne-F|0,Fe=K(7,0,Fe,((Fe|0)<0)<<31>>31)|0,it=fe()|0,W=O,b=m[W>>2]|0,W=m[W+4>>2]|0,U=(E-F|0)*3|0,T=sn(7,0,U|0)|0,W=W&~(fe()|0),Le=Hh(A|0,g|0,Fe|0,it|0)|0,Be=fe()|0,U=sn(Le|0,Be|0,U|0)|0,W=fe()|0|W,Q=O,m[Q>>2]=U|b&~T,m[Q+4>>2]=W,it=wa(Le|0,Be|0,Fe|0,it|0)|0,A=Sa(A|0,g|0,it|0,fe()|0)|0,g=fe()|0,(ne|0)<=(F|0)){g=0;break}else F=F+1|0;return le=xe,g|0}function pl(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0;E=Jt(g|0,b|0,52)|0,fe()|0,E=E&15,(g|0)==0&(b|0)==0|((T|0)>15|(E|0)>(T|0))?(O=-1,g=-1,b=0,E=0):(g=zg(g,b,E+1|0,T)|0,F=(fe()|0)&-15728641,b=sn(T|0,0,52)|0,b=g|b,F=F|(fe()|0),g=(fi(b,F)|0)==0,O=E,g=g?-1:T,E=F),F=A,m[F>>2]=b,m[F+4>>2]=E,m[A+8>>2]=O,m[A+12>>2]=g}function Lm(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0;if(E=Jt(A|0,g|0,52)|0,fe()|0,E=E&15,O=T+8|0,m[O>>2]=E,(A|0)==0&(g|0)==0|((b|0)>15|(E|0)>(b|0))){b=T,m[b>>2]=0,m[b+4>>2]=0,m[O>>2]=-1,m[T+12>>2]=-1;return}if(A=zg(A,g,E+1|0,b)|0,O=(fe()|0)&-15728641,E=sn(b|0,0,52)|0,E=A|E,O=O|(fe()|0),A=T,m[A>>2]=E,m[A+4>>2]=O,A=T+12|0,fi(E,O)|0){m[A>>2]=b;return}else{m[A>>2]=-1;return}}function eb(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0;if(b=A,g=m[b>>2]|0,b=m[b+4>>2]|0,!((g|0)==0&(b|0)==0)&&(T=Jt(g|0,b|0,52)|0,fe()|0,T=T&15,U=sn(1,0,(T^15)*3|0)|0,g=or(U|0,fe()|0,g|0,b|0)|0,b=fe()|0,U=A,m[U>>2]=g,m[U+4>>2]=b,U=A+8|0,F=m[U>>2]|0,!((T|0)<(F|0)))){for(W=A+12|0,O=T;;){if((O|0)==(F|0)){T=5;break}if(Q=(O|0)==(m[W>>2]|0),E=(15-O|0)*3|0,T=Jt(g|0,b|0,E|0)|0,fe()|0,T=T&7,Q&((T|0)==1&!0)){T=7;break}if(!((T|0)==7&!0)){T=10;break}if(Q=sn(1,0,E|0)|0,g=or(g|0,b|0,Q|0,fe()|0)|0,b=fe()|0,Q=A,m[Q>>2]=g,m[Q+4>>2]=b,(O|0)>(F|0))O=O+-1|0;else{T=10;break}}if((T|0)==5){Q=A,m[Q>>2]=0,m[Q+4>>2]=0,m[U>>2]=-1,m[W>>2]=-1;return}else if((T|0)==7){F=sn(1,0,E|0)|0,F=or(g|0,b|0,F|0,fe()|0)|0,U=fe()|0,Q=A,m[Q>>2]=F,m[Q+4>>2]=U,m[W>>2]=O+-1;return}else if((T|0)==10)return}}function wd(A){A=+A;var g=0;return g=A<0?A+6.283185307179586:A,+(A>=6.283185307179586?g+-6.283185307179586:g)}function Uh(A,g){return A=A|0,g=g|0,+bn(+(+de[A>>3]-+de[g>>3]))<17453292519943298e-27?(g=+bn(+(+de[A+8>>3]-+de[g+8>>3]))<17453292519943298e-27,g|0):(g=0,g|0)}function fs(A,g){switch(A=+A,g=g|0,g|0){case 1:{A=A<0?A+6.283185307179586:A;break}case 2:{A=A>0?A+-6.283185307179586:A;break}}return+A}function h4(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0;return E=+de[g>>3],T=+de[A>>3],O=+Dt(+((E-T)*.5)),b=+Dt(+((+de[g+8>>3]-+de[A+8>>3])*.5)),b=O*O+b*(+Ln(+E)*+Ln(+T)*b),+(+Ve(+ +Gn(+b),+ +Gn(+(1-b)))*2)}function _u(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0;return E=+de[g>>3],T=+de[A>>3],O=+Dt(+((E-T)*.5)),b=+Dt(+((+de[g+8>>3]-+de[A+8>>3])*.5)),b=O*O+b*(+Ln(+E)*+Ln(+T)*b),+(+Ve(+ +Gn(+b),+ +Gn(+(1-b)))*2*6371.007180918475)}function p4(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0;return E=+de[g>>3],T=+de[A>>3],O=+Dt(+((E-T)*.5)),b=+Dt(+((+de[g+8>>3]-+de[A+8>>3])*.5)),b=O*O+b*(+Ln(+E)*+Ln(+T)*b),+(+Ve(+ +Gn(+b),+ +Gn(+(1-b)))*2*6371.007180918475*1e3)}function zh(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0;return O=+de[g>>3],T=+Ln(+O),E=+de[g+8>>3]-+de[A+8>>3],F=T*+Dt(+E),b=+de[A>>3],+ +Ve(+F,+(+Dt(+O)*+Ln(+b)-+Ln(+E)*(T*+Dt(+b))))}function gw(A,g,b,T){A=A|0,g=+g,b=+b,T=T|0;var E=0,O=0,F=0,U=0;if(b<1e-16){m[T>>2]=m[A>>2],m[T+4>>2]=m[A+4>>2],m[T+8>>2]=m[A+8>>2],m[T+12>>2]=m[A+12>>2];return}O=g<0?g+6.283185307179586:g,O=g>=6.283185307179586?O+-6.283185307179586:O;do if(O<1e-16)g=+de[A>>3]+b,de[T>>3]=g,E=T;else{if(E=+bn(+(O+-3.141592653589793))<1e-16,g=+de[A>>3],E){g=g-b,de[T>>3]=g,E=T;break}if(F=+Ln(+b),b=+Dt(+b),g=F*+Dt(+g)+ +Ln(+O)*(b*+Ln(+g)),g=g>1?1:g,g=+er(+(g<-1?-1:g)),de[T>>3]=g,+bn(+(g+-1.5707963267948966))<1e-16){de[T>>3]=1.5707963267948966,de[T+8>>3]=0;return}if(+bn(+(g+1.5707963267948966))<1e-16){de[T>>3]=-1.5707963267948966,de[T+8>>3]=0;return}if(U=1/+Ln(+g),O=b*+Dt(+O)*U,b=+de[A>>3],g=U*((F-+Dt(+g)*+Dt(+b))/+Ln(+b)),F=O>1?1:O,g=g>1?1:g,g=+de[A+8>>3]+ +Ve(+(F<-1?-1:F),+(g<-1?-1:g)),g>3.141592653589793)do g=g+-6.283185307179586;while(g>3.141592653589793);if(g<-3.141592653589793)do g=g+6.283185307179586;while(g<-3.141592653589793);de[T+8>>3]=g;return}while(0);if(+bn(+(g+-1.5707963267948966))<1e-16){de[E>>3]=1.5707963267948966,de[T+8>>3]=0;return}if(+bn(+(g+1.5707963267948966))<1e-16){de[E>>3]=-1.5707963267948966,de[T+8>>3]=0;return}if(g=+de[A+8>>3],g>3.141592653589793)do g=g+-6.283185307179586;while(g>3.141592653589793);if(g<-3.141592653589793)do g=g+6.283185307179586;while(g<-3.141592653589793);de[T+8>>3]=g}function tb(A,g){return A=A|0,g=g|0,A>>>0>15?(g=4,g|0):(de[g>>3]=+de[20656+(A<<3)>>3],g=0,g|0)}function m4(A,g){return A=A|0,g=g|0,A>>>0>15?(g=4,g|0):(de[g>>3]=+de[20784+(A<<3)>>3],g=0,g|0)}function Su(A,g){return A=A|0,g=g|0,A>>>0>15?(g=4,g|0):(de[g>>3]=+de[20912+(A<<3)>>3],g=0,g|0)}function Aw(A,g){return A=A|0,g=g|0,A>>>0>15?(g=4,g|0):(de[g>>3]=+de[21040+(A<<3)>>3],g=0,g|0)}function Bm(A,g){A=A|0,g=g|0;var b=0;return A>>>0>15?(g=4,g|0):(b=K(7,0,A,((A|0)<0)<<31>>31)|0,b=wa(b|0,fe()|0,120,0)|0,A=fe()|0,m[g>>2]=b|2,m[g+4>>2]=A,g=0,g|0)}function Vh(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0;return Le=+de[g>>3],ne=+de[A>>3],W=+Dt(+((Le-ne)*.5)),O=+de[g+8>>3],Q=+de[A+8>>3],F=+Dt(+((O-Q)*.5)),U=+Ln(+ne),xe=+Ln(+Le),F=W*W+F*(xe*U*F),F=+Ve(+ +Gn(+F),+ +Gn(+(1-F)))*2,W=+de[b>>3],Le=+Dt(+((W-Le)*.5)),T=+de[b+8>>3],O=+Dt(+((T-O)*.5)),E=+Ln(+W),O=Le*Le+O*(xe*E*O),O=+Ve(+ +Gn(+O),+ +Gn(+(1-O)))*2,W=+Dt(+((ne-W)*.5)),T=+Dt(+((Q-T)*.5)),T=W*W+T*(U*E*T),T=+Ve(+ +Gn(+T),+ +Gn(+(1-T)))*2,E=(F+O+T)*.5,+(+Ae(+ +Gn(+(+cn(+(E*.5))*+cn(+((E-F)*.5))*+cn(+((E-O)*.5))*+cn(+((E-T)*.5)))))*4)}function nb(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0;if(U=le,le=le+192|0,O=U+168|0,F=U,E=Sd(A,g,O)|0,E|0)return b=E,le=U,b|0;if(kh(A,g,F)|0&&Mt(27795,27190,415,27199),g=m[F>>2]|0,(g|0)>0){if(T=+Vh(F+8|0,F+8+(((g|0)!=1&1)<<4)|0,O)+0,(g|0)!=1){A=1;do E=A,A=A+1|0,T=T+ +Vh(F+8+(E<<4)|0,F+8+(((A|0)%(g|0)|0)<<4)|0,O);while((A|0)<(g|0))}}else T=0;return de[b>>3]=T,b=0,le=U,b|0}function Gg(A,g,b){return A=A|0,g=g|0,b=b|0,A=nb(A,g,b)|0,A|0||(de[b>>3]=+de[b>>3]*6371.007180918475*6371.007180918475),A|0}function Fm(A,g,b){return A=A|0,g=g|0,b=b|0,A=nb(A,g,b)|0,A|0||(de[b>>3]=+de[b>>3]*6371.007180918475*6371.007180918475*1e3*1e3),A|0}function vw(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;if(U=le,le=le+176|0,F=U,A=Dm(A,g,F)|0,A|0)return F=A,le=U,F|0;if(de[b>>3]=0,A=m[F>>2]|0,(A|0)<=1)return F=0,le=U,F|0;g=A+-1|0,A=0,T=+de[F+8>>3],E=+de[F+16>>3],O=0;do A=A+1|0,Q=T,T=+de[F+8+(A<<4)>>3],ne=+Dt(+((T-Q)*.5)),W=E,E=+de[F+8+(A<<4)+8>>3],W=+Dt(+((E-W)*.5)),W=ne*ne+W*(+Ln(+T)*+Ln(+Q)*W),O=O+ +Ve(+ +Gn(+W),+ +Gn(+(1-W)))*2;while((A|0)<(g|0));return de[b>>3]=O,F=0,le=U,F|0}function yw(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;if(U=le,le=le+176|0,F=U,A=Dm(A,g,F)|0,A|0)return F=A,O=+de[b>>3],O=O*6371.007180918475,de[b>>3]=O,le=U,F|0;if(de[b>>3]=0,A=m[F>>2]|0,(A|0)<=1)return F=0,O=0,O=O*6371.007180918475,de[b>>3]=O,le=U,F|0;g=A+-1|0,A=0,T=+de[F+8>>3],E=+de[F+16>>3],O=0;do A=A+1|0,Q=T,T=+de[F+8+(A<<4)>>3],ne=+Dt(+((T-Q)*.5)),W=E,E=+de[F+8+(A<<4)+8>>3],W=+Dt(+((E-W)*.5)),W=ne*ne+W*(+Ln(+Q)*+Ln(+T)*W),O=O+ +Ve(+ +Gn(+W),+ +Gn(+(1-W)))*2;while((A|0)!=(g|0));return de[b>>3]=O,F=0,ne=O,ne=ne*6371.007180918475,de[b>>3]=ne,le=U,F|0}function g4(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;if(U=le,le=le+176|0,F=U,A=Dm(A,g,F)|0,A|0)return F=A,O=+de[b>>3],O=O*6371.007180918475,O=O*1e3,de[b>>3]=O,le=U,F|0;if(de[b>>3]=0,A=m[F>>2]|0,(A|0)<=1)return F=0,O=0,O=O*6371.007180918475,O=O*1e3,de[b>>3]=O,le=U,F|0;g=A+-1|0,A=0,T=+de[F+8>>3],E=+de[F+16>>3],O=0;do A=A+1|0,Q=T,T=+de[F+8+(A<<4)>>3],ne=+Dt(+((T-Q)*.5)),W=E,E=+de[F+8+(A<<4)+8>>3],W=+Dt(+((E-W)*.5)),W=ne*ne+W*(+Ln(+Q)*+Ln(+T)*W),O=O+ +Ve(+ +Gn(+W),+ +Gn(+(1-W)))*2;while((A|0)!=(g|0));return de[b>>3]=O,F=0,ne=O,ne=ne*6371.007180918475,ne=ne*1e3,de[b>>3]=ne,le=U,F|0}function bw(A){A=A|0;var g=0,b=0,T=0;return g=ml(1,12)|0,g||Mt(27280,27235,49,27293),b=A+4|0,T=m[b>>2]|0,T|0?(T=T+8|0,m[T>>2]=g,m[b>>2]=g,g|0):(m[A>>2]|0&&Mt(27310,27235,61,27333),T=A,m[T>>2]=g,m[b>>2]=g,g|0)}function xw(A,g){A=A|0,g=g|0;var b=0,T=0;return T=Cd(24)|0,T||Mt(27347,27235,78,27361),m[T>>2]=m[g>>2],m[T+4>>2]=m[g+4>>2],m[T+8>>2]=m[g+8>>2],m[T+12>>2]=m[g+12>>2],m[T+16>>2]=0,g=A+4|0,b=m[g>>2]|0,b|0?(m[b+16>>2]=T,m[g>>2]=T,T|0):(m[A>>2]|0&&Mt(27376,27235,82,27361),m[A>>2]=T,m[g>>2]=T,T|0)}function rb(A){A=A|0;var g=0,b=0,T=0,E=0;if(A)for(T=1;;){if(g=m[A>>2]|0,g|0)do{if(b=m[g>>2]|0,b|0)do E=b,b=m[b+16>>2]|0,ar(E);while(b|0);E=g,g=m[g+8>>2]|0,ar(E)}while(g|0);if(g=A,A=m[A+8>>2]|0,T||ar(g),A)T=0;else break}}function _w(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0,st=0,un=0,Zn=0,Un=0,Nr=0,Ir=0,Hr=0,Sr=0,Jn=0,ln=0,Ur=0,Li=0,Br=0;if(E=A+8|0,m[E>>2]|0)return Br=1,Br|0;if(T=m[A>>2]|0,!T)return Br=0,Br|0;g=T,b=0;do b=b+1|0,g=m[g+8>>2]|0;while(g|0);if(b>>>0<2)return Br=0,Br|0;Ur=Cd(b<<2)|0,Ur||Mt(27396,27235,317,27415),ln=Cd(b<<5)|0,ln||Mt(27437,27235,321,27415),m[A>>2]=0,Zn=A+4|0,m[Zn>>2]=0,m[E>>2]=0,b=0,Jn=0,un=0,xe=0;e:for(;;){if(ne=m[T>>2]|0,ne){O=0,F=ne;do{if(W=+de[F+8>>3],g=F,F=m[F+16>>2]|0,Q=(F|0)==0,E=Q?ne:F,U=+de[E+8>>3],+bn(+(W-U))>3.141592653589793){Br=14;break}O=O+(U-W)*(+de[g>>3]+ +de[E>>3])}while(!Q);if((Br|0)==14){Br=0,O=0,g=ne;do st=+de[g+8>>3],Sr=g+16|0,Hr=m[Sr>>2]|0,Hr=Hr|0?Hr:ne,vt=+de[Hr+8>>3],O=O+(+de[g>>3]+ +de[Hr>>3])*((vt<0?vt+6.283185307179586:vt)-(st<0?st+6.283185307179586:st)),g=m[(g|0?Sr:T)>>2]|0;while(g|0)}O>0?(m[Ur+(Jn<<2)>>2]=T,Jn=Jn+1|0,E=un,g=xe):Br=19}else Br=19;if((Br|0)==19){Br=0;do if(b){if(g=b+8|0,m[g>>2]|0){Br=21;break e}if(b=ml(1,12)|0,!b){Br=23;break e}m[g>>2]=b,E=b+4|0,F=b,g=xe}else if(xe){E=Zn,F=xe+8|0,g=T,b=A;break}else if(m[A>>2]|0){Br=27;break e}else{E=Zn,F=A,g=T,b=A;break}while(0);if(m[F>>2]=T,m[E>>2]=T,F=ln+(un<<5)|0,Q=m[T>>2]|0,Q){for(ne=ln+(un<<5)+8|0,de[ne>>3]=17976931348623157e292,xe=ln+(un<<5)+24|0,de[xe>>3]=17976931348623157e292,de[F>>3]=-17976931348623157e292,Le=ln+(un<<5)+16|0,de[Le>>3]=-17976931348623157e292,It=17976931348623157e292,bt=-17976931348623157e292,E=0,Be=Q,W=17976931348623157e292,it=17976931348623157e292,At=-17976931348623157e292,U=-17976931348623157e292;O=+de[Be>>3],st=+de[Be+8>>3],Be=m[Be+16>>2]|0,Fe=(Be|0)==0,vt=+de[(Fe?Q:Be)+8>>3],O<W&&(de[ne>>3]=O,W=O),st<it&&(de[xe>>3]=st,it=st),O>At?de[F>>3]=O:O=At,st>U&&(de[Le>>3]=st,U=st),It=st>0&st<It?st:It,bt=st<0&st>bt?st:bt,E=E|+bn(+(st-vt))>3.141592653589793,!Fe;)At=O;E&&(de[Le>>3]=bt,de[xe>>3]=It)}else m[F>>2]=0,m[F+4>>2]=0,m[F+8>>2]=0,m[F+12>>2]=0,m[F+16>>2]=0,m[F+20>>2]=0,m[F+24>>2]=0,m[F+28>>2]=0;E=un+1|0}if(Sr=T+8|0,T=m[Sr>>2]|0,m[Sr>>2]=0,T)un=E,xe=g;else{Br=45;break}}if((Br|0)==21)Mt(27213,27235,35,27247);else if((Br|0)==23)Mt(27267,27235,37,27247);else if((Br|0)==27)Mt(27310,27235,61,27333);else if((Br|0)==45){e:do if((Jn|0)>0){for(Sr=(E|0)==0,Ir=E<<2,Hr=(A|0)==0,Nr=0,g=0;;){if(Un=m[Ur+(Nr<<2)>>2]|0,Sr)Br=73;else{if(un=Cd(Ir)|0,!un){Br=50;break}if(Zn=Cd(Ir)|0,!Zn){Br=52;break}t:do if(Hr)b=0;else{for(E=0,b=0,F=A;T=ln+(E<<5)|0,ib(m[F>>2]|0,T,m[Un>>2]|0)|0?(m[un+(b<<2)>>2]=F,m[Zn+(b<<2)>>2]=T,Fe=b+1|0):Fe=b,F=m[F+8>>2]|0,F;)E=E+1|0,b=Fe;if((Fe|0)>0)if(T=m[un>>2]|0,(Fe|0)==1)b=T;else for(Le=0,Be=-1,b=T,xe=T;;){for(Q=m[xe>>2]|0,T=0,F=0;E=m[m[un+(F<<2)>>2]>>2]|0,(E|0)==(Q|0)?ne=T:ne=T+((ib(E,m[Zn+(F<<2)>>2]|0,m[Q>>2]|0)|0)&1)|0,F=F+1|0,(F|0)!=(Fe|0);)T=ne;if(E=(ne|0)>(Be|0),b=E?xe:b,T=Le+1|0,(T|0)==(Fe|0))break t;Le=T,Be=E?ne:Be,xe=m[un+(T<<2)>>2]|0}else b=0}while(0);if(ar(un),ar(Zn),b){if(E=b+4|0,T=m[E>>2]|0,T)b=T+8|0;else if(m[b>>2]|0){Br=70;break}m[b>>2]=Un,m[E>>2]=Un}else Br=73}if((Br|0)==73){if(Br=0,g=m[Un>>2]|0,g|0)do Zn=g,g=m[g+16>>2]|0,ar(Zn);while(g|0);ar(Un),g=1}if(Nr=Nr+1|0,(Nr|0)>=(Jn|0)){Li=g;break e}}(Br|0)==50?Mt(27452,27235,249,27471):(Br|0)==52?Mt(27490,27235,252,27471):(Br|0)==70&&Mt(27310,27235,61,27333)}else Li=0;while(0);return ar(Ur),ar(ln),Br=Li,Br|0}return 0}function ib(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;if(!(vu(g,b)|0)||(g=mo(g)|0,T=+de[b>>3],E=+de[b+8>>3],E=g&E<0?E+6.283185307179586:E,A=m[A>>2]|0,!A))return A=0,A|0;if(g){g=0,Q=E,b=A;e:for(;;){for(;F=+de[b>>3],E=+de[b+8>>3],b=b+16|0,ne=m[b>>2]|0,ne=ne|0?ne:A,O=+de[ne>>3],U=+de[ne+8>>3],F>O?(W=F,F=U):(W=O,O=F,F=E,E=U),T=T==O|T==W?T+2220446049250313e-31:T,!!(T<O|T>W);)if(b=m[b>>2]|0,!b){b=22;break e}if(U=F<0?F+6.283185307179586:F,F=E<0?E+6.283185307179586:E,Q=U==Q|F==Q?Q+-2220446049250313e-31:Q,W=U+(F-U)*((T-O)/(W-O)),(W<0?W+6.283185307179586:W)>Q&&(g=g^1),b=m[b>>2]|0,!b){b=22;break}}if((b|0)==22)return g|0}else{g=0,Q=E,b=A;e:for(;;){for(;F=+de[b>>3],E=+de[b+8>>3],b=b+16|0,ne=m[b>>2]|0,ne=ne|0?ne:A,O=+de[ne>>3],U=+de[ne+8>>3],F>O?(W=F,F=U):(W=O,O=F,F=E,E=U),T=T==O|T==W?T+2220446049250313e-31:T,!!(T<O|T>W);)if(b=m[b>>2]|0,!b){b=22;break e}if(Q=F==Q|E==Q?Q+-2220446049250313e-31:Q,F+(E-F)*((T-O)/(W-O))>Q&&(g=g^1),b=m[b>>2]|0,!b){b=22;break}}if((b|0)==22)return g|0}return 0}function wu(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0;if(bt=le,le=le+32|0,It=bt+16|0,At=bt,O=Jt(A|0,g|0,52)|0,fe()|0,O=O&15,Be=Jt(b|0,T|0,52)|0,fe()|0,(O|0)!=(Be&15|0))return It=12,le=bt,It|0;if(Q=Jt(A|0,g|0,45)|0,fe()|0,Q=Q&127,ne=Jt(b|0,T|0,45)|0,fe()|0,ne=ne&127,Q>>>0>121|ne>>>0>121)return It=5,le=bt,It|0;if(Be=(Q|0)!=(ne|0),Be){if(U=yi(Q,ne)|0,(U|0)==7)return It=1,le=bt,It|0;W=yi(ne,Q)|0,(W|0)==7?Mt(27514,27538,161,27548):(Fe=U,F=W)}else Fe=0,F=0;xe=ri(Q)|0,Le=ri(ne)|0,m[It>>2]=0,m[It+4>>2]=0,m[It+8>>2]=0,m[It+12>>2]=0;do if(Fe){if(ne=m[4272+(Q*28|0)+(Fe<<2)>>2]|0,U=(ne|0)>0,Le)if(U){Q=0,W=b,U=T;do W=Q1(W,U)|0,U=fe()|0,F=Pc(F)|0,(F|0)==1&&(F=Pc(1)|0),Q=Q+1|0;while((Q|0)!=(ne|0));ne=F,Q=W,W=U}else ne=F,Q=b,W=T;else if(U){Q=0,W=b,U=T;do W=Fh(W,U)|0,U=fe()|0,F=Pc(F)|0,Q=Q+1|0;while((Q|0)!=(ne|0));ne=F,Q=W,W=U}else ne=F,Q=b,W=T;if($h(Q,W,It)|0,Be||Mt(27563,27538,191,27548),U=(xe|0)!=0,F=(Le|0)!=0,U&F&&Mt(27590,27538,192,27548),U){if(F=go(A,g)|0,(F|0)==7){O=5;break}if(xt[22e3+(F*7|0)+Fe>>0]|0){O=1;break}W=m[21168+(F*28|0)+(Fe<<2)>>2]|0,Q=W}else if(F){if(F=go(Q,W)|0,(F|0)==7){O=5;break}if(xt[22e3+(F*7|0)+ne>>0]|0){O=1;break}Q=0,W=m[21168+(ne*28|0)+(F<<2)>>2]|0}else Q=0,W=0;if((Q|W|0)<0)O=5;else{if((W|0)>0){U=It+4|0,F=0;do Im(U),F=F+1|0;while((F|0)!=(W|0))}if(m[At>>2]=0,m[At+4>>2]=0,m[At+8>>2]=0,j1(At,Fe),O|0)for(;Va(O)|0?Ls(At):wf(At),(O|0)>1;)O=O+-1|0;if((Q|0)>0){O=0;do Im(At),O=O+1|0;while((O|0)!=(Q|0))}it=It+4|0,za(it,At,it),Fo(it),it=51}}else if($h(b,T,It)|0,(xe|0)!=0&(Le|0)!=0)if((ne|0)!=(Q|0)&&Mt(27621,27538,261,27548),F=go(A,g)|0,O=go(b,T)|0,(F|0)==7|(O|0)==7)O=5;else if(xt[22e3+(F*7|0)+O>>0]|0)O=1;else if(F=m[21168+(F*28|0)+(O<<2)>>2]|0,(F|0)>0){U=It+4|0,O=0;do Im(U),O=O+1|0;while((O|0)!=(F|0));it=51}else it=51;else it=51;while(0);return(it|0)==51&&(O=It+4|0,m[E>>2]=m[O>>2],m[E+4>>2]=m[O+4>>2],m[E+8>>2]=m[O+8>>2],O=0),It=O,le=bt,It|0}function ob(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0;if(it=le,le=le+48|0,Q=it+36|0,F=it+24|0,U=it+12|0,W=it,E=Jt(A|0,g|0,52)|0,fe()|0,E=E&15,Le=Jt(A|0,g|0,45)|0,fe()|0,Le=Le&127,Le>>>0>121)return T=5,le=it,T|0;if(ne=ri(Le)|0,sn(E|0,0,52)|0,At=fe()|0|134225919,O=T,m[O>>2]=-1,m[O+4>>2]=At,!E)return E=Nm(b)|0,(E|0)==7||(E=dr(Le,E)|0,(E|0)==127)?(At=1,le=it,At|0):(Be=sn(E|0,0,45)|0,Fe=fe()|0,Le=T,Fe=m[Le+4>>2]&-1040385|Fe,At=T,m[At>>2]=m[Le>>2]|Be,m[At+4>>2]=Fe,At=0,le=it,At|0);for(m[Q>>2]=m[b>>2],m[Q+4>>2]=m[b+4>>2],m[Q+8>>2]=m[b+8>>2],b=E;;){if(O=b,b=b+-1|0,m[F>>2]=m[Q>>2],m[F+4>>2]=m[Q+4>>2],m[F+8>>2]=m[Q+8>>2],Va(O)|0){if(E=t4(Q)|0,E|0){b=13;break}m[U>>2]=m[Q>>2],m[U+4>>2]=m[Q+4>>2],m[U+8>>2]=m[Q+8>>2],Ls(U)}else{if(E=n4(Q)|0,E|0){b=13;break}m[U>>2]=m[Q>>2],m[U+4>>2]=m[Q+4>>2],m[U+8>>2]=m[Q+8>>2],wf(U)}if(Rm(F,U,W),Fo(W),E=T,bt=m[E>>2]|0,E=m[E+4>>2]|0,vt=(15-O|0)*3|0,It=sn(7,0,vt|0)|0,E=E&~(fe()|0),vt=sn(Nm(W)|0,0,vt|0)|0,E=fe()|0|E,At=T,m[At>>2]=vt|bt&~It,m[At+4>>2]=E,(O|0)<=1){b=14;break}}e:do if((b|0)!=13&&(b|0)==14)if((m[Q>>2]|0)<=1&&(m[Q+4>>2]|0)<=1&&(m[Q+8>>2]|0)<=1){b=Nm(Q)|0,E=dr(Le,b)|0,(E|0)==127?W=0:W=ri(E)|0;t:do if(b){if(ne){if(E=go(A,g)|0,(E|0)==7){E=5;break e}if(O=m[21376+(E*28|0)+(b<<2)>>2]|0,(O|0)>0){E=b,b=0;do E=vd(E)|0,b=b+1|0;while((b|0)!=(O|0))}else E=b;if((E|0)==1){E=9;break e}b=dr(Le,E)|0,(b|0)==127&&Mt(27648,27538,411,27678),ri(b)|0?Mt(27693,27538,412,27678):(Fe=b,Be=O,xe=E)}else Fe=E,Be=0,xe=b;if(U=m[4272+(Le*28|0)+(xe<<2)>>2]|0,(U|0)<=-1&&Mt(27724,27538,419,27678),!W){if((Be|0)<0){E=5;break e}if(Be|0){O=T,E=0,b=m[O>>2]|0,O=m[O+4>>2]|0;do b=bd(b,O)|0,O=fe()|0,vt=T,m[vt>>2]=b,m[vt+4>>2]=O,E=E+1|0;while((E|0)<(Be|0))}if((U|0)<=0){E=Fe,b=58;break}for(O=T,E=0,b=m[O>>2]|0,O=m[O+4>>2]|0;;)if(b=bd(b,O)|0,O=fe()|0,vt=T,m[vt>>2]=b,m[vt+4>>2]=O,E=E+1|0,(E|0)==(U|0)){E=Fe,b=58;break t}}if(F=yi(Fe,Le)|0,(F|0)==7&&Mt(27514,27538,428,27678),E=T,b=m[E>>2]|0,E=m[E+4>>2]|0,(U|0)>0){O=0;do b=bd(b,E)|0,E=fe()|0,vt=T,m[vt>>2]=b,m[vt+4>>2]=E,O=O+1|0;while((O|0)!=(U|0))}if(E=go(b,E)|0,(E|0)==7&&Mt(27795,27538,440,27678),b=dl(Fe)|0,b=m[(b?21792:21584)+(F*28|0)+(E<<2)>>2]|0,(b|0)<0&&Mt(27795,27538,454,27678),!b)E=Fe,b=58;else{F=T,E=0,O=m[F>>2]|0,F=m[F+4>>2]|0;do O=Bh(O,F)|0,F=fe()|0,vt=T,m[vt>>2]=O,m[vt+4>>2]=F,E=E+1|0;while((E|0)<(b|0));E=Fe,b=58}}else if((ne|0)!=0&(W|0)!=0){if(b=go(A,g)|0,O=T,O=go(m[O>>2]|0,m[O+4>>2]|0)|0,(b|0)==7|(O|0)==7){E=5;break e}if(O=m[21376+(b*28|0)+(O<<2)>>2]|0,(O|0)<0){E=5;break e}if(!O)b=59;else{U=T,b=0,F=m[U>>2]|0,U=m[U+4>>2]|0;do F=bd(F,U)|0,U=fe()|0,vt=T,m[vt>>2]=F,m[vt+4>>2]=U,b=b+1|0;while((b|0)<(O|0));b=58}}else b=58;while(0);if((b|0)==58&&W&&(b=59),(b|0)==59&&(vt=T,(go(m[vt>>2]|0,m[vt+4>>2]|0)|0)==1)){E=9;break}vt=T,It=m[vt>>2]|0,vt=m[vt+4>>2]&-1040385,bt=sn(E|0,0,45)|0,vt=vt|(fe()|0),E=T,m[E>>2]=It|bt,m[E+4>>2]=vt,E=0}else E=1;while(0);return vt=E,le=it,vt|0}function Sw(A,g,b,T,E,O){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0,O=O|0;var F=0,U=0;return U=le,le=le+16|0,F=U,E?A=15:(A=wu(A,g,b,T,F)|0,A||(r4(F,O),A=0)),le=U,A|0}function A4(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0;return F=le,le=le+16|0,O=F,T?b=15:(b=i4(b,O)|0,b||(b=ob(A,g,O,E)|0)),le=F,b|0}function v(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0;return W=le,le=le+32|0,F=W+12|0,U=W,O=wu(A,g,A,g,F)|0,O|0?(U=O,le=W,U|0):(A=wu(A,g,b,T,U)|0,A|0?(U=A,le=W,U|0):(F=$g(F,U)|0,U=E,m[U>>2]=F,m[U+4>>2]=((F|0)<0)<<31>>31,U=0,le=W,U|0))}function P(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0;return W=le,le=le+32|0,F=W+12|0,U=W,O=wu(A,g,A,g,F)|0,!O&&(O=wu(A,g,b,T,U)|0,!O)?(T=$g(F,U)|0,T=or(T|0,((T|0)<0)<<31>>31|0,1,0)|0,F=fe()|0,U=E,m[U>>2]=T,m[U+4>>2]=F,U=0,le=W,U|0):(U=O,le=W,U|0)}function k(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0,st=0,un=0,Zn=0,Un=0,Nr=0;if(Un=le,le=le+48|0,un=Un+24|0,F=Un+12|0,Zn=Un,O=wu(A,g,A,g,un)|0,!O&&(O=wu(A,g,b,T,F)|0,!O)){vt=$g(un,F)|0,st=((vt|0)<0)<<31>>31,m[un>>2]=0,m[un+4>>2]=0,m[un+8>>2]=0,m[F>>2]=0,m[F+4>>2]=0,m[F+8>>2]=0,wu(A,g,A,g,un)|0&&Mt(27795,27538,692,27747),wu(A,g,b,T,F)|0&&Mt(27795,27538,697,27747),kg(un),kg(F),ne=vt|0?1/+(vt|0):0,b=m[un>>2]|0,it=ne*+((m[F>>2]|0)-b|0),At=un+4|0,T=m[At>>2]|0,It=ne*+((m[F+4>>2]|0)-T|0),bt=un+8|0,O=m[bt>>2]|0,ne=ne*+((m[F+8>>2]|0)-O|0),m[Zn>>2]=b,xe=Zn+4|0,m[xe>>2]=T,Le=Zn+8|0,m[Le>>2]=O;e:do if((vt|0)<0)O=0;else for(Be=0,Fe=0;;){W=+(Fe>>>0)+4294967296*+(Be|0),Nr=it*W+ +(b|0),U=It*W+ +(T|0),W=ne*W+ +(O|0),b=~~+Rw(+Nr),F=~~+Rw(+U),O=~~+Rw(+W),Nr=+bn(+(+(b|0)-Nr)),U=+bn(+(+(F|0)-U)),W=+bn(+(+(O|0)-W));do if(Nr>U&Nr>W)b=0-(F+O)|0,T=F;else if(Q=0-b|0,U>W){T=Q-O|0;break}else{T=F,O=Q-F|0;break}while(0);if(m[Zn>>2]=b,m[xe>>2]=T,m[Le>>2]=O,o4(Zn),O=ob(A,g,Zn,E+(Fe<<3)|0)|0,O|0)break e;if(!((Be|0)<(st|0)|(Be|0)==(st|0)&Fe>>>0<vt>>>0)){O=0;break e}b=or(Fe|0,Be|0,1,0)|0,T=fe()|0,Be=T,Fe=b,b=m[un>>2]|0,T=m[At>>2]|0,O=m[bt>>2]|0}while(0);return Zn=O,le=Un,Zn|0}return Zn=O,le=Un,Zn|0}function K(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0;if((b|0)==0&(T|0)==0)return E=0,O=1,Ot(E|0),O|0;O=A,E=g,A=1,g=0;do F=(b&1|0)==0&!0,A=wa((F?1:O)|0,(F?0:E)|0,A|0,g|0)|0,g=fe()|0,b=sz(b|0,T|0,1)|0,T=fe()|0,O=wa(O|0,E|0,O|0,E|0)|0,E=fe()|0;while(!((b|0)==0&(T|0)==0));return Ot(g|0),A|0}function oe(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;U=le,le=le+16|0,O=U,F=Jt(A|0,g|0,52)|0,fe()|0,F=F&15;do if(F){if(E=Sd(A,g,O)|0,!E){Q=+de[O>>3],W=1/+Ln(+Q),ne=+de[25968+(F<<3)>>3],de[b>>3]=Q+ne,de[b+8>>3]=Q-ne,Q=+de[O+8>>3],W=ne*W,de[b+16>>3]=W+Q,de[b+24>>3]=Q-W;break}return F=E,le=U,F|0}else{if(E=Jt(A|0,g|0,45)|0,fe()|0,E=E&127,E>>>0>121)return F=5,le=U,F|0;O=22064+(E<<5)|0,m[b>>2]=m[O>>2],m[b+4>>2]=m[O+4>>2],m[b+8>>2]=m[O+8>>2],m[b+12>>2]=m[O+12>>2],m[b+16>>2]=m[O+16>>2],m[b+20>>2]=m[O+20>>2],m[b+24>>2]=m[O+24>>2],m[b+28>>2]=m[O+28>>2];break}while(0);return ii(b,T?1.4:1.1),T=26096+(F<<3)|0,(m[T>>2]|0)==(A|0)&&(m[T+4>>2]|0)==(g|0)&&(de[b>>3]=1.5707963267948966),F=26224+(F<<3)|0,(m[F>>2]|0)==(A|0)&&(m[F+4>>2]|0)==(g|0)&&(de[b+8>>3]=-1.5707963267948966),+de[b>>3]!=1.5707963267948966&&+de[b+8>>3]!=-1.5707963267948966?(F=0,le=U,F|0):(de[b+16>>3]=3.141592653589793,de[b+24>>3]=-3.141592653589793,F=0,le=U,F|0)}function be(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;Q=le,le=le+48|0,F=Q+32|0,O=Q+40|0,U=Q,Dh(F,0,0,0),W=m[F>>2]|0,F=m[F+4>>2]|0;do if(b>>>0<=15){if(E=$r(T)|0,E|0){T=U,m[T>>2]=0,m[T+4>>2]=0,m[U+8>>2]=E,m[U+12>>2]=-1,T=U+16|0,W=U+29|0,m[T>>2]=0,m[T+4>>2]=0,m[T+8>>2]=0,xt[T+12>>0]=0,xt[W>>0]=xt[O>>0]|0,xt[W+1>>0]=xt[O+1>>0]|0,xt[W+2>>0]=xt[O+2>>0]|0;break}if(E=ml((m[g+8>>2]|0)+1|0,32)|0,E){da(g,E),ne=U,m[ne>>2]=W,m[ne+4>>2]=F,m[U+8>>2]=0,m[U+12>>2]=b,m[U+16>>2]=T,m[U+20>>2]=g,m[U+24>>2]=E,xt[U+28>>0]=0,W=U+29|0,xt[W>>0]=xt[O>>0]|0,xt[W+1>>0]=xt[O+1>>0]|0,xt[W+2>>0]=xt[O+2>>0]|0;break}else{T=U,m[T>>2]=0,m[T+4>>2]=0,m[U+8>>2]=13,m[U+12>>2]=-1,T=U+16|0,W=U+29|0,m[T>>2]=0,m[T+4>>2]=0,m[T+8>>2]=0,xt[T+12>>0]=0,xt[W>>0]=xt[O>>0]|0,xt[W+1>>0]=xt[O+1>>0]|0,xt[W+2>>0]=xt[O+2>>0]|0;break}}else W=U,m[W>>2]=0,m[W+4>>2]=0,m[U+8>>2]=4,m[U+12>>2]=-1,W=U+16|0,ne=U+29|0,m[W>>2]=0,m[W+4>>2]=0,m[W+8>>2]=0,xt[W+12>>0]=0,xt[ne>>0]=xt[O>>0]|0,xt[ne+1>>0]=xt[O+1>>0]|0,xt[ne+2>>0]=xt[O+2>>0]|0;while(0);Je(U),m[A>>2]=m[U>>2],m[A+4>>2]=m[U+4>>2],m[A+8>>2]=m[U+8>>2],m[A+12>>2]=m[U+12>>2],m[A+16>>2]=m[U+16>>2],m[A+20>>2]=m[U+20>>2],m[A+24>>2]=m[U+24>>2],m[A+28>>2]=m[U+28>>2],le=Q}function Je(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0,st=0;if(st=le,le=le+336|0,Be=st+168|0,Fe=st,T=A,b=m[T>>2]|0,T=m[T+4>>2]|0,(b|0)==0&(T|0)==0){le=st;return}if(g=A+28|0,xt[g>>0]|0?(b=Ct(b,T)|0,T=fe()|0):xt[g>>0]=1,vt=A+20|0,!(m[m[vt>>2]>>2]|0)){g=A+24|0,b=m[g>>2]|0,b|0&&ar(b),bt=A,m[bt>>2]=0,m[bt+4>>2]=0,m[A+8>>2]=0,m[vt>>2]=0,m[A+12>>2]=-1,m[A+16>>2]=0,m[g>>2]=0,le=st;return}bt=A+16|0,g=m[bt>>2]|0,E=g&15;e:do if((b|0)==0&(T|0)==0)It=A+24|0;else{it=A+12|0,xe=(E|0)==3,ne=g&255,W=(E|1|0)==3,Le=A+24|0,Q=(E+-1|0)>>>0<3,F=(E|2|0)==3,U=Fe+8|0;t:for(;;){if(O=Jt(b|0,T|0,52)|0,fe()|0,O=O&15,(O|0)==(m[it>>2]|0)){switch(ne&15){case 0:case 2:case 3:{if(E=Sd(b,T,Be)|0,E|0){At=15;break t}if($o(m[vt>>2]|0,m[Le>>2]|0,Be)|0){At=19;break t}break}}if(W&&(E=m[(m[vt>>2]|0)+4>>2]|0,m[Be>>2]=m[E>>2],m[Be+4>>2]=m[E+4>>2],m[Be+8>>2]=m[E+8>>2],m[Be+12>>2]=m[E+12>>2],vu(26832,Be)|0)){if(xd(m[(m[vt>>2]|0)+4>>2]|0,O,Fe)|0){At=25;break}if(E=Fe,(m[E>>2]|0)==(b|0)&&(m[E+4>>2]|0)==(T|0)){At=29;break}}if(Q){if(E=kh(b,T,Be)|0,E|0){At=32;break}if(oe(b,T,Fe,0)|0){At=36;break}if(F&&Bs(m[vt>>2]|0,m[Le>>2]|0,Be,Fe)|0){At=42;break}if(W&&Mf(m[vt>>2]|0,m[Le>>2]|0,Be,Fe)|0){At=42;break}}if(xe){if(g=oe(b,T,Be,1)|0,E=m[Le>>2]|0,g|0){At=45;break}if(Bg(E,Be)|0){if(Fg(Fe,Be),G1(Be,m[Le>>2]|0)|0){At=53;break}if($o(m[vt>>2]|0,m[Le>>2]|0,U)|0){At=53;break}if(Mf(m[vt>>2]|0,m[Le>>2]|0,Fe,Be)|0){At=53;break}}}}do if((O|0)<(m[it>>2]|0)){if(g=oe(b,T,Be,1)|0,E=m[Le>>2]|0,g|0){At=58;break t}if(!(Bg(E,Be)|0)){At=73;break}if(G1(m[Le>>2]|0,Be)|0&&(Fg(Fe,Be),Bs(m[vt>>2]|0,m[Le>>2]|0,Fe,Be)|0)){At=65;break t}if(b=fw(b,T,O+1|0,Fe)|0,b|0){At=67;break t}T=Fe,b=m[T>>2]|0,T=m[T+4>>2]|0}else At=73;while(0);if((At|0)==73&&(At=0,b=Ct(b,T)|0,T=fe()|0),(b|0)==0&(T|0)==0){It=Le;break e}}switch(At|0){case 15:{g=m[Le>>2]|0,g|0&&ar(g),At=A,m[At>>2]=0,m[At+4>>2]=0,m[vt>>2]=0,m[it>>2]=-1,m[bt>>2]=0,m[Le>>2]=0,m[A+8>>2]=E,At=20;break}case 19:{m[A>>2]=b,m[A+4>>2]=T,At=20;break}case 25:{Mt(27795,27761,470,27772);break}case 29:{m[A>>2]=b,m[A+4>>2]=T,le=st;return}case 32:{g=m[Le>>2]|0,g|0&&ar(g),It=A,m[It>>2]=0,m[It+4>>2]=0,m[vt>>2]=0,m[it>>2]=-1,m[bt>>2]=0,m[Le>>2]=0,m[A+8>>2]=E,le=st;return}case 36:{Mt(27795,27761,493,27772);break}case 42:{m[A>>2]=b,m[A+4>>2]=T,le=st;return}case 45:{E|0&&ar(E),At=A,m[At>>2]=0,m[At+4>>2]=0,m[vt>>2]=0,m[it>>2]=-1,m[bt>>2]=0,m[Le>>2]=0,m[A+8>>2]=g,At=55;break}case 53:{m[A>>2]=b,m[A+4>>2]=T,At=55;break}case 58:{E|0&&ar(E),At=A,m[At>>2]=0,m[At+4>>2]=0,m[vt>>2]=0,m[it>>2]=-1,m[bt>>2]=0,m[Le>>2]=0,m[A+8>>2]=g,At=71;break}case 65:{m[A>>2]=b,m[A+4>>2]=T,At=71;break}case 67:{g=m[Le>>2]|0,g|0&&ar(g),It=A,m[It>>2]=0,m[It+4>>2]=0,m[vt>>2]=0,m[it>>2]=-1,m[bt>>2]=0,m[Le>>2]=0,m[A+8>>2]=b,le=st;return}}if((At|0)==20){le=st;return}else if((At|0)==55){le=st;return}else if((At|0)==71){le=st;return}}while(0);g=m[It>>2]|0,g|0&&ar(g),At=A,m[At>>2]=0,m[At+4>>2]=0,m[A+8>>2]=0,m[vt>>2]=0,m[A+12>>2]=-1,m[bt>>2]=0,m[It>>2]=0,le=st}function Ct(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0;xe=le,le=le+16|0,ne=xe,T=Jt(A|0,g|0,52)|0,fe()|0,T=T&15,b=Jt(A|0,g|0,45)|0,fe()|0;do if(T){for(;b=sn(T+4095|0,0,52)|0,E=fe()|0|g&-15728641,O=(15-T|0)*3|0,F=sn(7,0,O|0)|0,U=fe()|0,b=b|A|F,E=E|U,W=Jt(A|0,g|0,O|0)|0,fe()|0,W=W&7,T=T+-1|0,!(W>>>0<6);)if(T)g=E,A=b;else{Q=4;break}if((Q|0)==4){b=Jt(b|0,E|0,45)|0,fe()|0;break}return ne=(W|0)==0&(fi(b,E)|0)!=0,ne=sn((ne?2:1)+W|0,0,O|0)|0,Q=fe()|0|g&~U,ne=ne|A&~F,Ot(Q|0),le=xe,ne|0}while(0);return b=b&127,b>>>0>120?(Q=0,ne=0,Ot(Q|0),le=xe,ne|0):(Dh(ne,0,b+1|0,0),Q=m[ne+4>>2]|0,ne=m[ne>>2]|0,Ot(Q|0),le=xe,ne|0)}function Bt(A,g,b,T,E,O){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0,O=O|0;var F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0;At=le,le=le+160|0,xe=At+80|0,U=At+64|0,Le=At+112|0,it=At,be(xe,A,g,b),Q=xe,pl(U,m[Q>>2]|0,m[Q+4>>2]|0,g),Q=U,W=m[Q>>2]|0,Q=m[Q+4>>2]|0,F=m[xe+8>>2]|0,Be=Le+4|0,m[Be>>2]=m[xe>>2],m[Be+4>>2]=m[xe+4>>2],m[Be+8>>2]=m[xe+8>>2],m[Be+12>>2]=m[xe+12>>2],m[Be+16>>2]=m[xe+16>>2],m[Be+20>>2]=m[xe+20>>2],m[Be+24>>2]=m[xe+24>>2],m[Be+28>>2]=m[xe+28>>2],Be=it,m[Be>>2]=W,m[Be+4>>2]=Q,Be=it+8|0,m[Be>>2]=F,A=it+12|0,g=Le,b=A+36|0;do m[A>>2]=m[g>>2],A=A+4|0,g=g+4|0;while((A|0)<(b|0));if(Le=it+48|0,m[Le>>2]=m[U>>2],m[Le+4>>2]=m[U+4>>2],m[Le+8>>2]=m[U+8>>2],m[Le+12>>2]=m[U+12>>2],(W|0)==0&(Q|0)==0)return it=F,le=At,it|0;b=it+16|0,ne=it+24|0,xe=it+28|0,F=0,U=0,g=W,A=Q;do{if(!((F|0)<(E|0)|(F|0)==(E|0)&U>>>0<T>>>0)){Fe=4;break}if(Q=U,U=or(U|0,F|0,1,0)|0,F=fe()|0,Q=O+(Q<<3)|0,m[Q>>2]=g,m[Q+4>>2]=A,eb(Le),A=Le,g=m[A>>2]|0,A=m[A+4>>2]|0,(g|0)==0&(A|0)==0){if(Je(b),g=b,A=m[g>>2]|0,g=m[g+4>>2]|0,(A|0)==0&(g|0)==0){Fe=10;break}Lm(A,g,m[xe>>2]|0,Le),A=Le,g=m[A>>2]|0,A=m[A+4>>2]|0}Q=it,m[Q>>2]=g,m[Q+4>>2]=A}while(!((g|0)==0&(A|0)==0));return(Fe|0)==4?(A=it+40|0,g=m[A>>2]|0,g|0&&ar(g),Fe=it+16|0,m[Fe>>2]=0,m[Fe+4>>2]=0,m[ne>>2]=0,m[it+36>>2]=0,m[xe>>2]=-1,m[it+32>>2]=0,m[A>>2]=0,Lm(0,0,0,Le),m[it>>2]=0,m[it+4>>2]=0,m[Be>>2]=0,it=14,le=At,it|0):((Fe|0)==10&&(m[it>>2]=0,m[it+4>>2]=0,m[Be>>2]=m[ne>>2]),it=m[Be>>2]|0,le=At,it|0)}function on(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0;if(xe=le,le=le+48|0,W=xe+32|0,U=xe+40|0,Q=xe,!(m[A>>2]|0))return ne=T,m[ne>>2]=0,m[ne+4>>2]=0,ne=0,le=xe,ne|0;Dh(W,0,0,0),F=W,E=m[F>>2]|0,F=m[F+4>>2]|0;do if(g>>>0>15)ne=Q,m[ne>>2]=0,m[ne+4>>2]=0,m[Q+8>>2]=4,m[Q+12>>2]=-1,ne=Q+16|0,b=Q+29|0,m[ne>>2]=0,m[ne+4>>2]=0,m[ne+8>>2]=0,xt[ne+12>>0]=0,xt[b>>0]=xt[U>>0]|0,xt[b+1>>0]=xt[U+1>>0]|0,xt[b+2>>0]=xt[U+2>>0]|0,b=4,ne=9;else{if(b=$r(b)|0,b|0){W=Q,m[W>>2]=0,m[W+4>>2]=0,m[Q+8>>2]=b,m[Q+12>>2]=-1,W=Q+16|0,ne=Q+29|0,m[W>>2]=0,m[W+4>>2]=0,m[W+8>>2]=0,xt[W+12>>0]=0,xt[ne>>0]=xt[U>>0]|0,xt[ne+1>>0]=xt[U+1>>0]|0,xt[ne+2>>0]=xt[U+2>>0]|0,ne=9;break}if(b=ml((m[A+8>>2]|0)+1|0,32)|0,!b){ne=Q,m[ne>>2]=0,m[ne+4>>2]=0,m[Q+8>>2]=13,m[Q+12>>2]=-1,ne=Q+16|0,b=Q+29|0,m[ne>>2]=0,m[ne+4>>2]=0,m[ne+8>>2]=0,xt[ne+12>>0]=0,xt[b>>0]=xt[U>>0]|0,xt[b+1>>0]=xt[U+1>>0]|0,xt[b+2>>0]=xt[U+2>>0]|0,b=13,ne=9;break}da(A,b),Be=Q,m[Be>>2]=E,m[Be+4>>2]=F,F=Q+8|0,m[F>>2]=0,m[Q+12>>2]=g,m[Q+20>>2]=A,m[Q+24>>2]=b,xt[Q+28>>0]=0,E=Q+29|0,xt[E>>0]=xt[U>>0]|0,xt[E+1>>0]=xt[U+1>>0]|0,xt[E+2>>0]=xt[U+2>>0]|0,m[Q+16>>2]=3,Le=+Mc(b),Le=Le*+Ec(b),O=+bn(+ +de[b>>3]),O=Le/+Ln(+ +Pw(+O,+ +bn(+ +de[b+8>>3])))*6371.007180918475*6371.007180918475,E=Q+12|0,b=m[E>>2]|0;e:do if((b|0)>0)do{if(tb(b+-1|0,W)|0,!(O/+de[W>>3]>10))break e;Be=m[E>>2]|0,b=Be+-1|0,m[E>>2]=b}while((Be|0)>1);while(0);if(Je(Q),E=T,m[E>>2]=0,m[E+4>>2]=0,E=Q,b=m[E>>2]|0,E=m[E+4>>2]|0,!((b|0)==0&(E|0)==0))do hl(b,E,g,W)|0,U=W,A=T,U=or(m[A>>2]|0,m[A+4>>2]|0,m[U>>2]|0,m[U+4>>2]|0)|0,A=fe()|0,Be=T,m[Be>>2]=U,m[Be+4>>2]=A,Je(Q),Be=Q,b=m[Be>>2]|0,E=m[Be+4>>2]|0;while(!((b|0)==0&(E|0)==0));b=m[F>>2]|0}while(0);return Be=b,le=xe,Be|0}function Nn(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0;if(!(vu(g,b)|0)||(g=mo(g)|0,T=+de[b>>3],E=+de[b+8>>3],E=g&E<0?E+6.283185307179586:E,Le=m[A>>2]|0,(Le|0)<=0))return Le=0,Le|0;if(xe=m[A+4>>2]|0,g){g=0,ne=E,b=-1,A=0;e:for(;;){for(Q=A;F=+de[xe+(Q<<4)>>3],E=+de[xe+(Q<<4)+8>>3],A=(b+2|0)%(Le|0)|0,O=+de[xe+(A<<4)>>3],U=+de[xe+(A<<4)+8>>3],F>O?(W=F,F=U):(W=O,O=F,F=E,E=U),T=T==O|T==W?T+2220446049250313e-31:T,!!(T<O|T>W);)if(b=Q+1|0,(b|0)>=(Le|0)){b=22;break e}else A=Q,Q=b,b=A;if(U=F<0?F+6.283185307179586:F,F=E<0?E+6.283185307179586:E,ne=U==ne|F==ne?ne+-2220446049250313e-31:ne,W=U+(F-U)*((T-O)/(W-O)),(W<0?W+6.283185307179586:W)>ne&&(g=g^1),A=Q+1|0,(A|0)>=(Le|0)){b=22;break}else b=Q}if((b|0)==22)return g|0}else{g=0,ne=E,b=-1,A=0;e:for(;;){for(Q=A;F=+de[xe+(Q<<4)>>3],E=+de[xe+(Q<<4)+8>>3],A=(b+2|0)%(Le|0)|0,O=+de[xe+(A<<4)>>3],U=+de[xe+(A<<4)+8>>3],F>O?(W=F,F=U):(W=O,O=F,F=E,E=U),T=T==O|T==W?T+2220446049250313e-31:T,!!(T<O|T>W);)if(b=Q+1|0,(b|0)>=(Le|0)){b=22;break e}else A=Q,Q=b,b=A;if(ne=F==ne|E==ne?ne+-2220446049250313e-31:ne,F+(E-F)*((T-O)/(W-O))>ne&&(g=g^1),A=Q+1|0,(A|0)>=(Le|0)){b=22;break}else b=Q}if((b|0)==22)return g|0}return 0}function Ar(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0;if(Fe=m[A>>2]|0,!Fe){m[g>>2]=0,m[g+4>>2]=0,m[g+8>>2]=0,m[g+12>>2]=0,m[g+16>>2]=0,m[g+20>>2]=0,m[g+24>>2]=0,m[g+28>>2]=0;return}if(it=g+8|0,de[it>>3]=17976931348623157e292,At=g+24|0,de[At>>3]=17976931348623157e292,de[g>>3]=-17976931348623157e292,It=g+16|0,de[It>>3]=-17976931348623157e292,!((Fe|0)<=0)){for(Le=m[A+4>>2]|0,Q=17976931348623157e292,ne=-17976931348623157e292,xe=0,A=-1,O=17976931348623157e292,F=17976931348623157e292,W=-17976931348623157e292,T=-17976931348623157e292,Be=0;b=+de[Le+(Be<<4)>>3],U=+de[Le+(Be<<4)+8>>3],A=A+2|0,E=+de[Le+(((A|0)==(Fe|0)?0:A)<<4)+8>>3],b<O&&(de[it>>3]=b,O=b),U<F&&(de[At>>3]=U,F=U),b>W?de[g>>3]=b:b=W,U>T&&(de[It>>3]=U,T=U),Q=U>0&U<Q?U:Q,ne=U<0&U>ne?U:ne,xe=xe|+bn(+(U-E))>3.141592653589793,A=Be+1|0,(A|0)!=(Fe|0);)bt=Be,W=b,Be=A,A=bt;xe&&(de[It>>3]=ne,de[At>>3]=Q)}}function $r(A){return A=A|0,(A>>>0<4?0:15)|0}function da(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0,st=0,un=0,Zn=0,Un=0;if(Fe=m[A>>2]|0,Fe){if(it=g+8|0,de[it>>3]=17976931348623157e292,At=g+24|0,de[At>>3]=17976931348623157e292,de[g>>3]=-17976931348623157e292,It=g+16|0,de[It>>3]=-17976931348623157e292,(Fe|0)>0){for(E=m[A+4>>2]|0,Le=17976931348623157e292,Be=-17976931348623157e292,T=0,b=-1,W=17976931348623157e292,Q=17976931348623157e292,xe=-17976931348623157e292,F=-17976931348623157e292,bt=0;O=+de[E+(bt<<4)>>3],ne=+de[E+(bt<<4)+8>>3],Zn=b+2|0,U=+de[E+(((Zn|0)==(Fe|0)?0:Zn)<<4)+8>>3],O<W&&(de[it>>3]=O,W=O),ne<Q&&(de[At>>3]=ne,Q=ne),O>xe?de[g>>3]=O:O=xe,ne>F&&(de[It>>3]=ne,F=ne),Le=ne>0&ne<Le?ne:Le,Be=ne<0&ne>Be?ne:Be,T=T|+bn(+(ne-U))>3.141592653589793,b=bt+1|0,(b|0)!=(Fe|0);)Zn=bt,xe=O,bt=b,b=Zn;T&&(de[It>>3]=Be,de[At>>3]=Le)}}else m[g>>2]=0,m[g+4>>2]=0,m[g+8>>2]=0,m[g+12>>2]=0,m[g+16>>2]=0,m[g+20>>2]=0,m[g+24>>2]=0,m[g+28>>2]=0;if(Zn=A+8|0,b=m[Zn>>2]|0,!((b|0)<=0)){un=A+12|0,st=0;do if(E=m[un>>2]|0,T=st,st=st+1|0,At=g+(st<<5)|0,It=m[E+(T<<3)>>2]|0,It){if(bt=g+(st<<5)+8|0,de[bt>>3]=17976931348623157e292,A=g+(st<<5)+24|0,de[A>>3]=17976931348623157e292,de[At>>3]=-17976931348623157e292,vt=g+(st<<5)+16|0,de[vt>>3]=-17976931348623157e292,(It|0)>0){for(Fe=m[E+(T<<3)+4>>2]|0,Le=17976931348623157e292,Be=-17976931348623157e292,E=0,T=-1,it=0,W=17976931348623157e292,Q=17976931348623157e292,ne=-17976931348623157e292,F=-17976931348623157e292;O=+de[Fe+(it<<4)>>3],xe=+de[Fe+(it<<4)+8>>3],T=T+2|0,U=+de[Fe+(((T|0)==(It|0)?0:T)<<4)+8>>3],O<W&&(de[bt>>3]=O,W=O),xe<Q&&(de[A>>3]=xe,Q=xe),O>ne?de[At>>3]=O:O=ne,xe>F&&(de[vt>>3]=xe,F=xe),Le=xe>0&xe<Le?xe:Le,Be=xe<0&xe>Be?xe:Be,E=E|+bn(+(xe-U))>3.141592653589793,T=it+1|0,(T|0)!=(It|0);)Un=it,it=T,ne=O,T=Un;E&&(de[vt>>3]=Be,de[A>>3]=Le)}}else m[At>>2]=0,m[At+4>>2]=0,m[At+8>>2]=0,m[At+12>>2]=0,m[At+16>>2]=0,m[At+20>>2]=0,m[At+24>>2]=0,m[At+28>>2]=0,b=m[Zn>>2]|0;while((st|0)<(b|0))}}function $o(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0;if(!(Nn(A,g,b)|0))return E=0,E|0;if(E=A+8|0,(m[E>>2]|0)<=0)return E=1,E|0;for(T=A+12|0,A=0;;){if(O=A,A=A+1|0,Nn((m[T>>2]|0)+(O<<3)|0,g+(A<<5)|0,b)|0){A=0,T=6;break}if((A|0)>=(m[E>>2]|0)){A=1,T=6;break}}return(T|0)==6?A|0:0}function Bs(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;if(Q=le,le=le+16|0,U=Q,F=b+8|0,!(Nn(A,g,F)|0))return W=0,le=Q,W|0;W=A+8|0;e:do if((m[W>>2]|0)>0){for(O=A+12|0,E=0;;){if(ne=E,E=E+1|0,Nn((m[O>>2]|0)+(ne<<3)|0,g+(E<<5)|0,F)|0){E=0;break}if((E|0)>=(m[W>>2]|0))break e}return le=Q,E|0}while(0);if(fa(A,g,b,T)|0)return ne=0,le=Q,ne|0;m[U>>2]=m[b>>2],m[U+4>>2]=F,E=m[W>>2]|0;e:do if((E|0)>0)for(A=A+12|0,F=0,O=E;;){if(E=m[A>>2]|0,(m[E+(F<<3)>>2]|0)>0){if(Nn(U,T,m[E+(F<<3)+4>>2]|0)|0){E=0;break e}if(E=F+1|0,fa((m[A>>2]|0)+(F<<3)|0,g+(E<<5)|0,b,T)|0){E=0;break e}O=m[W>>2]|0}else E=F+1|0;if((E|0)<(O|0))F=E;else{E=1;break}}else E=1;while(0);return ne=E,le=Q,ne|0}function fa(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0,st=0,un=0,Zn=0,Un=0,Nr=0;if(Zn=le,le=le+176|0,bt=Zn+172|0,E=Zn+168|0,vt=Zn,!(Bg(g,T)|0))return A=0,le=Zn,A|0;if(JN(g,T,bt,E),Wg(vt|0,b|0,168)|0,(m[b>>2]|0)>0){g=0;do Un=vt+8+(g<<4)+8|0,It=+fs(+de[Un>>3],m[E>>2]|0),de[Un>>3]=It,g=g+1|0;while((g|0)<(m[b>>2]|0))}it=+de[T>>3],At=+de[T+8>>3],It=+fs(+de[T+16>>3],m[E>>2]|0),Be=+fs(+de[T+24>>3],m[E>>2]|0);e:do if((m[A>>2]|0)>0){if(T=A+4|0,E=m[vt>>2]|0,(E|0)<=0){for(g=0;;)if(g=g+1|0,(g|0)>=(m[A>>2]|0)){g=0;break e}}for(b=0;;){if(g=m[T>>2]|0,Le=+de[g+(b<<4)>>3],Fe=+fs(+de[g+(b<<4)+8>>3],m[bt>>2]|0),g=m[T>>2]|0,b=b+1|0,Un=(b|0)%(m[A>>2]|0)|0,O=+de[g+(Un<<4)>>3],F=+fs(+de[g+(Un<<4)+8>>3],m[bt>>2]|0),!(Le>=it)|!(O>=it)&&!(Le<=At)|!(O<=At)&&!(Fe<=Be)|!(F<=Be)&&!(Fe>=It)|!(F>=It)){xe=O-Le,Q=F-Fe,g=0;do if(Nr=g,g=g+1|0,Un=(g|0)==(E|0)?0:g,O=+de[vt+8+(Nr<<4)+8>>3],F=+de[vt+8+(Un<<4)+8>>3]-O,U=+de[vt+8+(Nr<<4)>>3],W=+de[vt+8+(Un<<4)>>3]-U,ne=xe*F-Q*W,ne!=0&&(st=Fe-O,un=Le-U,W=(st*W-F*un)/ne,!(W<0|W>1))&&(ne=(xe*st-Q*un)/ne,ne>=0&ne<=1)){g=1;break e}while((g|0)<(E|0))}if((b|0)>=(m[A>>2]|0)){g=0;break}}}else g=0;while(0);return Nr=g,le=Zn,Nr|0}function Mf(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0;if(fa(A,g,b,T)|0)return O=1,O|0;if(O=A+8|0,(m[O>>2]|0)<=0)return O=0,O|0;for(E=A+12|0,A=0;;){if(F=A,A=A+1|0,fa((m[E>>2]|0)+(F<<3)|0,g+(A<<5)|0,b,T)|0){A=1,E=6;break}if((A|0)>=(m[O>>2]|0)){A=0,E=6;break}}return(E|0)==6?A|0:0}function v4(){return 8}function y4(){return 16}function b4(){return 168}function ww(){return 8}function x4(){return 16}function Cw(){return 12}function ko(){return 8}function Hg(A){return A=A|0,+(+((m[A>>2]|0)>>>0)+4294967296*+(m[A+4>>2]|0))}function _4(A){A=A|0;var g=0,b=0;return b=+de[A>>3],g=+de[A+8>>3],+ +Gn(+(b*b+g*g))}function Tw(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0;Q=+de[A>>3],W=+de[g>>3]-Q,U=+de[A+8>>3],F=+de[g+8>>3]-U,xe=+de[b>>3],O=+de[T>>3]-xe,Le=+de[b+8>>3],ne=+de[T+8>>3]-Le,O=(O*(U-Le)-(Q-xe)*ne)/(W*ne-F*O),de[E>>3]=Q+W*O,de[E+8>>3]=U+F*O}function Ew(A,g){return A=A|0,g=g|0,+bn(+(+de[A>>3]-+de[g>>3]))<11920928955078125e-23?(g=+bn(+(+de[A+8>>3]-+de[g+8>>3]))<11920928955078125e-23,g|0):(g=0,g|0)}function Ao(A,g){A=A|0,g=g|0;var b=0,T=0,E=0;return E=+de[A>>3]-+de[g>>3],T=+de[A+8>>3]-+de[g+8>>3],b=+de[A+16>>3]-+de[g+16>>3],+(E*E+T*T+b*b)}function Mw(A,g){A=A|0,g=g|0;var b=0,T=0,E=0;b=+de[A>>3],T=+Ln(+b),b=+Dt(+b),de[g+16>>3]=b,b=+de[A+8>>3],E=T*+Ln(+b),de[g>>3]=E,b=T*+Dt(+b),de[g+8>>3]=b}function S4(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0;if(O=le,le=le+16|0,E=O,T=fi(A,g)|0,(b+-1|0)>>>0>5||(T=(T|0)!=0,(b|0)==1&T))return E=-1,le=O,E|0;do if(ab(A,g,E)|0)T=-1;else if(T){T=((m[26352+(b<<2)>>2]|0)+5-(m[E>>2]|0)|0)%5|0;break}else{T=((m[26384+(b<<2)>>2]|0)+6-(m[E>>2]|0)|0)%6|0;break}while(0);return E=T,le=O,E|0}function ab(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0;if(ne=le,le=le+32|0,U=ne+16|0,W=ne,T=_d(A,g,U)|0,T|0)return b=T,le=ne,b|0;O=uw(A,g)|0,Q=go(A,g)|0,di(O,W),T=Nh(O,m[U>>2]|0)|0;do if(ri(O)|0){do switch(O|0){case 4:{E=0;break}case 14:{E=1;break}case 24:{E=2;break}case 38:{E=3;break}case 49:{E=4;break}case 58:{E=5;break}case 63:{E=6;break}case 72:{E=7;break}case 83:{E=8;break}case 97:{E=9;break}case 107:{E=10;break}case 117:{E=11;break}default:Mt(27795,27797,75,27806)}while(0);if(F=m[26416+(E*24|0)+8>>2]|0,g=m[26416+(E*24|0)+16>>2]|0,A=m[U>>2]|0,(A|0)!=(m[W>>2]|0)&&(W=dl(O)|0,A=m[U>>2]|0,W|(A|0)==(g|0)&&(T=(T+1|0)%6|0)),(Q|0)==3&(A|0)==(g|0)){T=(T+5|0)%6|0;break}(Q|0)==5&(A|0)==(F|0)&&(T=(T+1|0)%6|0)}while(0);return m[b>>2]=T,b=0,le=ne,b|0}function Rc(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0;if(vt=le,le=le+32|0,bt=vt+24|0,At=vt+20|0,Fe=vt+8|0,Be=vt+16|0,Le=vt,W=(fi(A,g)|0)==0,W=W?6:5,ne=Jt(A|0,g|0,52)|0,fe()|0,ne=ne&15,W>>>0<=b>>>0)return T=2,le=vt,T|0;xe=(ne|0)==0,!xe&&(it=sn(7,0,(ne^15)*3|0)|0,(it&A|0)==0&((fe()|0)&g|0)==0)?E=b:O=4;e:do if((O|0)==4){if(E=(fi(A,g)|0)!=0,((E?4:5)|0)<(b|0)||ab(A,g,bt)|0||(O=(m[bt>>2]|0)+b|0,E?E=26704+(((O|0)%5|0)<<2)|0:E=26736+(((O|0)%6|0)<<2)|0,it=m[E>>2]|0,(it|0)==7))return T=1,le=vt,T|0;m[At>>2]=0,E=ur(A,g,it,At,Fe)|0;do if(!E){if(U=Fe,Q=m[U>>2]|0,U=m[U+4>>2]|0,F=U>>>0<g>>>0|(U|0)==(g|0)&Q>>>0<A>>>0,O=F?Q:A,F=F?U:g,!xe&&(xe=sn(7,0,(ne^15)*3|0)|0,(Q&xe|0)==0&(U&(fe()|0)|0)==0))E=b;else{if(U=(b+-1+W|0)%(W|0)|0,E=fi(A,g)|0,(U|0)<0&&Mt(27795,27797,248,27822),W=(E|0)!=0,((W?4:5)|0)<(U|0)&&Mt(27795,27797,248,27822),ab(A,g,bt)|0&&Mt(27795,27797,248,27822),E=(m[bt>>2]|0)+U|0,W?E=26704+(((E|0)%5|0)<<2)|0:E=26736+(((E|0)%6|0)<<2)|0,U=m[E>>2]|0,(U|0)==7&&Mt(27795,27797,248,27822),m[Be>>2]=0,E=ur(A,g,U,Be,Le)|0,E|0)break;Q=Le,W=m[Q>>2]|0,Q=m[Q+4>>2]|0;do if(Q>>>0<F>>>0|(Q|0)==(F|0)&W>>>0<O>>>0){if(fi(W,Q)|0?O=rr(W,Q,A,g)|0:O=m[26800+((((m[Be>>2]|0)+(m[26768+(U<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,E=fi(W,Q)|0,(O+-1|0)>>>0>5){E=-1,O=W,F=Q;break}if(E=(E|0)!=0,(O|0)==1&E){E=-1,O=W,F=Q;break}do if(ab(W,Q,bt)|0)E=-1;else if(E){E=((m[26352+(O<<2)>>2]|0)+5-(m[bt>>2]|0)|0)%5|0;break}else{E=((m[26384+(O<<2)>>2]|0)+6-(m[bt>>2]|0)|0)%6|0;break}while(0);O=W,F=Q}else E=b;while(0);U=Fe,Q=m[U>>2]|0,U=m[U+4>>2]|0}if((O|0)==(Q|0)&(F|0)==(U|0)){if(W=(fi(Q,U)|0)!=0,W?A=rr(Q,U,A,g)|0:A=m[26800+((((m[At>>2]|0)+(m[26768+(it<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,E=fi(Q,U)|0,(A+-1|0)>>>0<=5&&(It=(E|0)!=0,!((A|0)==1&It)))do if(ab(Q,U,bt)|0)E=-1;else if(It){E=((m[26352+(A<<2)>>2]|0)+5-(m[bt>>2]|0)|0)%5|0;break}else{E=((m[26384+(A<<2)>>2]|0)+6-(m[bt>>2]|0)|0)%6|0;break}while(0);else E=-1;E=E+1|0,E=(E|0)==6|W&(E|0)==5?0:E}g=F,A=O;break e}while(0);return T=E,le=vt,T|0}while(0);return It=sn(E|0,0,56)|0,bt=fe()|0|g&-2130706433|536870912,m[T>>2]=It|A,m[T+4>>2]=bt,T=0,le=vt,T|0}function ige(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0;return O=(fi(A,g)|0)==0,T=Rc(A,g,0,b)|0,E=(T|0)==0,O?!E||(T=Rc(A,g,1,b+8|0)|0,T|0)||(T=Rc(A,g,2,b+16|0)|0,T|0)||(T=Rc(A,g,3,b+24|0)|0,T|0)||(T=Rc(A,g,4,b+32|0)|0,T)?(O=T,O|0):Rc(A,g,5,b+40|0)|0:!E||(T=Rc(A,g,1,b+8|0)|0,T|0)||(T=Rc(A,g,2,b+16|0)|0,T|0)||(T=Rc(A,g,3,b+24|0)|0,T|0)||(T=Rc(A,g,4,b+32|0)|0,T|0)?(O=T,O|0):(O=b+40|0,m[O>>2]=0,m[O+4>>2]=0,O=0,O|0)}function oge(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0,U=0,W=0;return W=le,le=le+192|0,E=W,O=W+168|0,F=Jt(A|0,g|0,56)|0,fe()|0,F=F&7,U=g&-2130706433|134217728,T=_d(A,U,O)|0,T|0?(U=T,le=W,U|0):(g=Jt(A|0,g|0,52)|0,fe()|0,g=g&15,fi(A,U)|0?X1(O,g,F,1,E):yd(O,g,F,1,E),U=E+8|0,m[b>>2]=m[U>>2],m[b+4>>2]=m[U+4>>2],m[b+8>>2]=m[U+8>>2],m[b+12>>2]=m[U+12>>2],U=0,le=W,U|0)}function tz(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0;return E=le,le=le+16|0,b=E,!(!0&(g&2013265920|0)==536870912)||(T=g&-2130706433|134217728,!(Ef(A,T)|0))?(T=0,le=E,T|0):(O=Jt(A|0,g|0,56)|0,fe()|0,O=(Rc(A,T,O&7,b)|0)==0,T=b,T=O&((m[T>>2]|0)==(A|0)?(m[T+4>>2]|0)==(g|0):0)&1,le=E,T|0)}function nz(A,g,b){A=A|0,g=g|0,b=b|0;var T=0;(g|0)>0?(T=ml(g,4)|0,m[A>>2]=T,T||Mt(27835,27858,40,27872)):m[A>>2]=0,m[A+4>>2]=g,m[A+8>>2]=0,m[A+12>>2]=b}function rz(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0;E=A+4|0,O=A+12|0,F=A+8|0;e:for(;;){for(b=m[E>>2]|0,g=0;;){if((g|0)>=(b|0))break e;if(T=m[A>>2]|0,U=m[T+(g<<2)>>2]|0,!U)g=g+1|0;else break}g=T+(~~(+bn(+(+_r(10,+ +(15-(m[O>>2]|0)|0))*(+de[U>>3]+ +de[U+8>>3])))%+(b|0))>>>0<<2)|0,b=m[g>>2]|0;t:do if(b|0){if(T=U+32|0,(b|0)==(U|0))m[g>>2]=m[T>>2];else{if(b=b+32|0,g=m[b>>2]|0,!g)break;for(;(g|0)!=(U|0);)if(b=g+32|0,g=m[b>>2]|0,!g)break t;m[b>>2]=m[T>>2]}ar(U),m[F>>2]=(m[F>>2]|0)+-1}while(0)}ar(m[A>>2]|0)}function iz(A){A=A|0;var g=0,b=0,T=0;for(T=m[A+4>>2]|0,b=0;;){if((b|0)>=(T|0)){g=0,b=4;break}if(g=m[(m[A>>2]|0)+(b<<2)>>2]|0,!g)b=b+1|0;else{b=4;break}}return(b|0)==4?g|0:0}function oz(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0;if(b=~~(+bn(+(+_r(10,+ +(15-(m[A+12>>2]|0)|0))*(+de[g>>3]+ +de[g+8>>3])))%+(m[A+4>>2]|0))>>>0,b=(m[A>>2]|0)+(b<<2)|0,T=m[b>>2]|0,!T)return O=1,O|0;O=g+32|0;do if((T|0)!=(g|0)){if(b=m[T+32>>2]|0,!b)return O=1,O|0;for(E=b;;){if((E|0)==(g|0)){E=8;break}if(b=m[E+32>>2]|0,b)T=E,E=b;else{b=1,E=10;break}}if((E|0)==8){m[T+32>>2]=m[O>>2];break}else if((E|0)==10)return b|0}else m[b>>2]=m[O>>2];while(0);return ar(g),O=A+8|0,m[O>>2]=(m[O>>2]|0)+-1,O=0,O|0}function age(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0;O=Cd(40)|0,O||Mt(27888,27858,98,27901),m[O>>2]=m[g>>2],m[O+4>>2]=m[g+4>>2],m[O+8>>2]=m[g+8>>2],m[O+12>>2]=m[g+12>>2],E=O+16|0,m[E>>2]=m[b>>2],m[E+4>>2]=m[b+4>>2],m[E+8>>2]=m[b+8>>2],m[E+12>>2]=m[b+12>>2],m[O+32>>2]=0,E=~~(+bn(+(+_r(10,+ +(15-(m[A+12>>2]|0)|0))*(+de[g>>3]+ +de[g+8>>3])))%+(m[A+4>>2]|0))>>>0,E=(m[A>>2]|0)+(E<<2)|0,T=m[E>>2]|0;do if(!T)m[E>>2]=O;else{for(;!(Uh(T,g)|0&&Uh(T+16|0,b)|0);)if(E=m[T+32>>2]|0,T=E|0?E:T,!(m[T+32>>2]|0)){F=10;break}if((F|0)==10){m[T+32>>2]=O;break}return ar(O),F=T,F|0}while(0);return F=A+8|0,m[F>>2]=(m[F>>2]|0)+1,F=O,F|0}function sge(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0;if(E=~~(+bn(+(+_r(10,+ +(15-(m[A+12>>2]|0)|0))*(+de[g>>3]+ +de[g+8>>3])))%+(m[A+4>>2]|0))>>>0,E=m[(m[A>>2]|0)+(E<<2)>>2]|0,!E)return b=0,b|0;if(!b){for(A=E;;){if(Uh(A,g)|0){T=10;break}if(A=m[A+32>>2]|0,!A){A=0,T=10;break}}if((T|0)==10)return A|0}for(A=E;;){if(Uh(A,g)|0&&Uh(A+16|0,b)|0){T=10;break}if(A=m[A+32>>2]|0,!A){A=0,T=10;break}}return(T|0)==10?A|0:0}function lge(A,g){A=A|0,g=g|0;var b=0;if(b=~~(+bn(+(+_r(10,+ +(15-(m[A+12>>2]|0)|0))*(+de[g>>3]+ +de[g+8>>3])))%+(m[A+4>>2]|0))>>>0,A=m[(m[A>>2]|0)+(b<<2)>>2]|0,!A)return b=0,b|0;for(;;){if(Uh(A,g)|0){g=5;break}if(A=m[A+32>>2]|0,!A){A=0,g=5;break}}return(g|0)==5?A|0:0}function cge(){return 27920}function Gh(A){return A=+A,~~+cz(+A)|0}function Cd(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0,it=0,At=0,It=0,bt=0,vt=0,st=0,un=0;un=le,le=le+16|0,Le=un;do if(A>>>0<245){if(Q=A>>>0<11?16:A+11&-8,A=Q>>>3,xe=m[6981]|0,b=xe>>>A,b&3|0)return g=(b&1^1)+A|0,A=27964+(g<<1<<2)|0,b=A+8|0,T=m[b>>2]|0,E=T+8|0,O=m[E>>2]|0,(O|0)==(A|0)?m[6981]=xe&~(1<<g):(m[O+12>>2]=A,m[b>>2]=O),st=g<<3,m[T+4>>2]=st|3,st=T+st+4|0,m[st>>2]=m[st>>2]|1,st=E,le=un,st|0;if(ne=m[6983]|0,Q>>>0>ne>>>0){if(b|0)return g=2<<A,g=b<<A&(g|0-g),g=(g&0-g)+-1|0,U=g>>>12&16,g=g>>>U,b=g>>>5&8,g=g>>>b,O=g>>>2&4,g=g>>>O,A=g>>>1&2,g=g>>>A,T=g>>>1&1,T=(b|U|O|A|T)+(g>>>T)|0,g=27964+(T<<1<<2)|0,A=g+8|0,O=m[A>>2]|0,U=O+8|0,b=m[U>>2]|0,(b|0)==(g|0)?(A=xe&~(1<<T),m[6981]=A):(m[b+12>>2]=g,m[A>>2]=b,A=xe),st=T<<3,F=st-Q|0,m[O+4>>2]=Q|3,E=O+Q|0,m[E+4>>2]=F|1,m[O+st>>2]=F,ne|0&&(T=m[6986]|0,g=ne>>>3,b=27964+(g<<1<<2)|0,g=1<<g,A&g?(A=b+8|0,g=m[A>>2]|0):(m[6981]=A|g,g=b,A=b+8|0),m[A>>2]=T,m[g+12>>2]=T,m[T+8>>2]=g,m[T+12>>2]=b),m[6983]=F,m[6986]=E,st=U,le=un,st|0;if(O=m[6982]|0,O){for(b=(O&0-O)+-1|0,E=b>>>12&16,b=b>>>E,T=b>>>5&8,b=b>>>T,F=b>>>2&4,b=b>>>F,U=b>>>1&2,b=b>>>U,W=b>>>1&1,W=m[28228+((T|E|F|U|W)+(b>>>W)<<2)>>2]|0,b=W,U=W,W=(m[W+4>>2]&-8)-Q|0;A=m[b+16>>2]|0,!(!A&&(A=m[b+20>>2]|0,!A));)F=(m[A+4>>2]&-8)-Q|0,E=F>>>0<W>>>0,b=A,U=E?A:U,W=E?F:W;if(F=U+Q|0,F>>>0>U>>>0){E=m[U+24>>2]|0,g=m[U+12>>2]|0;do if((g|0)==(U|0)){if(A=U+20|0,g=m[A>>2]|0,!g&&(A=U+16|0,g=m[A>>2]|0,!g)){b=0;break}for(;;)if(T=g+20|0,b=m[T>>2]|0,b)g=b,A=T;else if(T=g+16|0,b=m[T>>2]|0,b)g=b,A=T;else break;m[A>>2]=0,b=g}else b=m[U+8>>2]|0,m[b+12>>2]=g,m[g+8>>2]=b,b=g;while(0);do if(E|0){if(g=m[U+28>>2]|0,A=28228+(g<<2)|0,(U|0)==(m[A>>2]|0)){if(m[A>>2]=b,!b){m[6982]=O&~(1<<g);break}}else if(st=E+16|0,m[((m[st>>2]|0)==(U|0)?st:E+20|0)>>2]=b,!b)break;m[b+24>>2]=E,g=m[U+16>>2]|0,g|0&&(m[b+16>>2]=g,m[g+24>>2]=b),g=m[U+20>>2]|0,g|0&&(m[b+20>>2]=g,m[g+24>>2]=b)}while(0);return W>>>0<16?(st=W+Q|0,m[U+4>>2]=st|3,st=U+st+4|0,m[st>>2]=m[st>>2]|1):(m[U+4>>2]=Q|3,m[F+4>>2]=W|1,m[F+W>>2]=W,ne|0&&(T=m[6986]|0,g=ne>>>3,b=27964+(g<<1<<2)|0,g=1<<g,g&xe?(A=b+8|0,g=m[A>>2]|0):(m[6981]=g|xe,g=b,A=b+8|0),m[A>>2]=T,m[g+12>>2]=T,m[T+8>>2]=g,m[T+12>>2]=b),m[6983]=W,m[6986]=F),st=U+8|0,le=un,st|0}else xe=Q}else xe=Q}else xe=Q}else if(A>>>0<=4294967231)if(A=A+11|0,Q=A&-8,T=m[6982]|0,T){E=0-Q|0,A=A>>>8,A?Q>>>0>16777215?W=31:(xe=(A+1048320|0)>>>16&8,it=A<<xe,U=(it+520192|0)>>>16&4,it=it<<U,W=(it+245760|0)>>>16&2,W=14-(U|xe|W)+(it<<W>>>15)|0,W=Q>>>(W+7|0)&1|W<<1):W=0,b=m[28228+(W<<2)>>2]|0;e:do if(!b)b=0,A=0,it=61;else for(A=0,U=Q<<((W|0)==31?0:25-(W>>>1)|0),O=0;;){if(F=(m[b+4>>2]&-8)-Q|0,F>>>0<E>>>0)if(F)A=b,E=F;else{A=b,E=0,it=65;break e}if(it=m[b+20>>2]|0,b=m[b+16+(U>>>31<<2)>>2]|0,O=(it|0)==0|(it|0)==(b|0)?O:it,b)U=U<<1;else{b=O,it=61;break}}while(0);if((it|0)==61){if((b|0)==0&(A|0)==0){if(A=2<<W,A=(A|0-A)&T,!A){xe=Q;break}xe=(A&0-A)+-1|0,F=xe>>>12&16,xe=xe>>>F,O=xe>>>5&8,xe=xe>>>O,U=xe>>>2&4,xe=xe>>>U,W=xe>>>1&2,xe=xe>>>W,b=xe>>>1&1,A=0,b=m[28228+((O|F|U|W|b)+(xe>>>b)<<2)>>2]|0}b?it=65:(U=A,F=E)}if((it|0)==65)for(O=b;;)if(xe=(m[O+4>>2]&-8)-Q|0,b=xe>>>0<E>>>0,E=b?xe:E,A=b?O:A,b=m[O+16>>2]|0,b||(b=m[O+20>>2]|0),b)O=b;else{U=A,F=E;break}if(U|0&&F>>>0<((m[6983]|0)-Q|0)>>>0&&(ne=U+Q|0,ne>>>0>U>>>0)){O=m[U+24>>2]|0,g=m[U+12>>2]|0;do if((g|0)==(U|0)){if(A=U+20|0,g=m[A>>2]|0,!g&&(A=U+16|0,g=m[A>>2]|0,!g)){g=0;break}for(;;)if(E=g+20|0,b=m[E>>2]|0,b)g=b,A=E;else if(E=g+16|0,b=m[E>>2]|0,b)g=b,A=E;else break;m[A>>2]=0}else st=m[U+8>>2]|0,m[st+12>>2]=g,m[g+8>>2]=st;while(0);do if(O){if(A=m[U+28>>2]|0,b=28228+(A<<2)|0,(U|0)==(m[b>>2]|0)){if(m[b>>2]=g,!g){T=T&~(1<<A),m[6982]=T;break}}else if(st=O+16|0,m[((m[st>>2]|0)==(U|0)?st:O+20|0)>>2]=g,!g)break;m[g+24>>2]=O,A=m[U+16>>2]|0,A|0&&(m[g+16>>2]=A,m[A+24>>2]=g),A=m[U+20>>2]|0,A&&(m[g+20>>2]=A,m[A+24>>2]=g)}while(0);e:do if(F>>>0<16)st=F+Q|0,m[U+4>>2]=st|3,st=U+st+4|0,m[st>>2]=m[st>>2]|1;else{if(m[U+4>>2]=Q|3,m[ne+4>>2]=F|1,m[ne+F>>2]=F,g=F>>>3,F>>>0<256){b=27964+(g<<1<<2)|0,A=m[6981]|0,g=1<<g,A&g?(A=b+8|0,g=m[A>>2]|0):(m[6981]=A|g,g=b,A=b+8|0),m[A>>2]=ne,m[g+12>>2]=ne,m[ne+8>>2]=g,m[ne+12>>2]=b;break}if(g=F>>>8,g?F>>>0>16777215?b=31:(vt=(g+1048320|0)>>>16&8,st=g<<vt,bt=(st+520192|0)>>>16&4,st=st<<bt,b=(st+245760|0)>>>16&2,b=14-(bt|vt|b)+(st<<b>>>15)|0,b=F>>>(b+7|0)&1|b<<1):b=0,g=28228+(b<<2)|0,m[ne+28>>2]=b,A=ne+16|0,m[A+4>>2]=0,m[A>>2]=0,A=1<<b,!(T&A)){m[6982]=T|A,m[g>>2]=ne,m[ne+24>>2]=g,m[ne+12>>2]=ne,m[ne+8>>2]=ne;break}g=m[g>>2]|0;t:do if((m[g+4>>2]&-8|0)!=(F|0)){for(T=F<<((b|0)==31?0:25-(b>>>1)|0);b=g+16+(T>>>31<<2)|0,A=m[b>>2]|0,!!A;)if((m[A+4>>2]&-8|0)==(F|0)){g=A;break t}else T=T<<1,g=A;m[b>>2]=ne,m[ne+24>>2]=g,m[ne+12>>2]=ne,m[ne+8>>2]=ne;break e}while(0);vt=g+8|0,st=m[vt>>2]|0,m[st+12>>2]=ne,m[vt>>2]=ne,m[ne+8>>2]=st,m[ne+12>>2]=g,m[ne+24>>2]=0}while(0);return st=U+8|0,le=un,st|0}else xe=Q}else xe=Q;else xe=-1;while(0);if(b=m[6983]|0,b>>>0>=xe>>>0)return g=b-xe|0,A=m[6986]|0,g>>>0>15?(st=A+xe|0,m[6986]=st,m[6983]=g,m[st+4>>2]=g|1,m[A+b>>2]=g,m[A+4>>2]=xe|3):(m[6983]=0,m[6986]=0,m[A+4>>2]=b|3,st=A+b+4|0,m[st>>2]=m[st>>2]|1),st=A+8|0,le=un,st|0;if(F=m[6984]|0,F>>>0>xe>>>0)return bt=F-xe|0,m[6984]=bt,st=m[6987]|0,vt=st+xe|0,m[6987]=vt,m[vt+4>>2]=bt|1,m[st+4>>2]=xe|3,st=st+8|0,le=un,st|0;if(m[7099]|0?A=m[7101]|0:(m[7101]=4096,m[7100]=4096,m[7102]=-1,m[7103]=-1,m[7104]=0,m[7092]=0,m[7099]=Le&-16^1431655768,A=4096),U=xe+48|0,W=xe+47|0,O=A+W|0,E=0-A|0,Q=O&E,Q>>>0<=xe>>>0||(A=m[7091]|0,A|0&&(ne=m[7089]|0,Le=ne+Q|0,Le>>>0<=ne>>>0|Le>>>0>A>>>0)))return st=0,le=un,st|0;e:do if(m[7092]&4)g=0,it=143;else{b=m[6987]|0;t:do if(b){for(T=28372;Le=m[T>>2]|0,!(Le>>>0<=b>>>0&&(Le+(m[T+4>>2]|0)|0)>>>0>b>>>0);)if(A=m[T+8>>2]|0,A)T=A;else{it=128;break t}if(g=O-F&E,g>>>0<2147483647)if(A=qh(g|0)|0,(A|0)==((m[T>>2]|0)+(m[T+4>>2]|0)|0)){if((A|0)!=-1){F=g,O=A,it=145;break e}}else T=A,it=136;else g=0}else it=128;while(0);do if((it|0)==128)if(b=qh(0)|0,(b|0)!=-1&&(g=b,Be=m[7100]|0,Fe=Be+-1|0,g=(Fe&g|0?(Fe+g&0-Be)-g|0:0)+Q|0,Be=m[7089]|0,Fe=g+Be|0,g>>>0>xe>>>0&g>>>0<2147483647)){if(Le=m[7091]|0,Le|0&&Fe>>>0<=Be>>>0|Fe>>>0>Le>>>0){g=0;break}if(A=qh(g|0)|0,(A|0)==(b|0)){F=g,O=b,it=145;break e}else T=A,it=136}else g=0;while(0);do if((it|0)==136){if(b=0-g|0,!(U>>>0>g>>>0&(g>>>0<2147483647&(T|0)!=-1)))if((T|0)==-1){g=0;break}else{F=g,O=T,it=145;break e}if(A=m[7101]|0,A=W-g+A&0-A,A>>>0>=2147483647){F=g,O=T,it=145;break e}if((qh(A|0)|0)==-1){qh(b|0)|0,g=0;break}else{F=A+g|0,O=T,it=145;break e}}while(0);m[7092]=m[7092]|4,it=143}while(0);if((it|0)==143&&Q>>>0<2147483647&&(bt=qh(Q|0)|0,Fe=qh(0)|0,At=Fe-bt|0,It=At>>>0>(xe+40|0)>>>0,!((bt|0)==-1|It^1|bt>>>0<Fe>>>0&((bt|0)!=-1&(Fe|0)!=-1)^1))&&(F=It?At:g,O=bt,it=145),(it|0)==145){g=(m[7089]|0)+F|0,m[7089]=g,g>>>0>(m[7090]|0)>>>0&&(m[7090]=g),W=m[6987]|0;e:do if(W){for(g=28372;;){if(A=m[g>>2]|0,b=m[g+4>>2]|0,(O|0)==(A+b|0)){it=154;break}if(T=m[g+8>>2]|0,T)g=T;else break}if((it|0)==154&&(vt=g+4|0,(m[g+12>>2]&8|0)==0)&&O>>>0>W>>>0&A>>>0<=W>>>0){m[vt>>2]=b+F,st=(m[6984]|0)+F|0,bt=W+8|0,bt=bt&7|0?0-bt&7:0,vt=W+bt|0,bt=st-bt|0,m[6987]=vt,m[6984]=bt,m[vt+4>>2]=bt|1,m[W+st+4>>2]=40,m[6988]=m[7103];break}for(O>>>0<(m[6985]|0)>>>0&&(m[6985]=O),b=O+F|0,g=28372;;){if((m[g>>2]|0)==(b|0)){it=162;break}if(A=m[g+8>>2]|0,A)g=A;else break}if((it|0)==162&&!(m[g+12>>2]&8|0)){m[g>>2]=O,ne=g+4|0,m[ne>>2]=(m[ne>>2]|0)+F,ne=O+8|0,ne=O+(ne&7|0?0-ne&7:0)|0,g=b+8|0,g=b+(g&7|0?0-g&7:0)|0,Q=ne+xe|0,U=g-ne-xe|0,m[ne+4>>2]=xe|3;t:do if((W|0)==(g|0))st=(m[6984]|0)+U|0,m[6984]=st,m[6987]=Q,m[Q+4>>2]=st|1;else{if((m[6986]|0)==(g|0)){st=(m[6983]|0)+U|0,m[6983]=st,m[6986]=Q,m[Q+4>>2]=st|1,m[Q+st>>2]=st;break}if(A=m[g+4>>2]|0,(A&3|0)==1){F=A&-8,T=A>>>3;n:do if(A>>>0<256)if(A=m[g+8>>2]|0,b=m[g+12>>2]|0,(b|0)==(A|0)){m[6981]=m[6981]&~(1<<T);break}else{m[A+12>>2]=b,m[b+8>>2]=A;break}else{O=m[g+24>>2]|0,A=m[g+12>>2]|0;do if((A|0)==(g|0)){if(b=g+16|0,T=b+4|0,A=m[T>>2]|0,A)b=T;else if(A=m[b>>2]|0,!A){A=0;break}for(;;)if(E=A+20|0,T=m[E>>2]|0,T)A=T,b=E;else if(E=A+16|0,T=m[E>>2]|0,T)A=T,b=E;else break;m[b>>2]=0}else st=m[g+8>>2]|0,m[st+12>>2]=A,m[A+8>>2]=st;while(0);if(!O)break;b=m[g+28>>2]|0,T=28228+(b<<2)|0;do if((m[T>>2]|0)!=(g|0)){if(st=O+16|0,m[((m[st>>2]|0)==(g|0)?st:O+20|0)>>2]=A,!A)break n}else{if(m[T>>2]=A,A|0)break;m[6982]=m[6982]&~(1<<b);break n}while(0);if(m[A+24>>2]=O,b=g+16|0,T=m[b>>2]|0,T|0&&(m[A+16>>2]=T,m[T+24>>2]=A),b=m[b+4>>2]|0,!b)break;m[A+20>>2]=b,m[b+24>>2]=A}while(0);g=g+F|0,E=F+U|0}else E=U;if(g=g+4|0,m[g>>2]=m[g>>2]&-2,m[Q+4>>2]=E|1,m[Q+E>>2]=E,g=E>>>3,E>>>0<256){b=27964+(g<<1<<2)|0,A=m[6981]|0,g=1<<g,A&g?(A=b+8|0,g=m[A>>2]|0):(m[6981]=A|g,g=b,A=b+8|0),m[A>>2]=Q,m[g+12>>2]=Q,m[Q+8>>2]=g,m[Q+12>>2]=b;break}g=E>>>8;do if(!g)T=0;else{if(E>>>0>16777215){T=31;break}vt=(g+1048320|0)>>>16&8,st=g<<vt,bt=(st+520192|0)>>>16&4,st=st<<bt,T=(st+245760|0)>>>16&2,T=14-(bt|vt|T)+(st<<T>>>15)|0,T=E>>>(T+7|0)&1|T<<1}while(0);if(g=28228+(T<<2)|0,m[Q+28>>2]=T,A=Q+16|0,m[A+4>>2]=0,m[A>>2]=0,A=m[6982]|0,b=1<<T,!(A&b)){m[6982]=A|b,m[g>>2]=Q,m[Q+24>>2]=g,m[Q+12>>2]=Q,m[Q+8>>2]=Q;break}g=m[g>>2]|0;n:do if((m[g+4>>2]&-8|0)!=(E|0)){for(T=E<<((T|0)==31?0:25-(T>>>1)|0);b=g+16+(T>>>31<<2)|0,A=m[b>>2]|0,!!A;)if((m[A+4>>2]&-8|0)==(E|0)){g=A;break n}else T=T<<1,g=A;m[b>>2]=Q,m[Q+24>>2]=g,m[Q+12>>2]=Q,m[Q+8>>2]=Q;break t}while(0);vt=g+8|0,st=m[vt>>2]|0,m[st+12>>2]=Q,m[vt>>2]=Q,m[Q+8>>2]=st,m[Q+12>>2]=g,m[Q+24>>2]=0}while(0);return st=ne+8|0,le=un,st|0}for(g=28372;A=m[g>>2]|0,!(A>>>0<=W>>>0&&(st=A+(m[g+4>>2]|0)|0,st>>>0>W>>>0));)g=m[g+8>>2]|0;E=st+-47|0,A=E+8|0,A=E+(A&7|0?0-A&7:0)|0,E=W+16|0,A=A>>>0<E>>>0?W:A,g=A+8|0,b=F+-40|0,bt=O+8|0,bt=bt&7|0?0-bt&7:0,vt=O+bt|0,bt=b-bt|0,m[6987]=vt,m[6984]=bt,m[vt+4>>2]=bt|1,m[O+b+4>>2]=40,m[6988]=m[7103],b=A+4|0,m[b>>2]=27,m[g>>2]=m[7093],m[g+4>>2]=m[7094],m[g+8>>2]=m[7095],m[g+12>>2]=m[7096],m[7093]=O,m[7094]=F,m[7096]=0,m[7095]=g,g=A+24|0;do vt=g,g=g+4|0,m[g>>2]=7;while((vt+8|0)>>>0<st>>>0);if((A|0)!=(W|0)){if(O=A-W|0,m[b>>2]=m[b>>2]&-2,m[W+4>>2]=O|1,m[A>>2]=O,g=O>>>3,O>>>0<256){b=27964+(g<<1<<2)|0,A=m[6981]|0,g=1<<g,A&g?(A=b+8|0,g=m[A>>2]|0):(m[6981]=A|g,g=b,A=b+8|0),m[A>>2]=W,m[g+12>>2]=W,m[W+8>>2]=g,m[W+12>>2]=b;break}if(g=O>>>8,g?O>>>0>16777215?T=31:(vt=(g+1048320|0)>>>16&8,st=g<<vt,bt=(st+520192|0)>>>16&4,st=st<<bt,T=(st+245760|0)>>>16&2,T=14-(bt|vt|T)+(st<<T>>>15)|0,T=O>>>(T+7|0)&1|T<<1):T=0,b=28228+(T<<2)|0,m[W+28>>2]=T,m[W+20>>2]=0,m[E>>2]=0,g=m[6982]|0,A=1<<T,!(g&A)){m[6982]=g|A,m[b>>2]=W,m[W+24>>2]=b,m[W+12>>2]=W,m[W+8>>2]=W;break}g=m[b>>2]|0;t:do if((m[g+4>>2]&-8|0)!=(O|0)){for(T=O<<((T|0)==31?0:25-(T>>>1)|0);b=g+16+(T>>>31<<2)|0,A=m[b>>2]|0,!!A;)if((m[A+4>>2]&-8|0)==(O|0)){g=A;break t}else T=T<<1,g=A;m[b>>2]=W,m[W+24>>2]=g,m[W+12>>2]=W,m[W+8>>2]=W;break e}while(0);vt=g+8|0,st=m[vt>>2]|0,m[st+12>>2]=W,m[vt>>2]=W,m[W+8>>2]=st,m[W+12>>2]=g,m[W+24>>2]=0}}else st=m[6985]|0,(st|0)==0|O>>>0<st>>>0&&(m[6985]=O),m[7093]=O,m[7094]=F,m[7096]=0,m[6990]=m[7099],m[6989]=-1,m[6994]=27964,m[6993]=27964,m[6996]=27972,m[6995]=27972,m[6998]=27980,m[6997]=27980,m[7e3]=27988,m[6999]=27988,m[7002]=27996,m[7001]=27996,m[7004]=28004,m[7003]=28004,m[7006]=28012,m[7005]=28012,m[7008]=28020,m[7007]=28020,m[7010]=28028,m[7009]=28028,m[7012]=28036,m[7011]=28036,m[7014]=28044,m[7013]=28044,m[7016]=28052,m[7015]=28052,m[7018]=28060,m[7017]=28060,m[7020]=28068,m[7019]=28068,m[7022]=28076,m[7021]=28076,m[7024]=28084,m[7023]=28084,m[7026]=28092,m[7025]=28092,m[7028]=28100,m[7027]=28100,m[7030]=28108,m[7029]=28108,m[7032]=28116,m[7031]=28116,m[7034]=28124,m[7033]=28124,m[7036]=28132,m[7035]=28132,m[7038]=28140,m[7037]=28140,m[7040]=28148,m[7039]=28148,m[7042]=28156,m[7041]=28156,m[7044]=28164,m[7043]=28164,m[7046]=28172,m[7045]=28172,m[7048]=28180,m[7047]=28180,m[7050]=28188,m[7049]=28188,m[7052]=28196,m[7051]=28196,m[7054]=28204,m[7053]=28204,m[7056]=28212,m[7055]=28212,st=F+-40|0,bt=O+8|0,bt=bt&7|0?0-bt&7:0,vt=O+bt|0,bt=st-bt|0,m[6987]=vt,m[6984]=bt,m[vt+4>>2]=bt|1,m[O+st+4>>2]=40,m[6988]=m[7103];while(0);if(g=m[6984]|0,g>>>0>xe>>>0)return bt=g-xe|0,m[6984]=bt,st=m[6987]|0,vt=st+xe|0,m[6987]=vt,m[vt+4>>2]=bt|1,m[st+4>>2]=xe|3,st=st+8|0,le=un,st|0}return st=cge()|0,m[st>>2]=12,st=0,le=un,st|0}function ar(A){A=A|0;var g=0,b=0,T=0,E=0,O=0,F=0,U=0,W=0;if(A){b=A+-8|0,E=m[6985]|0,A=m[A+-4>>2]|0,g=A&-8,W=b+g|0;do if(A&1)U=b,F=b;else{if(T=m[b>>2]|0,!(A&3)||(F=b+(0-T)|0,O=T+g|0,F>>>0<E>>>0))return;if((m[6986]|0)==(F|0)){if(A=W+4|0,g=m[A>>2]|0,(g&3|0)!=3){U=F,g=O;break}m[6983]=O,m[A>>2]=g&-2,m[F+4>>2]=O|1,m[F+O>>2]=O;return}if(b=T>>>3,T>>>0<256)if(A=m[F+8>>2]|0,g=m[F+12>>2]|0,(g|0)==(A|0)){m[6981]=m[6981]&~(1<<b),U=F,g=O;break}else{m[A+12>>2]=g,m[g+8>>2]=A,U=F,g=O;break}E=m[F+24>>2]|0,A=m[F+12>>2]|0;do if((A|0)==(F|0)){if(g=F+16|0,b=g+4|0,A=m[b>>2]|0,A)g=b;else if(A=m[g>>2]|0,!A){A=0;break}for(;;)if(T=A+20|0,b=m[T>>2]|0,b)A=b,g=T;else if(T=A+16|0,b=m[T>>2]|0,b)A=b,g=T;else break;m[g>>2]=0}else U=m[F+8>>2]|0,m[U+12>>2]=A,m[A+8>>2]=U;while(0);if(E){if(g=m[F+28>>2]|0,b=28228+(g<<2)|0,(m[b>>2]|0)==(F|0)){if(m[b>>2]=A,!A){m[6982]=m[6982]&~(1<<g),U=F,g=O;break}}else if(U=E+16|0,m[((m[U>>2]|0)==(F|0)?U:E+20|0)>>2]=A,!A){U=F,g=O;break}m[A+24>>2]=E,g=F+16|0,b=m[g>>2]|0,b|0&&(m[A+16>>2]=b,m[b+24>>2]=A),g=m[g+4>>2]|0,g?(m[A+20>>2]=g,m[g+24>>2]=A,U=F,g=O):(U=F,g=O)}else U=F,g=O}while(0);if(!(F>>>0>=W>>>0)&&(A=W+4|0,T=m[A>>2]|0,!!(T&1))){if(T&2)m[A>>2]=T&-2,m[U+4>>2]=g|1,m[F+g>>2]=g,E=g;else{if((m[6987]|0)==(W|0)){if(W=(m[6984]|0)+g|0,m[6984]=W,m[6987]=U,m[U+4>>2]=W|1,(U|0)!=(m[6986]|0))return;m[6986]=0,m[6983]=0;return}if((m[6986]|0)==(W|0)){W=(m[6983]|0)+g|0,m[6983]=W,m[6986]=F,m[U+4>>2]=W|1,m[F+W>>2]=W;return}E=(T&-8)+g|0,b=T>>>3;do if(T>>>0<256)if(g=m[W+8>>2]|0,A=m[W+12>>2]|0,(A|0)==(g|0)){m[6981]=m[6981]&~(1<<b);break}else{m[g+12>>2]=A,m[A+8>>2]=g;break}else{O=m[W+24>>2]|0,A=m[W+12>>2]|0;do if((A|0)==(W|0)){if(g=W+16|0,b=g+4|0,A=m[b>>2]|0,A)g=b;else if(A=m[g>>2]|0,!A){b=0;break}for(;;)if(T=A+20|0,b=m[T>>2]|0,b)A=b,g=T;else if(T=A+16|0,b=m[T>>2]|0,b)A=b,g=T;else break;m[g>>2]=0,b=A}else b=m[W+8>>2]|0,m[b+12>>2]=A,m[A+8>>2]=b,b=A;while(0);if(O|0){if(A=m[W+28>>2]|0,g=28228+(A<<2)|0,(m[g>>2]|0)==(W|0)){if(m[g>>2]=b,!b){m[6982]=m[6982]&~(1<<A);break}}else if(T=O+16|0,m[((m[T>>2]|0)==(W|0)?T:O+20|0)>>2]=b,!b)break;m[b+24>>2]=O,A=W+16|0,g=m[A>>2]|0,g|0&&(m[b+16>>2]=g,m[g+24>>2]=b),A=m[A+4>>2]|0,A|0&&(m[b+20>>2]=A,m[A+24>>2]=b)}}while(0);if(m[U+4>>2]=E|1,m[F+E>>2]=E,(U|0)==(m[6986]|0)){m[6983]=E;return}}if(A=E>>>3,E>>>0<256){b=27964+(A<<1<<2)|0,g=m[6981]|0,A=1<<A,g&A?(g=b+8|0,A=m[g>>2]|0):(m[6981]=g|A,A=b,g=b+8|0),m[g>>2]=U,m[A+12>>2]=U,m[U+8>>2]=A,m[U+12>>2]=b;return}A=E>>>8,A?E>>>0>16777215?T=31:(F=(A+1048320|0)>>>16&8,W=A<<F,O=(W+520192|0)>>>16&4,W=W<<O,T=(W+245760|0)>>>16&2,T=14-(O|F|T)+(W<<T>>>15)|0,T=E>>>(T+7|0)&1|T<<1):T=0,A=28228+(T<<2)|0,m[U+28>>2]=T,m[U+20>>2]=0,m[U+16>>2]=0,g=m[6982]|0,b=1<<T;e:do if(!(g&b))m[6982]=g|b,m[A>>2]=U,m[U+24>>2]=A,m[U+12>>2]=U,m[U+8>>2]=U;else{A=m[A>>2]|0;t:do if((m[A+4>>2]&-8|0)!=(E|0)){for(T=E<<((T|0)==31?0:25-(T>>>1)|0);b=A+16+(T>>>31<<2)|0,g=m[b>>2]|0,!!g;)if((m[g+4>>2]&-8|0)==(E|0)){A=g;break t}else T=T<<1,A=g;m[b>>2]=U,m[U+24>>2]=A,m[U+12>>2]=U,m[U+8>>2]=U;break e}while(0);F=A+8|0,W=m[F>>2]|0,m[W+12>>2]=U,m[F>>2]=U,m[U+8>>2]=W,m[U+12>>2]=A,m[U+24>>2]=0}while(0);if(W=(m[6989]|0)+-1|0,m[6989]=W,!(W|0)){for(A=28380;A=m[A>>2]|0,A;)A=A+8|0;m[6989]=-1}}}}function ml(A,g){A=A|0,g=g|0;var b=0;return A?(b=dt(g,A)|0,(g|A)>>>0>65535&&(b=((b>>>0)/(A>>>0)|0|0)==(g|0)?b:-1)):b=0,A=Cd(b)|0,!A||!(m[A+-4>>2]&3)||jh(A|0,0,b|0)|0,A|0}function or(A,g,b,T){return A=A|0,g=g|0,b=b|0,T=T|0,b=A+b>>>0,Ot(g+T+(b>>>0<A>>>0|0)>>>0|0),b|0|0}function Sa(A,g,b,T){return A=A|0,g=g|0,b=b|0,T=T|0,T=g-T-(b>>>0>A>>>0|0)>>>0,Ot(T|0),A-b>>>0|0|0}function az(A){return A=A|0,(A?31-(Ht(A^A-1)|0)|0:32)|0}function w4(A,g,b,T,E){A=A|0,g=g|0,b=b|0,T=T|0,E=E|0;var O=0,F=0,U=0,W=0,Q=0,ne=0,xe=0,Le=0,Be=0,Fe=0;if(ne=A,W=g,Q=W,F=b,Le=T,U=Le,!Q)return O=(E|0)!=0,U?O?(m[E>>2]=A|0,m[E+4>>2]=g&0,Le=0,E=0,Ot(Le|0),E|0):(Le=0,E=0,Ot(Le|0),E|0):(O&&(m[E>>2]=(ne>>>0)%(F>>>0),m[E+4>>2]=0),Le=0,E=(ne>>>0)/(F>>>0)>>>0,Ot(Le|0),E|0);O=(U|0)==0;do if(F){if(!O){if(O=(Ht(U|0)|0)-(Ht(Q|0)|0)|0,O>>>0<=31){xe=O+1|0,U=31-O|0,g=O-31>>31,F=xe,A=ne>>>(xe>>>0)&g|Q<<U,g=Q>>>(xe>>>0)&g,O=0,U=ne<<U;break}return E?(m[E>>2]=A|0,m[E+4>>2]=W|g&0,Le=0,E=0,Ot(Le|0),E|0):(Le=0,E=0,Ot(Le|0),E|0)}if(O=F-1|0,O&F|0){U=(Ht(F|0)|0)+33-(Ht(Q|0)|0)|0,Fe=64-U|0,xe=32-U|0,W=xe>>31,Be=U-32|0,g=Be>>31,F=U,A=xe-1>>31&Q>>>(Be>>>0)|(Q<<xe|ne>>>(U>>>0))&g,g=g&Q>>>(U>>>0),O=ne<<Fe&W,U=(Q<<Fe|ne>>>(Be>>>0))&W|ne<<xe&U-33>>31;break}return E|0&&(m[E>>2]=O&ne,m[E+4>>2]=0),(F|0)==1?(Be=W|g&0,Fe=A|0|0,Ot(Be|0),Fe|0):(Fe=az(F|0)|0,Be=Q>>>(Fe>>>0)|0,Fe=Q<<32-Fe|ne>>>(Fe>>>0)|0,Ot(Be|0),Fe|0)}else{if(O)return E|0&&(m[E>>2]=(Q>>>0)%(F>>>0),m[E+4>>2]=0),Be=0,Fe=(Q>>>0)/(F>>>0)>>>0,Ot(Be|0),Fe|0;if(!ne)return E|0&&(m[E>>2]=0,m[E+4>>2]=(Q>>>0)%(U>>>0)),Be=0,Fe=(Q>>>0)/(U>>>0)>>>0,Ot(Be|0),Fe|0;if(O=U-1|0,!(O&U))return E|0&&(m[E>>2]=A|0,m[E+4>>2]=O&Q|g&0),Be=0,Fe=Q>>>((az(U|0)|0)>>>0),Ot(Be|0),Fe|0;if(O=(Ht(U|0)|0)-(Ht(Q|0)|0)|0,O>>>0<=30){g=O+1|0,U=31-O|0,F=g,A=Q<<U|ne>>>(g>>>0),g=Q>>>(g>>>0),O=0,U=ne<<U;break}return E?(m[E>>2]=A|0,m[E+4>>2]=W|g&0,Be=0,Fe=0,Ot(Be|0),Fe|0):(Be=0,Fe=0,Ot(Be|0),Fe|0)}while(0);if(!F)Q=U,W=0,U=0;else{xe=b|0|0,ne=Le|T&0,Q=or(xe|0,ne|0,-1,-1)|0,b=fe()|0,W=U,U=0;do T=W,W=O>>>31|W<<1,O=U|O<<1,T=A<<1|T>>>31|0,Le=A>>>31|g<<1|0,Sa(Q|0,b|0,T|0,Le|0)|0,Fe=fe()|0,Be=Fe>>31|((Fe|0)<0?-1:0)<<1,U=Be&1,A=Sa(T|0,Le|0,Be&xe|0,(((Fe|0)<0?-1:0)>>31|((Fe|0)<0?-1:0)<<1)&ne|0)|0,g=fe()|0,F=F-1|0;while(F|0);Q=W,W=0}return F=0,E|0&&(m[E>>2]=A,m[E+4>>2]=g),Be=(O|0)>>>31|(Q|F)<<1|(F<<1|O>>>31)&0|W,Fe=(O<<1|0)&-2|U,Ot(Be|0),Fe|0}function Hh(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0;return Q=g>>31|((g|0)<0?-1:0)<<1,W=((g|0)<0?-1:0)>>31|((g|0)<0?-1:0)<<1,O=T>>31|((T|0)<0?-1:0)<<1,E=((T|0)<0?-1:0)>>31|((T|0)<0?-1:0)<<1,U=Sa(Q^A|0,W^g|0,Q|0,W|0)|0,F=fe()|0,A=O^Q,g=E^W,Sa((w4(U,F,Sa(O^b|0,E^T|0,O|0,E|0)|0,fe()|0,0)|0)^A|0,(fe()|0)^g|0,A|0,g|0)|0}function uge(A,g){A=A|0,g=g|0;var b=0,T=0,E=0,O=0;return O=A&65535,E=g&65535,b=dt(E,O)|0,T=A>>>16,A=(b>>>16)+(dt(E,T)|0)|0,E=g>>>16,g=dt(E,O)|0,Ot((A>>>16)+(dt(E,T)|0)+(((A&65535)+g|0)>>>16)|0),A+g<<16|b&65535|0|0}function wa(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0;return E=A,O=b,b=uge(E,O)|0,A=fe()|0,Ot((dt(g,O)|0)+(dt(T,E)|0)+A|A&0|0),b|0|0|0}function jg(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0,F=0,U=0,W=0,Q=0;return E=le,le=le+16|0,U=E|0,F=g>>31|((g|0)<0?-1:0)<<1,O=((g|0)<0?-1:0)>>31|((g|0)<0?-1:0)<<1,Q=T>>31|((T|0)<0?-1:0)<<1,W=((T|0)<0?-1:0)>>31|((T|0)<0?-1:0)<<1,A=Sa(F^A|0,O^g|0,F|0,O|0)|0,g=fe()|0,w4(A,g,Sa(Q^b|0,W^T|0,Q|0,W|0)|0,fe()|0,U)|0,T=Sa(m[U>>2]^F|0,m[U+4>>2]^O|0,F|0,O|0)|0,b=fe()|0,le=E,Ot(b|0),T|0}function qg(A,g,b,T){A=A|0,g=g|0,b=b|0,T=T|0;var E=0,O=0;return O=le,le=le+16|0,E=O|0,w4(A,g,b,T,E)|0,le=O,Ot(m[E+4>>2]|0),m[E>>2]|0|0}function sz(A,g,b){return A=A|0,g=g|0,b=b|0,(b|0)<32?(Ot(g>>b|0),A>>>b|(g&(1<<b)-1)<<32-b):(Ot(((g|0)<0?-1:0)|0),g>>b-32|0)}function Jt(A,g,b){return A=A|0,g=g|0,b=b|0,(b|0)<32?(Ot(g>>>b|0),A>>>b|(g&(1<<b)-1)<<32-b):(Ot(0),g>>>b-32|0)}function sn(A,g,b){return A=A|0,g=g|0,b=b|0,(b|0)<32?(Ot(g<<b|(A&(1<<b)-1<<32-b)>>>32-b|0),A<<b):(Ot(A<<b-32|0),0)}function C4(A,g,b){return A=A|0,g=g|0,g=Ht(g)|0,(g|0)==32&&(g=g+(Ht(A)|0)|0),Ot(0),g|0}function lz(A,g){return A=+A,g=+g,A!=A?+g:g!=g?+A:+Nt(+A,+g)}function Pw(A,g){return A=+A,g=+g,A!=A?+g:g!=g?+A:+He(+A,+g)}function Rw(A){return A=+A,A>=0?+tr(A+.5):+lt(A-.5)}function Wg(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0;if((b|0)>=8192)return Hn(A|0,g|0,b|0)|0,A|0;if(O=A|0,E=A+b|0,(A&3)==(g&3)){for(;A&3;){if(!b)return O|0;xt[A>>0]=xt[g>>0]|0,A=A+1|0,g=g+1|0,b=b-1|0}for(b=E&-4|0,T=b-64|0;(A|0)<=(T|0);)m[A>>2]=m[g>>2],m[A+4>>2]=m[g+4>>2],m[A+8>>2]=m[g+8>>2],m[A+12>>2]=m[g+12>>2],m[A+16>>2]=m[g+16>>2],m[A+20>>2]=m[g+20>>2],m[A+24>>2]=m[g+24>>2],m[A+28>>2]=m[g+28>>2],m[A+32>>2]=m[g+32>>2],m[A+36>>2]=m[g+36>>2],m[A+40>>2]=m[g+40>>2],m[A+44>>2]=m[g+44>>2],m[A+48>>2]=m[g+48>>2],m[A+52>>2]=m[g+52>>2],m[A+56>>2]=m[g+56>>2],m[A+60>>2]=m[g+60>>2],A=A+64|0,g=g+64|0;for(;(A|0)<(b|0);)m[A>>2]=m[g>>2],A=A+4|0,g=g+4|0}else for(b=E-4|0;(A|0)<(b|0);)xt[A>>0]=xt[g>>0]|0,xt[A+1>>0]=xt[g+1>>0]|0,xt[A+2>>0]=xt[g+2>>0]|0,xt[A+3>>0]=xt[g+3>>0]|0,A=A+4|0,g=g+4|0;for(;(A|0)<(E|0);)xt[A>>0]=xt[g>>0]|0,A=A+1|0,g=g+1|0;return O|0}function jh(A,g,b){A=A|0,g=g|0,b=b|0;var T=0,E=0,O=0,F=0;if(O=A+b|0,g=g&255,(b|0)>=67){for(;A&3;)xt[A>>0]=g,A=A+1|0;for(T=O&-4|0,F=g|g<<8|g<<16|g<<24,E=T-64|0;(A|0)<=(E|0);)m[A>>2]=F,m[A+4>>2]=F,m[A+8>>2]=F,m[A+12>>2]=F,m[A+16>>2]=F,m[A+20>>2]=F,m[A+24>>2]=F,m[A+28>>2]=F,m[A+32>>2]=F,m[A+36>>2]=F,m[A+40>>2]=F,m[A+44>>2]=F,m[A+48>>2]=F,m[A+52>>2]=F,m[A+56>>2]=F,m[A+60>>2]=F,A=A+64|0;for(;(A|0)<(T|0);)m[A>>2]=F,A=A+4|0}for(;(A|0)<(O|0);)xt[A>>0]=g,A=A+1|0;return O-b|0}function cz(A){return A=+A,A>=0?+tr(A+.5):+lt(A-.5)}function qh(A){A=A|0;var g=0,b=0,T=0;return T=wn()|0,b=m[Pn>>2]|0,g=b+A|0,(A|0)>0&(g|0)<(b|0)|(g|0)<0?(Lr(g|0)|0,fn(12),-1):(g|0)>(T|0)&&!(lr(g|0)|0)?(fn(12),-1):(m[Pn>>2]=g,b|0)}return{___divdi3:Hh,___muldi3:wa,___remdi3:jg,___uremdi3:qg,_areNeighborCells:ow,_bitshift64Ashr:sz,_bitshift64Lshr:Jt,_bitshift64Shl:sn,_calloc:ml,_cellAreaKm2:Gg,_cellAreaM2:Fm,_cellAreaRads2:nb,_cellToBoundary:kh,_cellToCenterChild:fw,_cellToChildPos:mw,_cellToChildren:c4,_cellToChildrenSize:hl,_cellToLatLng:Sd,_cellToLocalIj:Sw,_cellToParent:K1,_cellToVertex:Rc,_cellToVertexes:ige,_cellsToDirectedEdge:aw,_cellsToLinkedMultiPolygon:Tc,_childPosToCell:f4,_compactCells:xu,_constructCell:l4,_destroyLinkedMultiPolygon:rb,_directedEdgeToBoundary:Dm,_directedEdgeToCells:Om,_edgeLengthKm:yw,_edgeLengthM:g4,_edgeLengthRads:vw,_emscripten_replace_memory:yn,_free:ar,_getBaseCellNumber:uw,_getDirectedEdgeDestination:Cf,_getDirectedEdgeOrigin:Ug,_getHexagonAreaAvgKm2:tb,_getHexagonAreaAvgM2:m4,_getHexagonEdgeLengthAvgKm:Su,_getHexagonEdgeLengthAvgM:Aw,_getIcosahedronFaces:hw,_getIndexDigit:Oh,_getNumCells:Bm,_getPentagons:J1,_getRes0Cells:Ei,_getResolution:bu,_greatCircleDistanceKm:_u,_greatCircleDistanceM:p4,_greatCircleDistanceRads:h4,_gridDisk:Xn,_gridDiskDistances:cr,_gridDistance:v,_gridPathCells:k,_gridPathCellsSize:P,_gridRing:Wr,_gridRingUnsafe:zn,_i64Add:or,_i64Subtract:Sa,_isPentagon:fi,_isResClassIII:d4,_isValidCell:Ef,_isValidDirectedEdge:sw,_isValidIndex:dw,_isValidVertex:tz,_latLngToCell:xd,_llvm_ctlz_i64:C4,_llvm_maxnum_f64:lz,_llvm_minnum_f64:Pw,_llvm_round_f64:Rw,_localIjToCell:A4,_malloc:Cd,_maxFaceCount:Vg,_maxGridDiskSize:An,_maxPolygonToCellsSize:ui,_maxPolygonToCellsSizeExperimental:on,_memcpy:Wg,_memset:jh,_originToDirectedEdges:fl,_pentagonCount:pw,_polygonToCells:Cc,_polygonToCellsExperimental:Bt,_readInt64AsDoubleFromPointer:Hg,_res0CellCount:xi,_round:cz,_sbrk:qh,_sizeOfCellBoundary:b4,_sizeOfCoordIJ:ko,_sizeOfGeoLoop:ww,_sizeOfGeoPolygon:x4,_sizeOfH3Index:v4,_sizeOfLatLng:y4,_sizeOfLinkedGeoPolygon:Cw,_uncompactCells:u4,_uncompactCellsSize:Lh,_vertexToLatLng:oge,establishStackSpace:hn,stackAlloc:jt,stackRestore:xn,stackSave:en}}(Lt,tn,z);e.___divdi3=Qe.___divdi3,e.___muldi3=Qe.___muldi3,e.___remdi3=Qe.___remdi3,e.___uremdi3=Qe.___uremdi3,e._areNeighborCells=Qe._areNeighborCells,e._bitshift64Ashr=Qe._bitshift64Ashr,e._bitshift64Lshr=Qe._bitshift64Lshr,e._bitshift64Shl=Qe._bitshift64Shl,e._calloc=Qe._calloc,e._cellAreaKm2=Qe._cellAreaKm2,e._cellAreaM2=Qe._cellAreaM2,e._cellAreaRads2=Qe._cellAreaRads2,e._cellToBoundary=Qe._cellToBoundary,e._cellToCenterChild=Qe._cellToCenterChild,e._cellToChildPos=Qe._cellToChildPos,e._cellToChildren=Qe._cellToChildren,e._cellToChildrenSize=Qe._cellToChildrenSize,e._cellToLatLng=Qe._cellToLatLng,e._cellToLocalIj=Qe._cellToLocalIj,e._cellToParent=Qe._cellToParent,e._cellToVertex=Qe._cellToVertex,e._cellToVertexes=Qe._cellToVertexes,e._cellsToDirectedEdge=Qe._cellsToDirectedEdge,e._cellsToLinkedMultiPolygon=Qe._cellsToLinkedMultiPolygon,e._childPosToCell=Qe._childPosToCell,e._compactCells=Qe._compactCells,e._constructCell=Qe._constructCell,e._destroyLinkedMultiPolygon=Qe._destroyLinkedMultiPolygon,e._directedEdgeToBoundary=Qe._directedEdgeToBoundary,e._directedEdgeToCells=Qe._directedEdgeToCells,e._edgeLengthKm=Qe._edgeLengthKm,e._edgeLengthM=Qe._edgeLengthM,e._edgeLengthRads=Qe._edgeLengthRads;var Pt=e._emscripten_replace_memory=Qe._emscripten_replace_memory;e._free=Qe._free,e._getBaseCellNumber=Qe._getBaseCellNumber,e._getDirectedEdgeDestination=Qe._getDirectedEdgeDestination,e._getDirectedEdgeOrigin=Qe._getDirectedEdgeOrigin,e._getHexagonAreaAvgKm2=Qe._getHexagonAreaAvgKm2,e._getHexagonAreaAvgM2=Qe._getHexagonAreaAvgM2,e._getHexagonEdgeLengthAvgKm=Qe._getHexagonEdgeLengthAvgKm,e._getHexagonEdgeLengthAvgM=Qe._getHexagonEdgeLengthAvgM,e._getIcosahedronFaces=Qe._getIcosahedronFaces,e._getIndexDigit=Qe._getIndexDigit,e._getNumCells=Qe._getNumCells,e._getPentagons=Qe._getPentagons,e._getRes0Cells=Qe._getRes0Cells,e._getResolution=Qe._getResolution,e._greatCircleDistanceKm=Qe._greatCircleDistanceKm,e._greatCircleDistanceM=Qe._greatCircleDistanceM,e._greatCircleDistanceRads=Qe._greatCircleDistanceRads,e._gridDisk=Qe._gridDisk,e._gridDiskDistances=Qe._gridDiskDistances,e._gridDistance=Qe._gridDistance,e._gridPathCells=Qe._gridPathCells,e._gridPathCellsSize=Qe._gridPathCellsSize,e._gridRing=Qe._gridRing,e._gridRingUnsafe=Qe._gridRingUnsafe,e._i64Add=Qe._i64Add,e._i64Subtract=Qe._i64Subtract,e._isPentagon=Qe._isPentagon,e._isResClassIII=Qe._isResClassIII,e._isValidCell=Qe._isValidCell,e._isValidDirectedEdge=Qe._isValidDirectedEdge,e._isValidIndex=Qe._isValidIndex,e._isValidVertex=Qe._isValidVertex,e._latLngToCell=Qe._latLngToCell,e._llvm_ctlz_i64=Qe._llvm_ctlz_i64,e._llvm_maxnum_f64=Qe._llvm_maxnum_f64,e._llvm_minnum_f64=Qe._llvm_minnum_f64,e._llvm_round_f64=Qe._llvm_round_f64,e._localIjToCell=Qe._localIjToCell,e._malloc=Qe._malloc,e._maxFaceCount=Qe._maxFaceCount,e._maxGridDiskSize=Qe._maxGridDiskSize,e._maxPolygonToCellsSize=Qe._maxPolygonToCellsSize,e._maxPolygonToCellsSizeExperimental=Qe._maxPolygonToCellsSizeExperimental,e._memcpy=Qe._memcpy,e._memset=Qe._memset,e._originToDirectedEdges=Qe._originToDirectedEdges,e._pentagonCount=Qe._pentagonCount,e._polygonToCells=Qe._polygonToCells,e._polygonToCellsExperimental=Qe._polygonToCellsExperimental,e._readInt64AsDoubleFromPointer=Qe._readInt64AsDoubleFromPointer,e._res0CellCount=Qe._res0CellCount,e._round=Qe._round,e._sbrk=Qe._sbrk,e._sizeOfCellBoundary=Qe._sizeOfCellBoundary,e._sizeOfCoordIJ=Qe._sizeOfCoordIJ,e._sizeOfGeoLoop=Qe._sizeOfGeoLoop,e._sizeOfGeoPolygon=Qe._sizeOfGeoPolygon,e._sizeOfH3Index=Qe._sizeOfH3Index,e._sizeOfLatLng=Qe._sizeOfLatLng,e._sizeOfLinkedGeoPolygon=Qe._sizeOfLinkedGeoPolygon,e._uncompactCells=Qe._uncompactCells,e._uncompactCellsSize=Qe._uncompactCellsSize,e._vertexToLatLng=Qe._vertexToLatLng,e.establishStackSpace=Qe.establishStackSpace;var Ft=e.stackAlloc=Qe.stackAlloc,Yt=e.stackRestore=Qe.stackRestore,Rn=e.stackSave=Qe.stackSave;if(e.asm=Qe,e.cwrap=C,e.setValue=h,e.getValue=p,ct){pe(ct)||(ct=o(ct));{at();var Cn=function(Pe){Pe.byteLength&&(Pe=new Uint8Array(Pe)),q.set(Pe,f),e.memoryInitializerRequest&&delete e.memoryInitializerRequest.response,nt()},dn=function(){a(ct,Cn,function(){throw"could not load memory initializer "+ct})},Mn=$t(ct);if(Mn)Cn(Mn.buffer);else if(e.memoryInitializerRequest){var Tn=function(){var Pe=e.memoryInitializerRequest,mt=Pe.response;if(Pe.status!==200&&Pe.status!==0){var St=$t(e.memoryInitializerRequestURL);if(St)mt=St.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+Pe.status+", retrying "+ct),dn();return}}Cn(mt)};e.memoryInitializerRequest.response?setTimeout(Tn,0):e.memoryInitializerRequest.addEventListener("load",Tn)}else dn()}}var Qt;ue=function Pe(){Qt||Gt(),Qt||(ue=Pe)};function Gt(Pe){if(Ge>0||(me(),Ge>0))return;function mt(){Qt||(Qt=!0,!_&&(ye(),we(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Ee()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),mt()},1)):mt()}e.run=Gt;function Ut(Pe){throw e.onAbort&&e.onAbort(Pe),Pe+="",s(Pe),l(Pe),_=!0,"abort("+Pe+"). Build with -s ASSERTIONS=1 for more info."}if(e.abort=Ut,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Gt(),t}(typeof ai=="object"?ai:{}),vr="number",mr=vr,PA=vr,Cr=vr,Tr=vr,Ea=vr,kn=vr,KWe=[["sizeOfH3Index",vr],["sizeOfLatLng",vr],["sizeOfCellBoundary",vr],["sizeOfGeoLoop",vr],["sizeOfGeoPolygon",vr],["sizeOfLinkedGeoPolygon",vr],["sizeOfCoordIJ",vr],["readInt64AsDoubleFromPointer",vr],["isValidCell",PA,[Cr,Tr]],["isValidIndex",PA,[Cr,Tr]],["latLngToCell",mr,[vr,vr,Ea,kn]],["cellToLatLng",mr,[Cr,Tr,kn]],["cellToBoundary",mr,[Cr,Tr,kn]],["maxGridDiskSize",mr,[vr,kn]],["gridDisk",mr,[Cr,Tr,vr,kn]],["gridDiskDistances",mr,[Cr,Tr,vr,kn,kn]],["gridRing",mr,[Cr,Tr,vr,kn]],["gridRingUnsafe",mr,[Cr,Tr,vr,kn]],["maxPolygonToCellsSize",mr,[kn,Ea,vr,kn]],["polygonToCells",mr,[kn,Ea,vr,kn]],["maxPolygonToCellsSizeExperimental",mr,[kn,Ea,vr,kn]],["polygonToCellsExperimental",mr,[kn,Ea,vr,vr,vr,kn]],["cellsToLinkedMultiPolygon",mr,[kn,vr,kn]],["destroyLinkedMultiPolygon",null,[kn]],["compactCells",mr,[kn,kn,vr,vr]],["uncompactCells",mr,[kn,vr,vr,kn,vr,Ea]],["uncompactCellsSize",mr,[kn,vr,vr,Ea,kn]],["isPentagon",PA,[Cr,Tr]],["isResClassIII",PA,[Cr,Tr]],["getBaseCellNumber",vr,[Cr,Tr]],["getResolution",vr,[Cr,Tr]],["getIndexDigit",vr,[Cr,Tr,vr]],["constructCell",mr,[vr,vr,kn,kn]],["maxFaceCount",mr,[Cr,Tr,kn]],["getIcosahedronFaces",mr,[Cr,Tr,kn]],["cellToParent",mr,[Cr,Tr,Ea,kn]],["cellToChildren",mr,[Cr,Tr,Ea,kn]],["cellToCenterChild",mr,[Cr,Tr,Ea,kn]],["cellToChildrenSize",mr,[Cr,Tr,Ea,kn]],["cellToChildPos",mr,[Cr,Tr,Ea,kn]],["childPosToCell",mr,[vr,vr,Cr,Tr,Ea,kn]],["areNeighborCells",mr,[Cr,Tr,Cr,Tr,kn]],["cellsToDirectedEdge",mr,[Cr,Tr,Cr,Tr,kn]],["getDirectedEdgeOrigin",mr,[Cr,Tr,kn]],["getDirectedEdgeDestination",mr,[Cr,Tr,kn]],["isValidDirectedEdge",PA,[Cr,Tr]],["directedEdgeToCells",mr,[Cr,Tr,kn]],["originToDirectedEdges",mr,[Cr,Tr,kn]],["directedEdgeToBoundary",mr,[Cr,Tr,kn]],["gridDistance",mr,[Cr,Tr,Cr,Tr,kn]],["gridPathCells",mr,[Cr,Tr,Cr,Tr,kn]],["gridPathCellsSize",mr,[Cr,Tr,Cr,Tr,kn]],["cellToLocalIj",mr,[Cr,Tr,Cr,Tr,vr,kn]],["localIjToCell",mr,[Cr,Tr,kn,vr,kn]],["getHexagonAreaAvgM2",mr,[Ea,kn]],["getHexagonAreaAvgKm2",mr,[Ea,kn]],["getHexagonEdgeLengthAvgM",mr,[Ea,kn]],["getHexagonEdgeLengthAvgKm",mr,[Ea,kn]],["greatCircleDistanceM",vr,[kn,kn]],["greatCircleDistanceKm",vr,[kn,kn]],["greatCircleDistanceRads",vr,[kn,kn]],["cellAreaM2",mr,[Cr,Tr,kn]],["cellAreaKm2",mr,[Cr,Tr,kn]],["cellAreaRads2",mr,[Cr,Tr,kn]],["edgeLengthM",mr,[Cr,Tr,kn]],["edgeLengthKm",mr,[Cr,Tr,kn]],["edgeLengthRads",mr,[Cr,Tr,kn]],["getNumCells",mr,[Ea,kn]],["getRes0Cells",mr,[kn]],["res0CellCount",vr],["getPentagons",mr,[vr,kn]],["pentagonCount",vr],["cellToVertex",mr,[Cr,Tr,vr,kn]],["cellToVertexes",mr,[Cr,Tr,kn]],["vertexToLatLng",mr,[Cr,Tr,kn]],["isValidVertex",PA,[Cr,Tr]]],QWe=0,ZWe=1,JWe=2,eXe=3,jse=4,tXe=5,nXe=6,rXe=7,iXe=8,oXe=9,aXe=10,sXe=11,lXe=12,cXe=13,uXe=14,dXe=15,fXe=16,hXe=17,pXe=18,mXe=19,ta={};ta[QWe]="Success";ta[ZWe]="The operation failed but a more specific error is not available";ta[JWe]="Argument was outside of acceptable range";ta[eXe]="Latitude or longitude arguments were outside of acceptable range";ta[jse]="Resolution argument was outside of acceptable range";ta[tXe]="Cell argument was not valid";ta[nXe]="Directed edge argument was not valid";ta[rXe]="Undirected edge argument was not valid";ta[iXe]="Vertex argument was not valid";ta[oXe]="Pentagon distortion was encountered";ta[aXe]="Duplicate input";ta[sXe]="Cell arguments were not neighbors";ta[lXe]="Cell arguments had incompatible resolutions";ta[cXe]="Memory allocation failed";ta[uXe]="Bounds of provided memory were insufficient";ta[dXe]="Mode or flags argument was not valid";ta[fXe]="Index argument was not valid";ta[hXe]="Base cell number was outside of acceptable range";ta[pXe]="Child indexing digits invalid";ta[mXe]="Child indexing digits refer to a deleted subsequence";var gXe=1e3,qse=1001,Wse=1002,zR={};zR[gXe]="Unknown unit";zR[qse]="Array length out of bounds";zR[Wse]="Got unexpected null value for H3 index";var AXe="Unknown error";function Xse(t,e,n){var r=n&&"value"in n,i=new Error((t[e]||AXe)+" (code: "+e+(r?", value: "+n.value:"")+")");return i.code=e,i}function Yse(t,e){var n=arguments.length===2?{value:e}:{};return Xse(ta,t,n)}function Kse(t,e){var n=arguments.length===2?{value:e}:{};return Xse(zR,t,n)}function b2(t){if(t!==0)throw Yse(t)}var Bl={};KWe.forEach(function(e){Bl[e[0]]=ai.cwrap.apply(ai,e)});var hv=16,x2=4,Hy=8,vXe=8,C3=Bl.sizeOfH3Index(),Q7=Bl.sizeOfLatLng(),yXe=Bl.sizeOfCellBoundary(),bXe=Bl.sizeOfGeoPolygon(),Qx=Bl.sizeOfGeoLoop();Bl.sizeOfLinkedGeoPolygon();Bl.sizeOfCoordIJ();function xXe(t){if(typeof t!="number"||t<0||t>15||Math.floor(t)!==t)throw Yse(jse,t);return t}function _Xe(t){if(!t)throw Kse(Wse);return t}var SXe=Math.pow(2,32)-1;function wXe(t){if(t>SXe)throw Kse(qse,t);return t}var CXe=/[^0-9a-fA-F]/;function Qse(t){if(Array.isArray(t)&&t.length===2&&Number.isInteger(t[0])&&Number.isInteger(t[1]))return t;if(typeof t!="string"||CXe.test(t))return[0,0];var e=parseInt(t.substring(0,t.length-8),hv),n=parseInt(t.substring(t.length-8),hv);return[n,e]}function sX(t){if(t>=0)return t.toString(hv);t=t&2147483647;var e=Zse(8,t.toString(hv)),n=(parseInt(e[0],hv)+8).toString(hv);return e=n+e.substring(1),e}function TXe(t,e){return sX(e)+Zse(8,sX(t))}function Zse(t,e){for(var n=t-e.length,r="",i=0;i<n;i++)r+="0";return r=r+e,r}function lX(t,e,n){for(var r=t.length,i=ai._calloc(r,Q7),o=n?1:0,a=n?0:1,s=0;s<r*2;s+=2)ai.HEAPF64.set([t[s/2][o],t[s/2][a]].map(rle),i/Hy+s);return ai.HEAPU32.set([r,i],e/x2),e}function EXe(t,e){var n=t.length-1,r=ai._calloc(bXe),i=0,o=i+Qx,a=o+x2;lX(t[0],r+i,e);var s;if(n>0){s=ai._calloc(n,Qx);for(var l=0;l<n;l++)lX(t[l+1],s+Qx*l,e)}return ai.setValue(r+o,n,"i32"),ai.setValue(r+a,s,"i32"),r}function MXe(t){var e=0,n=e+Qx,r=n+x2,i=x2;ai._free(ai.getValue(t+e+i,"i8*"));var o=ai.getValue(t+n,"i32");if(o>0){for(var a=ai.getValue(t+r,"i32"),s=0;s<o;s++)ai._free(ai.getValue(a+Qx*s+i,"i8*"));ai._free(a)}ai._free(t)}function Jse(t,e){e===void 0&&(e=0);var n=ai.getValue(t+C3*e,"i32"),r=ai.getValue(t+C3*e+x2,"i32");return r?TXe(n,r):null}function PXe(t){return Bl.readInt64AsDoubleFromPointer(t)}function RXe(t,e){for(var n=[],r=0;r<e;r++){var i=Jse(t,r);i!==null&&n.push(i)}return n}function T3(t){return DXe(ai.getValue(t,"double"))}function ele(t){return[T3(t),T3(t+Hy)]}function NXe(t){return[T3(t+Hy),T3(t)]}function IXe(t,e,n){for(var r=ai.getValue(t,"i32"),i=t+Hy,o=[],a=e?NXe:ele,s=0;s<r*2;s+=2)o.push(a(i+Hy*s));return n&&o.push(o[0]),o}function OXe(t,e,n){var r=ai._malloc(Q7);ai.HEAPF64.set([t,e].map(rle),r/Hy);var i=ai._malloc(C3);try{return b2(Bl.latLngToCell(r,n,i)),_Xe(Jse(i))}finally{ai._free(i),ai._free(r)}}function tle(t){var e=ai._malloc(Q7),n=Qse(t),r=n[0],i=n[1];try{return b2(Bl.cellToLatLng(r,i,e)),ele(e)}finally{ai._free(e)}}function nle(t,e){var n=ai._malloc(yXe),r=Qse(t),i=r[0],o=r[1];try{return b2(Bl.cellToBoundary(i,o,n)),IXe(n,e,e)}finally{ai._free(n)}}function cX(t,e,n){if(xXe(e),n=!!n,t.length===0||t[0].length===0)return[];var r=typeof t[0][0]=="number"?[t]:t,i=EXe(r,n),o=ai._malloc(vXe);try{b2(Bl.maxPolygonToCellsSize(i,e,0,o));var a=wXe(PXe(o)),s=ai._calloc(a,C3);try{return b2(Bl.polygonToCells(i,e,0,s)),RXe(s,a)}finally{ai._free(s)}}finally{ai._free(o),MXe(i)}}function rle(t){return t*Math.PI/180}function DXe(t){return t*180/Math.PI}function LXe(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const BXe=["alphaMap","alphaTest","anisotropy","anisotropyMap","anisotropyRotation","aoMap","aoMapIntensity","attenuationColor","attenuationDistance","bumpMap","clearcoat","clearcoatMap","clearcoatNormalMap","clearcoatNormalScale","clearcoatRoughness","color","dispersion","displacementMap","emissive","emissiveIntensity","emissiveMap","envMap","envMapIntensity","gradientMap","ior","iridescence","iridescenceIOR","iridescenceMap","iridescenceThicknessMap","lightMap","lightMapIntensity","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","sheen","sheenColor","sheenColorMap","sheenRoughnessMap","shininess","specular","specularColor","specularColorMap","specularIntensity","specularIntensityMap","specularMap","thickness","transmission","transmissionMap"],VO=new WeakMap;class FXe{constructor(e){this.renderObjects=new WeakMap,this.hasNode=this.containsNode(e),this.hasAnimation=e.object.isSkinnedMesh===!0,this.refreshUniforms=BXe,this.renderId=0}firstInitialization(e){return this.renderObjects.has(e)===!1?(this.getRenderObjectData(e),!0):!1}needsVelocity(e){const n=e.getMRT();return n!==null&&n.has("velocity")}getRenderObjectData(e){let n=this.renderObjects.get(e);if(n===void 0){const{geometry:r,material:i,object:o}=e;if(n={material:this.getMaterialData(i),geometry:{id:r.id,attributes:this.getAttributesData(r.attributes),indexVersion:r.index?r.index.version:null,drawRange:{start:r.drawRange.start,count:r.drawRange.count}},worldMatrix:o.matrixWorld.clone()},o.center&&(n.center=o.center.clone()),o.morphTargetInfluences&&(n.morphTargetInfluences=o.morphTargetInfluences.slice()),e.bundle!==null&&(n.version=e.bundle.version),n.material.transmission>0){const{width:a,height:s}=e.context;n.bufferWidth=a,n.bufferHeight=s}n.lights=this.getLightsData(e.lightsNode.getLights()),this.renderObjects.set(e,n)}return n}getAttributesData(e){const n={};for(const r in e){const i=e[r];n[r]={version:i.version}}return n}containsNode(e){const n=e.material;for(const r in n)if(n[r]&&n[r].isNode)return!0;return!!(e.context.modelViewMatrix||e.context.modelNormalViewMatrix||e.context.getAO||e.context.getShadow)}getMaterialData(e){const n={};for(const r of this.refreshUniforms){const i=e[r];i!=null&&(typeof i=="object"&&i.clone!==void 0?i.isTexture===!0?n[r]={id:i.id,version:i.version}:n[r]=i.clone():n[r]=i)}return n}equals(e,n){const{object:r,material:i,geometry:o}=e,a=this.getRenderObjectData(e);if(a.worldMatrix.equals(r.matrixWorld)!==!0)return a.worldMatrix.copy(r.matrixWorld),!1;const s=a.material;for(const x in s){const y=s[x],w=i[x];if(y.equals!==void 0){if(y.equals(w)===!1)return y.copy(w),!1}else if(w.isTexture===!0){if(y.id!==w.id||y.version!==w.version)return y.id=w.id,y.version=w.version,!1}else if(y!==w)return s[x]=w,!1}if(s.transmission>0){const{width:x,height:y}=e.context;if(a.bufferWidth!==x||a.bufferHeight!==y)return a.bufferWidth=x,a.bufferHeight=y,!1}const l=a.geometry,c=o.attributes,u=l.attributes,d=Object.keys(u),f=Object.keys(c);if(l.id!==o.id)return l.id=o.id,!1;if(d.length!==f.length)return a.geometry.attributes=this.getAttributesData(c),!1;for(const x of d){const y=u[x],w=c[x];if(w===void 0)return delete u[x],!1;if(y.version!==w.version)return y.version=w.version,!1}const h=o.index,p=l.indexVersion,_=h?h.version:null;if(p!==_)return l.indexVersion=_,!1;if(l.drawRange.start!==o.drawRange.start||l.drawRange.count!==o.drawRange.count)return l.drawRange.start=o.drawRange.start,l.drawRange.count=o.drawRange.count,!1;if(a.morphTargetInfluences){let x=!1;for(let y=0;y<a.morphTargetInfluences.length;y++)a.morphTargetInfluences[y]!==r.morphTargetInfluences[y]&&(a.morphTargetInfluences[y]=r.morphTargetInfluences[y],x=!0);if(x)return!1}if(a.lights){for(let x=0;x<n.length;x++)if(a.lights[x].map!==n[x].map)return!1}return a.center&&a.center.equals(r.center)===!1?(a.center.copy(r.center),!0):(e.bundle!==null&&(a.version=e.bundle.version),!0)}getLightsData(e){const n=[];for(const r of e)r.isSpotLight===!0&&r.map!==null&&n.push({map:r.map.version});return n}getLights(e,n){if(VO.has(e)){const i=VO.get(e);if(i.renderId===n)return i.lightsData}const r=this.getLightsData(e.getLights());return VO.set(e,{renderId:n,lightsData:r}),r}needsRefresh(e,n){if(this.hasNode||this.hasAnimation||this.firstInitialization(e)||this.needsVelocity(n.renderer))return!0;const{renderId:r}=n;if(this.renderId!==r)return this.renderId=r,!0;const i=e.object.static===!0,o=e.bundle!==null&&e.bundle.static===!0&&this.getRenderObjectData(e).version===e.bundle.version;if(i||o)return!1;const a=this.getLights(e.lightsNode,r);return this.equals(e,a)!==!0}}function Z7(t,e=0){let n=3735928559^e,r=1103547991^e;if(t instanceof Array)for(let i=0,o;i<t.length;i++)o=t[i],n=Math.imul(n^o,2654435761),r=Math.imul(r^o,1597334677);else for(let i=0,o;i<t.length;i++)o=t.charCodeAt(i),n=Math.imul(n^o,2654435761),r=Math.imul(r^o,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)}const wS=t=>Z7(t),R1=t=>Z7(t),Zx=(...t)=>Z7(t),$Xe=new Map([[1,"float"],[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),uX=new WeakMap;function ile(t){return $Xe.get(t)}function E3(t){if(/[iu]?vec\d/.test(t))return t.startsWith("ivec")?Int32Array:t.startsWith("uvec")?Uint32Array:Float32Array;if(/mat\d/.test(t)||/float/.test(t))return Float32Array;if(/uint/.test(t))return Uint32Array;if(/int/.test(t))return Int32Array;throw new Error(`THREE.NodeUtils: Unsupported type: ${t}`)}function ole(t){if(/float|int|uint/.test(t))return 1;if(/vec2/.test(t))return 2;if(/vec3/.test(t))return 3;if(/vec4/.test(t)||/mat2/.test(t))return 4;if(/mat3/.test(t))return 9;if(/mat4/.test(t))return 16;Kt("TSL: Unsupported type:",t)}function kXe(t){if(/float|int|uint/.test(t))return 1;if(/vec2/.test(t))return 2;if(/vec3/.test(t))return 3;if(/vec4/.test(t)||/mat2/.test(t))return 4;if(/mat3/.test(t))return 12;if(/mat4/.test(t))return 16;Kt("TSL: Unsupported type:",t)}function UXe(t){if(/float|int|uint/.test(t))return 4;if(/vec2/.test(t))return 8;if(/vec3/.test(t)||/vec4/.test(t))return 16;if(/mat2/.test(t))return 8;if(/mat3/.test(t)||/mat4/.test(t))return 16;Kt("TSL: Unsupported type:",t)}function Rp(t){if(t==null)return null;const e=typeof t;return t.isNode===!0?"node":e==="number"?"float":e==="boolean"?"bool":e==="string"?"string":e==="function"?"shader":t.isVector2===!0?"vec2":t.isVector3===!0?"vec3":t.isVector4===!0?"vec4":t.isMatrix2===!0?"mat2":t.isMatrix3===!0?"mat3":t.isMatrix4===!0?"mat4":t.isColor===!0?"color":t instanceof ArrayBuffer?"ArrayBuffer":null}function J7(t,...e){const n=t?t.slice(-4):void 0;return e.length===1&&(n==="vec2"?e=[e[0],e[0]]:n==="vec3"?e=[e[0],e[0],e[0]]:n==="vec4"&&(e=[e[0],e[0],e[0],e[0]])),t==="color"?new Vn(...e):n==="vec2"?new Wt(...e):n==="vec3"?new Te(...e):n==="vec4"?new yr(...e):n==="mat2"?new LR(...e):n==="mat3"?new Or(...e):n==="mat4"?new wr(...e):t==="bool"?e[0]||!1:t==="float"||t==="int"||t==="uint"?e[0]||0:t==="string"?e[0]||"":t==="ArrayBuffer"?lle(e[0]):null}function ale(t){let e=uX.get(t);return e===void 0&&(e={},uX.set(t,e)),e}function sle(t){let e="";const n=new Uint8Array(t);for(let r=0;r<n.length;r++)e+=String.fromCharCode(n[r]);return btoa(e)}function lle(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0)).buffer}const wx={VERTEX:"vertex",FRAGMENT:"fragment"},Er={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},zXe={BOOLEAN:"bool",INTEGER:"int",FLOAT:"float",VECTOR2:"vec2",VECTOR3:"vec3",VECTOR4:"vec4",MATRIX2:"mat2",MATRIX3:"mat3",MATRIX4:"mat4"},es={READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"},cle=["fragment","vertex"],h6=["setup","analyze","generate"],p6=[...cle,"compute"],Ng=["x","y","z","w"],VXe={analyze:"setup",generate:"analyze"};let GXe=0;class On extends pd{static get type(){return"Node"}constructor(e=null){super(),this.nodeType=e,this.updateType=Er.NONE,this.updateBeforeType=Er.NONE,this.updateAfterType=Er.NONE,this.uuid=Ly.generateUUID(),this.version=0,this.name="",this.global=!1,this.parents=!1,this.isNode=!0,this._beforeNodes=null,this._cacheKey=null,this._cacheKeyVersion=0,Object.defineProperty(this,"id",{value:GXe++})}set needsUpdate(e){e===!0&&this.version++}get type(){return this.constructor.type}onUpdate(e,n){return this.updateType=n,this.update=e.bind(this),this}onFrameUpdate(e){return this.onUpdate(e,Er.FRAME)}onRenderUpdate(e){return this.onUpdate(e,Er.RENDER)}onObjectUpdate(e){return this.onUpdate(e,Er.OBJECT)}onReference(e){return this.updateReference=e.bind(this),this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:e}of this._getChildren())yield e}dispose(){this.dispatchEvent({type:"dispose"})}traverse(e){e(this);for(const n of this.getChildren())n.traverse(e)}_getChildren(e=new Set){const n=[];e.add(this);for(const r of Object.getOwnPropertyNames(this)){const i=this[r];if(!(r.startsWith("_")===!0||e.has(i))){if(Array.isArray(i)===!0)for(let o=0;o<i.length;o++){const a=i[o];a&&a.isNode===!0&&n.push({property:r,index:o,childNode:a})}else if(i&&i.isNode===!0)n.push({property:r,childNode:i});else if(i&&Object.getPrototypeOf(i)===Object.prototype)for(const o in i){if(o.startsWith("_")===!0)continue;const a=i[o];a&&a.isNode===!0&&n.push({property:r,index:o,childNode:a})}}}return n}getCacheKey(e=!1,n=null){if(e=e||this.version!==this._cacheKeyVersion,e===!0||this._cacheKey===null){n===null&&(n=new Set);const r=[];for(const{property:i,childNode:o}of this._getChildren(n))r.push(wS(i.slice(0,-4)),o.getCacheKey(e,n));this._cacheKey=Zx(R1(r),this.customCacheKey()),this._cacheKeyVersion=this.version}return this._cacheKey}customCacheKey(){return this.id}getScope(){return this}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(e){const n=this.getNodeType(e);return e.getElementType(n)}getMemberType(){return"void"}getNodeType(e){const n=e.getNodeProperties(this);return n.outputNode?n.outputNode.getNodeType(e):this.nodeType}getShared(e){const n=this.getHash(e);return e.getNodeFromHash(n)||this}getArrayCount(){return null}setup(e){const n=e.getNodeProperties(this);let r=0;for(const i of this.getChildren())n["node"+r++]=i;return n.outputNode||null}analyze(e,n=null){const r=e.increaseUsage(this);if(this.parents===!0){const i=e.getDataFromNode(this,"any");i.stages=i.stages||{},i.stages[e.shaderStage]=i.stages[e.shaderStage]||[],i.stages[e.shaderStage].push(n)}if(r===1){const i=e.getNodeProperties(this);for(const o of Object.values(i))o&&o.isNode===!0&&o.build(e,this)}}generate(e,n){const{outputNode:r}=e.getNodeProperties(this);if(r&&r.isNode===!0)return r.build(e,n)}updateBefore(){Vt("Abstract function.")}updateAfter(){Vt("Abstract function.")}update(){Vt("Abstract function.")}before(e){return this._beforeNodes===null&&(this._beforeNodes=[]),this._beforeNodes.push(e),this}build(e,n=null){const r=this.getShared(e);if(this!==r)return r.build(e,n);if(this._beforeNodes!==null){const l=this._beforeNodes;this._beforeNodes=null;for(const c of l)c.build(e,n);this._beforeNodes=l}const i=e.getDataFromNode(this);i.buildStages=i.buildStages||{},i.buildStages[e.buildStage]=!0;const o=VXe[e.buildStage];if(o&&i.buildStages[o]!==!0){const l=e.getBuildStage();e.setBuildStage(o),this.build(e),e.setBuildStage(l)}e.addNode(this),e.addChain(this);let a=null;const s=e.getBuildStage();if(s==="setup"){this.updateReference(e);const l=e.getNodeProperties(this);if(l.initialized!==!0){l.initialized=!0,l.outputNode=this.setup(e)||l.outputNode||null;for(const c of Object.values(l))if(c&&c.isNode===!0){if(c.parents===!0){const u=e.getNodeProperties(c);u.parents=u.parents||[],u.parents.push(this)}c.build(e)}}a=l.outputNode}else if(s==="analyze")this.analyze(e,n);else if(s==="generate"){if(this.generate.length<2){const c=this.getNodeType(e),u=e.getDataFromNode(this);a=u.snippet,a===void 0?u.generated===void 0?(u.generated=!0,a=this.generate(e)||"",u.snippet=a):(Vt("Node: Recursion detected.",this),a="/* Recursion detected. */"):u.flowCodes!==void 0&&e.context.nodeBlock!==void 0&&e.addFlowCodeHierarchy(this,e.context.nodeBlock),a=e.format(a,c,n)}else a=this.generate(e,n)||"";a===""&&n!==null&&n!=="void"&&n!=="OutputType"&&(Kt(`TSL: Invalid generated code, expected a "${n}".`),a=e.generateConst(n))}return e.removeChain(this),e.addSequentialNode(this),a}getSerializeChildren(){return this._getChildren()}serialize(e){const n=this.getSerializeChildren(),r={};for(const{property:i,index:o,childNode:a}of n)o!==void 0?(r[i]===void 0&&(r[i]=Number.isInteger(o)?[]:{}),r[i][o]=a.toJSON(e.meta).uuid):r[i]=a.toJSON(e.meta).uuid;Object.keys(r).length>0&&(e.inputNodes=r)}deserialize(e){if(e.inputNodes!==void 0){const n=e.meta.nodes;for(const r in e.inputNodes)if(Array.isArray(e.inputNodes[r])){const i=[];for(const o of e.inputNodes[r])i.push(n[o]);this[r]=i}else if(typeof e.inputNodes[r]=="object"){const i={};for(const o in e.inputNodes[r]){const a=e.inputNodes[r][o];i[o]=n[a]}this[r]=i}else{const i=e.inputNodes[r];this[r]=n[i]}}}toJSON(e){const{uuid:n,type:r}=this,i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{},nodes:{}});let o=e.nodes[n];o===void 0&&(o={uuid:n,type:r,meta:e,metadata:{version:4.7,type:"Node",generator:"Node.toJSON"}},i!==!0&&(e.nodes[o.uuid]=o),this.serialize(o),delete o.meta);function a(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}if(i){const s=a(e.textures),l=a(e.images),c=a(e.nodes);s.length>0&&(o.textures=s),l.length>0&&(o.images=l),c.length>0&&(o.nodes=c)}return o}}class Ig extends On{static get type(){return"ArrayElementNode"}constructor(e,n){super(),this.node=e,this.indexNode=n,this.isArrayElementNode=!0}getNodeType(e){return this.node.getElementType(e)}getMemberType(e,n){return this.node.getMemberType(e,n)}generate(e){const n=this.indexNode.getNodeType(e),r=this.node.build(e),i=this.indexNode.build(e,!e.isVector(n)&&e.isInteger(n)?n:"uint");return`${r}[ ${i} ]`}}class ule extends On{static get type(){return"ConvertNode"}constructor(e,n){super(),this.node=e,this.convertTo=n}getNodeType(e){const n=this.node.getNodeType(e);let r=null;for(const i of this.convertTo.split("|"))(r===null||e.getTypeLength(n)===e.getTypeLength(i))&&(r=i);return r}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,n){const r=this.node,i=this.getNodeType(e),o=r.build(e,i);return e.format(o,i,n)}}class To extends On{static get type(){return"TempNode"}constructor(e=null){super(e),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).usageCount>1}build(e,n){if(e.getBuildStage()==="generate"){const i=e.getVectorType(this.getNodeType(e,n)),o=e.getDataFromNode(this);if(o.propertyName!==void 0)return e.format(o.propertyName,i,n);if(i!=="void"&&n!=="void"&&this.hasDependencies(e)){const a=super.build(e,i),s=e.getVarFromNode(this,null,i),l=e.getPropertyName(s);return e.addLineFlowCode(`${l} = ${a}`,this),o.snippet=a,o.propertyName=l,e.format(o.propertyName,i,n)}}return super.build(e,n)}}class HXe extends To{static get type(){return"JoinNode"}constructor(e=[],n=null){super(n),this.nodes=e}getNodeType(e){return this.nodeType!==null?e.getVectorType(this.nodeType):e.getTypeFromLength(this.nodes.reduce((n,r)=>n+e.getTypeLength(r.getNodeType(e)),0))}generate(e,n){const r=this.getNodeType(e),i=e.getTypeLength(r),o=this.nodes,a=e.getComponentType(r),s=[];let l=0;for(const u of o){if(l>=i){Kt(`TSL: Length of parameters exceeds maximum length of function '${r}()' type.`);break}let d=u.getNodeType(e),f=e.getTypeLength(d),h;if(l+f>i&&(Kt(`TSL: Length of '${r}()' data exceeds maximum length of output type.`),f=i-l,d=e.getTypeFromLength(f)),l+=f,h=u.build(e,d),e.getComponentType(d)!==a){const _=e.getTypeFromLength(f,a);h=e.format(h,d,_)}s.push(h)}const c=`${e.getType(r)}( ${s.join(", ")} )`;return e.format(c,r,n)}}const jXe=Ng.join("");class dle extends On{static get type(){return"SplitNode"}constructor(e,n="x"){super(),this.node=e,this.components=n,this.isSplitNode=!0}getVectorLength(){let e=this.components.length;for(const n of this.components)e=Math.max(Ng.indexOf(n)+1,e);return e}getComponentType(e){return e.getComponentType(this.node.getNodeType(e))}getNodeType(e){return e.getTypeFromLength(this.components.length,this.getComponentType(e))}getScope(){return this.node.getScope()}generate(e,n){const r=this.node,i=e.getTypeLength(r.getNodeType(e));let o=null;if(i>1){let a=null;this.getVectorLength()>=i&&(a=e.getTypeFromLength(this.getVectorLength(),this.getComponentType(e)));const l=r.build(e,a);this.components.length===i&&this.components===jXe.slice(0,this.components.length)?o=e.format(l,a,n):o=e.format(`${l}.${this.components}`,this.getNodeType(e),n)}else o=r.build(e,n);return o}serialize(e){super.serialize(e),e.components=this.components}deserialize(e){super.deserialize(e),this.components=e.components}}class qXe extends To{static get type(){return"SetNode"}constructor(e,n,r){super(),this.sourceNode=e,this.components=n,this.targetNode=r}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{sourceNode:n,components:r,targetNode:i}=this,o=this.getNodeType(e),a=e.getComponentType(i.getNodeType(e)),s=e.getTypeFromLength(r.length,a),l=i.build(e,s),c=n.build(e,o),u=e.getTypeLength(o),d=[];for(let f=0;f<u;f++){const h=Ng[f];h===r[0]?(d.push(l),f+=r.length-1):d.push(c+"."+h)}return`${e.getType(o)}( ${d.join(", ")} )`}}class WXe extends To{static get type(){return"FlipNode"}constructor(e,n){super(),this.sourceNode=e,this.components=n}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{components:n,sourceNode:r}=this,i=this.getNodeType(e),o=r.build(e),a=e.getVarFromNode(this),s=e.getPropertyName(a);e.addLineFlowCode(s+" = "+o,this);const l=e.getTypeLength(i),c=[];let u=0;for(let d=0;d<l;d++){const f=Ng[d];f===n[u]?(c.push("1.0 - "+(s+"."+f)),u++):c.push(s+"."+f)}return`${e.getType(i)}( ${c.join(", ")} )`}}class ek extends On{static get type(){return"InputNode"}constructor(e,n=null){super(n),this.isInputNode=!0,this.value=e,this.precision=null}getNodeType(){return this.nodeType===null?Rp(this.value):this.nodeType}getInputType(e){return this.getNodeType(e)}setPrecision(e){return this.precision=e,this}serialize(e){super.serialize(e),e.value=this.value,this.value&&this.value.toArray&&(e.value=this.value.toArray()),e.valueType=Rp(this.value),e.nodeType=this.nodeType,e.valueType==="ArrayBuffer"&&(e.value=sle(e.value)),e.precision=this.precision}deserialize(e){super.deserialize(e),this.nodeType=e.nodeType,this.value=Array.isArray(e.value)?J7(e.valueType,...e.value):e.value,this.precision=e.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(e.value))}generate(){Vt("Abstract function.")}}const dX=/float|u?int/;class gu extends ek{static get type(){return"ConstNode"}constructor(e,n=null){super(e,n),this.isConstNode=!0}generateConst(e){return e.generateConst(this.getNodeType(e),this.value)}generate(e,n){const r=this.getNodeType(e);return dX.test(r)&&dX.test(n)?e.generateConst(n,this.value):e.format(this.generateConst(e),r,n)}}class XXe extends On{static get type(){return"MemberNode"}constructor(e,n){super(),this.structNode=e,this.property=n,this.isMemberNode=!0}hasMember(e){return this.structNode.isMemberNode&&this.structNode.hasMember(e)===!1?!1:this.structNode.getMemberType(e,this.property)!=="void"}getNodeType(e){return this.hasMember(e)===!1?"float":this.structNode.getMemberType(e,this.property)}getMemberType(e,n){if(this.hasMember(e)===!1)return"float";const r=this.getNodeType(e);return e.getStructTypeNode(r).getMemberType(e,n)}generate(e){if(this.hasMember(e)===!1){Vt(`TSL: Member "${this.property}" does not exist in struct.`);const r=this.getNodeType(e);return e.generateConst(r)}return this.structNode.build(e)+"."+this.property}}let am=null;const m6=new Map;function kt(t,e){if(m6.has(t)){Vt(`TSL: Redefinition of method chaining '${t}'.`);return}if(typeof e!="function")throw new Error(`THREE.TSL: Node element ${t} is not a function`);m6.set(t,e),t!=="assign"&&(On.prototype[t]=function(...n){return this.isStackNode?this.addToStack(e(...n)):e(this,...n)},On.prototype[t+"Assign"]=function(...n){return this.isStackNode?this.assign(n[0],e(...n)):this.assign(e(this,...n))})}const YXe=t=>t.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),fX=t=>YXe(t).split("").sort().join("");On.prototype.assign=function(...t){if(this.isStackNode!==!0)return am!==null?am.assign(this,...t):Kt("TSL: No stack defined for assign operation. Make sure the assign is inside a Fn()."),this;{const e=m6.get("assign");return this.addToStack(e(...t))}};On.prototype.toVarIntent=function(){return this};On.prototype.get=function(t){return new XXe(this,t)};const Jx={};function oT(t,e,n){Jx[t]=Jx[e]=Jx[n]={get(){this._cache=this._cache||{};let a=this._cache[t];return a===void 0&&(a=new dle(this,t),this._cache[t]=a),a},set(a){this[t].assign(vn(a))}};const r=t.toUpperCase(),i=e.toUpperCase(),o=n.toUpperCase();On.prototype["set"+r]=On.prototype["set"+i]=On.prototype["set"+o]=function(a){const s=fX(t);return new qXe(this,s,vn(a))},On.prototype["flip"+r]=On.prototype["flip"+i]=On.prototype["flip"+o]=function(){const a=fX(t);return new WXe(this,a)}}const Rd=["x","y","z","w"],Nd=["r","g","b","a"],Id=["s","t","p","q"];for(let t=0;t<4;t++){let e=Rd[t],n=Nd[t],r=Id[t];oT(e,n,r);for(let i=0;i<4;i++){e=Rd[t]+Rd[i],n=Nd[t]+Nd[i],r=Id[t]+Id[i],oT(e,n,r);for(let o=0;o<4;o++){e=Rd[t]+Rd[i]+Rd[o],n=Nd[t]+Nd[i]+Nd[o],r=Id[t]+Id[i]+Id[o],oT(e,n,r);for(let a=0;a<4;a++)e=Rd[t]+Rd[i]+Rd[o]+Rd[a],n=Nd[t]+Nd[i]+Nd[o]+Nd[a],r=Id[t]+Id[i]+Id[o]+Id[a],oT(e,n,r)}}}for(let t=0;t<32;t++)Jx[t]={get(){this._cache=this._cache||{};let e=this._cache[t];return e===void 0&&(e=new Ig(this,new gu(t,"uint")),this._cache[t]=e),e},set(e){this[t].assign(vn(e))}};Object.defineProperties(On.prototype,Jx);const hX=new WeakMap,KXe=function(t,e=null){const n=Rp(t);return n==="node"?t:e===null&&(n==="float"||n==="boolean")||n&&n!=="shader"&&n!=="string"?vn(g6(t,e)):n==="shader"?t.isFn?t:ot(t):t},QXe=function(t,e=null){for(const n in t)t[n]=vn(t[n],e);return t},ZXe=function(t,e=null){const n=t.length;for(let r=0;r<n;r++)t[r]=vn(t[r],e);return t},fle=function(t,e=null,n=null,r=null){function i(u){return r!==null?(u=vn(Object.assign(u,r)),r.intent===!0&&(u=u.toVarIntent())):u=vn(u),u}let o,a=e,s,l;function c(u){let d;return a?d=/[a-z]/i.test(a)?a+"()":a:d=t.type,s!==void 0&&u.length<s?(Kt(`TSL: "${d}" parameter length is less than minimum required.`),u.concat(new Array(s-u.length).fill(0))):l!==void 0&&u.length>l?(Kt(`TSL: "${d}" parameter length exceeds limit.`),u.slice(0,l)):u}return e===null?o=(...u)=>i(new t(...H0(c(u)))):n!==null?(n=vn(n),o=(...u)=>i(new t(e,...H0(c(u)),n))):o=(...u)=>i(new t(e,...H0(c(u)))),o.setParameterLength=(...u)=>(u.length===1?s=l=u[0]:u.length===2&&([s,l]=u),o),o.setName=u=>(a=u,o),o},JXe=function(t,...e){return new t(...H0(e))};class eYe extends On{constructor(e,n){super(),this.shaderNode=e,this.rawInputs=n,this.isShaderCallNodeInternal=!0}getNodeType(e){return this.shaderNode.nodeType||this.getOutputNode(e).getNodeType(e)}getElementType(e){return this.getOutputNode(e).getElementType(e)}getMemberType(e,n){return this.getOutputNode(e).getMemberType(e,n)}call(e){const{shaderNode:n,rawInputs:r}=this,i=e.getNodeProperties(n),o=e.getClosestSubBuild(n.subBuilds)||"",a=o||"default";if(i[a])return i[a];const s=e.subBuildFn,l=e.fnCall;e.subBuildFn=o,e.fnCall=this;let c=null;if(n.layout){let u=hX.get(e.constructor);u===void 0&&(u=new WeakMap,hX.set(e.constructor,u));let d=u.get(n);d===void 0&&(d=vn(e.buildFunctionNode(n)),u.set(n,d)),e.addInclude(d);const f=r?tYe(r):null;c=vn(d.call(f))}else{const u=new Proxy(e,{get:(_,x,y)=>{let w;return Symbol.iterator===x?w=function*(){yield void 0}:w=Reflect.get(_,x,y),w}}),d=r?nYe(r):null,f=Array.isArray(r)?r.length>0:r!==null,h=n.jsFunc,p=f||h.length>1?h(d,u):h(u);c=vn(p)}return e.subBuildFn=s,e.fnCall=l,n.once&&(i[a]=c),c}setupOutput(e){return e.addStack(),e.stack.outputNode=this.call(e),e.removeStack()}getOutputNode(e){const n=e.getNodeProperties(this),r=e.getSubBuildOutput(this);return n[r]=n[r]||this.setupOutput(e),n[r].subBuild=e.getClosestSubBuild(this),n[r]}build(e,n=null){let r=null;const i=e.getBuildStage(),o=e.getNodeProperties(this),a=e.getSubBuildOutput(this),s=this.getOutputNode(e),l=e.fnCall;if(e.fnCall=this,i==="setup"){const c=e.getSubBuildProperty("initialized",this);if(o[c]!==!0&&(o[c]=!0,o[a]=this.getOutputNode(e),o[a].build(e),this.shaderNode.subBuilds))for(const u of e.chaining){const d=e.getDataFromNode(u,"any");d.subBuilds=d.subBuilds||new Set;for(const f of this.shaderNode.subBuilds)d.subBuilds.add(f)}r=o[a]}else i==="analyze"?s.build(e,n):i==="generate"&&(r=s.build(e,n)||"");return e.fnCall=l,r}}function tYe(t){let e;return HR(t),t[0]&&(t[0].isNode||Object.getPrototypeOf(t[0])!==Object.prototype)?e=[...t]:e=t[0],e}function nYe(t){let e=0;return HR(t),new Proxy(t,{get:(n,r,i)=>{let o;if(r==="length")return o=t.length,o;if(Symbol.iterator===r)o=function*(){for(const a of t)yield vn(a)};else{if(t.length>0)if(Object.getPrototypeOf(t[0])===Object.prototype){const a=t[0];a[r]===void 0?o=a[e++]:o=Reflect.get(a,r,i)}else t[0]instanceof On&&(t[r]===void 0?o=t[e++]:o=Reflect.get(t,r,i));else o=Reflect.get(n,r,i);o=vn(o)}return o}})}class rYe extends On{constructor(e,n){super(n),this.jsFunc=e,this.layout=null,this.global=!0,this.once=!1}setLayout(e){return this.layout=e,this}getLayout(){return this.layout}call(e=null){return new eYe(this,e)}setup(){return this.call()}}const iYe=[!1,!0],oYe=[0,1,2,3],aYe=[-1,-2],hle=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],tk=new Map;for(const t of iYe)tk.set(t,new gu(t));const nk=new Map;for(const t of oYe)nk.set(t,new gu(t,"uint"));const rk=new Map([...nk].map(t=>new gu(t.value,"int")));for(const t of aYe)rk.set(t,new gu(t,"int"));const VR=new Map([...rk].map(t=>new gu(t.value)));for(const t of hle)VR.set(t,new gu(t));for(const t of hle)VR.set(-t,new gu(-t));const GR={bool:tk,uint:nk,ints:rk,float:VR},pX=new Map([...tk,...VR]),g6=(t,e)=>pX.has(t)?pX.get(t):t.isNode===!0?t:new gu(t,e),ua=function(t,e=null){return(...n)=>{for(const i of n)if(i===void 0)return Kt(`TSL: Invalid parameter for the type "${t}".`),new gu(0,t);if((n.length===0||!["bool","float","int","uint"].includes(t)&&n.every(i=>{const o=typeof i;return o!=="object"&&o!=="function"}))&&(n=[J7(t,...n)]),n.length===1&&e!==null&&e.has(n[0]))return Cx(e.get(n[0]));if(n.length===1){const i=g6(n[0],t);return i.nodeType===t?Cx(i):Cx(new ule(i,t))}const r=n.map(i=>g6(i));return Cx(new HXe(r,t))}},_2=t=>typeof t=="object"&&t!==null?t.value:t,ple=t=>t!=null?t.nodeType||t.convertTo||(typeof t=="string"?t:null):null;function pv(t,e){return new rYe(t,e)}const vn=(t,e=null)=>KXe(t,e),Cx=(t,e=null)=>vn(t,e).toVarIntent(),HR=(t,e=null)=>new QXe(t,e),H0=(t,e=null)=>new ZXe(t,e),xr=(t,e=null,n=null,r=null)=>new fle(t,e,n,r),mn=(t,...e)=>new JXe(t,...e),an=(t,e=null,n=null,r={})=>new fle(t,e,n,{...r,intent:!0});let sYe=0;class lYe extends On{constructor(e,n=null){super();let r=null;n!==null&&(typeof n=="object"?r=n.return:(typeof n=="string"?r=n:Kt("TSL: Invalid layout type."),n=null)),this.shaderNode=new pv(e,r),n!==null&&this.setLayout(n),this.isFn=!0}setLayout(e){const n=this.shaderNode.nodeType;if(typeof e.inputs!="object"){const r={name:"fn"+sYe++,type:n,inputs:[]};for(const i in e)i!=="return"&&r.inputs.push({name:i,type:e[i]});e=r}return this.shaderNode.setLayout(e),this}getNodeType(e){return this.shaderNode.getNodeType(e)||"float"}call(...e){const n=this.shaderNode.call(e);return this.shaderNode.nodeType==="void"&&n.toStack(),n.toVarIntent()}once(e=null){return this.shaderNode.once=!0,this.shaderNode.subBuilds=e,this}generate(e){const n=this.getNodeType(e);return Kt('TSL: "Fn()" was declared but not invoked. Try calling it like "Fn()( ...params )".'),e.generateConst(n)}}function ot(t,e=null){const n=new lYe(t,e);return new Proxy(()=>{},{apply(r,i,o){return n.call(...o)},get(r,i,o){return Reflect.get(n,i,o)},set(r,i,o,a){return Reflect.set(n,i,o,a)}})}const S2=t=>{am=t},ik=()=>am,Kn=(...t)=>am.If(...t),cYe=(...t)=>am.Switch(...t);function jR(t){return am&&am.addToStack(t),t}kt("toStack",jR);const mle=new ua("color"),Ce=new ua("float",GR.float),We=new ua("int",GR.ints),Zt=new ua("uint",GR.uint),uu=new ua("bool",GR.bool),rn=new ua("vec2"),ia=new ua("ivec2"),ok=new ua("uvec2"),gle=new ua("bvec2"),et=new ua("vec3"),ak=new ua("ivec3"),Og=new ua("uvec3"),sk=new ua("bvec3"),Qn=new ua("vec4"),lk=new ua("ivec4"),ck=new ua("uvec4"),Ale=new ua("bvec4"),qR=new ua("mat2"),cs=new ua("mat3"),Xp=new ua("mat4"),uYe=(t="")=>new gu(t,"string"),dYe=t=>new gu(t,"ArrayBuffer");kt("toColor",mle);kt("toFloat",Ce);kt("toInt",We);kt("toUint",Zt);kt("toBool",uu);kt("toVec2",rn);kt("toIVec2",ia);kt("toUVec2",ok);kt("toBVec2",gle);kt("toVec3",et);kt("toIVec3",ak);kt("toUVec3",Og);kt("toBVec3",sk);kt("toVec4",Qn);kt("toIVec4",lk);kt("toUVec4",ck);kt("toBVec4",Ale);kt("toMat2",qR);kt("toMat3",cs);kt("toMat4",Xp);const vle=xr(Ig).setParameterLength(2),yle=(t,e)=>vn(new ule(vn(t),e)),fYe=(t,e)=>vn(new dle(vn(t),e));kt("element",vle);kt("convert",yle);const hYe=t=>(Vt("TSL: append() has been renamed to Stack()."),jR(t));kt("append",t=>(Vt("TSL: .append() has been renamed to .toStack()."),jR(t)));class vi extends On{static get type(){return"PropertyNode"}constructor(e,n=null,r=!1){super(e),this.name=n,this.varying=r,this.isPropertyNode=!0,this.global=!0}customCacheKey(){return wS(this.type+":"+(this.name||"")+":"+(this.varying?"1":"0"))}getHash(e){return this.name||super.getHash(e)}generate(e){let n;return this.varying===!0?(n=e.getVaryingFromNode(this,this.name),n.needsInterpolation=!0):n=e.getVarFromNode(this,this.name),e.getPropertyName(n)}}const th=(t,e)=>new vi(t,e),w2=(t,e)=>new vi(t,e,!0),Si=mn(vi,"vec4","DiffuseColor"),g0=mn(vi,"vec3","DiffuseContribution"),A6=mn(vi,"vec3","EmissiveColor"),jd=mn(vi,"float","Roughness"),Yf=mn(vi,"float","Metalness"),M3=mn(vi,"float","Clearcoat"),C2=mn(vi,"float","ClearcoatRoughness"),Zl=mn(vi,"vec3","Sheen"),bp=mn(vi,"float","SheenRoughness"),WR=mn(vi,"float","Iridescence"),P3=mn(vi,"float","IridescenceIOR"),R3=mn(vi,"float","IridescenceThickness"),N3=mn(vi,"float","AlphaT"),gp=mn(vi,"float","Anisotropy"),e_=mn(vi,"vec3","AnisotropyT"),j0=mn(vi,"vec3","AnisotropyB"),sm=mn(vi,"color","SpecularColor"),I0=mn(vi,"color","SpecularColorBlended"),Bv=mn(vi,"float","SpecularF90"),I3=mn(vi,"float","Shininess"),Fv=mn(vi,"vec4","Output"),IE=mn(vi,"float","dashSize"),v6=mn(vi,"float","gapSize"),pYe=mn(vi,"float","pointWidth"),t_=mn(vi,"float","IOR"),O3=mn(vi,"float","Transmission"),uk=mn(vi,"float","Thickness"),dk=mn(vi,"float","AttenuationDistance"),fk=mn(vi,"color","AttenuationColor"),hk=mn(vi,"float","Dispersion");class ble extends On{static get type(){return"UniformGroupNode"}constructor(e,n=!1,r=1){super("string"),this.name=e,this.shared=n,this.order=r,this.isUniformGroup=!0}serialize(e){super.serialize(e),e.name=this.name,e.version=this.version,e.shared=this.shared}deserialize(e){super.deserialize(e),this.name=e.name,this.version=e.version,this.shared=e.shared}}const xle=t=>new ble(t),XR=(t,e=0)=>new ble(t,!0,e),_le=XR("frame"),qn=XR("render"),pk=xle("object");class CS extends ek{static get type(){return"UniformNode"}constructor(e,n=null){super(e,n),this.isUniformNode=!0,this.name="",this.groupNode=pk}setName(e){return this.name=e,this}label(e){return Vt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(e)}setGroup(e){return this.groupNode=e,this}getGroup(){return this.groupNode}getUniformHash(e){return this.getHash(e)}onUpdate(e,n){return e=e.bind(this),super.onUpdate(r=>{const i=e(r,this);i!==void 0&&(this.value=i)},n)}getInputType(e){let n=super.getInputType(e);return n==="bool"&&(n="uint"),n}generate(e,n){const r=this.getNodeType(e),i=this.getUniformHash(e);let o=e.getNodeFromHash(i);o===void 0&&(e.setHashNode(this,i),o=this);const a=o.getInputType(e),s=e.getUniformFromNode(o,a,e.shaderStage,this.name||e.context.nodeName),l=e.getPropertyName(s);e.context.nodeName!==void 0&&delete e.context.nodeName;let c=l;if(r==="bool"){const u=e.getDataFromNode(this);let d=u.propertyName;if(d===void 0){const f=e.getVarFromNode(this,null,"bool");d=e.getPropertyName(f),u.propertyName=d,c=e.format(l,a,r),e.addLineFlowCode(`${d} = ${c}`,this)}c=d}return e.format(c,r,n)}}const Wn=(t,e)=>{const n=ple(e||t);if(n===t&&(t=J7(n)),t&&t.isNode===!0){let r=t.value;t.traverse(i=>{i.isConstNode===!0&&(r=i.value)}),t=r}return new CS(t,n)};class mX extends To{static get type(){return"ArrayNode"}constructor(e,n,r=null){super(e),this.count=n,this.values=r,this.isArrayNode=!0}getArrayCount(){return this.count}getNodeType(e){return this.nodeType===null?this.values[0].getNodeType(e):this.nodeType}getElementType(e){return this.getNodeType(e)}getMemberType(e,n){return this.nodeType===null?this.values[0].getMemberType(e,n):super.getMemberType(e,n)}generate(e){const n=this.getNodeType(e);return e.generateArray(n,this.count,this.values)}}const Sle=(...t)=>{let e;if(t.length===1){const n=t[0];e=new mX(null,n.length,n)}else{const n=t[0],r=t[1];e=new mX(n,r)}return vn(e)};kt("toArray",(t,e)=>Sle(Array(e).fill(t)));class mYe extends To{static get type(){return"AssignNode"}constructor(e,n){super(),this.targetNode=e,this.sourceNode=n,this.isAssignNode=!0}hasDependencies(){return!1}getNodeType(e,n){return n!=="void"?this.targetNode.getNodeType(e):"void"}needsSplitAssign(e){const{targetNode:n}=this;if(e.isAvailable("swizzleAssign")===!1&&n.isSplitNode&&n.components.length>1){const r=e.getTypeLength(n.node.getNodeType(e));return Ng.join("").slice(0,r)!==n.components}return!1}setup(e){const{targetNode:n,sourceNode:r}=this,i=n.getScope(),o=e.getDataFromNode(i);o.assign=!0;const a=e.getNodeProperties(this);a.sourceNode=r,a.targetNode=n.context({assign:!0})}generate(e,n){const{targetNode:r,sourceNode:i}=e.getNodeProperties(this),o=this.needsSplitAssign(e),a=r.build(e),s=r.getNodeType(e),l=i.build(e,s),c=i.getNodeType(e),u=e.getDataFromNode(this);let d;if(u.initialized===!0)n!=="void"&&(d=a);else if(o){const f=e.getVarFromNode(this,null,s),h=e.getPropertyName(f);e.addLineFlowCode(`${h} = ${l}`,this);const p=r.node,x=p.node.context({assign:!0}).build(e);for(let y=0;y<p.components.length;y++){const w=p.components[y];e.addLineFlowCode(`${x}.${w} = ${h}[ ${y} ]`,this)}n!=="void"&&(d=a)}else d=`${a} = ${l}`,(n==="void"||c==="void")&&(e.addLineFlowCode(d,this),n!=="void"&&(d=a));return u.initialized=!0,e.format(d,s,n)}}const wle=xr(mYe).setParameterLength(2);kt("assign",wle);class gYe extends To{static get type(){return"FunctionCallNode"}constructor(e=null,n={}){super(),this.functionNode=e,this.parameters=n}setParameters(e){return this.parameters=e,this}getParameters(){return this.parameters}getNodeType(e){return this.functionNode.getNodeType(e)}getMemberType(e,n){return this.functionNode.getMemberType(e,n)}generate(e){const n=[],r=this.functionNode,i=r.getInputs(e),o=this.parameters,a=(l,c)=>{const u=c.type,d=u==="pointer";let f;return d?f="&"+l.build(e):f=l.build(e,u),f};if(Array.isArray(o)){if(o.length>i.length)Kt("TSL: The number of provided parameters exceeds the expected number of inputs in 'Fn()'."),o.length=i.length;else if(o.length<i.length)for(Kt("TSL: The number of provided parameters is less than the expected number of inputs in 'Fn()'.");o.length<i.length;)o.push(Ce(0));for(let l=0;l<o.length;l++)n.push(a(o[l],i[l]))}else for(const l of i){const c=o[l.name];c!==void 0?n.push(a(c,l)):(Kt(`TSL: Input '${l.name}' not found in 'Fn()'.`),n.push(a(Ce(0),l)))}return`${r.build(e,"property")}( ${n.join(", ")} )`}}const Cle=(t,...e)=>(e=e.length>1||e[0]&&e[0].isNode===!0?H0(e):HR(e[0]),new gYe(vn(t),e));kt("call",Cle);const AYe={"==":"equal","!=":"notEqual","<":"lessThan",">":"greaterThan","<=":"lessThanEqual",">=":"greaterThanEqual","%":"mod"};class wo extends To{static get type(){return"OperatorNode"}constructor(e,n,r,...i){if(super(),i.length>0){let o=new wo(e,n,r);for(let a=0;a<i.length-1;a++)o=new wo(e,o,i[a]);n=o,r=i[i.length-1]}this.op=e,this.aNode=n,this.bNode=r,this.isOperatorNode=!0}getOperatorMethod(e,n){return e.getMethod(AYe[this.op],n)}getNodeType(e,n=null){const r=this.op,i=this.aNode,o=this.bNode,a=i.getNodeType(e),s=o?o.getNodeType(e):null;if(a==="void"||s==="void")return n||"void";if(r==="%")return a;if(r==="~"||r==="&"||r==="|"||r==="^"||r===">>"||r==="<<")return e.getIntegerType(a);if(r==="!"||r==="&&"||r==="||"||r==="^^")return"bool";if(r==="=="||r==="!="||r==="<"||r===">"||r==="<="||r===">="){const l=Math.max(e.getTypeLength(a),e.getTypeLength(s));return l>1?`bvec${l}`:"bool"}else{if(e.isMatrix(a)){if(s==="float")return a;if(e.isVector(s))return e.getVectorFromMatrix(a);if(e.isMatrix(s))return a}else if(e.isMatrix(s)){if(a==="float")return s;if(e.isVector(a))return e.getVectorFromMatrix(s)}return e.getTypeLength(s)>e.getTypeLength(a)?s:a}}generate(e,n){const r=this.op,{aNode:i,bNode:o}=this,a=this.getNodeType(e,n);let s=null,l=null;a!=="void"?(s=i.getNodeType(e),l=o?o.getNodeType(e):null,r==="<"||r===">"||r==="<="||r===">="||r==="=="||r==="!="?e.isVector(s)?l=s:e.isVector(l)?s=l:s!==l&&(s=l="float"):r===">>"||r==="<<"?(s=a,l=e.changeComponentType(l,"uint")):r==="%"?(s=a,l=e.isInteger(s)&&e.isInteger(l)?l:s):e.isMatrix(s)?l==="float"?l="float":e.isVector(l)?l=e.getVectorFromMatrix(s):e.isMatrix(l)||(s=l=a):e.isMatrix(l)?s==="float"?s="float":e.isVector(s)?s=e.getVectorFromMatrix(l):s=l=a:s=l=a):s=l=a;const c=i.build(e,s),u=o?o.build(e,l):null,d=e.getFunctionOperator(r);if(n!=="void"){const f=e.renderer.coordinateSystem===Zs;if(r==="=="||r==="!="||r==="<"||r===">"||r==="<="||r===">=")return f?e.isVector(s)?e.format(`${this.getOperatorMethod(e,n)}( ${c}, ${u} )`,a,n):e.format(`( ${c} ${r} ${u} )`,a,n):e.format(`( ${c} ${r} ${u} )`,a,n);if(r==="%")return e.isInteger(l)?e.format(`( ${c} % ${u} )`,a,n):e.format(`${this.getOperatorMethod(e,a)}( ${c}, ${u} )`,a,n);if(r==="!"||r==="~")return e.format(`(${r}${c})`,s,n);if(d)return e.format(`${d}( ${c}, ${u} )`,a,n);if(e.isMatrix(s)&&l==="float")return e.format(`( ${u} ${r} ${c} )`,a,n);if(s==="float"&&e.isMatrix(l))return e.format(`${c} ${r} ${u}`,a,n);{let h=`( ${c} ${r} ${u} )`;return!f&&a==="bool"&&e.isVector(s)&&e.isVector(l)&&(h=`all${h}`),e.format(h,a,n)}}else if(s!=="void")return d?e.format(`${d}( ${c}, ${u} )`,a,n):e.isMatrix(s)&&l==="float"?e.format(`${u} ${r} ${c}`,a,n):e.format(`${c} ${r} ${u}`,a,n)}serialize(e){super.serialize(e),e.op=this.op}deserialize(e){super.deserialize(e),this.op=e.op}}const Zo=an(wo,"+").setParameterLength(2,1/0).setName("add"),ei=an(wo,"-").setParameterLength(2,1/0).setName("sub"),br=an(wo,"*").setParameterLength(2,1/0).setName("mul"),vc=an(wo,"/").setParameterLength(2,1/0).setName("div"),TS=an(wo,"%").setParameterLength(2).setName("mod"),mk=an(wo,"==").setParameterLength(2).setName("equal"),Tle=an(wo,"!=").setParameterLength(2).setName("notEqual"),Ele=an(wo,"<").setParameterLength(2).setName("lessThan"),gk=an(wo,">").setParameterLength(2).setName("greaterThan"),Mle=an(wo,"<=").setParameterLength(2).setName("lessThanEqual"),Ple=an(wo,">=").setParameterLength(2).setName("greaterThanEqual"),Rle=an(wo,"&&").setParameterLength(2,1/0).setName("and"),Nle=an(wo,"||").setParameterLength(2,1/0).setName("or"),Ile=an(wo,"!").setParameterLength(1).setName("not"),Ole=an(wo,"^^").setParameterLength(2).setName("xor"),Dle=an(wo,"&").setParameterLength(2).setName("bitAnd"),Lle=an(wo,"~").setParameterLength(1).setName("bitNot"),Ble=an(wo,"|").setParameterLength(2).setName("bitOr"),Fle=an(wo,"^").setParameterLength(2).setName("bitXor"),$le=an(wo,"<<").setParameterLength(2).setName("shiftLeft"),kle=an(wo,">>").setParameterLength(2).setName("shiftRight"),Ule=ot(([t])=>(t.addAssign(1),t)),zle=ot(([t])=>(t.subAssign(1),t)),Vle=ot(([t])=>{const e=We(t).toConst();return t.addAssign(1),e}),Gle=ot(([t])=>{const e=We(t).toConst();return t.subAssign(1),e});kt("add",Zo);kt("sub",ei);kt("mul",br);kt("div",vc);kt("mod",TS);kt("equal",mk);kt("notEqual",Tle);kt("lessThan",Ele);kt("greaterThan",gk);kt("lessThanEqual",Mle);kt("greaterThanEqual",Ple);kt("and",Rle);kt("or",Nle);kt("not",Ile);kt("xor",Ole);kt("bitAnd",Dle);kt("bitNot",Lle);kt("bitOr",Ble);kt("bitXor",Fle);kt("shiftLeft",$le);kt("shiftRight",kle);kt("incrementBefore",Ule);kt("decrementBefore",zle);kt("increment",Vle);kt("decrement",Gle);const Hle=(t,e)=>(Vt('TSL: "modInt()" is deprecated. Use "mod( int( ... ) )" instead.'),TS(We(t),We(e)));kt("modInt",Hle);class yt extends To{static get type(){return"MathNode"}constructor(e,n,r=null,i=null){if(super(),(e===yt.MAX||e===yt.MIN)&&arguments.length>3){let o=new yt(e,n,r);for(let a=2;a<arguments.length-1;a++)o=new yt(e,o,arguments[a]);n=o,r=arguments[arguments.length-1],i=null}this.method=e,this.aNode=n,this.bNode=r,this.cNode=i,this.isMathNode=!0}getInputType(e){const n=this.aNode.getNodeType(e),r=this.bNode?this.bNode.getNodeType(e):null,i=this.cNode?this.cNode.getNodeType(e):null,o=e.isMatrix(n)?0:e.getTypeLength(n),a=e.isMatrix(r)?0:e.getTypeLength(r),s=e.isMatrix(i)?0:e.getTypeLength(i);return o>a&&o>s?n:a>s?r:s>o?i:n}getNodeType(e){const n=this.method;return n===yt.LENGTH||n===yt.DISTANCE||n===yt.DOT?"float":n===yt.CROSS?"vec3":n===yt.ALL||n===yt.ANY?"bool":n===yt.EQUALS?e.changeComponentType(this.aNode.getNodeType(e),"bool"):this.getInputType(e)}setup(e){const{aNode:n,bNode:r,method:i}=this;let o=null;if(i===yt.ONE_MINUS)o=ei(1,n);else if(i===yt.RECIPROCAL)o=vc(1,n);else if(i===yt.DIFFERENCE)o=Wi(ei(n,r));else if(i===yt.TRANSFORM_DIRECTION){let a=n,s=r;e.isMatrix(a.getNodeType(e))?s=Qn(et(s),0):a=Qn(et(a),0);const l=br(a,s).xyz;o=il(l)}return o!==null?o:super.setup(e)}generate(e,n){if(e.getNodeProperties(this).outputNode)return super.generate(e,n);let i=this.method;const o=this.getNodeType(e),a=this.getInputType(e),s=this.aNode,l=this.bNode,c=this.cNode,u=e.renderer.coordinateSystem;if(i===yt.NEGATE)return e.format("( - "+s.build(e,a)+" )",o,n);{const d=[];return i===yt.CROSS?d.push(s.build(e,o),l.build(e,o)):u===Zs&&i===yt.STEP?d.push(s.build(e,e.getTypeLength(s.getNodeType(e))===1?"float":a),l.build(e,a)):u===Zs&&(i===yt.MIN||i===yt.MAX)?d.push(s.build(e,a),l.build(e,e.getTypeLength(l.getNodeType(e))===1?"float":a)):i===yt.REFRACT?d.push(s.build(e,a),l.build(e,a),c.build(e,"float")):i===yt.MIX?d.push(s.build(e,a),l.build(e,a),c.build(e,e.getTypeLength(c.getNodeType(e))===1?"float":a)):(u===lu&&i===yt.ATAN&&l!==null&&(i="atan2"),e.shaderStage!=="fragment"&&(i===yt.DFDX||i===yt.DFDY)&&(Vt(`TSL: '${i}' is not supported in the ${e.shaderStage} stage.`),i="/*"+i+"*/"),d.push(s.build(e,a)),l!==null&&d.push(l.build(e,a)),c!==null&&d.push(c.build(e,a))),e.format(`${e.getMethod(i,o)}( ${d.join(", ")} )`,o,n)}}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}yt.ALL="all";yt.ANY="any";yt.RADIANS="radians";yt.DEGREES="degrees";yt.EXP="exp";yt.EXP2="exp2";yt.LOG="log";yt.LOG2="log2";yt.SQRT="sqrt";yt.INVERSE_SQRT="inversesqrt";yt.FLOOR="floor";yt.CEIL="ceil";yt.NORMALIZE="normalize";yt.FRACT="fract";yt.SIN="sin";yt.COS="cos";yt.TAN="tan";yt.ASIN="asin";yt.ACOS="acos";yt.ATAN="atan";yt.ABS="abs";yt.SIGN="sign";yt.LENGTH="length";yt.NEGATE="negate";yt.ONE_MINUS="oneMinus";yt.DFDX="dFdx";yt.DFDY="dFdy";yt.ROUND="round";yt.RECIPROCAL="reciprocal";yt.TRUNC="trunc";yt.FWIDTH="fwidth";yt.TRANSPOSE="transpose";yt.DETERMINANT="determinant";yt.INVERSE="inverse";yt.EQUALS="equals";yt.MIN="min";yt.MAX="max";yt.STEP="step";yt.REFLECT="reflect";yt.DISTANCE="distance";yt.DIFFERENCE="difference";yt.DOT="dot";yt.CROSS="cross";yt.POW="pow";yt.TRANSFORM_DIRECTION="transformDirection";yt.MIX="mix";yt.CLAMP="clamp";yt.REFRACT="refract";yt.SMOOTHSTEP="smoothstep";yt.FACEFORWARD="faceforward";const Ak=Ce(1e-6),vYe=Ce(1e6),D3=Ce(Math.PI),yYe=Ce(Math.PI*2),bYe=Ce(Math.PI*2),xYe=Ce(Math.PI*.5),jle=an(yt,yt.ALL).setParameterLength(1),qle=an(yt,yt.ANY).setParameterLength(1),Wle=an(yt,yt.RADIANS).setParameterLength(1),Xle=an(yt,yt.DEGREES).setParameterLength(1),vk=an(yt,yt.EXP).setParameterLength(1),jy=an(yt,yt.EXP2).setParameterLength(1),YR=an(yt,yt.LOG).setParameterLength(1),rf=an(yt,yt.LOG2).setParameterLength(1),Ts=an(yt,yt.SQRT).setParameterLength(1),yk=an(yt,yt.INVERSE_SQRT).setParameterLength(1),of=an(yt,yt.FLOOR).setParameterLength(1),KR=an(yt,yt.CEIL).setParameterLength(1),il=an(yt,yt.NORMALIZE).setParameterLength(1),sd=an(yt,yt.FRACT).setParameterLength(1),Ws=an(yt,yt.SIN).setParameterLength(1),Uu=an(yt,yt.COS).setParameterLength(1),Yle=an(yt,yt.TAN).setParameterLength(1),Kle=an(yt,yt.ASIN).setParameterLength(1),bk=an(yt,yt.ACOS).setParameterLength(1),QR=an(yt,yt.ATAN).setParameterLength(1,2),Wi=an(yt,yt.ABS).setParameterLength(1),xk=an(yt,yt.SIGN).setParameterLength(1),af=an(yt,yt.LENGTH).setParameterLength(1),_k=an(yt,yt.NEGATE).setParameterLength(1),Qle=an(yt,yt.ONE_MINUS).setParameterLength(1),Sk=an(yt,yt.DFDX).setParameterLength(1),wk=an(yt,yt.DFDY).setParameterLength(1),Zle=an(yt,yt.ROUND).setParameterLength(1),Jle=an(yt,yt.RECIPROCAL).setParameterLength(1),Ck=an(yt,yt.TRUNC).setParameterLength(1),Tk=an(yt,yt.FWIDTH).setParameterLength(1),ece=an(yt,yt.TRANSPOSE).setParameterLength(1),tce=an(yt,yt.DETERMINANT).setParameterLength(1),nce=an(yt,yt.INVERSE).setParameterLength(1),rce=(t,e)=>(Vt('TSL: "equals" is deprecated. Use "equal" inside a vector instead, like: "bvec*( equal( ... ) )"'),mk(t,e)),Fl=an(yt,yt.MIN).setParameterLength(2,1/0),Co=an(yt,yt.MAX).setParameterLength(2,1/0),ZR=an(yt,yt.STEP).setParameterLength(2),ice=an(yt,yt.REFLECT).setParameterLength(2),oce=an(yt,yt.DISTANCE).setParameterLength(2),ace=an(yt,yt.DIFFERENCE).setParameterLength(2),du=an(yt,yt.DOT).setParameterLength(2),gh=an(yt,yt.CROSS).setParameterLength(2),Xc=an(yt,yt.POW).setParameterLength(2),Ek=t=>br(t,t),sce=t=>br(t,t,t),Mk=t=>br(t,t,t,t),lce=an(yt,yt.TRANSFORM_DIRECTION).setParameterLength(2),cce=t=>br(xk(t),Xc(Wi(t),1/3)),Pk=t=>du(t,t),Zr=an(yt,yt.MIX).setParameterLength(3),ld=(t,e=0,n=1)=>vn(new yt(yt.CLAMP,vn(t),vn(e),vn(n))),JR=t=>ld(t),Rk=an(yt,yt.REFRACT).setParameterLength(3),cd=an(yt,yt.SMOOTHSTEP).setParameterLength(3),Nk=an(yt,yt.FACEFORWARD).setParameterLength(3),uce=ot(([t])=>{const r=43758.5453,i=du(t.xy,rn(12.9898,78.233)),o=TS(i,D3);return sd(Ws(o).mul(r))}),dce=(t,e,n)=>Zr(e,n,t),fce=(t,e,n)=>cd(e,n,t),hce=(t,e)=>ZR(e,t),pce=(t,e)=>(Vt('TSL: "atan2" is overloaded. Use "atan" instead.'),QR(t,e)),_Ye=Nk,SYe=yk;kt("all",jle);kt("any",qle);kt("equals",rce);kt("radians",Wle);kt("degrees",Xle);kt("exp",vk);kt("exp2",jy);kt("log",YR);kt("log2",rf);kt("sqrt",Ts);kt("inverseSqrt",yk);kt("floor",of);kt("ceil",KR);kt("normalize",il);kt("fract",sd);kt("sin",Ws);kt("cos",Uu);kt("tan",Yle);kt("asin",Kle);kt("acos",bk);kt("atan",QR);kt("abs",Wi);kt("sign",xk);kt("length",af);kt("lengthSq",Pk);kt("negate",_k);kt("oneMinus",Qle);kt("dFdx",Sk);kt("dFdy",wk);kt("round",Zle);kt("reciprocal",Jle);kt("trunc",Ck);kt("fwidth",Tk);kt("atan2",pce);kt("min",Fl);kt("max",Co);kt("step",hce);kt("reflect",ice);kt("distance",oce);kt("dot",du);kt("cross",gh);kt("pow",Xc);kt("pow2",Ek);kt("pow3",sce);kt("pow4",Mk);kt("transformDirection",lce);kt("mix",dce);kt("clamp",ld);kt("refract",Rk);kt("smoothstep",fce);kt("faceForward",Nk);kt("difference",ace);kt("saturate",JR);kt("cbrt",cce);kt("transpose",ece);kt("determinant",tce);kt("inverse",nce);kt("rand",uce);class wYe extends On{static get type(){return"ConditionalNode"}constructor(e,n,r=null){super(),this.condNode=e,this.ifNode=n,this.elseNode=r}getNodeType(e){const{ifNode:n,elseNode:r}=e.getNodeProperties(this);if(n===void 0)return e.flowBuildStage(this,"setup"),this.getNodeType(e);const i=n.getNodeType(e);if(r!==null){const o=r.getNodeType(e);if(e.getTypeLength(o)>e.getTypeLength(i))return o}return i}setup(e){const n=this.condNode,r=this.ifNode.isolate(),i=this.elseNode?this.elseNode.isolate():null,o=e.context.nodeBlock;e.getDataFromNode(r).parentNodeBlock=o,i!==null&&(e.getDataFromNode(i).parentNodeBlock=o);const a=e.context.uniformFlow,s=e.getNodeProperties(this);s.condNode=n,s.ifNode=a?r:r.context({nodeBlock:r}),s.elseNode=i?a?i:i.context({nodeBlock:i}):null}generate(e,n){const r=this.getNodeType(e),i=e.getDataFromNode(this);if(i.nodeProperty!==void 0)return i.nodeProperty;const{condNode:o,ifNode:a,elseNode:s}=e.getNodeProperties(this),l=e.currentFunctionNode,c=n!=="void",u=c?th(r).build(e):"";i.nodeProperty=u;const d=o.build(e,"bool");if(e.context.uniformFlow&&s!==null){const p=a.build(e,r),_=s.build(e,r),x=e.getTernary(d,p,_);return e.format(x,r,n)}e.addFlowCode(`
${e.tab}if ( ${d} ) {

`).addFlowTab();let h=a.build(e,r);if(h&&(c?h=u+" = "+h+";":(h="return "+h+";",l===null&&(Vt("TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),h="// "+h))),e.removeFlowTab().addFlowCode(e.tab+"	"+h+`

`+e.tab+"}"),s!==null){e.addFlowCode(` else {

`).addFlowTab();let p=s.build(e,r);p&&(c?p=u+" = "+p+";":(p="return "+p+";",l===null&&(Vt("TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),p="// "+p))),e.removeFlowTab().addFlowCode(e.tab+"	"+p+`

`+e.tab+`}

`)}else e.addFlowCode(`

`);return e.format(u,r,n)}}const ts=xr(wYe).setParameterLength(2,3);kt("select",ts);class mce extends On{static get type(){return"ContextNode"}constructor(e=null,n={}){super(),this.isContextNode=!0,this.node=e,this.value=n}getScope(){return this.node.getScope()}getNodeType(e){return this.node.getNodeType(e)}getFlowContextData(){const e=[];return this.traverse(n=>{n.isContextNode===!0&&e.push(n.value)}),Object.assign({},...e)}getMemberType(e,n){return this.node.getMemberType(e,n)}analyze(e){const n=e.addContext(this.value);this.node.build(e),e.setContext(n)}setup(e){const n=e.addContext(this.value);this.node.build(e),e.setContext(n)}generate(e,n){const r=e.addContext(this.value),i=this.node.build(e,n);return e.setContext(r),i}}const Ph=(t=null,e={})=>{let n=t;return(n===null||n.isNode!==!0)&&(e=n||e,n=null),new mce(n,e)},gce=t=>Ph(t,{uniformFlow:!0}),Ik=(t,e)=>Ph(t,{nodeName:e});function Ace(t,e,n=null){return Ph(n,{getShadow:({light:r,shadowColorNode:i})=>e===r?i.mul(t):i})}function vce(t,e=null){return Ph(e,{getAO:(n,{material:r})=>r.transparent===!0?n:n!==null?n.mul(t):t})}function yce(t,e){return Vt('TSL: "label()" has been deprecated. Use "setName()" instead.'),Ik(t,e)}kt("context",Ph);kt("label",yce);kt("uniformFlow",gce);kt("setName",Ik);kt("builtinShadowContext",(t,e,n)=>Ace(e,n,t));kt("builtinAOContext",(t,e)=>vce(e,t));class OE extends On{static get type(){return"VarNode"}constructor(e,n=null,r=!1){super(),this.node=e,this.name=n,this.global=!0,this.isVarNode=!0,this.readOnly=r,this.parents=!0,this.intent=!1}setIntent(e){return this.intent=e,this}isIntent(e){return e.getDataFromNode(this).forceDeclaration===!0?!1:this.intent}getIntent(){return this.intent}getMemberType(e,n){return this.node.getMemberType(e,n)}getElementType(e){return this.node.getElementType(e)}getNodeType(e){return this.node.getNodeType(e)}getArrayCount(e){return this.node.getArrayCount(e)}isAssign(e){return e.getDataFromNode(this).assign}build(...e){const n=e[0];if(this._hasStack(n)===!1&&n.buildStage==="setup"&&(n.context.nodeLoop||n.context.nodeBlock)){let r=!1;if(this.node.isShaderCallNodeInternal&&this.node.shaderNode.getLayout()===null&&n.fnCall&&n.fnCall.shaderNode&&n.getDataFromNode(this.node.shaderNode).hasLoop){const a=n.getDataFromNode(this);a.forceDeclaration=!0,r=!0}const i=n.getBaseStack();r?i.addToStackBefore(this):i.addToStack(this)}return this.isIntent(n)&&this.isAssign(n)!==!0?this.node.build(...e):super.build(...e)}generate(e){const{node:n,name:r,readOnly:i}=this,{renderer:o}=e,a=o.backend.isWebGPUBackend===!0;let s=!1,l=!1;i&&(s=e.isDeterministic(n),l=a?i:s);const c=this.getNodeType(e);if(c=="void")return this.isIntent(e)!==!0&&Kt('TSL: ".toVar()" can not be used with void type.'),n.build(e);const u=e.getVectorType(c),d=n.build(e,u),f=e.getVarFromNode(this,r,u,void 0,l),h=e.getPropertyName(f);let p=h;if(l)if(a)p=s?`const ${h}`:`let ${h}`;else{const _=n.getArrayCount(e);p=`const ${e.getVar(f.type,h,_)}`}return e.addLineFlowCode(`${p} = ${d}`,this),h}_hasStack(e){return e.getDataFromNode(this).stack!==void 0}}const Ok=xr(OE),bce=(t,e=null)=>Ok(t,e).toStack(),xce=(t,e=null)=>Ok(t,e,!0).toStack(),_ce=t=>Ok(t).setIntent(!0).toStack();kt("toVar",bce);kt("toConst",xce);kt("toVarIntent",_ce);class CYe extends On{static get type(){return"SubBuild"}constructor(e,n,r=null){super(r),this.node=e,this.name=n,this.isSubBuildNode=!0}getNodeType(e){if(this.nodeType!==null)return this.nodeType;e.addSubBuild(this.name);const n=this.node.getNodeType(e);return e.removeSubBuild(),n}build(e,...n){e.addSubBuild(this.name);const r=this.node.build(e,...n);return e.removeSubBuild(),r}}const $v=(t,e,n=null)=>vn(new CYe(vn(t),e,n));class TYe extends On{static get type(){return"VaryingNode"}constructor(e,n=null){super(),this.node=e,this.name=n,this.isVaryingNode=!0,this.interpolationType=null,this.interpolationSampling=null,this.global=!0}setInterpolation(e,n=null){return this.interpolationType=e,this.interpolationSampling=n,this}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}setupVarying(e){const n=e.getNodeProperties(this);let r=n.varying;if(r===void 0){const i=this.name,o=this.getNodeType(e),a=this.interpolationType,s=this.interpolationSampling;n.varying=r=e.getVaryingFromNode(this,i,o,a,s),n.node=$v(this.node,"VERTEX")}return r.needsInterpolation||(r.needsInterpolation=e.shaderStage==="fragment"),r}setup(e){this.setupVarying(e),e.flowNodeFromShaderStage(wx.VERTEX,this.node)}analyze(e){this.setupVarying(e),e.flowNodeFromShaderStage(wx.VERTEX,this.node)}generate(e){const n=e.getSubBuildProperty("property",e.currentStack),r=e.getNodeProperties(this),i=this.setupVarying(e);if(r[n]===void 0){const o=this.getNodeType(e),a=e.getPropertyName(i,wx.VERTEX);e.flowNodeFromShaderStage(wx.VERTEX,r.node,o,a),r[n]=a}return e.getPropertyName(i)}}const _f=xr(TYe).setParameterLength(1,2),Sce=t=>_f(t);kt("toVarying",_f);kt("toVertexStage",Sce);kt("varying",(...t)=>(Vt("TSL: .varying() has been renamed to .toVarying()."),_f(...t)));kt("vertexStage",(...t)=>(Vt("TSL: .vertexStage() has been renamed to .toVertexStage()."),_f(...t)));const wce=ot(([t])=>{const e=t.mul(.9478672986).add(.0521327014).pow(2.4),n=t.mul(.0773993808),r=t.lessThanEqual(.04045);return Zr(e,n,r)}).setLayout({name:"sRGBTransferEOTF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),Cce=ot(([t])=>{const e=t.pow(.41666).mul(1.055).sub(.055),n=t.mul(12.92),r=t.lessThanEqual(.0031308);return Zr(e,n,r)}).setLayout({name:"sRGBTransferOETF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),Dk="WorkingColorSpace",EYe="OutputColorSpace";class Lk extends To{static get type(){return"ColorSpaceNode"}constructor(e,n,r){super("vec4"),this.colorNode=e,this.source=n,this.target=r}resolveColorSpace(e,n){return n===Dk?fr.workingColorSpace:n===EYe?e.context.outputColorSpace||e.renderer.outputColorSpace:n}setup(e){const{colorNode:n}=this,r=this.resolveColorSpace(e,this.source),i=this.resolveColorSpace(e,this.target);let o=n;return fr.enabled===!1||r===i||!r||!i||(fr.getTransfer(r)===In&&(o=Qn(wce(o.rgb),o.a)),fr.getPrimaries(r)!==fr.getPrimaries(i)&&(o=Qn(cs(fr._getMatrix(new Or,r,i)).mul(o.rgb),o.a)),fr.getTransfer(i)===In&&(o=Qn(Cce(o.rgb),o.a))),o}}const Tce=(t,e)=>vn(new Lk(vn(t),Dk,e)),eN=(t,e)=>vn(new Lk(vn(t),e,Dk)),MYe=(t,e,n)=>vn(new Lk(vn(t),e,n));kt("workingToColorSpace",Tce);kt("colorSpaceToWorking",eN);let PYe=class extends Ig{static get type(){return"ReferenceElementNode"}constructor(e,n){super(e,n),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const n=super.generate(e),r=this.referenceNode.getNodeType(),i=this.getNodeType();return e.format(n,r,i)}};class Ece extends On{static get type(){return"ReferenceBaseNode"}constructor(e,n,r=null,i=null){super(),this.property=e,this.uniformType=n,this.object=r,this.count=i,this.properties=e.split("."),this.reference=r,this.node=null,this.group=null,this.updateType=Er.OBJECT}setGroup(e){return this.group=e,this}element(e){return new PYe(this,vn(e))}setNodeType(e){const n=Wn(null,e);this.group!==null&&n.setGroup(this.group),this.node=n}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:n}=this;let r=e[n[0]];for(let i=1;i<n.length;i++)r=r[n[i]];return r}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const RYe=(t,e,n)=>new Ece(t,e,n);class NYe extends Ece{static get type(){return"RendererReferenceNode"}constructor(e,n,r=null){super(e,n,r),this.renderer=r,this.setGroup(qn)}updateReference(e){return this.reference=this.renderer!==null?this.renderer:e.renderer,this.reference}}const Mce=(t,e,n=null)=>new NYe(t,e,n);class IYe extends To{static get type(){return"ToneMappingNode"}constructor(e,n=Rce,r=null){super("vec3"),this._toneMapping=e,this.exposureNode=n,this.colorNode=r}customCacheKey(){return Zx(this._toneMapping)}setToneMapping(e){return this._toneMapping=e,this}getToneMapping(){return this._toneMapping}setup(e){const n=this.colorNode||e.context.color,r=this._toneMapping;if(r===Ja)return n;let i=null;const o=e.renderer.library.getToneMappingFunction(r);return o!==null?i=Qn(o(n.rgb,this.exposureNode),n.a):(Kt("ToneMappingNode: Unsupported Tone Mapping configuration.",r),i=n),i}}const Pce=(t,e,n)=>vn(new IYe(t,vn(e),vn(n))),Rce=Mce("toneMappingExposure","float");kt("toneMapping",(t,e,n)=>Pce(e,n,t));const gX=new WeakMap;function AX(t,e){let n=gX.get(t);return n===void 0&&(n=new y7(t,e),gX.set(t,n)),n}class ip extends ek{static get type(){return"BufferAttributeNode"}constructor(e,n=null,r=0,i=0){super(e,n),this.isBufferNode=!0,this.bufferType=n,this.bufferStride=r,this.bufferOffset=i,this.usage=Dy,this.instanced=!1,this.attribute=null,this.global=!0,e&&e.isBufferAttribute===!0&&e.itemSize<=4&&(this.attribute=e,this.usage=e.usage,this.instanced=e.isInstancedBufferAttribute)}getHash(e){if(this.bufferStride===0&&this.bufferOffset===0){let n=e.globalCache.getData(this.value);return n===void 0&&(n={node:this},e.globalCache.setData(this.value,n)),n.node.uuid}return this.uuid}getNodeType(e){return this.bufferType===null&&(this.bufferType=e.getTypeFromAttribute(this.attribute)),this.bufferType}setup(e){if(this.attribute!==null)return;const n=this.getNodeType(e),r=e.getTypeLength(n),i=this.value,o=this.bufferStride||r,a=this.bufferOffset;let s;i.isInterleavedBuffer===!0?s=i:i.isBufferAttribute===!0?s=AX(i.array,o):s=AX(i,o);const l=new Xd(s,r,a);s.setUsage(this.usage),this.attribute=l,this.attribute.isInstancedBufferAttribute=this.instanced}generate(e){const n=this.getNodeType(e),r=e.getBufferAttributeFromNode(this,n),i=e.getPropertyName(r);let o=null;return e.shaderStage==="vertex"||e.shaderStage==="compute"?(this.name=i,o=i):o=_f(this).build(e,n),o}getInputType(){return"bufferAttribute"}setUsage(e){return this.usage=e,this.attribute&&this.attribute.isBufferAttribute===!0&&(this.attribute.usage=e),this}setInstanced(e){return this.instanced=e,this}}function tN(t,e=null,n=0,r=0,i=Dy,o=!1){return e==="mat3"||e===null&&t.itemSize===9?cs(new ip(t,"vec3",9,0).setUsage(i).setInstanced(o),new ip(t,"vec3",9,3).setUsage(i).setInstanced(o),new ip(t,"vec3",9,6).setUsage(i).setInstanced(o)):e==="mat4"||e===null&&t.itemSize===16?Xp(new ip(t,"vec4",16,0).setUsage(i).setInstanced(o),new ip(t,"vec4",16,4).setUsage(i).setInstanced(o),new ip(t,"vec4",16,8).setUsage(i).setInstanced(o),new ip(t,"vec4",16,12).setUsage(i).setInstanced(o)):new ip(t,e,n,r)}const Bk=(t,e=null,n=0,r=0)=>tN(t,e,n,r),OYe=(t,e=null,n=0,r=0)=>tN(t,e,n,r,M0),L3=(t,e=null,n=0,r=0)=>tN(t,e,n,r,Dy,!0),y6=(t,e=null,n=0,r=0)=>tN(t,e,n,r,M0,!0);kt("toAttribute",t=>Bk(t.value));class DYe extends On{static get type(){return"ComputeNode"}constructor(e,n){super("void"),this.isComputeNode=!0,this.computeNode=e,this.workgroupSize=n,this.count=null,this.version=1,this.name="",this.updateBeforeType=Er.OBJECT,this.onInitFunction=null}setCount(e){return this.count=e,this}getCount(){return this.count}dispose(){this.dispatchEvent({type:"dispose"})}setName(e){return this.name=e,this}label(e){return Vt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(e)}onInit(e){return this.onInitFunction=e,this}updateBefore({renderer:e}){e.compute(this)}setup(e){const n=this.computeNode.build(e);if(n){const r=e.getNodeProperties(this);r.outputComputeNode=n.outputNode,n.outputNode=null}return n}generate(e,n){const{shaderStage:r}=e;if(r==="compute"){const i=this.computeNode.build(e,"void");i!==""&&e.addLineFlowCode(i,this)}else{const o=e.getNodeProperties(this).outputComputeNode;if(o)return o.build(e,n)}}}const Fk=(t,e=[64])=>{(e.length===0||e.length>3)&&Kt("TSL: compute() workgroupSize must have 1, 2, or 3 elements");for(let n=0;n<e.length;n++){const r=e[n];(typeof r!="number"||r<=0||!Number.isInteger(r))&&Kt(`TSL: compute() workgroupSize element at index [ ${n} ] must be a positive integer`)}for(;e.length<3;)e.push(1);return vn(new DYe(vn(t),e))},Nce=(t,e,n)=>Fk(t,n).setCount(e);kt("compute",Nce);kt("computeKernel",Fk);class LYe extends On{static get type(){return"IsolateNode"}constructor(e,n=!0){super(),this.node=e,this.parent=n,this.isIsolateNode=!0}getNodeType(e){const n=e.getCache(),r=e.getCacheFromNode(this,this.parent);e.setCache(r);const i=this.node.getNodeType(e);return e.setCache(n),i}build(e,...n){const r=e.getCache(),i=e.getCacheFromNode(this,this.parent);e.setCache(i);const o=this.node.build(e,...n);return e.setCache(r),o}setParent(e){return this.parent=e,this}getParent(){return this.parent}}const kv=t=>new LYe(vn(t));function Ice(t,e=!0){return Vt('TSL: "cache()" has been deprecated. Use "isolate()" instead.'),kv(t).setParent(e)}kt("cache",Ice);kt("isolate",kv);class BYe extends On{static get type(){return"BypassNode"}constructor(e,n){super(),this.isBypassNode=!0,this.outputNode=e,this.callNode=n}getNodeType(e){return this.outputNode.getNodeType(e)}generate(e){const n=this.callNode.build(e,"void");return n!==""&&e.addLineFlowCode(n,this),this.outputNode.build(e)}}const Oce=xr(BYe).setParameterLength(2);kt("bypass",Oce);class Dce extends On{static get type(){return"RemapNode"}constructor(e,n,r,i=Ce(0),o=Ce(1)){super(),this.node=e,this.inLowNode=n,this.inHighNode=r,this.outLowNode=i,this.outHighNode=o,this.doClamp=!0}setup(){const{node:e,inLowNode:n,inHighNode:r,outLowNode:i,outHighNode:o,doClamp:a}=this;let s=e.sub(n).div(r.sub(n));return a===!0&&(s=s.clamp()),s.mul(o.sub(i)).add(i)}}const Lce=xr(Dce,null,null,{doClamp:!1}).setParameterLength(3,5),Bce=xr(Dce).setParameterLength(3,5);kt("remap",Lce);kt("remapClamp",Bce);class DE extends On{static get type(){return"ExpressionNode"}constructor(e="",n="void"){super(n),this.snippet=e}generate(e,n){const r=this.getNodeType(e),i=this.snippet;if(r==="void")e.addLineFlowCode(i,this);else return e.format(i,r,n)}}const Ah=xr(DE).setParameterLength(1,2),Fce=t=>(t?ts(t,Ah("discard")):Ah("discard")).toStack(),FYe=()=>Ah("return").toStack();kt("discard",Fce);class $Ye extends To{static get type(){return"RenderOutputNode"}constructor(e,n,r){super("vec4"),this.colorNode=e,this._toneMapping=n,this.outputColorSpace=r,this.isRenderOutputNode=!0}setToneMapping(e){return this._toneMapping=e,this}getToneMapping(){return this._toneMapping}setup({context:e}){let n=this.colorNode||e.color;const r=(this._toneMapping!==null?this._toneMapping:e.toneMapping)||Ja,i=(this.outputColorSpace!==null?this.outputColorSpace:e.outputColorSpace)||_l;return r!==Ja&&(n=n.toneMapping(r)),i!==_l&&i!==fr.workingColorSpace&&(n=n.workingToColorSpace(i)),n}}const $ce=(t,e=null,n=null)=>vn(new $Ye(vn(t),e,n));kt("renderOutput",$ce);class kYe extends To{static get type(){return"DebugNode"}constructor(e,n=null){super(),this.node=e,this.callback=n}getNodeType(e){return this.node.getNodeType(e)}setup(e){return this.node.build(e)}analyze(e){return this.node.build(e)}generate(e){const n=this.callback,r=this.node.build(e),i="--- TSL debug - "+e.shaderStage+" shader ---",o="-".repeat(i.length);let a="";return a+="// #"+i+`#
`,a+=e.flow.code.replace(/^\t/mg,"")+`
`,a+="/* ... */ "+r+` /* ... */
`,a+="// #"+o+`#
`,n!==null?n(e,a):s2(a),r}}const kce=(t,e=null)=>vn(new kYe(vn(t),e)).toStack();kt("debug",kce);class Uce{constructor(){this._renderer=null,this.currentFrame=null}get nodeFrame(){return this._renderer._nodes.nodeFrame}setRenderer(e){return this._renderer=e,this}getRenderer(){return this._renderer}init(){}begin(){}finish(){}inspect(){}computeAsync(){}beginCompute(){}finishCompute(){}beginRender(){}finishRender(){}copyTextureToTexture(){}copyFramebufferToTexture(){}}class UYe extends On{static get type(){return"InspectorNode"}constructor(e,n="",r=null){super(),this.node=e,this.name=n,this.callback=r,this.updateType=Er.FRAME,this.isInspectorNode=!0}getName(){return this.name||this.node.name}update(e){e.renderer.inspector.inspect(this)}getNodeType(e){return this.node.getNodeType(e)}setup(e){let n=this.node;return e.context.inspector===!0&&this.callback!==null&&(n=this.callback(n)),e.renderer.backend.isWebGPUBackend!==!0&&e.renderer.inspector.constructor!==Uce&&$i('TSL: ".toInspector()" is only available with WebGPU.'),n}}function zce(t,e="",n=null){return t=vn(t),t.before(new UYe(t,e,n))}kt("toInspector",zce);function zYe(t){Vt("TSL: AddNodeElement has been removed in favor of tree-shaking. Trying add",t)}class Vce extends On{static get type(){return"AttributeNode"}constructor(e,n=null){super(n),this.global=!0,this._attributeName=e}getHash(e){return this.getAttributeName(e)}getNodeType(e){let n=this.nodeType;if(n===null){const r=this.getAttributeName(e);if(e.hasGeometryAttribute(r)){const i=e.geometry.getAttribute(r);n=e.getTypeFromAttribute(i)}else n="float"}return n}setAttributeName(e){return this._attributeName=e,this}getAttributeName(){return this._attributeName}generate(e){const n=this.getAttributeName(e),r=this.getNodeType(e);if(e.hasGeometryAttribute(n)===!0){const o=e.geometry.getAttribute(n),a=e.getTypeFromAttribute(o),s=e.getAttribute(n,a);return e.shaderStage==="vertex"?e.format(s.name,a,r):_f(this).build(e,r)}else return Vt(`AttributeNode: Vertex attribute "${n}" not found on geometry.`),e.generateConst(r)}serialize(e){super.serialize(e),e.global=this.global,e._attributeName=this._attributeName}deserialize(e){super.deserialize(e),this.global=e.global,this._attributeName=e._attributeName}}const vh=(t,e=null)=>new Vce(t,e),Di=(t=0)=>vh("uv"+(t>0?t:""),"vec2");class VYe extends On{static get type(){return"TextureSizeNode"}constructor(e,n=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=e,this.levelNode=n}generate(e,n){const r=this.textureNode.build(e,"property"),i=this.levelNode===null?"0":this.levelNode.build(e,"int");return e.format(`${e.getMethod("textureDimensions")}( ${r}, ${i} )`,this.getNodeType(e),n)}}const nh=xr(VYe).setParameterLength(1,2);class GYe extends CS{static get type(){return"MaxMipLevelNode"}constructor(e){super(0),this._textureNode=e,this.updateType=Er.FRAME}get textureNode(){return this._textureNode}get texture(){return this._textureNode.value}update(){const e=this.texture,n=e.images,r=n&&n.length>0?n[0]&&n[0].image||n[0]:e.image;if(r&&r.width!==void 0){const{width:i,height:o}=r;this.value=Math.log2(Math.max(i,o))}}}const $k=xr(GYe).setParameterLength(1),kk=new la;class gf extends CS{static get type(){return"TextureNode"}constructor(e=kk,n=null,r=null,i=null){super(e),this.isTextureNode=!0,this.uvNode=n,this.levelNode=r,this.biasNode=i,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.offsetNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=Er.NONE,this.referenceNode=null,this._value=e,this._matrixUniform=null,this._flipYUniform=null,this.setUpdateMatrix(n===null)}set value(e){this.referenceNode?this.referenceNode.value=e:this._value=e}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":this.value.type===Ni?"uvec4":this.value.type===Ia?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return Di(this.value.channel)}updateReference(){return this.value}getTransformedUV(e){return this._matrixUniform===null&&(this._matrixUniform=Wn(this.value.matrix)),this._matrixUniform.mul(et(e,1)).xy}setUpdateMatrix(e){return this.updateMatrix=e,this}setupUV(e,n){return e.isFlipY()&&(this._flipYUniform===null&&(this._flipYUniform=Wn(!1)),n=n.toVar(),this.sampler?n=this._flipYUniform.select(n.flipY(),n):n=this._flipYUniform.select(n.setY(We(nh(this,this.levelNode).y).sub(n.y).sub(1)),n)),n}setup(e){const n=e.getNodeProperties(this);n.referenceNode=this.referenceNode;const r=this.value;if(!r||r.isTexture!==!0)throw new Error("THREE.TSL: `texture( value )` function expects a valid instance of THREE.Texture().");const i=ot(()=>{let a=this.uvNode;return(a===null||e.context.forceUVContext===!0)&&e.context.getUV&&(a=e.context.getUV(this,e)),a||(a=this.getDefaultUV()),this.updateMatrix===!0&&(a=this.getTransformedUV(a)),a=this.setupUV(e,a),this.updateType=this._matrixUniform!==null||this._flipYUniform!==null?Er.OBJECT:Er.NONE,a})();let o=this.levelNode;o===null&&e.context.getTextureLevel&&(o=e.context.getTextureLevel(this)),n.uvNode=i,n.levelNode=o,n.biasNode=this.biasNode,n.compareNode=this.compareNode,n.gradNode=this.gradNode,n.depthNode=this.depthNode,n.offsetNode=this.offsetNode}generateUV(e,n){return n.build(e,this.sampler===!0?"vec2":"ivec2")}generateOffset(e,n){return n.build(e,"ivec2")}generateSnippet(e,n,r,i,o,a,s,l,c){const u=this.value;let d;return o?d=e.generateTextureBias(u,n,r,o,a,c):l?d=e.generateTextureGrad(u,n,r,l,a,c):s?d=e.generateTextureCompare(u,n,r,s,a,c):this.sampler===!1?d=e.generateTextureLoad(u,n,r,i,a,c):i?d=e.generateTextureLevel(u,n,r,i,a,c):d=e.generateTexture(u,n,r,a,c),d}generate(e,n){const r=this.value,i=e.getNodeProperties(this),o=super.generate(e,"property");if(/^sampler/.test(n))return o+"_sampler";if(e.isReference(n))return o;{const a=e.getDataFromNode(this);let s=a.propertyName;if(s===void 0){const{uvNode:u,levelNode:d,biasNode:f,compareNode:h,depthNode:p,gradNode:_,offsetNode:x}=i,y=this.generateUV(e,u),w=d?d.build(e,"float"):null,C=f?f.build(e,"float"):null,M=p?p.build(e,"int"):null,R=h?h.build(e,"float"):null,N=_?[_[0].build(e,"vec2"),_[1].build(e,"vec2")]:null,I=x?this.generateOffset(e,x):null,B=e.getVarFromNode(this);s=e.getPropertyName(B);const D=this.generateSnippet(e,o,y,w,C,M,R,N,I);e.addLineFlowCode(`${s} = ${D}`,this),a.snippet=D,a.propertyName=s}let l=s;const c=this.getNodeType(e);return e.needsToWorkingColorSpace(r)&&(l=eN(Ah(l,c),r.colorSpace).setup(e).build(e,c)),e.format(l,c,n)}}setSampler(e){return this.sampler=e,this}getSampler(){return this.sampler}uv(e){return Vt("TextureNode: .uv() has been renamed. Use .sample() instead."),this.sample(e)}sample(e){const n=this.clone();return n.uvNode=vn(e),n.referenceNode=this.getBase(),vn(n)}load(e){return this.sample(e).setSampler(!1)}blur(e){const n=this.clone();n.biasNode=vn(e).mul($k(n)),n.referenceNode=this.getBase();const r=n.value;return n.generateMipmaps===!1&&(r&&r.generateMipmaps===!1||r.minFilter===Ii||r.magFilter===Ii)&&(Vt("TSL: texture().blur() requires mipmaps and sampling. Use .generateMipmaps=true and .minFilter/.magFilter=THREE.LinearFilter in the Texture."),n.biasNode=null),vn(n)}level(e){const n=this.clone();return n.levelNode=vn(e),n.referenceNode=this.getBase(),vn(n)}size(e){return nh(this,e)}bias(e){const n=this.clone();return n.biasNode=vn(e),n.referenceNode=this.getBase(),vn(n)}getBase(){return this.referenceNode?this.referenceNode.getBase():this}compare(e){const n=this.clone();return n.compareNode=vn(e),n.referenceNode=this.getBase(),vn(n)}grad(e,n){const r=this.clone();return r.gradNode=[vn(e),vn(n)],r.referenceNode=this.getBase(),vn(r)}depth(e){const n=this.clone();return n.depthNode=vn(e),n.referenceNode=this.getBase(),vn(n)}offset(e){const n=this.clone();return n.offsetNode=vn(e),n.referenceNode=this.getBase(),vn(n)}serialize(e){super.serialize(e),e.value=this.value.toJSON(e.meta).uuid,e.sampler=this.sampler,e.updateMatrix=this.updateMatrix,e.updateType=this.updateType}deserialize(e){super.deserialize(e),this.value=e.meta.textures[e.value],this.sampler=e.sampler,this.updateMatrix=e.updateMatrix,this.updateType=e.updateType}update(){const e=this.value,n=this._matrixUniform;n!==null&&(n.value=e.matrix),e.matrixAutoUpdate===!0&&e.updateMatrix();const r=this._flipYUniform;r!==null&&(r.value=e.image instanceof ImageBitmap&&e.flipY===!0||e.isRenderTargetTexture===!0||e.isFramebufferTexture===!0||e.isDepthTexture===!0)}clone(){const e=new this.constructor(this.value,this.uvNode,this.levelNode,this.biasNode);return e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e.offsetNode=this.offsetNode,e}}const HYe=xr(gf).setParameterLength(1,4).setName("texture"),ci=(t=kk,e=null,n=null,r=null)=>{let i;return t&&t.isTextureNode===!0?(i=vn(t.clone()),i.referenceNode=t.getBase(),e!==null&&(i.uvNode=vn(e)),n!==null&&(i.levelNode=vn(n)),r!==null&&(i.biasNode=vn(r))):i=HYe(t,e,n,r),i},jYe=(t=kk)=>ci(t),Po=(...t)=>ci(...t).setSampler(!1),qYe=(t,e,n)=>ci(t,e).level(n),WYe=t=>(t.isNode===!0?t:ci(t)).convert("sampler"),XYe=t=>(t.isNode===!0?t:ci(t)).convert("samplerComparison");class Uk extends CS{static get type(){return"BufferNode"}constructor(e,n,r=0){super(e,n),this.isBufferNode=!0,this.bufferType=n,this.bufferCount=r,this.updateRanges=[]}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}getElementType(e){return this.getNodeType(e)}getInputType(){return"buffer"}}const ES=(t,e,n)=>new Uk(t,e,n);class YYe extends Ig{static get type(){return"UniformArrayElementNode"}constructor(e,n){super(e,n),this.isArrayBufferElementNode=!0}generate(e){const n=super.generate(e),r=this.getNodeType(),i=this.node.getPaddedType();return e.format(n,i,r)}}class KYe extends Uk{static get type(){return"UniformArrayNode"}constructor(e,n=null){super(null),this.array=e,this.elementType=n===null?Rp(e[0]):n,this.paddedType=this.getPaddedType(),this.updateType=Er.RENDER,this.isArrayBufferNode=!0}getNodeType(){return this.paddedType}getElementType(){return this.elementType}getPaddedType(){const e=this.elementType;let n="vec4";return e==="mat2"?n="mat2":/mat/.test(e)===!0?n="mat4":e.charAt(0)==="i"?n="ivec4":e.charAt(0)==="u"&&(n="uvec4"),n}update(){const{array:e,value:n}=this,r=this.elementType;if(r==="float"||r==="int"||r==="uint")for(let i=0;i<e.length;i++){const o=i*4;n[o]=e[i]}else if(r==="color")for(let i=0;i<e.length;i++){const o=i*4,a=e[i];n[o]=a.r,n[o+1]=a.g,n[o+2]=a.b||0}else if(r==="mat2")for(let i=0;i<e.length;i++){const o=i*4,a=e[i];n[o]=a.elements[0],n[o+1]=a.elements[1],n[o+2]=a.elements[2],n[o+3]=a.elements[3]}else if(r==="mat3")for(let i=0;i<e.length;i++){const o=i*16,a=e[i];n[o]=a.elements[0],n[o+1]=a.elements[1],n[o+2]=a.elements[2],n[o+4]=a.elements[3],n[o+5]=a.elements[4],n[o+6]=a.elements[5],n[o+8]=a.elements[6],n[o+9]=a.elements[7],n[o+10]=a.elements[8],n[o+15]=1}else if(r==="mat4")for(let i=0;i<e.length;i++){const o=i*16,a=e[i];for(let s=0;s<a.elements.length;s++)n[o+s]=a.elements[s]}else for(let i=0;i<e.length;i++){const o=i*4,a=e[i];n[o]=a.x,n[o+1]=a.y,n[o+2]=a.z||0,n[o+3]=a.w||0}}setup(e){const n=this.array.length,r=this.elementType;let i=Float32Array;const o=this.paddedType,a=e.getTypeLength(o);return r.charAt(0)==="i"&&(i=Int32Array),r.charAt(0)==="u"&&(i=Uint32Array),this.value=new i(n*a),this.bufferCount=n,this.bufferType=o,super.setup(e)}element(e){return new YYe(this,vn(e))}}const ws=(t,e)=>new KYe(t,e);class QYe extends On{constructor(e){super("float"),this.name=e,this.isBuiltinNode=!0}generate(){return this.name}}const Rh=xr(QYe).setParameterLength(1);let Fb,$b;class Qi extends On{static get type(){return"ScreenNode"}constructor(e){super(),this.scope=e,this._output=null,this.isViewportNode=!0}getNodeType(){return this.scope===Qi.DPR?"float":this.scope===Qi.VIEWPORT?"vec4":"vec2"}getUpdateType(){let e=Er.NONE;return(this.scope===Qi.SIZE||this.scope===Qi.VIEWPORT||this.scope===Qi.DPR)&&(e=Er.RENDER),this.updateType=e,e}update({renderer:e}){const n=e.getRenderTarget();this.scope===Qi.VIEWPORT?n!==null?$b.copy(n.viewport):(e.getViewport($b),$b.multiplyScalar(e.getPixelRatio())):this.scope===Qi.DPR?this._output.value=e.getPixelRatio():n!==null?(Fb.width=n.width,Fb.height=n.height):e.getDrawingBufferSize(Fb)}setup(){const e=this.scope;let n=null;return e===Qi.SIZE?n=Wn(Fb||(Fb=new Wt)):e===Qi.VIEWPORT?n=Wn($b||($b=new yr)):e===Qi.DPR?n=Wn(1):n=rn(Dg.div(gg)),this._output=n,n}generate(e){if(this.scope===Qi.COORDINATE){let n=e.getFragCoord();if(e.isFlipY()){const r=e.getNodeProperties(gg).outputNode.build(e);n=`${e.getType("vec2")}( ${n}.x, ${r}.y - ${n}.y )`}return n}return super.generate(e)}}Qi.COORDINATE="coordinate";Qi.VIEWPORT="viewport";Qi.SIZE="size";Qi.UV="uv";Qi.DPR="dpr";const Gce=mn(Qi,Qi.DPR),rh=mn(Qi,Qi.UV),gg=mn(Qi,Qi.SIZE),Dg=mn(Qi,Qi.COORDINATE),zk=mn(Qi,Qi.VIEWPORT),Vk=zk.zw,Hce=Dg.sub(zk.xy),ZYe=Hce.div(Vk),JYe=ot(()=>(Vt('TSL: "viewportResolution" is deprecated. Use "screenSize" instead.'),gg),"vec2").once()(),xm=Wn(0,"uint").setName("u_cameraIndex").setGroup(XR("cameraIndex")).toVarying("v_cameraIndex"),xp=Wn("float").setName("cameraNear").setGroup(qn).onRenderUpdate(({camera:t})=>t.near),_p=Wn("float").setName("cameraFar").setGroup(qn).onRenderUpdate(({camera:t})=>t.far),ih=ot(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(const i of t.cameras)n.push(i.projectionMatrix);e=ws(n).setGroup(qn).setName("cameraProjectionMatrices").element(t.isMultiViewCamera?Rh("gl_ViewID_OVR"):xm).toConst("cameraProjectionMatrix")}else e=Wn("mat4").setName("cameraProjectionMatrix").setGroup(qn).onRenderUpdate(({camera:n})=>n.projectionMatrix);return e}).once()(),eKe=ot(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(const i of t.cameras)n.push(i.projectionMatrixInverse);e=ws(n).setGroup(qn).setName("cameraProjectionMatricesInverse").element(t.isMultiViewCamera?Rh("gl_ViewID_OVR"):xm).toConst("cameraProjectionMatrixInverse")}else e=Wn("mat4").setName("cameraProjectionMatrixInverse").setGroup(qn).onRenderUpdate(({camera:n})=>n.projectionMatrixInverse);return e}).once()(),Au=ot(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(const i of t.cameras)n.push(i.matrixWorldInverse);e=ws(n).setGroup(qn).setName("cameraViewMatrices").element(t.isMultiViewCamera?Rh("gl_ViewID_OVR"):xm).toConst("cameraViewMatrix")}else e=Wn("mat4").setName("cameraViewMatrix").setGroup(qn).onRenderUpdate(({camera:n})=>n.matrixWorldInverse);return e}).once()(),tKe=ot(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(const i of t.cameras)n.push(i.matrixWorld);e=ws(n).setGroup(qn).setName("cameraWorldMatrices").element(t.isMultiViewCamera?Rh("gl_ViewID_OVR"):xm).toConst("cameraWorldMatrix")}else e=Wn("mat4").setName("cameraWorldMatrix").setGroup(qn).onRenderUpdate(({camera:n})=>n.matrixWorld);return e}).once()(),nKe=ot(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(const i of t.cameras)n.push(i.normalMatrix);e=ws(n).setGroup(qn).setName("cameraNormalMatrices").element(t.isMultiViewCamera?Rh("gl_ViewID_OVR"):xm).toConst("cameraNormalMatrix")}else e=Wn("mat3").setName("cameraNormalMatrix").setGroup(qn).onRenderUpdate(({camera:n})=>n.normalMatrix);return e}).once()(),jce=ot(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(let i=0,o=t.cameras.length;i<o;i++)n.push(new Te);e=ws(n).setGroup(qn).setName("cameraPositions").onRenderUpdate(({camera:i},o)=>{const a=i.cameras,s=o.array;for(let l=0,c=a.length;l<c;l++)s[l].setFromMatrixPosition(a[l].matrixWorld)}).element(t.isMultiViewCamera?Rh("gl_ViewID_OVR"):xm).toConst("cameraPosition")}else e=Wn(new Te).setName("cameraPosition").setGroup(qn).onRenderUpdate(({camera:n},r)=>r.value.setFromMatrixPosition(n.matrixWorld));return e}).once()(),rKe=ot(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(const i of t.cameras)n.push(i.viewport);e=ws(n,"vec4").setGroup(qn).setName("cameraViewports").element(xm).toConst("cameraViewport")}else e=Qn(0,0,gg.x,gg.y).toConst("cameraViewport");return e}).once()(),vX=new ym;class Qr extends On{static get type(){return"Object3DNode"}constructor(e,n=null){super(),this.scope=e,this.object3d=n,this.updateType=Er.OBJECT,this.uniformNode=new CS(null)}getNodeType(){const e=this.scope;if(e===Qr.WORLD_MATRIX)return"mat4";if(e===Qr.POSITION||e===Qr.VIEW_POSITION||e===Qr.DIRECTION||e===Qr.SCALE)return"vec3";if(e===Qr.RADIUS)return"float"}update(e){const n=this.object3d,r=this.uniformNode,i=this.scope;if(i===Qr.WORLD_MATRIX)r.value=n.matrixWorld;else if(i===Qr.POSITION)r.value=r.value||new Te,r.value.setFromMatrixPosition(n.matrixWorld);else if(i===Qr.SCALE)r.value=r.value||new Te,r.value.setFromMatrixScale(n.matrixWorld);else if(i===Qr.DIRECTION)r.value=r.value||new Te,n.getWorldDirection(r.value);else if(i===Qr.VIEW_POSITION){const o=e.camera;r.value=r.value||new Te,r.value.setFromMatrixPosition(n.matrixWorld),r.value.applyMatrix4(o.matrixWorldInverse)}else if(i===Qr.RADIUS){const o=e.object.geometry;o.boundingSphere===null&&o.computeBoundingSphere(),vX.copy(o.boundingSphere).applyMatrix4(n.matrixWorld),r.value=vX.radius}}generate(e){const n=this.scope;return n===Qr.WORLD_MATRIX?this.uniformNode.nodeType="mat4":n===Qr.POSITION||n===Qr.VIEW_POSITION||n===Qr.DIRECTION||n===Qr.SCALE?this.uniformNode.nodeType="vec3":n===Qr.RADIUS&&(this.uniformNode.nodeType="float"),this.uniformNode.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}Qr.WORLD_MATRIX="worldMatrix";Qr.POSITION="position";Qr.SCALE="scale";Qr.VIEW_POSITION="viewPosition";Qr.DIRECTION="direction";Qr.RADIUS="radius";const iKe=xr(Qr,Qr.DIRECTION).setParameterLength(1),oKe=xr(Qr,Qr.WORLD_MATRIX).setParameterLength(1),qce=xr(Qr,Qr.POSITION).setParameterLength(1),aKe=xr(Qr,Qr.SCALE).setParameterLength(1),sKe=xr(Qr,Qr.VIEW_POSITION).setParameterLength(1),lKe=xr(Qr,Qr.RADIUS).setParameterLength(1);class fu extends Qr{static get type(){return"ModelNode"}constructor(e){super(e)}update(e){this.object3d=e.object,super.update(e)}}const cKe=mn(fu,fu.DIRECTION),Yc=mn(fu,fu.WORLD_MATRIX),uKe=mn(fu,fu.POSITION),dKe=mn(fu,fu.SCALE),fKe=mn(fu,fu.VIEW_POSITION),hKe=mn(fu,fu.RADIUS),Wce=Wn(new Or).onObjectUpdate(({object:t},e)=>e.value.getNormalMatrix(t.matrixWorld)),pKe=Wn(new wr).onObjectUpdate(({object:t},e)=>e.value.copy(t.matrixWorld).invert()),_m=ot(t=>t.context.modelViewMatrix||Xce).once()().toVar("modelViewMatrix"),Xce=Au.mul(Yc),b6=ot(t=>(t.context.isHighPrecisionModelViewMatrix=!0,Wn("mat4").onObjectUpdate(({object:e,camera:n})=>e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld)))).once()().toVar("highpModelViewMatrix"),x6=ot(t=>{const e=t.context.isHighPrecisionModelViewMatrix;return Wn("mat3").onObjectUpdate(({object:n,camera:r})=>(e!==!0&&n.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,n.matrixWorld),n.normalMatrix.getNormalMatrix(n.modelViewMatrix)))}).once()().toVar("highpModelNormalViewMatrix"),MS=vh("position","vec3"),xo=MS.toVarying("positionLocal"),B3=MS.toVarying("positionPrevious"),sf=ot(t=>Yc.mul(xo).xyz.toVarying(t.getSubBuildProperty("v_positionWorld")),"vec3").once(["POSITION"])(),Gk=ot(()=>xo.transformDirection(Yc).toVarying("v_positionWorldDirection").normalize().toVar("positionWorldDirection"),"vec3").once(["POSITION"])(),jo=ot(t=>t.context.setupPositionView().toVarying("v_positionView"),"vec3").once(["POSITION"])(),Fi=ot(t=>{let e;return t.camera.isOrthographicCamera?e=et(0,0,1):e=jo.negate().toVarying("v_positionViewDirection").normalize(),e.toVar("positionViewDirection")},"vec3").once(["POSITION"])();class mKe extends On{static get type(){return"FrontFacingNode"}constructor(){super("bool"),this.isFrontFacingNode=!0}generate(e){if(e.shaderStage!=="fragment")return"true";const{material:n}=e;return n.side===Oi?"false":e.getFrontFacing()}}const Yce=mn(mKe),Hk=Ce(Yce).mul(2).sub(1),N1=ot(([t],{material:e})=>{const n=e.side;return n===Oi?t=t.mul(-1):n===Ko&&(t=t.mul(Hk)),t}),nN=vh("normal","vec3"),$l=ot(t=>t.geometry.hasAttribute("normal")===!1?(Vt('TSL: Vertex attribute "normal" not found on geometry.'),et(0,1,0)):nN,"vec3").once()().toVar("normalLocal"),Kce=jo.dFdx().cross(jo.dFdy()).normalize().toVar("normalFlat"),qy=ot(t=>{let e;return t.material.flatShading===!0?e=Kce:e=jk($l).toVarying("v_normalViewGeometry").normalize(),e},"vec3").once()().toVar("normalViewGeometry"),Qce=ot(t=>{let e=qy.transformDirection(Au);return t.material.flatShading!==!0&&(e=e.toVarying("v_normalWorldGeometry")),e.normalize().toVar("normalWorldGeometry")},"vec3").once()(),oi=ot(({subBuildFn:t,material:e,context:n})=>{let r;return t==="NORMAL"||t==="VERTEX"?(r=qy,e.flatShading!==!0&&(r=N1(r))):r=n.setupNormal().context({getUV:null}),r},"vec3").once(["NORMAL","VERTEX"])().toVar("normalView"),Sm=oi.transformDirection(Au).toVar("normalWorld"),O0=ot(({subBuildFn:t,context:e})=>{let n;return t==="NORMAL"||t==="VERTEX"?n=oi:n=e.setupClearcoatNormal().context({getUV:null}),n},"vec3").once(["NORMAL","VERTEX"])().toVar("clearcoatNormalView"),Zce=ot(([t,e=Yc])=>{const n=cs(e),r=t.div(et(n[0].dot(n[0]),n[1].dot(n[1]),n[2].dot(n[2])));return n.mul(r).xyz}),jk=ot(([t],e)=>{const n=e.context.modelNormalViewMatrix;if(n)return n.transformDirection(t);const r=Wce.mul(t);return Au.transformDirection(r)}),gKe=ot(()=>(Vt('TSL: "transformedNormalView" is deprecated. Use "normalView" instead.'),oi)).once(["NORMAL","VERTEX"])(),AKe=ot(()=>(Vt('TSL: "transformedNormalWorld" is deprecated. Use "normalWorld" instead.'),Sm)).once(["NORMAL","VERTEX"])(),vKe=ot(()=>(Vt('TSL: "transformedClearcoatNormalView" is deprecated. Use "clearcoatNormalView" instead.'),O0)).once(["NORMAL","VERTEX"])(),yX=new ls,GO=new wr,Jce=Wn(0).onReference(({material:t})=>t).onObjectUpdate(({material:t})=>t.refractionRatio),LE=Wn(1).onReference(({material:t})=>t).onObjectUpdate(function({material:t,scene:e}){return t.envMap?t.envMapIntensity:e.environmentIntensity}),qk=Wn(new wr).onReference(function(t){return t.material}).onObjectUpdate(function({material:t,scene:e}){const n=e.environment!==null&&t.envMap===null?e.environmentRotation:t.envMapRotation;return n?(yX.copy(n),GO.makeRotationFromEuler(yX)):GO.identity(),GO}),eue=Fi.negate().reflect(oi),tue=Fi.negate().refract(oi,Jce),nue=eue.transformDirection(Au).toVar("reflectVector"),rue=tue.transformDirection(Au).toVar("reflectVector"),iue=new yS;class yKe extends gf{static get type(){return"CubeTextureNode"}constructor(e,n=null,r=null,i=null){super(e,n,r,i),this.isCubeTextureNode=!0}getInputType(){return this.value.isDepthTexture===!0?"cubeDepthTexture":"cubeTexture"}getDefaultUV(){const e=this.value;return e.mapping===od?nue:e.mapping===pf?rue:(Kt('CubeTextureNode: Mapping "%s" not supported.',e.mapping),et(0,0,0))}setUpdateMatrix(){}setupUV(e,n){const r=this.value;return r.isDepthTexture===!0?e.renderer.coordinateSystem===lu?et(n.x,n.y.negate(),n.z):n:((e.renderer.coordinateSystem===lu||!r.isRenderTargetTexture)&&(n=et(n.x.negate(),n.yz)),qk.mul(n))}generateUV(e,n){return n.build(e,this.sampler===!0?"vec3":"ivec3")}}const Wk=xr(yKe).setParameterLength(1,4).setName("cubeTexture"),Ys=(t=iue,e=null,n=null,r=null)=>{let i;return t&&t.isCubeTextureNode===!0?(i=vn(t.clone()),i.referenceNode=t,e!==null&&(i.uvNode=vn(e)),n!==null&&(i.levelNode=vn(n)),r!==null&&(i.biasNode=vn(r))):i=Wk(t,e,n,r),i},bKe=(t=iue)=>Wk(t);class xKe extends Ig{static get type(){return"ReferenceElementNode"}constructor(e,n){super(e,n),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const n=super.generate(e),r=this.referenceNode.getNodeType(),i=this.getNodeType();return e.format(n,r,i)}}class rN extends On{static get type(){return"ReferenceNode"}constructor(e,n,r=null,i=null){super(),this.property=e,this.uniformType=n,this.object=r,this.count=i,this.properties=e.split("."),this.reference=r,this.node=null,this.group=null,this.name=null,this.updateType=Er.OBJECT}element(e){return new xKe(this,vn(e))}setGroup(e){return this.group=e,this}setName(e){return this.name=e,this}label(e){return Vt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(e)}setNodeType(e){let n=null;this.count!==null?n=ES(null,e,this.count):Array.isArray(this.getValueFromReference())?n=ws(null,e):e==="texture"?n=ci(null):e==="cubeTexture"?n=Ys(null):n=Wn(null,e),this.group!==null&&n.setGroup(this.group),this.name!==null&&n.setName(this.name),this.node=n}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:n}=this;let r=e[n[0]];for(let i=1;i<n.length;i++)r=r[n[i]];return r}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const Pi=(t,e,n)=>new rN(t,e,n),_6=(t,e,n,r)=>new rN(t,e,r,n);class _Ke extends rN{static get type(){return"MaterialReferenceNode"}constructor(e,n,r=null){super(e,n,r),this.material=r,this.isMaterialReferenceNode=!0}updateReference(e){return this.reference=this.material!==null?this.material:e.material,this.reference}}const Vf=(t,e,n=null)=>new _Ke(t,e,n),oue=Di(),SKe=jo.dFdx(),wKe=jo.dFdy(),aue=oue.dFdx(),sue=oue.dFdy(),lue=oi,cue=wKe.cross(lue),uue=lue.cross(SKe),S6=cue.mul(aue.x).add(uue.mul(sue.x)),w6=cue.mul(aue.y).add(uue.mul(sue.y)),bX=S6.dot(S6).max(w6.dot(w6)),due=bX.equal(0).select(0,bX.inverseSqrt()),CKe=S6.mul(due).toVar("tangentViewFrame"),TKe=w6.mul(due).toVar("bitangentViewFrame"),iN=vh("tangent","vec4"),PS=iN.xyz.toVar("tangentLocal"),oN=ot(({subBuildFn:t,geometry:e,material:n})=>{let r;return t==="VERTEX"||e.hasAttribute("tangent")?r=_m.mul(Qn(PS,0)).xyz.toVarying("v_tangentView").normalize():r=CKe,n.flatShading!==!0&&(r=N1(r)),r},"vec3").once(["NORMAL","VERTEX"])().toVar("tangentView"),fue=oN.transformDirection(Au).toVarying("v_tangentWorld").normalize().toVar("tangentWorld"),aN=ot(([t,e],{subBuildFn:n,material:r})=>{let i=t.mul(iN.w).xyz;return n==="NORMAL"&&r.flatShading!==!0&&(i=i.toVarying(e)),i}).once(["NORMAL"]),EKe=aN(nN.cross(iN),"v_bitangentGeometry").normalize().toVar("bitangentGeometry"),MKe=aN($l.cross(PS),"v_bitangentLocal").normalize().toVar("bitangentLocal"),hue=ot(({subBuildFn:t,geometry:e,material:n})=>{let r;return t==="VERTEX"||e.hasAttribute("tangent")?r=aN(oi.cross(oN),"v_bitangentView").normalize():r=TKe,n.flatShading!==!0&&(r=N1(r)),r},"vec3").once(["NORMAL","VERTEX"])().toVar("bitangentView"),PKe=aN(Sm.cross(fue),"v_bitangentWorld").normalize().toVar("bitangentWorld"),D0=cs(oN,hue,oi).toVar("TBNViewMatrix"),pue=Fi.mul(D0),RKe=(t,e)=>t.sub(pue.mul(e)),mue=ot(()=>{let t=j0.cross(Fi);return t=t.cross(j0).normalize(),t=Zr(t,oi,gp.mul(jd.oneMinus()).oneMinus().pow2().pow2()).normalize(),t}).once()(),gue=t=>vn(t).mul(.5).add(.5),NKe=t=>vn(t).mul(2).sub(1),C6=t=>et(t,Ts(JR(Ce(1).sub(du(t,t)))));class IKe extends To{static get type(){return"NormalMapNode"}constructor(e,n=null){super("vec3"),this.node=e,this.scaleNode=n,this.normalMapType=Jd,this.unpackNormalMode=WI}setup({material:e}){const{normalMapType:n,scaleNode:r,unpackNormalMode:i}=this;let o=this.node.mul(2).sub(1);if(n===Jd?i===lae?o=C6(o.xy):i===SBe?o=C6(o.yw):i!==WI&&console.error(`THREE.NodeMaterial: Unexpected unpack normal mode: ${i}`):i!==WI&&console.error(`THREE.NodeMaterial: Normal map type '${n}' is not compatible with unpack normal mode '${i}'`),r!==null){let s=r;e.flatShading===!0&&(s=N1(s)),o=et(o.xy.mul(s),o.z)}let a=null;return n===sae?a=jk(o):n===Jd?a=D0.mul(o).normalize():(Kt(`NodeMaterial: Unsupported normal map type: ${n}`),a=oi),a}}const T6=xr(IKe).setParameterLength(1,2),OKe=ot(({textureNode:t,bumpScale:e})=>{const n=i=>t.isolate().context({getUV:o=>i(o.uvNode||Di()),forceUVContext:!0}),r=Ce(n(i=>i));return rn(Ce(n(i=>i.add(i.dFdx()))).sub(r),Ce(n(i=>i.add(i.dFdy()))).sub(r)).mul(e)}),DKe=ot(t=>{const{surf_pos:e,surf_norm:n,dHdxy:r}=t,i=e.dFdx().normalize(),o=e.dFdy().normalize(),a=n,s=o.cross(a),l=a.cross(i),c=i.dot(s).mul(Hk),u=c.sign().mul(r.x.mul(s).add(r.y.mul(l)));return c.abs().mul(n).sub(u).normalize()});class LKe extends To{static get type(){return"BumpMapNode"}constructor(e,n=null){super("vec3"),this.textureNode=e,this.scaleNode=n}setup(){const e=this.scaleNode!==null?this.scaleNode:1,n=OKe({textureNode:this.textureNode,bumpScale:e});return DKe({surf_pos:jo,surf_norm:oi,dHdxy:n})}}const Xk=xr(LKe).setParameterLength(1,2),xX=new Map;class zt extends On{static get type(){return"MaterialNode"}constructor(e){super(),this.scope=e}getCache(e,n){let r=xX.get(e);return r===void 0&&(r=Vf(e,n),xX.set(e,r)),r}getFloat(e){return this.getCache(e,"float")}getColor(e){return this.getCache(e,"color")}getTexture(e){return this.getCache(e==="map"?"map":e+"Map","texture")}setup(e){const n=e.context.material,r=this.scope;let i=null;if(r===zt.COLOR){const o=n.color!==void 0?this.getColor(r):et();n.map&&n.map.isTexture===!0?i=o.mul(this.getTexture("map")):i=o}else if(r===zt.OPACITY){const o=this.getFloat(r);n.alphaMap&&n.alphaMap.isTexture===!0?i=o.mul(this.getTexture("alpha")):i=o}else if(r===zt.SPECULAR_STRENGTH)n.specularMap&&n.specularMap.isTexture===!0?i=this.getTexture("specular").r:i=Ce(1);else if(r===zt.SPECULAR_INTENSITY){const o=this.getFloat(r);n.specularIntensityMap&&n.specularIntensityMap.isTexture===!0?i=o.mul(this.getTexture(r).a):i=o}else if(r===zt.SPECULAR_COLOR){const o=this.getColor(r);n.specularColorMap&&n.specularColorMap.isTexture===!0?i=o.mul(this.getTexture(r).rgb):i=o}else if(r===zt.ROUGHNESS){const o=this.getFloat(r);n.roughnessMap&&n.roughnessMap.isTexture===!0?i=o.mul(this.getTexture(r).g):i=o}else if(r===zt.METALNESS){const o=this.getFloat(r);n.metalnessMap&&n.metalnessMap.isTexture===!0?i=o.mul(this.getTexture(r).b):i=o}else if(r===zt.EMISSIVE){const o=this.getFloat("emissiveIntensity"),a=this.getColor(r).mul(o);n.emissiveMap&&n.emissiveMap.isTexture===!0?i=a.mul(this.getTexture(r)):i=a}else if(r===zt.NORMAL)n.normalMap?(i=T6(this.getTexture("normal"),this.getCache("normalScale","vec2")),i.normalMapType=n.normalMapType,(n.normalMap.format==Qs||n.normalMap.format==ug||n.normalMap.format==cg)&&(i.unpackNormalMode=lae)):n.bumpMap?i=Xk(this.getTexture("bump").r,this.getFloat("bumpScale")):i=oi;else if(r===zt.CLEARCOAT){const o=this.getFloat(r);n.clearcoatMap&&n.clearcoatMap.isTexture===!0?i=o.mul(this.getTexture(r).r):i=o}else if(r===zt.CLEARCOAT_ROUGHNESS){const o=this.getFloat(r);n.clearcoatRoughnessMap&&n.clearcoatRoughnessMap.isTexture===!0?i=o.mul(this.getTexture(r).r):i=o}else if(r===zt.CLEARCOAT_NORMAL)n.clearcoatNormalMap?i=T6(this.getTexture(r),this.getCache(r+"Scale","vec2")):i=oi;else if(r===zt.SHEEN){const o=this.getColor("sheenColor").mul(this.getFloat("sheen"));n.sheenColorMap&&n.sheenColorMap.isTexture===!0?i=o.mul(this.getTexture("sheenColor").rgb):i=o}else if(r===zt.SHEEN_ROUGHNESS){const o=this.getFloat(r);n.sheenRoughnessMap&&n.sheenRoughnessMap.isTexture===!0?i=o.mul(this.getTexture(r).a):i=o,i=i.clamp(1e-4,1)}else if(r===zt.ANISOTROPY)if(n.anisotropyMap&&n.anisotropyMap.isTexture===!0){const o=this.getTexture(r);i=qR(HA.x,HA.y,HA.y.negate(),HA.x).mul(o.rg.mul(2).sub(rn(1)).normalize().mul(o.b))}else i=HA;else if(r===zt.IRIDESCENCE_THICKNESS){const o=Pi("1","float",n.iridescenceThicknessRange);if(n.iridescenceThicknessMap){const a=Pi("0","float",n.iridescenceThicknessRange);i=o.sub(a).mul(this.getTexture(r).g).add(a)}else i=o}else if(r===zt.TRANSMISSION){const o=this.getFloat(r);n.transmissionMap?i=o.mul(this.getTexture(r).r):i=o}else if(r===zt.THICKNESS){const o=this.getFloat(r);n.thicknessMap?i=o.mul(this.getTexture(r).g):i=o}else if(r===zt.IOR)i=this.getFloat(r);else if(r===zt.LIGHT_MAP)i=this.getTexture(r).rgb.mul(this.getFloat("lightMapIntensity"));else if(r===zt.AO)i=this.getTexture(r).r.sub(1).mul(this.getFloat("aoMapIntensity")).add(1);else if(r===zt.LINE_DASH_OFFSET)i=n.dashOffset?this.getFloat(r):Ce(0);else{const o=this.getNodeType(e);i=this.getCache(r,o)}return i}}zt.ALPHA_TEST="alphaTest";zt.COLOR="color";zt.OPACITY="opacity";zt.SHININESS="shininess";zt.SPECULAR="specular";zt.SPECULAR_STRENGTH="specularStrength";zt.SPECULAR_INTENSITY="specularIntensity";zt.SPECULAR_COLOR="specularColor";zt.REFLECTIVITY="reflectivity";zt.ROUGHNESS="roughness";zt.METALNESS="metalness";zt.NORMAL="normal";zt.CLEARCOAT="clearcoat";zt.CLEARCOAT_ROUGHNESS="clearcoatRoughness";zt.CLEARCOAT_NORMAL="clearcoatNormal";zt.EMISSIVE="emissive";zt.ROTATION="rotation";zt.SHEEN="sheen";zt.SHEEN_ROUGHNESS="sheenRoughness";zt.ANISOTROPY="anisotropy";zt.IRIDESCENCE="iridescence";zt.IRIDESCENCE_IOR="iridescenceIOR";zt.IRIDESCENCE_THICKNESS="iridescenceThickness";zt.IOR="ior";zt.TRANSMISSION="transmission";zt.THICKNESS="thickness";zt.ATTENUATION_DISTANCE="attenuationDistance";zt.ATTENUATION_COLOR="attenuationColor";zt.LINE_SCALE="scale";zt.LINE_DASH_SIZE="dashSize";zt.LINE_GAP_SIZE="gapSize";zt.LINE_WIDTH="linewidth";zt.LINE_DASH_OFFSET="dashOffset";zt.POINT_SIZE="size";zt.DISPERSION="dispersion";zt.LIGHT_MAP="light";zt.AO="ao";const Aue=mn(zt,zt.ALPHA_TEST),vue=mn(zt,zt.COLOR),yue=mn(zt,zt.SHININESS),bue=mn(zt,zt.EMISSIVE),Yk=mn(zt,zt.OPACITY),xue=mn(zt,zt.SPECULAR),E6=mn(zt,zt.SPECULAR_INTENSITY),_ue=mn(zt,zt.SPECULAR_COLOR),n_=mn(zt,zt.SPECULAR_STRENGTH),BE=mn(zt,zt.REFLECTIVITY),Sue=mn(zt,zt.ROUGHNESS),wue=mn(zt,zt.METALNESS),Cue=mn(zt,zt.NORMAL),Tue=mn(zt,zt.CLEARCOAT),Eue=mn(zt,zt.CLEARCOAT_ROUGHNESS),Mue=mn(zt,zt.CLEARCOAT_NORMAL),Pue=mn(zt,zt.ROTATION),Rue=mn(zt,zt.SHEEN),Nue=mn(zt,zt.SHEEN_ROUGHNESS),Iue=mn(zt,zt.ANISOTROPY),Oue=mn(zt,zt.IRIDESCENCE),Due=mn(zt,zt.IRIDESCENCE_IOR),Lue=mn(zt,zt.IRIDESCENCE_THICKNESS),Bue=mn(zt,zt.TRANSMISSION),Fue=mn(zt,zt.THICKNESS),$ue=mn(zt,zt.IOR),kue=mn(zt,zt.ATTENUATION_DISTANCE),Uue=mn(zt,zt.ATTENUATION_COLOR),zue=mn(zt,zt.LINE_SCALE),Vue=mn(zt,zt.LINE_DASH_SIZE),Gue=mn(zt,zt.LINE_GAP_SIZE),BKe=mn(zt,zt.LINE_WIDTH),Hue=mn(zt,zt.LINE_DASH_OFFSET),jue=mn(zt,zt.POINT_SIZE),que=mn(zt,zt.DISPERSION),Kk=mn(zt,zt.LIGHT_MAP),Wue=mn(zt,zt.AO),HA=Wn(new Wt).onReference(function(t){return t.material}).onRenderUpdate(function({material:t}){this.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation))}),Xue=ot(t=>t.context.setupModelViewProjection(),"vec4").once()().toVarying("v_modelViewProjection");class FKe extends Ig{static get type(){return"StorageArrayElementNode"}constructor(e,n){super(e,n),this.isStorageArrayElementNode=!0}set storageBufferNode(e){this.node=e}get storageBufferNode(){return this.node}getMemberType(e,n){const r=this.storageBufferNode.structTypeNode;return r?r.getMemberType(e,n):"void"}setup(e){return e.isAvailable("storageBuffer")===!1&&this.node.isPBO===!0&&e.setupPBO(this.node),super.setup(e)}generate(e,n){let r;const i=e.context.assign;if(e.isAvailable("storageBuffer")===!1?this.node.isPBO===!0&&i!==!0&&(this.node.value.isInstancedBufferAttribute||e.shaderStage!=="compute")?r=e.generatePBO(this):r=this.node.build(e):r=super.generate(e),i!==!0){const o=this.getNodeType(e);r=e.format(r,o,n)}return r}}const $Ke=xr(FKe).setParameterLength(2);class kKe extends Uk{static get type(){return"StorageBufferNode"}constructor(e,n=null,r=0){let i,o=null;n&&n.isStruct?(i="struct",o=n.layout,(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)&&(r=e.count)):n===null&&(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)?(i=ile(e.itemSize),r=e.count):i=n,super(e,i,r),this.isStorageBufferNode=!0,this.structTypeNode=o,this.access=es.READ_WRITE,this.isAtomic=!1,this.isPBO=!1,this._attribute=null,this._varying=null,this.global=!0,e.isStorageBufferAttribute!==!0&&e.isStorageInstancedBufferAttribute!==!0&&(e.isInstancedBufferAttribute?e.isStorageInstancedBufferAttribute=!0:e.isStorageBufferAttribute=!0)}getHash(e){if(this.bufferCount===0){let n=e.globalCache.getData(this.value);return n===void 0&&(n={node:this},e.globalCache.setData(this.value,n)),n.node.uuid}return this.uuid}getInputType(){return this.value.isIndirectStorageBufferAttribute?"indirectStorageBuffer":"storageBuffer"}element(e){return $Ke(this,e)}setPBO(e){return this.isPBO=e,this}getPBO(){return this.isPBO}setAccess(e){return this.access=e,this}toReadOnly(){return this.setAccess(es.READ_ONLY)}setAtomic(e){return this.isAtomic=e,this}toAtomic(){return this.setAtomic(!0)}getAttributeData(){return this._attribute===null&&(this._attribute=Bk(this.value),this._varying=_f(this._attribute)),{attribute:this._attribute,varying:this._varying}}getNodeType(e){if(this.structTypeNode!==null)return this.structTypeNode.getNodeType(e);if(e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.getNodeType(e);const{attribute:n}=this.getAttributeData();return n.getNodeType(e)}getMemberType(e,n){return this.structTypeNode!==null?this.structTypeNode.getMemberType(e,n):"void"}generate(e){if(this.structTypeNode!==null&&this.structTypeNode.build(e),e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.generate(e);const{attribute:n,varying:r}=this.getAttributeData(),i=r.build(e);return e.registerTransform(i,n),i}}const oh=(t,e=null,n=0)=>new kKe(t,e,n),UKe=(t,e,n)=>(Vt('TSL: "storageObject()" is deprecated. Use "storage().setPBO( true )" instead.'),oh(t,e,n).setPBO(!0));class ao extends On{static get type(){return"IndexNode"}constructor(e){super("uint"),this.scope=e,this.isIndexNode=!0}generate(e){const n=this.getNodeType(e),r=this.scope;let i;if(r===ao.VERTEX)i=e.getVertexIndex();else if(r===ao.INSTANCE)i=e.getInstanceIndex();else if(r===ao.DRAW)i=e.getDrawIndex();else if(r===ao.INVOCATION_LOCAL)i=e.getInvocationLocalIndex();else if(r===ao.INVOCATION_SUBGROUP)i=e.getInvocationSubgroupIndex();else if(r===ao.SUBGROUP)i=e.getSubgroupIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+r);let o;return e.shaderStage==="vertex"||e.shaderStage==="compute"?o=i:o=_f(this).build(e,n),o}}ao.VERTEX="vertex";ao.INSTANCE="instance";ao.SUBGROUP="subgroup";ao.INVOCATION_LOCAL="invocationLocal";ao.INVOCATION_SUBGROUP="invocationSubgroup";ao.DRAW="draw";const Yue=mn(ao,ao.VERTEX),lf=mn(ao,ao.INSTANCE),zKe=mn(ao,ao.SUBGROUP),VKe=mn(ao,ao.INVOCATION_SUBGROUP),GKe=mn(ao,ao.INVOCATION_LOCAL),Kue=mn(ao,ao.DRAW);class Que extends On{static get type(){return"InstanceNode"}constructor(e,n,r=null){super("void"),this.count=e,this.instanceMatrix=n,this.instanceColor=r,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=Er.FRAME,this.buffer=null,this.bufferColor=null}get isStorageMatrix(){const{instanceMatrix:e}=this;return e&&e.isStorageInstancedBufferAttribute===!0}get isStorageColor(){const{instanceColor:e}=this;return e&&e.isStorageInstancedBufferAttribute===!0}setup(e){const{instanceMatrix:n,instanceColor:r,isStorageMatrix:i,isStorageColor:o}=this,{count:a}=n;let{instanceMatrixNode:s,instanceColorNode:l}=this;if(s===null){if(i)s=oh(n,"mat4",Math.max(a,1)).element(lf);else if(a<=1e3)s=ES(n.array,"mat4",Math.max(a,1)).element(lf);else{const u=new jM(n.array,16,1);this.buffer=u;const d=n.usage===M0?y6:L3,f=[d(u,"vec4",16,0),d(u,"vec4",16,4),d(u,"vec4",16,8),d(u,"vec4",16,12)];s=Xp(...f)}this.instanceMatrixNode=s}if(r&&l===null){if(o)l=oh(r,"vec3",Math.max(r.count,1)).element(lf);else{const u=new Wp(r.array,3),d=r.usage===M0?y6:L3;this.bufferColor=u,l=et(d(u,"vec3",3,0))}this.instanceColorNode=l}const c=s.mul(xo).xyz;if(xo.assign(c),e.hasGeometryAttribute("normal")){const u=Zce($l,s);$l.assign(u)}this.instanceColorNode!==null&&w2("vec3","vInstanceColor").assign(this.instanceColorNode)}update(){this.buffer!==null&&this.isStorageMatrix!==!0&&(this.buffer.clearUpdateRanges(),this.buffer.updateRanges.push(...this.instanceMatrix.updateRanges),this.instanceMatrix.usage!==M0&&this.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMatrix.version)),this.instanceColor&&this.bufferColor!==null&&this.isStorageColor!==!0&&(this.bufferColor.clearUpdateRanges(),this.bufferColor.updateRanges.push(...this.instanceColor.updateRanges),this.instanceColor.usage!==M0&&this.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceColor.version))}}const HKe=xr(Que).setParameterLength(2,3);class jKe extends Que{static get type(){return"InstancedMeshNode"}constructor(e){const{count:n,instanceMatrix:r,instanceColor:i}=e;super(n,r,i),this.instancedMesh=e}}const Zue=xr(jKe).setParameterLength(1);class qKe extends On{static get type(){return"BatchNode"}constructor(e){super("void"),this.batchMesh=e,this.batchingIdNode=null}setup(e){this.batchingIdNode===null&&(e.getDrawIndex()===null?this.batchingIdNode=lf:this.batchingIdNode=Kue);const r=ot(([p])=>{const _=We(nh(Po(this.batchMesh._indirectTexture),0).x).toConst(),x=We(p).mod(_).toConst(),y=We(p).div(_).toConst();return Po(this.batchMesh._indirectTexture,ia(x,y)).x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]})(We(this.batchingIdNode)),i=this.batchMesh._matricesTexture,o=We(nh(Po(i),0).x).toConst(),a=Ce(r).mul(4).toInt().toConst(),s=a.mod(o).toConst(),l=a.div(o).toConst(),c=Xp(Po(i,ia(s,l)),Po(i,ia(s.add(1),l)),Po(i,ia(s.add(2),l)),Po(i,ia(s.add(3),l))),u=this.batchMesh._colorsTexture;if(u!==null){const _=ot(([x])=>{const y=We(nh(Po(u),0).x).toConst(),w=x,C=w.mod(y).toConst(),M=w.div(y).toConst();return Po(u,ia(C,M)).rgb}).setLayout({name:"getBatchingColor",type:"vec3",inputs:[{name:"id",type:"int"}]})(r);w2("vec3","vBatchColor").assign(_)}const d=cs(c);xo.assign(c.mul(xo));const f=$l.div(et(d[0].dot(d[0]),d[1].dot(d[1]),d[2].dot(d[2]))),h=d.mul(f).xyz;$l.assign(h),e.hasGeometryAttribute("tangent")&&PS.mulAssign(d)}}const Jue=xr(qKe).setParameterLength(1),_X=new WeakMap;class ede extends On{static get type(){return"SkinningNode"}constructor(e){super("void"),this.skinnedMesh=e,this.updateType=Er.OBJECT,this.skinIndexNode=vh("skinIndex","uvec4"),this.skinWeightNode=vh("skinWeight","vec4"),this.bindMatrixNode=Pi("bindMatrix","mat4"),this.bindMatrixInverseNode=Pi("bindMatrixInverse","mat4"),this.boneMatricesNode=_6("skeleton.boneMatrices","mat4",e.skeleton.bones.length),this.positionNode=xo,this.toPositionNode=xo,this.previousBoneMatricesNode=null}getSkinnedPosition(e=this.boneMatricesNode,n=this.positionNode){const{skinIndexNode:r,skinWeightNode:i,bindMatrixNode:o,bindMatrixInverseNode:a}=this,s=e.element(r.x),l=e.element(r.y),c=e.element(r.z),u=e.element(r.w),d=o.mul(n),f=Zo(s.mul(i.x).mul(d),l.mul(i.y).mul(d),c.mul(i.z).mul(d),u.mul(i.w).mul(d));return a.mul(f).xyz}getSkinnedNormal(e=this.boneMatricesNode,n=$l){const{skinIndexNode:r,skinWeightNode:i,bindMatrixNode:o,bindMatrixInverseNode:a}=this,s=e.element(r.x),l=e.element(r.y),c=e.element(r.z),u=e.element(r.w);let d=Zo(i.x.mul(s),i.y.mul(l),i.z.mul(c),i.w.mul(u));return d=a.mul(d).mul(o),d.transformDirection(n).xyz}getPreviousSkinnedPosition(e){const n=e.object;return this.previousBoneMatricesNode===null&&(n.skeleton.previousBoneMatrices=new Float32Array(n.skeleton.boneMatrices),this.previousBoneMatricesNode=_6("skeleton.previousBoneMatrices","mat4",n.skeleton.bones.length)),this.getSkinnedPosition(this.previousBoneMatricesNode,B3)}needsPreviousBoneMatrices(e){const n=e.renderer.getMRT();return n&&n.has("velocity")||ale(e.object).useVelocity===!0}setup(e){this.needsPreviousBoneMatrices(e)&&B3.assign(this.getPreviousSkinnedPosition(e));const n=this.getSkinnedPosition();if(this.toPositionNode&&this.toPositionNode.assign(n),e.hasGeometryAttribute("normal")){const r=this.getSkinnedNormal();$l.assign(r),e.hasGeometryAttribute("tangent")&&PS.assign(r)}return n}generate(e,n){if(n!=="void")return super.generate(e,n)}update(e){const n=e.object&&e.object.skeleton?e.object.skeleton:this.skinnedMesh.skeleton;_X.get(n)!==e.frameId&&(_X.set(n,e.frameId),this.previousBoneMatricesNode!==null&&(n.previousBoneMatrices===null&&(n.previousBoneMatrices=new Float32Array(n.boneMatrices)),n.previousBoneMatrices.set(n.boneMatrices)),n.update())}}const tde=t=>new ede(t),WKe=(t,e=null)=>{const n=new ede(t);return n.positionNode=oh(new Wp(t.geometry.getAttribute("position").array,3),"vec3").setPBO(!0).toReadOnly().element(lf).toVar(),n.skinIndexNode=oh(new Wp(new Uint32Array(t.geometry.getAttribute("skinIndex").array),4),"uvec4").setPBO(!0).toReadOnly().element(lf).toVar(),n.skinWeightNode=oh(new Wp(t.geometry.getAttribute("skinWeight").array,4),"vec4").setPBO(!0).toReadOnly().element(lf).toVar(),n.bindMatrixNode=Wn(t.bindMatrix,"mat4"),n.bindMatrixInverseNode=Wn(t.bindMatrixInverse,"mat4"),n.boneMatricesNode=ES(t.skeleton.boneMatrices,"mat4",t.skeleton.bones.length),n.toPositionNode=e,vn(n)};class XKe extends On{static get type(){return"LoopNode"}constructor(e=[]){super("void"),this.params=e}getVarName(e){return String.fromCharCode("i".charCodeAt(0)+e)}getProperties(e){const n=e.getNodeProperties(this);if(n.stackNode!==void 0)return n;const r={};for(let s=0,l=this.params.length-1;s<l;s++){const c=this.params[s],u=c.isNode!==!0&&c.name||this.getVarName(s),d=c.isNode!==!0&&c.type||"int";r[u]=Ah(u,d)}const i=e.addStack(),o=this.params[this.params.length-1](r);n.returnsNode=o.context({nodeLoop:o}),n.stackNode=i;const a=this.params[0];if(a.isNode!==!0&&typeof a.update=="function"){const s=ot(this.params[0].update)(r);n.updateNode=s.context({nodeLoop:s})}return e.removeStack(),n}setup(e){if(this.getProperties(e),e.fnCall){const n=e.getDataFromNode(e.fnCall.shaderNode);n.hasLoop=!0}}generate(e){const n=this.getProperties(e),r=this.params,i=n.stackNode;for(let a=0,s=r.length-1;a<s;a++){const l=r[a];let c=!1,u=null,d=null,f=null,h=null,p=null,_=null;l.isNode?l.getNodeType(e)==="bool"?(c=!0,h="bool",d=l.build(e,h)):(h="int",f=this.getVarName(a),u="0",d=l.build(e,h),p="<"):(h=l.type||"int",f=l.name||this.getVarName(a),u=l.start,d=l.end,p=l.condition,_=l.update,typeof u=="number"?u=e.generateConst(h,u):u&&u.isNode&&(u=u.build(e,h)),typeof d=="number"?d=e.generateConst(h,d):d&&d.isNode&&(d=d.build(e,h)),u!==void 0&&d===void 0?(u=u+" - 1",d="0",p=">="):d!==void 0&&u===void 0&&(u="0",p="<"),p===void 0&&(Number(u)>Number(d)?p=">=":p="<"));let x;if(c)x=`while ( ${d} )`;else{const y={start:u,end:d},w=y.start,C=y.end;let M;const R=()=>p.includes("<")?"+=":"-=";if(_!=null)switch(typeof _){case"function":M=e.flowStagesNode(n.updateNode,"void").code.replace(/\t|;/g,"");break;case"number":M=f+" "+R()+" "+e.generateConst(h,_);break;case"string":M=f+" "+_;break;default:_.isNode?M=f+" "+R()+" "+_.build(e):(Kt("TSL: 'Loop( { update: ... } )' is not a function, string or number."),M="break /* invalid update */")}else h==="int"||h==="uint"?_=p.includes("<")?"++":"--":_=R()+" 1.",M=f+" "+_;const N=e.getVar(h,f)+" = "+w,I=f+" "+p+" "+C;x=`for ( ${N}; ${I}; ${M} )`}e.addFlowCode((a===0?`
`:"")+e.tab+x+` {

`).addFlowTab()}const o=i.build(e,"void");n.returnsNode.build(e,"void"),e.removeFlowTab().addFlowCode(`
`+e.tab+o);for(let a=0,s=this.params.length-1;a<s;a++)e.addFlowCode((a===0?"":e.tab)+`}

`).removeFlowTab();e.addFlowTab()}}const Ci=(...t)=>new XKe(H0(t,"int")).toStack(),YKe=()=>Ah("continue").toStack(),nde=()=>Ah("break").toStack(),HO=new WeakMap,Kl=new yr,SX=ot(({bufferMap:t,influence:e,stride:n,width:r,depth:i,offset:o})=>{const a=We(Yue).mul(n).add(o),s=a.div(r),l=a.sub(s.mul(r));return Po(t,ia(l,s)).depth(i).xyz.mul(e)});function KKe(t){const e=t.morphAttributes.position!==void 0,n=t.morphAttributes.normal!==void 0,r=t.morphAttributes.color!==void 0,i=t.morphAttributes.position||t.morphAttributes.normal||t.morphAttributes.color,o=i!==void 0?i.length:0;let a=HO.get(t);if(a===void 0||a.count!==o){let w=function(){x.dispose(),HO.delete(t),t.removeEventListener("dispose",w)};var s=w;a!==void 0&&a.texture.dispose();const l=t.morphAttributes.position||[],c=t.morphAttributes.normal||[],u=t.morphAttributes.color||[];let d=0;e===!0&&(d=1),n===!0&&(d=2),r===!0&&(d=3);let f=t.attributes.position.count*d,h=1;const p=4096;f>p&&(h=Math.ceil(f/p),f=p);const _=new Float32Array(f*h*4*o),x=new p7(_,f,h,o);x.type=Ho,x.needsUpdate=!0;const y=d*4;for(let C=0;C<o;C++){const M=l[C],R=c[C],N=u[C],I=f*h*4*C;for(let B=0;B<M.count;B++){const D=B*y;e===!0&&(Kl.fromBufferAttribute(M,B),_[I+D+0]=Kl.x,_[I+D+1]=Kl.y,_[I+D+2]=Kl.z,_[I+D+3]=0),n===!0&&(Kl.fromBufferAttribute(R,B),_[I+D+4]=Kl.x,_[I+D+5]=Kl.y,_[I+D+6]=Kl.z,_[I+D+7]=0),r===!0&&(Kl.fromBufferAttribute(N,B),_[I+D+8]=Kl.x,_[I+D+9]=Kl.y,_[I+D+10]=Kl.z,_[I+D+11]=N.itemSize===4?Kl.w:1)}}a={count:o,texture:x,stride:d,size:new Wt(f,h)},HO.set(t,a),t.addEventListener("dispose",w)}return a}class QKe extends On{static get type(){return"MorphNode"}constructor(e){super("void"),this.mesh=e,this.morphBaseInfluence=Wn(1),this.updateType=Er.OBJECT}setup(e){const{geometry:n}=e,r=n.morphAttributes.position!==void 0,i=n.hasAttribute("normal")&&n.morphAttributes.normal!==void 0,o=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,a=o!==void 0?o.length:0,{texture:s,stride:l,size:c}=KKe(n);r===!0&&xo.mulAssign(this.morphBaseInfluence),i===!0&&$l.mulAssign(this.morphBaseInfluence);const u=We(c.width);Ci(a,({i:d})=>{const f=Ce(0).toVar();this.mesh.count>1&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?f.assign(Po(this.mesh.morphTexture,ia(We(d).add(1),We(lf))).r):f.assign(Pi("morphTargetInfluences","float").element(d).toVar()),Kn(f.notEqual(0),()=>{r===!0&&xo.addAssign(SX({bufferMap:s,influence:f,stride:l,width:u,depth:d,offset:We(0)})),i===!0&&$l.addAssign(SX({bufferMap:s,influence:f,stride:l,width:u,depth:d,offset:We(1)}))})})}update(){const e=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?e.value=1:e.value=1-this.mesh.morphTargetInfluences.reduce((n,r)=>n+r,0)}}const rde=xr(QKe).setParameterLength(1);class I1 extends On{static get type(){return"LightingNode"}constructor(){super("vec3"),this.isLightingNode=!0}}class ZKe extends I1{static get type(){return"AONode"}constructor(e=null){super(),this.aoNode=e}setup(e){e.context.ambientOcclusion.mulAssign(this.aoNode)}}class JKe extends mce{static get type(){return"LightingContextNode"}constructor(e,n=null,r=null,i=null){super(e),this.lightingModel=n,this.backdropNode=r,this.backdropAlphaNode=i,this._value=null}getContext(){const{backdropNode:e,backdropAlphaNode:n}=this,r=et().toVar("directDiffuse"),i=et().toVar("directSpecular"),o=et().toVar("indirectDiffuse"),a=et().toVar("indirectSpecular"),s={directDiffuse:r,directSpecular:i,indirectDiffuse:o,indirectSpecular:a};return{radiance:et().toVar("radiance"),irradiance:et().toVar("irradiance"),iblIrradiance:et().toVar("iblIrradiance"),ambientOcclusion:Ce(1).toVar("ambientOcclusion"),reflectedLight:s,backdrop:e,backdropAlpha:n}}setup(e){return this.value=this._value||(this._value=this.getContext()),this.value.lightingModel=this.lightingModel||e.context.lightingModel,super.setup(e)}}const ide=xr(JKe);class eQe extends I1{static get type(){return"IrradianceNode"}constructor(e){super(),this.node=e}setup(e){e.context.irradiance.addAssign(this.node)}}const RA=new Wt;class sN extends gf{static get type(){return"ViewportTextureNode"}constructor(e=rh,n=null,r=null){let i=null;r===null?(i=new S7,i.minFilter=Cl,r=i):i=r,super(r,e,n),this.generateMipmaps=!1,this.defaultFramebuffer=i,this.isOutputTextureNode=!0,this.updateBeforeType=Er.FRAME,this._cacheTextures=new WeakMap}getTextureForReference(e=null){let n,r;if(this.referenceNode?(n=this.referenceNode.defaultFramebuffer,r=this.referenceNode._cacheTextures):(n=this.defaultFramebuffer,r=this._cacheTextures),e===null)return n;if(r.has(e)===!1){const i=n.clone();r.set(e,i)}return r.get(e)}updateReference(e){const n=e.renderer.getRenderTarget();return this.value=this.getTextureForReference(n),this.value}updateBefore(e){const n=e.renderer,r=n.getRenderTarget();r===null?n.getDrawingBufferSize(RA):RA.set(r.width,r.height);const i=this.getTextureForReference(r);(i.image.width!==RA.width||i.image.height!==RA.height)&&(i.image.width=RA.width,i.image.height=RA.height,i.needsUpdate=!0);const o=i.generateMipmaps;i.generateMipmaps=this.generateMipmaps,n.copyFramebufferToTexture(i),i.generateMipmaps=o}clone(){const e=new this.constructor(this.uvNode,this.levelNode,this.value);return e.generateMipmaps=this.generateMipmaps,e}}const tQe=xr(sN).setParameterLength(0,3),Qk=xr(sN,null,null,{generateMipmaps:!0}).setParameterLength(0,3);let aT=null;class nQe extends sN{static get type(){return"ViewportDepthTextureNode"}constructor(e=rh,n=null){aT===null&&(aT=new Ms),super(e,n,aT)}getTextureForReference(){return aT}}const Zk=xr(nQe).setParameterLength(0,2);class Pl extends On{static get type(){return"ViewportDepthNode"}constructor(e,n=null){super("float"),this.scope=e,this.valueNode=n,this.isViewportDepthNode=!0}generate(e){const{scope:n}=this;return n===Pl.DEPTH_BASE?e.getFragDepth():super.generate(e)}setup({camera:e}){const{scope:n}=this,r=this.valueNode;let i=null;if(n===Pl.DEPTH_BASE)r!==null&&(i=ade().assign(r));else if(n===Pl.DEPTH)e.isPerspectiveCamera?i=ode(jo.z,xp,_p):i=Uv(jo.z,xp,_p);else if(n===Pl.LINEAR_DEPTH)if(r!==null)if(e.isPerspectiveCamera){const o=Jk(r,xp,_p);i=Uv(o,xp,_p)}else i=r;else i=Uv(jo.z,xp,_p);return i}}Pl.DEPTH_BASE="depthBase";Pl.DEPTH="depth";Pl.LINEAR_DEPTH="linearDepth";const Uv=(t,e,n)=>t.add(e).div(e.sub(n)),rQe=(t,e,n)=>e.sub(n).mul(t).sub(e),ode=(t,e,n)=>e.add(t).mul(n).div(n.sub(e).mul(t)),Jk=(t,e,n)=>e.mul(n).div(n.sub(e).mul(t).sub(n)),e9=(t,e,n)=>{e=e.max(1e-6).toVar();const r=rf(t.negate().div(e)),i=rf(n.div(e));return r.div(i)},iQe=(t,e,n)=>{const r=t.mul(YR(n.div(e)));return Ce(Math.E).pow(r).mul(e).negate()},ade=xr(Pl,Pl.DEPTH_BASE),t9=mn(Pl,Pl.DEPTH),F3=xr(Pl,Pl.LINEAR_DEPTH).setParameterLength(0,1),oQe=F3(Zk());t9.assign=t=>ade(t);class tu extends On{static get type(){return"ClippingNode"}constructor(e=tu.DEFAULT){super(),this.scope=e}setup(e){super.setup(e);const n=e.clippingContext,{intersectionPlanes:r,unionPlanes:i}=n;return this.hardwareClipping=e.material.hardwareClipping,this.scope===tu.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(r,i):this.scope===tu.HARDWARE?this.setupHardwareClipping(i,e):this.setupDefault(r,i)}setupAlphaToCoverage(e,n){return ot(()=>{const r=Ce().toVar("distanceToPlane"),i=Ce().toVar("distanceToGradient"),o=Ce(1).toVar("clipOpacity"),a=n.length;if(this.hardwareClipping===!1&&a>0){const l=ws(n).setGroup(qn);Ci(a,({i:c})=>{const u=l.element(c);r.assign(jo.dot(u.xyz).negate().add(u.w)),i.assign(r.fwidth().div(2)),o.mulAssign(cd(i.negate(),i,r))})}const s=e.length;if(s>0){const l=ws(e).setGroup(qn),c=Ce(1).toVar("intersectionClipOpacity");Ci(s,({i:u})=>{const d=l.element(u);r.assign(jo.dot(d.xyz).negate().add(d.w)),i.assign(r.fwidth().div(2)),c.mulAssign(cd(i.negate(),i,r).oneMinus())}),o.mulAssign(c.oneMinus())}Si.a.mulAssign(o),Si.a.equal(0).discard()})()}setupDefault(e,n){return ot(()=>{const r=n.length;if(this.hardwareClipping===!1&&r>0){const o=ws(n).setGroup(qn);Ci(r,({i:a})=>{const s=o.element(a);jo.dot(s.xyz).greaterThan(s.w).discard()})}const i=e.length;if(i>0){const o=ws(e).setGroup(qn),a=uu(!0).toVar("clipped");Ci(i,({i:s})=>{const l=o.element(s);a.assign(jo.dot(l.xyz).greaterThan(l.w).and(a))}),a.discard()}})()}setupHardwareClipping(e,n){const r=e.length;return n.enableHardwareClipping(r),ot(()=>{const i=ws(e).setGroup(qn),o=Rh(n.getClipDistance());Ci(r,({i:a})=>{const s=i.element(a),l=jo.dot(s.xyz).sub(s.w).negate();o.element(a).assign(l)})})()}}tu.ALPHA_TO_COVERAGE="alphaToCoverage";tu.DEFAULT="default";tu.HARDWARE="hardware";const aQe=()=>new tu,sQe=()=>new tu(tu.ALPHA_TO_COVERAGE),lQe=()=>new tu(tu.HARDWARE),cQe=.05,wX=ot(([t])=>sd(br(1e4,Ws(br(17,t.x).add(br(.1,t.y)))).mul(Zo(.1,Wi(Ws(br(13,t.y).add(t.x))))))),CX=ot(([t])=>wX(rn(wX(t.xy),t.z))),uQe=ot(([t])=>{const e=Co(af(Sk(t.xyz)),af(wk(t.xyz))),n=Ce(1).div(Ce(cQe).mul(e)).toVar("pixScale"),r=rn(jy(of(rf(n))),jy(KR(rf(n)))),i=rn(CX(of(r.x.mul(t.xyz))),CX(of(r.y.mul(t.xyz)))),o=sd(rf(n)),a=Zo(br(o.oneMinus(),i.x),br(o,i.y)),s=Fl(o,o.oneMinus()),l=et(a.mul(a).div(br(2,s).mul(ei(1,s))),a.sub(br(.5,s)).div(ei(1,s)),ei(1,ei(1,a).mul(ei(1,a)).div(br(2,s).mul(ei(1,s))))),c=a.lessThan(s.oneMinus()).select(a.lessThan(s).select(l.x,l.y),l.z);return ld(c,1e-6,1)}).setLayout({name:"getAlphaHashThreshold",type:"float",inputs:[{name:"position",type:"vec3"}]});class dQe extends Vce{static get type(){return"VertexColorNode"}constructor(e){super(null,"vec4"),this.isVertexColorNode=!0,this.index=e}getAttributeName(){const e=this.index;return"color"+(e>0?e:"")}generate(e){const n=this.getAttributeName(e),r=e.hasGeometryAttribute(n);let i;return r===!0?i=super.generate(e):i=e.generateConst(this.nodeType,new yr(1,1,1,1)),i}serialize(e){super.serialize(e),e.index=this.index}deserialize(e){super.deserialize(e),this.index=e.index}}const sde=(t=0)=>new dQe(t),lde=ot(([t,e])=>Fl(1,t.oneMinus().div(e)).oneMinus()).setLayout({name:"blendBurn",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),cde=ot(([t,e])=>Fl(t.div(e.oneMinus()),1)).setLayout({name:"blendDodge",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),ude=ot(([t,e])=>t.oneMinus().mul(e.oneMinus()).oneMinus()).setLayout({name:"blendScreen",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),dde=ot(([t,e])=>Zr(t.mul(2).mul(e),t.oneMinus().mul(2).mul(e.oneMinus()).oneMinus(),ZR(.5,t))).setLayout({name:"blendOverlay",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),fQe=ot(([t,e])=>{const n=e.a.add(t.a.mul(e.a.oneMinus()));return Qn(e.rgb.mul(e.a).add(t.rgb.mul(t.a).mul(e.a.oneMinus())).div(n),n)}).setLayout({name:"blendColor",type:"vec4",inputs:[{name:"base",type:"vec4"},{name:"blend",type:"vec4"}]}),fde=ot(([t])=>Qn(t.rgb.mul(t.a),t.a),{color:"vec4",return:"vec4"}),hQe=ot(([t])=>(Kn(t.a.equal(0),()=>Qn(0)),Qn(t.rgb.div(t.a),t.a)),{color:"vec4",return:"vec4"}),pQe=(...t)=>(Vt('TSL: "burn" has been renamed. Use "blendBurn" instead.'),lde(t)),mQe=(...t)=>(Vt('TSL: "dodge" has been renamed. Use "blendDodge" instead.'),cde(t)),gQe=(...t)=>(Vt('TSL: "screen" has been renamed. Use "blendScreen" instead.'),ude(t)),AQe=(...t)=>(Vt('TSL: "overlay" has been renamed. Use "blendOverlay" instead.'),dde(t));class Bo extends Is{static get type(){return"NodeMaterial"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isNodeMaterial=!0,this.fog=!0,this.lights=!1,this.hardwareClipping=!1,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.maskNode=null,this.positionNode=null,this.geometryNode=null,this.depthNode=null,this.receivedShadowPositionNode=null,this.castShadowPositionNode=null,this.receivedShadowNode=null,this.castShadowNode=null,this.outputNode=null,this.mrtNode=null,this.fragmentNode=null,this.vertexNode=null,this.contextNode=null,Object.defineProperty(this,"shadowPositionNode",{get:()=>this.receivedShadowPositionNode,set:e=>{Vt('NodeMaterial: ".shadowPositionNode" was renamed to ".receivedShadowPositionNode".'),this.receivedShadowPositionNode=e}})}_getNodeChildren(){const e=[];for(const n of Object.getOwnPropertyNames(this)){if(n.startsWith("_")===!0)continue;const r=this[n];r&&r.isNode===!0&&e.push({property:n,childNode:r})}return e}customProgramCacheKey(){const e=[];for(const{property:n,childNode:r}of this._getNodeChildren())e.push(wS(n.slice(0,-4)),r.getCacheKey());return this.type+R1(e)}build(e){this.setup(e)}setupObserver(e){return new FXe(e)}setup(e){e.context.setupNormal=()=>$v(this.setupNormal(e),"NORMAL","vec3"),e.context.setupPositionView=()=>this.setupPositionView(e),e.context.setupModelViewProjection=()=>this.setupModelViewProjection(e);const n=e.renderer,r=n.getRenderTarget();n.contextNode.isContextNode===!0?e.context={...e.context,...n.contextNode.getFlowContextData()}:Kt('NodeMaterial: "renderer.contextNode" must be an instance of `context()`.'),this.contextNode!==null&&(this.contextNode.isContextNode===!0?e.context={...e.context,...this.contextNode.getFlowContextData()}:Kt('NodeMaterial: "material.contextNode" must be an instance of `context()`.')),e.addStack();const i=$v(this.setupVertex(e),"VERTEX"),o=this.vertexNode||i;e.stack.outputNode=o,this.setupHardwareClipping(e),this.geometryNode!==null&&(e.stack.outputNode=e.stack.outputNode.bypass(this.geometryNode)),e.addFlow("vertex",e.removeStack()),e.addStack();let a;const s=this.setupClipping(e);if((this.depthWrite===!0||this.depthTest===!0)&&(r!==null?r.depthBuffer===!0&&this.setupDepth(e):n.depth===!0&&this.setupDepth(e)),this.fragmentNode===null){this.setupDiffuseColor(e),this.setupVariants(e);const l=this.setupLighting(e);s!==null&&e.stack.addToStack(s);const c=Qn(l,Si.a).max(0);a=this.setupOutput(e,c),Fv.assign(a);const u=this.outputNode!==null;if(u&&(a=this.outputNode),e.context.getOutput&&(a=e.context.getOutput(a,e)),r!==null){const d=n.getMRT(),f=this.mrtNode;d!==null?(u&&Fv.assign(a),a=d,f!==null&&(a=d.merge(f))):f!==null&&(a=f)}}else{let l=this.fragmentNode;l.isOutputStructNode!==!0&&(l=Qn(l)),a=this.setupOutput(e,l)}e.stack.outputNode=a,e.addFlow("fragment",e.removeStack()),e.observer=this.setupObserver(e)}setupClipping(e){if(e.clippingContext===null)return null;const{unionPlanes:n,intersectionPlanes:r}=e.clippingContext;let i=null;if(n.length>0||r.length>0){const o=e.renderer.currentSamples;this.alphaToCoverage&&o>1?i=sQe():e.stack.addToStack(aQe())}return i}setupHardwareClipping(e){if(this.hardwareClipping=!1,e.clippingContext===null)return;const n=e.clippingContext.unionPlanes.length;n>0&&n<=8&&e.isAvailable("clipDistance")&&(e.stack.addToStack(lQe()),this.hardwareClipping=!0)}setupDepth(e){const{renderer:n,camera:r}=e;let i=this.depthNode;if(i===null){const o=n.getMRT();o&&o.has("depth")?i=o.get("depth"):n.logarithmicDepthBuffer===!0&&(r.isPerspectiveCamera?i=e9(jo.z,xp,_p):i=Uv(jo.z,xp,_p))}i!==null&&t9.assign(i).toStack()}setupPositionView(){return _m.mul(xo).xyz}setupModelViewProjection(){return ih.mul(jo)}setupVertex(e){return e.addStack(),this.setupPosition(e),e.context.vertex=e.removeStack(),Xue}setupPosition(e){const{object:n,geometry:r}=e;if((r.morphAttributes.position||r.morphAttributes.normal||r.morphAttributes.color)&&rde(n).toStack(),n.isSkinnedMesh===!0&&tde(n).toStack(),this.displacementMap){const i=Vf("displacementMap","texture"),o=Vf("displacementScale","float"),a=Vf("displacementBias","float");xo.addAssign($l.normalize().mul(i.x.mul(o).add(a)))}return n.isBatchedMesh&&Jue(n).toStack(),n.isInstancedMesh&&n.instanceMatrix&&n.instanceMatrix.isInstancedBufferAttribute===!0&&Zue(n).toStack(),this.positionNode!==null&&xo.assign($v(this.positionNode,"POSITION","vec3")),xo}setupDiffuseColor(e){const{object:n,geometry:r}=e;this.maskNode!==null&&uu(this.maskNode).not().discard();let i=this.colorNode?Qn(this.colorNode):vue;this.vertexColors===!0&&r.hasAttribute("color")&&(i=i.mul(sde())),n.instanceColor&&(i=w2("vec3","vInstanceColor").mul(i)),n.isBatchedMesh&&n._colorsTexture&&(i=w2("vec3","vBatchColor").mul(i)),Si.assign(i);const o=this.opacityNode?Ce(this.opacityNode):Yk;Si.a.assign(Si.a.mul(o));let a=null;(this.alphaTestNode!==null||this.alphaTest>0)&&(a=this.alphaTestNode!==null?Ce(this.alphaTestNode):Aue,this.alphaToCoverage===!0?(Si.a=cd(a,a.add(Tk(Si.a)),Si.a),Si.a.lessThanEqual(0).discard()):Si.a.lessThanEqual(a).discard()),this.alphaHash===!0&&Si.a.lessThan(uQe(xo)).discard(),e.isOpaque()&&Si.a.assign(1)}setupVariants(){}setupOutgoingLight(){return this.lights===!0?et(0):Si.rgb}setupNormal(){return this.normalNode?et(this.normalNode):Cue}setupEnvironment(){let e=null;return this.envNode?e=this.envNode:this.envMap&&(e=this.envMap.isCubeTexture?Vf("envMap","cubeTexture"):Vf("envMap","texture")),e}setupLightMap(e){let n=null;return e.material.lightMap&&(n=new eQe(Kk)),n}setupLights(e){const n=[],r=this.setupEnvironment(e);r&&r.isLightingNode&&n.push(r);const i=this.setupLightMap(e);i&&i.isLightingNode&&n.push(i);let o=this.aoNode;o===null&&e.material.aoMap&&(o=Wue),e.context.getAO&&(o=e.context.getAO(o,e)),o&&n.push(new ZKe(o));let a=this.lightsNode||e.lightsNode;return n.length>0&&(a=e.renderer.lighting.createNode([...a.getLights(),...n])),a}setupLightingModel(){}setupLighting(e){const{material:n}=e,{backdropNode:r,backdropAlphaNode:i,emissiveNode:o}=this,s=this.lights===!0||this.lightsNode!==null?this.setupLights(e):null;let l=this.setupOutgoingLight(e);if(s&&s.getScope().hasLights){const c=this.setupLightingModel(e)||null;l=ide(s,c,r,i)}else r!==null&&(l=et(i!==null?Zr(l,r,i):r));return(o&&o.isNode===!0||n.emissive&&n.emissive.isColor===!0)&&(A6.assign(et(o||bue)),l=l.add(A6)),l}setupFog(e,n){const r=e.fogNode;return r&&(Fv.assign(n),n=Qn(r.toVar())),n}setupPremultipliedAlpha(e,n){return fde(n)}setupOutput(e,n){return this.fog===!0&&(n=this.setupFog(e,n)),this.premultipliedAlpha===!0&&(n=this.setupPremultipliedAlpha(e,n)),n}setDefaultValues(e){for(const r in e){const i=e[r];this[r]===void 0&&(this[r]=i,i&&i.clone&&(this[r]=i.clone()))}const n=Object.getOwnPropertyDescriptors(e.constructor.prototype);for(const r in n)Object.getOwnPropertyDescriptor(this.constructor.prototype,r)===void 0&&n[r].get!==void 0&&Object.defineProperty(this.constructor.prototype,r,n[r])}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{},nodes:{}});const r=Is.prototype.toJSON.call(this,e);r.inputNodes={};for(const{property:o,childNode:a}of this._getNodeChildren())r.inputNodes[o]=a.toJSON(e).uuid;function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images),s=i(e.nodes);o.length>0&&(r.textures=o),a.length>0&&(r.images=a),s.length>0&&(r.nodes=s)}return r}copy(e){return this.lightsNode=e.lightsNode,this.envNode=e.envNode,this.aoNode=e.aoNode,this.colorNode=e.colorNode,this.normalNode=e.normalNode,this.opacityNode=e.opacityNode,this.backdropNode=e.backdropNode,this.backdropAlphaNode=e.backdropAlphaNode,this.alphaTestNode=e.alphaTestNode,this.maskNode=e.maskNode,this.positionNode=e.positionNode,this.geometryNode=e.geometryNode,this.depthNode=e.depthNode,this.receivedShadowPositionNode=e.receivedShadowPositionNode,this.castShadowPositionNode=e.castShadowPositionNode,this.receivedShadowNode=e.receivedShadowNode,this.castShadowNode=e.castShadowNode,this.outputNode=e.outputNode,this.mrtNode=e.mrtNode,this.fragmentNode=e.fragmentNode,this.vertexNode=e.vertexNode,this.contextNode=e.contextNode,super.copy(e)}}const vQe=new E1;class yQe extends Bo{static get type(){return"LineBasicNodeMaterial"}constructor(e){super(),this.isLineBasicNodeMaterial=!0,this.setDefaultValues(vQe),this.setValues(e)}}const bQe=new h$e;class xQe extends Bo{static get type(){return"LineDashedNodeMaterial"}constructor(e){super(),this.isLineDashedNodeMaterial=!0,this.setDefaultValues(bQe),this.dashOffset=0,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(e)}setupVariants(){const e=this.offsetNode?Ce(this.offsetNode):Hue,n=this.dashScaleNode?Ce(this.dashScaleNode):zue,r=this.dashSizeNode?Ce(this.dashSizeNode):Vue,i=this.gapSizeNode?Ce(this.gapSizeNode):Gue;IE.assign(r),v6.assign(i);const o=_f(vh("lineDistance").mul(n));(e?o.add(e):o).mod(IE.add(v6)).greaterThan(IE).discard()}}let sT=null;class _Qe extends sN{static get type(){return"ViewportSharedTextureNode"}constructor(e=rh,n=null){sT===null&&(sT=new S7),super(e,n,sT)}getTextureForReference(){return sT}updateReference(){return this}}const SQe=xr(_Qe).setParameterLength(0,2),wQe=new c$e;class CQe extends Bo{static get type(){return"MeshNormalNodeMaterial"}constructor(e){super(),this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(wQe),this.setValues(e)}setupDiffuseColor(){const e=this.opacityNode?Ce(this.opacityNode):Yk;Si.assign(eN(Qn(gue(oi),e),Za))}}const n9=ot(([t=Gk])=>{const e=t.z.atan(t.x).mul(1/(Math.PI*2)).add(.5),n=t.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return rn(e,n)});class hde extends v7{constructor(e=1,n={}){super(e,n),this.isCubeRenderTarget=!0}fromEquirectangularTexture(e,n){const r=n.minFilter,i=n.generateMipmaps;n.generateMipmaps=!0,this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const o=new bm(5,5,5),a=n9(Gk),s=new Bo;s.colorNode=ci(n,a,0),s.side=Oi,s.blending=nl;const l=new Ai(o,s),c=new NR;c.add(l),n.minFilter===Cl&&(n.minFilter=Ji);const u=new hae(1,10,this),d=e.getMRT();return e.setMRT(null),u.update(e,c),e.setMRT(d),n.minFilter=r,n.currentGenerateMipmaps=i,l.geometry.dispose(),l.material.dispose(),this}}const r_=new WeakMap;class TQe extends To{static get type(){return"CubeMapNode"}constructor(e){super("vec3"),this.envNode=e,this._cubeTexture=null,this._cubeTextureNode=Ys(null);const n=new yS;n.isRenderTargetTexture=!0,this._defaultTexture=n,this.updateBeforeType=Er.RENDER}updateBefore(e){const{renderer:n,material:r}=e,i=this.envNode;if(i.isTextureNode||i.isMaterialReferenceNode){const o=i.isTextureNode?i.value:r[i.property];if(o&&o.isTexture){const a=o.mapping;if(a===sy||a===ly){if(r_.has(o)){const s=r_.get(o);TX(s,o.mapping),this._cubeTexture=s}else{const s=o.image;if(EQe(s)){const l=new hde(s.height);l.fromEquirectangularTexture(n,o),TX(l.texture,o.mapping),this._cubeTexture=l.texture,r_.set(o,l.texture),o.addEventListener("dispose",pde)}else this._cubeTexture=this._defaultTexture}this._cubeTextureNode.value=this._cubeTexture}else this._cubeTextureNode=this.envNode}}}setup(e){return this.updateBefore(e),this._cubeTextureNode}}function EQe(t){return t==null?!1:t.height>0}function pde(t){const e=t.target;e.removeEventListener("dispose",pde);const n=r_.get(e);n!==void 0&&(r_.delete(e),n.dispose())}function TX(t,e){e===sy?t.mapping=od:e===ly&&(t.mapping=pf)}const mde=xr(TQe).setParameterLength(1);class r9 extends I1{static get type(){return"BasicEnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){e.context.environment=mde(this.envNode)}}class MQe extends I1{static get type(){return"BasicLightMapNode"}constructor(e=null){super(),this.lightMapNode=e}setup(e){const n=Ce(1/Math.PI);e.context.irradianceLightMap=this.lightMapNode.mul(n)}}class lN{start(e){e.lightsNode.setupLights(e,e.lightsNode.getLightNodes(e)),this.indirect(e)}finish(){}direct(){}directRectArea(){}indirect(){}ambientOcclusion(){}}class gde extends lN{constructor(){super()}indirect({context:e}){const n=e.ambientOcclusion,r=e.reflectedLight,i=e.irradianceLightMap;r.indirectDiffuse.assign(Qn(0)),i?r.indirectDiffuse.addAssign(i):r.indirectDiffuse.addAssign(Qn(1,1,1,0)),r.indirectDiffuse.mulAssign(n),r.indirectDiffuse.mulAssign(Si.rgb)}finish(e){const{material:n,context:r}=e,i=r.outgoingLight,o=e.context.environment;if(o)switch(n.combine){case dS:i.rgb.assign(Zr(i.rgb,i.rgb.mul(o.rgb),n_.mul(BE)));break;case iae:i.rgb.assign(Zr(i.rgb,o.rgb,n_.mul(BE)));break;case oae:i.rgb.addAssign(o.rgb.mul(n_.mul(BE)));break;default:Vt("BasicLightingModel: Unsupported .combine value:",n.combine);break}}}const PQe=new jc;class RQe extends Bo{static get type(){return"MeshBasicNodeMaterial"}constructor(e){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!0,this.setDefaultValues(PQe),this.setValues(e)}setupNormal(){return N1(qy)}setupEnvironment(e){const n=super.setupEnvironment(e);return n?new r9(n):null}setupLightMap(e){let n=null;return e.material.lightMap&&(n=new MQe(Kk)),n}setupOutgoingLight(){return Si.rgb}setupLightingModel(){return new gde}}const Wy=ot(({f0:t,f90:e,dotVH:n})=>{const r=n.mul(-5.55473).sub(6.98316).mul(n).exp2();return t.mul(r.oneMinus()).add(e.mul(r))}),Ag=ot(t=>t.diffuseColor.mul(1/Math.PI)),NQe=()=>Ce(.25),IQe=ot(({dotNH:t})=>I3.mul(Ce(.5)).add(1).mul(Ce(1/Math.PI)).mul(t.pow(I3))),OQe=ot(({lightDirection:t})=>{const e=t.add(Fi).normalize(),n=oi.dot(e).clamp(),r=Fi.dot(e).clamp(),i=Wy({f0:sm,f90:1,dotVH:r}),o=NQe(),a=IQe({dotNH:n});return i.mul(o).mul(a)});class Ade extends gde{constructor(e=!0){super(),this.specular=e}direct({lightDirection:e,lightColor:n,reflectedLight:r}){const o=oi.dot(e).clamp().mul(n);r.directDiffuse.addAssign(o.mul(Ag({diffuseColor:Si.rgb}))),this.specular===!0&&r.directSpecular.addAssign(o.mul(OQe({lightDirection:e})).mul(n_))}indirect(e){const{ambientOcclusion:n,irradiance:r,reflectedLight:i}=e.context;i.indirectDiffuse.addAssign(r.mul(Ag({diffuseColor:Si}))),i.indirectDiffuse.mulAssign(n)}}const DQe=new Mh;class LQe extends Bo{static get type(){return"MeshLambertNodeMaterial"}constructor(e){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(DQe),this.setValues(e)}setupEnvironment(e){const n=super.setupEnvironment(e);return n?new r9(n):null}setupLightingModel(){return new Ade(!1)}}const BQe=new Mae;class FQe extends Bo{static get type(){return"MeshPhongNodeMaterial"}constructor(e){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(BQe),this.setValues(e)}setupEnvironment(e){const n=super.setupEnvironment(e);return n?new r9(n):null}setupLightingModel(){return new Ade}setupVariants(){const e=(this.shininessNode?Ce(this.shininessNode):yue).max(1e-4);I3.assign(e);const n=this.specularNode||xue;sm.assign(n)}copy(e){return this.shininessNode=e.shininessNode,this.specularNode=e.specularNode,super.copy(e)}}const vde=ot(t=>{if(t.geometry.hasAttribute("normal")===!1)return Ce(0);const e=qy.dFdx().abs().max(qy.dFdy().abs());return e.x.max(e.y).max(e.z)}),i9=ot(t=>{const{roughness:e}=t,n=vde();let r=e.max(.0525);return r=r.add(n),r=r.min(1),r}),yde=ot(({alpha:t,dotNL:e,dotNV:n})=>{const r=t.pow2(),i=e.mul(r.add(r.oneMinus().mul(n.pow2())).sqrt()),o=n.mul(r.add(r.oneMinus().mul(e.pow2())).sqrt());return vc(.5,i.add(o).max(Ak))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),$Qe=ot(({alphaT:t,alphaB:e,dotTV:n,dotBV:r,dotTL:i,dotBL:o,dotNV:a,dotNL:s})=>{const l=s.mul(et(t.mul(n),e.mul(r),a).length()),c=a.mul(et(t.mul(i),e.mul(o),s).length());return vc(.5,l.add(c))}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),bde=ot(({alpha:t,dotNH:e})=>{const n=t.pow2(),r=e.pow2().mul(n.oneMinus()).oneMinus();return n.div(r.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),kQe=Ce(1/Math.PI),UQe=ot(({alphaT:t,alphaB:e,dotNH:n,dotTH:r,dotBH:i})=>{const o=t.mul(e),a=et(e.mul(r),t.mul(i),o.mul(n)),s=a.dot(a),l=o.div(s);return kQe.mul(o.mul(l.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),o9=ot(({lightDirection:t,f0:e,f90:n,roughness:r,f:i,normalView:o=oi,USE_IRIDESCENCE:a,USE_ANISOTROPY:s})=>{const l=r.pow2(),c=t.add(Fi).normalize(),u=o.dot(t).clamp(),d=o.dot(Fi).clamp(),f=o.dot(c).clamp(),h=Fi.dot(c).clamp();let p=Wy({f0:e,f90:n,dotVH:h}),_,x;if(_2(a)&&(p=WR.mix(p,i)),_2(s)){const y=e_.dot(t),w=e_.dot(Fi),C=e_.dot(c),M=j0.dot(t),R=j0.dot(Fi),N=j0.dot(c);_=$Qe({alphaT:N3,alphaB:l,dotTV:w,dotBV:R,dotTL:y,dotBL:M,dotNV:d,dotNL:u}),x=UQe({alphaT:N3,alphaB:l,dotNH:f,dotTH:C,dotBH:N})}else _=yde({alpha:l,dotNL:u,dotNV:d}),x=bde({alpha:l,dotNH:f});return p.mul(_).mul(x)}),zQe=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Od=null;const T2=ot(({roughness:t,dotNV:e})=>{Od===null&&(Od=new b7(zQe,16,16,Qs,io),Od.name="DFG_LUT",Od.minFilter=Ji,Od.magFilter=Ji,Od.wrapS=wl,Od.wrapT=wl,Od.generateMipmaps=!1,Od.needsUpdate=!0);const n=rn(t,e);return ci(Od,n).rg}),VQe=ot(({lightDirection:t,f0:e,f90:n,roughness:r,f:i,USE_IRIDESCENCE:o,USE_ANISOTROPY:a})=>{const s=o9({lightDirection:t,f0:e,f90:n,roughness:r,f:i,USE_IRIDESCENCE:o,USE_ANISOTROPY:a}),l=oi.dot(t).clamp(),c=oi.dot(Fi).clamp(),u=T2({roughness:r,dotNV:c}),d=T2({roughness:r,dotNV:l}),f=e.mul(u.x).add(n.mul(u.y)),h=e.mul(d.x).add(n.mul(d.y)),p=u.x.add(u.y),_=d.x.add(d.y),x=Ce(1).sub(p),y=Ce(1).sub(_),w=e.add(e.oneMinus().mul(.047619)),C=f.mul(h).mul(w).div(Ce(1).sub(x.mul(y).mul(w).mul(w)).add(Ak)),M=x.mul(y),R=C.mul(M);return s.add(R)}),xde=ot(t=>{const{dotNV:e,specularColor:n,specularF90:r,roughness:i}=t,o=T2({dotNV:e,roughness:i});return n.mul(o.x).add(r.mul(o.y))}),M6=ot(({f:t,f90:e,dotVH:n})=>{const r=n.oneMinus().saturate(),i=r.mul(r),o=r.mul(i,i).clamp(0,.9999);return t.sub(et(e).mul(o)).div(o.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),GQe=ot(({roughness:t,dotNH:e})=>{const n=t.pow2(),r=Ce(1).div(n),o=e.pow2().oneMinus().max(.0078125);return Ce(2).add(r).mul(o.pow(r.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),HQe=ot(({dotNV:t,dotNL:e})=>Ce(1).div(Ce(4).mul(e.add(t).sub(e.mul(t))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),jQe=ot(({lightDirection:t})=>{const e=t.add(Fi).normalize(),n=oi.dot(t).clamp(),r=oi.dot(Fi).clamp(),i=oi.dot(e).clamp(),o=GQe({roughness:bp,dotNH:i}),a=HQe({dotNV:r,dotNL:n});return Zl.mul(o).mul(a)}),qQe=ot(({N:t,V:e,roughness:n})=>{const o=.0078125,a=t.dot(e).saturate(),s=rn(n,a.oneMinus().sqrt());return s.assign(s.mul(.984375).add(o)),s}).setLayout({name:"LTC_Uv",type:"vec2",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"roughness",type:"float"}]}),WQe=ot(({f:t})=>{const e=t.length();return Co(e.mul(e).add(t.z).div(e.add(1)),0)}).setLayout({name:"LTC_ClippedSphereFormFactor",type:"float",inputs:[{name:"f",type:"vec3"}]}),lT=ot(({v1:t,v2:e})=>{const n=t.dot(e),r=n.abs().toVar(),i=r.mul(.0145206).add(.4965155).mul(r).add(.8543985).toVar(),o=r.add(4.1616724).mul(r).add(3.417594).toVar(),a=i.div(o),s=n.greaterThan(0).select(a,Co(n.mul(n).oneMinus(),1e-7).inverseSqrt().mul(.5).sub(a));return t.cross(e).mul(s)}).setLayout({name:"LTC_EdgeVectorFormFactor",type:"vec3",inputs:[{name:"v1",type:"vec3"},{name:"v2",type:"vec3"}]}),EX=ot(({N:t,V:e,P:n,mInv:r,p0:i,p1:o,p2:a,p3:s})=>{const l=o.sub(i).toVar(),c=s.sub(i).toVar(),u=l.cross(c),d=et().toVar();return Kn(u.dot(n.sub(i)).greaterThanEqual(0),()=>{const f=e.sub(t.mul(e.dot(t))).normalize(),h=t.cross(f).negate(),p=r.mul(cs(f,h,t).transpose()).toVar(),_=p.mul(i.sub(n)).normalize().toVar(),x=p.mul(o.sub(n)).normalize().toVar(),y=p.mul(a.sub(n)).normalize().toVar(),w=p.mul(s.sub(n)).normalize().toVar(),C=et(0).toVar();C.addAssign(lT({v1:_,v2:x})),C.addAssign(lT({v1:x,v2:y})),C.addAssign(lT({v1:y,v2:w})),C.addAssign(lT({v1:w,v2:_})),d.assign(et(WQe({f:C})))}),d}).setLayout({name:"LTC_Evaluate",type:"vec3",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"P",type:"vec3"},{name:"mInv",type:"mat3"},{name:"p0",type:"vec3"},{name:"p1",type:"vec3"},{name:"p2",type:"vec3"},{name:"p3",type:"vec3"}]}),cN=1/6,_de=t=>br(cN,br(t,br(t,t.negate().add(3)).sub(3)).add(1)),P6=t=>br(cN,br(t,br(t,br(3,t).sub(6))).add(4)),Sde=t=>br(cN,br(t,br(t,br(-3,t).add(3)).add(3)).add(1)),R6=t=>br(cN,Xc(t,3)),MX=t=>_de(t).add(P6(t)),PX=t=>Sde(t).add(R6(t)),RX=t=>Zo(-1,P6(t).div(_de(t).add(P6(t)))),NX=t=>Zo(1,R6(t).div(Sde(t).add(R6(t)))),IX=(t,e,n)=>{const r=t.uvNode,i=br(r,e.zw).add(.5),o=of(i),a=sd(i),s=MX(a.x),l=PX(a.x),c=RX(a.x),u=NX(a.x),d=RX(a.y),f=NX(a.y),h=rn(o.x.add(c),o.y.add(d)).sub(.5).mul(e.xy),p=rn(o.x.add(u),o.y.add(d)).sub(.5).mul(e.xy),_=rn(o.x.add(c),o.y.add(f)).sub(.5).mul(e.xy),x=rn(o.x.add(u),o.y.add(f)).sub(.5).mul(e.xy),y=MX(a.y).mul(Zo(s.mul(t.sample(h).level(n)),l.mul(t.sample(p).level(n)))),w=PX(a.y).mul(Zo(s.mul(t.sample(_).level(n)),l.mul(t.sample(x).level(n))));return y.add(w)},a9=ot(([t,e])=>{const n=rn(t.size(We(e))),r=rn(t.size(We(e.add(1)))),i=vc(1,n),o=vc(1,r),a=IX(t,Qn(i,n),of(e)),s=IX(t,Qn(o,r),KR(e));return sd(e).mix(a,s)}),XQe=ot(([t,e])=>{const n=e.mul($k(t));return a9(t,n)}),OX=ot(([t,e,n,r,i])=>{const o=et(Rk(e.negate(),il(t),vc(1,r))),a=et(af(i[0].xyz),af(i[1].xyz),af(i[2].xyz));return il(o).mul(n.mul(a))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),YQe=ot(([t,e])=>t.mul(ld(e.mul(2).sub(2),0,1))).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),KQe=Qk(),QQe=Qk(),DX=ot(([t,e,n],{material:r})=>{const o=(r.side===Oi?KQe:QQe).sample(t),a=rf(gg.x).mul(YQe(e,n));return a9(o,a)}),LX=ot(([t,e,n])=>(Kn(n.notEqual(0),()=>{const r=YR(e).negate().div(n);return vk(r.negate().mul(t))}),et(1))).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),ZQe=ot(([t,e,n,r,i,o,a,s,l,c,u,d,f,h,p])=>{let _,x;if(p){_=Qn().toVar(),x=et().toVar();const R=u.sub(1).mul(p.mul(.025)),N=et(u.sub(R),u,u.add(R));Ci({start:0,end:3},({i:I})=>{const B=N.element(I),D=OX(t,e,d,B,s),$=a.add(D),z=c.mul(l.mul(Qn($,1))),V=rn(z.xy.div(z.w)).toVar();V.addAssign(1),V.divAssign(2),V.assign(rn(V.x,V.y.oneMinus()));const q=DX(V,n,B);_.element(I).assign(q.element(I)),_.a.addAssign(q.a),x.element(I).assign(r.element(I).mul(LX(af(D),f,h).element(I)))}),_.a.divAssign(3)}else{const R=OX(t,e,d,u,s),N=a.add(R),I=c.mul(l.mul(Qn(N,1))),B=rn(I.xy.div(I.w)).toVar();B.addAssign(1),B.divAssign(2),B.assign(rn(B.x,B.y.oneMinus())),_=DX(B,n,u),x=r.mul(LX(af(R),f,h))}const y=x.rgb.mul(_.rgb),w=t.dot(e).clamp(),C=et(xde({dotNV:w,specularColor:i,specularF90:o,roughness:n})),M=x.r.add(x.g,x.b).div(3);return Qn(C.oneMinus().mul(y),_.a.oneMinus().mul(M).oneMinus())}),JQe=cs(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),eZe=t=>{const e=t.sqrt();return et(1).add(e).div(et(1).sub(e))},BX=(t,e)=>t.sub(e).div(t.add(e)).pow2(),tZe=(t,e)=>{const n=t.mul(2*Math.PI*1e-9),r=et(54856e-17,44201e-17,52481e-17),i=et(1681e3,1795300,2208400),o=et(43278e5,93046e5,66121e5),a=Ce(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(n.mul(2239900).add(e.x).cos()).mul(n.pow2().mul(-45282e5).exp());let s=r.mul(o.mul(2*Math.PI).sqrt()).mul(i.mul(n).add(e).cos()).mul(n.pow2().negate().mul(o).exp());return s=et(s.x.add(a),s.y,s.z).div(10685e-11),JQe.mul(s)},FX=ot(({outsideIOR:t,eta2:e,cosTheta1:n,thinFilmThickness:r,baseF0:i})=>{const o=Zr(t,e,cd(0,.03,r)),s=t.div(o).pow2().mul(n.pow2().oneMinus()).oneMinus();Kn(s.lessThan(0),()=>et(1));const l=s.sqrt(),c=BX(o,t),u=Wy({f0:c,f90:1,dotVH:n}),d=u.oneMinus(),f=o.lessThan(t).select(Math.PI,0),h=Ce(Math.PI).sub(f),p=eZe(i.clamp(0,.9999)),_=BX(p,o.toVec3()),x=Wy({f0:_,f90:1,dotVH:l}),y=et(p.x.lessThan(o).select(Math.PI,0),p.y.lessThan(o).select(Math.PI,0),p.z.lessThan(o).select(Math.PI,0)),w=o.mul(r,l,2),C=et(h).add(y),M=u.mul(x).clamp(1e-5,.9999),R=M.sqrt(),N=d.pow2().mul(x).div(et(1).sub(M)),B=u.add(N).toVar(),D=N.sub(d).toVar();return Ci({start:1,end:2,condition:"<=",name:"m"},({m:$})=>{D.mulAssign(R);const z=tZe(Ce($).mul(w),Ce($).mul(C)).mul(2);B.addAssign(D.mul(z))}),B.max(et(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),kb=ot(({normal:t,viewDir:e,roughness:n})=>{const r=t.dot(e).saturate(),i=n.mul(n),o=n.add(.1).reciprocal(),a=Ce(-1.9362).add(n.mul(1.0678)).add(i.mul(.4573)).sub(o.mul(.8469)),s=Ce(-.6014).add(n.mul(.5538)).sub(i.mul(.467)).sub(o.mul(.1255));return a.mul(r).add(s).exp().saturate()}),jO=et(.04),qO=Ce(1);class wde extends lN{constructor(e=!1,n=!1,r=!1,i=!1,o=!1,a=!1){super(),this.clearcoat=e,this.sheen=n,this.iridescence=r,this.anisotropy=i,this.transmission=o,this.dispersion=a,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null,this.iridescenceF0Dielectric=null,this.iridescenceF0Metallic=null}start(e){if(this.clearcoat===!0&&(this.clearcoatRadiance=et().toVar("clearcoatRadiance"),this.clearcoatSpecularDirect=et().toVar("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=et().toVar("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=et().toVar("sheenSpecularDirect"),this.sheenSpecularIndirect=et().toVar("sheenSpecularIndirect")),this.iridescence===!0){const n=oi.dot(Fi).clamp(),r=FX({outsideIOR:Ce(1),eta2:P3,cosTheta1:n,thinFilmThickness:R3,baseF0:sm}),i=FX({outsideIOR:Ce(1),eta2:P3,cosTheta1:n,thinFilmThickness:R3,baseF0:Si.rgb});this.iridescenceFresnel=Zr(r,i,Yf),this.iridescenceF0Dielectric=M6({f:r,f90:1,dotVH:n}),this.iridescenceF0Metallic=M6({f:i,f90:1,dotVH:n}),this.iridescenceF0=Zr(this.iridescenceF0Dielectric,this.iridescenceF0Metallic,Yf)}if(this.transmission===!0){const n=sf,r=jce.sub(sf).normalize(),i=Sm,o=e.context;o.backdrop=ZQe(i,r,jd,g0,I0,Bv,n,Yc,Au,ih,t_,uk,fk,dk,this.dispersion?hk:null),o.backdropAlpha=O3,Si.a.mulAssign(Zr(1,o.backdrop.a,O3))}super.start(e)}computeMultiscattering(e,n,r,i,o=null){const a=oi.dot(Fi).clamp(),s=T2({roughness:jd,dotNV:a}),l=o?WR.mix(i,o):i,c=l.mul(s.x).add(r.mul(s.y)),d=s.x.add(s.y).oneMinus(),f=l.add(l.oneMinus().mul(.047619)),h=c.mul(f).div(d.mul(f).oneMinus());e.addAssign(c),n.addAssign(h.mul(d))}direct({lightDirection:e,lightColor:n,reflectedLight:r}){const o=oi.dot(e).clamp().mul(n).toVar();if(this.sheen===!0){this.sheenSpecularDirect.addAssign(o.mul(jQe({lightDirection:e})));const a=kb({normal:oi,viewDir:Fi,roughness:bp}),s=kb({normal:oi,viewDir:e,roughness:bp}),l=Zl.r.max(Zl.g).max(Zl.b).mul(a.max(s)).oneMinus();o.mulAssign(l)}if(this.clearcoat===!0){const s=O0.dot(e).clamp().mul(n);this.clearcoatSpecularDirect.addAssign(s.mul(o9({lightDirection:e,f0:jO,f90:qO,roughness:C2,normalView:O0})))}r.directDiffuse.addAssign(o.mul(Ag({diffuseColor:g0}))),r.directSpecular.addAssign(o.mul(VQe({lightDirection:e,f0:I0,f90:1,roughness:jd,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}directRectArea({lightColor:e,lightPosition:n,halfWidth:r,halfHeight:i,reflectedLight:o,ltc_1:a,ltc_2:s}){const l=n.add(r).sub(i),c=n.sub(r).sub(i),u=n.sub(r).add(i),d=n.add(r).add(i),f=oi,h=Fi,p=jo.toVar(),_=qQe({N:f,V:h,roughness:jd}),x=a.sample(_).toVar(),y=s.sample(_).toVar(),w=cs(et(x.x,0,x.y),et(0,1,0),et(x.z,0,x.w)).toVar(),C=I0.mul(y.x).add(I0.oneMinus().mul(y.y)).toVar();o.directSpecular.addAssign(e.mul(C).mul(EX({N:f,V:h,P:p,mInv:w,p0:l,p1:c,p2:u,p3:d}))),o.directDiffuse.addAssign(e.mul(g0).mul(EX({N:f,V:h,P:p,mInv:cs(1,0,0,0,1,0,0,0,1),p0:l,p1:c,p2:u,p3:d})))}indirect(e){this.indirectDiffuse(e),this.indirectSpecular(e),this.ambientOcclusion(e)}indirectDiffuse(e){const{irradiance:n,reflectedLight:r}=e.context,i=n.mul(Ag({diffuseColor:g0})).toVar();if(this.sheen===!0){const o=kb({normal:oi,viewDir:Fi,roughness:bp}),a=Zl.r.max(Zl.g).max(Zl.b).mul(o).oneMinus();i.mulAssign(a)}r.indirectDiffuse.addAssign(i)}indirectSpecular(e){const{radiance:n,iblIrradiance:r,reflectedLight:i}=e.context;if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(r.mul(Zl,kb({normal:oi,viewDir:Fi,roughness:bp}))),this.clearcoat===!0){const x=O0.dot(Fi).clamp(),y=xde({dotNV:x,specularColor:jO,specularF90:qO,roughness:C2});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(y))}const o=et().toVar("singleScatteringDielectric"),a=et().toVar("multiScatteringDielectric"),s=et().toVar("singleScatteringMetallic"),l=et().toVar("multiScatteringMetallic");this.computeMultiscattering(o,a,Bv,sm,this.iridescenceF0Dielectric),this.computeMultiscattering(s,l,Bv,Si.rgb,this.iridescenceF0Metallic);const c=Zr(o,s,Yf),u=Zr(a,l,Yf),d=o.add(a),f=g0.mul(d.oneMinus()),h=r.mul(1/Math.PI),p=n.mul(c).add(u.mul(h)).toVar(),_=f.mul(h).toVar();if(this.sheen===!0){const x=kb({normal:oi,viewDir:Fi,roughness:bp}),y=Zl.r.max(Zl.g).max(Zl.b).mul(x).oneMinus();p.mulAssign(y),_.mulAssign(y)}i.indirectSpecular.addAssign(p),i.indirectDiffuse.addAssign(_)}ambientOcclusion(e){const{ambientOcclusion:n,reflectedLight:r}=e.context,o=oi.dot(Fi).clamp().add(n),a=jd.mul(-16).oneMinus().negate().exp2(),s=n.sub(o.pow(a).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(n),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(n),r.indirectDiffuse.mulAssign(n),r.indirectSpecular.mulAssign(s)}finish({context:e}){const{outgoingLight:n}=e;if(this.clearcoat===!0){const r=O0.dot(Fi).clamp(),i=Wy({dotVH:r,f0:jO,f90:qO}),o=n.mul(M3.mul(i).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(M3));n.assign(o)}if(this.sheen===!0){const r=n.add(this.sheenSpecularDirect,this.sheenSpecularIndirect.mul(1/Math.PI));n.assign(r)}}}const $X=Ce(1),N6=Ce(-2),cT=Ce(.8),WO=Ce(-1),uT=Ce(.4),XO=Ce(2),dT=Ce(.305),YO=Ce(3),kX=Ce(.21),nZe=Ce(4),UX=Ce(4),rZe=Ce(16),iZe=ot(([t])=>{const e=et(Wi(t)).toVar(),n=Ce(-1).toVar();return Kn(e.x.greaterThan(e.z),()=>{Kn(e.x.greaterThan(e.y),()=>{n.assign(ts(t.x.greaterThan(0),0,3))}).Else(()=>{n.assign(ts(t.y.greaterThan(0),1,4))})}).Else(()=>{Kn(e.z.greaterThan(e.y),()=>{n.assign(ts(t.z.greaterThan(0),2,5))}).Else(()=>{n.assign(ts(t.y.greaterThan(0),1,4))})}),n}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),oZe=ot(([t,e])=>{const n=rn().toVar();return Kn(e.equal(0),()=>{n.assign(rn(t.z,t.y).div(Wi(t.x)))}).ElseIf(e.equal(1),()=>{n.assign(rn(t.x.negate(),t.z.negate()).div(Wi(t.y)))}).ElseIf(e.equal(2),()=>{n.assign(rn(t.x.negate(),t.y).div(Wi(t.z)))}).ElseIf(e.equal(3),()=>{n.assign(rn(t.z.negate(),t.y).div(Wi(t.x)))}).ElseIf(e.equal(4),()=>{n.assign(rn(t.x.negate(),t.z).div(Wi(t.y)))}).Else(()=>{n.assign(rn(t.x,t.y).div(Wi(t.z)))}),br(.5,n.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),aZe=ot(([t])=>{const e=Ce(0).toVar();return Kn(t.greaterThanEqual(cT),()=>{e.assign($X.sub(t).mul(WO.sub(N6)).div($X.sub(cT)).add(N6))}).ElseIf(t.greaterThanEqual(uT),()=>{e.assign(cT.sub(t).mul(XO.sub(WO)).div(cT.sub(uT)).add(WO))}).ElseIf(t.greaterThanEqual(dT),()=>{e.assign(uT.sub(t).mul(YO.sub(XO)).div(uT.sub(dT)).add(XO))}).ElseIf(t.greaterThanEqual(kX),()=>{e.assign(dT.sub(t).mul(nZe.sub(YO)).div(dT.sub(kX)).add(YO))}).Else(()=>{e.assign(Ce(-2).mul(rf(br(1.16,t))))}),e}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]}),Cde=ot(([t,e])=>{const n=t.toVar();n.assign(br(2,n).sub(1));const r=et(n,1).toVar();return Kn(e.equal(0),()=>{r.assign(r.zyx)}).ElseIf(e.equal(1),()=>{r.assign(r.xzy),r.xz.mulAssign(-1)}).ElseIf(e.equal(2),()=>{r.x.mulAssign(-1)}).ElseIf(e.equal(3),()=>{r.assign(r.zyx),r.xz.mulAssign(-1)}).ElseIf(e.equal(4),()=>{r.assign(r.xzy),r.xy.mulAssign(-1)}).ElseIf(e.equal(5),()=>{r.z.mulAssign(-1)}),r}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]}),Tde=ot(([t,e,n,r,i,o])=>{const a=Ce(n),s=et(e),l=ld(aZe(a),N6,o),c=sd(l),u=of(l),d=et(E2(t,s,u,r,i,o)).toVar();return Kn(c.notEqual(0),()=>{const f=et(E2(t,s,u.add(1),r,i,o)).toVar();d.assign(Zr(d,f,c))}),d}),E2=ot(([t,e,n,r,i,o])=>{const a=Ce(n).toVar(),s=et(e),l=Ce(iZe(s)).toVar(),c=Ce(Co(UX.sub(a),0)).toVar();a.assign(Co(a,UX));const u=Ce(jy(a)).toVar(),d=rn(oZe(s,l).mul(u.sub(2)).add(1)).toVar();return Kn(l.greaterThan(2),()=>{d.y.addAssign(u),l.subAssign(3)}),d.x.addAssign(l.mul(u)),d.x.addAssign(c.mul(br(3,rZe))),d.y.addAssign(br(4,jy(o).sub(u))),d.x.mulAssign(r),d.y.mulAssign(i),t.sample(d).grad(rn(),rn())}),KO=ot(({envMap:t,mipInt:e,outputDirection:n,theta:r,axis:i,CUBEUV_TEXEL_WIDTH:o,CUBEUV_TEXEL_HEIGHT:a,CUBEUV_MAX_MIP:s})=>{const l=Uu(r),c=n.mul(l).add(i.cross(n).mul(Ws(r))).add(i.mul(i.dot(n).mul(l.oneMinus())));return E2(t,c,e,o,a,s)}),Ede=ot(({n:t,latitudinal:e,poleAxis:n,outputDirection:r,weights:i,samples:o,dTheta:a,mipInt:s,envMap:l,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:u,CUBEUV_MAX_MIP:d})=>{const f=et(ts(e,n,gh(n,r))).toVar();Kn(f.equal(et(0)),()=>{f.assign(et(r.z,0,r.x.negate()))}),f.assign(il(f));const h=et().toVar();return h.addAssign(i.element(0).mul(KO({theta:0,axis:f,outputDirection:r,mipInt:s,envMap:l,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:u,CUBEUV_MAX_MIP:d}))),Ci({start:We(1),end:t},({i:p})=>{Kn(p.greaterThanEqual(o),()=>{nde()});const _=Ce(a.mul(Ce(p))).toVar();h.addAssign(i.element(p).mul(KO({theta:_.mul(-1),axis:f,outputDirection:r,mipInt:s,envMap:l,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:u,CUBEUV_MAX_MIP:d}))),h.addAssign(i.element(p).mul(KO({theta:_,axis:f,outputDirection:r,mipInt:s,envMap:l,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:u,CUBEUV_MAX_MIP:d})))}),Qn(h,1)}),sZe=ot(([t])=>{const e=Zt(t).toVar();return e.assign(e.shiftLeft(Zt(16)).bitOr(e.shiftRight(Zt(16)))),e.assign(e.bitAnd(Zt(1431655765)).shiftLeft(Zt(1)).bitOr(e.bitAnd(Zt(2863311530)).shiftRight(Zt(1)))),e.assign(e.bitAnd(Zt(858993459)).shiftLeft(Zt(2)).bitOr(e.bitAnd(Zt(3435973836)).shiftRight(Zt(2)))),e.assign(e.bitAnd(Zt(252645135)).shiftLeft(Zt(4)).bitOr(e.bitAnd(Zt(4042322160)).shiftRight(Zt(4)))),e.assign(e.bitAnd(Zt(16711935)).shiftLeft(Zt(8)).bitOr(e.bitAnd(Zt(4278255360)).shiftRight(Zt(8)))),Ce(e).mul(23283064365386963e-26)}),lZe=ot(([t,e])=>rn(Ce(t).div(Ce(e)),sZe(t))),cZe=ot(([t,e,n])=>{const r=et(e).toVar(),i=Ce(n),o=i.mul(i).toVar(),a=il(et(o.mul(r.x),o.mul(r.y),r.z)).toVar(),s=a.x.mul(a.x).add(a.y.mul(a.y)),l=ts(s.greaterThan(0),et(a.y.negate(),a.x,0).div(Ts(s)),et(1,0,0)).toVar(),c=gh(a,l).toVar(),u=Ts(t.x),d=br(2,3.14159265359).mul(t.y),f=u.mul(Uu(d)).toVar(),h=u.mul(Ws(d)).toVar(),p=br(.5,a.z.add(1));h.assign(p.oneMinus().mul(Ts(f.mul(f).oneMinus())).add(p.mul(h)));const _=l.mul(f).add(c.mul(h)).add(a.mul(Ts(Co(0,f.mul(f).add(h.mul(h)).oneMinus()))));return il(et(o.mul(_.x),o.mul(_.y),Co(0,_.z)))}),Mde=ot(({roughness:t,mipInt:e,envMap:n,N_immutable:r,GGX_SAMPLES:i,CUBEUV_TEXEL_WIDTH:o,CUBEUV_TEXEL_HEIGHT:a,CUBEUV_MAX_MIP:s})=>{const l=et(r).toVar(),c=et(0).toVar(),u=Ce(0).toVar();return Kn(t.lessThan(.001),()=>{c.assign(E2(n,l,e,o,a,s))}).Else(()=>{const d=ts(Wi(l.z).lessThan(.999),et(0,0,1),et(1,0,0)),f=il(gh(d,l)).toVar(),h=gh(l,f).toVar();Ci({start:Zt(0),end:i},({i:p})=>{const _=lZe(p,i),x=cZe(_,et(0,0,1),t),y=il(f.mul(x.x).add(h.mul(x.y)).add(l.mul(x.z))),w=il(y.mul(du(l,y).mul(2)).sub(l)),C=Co(du(l,w),0);Kn(C.greaterThan(0),()=>{const M=E2(n,w,e,o,a,s);c.addAssign(M.mul(C)),u.addAssign(C)})}),Kn(u.greaterThan(0),()=>{c.assign(c.div(u))})}),Qn(c,1)}),Np=4,zX=[.125,.215,.35,.446,.526,.582],A0=20,uZe=512,Ub=new M1(-1,1,1,-1,0,1),dZe=new Oa(90,1),VX=new Vn;let QO=null,ZO=0,JO=0;const fZe=new Te,$3=new WeakMap,hZe=[3,1,5,0,4,2],eD=Cde(Di(),vh("faceIndex")).normalize(),uN=et(eD.x,eD.y,eD.z);class pZe{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._blurMaterial=null,this._ggxMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._backgroundBox=null}get _hasInitialized(){return this._renderer.hasInitialized()}fromScene(e,n=0,r=.1,i=100,o={}){const{size:a=256,position:s=fZe,renderTarget:l=null}=o;if(this._setSize(a),this._hasInitialized===!1){Vt('PMREMGenerator: ".fromScene()" called before the backend is initialized. Try using "await renderer.init()" instead.');const u=l||this._allocateTarget();return o.renderTarget=u,this.fromSceneAsync(e,n,r,i,o),u}QO=this._renderer.getRenderTarget(),ZO=this._renderer.getActiveCubeFace(),JO=this._renderer.getActiveMipmapLevel();const c=l||this._allocateTarget();return c.depthBuffer=!0,this._init(c),this._sceneToCubeUV(e,r,i,c,s),n>0&&this._blur(c,0,0,n),this._applyPMREM(c),this._cleanup(c),c}async fromSceneAsync(e,n=0,r=.1,i=100,o={}){return $i('PMREMGenerator: ".fromSceneAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this.fromScene(e,n,r,i,o)}fromEquirectangular(e,n=null){if(this._hasInitialized===!1){Vt('PMREMGenerator: .fromEquirectangular() called before the backend is initialized. Try using "await renderer.init()" instead.'),this._setSizeFromTexture(e);const r=n||this._allocateTarget();return this.fromEquirectangularAsync(e,r),r}return this._fromTexture(e,n)}async fromEquirectangularAsync(e,n=null){return $i('PMREMGenerator: ".fromEquirectangularAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this._fromTexture(e,n)}fromCubemap(e,n=null){if(this._hasInitialized===!1){Vt("PMREMGenerator: .fromCubemap() called before the backend is initialized. Try using .fromCubemapAsync() instead."),this._setSizeFromTexture(e);const r=n||this._allocateTarget();return this.fromCubemapAsync(e,n),r}return this._fromTexture(e,n)}async fromCubemapAsync(e,n=null){return $i('PMREMGenerator: ".fromCubemapAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this._fromTexture(e,n)}async compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=HX(),await this._compileMaterial(this._cubemapMaterial))}async compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=jX(),await this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSizeFromTexture(e){e.mapping===od||e.mapping===pf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4)}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(QO,ZO,JO),e.scissorTest=!1,NA(e,0,0,e.width,e.height)}_fromTexture(e,n){this._setSizeFromTexture(e),QO=this._renderer.getRenderTarget(),ZO=this._renderer.getActiveCubeFace(),JO=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTarget();return this._init(r),this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTarget(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize;return GX(e,n)}_init(e){if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e.width||this._pingPongRenderTarget.height!==e.height){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=GX(e.width,e.height);const{_lodMax:n}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=mZe(n)),this._blurMaterial=gZe(n,e.width,e.height),this._ggxMaterial=AZe(n,e.width,e.height)}}async _compileMaterial(e){const n=new Ai(new bi,e);await this._renderer.compile(n,Ub)}_sceneToCubeUV(e,n,r,i,o){const a=dZe;a.near=n,a.far=r;const s=[1,1,1,1,-1,1],l=[1,-1,1,-1,1,-1],c=this._renderer,u=c.autoClear;c.getClearColor(VX),c.autoClear=!1,this._backgroundBox===null&&(this._backgroundBox=new Ai(new bm,new jc({name:"PMREM.Background",side:Oi,depthWrite:!1,depthTest:!1})));const d=this._backgroundBox,f=d.material;let h=!1;const p=e.background;p?p.isColor&&(f.color.copy(p),e.background=null,h=!0):(f.color.copy(VX),h=!0),c.setRenderTarget(i),c.clear(),h&&c.render(d,a);for(let _=0;_<6;_++){const x=_%3;x===0?(a.up.set(0,s[_],0),a.position.set(o.x,o.y,o.z),a.lookAt(o.x+l[_],o.y,o.z)):x===1?(a.up.set(0,0,s[_]),a.position.set(o.x,o.y,o.z),a.lookAt(o.x,o.y+l[_],o.z)):(a.up.set(0,s[_],0),a.position.set(o.x,o.y,o.z),a.lookAt(o.x,o.y,o.z+l[_]));const y=this._cubeSize;NA(i,x*y,_>2?y:0,y,y),c.render(e,a)}c.autoClear=u,e.background=p}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===od||e.mapping===pf;i?this._cubemapMaterial===null&&(this._cubemapMaterial=HX(e)):this._equirectMaterial===null&&(this._equirectMaterial=jX(e));const o=i?this._cubemapMaterial:this._equirectMaterial;o.fragmentNode.value=e;const a=this._lodMeshes[0];a.material=o;const s=this._cubeSize;NA(n,0,0,3*s,2*s),r.setRenderTarget(n),r.render(a,Ub)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let o=1;o<i;o++)this._applyGGXFilter(e,o-1,o);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,o=this._pingPongRenderTarget,a=this._ggxMaterial,s=this._lodMeshes[r];s.material=a;const l=$3.get(a),c=r/(this._lodMeshes.length-1),u=n/(this._lodMeshes.length-1),d=Math.sqrt(c*c-u*u),f=0+c*1.25,h=d*f,{_lodMax:p}=this,_=this._sizeLods[r],x=3*_*(r>p-Np?r-p+Np:0),y=4*(this._cubeSize-_);e.texture.frame=(e.texture.frame||0)+1,l.envMap.value=e.texture,l.roughness.value=h,l.mipInt.value=p-n,NA(o,x,y,3*_,2*_),i.setRenderTarget(o),i.render(s,Ub),o.texture.frame=(o.texture.frame||0)+1,l.envMap.value=o.texture,l.roughness.value=0,l.mipInt.value=p-r,NA(e,x,y,3*_,2*_),i.setRenderTarget(e),i.render(s,Ub)}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&Kt("blur direction must be either latitudinal or longitudinal!");const u=3,d=this._lodMeshes[i];d.material=c;const f=$3.get(c),h=this._sizeLods[r]-1,p=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*A0-1),_=o/p,x=isFinite(o)?1+Math.floor(u*_):A0;x>A0&&Vt(`sigmaRadians, ${o}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${A0}`);const y=[];let w=0;for(let I=0;I<A0;++I){const B=I/_,D=Math.exp(-B*B/2);y.push(D),I===0?w+=D:I<x&&(w+=2*D)}for(let I=0;I<y.length;I++)y[I]=y[I]/w;e.texture.frame=(e.texture.frame||0)+1,f.envMap.value=e.texture,f.samples.value=x,f.weights.array=y,f.latitudinal.value=a==="latitudinal"?1:0,s&&(f.poleAxis.value=s);const{_lodMax:C}=this;f.dTheta.value=p,f.mipInt.value=C-r;const M=this._sizeLods[i],R=3*M*(i>C-Np?i-C+Np:0),N=4*(this._cubeSize-M);NA(n,R,N,3*M,2*M),l.setRenderTarget(n),l.render(d,Ub)}}function mZe(t){const e=[],n=[],r=[];let i=t;const o=t-Np+1+zX.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);e.push(s);let l=1/s;a>t-Np?l=zX[a-t+Np-1]:a===0&&(l=0),n.push(l);const c=1/(s-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,_=3,x=2,y=1,w=new Float32Array(_*p*h),C=new Float32Array(x*p*h),M=new Float32Array(y*p*h);for(let N=0;N<h;N++){const I=N%3*2/3-1,B=N>2?0:-1,D=[I,B,0,I+2/3,B,0,I+2/3,B+1,0,I,B,0,I+2/3,B+1,0,I,B+1,0],$=hZe[N];w.set(D,_*p*$),C.set(f,x*p*$);const z=[$,$,$,$,$,$];M.set(z,y*p*$)}const R=new bi;R.setAttribute("position",new So(w,_)),R.setAttribute("uv",new So(C,x)),R.setAttribute("faceIndex",new So(M,y)),r.push(new Ai(R,null)),i>Np&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function GX(t,e){const n={magFilter:Ji,minFilter:Ji,generateMipmaps:!1,type:io,format:qo,colorSpace:im},r=new Th(t,e,n);return r.texture.mapping=ag,r.texture.name="PMREM.cubeUv",r.texture.isPMREMTexture=!0,r.scissorTest=!0,r}function NA(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function dN(t){const e=new Bo;return e.depthTest=!1,e.depthWrite=!1,e.blending=nl,e.name=`PMREM_${t}`,e}function gZe(t,e,n){const r=ws(new Array(A0).fill(0)),i=Wn(new Te(0,1,0)),o=Wn(0),a=Ce(A0),s=Wn(0),l=Wn(1),c=ci(),u=Wn(0),d=Ce(1/e),f=Ce(1/n),h=Ce(t),p={n:a,latitudinal:s,weights:r,poleAxis:i,outputDirection:uN,dTheta:o,samples:l,envMap:c,mipInt:u,CUBEUV_TEXEL_WIDTH:d,CUBEUV_TEXEL_HEIGHT:f,CUBEUV_MAX_MIP:h},_=dN("blur");return _.fragmentNode=Ede({...p,latitudinal:s.equal(1)}),$3.set(_,p),_}function AZe(t,e,n){const r=ci(),i=Wn(0),o=Wn(0),a=Ce(1/e),s=Ce(1/n),l=Ce(t),c={envMap:r,roughness:i,mipInt:o,CUBEUV_TEXEL_WIDTH:a,CUBEUV_TEXEL_HEIGHT:s,CUBEUV_MAX_MIP:l},u=dN("ggx");return u.fragmentNode=Mde({...c,N_immutable:uN,GGX_SAMPLES:Zt(uZe)}),$3.set(u,c),u}function HX(t){const e=dN("cubemap");return e.fragmentNode=Ys(t,uN),e}function jX(t){const e=dN("equirect");return e.fragmentNode=ci(t,n9(uN),0),e}const qX=new WeakMap;function vZe(t){const e=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:n,maxMip:e}}function yZe(t,e,n){const r=bZe(e);let i=r.get(t);if((i!==void 0?i.pmremVersion:-1)!==t.pmremVersion){const a=t.image;if(t.isCubeTexture)if(_Ze(a))i=n.fromCubemap(t,i);else return null;else if(SZe(a))i=n.fromEquirectangular(t,i);else return null;i.pmremVersion=t.pmremVersion,r.set(t,i)}return i.texture}function bZe(t){let e=qX.get(t);return e===void 0&&(e=new WeakMap,qX.set(t,e)),e}class xZe extends To{static get type(){return"PMREMNode"}constructor(e,n=null,r=null){super("vec3"),this._value=e,this._pmrem=null,this.uvNode=n,this.levelNode=r,this._generator=null;const i=new la;i.isRenderTargetTexture=!0,this._texture=ci(i),this._width=Wn(0),this._height=Wn(0),this._maxMip=Wn(0),this.updateBeforeType=Er.RENDER}set value(e){this._value=e,this._pmrem=null}get value(){return this._value}updateFromTexture(e){const n=vZe(e.image.height);this._texture.value=e,this._width.value=n.texelWidth,this._height.value=n.texelHeight,this._maxMip.value=n.maxMip}updateBefore(e){let n=this._pmrem;const r=n?n.pmremVersion:-1,i=this._value;r!==i.pmremVersion&&(i.isPMREMTexture===!0?n=i:n=yZe(i,e.renderer,this._generator),n!==null&&(this._pmrem=n,this.updateFromTexture(n)))}setup(e){this._generator===null&&(this._generator=new pZe(e.renderer)),this.updateBefore(e);let n=this.uvNode;n===null&&e.context.getUV&&(n=e.context.getUV(this,e)),n=qk.mul(et(n.x,n.y.negate(),n.z));let r=this.levelNode;return r===null&&e.context.getTextureLevel&&(r=e.context.getTextureLevel(this)),Tde(this._texture,n,r,this._width,this._height,this._maxMip)}dispose(){super.dispose(),this._generator!==null&&this._generator.dispose()}}function _Ze(t){if(t==null)return!1;let e=0;const n=6;for(let r=0;r<n;r++)t[r]!==void 0&&e++;return e===n}function SZe(t){return t==null?!1:t.height>0}const s9=xr(xZe).setParameterLength(1,3),WX=new WeakMap;class wZe extends I1{static get type(){return"EnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){const{material:n}=e;let r=this.envNode;if(r.isTextureNode||r.isMaterialReferenceNode){const d=r.isTextureNode?r.value:n[r.property];let f=WX.get(d);f===void 0&&(f=s9(d),WX.set(d,f)),r=f}const o=n.useAnisotropy===!0||n.anisotropy>0?mue:oi,a=r.context(XX(jd,o)).mul(LE),s=r.context(CZe(Sm)).mul(Math.PI).mul(LE),l=kv(a),c=kv(s);e.context.radiance.addAssign(l),e.context.iblIrradiance.addAssign(c);const u=e.context.lightingModel.clearcoatRadiance;if(u){const d=r.context(XX(C2,O0)).mul(LE),f=kv(d);u.addAssign(f)}}}const XX=(t,e)=>{let n=null;return{getUV:()=>(n===null&&(n=Fi.negate().reflect(e),n=Mk(t).mix(n,e).normalize(),n=n.transformDirection(Au)),n),getTextureLevel:()=>t}},CZe=t=>({getUV:()=>t,getTextureLevel:()=>Ce(1)}),TZe=new Eae;class Pde extends Bo{static get type(){return"MeshStandardNodeMaterial"}constructor(e){super(),this.isMeshStandardNodeMaterial=!0,this.lights=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(TZe),this.setValues(e)}setupEnvironment(e){let n=super.setupEnvironment(e);return n===null&&e.environmentNode&&(n=e.environmentNode),n?new wZe(n):null}setupLightingModel(){return new wde}setupSpecular(){const e=Zr(et(.04),Si.rgb,Yf);sm.assign(et(.04)),I0.assign(e),Bv.assign(1)}setupVariants(){const e=this.metalnessNode?Ce(this.metalnessNode):wue;Yf.assign(e);let n=this.roughnessNode?Ce(this.roughnessNode):Sue;n=i9({roughness:n}),jd.assign(n),this.setupSpecular(),g0.assign(Si.rgb.mul(e.oneMinus()))}copy(e){return this.emissiveNode=e.emissiveNode,this.metalnessNode=e.metalnessNode,this.roughnessNode=e.roughnessNode,super.copy(e)}}const EZe=new s$e;class MZe extends Pde{static get type(){return"MeshPhysicalNodeMaterial"}constructor(e){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.dispersionNode=null,this.anisotropyNode=null,this.setDefaultValues(EZe),this.setValues(e)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}get useAnisotropy(){return this.anisotropy>0||this.anisotropyNode!==null}get useTransmission(){return this.transmission>0||this.transmissionNode!==null}get useDispersion(){return this.dispersion>0||this.dispersionNode!==null}setupSpecular(){const e=this.iorNode?Ce(this.iorNode):$ue;t_.assign(e),sm.assign(Fl(Ek(t_.sub(1).div(t_.add(1))).mul(_ue),et(1)).mul(E6)),I0.assign(Zr(sm,Si.rgb,Yf)),Bv.assign(Zr(E6,1,Yf))}setupLightingModel(){return new wde(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission,this.useDispersion)}setupVariants(e){if(super.setupVariants(e),this.useClearcoat){const n=this.clearcoatNode?Ce(this.clearcoatNode):Tue,r=this.clearcoatRoughnessNode?Ce(this.clearcoatRoughnessNode):Eue;M3.assign(n),C2.assign(i9({roughness:r}))}if(this.useSheen){const n=this.sheenNode?et(this.sheenNode):Rue,r=this.sheenRoughnessNode?Ce(this.sheenRoughnessNode):Nue;Zl.assign(n),bp.assign(r)}if(this.useIridescence){const n=this.iridescenceNode?Ce(this.iridescenceNode):Oue,r=this.iridescenceIORNode?Ce(this.iridescenceIORNode):Due,i=this.iridescenceThicknessNode?Ce(this.iridescenceThicknessNode):Lue;WR.assign(n),P3.assign(r),R3.assign(i)}if(this.useAnisotropy){const n=(this.anisotropyNode?rn(this.anisotropyNode):Iue).toVar();gp.assign(n.length()),Kn(gp.equal(0),()=>{n.assign(rn(1,0))}).Else(()=>{n.divAssign(rn(gp)),gp.assign(gp.saturate())}),N3.assign(gp.pow2().mix(jd.pow2(),1)),e_.assign(D0[0].mul(n.x).add(D0[1].mul(n.y))),j0.assign(D0[1].mul(n.x).sub(D0[0].mul(n.y)))}if(this.useTransmission){const n=this.transmissionNode?Ce(this.transmissionNode):Bue,r=this.thicknessNode?Ce(this.thicknessNode):Fue,i=this.attenuationDistanceNode?Ce(this.attenuationDistanceNode):kue,o=this.attenuationColorNode?et(this.attenuationColorNode):Uue;if(O3.assign(n),uk.assign(r),dk.assign(i),fk.assign(o),this.useDispersion){const a=this.dispersionNode?Ce(this.dispersionNode):que;hk.assign(a)}}}setupClearcoatNormal(){return this.clearcoatNormalNode?et(this.clearcoatNormalNode):Mue}setup(e){e.context.setupClearcoatNormal=()=>$v(this.setupClearcoatNormal(e),"NORMAL","vec3"),super.setup(e)}copy(e){return this.clearcoatNode=e.clearcoatNode,this.clearcoatRoughnessNode=e.clearcoatRoughnessNode,this.clearcoatNormalNode=e.clearcoatNormalNode,this.sheenNode=e.sheenNode,this.sheenRoughnessNode=e.sheenRoughnessNode,this.iridescenceNode=e.iridescenceNode,this.iridescenceIORNode=e.iridescenceIORNode,this.iridescenceThicknessNode=e.iridescenceThicknessNode,this.specularIntensityNode=e.specularIntensityNode,this.specularColorNode=e.specularColorNode,this.transmissionNode=e.transmissionNode,this.thicknessNode=e.thicknessNode,this.attenuationDistanceNode=e.attenuationDistanceNode,this.attenuationColorNode=e.attenuationColorNode,this.dispersionNode=e.dispersionNode,this.anisotropyNode=e.anisotropyNode,super.copy(e)}}const PZe=ot(({normal:t,lightDirection:e,builder:n})=>{const r=t.dot(e),i=rn(r.mul(.5).add(.5),0);if(n.material.gradientMap){const o=Vf("gradientMap","texture").context({getUV:()=>i});return et(o.r)}else{const o=i.fwidth().mul(.5);return Zr(et(.7),et(1),cd(Ce(.7).sub(o.x),Ce(.7).add(o.x),i.x))}});class RZe extends lN{direct({lightDirection:e,lightColor:n,reflectedLight:r},i){const o=PZe({normal:nN,lightDirection:e,builder:i}).mul(n);r.directDiffuse.addAssign(o.mul(Ag({diffuseColor:Si.rgb})))}indirect(e){const{ambientOcclusion:n,irradiance:r,reflectedLight:i}=e.context;i.indirectDiffuse.addAssign(r.mul(Ag({diffuseColor:Si}))),i.indirectDiffuse.mulAssign(n)}}const NZe=new l$e;class IZe extends Bo{static get type(){return"MeshToonNodeMaterial"}constructor(e){super(),this.isMeshToonNodeMaterial=!0,this.lights=!0,this.setDefaultValues(NZe),this.setValues(e)}setupLightingModel(){return new RZe}}const Rde=ot(()=>{const t=et(Fi.z,0,Fi.x.negate()).normalize(),e=Fi.cross(t);return rn(t.dot(oi),e.dot(oi)).mul(.495).add(.5)}).once(["NORMAL","VERTEX"])().toVar("matcapUV"),OZe=new f$e;class DZe extends Bo{static get type(){return"MeshMatcapNodeMaterial"}constructor(e){super(),this.isMeshMatcapNodeMaterial=!0,this.setDefaultValues(OZe),this.setValues(e)}setupVariants(e){const n=Rde;let r;e.material.matcap?r=Vf("matcap","texture").context({getUV:()=>n}):r=et(Zr(.2,.8,n.y)),Si.rgb.mulAssign(r.rgb)}}class LZe extends To{static get type(){return"RotateNode"}constructor(e,n){super(),this.positionNode=e,this.rotationNode=n}getNodeType(e){return this.positionNode.getNodeType(e)}setup(e){const{rotationNode:n,positionNode:r}=this;if(this.getNodeType(e)==="vec2"){const o=n.cos(),a=n.sin();return qR(o,a,a.negate(),o).mul(r)}else{const o=n,a=Xp(Qn(1,0,0,0),Qn(0,Uu(o.x),Ws(o.x).negate(),0),Qn(0,Ws(o.x),Uu(o.x),0),Qn(0,0,0,1)),s=Xp(Qn(Uu(o.y),0,Ws(o.y),0),Qn(0,1,0,0),Qn(Ws(o.y).negate(),0,Uu(o.y),0),Qn(0,0,0,1)),l=Xp(Qn(Uu(o.z),Ws(o.z).negate(),0,0),Qn(Ws(o.z),Uu(o.z),0,0),Qn(0,0,1,0),Qn(0,0,0,1));return a.mul(s).mul(l).mul(Qn(r,1)).xyz}}}const RS=xr(LZe).setParameterLength(2),BZe=new _Fe;class Nde extends Bo{static get type(){return"SpriteNodeMaterial"}constructor(e){super(),this.isSpriteNodeMaterial=!0,this._useSizeAttenuation=!0,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.transparent=!0,this.setDefaultValues(BZe),this.setValues(e)}setupPositionView(e){const{object:n,camera:r}=e,{positionNode:i,rotationNode:o,scaleNode:a,sizeAttenuation:s}=this,l=_m.mul(et(i||0));let c=rn(Yc[0].xyz.length(),Yc[1].xyz.length());a!==null&&(c=c.mul(rn(a))),r.isPerspectiveCamera&&s===!1&&(c=c.mul(l.z.negate()));let u=MS.xy;if(n.center&&n.center.isVector2===!0){const h=RYe("center","vec2",n);u=u.sub(h.sub(.5))}u=u.mul(c);const d=Ce(o||Pue),f=RS(u,d);return Qn(l.xy.add(f),l.zw)}copy(e){return this.positionNode=e.positionNode,this.rotationNode=e.rotationNode,this.scaleNode=e.scaleNode,super.copy(e)}get sizeAttenuation(){return this._useSizeAttenuation}set sizeAttenuation(e){this._useSizeAttenuation!==e&&(this._useSizeAttenuation=e,this.needsUpdate=!0)}}const FZe=new _7,$Ze=new Wt;class kZe extends Nde{static get type(){return"PointsNodeMaterial"}constructor(e){super(),this.sizeNode=null,this.isPointsNodeMaterial=!0,this.setDefaultValues(FZe),this.setValues(e)}setupPositionView(){const{positionNode:e}=this;return _m.mul(et(e||xo)).xyz}setupVertexSprite(e){const{material:n,camera:r}=e,{rotationNode:i,scaleNode:o,sizeNode:a,sizeAttenuation:s}=this;let l=super.setupVertex(e);if(n.isNodeMaterial!==!0)return l;let c=a!==null?rn(a):jue;c=c.mul(Gce),r.isPerspectiveCamera&&s===!0&&(c=c.mul(UZe.div(jo.z.negate()))),o&&o.isNode&&(c=c.mul(rn(o)));let u=MS.xy;if(i&&i.isNode){const d=Ce(i);u=RS(u,d)}return u=u.mul(c),u=u.div(Vk.div(2)),u=u.mul(l.w),l=l.add(Qn(u,0,0)),l}setupVertex(e){return e.object.isPoints?super.setupVertex(e):this.setupVertexSprite(e)}get alphaToCoverage(){return this._useAlphaToCoverage}set alphaToCoverage(e){this._useAlphaToCoverage!==e&&(this._useAlphaToCoverage=e,this.needsUpdate=!0)}}const UZe=Wn(1).onFrameUpdate(function({renderer:t}){const e=t.getSize($Ze);this.value=.5*e.y});class zZe extends lN{constructor(){super(),this.shadowNode=Ce(1).toVar("shadowMask")}direct({lightNode:e}){e.shadowNode!==null&&this.shadowNode.mulAssign(e.shadowNode)}finish({context:e}){Si.a.mulAssign(this.shadowNode.oneMinus()),e.outgoingLight.rgb.assign(Si.rgb)}}const VZe=new o$e;class GZe extends Bo{static get type(){return"ShadowNodeMaterial"}constructor(e){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.transparent=!0,this.setDefaultValues(VZe),this.setValues(e)}setupLightingModel(){return new zZe}}th("vec3");th("vec3");th("vec3");class HZe{constructor(e,n,r){this.renderer=e,this.nodes=n,this.info=r,this._context=typeof self<"u"?self:null,this._animationLoop=null,this._requestId=null}start(){const e=(n,r)=>{this._requestId=this._context.requestAnimationFrame(e),this.info.autoReset===!0&&this.info.reset(),this.nodes.nodeFrame.update(),this.info.frame=this.nodes.nodeFrame.frameId,this.renderer._inspector.begin(),this._animationLoop!==null&&this._animationLoop(n,r),this.renderer._inspector.finish()};e()}stop(){this._context.cancelAnimationFrame(this._requestId),this._requestId=null}getAnimationLoop(){return this._animationLoop}setAnimationLoop(e){this._animationLoop=e}getContext(){return this._context}setContext(e){this._context=e}dispose(){this.stop()}}class ud{constructor(){this.weakMaps={}}_getWeakMap(e){const n=e.length;let r=this.weakMaps[n];return r===void 0&&(r=new WeakMap,this.weakMaps[n]=r),r}get(e){let n=this._getWeakMap(e);for(let r=0;r<e.length-1;r++)if(n=n.get(e[r]),n===void 0)return;return n.get(e[e.length-1])}set(e,n){let r=this._getWeakMap(e);for(let i=0;i<e.length-1;i++){const o=e[i];r.has(o)===!1&&r.set(o,new WeakMap),r=r.get(o)}return r.set(e[e.length-1],n),this}delete(e){let n=this._getWeakMap(e);for(let r=0;r<e.length-1;r++)if(n=n.get(e[r]),n===void 0)return!1;return n.delete(e[e.length-1])}}let jZe=0;function qZe(t){const e=Object.keys(t);let n=Object.getPrototypeOf(t);for(;n;){const r=Object.getOwnPropertyDescriptors(n);for(const i in r)if(r[i]!==void 0){const o=r[i];o&&typeof o.get=="function"&&e.push(i)}n=Object.getPrototypeOf(n)}return e}class WZe{constructor(e,n,r,i,o,a,s,l,c,u){this.id=jZe++,this._nodes=e,this._geometries=n,this.renderer=r,this.object=i,this.material=o,this.scene=a,this.camera=s,this.lightsNode=l,this.context=c,this.geometry=i.geometry,this.version=o.version,this.drawRange=null,this.attributes=null,this.attributesId=null,this.pipeline=null,this.group=null,this.vertexBuffers=null,this.drawParams=null,this.bundle=null,this.clippingContext=u,this.clippingContextCacheKey=u!==null?u.cacheKey:"",this.initialNodesCacheKey=this.getDynamicCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this._monitor=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.onGeometryDispose=()=>{this.attributes=null,this.attributesId=null},this.material.addEventListener("dispose",this.onMaterialDispose),this.geometry.addEventListener("dispose",this.onGeometryDispose)}updateClipping(e){this.clippingContext=e}get clippingNeedsUpdate(){return this.clippingContext===null||this.clippingContext.cacheKey===this.clippingContextCacheKey?!1:(this.clippingContextCacheKey=this.clippingContext.cacheKey,!0)}get hardwareClippingPlanes(){return this.material.hardwareClipping===!0?this.clippingContext.unionClippingCount:0}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getMonitor(){return this._monitor||(this._monitor=this.getNodeBuilderState().observer)}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getBindingGroup(e){for(const n of this.getBindings())if(n.name===e)return n}getIndex(){return this._geometries.getIndex(this)}getIndirect(){return this._geometries.getIndirect(this)}getIndirectOffset(){return this._geometries.getIndirectOffset(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}setGeometry(e){this.geometry=e,this.attributes=null,this.attributesId=null}getAttributes(){if(this.attributes!==null)return this.attributes;const e=this.getNodeBuilderState().nodeAttributes,n=this.geometry,r=[],i=new Set,o={};for(const a of e){let s;if(a.node&&a.node.attribute?s=a.node.attribute:(s=n.getAttribute(a.name),o[a.name]=s.version),s===void 0)continue;r.push(s);const l=s.isInterleavedBufferAttribute?s.data:s;i.add(l)}return this.attributes=r,this.attributesId=o,this.vertexBuffers=Array.from(i.values()),r}getVertexBuffers(){return this.vertexBuffers===null&&this.getAttributes(),this.vertexBuffers}getDrawParameters(){const{object:e,material:n,geometry:r,group:i,drawRange:o}=this,a=this.drawParams||(this.drawParams={vertexCount:0,firstVertex:0,instanceCount:0,firstInstance:0}),s=this.getIndex(),l=s!==null;let c=1;if(r.isInstancedBufferGeometry===!0?c=r.instanceCount:e.count!==void 0&&(c=Math.max(0,e.count)),c===0)return null;if(a.instanceCount=c,e.isBatchedMesh===!0)return a;let u=1;n.wireframe===!0&&!e.isPoints&&!e.isLineSegments&&!e.isLine&&!e.isLineLoop&&(u=2);let d=o.start*u,f=(o.start+o.count)*u;i!==null&&(d=Math.max(d,i.start*u),f=Math.min(f,(i.start+i.count)*u));const h=r.attributes.position;let p=1/0;l?p=s.count:h!=null&&(p=h.count),d=Math.max(d,0),f=Math.min(f,p);const _=f-d;return _<0||_===1/0?null:(a.vertexCount=_,a.firstVertex=d,a)}getGeometryCacheKey(){const{geometry:e}=this;let n="";for(const r of Object.keys(e.attributes).sort()){const i=e.attributes[r];n+=r+",",i.data&&(n+=i.data.stride+","),i.offset&&(n+=i.offset+","),i.itemSize&&(n+=i.itemSize+","),i.normalized&&(n+="n,")}for(const r of Object.keys(e.morphAttributes).sort()){const i=e.morphAttributes[r];n+="morph-"+r+",";for(let o=0,a=i.length;o<a;o++){const s=i[o];n+=s.id+","}}return e.index&&(n+="index,"),n}getMaterialCacheKey(){const{object:e,material:n,renderer:r}=this;let i=n.customProgramCacheKey();for(const o of qZe(n)){if(/^(is[A-Z]|_)|^(visible|version|uuid|name|opacity|userData)$/.test(o))continue;const a=n[o];let s;if(a!==null){const l=typeof a;l==="number"?s=a!==0?"1":"0":l==="object"?(s="{",a.isTexture&&(s+=a.mapping,r.backend.isWebGPUBackend===!0&&(s+=a.magFilter,s+=a.minFilter,s+=a.wrapS,s+=a.wrapT,s+=a.wrapR)),s+="}"):s=String(a)}else s=String(a);i+=s+","}return i+=this.clippingContextCacheKey+",",e.geometry&&(i+=this.getGeometryCacheKey()),e.skeleton&&(i+=e.skeleton.bones.length+","),e.isBatchedMesh&&(i+=e._matricesTexture.uuid+",",e._colorsTexture!==null&&(i+=e._colorsTexture.uuid+",")),(e.isInstancedMesh||e.count>1||Array.isArray(e.morphTargetInfluences))&&(i+=e.uuid+","),i+=this.context.id+",",i+=e.receiveShadow+",",wS(i)}get needsGeometryUpdate(){if(this.geometry.id!==this.object.geometry.id)return!0;if(this.attributes!==null){const e=this.attributesId;for(const n in e){const r=this.geometry.getAttribute(n);if(r===void 0||e[n]!==r.id)return!0}}return!1}get needsUpdate(){return this.initialNodesCacheKey!==this.getDynamicCacheKey()||this.clippingNeedsUpdate}getDynamicCacheKey(){let e=0;return this.material.isShadowPassMaterial!==!0&&(e=this._nodes.getCacheKey(this.scene,this.lightsNode)),this.camera.isArrayCamera&&(e=Zx(e,this.camera.cameras.length)),this.object.receiveShadow&&(e=Zx(e,1)),e=Zx(e,this.camera.id,this.renderer.contextNode.id,this.renderer.contextNode.version),e}getCacheKey(){return this.getMaterialCacheKey()+this.getDynamicCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.geometry.removeEventListener("dispose",this.onGeometryDispose),this.onDispose()}}const Ym=[];class XZe{constructor(e,n,r,i,o,a){this.renderer=e,this.nodes=n,this.geometries=r,this.pipelines=i,this.bindings=o,this.info=a,this.chainMaps={}}get(e,n,r,i,o,a,s,l){const c=this.getChainMap(l);Ym[0]=e,Ym[1]=n,Ym[2]=a,Ym[3]=o;let u=c.get(Ym);return u===void 0?(u=this.createRenderObject(this.nodes,this.geometries,this.renderer,e,n,r,i,o,a,s,l),c.set(Ym,u)):(u.updateClipping(s),u.needsGeometryUpdate&&u.setGeometry(e.geometry),(u.version!==n.version||u.needsUpdate)&&(u.initialCacheKey!==u.getCacheKey()?(u.dispose(),u=this.get(e,n,r,i,o,a,s,l)):u.version=n.version)),Ym.length=0,u}getChainMap(e="default"){return this.chainMaps[e]||(this.chainMaps[e]=new ud)}dispose(){this.chainMaps={}}createRenderObject(e,n,r,i,o,a,s,l,c,u,d){const f=this.getChainMap(d),h=new WZe(e,n,r,i,o,a,s,l,c,u);return h.onDispose=()=>{this.pipelines.delete(h),this.bindings.deleteForRender(h),this.nodes.delete(h),f.delete(h.getChainArray())},h}}class wm{constructor(){this.data=new WeakMap}get(e){let n=this.data.get(e);return n===void 0&&(n={},this.data.set(e,n)),n}delete(e){let n=null;return this.data.has(e)&&(n=this.data.get(e),this.data.delete(e)),n}has(e){return this.data.has(e)}dispose(){this.data=new WeakMap}}const Kc={VERTEX:1,INDEX:2,STORAGE:3,INDIRECT:4},Sp=16,YZe=211,KZe=212;class QZe extends wm{constructor(e){super(),this.backend=e}delete(e){const n=super.delete(e);return n!==null&&this.backend.destroyAttribute(e),n}update(e,n){const r=this.get(e);if(r.version===void 0)n===Kc.VERTEX?this.backend.createAttribute(e):n===Kc.INDEX?this.backend.createIndexAttribute(e):n===Kc.STORAGE?this.backend.createStorageAttribute(e):n===Kc.INDIRECT&&this.backend.createIndirectStorageAttribute(e),r.version=this._getBufferAttribute(e).version;else{const i=this._getBufferAttribute(e);(r.version<i.version||i.usage===M0)&&(this.backend.updateAttribute(e),r.version=i.version)}}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}function Ide(t){return t.index!==null?t.index.version:t.attributes.position.version}function YX(t){const e=[],n=t.index,r=t.attributes.position;if(n!==null){const o=n.array;for(let a=0,s=o.length;a<s;a+=3){const l=o[a+0],c=o[a+1],u=o[a+2];e.push(l,c,c,u,u,l)}}else{const o=r.array;for(let a=0,s=o.length/3-1;a<s;a+=3){const l=a+0,c=a+1,u=a+2;e.push(l,c,c,u,u,l)}}const i=new(d7(e)?A7:g7)(e,1);return i.version=Ide(t),i}class ZZe extends wm{constructor(e,n){super(),this.attributes=e,this.info=n,this.wireframes=new WeakMap,this.attributeCall=new WeakMap,this._geometryDisposeListeners=new Map}has(e){const n=e.geometry;return super.has(n)&&this.get(n).initialized===!0}updateForRender(e){this.has(e)===!1&&this.initGeometry(e),this.updateAttributes(e)}initGeometry(e){const n=e.geometry,r=this.get(n);r.initialized=!0,this.info.memory.geometries++;const i=()=>{this.info.memory.geometries--;const o=n.index,a=e.getAttributes();o!==null&&this.attributes.delete(o);for(const l of a)this.attributes.delete(l);const s=this.wireframes.get(n);s!==void 0&&this.attributes.delete(s),n.removeEventListener("dispose",i),this._geometryDisposeListeners.delete(n)};n.addEventListener("dispose",i),this._geometryDisposeListeners.set(n,i)}updateAttributes(e){const n=e.getAttributes();for(const o of n)o.isStorageBufferAttribute||o.isStorageInstancedBufferAttribute?this.updateAttribute(o,Kc.STORAGE):this.updateAttribute(o,Kc.VERTEX);const r=this.getIndex(e);r!==null&&this.updateAttribute(r,Kc.INDEX);const i=e.geometry.indirect;i!==null&&this.updateAttribute(i,Kc.INDIRECT)}updateAttribute(e,n){const r=this.info.render.calls;e.isInterleavedBufferAttribute?this.attributeCall.get(e)===void 0?(this.attributes.update(e,n),this.attributeCall.set(e,r)):this.attributeCall.get(e.data)!==r&&(this.attributes.update(e,n),this.attributeCall.set(e.data,r),this.attributeCall.set(e,r)):this.attributeCall.get(e)!==r&&(this.attributes.update(e,n),this.attributeCall.set(e,r))}getIndirect(e){return e.geometry.indirect}getIndirectOffset(e){return e.geometry.indirectOffset}getIndex(e){const{geometry:n,material:r}=e;let i=n.index;if(r.wireframe===!0){const o=this.wireframes;let a=o.get(n);a===void 0?(a=YX(n),o.set(n,a)):a.version!==Ide(n)&&(this.attributes.delete(a),a=YX(n),o.set(n,a)),i=a}return i}dispose(){for(const[e,n]of this._geometryDisposeListeners.entries())e.removeEventListener("dispose",n);this._geometryDisposeListeners.clear()}}class JZe{constructor(){this.autoReset=!0,this.frame=0,this.calls=0,this.render={calls:0,frameCalls:0,drawCalls:0,triangles:0,points:0,lines:0,timestamp:0},this.compute={calls:0,frameCalls:0,timestamp:0},this.memory={geometries:0,textures:0}}update(e,n,r){this.render.drawCalls++,e.isMesh||e.isSprite?this.render.triangles+=r*(n/3):e.isPoints?this.render.points+=r*n:e.isLineSegments?this.render.lines+=r*(n/2):e.isLine?this.render.lines+=r*(n-1):Kt("WebGPUInfo: Unknown object type.")}reset(){this.render.drawCalls=0,this.render.frameCalls=0,this.compute.frameCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.calls=0,this.render.calls=0,this.compute.calls=0,this.render.timestamp=0,this.compute.timestamp=0,this.memory.geometries=0,this.memory.textures=0}}class Ode{constructor(e){this.cacheKey=e,this.usedTimes=0}}class eJe extends Ode{constructor(e,n,r){super(e),this.vertexProgram=n,this.fragmentProgram=r}}class tJe extends Ode{constructor(e,n){super(e),this.computeProgram=n,this.isComputePipeline=!0}}let nJe=0;class tD{constructor(e,n,r,i=null,o=null){this.id=nJe++,this.code=e,this.stage=n,this.name=r,this.transforms=i,this.attributes=o,this.usedTimes=0}}class rJe extends wm{constructor(e,n){super(),this.backend=e,this.nodes=n,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(e,n){const{backend:r}=this,i=this.get(e);if(this._needsComputeUpdate(e)){const o=i.pipeline;o&&(o.usedTimes--,o.computeProgram.usedTimes--);const a=this.nodes.getForCompute(e);let s=this.programs.compute.get(a.computeShader);s===void 0&&(o&&o.computeProgram.usedTimes===0&&this._releaseProgram(o.computeProgram),s=new tD(a.computeShader,"compute",e.name,a.transforms,a.nodeAttributes),this.programs.compute.set(a.computeShader,s),r.createProgram(s));const l=this._getComputeCacheKey(e,s);let c=this.caches.get(l);c===void 0&&(o&&o.usedTimes===0&&this._releasePipeline(o),c=this._getComputePipeline(e,s,l,n)),c.usedTimes++,s.usedTimes++,i.version=e.version,i.pipeline=c}return i.pipeline}getForRender(e,n=null){const{backend:r}=this,i=this.get(e);if(this._needsRenderUpdate(e)){const o=i.pipeline;o&&(o.usedTimes--,o.vertexProgram.usedTimes--,o.fragmentProgram.usedTimes--);const a=e.getNodeBuilderState(),s=e.material?e.material.name:"";let l=this.programs.vertex.get(a.vertexShader);l===void 0&&(o&&o.vertexProgram.usedTimes===0&&this._releaseProgram(o.vertexProgram),l=new tD(a.vertexShader,"vertex",s),this.programs.vertex.set(a.vertexShader,l),r.createProgram(l));let c=this.programs.fragment.get(a.fragmentShader);c===void 0&&(o&&o.fragmentProgram.usedTimes===0&&this._releaseProgram(o.fragmentProgram),c=new tD(a.fragmentShader,"fragment",s),this.programs.fragment.set(a.fragmentShader,c),r.createProgram(c));const u=this._getRenderCacheKey(e,l,c);let d=this.caches.get(u);d===void 0?(o&&o.usedTimes===0&&this._releasePipeline(o),d=this._getRenderPipeline(e,l,c,u,n)):e.pipeline=d,d.usedTimes++,l.usedTimes++,c.usedTimes++,i.pipeline=d}return i.pipeline}delete(e){const n=this.get(e).pipeline;return n&&(n.usedTimes--,n.usedTimes===0&&this._releasePipeline(n),n.isComputePipeline?(n.computeProgram.usedTimes--,n.computeProgram.usedTimes===0&&this._releaseProgram(n.computeProgram)):(n.fragmentProgram.usedTimes--,n.vertexProgram.usedTimes--,n.vertexProgram.usedTimes===0&&this._releaseProgram(n.vertexProgram),n.fragmentProgram.usedTimes===0&&this._releaseProgram(n.fragmentProgram))),super.delete(e)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(e){this.getForRender(e)}_getComputePipeline(e,n,r,i){r=r||this._getComputeCacheKey(e,n);let o=this.caches.get(r);return o===void 0&&(o=new tJe(r,n),this.caches.set(r,o),this.backend.createComputePipeline(o,i)),o}_getRenderPipeline(e,n,r,i,o){i=i||this._getRenderCacheKey(e,n,r);let a=this.caches.get(i);return a===void 0&&(a=new eJe(i,n,r),this.caches.set(i,a),e.pipeline=a,this.backend.createRenderPipeline(e,o)),a}_getComputeCacheKey(e,n){return e.id+","+n.id}_getRenderCacheKey(e,n,r){return n.id+","+r.id+","+this.backend.getRenderCacheKey(e)}_releasePipeline(e){this.caches.delete(e.cacheKey)}_releaseProgram(e){const n=e.code,r=e.stage;this.programs[r].delete(n)}_needsComputeUpdate(e){const n=this.get(e);return n.pipeline===void 0||n.version!==e.version}_needsRenderUpdate(e){return this.get(e).pipeline===void 0||this.backend.needsRenderUpdate(e)}}class iJe extends wm{constructor(e,n,r,i,o,a){super(),this.backend=e,this.textures=r,this.pipelines=o,this.attributes=i,this.nodes=n,this.info=a,this.pipelines.bindings=this}getForRender(e){const n=e.getBindings();for(const r of n){const i=this.get(r);i.bindGroup===void 0&&(this._init(r),this.backend.createBindings(r,n,0),i.bindGroup=r)}return n}getForCompute(e){const n=this.nodes.getForCompute(e).bindings;for(const r of n){const i=this.get(r);i.bindGroup===void 0&&(this._init(r),this.backend.createBindings(r,n,0),i.bindGroup=r)}return n}updateForCompute(e){this._updateBindings(this.getForCompute(e))}updateForRender(e){this._updateBindings(this.getForRender(e))}deleteForCompute(e){const n=this.nodes.getForCompute(e).bindings;for(const r of n)this.backend.deleteBindGroupData(r),this.delete(r)}deleteForRender(e){const n=e.getBindings();for(const r of n)this.backend.deleteBindGroupData(r),this.delete(r)}_updateBindings(e){for(const n of e)this._update(n,e)}_init(e){for(const n of e.bindings)if(n.isSampledTexture)this.textures.updateTexture(n.texture);else if(n.isSampler)this.textures.updateSampler(n.texture);else if(n.isStorageBuffer){const r=n.attribute,i=r.isIndirectStorageBufferAttribute?Kc.INDIRECT:Kc.STORAGE;this.attributes.update(r,i)}}_update(e,n){const{backend:r}=this;let i=!1,o=!0,a=0,s=0;for(const l of e.bindings)if(this.nodes.updateGroup(l)!==!1){if(l.isStorageBuffer){const u=l.attribute,d=u.isIndirectStorageBufferAttribute?Kc.INDIRECT:Kc.STORAGE;this.attributes.update(u,d)}if(l.isUniformBuffer)l.update()&&r.updateBinding(l);else if(l.isSampledTexture){const u=l.update(),d=l.texture,f=this.textures.get(d);if(u&&(this.textures.updateTexture(d),l.generation!==f.generation&&(l.generation=f.generation,i=!0,o=!1)),r.get(d).externalTexture!==void 0||f.isDefaultTexture?o=!1:(a=a*10+d.id,s+=d.version),d.isStorageTexture===!0&&d.mipmapsAutoUpdate===!0){const p=this.get(d);l.store===!0?p.needsMipmap=!0:this.textures.needsMipmaps(d)&&p.needsMipmap===!0&&(this.backend.generateMipmaps(d),p.needsMipmap=!1)}}else if(l.isSampler&&l.update()){const d=this.textures.updateSampler(l.texture);l.samplerKey!==d&&(l.samplerKey=d,i=!0,o=!1)}}i===!0&&this.backend.updateBindings(e,n,o?a:0,s)}}function oJe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?t.z-e.z:t.id-e.id}function KX(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function QX(t){return(t.transmission>0||t.transmissionNode&&t.transmissionNode.isNode)&&t.side===Ko&&t.forceSinglePass===!1}class aJe{constructor(e,n,r){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparentDoublePass=[],this.transparent=[],this.bundles=[],this.lightsNode=e.getNode(n,r),this.lightsArray=[],this.scene=n,this.camera=r,this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparentDoublePass.length=0,this.transparent.length=0,this.bundles.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(e,n,r,i,o,a,s){let l=this.renderItems[this.renderItemsIndex];return l===void 0?(l={id:e.id,object:e,geometry:n,material:r,groupOrder:i,renderOrder:e.renderOrder,z:o,group:a,clippingContext:s},this.renderItems[this.renderItemsIndex]=l):(l.id=e.id,l.object=e,l.geometry=n,l.material=r,l.groupOrder=i,l.renderOrder=e.renderOrder,l.z=o,l.group=a,l.clippingContext=s),this.renderItemsIndex++,l}push(e,n,r,i,o,a,s){const l=this.getNextRenderItem(e,n,r,i,o,a,s);e.occlusionTest===!0&&this.occlusionQueryCount++,r.transparent===!0||r.transmission>0||r.transmissionNode&&r.transmissionNode.isNode||r.backdropNode&&r.backdropNode.isNode?(QX(r)&&this.transparentDoublePass.push(l),this.transparent.push(l)):this.opaque.push(l)}unshift(e,n,r,i,o,a,s){const l=this.getNextRenderItem(e,n,r,i,o,a,s);r.transparent===!0||r.transmission>0||r.transmissionNode&&r.transmissionNode.isNode||r.backdropNode&&r.backdropNode.isNode?(QX(r)&&this.transparentDoublePass.unshift(l),this.transparent.unshift(l)):this.opaque.unshift(l)}pushBundle(e){this.bundles.push(e)}pushLight(e){this.lightsArray.push(e)}sort(e,n){this.opaque.length>1&&this.opaque.sort(e||oJe),this.transparentDoublePass.length>1&&this.transparentDoublePass.sort(n||KX),this.transparent.length>1&&this.transparent.sort(n||KX)}finish(){this.lightsNode.setLights(this.lightsArray);for(let e=this.renderItemsIndex,n=this.renderItems.length;e<n;e++){const r=this.renderItems[e];if(r.id===null)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.groupOrder=null,r.renderOrder=null,r.z=null,r.group=null,r.clippingContext=null}}}const zb=[];class sJe{constructor(e){this.lighting=e,this.lists=new ud}get(e,n){const r=this.lists;zb[0]=e,zb[1]=n;let i=r.get(zb);return i===void 0&&(i=new aJe(this.lighting,e,n),r.set(zb,i)),zb.length=0,i}dispose(){this.lists=new ud}}let lJe=0;class cJe{constructor(){this.id=lJe++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!1,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new yr,this.scissor=!1,this.scissorValue=new yr,this.renderTarget=null,this.textures=null,this.depthTexture=null,this.activeCubeFace=0,this.activeMipmapLevel=0,this.sampleCount=1,this.width=0,this.height=0,this.occlusionQueryCount=0,this.clippingContext=null,this.isRenderContext=!0}getCacheKey(){return Dde(this)}}function Dde(t){const{textures:e,activeCubeFace:n,activeMipmapLevel:r}=t,i=[n,r];for(const o of e)i.push(o.id);return R1(i)}const IA=[],uJe=new NR,dJe=new vS;class fJe{constructor(){this.chainMaps={}}get(e,n,r=null,i=null){IA[0]=e,IA[1]=n,i!==null&&(IA[2]=i);let o;if(r===null)o="default";else{const l=r.texture.format;o=`${r.textures.length}:${l}:${r.samples}:${r.depthBuffer}:${r.stencilBuffer}`}const a=this._getChainMap(o);let s=a.get(IA);return s===void 0&&(s=new cJe,a.set(IA,s)),IA.length=0,r!==null&&(s.sampleCount=r.samples===0?1:r.samples),s}getForClear(e=null){return this.get(uJe,dJe,e)}_getChainMap(e){return this.chainMaps[e]||(this.chainMaps[e]=new ud)}dispose(){this.chainMaps={}}}const hJe=new Te;class pJe extends wm{constructor(e,n,r){super(),this.renderer=e,this.backend=n,this.info=r}updateRenderTarget(e,n=0){const r=this.get(e),i=e.samples===0?1:e.samples,o=r.depthTextureMips||(r.depthTextureMips={}),a=e.textures,s=this.getSize(a[0]),l=s.width>>n,c=s.height>>n;let u=e.depthTexture||o[n];const d=e.depthBuffer===!0||e.stencilBuffer===!0;let f=!1;u===void 0&&d&&(u=new Ms,u.format=e.stencilBuffer?Ks:os,u.type=e.stencilBuffer?uc:Ni,u.image.width=l,u.image.height=c,u.image.depth=s.depth,u.renderTarget=e,u.isArrayTexture=e.multiview===!0&&s.depth>1,o[n]=u),(r.width!==s.width||s.height!==r.height)&&(f=!0,u&&(u.needsUpdate=!0,u.image.width=l,u.image.height=c,u.image.depth=u.isArrayTexture?u.image.depth:1)),r.width=s.width,r.height=s.height,r.textures=a,r.depthTexture=u||null,r.depth=e.depthBuffer,r.stencil=e.stencilBuffer,r.renderTarget=e,r.sampleCount!==i&&(f=!0,u&&(u.needsUpdate=!0),r.sampleCount=i);const h={sampleCount:i};if(e.isXRRenderTarget!==!0){for(let p=0;p<a.length;p++){const _=a[p];f&&(_.needsUpdate=!0),this.updateTexture(_,h)}u&&this.updateTexture(u,h)}r.initialized!==!0&&(r.initialized=!0,r.onDispose=()=>{this._destroyRenderTarget(e)},e.addEventListener("dispose",r.onDispose))}updateTexture(e,n={}){const r=this.get(e);if(r.initialized===!0&&r.version===e.version)return;const i=e.isRenderTargetTexture||e.isDepthTexture||e.isFramebufferTexture,o=this.backend;if(i&&r.initialized===!0&&o.destroyTexture(e),e.isFramebufferTexture){const c=this.renderer.getRenderTarget();c?e.type=c.texture.type:e.type=no}const{width:a,height:s,depth:l}=this.getSize(e);if(n.width=a,n.height=s,n.depth=l,n.needsMipmaps=this.needsMipmaps(e),n.levels=n.needsMipmaps?this.getMipLevels(e,a,s):1,e.isCubeTexture&&e.mipmaps.length>0&&n.levels++,i||e.isStorageTexture===!0||e.isExternalTexture===!0)o.createTexture(e,n),r.generation=e.version;else if(e.version>0){const c=e.image;if(c===void 0)Vt("Renderer: Texture marked for update but image is undefined.");else if(c.complete===!1)Vt("Renderer: Texture marked for update but image is incomplete.");else{if(e.images){const d=[];for(const f of e.images)d.push(f);n.images=d}else n.image=c;(r.isDefaultTexture===void 0||r.isDefaultTexture===!0)&&(o.createTexture(e,n),r.isDefaultTexture=!1,r.generation=e.version),e.source.dataReady===!0&&o.updateTexture(e,n);const u=e.isStorageTexture===!0&&e.mipmapsAutoUpdate===!1;n.needsMipmaps&&e.mipmaps.length===0&&!u&&o.generateMipmaps(e),e.onUpdate&&e.onUpdate(e)}}else o.createDefaultTexture(e),r.isDefaultTexture=!0,r.generation=e.version;r.initialized!==!0&&(r.initialized=!0,r.generation=e.version,this.info.memory.textures++,e.isVideoTexture&&fr.enabled===!0&&fr.getTransfer(e.colorSpace)!==In&&Vt("WebGPURenderer: Video textures must use a color space with a sRGB transfer function, e.g. SRGBColorSpace."),r.onDispose=()=>{this._destroyTexture(e)},e.addEventListener("dispose",r.onDispose)),r.version=e.version}updateSampler(e){return this.backend.updateSampler(e)}getSize(e,n=hJe){let r=e.images?e.images[0]:e.image;return r?(r.image!==void 0&&(r=r.image),typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement?(n.width=r.videoWidth||1,n.height=r.videoHeight||1,n.depth=1):typeof VideoFrame<"u"&&r instanceof VideoFrame?(n.width=r.displayWidth||1,n.height=r.displayHeight||1,n.depth=1):(n.width=r.width||1,n.height=r.height||1,n.depth=e.isCubeTexture?6:r.depth||1)):n.width=n.height=n.depth=1,n}getMipLevels(e,n,r){let i;return e.mipmaps.length>0?i=e.mipmaps.length:e.isCompressedTexture===!0?i=1:i=Math.floor(Math.log2(Math.max(n,r)))+1,i}needsMipmaps(e){return e.generateMipmaps===!0||e.mipmaps.length>0}_destroyRenderTarget(e){if(this.has(e)===!0){const n=this.get(e),r=n.textures,i=n.depthTexture;e.removeEventListener("dispose",n.onDispose);for(let o=0;o<r.length;o++)this._destroyTexture(r[o]);i&&this._destroyTexture(i),this.delete(e),this.backend.delete(e)}}_destroyTexture(e){if(this.has(e)===!0){const n=this.get(e);e.removeEventListener("dispose",n.onDispose);const r=n.isDefaultTexture;this.backend.destroyTexture(e,r),this.delete(e),this.info.memory.textures--}}}class l9 extends Vn{constructor(e,n,r,i=1){super(e,n,r),this.a=i}set(e,n,r,i=1){return this.a=i,super.set(e,n,r)}copy(e){return e.a!==void 0&&(this.a=e.a),super.copy(e)}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}}class Lde extends vi{static get type(){return"ParameterNode"}constructor(e,n=null){super(e,n),this.isParameterNode=!0}getMemberType(e,n){const r=this.getNodeType(e),i=e.getStructTypeNode(r);let o;return i!==null?o=i.getMemberType(e,n):(Kt(`TSL: Member "${n}" not found in struct "${r}".`),o="float"),o}getHash(){return this.uuid}generate(){return this.name}}const mJe=(t,e)=>new Lde(t,e);class gJe extends On{static get type(){return"StackNode"}constructor(e=null){super(),this.nodes=[],this.outputNode=null,this.parent=e,this._currentCond=null,this._expressionNode=null,this._currentNode=null,this.isStackNode=!0}getElementType(e){return this.hasOutput?this.outputNode.getElementType(e):"void"}getNodeType(e){return this.hasOutput?this.outputNode.getNodeType(e):"void"}getMemberType(e,n){return this.hasOutput?this.outputNode.getMemberType(e,n):"void"}addToStack(e,n=this.nodes.length){return e.isNode!==!0?(Kt("TSL: Invalid node added to stack."),this):(this.nodes.splice(n,0,e),this)}addToStackBefore(e){const n=this._currentNode?this.nodes.indexOf(this._currentNode):0;return this.addToStack(e,n)}If(e,n){const r=new pv(n);return this._currentCond=ts(e,r),this.addToStack(this._currentCond)}ElseIf(e,n){const r=new pv(n),i=ts(e,r);return this._currentCond.elseNode=i,this._currentCond=i,this}Else(e){return this._currentCond.elseNode=new pv(e),this}Switch(e){return this._expressionNode=vn(e),this}Case(...e){const n=[];if(e.length>=2)for(let s=0;s<e.length-1;s++)n.push(this._expressionNode.equal(vn(e[s])));else Kt("TSL: Invalid parameter length. Case() requires at least two parameters.");const r=e[e.length-1],i=new pv(r);let o=n[0];for(let s=1;s<n.length;s++)o=o.or(n[s]);const a=ts(o,i);return this._currentCond===null?(this._currentCond=a,this.addToStack(this._currentCond)):(this._currentCond.elseNode=a,this._currentCond=a,this)}Default(e){return this.Else(e),this}setup(e){const n=e.getNodeProperties(this);let r=0;for(const i of this.getChildren())i.isVarNode&&i.isIntent(e)&&i.isAssign(e)!==!0||(n["node"+r++]=i);return n.outputNode||null}get hasOutput(){return this.outputNode&&this.outputNode.isNode}build(e,...n){const r=ik(),i=e.buildStage;S2(this),e.setActiveStack(this);const o=c=>{if(this._currentNode=c,!(c.isVarNode&&c.isIntent(e)&&c.isAssign(e)!==!0)){if(i==="setup")c.build(e);else if(i==="analyze")c.build(e,this);else if(i==="generate"){const u=e.getDataFromNode(c,"any").stages,d=u&&u[e.shaderStage];if(c.isVarNode&&d&&d.length===1&&d[0]&&d[0].isStackNode)return;c.build(e,"void")}}},a=[...this.nodes];for(const c of a)o(c);this._currentNode=null;const s=this.nodes.filter(c=>a.indexOf(c)===-1);for(const c of s)o(c);let l;return this.hasOutput?l=this.outputNode.build(e,...n):l=super.build(e,...n),S2(r),e.removeActiveStack(this),l}}const FE=xr(gJe).setParameterLength(0,1);function AJe(t){return Object.entries(t).map(([e,n])=>typeof n=="string"?{name:e,type:n,atomic:!1}:{name:e,type:n.type,atomic:n.atomic||!1})}class vJe extends On{static get type(){return"StructTypeNode"}constructor(e,n=null){super("struct"),this.membersLayout=AJe(e),this.name=n,this.isStructLayoutNode=!0}getLength(){const e=Float32Array.BYTES_PER_ELEMENT;let n=1,r=0;for(const i of this.membersLayout){const o=i.type,a=kXe(o),s=UXe(o)/e;n=Math.max(n,s);const c=r%n%s;c!==0&&(r+=s-c),r+=a}return Math.ceil(r/n)*n}getMemberType(e,n){const r=this.membersLayout.find(i=>i.name===n);return r?r.type:"void"}getNodeType(e){return e.getStructTypeFromNode(this,this.membersLayout,this.name).name}setup(e){e.getStructTypeFromNode(this,this.membersLayout,this.name),e.addInclude(this)}generate(e){return this.getNodeType(e)}}class yJe extends On{static get type(){return"StructNode"}constructor(e,n){super("vec3"),this.structTypeNode=e,this.values=n,this.isStructNode=!0}getNodeType(e){return this.structTypeNode.getNodeType(e)}getMemberType(e,n){return this.structTypeNode.getMemberType(e,n)}generate(e){const n=e.getVarFromNode(this),r=n.type,i=e.getPropertyName(n);return e.addLineFlowCode(`${i} = ${e.generateStruct(r,this.structTypeNode.membersLayout,this.values)}`,this),n.name}}const bJe=(t,e=null)=>{const n=new vJe(t,e),r=(...i)=>{let o=null;if(i.length>0)if(i[0].isNode){o={};const a=Object.keys(t);for(let s=0;s<i.length;s++)o[a[s]]=i[s]}else o=i[0];return new yJe(n,o)};return r.layout=n,r.isStruct=!0,r};class Bde extends On{static get type(){return"OutputStructNode"}constructor(...e){super(),this.members=e,this.isOutputStructNode=!0}getNodeType(e){const n=e.getNodeProperties(this);if(n.membersLayout===void 0){const r=this.members,i=[];for(let o=0;o<r.length;o++){const a="m"+o,s=r[o].getNodeType(e);i.push({name:a,type:s,index:o})}n.membersLayout=i,n.structType=e.getOutputStructTypeFromNode(this,n.membersLayout)}return n.structType.name}generate(e){const n=e.getOutputStructName(),r=this.members,i=n!==""?n+".":"";for(let o=0;o<r.length;o++){const a=r[o].build(e);e.addLineFlowCode(`${i}m${o} = ${a}`,this)}return n}}const xJe=xr(Bde);function Fde(t,e){for(let n=0;n<t.length;n++)if(t[n].name===e)return n;return-1}class _Je extends Bde{static get type(){return"MRTNode"}constructor(e){super(),this.outputNodes=e,this.isMRTNode=!0}has(e){return this.outputNodes[e]!==void 0}get(e){return this.outputNodes[e]}merge(e){const n={...this.outputNodes,...e.outputNodes};return $de(n)}setup(e){const n=this.outputNodes,r=e.renderer.getRenderTarget(),i=[],o=r.textures;for(const a in n){const s=Fde(o,a);i[s]=Qn(n[a])}return this.members=i,super.setup(e)}}const $de=xr(_Je);class NS extends To{static get type(){return"BitcastNode"}constructor(e,n,r=null){super(),this.valueNode=e,this.conversionType=n,this.inputType=r,this.isBitcastNode=!0}getNodeType(e){if(this.inputType!==null){const n=this.valueNode.getNodeType(e),r=e.getTypeLength(n);return e.getTypeFromLength(r,this.conversionType)}return this.conversionType}generate(e){const n=this.getNodeType(e);let r="";if(this.inputType!==null){const i=this.valueNode.getNodeType(e);r=e.getTypeLength(i)===1?this.inputType:e.changeComponentType(i,this.inputType)}else r=this.valueNode.getNodeType(e);return`${e.getBitcastMethod(n,r)}( ${this.valueNode.build(e,r)} )`}}const kde=an(NS).setParameterLength(2),SJe=t=>new NS(t,"int","float"),Ude=t=>new NS(t,"uint","float"),wJe=t=>new NS(t,"float","int"),CJe=t=>new NS(t,"float","uint"),fT={};class dc extends yt{static get type(){return"BitcountNode"}constructor(e,n){super(e,n),this.isBitcountNode=!0}_resolveElementType(e,n,r){r==="int"?n.assign(kde(e,"uint")):n.assign(e)}_returnDataNode(e){switch(e){case"uint":return Zt;case"int":return We;case"uvec2":return ok;case"uvec3":return Og;case"uvec4":return ck;case"ivec2":return ia;case"ivec3":return ak;case"ivec4":return lk}}_createTrailingZerosBaseLayout(e,n){const r=this._returnDataNode(n);return ot(([o])=>{const a=Zt(0);this._resolveElementType(o,a,n);const s=Ce(a.bitAnd(_k(a))),c=Ude(s).shiftRight(23).sub(127);return r(c)}).setLayout({name:e,type:n,inputs:[{name:"value",type:n}]})}_createLeadingZerosBaseLayout(e,n){const r=this._returnDataNode(n);return ot(([o])=>{Kn(o.equal(Zt(0)),()=>Zt(32));const a=Zt(0),s=Zt(0);return this._resolveElementType(o,a,n),Kn(a.shiftRight(16).equal(0),()=>{s.addAssign(16),a.shiftLeftAssign(16)}),Kn(a.shiftRight(24).equal(0),()=>{s.addAssign(8),a.shiftLeftAssign(8)}),Kn(a.shiftRight(28).equal(0),()=>{s.addAssign(4),a.shiftLeftAssign(4)}),Kn(a.shiftRight(30).equal(0),()=>{s.addAssign(2),a.shiftLeftAssign(2)}),Kn(a.shiftRight(31).equal(0),()=>{s.addAssign(1)}),r(s)}).setLayout({name:e,type:n,inputs:[{name:"value",type:n}]})}_createOneBitsBaseLayout(e,n){const r=this._returnDataNode(n);return ot(([o])=>{const a=Zt(0);this._resolveElementType(o,a,n),a.assign(a.sub(a.shiftRight(Zt(1)).bitAnd(Zt(1431655765)))),a.assign(a.bitAnd(Zt(858993459)).add(a.shiftRight(Zt(2)).bitAnd(Zt(858993459))));const s=a.add(a.shiftRight(Zt(4))).bitAnd(Zt(252645135)).mul(Zt(16843009)).shiftRight(Zt(24));return r(s)}).setLayout({name:e,type:n,inputs:[{name:"value",type:n}]})}_createMainLayout(e,n,r,i){const o=this._returnDataNode(n);return ot(([s])=>{if(r===1)return o(i(s));{const l=o(0),c=["x","y","z","w"];for(let u=0;u<r;u++){const d=c[u];l[d].assign(i(s[d]))}return l}}).setLayout({name:e,type:n,inputs:[{name:"value",type:n}]})}setup(e){const{method:n,aNode:r}=this,{renderer:i}=e;if(i.backend.isWebGPUBackend)return super.setup(e);const o=this.getInputType(e),a=e.getElementType(o),s=e.getTypeLength(o),l=`${n}_base_${a}`,c=`${n}_${o}`;let u=fT[l];if(u===void 0){switch(n){case dc.COUNT_LEADING_ZEROS:{u=this._createLeadingZerosBaseLayout(l,a);break}case dc.COUNT_TRAILING_ZEROS:{u=this._createTrailingZerosBaseLayout(l,a);break}case dc.COUNT_ONE_BITS:{u=this._createOneBitsBaseLayout(l,a);break}}fT[l]=u}let d=fT[c];return d===void 0&&(d=this._createMainLayout(c,o,s,u),fT[c]=d),ot(()=>d(r))()}}dc.COUNT_TRAILING_ZEROS="countTrailingZeros";dc.COUNT_LEADING_ZEROS="countLeadingZeros";dc.COUNT_ONE_BITS="countOneBits";const TJe=an(dc,dc.COUNT_TRAILING_ZEROS).setParameterLength(1),EJe=an(dc,dc.COUNT_LEADING_ZEROS).setParameterLength(1),MJe=an(dc,dc.COUNT_ONE_BITS).setParameterLength(1),PJe=ot(([t])=>{const e=t.toUint().mul(747796405).add(2891336453),n=e.shiftRight(e.shiftRight(28).add(4)).bitXor(e).mul(277803737);return n.shiftRight(22).bitXor(n).toFloat().mul(1/2**32)}),I6=(t,e)=>Xc(br(4,t.mul(ei(1,t))),e),RJe=(t,e)=>t.lessThan(.5)?I6(t.mul(2),e).div(2):ei(1,I6(br(ei(1,t),2),e).div(2)),NJe=(t,e,n)=>Xc(vc(Xc(t,e),Zo(Xc(t,e),Xc(ei(1,t),n))),1/e),IJe=(t,e)=>Ws(D3.mul(e.mul(t).sub(1))).div(D3.mul(e.mul(t).sub(1)));class c9 extends To{static get type(){return"PackFloatNode"}constructor(e,n){super(),this.vectorNode=n,this.encoding=e,this.isPackFloatNode=!0}getNodeType(){return"uint"}generate(e){const n=this.vectorNode.getNodeType(e);return`${e.getFloatPackingMethod(this.encoding)}(${this.vectorNode.build(e,n)})`}}const OJe=an(c9,"snorm").setParameterLength(1),DJe=an(c9,"unorm").setParameterLength(1),LJe=an(c9,"float16").setParameterLength(1);class u9 extends To{static get type(){return"UnpackFloatNode"}constructor(e,n){super(),this.uintNode=n,this.encoding=e,this.isUnpackFloatNode=!0}getNodeType(){return"vec2"}generate(e){const n=this.uintNode.getNodeType(e);return`${e.getFloatUnpackingMethod(this.encoding)}(${this.uintNode.build(e,n)})`}}const BJe=an(u9,"snorm").setParameterLength(1),FJe=an(u9,"unorm").setParameterLength(1),$Je=an(u9,"float16").setParameterLength(1),Uf=ot(([t])=>t.fract().sub(.5).abs()).setLayout({name:"tri",type:"float",inputs:[{name:"x",type:"float"}]}),kJe=ot(([t])=>et(Uf(t.z.add(Uf(t.y.mul(1)))),Uf(t.z.add(Uf(t.x.mul(1)))),Uf(t.y.add(Uf(t.x.mul(1)))))).setLayout({name:"tri3",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),UJe=ot(([t,e,n])=>{const r=et(t).toVar(),i=Ce(1.4).toVar(),o=Ce(0).toVar(),a=et(r).toVar();return Ci({start:Ce(0),end:Ce(3),type:"float",condition:"<="},()=>{const s=et(kJe(a.mul(2))).toVar();r.addAssign(s.add(n.mul(Ce(.1).mul(e)))),a.mulAssign(1.8),i.mulAssign(1.5),r.mulAssign(1.2);const l=Ce(Uf(r.z.add(Uf(r.x.add(Uf(r.y)))))).toVar();o.addAssign(l.div(i)),a.addAssign(.14)}),o}).setLayout({name:"triNoise3D",type:"float",inputs:[{name:"position",type:"vec3"},{name:"speed",type:"float"},{name:"time",type:"float"}]});class zJe extends On{static get type(){return"FunctionOverloadingNode"}constructor(e=[],...n){super(),this.functionNodes=e,this.parametersNodes=n,this._candidateFn=null,this.global=!0}getNodeType(e){return this.getCandidateFn(e).shaderNode.layout.type}getCandidateFn(e){const n=this.parametersNodes;let r=this._candidateFn;if(r===null){let i=null,o=-1;for(const a of this.functionNodes){const l=a.shaderNode.layout;if(l===null)throw new Error("FunctionOverloadingNode: FunctionNode must be a layout.");const c=l.inputs;if(n.length===c.length){let u=0;for(let d=0;d<n.length;d++){const f=n[d],h=c[d];f.getNodeType(e)===h.type&&u++}u>o&&(i=a,o=u)}}this._candidateFn=r=i}return r}setup(e){return this.getCandidateFn(e)(...this.parametersNodes)}}const VJe=xr(zJe),ds=t=>(...e)=>VJe(t,...e),O1=Wn(0).setGroup(qn).onRenderUpdate(t=>t.time),GJe=Wn(0).setGroup(qn).onRenderUpdate(t=>t.deltaTime),zde=Wn(0,"uint").setGroup(qn).onRenderUpdate(t=>t.frameId),HJe=(t=O1)=>t.add(.75).mul(Math.PI*2).sin().mul(.5).add(.5),jJe=(t=O1)=>t.fract().round(),qJe=(t=O1)=>t.add(.5).fract().mul(2).sub(1).abs(),WJe=(t=O1)=>t.fract();function XJe(t,e=null){return Ph(e,{getUV:t})}const YJe=ot(([t,e,n=rn(.5)])=>RS(t.sub(n),e).add(n)),KJe=ot(([t,e,n=rn(.5)])=>{const r=t.sub(n),i=r.dot(r),a=i.mul(i).mul(e);return t.add(r.mul(a))}),QJe=ot(({position:t=null,horizontal:e=!0,vertical:n=!1})=>{let r;t!==null?(r=Yc.toVar(),r[3][0]=t.x,r[3][1]=t.y,r[3][2]=t.z):r=Yc;const i=Au.mul(r);return _2(e)&&(i[0][0]=Yc[0].length(),i[0][1]=0,i[0][2]=0),_2(n)&&(i[1][0]=0,i[1][1]=Yc[1].length(),i[1][2]=0),i[2][0]=0,i[2][1]=0,i[2][2]=1,ih.mul(i).mul(xo)}),ZJe=ot(([t=null])=>{const e=F3();return F3(Zk(t)).sub(e).lessThan(0).select(rh,t)});class JJe extends On{static get type(){return"SpriteSheetUVNode"}constructor(e,n=Di(),r=Ce(0)){super("vec2"),this.countNode=e,this.uvNode=n,this.frameNode=r}setup(){const{frameNode:e,uvNode:n,countNode:r}=this,{width:i,height:o}=r,a=e.mod(i.mul(o)).floor(),s=a.mod(i),l=o.sub(a.add(1).div(i).ceil()),c=r.reciprocal(),u=rn(s,l);return n.add(u).mul(c)}}const eet=xr(JJe).setParameterLength(3),Vde=ot(([t,e=null,n=null,r=Ce(1),i=xo,o=$l])=>{let a=o.abs().normalize();a=a.div(a.dot(et(1)));const s=i.yz.mul(r),l=i.zx.mul(r),c=i.xy.mul(r),u=t.value,d=e!==null?e.value:u,f=n!==null?n.value:u,h=ci(u,s).mul(a.x),p=ci(d,l).mul(a.y),_=ci(f,c).mul(a.z);return Zo(h,p,_)}),tet=(...t)=>Vde(...t),OA=new zd,Km=new Te,DA=new Te,nD=new Te,Vb=new wr,hT=new Te(0,0,-1),Dd=new yr,Gb=new Te,pT=new Te,Hb=new yr,mT=new Wt,k3=new Th,net=rh.flipX();k3.depthTexture=new Ms(1,1);let gT=!1;class d9 extends gf{static get type(){return"ReflectorNode"}constructor(e={}){super(e.defaultTexture||k3.texture,net),this._reflectorBaseNode=e.reflector||new ret(this,e),this._depthNode=null,this.setUpdateMatrix(!1)}get reflector(){return this._reflectorBaseNode}get target(){return this._reflectorBaseNode.target}getDepthNode(){if(this._depthNode===null){if(this._reflectorBaseNode.depth!==!0)throw new Error("THREE.ReflectorNode: Depth node can only be requested when the reflector is created with { depth: true }. ");this._depthNode=vn(new d9({defaultTexture:k3.depthTexture,reflector:this._reflectorBaseNode}))}return this._depthNode}setup(e){return e.object.isQuadMesh||this._reflectorBaseNode.build(e),super.setup(e)}clone(){const e=new this.constructor(this.reflectorNode);return e.uvNode=this.uvNode,e.levelNode=this.levelNode,e.biasNode=this.biasNode,e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e.offsetNode=this.offsetNode,e._reflectorBaseNode=this._reflectorBaseNode,e}dispose(){super.dispose(),this._reflectorBaseNode.dispose()}}class ret extends On{static get type(){return"ReflectorBaseNode"}constructor(e,n={}){super();const{target:r=new uo,resolutionScale:i=1,generateMipmaps:o=!1,bounces:a=!0,depth:s=!1,samples:l=0}=n;this.textureNode=e,this.target=r,this.resolutionScale=i,n.resolution!==void 0&&($i('ReflectorNode: The "resolution" parameter has been renamed to "resolutionScale".'),this.resolutionScale=n.resolution),this.generateMipmaps=o,this.bounces=a,this.depth=s,this.samples=l,this.updateBeforeType=a?Er.RENDER:Er.FRAME,this.virtualCameras=new WeakMap,this.renderTargets=new Map,this.forceUpdate=!1,this.hasOutput=!1}_updateResolution(e,n){const r=this.resolutionScale;n.getDrawingBufferSize(mT),e.setSize(Math.round(mT.width*r),Math.round(mT.height*r))}setup(e){return this._updateResolution(k3,e.renderer),super.setup(e)}dispose(){super.dispose();for(const e of this.renderTargets.values())e.dispose()}getVirtualCamera(e){let n=this.virtualCameras.get(e);return n===void 0&&(n=e.clone(),this.virtualCameras.set(e,n)),n}getRenderTarget(e){let n=this.renderTargets.get(e);return n===void 0&&(n=new Th(0,0,{type:io,samples:this.samples}),this.generateMipmaps===!0&&(n.texture.minFilter=vBe,n.texture.generateMipmaps=!0),this.depth===!0&&(n.depthTexture=new Ms),this.renderTargets.set(e,n)),n}updateBefore(e){if(this.bounces===!1&&gT)return!1;gT=!0;const{scene:n,camera:r,renderer:i,material:o}=e,{target:a}=this,s=this.getVirtualCamera(r),l=this.getRenderTarget(s);i.getDrawingBufferSize(mT),this._updateResolution(l,i),DA.setFromMatrixPosition(a.matrixWorld),nD.setFromMatrixPosition(r.matrixWorld),Vb.extractRotation(a.matrixWorld),Km.set(0,0,1),Km.applyMatrix4(Vb),Gb.subVectors(DA,nD);const c=Gb.dot(Km)>0;let u=!1;if(c===!0&&this.forceUpdate===!1){if(this.hasOutput===!1){gT=!1;return}u=!0}Gb.reflect(Km).negate(),Gb.add(DA),Vb.extractRotation(r.matrixWorld),hT.set(0,0,-1),hT.applyMatrix4(Vb),hT.add(nD),pT.subVectors(DA,hT),pT.reflect(Km).negate(),pT.add(DA),s.coordinateSystem=r.coordinateSystem,s.position.copy(Gb),s.up.set(0,1,0),s.up.applyMatrix4(Vb),s.up.reflect(Km),s.lookAt(pT),s.near=r.near,s.far=r.far,s.updateMatrixWorld(),s.projectionMatrix.copy(r.projectionMatrix),OA.setFromNormalAndCoplanarPoint(Km,DA),OA.applyMatrix4(s.matrixWorldInverse),Dd.set(OA.normal.x,OA.normal.y,OA.normal.z,OA.constant);const d=s.projectionMatrix;Hb.x=(Math.sign(Dd.x)+d.elements[8])/d.elements[0],Hb.y=(Math.sign(Dd.y)+d.elements[9])/d.elements[5],Hb.z=-1,Hb.w=(1+d.elements[10])/d.elements[14],Dd.multiplyScalar(1/Dd.dot(Hb));const f=0;d.elements[2]=Dd.x,d.elements[6]=Dd.y,d.elements[10]=i.coordinateSystem===lu?Dd.z-f:Dd.z+1-f,d.elements[14]=Dd.w,this.textureNode.value=l.texture,this.depth===!0&&(this.textureNode.getDepthNode().value=l.depthTexture),o.visible=!1;const h=i.getRenderTarget(),p=i.getMRT(),_=i.autoClear;i.setMRT(null),i.setRenderTarget(l),i.autoClear=!0;const x=n.name;n.name=(n.name||"Scene")+" [ Reflector ]",u?(i.clear(),this.hasOutput=!1):(i.render(n,s),this.hasOutput=!0),n.name=x,i.setMRT(p),i.setRenderTarget(h),i.autoClear=_,o.visible=!0,gT=!1,this.forceUpdate=!1}get resolution(){return $i('ReflectorNode: The "resolution" property has been renamed to "resolutionScale".'),this.resolutionScale}set resolution(e){$i('ReflectorNode: The "resolution" property has been renamed to "resolutionScale".'),this.resolutionScale=e}}const iet=t=>new d9(t),rD=new M1(-1,1,1,-1,0,1);class oet extends bi{constructor(e=!1){super();const n=e===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new li([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new li(n,2))}}const aet=new oet;class fN extends Ai{constructor(e=null){super(aet,e),this.camera=rD,this.isQuadMesh=!0}async renderAsync(e){$i('QuadMesh: "renderAsync()" has been deprecated. Use "render()" and "await renderer.init();" when creating the renderer.'),await e.init(),e.render(this,rD)}render(e){e.render(this,rD)}}const set=new Wt;class cet extends gf{static get type(){return"RTTNode"}constructor(e,n=null,r=null,i={type:io}){const o=new Th(n,r,i);super(o.texture,Di()),this.isRTTNode=!0,this.node=e,this.width=n,this.height=r,this.pixelRatio=1,this.renderTarget=o,this.textureNeedsUpdate=!0,this.autoUpdate=!0,this._rttNode=null,this._quadMesh=new fN(new Bo),this.updateBeforeType=Er.RENDER}get autoResize(){return this.width===null}setup(e){return this._rttNode=this.node.context(e.getSharedContext()),this._quadMesh.material.name="RTT",this._quadMesh.material.needsUpdate=!0,super.setup(e)}setSize(e,n){this.width=e,this.height=n;const r=e*this.pixelRatio,i=n*this.pixelRatio;this.renderTarget.setSize(r,i),this.textureNeedsUpdate=!0}setPixelRatio(e){this.pixelRatio=e,this.setSize(this.width,this.height)}updateBefore({renderer:e}){if(this.textureNeedsUpdate===!1&&this.autoUpdate===!1)return;if(this.textureNeedsUpdate=!1,this.autoResize===!0){const i=e.getPixelRatio(),o=e.getSize(set),a=Math.floor(o.width*i),s=Math.floor(o.height*i);(a!==this.renderTarget.width||s!==this.renderTarget.height)&&(this.renderTarget.setSize(a,s),this.textureNeedsUpdate=!0)}let n="RTT";this.node.name&&(n=this.node.name+" [ "+n+" ]"),this._quadMesh.material.fragmentNode=this._rttNode,this._quadMesh.name=n;const r=e.getRenderTarget();e.setRenderTarget(this.renderTarget),this._quadMesh.render(e),e.setRenderTarget(r)}clone(){const e=new gf(this.value,this.uvNode,this.levelNode);return e.sampler=this.sampler,e.referenceNode=this,e}}const Gde=(t,...e)=>vn(new cet(vn(t),...e)),uet=(t,...e)=>t.isSampleNode||t.isTextureNode?t:t.isPassNode?t.getTextureNode():Gde(t,...e),jA=ot(([t,e,n],r)=>{let i;r.renderer.coordinateSystem===lu?(t=rn(t.x,t.y.oneMinus()).mul(2).sub(1),i=Qn(et(t,e),1)):i=Qn(et(t.x,t.y.oneMinus(),e).mul(2).sub(1),1);const o=Qn(n.mul(i));return o.xyz.div(o.w)}),det=ot(([t,e])=>{const n=e.mul(Qn(t,1)),r=n.xy.div(n.w).mul(.5).add(.5).toVar();return rn(r.x,r.y.oneMinus())}),fet=ot(([t,e,n])=>{const r=nh(Po(e)),i=ia(t.mul(r)).toVar(),o=Po(e,i).toVar(),a=Po(e,i.sub(ia(2,0))).toVar(),s=Po(e,i.sub(ia(1,0))).toVar(),l=Po(e,i.add(ia(1,0))).toVar(),c=Po(e,i.add(ia(2,0))).toVar(),u=Po(e,i.add(ia(0,2))).toVar(),d=Po(e,i.add(ia(0,1))).toVar(),f=Po(e,i.sub(ia(0,1))).toVar(),h=Po(e,i.sub(ia(0,2))).toVar(),p=Wi(ei(Ce(2).mul(s).sub(a),o)).toVar(),_=Wi(ei(Ce(2).mul(l).sub(c),o)).toVar(),x=Wi(ei(Ce(2).mul(d).sub(u),o)).toVar(),y=Wi(ei(Ce(2).mul(f).sub(h),o)).toVar(),w=jA(t,o,n).toVar(),C=p.lessThan(_).select(w.sub(jA(t.sub(rn(Ce(1).div(r.x),0)),s,n)),w.negate().add(jA(t.add(rn(Ce(1).div(r.x),0)),l,n))),M=x.lessThan(y).select(w.sub(jA(t.add(rn(0,Ce(1).div(r.y))),d,n)),w.negate().add(jA(t.sub(rn(0,Ce(1).div(r.y))),f,n)));return il(gh(C,M))}),f9=ot(([t])=>sd(Ce(52.9829189).mul(sd(du(t,rn(.06711056,.00583715)))))).setLayout({name:"interleavedGradientNoise",type:"float",inputs:[{name:"position",type:"vec2"}]}),Gu=ot(([t,e,n])=>{const r=Ce(2.399963229728653),i=Ts(Ce(t).add(.5).div(Ce(e))),o=Ce(t).mul(r).add(n);return rn(Uu(o),Ws(o)).mul(i)}).setLayout({name:"vogelDiskSample",type:"vec2",inputs:[{name:"sampleIndex",type:"int"},{name:"samplesCount",type:"int"},{name:"phi",type:"float"}]});class het extends On{static get type(){return"SampleNode"}constructor(e,n=null){super(),this.callback=e,this.uvNode=n,this.isSampleNode=!0}setup(){return this.sample(Di())}sample(e){return this.callback(e)}}const pet=(t,e=null)=>new het(t,vn(e));class Rl extends On{static get type(){return"EventNode"}constructor(e,n){super("void"),this.eventType=e,this.callback=n,e===Rl.OBJECT?this.updateType=Er.OBJECT:e===Rl.MATERIAL?this.updateType=Er.RENDER:e===Rl.BEFORE_OBJECT?this.updateBeforeType=Er.OBJECT:e===Rl.BEFORE_MATERIAL&&(this.updateBeforeType=Er.RENDER)}update(e){this.callback(e)}updateBefore(e){this.callback(e)}}Rl.OBJECT="object";Rl.MATERIAL="material";Rl.BEFORE_OBJECT="beforeObject";Rl.BEFORE_MATERIAL="beforeMaterial";const hN=(t,e)=>new Rl(t,e).toStack(),met=t=>hN(Rl.OBJECT,t),get=t=>hN(Rl.MATERIAL,t),Aet=t=>hN(Rl.BEFORE_OBJECT,t),vet=t=>hN(Rl.BEFORE_MATERIAL,t);class $E extends Wp{constructor(e,n,r=Float32Array){const i=ArrayBuffer.isView(e)?e:new r(e*n);super(i,n),this.isStorageInstancedBufferAttribute=!0}}class yet extends So{constructor(e,n,r=Float32Array){const i=ArrayBuffer.isView(e)?e:new r(e*n);super(i,n),this.isStorageBufferAttribute=!0}}const bet=(t,e="float")=>{let n,r;e.isStruct===!0?(n=e.layout.getLength(),r=E3("float")):(n=ole(e),r=E3(e));const i=new yet(t,n,r);return oh(i,e,t)},xet=(t,e="float")=>{let n,r;e.isStruct===!0?(n=e.layout.getLength(),r=E3("float")):(n=ole(e),r=E3(e));const i=new $E(t,n,r);return oh(i,e,t)};class _et extends On{static get type(){return"PointUVNode"}constructor(){super("vec2"),this.isPointUVNode=!0}generate(){return"vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )"}}const wet=mn(_et),jb=new ls,iD=new wr;class Nl extends On{static get type(){return"SceneNode"}constructor(e=Nl.BACKGROUND_BLURRINESS,n=null){super(),this.scope=e,this.scene=n}setup(e){const n=this.scope,r=this.scene!==null?this.scene:e.scene;let i;return n===Nl.BACKGROUND_BLURRINESS?i=Pi("backgroundBlurriness","float",r):n===Nl.BACKGROUND_INTENSITY?i=Pi("backgroundIntensity","float",r):n===Nl.BACKGROUND_ROTATION?i=Wn("mat4").setName("backgroundRotation").setGroup(qn).onRenderUpdate(()=>{const o=r.background;return o!==null&&o.isTexture&&o.mapping!==r7?(jb.copy(r.backgroundRotation),jb.x*=-1,jb.y*=-1,jb.z*=-1,iD.makeRotationFromEuler(jb)):iD.identity(),iD}):Kt("SceneNode: Unknown scope:",n),i}}Nl.BACKGROUND_BLURRINESS="backgroundBlurriness";Nl.BACKGROUND_INTENSITY="backgroundIntensity";Nl.BACKGROUND_ROTATION="backgroundRotation";const Hde=mn(Nl,Nl.BACKGROUND_BLURRINESS),O6=mn(Nl,Nl.BACKGROUND_INTENSITY),jde=mn(Nl,Nl.BACKGROUND_ROTATION);class Cet extends gf{static get type(){return"StorageTextureNode"}constructor(e,n,r=null){super(e,n),this.storeNode=r,this.mipLevel=0,this.isStorageTextureNode=!0,this.access=es.WRITE_ONLY}getInputType(){return"storageTexture"}setup(e){super.setup(e);const n=e.getNodeProperties(this);return n.storeNode=this.storeNode,n}setAccess(e){return this.access=e,this}setMipLevel(e){return this.mipLevel=e,this}generate(e,n){let r;return this.storeNode!==null?r=this.generateStore(e):r=super.generate(e,n),r}toReadWrite(){return this.setAccess(es.READ_WRITE)}toReadOnly(){return this.setAccess(es.READ_ONLY)}toWriteOnly(){return this.setAccess(es.WRITE_ONLY)}generateStore(e){const n=e.getNodeProperties(this),{uvNode:r,storeNode:i,depthNode:o}=n,a=super.generate(e,"property"),s=r.build(e,this.value.is3DTexture===!0?"uvec3":"uvec2"),l=i.build(e,"vec4"),c=o?o.build(e,"int"):null,u=e.generateTextureStore(e,a,s,c,l);e.addLineFlowCode(u,this)}clone(){const e=super.clone();return e.storeNode=this.storeNode,e.mipLevel=this.mipLevel,e}}const qde=xr(Cet).setParameterLength(1,3),Tet=(t,e,n)=>{const r=qde(t,e,n);return n!==null&&r.toStack(),r},Eet=ot(({texture:t,uv:e})=>{const r=et().toVar();return Kn(e.x.lessThan(1e-4),()=>{r.assign(et(1,0,0))}).ElseIf(e.y.lessThan(1e-4),()=>{r.assign(et(0,1,0))}).ElseIf(e.z.lessThan(1e-4),()=>{r.assign(et(0,0,1))}).ElseIf(e.x.greaterThan(1-1e-4),()=>{r.assign(et(-1,0,0))}).ElseIf(e.y.greaterThan(1-1e-4),()=>{r.assign(et(0,-1,0))}).ElseIf(e.z.greaterThan(1-1e-4),()=>{r.assign(et(0,0,-1))}).Else(()=>{const o=t.sample(e.add(et(-.01,0,0))).r.sub(t.sample(e.add(et(.01,0,0))).r),a=t.sample(e.add(et(0,-.01,0))).r.sub(t.sample(e.add(et(0,.01,0))).r),s=t.sample(e.add(et(0,0,-.01))).r.sub(t.sample(e.add(et(0,0,.01))).r);r.assign(et(o,a,s))}),r.normalize()});class Met extends gf{static get type(){return"Texture3DNode"}constructor(e,n=null,r=null){super(e,n,r),this.isTexture3DNode=!0}getInputType(){return"texture3D"}getDefaultUV(){return et(.5,.5,.5)}setUpdateMatrix(){}setupUV(e,n){const r=this.value;return e.isFlipY()&&(r.isRenderTargetTexture===!0||r.isFramebufferTexture===!0)&&(this.sampler?n=n.flipY():n=n.setY(We(nh(this,this.levelNode).y).sub(n.y).sub(1))),n}generateUV(e,n){return n.build(e,this.sampler===!0?"vec3":"ivec3")}generateOffset(e,n){return n.build(e,"ivec3")}normal(e){return Eet({texture:this,uv:e})}}const pN=xr(Met).setParameterLength(1,3),Pet=(...t)=>pN(...t).setSampler(!1),Ret=(t,e,n)=>pN(t,e).level(n);class Net extends rN{static get type(){return"UserDataNode"}constructor(e,n,r=null){super(e,n,r),this.userData=r}updateReference(e){return this.reference=this.userData!==null?this.userData:e.object.userData,this.reference}}const Iet=(t,e,n)=>new Net(t,e,n),ZX=new WeakMap;class Oet extends To{static get type(){return"VelocityNode"}constructor(){super("vec2"),this.projectionMatrix=null,this.updateType=Er.OBJECT,this.updateAfterType=Er.OBJECT,this.previousModelWorldMatrix=Wn(new wr),this.previousProjectionMatrix=Wn(new wr).setGroup(qn),this.previousCameraViewMatrix=Wn(new wr)}setProjectionMatrix(e){this.projectionMatrix=e}update({frameId:e,camera:n,object:r}){const i=JX(r);this.previousModelWorldMatrix.value.copy(i);const o=Wde(n);o.frameId!==e&&(o.frameId=e,o.previousProjectionMatrix===void 0?(o.previousProjectionMatrix=new wr,o.previousCameraViewMatrix=new wr,o.currentProjectionMatrix=new wr,o.currentCameraViewMatrix=new wr,o.previousProjectionMatrix.copy(this.projectionMatrix||n.projectionMatrix),o.previousCameraViewMatrix.copy(n.matrixWorldInverse)):(o.previousProjectionMatrix.copy(o.currentProjectionMatrix),o.previousCameraViewMatrix.copy(o.currentCameraViewMatrix)),o.currentProjectionMatrix.copy(this.projectionMatrix||n.projectionMatrix),o.currentCameraViewMatrix.copy(n.matrixWorldInverse),this.previousProjectionMatrix.value.copy(o.previousProjectionMatrix),this.previousCameraViewMatrix.value.copy(o.previousCameraViewMatrix))}updateAfter({object:e}){JX(e).copy(e.matrixWorld)}setup(){const e=this.projectionMatrix===null?ih:Wn(this.projectionMatrix),n=this.previousCameraViewMatrix.mul(this.previousModelWorldMatrix),r=e.mul(_m).mul(xo),i=this.previousProjectionMatrix.mul(n).mul(B3),o=r.xy.div(r.w),a=i.xy.div(i.w);return ei(o,a)}}function Wde(t){let e=ZX.get(t);return e===void 0&&(e={},ZX.set(t,e)),e}function JX(t,e=0){const n=Wde(t);let r=n[e];return r===void 0&&(n[e]=r=new wr,n[e].copy(t.matrixWorld)),r}const Det=mn(Oet),Let=ot(([t])=>h9(t.rgb)),Bet=ot(([t,e=Ce(1)])=>e.mix(h9(t.rgb),t.rgb)),Fet=ot(([t,e=Ce(1)])=>{const n=Zo(t.r,t.g,t.b).div(3),r=t.r.max(t.g.max(t.b)),i=r.sub(n).mul(e).mul(-3);return Zr(t.rgb,r,i)}),$et=ot(([t,e=Ce(1)])=>{const n=et(.57735,.57735,.57735),r=e.cos();return et(t.rgb.mul(r).add(n.cross(t.rgb).mul(e.sin()).add(n.mul(du(n,t.rgb).mul(r.oneMinus())))))}),h9=(t,e=et(fr.getLuminanceCoefficients(new Te)))=>du(t,e),ket=ot(([t,e=et(1),n=et(0),r=et(1),i=Ce(1),o=et(fr.getLuminanceCoefficients(new Te,im))])=>{const a=t.rgb.dot(et(o)),s=Co(t.rgb.mul(e).add(n),0).toVar(),l=s.pow(r).toVar();return Kn(s.r.greaterThan(0),()=>{s.r.assign(l.r)}),Kn(s.g.greaterThan(0),()=>{s.g.assign(l.g)}),Kn(s.b.greaterThan(0),()=>{s.b.assign(l.b)}),s.assign(a.add(s.sub(a).mul(i))),Qn(s.rgb,t.a)});class Uet extends To{static get type(){return"PosterizeNode"}constructor(e,n){super(),this.sourceNode=e,this.stepsNode=n}setup(){const{sourceNode:e,stepsNode:n}=this;return e.mul(n).floor().div(n)}}const zet=xr(Uet).setParameterLength(2),AT=new Wt;class Xde extends gf{static get type(){return"PassTextureNode"}constructor(e,n){super(n),this.passNode=e,this.setUpdateMatrix(!1)}setup(e){return this.passNode.build(e),super.setup(e)}clone(){return new this.constructor(this.passNode,this.value)}}class eY extends Xde{static get type(){return"PassMultipleTextureNode"}constructor(e,n,r=!1){super(e,null),this.textureName=n,this.previousTexture=r}updateTexture(){this.value=this.previousTexture?this.passNode.getPreviousTexture(this.textureName):this.passNode.getTexture(this.textureName)}setup(e){return this.updateTexture(),super.setup(e)}clone(){const e=new this.constructor(this.passNode,this.textureName,this.previousTexture);return e.uvNode=this.uvNode,e.levelNode=this.levelNode,e.biasNode=this.biasNode,e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e.offsetNode=this.offsetNode,e}}class Af extends To{static get type(){return"PassNode"}constructor(e,n,r,i={}){super("vec4"),this.scope=e,this.scene=n,this.camera=r,this.options=i,this._pixelRatio=1,this._width=1,this._height=1;const o=new Ms;o.isRenderTargetTexture=!0,o.name="depth";const a=new Th(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:io,...i});a.texture.name="output",a.depthTexture=o,this.renderTarget=a,this.overrideMaterial=null,this.transparent=!0,this.opaque=!0,this.contextNode=null,this._contextNodeCache=null,this._textures={output:a.texture,depth:o},this._textureNodes={},this._linearDepthNodes={},this._viewZNodes={},this._previousTextures={},this._previousTextureNodes={},this._cameraNear=Wn(0),this._cameraFar=Wn(0),this._mrt=null,this._layers=null,this._resolutionScale=1,this._viewport=null,this._scissor=null,this.isPassNode=!0,this.updateBeforeType=Er.FRAME,this.global=!0}setResolutionScale(e){return this._resolutionScale=e,this}getResolutionScale(){return this._resolutionScale}setResolution(e){return Vt("PassNode: .setResolution() is deprecated. Use .setResolutionScale() instead."),this.setResolutionScale(e)}getResolution(){return Vt("PassNode: .getResolution() is deprecated. Use .getResolutionScale() instead."),this.getResolutionScale()}setLayers(e){return this._layers=e,this}getLayers(){return this._layers}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}getTexture(e){let n=this._textures[e];return n===void 0&&(n=this.renderTarget.texture.clone(),n.name=e,this._textures[e]=n,this.renderTarget.textures.push(n)),n}getPreviousTexture(e){let n=this._previousTextures[e];return n===void 0&&(n=this.getTexture(e).clone(),this._previousTextures[e]=n),n}toggleTexture(e){const n=this._previousTextures[e];if(n!==void 0){const r=this._textures[e],i=this.renderTarget.textures.indexOf(r);this.renderTarget.textures[i]=n,this._textures[e]=n,this._previousTextures[e]=r,this._textureNodes[e].updateTexture(),this._previousTextureNodes[e].updateTexture()}}getTextureNode(e="output"){let n=this._textureNodes[e];return n===void 0&&(n=new eY(this,e),n.updateTexture(),this._textureNodes[e]=n),n}getPreviousTextureNode(e="output"){let n=this._previousTextureNodes[e];return n===void 0&&(this._textureNodes[e]===void 0&&this.getTextureNode(e),n=new eY(this,e,!0),n.updateTexture(),this._previousTextureNodes[e]=n),n}getViewZNode(e="depth"){let n=this._viewZNodes[e];if(n===void 0){const r=this._cameraNear,i=this._cameraFar;this._viewZNodes[e]=n=Jk(this.getTextureNode(e),r,i)}return n}getLinearDepthNode(e="depth"){let n=this._linearDepthNodes[e];if(n===void 0){const r=this._cameraNear,i=this._cameraFar,o=this.getViewZNode(e);this._linearDepthNodes[e]=n=Uv(o,r,i)}return n}async compileAsync(e){const n=e.getRenderTarget(),r=e.getMRT();e.setRenderTarget(this.renderTarget),e.setMRT(this._mrt),await e.compileAsync(this.scene,this.camera),e.setRenderTarget(n),e.setMRT(r)}setup({renderer:e}){return this.renderTarget.samples=this.options.samples===void 0?e.samples:this.options.samples,this.renderTarget.texture.type=e.getOutputBufferType(),this.scope===Af.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(e){const{renderer:n}=e,{scene:r}=this;let i,o;const a=n.getOutputRenderTarget();a&&a.isXRRenderTarget===!0?(o=1,i=n.xr.getCamera(),n.xr.updateCamera(i),AT.set(a.width,a.height)):(i=this.camera,o=n.getPixelRatio(),n.getSize(AT)),this._pixelRatio=o,this.setSize(AT.width,AT.height);const s=n.getRenderTarget(),l=n.getMRT(),c=n.autoClear,u=n.transparent,d=n.opaque,f=i.layers.mask,h=n.contextNode,p=r.overrideMaterial;this._cameraNear.value=i.near,this._cameraFar.value=i.far,this._layers!==null&&(i.layers.mask=this._layers.mask);for(const x in this._previousTextures)this.toggleTexture(x);this.overrideMaterial!==null&&(r.overrideMaterial=this.overrideMaterial),n.setRenderTarget(this.renderTarget),n.setMRT(this._mrt),n.autoClear=!0,n.transparent=this.transparent,n.opaque=this.opaque,this.contextNode!==null&&((this._contextNodeCache===null||this._contextNodeCache.version!==this.version)&&(this._contextNodeCache={version:this.version,context:Ph({...n.contextNode.getFlowContextData(),...this.contextNode.getFlowContextData()})}),n.contextNode=this._contextNodeCache.context);const _=r.name;r.name=this.name?this.name:r.name,n.render(r,i),r.name=_,r.overrideMaterial=p,n.setRenderTarget(s),n.setMRT(l),n.autoClear=c,n.transparent=u,n.opaque=d,n.contextNode=h,i.layers.mask=f}setSize(e,n){this._width=e,this._height=n;const r=Math.floor(this._width*this._pixelRatio*this._resolutionScale),i=Math.floor(this._height*this._pixelRatio*this._resolutionScale);this.renderTarget.setSize(r,i),this._scissor!==null&&this.renderTarget.scissor.copy(this._scissor),this._viewport!==null&&this.renderTarget.viewport.copy(this._viewport)}setScissor(e,n,r,i){e===null?this._scissor=null:(this._scissor===null&&(this._scissor=new yr),e.isVector4?this._scissor.copy(e):this._scissor.set(e,n,r,i),this._scissor.multiplyScalar(this._pixelRatio*this._resolutionScale).floor())}setViewport(e,n,r,i){e===null?this._viewport=null:(this._viewport===null&&(this._viewport=new yr),e.isVector4?this._viewport.copy(e):this._viewport.set(e,n,r,i),this._viewport.multiplyScalar(this._pixelRatio*this._resolutionScale).floor())}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}Af.COLOR="color";Af.DEPTH="depth";const Vet=(t,e,n)=>new Af(Af.COLOR,t,e,n),Get=(t,e)=>new Xde(t,e),Het=(t,e,n)=>new Af(Af.DEPTH,t,e,n);class jet extends Af{static get type(){return"ToonOutlinePassNode"}constructor(e,n,r,i,o){super(Af.COLOR,e,n),this.colorNode=r,this.thicknessNode=i,this.alphaNode=o,this._materialCache=new WeakMap,this.name="Outline Pass"}updateBefore(e){const{renderer:n}=e,r=n.getRenderObjectFunction();n.setRenderObjectFunction((i,o,a,s,l,c,u,d)=>{if((l.isMeshToonMaterial||l.isMeshToonNodeMaterial)&&l.wireframe===!1){const f=this._getOutlineMaterial(l);n.renderObject(i,o,a,s,f,c,u,d)}n.renderObject(i,o,a,s,l,c,u,d)}),super.updateBefore(e),n.setRenderObjectFunction(r)}_createMaterial(){const e=new Bo;e.isMeshToonOutlineMaterial=!0,e.name="Toon_Outline",e.side=Oi;const n=$l.negate(),r=ih.mul(_m),i=Ce(1),o=r.mul(Qn(xo,1)),a=r.mul(Qn(xo.add(n),1)),s=il(o.sub(a));return e.vertexNode=o.add(s.mul(this.thicknessNode).mul(o.w).mul(i)),e.colorNode=Qn(this.colorNode,this.alphaNode),e}_getOutlineMaterial(e){let n=this._materialCache.get(e);return n===void 0&&(n=this._createMaterial(),this._materialCache.set(e,n)),n}}const qet=(t,e,n=new Vn(0,0,0),r=.003,i=1)=>vn(new jet(t,e,vn(n),vn(r),vn(i))),Yde=ot(([t,e])=>t.mul(e).clamp()).setLayout({name:"linearToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Kde=ot(([t,e])=>(t=t.mul(e),t.div(t.add(1)).clamp())).setLayout({name:"reinhardToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Qde=ot(([t,e])=>{t=t.mul(e),t=t.sub(.004).max(0);const n=t.mul(t.mul(6.2).add(.5)),r=t.mul(t.mul(6.2).add(1.7)).add(.06);return n.div(r).pow(2.2)}).setLayout({name:"cineonToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Wet=ot(([t])=>{const e=t.mul(t.add(.0245786)).sub(90537e-9),n=t.mul(t.add(.432951).mul(.983729)).add(.238081);return e.div(n)}),Zde=ot(([t,e])=>{const n=cs(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),r=cs(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return t=t.mul(e).div(.6),t=n.mul(t),t=Wet(t),t=r.mul(t),t.clamp()}).setLayout({name:"acesFilmicToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Xet=cs(et(1.6605,-.1246,-.0182),et(-.5876,1.1329,-.1006),et(-.0728,-.0083,1.1187)),Yet=cs(et(.6274,.0691,.0164),et(.3293,.9195,.088),et(.0433,.0113,.8956)),Ket=ot(([t])=>{const e=et(t).toVar(),n=et(e.mul(e)).toVar(),r=et(n.mul(n)).toVar();return Ce(15.5).mul(r.mul(n)).sub(br(40.14,r.mul(e))).add(br(31.96,r).sub(br(6.868,n.mul(e))).add(br(.4298,n).add(br(.1191,e).sub(.00232))))}),Jde=ot(([t,e])=>{const n=et(t).toVar(),r=cs(et(.856627153315983,.137318972929847,.11189821299995),et(.0951212405381588,.761241990602591,.0767994186031903),et(.0482516061458583,.101439036467562,.811302368396859)),i=cs(et(1.1271005818144368,-.1413297634984383,-.14132976349843826),et(-.11060664309660323,1.157823702216272,-.11060664309660294),et(-.016493938717834573,-.016493938717834257,1.2519364065950405)),o=Ce(-12.47393),a=Ce(4.026069);return n.mulAssign(e),n.assign(Yet.mul(n)),n.assign(r.mul(n)),n.assign(Co(n,1e-10)),n.assign(rf(n)),n.assign(n.sub(o).div(a.sub(o))),n.assign(ld(n,0,1)),n.assign(Ket(n)),n.assign(i.mul(n)),n.assign(Xc(Co(et(0),n),et(2.2))),n.assign(Xet.mul(n)),n.assign(ld(n,0,1)),n}).setLayout({name:"agxToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),efe=ot(([t,e])=>{const n=Ce(.76),r=Ce(.15);t=t.mul(e);const i=Fl(t.r,Fl(t.g,t.b)),o=ts(i.lessThan(.08),i.sub(br(6.25,i.mul(i))),.04);t.subAssign(o);const a=Co(t.r,Co(t.g,t.b));Kn(a.lessThan(n),()=>t);const s=ei(1,n),l=ei(1,s.mul(s).div(a.add(s.sub(n))));t.mulAssign(l.div(a));const c=ei(1,vc(1,r.mul(a.sub(l)).add(1)));return Zr(t,et(l),c)}).setLayout({name:"neutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]});class Pa extends On{static get type(){return"CodeNode"}constructor(e="",n=[],r=""){super("code"),this.isCodeNode=!0,this.global=!0,this.code=e,this.includes=n,this.language=r}setIncludes(e){return this.includes=e,this}getIncludes(){return this.includes}generate(e){const n=this.getIncludes(e);for(const i of n)i.build(e);const r=e.getCodeFromNode(this,this.getNodeType(e));return r.code=this.code,r.code}serialize(e){super.serialize(e),e.code=this.code,e.language=this.language}deserialize(e){super.deserialize(e),this.code=e.code,this.language=e.language}}const mN=xr(Pa).setParameterLength(1,3),Qet=(t,e)=>mN(t,e,"js"),Zet=(t,e)=>mN(t,e,"wgsl"),Jet=(t,e)=>mN(t,e,"glsl");class tfe extends Pa{static get type(){return"FunctionNode"}constructor(e="",n=[],r=""){super(e,n,r)}getNodeType(e){return this.getNodeFunction(e).type}getMemberType(e,n){const r=this.getNodeType(e);return e.getStructTypeNode(r).getMemberType(e,n)}getInputs(e){return this.getNodeFunction(e).inputs}getNodeFunction(e){const n=e.getDataFromNode(this);let r=n.nodeFunction;return r===void 0&&(r=e.parser.parseFunction(this.code),n.nodeFunction=r),r}generate(e,n){super.generate(e);const r=this.getNodeFunction(e),i=r.name,o=r.type,a=e.getCodeFromNode(this,o);i!==""&&(a.name=i);const s=e.getPropertyName(a),l=this.getNodeFunction(e).getCode(s);return a.code=l+`
`,n==="property"?s:e.format(`${s}()`,o,n)}}const nfe=(t,e=[],n="")=>{for(let o=0;o<e.length;o++){const a=e[o];typeof a=="function"&&(e[o]=a.functionNode)}const r=new tfe(t,e,n),i=(...o)=>r.call(...o);return i.functionNode=r,i},ett=(t,e)=>nfe(t,e,"glsl"),ttt=(t,e)=>nfe(t,e,"wgsl");class ntt extends On{static get type(){return"ScriptableValueNode"}constructor(e=null){super(),this._value=e,this._cache=null,this.inputType=null,this.outputType=null,this.events=new pd,this.isScriptableValueNode=!0}get isScriptableOutputNode(){return this.outputType!==null}set value(e){this._value!==e&&(this._cache&&this.inputType==="URL"&&this.value.value instanceof ArrayBuffer&&(URL.revokeObjectURL(this._cache),this._cache=null),this._value=e,this.events.dispatchEvent({type:"change"}),this.refresh())}get value(){return this._value}refresh(){this.events.dispatchEvent({type:"refresh"})}getValue(){const e=this.value;if(e&&this._cache===null&&this.inputType==="URL"&&e.value instanceof ArrayBuffer)this._cache=URL.createObjectURL(new Blob([e.value]));else if(e&&e.value!==null&&e.value!==void 0&&((this.inputType==="URL"||this.inputType==="String")&&typeof e.value=="string"||this.inputType==="Number"&&typeof e.value=="number"||this.inputType==="Vector2"&&e.value.isVector2||this.inputType==="Vector3"&&e.value.isVector3||this.inputType==="Vector4"&&e.value.isVector4||this.inputType==="Color"&&e.value.isColor||this.inputType==="Matrix3"&&e.value.isMatrix3||this.inputType==="Matrix4"&&e.value.isMatrix4))return e.value;return this._cache||e}getNodeType(e){return this.value&&this.value.isNode?this.value.getNodeType(e):"float"}setup(){return this.value&&this.value.isNode?this.value:Ce()}serialize(e){super.serialize(e),this.value!==null?this.inputType==="ArrayBuffer"?e.value=sle(this.value):e.value=this.value?this.value.toJSON(e.meta).uuid:null:e.value=null,e.inputType=this.inputType,e.outputType=this.outputType}deserialize(e){super.deserialize(e);let n=null;e.value!==null&&(e.inputType==="ArrayBuffer"?n=lle(e.value):e.inputType==="Texture"?n=e.meta.textures[e.value]:n=e.meta.nodes[e.value]||null),this.value=n,this.inputType=e.inputType,this.outputType=e.outputType}}const kE=xr(ntt).setParameterLength(1);class rfe extends Map{get(e,n=null,...r){if(this.has(e))return super.get(e);if(n!==null){const i=n(...r);return this.set(e,i),i}}}class rtt{constructor(e){this.scriptableNode=e}get parameters(){return this.scriptableNode.parameters}get layout(){return this.scriptableNode.getLayout()}getInputLayout(e){return this.scriptableNode.getInputLayout(e)}get(e){const n=this.parameters[e];return n?n.getValue():null}}const UE=new rfe;class itt extends On{static get type(){return"ScriptableNode"}constructor(e=null,n={}){super(),this.codeNode=e,this.parameters=n,this._local=new rfe,this._output=kE(null),this._outputs={},this._source=this.source,this._method=null,this._object=null,this._value=null,this._needsOutputUpdate=!0,this.onRefresh=this.onRefresh.bind(this),this.isScriptableNode=!0}get source(){return this.codeNode?this.codeNode.code:""}setLocal(e,n){return this._local.set(e,n)}getLocal(e){return this._local.get(e)}onRefresh(){this._refresh()}getInputLayout(e){for(const n of this.getLayout())if(n.inputType&&(n.id===e||n.name===e))return n}getOutputLayout(e){for(const n of this.getLayout())if(n.outputType&&(n.id===e||n.name===e))return n}setOutput(e,n){const r=this._outputs;return r[e]===void 0?r[e]=kE(n):r[e].value=n,this}getOutput(e){return this._outputs[e]}getParameter(e){return this.parameters[e]}setParameter(e,n){const r=this.parameters;return n&&n.isScriptableNode?(this.deleteParameter(e),r[e]=n,r[e].getDefaultOutput().events.addEventListener("refresh",this.onRefresh)):n&&n.isScriptableValueNode?(this.deleteParameter(e),r[e]=n,r[e].events.addEventListener("refresh",this.onRefresh)):r[e]===void 0?(r[e]=kE(n),r[e].events.addEventListener("refresh",this.onRefresh)):r[e].value=n,this}getValue(){return this.getDefaultOutput().getValue()}deleteParameter(e){let n=this.parameters[e];return n&&(n.isScriptableNode&&(n=n.getDefaultOutput()),n.events.removeEventListener("refresh",this.onRefresh)),this}clearParameters(){for(const e of Object.keys(this.parameters))this.deleteParameter(e);return this.needsUpdate=!0,this}call(e,...n){const i=this.getObject()[e];if(typeof i=="function")return i(...n)}async callAsync(e,...n){const i=this.getObject()[e];if(typeof i=="function")return i.constructor.name==="AsyncFunction"?await i(...n):i(...n)}getNodeType(e){return this.getDefaultOutputNode().getNodeType(e)}refresh(e=null){e!==null?this.getOutput(e).refresh():this._refresh()}getObject(){if(this.needsUpdate&&this.dispose(),this._object!==null)return this._object;const e=()=>this.refresh(),n=(c,u)=>this.setOutput(c,u),r=new rtt(this),i=UE.get("THREE"),o=UE.get("TSL"),a=this.getMethod(),s=[r,this._local,UE,e,n,i,o];this._object=a(...s);const l=this._object.layout;if(l&&(l.cache===!1&&this._local.clear(),this._output.outputType=l.outputType||null,Array.isArray(l.elements)))for(const c of l.elements){const u=c.id||c.name;c.inputType&&(this.getParameter(u)===void 0&&this.setParameter(u,null),this.getParameter(u).inputType=c.inputType),c.outputType&&(this.getOutput(u)===void 0&&this.setOutput(u,null),this.getOutput(u).outputType=c.outputType)}return this._object}deserialize(e){super.deserialize(e);for(const n in this.parameters){let r=this.parameters[n];r.isScriptableNode&&(r=r.getDefaultOutput()),r.events.addEventListener("refresh",this.onRefresh)}}getLayout(){return this.getObject().layout}getDefaultOutputNode(){const e=this.getDefaultOutput().value;return e&&e.isNode?e:Ce()}getDefaultOutput(){return this._exec()._output}getMethod(){if(this.needsUpdate&&this.dispose(),this._method!==null)return this._method;const e=["parameters","local","global","refresh","setOutput","THREE","TSL"],r=["layout","init","main","dispose"].join(", "),i="var "+r+`; var output = {};
`,o=`
return { ...output, `+r+" };",a=i+this.codeNode.code+o;return this._method=new Function(...e,a),this._method}dispose(){this._method!==null&&(this._object&&typeof this._object.dispose=="function"&&this._object.dispose(),this._method=null,this._object=null,this._source=null,this._value=null,this._needsOutputUpdate=!0,this._output.value=null,this._outputs={})}setup(){return this.getDefaultOutputNode()}getCacheKey(e){const n=[wS(this.source),this.getDefaultOutputNode().getCacheKey(e)];for(const r in this.parameters)n.push(this.parameters[r].getCacheKey(e));return R1(n)}set needsUpdate(e){e===!0&&this.dispose()}get needsUpdate(){return this.source!==this._source}_exec(){return this.codeNode===null?this:(this._needsOutputUpdate===!0&&(this._value=this.call("main"),this._needsOutputUpdate=!1),this._output.value=this._value,this)}_refresh(){this.needsUpdate=!0,this._exec(),this._output.refresh()}}const ott=xr(itt).setParameterLength(1,2);function ife(t){let e;const n=t.context.getViewZ;return n!==void 0&&(e=n(this)),(e||jo.z).negate()}const p9=ot(([t,e],n)=>{const r=ife(n);return cd(t,e,r)}),m9=ot(([t],e)=>{const n=ife(e);return t.mul(t,n,n).negate().exp().oneMinus()}),M2=ot(([t,e])=>Qn(e.toFloat().mix(Fv.rgb,t.toVec3()),Fv.a));function att(t,e,n){return Vt('TSL: "rangeFog( color, near, far )" is deprecated. Use "fog( color, rangeFogFactor( near, far ) )" instead.'),M2(t,p9(e,n))}function stt(t,e){return Vt('TSL: "densityFog( color, density )" is deprecated. Use "fog( color, densityFogFactor( density ) )" instead.'),M2(t,m9(e))}let Qm=null,Zm=null;class ltt extends On{static get type(){return"RangeNode"}constructor(e=Ce(),n=Ce()){super(),this.minNode=e,this.maxNode=n}getVectorLength(e){const n=this.getConstNode(this.minNode),r=this.getConstNode(this.maxNode),i=e.getTypeLength(Rp(n.value)),o=e.getTypeLength(Rp(r.value));return i>o?i:o}getNodeType(e){return e.object.count>1?e.getTypeFromLength(this.getVectorLength(e)):"float"}getConstNode(e){let n=null;if(e.traverse(r=>{r.isConstNode===!0&&(n=r)}),n===null)throw new Error('THREE.TSL: No "ConstNode" found in node graph.');return n}setup(e){const n=e.object;let r=null;if(n.count>1){const i=this.getConstNode(this.minNode),o=this.getConstNode(this.maxNode),a=i.value,s=o.value,l=e.getTypeLength(Rp(a)),c=e.getTypeLength(Rp(s));Qm=Qm||new yr,Zm=Zm||new yr,Qm.setScalar(0),Zm.setScalar(0),l===1?Qm.setScalar(a):a.isColor?Qm.set(a.r,a.g,a.b,1):Qm.set(a.x,a.y,a.z||0,a.w||0),c===1?Zm.setScalar(s):s.isColor?Zm.set(s.r,s.g,s.b,1):Zm.set(s.x,s.y,s.z||0,s.w||0);const u=4,d=u*n.count,f=new Float32Array(d);for(let p=0;p<d;p++){const _=p%u,x=Qm.getComponent(_),y=Zm.getComponent(_);f[p]=Ly.lerp(x,y,Math.random())}const h=this.getNodeType(e);if(n.count<=4096)r=ES(f,"vec4",n.count).element(lf).convert(h);else{const p=new Wp(f,4);e.geometry.setAttribute("__range"+this.id,p),r=L3(p).convert(h)}}else r=Ce(0);return r}}const ctt=xr(ltt).setParameterLength(2);class utt extends On{static get type(){return"ComputeBuiltinNode"}constructor(e,n){super(n),this._builtinName=e}getHash(e){return this.getBuiltinName(e)}getNodeType(){return this.nodeType}setBuiltinName(e){return this._builtinName=e,this}getBuiltinName(){return this._builtinName}hasBuiltin(e){return e.hasBuiltin(this._builtinName)}generate(e,n){const r=this.getBuiltinName(e),i=this.getNodeType(e);return e.shaderStage==="compute"?e.format(r,i,n):(Vt(`ComputeBuiltinNode: Compute built-in value ${r} can not be accessed in the ${e.shaderStage} stage`),e.generateConst(i))}serialize(e){super.serialize(e),e.global=this.global,e._builtinName=this._builtinName}deserialize(e){super.deserialize(e),this.global=e.global,this._builtinName=e._builtinName}}const IS=(t,e)=>new utt(t,e),dtt=IS("numWorkgroups","uvec3"),ftt=IS("workgroupId","uvec3"),htt=IS("globalId","uvec3"),ptt=IS("localId","uvec3"),mtt=IS("subgroupSize","uint");class gtt extends On{constructor(e){super(),this.scope=e}generate(e){const{scope:n}=this,{renderer:r}=e;r.backend.isWebGLBackend===!0?e.addFlowCode(`	// ${n}Barrier 
`):e.addLineFlowCode(`${n}Barrier()`,this)}}const g9=xr(gtt),Att=()=>g9("workgroup").toStack(),vtt=()=>g9("storage").toStack(),ytt=()=>g9("texture").toStack();class btt extends Ig{constructor(e,n){super(e,n),this.isWorkgroupInfoElementNode=!0}generate(e,n){let r;const i=e.context.assign;if(r=super.generate(e),i!==!0){const o=this.getNodeType(e);r=e.format(r,o,n)}return r}}class xtt extends On{constructor(e,n,r=0){super(n),this.bufferType=n,this.bufferCount=r,this.isWorkgroupInfoNode=!0,this.elementType=n,this.scope=e,this.name=""}setName(e){return this.name=e,this}label(e){return Vt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(e)}setScope(e){return this.scope=e,this}getElementType(){return this.elementType}getInputType(){return`${this.scope}Array`}element(e){return new btt(this,e)}generate(e){const n=this.name!==""?this.name:`${this.scope}Array_${this.id}`;return e.getScopedArray(n,this.scope.toLowerCase(),this.bufferType,this.bufferCount)}}const _tt=(t,e)=>new xtt("Workgroup",t,e);class _a extends On{static get type(){return"AtomicFunctionNode"}constructor(e,n,r){super("uint"),this.method=e,this.pointerNode=n,this.valueNode=r,this.parents=!0}getInputType(e){return this.pointerNode.getNodeType(e)}getNodeType(e){return this.getInputType(e)}generate(e){const n=e.getNodeProperties(this),r=n.parents,i=this.method,o=this.getNodeType(e),a=this.getInputType(e),s=this.pointerNode,l=this.valueNode,c=[];c.push(`&${s.build(e,a)}`),l!==null&&c.push(l.build(e,a));const u=`${e.getMethod(i,o)}( ${c.join(", ")} )`;if(r?r.length===1&&r[0].isStackNode===!0:!1)e.addLineFlowCode(u,this);else return n.constNode===void 0&&(n.constNode=Ah(u,o).toConst()),n.constNode.build(e)}}_a.ATOMIC_LOAD="atomicLoad";_a.ATOMIC_STORE="atomicStore";_a.ATOMIC_ADD="atomicAdd";_a.ATOMIC_SUB="atomicSub";_a.ATOMIC_MAX="atomicMax";_a.ATOMIC_MIN="atomicMin";_a.ATOMIC_AND="atomicAnd";_a.ATOMIC_OR="atomicOr";_a.ATOMIC_XOR="atomicXor";const Stt=xr(_a),Sf=(t,e,n)=>Stt(t,e,n).toStack(),wtt=t=>Sf(_a.ATOMIC_LOAD,t,null),Ctt=(t,e)=>Sf(_a.ATOMIC_STORE,t,e),Ttt=(t,e)=>Sf(_a.ATOMIC_ADD,t,e),Ett=(t,e)=>Sf(_a.ATOMIC_SUB,t,e),Mtt=(t,e)=>Sf(_a.ATOMIC_MAX,t,e),Ptt=(t,e)=>Sf(_a.ATOMIC_MIN,t,e),Rtt=(t,e)=>Sf(_a.ATOMIC_AND,t,e),Ntt=(t,e)=>Sf(_a.ATOMIC_OR,t,e),Itt=(t,e)=>Sf(_a.ATOMIC_XOR,t,e);class Sn extends To{static get type(){return"SubgroupFunctionNode"}constructor(e,n=null,r=null){super(),this.method=e,this.aNode=n,this.bNode=r}getInputType(e){const n=this.aNode?this.aNode.getNodeType(e):null,r=this.bNode?this.bNode.getNodeType(e):null,i=e.isMatrix(n)?0:e.getTypeLength(n),o=e.isMatrix(r)?0:e.getTypeLength(r);return i>o?n:r}getNodeType(e){const n=this.method;return n===Sn.SUBGROUP_ELECT?"bool":n===Sn.SUBGROUP_BALLOT?"uvec4":this.getInputType(e)}generate(e,n){const r=this.method,i=this.getNodeType(e),o=this.getInputType(e),a=this.aNode,s=this.bNode,l=[];if(r===Sn.SUBGROUP_BROADCAST||r===Sn.SUBGROUP_SHUFFLE||r===Sn.QUAD_BROADCAST){const u=s.getNodeType(e);l.push(a.build(e,i),s.build(e,u==="float"?"int":i))}else r===Sn.SUBGROUP_SHUFFLE_XOR||r===Sn.SUBGROUP_SHUFFLE_DOWN||r===Sn.SUBGROUP_SHUFFLE_UP?l.push(a.build(e,i),s.build(e,"uint")):(a!==null&&l.push(a.build(e,o)),s!==null&&l.push(s.build(e,o)));const c=l.length===0?"()":`( ${l.join(", ")} )`;return e.format(`${e.getMethod(r,i)}${c}`,i,n)}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}Sn.SUBGROUP_ELECT="subgroupElect";Sn.SUBGROUP_BALLOT="subgroupBallot";Sn.SUBGROUP_ADD="subgroupAdd";Sn.SUBGROUP_INCLUSIVE_ADD="subgroupInclusiveAdd";Sn.SUBGROUP_EXCLUSIVE_AND="subgroupExclusiveAdd";Sn.SUBGROUP_MUL="subgroupMul";Sn.SUBGROUP_INCLUSIVE_MUL="subgroupInclusiveMul";Sn.SUBGROUP_EXCLUSIVE_MUL="subgroupExclusiveMul";Sn.SUBGROUP_AND="subgroupAnd";Sn.SUBGROUP_OR="subgroupOr";Sn.SUBGROUP_XOR="subgroupXor";Sn.SUBGROUP_MIN="subgroupMin";Sn.SUBGROUP_MAX="subgroupMax";Sn.SUBGROUP_ALL="subgroupAll";Sn.SUBGROUP_ANY="subgroupAny";Sn.SUBGROUP_BROADCAST_FIRST="subgroupBroadcastFirst";Sn.QUAD_SWAP_X="quadSwapX";Sn.QUAD_SWAP_Y="quadSwapY";Sn.QUAD_SWAP_DIAGONAL="quadSwapDiagonal";Sn.SUBGROUP_BROADCAST="subgroupBroadcast";Sn.SUBGROUP_SHUFFLE="subgroupShuffle";Sn.SUBGROUP_SHUFFLE_XOR="subgroupShuffleXor";Sn.SUBGROUP_SHUFFLE_UP="subgroupShuffleUp";Sn.SUBGROUP_SHUFFLE_DOWN="subgroupShuffleDown";Sn.QUAD_BROADCAST="quadBroadcast";const Ott=an(Sn,Sn.SUBGROUP_ELECT).setParameterLength(0),Dtt=an(Sn,Sn.SUBGROUP_BALLOT).setParameterLength(1),Ltt=an(Sn,Sn.SUBGROUP_ADD).setParameterLength(1),Btt=an(Sn,Sn.SUBGROUP_INCLUSIVE_ADD).setParameterLength(1),Ftt=an(Sn,Sn.SUBGROUP_EXCLUSIVE_AND).setParameterLength(1),$tt=an(Sn,Sn.SUBGROUP_MUL).setParameterLength(1),ktt=an(Sn,Sn.SUBGROUP_INCLUSIVE_MUL).setParameterLength(1),Utt=an(Sn,Sn.SUBGROUP_EXCLUSIVE_MUL).setParameterLength(1),ztt=an(Sn,Sn.SUBGROUP_AND).setParameterLength(1),Vtt=an(Sn,Sn.SUBGROUP_OR).setParameterLength(1),Gtt=an(Sn,Sn.SUBGROUP_XOR).setParameterLength(1),Htt=an(Sn,Sn.SUBGROUP_MIN).setParameterLength(1),jtt=an(Sn,Sn.SUBGROUP_MAX).setParameterLength(1),qtt=an(Sn,Sn.SUBGROUP_ALL).setParameterLength(0),Wtt=an(Sn,Sn.SUBGROUP_ANY).setParameterLength(0),Xtt=an(Sn,Sn.SUBGROUP_BROADCAST_FIRST).setParameterLength(2),Ytt=an(Sn,Sn.QUAD_SWAP_X).setParameterLength(1),Ktt=an(Sn,Sn.QUAD_SWAP_Y).setParameterLength(1),Qtt=an(Sn,Sn.QUAD_SWAP_DIAGONAL).setParameterLength(1),Ztt=an(Sn,Sn.SUBGROUP_BROADCAST).setParameterLength(2),Jtt=an(Sn,Sn.SUBGROUP_SHUFFLE).setParameterLength(2),ent=an(Sn,Sn.SUBGROUP_SHUFFLE_XOR).setParameterLength(2),tnt=an(Sn,Sn.SUBGROUP_SHUFFLE_UP).setParameterLength(2),nnt=an(Sn,Sn.SUBGROUP_SHUFFLE_DOWN).setParameterLength(2),rnt=an(Sn,Sn.QUAD_BROADCAST).setParameterLength(1);let vT;function gN(t){vT=vT||new WeakMap;let e=vT.get(t);return e===void 0&&vT.set(t,e={}),e}function AN(t){const e=gN(t);return e.shadowMatrix||(e.shadowMatrix=Wn("mat4").setGroup(qn).onRenderUpdate(n=>((t.castShadow!==!0||n.renderer.shadowMap.enabled===!1)&&(t.shadow.camera.coordinateSystem!==n.camera.coordinateSystem&&(t.shadow.camera.coordinateSystem=n.camera.coordinateSystem,t.shadow.camera.updateProjectionMatrix()),t.shadow.updateMatrices(t)),t.shadow.matrix)))}function ofe(t,e=sf){const n=AN(t).mul(e);return n.xyz.div(n.w)}function A9(t){const e=gN(t);return e.position||(e.position=Wn(new Te).setGroup(qn).onRenderUpdate((n,r)=>r.value.setFromMatrixPosition(t.matrixWorld)))}function afe(t){const e=gN(t);return e.targetPosition||(e.targetPosition=Wn(new Te).setGroup(qn).onRenderUpdate((n,r)=>r.value.setFromMatrixPosition(t.target.matrixWorld)))}function v9(t){const e=gN(t);return e.viewPosition||(e.viewPosition=Wn(new Te).setGroup(qn).onRenderUpdate(({camera:n},r)=>{r.value=r.value||new Te,r.value.setFromMatrixPosition(t.matrixWorld),r.value.applyMatrix4(n.matrixWorldInverse)}))}const y9=t=>Au.transformDirection(A9(t).sub(afe(t))),int=t=>t.sort((e,n)=>e.id-n.id),ont=(t,e)=>{for(const n of e)if(n.isAnalyticLightNode&&n.light.id===t)return n;return null},oD=new WeakMap,qb=[];class b9 extends On{static get type(){return"LightsNode"}constructor(){super("vec3"),this.totalDiffuseNode=th("vec3","totalDiffuse"),this.totalSpecularNode=th("vec3","totalSpecular"),this.outgoingLightNode=th("vec3","outgoingLight"),this._lights=[],this._lightNodes=null,this._lightNodesHash=null,this.global=!0}customCacheKey(){const e=this._lights;for(let r=0;r<e.length;r++){const i=e[r];if(qb.push(i.id),qb.push(i.castShadow?1:0),i.isSpotLight===!0){const o=i.map!==null?i.map.id:-1,a=i.colorNode?i.colorNode.getCacheKey():-1;qb.push(o,a)}}const n=R1(qb);return qb.length=0,n}getHash(e){if(this._lightNodesHash===null){this._lightNodes===null&&this.setupLightsNode(e);const n=[];for(const r of this._lightNodes)n.push(r.getHash());this._lightNodesHash="lights-"+n.join(",")}return this._lightNodesHash}analyze(e){const n=e.getNodeProperties(this);for(const r of n.nodes)r.build(e);n.outputNode.build(e)}setupLightsNode(e){const n=[],r=this._lightNodes,i=int(this._lights),o=e.renderer.library;for(const a of i)if(a.isNode)n.push(vn(a));else{let s=null;if(r!==null&&(s=ont(a.id,r)),s===null){const l=o.getLightNodeClass(a.constructor);if(l===null){Vt(`LightsNode.setupNodeLights: Light node not found for ${a.constructor.name}`);continue}let c=null;oD.has(a)?c=oD.get(a):(c=new l(a),oD.set(a,c)),n.push(c)}}this._lightNodes=n}setupDirectLight(e,n,r){const{lightingModel:i,reflectedLight:o}=e.context;i.direct({...r,lightNode:n,reflectedLight:o},e)}setupDirectRectAreaLight(e,n,r){const{lightingModel:i,reflectedLight:o}=e.context;i.directRectArea({...r,lightNode:n,reflectedLight:o},e)}setupLights(e,n){for(const r of n)r.build(e)}getLightNodes(e){return this._lightNodes===null&&this.setupLightsNode(e),this._lightNodes}setup(e){const n=e.lightsNode;e.lightsNode=this;let r=this.outgoingLightNode;const i=e.context,o=i.lightingModel,a=e.getNodeProperties(this);if(o){const{totalDiffuseNode:s,totalSpecularNode:l}=this;i.outgoingLight=r;const c=e.addStack();a.nodes=c.nodes,o.start(e);const{backdrop:u,backdropAlpha:d}=i,{directDiffuse:f,directSpecular:h,indirectDiffuse:p,indirectSpecular:_}=i.reflectedLight;let x=f.add(p);u!==null&&(d!==null?x=et(d.mix(x,u)):x=et(u)),s.assign(x),l.assign(h.add(_)),r.assign(s.add(l)),o.finish(e),r=r.bypass(e.removeStack())}else a.nodes=[];return e.lightsNode=n,r}setLights(e){return this._lights=e,this._lightNodes=null,this._lightNodesHash=null,this}getLights(){return this._lights}get hasLights(){return this._lights.length>0}}const ant=(t=[])=>new b9().setLights(t);class snt extends On{static get type(){return"ShadowBaseNode"}constructor(e){super(),this.light=e,this.updateBeforeType=Er.RENDER,this.isShadowBaseNode=!0}setupShadowPosition({context:e,material:n}){x9.assign(n.receivedShadowPositionNode||e.shadowPositionWorld||sf)}}const x9=th("vec3","shadowPositionWorld");function lnt(t,e={}){return e.toneMapping=t.toneMapping,e.toneMappingExposure=t.toneMappingExposure,e.outputColorSpace=t.outputColorSpace,e.renderTarget=t.getRenderTarget(),e.activeCubeFace=t.getActiveCubeFace(),e.activeMipmapLevel=t.getActiveMipmapLevel(),e.renderObjectFunction=t.getRenderObjectFunction(),e.pixelRatio=t.getPixelRatio(),e.mrt=t.getMRT(),e.clearColor=t.getClearColor(e.clearColor||new Vn),e.clearAlpha=t.getClearAlpha(),e.autoClear=t.autoClear,e.scissorTest=t.getScissorTest(),e}function cnt(t,e){return e=lnt(t,e),t.setMRT(null),t.setRenderObjectFunction(null),t.setClearColor(0,1),t.autoClear=!0,e}function unt(t,e){t.toneMapping=e.toneMapping,t.toneMappingExposure=e.toneMappingExposure,t.outputColorSpace=e.outputColorSpace,t.setRenderTarget(e.renderTarget,e.activeCubeFace,e.activeMipmapLevel),t.setRenderObjectFunction(e.renderObjectFunction),t.setPixelRatio(e.pixelRatio),t.setMRT(e.mrt),t.setClearColor(e.clearColor,e.clearAlpha),t.autoClear=e.autoClear,t.setScissorTest(e.scissorTest)}function dnt(t,e={}){return e.background=t.background,e.backgroundNode=t.backgroundNode,e.overrideMaterial=t.overrideMaterial,e}function fnt(t,e){return e=dnt(t,e),t.background=null,t.backgroundNode=null,t.overrideMaterial=null,e}function hnt(t,e){t.background=e.background,t.backgroundNode=e.backgroundNode,t.overrideMaterial=e.overrideMaterial}function pnt(t,e,n){return n=cnt(t,n),n=fnt(e,n),n}function mnt(t,e,n){unt(t,n),hnt(e,n)}const U3=new WeakMap,sfe=ot(({depthTexture:t,shadowCoord:e,depthLayer:n})=>{let r=ci(t,e.xy).setName("t_basic");return t.isArrayTexture&&(r=r.depth(n)),r.compare(e.z)}),lfe=ot(({depthTexture:t,shadowCoord:e,shadow:n,depthLayer:r})=>{const i=(u,d)=>{let f=ci(t,u);return t.isArrayTexture&&(f=f.depth(r)),f.compare(d)},o=Pi("mapSize","vec2",n).setGroup(qn),a=Pi("radius","float",n).setGroup(qn),s=rn(1).div(o),l=a.mul(s.x),c=f9(Dg.xy).mul(6.28318530718);return Zo(i(e.xy.add(Gu(0,5,c).mul(l)),e.z),i(e.xy.add(Gu(1,5,c).mul(l)),e.z),i(e.xy.add(Gu(2,5,c).mul(l)),e.z),i(e.xy.add(Gu(3,5,c).mul(l)),e.z),i(e.xy.add(Gu(4,5,c).mul(l)),e.z)).mul(1/5)}),cfe=ot(({depthTexture:t,shadowCoord:e,shadow:n,depthLayer:r})=>{const i=(d,f)=>{let h=ci(t,d);return t.isArrayTexture&&(h=h.depth(r)),h.compare(f)},o=Pi("mapSize","vec2",n).setGroup(qn),a=rn(1).div(o),s=a.x,l=a.y,c=e.xy,u=sd(c.mul(o).add(.5));return c.subAssign(u.mul(a)),Zo(i(c,e.z),i(c.add(rn(s,0)),e.z),i(c.add(rn(0,l)),e.z),i(c.add(a),e.z),Zr(i(c.add(rn(s.negate(),0)),e.z),i(c.add(rn(s.mul(2),0)),e.z),u.x),Zr(i(c.add(rn(s.negate(),l)),e.z),i(c.add(rn(s.mul(2),l)),e.z),u.x),Zr(i(c.add(rn(0,l.negate())),e.z),i(c.add(rn(0,l.mul(2))),e.z),u.y),Zr(i(c.add(rn(s,l.negate())),e.z),i(c.add(rn(s,l.mul(2))),e.z),u.y),Zr(Zr(i(c.add(rn(s.negate(),l.negate())),e.z),i(c.add(rn(s.mul(2),l.negate())),e.z),u.x),Zr(i(c.add(rn(s.negate(),l.mul(2))),e.z),i(c.add(rn(s.mul(2),l.mul(2))),e.z),u.x),u.y)).mul(1/9)}),ufe=ot(({depthTexture:t,shadowCoord:e,depthLayer:n})=>{let r=ci(t).sample(e.xy);t.isArrayTexture&&(r=r.depth(n)),r=r.rg;const i=r.x,o=Co(1e-7,r.y.mul(r.y)),a=ZR(e.z,i);Kn(a.equal(1),()=>Ce(1));const s=e.z.sub(i);let l=o.div(o.add(s.mul(s)));return l=ld(ei(l,.3).div(.65)),Co(a,l)}),gnt=ot(([t,e,n])=>{let r=sf.sub(t).length();return r=r.sub(e).div(n.sub(e)),r=r.saturate(),r}),Ant=t=>{const e=t.shadow.camera,n=Pi("near","float",e).setGroup(qn),r=Pi("far","float",e).setGroup(qn),i=qce(t);return gnt(i,n,r)},dfe=t=>{let e=U3.get(t);if(e===void 0){const n=t.isPointLight?Ant(t):null;e=new Bo,e.colorNode=Qn(0,0,0,1),e.depthNode=n,e.isShadowPassMaterial=!0,e.name="ShadowMaterial",e.fog=!1,U3.set(t,e)}return e},ffe=t=>{const e=U3.get(t);e!==void 0&&(e.dispose(),U3.delete(t))},tY=new ud,LA=[],hfe=(t,e,n,r)=>{LA[0]=t,LA[1]=e;let i=tY.get(LA);return(i===void 0||i.shadowType!==n||i.useVelocity!==r)&&(i=(o,a,s,l,c,u,...d)=>{(o.castShadow===!0||o.receiveShadow&&n===Wf)&&(r&&(ale(o).useVelocity=!0),o.onBeforeShadow(t,o,s,e.camera,l,a.overrideMaterial,u),t.renderObject(o,a,s,l,c,u,...d),o.onAfterShadow(t,o,s,e.camera,l,a.overrideMaterial,u))},i.shadowType=n,i.useVelocity=r,tY.set(LA,i)),LA[0]=null,LA[1]=null,i},vnt=ot(({samples:t,radius:e,size:n,shadowPass:r,depthLayer:i})=>{const o=Ce(0).toVar("meanVertical"),a=Ce(0).toVar("squareMeanVertical"),s=t.lessThanEqual(Ce(1)).select(Ce(0),Ce(2).div(t.sub(1))),l=t.lessThanEqual(Ce(1)).select(Ce(0),Ce(-1));Ci({start:We(0),end:We(t),type:"int",condition:"<"},({i:u})=>{const d=l.add(Ce(u).mul(s));let f=r.sample(Zo(Dg.xy,rn(0,d).mul(e)).div(n));r.value.isArrayTexture&&(f=f.depth(i)),f=f.x,o.addAssign(f),a.addAssign(f.mul(f))}),o.divAssign(t),a.divAssign(t);const c=Ts(a.sub(o.mul(o)).max(0));return rn(o,c)}),ynt=ot(({samples:t,radius:e,size:n,shadowPass:r,depthLayer:i})=>{const o=Ce(0).toVar("meanHorizontal"),a=Ce(0).toVar("squareMeanHorizontal"),s=t.lessThanEqual(Ce(1)).select(Ce(0),Ce(2).div(t.sub(1))),l=t.lessThanEqual(Ce(1)).select(Ce(0),Ce(-1));Ci({start:We(0),end:We(t),type:"int",condition:"<"},({i:u})=>{const d=l.add(Ce(u).mul(s));let f=r.sample(Zo(Dg.xy,rn(d,0).mul(e)).div(n));r.value.isArrayTexture&&(f=f.depth(i)),o.addAssign(f.x),a.addAssign(Zo(f.y.mul(f.y),f.x.mul(f.x)))}),o.divAssign(t),a.divAssign(t);const c=Ts(a.sub(o.mul(o)).max(0));return rn(o,c)}),bnt=[sfe,lfe,cfe,ufe];let aD;const yT=new fN;class pfe extends snt{static get type(){return"ShadowNode"}constructor(e,n=null){super(e),this.shadow=n||e.shadow,this.shadowMap=null,this.vsmShadowMapVertical=null,this.vsmShadowMapHorizontal=null,this.vsmMaterialVertical=null,this.vsmMaterialHorizontal=null,this._node=null,this._currentShadowType=null,this._cameraFrameId=new WeakMap,this.isShadowNode=!0,this.depthLayer=0}setupShadowFilter(e,{filterFn:n,depthTexture:r,shadowCoord:i,shadow:o,depthLayer:a}){const s=i.x.greaterThanEqual(0).and(i.x.lessThanEqual(1)).and(i.y.greaterThanEqual(0)).and(i.y.lessThanEqual(1)).and(i.z.lessThanEqual(1)),l=n({depthTexture:r,shadowCoord:i,shadow:o,depthLayer:a});return s.select(l,Ce(1))}setupShadowCoord(e,n){const{shadow:r}=this,{renderer:i}=e,o=Pi("bias","float",r).setGroup(qn);let a=n,s;if(r.camera.isOrthographicCamera||i.logarithmicDepthBuffer!==!0)a=a.xyz.div(a.w),s=a.z,i.coordinateSystem===lu&&(s=s.mul(2).sub(1));else{const l=a.w;a=a.xy.div(l);const c=Pi("near","float",r.camera).setGroup(qn),u=Pi("far","float",r.camera).setGroup(qn);s=e9(l.negate(),c,u)}return a=et(a.x,a.y.oneMinus(),s.add(o)),a}getShadowFilterFn(e){return bnt[e]}setupRenderTarget(e,n){const r=new Ms(e.mapSize.width,e.mapSize.height);r.name="ShadowDepthTexture",r.compareFunction=pS;const i=n.createRenderTarget(e.mapSize.width,e.mapSize.height);return i.texture.name="ShadowMap",i.texture.type=e.mapType,i.depthTexture=r,{shadowMap:i,depthTexture:r}}setupShadow(e){const{renderer:n,camera:r}=e,{light:i,shadow:o}=this,a=n.shadowMap.type,{depthTexture:s,shadowMap:l}=this.setupRenderTarget(o,e);if(o.camera.coordinateSystem=r.coordinateSystem,o.camera.updateProjectionMatrix(),a===Wf&&o.isPointLightShadow!==!0){s.compareFunction=null,l.depth>1?(l._vsmShadowMapVertical||(l._vsmShadowMapVertical=e.createRenderTarget(o.mapSize.width,o.mapSize.height,{format:Qs,type:io,depth:l.depth,depthBuffer:!1}),l._vsmShadowMapVertical.texture.name="VSMVertical"),this.vsmShadowMapVertical=l._vsmShadowMapVertical,l._vsmShadowMapHorizontal||(l._vsmShadowMapHorizontal=e.createRenderTarget(o.mapSize.width,o.mapSize.height,{format:Qs,type:io,depth:l.depth,depthBuffer:!1}),l._vsmShadowMapHorizontal.texture.name="VSMHorizontal"),this.vsmShadowMapHorizontal=l._vsmShadowMapHorizontal):(this.vsmShadowMapVertical=e.createRenderTarget(o.mapSize.width,o.mapSize.height,{format:Qs,type:io,depthBuffer:!1}),this.vsmShadowMapHorizontal=e.createRenderTarget(o.mapSize.width,o.mapSize.height,{format:Qs,type:io,depthBuffer:!1}));let C=ci(s);s.isArrayTexture&&(C=C.depth(this.depthLayer));let M=ci(this.vsmShadowMapVertical.texture);s.isArrayTexture&&(M=M.depth(this.depthLayer));const R=Pi("blurSamples","float",o).setGroup(qn),N=Pi("radius","float",o).setGroup(qn),I=Pi("mapSize","vec2",o).setGroup(qn);let B=this.vsmMaterialVertical||(this.vsmMaterialVertical=new Bo);B.fragmentNode=vnt({samples:R,radius:N,size:I,shadowPass:C,depthLayer:this.depthLayer}).context(e.getSharedContext()),B.name="VSMVertical",B=this.vsmMaterialHorizontal||(this.vsmMaterialHorizontal=new Bo),B.fragmentNode=ynt({samples:R,radius:N,size:I,shadowPass:M,depthLayer:this.depthLayer}).context(e.getSharedContext()),B.name="VSMHorizontal"}const c=Pi("intensity","float",o).setGroup(qn),u=Pi("normalBias","float",o).setGroup(qn),d=AN(i).mul(x9.add(Sm.mul(u))),f=this.setupShadowCoord(e,d),h=o.filterNode||this.getShadowFilterFn(n.shadowMap.type)||null;if(h===null)throw new Error("THREE.WebGPURenderer: Shadow map type not supported yet.");const p=a===Wf&&o.isPointLightShadow!==!0?this.vsmShadowMapHorizontal.texture:s,_=this.setupShadowFilter(e,{filterFn:h,shadowTexture:l.texture,depthTexture:p,shadowCoord:f,shadow:o,depthLayer:this.depthLayer});let x;l.texture.isCubeTexture?x=Ys(l.texture,f.xyz):(x=ci(l.texture,f),s.isArrayTexture&&(x=x.depth(this.depthLayer)));const y=Zr(1,_.rgb.mix(x,1),c.mul(x.a)).toVar();this.shadowMap=l,this.shadow.map=l;const w=`${this.light.type} Shadow [ ${this.light.name||"ID: "+this.light.id} ]`;return y.toInspector(`${w} / Color`,()=>this.shadowMap.texture.isCubeTexture?Ys(this.shadowMap.texture):ci(this.shadowMap.texture)).toInspector(`${w} / Depth`,()=>this.shadowMap.texture.isCubeTexture?Ys(this.shadowMap.texture).r.oneMinus():Po(this.shadowMap.depthTexture,Di().mul(nh(ci(this.shadowMap.depthTexture)))).r.oneMinus())}setup(e){if(e.renderer.shadowMap.enabled!==!1)return ot(()=>{const n=e.renderer.shadowMap.type;this._currentShadowType!==n&&(this._reset(),this._node=null);let r=this._node;return this.setupShadowPosition(e),r===null&&(this._node=r=this.setupShadow(e),this._currentShadowType=n),e.material.shadowNode&&Vt('NodeMaterial: ".shadowNode" is deprecated. Use ".castShadowNode" instead.'),e.material.receivedShadowNode&&(r=e.material.receivedShadowNode(r)),r})()}renderShadow(e){const{shadow:n,shadowMap:r,light:i}=this,{renderer:o,scene:a}=e;n.updateMatrices(i),r.setSize(n.mapSize.width,n.mapSize.height,r.depth);const s=a.name;a.name=`Shadow Map [ ${i.name||"ID: "+i.id} ]`,o.render(a,n.camera),a.name=s}updateShadow(e){const{shadowMap:n,light:r,shadow:i}=this,{renderer:o,scene:a,camera:s}=e,l=o.shadowMap.type,c=n.depthTexture.version;this._depthVersionCached=c;const u=i.camera.layers.mask;i.camera.layers.mask&4294967294||(i.camera.layers.mask=s.layers.mask);const d=o.getRenderObjectFunction(),f=o.getMRT(),h=f?f.has("velocity"):!1;aD=pnt(o,a,aD),a.overrideMaterial=dfe(r),o.setRenderObjectFunction(hfe(o,i,l,h)),o.setClearColor(0,0),o.setRenderTarget(n),this.renderShadow(e),o.setRenderObjectFunction(d),l===Wf&&i.isPointLightShadow!==!0&&this.vsmPass(o),i.camera.layers.mask=u,mnt(o,a,aD)}vsmPass(e){const{shadow:n}=this,r=this.shadowMap.depth;this.vsmShadowMapVertical.setSize(n.mapSize.width,n.mapSize.height,r),this.vsmShadowMapHorizontal.setSize(n.mapSize.width,n.mapSize.height,r),e.setRenderTarget(this.vsmShadowMapVertical),yT.material=this.vsmMaterialVertical,yT.render(e),e.setRenderTarget(this.vsmShadowMapHorizontal),yT.material=this.vsmMaterialHorizontal,yT.render(e)}dispose(){this._reset(),super.dispose()}_reset(){this._currentShadowType=null,ffe(this.light),this.shadowMap&&(this.shadowMap.dispose(),this.shadowMap=null),this.vsmShadowMapVertical!==null&&(this.vsmShadowMapVertical.dispose(),this.vsmShadowMapVertical=null,this.vsmMaterialVertical.dispose(),this.vsmMaterialVertical=null),this.vsmShadowMapHorizontal!==null&&(this.vsmShadowMapHorizontal.dispose(),this.vsmShadowMapHorizontal=null,this.vsmMaterialHorizontal.dispose(),this.vsmMaterialHorizontal=null)}updateBefore(e){const{shadow:n}=this;let r=n.needsUpdate||n.autoUpdate;r&&(this._cameraFrameId[e.camera]===e.frameId&&(r=!1),this._cameraFrameId[e.camera]=e.frameId),r&&(this.updateShadow(e),this.shadowMap.depthTexture.version===this._depthVersionCached&&(n.needsUpdate=!1))}}const mfe=(t,e)=>new pfe(t,e),xnt=new Vn,nY=new wr,Wb=new Te,sD=new Te,_nt=[new Te(1,0,0),new Te(-1,0,0),new Te(0,-1,0),new Te(0,1,0),new Te(0,0,1),new Te(0,0,-1)],Snt=[new Te(0,-1,0),new Te(0,-1,0),new Te(0,0,-1),new Te(0,0,1),new Te(0,-1,0),new Te(0,-1,0)],wnt=[new Te(1,0,0),new Te(-1,0,0),new Te(0,1,0),new Te(0,-1,0),new Te(0,0,1),new Te(0,0,-1)],Cnt=[new Te(0,-1,0),new Te(0,-1,0),new Te(0,0,1),new Te(0,0,-1),new Te(0,-1,0),new Te(0,-1,0)],gfe=ot(({depthTexture:t,bd3D:e,dp:n})=>Ys(t,e).compare(n)),Afe=ot(({depthTexture:t,bd3D:e,dp:n,shadow:r})=>{const i=Pi("radius","float",r).setGroup(qn),o=Pi("mapSize","vec2",r).setGroup(qn),a=i.div(o.x),s=Wi(e),l=il(gh(e,s.x.greaterThan(s.z).select(et(0,1,0),et(1,0,0)))),c=gh(e,l),u=f9(Dg.xy).mul(6.28318530718),d=Gu(0,5,u),f=Gu(1,5,u),h=Gu(2,5,u),p=Gu(3,5,u),_=Gu(4,5,u);return Ys(t,e.add(l.mul(d.x).add(c.mul(d.y)).mul(a))).compare(n).add(Ys(t,e.add(l.mul(f.x).add(c.mul(f.y)).mul(a))).compare(n)).add(Ys(t,e.add(l.mul(h.x).add(c.mul(h.y)).mul(a))).compare(n)).add(Ys(t,e.add(l.mul(p.x).add(c.mul(p.y)).mul(a))).compare(n)).add(Ys(t,e.add(l.mul(_.x).add(c.mul(_.y)).mul(a))).compare(n)).mul(1/5)}),Tnt=ot(({filterFn:t,depthTexture:e,shadowCoord:n,shadow:r})=>{const i=n.xyz.toVar(),o=i.length(),a=Wn("float").setGroup(qn).onRenderUpdate(()=>r.camera.near),s=Wn("float").setGroup(qn).onRenderUpdate(()=>r.camera.far),l=Pi("bias","float",r).setGroup(qn),c=Ce(1).toVar();return Kn(o.sub(s).lessThanEqual(0).and(o.sub(a).greaterThanEqual(0)),()=>{const u=o.sub(a).div(s.sub(a)).toVar();u.addAssign(l);const d=i.normalize();c.assign(t({depthTexture:e,bd3D:d,dp:u,shadow:r}))}),c});class Ent extends pfe{static get type(){return"PointShadowNode"}constructor(e,n=null){super(e,n)}getShadowFilterFn(e){return e===fBe?gfe:Afe}setupShadowCoord(e,n){return n}setupShadowFilter(e,{filterFn:n,depthTexture:r,shadowCoord:i,shadow:o}){return Tnt({filterFn:n,depthTexture:r,shadowCoord:i,shadow:o})}setupRenderTarget(e,n){const r=new mae(e.mapSize.width);r.name="PointShadowDepthTexture",r.compareFunction=pS;const i=n.createCubeRenderTarget(e.mapSize.width);return i.texture.name="PointShadowMap",i.depthTexture=r,{shadowMap:i,depthTexture:r}}renderShadow(e){const{shadow:n,shadowMap:r,light:i}=this,{renderer:o,scene:a}=e,s=n.camera,l=n.matrix,c=o.coordinateSystem===lu,u=c?_nt:wnt,d=c?Snt:Cnt;r.setSize(n.mapSize.width,n.mapSize.width);const f=o.autoClear,h=o.getClearColor(xnt),p=o.getClearAlpha();o.autoClear=!1,o.setClearColor(n.clearColor,n.clearAlpha);for(let _=0;_<6;_++){o.setRenderTarget(r,_),o.clear();const x=i.distance||s.far;x!==s.far&&(s.far=x,s.updateProjectionMatrix()),Wb.setFromMatrixPosition(i.matrixWorld),s.position.copy(Wb),sD.copy(s.position),sD.add(u[_]),s.up.copy(d[_]),s.lookAt(sD),s.updateMatrixWorld(),l.makeTranslation(-Wb.x,-Wb.y,-Wb.z),nY.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),n._frustum.setFromProjectionMatrix(nY,s.coordinateSystem,s.reversedDepth);const y=a.name;a.name=`Point Light Shadow [ ${i.name||"ID: "+i.id} ] - Face ${_+1}`,o.render(a,s),a.name=y}o.autoClear=f,o.setClearColor(h,p)}}const vfe=(t,e)=>new Ent(t,e);class Lg extends I1{static get type(){return"AnalyticLightNode"}constructor(e=null){super(),this.light=e,this.color=new Vn,this.colorNode=e&&e.colorNode||Wn(this.color).setGroup(qn),this.baseColorNode=null,this.shadowNode=null,this.shadowColorNode=null,this.isAnalyticLightNode=!0,this.updateType=Er.FRAME,e&&e.shadow&&(this._shadowDisposeListener=()=>{this.disposeShadow()},e.addEventListener("dispose",this._shadowDisposeListener))}dispose(){this._shadowDisposeListener&&this.light.removeEventListener("dispose",this._shadowDisposeListener),super.dispose()}disposeShadow(){this.shadowNode!==null&&(this.shadowNode.dispose(),this.shadowNode=null),this.shadowColorNode=null,this.baseColorNode!==null&&(this.colorNode=this.baseColorNode,this.baseColorNode=null)}getHash(){return this.light.uuid}getLightVector(e){return v9(this.light).sub(e.context.positionView||jo)}setupDirect(){}setupDirectRectArea(){}setupShadowNode(){return mfe(this.light)}setupShadow(e){const{renderer:n}=e;if(n.shadowMap.enabled===!1)return;let r=this.shadowColorNode;if(r===null){const i=this.light.shadow.shadowNode;let o;i!==void 0?o=vn(i):o=this.setupShadowNode(),this.shadowNode=o,this.shadowColorNode=r=this.colorNode.mul(o),this.baseColorNode=this.colorNode}e.context.getShadow&&(r=e.context.getShadow(this,e)),this.colorNode=r}setup(e){this.colorNode=this.baseColorNode||this.colorNode,this.light.castShadow?e.object.receiveShadow&&this.setupShadow(e):this.shadowNode!==null&&(this.shadowNode.dispose(),this.shadowNode=null,this.shadowColorNode=null);const n=this.setupDirect(e),r=this.setupDirectRectArea(e);n&&e.lightsNode.setupDirectLight(e,this,n),r&&e.lightsNode.setupDirectRectAreaLight(e,this,r)}update(){const{light:e}=this;this.color.copy(e.color).multiplyScalar(e.intensity)}}const _9=ot(({lightDistance:t,cutoffDistance:e,decayExponent:n})=>{const r=t.pow(n).max(.01).reciprocal();return e.greaterThan(0).select(r.mul(t.div(e).pow4().oneMinus().clamp().pow2()),r)}),yfe=({color:t,lightVector:e,cutoffDistance:n,decayExponent:r})=>{const i=e.normalize(),o=e.length(),a=_9({lightDistance:o,cutoffDistance:n,decayExponent:r}),s=t.mul(a);return{lightDirection:i,lightColor:s}};class Mnt extends Lg{static get type(){return"PointLightNode"}constructor(e=null){super(e),this.cutoffDistanceNode=Wn(0).setGroup(qn),this.decayExponentNode=Wn(2).setGroup(qn)}update(e){const{light:n}=this;super.update(e),this.cutoffDistanceNode.value=n.distance,this.decayExponentNode.value=n.decay}setupShadowNode(){return vfe(this.light)}setupDirect(e){return yfe({color:this.colorNode,lightVector:this.getLightVector(e),cutoffDistance:this.cutoffDistanceNode,decayExponent:this.decayExponentNode})}}const Pnt=ot(([t=Di()])=>{const e=t.mul(2),n=e.x.floor(),r=e.y.floor();return n.add(r).mod(2).sign()}),Rnt=ot(([t=Di()],{renderer:e,material:n})=>{const r=Pk(t.mul(2).sub(1));let i;if(n.alphaToCoverage&&e.currentSamples>0){const o=Ce(r.fwidth()).toVar();i=cd(o.oneMinus(),o.add(1),r).oneMinus()}else i=ts(r.greaterThan(1),0,1);return i}),i_=ot(([t,e,n])=>{const r=Ce(n).toVar(),i=Ce(e).toVar(),o=uu(t).toVar();return ts(o,i,r)}).setLayout({name:"mx_select",type:"float",inputs:[{name:"b",type:"bool"},{name:"t",type:"float"},{name:"f",type:"float"}]}),z3=ot(([t,e])=>{const n=uu(e).toVar(),r=Ce(t).toVar();return ts(n,r.negate(),r)}).setLayout({name:"mx_negate_if",type:"float",inputs:[{name:"val",type:"float"},{name:"b",type:"bool"}]}),Qo=ot(([t])=>{const e=Ce(t).toVar();return We(of(e))}).setLayout({name:"mx_floor",type:"int",inputs:[{name:"x",type:"float"}]}),fo=ot(([t,e])=>{const n=Ce(t).toVar();return e.assign(Qo(n)),n.sub(Ce(e))}),Nnt=ot(([t,e,n,r,i,o])=>{const a=Ce(o).toVar(),s=Ce(i).toVar(),l=Ce(r).toVar(),c=Ce(n).toVar(),u=Ce(e).toVar(),d=Ce(t).toVar(),f=Ce(ei(1,s)).toVar();return ei(1,a).mul(d.mul(f).add(u.mul(s))).add(a.mul(c.mul(f).add(l.mul(s))))}).setLayout({name:"mx_bilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"}]}),Int=ot(([t,e,n,r,i,o])=>{const a=Ce(o).toVar(),s=Ce(i).toVar(),l=et(r).toVar(),c=et(n).toVar(),u=et(e).toVar(),d=et(t).toVar(),f=Ce(ei(1,s)).toVar();return ei(1,a).mul(d.mul(f).add(u.mul(s))).add(a.mul(c.mul(f).add(l.mul(s))))}).setLayout({name:"mx_bilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"}]}),bfe=ds([Nnt,Int]),Ont=ot(([t,e,n,r,i,o,a,s,l,c,u])=>{const d=Ce(u).toVar(),f=Ce(c).toVar(),h=Ce(l).toVar(),p=Ce(s).toVar(),_=Ce(a).toVar(),x=Ce(o).toVar(),y=Ce(i).toVar(),w=Ce(r).toVar(),C=Ce(n).toVar(),M=Ce(e).toVar(),R=Ce(t).toVar(),N=Ce(ei(1,h)).toVar(),I=Ce(ei(1,f)).toVar();return Ce(ei(1,d)).toVar().mul(I.mul(R.mul(N).add(M.mul(h))).add(f.mul(C.mul(N).add(w.mul(h))))).add(d.mul(I.mul(y.mul(N).add(x.mul(h))).add(f.mul(_.mul(N).add(p.mul(h))))))}).setLayout({name:"mx_trilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"v4",type:"float"},{name:"v5",type:"float"},{name:"v6",type:"float"},{name:"v7",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),Dnt=ot(([t,e,n,r,i,o,a,s,l,c,u])=>{const d=Ce(u).toVar(),f=Ce(c).toVar(),h=Ce(l).toVar(),p=et(s).toVar(),_=et(a).toVar(),x=et(o).toVar(),y=et(i).toVar(),w=et(r).toVar(),C=et(n).toVar(),M=et(e).toVar(),R=et(t).toVar(),N=Ce(ei(1,h)).toVar(),I=Ce(ei(1,f)).toVar();return Ce(ei(1,d)).toVar().mul(I.mul(R.mul(N).add(M.mul(h))).add(f.mul(C.mul(N).add(w.mul(h))))).add(d.mul(I.mul(y.mul(N).add(x.mul(h))).add(f.mul(_.mul(N).add(p.mul(h))))))}).setLayout({name:"mx_trilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"v4",type:"vec3"},{name:"v5",type:"vec3"},{name:"v6",type:"vec3"},{name:"v7",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),xfe=ds([Ont,Dnt]),Lnt=ot(([t,e,n])=>{const r=Ce(n).toVar(),i=Ce(e).toVar(),o=Zt(t).toVar(),a=Zt(o.bitAnd(Zt(7))).toVar(),s=Ce(i_(a.lessThan(Zt(4)),i,r)).toVar(),l=Ce(br(2,i_(a.lessThan(Zt(4)),r,i))).toVar();return z3(s,uu(a.bitAnd(Zt(1)))).add(z3(l,uu(a.bitAnd(Zt(2)))))}).setLayout({name:"mx_gradient_float_0",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"}]}),Bnt=ot(([t,e,n,r])=>{const i=Ce(r).toVar(),o=Ce(n).toVar(),a=Ce(e).toVar(),s=Zt(t).toVar(),l=Zt(s.bitAnd(Zt(15))).toVar(),c=Ce(i_(l.lessThan(Zt(8)),a,o)).toVar(),u=Ce(i_(l.lessThan(Zt(4)),o,i_(l.equal(Zt(12)).or(l.equal(Zt(14))),a,i))).toVar();return z3(c,uu(l.bitAnd(Zt(1)))).add(z3(u,uu(l.bitAnd(Zt(2)))))}).setLayout({name:"mx_gradient_float_1",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),Na=ds([Lnt,Bnt]),Fnt=ot(([t,e,n])=>{const r=Ce(n).toVar(),i=Ce(e).toVar(),o=Og(t).toVar();return et(Na(o.x,i,r),Na(o.y,i,r),Na(o.z,i,r))}).setLayout({name:"mx_gradient_vec3_0",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"}]}),$nt=ot(([t,e,n,r])=>{const i=Ce(r).toVar(),o=Ce(n).toVar(),a=Ce(e).toVar(),s=Og(t).toVar();return et(Na(s.x,a,o,i),Na(s.y,a,o,i),Na(s.z,a,o,i))}).setLayout({name:"mx_gradient_vec3_1",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),Uc=ds([Fnt,$nt]),knt=ot(([t])=>{const e=Ce(t).toVar();return br(.6616,e)}).setLayout({name:"mx_gradient_scale2d_0",type:"float",inputs:[{name:"v",type:"float"}]}),Unt=ot(([t])=>{const e=Ce(t).toVar();return br(.982,e)}).setLayout({name:"mx_gradient_scale3d_0",type:"float",inputs:[{name:"v",type:"float"}]}),znt=ot(([t])=>{const e=et(t).toVar();return br(.6616,e)}).setLayout({name:"mx_gradient_scale2d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),_fe=ds([knt,znt]),Vnt=ot(([t])=>{const e=et(t).toVar();return br(.982,e)}).setLayout({name:"mx_gradient_scale3d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),Sfe=ds([Unt,Vnt]),rc=ot(([t,e])=>{const n=We(e).toVar(),r=Zt(t).toVar();return r.shiftLeft(n).bitOr(r.shiftRight(We(32).sub(n)))}).setLayout({name:"mx_rotl32",type:"uint",inputs:[{name:"x",type:"uint"},{name:"k",type:"int"}]}),wfe=ot(([t,e,n])=>{t.subAssign(n),t.bitXorAssign(rc(n,We(4))),n.addAssign(e),e.subAssign(t),e.bitXorAssign(rc(t,We(6))),t.addAssign(n),n.subAssign(e),n.bitXorAssign(rc(e,We(8))),e.addAssign(t),t.subAssign(n),t.bitXorAssign(rc(n,We(16))),n.addAssign(e),e.subAssign(t),e.bitXorAssign(rc(t,We(19))),t.addAssign(n),n.subAssign(e),n.bitXorAssign(rc(e,We(4))),e.addAssign(t)}),OS=ot(([t,e,n])=>{const r=Zt(n).toVar(),i=Zt(e).toVar(),o=Zt(t).toVar();return r.bitXorAssign(i),r.subAssign(rc(i,We(14))),o.bitXorAssign(r),o.subAssign(rc(r,We(11))),i.bitXorAssign(o),i.subAssign(rc(o,We(25))),r.bitXorAssign(i),r.subAssign(rc(i,We(16))),o.bitXorAssign(r),o.subAssign(rc(r,We(4))),i.bitXorAssign(o),i.subAssign(rc(o,We(14))),r.bitXorAssign(i),r.subAssign(rc(i,We(24))),r}).setLayout({name:"mx_bjfinal",type:"uint",inputs:[{name:"a",type:"uint"},{name:"b",type:"uint"},{name:"c",type:"uint"}]}),Ps=ot(([t])=>{const e=Zt(t).toVar();return Ce(e).div(Ce(Zt(We(4294967295))))}).setLayout({name:"mx_bits_to_01",type:"float",inputs:[{name:"bits",type:"uint"}]}),cf=ot(([t])=>{const e=Ce(t).toVar();return e.mul(e).mul(e).mul(e.mul(e.mul(6).sub(15)).add(10))}).setLayout({name:"mx_fade",type:"float",inputs:[{name:"t",type:"float"}]}),Gnt=ot(([t])=>{const e=We(t).toVar(),n=Zt(Zt(1)).toVar(),r=Zt(Zt(We(3735928559)).add(n.shiftLeft(Zt(2))).add(Zt(13))).toVar();return OS(r.add(Zt(e)),r,r)}).setLayout({name:"mx_hash_int_0",type:"uint",inputs:[{name:"x",type:"int"}]}),Hnt=ot(([t,e])=>{const n=We(e).toVar(),r=We(t).toVar(),i=Zt(Zt(2)).toVar(),o=Zt().toVar(),a=Zt().toVar(),s=Zt().toVar();return o.assign(a.assign(s.assign(Zt(We(3735928559)).add(i.shiftLeft(Zt(2))).add(Zt(13))))),o.addAssign(Zt(r)),a.addAssign(Zt(n)),OS(o,a,s)}).setLayout({name:"mx_hash_int_1",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),jnt=ot(([t,e,n])=>{const r=We(n).toVar(),i=We(e).toVar(),o=We(t).toVar(),a=Zt(Zt(3)).toVar(),s=Zt().toVar(),l=Zt().toVar(),c=Zt().toVar();return s.assign(l.assign(c.assign(Zt(We(3735928559)).add(a.shiftLeft(Zt(2))).add(Zt(13))))),s.addAssign(Zt(o)),l.addAssign(Zt(i)),c.addAssign(Zt(r)),OS(s,l,c)}).setLayout({name:"mx_hash_int_2",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),qnt=ot(([t,e,n,r])=>{const i=We(r).toVar(),o=We(n).toVar(),a=We(e).toVar(),s=We(t).toVar(),l=Zt(Zt(4)).toVar(),c=Zt().toVar(),u=Zt().toVar(),d=Zt().toVar();return c.assign(u.assign(d.assign(Zt(We(3735928559)).add(l.shiftLeft(Zt(2))).add(Zt(13))))),c.addAssign(Zt(s)),u.addAssign(Zt(a)),d.addAssign(Zt(o)),wfe(c,u,d),c.addAssign(Zt(i)),OS(c,u,d)}).setLayout({name:"mx_hash_int_3",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"}]}),Wnt=ot(([t,e,n,r,i])=>{const o=We(i).toVar(),a=We(r).toVar(),s=We(n).toVar(),l=We(e).toVar(),c=We(t).toVar(),u=Zt(Zt(5)).toVar(),d=Zt().toVar(),f=Zt().toVar(),h=Zt().toVar();return d.assign(f.assign(h.assign(Zt(We(3735928559)).add(u.shiftLeft(Zt(2))).add(Zt(13))))),d.addAssign(Zt(c)),f.addAssign(Zt(l)),h.addAssign(Zt(s)),wfe(d,f,h),d.addAssign(Zt(a)),f.addAssign(Zt(o)),OS(d,f,h)}).setLayout({name:"mx_hash_int_4",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"},{name:"yy",type:"int"}]}),Ri=ds([Gnt,Hnt,jnt,qnt,Wnt]),Xnt=ot(([t,e])=>{const n=We(e).toVar(),r=We(t).toVar(),i=Zt(Ri(r,n)).toVar(),o=Og().toVar();return o.x.assign(i.bitAnd(We(255))),o.y.assign(i.shiftRight(We(8)).bitAnd(We(255))),o.z.assign(i.shiftRight(We(16)).bitAnd(We(255))),o}).setLayout({name:"mx_hash_vec3_0",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),Ynt=ot(([t,e,n])=>{const r=We(n).toVar(),i=We(e).toVar(),o=We(t).toVar(),a=Zt(Ri(o,i,r)).toVar(),s=Og().toVar();return s.x.assign(a.bitAnd(We(255))),s.y.assign(a.shiftRight(We(8)).bitAnd(We(255))),s.z.assign(a.shiftRight(We(16)).bitAnd(We(255))),s}).setLayout({name:"mx_hash_vec3_1",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),zc=ds([Xnt,Ynt]),Knt=ot(([t])=>{const e=rn(t).toVar(),n=We().toVar(),r=We().toVar(),i=Ce(fo(e.x,n)).toVar(),o=Ce(fo(e.y,r)).toVar(),a=Ce(cf(i)).toVar(),s=Ce(cf(o)).toVar(),l=Ce(bfe(Na(Ri(n,r),i,o),Na(Ri(n.add(We(1)),r),i.sub(1),o),Na(Ri(n,r.add(We(1))),i,o.sub(1)),Na(Ri(n.add(We(1)),r.add(We(1))),i.sub(1),o.sub(1)),a,s)).toVar();return _fe(l)}).setLayout({name:"mx_perlin_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"}]}),Qnt=ot(([t])=>{const e=et(t).toVar(),n=We().toVar(),r=We().toVar(),i=We().toVar(),o=Ce(fo(e.x,n)).toVar(),a=Ce(fo(e.y,r)).toVar(),s=Ce(fo(e.z,i)).toVar(),l=Ce(cf(o)).toVar(),c=Ce(cf(a)).toVar(),u=Ce(cf(s)).toVar(),d=Ce(xfe(Na(Ri(n,r,i),o,a,s),Na(Ri(n.add(We(1)),r,i),o.sub(1),a,s),Na(Ri(n,r.add(We(1)),i),o,a.sub(1),s),Na(Ri(n.add(We(1)),r.add(We(1)),i),o.sub(1),a.sub(1),s),Na(Ri(n,r,i.add(We(1))),o,a,s.sub(1)),Na(Ri(n.add(We(1)),r,i.add(We(1))),o.sub(1),a,s.sub(1)),Na(Ri(n,r.add(We(1)),i.add(We(1))),o,a.sub(1),s.sub(1)),Na(Ri(n.add(We(1)),r.add(We(1)),i.add(We(1))),o.sub(1),a.sub(1),s.sub(1)),l,c,u)).toVar();return Sfe(d)}).setLayout({name:"mx_perlin_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"}]}),S9=ds([Knt,Qnt]),Znt=ot(([t])=>{const e=rn(t).toVar(),n=We().toVar(),r=We().toVar(),i=Ce(fo(e.x,n)).toVar(),o=Ce(fo(e.y,r)).toVar(),a=Ce(cf(i)).toVar(),s=Ce(cf(o)).toVar(),l=et(bfe(Uc(zc(n,r),i,o),Uc(zc(n.add(We(1)),r),i.sub(1),o),Uc(zc(n,r.add(We(1))),i,o.sub(1)),Uc(zc(n.add(We(1)),r.add(We(1))),i.sub(1),o.sub(1)),a,s)).toVar();return _fe(l)}).setLayout({name:"mx_perlin_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),Jnt=ot(([t])=>{const e=et(t).toVar(),n=We().toVar(),r=We().toVar(),i=We().toVar(),o=Ce(fo(e.x,n)).toVar(),a=Ce(fo(e.y,r)).toVar(),s=Ce(fo(e.z,i)).toVar(),l=Ce(cf(o)).toVar(),c=Ce(cf(a)).toVar(),u=Ce(cf(s)).toVar(),d=et(xfe(Uc(zc(n,r,i),o,a,s),Uc(zc(n.add(We(1)),r,i),o.sub(1),a,s),Uc(zc(n,r.add(We(1)),i),o,a.sub(1),s),Uc(zc(n.add(We(1)),r.add(We(1)),i),o.sub(1),a.sub(1),s),Uc(zc(n,r,i.add(We(1))),o,a,s.sub(1)),Uc(zc(n.add(We(1)),r,i.add(We(1))),o.sub(1),a,s.sub(1)),Uc(zc(n,r.add(We(1)),i.add(We(1))),o,a.sub(1),s.sub(1)),Uc(zc(n.add(We(1)),r.add(We(1)),i.add(We(1))),o.sub(1),a.sub(1),s.sub(1)),l,c,u)).toVar();return Sfe(d)}).setLayout({name:"mx_perlin_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),DS=ds([Znt,Jnt]),ert=ot(([t])=>{const e=Ce(t).toVar(),n=We(Qo(e)).toVar();return Ps(Ri(n))}).setLayout({name:"mx_cell_noise_float_0",type:"float",inputs:[{name:"p",type:"float"}]}),trt=ot(([t])=>{const e=rn(t).toVar(),n=We(Qo(e.x)).toVar(),r=We(Qo(e.y)).toVar();return Ps(Ri(n,r))}).setLayout({name:"mx_cell_noise_float_1",type:"float",inputs:[{name:"p",type:"vec2"}]}),nrt=ot(([t])=>{const e=et(t).toVar(),n=We(Qo(e.x)).toVar(),r=We(Qo(e.y)).toVar(),i=We(Qo(e.z)).toVar();return Ps(Ri(n,r,i))}).setLayout({name:"mx_cell_noise_float_2",type:"float",inputs:[{name:"p",type:"vec3"}]}),rrt=ot(([t])=>{const e=Qn(t).toVar(),n=We(Qo(e.x)).toVar(),r=We(Qo(e.y)).toVar(),i=We(Qo(e.z)).toVar(),o=We(Qo(e.w)).toVar();return Ps(Ri(n,r,i,o))}).setLayout({name:"mx_cell_noise_float_3",type:"float",inputs:[{name:"p",type:"vec4"}]}),irt=ds([ert,trt,nrt,rrt]),ort=ot(([t])=>{const e=Ce(t).toVar(),n=We(Qo(e)).toVar();return et(Ps(Ri(n,We(0))),Ps(Ri(n,We(1))),Ps(Ri(n,We(2))))}).setLayout({name:"mx_cell_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"float"}]}),art=ot(([t])=>{const e=rn(t).toVar(),n=We(Qo(e.x)).toVar(),r=We(Qo(e.y)).toVar();return et(Ps(Ri(n,r,We(0))),Ps(Ri(n,r,We(1))),Ps(Ri(n,r,We(2))))}).setLayout({name:"mx_cell_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),srt=ot(([t])=>{const e=et(t).toVar(),n=We(Qo(e.x)).toVar(),r=We(Qo(e.y)).toVar(),i=We(Qo(e.z)).toVar();return et(Ps(Ri(n,r,i,We(0))),Ps(Ri(n,r,i,We(1))),Ps(Ri(n,r,i,We(2))))}).setLayout({name:"mx_cell_noise_vec3_2",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),lrt=ot(([t])=>{const e=Qn(t).toVar(),n=We(Qo(e.x)).toVar(),r=We(Qo(e.y)).toVar(),i=We(Qo(e.z)).toVar(),o=We(Qo(e.w)).toVar();return et(Ps(Ri(n,r,i,o,We(0))),Ps(Ri(n,r,i,o,We(1))),Ps(Ri(n,r,i,o,We(2))))}).setLayout({name:"mx_cell_noise_vec3_3",type:"vec3",inputs:[{name:"p",type:"vec4"}]}),vN=ds([ort,art,srt,lrt]),V3=ot(([t,e,n,r])=>{const i=Ce(r).toVar(),o=Ce(n).toVar(),a=We(e).toVar(),s=et(t).toVar(),l=Ce(0).toVar(),c=Ce(1).toVar();return Ci(a,()=>{l.addAssign(c.mul(S9(s))),c.mulAssign(i),s.mulAssign(o)}),l}).setLayout({name:"mx_fractal_noise_float",type:"float",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),yN=ot(([t,e,n,r])=>{const i=Ce(r).toVar(),o=Ce(n).toVar(),a=We(e).toVar(),s=et(t).toVar(),l=et(0).toVar(),c=Ce(1).toVar();return Ci(a,()=>{l.addAssign(c.mul(DS(s))),c.mulAssign(i),s.mulAssign(o)}),l}).setLayout({name:"mx_fractal_noise_vec3",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),crt=ot(([t,e,n,r])=>{const i=Ce(r).toVar(),o=Ce(n).toVar(),a=We(e).toVar(),s=et(t).toVar();return rn(V3(s,a,o,i),V3(s.add(et(We(19),We(193),We(17))),a,o,i))}).setLayout({name:"mx_fractal_noise_vec2",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),urt=ot(([t,e,n,r])=>{const i=Ce(r).toVar(),o=Ce(n).toVar(),a=We(e).toVar(),s=et(t).toVar(),l=et(yN(s,a,o,i)).toVar(),c=Ce(V3(s.add(et(We(19),We(193),We(17))),a,o,i)).toVar();return Qn(l,c)}).setLayout({name:"mx_fractal_noise_vec4",type:"vec4",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),drt=ot(([t,e,n,r,i,o,a])=>{const s=We(a).toVar(),l=Ce(o).toVar(),c=We(i).toVar(),u=We(r).toVar(),d=We(n).toVar(),f=We(e).toVar(),h=rn(t).toVar(),p=et(vN(rn(f.add(u),d.add(c)))).toVar(),_=rn(p.x,p.y).toVar();_.subAssign(.5),_.mulAssign(l),_.addAssign(.5);const x=rn(rn(Ce(f),Ce(d)).add(_)).toVar(),y=rn(x.sub(h)).toVar();return Kn(s.equal(We(2)),()=>Wi(y.x).add(Wi(y.y))),Kn(s.equal(We(3)),()=>Co(Wi(y.x),Wi(y.y))),du(y,y)}).setLayout({name:"mx_worley_distance_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),frt=ot(([t,e,n,r,i,o,a,s,l])=>{const c=We(l).toVar(),u=Ce(s).toVar(),d=We(a).toVar(),f=We(o).toVar(),h=We(i).toVar(),p=We(r).toVar(),_=We(n).toVar(),x=We(e).toVar(),y=et(t).toVar(),w=et(vN(et(x.add(h),_.add(f),p.add(d)))).toVar();w.subAssign(.5),w.mulAssign(u),w.addAssign(.5);const C=et(et(Ce(x),Ce(_),Ce(p)).add(w)).toVar(),M=et(C.sub(y)).toVar();return Kn(c.equal(We(2)),()=>Wi(M.x).add(Wi(M.y)).add(Wi(M.z))),Kn(c.equal(We(3)),()=>Co(Wi(M.x),Wi(M.y),Wi(M.z))),du(M,M)}).setLayout({name:"mx_worley_distance_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"zoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),D1=ds([drt,frt]),hrt=ot(([t,e,n])=>{const r=We(n).toVar(),i=Ce(e).toVar(),o=rn(t).toVar(),a=We().toVar(),s=We().toVar(),l=rn(fo(o.x,a),fo(o.y,s)).toVar(),c=Ce(1e6).toVar();return Ci({start:-1,end:We(1),name:"x",condition:"<="},({x:u})=>{Ci({start:-1,end:We(1),name:"y",condition:"<="},({y:d})=>{const f=Ce(D1(l,u,d,a,s,i,r)).toVar();c.assign(Fl(c,f))})}),Kn(r.equal(We(0)),()=>{c.assign(Ts(c))}),c}).setLayout({name:"mx_worley_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),prt=ot(([t,e,n])=>{const r=We(n).toVar(),i=Ce(e).toVar(),o=rn(t).toVar(),a=We().toVar(),s=We().toVar(),l=rn(fo(o.x,a),fo(o.y,s)).toVar(),c=rn(1e6,1e6).toVar();return Ci({start:-1,end:We(1),name:"x",condition:"<="},({x:u})=>{Ci({start:-1,end:We(1),name:"y",condition:"<="},({y:d})=>{const f=Ce(D1(l,u,d,a,s,i,r)).toVar();Kn(f.lessThan(c.x),()=>{c.y.assign(c.x),c.x.assign(f)}).ElseIf(f.lessThan(c.y),()=>{c.y.assign(f)})})}),Kn(r.equal(We(0)),()=>{c.assign(Ts(c))}),c}).setLayout({name:"mx_worley_noise_vec2_0",type:"vec2",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),mrt=ot(([t,e,n])=>{const r=We(n).toVar(),i=Ce(e).toVar(),o=rn(t).toVar(),a=We().toVar(),s=We().toVar(),l=rn(fo(o.x,a),fo(o.y,s)).toVar(),c=et(1e6,1e6,1e6).toVar();return Ci({start:-1,end:We(1),name:"x",condition:"<="},({x:u})=>{Ci({start:-1,end:We(1),name:"y",condition:"<="},({y:d})=>{const f=Ce(D1(l,u,d,a,s,i,r)).toVar();Kn(f.lessThan(c.x),()=>{c.z.assign(c.y),c.y.assign(c.x),c.x.assign(f)}).ElseIf(f.lessThan(c.y),()=>{c.z.assign(c.y),c.y.assign(f)}).ElseIf(f.lessThan(c.z),()=>{c.z.assign(f)})})}),Kn(r.equal(We(0)),()=>{c.assign(Ts(c))}),c}).setLayout({name:"mx_worley_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),grt=ot(([t,e,n])=>{const r=We(n).toVar(),i=Ce(e).toVar(),o=et(t).toVar(),a=We().toVar(),s=We().toVar(),l=We().toVar(),c=et(fo(o.x,a),fo(o.y,s),fo(o.z,l)).toVar(),u=Ce(1e6).toVar();return Ci({start:-1,end:We(1),name:"x",condition:"<="},({x:d})=>{Ci({start:-1,end:We(1),name:"y",condition:"<="},({y:f})=>{Ci({start:-1,end:We(1),name:"z",condition:"<="},({z:h})=>{const p=Ce(D1(c,d,f,h,a,s,l,i,r)).toVar();u.assign(Fl(u,p))})})}),Kn(r.equal(We(0)),()=>{u.assign(Ts(u))}),u}).setLayout({name:"mx_worley_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),Art=ds([hrt,grt]),vrt=ot(([t,e,n])=>{const r=We(n).toVar(),i=Ce(e).toVar(),o=et(t).toVar(),a=We().toVar(),s=We().toVar(),l=We().toVar(),c=et(fo(o.x,a),fo(o.y,s),fo(o.z,l)).toVar(),u=rn(1e6,1e6).toVar();return Ci({start:-1,end:We(1),name:"x",condition:"<="},({x:d})=>{Ci({start:-1,end:We(1),name:"y",condition:"<="},({y:f})=>{Ci({start:-1,end:We(1),name:"z",condition:"<="},({z:h})=>{const p=Ce(D1(c,d,f,h,a,s,l,i,r)).toVar();Kn(p.lessThan(u.x),()=>{u.y.assign(u.x),u.x.assign(p)}).ElseIf(p.lessThan(u.y),()=>{u.y.assign(p)})})})}),Kn(r.equal(We(0)),()=>{u.assign(Ts(u))}),u}).setLayout({name:"mx_worley_noise_vec2_1",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),yrt=ds([prt,vrt]),brt=ot(([t,e,n])=>{const r=We(n).toVar(),i=Ce(e).toVar(),o=et(t).toVar(),a=We().toVar(),s=We().toVar(),l=We().toVar(),c=et(fo(o.x,a),fo(o.y,s),fo(o.z,l)).toVar(),u=et(1e6,1e6,1e6).toVar();return Ci({start:-1,end:We(1),name:"x",condition:"<="},({x:d})=>{Ci({start:-1,end:We(1),name:"y",condition:"<="},({y:f})=>{Ci({start:-1,end:We(1),name:"z",condition:"<="},({z:h})=>{const p=Ce(D1(c,d,f,h,a,s,l,i,r)).toVar();Kn(p.lessThan(u.x),()=>{u.z.assign(u.y),u.y.assign(u.x),u.x.assign(p)}).ElseIf(p.lessThan(u.y),()=>{u.z.assign(u.y),u.y.assign(p)}).ElseIf(p.lessThan(u.z),()=>{u.z.assign(p)})})})}),Kn(r.equal(We(0)),()=>{u.assign(Ts(u))}),u}).setLayout({name:"mx_worley_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),w9=ds([mrt,brt]),xrt=ot(([t,e,n,r,i,o,a,s,l,c,u])=>{const d=We(t).toVar(),f=rn(e).toVar(),h=rn(n).toVar(),p=rn(r).toVar(),_=Ce(i).toVar(),x=Ce(o).toVar(),y=Ce(a).toVar(),w=uu(s).toVar(),C=We(l).toVar(),M=Ce(c).toVar(),R=Ce(u).toVar(),N=f.mul(h).add(p),I=Ce(0).toVar();return Kn(d.equal(We(0)),()=>{I.assign(DS(N))}),Kn(d.equal(We(1)),()=>{I.assign(vN(N))}),Kn(d.equal(We(2)),()=>{I.assign(w9(N,_,We(0)))}),Kn(d.equal(We(3)),()=>{I.assign(yN(et(N,0),C,M,R))}),I.assign(I.mul(y.sub(x)).add(x)),Kn(w,()=>{I.assign(ld(I,x,y))}),I}).setLayout({name:"mx_unifiednoise2d",type:"float",inputs:[{name:"noiseType",type:"int"},{name:"texcoord",type:"vec2"},{name:"freq",type:"vec2"},{name:"offset",type:"vec2"},{name:"jitter",type:"float"},{name:"outmin",type:"float"},{name:"outmax",type:"float"},{name:"clampoutput",type:"bool"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),_rt=ot(([t,e,n,r,i,o,a,s,l,c,u])=>{const d=We(t).toVar(),f=et(e).toVar(),h=et(n).toVar(),p=et(r).toVar(),_=Ce(i).toVar(),x=Ce(o).toVar(),y=Ce(a).toVar(),w=uu(s).toVar(),C=We(l).toVar(),M=Ce(c).toVar(),R=Ce(u).toVar(),N=f.mul(h).add(p),I=Ce(0).toVar();return Kn(d.equal(We(0)),()=>{I.assign(DS(N))}),Kn(d.equal(We(1)),()=>{I.assign(vN(N))}),Kn(d.equal(We(2)),()=>{I.assign(w9(N,_,We(0)))}),Kn(d.equal(We(3)),()=>{I.assign(yN(N,C,M,R))}),I.assign(I.mul(y.sub(x)).add(x)),Kn(w,()=>{I.assign(ld(I,x,y))}),I}).setLayout({name:"mx_unifiednoise3d",type:"float",inputs:[{name:"noiseType",type:"int"},{name:"position",type:"vec3"},{name:"freq",type:"vec3"},{name:"offset",type:"vec3"},{name:"jitter",type:"float"},{name:"outmin",type:"float"},{name:"outmax",type:"float"},{name:"clampoutput",type:"bool"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),Srt=ot(([t])=>{const e=t.y,n=t.z,r=et().toVar();return Kn(e.lessThan(1e-4),()=>{r.assign(et(n,n,n))}).Else(()=>{let i=t.x;i=i.sub(of(i)).mul(6).toVar();const o=We(Ck(i)),a=i.sub(Ce(o)),s=n.mul(e.oneMinus()),l=n.mul(e.mul(a).oneMinus()),c=n.mul(e.mul(a.oneMinus()).oneMinus());Kn(o.equal(We(0)),()=>{r.assign(et(n,c,s))}).ElseIf(o.equal(We(1)),()=>{r.assign(et(l,n,s))}).ElseIf(o.equal(We(2)),()=>{r.assign(et(s,n,c))}).ElseIf(o.equal(We(3)),()=>{r.assign(et(s,l,n))}).ElseIf(o.equal(We(4)),()=>{r.assign(et(c,s,n))}).Else(()=>{r.assign(et(n,s,l))})}),r}).setLayout({name:"mx_hsvtorgb",type:"vec3",inputs:[{name:"hsv",type:"vec3"}]}),wrt=ot(([t])=>{const e=et(t).toVar(),n=Ce(e.x).toVar(),r=Ce(e.y).toVar(),i=Ce(e.z).toVar(),o=Ce(Fl(n,Fl(r,i))).toVar(),a=Ce(Co(n,Co(r,i))).toVar(),s=Ce(a.sub(o)).toVar(),l=Ce().toVar(),c=Ce().toVar(),u=Ce().toVar();return u.assign(a),Kn(a.greaterThan(0),()=>{c.assign(s.div(a))}).Else(()=>{c.assign(0)}),Kn(c.lessThanEqual(0),()=>{l.assign(0)}).Else(()=>{Kn(n.greaterThanEqual(a),()=>{l.assign(r.sub(i).div(s))}).ElseIf(r.greaterThanEqual(a),()=>{l.assign(Zo(2,i.sub(n).div(s)))}).Else(()=>{l.assign(Zo(4,n.sub(r).div(s)))}),l.mulAssign(1/6),Kn(l.lessThan(0),()=>{l.addAssign(1)})}),et(l,c,u)}).setLayout({name:"mx_rgbtohsv",type:"vec3",inputs:[{name:"c",type:"vec3"}]}),Crt=ot(([t])=>{const e=et(t).toVar(),n=sk(gk(e,et(.04045))).toVar(),r=et(e.div(12.92)).toVar(),i=et(Xc(Co(e.add(et(.055)),et(0)).div(1.055),et(2.4))).toVar();return Zr(r,i,n)}).setLayout({name:"mx_srgb_texture_to_lin_rec709",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),Cfe=(t,e)=>{t=Ce(t),e=Ce(e);const n=rn(e.dFdx(),e.dFdy()).length().mul(.7071067811865476);return cd(t.sub(n),t.add(n),e)},Tfe=(t,e,n,r)=>Zr(t,e,n[r].clamp()),Trt=(t,e,n=Di())=>Tfe(t,e,n,"x"),Ert=(t,e,n=Di())=>Tfe(t,e,n,"y"),Mrt=(t,e,n,r,i=Di())=>{const o=i.x.clamp(),a=i.y.clamp(),s=Zr(t,e,o),l=Zr(n,r,o);return Zr(s,l,a)},Efe=(t,e,n,r,i)=>Zr(t,e,Cfe(n,r[i])),Prt=(t,e,n,r=Di())=>Efe(t,e,n,r,"x"),Rrt=(t,e,n,r=Di())=>Efe(t,e,n,r,"y"),Nrt=(t=1,e=0,n=Di())=>n.mul(t).add(e),Irt=(t,e=1)=>(t=Ce(t),t.abs().pow(e).mul(t.sign())),Ort=(t,e=1,n=.5)=>Ce(t).sub(n).mul(e).add(n),Drt=(t=Di(),e=1,n=0)=>S9(t.convert("vec2|vec3")).mul(e).add(n),Lrt=(t=Di(),e=1,n=0)=>DS(t.convert("vec2|vec3")).mul(e).add(n),Brt=(t=Di(),e=1,n=0)=>(t=t.convert("vec2|vec3"),Qn(DS(t),S9(t.add(rn(19,73)))).mul(e).add(n)),Frt=(t,e=Di(),n=rn(1,1),r=rn(0,0),i=1,o=0,a=1,s=!1,l=1,c=2,u=.5)=>xrt(t,e.convert("vec2|vec3"),n,r,i,o,a,s,l,c,u),$rt=(t,e=Di(),n=rn(1,1),r=rn(0,0),i=1,o=0,a=1,s=!1,l=1,c=2,u=.5)=>_rt(t,e.convert("vec2|vec3"),n,r,i,o,a,s,l,c,u),krt=(t=Di(),e=1)=>Art(t.convert("vec2|vec3"),e,We(1)),Urt=(t=Di(),e=1)=>yrt(t.convert("vec2|vec3"),e,We(1)),zrt=(t=Di(),e=1)=>w9(t.convert("vec2|vec3"),e,We(1)),Vrt=(t=Di())=>irt(t.convert("vec2|vec3")),Grt=(t=Di(),e=3,n=2,r=.5,i=1)=>V3(t,We(e),n,r).mul(i),Hrt=(t=Di(),e=3,n=2,r=.5,i=1)=>crt(t,We(e),n,r).mul(i),jrt=(t=Di(),e=3,n=2,r=.5,i=1)=>yN(t,We(e),n,r).mul(i),qrt=(t=Di(),e=3,n=2,r=.5,i=1)=>urt(t,We(e),n,r).mul(i),Wrt=(t,e=Ce(0))=>Zo(t,e),Xrt=(t,e=Ce(0))=>ei(t,e),Yrt=(t,e=Ce(1))=>br(t,e),Krt=(t,e=Ce(1))=>vc(t,e),Qrt=(t,e=Ce(1))=>TS(t,e),Zrt=(t,e=Ce(1))=>Xc(t,e),Jrt=(t=Ce(0),e=Ce(1))=>QR(t,e),eit=()=>O1,tit=()=>zde,nit=(t,e=Ce(1))=>ei(e,t),rit=(t,e,n,r)=>t.greaterThan(e).mix(n,r),iit=(t,e,n,r)=>t.greaterThanEqual(e).mix(n,r),oit=(t,e,n,r)=>t.equal(e).mix(n,r),ait=(t,e=null)=>{if(typeof e=="string"){const n={x:0,r:0,y:1,g:1,z:2,b:2,w:3,a:3},r=e.replace(/^out/,"").toLowerCase();if(n[r]!==void 0)return t.element(n[r])}if(typeof e=="number")return t.element(e);if(typeof e=="string"&&e.length===1){const n={x:0,r:0,y:1,g:1,z:2,b:2,w:3,a:3};if(n[e]!==void 0)return t.element(n[e])}return t},sit=(t,e=rn(.5,.5),n=rn(1,1),r=Ce(0),i=rn(0,0))=>{let o=t;if(e&&(o=o.sub(e)),n&&(o=o.mul(n)),r){const a=r.mul(Math.PI/180),s=a.cos(),l=a.sin();o=rn(o.x.mul(s).sub(o.y.mul(l)),o.x.mul(l).add(o.y.mul(s)))}return e&&(o=o.add(e)),i&&(o=o.add(i)),o},lit=(t,e)=>{t=rn(t),e=Ce(e);const n=e.mul(Math.PI/180);return RS(t,n)},cit=(t,e,n)=>{t=et(t),e=Ce(e),n=et(n);const r=e.mul(Math.PI/180),i=n.normalize(),o=r.cos(),a=r.sin(),s=Ce(1).sub(o);return t.mul(o).add(i.cross(t).mul(a)).add(i.mul(i.dot(t)).mul(s))},uit=(t,e)=>(t=et(t),e=Ce(e),Xk(t,e)),dit=ot(([t,e,n])=>{const r=il(t).toVar(),i=ei(Ce(.5).mul(e.sub(n)),sf).div(r).toVar(),o=ei(Ce(-.5).mul(e.sub(n)),sf).div(r).toVar(),a=et().toVar();a.x=r.x.greaterThan(Ce(0)).select(i.x,o.x),a.y=r.y.greaterThan(Ce(0)).select(i.y,o.y),a.z=r.z.greaterThan(Ce(0)).select(i.z,o.z);const s=Fl(a.x,a.y,a.z).toVar();return sf.add(r.mul(s)).toVar().sub(n)}),Mfe=ot(([t,e])=>{const n=t.x,r=t.y,i=t.z;let o=e.element(0).mul(.886227);return o=o.add(e.element(1).mul(2*.511664).mul(r)),o=o.add(e.element(2).mul(2*.511664).mul(i)),o=o.add(e.element(3).mul(2*.511664).mul(n)),o=o.add(e.element(4).mul(2*.429043).mul(n).mul(r)),o=o.add(e.element(5).mul(2*.429043).mul(r).mul(i)),o=o.add(e.element(6).mul(i.mul(i).mul(.743125).sub(.247708))),o=o.add(e.element(7).mul(2*.429043).mul(n).mul(i)),o=o.add(e.element(8).mul(.429043).mul(br(n,n).sub(br(r,r)))),o});var J=Object.freeze({__proto__:null,BRDF_GGX:o9,BRDF_Lambert:Ag,BasicPointShadowFilter:gfe,BasicShadowFilter:sfe,Break:nde,Const:xce,Continue:YKe,DFGLUT:T2,D_GGX:bde,Discard:Fce,EPSILON:Ak,F_Schlick:Wy,Fn:ot,HALF_PI:xYe,INFINITY:vYe,If:Kn,Loop:Ci,NodeAccess:es,NodeShaderStage:wx,NodeType:zXe,NodeUpdateType:Er,OnBeforeMaterialUpdate:vet,OnBeforeObjectUpdate:Aet,OnMaterialUpdate:get,OnObjectUpdate:met,PCFShadowFilter:lfe,PCFSoftShadowFilter:cfe,PI:D3,PI2:yYe,PointShadowFilter:Afe,Return:FYe,Schlick_to_F0:M6,ScriptableNodeResources:UE,ShaderNode:pv,Stack:jR,Switch:cYe,TBNViewMatrix:D0,TWO_PI:bYe,VSMShadowFilter:ufe,V_GGX_SmithCorrelated:yde,Var:bce,VarIntent:_ce,abs:Wi,acesFilmicToneMapping:Zde,acos:bk,add:Zo,addMethodChaining:kt,addNodeElement:zYe,agxToneMapping:Jde,all:jle,alphaT:N3,and:Rle,anisotropy:gp,anisotropyB:j0,anisotropyT:e_,any:qle,append:hYe,array:Sle,arrayBuffer:dYe,asin:Kle,assign:wle,atan:QR,atan2:pce,atomicAdd:Ttt,atomicAnd:Rtt,atomicFunc:Sf,atomicLoad:wtt,atomicMax:Mtt,atomicMin:Ptt,atomicOr:Ntt,atomicStore:Ctt,atomicSub:Ett,atomicXor:Itt,attenuationColor:fk,attenuationDistance:dk,attribute:vh,attributeArray:bet,backgroundBlurriness:Hde,backgroundIntensity:O6,backgroundRotation:jde,batch:Jue,bentNormalView:mue,billboarding:QJe,bitAnd:Dle,bitNot:Lle,bitOr:Ble,bitXor:Fle,bitangentGeometry:EKe,bitangentLocal:MKe,bitangentView:hue,bitangentWorld:PKe,bitcast:kde,blendBurn:lde,blendColor:fQe,blendDodge:cde,blendOverlay:dde,blendScreen:ude,blur:Ede,bool:uu,buffer:ES,bufferAttribute:Bk,builtin:Rh,builtinAOContext:vce,builtinShadowContext:Ace,bumpMap:Xk,burn:pQe,bvec2:gle,bvec3:sk,bvec4:Ale,bypass:Oce,cache:Ice,call:Cle,cameraFar:_p,cameraIndex:xm,cameraNear:xp,cameraNormalMatrix:nKe,cameraPosition:jce,cameraProjectionMatrix:ih,cameraProjectionMatrixInverse:eKe,cameraViewMatrix:Au,cameraViewport:rKe,cameraWorldMatrix:tKe,cbrt:cce,cdl:ket,ceil:KR,checker:Pnt,cineonToneMapping:Qde,clamp:ld,clearcoat:M3,clearcoatNormalView:O0,clearcoatRoughness:C2,code:mN,color:mle,colorSpaceToWorking:eN,colorToDirection:NKe,compute:Nce,computeKernel:Fk,computeSkinning:WKe,context:Ph,convert:yle,convertColorSpace:MYe,convertToTexture:uet,cos:Uu,countLeadingZeros:EJe,countOneBits:MJe,countTrailingZeros:TJe,cross:gh,cubeTexture:Ys,cubeTextureBase:Wk,dFdx:Sk,dFdy:wk,dashSize:IE,debug:kce,decrement:Gle,decrementBefore:zle,defaultBuildStages:h6,defaultShaderStages:cle,defined:_2,degrees:Xle,deltaTime:GJe,densityFog:stt,densityFogFactor:m9,depth:t9,depthPass:Het,determinant:tce,difference:ace,diffuseColor:Si,diffuseContribution:g0,directPointLight:yfe,directionToColor:gue,directionToFaceDirection:N1,dispersion:hk,disposeShadowMaterial:ffe,distance:oce,div:vc,dodge:mQe,dot:du,drawIndex:Kue,dynamicBufferAttribute:OYe,element:vle,emissive:A6,equal:mk,equals:rce,equirectUV:n9,exp:vk,exp2:jy,expression:Ah,faceDirection:Hk,faceForward:Nk,faceforward:_Ye,float:Ce,floatBitsToInt:SJe,floatBitsToUint:Ude,floor:of,fog:M2,fract:sd,frameGroup:_le,frameId:zde,frontFacing:Yce,fwidth:Tk,gain:RJe,gapSize:v6,getConstNodeType:ple,getCurrentStack:ik,getDirection:Cde,getDistanceAttenuation:_9,getGeometryRoughness:vde,getNormalFromDepth:fet,getParallaxCorrectNormal:dit,getRoughness:i9,getScreenPosition:det,getShIrradianceAt:Mfe,getShadowMaterial:dfe,getShadowRenderObjectFunction:hfe,getTextureIndex:Fde,getViewPosition:jA,ggxConvolution:Mde,globalId:htt,glsl:Jet,glslFn:ett,grayscale:Let,greaterThan:gk,greaterThanEqual:Ple,hash:PJe,highpModelNormalViewMatrix:x6,highpModelViewMatrix:b6,hue:$et,increment:Vle,incrementBefore:Ule,inspector:zce,instance:HKe,instanceIndex:lf,instancedArray:xet,instancedBufferAttribute:L3,instancedDynamicBufferAttribute:y6,instancedMesh:Zue,int:We,intBitsToFloat:wJe,interleavedGradientNoise:f9,inverse:nce,inverseSqrt:yk,inversesqrt:SYe,invocationLocalIndex:GKe,invocationSubgroupIndex:VKe,ior:t_,iridescence:WR,iridescenceIOR:P3,iridescenceThickness:R3,isolate:kv,ivec2:ia,ivec3:ak,ivec4:lk,js:Qet,label:yce,length:af,lengthSq:Pk,lessThan:Ele,lessThanEqual:Mle,lightPosition:A9,lightProjectionUV:ofe,lightShadowMatrix:AN,lightTargetDirection:y9,lightTargetPosition:afe,lightViewPosition:v9,lightingContext:ide,lights:ant,linearDepth:F3,linearToneMapping:Yde,localId:ptt,log:YR,log2:rf,logarithmicDepthToViewZ:iQe,luminance:h9,mat2:qR,mat3:cs,mat4:Xp,matcapUV:Rde,materialAO:Wue,materialAlphaTest:Aue,materialAnisotropy:Iue,materialAnisotropyVector:HA,materialAttenuationColor:Uue,materialAttenuationDistance:kue,materialClearcoat:Tue,materialClearcoatNormal:Mue,materialClearcoatRoughness:Eue,materialColor:vue,materialDispersion:que,materialEmissive:bue,materialEnvIntensity:LE,materialEnvRotation:qk,materialIOR:$ue,materialIridescence:Oue,materialIridescenceIOR:Due,materialIridescenceThickness:Lue,materialLightMap:Kk,materialLineDashOffset:Hue,materialLineDashSize:Vue,materialLineGapSize:Gue,materialLineScale:zue,materialLineWidth:BKe,materialMetalness:wue,materialNormal:Cue,materialOpacity:Yk,materialPointSize:jue,materialReference:Vf,materialReflectivity:BE,materialRefractionRatio:Jce,materialRotation:Pue,materialRoughness:Sue,materialSheen:Rue,materialSheenRoughness:Nue,materialShininess:yue,materialSpecular:xue,materialSpecularColor:_ue,materialSpecularIntensity:E6,materialSpecularStrength:n_,materialThickness:Fue,materialTransmission:Bue,max:Co,maxMipLevel:$k,mediumpModelViewMatrix:Xce,metalness:Yf,min:Fl,mix:Zr,mixElement:dce,mod:TS,modInt:Hle,modelDirection:cKe,modelNormalMatrix:Wce,modelPosition:uKe,modelRadius:hKe,modelScale:dKe,modelViewMatrix:_m,modelViewPosition:fKe,modelViewProjection:Xue,modelWorldMatrix:Yc,modelWorldMatrixInverse:pKe,morphReference:rde,mrt:$de,mul:br,mx_aastep:Cfe,mx_add:Wrt,mx_atan2:Jrt,mx_cell_noise_float:Vrt,mx_contrast:Ort,mx_divide:Krt,mx_fractal_noise_float:Grt,mx_fractal_noise_vec2:Hrt,mx_fractal_noise_vec3:jrt,mx_fractal_noise_vec4:qrt,mx_frame:tit,mx_heighttonormal:uit,mx_hsvtorgb:Srt,mx_ifequal:oit,mx_ifgreater:rit,mx_ifgreatereq:iit,mx_invert:nit,mx_modulo:Qrt,mx_multiply:Yrt,mx_noise_float:Drt,mx_noise_vec3:Lrt,mx_noise_vec4:Brt,mx_place2d:sit,mx_power:Zrt,mx_ramp4:Mrt,mx_ramplr:Trt,mx_ramptb:Ert,mx_rgbtohsv:wrt,mx_rotate2d:lit,mx_rotate3d:cit,mx_safepower:Irt,mx_separate:ait,mx_splitlr:Prt,mx_splittb:Rrt,mx_srgb_texture_to_lin_rec709:Crt,mx_subtract:Xrt,mx_timer:eit,mx_transform_uv:Nrt,mx_unifiednoise2d:Frt,mx_unifiednoise3d:$rt,mx_worley_noise_float:krt,mx_worley_noise_vec2:Urt,mx_worley_noise_vec3:zrt,negate:_k,neutralToneMapping:efe,nodeArray:H0,nodeImmutable:mn,nodeObject:vn,nodeObjectIntent:Cx,nodeObjects:HR,nodeProxy:xr,nodeProxyIntent:an,normalFlat:Kce,normalGeometry:nN,normalLocal:$l,normalMap:T6,normalView:oi,normalViewGeometry:qy,normalWorld:Sm,normalWorldGeometry:Qce,normalize:il,not:Ile,notEqual:Tle,numWorkgroups:dtt,objectDirection:iKe,objectGroup:pk,objectPosition:qce,objectRadius:lKe,objectScale:aKe,objectViewPosition:sKe,objectWorldMatrix:oKe,oneMinus:Qle,or:Nle,orthographicDepthToViewZ:rQe,oscSawtooth:WJe,oscSine:HJe,oscSquare:jJe,oscTriangle:qJe,output:Fv,outputStruct:xJe,overlay:AQe,overloadingFn:ds,packHalf2x16:LJe,packSnorm2x16:OJe,packUnorm2x16:DJe,parabola:I6,parallaxDirection:pue,parallaxUV:RKe,parameter:mJe,pass:Vet,passTexture:Get,pcurve:NJe,perspectiveDepthToViewZ:Jk,pmremTexture:s9,pointShadow:vfe,pointUV:wet,pointWidth:pYe,positionGeometry:MS,positionLocal:xo,positionPrevious:B3,positionView:jo,positionViewDirection:Fi,positionWorld:sf,positionWorldDirection:Gk,posterize:zet,pow:Xc,pow2:Ek,pow3:sce,pow4:Mk,premultiplyAlpha:fde,property:th,quadBroadcast:rnt,quadSwapDiagonal:Qtt,quadSwapX:Ytt,quadSwapY:Ktt,radians:Wle,rand:uce,range:ctt,rangeFog:att,rangeFogFactor:p9,reciprocal:Jle,reference:Pi,referenceBuffer:_6,reflect:ice,reflectVector:nue,reflectView:eue,reflector:iet,refract:Rk,refractVector:rue,refractView:tue,reinhardToneMapping:Kde,remap:Lce,remapClamp:Bce,renderGroup:qn,renderOutput:$ce,rendererReference:Mce,replaceDefaultUV:XJe,rotate:RS,rotateUV:YJe,roughness:jd,round:Zle,rtt:Gde,sRGBTransferEOTF:wce,sRGBTransferOETF:Cce,sample:pet,sampler:WYe,samplerComparison:XYe,saturate:JR,saturation:Bet,screen:gQe,screenCoordinate:Dg,screenDPR:Gce,screenSize:gg,screenUV:rh,scriptable:ott,scriptableValue:kE,select:ts,setCurrentStack:S2,setName:Ik,shaderStages:p6,shadow:mfe,shadowPositionWorld:x9,shapeCircle:Rnt,sharedUniformGroup:XR,sheen:Zl,sheenRoughness:bp,shiftLeft:$le,shiftRight:kle,shininess:I3,sign:xk,sin:Ws,sinc:IJe,skinning:tde,smoothstep:cd,smoothstepElement:fce,specularColor:sm,specularColorBlended:I0,specularF90:Bv,spherizeUV:KJe,split:fYe,spritesheetUV:eet,sqrt:Ts,stack:FE,step:ZR,stepElement:hce,storage:oh,storageBarrier:vtt,storageObject:UKe,storageTexture:qde,string:uYe,struct:bJe,sub:ei,subBuild:$v,subgroupAdd:Ltt,subgroupAll:qtt,subgroupAnd:ztt,subgroupAny:Wtt,subgroupBallot:Dtt,subgroupBroadcast:Ztt,subgroupBroadcastFirst:Xtt,subgroupElect:Ott,subgroupExclusiveAdd:Ftt,subgroupExclusiveMul:Utt,subgroupInclusiveAdd:Btt,subgroupInclusiveMul:ktt,subgroupIndex:zKe,subgroupMax:jtt,subgroupMin:Htt,subgroupMul:$tt,subgroupOr:Vtt,subgroupShuffle:Jtt,subgroupShuffleDown:nnt,subgroupShuffleUp:tnt,subgroupShuffleXor:ent,subgroupSize:mtt,subgroupXor:Gtt,tan:Yle,tangentGeometry:iN,tangentLocal:PS,tangentView:oN,tangentWorld:fue,texture:ci,texture3D:pN,texture3DLevel:Ret,texture3DLoad:Pet,textureBarrier:ytt,textureBicubic:XQe,textureBicubicLevel:a9,textureCubeUV:Tde,textureLevel:qYe,textureLoad:Po,textureSize:nh,textureStore:Tet,thickness:uk,time:O1,toneMapping:Pce,toneMappingExposure:Rce,toonOutlinePass:qet,transformDirection:lce,transformNormal:Zce,transformNormalToView:jk,transformedClearcoatNormalView:vKe,transformedNormalView:gKe,transformedNormalWorld:AKe,transmission:O3,transpose:ece,triNoise3D:UJe,triplanarTexture:tet,triplanarTextures:Vde,trunc:Ck,uint:Zt,uintBitsToFloat:CJe,uniform:Wn,uniformArray:ws,uniformCubeTexture:bKe,uniformFlow:gce,uniformGroup:xle,uniformTexture:jYe,unpackHalf2x16:$Je,unpackNormal:C6,unpackSnorm2x16:BJe,unpackUnorm2x16:FJe,unpremultiplyAlpha:hQe,userData:Iet,uv:Di,uvec2:ok,uvec3:Og,uvec4:ck,varying:_f,varyingProperty:w2,vec2:rn,vec3:et,vec4:Qn,vectorComponents:Ng,velocity:Det,vertexColor:sde,vertexIndex:Yue,vertexStage:Sce,vibrance:Fet,viewZToLogarithmicDepth:e9,viewZToOrthographicDepth:Uv,viewZToPerspectiveDepth:ode,viewport:zk,viewportCoordinate:Hce,viewportDepthTexture:Zk,viewportLinearDepth:oQe,viewportMipTexture:Qk,viewportResolution:JYe,viewportSafeUV:ZJe,viewportSharedTexture:SQe,viewportSize:Vk,viewportTexture:tQe,viewportUV:ZYe,vogelDiskSample:Gu,wgsl:Zet,wgslFn:ttt,workgroupArray:_tt,workgroupBarrier:Att,workgroupId:ftt,workingToColorSpace:Tce,xor:Ole});const Pu=new l9;class fit extends wm{constructor(e,n){super(),this.renderer=e,this.nodes=n}update(e,n,r){const i=this.renderer,o=this.nodes.getBackgroundNode(e)||e.background;let a=!1;if(o===null)i._clearColor.getRGB(Pu),Pu.a=i._clearColor.a;else if(o.isColor===!0)o.getRGB(Pu),Pu.a=1,a=!0;else if(o.isNode===!0){const c=this.get(e),u=o;Pu.copy(i._clearColor);let d=c.backgroundMesh;if(d===void 0){let C=function(){o.removeEventListener("dispose",C),d.material.dispose(),d.geometry.dispose()};var l=C;const h=Qn(u).mul(O6).context({getUV:()=>jde.mul(Qce),getTextureLevel:()=>Hde}),p=ih.element(3).element(3).equal(1),_=vc(1,ih.element(1).element(1)).mul(3),x=p.select(xo.mul(_),xo);let y=ih.mul(_m.mul(Qn(x,0)));y=y.setZ(y.w);const w=new Bo;w.name="Background.material",w.side=Oi,w.depthTest=!1,w.depthWrite=!1,w.allowOverride=!1,w.fog=!1,w.lights=!1,w.vertexNode=y,w.colorNode=h,c.backgroundMeshNode=h,c.backgroundMesh=d=new Ai(new xf(1,32,32),w),d.frustumCulled=!1,d.name="Background.mesh",o.addEventListener("dispose",C)}const f=u.getCacheKey();c.backgroundCacheKey!==f&&(c.backgroundMeshNode.node=Qn(u).mul(O6),c.backgroundMeshNode.needsUpdate=!0,d.material.needsUpdate=!0,c.backgroundCacheKey=f),n.unshift(d,d.geometry,d.material,0,0,null,null)}else Kt("Renderer: Unsupported background configuration.",o);const s=i.xr.getEnvironmentBlendMode();if(s==="additive"?Pu.set(0,0,0,1):s==="alpha-blend"&&Pu.set(0,0,0,0),i.autoClear===!0||a===!0){const c=r.clearColorValue;c.r=Pu.r,c.g=Pu.g,c.b=Pu.b,c.a=Pu.a,(i.backend.isWebGLBackend===!0||i.alpha===!0)&&(c.r*=c.a,c.g*=c.a,c.b*=c.a),r.depthClearValue=i._clearDepth,r.stencilClearValue=i._clearStencil,r.clearColor=i.autoClearColor===!0,r.clearDepth=i.autoClearDepth===!0,r.clearStencil=i.autoClearStencil===!0}else r.clearColor=!1,r.clearDepth=!1,r.clearStencil=!1}}let hit=0;class D6{constructor(e="",n=[],r=0,i=[]){this.name=e,this.bindings=n,this.index=r,this.bindingsReference=i,this.id=hit++}}class pit{constructor(e,n,r,i,o,a,s,l,c,u=[]){this.vertexShader=e,this.fragmentShader=n,this.computeShader=r,this.transforms=u,this.nodeAttributes=i,this.bindings=o,this.updateNodes=a,this.updateBeforeNodes=s,this.updateAfterNodes=l,this.observer=c,this.usedTimes=0}createBindings(){const e=[];for(const n of this.bindings)if(n.bindings[0].groupNode.shared!==!0){const i=new D6(n.name,[],n.index,n.bindingsReference);e.push(i);for(const o of n.bindings)i.bindings.push(o.clone())}else e.push(n);return e}}class rY{constructor(e,n,r=null){this.isNodeAttribute=!0,this.name=e,this.type=n,this.node=r}}class mit{constructor(e,n,r){this.isNodeUniform=!0,this.name=e,this.type=n,this.node=r}get value(){return this.node.value}set value(e){this.node.value=e}get id(){return this.node.id}get groupNode(){return this.node.groupNode}}class Pfe{constructor(e,n,r=!1,i=null){this.isNodeVar=!0,this.name=e,this.type=n,this.readOnly=r,this.count=i}}class git extends Pfe{constructor(e,n,r=null,i=null){super(e,n),this.needsInterpolation=!1,this.isNodeVarying=!0,this.interpolationType=r,this.interpolationSampling=i}}class Ait{constructor(e,n,r=""){this.name=e,this.type=n,this.code=r,Object.defineProperty(this,"isNodeCode",{value:!0})}}let vit=0;class lD{constructor(e=null){this.id=vit++,this.nodesData=new WeakMap,this.parent=e}getData(e){let n=this.nodesData.get(e);return n===void 0&&this.parent!==null&&(n=this.parent.getData(e)),n}setData(e,n){this.nodesData.set(e,n)}}class yit{constructor(e,n){this.name=e,this.members=n,this.output=!1}}class Cm{constructor(e,n){this.name=e,this.value=n,this.boundary=0,this.itemSize=0,this.offset=0}setValue(e){this.value=e}getValue(){return this.value}}class bit extends Cm{constructor(e,n=0){super(e,n),this.isNumberUniform=!0,this.boundary=4,this.itemSize=1}}class xit extends Cm{constructor(e,n=new Wt){super(e,n),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class _it extends Cm{constructor(e,n=new Te){super(e,n),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class Sit extends Cm{constructor(e,n=new yr){super(e,n),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class wit extends Cm{constructor(e,n=new Vn){super(e,n),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class Cit extends Cm{constructor(e,n=new LR){super(e,n),this.isMatrix2Uniform=!0,this.boundary=8,this.itemSize=4}}class Tit extends Cm{constructor(e,n=new Or){super(e,n),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class Eit extends Cm{constructor(e,n=new wr){super(e,n),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class Mit extends bit{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Pit extends xit{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Rit extends _it{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Nit extends Sit{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Iit extends wit{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Oit extends Cit{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Dit extends Tit{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Lit extends Eit{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}let Bit=0;const Fit=new WeakMap,iY=new WeakMap,$it=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),bT=t=>/e/g.test(t)?String(t).replace(/\+/g,""):(t=Number(t),t+(t%1?"":".0"));class Rfe{constructor(e,n,r){this.object=e,this.material=e&&e.material||null,this.geometry=e&&e.geometry||null,this.renderer=n,this.parser=r,this.scene=null,this.camera=null,this.nodes=[],this.sequentialNodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.updateAfterNodes=[],this.hashNodes={},this.observer=null,this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.clippingContext=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:""},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.types={vertex:[],fragment:[],compute:[],index:0},this.bindings={vertex:{},fragment:{},compute:{}},this.bindingsIndexes={},this.bindGroups=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.codes={},this.vars={},this.declarations={},this.flow={code:""},this.chaining=[],this.stack=FE(),this.stacks=[],this.tab="	",this.currentFunctionNode=null,this.context={material:this.material},this.cache=new lD,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null,this.subBuildLayers=[],this.activeStacks=[],this.subBuildFn=null,this.fnCall=null,Object.defineProperty(this,"id",{value:Bit++})}isOpaque(){const e=this.material;return e.transparent===!1&&e.blending===rl&&e.alphaToCoverage===!1}getBindGroupsCache(){let e=iY.get(this.renderer);return e===void 0&&(e=new ud,iY.set(this.renderer,e)),e}createRenderTarget(e,n,r){return new Th(e,n,r)}createCubeRenderTarget(e,n){return new hde(e,n)}includes(e){return this.nodes.includes(e)}getOutputStructName(){}_getBindGroup(e,n){const r=this.getBindGroupsCache(),i=[];let o=!0;for(const s of n)i.push(s),o=o&&s.groupNode.shared!==!0;let a;return o?(a=r.get(i),a===void 0&&(a=new D6(e,i,this.bindingsIndexes[e].group,i),r.set(i,a))):a=new D6(e,i,this.bindingsIndexes[e].group,i),a}getBindGroupArray(e,n){const r=this.bindings[n];let i=r[e];return i===void 0&&(this.bindingsIndexes[e]===void 0&&(this.bindingsIndexes[e]={binding:0,group:Object.keys(this.bindingsIndexes).length}),r[e]=i=[]),i}getBindings(){let e=this.bindGroups;if(e===null){const n={},r=this.bindings;for(const i of p6)for(const o in r[i]){const a=r[i][o];(n[o]||(n[o]=[])).push(...a)}e=[];for(const i in n){const o=n[i],a=this._getBindGroup(i,o);e.push(a)}this.bindGroups=e}return e}sortBindingGroups(){const e=this.getBindings();e.sort((n,r)=>n.bindings[0].groupNode.order-r.bindings[0].groupNode.order);for(let n=0;n<e.length;n++){const r=e[n];this.bindingsIndexes[r.name].group=n,r.index=n}}setHashNode(e,n){this.hashNodes[n]=e}addNode(e){this.nodes.includes(e)===!1&&(this.nodes.push(e),this.setHashNode(e,e.getHash(this)))}addSequentialNode(e){this.sequentialNodes.includes(e)===!1&&this.sequentialNodes.push(e)}buildUpdateNodes(){for(const e of this.nodes)e.getUpdateType()!==Er.NONE&&this.updateNodes.push(e);for(const e of this.sequentialNodes){const n=e.getUpdateBeforeType(),r=e.getUpdateAfterType();n!==Er.NONE&&this.updateBeforeNodes.push(e),r!==Er.NONE&&this.updateAfterNodes.push(e)}}get currentNode(){return this.chaining[this.chaining.length-1]}isFilteredTexture(e){return e.magFilter===Ji||e.magFilter===Nv||e.magFilter===Xf||e.magFilter===Cl||e.minFilter===Ji||e.minFilter===Nv||e.minFilter===Xf||e.minFilter===Cl}addChain(e){this.chaining.push(e)}removeChain(e){if(this.chaining.pop()!==e)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(e){return e}getTernary(){return null}getNodeFromHash(e){return this.hashNodes[e]}addFlow(e,n){return this.flowNodes[e].push(n),n}setContext(e){this.context=e}getContext(){return this.context}addContext(e){const n=this.getContext();return this.setContext({...this.context,...e}),n}getSharedContext(){const e={...this.context};return delete e.material,delete e.getUV,delete e.getOutput,delete e.getTextureLevel,delete e.getAO,delete e.getShadow,e}setCache(e){this.cache=e}getCache(){return this.cache}getCacheFromNode(e,n=!0){const r=this.getDataFromNode(e);return r.cache===void 0&&(r.cache=new lD(n?this.getCache():null)),r.cache}isAvailable(){return!1}getVertexIndex(){Vt("Abstract function.")}getInstanceIndex(){Vt("Abstract function.")}getDrawIndex(){Vt("Abstract function.")}getFrontFacing(){Vt("Abstract function.")}getFragCoord(){Vt("Abstract function.")}isFlipY(){return!1}increaseUsage(e){const n=this.getDataFromNode(e);return n.usageCount=n.usageCount===void 0?1:n.usageCount+1,n.usageCount}generateTexture(){Vt("Abstract function.")}generateTextureLod(){Vt("Abstract function.")}generateArrayDeclaration(e,n){return this.getType(e)+"[ "+n+" ]"}generateArray(e,n,r=null){let i=this.generateArrayDeclaration(e,n)+"( ";for(let o=0;o<n;o++){const a=r?r[o]:null;a!==null?i+=a.build(this,e):i+=this.generateConst(e),o<n-1&&(i+=", ")}return i+=" )",i}generateStruct(e,n,r=null){const i=[];for(const o of n){const{name:a,type:s}=o;r&&r[a]&&r[a].isNode?i.push(r[a].build(this,s)):i.push(this.generateConst(s))}return e+"( "+i.join(", ")+" )"}generateConst(e,n=null){if(n===null&&(e==="float"||e==="int"||e==="uint"?n=0:e==="bool"?n=!1:e==="color"?n=new Vn:e==="vec2"||e==="uvec2"||e==="ivec2"?n=new Wt:e==="vec3"||e==="uvec3"||e==="ivec3"?n=new Te:(e==="vec4"||e==="uvec4"||e==="ivec4")&&(n=new yr)),e==="float")return bT(n);if(e==="int")return`${Math.round(n)}`;if(e==="uint")return n>=0?`${Math.round(n)}u`:"0u";if(e==="bool")return n?"true":"false";if(e==="color")return`${this.getType("vec3")}( ${bT(n.r)}, ${bT(n.g)}, ${bT(n.b)} )`;const r=this.getTypeLength(e),i=this.getComponentType(e),o=a=>this.generateConst(i,a);if(r===2)return`${this.getType(e)}( ${o(n.x)}, ${o(n.y)} )`;if(r===3)return`${this.getType(e)}( ${o(n.x)}, ${o(n.y)}, ${o(n.z)} )`;if(r===4&&e!=="mat2")return`${this.getType(e)}( ${o(n.x)}, ${o(n.y)}, ${o(n.z)}, ${o(n.w)} )`;if(r>=4&&n&&(n.isMatrix2||n.isMatrix3||n.isMatrix4))return`${this.getType(e)}( ${n.elements.map(o).join(", ")} )`;if(r>4)return`${this.getType(e)}()`;throw new Error(`NodeBuilder: Type '${e}' not found in generate constant attempt.`)}getType(e){return e==="color"?"vec3":e}hasGeometryAttribute(e){return this.geometry&&this.geometry.getAttribute(e)!==void 0}getAttribute(e,n){const r=this.attributes;for(const o of r)if(o.name===e)return o;const i=new rY(e,n);return this.registerDeclaration(i),r.push(i),i}getPropertyName(e){return e.name}isVector(e){return/vec\d/.test(e)}isMatrix(e){return/mat\d/.test(e)}isReference(e){return e==="void"||e==="property"||e==="sampler"||e==="samplerComparison"||e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="depthTexture"||e==="texture3D"}needsToWorkingColorSpace(){return!1}getComponentTypeFromTexture(e){const n=e.type;if(e.isDataTexture){if(n===Ia)return"int";if(n===Ni)return"uint"}return"float"}getElementType(e){return e==="mat2"?"vec2":e==="mat3"?"vec3":e==="mat4"?"vec4":this.getComponentType(e)}getComponentType(e){if(e=this.getVectorType(e),e==="float"||e==="bool"||e==="int"||e==="uint")return e;const n=/(b|i|u|)(vec|mat)([2-4])/.exec(e);return n===null?null:n[1]==="b"?"bool":n[1]==="i"?"int":n[1]==="u"?"uint":"float"}getVectorType(e){return e==="color"?"vec3":e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="texture3D"?"vec4":e}getTypeFromLength(e,n="float"){if(e===1)return n;let r=ile(e);const i=n==="float"?"":n[0];return/mat2/.test(n)===!0&&(r=r.replace("vec","mat")),i+r}getTypeFromArray(e){return $it.get(e.constructor)}isInteger(e){return/int|uint|(i|u)vec/.test(e)}getTypeFromAttribute(e){let n=e;e.isInterleavedBufferAttribute&&(n=e.data);const r=n.array,i=e.itemSize,o=e.normalized;let a;return!(e instanceof dae)&&o!==!0&&(a=this.getTypeFromArray(r)),this.getTypeFromLength(i,a)}getTypeLength(e){const n=this.getVectorType(e),r=/vec([2-4])/.exec(n);return r!==null?Number(r[1]):n==="float"||n==="bool"||n==="int"||n==="uint"?1:/mat2/.test(e)===!0?4:/mat3/.test(e)===!0?9:/mat4/.test(e)===!0?16:0}getVectorFromMatrix(e){return e.replace("mat","vec")}changeComponentType(e,n){return this.getTypeFromLength(this.getTypeLength(e),n)}getIntegerType(e){const n=this.getComponentType(e);return n==="int"||n==="uint"?e:this.changeComponentType(e,"int")}setActiveStack(e){this.activeStacks.push(e)}removeActiveStack(e){if(this.activeStacks[this.activeStacks.length-1]===e)this.activeStacks.pop();else throw new Error("NodeBuilder: Invalid active stack removal.")}getActiveStack(){return this.activeStacks[this.activeStacks.length-1]}getBaseStack(){return this.activeStacks[0]}addStack(){this.stack=FE(this.stack);const e=ik();return this.stacks.push(e),S2(this.stack),this.stack}removeStack(){const e=this.stack;for(const n of e.nodes){const r=this.getDataFromNode(n);r.stack=e}return this.stack=e.parent,S2(this.stacks.pop()),e}getDataFromNode(e,n=this.shaderStage,r=null){r=r===null?e.isGlobal(this)?this.globalCache:this.cache:r;let i=r.getData(e);i===void 0&&(i={},r.setData(e,i)),i[n]===void 0&&(i[n]={});let o=i[n];const a=i.any?i.any.subBuilds:null,s=this.getClosestSubBuild(a);return s&&(o.subBuildsCache===void 0&&(o.subBuildsCache={}),o=o.subBuildsCache[s]||(o.subBuildsCache[s]={}),o.subBuilds=a),o}getNodeProperties(e,n="any"){const r=this.getDataFromNode(e,n);return r.properties||(r.properties={outputNode:null})}getBufferAttributeFromNode(e,n){const r=this.getDataFromNode(e,"vertex");let i=r.bufferAttribute;if(i===void 0){const o=this.uniforms.index++;i=new rY("nodeAttribute"+o,n,e),this.bufferAttributes.push(i),r.bufferAttribute=i}return i}getStructTypeNode(e,n=this.shaderStage){return this.types[n][e]||null}getStructTypeFromNode(e,n,r=null,i=this.shaderStage){const o=this.getDataFromNode(e,i,this.globalCache);let a=o.structType;if(a===void 0){const s=this.structs.index++;r===null&&(r="StructType"+s),a=new yit(r,n),this.structs[i].push(a),this.types[i][r]=e,o.structType=a}return a}getOutputStructTypeFromNode(e,n){const r=this.getStructTypeFromNode(e,n,"OutputType","fragment");return r.output=!0,r}getUniformFromNode(e,n,r=this.shaderStage,i=null){const o=this.getDataFromNode(e,r,this.globalCache);let a=o.uniform;if(a===void 0){const s=this.uniforms.index++;a=new mit(i||"nodeUniform"+s,n,e),this.uniforms[r].push(a),this.registerDeclaration(a),o.uniform=a}return a}getVarFromNode(e,n=null,r=e.getNodeType(this),i=this.shaderStage,o=!1){const a=this.getDataFromNode(e,i),s=this.getSubBuildProperty("variable",a.subBuilds);let l=a[s];if(l===void 0){const c=o?"_const":"_var",u=this.vars[i]||(this.vars[i]=[]),d=this.vars[c]||(this.vars[c]=0);n===null&&(n=(o?"nodeConst":"nodeVar")+d,this.vars[c]++),s!=="variable"&&(n=this.getSubBuildProperty(n,a.subBuilds));const f=e.getArrayCount(this);l=new Pfe(n,r,o,f),o||u.push(l),this.registerDeclaration(l),a[s]=l}return l}isDeterministic(e){if(e.isMathNode)return this.isDeterministic(e.aNode)&&(e.bNode?this.isDeterministic(e.bNode):!0)&&(e.cNode?this.isDeterministic(e.cNode):!0);if(e.isOperatorNode)return this.isDeterministic(e.aNode)&&(e.bNode?this.isDeterministic(e.bNode):!0);if(e.isArrayNode){if(e.values!==null){for(const n of e.values)if(!this.isDeterministic(n))return!1}return!0}else if(e.isConstNode)return!0;return!1}getVaryingFromNode(e,n=null,r=e.getNodeType(this),i=null,o=null){const a=this.getDataFromNode(e,"any"),s=this.getSubBuildProperty("varying",a.subBuilds);let l=a[s];if(l===void 0){const c=this.varyings,u=c.length;n===null&&(n="nodeVarying"+u),s!=="varying"&&(n=this.getSubBuildProperty(n,a.subBuilds)),l=new git(n,r,i,o),c.push(l),this.registerDeclaration(l),a[s]=l}return l}registerDeclaration(e){const n=this.shaderStage,r=this.declarations[n]||(this.declarations[n]={}),i=this.getPropertyName(e);let o=1,a=i;for(;r[a]!==void 0;)a=i+"_"+o++;o>1&&(e.name=a,Vt(`TSL: Declaration name '${i}' of '${e.type}' already in use. Renamed to '${a}'.`)),r[a]=e}getCodeFromNode(e,n,r=this.shaderStage){const i=this.getDataFromNode(e);let o=i.code;if(o===void 0){const a=this.codes[r]||(this.codes[r]=[]),s=a.length;o=new Ait("nodeCode"+s,n),a.push(o),i.code=o}return o}addFlowCodeHierarchy(e,n){const{flowCodes:r,flowCodeBlock:i}=this.getDataFromNode(e);let o=!0,a=n;for(;a;){if(i.get(a)===!0){o=!1;break}a=this.getDataFromNode(a).parentNodeBlock}if(o)for(const s of r)this.addLineFlowCode(s)}addLineFlowCodeBlock(e,n,r){const i=this.getDataFromNode(e),o=i.flowCodes||(i.flowCodes=[]),a=i.flowCodeBlock||(i.flowCodeBlock=new WeakMap);o.push(n),a.set(r,!0)}addLineFlowCode(e,n=null){return e===""?this:(n!==null&&this.context.nodeBlock&&this.addLineFlowCodeBlock(n,e,this.context.nodeBlock),e=this.tab+e,/;\s*$/.test(e)||(e=e+`;
`),this.flow.code+=e,this)}addFlowCode(e){return this.flow.code+=e,this}addFlowTab(){return this.tab+="	",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(e){return this.flowsData.get(e)}flowNode(e){const n=e.getNodeType(this),r=this.flowChildNode(e,n);return this.flowsData.set(e,r),r}addInclude(e){this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(e)}buildFunctionNode(e){const n=new tfe,r=this.currentFunctionNode;return this.currentFunctionNode=n,n.code=this.buildFunctionCode(e),this.currentFunctionNode=r,n}flowShaderNode(e){const n=e.layout,r={[Symbol.iterator](){let a=0;const s=Object.values(this);return{next:()=>({value:s[a],done:a++>=s.length})}}};for(const a of n.inputs)r[a.name]=new Lde(a.type,a.name);e.layout=null;const i=e.call(r),o=this.flowStagesNode(i,n.type);return e.layout=n,o}flowBuildStage(e,n,r=null){const i=this.getBuildStage();this.setBuildStage(n);const o=e.build(this,r);return this.setBuildStage(i),o}flowStagesNode(e,n=null){const r=this.flow,i=this.vars,o=this.declarations,a=this.cache,s=this.buildStage,l=this.stack,c={code:""};this.flow=c,this.vars={},this.declarations={},this.cache=new lD,this.stack=FE();for(const u of h6)this.setBuildStage(u),c.result=e.build(this,n);return c.vars=this.getVars(this.shaderStage),this.flow=r,this.vars=i,this.declarations=o,this.cache=a,this.stack=l,this.setBuildStage(s),c}getFunctionOperator(){return null}buildFunctionCode(){Vt("Abstract function.")}flowChildNode(e,n=null){const r=this.flow,i={code:""};return this.flow=i,i.result=e.build(this,n),this.flow=r,i}flowNodeFromShaderStage(e,n,r=null,i=null){const o=this.tab,a=this.cache,s=this.shaderStage,l=this.context;this.setShaderStage(e);const c={...this.context};delete c.nodeBlock,this.cache=this.globalCache,this.tab="	",this.context=c;let u=null;if(this.buildStage==="generate"){const d=this.flowChildNode(n,r);i!==null&&(d.code+=`${this.tab+i} = ${d.result};
`),this.flowCode[e]=this.flowCode[e]+d.code,u=d}else u=n.build(this);return this.setShaderStage(s),this.cache=a,this.tab=o,this.context=l,u}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){Vt("Abstract function.")}getVaryings(){Vt("Abstract function.")}getVar(e,n,r=null){return`${r!==null?this.generateArrayDeclaration(e,r):this.getType(e)} ${n}`}getVars(e){let n="";const r=this.vars[e];if(r!==void 0)for(const i of r)n+=`${this.getVar(i.type,i.name)}; `;return n}getUniforms(){Vt("Abstract function.")}getCodes(e){const n=this.codes[e];let r="";if(n!==void 0)for(const i of n)r+=i.code+`
`;return r}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(e){this.shaderStage=e}getShaderStage(){return this.shaderStage}setBuildStage(e){this.buildStage=e}getBuildStage(){return this.buildStage}buildCode(){Vt("Abstract function.")}get subBuild(){return this.subBuildLayers[this.subBuildLayers.length-1]||null}addSubBuild(e){this.subBuildLayers.push(e)}removeSubBuild(){return this.subBuildLayers.pop()}getClosestSubBuild(e){let n;if(e&&e.isNode?e.isShaderCallNodeInternal?n=e.shaderNode.subBuilds:e.isStackNode?n=[e.subBuild]:n=this.getDataFromNode(e,"any").subBuilds:e instanceof Set?n=[...e]:n=e,!n)return null;const r=this.subBuildLayers;for(let i=n.length-1;i>=0;i--){const o=n[i];if(r.includes(o))return o}return null}getSubBuildOutput(e){return this.getSubBuildProperty("outputNode",e)}getSubBuildProperty(e="",n=null){let r;n!==null?r=this.getClosestSubBuild(n):r=this.subBuildFn;let i;return r?i=e?r+"_"+e:r:i=e,i}build(){const{object:e,material:n,renderer:r}=this;if(n!==null){let i=r.library.fromMaterial(n);i===null&&(Kt(`NodeMaterial: Material "${n.type}" is not compatible.`),i=new Bo),i.build(this)}else this.addFlow("compute",e);for(const i of h6){this.setBuildStage(i),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const o of p6){this.setShaderStage(o);const a=this.flowNodes[o];for(const s of a)i==="generate"?this.flowNode(s):s.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getSharedDataFromNode(e){let n=Fit.get(e);return n===void 0&&(n={}),n}getNodeUniform(e,n){const r=this.getSharedDataFromNode(e);let i=r.cache;if(i===void 0){if(n==="float"||n==="int"||n==="uint")i=new Mit(e);else if(n==="vec2"||n==="ivec2"||n==="uvec2")i=new Pit(e);else if(n==="vec3"||n==="ivec3"||n==="uvec3")i=new Rit(e);else if(n==="vec4"||n==="ivec4"||n==="uvec4")i=new Nit(e);else if(n==="color")i=new Iit(e);else if(n==="mat2")i=new Oit(e);else if(n==="mat3")i=new Dit(e);else if(n==="mat4")i=new Lit(e);else throw new Error(`Uniform "${n}" not implemented.`);r.cache=i}return i}format(e,n,r){if(n=this.getVectorType(n),r=this.getVectorType(r),n===r||r===null||this.isReference(r))return e;const i=this.getTypeLength(n),o=this.getTypeLength(r);return i===16&&o===9?`${this.getType(r)}( ${e}[ 0 ].xyz, ${e}[ 1 ].xyz, ${e}[ 2 ].xyz )`:i===9&&o===4?`${this.getType(r)}( ${e}[ 0 ].xy, ${e}[ 1 ].xy )`:i>4||o>4||o===0?e:i===o?`${this.getType(r)}( ${e} )`:i>o?(e=r==="bool"?`all( ${e} )`:`${e}.${"xyz".slice(0,o)}`,this.format(e,this.getTypeFromLength(o,this.getComponentType(n)),r)):o===4&&i>1?`${this.getType(r)}( ${this.format(e,n,"vec3")}, 1.0 )`:i===2?`${this.getType(r)}( ${this.format(e,n,"vec2")}, 0.0 )`:(i===1&&o>1&&n!==this.getComponentType(r)&&(e=`${this.getType(this.getComponentType(r))}( ${e} )`),`${this.getType(r)}( ${e} )`)}getSignature(){return`// Three.js r${Pg} - Node System
`}}class oY{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.updateAfterMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(e,n){let r=e.get(n);return r===void 0&&(r={renderId:0,frameId:0},e.set(n,r)),r}updateBeforeNode(e){const n=e.getUpdateBeforeType(),r=e.updateReference(this);if(n===Er.FRAME){const i=this._getMaps(this.updateBeforeMap,r);if(i.frameId!==this.frameId){const o=i.frameId;i.frameId=this.frameId,e.updateBefore(this)===!1&&(i.frameId=o)}}else if(n===Er.RENDER){const i=this._getMaps(this.updateBeforeMap,r);if(i.renderId!==this.renderId){const o=i.renderId;i.renderId=this.renderId,e.updateBefore(this)===!1&&(i.renderId=o)}}else n===Er.OBJECT&&e.updateBefore(this)}updateAfterNode(e){const n=e.getUpdateAfterType(),r=e.updateReference(this);if(n===Er.FRAME){const i=this._getMaps(this.updateAfterMap,r);i.frameId!==this.frameId&&e.updateAfter(this)!==!1&&(i.frameId=this.frameId)}else if(n===Er.RENDER){const i=this._getMaps(this.updateAfterMap,r);i.renderId!==this.renderId&&e.updateAfter(this)!==!1&&(i.renderId=this.renderId)}else n===Er.OBJECT&&e.updateAfter(this)}updateNode(e){const n=e.getUpdateType(),r=e.updateReference(this);if(n===Er.FRAME){const i=this._getMaps(this.updateMap,r);i.frameId!==this.frameId&&e.update(this)!==!1&&(i.frameId=this.frameId)}else if(n===Er.RENDER){const i=this._getMaps(this.updateMap,r);i.renderId!==this.renderId&&e.update(this)!==!1&&(i.renderId=this.renderId)}else n===Er.OBJECT&&e.update(this)}update(){this.frameId++,this.lastTime===void 0&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}class C9{constructor(e,n,r=null,i="",o=!1){this.type=e,this.name=n,this.count=r,this.qualifier=i,this.isConst=o}}C9.isNodeFunctionInput=!0;class kit extends Lg{static get type(){return"DirectionalLightNode"}constructor(e=null){super(e)}setupDirect(){const e=this.colorNode;return{lightDirection:y9(this.light),lightColor:e}}}const cD=new wr,xT=new wr;let Xb=null;class Uit extends Lg{static get type(){return"RectAreaLightNode"}constructor(e=null){super(e),this.halfHeight=Wn(new Te).setGroup(qn),this.halfWidth=Wn(new Te).setGroup(qn),this.updateType=Er.RENDER}update(e){super.update(e);const{light:n}=this,r=e.camera.matrixWorldInverse;xT.identity(),cD.copy(n.matrixWorld),cD.premultiply(r),xT.extractRotation(cD),this.halfWidth.value.set(n.width*.5,0,0),this.halfHeight.value.set(0,n.height*.5,0),this.halfWidth.value.applyMatrix4(xT),this.halfHeight.value.applyMatrix4(xT)}setupDirectRectArea(e){let n,r;e.isAvailable("float32Filterable")?(n=ci(Xb.LTC_FLOAT_1),r=ci(Xb.LTC_FLOAT_2)):(n=ci(Xb.LTC_HALF_1),r=ci(Xb.LTC_HALF_2));const{colorNode:i,light:o}=this,a=v9(o);return{lightColor:i,lightPosition:a,halfWidth:this.halfWidth,halfHeight:this.halfHeight,ltc_1:n,ltc_2:r}}static setLTC(e){Xb=e}}class T9 extends Lg{static get type(){return"SpotLightNode"}constructor(e=null){super(e),this.coneCosNode=Wn(0).setGroup(qn),this.penumbraCosNode=Wn(0).setGroup(qn),this.cutoffDistanceNode=Wn(0).setGroup(qn),this.decayExponentNode=Wn(0).setGroup(qn),this.colorNode=Wn(this.color).setGroup(qn)}update(e){super.update(e);const{light:n}=this;this.coneCosNode.value=Math.cos(n.angle),this.penumbraCosNode.value=Math.cos(n.angle*(1-n.penumbra)),this.cutoffDistanceNode.value=n.distance,this.decayExponentNode.value=n.decay}getSpotAttenuation(e,n){const{coneCosNode:r,penumbraCosNode:i}=this;return cd(r,i,n)}getLightCoord(e){const n=e.getNodeProperties(this);let r=n.projectionUV;return r===void 0&&(r=ofe(this.light,e.context.positionWorld),n.projectionUV=r),r}setupDirect(e){const{colorNode:n,cutoffDistanceNode:r,decayExponentNode:i,light:o}=this,a=this.getLightVector(e),s=a.normalize(),l=s.dot(y9(o)),c=this.getSpotAttenuation(e,l),u=a.length(),d=_9({lightDistance:u,cutoffDistance:r,decayExponent:i});let f=n.mul(c).mul(d),h,p;return o.colorNode?(p=this.getLightCoord(e),h=o.colorNode(p)):o.map&&(p=this.getLightCoord(e),h=ci(o.map,p.xy).onRenderUpdate(()=>o.map)),h&&(f=p.mul(2).sub(1).abs().lessThan(1).all().select(f.mul(h),f)),{lightColor:f,lightDirection:s}}}class zit extends T9{static get type(){return"IESSpotLightNode"}getSpotAttenuation(e,n){const r=this.light.iesMap;let i=null;if(r&&r.isTexture===!0){const o=n.acos().mul(1/Math.PI);i=ci(r,rn(o,0),0).r}else i=super.getSpotAttenuation(n);return i}}const Vit=ot(([t,e])=>{const n=t.abs().sub(e);return af(Co(n,0)).add(Fl(Co(n.x,n.y),0))});class Git extends T9{static get type(){return"ProjectorLightNode"}update(e){super.update(e);const n=this.light;if(this.penumbraCosNode.value=Math.min(Math.cos(n.angle*(1-n.penumbra)),.99999),n.aspect===null){let r=1;n.map!==null&&(r=n.map.width/n.map.height),n.shadow.aspect=r}else n.shadow.aspect=n.aspect}getSpotAttenuation(e){const n=Ce(0),r=this.penumbraCosNode,i=AN(this.light).mul(e.context.positionWorld||sf);return Kn(i.w.greaterThan(0),()=>{const o=i.xyz.div(i.w),a=Vit(o.xy.sub(rn(.5)),rn(.5)),s=vc(-1,ei(1,bk(r)).sub(1));n.assign(JR(a.mul(-2).mul(s)))}),n}}class Hit extends Lg{static get type(){return"AmbientLightNode"}constructor(e=null){super(e)}setup({context:e}){e.irradiance.addAssign(this.colorNode)}}class jit extends Lg{static get type(){return"HemisphereLightNode"}constructor(e=null){super(e),this.lightPositionNode=A9(e),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=Wn(new Vn).setGroup(qn)}update(e){const{light:n}=this;super.update(e),this.lightPositionNode.object3d=n,this.groundColorNode.value.copy(n.groundColor).multiplyScalar(n.intensity)}setup(e){const{colorNode:n,groundColorNode:r,lightDirectionNode:i}=this,a=Sm.dot(i).mul(.5).add(.5),s=Zr(r,n,a);e.context.irradiance.addAssign(s)}}class qit extends Lg{static get type(){return"LightProbeNode"}constructor(e=null){super(e);const n=[];for(let r=0;r<9;r++)n.push(new Te);this.lightProbe=ws(n)}update(e){const{light:n}=this;super.update(e);for(let r=0;r<9;r++)this.lightProbe.array[r].copy(n.sh.coefficients[r]).multiplyScalar(n.intensity)}setup(e){const n=Mfe(Sm,this.lightProbe);e.context.irradiance.addAssign(n)}}class Nfe{parseFunction(){Vt("Abstract function.")}}class E9{constructor(e,n,r="",i=""){this.type=e,this.inputs=n,this.name=r,this.precision=i}getCode(){Vt("Abstract function.")}}E9.isNodeFunction=!0;const Wit=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,Xit=/[a-z_0-9]+/ig,aY="#pragma main",Yit=t=>{t=t.trim();const e=t.indexOf(aY),n=e!==-1?t.slice(e+aY.length):t,r=n.match(Wit);if(r!==null&&r.length===5){const i=r[4],o=[];let a=null;for(;(a=Xit.exec(i))!==null;)o.push(a);const s=[];let l=0;for(;l<o.length;){const p=o[l][0]==="const";p===!0&&l++;let _=o[l][0];_==="in"||_==="out"||_==="inout"?l++:_="";const x=o[l++][0];let y=Number.parseInt(o[l][0]);Number.isNaN(y)===!1?l++:y=null;const w=o[l++][0];s.push(new C9(x,w,y,_,p))}const c=n.substring(r[0].length),u=r[3]!==void 0?r[3]:"",d=r[2],f=r[1]!==void 0?r[1]:"",h=e!==-1?t.slice(0,e):"";return{type:d,inputs:s,name:u,precision:f,inputsCode:i,blockCode:c,headerCode:h}}else throw new Error("FunctionNode: Function is not a GLSL code.")};class Kit extends E9{constructor(e){const{type:n,inputs:r,name:i,precision:o,inputsCode:a,blockCode:s,headerCode:l}=Yit(e);super(n,r,i,o),this.inputsCode=a,this.blockCode=s,this.headerCode=l}getCode(e=this.name){let n;const r=this.blockCode;if(r!==""){const{type:i,inputsCode:o,headerCode:a,precision:s}=this;let l=`${i} ${e} ( ${o.trim()} )`;s!==""&&(l=`${s} ${l}`),n=a+l+r}else n="";return n}}class Qit extends Nfe{parseFunction(e){return new Kit(e)}}const sY=new WeakMap,Ld=[],op=[];class Zit extends wm{constructor(e,n){super(),this.renderer=e,this.backend=n,this.nodeFrame=new oY,this.nodeBuilderCache=new Map,this.callHashCache=new ud,this.groupsData=new ud,this.cacheLib={}}updateGroup(e){const n=e.groupNode,r=n.name;if(r===pk.name)return!0;if(r===qn.name){const o=this.get(e),a=this.nodeFrame.renderId;return o.renderId!==a?(o.renderId=a,!0):!1}if(r===_le.name){const o=this.get(e),a=this.nodeFrame.frameId;return o.frameId!==a?(o.frameId=a,!0):!1}Ld[0]=n,Ld[1]=e;let i=this.groupsData.get(Ld);return i===void 0&&this.groupsData.set(Ld,i={}),Ld.length=0,i.version!==n.version?(i.version=n.version,!0):!1}getForRenderCacheKey(e){return e.initialCacheKey}getForRender(e){const n=this.get(e);let r=n.nodeBuilderState;if(r===void 0){const{nodeBuilderCache:i}=this,o=this.getForRenderCacheKey(e);if(r=i.get(o),r===void 0){const a=l=>{const c=this.backend.createNodeBuilder(e.object,this.renderer);return c.scene=e.scene,c.material=l,c.camera=e.camera,c.context.material=l,c.lightsNode=e.lightsNode,c.environmentNode=this.getEnvironmentNode(e.scene),c.fogNode=this.getFogNode(e.scene),c.clippingContext=e.clippingContext,this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview&&c.enableMultiview(),c};let s=a(e.material);try{s.build()}catch(l){s=a(new Bo),s.build(),Kt("TSL: "+l)}r=this._createNodeBuilderState(s),i.set(o,r)}r.usedTimes++,n.nodeBuilderState=r}return r}delete(e){if(e.isRenderObject){const n=this.get(e).nodeBuilderState;n.usedTimes--,n.usedTimes===0&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(e))}return super.delete(e)}getForCompute(e){const n=this.get(e);let r=n.nodeBuilderState;if(r===void 0){const i=this.backend.createNodeBuilder(e,this.renderer);i.build(),r=this._createNodeBuilderState(i),n.nodeBuilderState=r}return r}_createNodeBuilderState(e){return new pit(e.vertexShader,e.fragmentShader,e.computeShader,e.getAttributesArray(),e.getBindings(),e.updateNodes,e.updateBeforeNodes,e.updateAfterNodes,e.observer,e.transforms)}getEnvironmentNode(e){this.updateEnvironment(e);let n=null;if(e.environmentNode&&e.environmentNode.isNode)n=e.environmentNode;else{const r=this.get(e);r.environmentNode&&(n=r.environmentNode)}return n}getBackgroundNode(e){this.updateBackground(e);let n=null;if(e.backgroundNode&&e.backgroundNode.isNode)n=e.backgroundNode;else{const r=this.get(e);r.backgroundNode&&(n=r.backgroundNode)}return n}getFogNode(e){return this.updateFog(e),e.fogNode||this.get(e).fogNode||null}getCacheKey(e,n){Ld[0]=e,Ld[1]=n;const r=this.renderer.info.calls,i=this.callHashCache.get(Ld)||{};if(i.callId!==r){const o=this.getEnvironmentNode(e),a=this.getFogNode(e);n&&op.push(n.getCacheKey(!0)),o&&op.push(o.getCacheKey()),a&&op.push(a.getCacheKey()),op.push(this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview?1:0),op.push(this.renderer.shadowMap.enabled?1:0),op.push(this.renderer.shadowMap.type),i.callId=r,i.cacheKey=R1(op),this.callHashCache.set(Ld,i),op.length=0}return Ld.length=0,i.cacheKey}get isToneMappingState(){return!this.renderer.getRenderTarget()}updateBackground(e){const n=this.get(e),r=e.background;if(r){const i=e.backgroundBlurriness===0&&n.backgroundBlurriness>0||e.backgroundBlurriness>0&&n.backgroundBlurriness===0;if(n.background!==r||i){const o=this.getCacheNode("background",r,()=>{if(r.isCubeTexture===!0||r.mapping===sy||r.mapping===ly||r.mapping===ag){if(e.backgroundBlurriness>0||r.mapping===ag)return s9(r);{let a;return r.isCubeTexture===!0?a=Ys(r):a=ci(r),mde(a)}}else{if(r.isTexture===!0)return ci(r,rh.flipY()).setUpdateMatrix(!0);r.isColor!==!0&&Kt("WebGPUNodes: Unsupported background configuration.",r)}},i);n.backgroundNode=o,n.background=r,n.backgroundBlurriness=e.backgroundBlurriness}}else n.backgroundNode&&(delete n.backgroundNode,delete n.background)}getCacheNode(e,n,r,i=!1){const o=this.cacheLib[e]||(this.cacheLib[e]=new WeakMap);let a=o.get(n);return(a===void 0||i)&&(a=r(),o.set(n,a)),a}updateFog(e){const n=this.get(e),r=e.fog;if(r){if(n.fog!==r){const i=this.getCacheNode("fog",r,()=>{if(r.isFogExp2){const o=Pi("color","color",r).setGroup(qn),a=Pi("density","float",r).setGroup(qn);return M2(o,m9(a))}else if(r.isFog){const o=Pi("color","color",r).setGroup(qn),a=Pi("near","float",r).setGroup(qn),s=Pi("far","float",r).setGroup(qn);return M2(o,p9(a,s))}else Kt("Renderer: Unsupported fog configuration.",r)});n.fogNode=i,n.fog=r}}else delete n.fogNode,delete n.fog}updateEnvironment(e){const n=this.get(e),r=e.environment;if(r){if(n.environment!==r){const i=this.getCacheNode("environment",r,()=>{if(r.isCubeTexture===!0)return Ys(r);if(r.isTexture===!0)return ci(r);Kt("Nodes: Unsupported environment configuration.",r)});n.environmentNode=i,n.environment=r}}else n.environmentNode&&(delete n.environmentNode,delete n.environment)}getNodeFrame(e=this.renderer,n=null,r=null,i=null,o=null){const a=this.nodeFrame;return a.renderer=e,a.scene=n,a.object=r,a.camera=i,a.material=o,a}getNodeFrameForRender(e){return this.getNodeFrame(e.renderer,e.scene,e.object,e.camera,e.material)}getOutputCacheKey(){const e=this.renderer;return e.toneMapping+","+e.currentColorSpace+","+e.xr.isPresenting}hasOutputChange(e){return sY.get(e)!==this.getOutputCacheKey()}getOutputNode(e){const n=this.renderer,r=this.getOutputCacheKey(),i=e.isArrayTexture?pN(e,et(rh,Rh("gl_ViewID_OVR"))).renderOutput(n.toneMapping,n.currentColorSpace):ci(e,rh).renderOutput(n.toneMapping,n.currentColorSpace);return sY.set(e,r),i}updateBefore(e){const n=e.getNodeBuilderState();for(const r of n.updateBeforeNodes)this.getNodeFrameForRender(e).updateBeforeNode(r)}updateAfter(e){const n=e.getNodeBuilderState();for(const r of n.updateAfterNodes)this.getNodeFrameForRender(e).updateAfterNode(r)}updateForCompute(e){const n=this.getNodeFrame(),r=this.getForCompute(e);for(const i of r.updateNodes)n.updateNode(i)}updateForRender(e){const n=this.getNodeFrameForRender(e),r=e.getNodeBuilderState();for(const i of r.updateNodes)n.updateNode(i)}needsRefresh(e){const n=this.getNodeFrameForRender(e);return e.getMonitor().needsRefresh(e,n)}dispose(){super.dispose(),this.nodeFrame=new oY,this.nodeBuilderCache=new Map,this.cacheLib={}}}const uD=new zd;class G3{constructor(e=null){this.version=0,this.clipIntersection=null,this.cacheKey="",this.shadowPass=!1,this.viewNormalMatrix=new Or,this.clippingGroupContexts=new WeakMap,this.intersectionPlanes=[],this.unionPlanes=[],this.parentVersion=null,e!==null&&(this.viewNormalMatrix=e.viewNormalMatrix,this.clippingGroupContexts=e.clippingGroupContexts,this.shadowPass=e.shadowPass,this.viewMatrix=e.viewMatrix)}projectPlanes(e,n,r){const i=e.length;for(let o=0;o<i;o++){uD.copy(e[o]).applyMatrix4(this.viewMatrix,this.viewNormalMatrix);const a=n[r+o],s=uD.normal;a.x=-s.x,a.y=-s.y,a.z=-s.z,a.w=uD.constant}}updateGlobal(e,n){this.shadowPass=e.overrideMaterial!==null&&e.overrideMaterial.isShadowPassMaterial,this.viewMatrix=n.matrixWorldInverse,this.viewNormalMatrix.getNormalMatrix(this.viewMatrix)}update(e,n){let r=!1;e.version!==this.parentVersion&&(this.intersectionPlanes=Array.from(e.intersectionPlanes),this.unionPlanes=Array.from(e.unionPlanes),this.parentVersion=e.version),this.clipIntersection!==n.clipIntersection&&(this.clipIntersection=n.clipIntersection,this.clipIntersection?this.unionPlanes.length=e.unionPlanes.length:this.intersectionPlanes.length=e.intersectionPlanes.length);const i=n.clippingPlanes,o=i.length;let a,s;if(this.clipIntersection?(a=this.intersectionPlanes,s=e.intersectionPlanes.length):(a=this.unionPlanes,s=e.unionPlanes.length),a.length!==s+o){a.length=s+o;for(let l=0;l<o;l++)a[s+l]=new yr;r=!0}this.projectPlanes(i,a,s),r&&(this.version++,this.cacheKey=`${this.intersectionPlanes.length}:${this.unionPlanes.length}`)}getGroupContext(e){if(this.shadowPass&&!e.clipShadows)return this;let n=this.clippingGroupContexts.get(e);return n===void 0&&(n=new G3(this),this.clippingGroupContexts.set(e,n)),n.update(this,e),n}get unionClippingCount(){return this.unionPlanes.length}}class Jit{constructor(e,n){this.bundleGroup=e,this.camera=n}}const Yb=[];class eot{constructor(){this.bundles=new ud}get(e,n){const r=this.bundles;Yb[0]=e,Yb[1]=n;let i=r.get(Yb);return i===void 0&&(i=new Jit(e,n),r.set(Yb,i)),Yb.length=0,i}dispose(){this.bundles=new ud}}class Ife{constructor(){this.lightNodes=new WeakMap,this.materialNodes=new Map,this.toneMappingNodes=new Map}fromMaterial(e){if(e.isNodeMaterial)return e;let n=null;const r=this.getMaterialNodeClass(e.type);if(r!==null){n=new r;for(const i in e)n[i]=e[i]}return n}addToneMapping(e,n){this.addType(e,n,this.toneMappingNodes)}getToneMappingFunction(e){return this.toneMappingNodes.get(e)||null}getMaterialNodeClass(e){return this.materialNodes.get(e)||null}addMaterial(e,n){this.addType(e,n,this.materialNodes)}getLightNodeClass(e){return this.lightNodes.get(e)||null}addLight(e,n){this.addClass(e,n,this.lightNodes)}addType(e,n,r){if(r.has(n)){Vt(`Redefinition of node ${n}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof n=="function"||typeof n=="object")throw new Error(`Base class ${n} is not a class.`);r.set(n,e)}addClass(e,n,r){if(r.has(n)){Vt(`Redefinition of node ${n.name}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof n!="function")throw new Error(`Base class ${n.name} is not a class.`);r.set(n,e)}}const tot=new b9,Kb=[];class not extends ud{constructor(){super()}createNode(e=[]){return new b9().setLights(e)}getNode(e,n){if(e.isQuadMesh)return tot;Kb[0]=e,Kb[1]=n;let r=this.get(Kb);return r===void 0&&(r=this.createNode(),this.set(Kb,r)),Kb.length=0,r}}class Tx extends Th{constructor(e=1,n=1,r={}){super(e,n,r),this.isXRRenderTarget=!0,this._hasExternalTextures=!1,this._autoAllocateDepthBuffer=!0,this._isOpaqueFramebuffer=!1}copy(e){return super.copy(e),this._hasExternalTextures=e._hasExternalTextures,this._autoAllocateDepthBuffer=e._autoAllocateDepthBuffer,this._isOpaqueFramebuffer=e._isOpaqueFramebuffer,this}}const lY=new Te,cY=new Te;class rot extends pd{constructor(e,n=!1){super(),this.enabled=!1,this.isPresenting=!1,this.cameraAutoUpdate=!0,this._renderer=e,this._cameraL=new Oa,this._cameraL.viewport=new yr,this._cameraR=new Oa,this._cameraR.viewport=new yr,this._cameras=[this._cameraL,this._cameraR],this._cameraXR=new Nae,this._currentDepthNear=null,this._currentDepthFar=null,this._controllers=[],this._controllerInputSources=[],this._xrRenderTarget=null,this._layers=[],this._sessionUsesLayers=!1,this._supportsGlBinding=typeof XRWebGLBinding<"u",this._frameBufferTargets=null,this._createXRLayer=cot.bind(this),this._gl=null,this._currentAnimationContext=null,this._currentAnimationLoop=null,this._currentPixelRatio=null,this._currentSize=new Wt,this._onSessionEvent=aot.bind(this),this._onSessionEnd=sot.bind(this),this._onInputSourcesChange=lot.bind(this),this._onAnimationFrame=uot.bind(this),this._referenceSpace=null,this._referenceSpaceType="local-floor",this._customReferenceSpace=null,this._framebufferScaleFactor=1,this._foveation=1,this._session=null,this._glBaseLayer=null,this._glBinding=null,this._glProjLayer=null,this._xrFrame=null,this._supportsLayers=this._supportsGlBinding&&"createProjectionLayer"in XRWebGLBinding.prototype,this._useMultiviewIfPossible=n,this._useMultiview=!1}getController(e){return this._getController(e).getTargetRaySpace()}getControllerGrip(e){return this._getController(e).getGripSpace()}getHand(e){return this._getController(e).getHandSpace()}getFoveation(){if(!(this._glProjLayer===null&&this._glBaseLayer===null))return this._foveation}setFoveation(e){this._foveation=e,this._glProjLayer!==null&&(this._glProjLayer.fixedFoveation=e),this._glBaseLayer!==null&&this._glBaseLayer.fixedFoveation!==void 0&&(this._glBaseLayer.fixedFoveation=e)}getFramebufferScaleFactor(){return this._framebufferScaleFactor}setFramebufferScaleFactor(e){this._framebufferScaleFactor=e,this.isPresenting===!0&&Vt("XRManager: Cannot change framebuffer scale while presenting.")}getReferenceSpaceType(){return this._referenceSpaceType}setReferenceSpaceType(e){this._referenceSpaceType=e,this.isPresenting===!0&&Vt("XRManager: Cannot change reference space type while presenting.")}getReferenceSpace(){return this._customReferenceSpace||this._referenceSpace}setReferenceSpace(e){this._customReferenceSpace=e}getCamera(){return this._cameraXR}getEnvironmentBlendMode(){if(this._session!==null)return this._session.environmentBlendMode}getBinding(){return this._glBinding===null&&this._supportsGlBinding&&(this._glBinding=new XRWebGLBinding(this._session,this._gl)),this._glBinding}getFrame(){return this._xrFrame}useMultiview(){return this._useMultiview}createQuadLayer(e,n,r,i,o,a,s,l={}){const c=new bS(e,n),u=new Tx(o,a,{format:qo,type:no,depthTexture:new Ms(o,a,l.stencil?uc:Ni,void 0,void 0,void 0,void 0,void 0,void 0,l.stencil?Ks:os),stencilBuffer:l.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});u._autoAllocateDepthBuffer=!0;const d=new jc({color:16777215,side:cc});d.map=u.texture,d.map.offset.y=1,d.map.repeat.y=-1;const f=new Ai(c,d);f.position.copy(r),f.quaternion.copy(i);const h={type:"quad",width:e,height:n,translation:r,quaternion:i,pixelwidth:o,pixelheight:a,plane:f,material:d,rendercall:s,renderTarget:u};if(this._layers.push(h),this._session!==null){h.plane.material=new jc({color:16777215,side:cc}),h.plane.material.blending=Rv,h.plane.material.blendEquation=_s,h.plane.material.blendSrc=$f,h.plane.material.blendDst=$f,h.xrlayer=this._createXRLayer(h);const p=this._session.renderState.layers;p.unshift(h.xrlayer),this._session.updateRenderState({layers:p})}else u.isXRRenderTarget=!1;return f}createCylinderLayer(e,n,r,i,o,a,s,l,c={}){const u=new DR(e,e,e*n/r,64,64,!0,Math.PI-n/2,n),d=new Tx(a,s,{format:qo,type:no,depthTexture:new Ms(a,s,c.stencil?uc:Ni,void 0,void 0,void 0,void 0,void 0,void 0,c.stencil?Ks:os),stencilBuffer:c.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});d._autoAllocateDepthBuffer=!0;const f=new jc({color:16777215,side:Oi});f.map=d.texture,f.map.offset.y=1,f.map.repeat.y=-1;const h=new Ai(u,f);h.position.copy(i),h.quaternion.copy(o);const p={type:"cylinder",radius:e,centralAngle:n,aspectratio:r,translation:i,quaternion:o,pixelwidth:a,pixelheight:s,plane:h,material:f,rendercall:l,renderTarget:d};if(this._layers.push(p),this._session!==null){p.plane.material=new jc({color:16777215,side:Oi}),p.plane.material.blending=Rv,p.plane.material.blendEquation=_s,p.plane.material.blendSrc=$f,p.plane.material.blendDst=$f,p.xrlayer=this._createXRLayer(p);const _=this._session.renderState.layers;_.unshift(p.xrlayer),this._session.updateRenderState({layers:_})}else d.isXRRenderTarget=!1;return h}renderLayers(){const e=new Te,n=new ad,r=this._renderer,i=this.isPresenting,o=r.getOutputRenderTarget(),a=r._frameBufferTarget;this.isPresenting=!1;const s=new Wt;r.getSize(s);const l=r._quad;for(const c of this._layers)if(c.renderTarget.isXRRenderTarget=this._session!==null,c.renderTarget._hasExternalTextures=c.renderTarget.isXRRenderTarget,c.renderTarget.isXRRenderTarget&&this._sessionUsesLayers){c.xrlayer.transform=new XRRigidTransform(c.plane.getWorldPosition(e),c.plane.getWorldQuaternion(n));const u=this._glBinding.getSubImage(c.xrlayer,this._xrFrame);r.backend.setXRRenderTargetTextures(c.renderTarget,u.colorTexture,void 0),r._setXRLayerSize(c.renderTarget.width,c.renderTarget.height),r.setOutputRenderTarget(c.renderTarget),r.setRenderTarget(null),r._frameBufferTarget=null,this._frameBufferTargets||(this._frameBufferTargets=new WeakMap);const{frameBufferTarget:d,quad:f}=this._frameBufferTargets.get(c.renderTarget)||{frameBufferTarget:null,quad:null};d?(r._frameBufferTarget=d,r._quad=f):(r._quad=new fN(new Bo),this._frameBufferTargets.set(c.renderTarget,{frameBufferTarget:r._getFrameBufferTarget(),quad:r._quad})),c.rendercall(),r._frameBufferTarget=null}else r.setRenderTarget(c.renderTarget),c.rendercall();r.setRenderTarget(null),r.setOutputRenderTarget(o),r._frameBufferTarget=a,r._setXRLayerSize(s.x,s.y),r._quad=l,this.isPresenting=i}getSession(){return this._session}async setSession(e){const n=this._renderer,r=n.backend;this._gl=n.getContext();const i=this._gl,o=i.getContextAttributes();if(this._session=e,e!==null){if(r.isWebGPUBackend===!0)throw new Error('THREE.XRManager: XR is currently not supported with a WebGPU backend. Use WebGL by passing "{ forceWebGL: true }" to the constructor of the renderer.');if(e.addEventListener("select",this._onSessionEvent),e.addEventListener("selectstart",this._onSessionEvent),e.addEventListener("selectend",this._onSessionEvent),e.addEventListener("squeeze",this._onSessionEvent),e.addEventListener("squeezestart",this._onSessionEvent),e.addEventListener("squeezeend",this._onSessionEvent),e.addEventListener("end",this._onSessionEnd),e.addEventListener("inputsourceschange",this._onInputSourcesChange),await r.makeXRCompatible(),this._currentPixelRatio=n.getPixelRatio(),n.getSize(this._currentSize),this._currentAnimationContext=n._animation.getContext(),this._currentAnimationLoop=n._animation.getAnimationLoop(),n._animation.stop(),this._supportsLayers===!0){let a=null,s=null,l=null;n.depth&&(l=n.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,a=n.stencil?Ks:os,s=n.stencil?uc:Ni);const c={colorFormat:i.RGBA8,depthFormat:l,scaleFactor:this._framebufferScaleFactor,clearOnAccess:!1};this._useMultiviewIfPossible&&n.hasFeature("OVR_multiview2")&&(c.textureType="texture-array",this._useMultiview=!0),this._glBinding=this.getBinding();const u=this._glBinding.createProjectionLayer(c),d=[u];this._glProjLayer=u,n.setPixelRatio(1),n._setXRLayerSize(u.textureWidth,u.textureHeight);const f=this._useMultiview?2:1,h=new Ms(u.textureWidth,u.textureHeight,s,void 0,void 0,void 0,void 0,void 0,void 0,a,f);if(this._xrRenderTarget=new Tx(u.textureWidth,u.textureHeight,{format:qo,type:no,colorSpace:n.outputColorSpace,depthTexture:h,stencilBuffer:n.stencil,samples:o.antialias?4:0,resolveDepthBuffer:u.ignoreDepthValues===!1,resolveStencilBuffer:u.ignoreDepthValues===!1,depth:this._useMultiview?2:1,multiview:this._useMultiview}),this._xrRenderTarget._hasExternalTextures=!0,this._xrRenderTarget.depth=this._useMultiview?2:1,this._sessionUsesLayers=e.enabledFeatures.includes("layers"),this._referenceSpace=await e.requestReferenceSpace(this.getReferenceSpaceType()),this._sessionUsesLayers)for(const p of this._layers)p.plane.material=new jc({color:16777215,side:p.type==="cylinder"?Oi:cc}),p.plane.material.blending=Rv,p.plane.material.blendEquation=_s,p.plane.material.blendSrc=$f,p.plane.material.blendDst=$f,p.xrlayer=this._createXRLayer(p),d.unshift(p.xrlayer);e.updateRenderState({layers:d})}else{const a={antialias:n.currentSamples>0,alpha:!0,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:this.getFramebufferScaleFactor()},s=new XRWebGLLayer(e,i,a);this._glBaseLayer=s,e.updateRenderState({baseLayer:s}),n.setPixelRatio(1),n._setXRLayerSize(s.framebufferWidth,s.framebufferHeight),this._xrRenderTarget=new Tx(s.framebufferWidth,s.framebufferHeight,{format:qo,type:no,colorSpace:n.outputColorSpace,stencilBuffer:n.stencil,resolveDepthBuffer:s.ignoreDepthValues===!1,resolveStencilBuffer:s.ignoreDepthValues===!1}),this._xrRenderTarget._isOpaqueFramebuffer=!0,this._referenceSpace=await e.requestReferenceSpace(this.getReferenceSpaceType())}this.setFoveation(this.getFoveation()),n._animation.setAnimationLoop(this._onAnimationFrame),n._animation.setContext(e),n._animation.start(),this.isPresenting=!0,this.dispatchEvent({type:"sessionstart"})}}updateCamera(e){const n=this._session;if(n===null)return;const r=e.near,i=e.far,o=this._cameraXR,a=this._cameraL,s=this._cameraR;o.near=s.near=a.near=r,o.far=s.far=a.far=i,o.isMultiViewCamera=this._useMultiview,(this._currentDepthNear!==o.near||this._currentDepthFar!==o.far)&&(n.updateRenderState({depthNear:o.near,depthFar:o.far}),this._currentDepthNear=o.near,this._currentDepthFar=o.far),o.layers.mask=e.layers.mask|6,a.layers.mask=o.layers.mask&3,s.layers.mask=o.layers.mask&5;const l=e.parent,c=o.cameras;uY(o,l);for(let u=0;u<c.length;u++)uY(c[u],l);c.length===2?iot(o,a,s):o.projectionMatrix.copy(a.projectionMatrix),oot(e,o,l)}_getController(e){let n=this._controllers[e];return n===void 0&&(n=new SE,this._controllers[e]=n),n}}function iot(t,e,n){lY.setFromMatrixPosition(e.matrixWorld),cY.setFromMatrixPosition(n.matrixWorld);const r=lY.distanceTo(cY),i=e.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(o[8]+1)/o[0],f=a*u,h=a*d,p=r/(-u+d),_=p*-u;if(e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(_),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert(),i[10]===-1)t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse);else{const x=a+p,y=s+p,w=f-_,C=h+(r-_),M=l*s/y*x,R=c*s/y*x;t.projectionMatrix.makePerspective(w,C,M,R,x,y),t.projectionMatrixInverse.copy(t.projectionMatrix).invert()}}function uY(t,e){e===null?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}function oot(t,e,n){n===null?t.matrix.copy(e.matrixWorld):(t.matrix.copy(n.matrixWorld),t.matrix.invert(),t.matrix.multiply(e.matrixWorld)),t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0),t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=dg*2*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)}function aot(t){const e=this._controllerInputSources.indexOf(t.inputSource);if(e===-1)return;const n=this._controllers[e];if(n!==void 0){const r=this.getReferenceSpace();n.update(t.inputSource,t.frame,r),n.dispatchEvent({type:t.type,data:t.inputSource})}}function sot(){const t=this._session,e=this._renderer;t.removeEventListener("select",this._onSessionEvent),t.removeEventListener("selectstart",this._onSessionEvent),t.removeEventListener("selectend",this._onSessionEvent),t.removeEventListener("squeeze",this._onSessionEvent),t.removeEventListener("squeezestart",this._onSessionEvent),t.removeEventListener("squeezeend",this._onSessionEvent),t.removeEventListener("end",this._onSessionEnd),t.removeEventListener("inputsourceschange",this._onInputSourcesChange);for(let n=0;n<this._controllers.length;n++){const r=this._controllerInputSources[n];r!==null&&(this._controllerInputSources[n]=null,this._controllers[n].disconnect(r))}if(this._currentDepthNear=null,this._currentDepthFar=null,e._resetXRState(),this._session=null,this._xrRenderTarget=null,this._glBinding=null,this._glBaseLayer=null,this._glProjLayer=null,this._sessionUsesLayers===!0)for(const n of this._layers)n.renderTarget=new Tx(n.pixelwidth,n.pixelheight,{format:qo,type:no,depthTexture:new Ms(n.pixelwidth,n.pixelheight,n.stencilBuffer?uc:Ni,void 0,void 0,void 0,void 0,void 0,void 0,n.stencilBuffer?Ks:os),stencilBuffer:n.stencilBuffer,resolveDepthBuffer:!1,resolveStencilBuffer:!1}),n.renderTarget.isXRRenderTarget=!1,n.plane.material=n.material,n.material.map=n.renderTarget.texture,n.material.map.offset.y=1,n.material.map.repeat.y=-1,delete n.xrlayer;this.isPresenting=!1,this._useMultiview=!1,e._animation.stop(),e._animation.setAnimationLoop(this._currentAnimationLoop),e._animation.setContext(this._currentAnimationContext),e._animation.start(),e.setPixelRatio(this._currentPixelRatio),e.setSize(this._currentSize.width,this._currentSize.height,!1),this.dispatchEvent({type:"sessionend"})}function lot(t){const e=this._controllers,n=this._controllerInputSources;for(let r=0;r<t.removed.length;r++){const i=t.removed[r],o=n.indexOf(i);o>=0&&(n[o]=null,e[o].disconnect(i))}for(let r=0;r<t.added.length;r++){const i=t.added[r];let o=n.indexOf(i);if(o===-1){for(let s=0;s<e.length;s++)if(s>=n.length){n.push(i),o=s;break}else if(n[s]===null){n[s]=i,o=s;break}if(o===-1)break}const a=e[o];a&&a.connect(i)}}function cot(t){return t.type==="quad"?this._glBinding.createQuadLayer({transform:new XRRigidTransform(t.translation,t.quaternion),width:t.width/2,height:t.height/2,space:this._referenceSpace,viewPixelWidth:t.pixelwidth,viewPixelHeight:t.pixelheight,clearOnAccess:!1}):this._glBinding.createCylinderLayer({transform:new XRRigidTransform(t.translation,t.quaternion),radius:t.radius,centralAngle:t.centralAngle,aspectRatio:t.aspectRatio,space:this._referenceSpace,viewPixelWidth:t.pixelwidth,viewPixelHeight:t.pixelheight,clearOnAccess:!1})}function uot(t,e){if(e===void 0)return;const n=this._cameraXR,r=this._renderer,i=r.backend,o=this._glBaseLayer,a=this.getReferenceSpace(),s=e.getViewerPose(a);if(this._xrFrame=e,s!==null){const l=s.views;this._glBaseLayer!==null&&i.setXRTarget(o.framebuffer);let c=!1;l.length!==n.cameras.length&&(n.cameras.length=0,c=!0);for(let u=0;u<l.length;u++){const d=l[u];let f;if(this._supportsLayers===!0){const p=this._glBinding.getViewSubImage(this._glProjLayer,d);f=p.viewport,u===0&&i.setXRRenderTargetTextures(this._xrRenderTarget,p.colorTexture,this._glProjLayer.ignoreDepthValues&&!this._useMultiview?void 0:p.depthStencilTexture)}else f=o.getViewport(d);let h=this._cameras[u];h===void 0&&(h=new Oa,h.layers.enable(u),h.viewport=new yr,this._cameras[u]=h),h.matrix.fromArray(d.transform.matrix),h.matrix.decompose(h.position,h.quaternion,h.scale),h.projectionMatrix.fromArray(d.projectionMatrix),h.projectionMatrixInverse.copy(h.projectionMatrix).invert(),h.viewport.set(f.x,f.y,f.width,f.height),u===0&&(n.matrix.copy(h.matrix),n.matrix.decompose(n.position,n.quaternion,n.scale)),c===!0&&n.cameras.push(h)}r.setOutputRenderTarget(this._xrRenderTarget)}for(let l=0;l<this._controllers.length;l++){const c=this._controllerInputSources[l],u=this._controllers[l];c!==null&&u!==void 0&&u.update(c,e,a)}this._currentAnimationLoop&&this._currentAnimationLoop(t,e),e.detectedPlanes&&this.dispatchEvent({type:"planesdetected",data:e}),this._xrFrame=null}class dot extends pd{constructor(e){super(),this.domElement=e,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new yr(0,0,this._width,this._height),this._scissor=new yr(0,0,this._width,this._height),this._scissorTest=!1,this.colorTexture=new S7,this.depthTexture=new Ms}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(e){return e.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(e){return e.set(this._width,this._height)}setPixelRatio(e=1){this._pixelRatio!==e&&(this._pixelRatio=e,this.setSize(this._width,this._height,!1))}setDrawingBufferSize(e,n,r){this.xr&&this.xr.isPresenting||(this._width=e,this._height=n,this._pixelRatio=r,this.domElement.width=Math.floor(e*r),this.domElement.height=Math.floor(n*r),this.setViewport(0,0,e,n),this._dispatchResize())}setSize(e,n,r=!0){this.xr&&this.xr.isPresenting||(this._width=e,this._height=n,this.domElement.width=Math.floor(e*this._pixelRatio),this.domElement.height=Math.floor(n*this._pixelRatio),r===!0&&(this.domElement.style.width=e+"px",this.domElement.style.height=n+"px"),this.setViewport(0,0,e,n),this._dispatchResize())}getScissor(e){const n=this._scissor;return e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height,e}setScissor(e,n,r,i){const o=this._scissor;e.isVector4?o.copy(e):o.set(e,n,r,i)}getScissorTest(){return this._scissorTest}setScissorTest(e){this._scissorTest=e}getViewport(e){return e.copy(this._viewport)}setViewport(e,n,r,i,o=0,a=1){const s=this._viewport;e.isVector4?s.copy(e):s.set(e,n,r,i),s.minDepth=o,s.maxDepth=a}_dispatchResize(){this.dispatchEvent({type:"resize"})}dispose(){this.dispatchEvent({type:"dispose"})}}const dY=new NR,BA=new Wt,dD=new yr,fD=new T1,hD=new x7,_T=new wr,Lf=new yr;class fot{constructor(e,n={}){this.isRenderer=!0;const{logarithmicDepthBuffer:r=!1,alpha:i=!0,depth:o=!0,stencil:a=!1,antialias:s=!1,samples:l=0,getFallback:c=null,outputBufferType:u=io,multiview:d=!1}=n;this.backend=e,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.alpha=i,this.logarithmicDepthBuffer=r,this.outputColorSpace=Za,this.toneMapping=Ja,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=o,this.stencil=a,this.info=new JZe,this.contextNode=Ph(),this.library=new Ife,this.lighting=new not,this._samples=l||s===!0?4:0,this._onCanvasTargetResize=this._onCanvasTargetResize.bind(this),this._canvasTarget=new dot(e.getDomElement()),this._canvasTarget.addEventListener("resize",this._onCanvasTargetResize),this._canvasTarget.isDefaultCanvasTarget=!0,this._inspector=new Uce,this._inspector.setRenderer(this),this._getFallback=c,this._attributes=null,this._geometries=null,this._nodes=null,this._animation=null,this._bindings=null,this._objects=null,this._pipelines=null,this._bundles=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._quad=new fN(new Bo),this._quad.name="Output Color Transform",this._quad.material.name="outputColorTransform",this._currentRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._frameBufferTarget=null;const f=this.alpha===!0?0:1;this._clearColor=new l9(0,0,0,f),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._outputRenderTarget=null,this._mrt=null,this._renderObjectFunction=null,this._currentRenderObjectFunction=null,this._currentRenderBundle=null,this._handleObjectFunction=this._renderObjectDirect,this._isDeviceLost=!1,this.onDeviceLost=this._onDeviceLost,this._outputBufferType=u,this._cacheShadowNodes=new WeakMap,this._initialized=!1,this._initPromise=null,this._compilationPromises=null,this.transparent=!0,this.opaque=!0,this.shadowMap={enabled:!1,type:Hx},this.xr=new rot(this,d),this.debug={checkShaderErrors:!0,onShaderError:null,getShaderAsync:async(h,p,_)=>{await this.compileAsync(h,p);const x=this._renderLists.get(h,p),y=this._renderContexts.get(h,p,this._renderTarget,this._mrt),w=h.overrideMaterial||_.material,C=this._objects.get(_,w,h,p,x.lightsNode,y,y.clippingContext),{fragmentShader:M,vertexShader:R}=C.getNodeBuilderState();return{fragmentShader:M,vertexShader:R}}}}async init(){return this._initPromise!==null?this._initPromise:(this._initPromise=new Promise(async(e,n)=>{let r=this.backend;try{await r.init(this)}catch(i){if(this._getFallback!==null)try{this.backend=r=this._getFallback(i),await r.init(this)}catch(o){n(o);return}else{n(i);return}}this._nodes=new Zit(this,r),this._animation=new HZe(this,this._nodes,this.info),this._attributes=new QZe(r),this._background=new fit(this,this._nodes),this._geometries=new ZZe(this._attributes,this.info),this._textures=new pJe(this,r,this.info),this._pipelines=new rJe(r,this._nodes),this._bindings=new iJe(r,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new XZe(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new sJe(this.lighting),this._bundles=new eot,this._renderContexts=new fJe,this._animation.start(),this._initialized=!0,this._inspector.init(),e(this)}),this._initPromise)}get domElement(){return this._canvasTarget.domElement}get coordinateSystem(){return this.backend.coordinateSystem}async compileAsync(e,n,r=null){if(this._isDeviceLost===!0)return;this._initialized===!1&&await this.init();const i=this._nodes.nodeFrame,o=i.renderId,a=this._currentRenderContext,s=this._currentRenderObjectFunction,l=this._compilationPromises,c=e.isScene===!0?e:dY;r===null&&(r=e);const u=this._renderTarget,d=this._renderContexts.get(r,n,u,this._mrt),f=this._activeMipmapLevel,h=[];this._currentRenderContext=d,this._currentRenderObjectFunction=this.renderObject,this._handleObjectFunction=this._createObjectPipeline,this._compilationPromises=h,i.renderId++,i.update(),d.depth=this.depth,d.stencil=this.stencil,d.clippingContext||(d.clippingContext=new G3),d.clippingContext.updateGlobal(c,n),c.onBeforeRender(this,e,n,u);const p=this._renderLists.get(e,n);if(p.begin(),this._projectObject(e,n,0,p,d.clippingContext),r!==e&&r.traverseVisible(function(C){C.isLight&&C.layers.test(n.layers)&&p.pushLight(C)}),p.finish(),u!==null){this._textures.updateRenderTarget(u,f);const C=this._textures.get(u);d.textures=C.textures,d.depthTexture=C.depthTexture}else d.textures=null,d.depthTexture=null;this._background.update(c,p,d);const _=p.opaque,x=p.transparent,y=p.transparentDoublePass,w=p.lightsNode;this.opaque===!0&&_.length>0&&this._renderObjects(_,n,c,w),this.transparent===!0&&x.length>0&&this._renderTransparents(x,y,n,c,w),i.renderId=o,this._currentRenderContext=a,this._currentRenderObjectFunction=s,this._compilationPromises=l,this._handleObjectFunction=this._renderObjectDirect,await Promise.all(h)}async renderAsync(e,n){$i('Renderer: "renderAsync()" has been deprecated. Use "render()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.render(e,n)}async waitForGPU(){Kt("Renderer: waitForGPU() has been removed. Read https://github.com/mrdoob/three.js/issues/32012 for more information.")}set inspector(e){this._inspector!==null&&this._inspector.setRenderer(null),this._inspector=e,this._inspector.setRenderer(this)}get inspector(){return this._inspector}set highPrecision(e){const n=this.contextNode.value;e===!0?(n.modelViewMatrix=b6,n.modelNormalViewMatrix=x6):this.highPrecision&&(delete n.modelViewMatrix,delete n.modelNormalViewMatrix)}get highPrecision(){const e=this.contextNode.value;return e.modelViewMatrix===b6&&e.modelNormalViewMatrix===x6}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}getOutputBufferType(){return this._outputBufferType}getColorBufferType(){return $i('Renderer: ".getColorBufferType()" has been renamed to ".getOutputBufferType()".'),this.getOutputBufferType()}_onDeviceLost(e){let n=`THREE.WebGPURenderer: ${e.api} Device Lost:

Message: ${e.message}`;e.reason&&(n+=`
Reason: ${e.reason}`),Kt(n),this._isDeviceLost=!0}_renderBundle(e,n,r){const{bundleGroup:i,camera:o,renderList:a}=e,s=this._currentRenderContext,l=this._bundles.get(i,o),c=this.backend.get(l);c.renderContexts===void 0&&(c.renderContexts=new Set);const u=i.version!==c.version,d=c.renderContexts.has(s)===!1||u;if(c.renderContexts.add(s),d){this.backend.beginBundle(s),(c.renderObjects===void 0||u)&&(c.renderObjects=[]),this._currentRenderBundle=l;const{transparentDoublePass:f,transparent:h,opaque:p}=a;this.opaque===!0&&p.length>0&&this._renderObjects(p,o,n,r),this.transparent===!0&&h.length>0&&this._renderTransparents(h,f,o,n,r),this._currentRenderBundle=null,this.backend.finishBundle(s,l),c.version=i.version}else{const{renderObjects:f}=c;for(let h=0,p=f.length;h<p;h++){const _=f[h];this._nodes.needsRefresh(_)&&(this._nodes.updateBefore(_),this._nodes.updateForRender(_),this._bindings.updateForRender(_),this._nodes.updateAfter(_))}}this.backend.addBundle(s,l)}render(e,n){if(this._initialized===!1)throw new Error('Renderer: .render() called before the backend is initialized. Use "await renderer.init();" before rendering.');this._renderScene(e,n)}get initialized(){return this._initialized}_getFrameBufferTarget(){const{currentToneMapping:e,currentColorSpace:n}=this,r=e!==Ja,i=n!==fr.workingColorSpace;if(r===!1&&i===!1)return null;const{width:o,height:a}=this.getDrawingBufferSize(BA),{depth:s,stencil:l}=this;let c=this._frameBufferTarget;c===null&&(c=new Th(o,a,{depthBuffer:s,stencilBuffer:l,type:this._outputBufferType,format:qo,colorSpace:fr.workingColorSpace,generateMipmaps:!1,minFilter:Ji,magFilter:Ji,samples:this.samples}),c.isPostProcessingRenderTarget=!0,this._frameBufferTarget=c);const u=this.getOutputRenderTarget();c.depthBuffer=s,c.stencilBuffer=l,u!==null?c.setSize(u.width,u.height,u.depth):c.setSize(o,a,1);const d=this._canvasTarget;return c.viewport.copy(d._viewport),c.scissor.copy(d._scissor),c.viewport.multiplyScalar(d._pixelRatio),c.scissor.multiplyScalar(d._pixelRatio),c.scissorTest=d._scissorTest,c.multiview=u!==null?u.multiview:!1,c.resolveDepthBuffer=u!==null?u.resolveDepthBuffer:!0,c._autoAllocateDepthBuffer=u!==null?u._autoAllocateDepthBuffer:!1,c}_renderScene(e,n,r=!0){if(this._isDeviceLost===!0)return;const i=r?this._getFrameBufferTarget():null,o=this._nodes.nodeFrame,a=o.renderId,s=this._currentRenderContext,l=this._currentRenderObjectFunction,c=e.isScene===!0?e:dY,u=this._renderTarget||this._outputRenderTarget,d=this._activeCubeFace,f=this._activeMipmapLevel;let h;i!==null?(h=i,this.setRenderTarget(h)):h=u;const p=this._renderContexts.get(e,n,h,this._mrt);this._currentRenderContext=p,this._currentRenderObjectFunction=this._renderObjectFunction||this.renderObject,this.info.calls++,this.info.render.calls++,this.info.render.frameCalls++,o.renderId=this.info.calls,this.backend.updateTimeStampUID(p),this.inspector.beginRender(this.backend.getTimestampUID(p),e,n,h);const _=this.coordinateSystem,x=this.xr;if(n.coordinateSystem!==_&&x.isPresenting===!1&&(n.coordinateSystem=_,n.updateProjectionMatrix(),n.isArrayCamera))for(const G of n.cameras)G.coordinateSystem=_,G.updateProjectionMatrix();e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld(),n.parent===null&&n.matrixWorldAutoUpdate===!0&&n.updateMatrixWorld(),x.enabled===!0&&x.isPresenting===!0&&(x.cameraAutoUpdate===!0&&x.updateCamera(n),n=x.getCamera());const y=this._canvasTarget;let w=y._viewport,C=y._scissor,M=y._pixelRatio;h!==null&&(w=h.viewport,C=h.scissor,M=1),this.getDrawingBufferSize(BA),dD.set(0,0,BA.width,BA.height);const R=w.minDepth===void 0?0:w.minDepth,N=w.maxDepth===void 0?1:w.maxDepth;p.viewportValue.copy(w).multiplyScalar(M).floor(),p.viewportValue.width>>=f,p.viewportValue.height>>=f,p.viewportValue.minDepth=R,p.viewportValue.maxDepth=N,p.viewport=p.viewportValue.equals(dD)===!1,p.scissorValue.copy(C).multiplyScalar(M).floor(),p.scissor=y._scissorTest&&p.scissorValue.equals(dD)===!1,p.scissorValue.width>>=f,p.scissorValue.height>>=f,p.clippingContext||(p.clippingContext=new G3),p.clippingContext.updateGlobal(c,n),c.onBeforeRender(this,e,n,h);const I=n.isArrayCamera?hD:fD;n.isArrayCamera||(_T.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),I.setFromProjectionMatrix(_T,n.coordinateSystem,n.reversedDepth));const B=this._renderLists.get(e,n);if(B.begin(),this._projectObject(e,n,0,B,p.clippingContext),B.finish(),this.sortObjects===!0&&B.sort(this._opaqueSort,this._transparentSort),h!==null){this._textures.updateRenderTarget(h,f);const G=this._textures.get(h);p.textures=G.textures,p.depthTexture=G.depthTexture,p.width=G.width,p.height=G.height,p.renderTarget=h,p.depth=h.depthBuffer,p.stencil=h.stencilBuffer}else p.textures=null,p.depthTexture=null,p.width=BA.width,p.height=BA.height,p.depth=this.depth,p.stencil=this.stencil;p.width>>=f,p.height>>=f,p.activeCubeFace=d,p.activeMipmapLevel=f,p.occlusionQueryCount=B.occlusionQueryCount,p.scissorValue.max(Lf.set(0,0,0,0)),p.scissorValue.x+p.scissorValue.width>p.width&&(p.scissorValue.width=Math.max(p.width-p.scissorValue.x,0)),p.scissorValue.y+p.scissorValue.height>p.height&&(p.scissorValue.height=Math.max(p.height-p.scissorValue.y,0)),this._background.update(c,B,p),p.camera=n,this.backend.beginRender(p);const{bundles:D,lightsNode:$,transparentDoublePass:z,transparent:V,opaque:q}=B;return D.length>0&&this._renderBundles(D,c,$),this.opaque===!0&&q.length>0&&this._renderObjects(q,n,c,$),this.transparent===!0&&V.length>0&&this._renderTransparents(V,z,n,c,$),this.backend.finishRender(p),o.renderId=a,this._currentRenderContext=s,this._currentRenderObjectFunction=l,i!==null&&(this.setRenderTarget(u,d,f),this._renderOutput(h)),c.onAfterRender(this,e,n,h),this.inspector.finishRender(this.backend.getTimestampUID(p)),p}_setXRLayerSize(e,n){this._canvasTarget._width=e,this._canvasTarget._height=n,this.setViewport(0,0,e,n)}_renderOutput(e){const n=this._quad;this._nodes.hasOutputChange(e.texture)&&(n.material.fragmentNode=this._nodes.getOutputNode(e.texture),n.material.needsUpdate=!0);const r=this.autoClear,i=this.xr.enabled;this.autoClear=!1,this.xr.enabled=!1,this._renderScene(n,n.camera,!1),this.autoClear=r,this.xr.enabled=i}getMaxAnisotropy(){return this.backend.getMaxAnisotropy()}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}async setAnimationLoop(e){this._initialized===!1&&await this.init(),this._animation.setAnimationLoop(e)}getAnimationLoop(){return this._animation.getAnimationLoop()}async getArrayBufferAsync(e){return await this.backend.getArrayBufferAsync(e)}getContext(){return this.backend.getContext()}getPixelRatio(){return this._canvasTarget.getPixelRatio()}getDrawingBufferSize(e){return this._canvasTarget.getDrawingBufferSize(e)}getSize(e){return this._canvasTarget.getSize(e)}setPixelRatio(e=1){this._canvasTarget.setPixelRatio(e)}setDrawingBufferSize(e,n,r){this.xr&&this.xr.isPresenting||this._canvasTarget.setDrawingBufferSize(e,n,r)}setSize(e,n,r=!0){this.xr&&this.xr.isPresenting||this._canvasTarget.setSize(e,n,r)}setOpaqueSort(e){this._opaqueSort=e}setTransparentSort(e){this._transparentSort=e}getScissor(e){return this._canvasTarget.getScissor(e)}setScissor(e,n,r,i){this._canvasTarget.setScissor(e,n,r,i)}getScissorTest(){return this._canvasTarget.getScissorTest()}setScissorTest(e){this._canvasTarget.setScissorTest(e),this.backend.setScissorTest(e)}getViewport(e){return this._canvasTarget.getViewport(e)}setViewport(e,n,r,i,o=0,a=1){this._canvasTarget.setViewport(e,n,r,i,o,a)}getClearColor(e){return e.copy(this._clearColor)}setClearColor(e,n=1){this._clearColor.set(e),this._clearColor.a=n}getClearAlpha(){return this._clearColor.a}setClearAlpha(e){this._clearColor.a=e}getClearDepth(){return this._clearDepth}setClearDepth(e){this._clearDepth=e}getClearStencil(){return this._clearStencil}setClearStencil(e){this._clearStencil=e}isOccluded(e){const n=this._currentRenderContext;return n&&this.backend.isOccluded(n,e)}clear(e=!0,n=!0,r=!0){if(this._initialized===!1)throw new Error('Renderer: .clear() called before the backend is initialized. Use "await renderer.init();" before before using this method.');const i=this._renderTarget||this._getFrameBufferTarget();let o=null;if(i!==null){this._textures.updateRenderTarget(i);const a=this._textures.get(i);o=this._renderContexts.getForClear(i),o.textures=a.textures,o.depthTexture=a.depthTexture,o.width=a.width,o.height=a.height,o.renderTarget=i,o.depth=i.depthBuffer,o.stencil=i.stencilBuffer,o.clearColorValue=this.backend.getClearColor(),o.activeCubeFace=this.getActiveCubeFace(),o.activeMipmapLevel=this.getActiveMipmapLevel()}this.backend.clear(e,n,r,o),i!==null&&this._renderTarget===null&&this._renderOutput(i)}clearColor(){this.clear(!0,!1,!1)}clearDepth(){this.clear(!1,!0,!1)}clearStencil(){this.clear(!1,!1,!0)}async clearAsync(e=!0,n=!0,r=!0){$i('Renderer: "clearAsync()" has been deprecated. Use "clear()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.clear(e,n,r)}async clearColorAsync(){$i('Renderer: "clearColorAsync()" has been deprecated. Use "clearColor()" and "await renderer.init();" when creating the renderer.'),this.clear(!0,!1,!1)}async clearDepthAsync(){$i('Renderer: "clearDepthAsync()" has been deprecated. Use "clearDepth()" and "await renderer.init();" when creating the renderer.'),this.clear(!1,!0,!1)}async clearStencilAsync(){$i('Renderer: "clearStencilAsync()" has been deprecated. Use "clearStencil()" and "await renderer.init();" when creating the renderer.'),this.clear(!1,!1,!0)}get needsFrameBufferTarget(){const e=this.currentToneMapping!==Ja,n=this.currentColorSpace!==fr.workingColorSpace;return e||n}get samples(){return this._samples}get currentSamples(){let e=this._samples;return this._renderTarget!==null?e=this._renderTarget.samples:this.needsFrameBufferTarget&&(e=0),e}get currentToneMapping(){return this.isOutputTarget?this.toneMapping:Ja}get currentColorSpace(){return this.isOutputTarget?this.outputColorSpace:fr.workingColorSpace}get isOutputTarget(){return this._renderTarget===this._outputRenderTarget||this._renderTarget===null}dispose(){this._initialized===!0&&(this.info.dispose(),this.backend.dispose(),this._animation.dispose(),this._objects.dispose(),this._geometries.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),this._frameBufferTarget!==null&&this._frameBufferTarget.dispose(),Object.values(this.backend.timestampQueryPool).forEach(e=>{e!==null&&e.dispose()})),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(e,n=0,r=0){this._renderTarget=e,this._activeCubeFace=n,this._activeMipmapLevel=r}getRenderTarget(){return this._renderTarget}setOutputRenderTarget(e){this._outputRenderTarget=e}getOutputRenderTarget(){return this._outputRenderTarget}setCanvasTarget(e){this._canvasTarget.removeEventListener("resize",this._onCanvasTargetResize),this._canvasTarget=e,this._canvasTarget.addEventListener("resize",this._onCanvasTargetResize)}getCanvasTarget(){return this._canvasTarget}_resetXRState(){this.backend.setXRTarget(null),this.setOutputRenderTarget(null),this.setRenderTarget(null),this._frameBufferTarget.dispose(),this._frameBufferTarget=null}setRenderObjectFunction(e){this._renderObjectFunction=e}getRenderObjectFunction(){return this._renderObjectFunction}compute(e,n=null){if(this._isDeviceLost===!0)return;if(this._initialized===!1)return Vt("Renderer: .compute() called before the backend is initialized. Try using .computeAsync() instead."),this.computeAsync(e,n);const r=this._nodes.nodeFrame,i=r.renderId;this.info.calls++,this.info.compute.calls++,this.info.compute.frameCalls++,r.renderId=this.info.calls,this.backend.updateTimeStampUID(e),this.inspector.beginCompute(this.backend.getTimestampUID(e),e);const o=this.backend,a=this._pipelines,s=this._bindings,l=this._nodes,c=Array.isArray(e)?e:[e];if(c[0]===void 0||c[0].isComputeNode!==!0)throw new Error("THREE.Renderer: .compute() expects a ComputeNode.");o.beginCompute(e);for(const u of c){if(a.has(u)===!1){const h=()=>{u.removeEventListener("dispose",h),a.delete(u),s.deleteForCompute(u),l.delete(u)};u.addEventListener("dispose",h);const p=u.onInitFunction;p!==null&&p.call(u,{renderer:this})}l.updateForCompute(u),s.updateForCompute(u);const d=s.getForCompute(u),f=a.getForCompute(u,d);o.compute(e,u,d,f,n)}o.finishCompute(e),r.renderId=i,this.inspector.finishCompute(this.backend.getTimestampUID(e))}async computeAsync(e,n=null){this._initialized===!1&&await this.init(),this.compute(e,n)}async hasFeatureAsync(e){return $i('Renderer: "hasFeatureAsync()" has been deprecated. Use "hasFeature()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.hasFeature(e)}async resolveTimestampsAsync(e="render"){return this._initialized===!1&&await this.init(),this.backend.resolveTimestampsAsync(e)}hasFeature(e){if(this._initialized===!1)throw new Error('Renderer: .hasFeature() called before the backend is initialized. Use "await renderer.init();" before before using this method.');return this.backend.hasFeature(e)}hasInitialized(){return this._initialized}async initTextureAsync(e){$i('Renderer: "initTextureAsync()" has been deprecated. Use "initTexture()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.initTexture(e)}initTexture(e){if(this._initialized===!1)throw new Error('Renderer: .initTexture() called before the backend is initialized. Use "await renderer.init();" before before using this method.');this._textures.updateTexture(e)}copyFramebufferToTexture(e,n=null){if(n!==null)if(n.isVector2)n=Lf.set(n.x,n.y,e.image.width,e.image.height).floor();else if(n.isVector4)n=Lf.copy(n).floor();else{Kt("Renderer.copyFramebufferToTexture: Invalid rectangle.");return}else n=Lf.set(0,0,e.image.width,e.image.height);let r=this._currentRenderContext,i;r!==null?i=r.renderTarget:(i=this._renderTarget||this._getFrameBufferTarget(),i!==null&&(this._textures.updateRenderTarget(i),r=this._textures.get(i))),this._textures.updateTexture(e,{renderTarget:i}),this.backend.copyFramebufferToTexture(e,r,n),this._inspector.copyFramebufferToTexture(e)}copyTextureToTexture(e,n,r=null,i=null,o=0,a=0){this._textures.updateTexture(e),this._textures.updateTexture(n),this.backend.copyTextureToTexture(e,n,r,i,o,a),this._inspector.copyTextureToTexture(e,n)}async readRenderTargetPixelsAsync(e,n,r,i,o,a=0,s=0){return this.backend.copyTextureToBuffer(e.textures[a],n,r,i,o,s)}_projectObject(e,n,r,i,o){if(e.visible===!1)return;if(e.layers.test(n.layers)){if(e.isGroup)r=e.renderOrder,e.isClippingGroup&&e.enabled&&(o=o.getGroupContext(e));else if(e.isLOD)e.autoUpdate===!0&&e.update(n);else if(e.isLight)i.pushLight(e);else if(e.isSprite){const l=n.isArrayCamera?hD:fD;if(!e.frustumCulled||l.intersectsSprite(e,n)){this.sortObjects===!0&&Lf.setFromMatrixPosition(e.matrixWorld).applyMatrix4(_T);const{geometry:c,material:u}=e;u.visible&&i.push(e,c,u,r,Lf.z,null,o)}}else if(e.isLineLoop)Kt("Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if(e.isMesh||e.isLine||e.isPoints){const l=n.isArrayCamera?hD:fD;if(!e.frustumCulled||l.intersectsObject(e,n)){const{geometry:c,material:u}=e;if(this.sortObjects===!0&&(c.boundingSphere===null&&c.computeBoundingSphere(),Lf.copy(c.boundingSphere.center).applyMatrix4(e.matrixWorld).applyMatrix4(_T)),Array.isArray(u)){const d=c.groups;for(let f=0,h=d.length;f<h;f++){const p=d[f],_=u[p.materialIndex];_&&_.visible&&i.push(e,c,_,r,Lf.z,p,o)}}else u.visible&&i.push(e,c,u,r,Lf.z,null,o)}}}if(e.isBundleGroup===!0&&this.backend.beginBundle!==void 0){const l=i;i=this._renderLists.get(e,n),i.begin(),l.pushBundle({bundleGroup:e,camera:n,renderList:i}),i.finish()}const s=e.children;for(let l=0,c=s.length;l<c;l++)this._projectObject(s[l],n,r,i,o)}_renderBundles(e,n,r){for(const i of e)this._renderBundle(i,n,r)}_renderTransparents(e,n,r,i,o){if(n.length>0){for(const{material:a}of n)a.side=Oi;this._renderObjects(n,r,i,o,"backSide");for(const{material:a}of n)a.side=cc;this._renderObjects(e,r,i,o);for(const{material:a}of n)a.side=Ko}else this._renderObjects(e,r,i,o)}_renderObjects(e,n,r,i,o=null){for(let a=0,s=e.length;a<s;a++){const{object:l,geometry:c,material:u,group:d,clippingContext:f}=e[a];this._currentRenderObjectFunction(l,r,n,c,u,d,i,f,o)}}_getShadowNodes(e){const n=e.version;let r=this._cacheShadowNodes.get(e);if(r===void 0||r.version!==n){const i=e.map!==null,o=e.colorNode&&e.colorNode.isNode,a=e.castShadowNode&&e.castShadowNode.isNode;let s=null,l=null,c=null;if(i||o||a){let u,d;a?(u=e.castShadowNode.rgb,d=e.castShadowNode.a):(u=et(0),d=Ce(1)),i&&(d=d.mul(Pi("map","texture",e).a)),o&&(d=d.mul(e.colorNode.a)),l=Qn(u,d)}e.depthNode&&e.depthNode.isNode&&(c=e.depthNode),e.castShadowPositionNode&&e.castShadowPositionNode.isNode?s=e.castShadowPositionNode:e.positionNode&&e.positionNode.isNode&&(s=e.positionNode),r={version:n,colorNode:l,depthNode:c,positionNode:s},this._cacheShadowNodes.set(e,r)}return r}renderObject(e,n,r,i,o,a,s,l=null,c=null){let u=!1,d,f,h,p;if(e.onBeforeRender(this,n,r,i,o,a),o.allowOverride===!0&&n.overrideMaterial!==null){const _=n.overrideMaterial;if(u=!0,d=n.overrideMaterial.colorNode,f=n.overrideMaterial.depthNode,h=n.overrideMaterial.positionNode,p=n.overrideMaterial.side,o.positionNode&&o.positionNode.isNode&&(_.positionNode=o.positionNode),_.alphaTest=o.alphaTest,_.alphaMap=o.alphaMap,_.transparent=o.transparent||o.transmission>0||o.transmissionNode&&o.transmissionNode.isNode||o.backdropNode&&o.backdropNode.isNode,_.isShadowPassMaterial){const{colorNode:x,depthNode:y,positionNode:w}=this._getShadowNodes(o);_.side=o.shadowSide===null?o.side:o.shadowSide,x!==null&&(_.colorNode=x),y!==null&&(_.depthNode=y),w!==null&&(_.positionNode=w)}o=_}o.transparent===!0&&o.side===Ko&&o.forceSinglePass===!1?(o.side=Oi,this._handleObjectFunction(e,o,n,r,s,a,l,"backSide"),o.side=cc,this._handleObjectFunction(e,o,n,r,s,a,l,c),o.side=Ko):this._handleObjectFunction(e,o,n,r,s,a,l,c),u&&(n.overrideMaterial.colorNode=d,n.overrideMaterial.depthNode=f,n.overrideMaterial.positionNode=h,n.overrideMaterial.side=p),e.onAfterRender(this,n,r,i,o,a)}_renderObjectDirect(e,n,r,i,o,a,s,l){const c=this._objects.get(e,n,r,i,o,this._currentRenderContext,s,l);c.drawRange=e.geometry.drawRange,c.group=a;const u=this._nodes.needsRefresh(c);u&&(this._nodes.updateBefore(c),this._geometries.updateForRender(c),this._nodes.updateForRender(c),this._bindings.updateForRender(c)),this._pipelines.updateForRender(c),this._currentRenderBundle!==null&&(this.backend.get(this._currentRenderBundle).renderObjects.push(c),c.bundle=this._currentRenderBundle.bundleGroup),this.backend.draw(c,this.info),u&&this._nodes.updateAfter(c)}_createObjectPipeline(e,n,r,i,o,a,s,l){const c=this._objects.get(e,n,r,i,o,this._currentRenderContext,s,l);c.drawRange=e.geometry.drawRange,c.group=a,this._nodes.updateBefore(c),this._geometries.updateForRender(c),this._nodes.updateForRender(c),this._bindings.updateForRender(c),this._pipelines.getForRender(c,this._compilationPromises),this._nodes.updateAfter(c)}_onCanvasTargetResize(){this._initialized&&this.backend.updateSize()}get compile(){return this.compileAsync}}class Ofe{constructor(e=""){this.name=e,this.visibility=0}setVisibility(e){this.visibility|=e}getVisibility(){return this.visibility}clone(){return Object.assign(new this.constructor,this)}}function hot(t){return t+(Sp-t%Sp)%Sp}class Dfe extends Ofe{constructor(e,n=null){super(e),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=n,this._updateRanges=[]}get updateRanges(){return this._updateRanges}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}get byteLength(){return hot(this._buffer.byteLength)}get buffer(){return this._buffer}update(){return!0}}class Lfe extends Dfe{constructor(e,n=null){super(e,n),this.isUniformBuffer=!0}}let pot=0;class Bfe extends Lfe{constructor(e,n){super("UniformBuffer_"+pot++,e?e.value:null),this.nodeUniform=e,this.groupNode=n,this.isNodeUniformBuffer=!0}set updateRanges(e){this.nodeUniform.updateRanges=e}get updateRanges(){return this.nodeUniform.updateRanges}addUpdateRange(e,n){this.nodeUniform.addUpdateRange(e,n)}clearUpdateRanges(){this.nodeUniform.clearUpdateRanges()}get buffer(){return this.nodeUniform.value}}class mot extends Lfe{constructor(e){super(e),this.isUniformsGroup=!0,this._values=null,this.uniforms=[]}addUniform(e){return this.uniforms.push(e),this}removeUniform(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}get values(){return this._values===null&&(this._values=Array.from(this.buffer)),this._values}get buffer(){let e=this._buffer;if(e===null){const n=this.byteLength;e=new Float32Array(new ArrayBuffer(n)),this._buffer=e}return e}get byteLength(){const e=this.bytesPerElement;let n=0;for(let r=0,i=this.uniforms.length;r<i;r++){const o=this.uniforms[r],a=o.boundary,s=o.itemSize*e,l=n%Sp,c=l%a,u=l+c;n+=c,u!==0&&Sp-u<s&&(n+=Sp-u),o.offset=n/e,n+=s}return Math.ceil(n/Sp)*Sp}update(){let e=!1;for(const n of this.uniforms)this.updateByType(n)===!0&&(e=!0);return e}updateByType(e){if(e.isNumberUniform)return this.updateNumber(e);if(e.isVector2Uniform)return this.updateVector2(e);if(e.isVector3Uniform)return this.updateVector3(e);if(e.isVector4Uniform)return this.updateVector4(e);if(e.isColorUniform)return this.updateColor(e);if(e.isMatrix3Uniform)return this.updateMatrix3(e);if(e.isMatrix4Uniform)return this.updateMatrix4(e);Kt("WebGPUUniformsGroup: Unsupported uniform type.",e)}updateNumber(e){let n=!1;const r=this.values,i=e.getValue(),o=e.offset,a=e.getType();if(r[o]!==i){const s=this._getBufferForType(a);s[o]=r[o]=i,n=!0}return n}updateVector2(e){let n=!1;const r=this.values,i=e.getValue(),o=e.offset,a=e.getType();if(r[o+0]!==i.x||r[o+1]!==i.y){const s=this._getBufferForType(a);s[o+0]=r[o+0]=i.x,s[o+1]=r[o+1]=i.y,n=!0}return n}updateVector3(e){let n=!1;const r=this.values,i=e.getValue(),o=e.offset,a=e.getType();if(r[o+0]!==i.x||r[o+1]!==i.y||r[o+2]!==i.z){const s=this._getBufferForType(a);s[o+0]=r[o+0]=i.x,s[o+1]=r[o+1]=i.y,s[o+2]=r[o+2]=i.z,n=!0}return n}updateVector4(e){let n=!1;const r=this.values,i=e.getValue(),o=e.offset,a=e.getType();if(r[o+0]!==i.x||r[o+1]!==i.y||r[o+2]!==i.z||r[o+4]!==i.w){const s=this._getBufferForType(a);s[o+0]=r[o+0]=i.x,s[o+1]=r[o+1]=i.y,s[o+2]=r[o+2]=i.z,s[o+3]=r[o+3]=i.w,n=!0}return n}updateColor(e){let n=!1;const r=this.values,i=e.getValue(),o=e.offset;if(r[o+0]!==i.r||r[o+1]!==i.g||r[o+2]!==i.b){const a=this.buffer;a[o+0]=r[o+0]=i.r,a[o+1]=r[o+1]=i.g,a[o+2]=r[o+2]=i.b,n=!0}return n}updateMatrix3(e){let n=!1;const r=this.values,i=e.getValue().elements,o=e.offset;if(r[o+0]!==i[0]||r[o+1]!==i[1]||r[o+2]!==i[2]||r[o+4]!==i[3]||r[o+5]!==i[4]||r[o+6]!==i[5]||r[o+8]!==i[6]||r[o+9]!==i[7]||r[o+10]!==i[8]){const a=this.buffer;a[o+0]=r[o+0]=i[0],a[o+1]=r[o+1]=i[1],a[o+2]=r[o+2]=i[2],a[o+4]=r[o+4]=i[3],a[o+5]=r[o+5]=i[4],a[o+6]=r[o+6]=i[5],a[o+8]=r[o+8]=i[6],a[o+9]=r[o+9]=i[7],a[o+10]=r[o+10]=i[8],n=!0}return n}updateMatrix4(e){let n=!1;const r=this.values,i=e.getValue().elements,o=e.offset;return Aot(r,i,o)===!1&&(this.buffer.set(i,o),got(r,i,o),n=!0),n}_getBufferForType(e){return e==="int"||e==="ivec2"||e==="ivec3"||e==="ivec4"?new Int32Array(this.buffer.buffer):e==="uint"||e==="uvec2"||e==="uvec3"||e==="uvec4"?new Uint32Array(this.buffer.buffer):this.buffer}}function got(t,e,n){for(let r=0,i=e.length;r<i;r++)t[n+r]=e[r]}function Aot(t,e,n){for(let r=0,i=e.length;r<i;r++)if(t[n+r]!==e[r])return!1;return!0}let vot=0;class Ffe extends mot{constructor(e,n){super(e),this.id=vot++,this.groupNode=n,this.isNodeUniformsGroup=!0}}class $fe extends Ofe{constructor(e,n){super(e),this._texture=null,this._onTextureDispose=()=>{this.generation=null,this.version=0},this.texture=n,this.version=n?n.version:0,this.generation=null,this.samplerKey="",this.isSampler=!0}set texture(e){this._texture!==e&&(this._texture&&this._texture.removeEventListener("dispose",this._onTextureDispose),this._texture=e,this.generation=null,this.version=0,this._texture&&this._texture.addEventListener("dispose",this._onTextureDispose))}get texture(){return this._texture}update(){const{texture:e,version:n}=this;return n!==e.version?(this.version=e.version,!0):!1}clone(){const e=super.clone();return e._texture=null,e._onTextureDispose=()=>{e.generation=null,e.version=0},e.texture=this.texture,e}}let yot=0;class bot extends $fe{constructor(e,n){super(e,n),this.id=yot++,this.store=!1,this.mipLevel=0,this.isSampledTexture=!0}}class bN extends bot{constructor(e,n,r,i=null){super(e,n?n.value:null),this.textureNode=n,this.groupNode=r,this.access=i}update(){const{textureNode:e}=this;return this.texture!==e.value?(this.texture=e.value,!0):super.update()}}class kfe extends bN{constructor(e,n,r,i=null){super(e,n,r,i),this.isSampledCubeTexture=!0}}class L6 extends bN{constructor(e,n,r,i=null){super(e,n,r,i),this.isSampledTexture3D=!0}}const fY={bitcast_int_uint:new Pa("uint tsl_bitcast_int_to_uint ( int x ) { return floatBitsToUint( intBitsToFloat ( x ) ); }"),bitcast_uint_int:new Pa("uint tsl_bitcast_uint_to_int ( uint x ) { return floatBitsToInt( uintBitsToFloat ( x ) ); }")},xot={textureDimensions:"textureSize",equals:"equal",bitcast_float_int:"floatBitsToInt",bitcast_int_float:"intBitsToFloat",bitcast_uint_float:"uintBitsToFloat",bitcast_float_uint:"floatBitsToUint",bitcast_uint_int:"tsl_bitcast_uint_to_int",bitcast_int_uint:"tsl_bitcast_int_to_uint",floatpack_snorm_2x16:"packSnorm2x16",floatpack_unorm_2x16:"packUnorm2x16",floatpack_float16_2x16:"packHalf2x16",floatunpack_snorm_2x16:"unpackSnorm2x16",floatunpack_unorm_2x16:"unpackUnorm2x16",floatunpack_float16_2x16:"unpackHalf2x16"},_ot={low:"lowp",medium:"mediump",high:"highp"},hY={swizzleAssign:!0,storageBuffer:!1},pY={perspective:"smooth",linear:"noperspective"},mY={centroid:"centroid"},gY=`
precision highp float;
precision highp int;
precision highp sampler2D;
precision highp sampler3D;
precision highp samplerCube;
precision highp sampler2DArray;

precision highp usampler2D;
precision highp usampler3D;
precision highp usamplerCube;
precision highp usampler2DArray;

precision highp isampler2D;
precision highp isampler3D;
precision highp isamplerCube;
precision highp isampler2DArray;

precision lowp sampler2DShadow;
precision lowp sampler2DArrayShadow;
precision lowp samplerCubeShadow;
`;class Sot extends Rfe{constructor(e,n){super(e,n,new Qit),this.uniformGroups={},this.transforms=[],this.extensions={},this.builtins={vertex:[],fragment:[],compute:[]}}needsToWorkingColorSpace(e){return e.isVideoTexture===!0&&e.colorSpace!==_l}_include(e){const n=fY[e];return n.build(this),this.addInclude(n),n}getMethod(e){return fY[e]!==void 0&&this._include(e),xot[e]||e}getBitcastMethod(e,n){return this.getMethod(`bitcast_${n}_${e}`)}getFloatPackingMethod(e){return this.getMethod(`floatpack_${e}_2x16`)}getFloatUnpackingMethod(e){return this.getMethod(`floatunpack_${e}_2x16`)}getTernary(e,n,r){return`${e} ? ${n} : ${r}`}getOutputStructName(){return""}buildFunctionCode(e){const n=e.layout,r=this.flowShaderNode(e),i=[];for(const a of n.inputs)i.push(this.getType(a.type)+" "+a.name);return`${this.getType(n.type)} ${n.name}( ${i.join(", ")} ) {

	${r.vars}

${r.code}
	return ${r.result};

}`}setupPBO(e){const n=e.value;if(n.pbo===void 0){const r=n.array,i=n.count*n.itemSize,{itemSize:o}=n,a=n.array.constructor.name.toLowerCase().includes("int");let s=a?S1:hS;o===2?s=a?w1:Qs:o===3?s=a?yBe:fS:o===4&&(s=a?C1:qo);const l={Float32Array:Ho,Uint8Array:no,Uint16Array:ju,Uint32Array:Ni,Int8Array:z0,Int16Array:V0,Int32Array:Ia,Uint8ClampedArray:no},c=Math.pow(2,Math.ceil(Math.log2(Math.sqrt(i/o))));let u=Math.ceil(i/o/c);c*u*o<i&&u++;const d=c*u*o,f=new r.constructor(d);f.set(r,0),n.array=f;const h=new b7(n.array,c,u,s,l[n.array.constructor.name]||Ho);h.needsUpdate=!0,h.isPBOTexture=!0;const p=new gf(h,null,null);p.setPrecision("high"),n.pboNode=p,n.pbo=p.value,this.getUniformFromNode(n.pboNode,"texture",this.shaderStage,this.context.nodeName)}}getPropertyName(e,n=this.shaderStage){return e.isNodeUniform&&e.node.isTextureNode!==!0&&e.node.isBufferNode!==!0?n.charAt(0)+"_"+e.name:super.getPropertyName(e,n)}generatePBO(e){const{node:n,indexNode:r}=e,i=n.value;if(this.renderer.backend.has(i)){const u=this.renderer.backend.get(i);u.pbo=i.pbo}const o=this.getUniformFromNode(i.pboNode,"texture",this.shaderStage,this.context.nodeName),a=this.getPropertyName(o);this.increaseUsage(r);const s=r.build(this,"uint"),l=this.getDataFromNode(e);let c=l.propertyName;if(c===void 0){const u=this.getVarFromNode(e);c=this.getPropertyName(u);const d=this.getDataFromNode(n);let f=d.propertySizeName;f===void 0&&(f=c+"Size",this.getVarFromNode(n,f,"uint"),this.addLineFlowCode(`${f} = uint( textureSize( ${a}, 0 ).x )`,e),d.propertySizeName=f);const{itemSize:h}=i,p="."+Ng.join("").slice(0,h),_=`ivec2(${s} % ${f}, ${s} / ${f})`,x=this.generateTextureLoad(null,a,_,"0",null,null);let y="vec4";i.pbo.type===Ni?y="uvec4":i.pbo.type===Ia&&(y="ivec4"),this.addLineFlowCode(`${c} = ${y}(${x})${p}`,e),l.propertyName=c}return c}generateTextureLoad(e,n,r,i,o,a){i===null&&(i="0");let s;return o?a?s=`texelFetchOffset( ${n}, ivec3( ${r}, ${o} ), ${i}, ${a} )`:s=`texelFetch( ${n}, ivec3( ${r}, ${o} ), ${i} )`:a?s=`texelFetchOffset( ${n}, ${r}, ${i}, ${a} )`:s=`texelFetch( ${n}, ${r}, ${i} )`,e!==null&&e.isDepthTexture&&(s+=".x"),s}generateTexture(e,n,r,i,o){return i&&(r=`vec3( ${r}, ${i} )`),e.isDepthTexture?o?`textureOffset( ${n}, ${r}, ${o} ).x`:`texture( ${n}, ${r} ).x`:o?`textureOffset( ${n}, ${r}, ${o} )`:`texture( ${n}, ${r} )`}generateTextureLevel(e,n,r,i,o){return o?`textureLodOffset( ${n}, ${r}, ${i}, ${o} )`:`textureLod( ${n}, ${r}, ${i} )`}generateTextureBias(e,n,r,i,o){return o?`textureOffset( ${n}, ${r}, ${o}, ${i} )`:`texture( ${n}, ${r}, ${i} )`}generateTextureGrad(e,n,r,i,o){return o?`textureGradOffset( ${n}, ${r}, ${i[0]}, ${i[1]}, ${o} )`:`textureGrad( ${n}, ${r}, ${i[0]}, ${i[1]} )`}generateTextureCompare(e,n,r,i,o,a,s=this.shaderStage){if(s==="fragment")return e.isCubeTexture?`texture( ${n}, vec4( ${r}, ${i} ) )`:o?a?`textureOffset( ${n}, vec4( ${r}, ${o}, ${i} ), ${a} )`:`texture( ${n}, vec4( ${r}, ${o}, ${i} ) )`:a?`textureOffset( ${n}, vec3( ${r}, ${i} ), ${a} )`:`texture( ${n}, vec3( ${r}, ${i} ) )`;Kt(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${s} shader.`)}getVars(e){const n=[],r=this.vars[e];if(r!==void 0)for(const i of r)n.push(`${this.getVar(i.type,i.name,i.count)};`);return n.join(`
	`)}getUniforms(e){const n=this.uniforms[e],r=[],i={};for(const a of n){let s=null,l=!1;if(a.type==="texture"||a.type==="texture3D"){const u=a.node.value;let d="";(u.isDataTexture===!0||u.isData3DTexture===!0)&&(u.type===Ni?d="u":u.type===Ia&&(d="i")),a.type==="texture3D"&&u.isArrayTexture===!1?s=`${d}sampler3D ${a.name};`:u.compareFunction?u.isArrayTexture===!0?s=`sampler2DArrayShadow ${a.name};`:s=`sampler2DShadow ${a.name};`:u.isArrayTexture===!0||u.isDataArrayTexture===!0||u.isCompressedArrayTexture===!0?s=`${d}sampler2DArray ${a.name};`:s=`${d}sampler2D ${a.name};`}else if(a.type==="cubeTexture")s=`samplerCube ${a.name};`;else if(a.type==="cubeDepthTexture")s=`samplerCubeShadow ${a.name};`;else if(a.type==="buffer"){const u=a.node,d=this.getType(u.bufferType),f=u.bufferCount,h=f>0?f:"";s=`${u.name} {
	${d} ${a.name}[${h}];
};
`}else s=`${this.getVectorType(a.type)} ${this.getPropertyName(a,e)};`,l=!0;const c=a.node.precision;if(c!==null&&(s=_ot[c]+" "+s),l){s="	"+s;const u=a.groupNode.name;(i[u]||(i[u]=[])).push(s)}else s="uniform "+s,r.push(s)}let o="";for(const a in i){const s=i[a];o+=this._getGLSLUniformStruct(e+"_"+a,s.join(`
`))+`
`}return o+=r.join(`
`),o}getTypeFromAttribute(e){let n=super.getTypeFromAttribute(e);if(/^[iu]/.test(n)&&e.gpuType!==Ia){let r=e;e.isInterleavedBufferAttribute&&(r=e.data);const i=r.array;i instanceof Uint32Array||i instanceof Int32Array||(n=n.slice(1))}return n}getAttributes(e){let n="";if(e==="vertex"||e==="compute"){const r=this.getAttributesArray();let i=0;for(const o of r)n+=`layout( location = ${i++} ) in ${o.type} ${o.name};
`}return n}getStructMembers(e){const n=[];for(const r of e.members)n.push(`	${r.type} ${r.name};`);return n.join(`
`)}getStructs(e){const n=[],r=this.structs[e],i=[];for(const o of r)if(o.output)for(const a of o.members)i.push(`layout( location = ${a.index} ) out ${a.type} ${a.name};`);else{let a="struct "+o.name+` {
`;a+=this.getStructMembers(o),a+=`
};
`,n.push(a)}return i.length===0&&i.push("layout( location = 0 ) out vec4 fragColor;"),`
`+i.join(`
`)+`

`+n.join(`
`)}getVaryings(e){let n="";const r=this.varyings;if(e==="vertex"||e==="compute")for(const i of r){e==="compute"&&(i.needsInterpolation=!0);const o=this.getType(i.type);if(i.needsInterpolation)if(i.interpolationType){const a=pY[i.interpolationType]||i.interpolationType,s=mY[i.interpolationSampling]||"";n+=`${a} ${s} out ${o} ${i.name};
`}else{const a=o.includes("int")||o.includes("uv")||o.includes("iv")?"flat ":"";n+=`${a}out ${o} ${i.name};
`}else n+=`${o} ${i.name};
`}else if(e==="fragment"){for(const i of r)if(i.needsInterpolation){const o=this.getType(i.type);if(i.interpolationType){const a=pY[i.interpolationType]||i.interpolationType,s=mY[i.interpolationSampling]||"";n+=`${a} ${s} in ${o} ${i.name};
`}else{const a=o.includes("int")||o.includes("uv")||o.includes("iv")?"flat ":"";n+=`${a}in ${o} ${i.name};
`}}}for(const i of this.builtins[e])n+=`${i};
`;return n}getVertexIndex(){return"uint( gl_VertexID )"}getInstanceIndex(){return"uint( gl_InstanceID )"}getInvocationLocalIndex(){return`uint( gl_InstanceID ) % ${this.object.workgroupSize.reduce((r,i)=>r*i,1)}u`}getSubgroupSize(){Kt("GLSLNodeBuilder: WebGLBackend does not support the subgroupSize node")}getInvocationSubgroupIndex(){Kt("GLSLNodeBuilder: WebGLBackend does not support the invocationSubgroupIndex node")}getSubgroupIndex(){Kt("GLSLNodeBuilder: WebGLBackend does not support the subgroupIndex node")}getDrawIndex(){return this.renderer.backend.extensions.has("WEBGL_multi_draw")?"uint( gl_DrawID )":null}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord.xy"}getFragDepth(){return"gl_FragDepth"}enableExtension(e,n,r=this.shaderStage){const i=this.extensions[r]||(this.extensions[r]=new Map);i.has(e)===!1&&i.set(e,{name:e,behavior:n})}getExtensions(e){const n=[];if(e==="vertex"){const i=this.renderer.backend.extensions;this.object.isBatchedMesh&&i.has("WEBGL_multi_draw")&&this.enableExtension("GL_ANGLE_multi_draw","require",e)}const r=this.extensions[e];if(r!==void 0)for(const{name:i,behavior:o}of r.values())n.push(`#extension ${i} : ${o}`);return n.join(`
`)}getClipDistance(){return"gl_ClipDistance"}isAvailable(e){let n=hY[e];if(n===void 0){let r;switch(n=!1,e){case"float32Filterable":r="OES_texture_float_linear";break;case"clipDistance":r="WEBGL_clip_cull_distance";break}if(r!==void 0){const i=this.renderer.backend.extensions;i.has(r)&&(i.get(r),n=!0)}hY[e]=n}return n}isFlipY(){return!0}enableHardwareClipping(e){this.enableExtension("GL_ANGLE_clip_cull_distance","require"),this.builtins.vertex.push(`out float gl_ClipDistance[ ${e} ]`)}enableMultiview(){this.enableExtension("GL_OVR_multiview2","require","fragment"),this.enableExtension("GL_OVR_multiview2","require","vertex"),this.builtins.vertex.push("layout(num_views = 2) in")}registerTransform(e,n){this.transforms.push({varyingName:e,attributeNode:n})}getTransforms(){const e=this.transforms;let n="";for(let r=0;r<e.length;r++){const i=e[r],o=this.getPropertyName(i.attributeNode);o&&(n+=`${i.varyingName} = ${o};
	`)}return n}_getGLSLUniformStruct(e,n){return`
layout( std140 ) uniform ${e} {
${n}
};`}_getGLSLVertexCode(e){return`#version 300 es

${this.getSignature()}

// extensions
${e.extensions}

// precision
${gY}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// attributes
${e.attributes}

// codes
${e.codes}

void main() {

	// vars
	${e.vars}

	// transforms
	${e.transforms}

	// flow
	${e.flow}

	gl_PointSize = 1.0;

}
`}_getGLSLFragmentCode(e){return`#version 300 es

${this.getSignature()}

// extensions
${e.extensions}

// precision
${gY}

// structs
${e.structs}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// codes
${e.codes}

void main() {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const n in e){let r=`// code

`;r+=this.flowCode[n];const i=this.flowNodes[n],o=i[i.length-1];for(const s of i){const l=this.getFlowData(s),c=s.name;c&&(r.length>0&&(r+=`
`),r+=`	// flow -> ${c}
	`),r+=`${l.code}
	`,s===o&&n!=="compute"&&(r+=`// result
	`,n==="vertex"?(r+="gl_Position = ",r+=`${l.result};`):n==="fragment"&&(s.outputNode.isOutputStructNode||(r+="fragColor = ",r+=`${l.result};`)))}const a=e[n];a.extensions=this.getExtensions(n),a.uniforms=this.getUniforms(n),a.attributes=this.getAttributes(n),a.varyings=this.getVaryings(n),a.vars=this.getVars(n),a.structs=this.getStructs(n),a.codes=this.getCodes(n),a.transforms=this.getTransforms(n),a.flow=r}this.material!==null?(this.vertexShader=this._getGLSLVertexCode(e.vertex),this.fragmentShader=this._getGLSLFragmentCode(e.fragment)):this.computeShader=this._getGLSLVertexCode(e.compute)}getUniformFromNode(e,n,r,i=null){const o=super.getUniformFromNode(e,n,r,i),a=this.getDataFromNode(e,r,this.globalCache);let s=a.uniformGPU;if(s===void 0){const l=e.groupNode,c=l.name,u=this.getBindGroupArray(c,r);if(n==="texture")s=new bN(o.name,o.node,l),u.push(s);else if(n==="cubeTexture"||n==="cubeDepthTexture")s=new kfe(o.name,o.node,l),u.push(s);else if(n==="texture3D")s=new L6(o.name,o.node,l),u.push(s);else if(n==="buffer"){o.name=`buffer${e.id}`;const d=this.getSharedDataFromNode(e);let f=d.buffer;f===void 0&&(e.name=`NodeBuffer_${e.id}`,f=new Bfe(e,l),f.name=e.name,d.buffer=f),u.push(f),s=f}else{const d=this.uniformGroups[r]||(this.uniformGroups[r]={});let f=d[c];f===void 0&&(f=new Ffe(r+"_"+c,l),d[c]=f,u.push(f)),s=this.getNodeUniform(o,n),f.addUniform(s)}a.uniformGPU=s}return o}}let pD=null,FA=null;class Ufe{constructor(e={}){this.parameters=Object.assign({},e),this.data=new WeakMap,this.renderer=null,this.domElement=null,this.timestampQueryPool={[Wd.RENDER]:null,[Wd.COMPUTE]:null},this.trackTimestamp=e.trackTimestamp===!0}async init(e){this.renderer=e}get coordinateSystem(){}beginRender(){}finishRender(){}beginCompute(){}finishCompute(){}draw(){}compute(){}createProgram(){}destroyProgram(){}createBindings(){}updateBindings(){}updateBinding(){}createRenderPipeline(){}createComputePipeline(){}needsRenderUpdate(){}getRenderCacheKey(){}createNodeBuilder(){}updateSampler(){}createDefaultTexture(){}createTexture(){}updateTexture(){}generateMipmaps(){}destroyTexture(){}async copyTextureToBuffer(){}copyTextureToTexture(){}copyFramebufferToTexture(){}createAttribute(){}createIndexAttribute(){}createStorageAttribute(){}updateAttribute(){}destroyAttribute(){}getContext(){}updateSize(){}updateViewport(){}updateTimeStampUID(e){const n=this.get(e),r=this.renderer.info.frame;let i;e.isComputeNode===!0?i="c:"+this.renderer.info.compute.frameCalls:i="r:"+this.renderer.info.render.frameCalls,n.timestampUID=i+":"+e.id+":f"+r}getTimestampUID(e){return this.get(e).timestampUID}getTimestampFrames(e){const n=this.timestampQueryPool[e];return n?n.getTimestampFrames():[]}_getQueryPool(e){const n=e.startsWith("c:")?Wd.COMPUTE:Wd.RENDER;return this.timestampQueryPool[n]}getTimestamp(e){return this._getQueryPool(e).getTimestamp(e)}hasTimestamp(e){return this._getQueryPool(e).hasTimestamp(e)}isOccluded(){}async resolveTimestampsAsync(e="render"){if(!this.trackTimestamp){$i("WebGPURenderer: Timestamp tracking is disabled.");return}const n=this.timestampQueryPool[e];if(!n)return;const r=await n.resolveQueriesAsync();return this.renderer.info[e].timestamp=r,r}async getArrayBufferAsync(){}async hasFeatureAsync(){}hasFeature(){}getMaxAnisotropy(){}getDrawingBufferSize(){return pD=pD||new Wt,this.renderer.getDrawingBufferSize(pD)}setScissorTest(){}getClearColor(){const e=this.renderer;return FA=FA||new l9,e.getClearColor(FA),FA.getRGB(FA),FA}getDomElement(){let e=this.domElement;return e===null&&(e=this.parameters.canvas!==void 0?this.parameters.canvas:cae(),"setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Pg} webgpu`),this.domElement=e),e}set(e,n){this.data.set(e,n)}get(e){let n=this.data.get(e);return n===void 0&&(n={},this.data.set(e,n)),n}has(e){return this.data.has(e)}delete(e){this.data.delete(e)}deleteBindGroupData(){}dispose(){}}let wot=0;class Cot{constructor(e,n){this.buffers=[e.bufferGPU,n],this.type=e.type,this.bufferType=e.bufferType,this.pbo=e.pbo,this.byteLength=e.byteLength,this.bytesPerElement=e.BYTES_PER_ELEMENT,this.version=e.version,this.isInteger=e.isInteger,this.activeBufferIndex=0,this.baseId=e.id}get id(){return`${this.baseId}|${this.activeBufferIndex}`}get bufferGPU(){return this.buffers[this.activeBufferIndex]}get transformBuffer(){return this.buffers[this.activeBufferIndex^1]}switchBuffers(){this.activeBufferIndex^=1}}class Tot{constructor(e){this.backend=e}createAttribute(e,n){const r=this.backend,{gl:i}=r,o=e.array,a=e.usage||i.STATIC_DRAW,s=e.isInterleavedBufferAttribute?e.data:e,l=r.get(s);let c=l.bufferGPU;c===void 0&&(c=this._createBuffer(i,n,o,a),l.bufferGPU=c,l.bufferType=n,l.version=s.version);let u;if(o instanceof Float32Array)u=i.FLOAT;else if(typeof Float16Array<"u"&&o instanceof Float16Array)u=i.HALF_FLOAT;else if(o instanceof Uint16Array)e.isFloat16BufferAttribute?u=i.HALF_FLOAT:u=i.UNSIGNED_SHORT;else if(o instanceof Int16Array)u=i.SHORT;else if(o instanceof Uint32Array)u=i.UNSIGNED_INT;else if(o instanceof Int32Array)u=i.INT;else if(o instanceof Int8Array)u=i.BYTE;else if(o instanceof Uint8Array)u=i.UNSIGNED_BYTE;else if(o instanceof Uint8ClampedArray)u=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+o);let d={bufferGPU:c,bufferType:n,type:u,byteLength:o.byteLength,bytesPerElement:o.BYTES_PER_ELEMENT,version:e.version,pbo:e.pbo,isInteger:u===i.INT||u===i.UNSIGNED_INT||e.gpuType===Ia,id:wot++};if(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute){const f=this._createBuffer(i,n,o,a);d=new Cot(d,f)}r.set(e,d)}updateAttribute(e){const n=this.backend,{gl:r}=n,i=e.array,o=e.isInterleavedBufferAttribute?e.data:e,a=n.get(o),s=a.bufferType,l=e.isInterleavedBufferAttribute?e.data.updateRanges:e.updateRanges;if(r.bindBuffer(s,a.bufferGPU),l.length===0)r.bufferSubData(s,0,i);else{for(let c=0,u=l.length;c<u;c++){const d=l[c];r.bufferSubData(s,d.start*i.BYTES_PER_ELEMENT,i,d.start,d.count)}o.clearUpdateRanges()}r.bindBuffer(s,null),a.version=o.version}destroyAttribute(e){const n=this.backend,{gl:r}=n;e.isInterleavedBufferAttribute&&n.delete(e.data);const i=n.get(e);r.deleteBuffer(i.bufferGPU),n.delete(e)}async getArrayBufferAsync(e){const n=this.backend,{gl:r}=n,i=e.isInterleavedBufferAttribute?e.data:e,{bufferGPU:o}=n.get(i),a=e.array,s=a.byteLength;r.bindBuffer(r.COPY_READ_BUFFER,o);const l=r.createBuffer();r.bindBuffer(r.COPY_WRITE_BUFFER,l),r.bufferData(r.COPY_WRITE_BUFFER,s,r.STREAM_READ),r.copyBufferSubData(r.COPY_READ_BUFFER,r.COPY_WRITE_BUFFER,0,0,s),await n.utils._clientWaitAsync();const c=new e.array.constructor(a.length);return r.bindBuffer(r.COPY_WRITE_BUFFER,l),r.getBufferSubData(r.COPY_WRITE_BUFFER,0,c),r.deleteBuffer(l),r.bindBuffer(r.COPY_READ_BUFFER,null),r.bindBuffer(r.COPY_WRITE_BUFFER,null),c.buffer}_createBuffer(e,n,r,i){const o=e.createBuffer();return e.bindBuffer(n,o),e.bufferData(n,r,i),e.bindBuffer(n,null),o}}let mD,Qb;class Eot{constructor(e){this.backend=e,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=!1,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentColorMask=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,this.currentLineWidth=null,this.currentClippingPlanes=0,this.currentVAO=null,this.currentIndex=null,this.currentBoundFramebuffers={},this.currentDrawbuffers=new WeakMap,this.maxTextures=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),this.currentTextureSlot=null,this.currentBoundTextures={},this.currentBoundBufferBases={},this._init()}_init(){const e=this.gl;mD={[_s]:e.FUNC_ADD,[z$]:e.FUNC_SUBTRACT,[V$]:e.FUNC_REVERSE_SUBTRACT},Qb={[$f]:e.ZERO,[G$]:e.ONE,[H$]:e.SRC_COLOR,[W_]:e.SRC_ALPHA,[K$]:e.SRC_ALPHA_SATURATE,[X$]:e.DST_COLOR,[q$]:e.DST_ALPHA,[j$]:e.ONE_MINUS_SRC_COLOR,[X_]:e.ONE_MINUS_SRC_ALPHA,[Y$]:e.ONE_MINUS_DST_COLOR,[W$]:e.ONE_MINUS_DST_ALPHA};const n=e.getParameter(e.SCISSOR_BOX),r=e.getParameter(e.VIEWPORT);this.currentScissor=new yr().fromArray(n),this.currentViewport=new yr().fromArray(r),this._tempVec4=new yr}enable(e){const{enabled:n}=this;n[e]!==!0&&(this.gl.enable(e),n[e]=!0)}disable(e){const{enabled:n}=this;n[e]!==!1&&(this.gl.disable(e),n[e]=!1)}setFlipSided(e){if(this.currentFlipSided!==e){const{gl:n}=this;e?n.frontFace(n.CW):n.frontFace(n.CCW),this.currentFlipSided=e}}setCullFace(e){const{gl:n}=this;e!==eae?(this.enable(n.CULL_FACE),e!==this.currentCullFace&&(e===v8?n.cullFace(n.BACK):e===tae?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):this.disable(n.CULL_FACE),this.currentCullFace=e}setLineWidth(e){const{currentLineWidth:n,gl:r}=this;e!==n&&(r.lineWidth(e),this.currentLineWidth=e)}setMRTBlending(e){const n=this.gl,r=this.backend.drawBuffersIndexedExt;if(r)for(let i=1;i<e.length;i++)r.blendFuncSeparateiOES(i,n.ONE,n.ZERO,n.ONE,n.ZERO)}setBlending(e,n,r,i,o,a,s,l){const{gl:c}=this;if(e===nl){this.currentBlendingEnabled===!0&&(this.disable(c.BLEND),this.currentBlendingEnabled=!1);return}if(this.currentBlendingEnabled===!1&&(this.enable(c.BLEND),this.currentBlendingEnabled=!0),e!==Rv){if(e!==this.currentBlending||l!==this.currentPremultipledAlpha){if((this.currentBlendEquation!==_s||this.currentBlendEquationAlpha!==_s)&&(c.blendEquation(c.FUNC_ADD),this.currentBlendEquation=_s,this.currentBlendEquationAlpha=_s),l)switch(e){case rl:c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case iy:c.blendFunc(c.ONE,c.ONE);break;case oy:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case ay:c.blendFuncSeparate(c.DST_COLOR,c.ONE_MINUS_SRC_ALPHA,c.ZERO,c.ONE);break;default:Kt("WebGLState: Invalid blending: ",e);break}else switch(e){case rl:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case iy:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE,c.ONE,c.ONE);break;case oy:Kt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case ay:Kt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Kt("WebGLState: Invalid blending: ",e);break}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=e,this.currentPremultipledAlpha=l}return}o=o||n,a=a||r,s=s||i,(n!==this.currentBlendEquation||o!==this.currentBlendEquationAlpha)&&(c.blendEquationSeparate(mD[n],mD[o]),this.currentBlendEquation=n,this.currentBlendEquationAlpha=o),(r!==this.currentBlendSrc||i!==this.currentBlendDst||a!==this.currentBlendSrcAlpha||s!==this.currentBlendDstAlpha)&&(c.blendFuncSeparate(Qb[r],Qb[i],Qb[a],Qb[s]),this.currentBlendSrc=r,this.currentBlendDst=i,this.currentBlendSrcAlpha=a,this.currentBlendDstAlpha=s),this.currentBlending=e,this.currentPremultipledAlpha=!1}setColorMask(e){this.currentColorMask!==e&&(this.gl.colorMask(e,e,e,e),this.currentColorMask=e)}setDepthTest(e){const{gl:n}=this;e?this.enable(n.DEPTH_TEST):this.disable(n.DEPTH_TEST)}setDepthMask(e){this.currentDepthMask!==e&&(this.gl.depthMask(e),this.currentDepthMask=e)}setDepthFunc(e){if(this.currentDepthFunc!==e){const{gl:n}=this;switch(e){case Y_:n.depthFunc(n.NEVER);break;case K_:n.depthFunc(n.ALWAYS);break;case Q_:n.depthFunc(n.LESS);break;case rm:n.depthFunc(n.LEQUAL);break;case Z_:n.depthFunc(n.EQUAL);break;case J_:n.depthFunc(n.GEQUAL);break;case e2:n.depthFunc(n.GREATER);break;case t2:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}this.currentDepthFunc=e}}scissor(e,n,r,i){const o=this._tempVec4.set(e,n,r,i);if(this.currentScissor.equals(o)===!1){const{gl:a}=this;a.scissor(o.x,o.y,o.z,o.w),this.currentScissor.copy(o)}}viewport(e,n,r,i){const o=this._tempVec4.set(e,n,r,i);if(this.currentViewport.equals(o)===!1){const{gl:a}=this;a.viewport(o.x,o.y,o.z,o.w),this.currentViewport.copy(o)}}setScissorTest(e){const n=this.gl;e?this.enable(n.SCISSOR_TEST):this.disable(n.SCISSOR_TEST)}setStencilTest(e){const{gl:n}=this;e?this.enable(n.STENCIL_TEST):this.disable(n.STENCIL_TEST)}setStencilMask(e){this.currentStencilMask!==e&&(this.gl.stencilMask(e),this.currentStencilMask=e)}setStencilFunc(e,n,r){(this.currentStencilFunc!==e||this.currentStencilRef!==n||this.currentStencilFuncMask!==r)&&(this.gl.stencilFunc(e,n,r),this.currentStencilFunc=e,this.currentStencilRef=n,this.currentStencilFuncMask=r)}setStencilOp(e,n,r){(this.currentStencilFail!==e||this.currentStencilZFail!==n||this.currentStencilZPass!==r)&&(this.gl.stencilOp(e,n,r),this.currentStencilFail=e,this.currentStencilZFail=n,this.currentStencilZPass=r)}setMaterial(e,n,r){const{gl:i}=this;e.side===Ko?this.disable(i.CULL_FACE):this.enable(i.CULL_FACE);let o=e.side===Oi;n&&(o=!o),this.setFlipSided(o),e.blending===rl&&e.transparent===!1?this.setBlending(nl):this.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),this.setDepthFunc(e.depthFunc),this.setDepthTest(e.depthTest),this.setDepthMask(e.depthWrite),this.setColorMask(e.colorWrite);const a=e.stencilWrite;if(this.setStencilTest(a),a&&(this.setStencilMask(e.stencilWriteMask),this.setStencilFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),this.setStencilOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),this.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),e.alphaToCoverage===!0&&this.backend.renderer.currentSamples>0?this.enable(i.SAMPLE_ALPHA_TO_COVERAGE):this.disable(i.SAMPLE_ALPHA_TO_COVERAGE),r>0&&this.currentClippingPlanes!==r)for(let l=0;l<8;l++)l<r?this.enable(12288+l):this.disable(12288+l)}setPolygonOffset(e,n,r){const{gl:i}=this;e?(this.enable(i.POLYGON_OFFSET_FILL),(this.currentPolygonOffsetFactor!==n||this.currentPolygonOffsetUnits!==r)&&(i.polygonOffset(n,r),this.currentPolygonOffsetFactor=n,this.currentPolygonOffsetUnits=r)):this.disable(i.POLYGON_OFFSET_FILL)}useProgram(e){return this.currentProgram!==e?(this.gl.useProgram(e),this.currentProgram=e,!0):!1}setVertexState(e,n=null){const r=this.gl;return this.currentVAO!==e||this.currentIndex!==n?(r.bindVertexArray(e),n!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,n),this.currentVAO=e,this.currentIndex=n,!0):!1}resetVertexState(){const e=this.gl;e.bindVertexArray(null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),this.currentVAO=null,this.currentIndex=null}bindFramebuffer(e,n){const{gl:r,currentBoundFramebuffers:i}=this;return i[e]!==n?(r.bindFramebuffer(e,n),i[e]=n,e===r.DRAW_FRAMEBUFFER&&(i[r.FRAMEBUFFER]=n),e===r.FRAMEBUFFER&&(i[r.DRAW_FRAMEBUFFER]=n),!0):!1}drawBuffers(e,n){const{gl:r}=this;let i=[],o=!1;if(e.textures!==null){i=this.currentDrawbuffers.get(n),i===void 0&&(i=[],this.currentDrawbuffers.set(n,i));const a=e.textures;if(i.length!==a.length||i[0]!==r.COLOR_ATTACHMENT0){for(let s=0,l=a.length;s<l;s++)i[s]=r.COLOR_ATTACHMENT0+s;i.length=a.length,o=!0}}else i[0]!==r.BACK&&(i[0]=r.BACK,o=!0);o&&r.drawBuffers(i)}activeTexture(e){const{gl:n,currentTextureSlot:r,maxTextures:i}=this;e===void 0&&(e=n.TEXTURE0+i-1),r!==e&&(n.activeTexture(e),this.currentTextureSlot=e)}bindTexture(e,n,r){const{gl:i,currentTextureSlot:o,currentBoundTextures:a,maxTextures:s}=this;r===void 0&&(o===null?r=i.TEXTURE0+s-1:r=o);let l=a[r];l===void 0&&(l={type:void 0,texture:void 0},a[r]=l),(l.type!==e||l.texture!==n)&&(o!==r&&(i.activeTexture(r),this.currentTextureSlot=r),i.bindTexture(e,n),l.type=e,l.texture=n)}bindBufferBase(e,n,r){const{gl:i}=this,o=`${e}-${n}`;return this.currentBoundBufferBases[o]!==r?(i.bindBufferBase(e,n,r),this.currentBoundBufferBases[o]=r,!0):!1}unbindTexture(){const{gl:e,currentTextureSlot:n,currentBoundTextures:r}=this,i=r[n];i!==void 0&&i.type!==void 0&&(e.bindTexture(i.type,null),i.type=void 0,i.texture=void 0)}}class Mot{constructor(e){this.backend=e,this.gl=this.backend.gl,this.extensions=e.extensions}convert(e,n=_l){const{gl:r,extensions:i}=this;let o;const a=fr.getTransfer(n);if(e===no)return r.UNSIGNED_BYTE;if(e===TR)return r.UNSIGNED_SHORT_4_4_4_4;if(e===ER)return r.UNSIGNED_SHORT_5_5_5_1;if(e===MR)return r.UNSIGNED_INT_5_9_9_9_REV;if(e===PR)return r.UNSIGNED_INT_10F_11F_11F_REV;if(e===z0)return r.BYTE;if(e===V0)return r.SHORT;if(e===ju)return r.UNSIGNED_SHORT;if(e===Ia)return r.INT;if(e===Ni)return r.UNSIGNED_INT;if(e===Ho)return r.FLOAT;if(e===io)return r.HALF_FLOAT;if(e===o7)return r.ALPHA;if(e===fS)return r.RGB;if(e===qo)return r.RGBA;if(e===os)return r.DEPTH_COMPONENT;if(e===Ks)return r.DEPTH_STENCIL;if(e===hS)return r.RED;if(e===S1)return r.RED_INTEGER;if(e===Qs)return r.RG;if(e===w1)return r.RG_INTEGER;if(e===C1)return r.RGBA_INTEGER;if(e===Gp||e===Hp||e===jp||e===qp)if(a===In)if(o=i.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(e===Gp)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===Hp)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===jp)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===qp)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=i.get("WEBGL_compressed_texture_s3tc"),o!==null){if(e===Gp)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Hp)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===jp)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===qp)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(e===n2||e===r2||e===i2||e===o2)if(o=i.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(e===n2)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===r2)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===i2)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===o2)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(e===cy||e===uy||e===dy||e===fy||e===hy||e===cg||e===py)if(o=i.get("WEBGL_compressed_texture_etc"),o!==null){if(e===cy||e===uy)return a===In?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(e===dy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC;if(e===fy)return o.COMPRESSED_R11_EAC;if(e===hy)return o.COMPRESSED_SIGNED_R11_EAC;if(e===cg)return o.COMPRESSED_RG11_EAC;if(e===py)return o.COMPRESSED_SIGNED_RG11_EAC}else return null;if(e===my||e===gy||e===Ay||e===vy||e===yy||e===by||e===xy||e===_y||e===Sy||e===wy||e===Cy||e===Ty||e===Ey||e===My)if(o=i.get("WEBGL_compressed_texture_astc"),o!==null){if(e===my)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===gy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===Ay)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===vy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===yy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===by)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===xy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===_y)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===Sy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===wy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===Cy)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===Ty)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===Ey)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===My)return a===In?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(e===Py)if(o=i.get("EXT_texture_compression_bptc"),o!==null){if(e===Py)return a===In?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(e===Ry||e===Ny||e===ug||e===Iy)if(o=i.get("EXT_texture_compression_rgtc"),o!==null){if(e===Ry)return o.COMPRESSED_RED_RGTC1_EXT;if(e===Ny)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(e===ug)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(e===Iy)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return e===uc?r.UNSIGNED_INT_24_8:r[e]!==void 0?r[e]:null}_clientWaitAsync(){const{gl:e}=this,n=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),new Promise((r,i)=>{function o(){const a=e.clientWaitSync(n,e.SYNC_FLUSH_COMMANDS_BIT,0);if(a===e.WAIT_FAILED){e.deleteSync(n),i();return}if(a===e.TIMEOUT_EXPIRED){requestAnimationFrame(o);return}e.deleteSync(n),r()}o()})}}let AY=!1,ST,gD,vY;class Pot{constructor(e){this.backend=e,this.gl=e.gl,this.extensions=e.extensions,this.defaultTextures={},this._srcFramebuffer=null,this._dstFramebuffer=null,AY===!1&&(this._init(),AY=!0)}_init(){const e=this.gl;ST={[sg]:e.REPEAT,[wl]:e.CLAMP_TO_EDGE,[lg]:e.MIRRORED_REPEAT},gD={[Ii]:e.NEAREST,[i7]:e.NEAREST_MIPMAP_NEAREST,[Xf]:e.NEAREST_MIPMAP_LINEAR,[Ji]:e.LINEAR,[Nv]:e.LINEAR_MIPMAP_NEAREST,[Cl]:e.LINEAR_MIPMAP_LINEAR},vY={[a7]:e.NEVER,[u7]:e.ALWAYS,[pS]:e.LESS,[mS]:e.LEQUAL,[s7]:e.EQUAL,[gS]:e.GEQUAL,[l7]:e.GREATER,[c7]:e.NOTEQUAL}}getGLTextureType(e){const{gl:n}=this;let r;return e.isCubeTexture===!0?r=n.TEXTURE_CUBE_MAP:e.isArrayTexture===!0||e.isDataArrayTexture===!0||e.isCompressedArrayTexture===!0?r=n.TEXTURE_2D_ARRAY:e.isData3DTexture===!0?r=n.TEXTURE_3D:r=n.TEXTURE_2D,r}getInternalFormat(e,n,r,i,o=!1){const{gl:a,extensions:s}=this;if(e!==null){if(a[e]!==void 0)return a[e];Vt("WebGLBackend: Attempt to use non-existing WebGL internal format '"+e+"'")}let l=n;if(n===a.RED&&(r===a.FLOAT&&(l=a.R32F),r===a.HALF_FLOAT&&(l=a.R16F),r===a.UNSIGNED_BYTE&&(l=a.R8),r===a.UNSIGNED_SHORT&&(l=a.R16),r===a.UNSIGNED_INT&&(l=a.R32UI),r===a.BYTE&&(l=a.R8I),r===a.SHORT&&(l=a.R16I),r===a.INT&&(l=a.R32I)),n===a.RED_INTEGER&&(r===a.UNSIGNED_BYTE&&(l=a.R8UI),r===a.UNSIGNED_SHORT&&(l=a.R16UI),r===a.UNSIGNED_INT&&(l=a.R32UI),r===a.BYTE&&(l=a.R8I),r===a.SHORT&&(l=a.R16I),r===a.INT&&(l=a.R32I)),n===a.RG&&(r===a.FLOAT&&(l=a.RG32F),r===a.HALF_FLOAT&&(l=a.RG16F),r===a.UNSIGNED_BYTE&&(l=a.RG8),r===a.UNSIGNED_SHORT&&(l=a.RG16),r===a.UNSIGNED_INT&&(l=a.RG32UI),r===a.BYTE&&(l=a.RG8I),r===a.SHORT&&(l=a.RG16I),r===a.INT&&(l=a.RG32I)),n===a.RG_INTEGER&&(r===a.UNSIGNED_BYTE&&(l=a.RG8UI),r===a.UNSIGNED_SHORT&&(l=a.RG16UI),r===a.UNSIGNED_INT&&(l=a.RG32UI),r===a.BYTE&&(l=a.RG8I),r===a.SHORT&&(l=a.RG16I),r===a.INT&&(l=a.RG32I)),n===a.RGB){const c=o?Oy:fr.getTransfer(i);r===a.FLOAT&&(l=a.RGB32F),r===a.HALF_FLOAT&&(l=a.RGB16F),r===a.UNSIGNED_BYTE&&(l=a.RGB8),r===a.UNSIGNED_SHORT&&(l=a.RGB16),r===a.UNSIGNED_INT&&(l=a.RGB32UI),r===a.BYTE&&(l=a.RGB8I),r===a.SHORT&&(l=a.RGB16I),r===a.INT&&(l=a.RGB32I),r===a.UNSIGNED_BYTE&&(l=c===In?a.SRGB8:a.RGB8),r===a.UNSIGNED_SHORT_5_6_5&&(l=a.RGB565),r===a.UNSIGNED_SHORT_5_5_5_1&&(l=a.RGB5_A1),r===a.UNSIGNED_SHORT_4_4_4_4&&(l=a.RGB4),r===a.UNSIGNED_INT_5_9_9_9_REV&&(l=a.RGB9_E5),r===a.UNSIGNED_INT_10F_11F_11F_REV&&(l=a.R11F_G11F_B10F)}if(n===a.RGB_INTEGER&&(r===a.UNSIGNED_BYTE&&(l=a.RGB8UI),r===a.UNSIGNED_SHORT&&(l=a.RGB16UI),r===a.UNSIGNED_INT&&(l=a.RGB32UI),r===a.BYTE&&(l=a.RGB8I),r===a.SHORT&&(l=a.RGB16I),r===a.INT&&(l=a.RGB32I)),n===a.RGBA){const c=o?Oy:fr.getTransfer(i);r===a.FLOAT&&(l=a.RGBA32F),r===a.HALF_FLOAT&&(l=a.RGBA16F),r===a.UNSIGNED_BYTE&&(l=a.RGBA8),r===a.UNSIGNED_SHORT&&(l=a.RGBA16),r===a.UNSIGNED_INT&&(l=a.RGBA32UI),r===a.BYTE&&(l=a.RGBA8I),r===a.SHORT&&(l=a.RGBA16I),r===a.INT&&(l=a.RGBA32I),r===a.UNSIGNED_BYTE&&(l=c===In?a.SRGB8_ALPHA8:a.RGBA8),r===a.UNSIGNED_SHORT_4_4_4_4&&(l=a.RGBA4),r===a.UNSIGNED_SHORT_5_5_5_1&&(l=a.RGB5_A1)}return n===a.RGBA_INTEGER&&(r===a.UNSIGNED_BYTE&&(l=a.RGBA8UI),r===a.UNSIGNED_SHORT&&(l=a.RGBA16UI),r===a.UNSIGNED_INT&&(l=a.RGBA32UI),r===a.BYTE&&(l=a.RGBA8I),r===a.SHORT&&(l=a.RGBA16I),r===a.INT&&(l=a.RGBA32I)),n===a.DEPTH_COMPONENT&&(r===a.UNSIGNED_SHORT&&(l=a.DEPTH_COMPONENT16),r===a.UNSIGNED_INT&&(l=a.DEPTH_COMPONENT24),r===a.FLOAT&&(l=a.DEPTH_COMPONENT32F)),n===a.DEPTH_STENCIL&&r===a.UNSIGNED_INT_24_8&&(l=a.DEPTH24_STENCIL8),(l===a.R16F||l===a.R32F||l===a.RG16F||l===a.RG32F||l===a.RGBA16F||l===a.RGBA32F)&&s.get("EXT_color_buffer_float"),l}setTextureParameters(e,n){const{gl:r,extensions:i,backend:o}=this,a=fr.getPrimaries(fr.workingColorSpace),s=n.colorSpace===_l?null:fr.getPrimaries(n.colorSpace),l=n.colorSpace===_l||a===s?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,n.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,n.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,l),r.texParameteri(e,r.TEXTURE_WRAP_S,ST[n.wrapS]),r.texParameteri(e,r.TEXTURE_WRAP_T,ST[n.wrapT]),(e===r.TEXTURE_3D||e===r.TEXTURE_2D_ARRAY)&&(n.isArrayTexture||r.texParameteri(e,r.TEXTURE_WRAP_R,ST[n.wrapR])),r.texParameteri(e,r.TEXTURE_MAG_FILTER,gD[n.magFilter]);const c=n.mipmaps!==void 0&&n.mipmaps.length>0,u=n.minFilter===Ji&&c?Cl:n.minFilter;if(r.texParameteri(e,r.TEXTURE_MIN_FILTER,gD[u]),n.compareFunction&&(r.texParameteri(e,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(e,r.TEXTURE_COMPARE_FUNC,vY[n.compareFunction])),i.has("EXT_texture_filter_anisotropic")===!0){if(n.magFilter===Ii||n.minFilter!==Xf&&n.minFilter!==Cl||n.type===Ho&&i.has("OES_texture_float_linear")===!1)return;if(n.anisotropy>1){const d=i.get("EXT_texture_filter_anisotropic");r.texParameterf(e,d.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(n.anisotropy,o.getMaxAnisotropy()))}}}createDefaultTexture(e){const{gl:n,backend:r,defaultTextures:i}=this,o=this.getGLTextureType(e);let a=i[o];a===void 0&&(a=n.createTexture(),r.state.bindTexture(o,a),n.texParameteri(o,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(o,n.TEXTURE_MAG_FILTER,n.NEAREST),i[o]=a),r.set(e,{textureGPU:a,glTextureType:o})}createTexture(e,n){const{gl:r,backend:i}=this,{levels:o,width:a,height:s,depth:l}=n,c=i.utils.convert(e.format,e.colorSpace),u=i.utils.convert(e.type),d=this.getInternalFormat(e.internalFormat,c,u,e.colorSpace,e.isVideoTexture),f=r.createTexture(),h=this.getGLTextureType(e);i.state.bindTexture(h,f),this.setTextureParameters(h,e),e.isArrayTexture||e.isDataArrayTexture||e.isCompressedArrayTexture?r.texStorage3D(r.TEXTURE_2D_ARRAY,o,d,a,s,l):e.isData3DTexture?r.texStorage3D(r.TEXTURE_3D,o,d,a,s,l):e.isVideoTexture||r.texStorage2D(h,o,d,a,s),i.set(e,{textureGPU:f,glTextureType:h,glFormat:c,glType:u,glInternalFormat:d})}copyBufferToTexture(e,n){const{gl:r,backend:i}=this,{textureGPU:o,glTextureType:a,glFormat:s,glType:l}=i.get(n),{width:c,height:u}=n.source.data;r.bindBuffer(r.PIXEL_UNPACK_BUFFER,e),i.state.bindTexture(a,o),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.texSubImage2D(a,0,0,0,c,u,s,l,0),r.bindBuffer(r.PIXEL_UNPACK_BUFFER,null),i.state.unbindTexture()}updateTexture(e,n){const{gl:r}=this,{width:i,height:o}=n,{textureGPU:a,glTextureType:s,glFormat:l,glType:c,glInternalFormat:u}=this.backend.get(e);if(!(e.isRenderTargetTexture||a===void 0))if(this.backend.state.bindTexture(s,a),this.setTextureParameters(s,e),e.isCompressedTexture){const d=e.mipmaps,f=n.image;for(let h=0;h<d.length;h++){const p=d[h];e.isCompressedArrayTexture?e.format!==r.RGBA?l!==null?r.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,h,0,0,0,p.width,p.height,f.depth,l,p.data):Vt("WebGLBackend: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texSubImage3D(r.TEXTURE_2D_ARRAY,h,0,0,0,p.width,p.height,f.depth,l,c,p.data):l!==null?r.compressedTexSubImage2D(r.TEXTURE_2D,h,0,0,p.width,p.height,l,p.data):Vt("WebGLBackend: Unsupported compressed texture format")}}else if(e.isCubeTexture){const d=n.images,f=e.mipmaps;for(let h=0;h<6;h++){const p=wT(d[h]);r.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,0,0,i,o,l,c,p);for(let _=0;_<f.length;_++){const x=f[_],y=wT(x.images[h]);r.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+h,_+1,0,0,y.width,y.height,l,c,y)}}}else if(e.isDataArrayTexture||e.isArrayTexture){const d=n.image;if(e.layerUpdates.size>0){const f=E8(d.width,d.height,e.format,e.type);for(const h of e.layerUpdates){const p=d.data.subarray(h*f/d.data.BYTES_PER_ELEMENT,(h+1)*f/d.data.BYTES_PER_ELEMENT);r.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,h,d.width,d.height,1,l,c,p)}e.clearLayerUpdates()}else r.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,d.width,d.height,d.depth,l,c,d.data)}else if(e.isData3DTexture){const d=n.image;r.texSubImage3D(r.TEXTURE_3D,0,0,0,0,d.width,d.height,d.depth,l,c,d.data)}else if(e.isVideoTexture)e.update(),r.texImage2D(s,0,u,l,c,n.image);else{const d=e.mipmaps;if(d.length>0)for(let f=0,h=d.length;f<h;f++){const p=d[f],_=wT(p);r.texSubImage2D(s,f,0,0,p.width,p.height,l,c,_)}else{const f=wT(n.image);r.texSubImage2D(s,0,0,0,i,o,l,c,f)}}}generateMipmaps(e){const{gl:n,backend:r}=this,{textureGPU:i,glTextureType:o}=r.get(e);r.state.bindTexture(o,i),n.generateMipmap(o)}deallocateRenderBuffers(e){const{gl:n,backend:r}=this;if(e){const i=r.get(e);if(i.renderBufferStorageSetup=void 0,i.framebuffers){for(const o in i.framebuffers)n.deleteFramebuffer(i.framebuffers[o]);delete i.framebuffers}if(i.depthRenderbuffer&&(n.deleteRenderbuffer(i.depthRenderbuffer),delete i.depthRenderbuffer),i.stencilRenderbuffer&&(n.deleteRenderbuffer(i.stencilRenderbuffer),delete i.stencilRenderbuffer),i.msaaFrameBuffer&&(n.deleteFramebuffer(i.msaaFrameBuffer),delete i.msaaFrameBuffer),i.msaaRenderbuffers){for(let o=0;o<i.msaaRenderbuffers.length;o++)n.deleteRenderbuffer(i.msaaRenderbuffers[o]);delete i.msaaRenderbuffers}}}destroyTexture(e,n=!1){const{gl:r,backend:i}=this,{textureGPU:o,renderTarget:a}=i.get(e);this.deallocateRenderBuffers(a),n===!1&&r.deleteTexture(o),i.delete(e)}copyTextureToTexture(e,n,r=null,i=null,o=0,a=0){const{gl:s,backend:l}=this,{state:c}=this.backend,{textureGPU:u,glTextureType:d,glType:f,glFormat:h}=l.get(n);c.bindTexture(d,u);let p,_,x,y,w,C,M,R,N;const I=e.isCompressedTexture?e.mipmaps[a]:e.image;if(r!==null)p=r.max.x-r.min.x,_=r.max.y-r.min.y,x=r.isBox3?r.max.z-r.min.z:1,y=r.min.x,w=r.min.y,C=r.isBox3?r.min.z:0;else{const j=Math.pow(2,-o);p=Math.floor(I.width*j),_=Math.floor(I.height*j),e.isDataArrayTexture||e.isArrayTexture?x=I.depth:e.isData3DTexture?x=Math.floor(I.depth*j):x=1,y=0,w=0,C=0}i!==null?(M=i.x,R=i.y,N=i.z):(M=0,R=0,N=0),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,n.flipY),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),s.pixelStorei(s.UNPACK_ALIGNMENT,n.unpackAlignment);const B=s.getParameter(s.UNPACK_ROW_LENGTH),D=s.getParameter(s.UNPACK_IMAGE_HEIGHT),$=s.getParameter(s.UNPACK_SKIP_PIXELS),z=s.getParameter(s.UNPACK_SKIP_ROWS),V=s.getParameter(s.UNPACK_SKIP_IMAGES);s.pixelStorei(s.UNPACK_ROW_LENGTH,I.width),s.pixelStorei(s.UNPACK_IMAGE_HEIGHT,I.height),s.pixelStorei(s.UNPACK_SKIP_PIXELS,y),s.pixelStorei(s.UNPACK_SKIP_ROWS,w),s.pixelStorei(s.UNPACK_SKIP_IMAGES,C);const q=e.isDataArrayTexture||e.isData3DTexture||n.isArrayTexture,G=n.isDataArrayTexture||n.isData3DTexture||n.isArrayTexture;if(e.isDepthTexture){const j=l.get(e),H=l.get(n),X=l.get(j.renderTarget),Y=l.get(H.renderTarget),ee=X.framebuffers[j.cacheKey],Z=Y.framebuffers[H.cacheKey];c.bindFramebuffer(s.READ_FRAMEBUFFER,ee),c.bindFramebuffer(s.DRAW_FRAMEBUFFER,Z);for(let re=0;re<x;re++)q&&(s.framebufferTextureLayer(s.READ_FRAMEBUFFER,s.COLOR_ATTACHMENT0,j.textureGPU,o,C+re),s.framebufferTextureLayer(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0,u,a,N+re)),s.blitFramebuffer(y,w,p,_,M,R,p,_,s.DEPTH_BUFFER_BIT,s.NEAREST);c.bindFramebuffer(s.READ_FRAMEBUFFER,null),c.bindFramebuffer(s.DRAW_FRAMEBUFFER,null)}else if(o!==0||e.isRenderTargetTexture||l.has(e)){const j=l.get(e);this._srcFramebuffer===null&&(this._srcFramebuffer=s.createFramebuffer()),this._dstFramebuffer===null&&(this._dstFramebuffer=s.createFramebuffer()),c.bindFramebuffer(s.READ_FRAMEBUFFER,this._srcFramebuffer),c.bindFramebuffer(s.DRAW_FRAMEBUFFER,this._dstFramebuffer);for(let H=0;H<x;H++)q?s.framebufferTextureLayer(s.READ_FRAMEBUFFER,s.COLOR_ATTACHMENT0,j.textureGPU,o,C+H):s.framebufferTexture2D(s.READ_FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,j.textureGPU,o),G?s.framebufferTextureLayer(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0,u,a,N+H):s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,u,a),o!==0?s.blitFramebuffer(y,w,p,_,M,R,p,_,s.COLOR_BUFFER_BIT,s.NEAREST):G?s.copyTexSubImage3D(d,a,M,R,N+H,y,w,p,_):s.copyTexSubImage2D(d,a,M,R,y,w,p,_);c.bindFramebuffer(s.READ_FRAMEBUFFER,null),c.bindFramebuffer(s.DRAW_FRAMEBUFFER,null)}else G?e.isDataTexture||e.isData3DTexture?s.texSubImage3D(d,a,M,R,N,p,_,x,h,f,I.data):n.isCompressedArrayTexture?s.compressedTexSubImage3D(d,a,M,R,N,p,_,x,h,I.data):s.texSubImage3D(d,a,M,R,N,p,_,x,h,f,I):e.isDataTexture?s.texSubImage2D(s.TEXTURE_2D,a,M,R,p,_,h,f,I.data):e.isCompressedTexture?s.compressedTexSubImage2D(s.TEXTURE_2D,a,M,R,I.width,I.height,h,I.data):s.texSubImage2D(s.TEXTURE_2D,a,M,R,p,_,h,f,I);s.pixelStorei(s.UNPACK_ROW_LENGTH,B),s.pixelStorei(s.UNPACK_IMAGE_HEIGHT,D),s.pixelStorei(s.UNPACK_SKIP_PIXELS,$),s.pixelStorei(s.UNPACK_SKIP_ROWS,z),s.pixelStorei(s.UNPACK_SKIP_IMAGES,V),a===0&&n.generateMipmaps&&s.generateMipmap(d),c.unbindTexture()}copyFramebufferToTexture(e,n,r){const{gl:i}=this,{state:o}=this.backend,{textureGPU:a}=this.backend.get(e),{x:s,y:l,z:c,w:u}=r,d=e.isDepthTexture===!0||n.renderTarget&&n.renderTarget.samples>0,f=n.renderTarget?n.renderTarget.height:this.backend.getDrawingBufferSize().y;if(d){const h=s!==0||l!==0;let p,_;if(e.isDepthTexture===!0?(p=i.DEPTH_BUFFER_BIT,_=i.DEPTH_ATTACHMENT,n.stencil&&(p|=i.STENCIL_BUFFER_BIT)):(p=i.COLOR_BUFFER_BIT,_=i.COLOR_ATTACHMENT0),h){const x=this.backend.get(n.renderTarget),y=x.framebuffers[n.getCacheKey()],w=x.msaaFrameBuffer;o.bindFramebuffer(i.DRAW_FRAMEBUFFER,y),o.bindFramebuffer(i.READ_FRAMEBUFFER,w);const C=f-l-u;i.blitFramebuffer(s,C,s+c,C+u,s,C,s+c,C+u,p,i.NEAREST),o.bindFramebuffer(i.READ_FRAMEBUFFER,y),o.bindTexture(i.TEXTURE_2D,a),i.copyTexSubImage2D(i.TEXTURE_2D,0,0,0,s,C,c,u),o.unbindTexture()}else{const x=i.createFramebuffer();o.bindFramebuffer(i.DRAW_FRAMEBUFFER,x),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,_,i.TEXTURE_2D,a,0),i.blitFramebuffer(0,0,c,u,0,0,c,u,p,i.NEAREST),i.deleteFramebuffer(x)}}else o.bindTexture(i.TEXTURE_2D,a),i.copyTexSubImage2D(i.TEXTURE_2D,0,0,0,s,f-u-l,c,u),o.unbindTexture();e.generateMipmaps&&this.generateMipmaps(e),this.backend._setFramebuffer(n)}setupRenderBufferStorage(e,n,r,i=!1){const{gl:o}=this,a=n.renderTarget,{depthTexture:s,depthBuffer:l,stencilBuffer:c,width:u,height:d}=a;if(o.bindRenderbuffer(o.RENDERBUFFER,e),l&&!c){let f=o.DEPTH_COMPONENT24;i===!0?this.extensions.get("WEBGL_multisampled_render_to_texture").renderbufferStorageMultisampleEXT(o.RENDERBUFFER,a.samples,f,u,d):r>0?(s&&s.isDepthTexture&&s.type===o.FLOAT&&(f=o.DEPTH_COMPONENT32F),o.renderbufferStorageMultisample(o.RENDERBUFFER,r,f,u,d)):o.renderbufferStorage(o.RENDERBUFFER,f,u,d),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,e)}else l&&c&&(r>0?o.renderbufferStorageMultisample(o.RENDERBUFFER,r,o.DEPTH24_STENCIL8,u,d):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,u,d),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,e));o.bindRenderbuffer(o.RENDERBUFFER,null)}async copyTextureToBuffer(e,n,r,i,o,a){const{backend:s,gl:l}=this,{textureGPU:c,glFormat:u,glType:d}=this.backend.get(e),f=l.createFramebuffer();s.state.bindFramebuffer(l.READ_FRAMEBUFFER,f);const h=e.isCubeTexture?l.TEXTURE_CUBE_MAP_POSITIVE_X+a:l.TEXTURE_2D;l.framebufferTexture2D(l.READ_FRAMEBUFFER,l.COLOR_ATTACHMENT0,h,c,0);const p=this._getTypedArrayType(d),_=this._getBytesPerTexel(d,u),y=i*o*_,w=l.createBuffer();l.bindBuffer(l.PIXEL_PACK_BUFFER,w),l.bufferData(l.PIXEL_PACK_BUFFER,y,l.STREAM_READ),l.readPixels(n,r,i,o,u,d,0),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),await s.utils._clientWaitAsync();const C=new p(y/p.BYTES_PER_ELEMENT);return l.bindBuffer(l.PIXEL_PACK_BUFFER,w),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,C),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),s.state.bindFramebuffer(l.READ_FRAMEBUFFER,null),l.deleteFramebuffer(f),C}_getTypedArrayType(e){const{gl:n}=this;if(e===n.UNSIGNED_BYTE)return Uint8Array;if(e===n.UNSIGNED_SHORT_4_4_4_4||e===n.UNSIGNED_SHORT_5_5_5_1||e===n.UNSIGNED_SHORT_5_6_5||e===n.UNSIGNED_SHORT)return Uint16Array;if(e===n.UNSIGNED_INT)return Uint32Array;if(e===n.HALF_FLOAT)return Uint16Array;if(e===n.FLOAT)return Float32Array;throw new Error(`Unsupported WebGL type: ${e}`)}_getBytesPerTexel(e,n){const{gl:r}=this;let i=0;if(e===r.UNSIGNED_BYTE&&(i=1),(e===r.UNSIGNED_SHORT_4_4_4_4||e===r.UNSIGNED_SHORT_5_5_5_1||e===r.UNSIGNED_SHORT_5_6_5||e===r.UNSIGNED_SHORT||e===r.HALF_FLOAT)&&(i=2),(e===r.UNSIGNED_INT||e===r.FLOAT)&&(i=4),n===r.RGBA)return i*4;if(n===r.RGB)return i*3;if(n===r.ALPHA)return i}dispose(){const{gl:e}=this;this._srcFramebuffer!==null&&e.deleteFramebuffer(this._srcFramebuffer),this._dstFramebuffer!==null&&e.deleteFramebuffer(this._dstFramebuffer)}}function wT(t){return t.isDataTexture?t.image.data:typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?t:t.data}class Rot{constructor(e){this.backend=e,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions(),this.extensions={}}get(e){let n=this.extensions[e];return n===void 0&&(n=this.gl.getExtension(e),this.extensions[e]=n),n}has(e){return this.availableExtensions.includes(e)}}class Not{constructor(e){this.backend=e,this.maxAnisotropy=null}getMaxAnisotropy(){if(this.maxAnisotropy!==null)return this.maxAnisotropy;const e=this.backend.gl,n=this.backend.extensions;if(n.has("EXT_texture_filter_anisotropic")===!0){const r=n.get("EXT_texture_filter_anisotropic");this.maxAnisotropy=e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else this.maxAnisotropy=0;return this.maxAnisotropy}}const yY={WEBGL_multi_draw:"WEBGL_multi_draw",WEBGL_compressed_texture_astc:"texture-compression-astc",WEBGL_compressed_texture_etc:"texture-compression-etc2",WEBGL_compressed_texture_etc1:"texture-compression-etc1",WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBGL_compressed_texture_s3tc:"texture-compression-s3tc",EXT_texture_compression_bptc:"texture-compression-bc",EXT_disjoint_timer_query_webgl2:"timestamp-query",OVR_multiview2:"OVR_multiview2"};class Iot{constructor(e){this.gl=e.gl,this.extensions=e.extensions,this.info=e.renderer.info,this.mode=null,this.index=0,this.type=null,this.object=null}render(e,n){const{gl:r,mode:i,object:o,type:a,info:s,index:l}=this;l!==0?r.drawElements(i,n,a,e):r.drawArrays(i,e,n),s.update(o,n,1)}renderInstances(e,n,r){const{gl:i,mode:o,type:a,index:s,object:l,info:c}=this;r!==0&&(s!==0?i.drawElementsInstanced(o,n,a,e,r):i.drawArraysInstanced(o,e,n,r),c.update(l,n,r))}renderMultiDraw(e,n,r){const{extensions:i,mode:o,object:a,info:s}=this;if(r===0)return;const l=i.get("WEBGL_multi_draw");if(l===null)for(let c=0;c<r;c++)this.render(e[c],n[c]);else{this.index!==0?l.multiDrawElementsWEBGL(o,n,0,this.type,e,0,r):l.multiDrawArraysWEBGL(o,e,0,n,0,r);let c=0;for(let u=0;u<r;u++)c+=n[u];s.update(a,c,1)}}renderMultiDrawInstances(e,n,r,i){const{extensions:o,mode:a,object:s,info:l}=this;if(r===0)return;const c=o.get("WEBGL_multi_draw");if(c===null)for(let u=0;u<r;u++)this.renderInstances(e[u],n[u],i[u]);else{this.index!==0?c.multiDrawElementsInstancedWEBGL(a,n,0,this.type,e,0,i,0,r):c.multiDrawArraysInstancedWEBGL(a,e,0,n,0,i,0,r);let u=0;for(let d=0;d<r;d++)u+=n[d]*i[d];l.update(s,u,1)}}}class zfe{constructor(e=256){this.trackTimestamp=!0,this.maxQueries=e,this.currentQueryIndex=0,this.queryOffsets=new Map,this.isDisposed=!1,this.lastValue=0,this.frames=[],this.pendingResolve=!1,this.timestamps=new Map}getTimestampFrames(){return this.frames}getTimestamp(e){let n=this.timestamps.get(e);return n===void 0&&(Vt(`TimestampQueryPool: No timestamp available for uid ${e}.`),n=0),n}hasTimestamp(e){return this.timestamps.has(e)}allocateQueriesForContext(){}async resolveQueriesAsync(){}dispose(){}}class Oot extends zfe{constructor(e,n,r=2048){if(super(r),this.gl=e,this.type=n,this.ext=e.getExtension("EXT_disjoint_timer_query_webgl2")||e.getExtension("EXT_disjoint_timer_query"),!this.ext){Vt("EXT_disjoint_timer_query not supported; timestamps will be disabled."),this.trackTimestamp=!1;return}this.queries=[];for(let i=0;i<this.maxQueries;i++)this.queries.push(e.createQuery());this.activeQuery=null,this.queryStates=new Map}allocateQueriesForContext(e){if(!this.trackTimestamp)return null;if(this.currentQueryIndex+2>this.maxQueries)return $i(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const n=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryStates.set(n,"inactive"),this.queryOffsets.set(e,n),n}beginQuery(e){if(!this.trackTimestamp||this.isDisposed)return;const n=this.queryOffsets.get(e);if(n==null||this.activeQuery!==null)return;const r=this.queries[n];if(r)try{this.queryStates.get(n)==="inactive"&&(this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT,r),this.activeQuery=n,this.queryStates.set(n,"started"))}catch(i){Kt("Error in beginQuery:",i),this.activeQuery=null,this.queryStates.set(n,"inactive")}}endQuery(e){if(!this.trackTimestamp||this.isDisposed)return;const n=this.queryOffsets.get(e);if(n!=null&&this.activeQuery===n)try{this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.queryStates.set(n,"ended"),this.activeQuery=null}catch(r){Kt("Error in endQuery:",r),this.queryStates.set(n,"inactive"),this.activeQuery=null}}async resolveQueriesAsync(){if(!this.trackTimestamp||this.pendingResolve)return this.lastValue;this.pendingResolve=!0;try{const e=new Map;for(const[o,a]of this.queryOffsets)if(this.queryStates.get(a)==="ended"){const l=this.queries[a];e.set(o,this.resolveQuery(l))}if(e.size===0)return this.lastValue;const n={},r=[];for(const[o,a]of e){const s=o.match(/^(.*):f(\d+)$/),l=parseInt(s[2]);r.includes(l)===!1&&r.push(l),n[l]===void 0&&(n[l]=0);const c=await a;this.timestamps.set(o,c),n[l]+=c}const i=n[r[r.length-1]];return this.lastValue=i,this.frames=r,this.currentQueryIndex=0,this.queryOffsets.clear(),this.queryStates.clear(),this.activeQuery=null,i}catch(e){return Kt("Error resolving queries:",e),this.lastValue}finally{this.pendingResolve=!1}}async resolveQuery(e){return new Promise(n=>{if(this.isDisposed){n(this.lastValue);return}let r,i=!1;const o=()=>{r&&(clearTimeout(r),r=null)},a=l=>{i||(i=!0,o(),n(l))},s=()=>{if(this.isDisposed){a(this.lastValue);return}try{if(this.gl.getParameter(this.ext.GPU_DISJOINT_EXT)){a(this.lastValue);return}if(!this.gl.getQueryParameter(e,this.gl.QUERY_RESULT_AVAILABLE)){r=setTimeout(s,1);return}const u=this.gl.getQueryParameter(e,this.gl.QUERY_RESULT);n(Number(u)/1e6)}catch(l){Kt("Error checking query:",l),n(this.lastValue)}};s()})}dispose(){if(!this.isDisposed&&(this.isDisposed=!0,!!this.trackTimestamp)){for(const e of this.queries)this.gl.deleteQuery(e);this.queries=[],this.queryStates.clear(),this.queryOffsets.clear(),this.lastValue=0,this.activeQuery=null}}}class bY extends Ufe{constructor(e={}){super(e),this.isWebGLBackend=!0,this.attributeUtils=null,this.extensions=null,this.capabilities=null,this.textureUtils=null,this.bufferRenderer=null,this.gl=null,this.state=null,this.utils=null,this.vaoCache={},this.transformFeedbackCache={},this.discard=!1,this.disjoint=null,this.parallel=null,this._currentContext=null,this._knownBindings=new WeakSet,this._supportsInvalidateFramebuffer=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),this._xrFramebuffer=null}init(e){super.init(e);const n=this.parameters,r={antialias:e.currentSamples>0,alpha:!0,depth:e.depth,stencil:e.stencil},i=n.context!==void 0?n.context:e.domElement.getContext("webgl2",r);function o(a){a.preventDefault();const s={api:"WebGL",message:a.statusMessage||"Unknown reason",reason:null,originalEvent:a};e.onDeviceLost(s)}this._onContextLost=o,e.domElement.addEventListener("webglcontextlost",o,!1),this.gl=i,this.extensions=new Rot(this),this.capabilities=new Not(this),this.attributeUtils=new Tot(this),this.textureUtils=new Pot(this),this.bufferRenderer=new Iot(this),this.state=new Eot(this),this.utils=new Mot(this),this.extensions.get("EXT_color_buffer_float"),this.extensions.get("WEBGL_clip_cull_distance"),this.extensions.get("OES_texture_float_linear"),this.extensions.get("EXT_color_buffer_half_float"),this.extensions.get("WEBGL_multisampled_render_to_texture"),this.extensions.get("WEBGL_render_shared_exponent"),this.extensions.get("WEBGL_multi_draw"),this.extensions.get("OVR_multiview2"),this.disjoint=this.extensions.get("EXT_disjoint_timer_query_webgl2"),this.parallel=this.extensions.get("KHR_parallel_shader_compile"),this.drawBuffersIndexedExt=this.extensions.get("OES_draw_buffers_indexed")}get coordinateSystem(){return Zs}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}async makeXRCompatible(){this.gl.getContextAttributes().xrCompatible!==!0&&await this.gl.makeXRCompatible()}setXRTarget(e){this._xrFramebuffer=e}setXRRenderTargetTextures(e,n,r=null){const i=this.gl;if(this.set(e.texture,{textureGPU:n,glInternalFormat:i.RGBA8}),r!==null){const o=e.stencilBuffer?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24;this.set(e.depthTexture,{textureGPU:r,glInternalFormat:o}),this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&e._autoAllocateDepthBuffer===!0&&e.multiview===!1&&Vt("WebGLBackend: Render-to-texture extension was disabled because an external texture was provided"),e._autoAllocateDepthBuffer=!1}}initTimestampQuery(e,n){if(!this.disjoint||!this.trackTimestamp)return;this.timestampQueryPool[e]||(this.timestampQueryPool[e]=new Oot(this.gl,e,2048));const r=this.timestampQueryPool[e];r.allocateQueriesForContext(n)!==null&&r.beginQuery(n)}prepareTimestampBuffer(e,n){if(!this.disjoint||!this.trackTimestamp)return;this.timestampQueryPool[e].endQuery(n)}getContext(){return this.gl}beginRender(e){const{state:n}=this,r=this.get(e);if(e.viewport)this.updateViewport(e);else{const{width:o,height:a}=this.getDrawingBufferSize();n.viewport(0,0,o,a)}if(e.scissor){const{x:o,y:a,width:s,height:l}=e.scissorValue;n.scissor(o,e.height-l-a,s,l)}this.initTimestampQuery(Wd.RENDER,this.getTimestampUID(e)),r.previousContext=this._currentContext,this._currentContext=e,this._setFramebuffer(e),this.clear(e.clearColor,e.clearDepth,e.clearStencil,e,!1);const i=e.occlusionQueryCount;i>0&&(r.currentOcclusionQueries=r.occlusionQueries,r.currentOcclusionQueryObjects=r.occlusionQueryObjects,r.lastOcclusionObject=null,r.occlusionQueries=new Array(i),r.occlusionQueryObjects=new Array(i),r.occlusionQueryIndex=0)}finishRender(e){const{gl:n,state:r}=this,i=this.get(e),o=i.previousContext;r.resetVertexState();const a=e.occlusionQueryCount;a>0&&(a>i.occlusionQueryIndex&&n.endQuery(n.ANY_SAMPLES_PASSED),this.resolveOccludedAsync(e));const s=e.textures;if(s!==null)for(let l=0;l<s.length;l++){const c=s[l];c.generateMipmaps&&this.generateMipmaps(c)}if(this._currentContext=o,this._resolveRenderTarget(e),o!==null)if(this._setFramebuffer(o),o.viewport)this.updateViewport(o);else{const{width:l,height:c}=this.getDrawingBufferSize();r.viewport(0,0,l,c)}this.prepareTimestampBuffer(Wd.RENDER,this.getTimestampUID(e))}resolveOccludedAsync(e){const n=this.get(e),{currentOcclusionQueries:r,currentOcclusionQueryObjects:i}=n;if(r&&i){const o=new WeakSet,{gl:a}=this;n.currentOcclusionQueryObjects=null,n.currentOcclusionQueries=null;const s=()=>{let l=0;for(let c=0;c<r.length;c++){const u=r[c];u!==null&&a.getQueryParameter(u,a.QUERY_RESULT_AVAILABLE)&&(a.getQueryParameter(u,a.QUERY_RESULT)===0&&o.add(i[c]),r[c]=null,a.deleteQuery(u),l++)}l<r.length?requestAnimationFrame(s):n.occluded=o};s()}}isOccluded(e,n){const r=this.get(e);return r.occluded&&r.occluded.has(n)}updateViewport(e){const{state:n}=this,{x:r,y:i,width:o,height:a}=e.viewportValue;n.viewport(r,e.height-a-i,o,a)}setScissorTest(e){this.state.setScissorTest(e)}getClearColor(){const e=super.getClearColor();return e.r*=e.a,e.g*=e.a,e.b*=e.a,e}clear(e,n,r,i=null,o=!0,a=!0){const{gl:s,renderer:l}=this;i===null&&(i={textures:null,clearColorValue:this.getClearColor()});let c=0;if(e&&(c|=s.COLOR_BUFFER_BIT),n&&(c|=s.DEPTH_BUFFER_BIT),r&&(c|=s.STENCIL_BUFFER_BIT),c!==0){let u;i.clearColorValue?u=i.clearColorValue:u=this.getClearColor();const d=l.getClearDepth(),f=l.getClearStencil();if(n&&this.state.setDepthMask(!0),i.textures===null)s.clearColor(u.r,u.g,u.b,u.a),s.clear(c);else{if(o&&this._setFramebuffer(i),e)for(let h=0;h<i.textures.length;h++)h===0?s.clearBufferfv(s.COLOR,h,[u.r,u.g,u.b,u.a]):s.clearBufferfv(s.COLOR,h,[0,0,0,1]);n&&r?s.clearBufferfi(s.DEPTH_STENCIL,0,d,f):n?s.clearBufferfv(s.DEPTH,0,[d]):r&&s.clearBufferiv(s.STENCIL,0,[f]),o&&a&&this._resolveRenderTarget(i)}}}beginCompute(e){const{state:n,gl:r}=this;n.bindFramebuffer(r.FRAMEBUFFER,null),this.initTimestampQuery(Wd.COMPUTE,this.getTimestampUID(e))}compute(e,n,r,i,o=null){const{state:a,gl:s}=this;this.discard===!1&&(a.enable(s.RASTERIZER_DISCARD),this.discard=!0);const{programGPU:l,transformBuffers:c,attributes:u}=this.get(i),d=this._getVaoKey(u),f=this.vaoCache[d];f===void 0?this.vaoCache[d]=this._createVao(u):a.setVertexState(f),a.useProgram(l),this._bindUniforms(r);const h=this._getTransformFeedback(c);s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,h),s.beginTransformFeedback(s.POINTS),o=o!==null?o:n.count,Array.isArray(o)?($i("WebGLBackend.compute(): The count parameter must be a single number, not an array."),o=o[0]):o&&typeof o=="object"&&o.isIndirectStorageBufferAttribute&&($i("WebGLBackend.compute(): The count parameter must be a single number, not IndirectStorageBufferAttribute"),o=n.count),u[0].isStorageInstancedBufferAttribute?s.drawArraysInstanced(s.POINTS,0,1,o):s.drawArrays(s.POINTS,0,o),s.endTransformFeedback(),s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,null);for(let p=0;p<c.length;p++){const _=c[p];_.pbo&&this.has(_.pbo)&&this.textureUtils.copyBufferToTexture(_.transformBuffer,_.pbo),_.switchBuffers()}}finishCompute(e){const{state:n,gl:r}=this;this.discard=!1,n.disable(r.RASTERIZER_DISCARD),this.prepareTimestampBuffer(Wd.COMPUTE,this.getTimestampUID(e)),this._currentContext&&this._setFramebuffer(this._currentContext)}_isRenderCameraDepthArray(e){return e.depthTexture&&e.depthTexture.isArrayTexture&&e.camera.isArrayCamera}draw(e){const{object:n,pipeline:r,material:i,context:o,hardwareClippingPlanes:a}=e,{programGPU:s}=this.get(r),{gl:l,state:c}=this,u=this.get(o),d=e.getDrawParameters();if(d===null)return;this._bindUniforms(e.getBindings());const f=n.isMesh&&n.matrixWorld.determinant()<0;c.setMaterial(i,f,a),o.textures!==null&&o.textures.length>1&&c.setMRTBlending(o.textures),c.useProgram(s);const h=e.getAttributes(),p=this.get(h);let _=p.vaoGPU;if(_===void 0){const B=this._getVaoKey(h);_=this.vaoCache[B],_===void 0&&(_=this._createVao(h),this.vaoCache[B]=_,p.vaoGPU=_)}const x=e.getIndex(),y=x!==null?this.get(x).bufferGPU:null;c.setVertexState(_,y);const w=u.lastOcclusionObject;if(w!==n&&w!==void 0){if(w!==null&&w.occlusionTest===!0&&(l.endQuery(l.ANY_SAMPLES_PASSED),u.occlusionQueryIndex++),n.occlusionTest===!0){const B=l.createQuery();l.beginQuery(l.ANY_SAMPLES_PASSED,B),u.occlusionQueries[u.occlusionQueryIndex]=B,u.occlusionQueryObjects[u.occlusionQueryIndex]=n}u.lastOcclusionObject=n}const C=this.bufferRenderer;n.isPoints?C.mode=l.POINTS:n.isLineSegments?C.mode=l.LINES:n.isLine?C.mode=l.LINE_STRIP:n.isLineLoop?C.mode=l.LINE_LOOP:i.wireframe===!0?(c.setLineWidth(i.wireframeLinewidth*this.renderer.getPixelRatio()),C.mode=l.LINES):C.mode=l.TRIANGLES;const{vertexCount:M,instanceCount:R}=d;let{firstVertex:N}=d;if(C.object=n,x!==null){N*=x.array.BYTES_PER_ELEMENT;const B=this.get(x);C.index=x.count,C.type=B.type}else C.index=0;const I=()=>{n.isBatchedMesh?n._multiDrawInstances!==null?($i("WebGLBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),C.renderMultiDrawInstances(n._multiDrawStarts,n._multiDrawCounts,n._multiDrawCount,n._multiDrawInstances)):this.hasFeature("WEBGL_multi_draw")?C.renderMultiDraw(n._multiDrawStarts,n._multiDrawCounts,n._multiDrawCount):$i("WebGLBackend: WEBGL_multi_draw not supported."):R>1?C.renderInstances(N,M,R):C.render(N,M)};if(e.camera.isArrayCamera===!0&&e.camera.cameras.length>0&&e.camera.isMultiViewCamera===!1){const B=this.get(e.camera),D=e.camera.cameras,$=e.getBindingGroup("cameraIndex").bindings[0];if(B.indexesGPU===void 0||B.indexesGPU.length!==D.length){const H=new Uint32Array([0,0,0,0]),X=[];for(let Y=0,ee=D.length;Y<ee;Y++){const Z=l.createBuffer();H[0]=Y,l.bindBuffer(l.UNIFORM_BUFFER,Z),l.bufferData(l.UNIFORM_BUFFER,H,l.STATIC_DRAW),X.push(Z)}B.indexesGPU=X}const z=this.get($),V=this.renderer.getPixelRatio(),q=this._currentContext.renderTarget,G=this._isRenderCameraDepthArray(this._currentContext),j=this._currentContext.activeCubeFace;if(G){const H=this.get(q.depthTexture);if(H.clearedRenderId!==this.renderer._nodes.nodeFrame.renderId){H.clearedRenderId=this.renderer._nodes.nodeFrame.renderId;const{stencilBuffer:X}=q;for(let Y=0,ee=D.length;Y<ee;Y++)this.renderer._activeCubeFace=Y,this._currentContext.activeCubeFace=Y,this._setFramebuffer(this._currentContext),this.clear(!1,!0,X,this._currentContext,!1,!1);this.renderer._activeCubeFace=j,this._currentContext.activeCubeFace=j}}for(let H=0,X=D.length;H<X;H++){const Y=D[H];if(n.layers.test(Y.layers)){G&&(this.renderer._activeCubeFace=H,this._currentContext.activeCubeFace=H,this._setFramebuffer(this._currentContext));const ee=Y.viewport;if(ee!==void 0){const Z=ee.x*V,re=ee.y*V,ae=ee.width*V,ce=ee.height*V;c.viewport(Math.floor(Z),Math.floor(e.context.height-ce-re),Math.floor(ae),Math.floor(ce))}c.bindBufferBase(l.UNIFORM_BUFFER,z.index,B.indexesGPU[H]),I()}this._currentContext.activeCubeFace=j,this.renderer._activeCubeFace=j}}else I()}needsRenderUpdate(){return!1}getRenderCacheKey(){return""}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,n){this.textureUtils.createTexture(e,n)}updateTexture(e,n){this.textureUtils.updateTexture(e,n)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e,n=!1){this.textureUtils.destroyTexture(e,n)}async copyTextureToBuffer(e,n,r,i,o,a){return this.textureUtils.copyTextureToBuffer(e,n,r,i,o,a)}updateSampler(){return""}createNodeBuilder(e,n){return new Sot(e,n)}createProgram(e){const n=this.gl,{stage:r,code:i}=e,o=r==="fragment"?n.createShader(n.FRAGMENT_SHADER):n.createShader(n.VERTEX_SHADER);n.shaderSource(o,i),n.compileShader(o),this.set(e,{shaderGPU:o})}destroyProgram(e){this.delete(e)}createRenderPipeline(e,n){const r=this.gl,i=e.pipeline,{fragmentProgram:o,vertexProgram:a}=i,s=r.createProgram(),l=this.get(o).shaderGPU,c=this.get(a).shaderGPU;if(r.attachShader(s,l),r.attachShader(s,c),r.linkProgram(s),this.set(i,{programGPU:s,fragmentShader:l,vertexShader:c}),n!==null&&this.parallel){const u=new Promise(d=>{const f=this.parallel,h=()=>{r.getProgramParameter(s,f.COMPLETION_STATUS_KHR)?(this._completeCompile(e,i),d()):requestAnimationFrame(h)};h()});n.push(u);return}this._completeCompile(e,i)}_handleSource(e,n){const r=e.split(`
`),i=[],o=Math.max(n-6,0),a=Math.min(n+6,r.length);for(let s=o;s<a;s++){const l=s+1;i.push(`${l===n?">":" "} ${l}: ${r[s]}`)}return i.join(`
`)}_getShaderErrors(e,n,r){const i=e.getShaderParameter(n,e.COMPILE_STATUS),a=(e.getShaderInfoLog(n)||"").trim();if(i&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const l=parseInt(s[1]);return r.toUpperCase()+`

`+a+`

`+this._handleSource(e.getShaderSource(n),l)}else return a}_logProgramError(e,n,r){if(this.renderer.debug.checkShaderErrors){const i=this.gl,a=(i.getProgramInfoLog(e)||"").trim();if(i.getProgramParameter(e,i.LINK_STATUS)===!1)if(typeof this.renderer.debug.onShaderError=="function")this.renderer.debug.onShaderError(i,e,r,n);else{const s=this._getShaderErrors(i,r,"vertex"),l=this._getShaderErrors(i,n,"fragment");Kt("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(e,i.VALIDATE_STATUS)+`

Program Info Log: `+a+`
`+s+`
`+l)}else a!==""&&Vt("WebGLProgram: Program Info Log:",a)}}_completeCompile(e,n){const{state:r,gl:i}=this,o=this.get(n),{programGPU:a,fragmentShader:s,vertexShader:l}=o;i.getProgramParameter(a,i.LINK_STATUS)===!1&&this._logProgramError(a,s,l),r.useProgram(a);const c=e.getBindings();this._setupBindings(c,a),this.set(n,{programGPU:a})}createComputePipeline(e,n){const{state:r,gl:i}=this,o={stage:"fragment",code:`#version 300 es
precision highp float;
void main() {}`};this.createProgram(o);const{computeProgram:a}=e,s=i.createProgram(),l=this.get(o).shaderGPU,c=this.get(a).shaderGPU,u=a.transforms,d=[],f=[];for(let x=0;x<u.length;x++){const y=u[x];d.push(y.varyingName),f.push(y.attributeNode)}i.attachShader(s,l),i.attachShader(s,c),i.transformFeedbackVaryings(s,d,i.SEPARATE_ATTRIBS),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)===!1&&this._logProgramError(s,l,c),r.useProgram(s),this._setupBindings(n,s);const h=a.attributes,p=[],_=[];for(let x=0;x<h.length;x++){const y=h[x].node.attribute;p.push(y),this.has(y)||this.attributeUtils.createAttribute(y,i.ARRAY_BUFFER)}for(let x=0;x<f.length;x++){const y=f[x].attribute;this.has(y)||this.attributeUtils.createAttribute(y,i.ARRAY_BUFFER);const w=this.get(y);_.push(w)}this.set(e,{programGPU:s,transformBuffers:_,attributes:p})}createBindings(e,n){if(this._knownBindings.has(n)===!1){this._knownBindings.add(n);let r=0,i=0;for(const o of n){this.set(o,{textures:i,uniformBuffers:r});for(const a of o.bindings)a.isUniformBuffer&&r++,a.isSampledTexture&&i++}}this.updateBindings(e,n)}updateBindings(e){const{gl:n}=this,r=this.get(e);let i=r.uniformBuffers,o=r.textures;for(const a of e.bindings){const s=this.get(a);if(a.isUniformsGroup||a.isUniformBuffer){const l=a.buffer;let{bufferGPU:c}=this.get(l);c===void 0?(c=n.createBuffer(),n.bindBuffer(n.UNIFORM_BUFFER,c),n.bufferData(n.UNIFORM_BUFFER,l.byteLength,n.DYNAMIC_DRAW),this.set(l,{bufferGPU:c})):n.bindBuffer(n.UNIFORM_BUFFER,c);const u=a.updateRanges;if(n.bindBuffer(n.UNIFORM_BUFFER,c),u.length===0)n.bufferData(n.UNIFORM_BUFFER,l,n.DYNAMIC_DRAW);else{const d=zM(l),f=d?1:l.BYTES_PER_ELEMENT;for(let h=0,p=u.length;h<p;h++){const _=u[h],x=_.start*f,y=_.count*f,w=x*(d?l.BYTES_PER_ELEMENT:1);n.bufferSubData(n.UNIFORM_BUFFER,w,l,x,y)}}s.index=i++,s.bufferGPU=c,this.set(a,s)}else if(a.isSampledTexture){const{textureGPU:l,glTextureType:c}=this.get(a.texture);s.index=o++,s.textureGPU=l,s.glTextureType=c,this.set(a,s)}}}updateBinding(e){const n=this.gl;if(e.isUniformsGroup||e.isUniformBuffer){const i=this.get(e).bufferGPU,o=e.buffer,a=e.updateRanges;if(n.bindBuffer(n.UNIFORM_BUFFER,i),a.length===0)n.bufferData(n.UNIFORM_BUFFER,o,n.DYNAMIC_DRAW);else{const s=zM(o),l=s?1:o.BYTES_PER_ELEMENT;for(let c=0,u=a.length;c<u;c++){const d=a[c],f=d.start*l,h=d.count*l,p=f*(s?o.BYTES_PER_ELEMENT:1);n.bufferSubData(n.UNIFORM_BUFFER,p,o,f,h)}}}}createIndexAttribute(e){const n=this.gl;this.attributeUtils.createAttribute(e,n.ELEMENT_ARRAY_BUFFER)}createAttribute(e){if(this.has(e))return;const n=this.gl;this.attributeUtils.createAttribute(e,n.ARRAY_BUFFER)}createStorageAttribute(e){if(this.has(e))return;const n=this.gl;this.attributeUtils.createAttribute(e,n.ARRAY_BUFFER)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}hasFeature(e){const n=Object.keys(yY).filter(i=>yY[i]===e),r=this.extensions;for(let i=0;i<n.length;i++)if(r.has(n[i]))return!0;return!1}getMaxAnisotropy(){return this.capabilities.getMaxAnisotropy()}copyTextureToTexture(e,n,r=null,i=null,o=0,a=0){this.textureUtils.copyTextureToTexture(e,n,r,i,o,a)}copyFramebufferToTexture(e,n,r){this.textureUtils.copyFramebufferToTexture(e,n,r)}_setFramebuffer(e){const{gl:n,state:r}=this;let i=null;if(e.textures!==null){const o=e.renderTarget,a=this.get(o),{samples:s,depthBuffer:l,stencilBuffer:c}=o,u=o.isWebGLCubeRenderTarget===!0,d=o.isRenderTarget3D===!0,f=o.depth>1,h=o.isXRRenderTarget===!0,p=h===!0&&o._hasExternalTextures===!0;let _=a.msaaFrameBuffer,x=a.depthRenderbuffer;const y=this.extensions.get("WEBGL_multisampled_render_to_texture"),w=this.extensions.get("OVR_multiview2"),C=this._useMultisampledExtension(o),M=Dde(e);let R;if(u?(a.cubeFramebuffers||(a.cubeFramebuffers={}),R=a.cubeFramebuffers[M]):h&&p===!1?R=this._xrFramebuffer:(a.framebuffers||(a.framebuffers={}),R=a.framebuffers[M]),R===void 0){R=n.createFramebuffer(),r.bindFramebuffer(n.FRAMEBUFFER,R);const N=e.textures,I=[];if(u){a.cubeFramebuffers[M]=R;const{textureGPU:D}=this.get(N[0]),$=this.renderer._activeCubeFace,z=this.renderer._activeMipmapLevel;n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+$,D,z)}else{a.framebuffers[M]=R;for(let D=0;D<N.length;D++){const $=N[D],z=this.get($);z.renderTarget=e.renderTarget,z.cacheKey=M;const V=n.COLOR_ATTACHMENT0+D;if(o.multiview)w.framebufferTextureMultisampleMultiviewOVR(n.FRAMEBUFFER,V,z.textureGPU,0,s,0,2);else if(d||f){const q=this.renderer._activeCubeFace,G=this.renderer._activeMipmapLevel;n.framebufferTextureLayer(n.FRAMEBUFFER,V,z.textureGPU,G,q)}else if(C)y.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,V,n.TEXTURE_2D,z.textureGPU,0,s);else{const q=this.renderer._activeMipmapLevel;n.framebufferTexture2D(n.FRAMEBUFFER,V,n.TEXTURE_2D,z.textureGPU,q)}}}const B=c?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;if(o._autoAllocateDepthBuffer===!0){const D=n.createRenderbuffer();this.textureUtils.setupRenderBufferStorage(D,e,0,C),a.xrDepthRenderbuffer=D,I.push(c?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT),n.bindRenderbuffer(n.RENDERBUFFER,D),n.framebufferRenderbuffer(n.FRAMEBUFFER,B,n.RENDERBUFFER,D)}else if(e.depthTexture!==null){I.push(c?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT);const D=this.get(e.depthTexture);if(D.renderTarget=e.renderTarget,D.cacheKey=M,o.multiview)w.framebufferTextureMultisampleMultiviewOVR(n.FRAMEBUFFER,B,D.textureGPU,0,s,0,2);else if(p&&C)y.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,B,n.TEXTURE_2D,D.textureGPU,0,s);else if(e.depthTexture.isArrayTexture){const $=this.renderer._activeCubeFace;n.framebufferTextureLayer(n.FRAMEBUFFER,B,D.textureGPU,0,$)}else if(e.depthTexture.isCubeTexture){const $=this.renderer._activeCubeFace;n.framebufferTexture2D(n.FRAMEBUFFER,B,n.TEXTURE_CUBE_MAP_POSITIVE_X+$,D.textureGPU,0)}else n.framebufferTexture2D(n.FRAMEBUFFER,B,n.TEXTURE_2D,D.textureGPU,0)}a.depthInvalidationArray=I}else{if(this._isRenderCameraDepthArray(e)){r.bindFramebuffer(n.FRAMEBUFFER,R);const I=this.renderer._activeCubeFace,B=this.get(e.depthTexture),D=c?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.framebufferTextureLayer(n.FRAMEBUFFER,D,B.textureGPU,0,I)}if((h||C||o.multiview)&&o._isOpaqueFramebuffer!==!0){r.bindFramebuffer(n.FRAMEBUFFER,R);const I=this.get(e.textures[0]);o.multiview?w.framebufferTextureMultisampleMultiviewOVR(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,I.textureGPU,0,s,0,2):C?y.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,I.textureGPU,0,s):n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,I.textureGPU,0);const B=c?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;if(o._autoAllocateDepthBuffer===!0){const D=a.xrDepthRenderbuffer;n.bindRenderbuffer(n.RENDERBUFFER,D),n.framebufferRenderbuffer(n.FRAMEBUFFER,B,n.RENDERBUFFER,D)}else{const D=this.get(e.depthTexture);o.multiview?w.framebufferTextureMultisampleMultiviewOVR(n.FRAMEBUFFER,B,D.textureGPU,0,s,0,2):C?y.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,B,n.TEXTURE_2D,D.textureGPU,0,s):n.framebufferTexture2D(n.FRAMEBUFFER,B,n.TEXTURE_2D,D.textureGPU,0)}}}if(s>0&&C===!1&&!o.multiview){if(_===void 0){const N=[];_=n.createFramebuffer(),r.bindFramebuffer(n.FRAMEBUFFER,_);const I=[],B=e.textures;for(let D=0;D<B.length;D++){I[D]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,I[D]),N.push(n.COLOR_ATTACHMENT0+D);const $=e.textures[D],z=this.get($);n.renderbufferStorageMultisample(n.RENDERBUFFER,s,z.glInternalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+D,n.RENDERBUFFER,I[D])}if(n.bindRenderbuffer(n.RENDERBUFFER,null),a.msaaFrameBuffer=_,a.msaaRenderbuffers=I,l&&x===void 0){x=n.createRenderbuffer(),this.textureUtils.setupRenderBufferStorage(x,e,s),a.depthRenderbuffer=x;const D=c?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;N.push(D)}a.invalidationArray=N}i=a.msaaFrameBuffer}else i=R;r.drawBuffers(e,R)}r.bindFramebuffer(n.FRAMEBUFFER,i)}_getVaoKey(e){let n="";for(let r=0;r<e.length;r++){const i=this.get(e[r]);n+=":"+i.id}return n}_createVao(e){const{gl:n}=this,r=n.createVertexArray();n.bindVertexArray(r);for(let i=0;i<e.length;i++){const o=e[i],a=this.get(o);n.bindBuffer(n.ARRAY_BUFFER,a.bufferGPU),n.enableVertexAttribArray(i);let s,l;o.isInterleavedBufferAttribute===!0?(s=o.data.stride*a.bytesPerElement,l=o.offset*a.bytesPerElement):(s=0,l=0),a.isInteger?n.vertexAttribIPointer(i,o.itemSize,a.type,s,l):n.vertexAttribPointer(i,o.itemSize,a.type,o.normalized,s,l),o.isInstancedBufferAttribute&&!o.isInterleavedBufferAttribute?n.vertexAttribDivisor(i,o.meshPerAttribute):o.isInterleavedBufferAttribute&&o.data.isInstancedInterleavedBuffer&&n.vertexAttribDivisor(i,o.data.meshPerAttribute)}return n.bindBuffer(n.ARRAY_BUFFER,null),r}_getTransformFeedback(e){let n="";for(let o=0;o<e.length;o++)n+=":"+e[o].id;let r=this.transformFeedbackCache[n];if(r!==void 0)return r;const{gl:i}=this;r=i.createTransformFeedback(),i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,r);for(let o=0;o<e.length;o++){const a=e[o];i.bindBufferBase(i.TRANSFORM_FEEDBACK_BUFFER,o,a.transformBuffer)}return i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,null),this.transformFeedbackCache[n]=r,r}_setupBindings(e,n){const r=this.gl;for(const i of e)for(const o of i.bindings){const s=this.get(o).index;if(o.isUniformsGroup||o.isUniformBuffer){const l=r.getUniformBlockIndex(n,o.name);r.uniformBlockBinding(n,l,s)}else if(o.isSampledTexture){const l=r.getUniformLocation(n,o.name);r.uniform1i(l,s)}}}_bindUniforms(e){const{gl:n,state:r}=this;for(const i of e)for(const o of i.bindings){const a=this.get(o),s=a.index;o.isUniformsGroup||o.isUniformBuffer?r.bindBufferBase(n.UNIFORM_BUFFER,s,a.bufferGPU):o.isSampledTexture&&r.bindTexture(a.glTextureType,a.textureGPU,n.TEXTURE0+s)}}_resolveRenderTarget(e){const{gl:n,state:r}=this,i=e.renderTarget;if(e.textures!==null&&i){const o=this.get(i);if(i.samples>0&&this._useMultisampledExtension(i)===!1){const a=o.framebuffers[e.getCacheKey()];let s=n.COLOR_BUFFER_BIT;i.resolveDepthBuffer&&(i.depthBuffer&&(s|=n.DEPTH_BUFFER_BIT),i.stencilBuffer&&i.resolveStencilBuffer&&(s|=n.STENCIL_BUFFER_BIT));const l=o.msaaFrameBuffer,c=o.msaaRenderbuffers,u=e.textures,d=u.length>1;if(r.bindFramebuffer(n.READ_FRAMEBUFFER,l),r.bindFramebuffer(n.DRAW_FRAMEBUFFER,a),d)for(let f=0;f<u.length;f++)n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,n.RENDERBUFFER,null),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,n.TEXTURE_2D,null,0);for(let f=0;f<u.length;f++){if(d){const{textureGPU:h}=this.get(u[f]);n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,c[f]),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,h,0)}if(e.scissor){const{x:h,y:p,width:_,height:x}=e.scissorValue,y=e.height-x-p;n.blitFramebuffer(h,y,h+_,y+x,h,y,h+_,y+x,s,n.NEAREST)}else n.blitFramebuffer(0,0,e.width,e.height,0,0,e.width,e.height,s,n.NEAREST)}if(d)for(let f=0;f<u.length;f++){const{textureGPU:h}=this.get(u[f]);n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,n.RENDERBUFFER,c[f]),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,n.TEXTURE_2D,h,0)}this._supportsInvalidateFramebuffer===!0&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,o.invalidationArray)}else if(i.resolveDepthBuffer===!1&&o.framebuffers){const a=o.framebuffers[e.getCacheKey()];r.bindFramebuffer(n.DRAW_FRAMEBUFFER,a),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,o.depthInvalidationArray)}}}_useMultisampledExtension(e){return e.multiview===!0?!0:e.samples>0&&this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&e._autoAllocateDepthBuffer!==!1}dispose(){this.textureUtils!==null&&this.textureUtils.dispose();const e=this.extensions.get("WEBGL_lose_context");e&&e.loseContext(),this.renderer.domElement.removeEventListener("webglcontextlost",this._onContextLost)}}const mv={PointList:"point-list",LineList:"line-list",LineStrip:"line-strip",TriangleList:"triangle-list",TriangleStrip:"triangle-strip"},L0=typeof self<"u"?self.GPUShaderStage:{VERTEX:1,FRAGMENT:2,COMPUTE:4},Ga={Never:"never",Less:"less",Equal:"equal",LessEqual:"less-equal",Greater:"greater",NotEqual:"not-equal",GreaterEqual:"greater-equal",Always:"always"},Vs={Store:"store"},_i={Load:"load",Clear:"clear"},xY={CCW:"ccw",CW:"cw"},_Y={None:"none",Back:"back"},Xy={Uint16:"uint16",Uint32:"uint32"},rt={R8Unorm:"r8unorm",R8Snorm:"r8snorm",R8Uint:"r8uint",R8Sint:"r8sint",R16Uint:"r16uint",R16Sint:"r16sint",R16Float:"r16float",RG8Unorm:"rg8unorm",RG8Snorm:"rg8snorm",RG8Uint:"rg8uint",RG8Sint:"rg8sint",R32Uint:"r32uint",R32Sint:"r32sint",R32Float:"r32float",RG16Uint:"rg16uint",RG16Sint:"rg16sint",RG16Float:"rg16float",RGBA8Unorm:"rgba8unorm",RGBA8UnormSRGB:"rgba8unorm-srgb",RGBA8Snorm:"rgba8snorm",RGBA8Uint:"rgba8uint",RGBA8Sint:"rgba8sint",BGRA8Unorm:"bgra8unorm",BGRA8UnormSRGB:"bgra8unorm-srgb",RGB9E5UFloat:"rgb9e5ufloat",RGB10A2Unorm:"rgb10a2unorm",RG11B10UFloat:"rg11b10ufloat",RG32Uint:"rg32uint",RG32Sint:"rg32sint",RG32Float:"rg32float",RGBA16Uint:"rgba16uint",RGBA16Sint:"rgba16sint",RGBA16Float:"rgba16float",RGBA32Uint:"rgba32uint",RGBA32Sint:"rgba32sint",RGBA32Float:"rgba32float",Depth16Unorm:"depth16unorm",Depth24Plus:"depth24plus",Depth24PlusStencil8:"depth24plus-stencil8",Depth32Float:"depth32float",Depth32FloatStencil8:"depth32float-stencil8",BC1RGBAUnorm:"bc1-rgba-unorm",BC1RGBAUnormSRGB:"bc1-rgba-unorm-srgb",BC2RGBAUnorm:"bc2-rgba-unorm",BC2RGBAUnormSRGB:"bc2-rgba-unorm-srgb",BC3RGBAUnorm:"bc3-rgba-unorm",BC3RGBAUnormSRGB:"bc3-rgba-unorm-srgb",BC4RUnorm:"bc4-r-unorm",BC4RSnorm:"bc4-r-snorm",BC5RGUnorm:"bc5-rg-unorm",BC5RGSnorm:"bc5-rg-snorm",BC6HRGBUFloat:"bc6h-rgb-ufloat",BC6HRGBFloat:"bc6h-rgb-float",BC7RGBAUnorm:"bc7-rgba-unorm",BC7RGBAUnormSRGB:"bc7-rgba-unorm-srgb",ETC2RGB8Unorm:"etc2-rgb8unorm",ETC2RGB8UnormSRGB:"etc2-rgb8unorm-srgb",ETC2RGB8A1Unorm:"etc2-rgb8a1unorm",ETC2RGB8A1UnormSRGB:"etc2-rgb8a1unorm-srgb",ETC2RGBA8Unorm:"etc2-rgba8unorm",ETC2RGBA8UnormSRGB:"etc2-rgba8unorm-srgb",EACR11Unorm:"eac-r11unorm",EACR11Snorm:"eac-r11snorm",EACRG11Unorm:"eac-rg11unorm",EACRG11Snorm:"eac-rg11snorm",ASTC4x4Unorm:"astc-4x4-unorm",ASTC4x4UnormSRGB:"astc-4x4-unorm-srgb",ASTC5x4Unorm:"astc-5x4-unorm",ASTC5x4UnormSRGB:"astc-5x4-unorm-srgb",ASTC5x5Unorm:"astc-5x5-unorm",ASTC5x5UnormSRGB:"astc-5x5-unorm-srgb",ASTC6x5Unorm:"astc-6x5-unorm",ASTC6x5UnormSRGB:"astc-6x5-unorm-srgb",ASTC6x6Unorm:"astc-6x6-unorm",ASTC6x6UnormSRGB:"astc-6x6-unorm-srgb",ASTC8x5Unorm:"astc-8x5-unorm",ASTC8x5UnormSRGB:"astc-8x5-unorm-srgb",ASTC8x6Unorm:"astc-8x6-unorm",ASTC8x6UnormSRGB:"astc-8x6-unorm-srgb",ASTC8x8Unorm:"astc-8x8-unorm",ASTC8x8UnormSRGB:"astc-8x8-unorm-srgb",ASTC10x5Unorm:"astc-10x5-unorm",ASTC10x5UnormSRGB:"astc-10x5-unorm-srgb",ASTC10x6Unorm:"astc-10x6-unorm",ASTC10x6UnormSRGB:"astc-10x6-unorm-srgb",ASTC10x8Unorm:"astc-10x8-unorm",ASTC10x8UnormSRGB:"astc-10x8-unorm-srgb",ASTC10x10Unorm:"astc-10x10-unorm",ASTC10x10UnormSRGB:"astc-10x10-unorm-srgb",ASTC12x10Unorm:"astc-12x10-unorm",ASTC12x10UnormSRGB:"astc-12x10-unorm-srgb",ASTC12x12Unorm:"astc-12x12-unorm",ASTC12x12UnormSRGB:"astc-12x12-unorm-srgb"},AD={ClampToEdge:"clamp-to-edge",Repeat:"repeat",MirrorRepeat:"mirror-repeat"},v0={Linear:"linear",Nearest:"nearest"},ti={Zero:"zero",One:"one",Src:"src",OneMinusSrc:"one-minus-src",SrcAlpha:"src-alpha",OneMinusSrcAlpha:"one-minus-src-alpha",Dst:"dst",OneMinusDst:"one-minus-dst",DstAlpha:"dst-alpha",OneMinusDstAlpha:"one-minus-dst-alpha",SrcAlphaSaturated:"src-alpha-saturated",Constant:"constant",OneMinusConstant:"one-minus-constant"},Jm={Add:"add",Subtract:"subtract",ReverseSubtract:"reverse-subtract",Min:"min",Max:"max"},SY={None:0,All:15},ap={Keep:"keep",Zero:"zero",Replace:"replace",Invert:"invert",IncrementClamp:"increment-clamp",DecrementClamp:"decrement-clamp",IncrementWrap:"increment-wrap",DecrementWrap:"decrement-wrap"},vD={Storage:"storage",ReadOnlyStorage:"read-only-storage"},yD={WriteOnly:"write-only",ReadOnly:"read-only",ReadWrite:"read-write"},wY={NonFiltering:"non-filtering",Comparison:"comparison"},e0={Float:"float",UnfilterableFloat:"unfilterable-float",Depth:"depth",SInt:"sint",UInt:"uint"},CY={TwoD:"2d",ThreeD:"3d"},oa={TwoD:"2d",TwoDArray:"2d-array",Cube:"cube",ThreeD:"3d"},Dot={All:"all"},CT={Vertex:"vertex",Instance:"instance"},B6={CoreFeaturesAndLimits:"core-features-and-limits",DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionBCSliced3D:"texture-compression-bc-sliced-3d",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TextureCompressionASTCSliced3D:"texture-compression-astc-sliced-3d",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable",Float32Blendable:"float32-blendable",ClipDistances:"clip-distances",DualSourceBlending:"dual-source-blending",Subgroups:"subgroups",TextureFormatsTier1:"texture-formats-tier1",TextureFormatsTier2:"texture-formats-tier2"},TY={"texture-compression-s3tc":"texture-compression-bc","texture-compression-etc1":"texture-compression-etc2"};class Lot extends $fe{constructor(e,n,r){super(e,n?n.value:null),this.textureNode=n,this.groupNode=r}update(){const{textureNode:e}=this;return this.texture!==e.value?(this.texture=e.value,!0):super.update()}}class Bot extends Dfe{constructor(e,n){super(e,n?n.array:null),this.attribute=n,this.isStorageBuffer=!0}}let Fot=0;class $ot extends Bot{constructor(e,n){super("StorageBuffer_"+Fot++,e?e.value:null),this.nodeUniform=e,this.access=e?e.access:es.READ_WRITE,this.groupNode=n}get buffer(){return this.nodeUniform.value}}class kot extends wm{constructor(e){super(),this.device=e;const n=`
struct VarysStruct {
	@builtin( position ) Position: vec4<f32>,
	@location( 0 ) vTex : vec2<f32>
};

@vertex
fn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {

	var Varys : VarysStruct;

	var pos = array< vec2<f32>, 4 >(
		vec2<f32>( -1.0,  1.0 ),
		vec2<f32>(  1.0,  1.0 ),
		vec2<f32>( -1.0, -1.0 ),
		vec2<f32>(  1.0, -1.0 )
	);

	var tex = array< vec2<f32>, 4 >(
		vec2<f32>( 0.0, 0.0 ),
		vec2<f32>( 1.0, 0.0 ),
		vec2<f32>( 0.0, 1.0 ),
		vec2<f32>( 1.0, 1.0 )
	);

	Varys.vTex = tex[ vertexIndex ];
	Varys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );

	return Varys;

}
`,r=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vTex );

}
`,i=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );

}
`;this.mipmapSampler=e.createSampler({minFilter:v0.Linear}),this.flipYSampler=e.createSampler({minFilter:v0.Nearest}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=e.createShaderModule({label:"mipmapVertex",code:n}),this.mipmapFragmentShaderModule=e.createShaderModule({label:"mipmapFragment",code:r}),this.flipYFragmentShaderModule=e.createShaderModule({label:"flipYFragment",code:i})}getTransferPipeline(e){let n=this.transferPipelines[e];return n===void 0&&(n=this.device.createRenderPipeline({label:`mipmap-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:mv.TriangleStrip,stripIndexFormat:Xy.Uint32},layout:"auto"}),this.transferPipelines[e]=n),n}getFlipYPipeline(e){let n=this.flipYPipelines[e];return n===void 0&&(n=this.device.createRenderPipeline({label:`flipY-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:mv.TriangleStrip,stripIndexFormat:Xy.Uint32},layout:"auto"}),this.flipYPipelines[e]=n),n}flipY(e,n,r=0){const i=n.format,{width:o,height:a}=n.size,s=this.getTransferPipeline(i),l=this.getFlipYPipeline(i),c=this.device.createTexture({size:{width:o,height:a,depthOrArrayLayers:1},format:i,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),u=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:oa.TwoD,baseArrayLayer:r}),d=c.createView({baseMipLevel:0,mipLevelCount:1,dimension:oa.TwoD,baseArrayLayer:0}),f=this.device.createCommandEncoder({}),h=(p,_,x)=>{const y=p.getBindGroupLayout(0),w=this.device.createBindGroup({layout:y,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:_}]}),C=f.beginRenderPass({colorAttachments:[{view:x,loadOp:_i.Clear,storeOp:Vs.Store,clearValue:[0,0,0,0]}]});C.setPipeline(p),C.setBindGroup(0,w),C.draw(4,1,0,0),C.end()};h(s,u,d),h(l,d,u),this.device.queue.submit([f.finish()]),c.destroy()}generateMipmaps(e,n,r=0,i=null){const o=this.get(e);o.layers===void 0&&(o.layers=[]);const a=o.layers[r]||this._mipmapCreateBundles(e,n,r),s=i||this.device.createCommandEncoder({label:"mipmapEncoder"});this._mipmapRunBundles(s,a),i===null&&this.device.queue.submit([s.finish()]),o.layers[r]=a}_mipmapCreateBundles(e,n,r){const i=this.getTransferPipeline(n.format),o=i.getBindGroupLayout(0);let a=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:oa.TwoD,baseArrayLayer:r});const s=[];for(let l=1;l<n.mipLevelCount;l++){const c=this.device.createBindGroup({layout:o,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:a}]}),u=e.createView({baseMipLevel:l,mipLevelCount:1,dimension:oa.TwoD,baseArrayLayer:r}),d={colorAttachments:[{view:u,loadOp:_i.Clear,storeOp:Vs.Store,clearValue:[0,0,0,0]}]},f=this.device.createRenderBundleEncoder({colorFormats:[n.format]});f.setPipeline(i),f.setBindGroup(0,c),f.draw(4,1,0,0),s.push({renderBundles:[f.finish()],passDescriptor:d}),a=u}return s}_mipmapRunBundles(e,n){const r=n.length;for(let i=0;i<r;i++){const o=n[i],a=e.beginRenderPass(o.passDescriptor);a.executeBundles(o.renderBundles),a.end()}}}const Uot={[a7]:"never",[pS]:"less",[s7]:"equal",[mS]:"less-equal",[l7]:"greater",[gS]:"greater-equal",[u7]:"always",[c7]:"not-equal"},zot=[0,1,3,2,4,5];class Vot{constructor(e){this.backend=e,this._passUtils=null,this.defaultTexture={},this.defaultCubeTexture={},this.defaultVideoFrame=null,this._samplerCache=new Map}updateSampler(e){const n=this.backend,r=e.minFilter+"-"+e.magFilter+"-"+e.wrapS+"-"+e.wrapT+"-"+(e.wrapR||"0")+"-"+e.anisotropy+"-"+(e.compareFunction||0);let i=this._samplerCache.get(r);if(i===void 0){const a={addressModeU:this._convertAddressMode(e.wrapS),addressModeV:this._convertAddressMode(e.wrapT),addressModeW:this._convertAddressMode(e.wrapR),magFilter:this._convertFilterMode(e.magFilter),minFilter:this._convertFilterMode(e.minFilter),mipmapFilter:this._convertFilterMode(e.minFilter),maxAnisotropy:1};a.magFilter===v0.Linear&&a.minFilter===v0.Linear&&a.mipmapFilter===v0.Linear&&(a.maxAnisotropy=e.anisotropy),e.isDepthTexture&&e.compareFunction!==null&&(a.compare=Uot[e.compareFunction]),i={sampler:n.device.createSampler(a),usedTimes:0},this._samplerCache.set(r,i)}const o=n.get(e);if(o.sampler!==i.sampler){if(o.sampler!==void 0){const a=this._samplerCache.get(o.samplerKey);a.usedTimes--,a.usedTimes===0&&this._samplerCache.delete(o.samplerKey)}o.samplerKey=r,o.sampler=i.sampler,i.usedTimes++}return r}createDefaultTexture(e){let n;const r=F6(e);e.isCubeTexture?n=this._getDefaultCubeTextureGPU(r):n=this._getDefaultTextureGPU(r),this.backend.get(e).texture=n}createTexture(e,n={}){const r=this.backend,i=r.get(e);if(i.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");if(e.isExternalTexture){i.texture=e.sourceTexture,i.initialized=!0;return}n.needsMipmaps===void 0&&(n.needsMipmaps=!1),n.levels===void 0&&(n.levels=1),n.depth===void 0&&(n.depth=1);const{width:o,height:a,depth:s,levels:l}=n;e.isFramebufferTexture&&(n.renderTarget?n.format=this.backend.utils.getCurrentColorFormat(n.renderTarget):n.format=this.backend.utils.getPreferredCanvasFormat());const c=this._getDimension(e),u=e.internalFormat||n.format||F6(e,r.device);i.format=u;const{samples:d,primarySamples:f,isMSAA:h}=r.utils.getTextureSampleData(e);let p=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;e.isStorageTexture===!0&&(p|=GPUTextureUsage.STORAGE_BINDING),e.isCompressedTexture!==!0&&e.isCompressedArrayTexture!==!0&&u!==rt.RGB9E5UFloat&&(p|=GPUTextureUsage.RENDER_ATTACHMENT);const _={label:e.name,size:{width:o,height:a,depthOrArrayLayers:s},mipLevelCount:l,sampleCount:f,dimension:c,format:u,usage:p};if(u===void 0){Vt("WebGPURenderer: Texture format not supported."),this.createDefaultTexture(e);return}if(e.isCubeTexture&&(_.textureBindingViewDimension=oa.Cube),i.texture=r.device.createTexture(_),h){const x=Object.assign({},_);x.label=x.label+"-msaa",x.sampleCount=d,x.mipLevelCount=1,i.msaaTexture=r.device.createTexture(x)}i.initialized=!0,i.textureDescriptorGPU=_}destroyTexture(e,n=!1){const r=this.backend,i=r.get(e);i.texture!==void 0&&n===!1&&i.texture.destroy(),i.msaaTexture!==void 0&&i.msaaTexture.destroy(),r.delete(e)}generateMipmaps(e,n=null){const r=this.backend.get(e);if(e.isCubeTexture)for(let i=0;i<6;i++)this._generateMipmaps(r.texture,r.textureDescriptorGPU,i,n);else{const i=e.image.depth||1;for(let o=0;o<i;o++)this._generateMipmaps(r.texture,r.textureDescriptorGPU,o,n)}}getColorBuffer(){const e=this.backend,n=e.renderer.getCanvasTarget(),{width:r,height:i}=e.getDrawingBufferSize(),o=e.renderer.currentSamples,a=n.colorTexture,s=e.get(a);if(a.width===r&&a.height===i&&a.samples===o)return s.texture;let l=s.texture;return l&&l.destroy(),l=e.device.createTexture({label:"colorBuffer",size:{width:r,height:i,depthOrArrayLayers:1},sampleCount:e.utils.getSampleCount(e.renderer.currentSamples),format:e.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),a.source.width=r,a.source.height=i,a.samples=o,s.texture=l,l}getDepthBuffer(e=!0,n=!1){const r=this.backend,i=r.renderer.getCanvasTarget(),{width:o,height:a}=r.getDrawingBufferSize(),s=r.renderer.currentSamples,l=i.depthTexture;if(l.width===o&&l.height===a&&l.samples===s&&l.depth===e&&l.stencil===n)return r.get(l).texture;const c=r.get(l).texture;let u,d;if(n?(u=Ks,d=uc):e&&(u=os,d=Ni),c!==void 0){if(l.image.width===o&&l.image.height===a&&l.format===u&&l.type===d&&l.samples===s)return c;this.destroyTexture(l)}return l.name="depthBuffer",l.format=u,l.type=d,l.image.width=o,l.image.height=a,l.samples=s,this.createTexture(l,{width:o,height:a}),r.get(l).texture}updateTexture(e,n){const r=this.backend.get(e),i=e.mipmaps,{textureDescriptorGPU:o}=r;if(!(e.isRenderTargetTexture||o===void 0)){if(e.isDataTexture)if(i.length>0)for(let a=0,s=i.length;a<s;a++){const l=i[a];this._copyBufferToTexture(l,r.texture,o,0,e.flipY,0,a)}else this._copyBufferToTexture(n.image,r.texture,o,0,e.flipY);else if(e.isArrayTexture||e.isDataArrayTexture||e.isData3DTexture)for(let a=0;a<n.image.depth;a++)this._copyBufferToTexture(n.image,r.texture,o,a,e.flipY,a);else if(e.isCompressedTexture||e.isCompressedArrayTexture)this._copyCompressedBufferToTexture(e.mipmaps,r.texture,o);else if(e.isCubeTexture)this._copyCubeMapToTexture(e,r.texture,o);else if(i.length>0)for(let a=0,s=i.length;a<s;a++){const l=i[a];this._copyImageToTexture(l,r.texture,o,0,e.flipY,e.premultiplyAlpha,a)}else this._copyImageToTexture(n.image,r.texture,o,0,e.flipY,e.premultiplyAlpha);r.version=e.version}}async copyTextureToBuffer(e,n,r,i,o,a){const s=this.backend.device,l=this.backend.get(e),c=l.texture,u=l.textureDescriptorGPU.format,d=this._getBytesPerTexel(u);let f=i*d;f=Math.ceil(f/256)*256;const h=s.createBuffer({size:(o-1)*f+i*d,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),p=s.createCommandEncoder();p.copyTextureToBuffer({texture:c,origin:{x:n,y:r,z:a}},{buffer:h,bytesPerRow:f},{width:i,height:o});const _=this._getTypedArrayType(u);s.queue.submit([p.finish()]),await h.mapAsync(GPUMapMode.READ);const x=h.getMappedRange();return new _(x)}dispose(){this._samplerCache.clear()}_getDefaultTextureGPU(e){let n=this.defaultTexture[e];if(n===void 0){const r=new la;r.minFilter=Ii,r.magFilter=Ii,this.createTexture(r,{width:1,height:1,format:e}),this.defaultTexture[e]=n=r}return this.backend.get(n).texture}_getDefaultCubeTextureGPU(e){let n=this.defaultCubeTexture[e];if(n===void 0){const r=new yS;r.minFilter=Ii,r.magFilter=Ii,this.createTexture(r,{width:1,height:1,depth:6}),this.defaultCubeTexture[e]=n=r}return this.backend.get(n).texture}_copyCubeMapToTexture(e,n,r){const i=e.images,o=e.mipmaps;for(let a=0;a<6;a++){const s=i[a],l=e.flipY===!0?zot[a]:a;s.isDataTexture?this._copyBufferToTexture(s.image,n,r,l,e.flipY):this._copyImageToTexture(s,n,r,l,e.flipY,e.premultiplyAlpha);for(let c=0;c<o.length;c++){const d=o[c].images[a];d.isDataTexture?this._copyBufferToTexture(d.image,n,r,l,e.flipY,0,c+1):this._copyImageToTexture(d,n,r,l,e.flipY,e.premultiplyAlpha,c+1)}}}_copyImageToTexture(e,n,r,i,o,a,s=0){const l=this.backend.device,c=s>0?e.width:r.size.width,u=s>0?e.height:r.size.height;try{l.queue.copyExternalImageToTexture({source:e,flipY:o},{texture:n,mipLevel:s,origin:{x:0,y:0,z:i},premultipliedAlpha:a},{width:c,height:u,depthOrArrayLayers:1})}catch{}}_getPassUtils(){let e=this._passUtils;return e===null&&(this._passUtils=e=new kot(this.backend.device)),e}_generateMipmaps(e,n,r=0,i=null){this._getPassUtils().generateMipmaps(e,n,r,i)}_flipY(e,n,r=0){this._getPassUtils().flipY(e,n,r)}_copyBufferToTexture(e,n,r,i,o,a=0,s=0){const l=this.backend.device,c=e.data,u=this._getBytesPerTexel(r.format),d=e.width*u;l.queue.writeTexture({texture:n,mipLevel:s,origin:{x:0,y:0,z:i}},c,{offset:e.width*e.height*u*a,bytesPerRow:d},{width:e.width,height:e.height,depthOrArrayLayers:1}),o===!0&&this._flipY(n,r,i)}_copyCompressedBufferToTexture(e,n,r){const i=this.backend.device,o=this._getBlockData(r.format),a=r.size.depthOrArrayLayers>1;for(let s=0;s<e.length;s++){const l=e[s],c=l.width,u=l.height,d=a?r.size.depthOrArrayLayers:1,f=Math.ceil(c/o.width)*o.byteLength,h=f*Math.ceil(u/o.height);for(let p=0;p<d;p++)i.queue.writeTexture({texture:n,mipLevel:s,origin:{x:0,y:0,z:p}},l.data,{offset:p*h,bytesPerRow:f,rowsPerImage:Math.ceil(u/o.height)},{width:Math.ceil(c/o.width)*o.width,height:Math.ceil(u/o.height)*o.height,depthOrArrayLayers:1})}}_getBlockData(e){if(e===rt.BC1RGBAUnorm||e===rt.BC1RGBAUnormSRGB)return{byteLength:8,width:4,height:4};if(e===rt.BC2RGBAUnorm||e===rt.BC2RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===rt.BC3RGBAUnorm||e===rt.BC3RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===rt.BC4RUnorm||e===rt.BC4RSnorm)return{byteLength:8,width:4,height:4};if(e===rt.BC5RGUnorm||e===rt.BC5RGSnorm)return{byteLength:16,width:4,height:4};if(e===rt.BC6HRGBUFloat||e===rt.BC6HRGBFloat)return{byteLength:16,width:4,height:4};if(e===rt.BC7RGBAUnorm||e===rt.BC7RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===rt.ETC2RGB8Unorm||e===rt.ETC2RGB8UnormSRGB)return{byteLength:8,width:4,height:4};if(e===rt.ETC2RGB8A1Unorm||e===rt.ETC2RGB8A1UnormSRGB)return{byteLength:8,width:4,height:4};if(e===rt.ETC2RGBA8Unorm||e===rt.ETC2RGBA8UnormSRGB)return{byteLength:16,width:4,height:4};if(e===rt.EACR11Unorm)return{byteLength:8,width:4,height:4};if(e===rt.EACR11Snorm)return{byteLength:8,width:4,height:4};if(e===rt.EACRG11Unorm)return{byteLength:16,width:4,height:4};if(e===rt.EACRG11Snorm)return{byteLength:16,width:4,height:4};if(e===rt.ASTC4x4Unorm||e===rt.ASTC4x4UnormSRGB)return{byteLength:16,width:4,height:4};if(e===rt.ASTC5x4Unorm||e===rt.ASTC5x4UnormSRGB)return{byteLength:16,width:5,height:4};if(e===rt.ASTC5x5Unorm||e===rt.ASTC5x5UnormSRGB)return{byteLength:16,width:5,height:5};if(e===rt.ASTC6x5Unorm||e===rt.ASTC6x5UnormSRGB)return{byteLength:16,width:6,height:5};if(e===rt.ASTC6x6Unorm||e===rt.ASTC6x6UnormSRGB)return{byteLength:16,width:6,height:6};if(e===rt.ASTC8x5Unorm||e===rt.ASTC8x5UnormSRGB)return{byteLength:16,width:8,height:5};if(e===rt.ASTC8x6Unorm||e===rt.ASTC8x6UnormSRGB)return{byteLength:16,width:8,height:6};if(e===rt.ASTC8x8Unorm||e===rt.ASTC8x8UnormSRGB)return{byteLength:16,width:8,height:8};if(e===rt.ASTC10x5Unorm||e===rt.ASTC10x5UnormSRGB)return{byteLength:16,width:10,height:5};if(e===rt.ASTC10x6Unorm||e===rt.ASTC10x6UnormSRGB)return{byteLength:16,width:10,height:6};if(e===rt.ASTC10x8Unorm||e===rt.ASTC10x8UnormSRGB)return{byteLength:16,width:10,height:8};if(e===rt.ASTC10x10Unorm||e===rt.ASTC10x10UnormSRGB)return{byteLength:16,width:10,height:10};if(e===rt.ASTC12x10Unorm||e===rt.ASTC12x10UnormSRGB)return{byteLength:16,width:12,height:10};if(e===rt.ASTC12x12Unorm||e===rt.ASTC12x12UnormSRGB)return{byteLength:16,width:12,height:12}}_convertAddressMode(e){let n=AD.ClampToEdge;return e===sg?n=AD.Repeat:e===lg&&(n=AD.MirrorRepeat),n}_convertFilterMode(e){let n=v0.Linear;return(e===Ii||e===i7||e===Xf)&&(n=v0.Nearest),n}_getBytesPerTexel(e){if(e===rt.R8Unorm||e===rt.R8Snorm||e===rt.R8Uint||e===rt.R8Sint)return 1;if(e===rt.R16Uint||e===rt.R16Sint||e===rt.R16Float||e===rt.RG8Unorm||e===rt.RG8Snorm||e===rt.RG8Uint||e===rt.RG8Sint)return 2;if(e===rt.R32Uint||e===rt.R32Sint||e===rt.R32Float||e===rt.RG16Uint||e===rt.RG16Sint||e===rt.RG16Float||e===rt.RGBA8Unorm||e===rt.RGBA8UnormSRGB||e===rt.RGBA8Snorm||e===rt.RGBA8Uint||e===rt.RGBA8Sint||e===rt.BGRA8Unorm||e===rt.BGRA8UnormSRGB||e===rt.RGB9E5UFloat||e===rt.RGB10A2Unorm||e===rt.RG11B10UFloat||e===rt.Depth32Float||e===rt.Depth24Plus||e===rt.Depth24PlusStencil8||e===rt.Depth32FloatStencil8)return 4;if(e===rt.RG32Uint||e===rt.RG32Sint||e===rt.RG32Float||e===rt.RGBA16Uint||e===rt.RGBA16Sint||e===rt.RGBA16Float)return 8;if(e===rt.RGBA32Uint||e===rt.RGBA32Sint||e===rt.RGBA32Float)return 16}_getTypedArrayType(e){if(e===rt.R8Uint)return Uint8Array;if(e===rt.R8Sint)return Int8Array;if(e===rt.R8Unorm)return Uint8Array;if(e===rt.R8Snorm)return Int8Array;if(e===rt.RG8Uint)return Uint8Array;if(e===rt.RG8Sint)return Int8Array;if(e===rt.RG8Unorm)return Uint8Array;if(e===rt.RG8Snorm)return Int8Array;if(e===rt.RGBA8Uint)return Uint8Array;if(e===rt.RGBA8Sint)return Int8Array;if(e===rt.RGBA8Unorm||e===rt.RGBA8UnormSRGB)return Uint8Array;if(e===rt.RGBA8Snorm)return Int8Array;if(e===rt.R16Uint)return Uint16Array;if(e===rt.R16Sint)return Int16Array;if(e===rt.RG16Uint)return Uint16Array;if(e===rt.RG16Sint)return Int16Array;if(e===rt.RGBA16Uint)return Uint16Array;if(e===rt.RGBA16Sint)return Int16Array;if(e===rt.R16Float||e===rt.RG16Float||e===rt.RGBA16Float)return Uint16Array;if(e===rt.R32Uint)return Uint32Array;if(e===rt.R32Sint)return Int32Array;if(e===rt.R32Float)return Float32Array;if(e===rt.RG32Uint)return Uint32Array;if(e===rt.RG32Sint)return Int32Array;if(e===rt.RG32Float)return Float32Array;if(e===rt.RGBA32Uint)return Uint32Array;if(e===rt.RGBA32Sint)return Int32Array;if(e===rt.RGBA32Float)return Float32Array;if(e===rt.BGRA8Unorm||e===rt.BGRA8UnormSRGB)return Uint8Array;if(e===rt.RGB10A2Unorm||e===rt.RGB9E5UFloat||e===rt.RG11B10UFloat)return Uint32Array;if(e===rt.Depth32Float)return Float32Array;if(e===rt.Depth24Plus||e===rt.Depth24PlusStencil8)return Uint32Array;if(e===rt.Depth32FloatStencil8)return Float32Array}_getDimension(e){let n;return e.is3DTexture||e.isData3DTexture?n=CY.ThreeD:n=CY.TwoD,n}}function F6(t,e=null){const n=t.format,r=t.type,i=t.colorSpace,o=fr.getTransfer(i);let a;if(t.isCompressedTexture===!0||t.isCompressedArrayTexture===!0)switch(n){case Gp:case Hp:a=o===In?rt.BC1RGBAUnormSRGB:rt.BC1RGBAUnorm;break;case jp:a=o===In?rt.BC2RGBAUnormSRGB:rt.BC2RGBAUnorm;break;case qp:a=o===In?rt.BC3RGBAUnormSRGB:rt.BC3RGBAUnorm;break;case Ry:a=rt.BC4RUnorm;break;case Ny:a=rt.BC4RSnorm;break;case ug:a=rt.BC5RGUnorm;break;case Iy:a=rt.BC5RGSnorm;break;case Py:a=o===In?rt.BC7RGBAUnormSRGB:rt.BC7RGBAUnorm;break;case uy:case cy:a=o===In?rt.ETC2RGB8UnormSRGB:rt.ETC2RGB8Unorm;break;case dy:a=o===In?rt.ETC2RGBA8UnormSRGB:rt.ETC2RGBA8Unorm;break;case fy:a=rt.EACR11Unorm;break;case hy:a=rt.EACR11Snorm;break;case cg:a=rt.EACRG11Unorm;break;case py:a=rt.EACRG11Snorm;break;case my:a=o===In?rt.ASTC4x4UnormSRGB:rt.ASTC4x4Unorm;break;case gy:a=o===In?rt.ASTC5x4UnormSRGB:rt.ASTC5x4Unorm;break;case Ay:a=o===In?rt.ASTC5x5UnormSRGB:rt.ASTC5x5Unorm;break;case vy:a=o===In?rt.ASTC6x5UnormSRGB:rt.ASTC6x5Unorm;break;case yy:a=o===In?rt.ASTC6x6UnormSRGB:rt.ASTC6x6Unorm;break;case by:a=o===In?rt.ASTC8x5UnormSRGB:rt.ASTC8x5Unorm;break;case xy:a=o===In?rt.ASTC8x6UnormSRGB:rt.ASTC8x6Unorm;break;case _y:a=o===In?rt.ASTC8x8UnormSRGB:rt.ASTC8x8Unorm;break;case Sy:a=o===In?rt.ASTC10x5UnormSRGB:rt.ASTC10x5Unorm;break;case wy:a=o===In?rt.ASTC10x6UnormSRGB:rt.ASTC10x6Unorm;break;case Cy:a=o===In?rt.ASTC10x8UnormSRGB:rt.ASTC10x8Unorm;break;case Ty:a=o===In?rt.ASTC10x10UnormSRGB:rt.ASTC10x10Unorm;break;case Ey:a=o===In?rt.ASTC12x10UnormSRGB:rt.ASTC12x10Unorm;break;case My:a=o===In?rt.ASTC12x12UnormSRGB:rt.ASTC12x12Unorm;break;case qo:a=o===In?rt.RGBA8UnormSRGB:rt.RGBA8Unorm;break;default:Kt("WebGPURenderer: Unsupported texture format.",n)}else switch(n){case qo:switch(r){case z0:a=rt.RGBA8Snorm;break;case V0:a=rt.RGBA16Sint;break;case ju:a=rt.RGBA16Uint;break;case Ni:a=rt.RGBA32Uint;break;case Ia:a=rt.RGBA32Sint;break;case no:a=o===In?rt.RGBA8UnormSRGB:rt.RGBA8Unorm;break;case io:a=rt.RGBA16Float;break;case Ho:a=rt.RGBA32Float;break;default:Kt("WebGPURenderer: Unsupported texture type with RGBAFormat.",r)}break;case fS:switch(r){case MR:a=rt.RGB9E5UFloat;break;case PR:a=rt.RG11B10UFloat;break;default:Kt("WebGPURenderer: Unsupported texture type with RGBFormat.",r)}break;case hS:switch(r){case z0:a=rt.R8Snorm;break;case V0:a=rt.R16Sint;break;case ju:a=rt.R16Uint;break;case Ni:a=rt.R32Uint;break;case Ia:a=rt.R32Sint;break;case no:a=rt.R8Unorm;break;case io:a=rt.R16Float;break;case Ho:a=rt.R32Float;break;default:Kt("WebGPURenderer: Unsupported texture type with RedFormat.",r)}break;case Qs:switch(r){case z0:a=rt.RG8Snorm;break;case V0:a=rt.RG16Sint;break;case ju:a=rt.RG16Uint;break;case Ni:a=rt.RG32Uint;break;case Ia:a=rt.RG32Sint;break;case no:a=rt.RG8Unorm;break;case io:a=rt.RG16Float;break;case Ho:a=rt.RG32Float;break;default:Kt("WebGPURenderer: Unsupported texture type with RGFormat.",r)}break;case os:switch(r){case ju:a=rt.Depth16Unorm;break;case Ni:a=rt.Depth24Plus;break;case Ho:a=rt.Depth32Float;break;default:Kt("WebGPURenderer: Unsupported texture type with DepthFormat.",r)}break;case Ks:switch(r){case uc:a=rt.Depth24PlusStencil8;break;case Ho:e&&e.features.has(B6.Depth32FloatStencil8)===!1&&Kt('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),a=rt.Depth32FloatStencil8;break;default:Kt("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",r)}break;case S1:switch(r){case Ia:a=rt.R32Sint;break;case Ni:a=rt.R32Uint;break;default:Kt("WebGPURenderer: Unsupported texture type with RedIntegerFormat.",r)}break;case w1:switch(r){case Ia:a=rt.RG32Sint;break;case Ni:a=rt.RG32Uint;break;default:Kt("WebGPURenderer: Unsupported texture type with RGIntegerFormat.",r)}break;case C1:switch(r){case Ia:a=rt.RGBA32Sint;break;case Ni:a=rt.RGBA32Uint;break;default:Kt("WebGPURenderer: Unsupported texture type with RGBAIntegerFormat.",r)}break;default:Kt("WebGPURenderer: Unsupported texture format.",n)}return a}const Got=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/i,Hot=/([a-z_0-9]+)\s*:\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/ig,EY={f32:"float",i32:"int",u32:"uint",bool:"bool","vec2<f32>":"vec2","vec2<i32>":"ivec2","vec2<u32>":"uvec2","vec2<bool>":"bvec2",vec2f:"vec2",vec2i:"ivec2",vec2u:"uvec2",vec2b:"bvec2","vec3<f32>":"vec3","vec3<i32>":"ivec3","vec3<u32>":"uvec3","vec3<bool>":"bvec3",vec3f:"vec3",vec3i:"ivec3",vec3u:"uvec3",vec3b:"bvec3","vec4<f32>":"vec4","vec4<i32>":"ivec4","vec4<u32>":"uvec4","vec4<bool>":"bvec4",vec4f:"vec4",vec4i:"ivec4",vec4u:"uvec4",vec4b:"bvec4","mat2x2<f32>":"mat2",mat2x2f:"mat2","mat3x3<f32>":"mat3",mat3x3f:"mat3","mat4x4<f32>":"mat4",mat4x4f:"mat4",sampler:"sampler",texture_1d:"texture",texture_2d:"texture",texture_2d_array:"texture",texture_multisampled_2d:"cubeTexture",texture_depth_2d:"depthTexture",texture_depth_2d_array:"depthTexture",texture_depth_multisampled_2d:"depthTexture",texture_depth_cube:"depthTexture",texture_depth_cube_array:"depthTexture",texture_3d:"texture3D",texture_cube:"cubeTexture",texture_cube_array:"cubeTexture",texture_storage_1d:"storageTexture",texture_storage_2d:"storageTexture",texture_storage_2d_array:"storageTexture",texture_storage_3d:"storageTexture"},jot=t=>{t=t.trim();const e=t.match(Got);if(e!==null&&e.length===4){const n=e[2],r=[];let i=null;for(;(i=Hot.exec(n))!==null;)r.push({name:i[1],type:i[2]});const o=[];for(let u=0;u<r.length;u++){const{name:d,type:f}=r[u];let h=f;h.startsWith("ptr")?h="pointer":(h.startsWith("texture")&&(h=f.split("<")[0]),h=EY[h]),o.push(new C9(h,d))}const a=t.substring(e[0].length),s=e[3]||"void",l=e[1]!==void 0?e[1]:"";return{type:EY[s]||s,inputs:o,name:l,inputsCode:n,blockCode:a,outputType:s}}else throw new Error("FunctionNode: Function is not a WGSL code.")};class qot extends E9{constructor(e){const{type:n,inputs:r,name:i,inputsCode:o,blockCode:a,outputType:s}=jot(e);super(n,r,i),this.inputsCode=o,this.blockCode=a,this.outputType=s}getCode(e=this.name){const n=this.outputType!=="void"?"-> "+this.outputType:"";return`fn ${e} ( ${this.inputsCode.trim()} ) ${n}`+this.blockCode}}class Wot extends Nfe{parseFunction(e){return new qot(e)}}const Xot={[es.READ_ONLY]:"read",[es.WRITE_ONLY]:"write",[es.READ_WRITE]:"read_write"},MY={[sg]:"repeat",[wl]:"clamp",[lg]:"mirror"},TT={vertex:L0.VERTEX,fragment:L0.FRAGMENT,compute:L0.COMPUTE},PY={instance:!0,swizzleAssign:!1,storageBuffer:!0},Yot={"^^":"tsl_xor"},Kot={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat2:"mat2x2<f32>",mat3:"mat3x3<f32>",mat4:"mat4x4<f32>"},RY={},Zb={tsl_xor:new Pa("fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }"),mod_float:new Pa("fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }"),mod_vec2:new Pa("fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }"),mod_vec3:new Pa("fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }"),mod_vec4:new Pa("fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }"),equals_bool:new Pa("fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }"),equals_bvec2:new Pa("fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }"),equals_bvec3:new Pa("fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }"),equals_bvec4:new Pa("fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }"),repeatWrapping_float:new Pa("fn tsl_repeatWrapping_float( coord: f32 ) -> f32 { return fract( coord ); }"),mirrorWrapping_float:new Pa("fn tsl_mirrorWrapping_float( coord: f32 ) -> f32 { let mirrored = fract( coord * 0.5 ) * 2.0; return 1.0 - abs( 1.0 - mirrored ); }"),clampWrapping_float:new Pa("fn tsl_clampWrapping_float( coord: f32 ) -> f32 { return clamp( coord, 0.0, 1.0 ); }"),biquadraticTexture:new Pa(`
fn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, iRes : vec2u, level : u32 ) -> vec4f {

	let res = vec2f( iRes );

	let uvScaled = coord * res;
	let uvWrapping = ( ( uvScaled % res ) + res ) % res;

	// https://www.shadertoy.com/view/WtyXRy

	let uv = uvWrapping - 0.5;
	let iuv = floor( uv );
	let f = fract( uv );

	let rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );
	let rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );
	let rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );
	let rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );

	return mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );

}
`)},Qot={dFdx:"dpdx",dFdy:"- dpdy",mod_float:"tsl_mod_float",mod_vec2:"tsl_mod_vec2",mod_vec3:"tsl_mod_vec3",mod_vec4:"tsl_mod_vec4",equals_bool:"tsl_equals_bool",equals_bvec2:"tsl_equals_bvec2",equals_bvec3:"tsl_equals_bvec3",equals_bvec4:"tsl_equals_bvec4",inversesqrt:"inverseSqrt",bitcast:"bitcast<f32>",floatpack_snorm_2x16:"pack2x16snorm",floatpack_unorm_2x16:"pack2x16unorm",floatpack_float16_2x16:"pack2x16float",floatunpack_snorm_2x16:"unpack2x16snorm",floatunpack_unorm_2x16:"unpack2x16unorm",floatunpack_float16_2x16:"unpack2x16float"};let Vfe="";(typeof navigator<"u"&&/Firefox|Deno/g.test(navigator.userAgent))!==!0&&(Vfe+=`diagnostic( off, derivative_uniformity );
`);class Zot extends Rfe{constructor(e,n){super(e,n,new Wot),this.uniformGroups={},this.builtins={},this.directives={},this.scopedArrays=new Map}_generateTextureSample(e,n,r,i,o,a=this.shaderStage){return a==="fragment"?i?o?`textureSample( ${n}, ${n}_sampler, ${r}, ${i}, ${o} )`:`textureSample( ${n}, ${n}_sampler, ${r}, ${i} )`:o?`textureSample( ${n}, ${n}_sampler, ${r}, ${o} )`:`textureSample( ${n}, ${n}_sampler, ${r} )`:this.generateTextureSampleLevel(e,n,r,"0",i)}generateTextureSampleLevel(e,n,r,i,o,a){return this.isUnfilterable(e)===!1?a?`textureSampleLevel( ${n}, ${n}_sampler, ${r}, ${i}, ${a} )`:`textureSampleLevel( ${n}, ${n}_sampler, ${r}, ${i} )`:this.isFilteredTexture(e)?this.generateFilteredTexture(e,n,r,a,i):this.generateTextureLod(e,n,r,o,a,i)}generateWrapFunction(e){const n=`tsl_coord_${MY[e.wrapS]}S_${MY[e.wrapT]}_${e.is3DTexture||e.isData3DTexture?"3d":"2d"}T`;let r=RY[n];if(r===void 0){const i=[],o=e.is3DTexture||e.isData3DTexture?"vec3f":"vec2f";let a=`fn ${n}( coord : ${o} ) -> ${o} {

	return ${o}(
`;const s=(l,c)=>{l===sg?(i.push(Zb.repeatWrapping_float),a+=`		tsl_repeatWrapping_float( coord.${c} )`):l===wl?(i.push(Zb.clampWrapping_float),a+=`		tsl_clampWrapping_float( coord.${c} )`):l===lg?(i.push(Zb.mirrorWrapping_float),a+=`		tsl_mirrorWrapping_float( coord.${c} )`):(a+=`		coord.${c}`,Vt(`WebGPURenderer: Unsupported texture wrap type "${l}" for vertex shader.`))};s(e.wrapS,"x"),a+=`,
`,s(e.wrapT,"y"),(e.is3DTexture||e.isData3DTexture)&&(a+=`,
`,s(e.wrapR,"z")),a+=`
	);

}
`,RY[n]=r=new Pa(a,i)}return r.build(this),n}generateArrayDeclaration(e,n){return`array< ${this.getType(e)}, ${n} >`}generateTextureDimension(e,n,r){const i=this.getDataFromNode(e,this.shaderStage,this.globalCache);i.dimensionsSnippet===void 0&&(i.dimensionsSnippet={});let o=i.dimensionsSnippet[r];if(i.dimensionsSnippet[r]===void 0){let a,s;const{primarySamples:l}=this.renderer.backend.utils.getTextureSampleData(e),c=l>1;e.is3DTexture||e.isData3DTexture?s="vec3<u32>":s="vec2<u32>",c||e.isStorageTexture?a=n:a=`${n}${r?`, u32( ${r} )`:""}`,o=new OE(new DE(`textureDimensions( ${a} )`,s)),i.dimensionsSnippet[r]=o,(e.isArrayTexture||e.isDataArrayTexture||e.is3DTexture||e.isData3DTexture)&&(i.arrayLayerCount=new OE(new DE(`textureNumLayers(${n})`,"u32"))),e.isTextureCube&&(i.cubeFaceCount=new OE(new DE("6u","u32")))}return o.build(this)}generateFilteredTexture(e,n,r,i,o="0u"){this._include("biquadraticTexture");const a=this.generateWrapFunction(e),s=this.generateTextureDimension(e,n,o);return i&&(r=`${r} + vec2<f32>(${i}) / ${s}`),`tsl_biquadraticTexture( ${n}, ${a}( ${r} ), ${s}, u32( ${o} ) )`}generateTextureLod(e,n,r,i,o,a="0u"){const s=this.generateWrapFunction(e),l=this.generateTextureDimension(e,n,a),c=e.is3DTexture||e.isData3DTexture?"vec3":"vec2";o&&(r=`${r} + ${c}<f32>(${o}) / ${c}<f32>( ${l} )`);const u=`${c}<u32>( ${s}( ${r} ) * ${c}<f32>( ${l} ) )`;return this.generateTextureLoad(e,n,u,a,i,null)}generateTextureLoad(e,n,r,i,o,a){i===null&&(i="0u"),a&&(r=`${r} + ${a}`);let s;return o?s=`textureLoad( ${n}, ${r}, ${o}, u32( ${i} ) )`:(s=`textureLoad( ${n}, ${r}, u32( ${i} ) )`,this.renderer.backend.compatibilityMode&&e.isDepthTexture&&(s+=".x")),s}generateTextureStore(e,n,r,i,o){let a;return i?a=`textureStore( ${n}, ${r}, ${i}, ${o} )`:a=`textureStore( ${n}, ${r}, ${o} )`,a}isSampleCompare(e){return e.isDepthTexture===!0&&e.compareFunction!==null}isUnfilterable(e){return this.getComponentTypeFromTexture(e)!=="float"||!this.isAvailable("float32Filterable")&&e.isDataTexture===!0&&e.type===Ho||this.isSampleCompare(e)===!1&&e.minFilter===Ii&&e.magFilter===Ii||this.renderer.backend.utils.getTextureSampleData(e).primarySamples>1}generateTexture(e,n,r,i,o,a=this.shaderStage){let s=null;return this.isUnfilterable(e)?s=this.generateTextureLod(e,n,r,i,o,"0",a):s=this._generateTextureSample(e,n,r,i,o,a),s}generateTextureGrad(e,n,r,i,o,a,s=this.shaderStage){if(s==="fragment")return a?`textureSampleGrad( ${n}, ${n}_sampler, ${r},  ${i[0]}, ${i[1]}, ${a} )`:`textureSampleGrad( ${n}, ${n}_sampler, ${r},  ${i[0]}, ${i[1]} )`;Kt(`WebGPURenderer: THREE.TextureNode.gradient() does not support ${s} shader.`)}generateTextureCompare(e,n,r,i,o,a,s=this.shaderStage){if(s==="fragment")return e.isDepthTexture===!0&&e.isArrayTexture===!0?a?`textureSampleCompare( ${n}, ${n}_sampler, ${r}, ${o}, ${i}, ${a} )`:`textureSampleCompare( ${n}, ${n}_sampler, ${r}, ${o}, ${i} )`:a?`textureSampleCompare( ${n}, ${n}_sampler, ${r}, ${i}, ${a} )`:`textureSampleCompare( ${n}, ${n}_sampler, ${r}, ${i} )`;Kt(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${s} shader.`)}generateTextureLevel(e,n,r,i,o,a){return this.isUnfilterable(e)===!1?a?`textureSampleLevel( ${n}, ${n}_sampler, ${r}, ${i}, ${a} )`:`textureSampleLevel( ${n}, ${n}_sampler, ${r}, ${i} )`:this.isFilteredTexture(e)?this.generateFilteredTexture(e,n,r,a,i):this.generateTextureLod(e,n,r,o,a,i)}generateTextureBias(e,n,r,i,o,a,s=this.shaderStage){if(s==="fragment")return a?`textureSampleBias( ${n}, ${n}_sampler, ${r}, ${i}, ${a} )`:`textureSampleBias( ${n}, ${n}_sampler, ${r}, ${i} )`;Kt(`WebGPURenderer: THREE.TextureNode.biasNode does not support ${s} shader.`)}getPropertyName(e,n=this.shaderStage){if(e.isNodeVarying===!0&&e.needsInterpolation===!0){if(n==="vertex")return`varyings.${e.name}`}else if(e.isNodeUniform===!0){const r=e.name,i=e.type;return i==="texture"||i==="cubeTexture"||i==="cubeDepthTexture"||i==="storageTexture"||i==="texture3D"?r:i==="buffer"||i==="storageBuffer"||i==="indirectStorageBuffer"?this.isCustomStruct(e)?r:r+".value":e.groupNode.name+"."+r}return super.getPropertyName(e)}getOutputStructName(){return"output"}getFunctionOperator(e){const n=Yot[e];return n!==void 0?(this._include(n),n):null}getNodeAccess(e,n){return n!=="compute"?e.isAtomic===!0?(Vt("WebGPURenderer: Atomic operations are only supported in compute shaders."),es.READ_WRITE):es.READ_ONLY:e.access}getStorageAccess(e,n){return Xot[this.getNodeAccess(e,n)]}getUniformFromNode(e,n,r,i=null){const o=super.getUniformFromNode(e,n,r,i),a=this.getDataFromNode(e,r,this.globalCache);if(a.uniformGPU===void 0){let s;const l=e.groupNode,c=l.name,u=this.getBindGroupArray(c,r);if(n==="texture"||n==="cubeTexture"||n==="cubeDepthTexture"||n==="storageTexture"||n==="texture3D"){let d=null;const f=this.getNodeAccess(e,r);if(n==="texture"||n==="storageTexture"?e.value.is3DTexture===!0?d=new L6(o.name,o.node,l,f):d=new bN(o.name,o.node,l,f):n==="cubeTexture"||n==="cubeDepthTexture"?d=new kfe(o.name,o.node,l,f):n==="texture3D"&&(d=new L6(o.name,o.node,l,f)),d.store=e.isStorageTextureNode===!0,d.mipLevel=d.store?e.mipLevel:0,d.setVisibility(TT[r]),this.isUnfilterable(e.value)===!1&&d.store===!1){const h=new Lot(`${o.name}_sampler`,o.node,l);h.setVisibility(TT[r]),u.push(h,d),s=[h,d]}else u.push(d),s=[d]}else if(n==="buffer"||n==="storageBuffer"||n==="indirectStorageBuffer"){const d=this.getSharedDataFromNode(e);let f=d.buffer;if(f===void 0){const h=n==="buffer"?Bfe:$ot;f=new h(e,l),d.buffer=f}f.setVisibility(f.getVisibility()|TT[r]),u.push(f),s=f,o.name=i||"NodeBuffer_"+o.id}else{const d=this.uniformGroups[r]||(this.uniformGroups[r]={});let f=d[c];f===void 0&&(f=new Ffe(c,l),f.setVisibility(TT[r]),d[c]=f,u.push(f)),s=this.getNodeUniform(o,n),f.addUniform(s)}a.uniformGPU=s}return o}getBuiltin(e,n,r,i=this.shaderStage){const o=this.builtins[i]||(this.builtins[i]=new Map);return o.has(e)===!1&&o.set(e,{name:e,property:n,type:r}),n}hasBuiltin(e,n=this.shaderStage){return this.builtins[n]!==void 0&&this.builtins[n].has(e)}getVertexIndex(){return this.shaderStage==="vertex"?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}buildFunctionCode(e){const n=e.layout,r=this.flowShaderNode(e),i=[];for(const a of n.inputs)i.push(a.name+" : "+this.getType(a.type));let o=`fn ${n.name}( ${i.join(", ")} ) -> ${this.getType(n.type)} {
${r.vars}
${r.code}
`;return r.result&&(o+=`	return ${r.result};
`),o+=`
}
`,o}getInstanceIndex(){return this.shaderStage==="vertex"?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getInvocationLocalIndex(){return this.getBuiltin("local_invocation_index","invocationLocalIndex","u32","attribute")}getSubgroupSize(){return this.enableSubGroups(),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute")}getInvocationSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_invocation_id","invocationSubgroupIndex","u32","attribute")}getSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_id","subgroupIndex","u32","attribute")}getDrawIndex(){return null}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>")+".xy"}getFragDepth(){return"output."+this.getBuiltin("frag_depth","depth","f32","output")}getClipDistance(){return"varyings.hw_clip_distances"}isFlipY(){return!1}enableDirective(e,n=this.shaderStage){(this.directives[n]||(this.directives[n]=new Set)).add(e)}getDirectives(e){const n=[],r=this.directives[e];if(r!==void 0)for(const i of r)n.push(`enable ${i};`);return n.join(`
`)}enableSubGroups(){this.enableDirective("subgroups")}enableSubgroupsF16(){this.enableDirective("subgroups-f16")}enableClipDistances(){this.enableDirective("clip_distances")}enableShaderF16(){this.enableDirective("f16")}enableDualSourceBlending(){this.enableDirective("dual_source_blending")}enableHardwareClipping(e){this.enableClipDistances(),this.getBuiltin("clip_distances","hw_clip_distances",`array<f32, ${e} >`,"vertex")}getBuiltins(e){const n=[],r=this.builtins[e];if(r!==void 0)for(const{name:i,property:o,type:a}of r.values())n.push(`@builtin( ${i} ) ${o} : ${a}`);return n.join(`,
	`)}getScopedArray(e,n,r,i){return this.scopedArrays.has(e)===!1&&this.scopedArrays.set(e,{name:e,scope:n,bufferType:r,bufferCount:i}),e}getScopedArrays(e){if(e!=="compute")return;const n=[];for(const{name:r,scope:i,bufferType:o,bufferCount:a}of this.scopedArrays.values()){const s=this.getType(o);n.push(`var<${i}> ${r}: array< ${s}, ${a} >;`)}return n.join(`
`)}getAttributes(e){const n=[];if(e==="compute"&&(this.getBuiltin("global_invocation_id","globalId","vec3<u32>","attribute"),this.getBuiltin("workgroup_id","workgroupId","vec3<u32>","attribute"),this.getBuiltin("local_invocation_id","localId","vec3<u32>","attribute"),this.getBuiltin("num_workgroups","numWorkgroups","vec3<u32>","attribute"),this.renderer.hasFeature("subgroups")&&(this.enableDirective("subgroups",e),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute"))),e==="vertex"||e==="compute"){const r=this.getBuiltins("attribute");r&&n.push(r);const i=this.getAttributesArray();for(let o=0,a=i.length;o<a;o++){const s=i[o],l=s.name,c=this.getType(s.type);n.push(`@location( ${o} ) ${l} : ${c}`)}}return n.join(`,
	`)}getStructMembers(e){const n=[];for(const r of e.members){const i=e.output?"@location( "+r.index+" ) ":"";let o=this.getType(r.type);r.atomic&&(o="atomic< "+o+" >"),n.push(`	${i+r.name} : ${o}`)}return e.output&&n.push(`	${this.getBuiltins("output")}`),n.join(`,
`)}getStructs(e){let n="";const r=this.structs[e];if(r.length>0){const i=[];for(const o of r){let a=`struct ${o.name} {
`;a+=this.getStructMembers(o),a+=`
};`,i.push(a)}n=`
`+i.join(`

`)+`
`}return n}getVar(e,n,r=null){let i=`var ${n} : `;return r!==null?i+=this.generateArrayDeclaration(e,r):i+=this.getType(e),i}getVars(e){const n=[],r=this.vars[e];if(r!==void 0)for(const i of r)n.push(`	${this.getVar(i.type,i.name,i.count)};`);return`
${n.join(`
`)}
`}getVaryings(e){const n=[];if(e==="vertex"&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),e==="vertex"||e==="fragment"){const o=this.varyings,a=this.vars[e];for(let s=0;s<o.length;s++){const l=o[s];if(l.needsInterpolation){let c=`@location( ${s} )`;if(l.interpolationType){const u=l.interpolationSampling!==null?`, ${l.interpolationSampling} )`:" )";c+=` @interpolate( ${l.interpolationType}${u}`}else/^(int|uint|ivec|uvec)/.test(l.type)&&(c+=` @interpolate( ${this.renderer.backend.compatibilityMode?"flat, either":"flat"} )`);n.push(`${c} ${l.name} : ${this.getType(l.type)}`)}else e==="vertex"&&a.includes(l)===!1&&a.push(l)}}const r=this.getBuiltins(e);r&&n.push(r);const i=n.join(`,
	`);return e==="vertex"?this._getWGSLStruct("VaryingsStruct","	"+i):i}isCustomStruct(e){const n=e.value,r=e.node,i=(n.isBufferAttribute||n.isInstancedBufferAttribute)&&r.structTypeNode!==null,o=r.value&&r.value.array&&typeof r.value.itemSize=="number"&&r.value.array.length>r.value.itemSize;return i&&!o}getUniforms(e){const n=this.uniforms[e],r=[],i=[],o=[],a={};for(const l of n){const c=l.groupNode.name,u=this.bindingsIndexes[c];if(l.type==="texture"||l.type==="cubeTexture"||l.type==="cubeDepthTexture"||l.type==="storageTexture"||l.type==="texture3D"){const d=l.node.value;this.isUnfilterable(d)===!1&&l.node.isStorageTextureNode!==!0&&(this.isSampleCompare(d)?r.push(`@binding( ${u.binding++} ) @group( ${u.group} ) var ${l.name}_sampler : sampler_comparison;`):r.push(`@binding( ${u.binding++} ) @group( ${u.group} ) var ${l.name}_sampler : sampler;`));let f,h="";const{primarySamples:p}=this.renderer.backend.utils.getTextureSampleData(d);if(p>1&&(h="_multisampled"),d.isCubeTexture===!0&&d.isDepthTexture===!0)f="texture_depth_cube";else if(d.isCubeTexture===!0)f="texture_cube<f32>";else if(d.isDepthTexture===!0)this.renderer.backend.compatibilityMode&&d.compareFunction===null?f=`texture${h}_2d<f32>`:f=`texture_depth${h}_2d${d.isArrayTexture===!0?"_array":""}`;else if(l.node.isStorageTextureNode===!0){const _=F6(d),x=this.getStorageAccess(l.node,e),y=l.node.value.is3DTexture,w=l.node.value.isArrayTexture;f=`texture_storage_${y?"3d":`2d${w?"_array":""}`}<${_}, ${x}>`}else if(d.isArrayTexture===!0||d.isDataArrayTexture===!0||d.isCompressedArrayTexture===!0)f="texture_2d_array<f32>";else if(d.is3DTexture===!0||d.isData3DTexture===!0)f="texture_3d<f32>";else{const _=this.getComponentTypeFromTexture(d).charAt(0);f=`texture${h}_2d<${_}32>`}r.push(`@binding( ${u.binding++} ) @group( ${u.group} ) var ${l.name} : ${f};`)}else if(l.type==="buffer"||l.type==="storageBuffer"||l.type==="indirectStorageBuffer"){const d=l.node,f=this.getType(d.getNodeType(this)),h=d.bufferCount,p=h>0&&l.type==="buffer"?", "+h:"",_=d.isStorageBufferNode?`storage, ${this.getStorageAccess(d,e)}`:"uniform";if(this.isCustomStruct(l))i.push(`@binding( ${u.binding++} ) @group( ${u.group} ) var<${_}> ${l.name} : ${f};`);else{const y=`	value : array< ${d.isAtomic?`atomic<${f}>`:`${f}`}${p} >`;i.push(this._getWGSLStructBinding(l.name,y,_,u.binding++,u.group))}}else{const d=this.getType(this.getVectorType(l.type)),f=l.groupNode.name;(a[f]||(a[f]={index:u.binding++,id:u.group,snippets:[]})).snippets.push(`	${l.name} : ${d}`)}}for(const l in a){const c=a[l];o.push(this._getWGSLStructBinding(l,c.snippets.join(`,
`),"uniform",c.index,c.id))}return[...r,...i,...o].join(`
`)}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const n in e){this.shaderStage=n;const r=e[n];r.uniforms=this.getUniforms(n),r.attributes=this.getAttributes(n),r.varyings=this.getVaryings(n),r.structs=this.getStructs(n),r.vars=this.getVars(n),r.codes=this.getCodes(n),r.directives=this.getDirectives(n),r.scopedArrays=this.getScopedArrays(n);let i=`// code

`;i+=this.flowCode[n];const o=this.flowNodes[n],a=o[o.length-1],s=a.outputNode,l=s!==void 0&&s.isOutputStructNode===!0;for(const c of o){const u=this.getFlowData(c),d=c.name;if(d&&(i.length>0&&(i+=`
`),i+=`	// flow -> ${d}
`),i+=`${u.code}
	`,c===a&&n!=="compute"){if(i+=`// result

	`,n==="vertex")i+=`varyings.Vertex = ${u.result};`;else if(n==="fragment")if(l)r.returnType=s.getNodeType(this),r.structs+="var<private> output : "+r.returnType+";",i+=`return ${u.result};`;else{let f="	@location(0) color: vec4<f32>";const h=this.getBuiltins("output");h&&(f+=`,
	`+h),r.returnType="OutputStruct",r.structs+=this._getWGSLStruct("OutputStruct",f),r.structs+=`
var<private> output : OutputStruct;`,i+=`output.color = ${u.result};

	return output;`}}}r.flow=i}if(this.shaderStage=null,this.material!==null)this.vertexShader=this._getWGSLVertexCode(e.vertex),this.fragmentShader=this._getWGSLFragmentCode(e.fragment);else{const n=this.object.workgroupSize;this.computeShader=this._getWGSLComputeCode(e.compute,n)}}getMethod(e,n=null){let r;return n!==null&&(r=this._getWGSLMethod(e+"_"+n)),r===void 0&&(r=this._getWGSLMethod(e)),r||e}getBitcastMethod(e){return`bitcast<${this.getType(e)}>`}getFloatPackingMethod(e){return this.getMethod(`floatpack_${e}_2x16`)}getFloatUnpackingMethod(e){return this.getMethod(`floatunpack_${e}_2x16`)}getTernary(e,n,r){return`select( ${r}, ${n}, ${e} )`}getType(e){return Kot[e]||e}isAvailable(e){let n=PY[e];return n===void 0&&(e==="float32Filterable"?n=this.renderer.hasFeature("float32-filterable"):e==="clipDistance"&&(n=this.renderer.hasFeature("clip-distances")),PY[e]=n),n}_getWGSLMethod(e){return Zb[e]!==void 0&&this._include(e),Qot[e]}_include(e){const n=Zb[e];return n.build(this),this.addInclude(n),n}_getWGSLVertexCode(e){return`${this.getSignature()}
// directives
${e.directives}

// structs
${e.structs}

// uniforms
${e.uniforms}

// varyings
${e.varyings}
var<private> varyings : VaryingsStruct;

// codes
${e.codes}

@vertex
fn main( ${e.attributes} ) -> VaryingsStruct {

	// vars
	${e.vars}

	// flow
	${e.flow}

	return varyings;

}
`}_getWGSLFragmentCode(e){return`${this.getSignature()}
// global
${Vfe}

// structs
${e.structs}

// uniforms
${e.uniforms}

// codes
${e.codes}

@fragment
fn main( ${e.varyings} ) -> ${e.returnType} {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLComputeCode(e,n){const[r,i,o]=n;return`${this.getSignature()}
// directives
${e.directives}

// system
var<private> instanceIndex : u32;

// locals
${e.scopedArrays}

// structs
${e.structs}

// uniforms
${e.uniforms}

// codes
${e.codes}

@compute @workgroup_size( ${r}, ${i}, ${o} )
fn main( ${e.attributes} ) {

	// system
	instanceIndex = globalId.x
		+ globalId.y * ( ${r} * numWorkgroups.x )
		+ globalId.z * ( ${r} * numWorkgroups.x ) * ( ${i} * numWorkgroups.y );

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLStruct(e,n){return`
struct ${e} {
${n}
};`}_getWGSLStructBinding(e,n,r,i=0,o=0){const a=e+"Struct";return`${this._getWGSLStruct(a,n)}
@binding( ${i} ) @group( ${o} )
var<${r}> ${e} : ${a};`}}class Jot{constructor(e){this.backend=e}getCurrentDepthStencilFormat(e){let n;return e.depthTexture!==null?n=this.getTextureFormatGPU(e.depthTexture):e.depth&&e.stencil?n=rt.Depth24PlusStencil8:e.depth&&(n=rt.Depth24Plus),n}getTextureFormatGPU(e){return this.backend.get(e).format}getTextureSampleData(e){let n;if(e.isFramebufferTexture)n=1;else if(e.isDepthTexture&&!e.renderTarget){const o=this.backend.renderer,a=o.getRenderTarget();n=a?a.samples:o.currentSamples}else e.renderTarget&&(n=e.renderTarget.samples);n=n||1;const r=n>1&&e.renderTarget!==null&&e.isDepthTexture!==!0&&e.isFramebufferTexture!==!0;return{samples:n,primarySamples:r?1:n,isMSAA:r}}getCurrentColorFormat(e){let n;return e.textures!==null?n=this.getTextureFormatGPU(e.textures[0]):n=this.getPreferredCanvasFormat(),n}getCurrentColorFormats(e){return e.textures!==null?e.textures.map(n=>this.getTextureFormatGPU(n)):[this.getPreferredCanvasFormat()]}getCurrentColorSpace(e){return e.textures!==null?e.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(e,n){if(e.isPoints)return mv.PointList;if(e.isLineSegments||e.isMesh&&n.wireframe===!0)return mv.LineList;if(e.isLine)return mv.LineStrip;if(e.isMesh)return mv.TriangleList}getSampleCount(e){return e>=4?4:1}getSampleCountRenderContext(e){return e.textures!==null?this.getSampleCount(e.sampleCount):this.getSampleCount(this.backend.renderer.currentSamples)}getPreferredCanvasFormat(){const n=this.backend.parameters.outputType;if(n===void 0)return navigator.gpu.getPreferredCanvasFormat();if(n===no)return rt.BGRA8Unorm;if(n===io)return rt.RGBA16Float;throw new Error("Unsupported output buffer type.")}}const Gfe=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]);typeof Float16Array<"u"&&Gfe.set(Float16Array,["float16"]);const eat=new Map([[dae,["float16"]]]),tat=new Map([[Int32Array,"sint32"],[Int16Array,"sint32"],[Uint32Array,"uint32"],[Uint16Array,"uint32"],[Float32Array,"float32"]]);class nat{constructor(e){this.backend=e}createAttribute(e,n){const r=this._getBufferAttribute(e),i=this.backend,o=i.get(r);let a=o.buffer;if(a===void 0){const s=i.device;let l=r.array;if(e.normalized===!1){if(l.constructor===Int16Array||l.constructor===Int8Array)l=new Int32Array(l);else if((l.constructor===Uint16Array||l.constructor===Uint8Array)&&(l=new Uint32Array(l),n&GPUBufferUsage.INDEX))for(let d=0;d<l.length;d++)l[d]===65535&&(l[d]=4294967295)}if(r.array=l,(r.isStorageBufferAttribute||r.isStorageInstancedBufferAttribute)&&r.itemSize===3){l=new l.constructor(r.count*4);for(let d=0;d<r.count;d++)l.set(r.array.subarray(d*3,d*3+3),d*4);r.itemSize=4,r.array=l,o._force3to4BytesAlignment=!0}const c=l.byteLength,u=c+(4-c%4)%4;a=s.createBuffer({label:r.name,size:u,usage:n,mappedAtCreation:!0}),new l.constructor(a.getMappedRange()).set(l),a.unmap(),o.buffer=a}}updateAttribute(e){const n=this._getBufferAttribute(e),r=this.backend,i=r.device,o=r.get(n),a=r.get(n).buffer;let s=n.array;if(o._force3to4BytesAlignment===!0){s=new s.constructor(n.count*4);for(let c=0;c<n.count;c++)s.set(n.array.subarray(c*3,c*3+3),c*4);n.array=s}const l=n.updateRanges;if(l.length===0)i.queue.writeBuffer(a,0,s,0);else{const c=zM(s),u=c?1:s.BYTES_PER_ELEMENT;for(let d=0,f=l.length;d<f;d++){const h=l[d];let p,_;if(o._force3to4BytesAlignment===!0){const y=Math.floor(h.start/3),w=Math.ceil(h.count/3);p=y*4*u,_=w*4*u}else p=h.start*u,_=h.count*u;const x=p*(c?s.BYTES_PER_ELEMENT:1);i.queue.writeBuffer(a,x,s,p,_)}n.clearUpdateRanges()}}createShaderVertexBuffers(e){const n=e.getAttributes(),r=new Map;for(let i=0;i<n.length;i++){const o=n[i],a=o.array.BYTES_PER_ELEMENT,s=this._getBufferAttribute(o);let l=r.get(s);if(l===void 0){let d,f;o.isInterleavedBufferAttribute===!0?(d=o.data.stride*a,f=o.data.isInstancedInterleavedBuffer?CT.Instance:CT.Vertex):(d=o.itemSize*a,f=o.isInstancedBufferAttribute?CT.Instance:CT.Vertex),o.normalized===!1&&(o.array.constructor===Int16Array||o.array.constructor===Uint16Array)&&(d=4),l={arrayStride:d,attributes:[],stepMode:f},r.set(s,l)}const c=this._getVertexFormat(o),u=o.isInterleavedBufferAttribute===!0?o.offset*a:0;l.attributes.push({shaderLocation:i,offset:u,format:c})}return Array.from(r.values())}destroyAttribute(e){const n=this.backend;n.get(this._getBufferAttribute(e)).buffer.destroy(),n.delete(e)}async getArrayBufferAsync(e){const n=this.backend,r=n.device,o=n.get(this._getBufferAttribute(e)).buffer,a=o.size,s=r.createBuffer({label:`${e.name}_readback`,size:a,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),l=r.createCommandEncoder({label:`readback_encoder_${e.name}`});l.copyBufferToBuffer(o,0,s,0,a);const c=l.finish();r.queue.submit([c]),await s.mapAsync(GPUMapMode.READ);const u=s.getMappedRange(),d=new e.array.constructor(u.slice(0));return s.unmap(),d.buffer}_getVertexFormat(e){const{itemSize:n,normalized:r}=e,i=e.array.constructor,o=e.constructor;let a;if(n===1)a=tat.get(i);else{const l=(eat.get(o)||Gfe.get(i))[r?1:0];if(l){const c=i.BYTES_PER_ELEMENT*n,d=Math.floor((c+3)/4)*4/i.BYTES_PER_ELEMENT;if(d%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");a=`${l}x${d}`}}return a||Kt("WebGPUAttributeUtils: Vertex format not supported yet."),a}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}class rat{constructor(e){this.layoutGPU=e,this.usedTimes=0}}class iat{constructor(e){this.backend=e,this._bindGroupLayoutCache=new Map}createBindingsLayout(e){const n=this.backend,r=n.device,i=n.get(e);if(i.layout)return i.layout.layoutGPU;const o=this._createLayoutEntries(e),a=JSON.stringify(o);let s=this._bindGroupLayoutCache.get(a);return s===void 0&&(s=new rat(r.createBindGroupLayout({entries:o})),this._bindGroupLayoutCache.set(a,s)),s.usedTimes++,i.layout=s,i.layoutKey=a,s.layoutGPU}createBindings(e,n,r,i=0){const{backend:o}=this,a=o.get(e),s=this.createBindingsLayout(e);let l;r>0&&(a.groups===void 0&&(a.groups=[],a.versions=[]),a.versions[r]===i&&(l=a.groups[r])),l===void 0&&(l=this.createBindGroup(e,s),r>0&&(a.groups[r]=l,a.versions[r]=i)),a.group=l}updateBinding(e){const n=this.backend,r=n.device,i=e.buffer,o=n.get(e).buffer,a=e.updateRanges;if(a.length===0)r.queue.writeBuffer(o,0,i,0);else{const s=zM(i),l=s?1:i.BYTES_PER_ELEMENT;for(let c=0,u=a.length;c<u;c++){const d=a[c],f=d.start*l,h=d.count*l,p=f*(s?i.BYTES_PER_ELEMENT:1);r.queue.writeBuffer(o,p,i,f,h)}e.clearUpdateRanges()}}createBindGroupIndex(e,n){const i=this.backend.device,o=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,a=e[0],s=i.createBuffer({label:"bindingCameraIndex_"+a,size:16,usage:o});i.queue.writeBuffer(s,0,e,0);const l=[{binding:0,resource:{buffer:s}}];return i.createBindGroup({label:"bindGroupCameraIndex_"+a,layout:n,entries:l})}createBindGroup(e,n){const r=this.backend,i=r.device;let o=0;const a=[];for(const s of e.bindings){if(s.isUniformBuffer){const l=r.get(s);if(l.buffer===void 0){const c=s.byteLength,u=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,d=[];s.visibility&L0.VERTEX&&d.push("vertex"),s.visibility&L0.FRAGMENT&&d.push("fragment"),s.visibility&L0.COMPUTE&&d.push("compute");const f=`(${d.join(",")})`,h=i.createBuffer({label:`bindingBuffer${s.id}_${s.name}_${f}`,size:c,usage:u});l.buffer=h}a.push({binding:o,resource:{buffer:l.buffer}})}else if(s.isStorageBuffer){const l=r.get(s);if(l.buffer===void 0){const c=s.attribute;l.buffer=r.get(c).buffer}a.push({binding:o,resource:{buffer:l.buffer}})}else if(s.isSampledTexture){const l=r.get(s.texture);let c;if(l.externalTexture!==void 0)c=i.importExternalTexture({source:l.externalTexture});else{const u=s.store?1:l.texture.mipLevelCount,d=s.store?s.mipLevel:0;let f=`view-${l.texture.width}-${l.texture.height}`;if(l.texture.depthOrArrayLayers>1&&(f+=`-${l.texture.depthOrArrayLayers}`),f+=`-${u}-${d}`,c=l[f],c===void 0){const h=Dot.All;let p;s.isSampledCubeTexture?p=oa.Cube:s.isSampledTexture3D?p=oa.ThreeD:s.texture.isArrayTexture||s.texture.isDataArrayTexture||s.texture.isCompressedArrayTexture?p=oa.TwoDArray:p=oa.TwoD,c=l[f]=l.texture.createView({aspect:h,dimension:p,mipLevelCount:u,baseMipLevel:d})}}a.push({binding:o,resource:c})}else if(s.isSampler){const l=r.get(s.texture);a.push({binding:o,resource:l.sampler})}o++}return i.createBindGroup({label:"bindGroup_"+e.name,layout:n,entries:a})}_createLayoutEntries(e){const n=[];let r=0;for(const i of e.bindings){const o=this.backend,a={binding:r,visibility:i.visibility};if(i.isUniformBuffer||i.isStorageBuffer){const s={};i.isStorageBuffer&&(i.visibility&L0.COMPUTE&&(i.access===es.READ_WRITE||i.access===es.WRITE_ONLY)?s.type=vD.Storage:s.type=vD.ReadOnlyStorage),a.buffer=s}else if(i.isSampledTexture&&i.store){const s={};s.format=this.backend.get(i.texture).texture.format;const l=i.access;l===es.READ_WRITE?s.access=yD.ReadWrite:l===es.WRITE_ONLY?s.access=yD.WriteOnly:s.access=yD.ReadOnly,i.texture.isArrayTexture?s.viewDimension=oa.TwoDArray:i.texture.is3DTexture&&(s.viewDimension=oa.ThreeD),a.storageTexture=s}else if(i.isSampledTexture){const s={},{primarySamples:l}=o.utils.getTextureSampleData(i.texture);if(l>1&&(s.multisampled=!0,i.texture.isDepthTexture||(s.sampleType=e0.UnfilterableFloat)),i.texture.isDepthTexture)o.compatibilityMode&&i.texture.compareFunction===null?s.sampleType=e0.UnfilterableFloat:s.sampleType=e0.Depth;else if(i.texture.isDataTexture||i.texture.isDataArrayTexture||i.texture.isData3DTexture){const c=i.texture.type;c===Ia?s.sampleType=e0.SInt:c===Ni?s.sampleType=e0.UInt:c===Ho&&(this.backend.hasFeature("float32-filterable")?s.sampleType=e0.Float:s.sampleType=e0.UnfilterableFloat)}i.isSampledCubeTexture?s.viewDimension=oa.Cube:i.texture.isArrayTexture||i.texture.isDataArrayTexture||i.texture.isCompressedArrayTexture?s.viewDimension=oa.TwoDArray:i.isSampledTexture3D&&(s.viewDimension=oa.ThreeD),a.texture=s}else if(i.isSampler){const s={};i.texture.isDepthTexture&&(i.texture.compareFunction!==null?s.type=wY.Comparison:o.compatibilityMode&&(s.type=wY.NonFiltering)),a.sampler=s}else Kt(`WebGPUBindingUtils: Unsupported binding "${i}".`);n.push(a),r++}return n}deleteBindGroupData(e){const{backend:n}=this,r=n.get(e);r.layout&&(r.layout.usedTimes--,r.layout.usedTimes===0&&this._bindGroupLayoutCache.delete(r.layoutKey),r.layout=void 0,r.layoutKey=void 0)}dispose(){this._bindGroupLayoutCache.clear()}}class oat{constructor(e){this.backend=e,this._activePipelines=new WeakMap}setPipeline(e,n){this._activePipelines.get(e)!==n&&(e.setPipeline(n),this._activePipelines.set(e,n))}_getSampleCount(e){return this.backend.utils.getSampleCountRenderContext(e)}createRenderPipeline(e,n){const{object:r,material:i,geometry:o,pipeline:a}=e,{vertexProgram:s,fragmentProgram:l}=a,c=this.backend,u=c.device,d=c.utils,f=c.get(a),h=[];for(const q of e.getBindings()){const G=c.get(q),{layoutGPU:j}=G.layout;h.push(j)}const p=c.attributeUtils.createShaderVertexBuffers(e);let _;i.blending!==nl&&(i.blending!==rl||i.transparent!==!1)&&(_=this._getBlending(i));let x={};i.stencilWrite===!0&&(x={compare:this._getStencilCompare(i),failOp:this._getStencilOperation(i.stencilFail),depthFailOp:this._getStencilOperation(i.stencilZFail),passOp:this._getStencilOperation(i.stencilZPass)});const y=this._getColorWriteMask(i),w=[];if(e.context.textures!==null){const q=e.context.textures;for(let G=0;G<q.length;G++){const j=d.getTextureFormatGPU(q[G]);G===0?w.push({format:j,blend:_,writeMask:y}):w.push({format:j,writeMask:y})}}else{const q=d.getCurrentColorFormat(e.context);w.push({format:q,blend:_,writeMask:y})}const C=c.get(s).module,M=c.get(l).module,R=this._getPrimitiveState(r,o,i),N=this._getDepthCompare(i),I=d.getCurrentDepthStencilFormat(e.context),B=this._getSampleCount(e.context),D={label:`renderPipeline_${i.name||i.type}_${i.id}`,vertex:Object.assign({},C,{buffers:p}),fragment:Object.assign({},M,{targets:w}),primitive:R,multisample:{count:B,alphaToCoverageEnabled:i.alphaToCoverage&&B>1},layout:u.createPipelineLayout({bindGroupLayouts:h})},$={},z=e.context.depth,V=e.context.stencil;if((z===!0||V===!0)&&(z===!0&&($.format=I,$.depthWriteEnabled=i.depthWrite,$.depthCompare=N),V===!0&&($.stencilFront=x,$.stencilBack={},$.stencilReadMask=i.stencilFuncMask,$.stencilWriteMask=i.stencilWriteMask),i.polygonOffset===!0&&($.depthBias=i.polygonOffsetUnits,$.depthBiasSlopeScale=i.polygonOffsetFactor,$.depthBiasClamp=0),D.depthStencil=$),u.pushErrorScope("validation"),n===null)f.pipeline=u.createRenderPipeline(D),u.popErrorScope().then(q=>{q!==null&&(f.error=!0,Kt(q.message))});else{const q=new Promise(async G=>{try{f.pipeline=await u.createRenderPipelineAsync(D)}catch{}const j=await u.popErrorScope();j!==null&&(f.error=!0,Kt(j.message)),G()});n.push(q)}}createBundleEncoder(e,n="renderBundleEncoder"){const r=this.backend,{utils:i,device:o}=r,a=i.getCurrentDepthStencilFormat(e),s=i.getCurrentColorFormats(e),l=this._getSampleCount(e),c={label:n,colorFormats:s,depthStencilFormat:a,sampleCount:l};return o.createRenderBundleEncoder(c)}createComputePipeline(e,n){const r=this.backend,i=r.device,o=r.get(e.computeProgram).module,a=r.get(e),s=[];for(const l of n){const c=r.get(l),{layoutGPU:u}=c.layout;s.push(u)}a.pipeline=i.createComputePipeline({compute:o,layout:i.createPipelineLayout({bindGroupLayouts:s})})}_getBlending(e){let n,r;const i=e.blending,o=e.blendSrc,a=e.blendDst,s=e.blendEquation;if(i===Rv){const l=e.blendSrcAlpha!==null?e.blendSrcAlpha:o,c=e.blendDstAlpha!==null?e.blendDstAlpha:a,u=e.blendEquationAlpha!==null?e.blendEquationAlpha:s;n={srcFactor:this._getBlendFactor(o),dstFactor:this._getBlendFactor(a),operation:this._getBlendOperation(s)},r={srcFactor:this._getBlendFactor(l),dstFactor:this._getBlendFactor(c),operation:this._getBlendOperation(u)}}else{const l=e.premultipliedAlpha,c=(u,d,f,h)=>{n={srcFactor:u,dstFactor:d,operation:Jm.Add},r={srcFactor:f,dstFactor:h,operation:Jm.Add}};if(l)switch(i){case rl:c(ti.One,ti.OneMinusSrcAlpha,ti.One,ti.OneMinusSrcAlpha);break;case iy:c(ti.One,ti.One,ti.One,ti.One);break;case oy:c(ti.Zero,ti.OneMinusSrc,ti.Zero,ti.One);break;case ay:c(ti.Dst,ti.OneMinusSrcAlpha,ti.Zero,ti.One);break}else switch(i){case rl:c(ti.SrcAlpha,ti.OneMinusSrcAlpha,ti.One,ti.OneMinusSrcAlpha);break;case iy:c(ti.SrcAlpha,ti.One,ti.One,ti.One);break;case oy:Kt("WebGPURenderer: SubtractiveBlending requires material.premultipliedAlpha = true");break;case ay:Kt("WebGPURenderer: MultiplyBlending requires material.premultipliedAlpha = true");break}}if(n!==void 0&&r!==void 0)return{color:n,alpha:r};Kt("WebGPURenderer: Invalid blending: ",i)}_getBlendFactor(e){let n;switch(e){case $f:n=ti.Zero;break;case G$:n=ti.One;break;case H$:n=ti.Src;break;case j$:n=ti.OneMinusSrc;break;case W_:n=ti.SrcAlpha;break;case X_:n=ti.OneMinusSrcAlpha;break;case X$:n=ti.Dst;break;case Y$:n=ti.OneMinusDst;break;case q$:n=ti.DstAlpha;break;case W$:n=ti.OneMinusDstAlpha;break;case K$:n=ti.SrcAlphaSaturated;break;case YZe:n=ti.Constant;break;case KZe:n=ti.OneMinusConstant;break;default:Kt("WebGPURenderer: Blend factor not supported.",e)}return n}_getStencilCompare(e){let n;const r=e.stencilFunc;switch(r){case NBe:n=Ga.Never;break;case x8:n=Ga.Always;break;case IBe:n=Ga.Less;break;case DBe:n=Ga.LessEqual;break;case OBe:n=Ga.Equal;break;case FBe:n=Ga.GreaterEqual;break;case LBe:n=Ga.Greater;break;case BBe:n=Ga.NotEqual;break;default:Kt("WebGPURenderer: Invalid stencil function.",r)}return n}_getStencilOperation(e){let n;switch(e){case s0:n=ap.Keep;break;case wBe:n=ap.Zero;break;case CBe:n=ap.Replace;break;case RBe:n=ap.Invert;break;case TBe:n=ap.IncrementClamp;break;case EBe:n=ap.DecrementClamp;break;case MBe:n=ap.IncrementWrap;break;case PBe:n=ap.DecrementWrap;break;default:Kt("WebGPURenderer: Invalid stencil operation.",n)}return n}_getBlendOperation(e){let n;switch(e){case _s:n=Jm.Add;break;case z$:n=Jm.Subtract;break;case V$:n=Jm.ReverseSubtract;break;case nae:n=Jm.Min;break;case rae:n=Jm.Max;break;default:Kt("WebGPUPipelineUtils: Blend equation not supported.",e)}return n}_getPrimitiveState(e,n,r){const i={},o=this.backend.utils;i.topology=o.getPrimitiveTopology(e,r),n.index!==null&&e.isLine===!0&&e.isLineSegments!==!0&&(i.stripIndexFormat=n.index.array instanceof Uint16Array?Xy.Uint16:Xy.Uint32);let a=r.side===Oi;return e.isMesh&&e.matrixWorld.determinant()<0&&(a=!a),i.frontFace=a===!0?xY.CW:xY.CCW,i.cullMode=r.side===Ko?_Y.None:_Y.Back,i}_getColorWriteMask(e){return e.colorWrite===!0?SY.All:SY.None}_getDepthCompare(e){let n;if(e.depthTest===!1)n=Ga.Always;else{const r=e.depthFunc;switch(r){case Y_:n=Ga.Never;break;case K_:n=Ga.Always;break;case Q_:n=Ga.Less;break;case rm:n=Ga.LessEqual;break;case Z_:n=Ga.Equal;break;case J_:n=Ga.GreaterEqual;break;case e2:n=Ga.Greater;break;case t2:n=Ga.NotEqual;break;default:Kt("WebGPUPipelineUtils: Invalid depth function.",r)}}return n}}class aat extends zfe{constructor(e,n,r=2048){super(r),this.device=e,this.type=n,this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxQueries,label:`queryset_global_timestamp_${n}`});const i=this.maxQueries*8;this.resolveBuffer=this.device.createBuffer({label:`buffer_timestamp_resolve_${n}`,size:i,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.resultBuffer=this.device.createBuffer({label:`buffer_timestamp_result_${n}`,size:i,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ})}allocateQueriesForContext(e){if(!this.trackTimestamp||this.isDisposed)return null;if(this.currentQueryIndex+2>this.maxQueries)return $i(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const n=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryOffsets.set(e,n),n}async resolveQueriesAsync(){if(!this.trackTimestamp||this.currentQueryIndex===0||this.isDisposed)return this.lastValue;if(this.pendingResolve)return this.pendingResolve;this.pendingResolve=this._resolveQueries();try{return await this.pendingResolve}finally{this.pendingResolve=null}}async _resolveQueries(){if(this.isDisposed)return this.lastValue;try{if(this.resultBuffer.mapState!=="unmapped")return this.lastValue;const e=new Map(this.queryOffsets),n=this.currentQueryIndex,r=n*8;this.currentQueryIndex=0,this.queryOffsets.clear();const i=this.device.createCommandEncoder();i.resolveQuerySet(this.querySet,0,n,this.resolveBuffer,0),i.copyBufferToBuffer(this.resolveBuffer,0,this.resultBuffer,0,r);const o=i.finish();if(this.device.queue.submit([o]),this.resultBuffer.mapState!=="unmapped")return this.lastValue;if(await this.resultBuffer.mapAsync(GPUMapMode.READ,0,r),this.isDisposed)return this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue;const a=new BigUint64Array(this.resultBuffer.getMappedRange(0,r)),s={},l=[];for(const[u,d]of e){const f=u.match(/^(.*):f(\d+)$/),h=parseInt(f[2]);l.includes(h)===!1&&l.push(h),s[h]===void 0&&(s[h]=0);const p=a[d],_=a[d+1],x=Number(_-p)/1e6;this.timestamps.set(u,x),s[h]+=x}const c=s[l[l.length-1]];return this.resultBuffer.unmap(),this.lastValue=c,this.frames=l,c}catch(e){return Kt("Error resolving queries:",e),this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue}}async dispose(){if(!this.isDisposed){if(this.isDisposed=!0,this.pendingResolve)try{await this.pendingResolve}catch(e){Kt("Error waiting for pending resolve:",e)}if(this.resultBuffer&&this.resultBuffer.mapState==="mapped")try{this.resultBuffer.unmap()}catch(e){Kt("Error unmapping buffer:",e)}this.querySet&&(this.querySet.destroy(),this.querySet=null),this.resolveBuffer&&(this.resolveBuffer.destroy(),this.resolveBuffer=null),this.resultBuffer&&(this.resultBuffer.destroy(),this.resultBuffer=null),this.queryOffsets.clear(),this.pendingResolve=null}}}class sat extends Ufe{constructor(e={}){super(e),this.isWebGPUBackend=!0,this.parameters.alpha=e.alpha===void 0?!0:e.alpha,this.parameters.compatibilityMode=e.compatibilityMode===void 0?!1:e.compatibilityMode,this.parameters.requiredLimits=e.requiredLimits===void 0?{}:e.requiredLimits,this.compatibilityMode=this.parameters.compatibilityMode,this.device=null,this.defaultRenderPassdescriptor=null,this.utils=new Jot(this),this.attributeUtils=new nat(this),this.bindingUtils=new iat(this),this.pipelineUtils=new oat(this),this.textureUtils=new Vot(this),this.occludedResolveCache=new Map}async init(e){await super.init(e);const n=this.parameters;let r;if(n.device===void 0){const i={powerPreference:n.powerPreference,featureLevel:n.compatibilityMode?"compatibility":void 0},o=typeof navigator<"u"?await navigator.gpu.requestAdapter(i):null;if(o===null)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const a=Object.values(B6),s=[];for(const c of a)o.features.has(c)&&s.push(c);const l={requiredFeatures:s,requiredLimits:n.requiredLimits};r=await o.requestDevice(l)}else r=n.device;r.lost.then(i=>{if(i.reason==="destroyed")return;const o={api:"WebGPU",message:i.message||"Unknown reason",reason:i.reason||null,originalEvent:i};e.onDeviceLost(o)}),this.device=r,this.trackTimestamp=this.trackTimestamp&&this.hasFeature(B6.TimestampQuery),this.updateSize()}get context(){const e=this.renderer.getCanvasTarget(),n=this.get(e);let r=n.context;if(r===void 0){const i=this.parameters;e.isDefaultCanvasTarget===!0&&i.context!==void 0?r=i.context:r=e.domElement.getContext("webgpu"),"setAttribute"in e.domElement&&e.domElement.setAttribute("data-engine",`three.js r${Pg} webgpu`);const o=i.alpha?"premultiplied":"opaque",a=i.outputType===io?"extended":"standard";r.configure({device:this.device,format:this.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:o,toneMapping:{mode:a}}),n.context=r}return r}get coordinateSystem(){return lu}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}getContext(){return this.context}_getDefaultRenderPassDescriptor(){const e=this.renderer,n=e.getCanvasTarget(),r=this.get(n),i=e.currentSamples;let o=r.descriptor;if(o===void 0||r.samples!==i){o={colorAttachments:[{view:null}]},(e.depth===!0||e.stencil===!0)&&(o.depthStencilAttachment={view:this.textureUtils.getDepthBuffer(e.depth,e.stencil).createView()});const s=o.colorAttachments[0];i>0?s.view=this.textureUtils.getColorBuffer().createView():s.resolveTarget=void 0,r.descriptor=o,r.samples=i}const a=o.colorAttachments[0];return i>0?a.resolveTarget=this.context.getCurrentTexture().createView():a.view=this.context.getCurrentTexture().createView(),o}_isRenderCameraDepthArray(e){return e.depthTexture&&e.depthTexture.image.depth>1&&e.camera.isArrayCamera}_getRenderPassDescriptor(e,n={}){const r=e.renderTarget,i=this.get(r);let o=i.descriptors;(o===void 0||i.width!==r.width||i.height!==r.height||i.samples!==r.samples)&&(o={},i.descriptors=o);const a=e.getCacheKey();let s=o[a];if(s===void 0){const c=e.textures,u=[];let d;const f=this._isRenderCameraDepthArray(e);for(let h=0;h<c.length;h++){const p=this.get(c[h]),_={label:`colorAttachment_${h}`,baseMipLevel:e.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:e.activeCubeFace,arrayLayerCount:1,dimension:oa.TwoD};if(r.isRenderTarget3D)d=e.activeCubeFace,_.baseArrayLayer=0,_.dimension=oa.ThreeD,_.depthOrArrayLayers=c[h].image.depth;else if(r.isRenderTarget&&c[h].image.depth>1)if(f===!0){const x=e.camera.cameras;for(let y=0;y<x.length;y++){const w={..._,baseArrayLayer:y,arrayLayerCount:1,dimension:oa.TwoD},C=p.texture.createView(w);u.push({view:C,resolveTarget:void 0,depthSlice:void 0})}}else _.dimension=oa.TwoDArray,_.depthOrArrayLayers=c[h].image.depth;if(f!==!0){const x=p.texture.createView(_);let y,w;p.msaaTexture!==void 0?(y=p.msaaTexture.createView(),w=x):(y=x,w=void 0),u.push({view:y,resolveTarget:w,depthSlice:d})}}if(s={textureViews:u},e.depth){const h=this.get(e.depthTexture),p={};(e.depthTexture.isArrayTexture||e.depthTexture.isCubeTexture)&&(p.dimension=oa.TwoD,p.arrayLayerCount=1,p.baseArrayLayer=e.activeCubeFace),s.depthStencilView=h.texture.createView(p)}o[a]=s,i.width=r.width,i.height=r.height,i.samples=r.samples,i.activeMipmapLevel=e.activeMipmapLevel,i.activeCubeFace=e.activeCubeFace}const l={colorAttachments:[]};for(let c=0;c<s.textureViews.length;c++){const u=s.textureViews[c];let d={r:0,g:0,b:0,a:1};c===0&&n.clearValue&&(d=n.clearValue),l.colorAttachments.push({view:u.view,depthSlice:u.depthSlice,resolveTarget:u.resolveTarget,loadOp:n.loadOp||_i.Load,storeOp:n.storeOp||Vs.Store,clearValue:d})}return s.depthStencilView&&(l.depthStencilAttachment={view:s.depthStencilView}),l}beginRender(e){const n=this.get(e),r=this.device,i=e.occlusionQueryCount;let o;i>0&&(n.currentOcclusionQuerySet&&n.currentOcclusionQuerySet.destroy(),n.currentOcclusionQueryBuffer&&n.currentOcclusionQueryBuffer.destroy(),n.currentOcclusionQuerySet=n.occlusionQuerySet,n.currentOcclusionQueryBuffer=n.occlusionQueryBuffer,n.currentOcclusionQueryObjects=n.occlusionQueryObjects,o=r.createQuerySet({type:"occlusion",count:i,label:`occlusionQuerySet_${e.id}`}),n.occlusionQuerySet=o,n.occlusionQueryIndex=0,n.occlusionQueryObjects=new Array(i),n.lastOcclusionObject=null);let a;e.textures===null?a=this._getDefaultRenderPassDescriptor():a=this._getRenderPassDescriptor(e,{loadOp:_i.Load}),this.initTimestampQuery(Wd.RENDER,this.getTimestampUID(e),a),a.occlusionQuerySet=o;const s=a.depthStencilAttachment;if(e.textures!==null){const c=a.colorAttachments;for(let u=0;u<c.length;u++){const d=c[u];e.clearColor?(d.clearValue=u===0?e.clearColorValue:{r:0,g:0,b:0,a:1},d.loadOp=_i.Clear):d.loadOp=_i.Load,d.storeOp=Vs.Store}}else{const c=a.colorAttachments[0];e.clearColor?(c.clearValue=e.clearColorValue,c.loadOp=_i.Clear):c.loadOp=_i.Load,c.storeOp=Vs.Store}e.depth&&(e.clearDepth?(s.depthClearValue=e.clearDepthValue,s.depthLoadOp=_i.Clear):s.depthLoadOp=_i.Load,s.depthStoreOp=Vs.Store),e.stencil&&(e.clearStencil?(s.stencilClearValue=e.clearStencilValue,s.stencilLoadOp=_i.Clear):s.stencilLoadOp=_i.Load,s.stencilStoreOp=Vs.Store);const l=r.createCommandEncoder({label:"renderContext_"+e.id});if(this._isRenderCameraDepthArray(e)===!0){const c=e.camera.cameras;!n.layerDescriptors||n.layerDescriptors.length!==c.length?this._createDepthLayerDescriptors(e,n,a,c):this._updateDepthLayerDescriptors(e,n,c),n.bundleEncoders=[],n.bundleSets=[];for(let u=0;u<c.length;u++){const d=this.pipelineUtils.createBundleEncoder(e,"renderBundleArrayCamera_"+u),f={attributes:{},bindingGroups:[],pipeline:null,index:null};n.bundleEncoders.push(d),n.bundleSets.push(f)}n.currentPass=null}else{const c=l.beginRenderPass(a);n.currentPass=c,e.viewport&&this.updateViewport(e),e.scissor&&this.updateScissor(e)}n.descriptor=a,n.encoder=l,n.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},n.renderBundles=[]}_createDepthLayerDescriptors(e,n,r,i){const o=r.depthStencilAttachment;n.layerDescriptors=[];const a=this.get(e.depthTexture);a.viewCache||(a.viewCache=[]);for(let s=0;s<i.length;s++){const l={...r,colorAttachments:[{...r.colorAttachments[0],view:r.colorAttachments[s].view}]};if(r.depthStencilAttachment){const c=s;a.viewCache[c]||(a.viewCache[c]=a.texture.createView({dimension:oa.TwoD,baseArrayLayer:s,arrayLayerCount:1})),l.depthStencilAttachment={view:a.viewCache[c],depthLoadOp:o.depthLoadOp||_i.Clear,depthStoreOp:o.depthStoreOp||Vs.Store,depthClearValue:o.depthClearValue||1},e.stencil&&(l.depthStencilAttachment.stencilLoadOp=o.stencilLoadOp,l.depthStencilAttachment.stencilStoreOp=o.stencilStoreOp,l.depthStencilAttachment.stencilClearValue=o.stencilClearValue)}else l.depthStencilAttachment={...o};n.layerDescriptors.push(l)}}_updateDepthLayerDescriptors(e,n,r){for(let i=0;i<r.length;i++){const o=n.layerDescriptors[i];if(o.depthStencilAttachment){const a=o.depthStencilAttachment;e.depth&&(e.clearDepth?(a.depthClearValue=e.clearDepthValue,a.depthLoadOp=_i.Clear):a.depthLoadOp=_i.Load),e.stencil&&(e.clearStencil?(a.stencilClearValue=e.clearStencilValue,a.stencilLoadOp=_i.Clear):a.stencilLoadOp=_i.Load)}}}finishRender(e){const n=this.get(e),r=e.occlusionQueryCount;n.renderBundles.length>0&&n.currentPass.executeBundles(n.renderBundles),r>n.occlusionQueryIndex&&n.currentPass.endOcclusionQuery();const i=n.encoder;if(this._isRenderCameraDepthArray(e)===!0){const o=[];for(let a=0;a<n.bundleEncoders.length;a++){const s=n.bundleEncoders[a];o.push(s.finish())}for(let a=0;a<n.layerDescriptors.length;a++)if(a<o.length){const s=n.layerDescriptors[a],l=i.beginRenderPass(s);if(e.viewport){const{x:c,y:u,width:d,height:f,minDepth:h,maxDepth:p}=e.viewportValue;l.setViewport(c,u,d,f,h,p)}if(e.scissor){const{x:c,y:u,width:d,height:f}=e.scissorValue;l.setScissorRect(c,u,d,f)}l.executeBundles([o[a]]),l.end()}}else n.currentPass&&n.currentPass.end();if(r>0){const o=r*8;let a=this.occludedResolveCache.get(o);a===void 0&&(a=this.device.createBuffer({size:o,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(o,a));const s=this.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});n.encoder.resolveQuerySet(n.occlusionQuerySet,0,r,a,0),n.encoder.copyBufferToBuffer(a,0,s,0,o),n.occlusionQueryBuffer=s,this.resolveOccludedAsync(e)}if(this.device.queue.submit([n.encoder.finish()]),e.textures!==null){const o=e.textures;for(let a=0;a<o.length;a++){const s=o[a];s.generateMipmaps===!0&&this.textureUtils.generateMipmaps(s)}}}isOccluded(e,n){const r=this.get(e);return r.occluded&&r.occluded.has(n)}async resolveOccludedAsync(e){const n=this.get(e),{currentOcclusionQueryBuffer:r,currentOcclusionQueryObjects:i}=n;if(r&&i){const o=new WeakSet;n.currentOcclusionQueryObjects=null,n.currentOcclusionQueryBuffer=null,await r.mapAsync(GPUMapMode.READ);const a=r.getMappedRange(),s=new BigUint64Array(a);for(let l=0;l<i.length;l++)s[l]===BigInt(0)&&o.add(i[l]);r.destroy(),n.occluded=o}}updateViewport(e){const{currentPass:n}=this.get(e),{x:r,y:i,width:o,height:a,minDepth:s,maxDepth:l}=e.viewportValue;n.setViewport(r,i,o,a,s,l)}updateScissor(e){const{currentPass:n}=this.get(e),{x:r,y:i,width:o,height:a}=e.scissorValue;n.setScissorRect(r,i,o,a)}getClearColor(){const e=super.getClearColor();return this.renderer.alpha===!0&&(e.r*=e.a,e.g*=e.a,e.b*=e.a),e}clear(e,n,r,i=null){const o=this.device,a=this.renderer;let s=[],l,c,u,d;if(e){const p=this.getClearColor();c={r:p.r,g:p.g,b:p.b,a:p.a}}if(i===null){u=a.depth,d=a.stencil;const p=this._getDefaultRenderPassDescriptor();if(e){s=p.colorAttachments;const _=s[0];_.clearValue=c,_.loadOp=_i.Clear,_.storeOp=Vs.Store}(u||d)&&(l=p.depthStencilAttachment)}else{u=i.depth,d=i.stencil;const p={loadOp:e?_i.Clear:_i.Load,clearValue:e?c:void 0};u&&(p.depthLoadOp=n?_i.Clear:_i.Load,p.depthClearValue=n?a.getClearDepth():void 0,p.depthStoreOp=Vs.Store),d&&(p.stencilLoadOp=r?_i.Clear:_i.Load,p.stencilClearValue=r?a.getClearStencil():void 0,p.stencilStoreOp=Vs.Store);const _=this._getRenderPassDescriptor(i,p);s=_.colorAttachments,l=_.depthStencilAttachment}u&&l&&(n?(l.depthLoadOp=_i.Clear,l.depthClearValue=a.getClearDepth(),l.depthStoreOp=Vs.Store):(l.depthLoadOp=_i.Load,l.depthStoreOp=Vs.Store)),d&&l&&(r?(l.stencilLoadOp=_i.Clear,l.stencilClearValue=a.getClearStencil(),l.stencilStoreOp=Vs.Store):(l.stencilLoadOp=_i.Load,l.stencilStoreOp=Vs.Store));const f=o.createCommandEncoder({label:"clear"});f.beginRenderPass({colorAttachments:s,depthStencilAttachment:l}).end(),o.queue.submit([f.finish()])}beginCompute(e){const n=this.get(e),r={label:"computeGroup_"+e.id};this.initTimestampQuery(Wd.COMPUTE,this.getTimestampUID(e),r),n.cmdEncoderGPU=this.device.createCommandEncoder({label:"computeGroup_"+e.id}),n.passEncoderGPU=n.cmdEncoderGPU.beginComputePass(r)}compute(e,n,r,i,o=null){const a=this.get(n),{passEncoderGPU:s}=this.get(e),l=this.get(i).pipeline;this.pipelineUtils.setPipeline(s,l);for(let c=0,u=r.length;c<u;c++){const d=r[c],f=this.get(d);s.setBindGroup(c,f.group)}if(o===null&&(o=n.count),o&&typeof o=="object"&&o.isIndirectStorageBufferAttribute){const c=this.get(o).buffer;s.dispatchWorkgroupsIndirect(c,0);return}if(typeof o=="number"){const c=o;if(a.dispatchSize===void 0||a.count!==c){a.dispatchSize=[0,1,1],a.count=c;const u=n.workgroupSize;let d=u[0];for(let p=1;p<u.length;p++)d*=u[p];const f=Math.ceil(c/d),h=this.device.limits.maxComputeWorkgroupsPerDimension;o=[f,1,1],f>h&&(o[0]=Math.min(f,h),o[1]=Math.ceil(f/h)),a.dispatchSize=o}o=a.dispatchSize}s.dispatchWorkgroups(o[0],o[1]||1,o[2]||1)}finishCompute(e){const n=this.get(e);n.passEncoderGPU.end(),this.device.queue.submit([n.cmdEncoderGPU.finish()])}draw(e,n){const{object:r,material:i,context:o,pipeline:a}=e,s=e.getBindings(),l=this.get(o),c=this.get(a),u=c.pipeline;if(c.error===!0)return;const d=e.getIndex(),f=d!==null,h=e.getDrawParameters();if(h===null)return;const p=(x,y)=>{this.pipelineUtils.setPipeline(x,u),y.pipeline=u;const w=y.bindingGroups;for(let M=0,R=s.length;M<R;M++){const N=s[M],I=this.get(N);w[N.index]!==N.id&&(x.setBindGroup(N.index,I.group),w[N.index]=N.id)}if(f===!0&&y.index!==d){const M=this.get(d).buffer,R=d.array instanceof Uint16Array?Xy.Uint16:Xy.Uint32;x.setIndexBuffer(M,R),y.index=d}const C=e.getVertexBuffers();for(let M=0,R=C.length;M<R;M++){const N=C[M];if(y.attributes[M]!==N){const I=this.get(N).buffer;x.setVertexBuffer(M,I),y.attributes[M]=N}}o.stencil===!0&&i.stencilWrite===!0&&l.currentStencilRef!==i.stencilRef&&(x.setStencilReference(i.stencilRef),l.currentStencilRef=i.stencilRef)},_=(x,y)=>{if(p(x,y),r.isBatchedMesh===!0){const w=r._multiDrawStarts,C=r._multiDrawCounts,M=r._multiDrawCount,R=r._multiDrawInstances;R!==null&&$i("WebGPUBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection.");for(let N=0;N<M;N++){const I=R?R[N]:1,B=I>1?0:N;f===!0?x.drawIndexed(C[N],I,w[N]/d.array.BYTES_PER_ELEMENT,0,B):x.draw(C[N],I,w[N],B),n.update(r,C[N],I)}}else if(f===!0){const{vertexCount:w,instanceCount:C,firstVertex:M}=h,R=e.getIndirect();if(R!==null){const N=this.get(R).buffer,I=e.getIndirectOffset(),B=Array.isArray(I)?I:[I];for(let D=0;D<B.length;D++)x.drawIndexedIndirect(N,B[D])}else x.drawIndexed(w,C,M,0,0);n.update(r,w,C)}else{const{vertexCount:w,instanceCount:C,firstVertex:M}=h,R=e.getIndirect();if(R!==null){const N=this.get(R).buffer,I=e.getIndirectOffset(),B=Array.isArray(I)?I:[I];for(let D=0;D<B.length;D++)x.drawIndirect(N,B[D])}else x.draw(w,C,M,0);n.update(r,w,C)}};if(e.camera.isArrayCamera&&e.camera.cameras.length>0){const x=this.get(e.camera),y=e.camera.cameras,w=e.getBindingGroup("cameraIndex");if(x.indexesGPU===void 0||x.indexesGPU.length!==y.length){const M=this.get(w),R=[],N=new Uint32Array([0,0,0,0]);for(let I=0,B=y.length;I<B;I++){N[0]=I;const{layoutGPU:D}=M.layout,$=this.bindingUtils.createBindGroupIndex(N,D);R.push($)}x.indexesGPU=R}const C=this.renderer.getPixelRatio();for(let M=0,R=y.length;M<R;M++){const N=y[M];if(r.layers.test(N.layers)){const I=N.viewport;let B=l.currentPass,D=l.currentSets;if(l.bundleEncoders){const $=l.bundleEncoders[M],z=l.bundleSets[M];B=$,D=z}I&&B.setViewport(Math.floor(I.x*C),Math.floor(I.y*C),Math.floor(I.width*C),Math.floor(I.height*C),o.viewportValue.minDepth,o.viewportValue.maxDepth),w&&x.indexesGPU&&(B.setBindGroup(w.index,x.indexesGPU[M]),D.bindingGroups[w.index]=w.id),_(B,D)}}}else if(l.currentPass){if(l.occlusionQuerySet!==void 0){const x=l.lastOcclusionObject;x!==r&&(x!==null&&x.occlusionTest===!0&&(l.currentPass.endOcclusionQuery(),l.occlusionQueryIndex++),r.occlusionTest===!0&&(l.currentPass.beginOcclusionQuery(l.occlusionQueryIndex),l.occlusionQueryObjects[l.occlusionQueryIndex]=r),l.lastOcclusionObject=r)}_(l.currentPass,l.currentSets)}}needsRenderUpdate(e){const n=this.get(e),{object:r,material:i}=e,o=this.utils,a=o.getSampleCountRenderContext(e.context),s=o.getCurrentColorSpace(e.context),l=o.getCurrentColorFormat(e.context),c=o.getCurrentDepthStencilFormat(e.context),u=o.getPrimitiveTopology(r,i);let d=!1;return(n.material!==i||n.materialVersion!==i.version||n.transparent!==i.transparent||n.blending!==i.blending||n.premultipliedAlpha!==i.premultipliedAlpha||n.blendSrc!==i.blendSrc||n.blendDst!==i.blendDst||n.blendEquation!==i.blendEquation||n.blendSrcAlpha!==i.blendSrcAlpha||n.blendDstAlpha!==i.blendDstAlpha||n.blendEquationAlpha!==i.blendEquationAlpha||n.colorWrite!==i.colorWrite||n.depthWrite!==i.depthWrite||n.depthTest!==i.depthTest||n.depthFunc!==i.depthFunc||n.stencilWrite!==i.stencilWrite||n.stencilFunc!==i.stencilFunc||n.stencilFail!==i.stencilFail||n.stencilZFail!==i.stencilZFail||n.stencilZPass!==i.stencilZPass||n.stencilFuncMask!==i.stencilFuncMask||n.stencilWriteMask!==i.stencilWriteMask||n.side!==i.side||n.alphaToCoverage!==i.alphaToCoverage||n.sampleCount!==a||n.colorSpace!==s||n.colorFormat!==l||n.depthStencilFormat!==c||n.primitiveTopology!==u||n.clippingContextCacheKey!==e.clippingContextCacheKey)&&(n.material=i,n.materialVersion=i.version,n.transparent=i.transparent,n.blending=i.blending,n.premultipliedAlpha=i.premultipliedAlpha,n.blendSrc=i.blendSrc,n.blendDst=i.blendDst,n.blendEquation=i.blendEquation,n.blendSrcAlpha=i.blendSrcAlpha,n.blendDstAlpha=i.blendDstAlpha,n.blendEquationAlpha=i.blendEquationAlpha,n.colorWrite=i.colorWrite,n.depthWrite=i.depthWrite,n.depthTest=i.depthTest,n.depthFunc=i.depthFunc,n.stencilWrite=i.stencilWrite,n.stencilFunc=i.stencilFunc,n.stencilFail=i.stencilFail,n.stencilZFail=i.stencilZFail,n.stencilZPass=i.stencilZPass,n.stencilFuncMask=i.stencilFuncMask,n.stencilWriteMask=i.stencilWriteMask,n.side=i.side,n.alphaToCoverage=i.alphaToCoverage,n.sampleCount=a,n.colorSpace=s,n.colorFormat=l,n.depthStencilFormat=c,n.primitiveTopology=u,n.clippingContextCacheKey=e.clippingContextCacheKey,d=!0),d}getRenderCacheKey(e){const{object:n,material:r}=e,i=this.utils,o=e.context,a=n.isMesh&&n.matrixWorld.determinant()<0;return[r.transparent,r.blending,r.premultipliedAlpha,r.blendSrc,r.blendDst,r.blendEquation,r.blendSrcAlpha,r.blendDstAlpha,r.blendEquationAlpha,r.colorWrite,r.depthWrite,r.depthTest,r.depthFunc,r.stencilWrite,r.stencilFunc,r.stencilFail,r.stencilZFail,r.stencilZPass,r.stencilFuncMask,r.stencilWriteMask,r.side,a,i.getSampleCountRenderContext(o),i.getCurrentColorSpace(o),i.getCurrentColorFormat(o),i.getCurrentDepthStencilFormat(o),i.getPrimitiveTopology(n,r),e.getGeometryCacheKey(),e.clippingContextCacheKey].join()}updateSampler(e){return this.textureUtils.updateSampler(e)}createDefaultTexture(e){return this.textureUtils.createDefaultTexture(e)}createTexture(e,n){this.textureUtils.createTexture(e,n)}updateTexture(e,n){this.textureUtils.updateTexture(e,n)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e,n=!1){this.textureUtils.destroyTexture(e,n)}async copyTextureToBuffer(e,n,r,i,o,a){return this.textureUtils.copyTextureToBuffer(e,n,r,i,o,a)}initTimestampQuery(e,n,r){if(!this.trackTimestamp)return;this.timestampQueryPool[e]||(this.timestampQueryPool[e]=new aat(this.device,e,2048));const i=this.timestampQueryPool[e],o=i.allocateQueriesForContext(n);r.timestampWrites={querySet:i.querySet,beginningOfPassWriteIndex:o,endOfPassWriteIndex:o+1}}createNodeBuilder(e,n){return new Zot(e,n)}createProgram(e){const n=this.get(e);n.module={module:this.device.createShaderModule({code:e.code,label:e.stage+(e.name!==""?`_${e.name}`:"")}),entryPoint:"main"}}destroyProgram(e){this.delete(e)}createRenderPipeline(e,n){this.pipelineUtils.createRenderPipeline(e,n)}createComputePipeline(e,n){this.pipelineUtils.createComputePipeline(e,n)}beginBundle(e){const n=this.get(e);n._currentPass=n.currentPass,n._currentSets=n.currentSets,n.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},n.currentPass=this.pipelineUtils.createBundleEncoder(e)}finishBundle(e,n){const r=this.get(e),o=r.currentPass.finish();this.get(n).bundleGPU=o,r.currentSets=r._currentSets,r.currentPass=r._currentPass}addBundle(e,n){this.get(e).renderBundles.push(this.get(n).bundleGPU)}createBindings(e,n,r,i){this.bindingUtils.createBindings(e,n,r,i)}updateBindings(e,n,r,i){this.bindingUtils.createBindings(e,n,r,i)}updateBinding(e){this.bindingUtils.updateBinding(e)}deleteBindGroupData(e){this.bindingUtils.deleteBindGroupData(e)}createIndexAttribute(e){let n=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST;(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)&&(n|=GPUBufferUsage.STORAGE),this.attributeUtils.createAttribute(e,n)}createAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createIndirectStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.INDIRECT|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}updateSize(){this.delete(this.renderer.getCanvasTarget())}getMaxAnisotropy(){return 16}hasFeature(e){return TY[e]!==void 0&&(e=TY[e]),this.device.features.has(e)}copyTextureToTexture(e,n,r=null,i=null,o=0,a=0){let s=0,l=0,c=0,u=0,d=0,f=0,h=e.image.width,p=e.image.height,_=1;r!==null&&(r.isBox3===!0?(u=r.min.x,d=r.min.y,f=r.min.z,h=r.max.x-r.min.x,p=r.max.y-r.min.y,_=r.max.z-r.min.z):(u=r.min.x,d=r.min.y,h=r.max.x-r.min.x,p=r.max.y-r.min.y,_=1)),i!==null&&(s=i.x,l=i.y,c=i.z||0);const x=this.device.createCommandEncoder({label:"copyTextureToTexture_"+e.id+"_"+n.id}),y=this.get(e).texture,w=this.get(n).texture;x.copyTextureToTexture({texture:y,mipLevel:o,origin:{x:u,y:d,z:f}},{texture:w,mipLevel:a,origin:{x:s,y:l,z:c}},[h,p,_]),this.device.queue.submit([x.finish()]),a===0&&n.generateMipmaps&&this.textureUtils.generateMipmaps(n)}copyFramebufferToTexture(e,n,r){const i=this.get(n);let o=null;n.renderTarget?e.isDepthTexture?o=this.get(n.depthTexture).texture:o=this.get(n.textures[0]).texture:e.isDepthTexture?o=this.textureUtils.getDepthBuffer(n.depth,n.stencil):o=this.context.getCurrentTexture();const a=this.get(e).texture;if(o.format!==a.format){Kt("WebGPUBackend: copyFramebufferToTexture: Source and destination formats do not match.",o.format,a.format);return}let s;if(i.currentPass?(i.currentPass.end(),s=i.encoder):s=this.device.createCommandEncoder({label:"copyFramebufferToTexture_"+e.id}),s.copyTextureToTexture({texture:o,origin:[r.x,r.y,0]},{texture:a},[r.z,r.w]),e.generateMipmaps&&this.textureUtils.generateMipmaps(e,s),i.currentPass){const{descriptor:l}=i;for(let c=0;c<l.colorAttachments.length;c++)l.colorAttachments[c].loadOp=_i.Load;n.depth&&(l.depthStencilAttachment.depthLoadOp=_i.Load),n.stencil&&(l.depthStencilAttachment.stencilLoadOp=_i.Load),i.currentPass=s.beginRenderPass(l),i.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},n.viewport&&this.updateViewport(n),n.scissor&&this.updateScissor(n)}else this.device.queue.submit([s.finish()])}dispose(){if(this.bindingUtils.dispose(),this.textureUtils.dispose(),this.occludedResolveCache){for(const e of this.occludedResolveCache.values())e.destroy();this.occludedResolveCache.clear()}if(this.timestampQueryPool)for(const e of Object.values(this.timestampQueryPool))e!==null&&e.dispose();this.parameters.device===void 0&&this.device!==null&&this.device.destroy()}}class lat extends N7{constructor(e,n,r,i,o,a){super(e,n,r,i,o,a),this.iesMap=null}copy(e,n){return super.copy(e,n),this.iesMap=e.iesMap,this}}class cat extends N7{constructor(e,n,r,i,o,a){super(e,n,r,i,o,a),this.aspect=null}copy(e,n){return super.copy(e,n),this.aspect=e.aspect,this}}class uat extends Ife{constructor(){super(),this.addMaterial(FQe,"MeshPhongMaterial"),this.addMaterial(Pde,"MeshStandardMaterial"),this.addMaterial(MZe,"MeshPhysicalMaterial"),this.addMaterial(IZe,"MeshToonMaterial"),this.addMaterial(RQe,"MeshBasicMaterial"),this.addMaterial(LQe,"MeshLambertMaterial"),this.addMaterial(CQe,"MeshNormalMaterial"),this.addMaterial(DZe,"MeshMatcapMaterial"),this.addMaterial(yQe,"LineBasicMaterial"),this.addMaterial(xQe,"LineDashedMaterial"),this.addMaterial(kZe,"PointsMaterial"),this.addMaterial(Nde,"SpriteMaterial"),this.addMaterial(GZe,"ShadowMaterial"),this.addLight(Mnt,b$e),this.addLight(kit,Pae),this.addLight(Uit,_$e),this.addLight(T9,N7),this.addLight(Hit,Rae),this.addLight(jit,A$e),this.addLight(qit,w$e),this.addLight(zit,lat),this.addLight(Git,cat),this.addToneMapping(Yde,Q$),this.addToneMapping(Kde,Z$),this.addToneMapping(Qde,J$),this.addToneMapping(Zde,e7),this.addToneMapping(Jde,t7),this.addToneMapping(efe,n7)}}class Hfe extends fot{constructor(e={}){let n;e.forceWebGL?n=bY:(n=sat,e.getFallback=()=>(Vt("WebGPURenderer: WebGPU is not available, running under WebGL2 backend."),new bY(e)));const r=new n(e);super(r,e),this.library=new uat,this.isWebGPURenderer=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */J.BRDF_GGX;J.BRDF_Lambert;J.BasicPointShadowFilter;J.BasicShadowFilter;J.Break;J.Const;J.Continue;J.DFGLUT;J.D_GGX;J.Discard;J.EPSILON;J.F_Schlick;const dat=J.Fn;J.INFINITY;const fat=J.If,hat=J.Loop;J.NodeAccess;J.NodeShaderStage;J.NodeType;J.NodeUpdateType;J.PCFShadowFilter;J.PCFSoftShadowFilter;J.PI;J.PI2;J.TWO_PI;J.HALF_PI;J.PointShadowFilter;J.Return;J.Schlick_to_F0;J.ScriptableNodeResources;J.ShaderNode;J.Stack;J.Switch;J.TBNViewMatrix;J.VSMShadowFilter;J.V_GGX_SmithCorrelated;J.Var;J.VarIntent;J.abs;J.acesFilmicToneMapping;J.acos;J.add;J.addMethodChaining;J.addNodeElement;J.agxToneMapping;J.all;J.alphaT;J.and;J.anisotropy;J.anisotropyB;J.anisotropyT;J.any;J.append;J.array;J.arrayBuffer;const pat=J.asin;J.assign;J.atan;J.atan2;J.atomicAdd;J.atomicAnd;J.atomicFunc;J.atomicLoad;J.atomicMax;J.atomicMin;J.atomicOr;J.atomicStore;J.atomicSub;J.atomicXor;J.attenuationColor;J.attenuationDistance;J.attribute;J.attributeArray;J.backgroundBlurriness;J.backgroundIntensity;J.backgroundRotation;J.batch;J.bentNormalView;J.billboarding;J.bitAnd;J.bitNot;J.bitOr;J.bitXor;J.bitangentGeometry;J.bitangentLocal;J.bitangentView;J.bitangentWorld;J.bitcast;J.blendBurn;J.blendColor;J.blendDodge;J.blendOverlay;J.blendScreen;J.blur;J.bool;J.buffer;J.bufferAttribute;J.bumpMap;J.burn;J.builtin;J.builtinAOContext;J.builtinShadowContext;J.bvec2;J.bvec3;J.bvec4;J.bypass;J.cache;J.call;J.cameraFar;J.cameraIndex;J.cameraNear;J.cameraNormalMatrix;J.cameraPosition;J.cameraProjectionMatrix;J.cameraProjectionMatrixInverse;J.cameraViewMatrix;J.cameraViewport;J.cameraWorldMatrix;J.cbrt;J.cdl;J.ceil;J.checker;J.cineonToneMapping;J.clamp;J.clearcoat;J.clearcoatNormalView;J.clearcoatRoughness;J.code;J.color;J.colorSpaceToWorking;J.colorToDirection;J.compute;J.computeKernel;J.computeSkinning;J.context;J.convert;J.convertColorSpace;J.convertToTexture;J.countLeadingZeros;J.countOneBits;J.countTrailingZeros;const mat=J.cos;J.cross;J.cubeTexture;J.cubeTextureBase;J.dFdx;J.dFdy;J.dashSize;J.debug;J.decrement;J.decrementBefore;J.defaultBuildStages;J.defaultShaderStages;J.defined;J.degrees;J.deltaTime;J.densityFog;J.densityFogFactor;J.depth;J.depthPass;J.determinant;J.difference;J.diffuseColor;J.directPointLight;J.directionToColor;J.directionToFaceDirection;J.dispersion;J.distance;J.div;J.dodge;J.dot;J.drawIndex;J.dynamicBufferAttribute;J.element;J.emissive;J.equal;J.equals;J.equirectUV;const gat=J.exp;J.exp2;J.expression;J.faceDirection;J.faceForward;J.faceforward;const Aat=J.float;J.floatBitsToInt;J.floatBitsToUint;J.floor;J.fog;J.fract;J.frameGroup;J.frameId;J.frontFacing;J.fwidth;J.gain;J.gapSize;J.getConstNodeType;J.getCurrentStack;J.getDirection;J.getDistanceAttenuation;J.getGeometryRoughness;J.getNormalFromDepth;J.interleavedGradientNoise;J.vogelDiskSample;J.getParallaxCorrectNormal;J.getRoughness;J.getScreenPosition;J.getShIrradianceAt;J.getShadowMaterial;J.getShadowRenderObjectFunction;J.getTextureIndex;J.getViewPosition;J.globalId;J.glsl;J.glslFn;J.grayscale;J.greaterThan;J.greaterThanEqual;J.hash;J.highpModelNormalViewMatrix;J.highpModelViewMatrix;J.hue;J.increment;J.incrementBefore;J.instance;const vat=J.instanceIndex;J.instancedArray;J.instancedBufferAttribute;J.instancedDynamicBufferAttribute;J.instancedMesh;J.int;J.intBitsToFloat;J.inverse;J.inverseSqrt;J.inversesqrt;J.invocationLocalIndex;J.invocationSubgroupIndex;J.ior;J.iridescence;J.iridescenceIOR;J.iridescenceThickness;J.ivec2;J.ivec3;J.ivec4;J.js;J.label;J.length;J.lengthSq;J.lessThan;J.lessThanEqual;J.lightPosition;J.lightProjectionUV;J.lightShadowMatrix;J.lightTargetDirection;J.lightTargetPosition;J.lightViewPosition;J.lightingContext;J.lights;J.linearDepth;J.linearToneMapping;J.localId;J.log;J.log2;J.logarithmicDepthToViewZ;J.luminance;J.mat2;J.mat3;J.mat4;J.matcapUV;J.materialAO;J.materialAlphaTest;J.materialAnisotropy;J.materialAnisotropyVector;J.materialAttenuationColor;J.materialAttenuationDistance;J.materialClearcoat;J.materialClearcoatNormal;J.materialClearcoatRoughness;J.materialColor;J.materialDispersion;J.materialEmissive;J.materialEnvIntensity;J.materialEnvRotation;J.materialIOR;J.materialIridescence;J.materialIridescenceIOR;J.materialIridescenceThickness;J.materialLightMap;J.materialLineDashOffset;J.materialLineDashSize;J.materialLineGapSize;J.materialLineScale;J.materialLineWidth;J.materialMetalness;J.materialNormal;J.materialOpacity;J.materialPointSize;J.materialReference;J.materialReflectivity;J.materialRefractionRatio;J.materialRotation;J.materialRoughness;J.materialSheen;J.materialSheenRoughness;J.materialShininess;J.materialSpecular;J.materialSpecularColor;J.materialSpecularIntensity;J.materialSpecularStrength;J.materialThickness;J.materialTransmission;J.max;J.maxMipLevel;J.mediumpModelViewMatrix;J.metalness;J.min;J.mix;J.mixElement;J.mod;J.modInt;J.modelDirection;J.modelNormalMatrix;J.modelPosition;J.modelRadius;J.modelScale;J.modelViewMatrix;J.modelViewPosition;J.modelViewProjection;J.modelWorldMatrix;J.modelWorldMatrixInverse;J.morphReference;J.mrt;J.mul;J.mx_aastep;J.mx_add;J.mx_atan2;J.mx_cell_noise_float;J.mx_contrast;J.mx_divide;J.mx_fractal_noise_float;J.mx_fractal_noise_vec2;J.mx_fractal_noise_vec3;J.mx_fractal_noise_vec4;J.mx_frame;J.mx_heighttonormal;J.mx_hsvtorgb;J.mx_ifequal;J.mx_ifgreater;J.mx_ifgreatereq;J.mx_invert;J.mx_modulo;J.mx_multiply;J.mx_noise_float;J.mx_noise_vec3;J.mx_noise_vec4;J.mx_place2d;J.mx_power;J.mx_ramp4;J.mx_ramplr;J.mx_ramptb;J.mx_rgbtohsv;J.mx_rotate2d;J.mx_rotate3d;J.mx_safepower;J.mx_separate;J.mx_splitlr;J.mx_splittb;J.mx_srgb_texture_to_lin_rec709;J.mx_subtract;J.mx_timer;J.mx_transform_uv;J.mx_unifiednoise2d;J.mx_unifiednoise3d;J.mx_worley_noise_float;J.mx_worley_noise_vec2;J.mx_worley_noise_vec3;const yat=J.negate;J.neutralToneMapping;J.nodeArray;J.nodeImmutable;J.nodeObject;J.nodeObjectIntent;J.nodeObjects;J.nodeProxy;J.nodeProxyIntent;J.normalFlat;J.normalGeometry;J.normalLocal;J.normalMap;J.normalView;J.normalViewGeometry;J.normalWorld;J.normalWorldGeometry;J.normalize;J.not;J.notEqual;J.numWorkgroups;J.objectDirection;J.objectGroup;J.objectPosition;J.objectRadius;J.objectScale;J.objectViewPosition;J.objectWorldMatrix;J.OnBeforeObjectUpdate;J.OnBeforeMaterialUpdate;J.OnObjectUpdate;J.OnMaterialUpdate;J.oneMinus;J.or;J.orthographicDepthToViewZ;J.oscSawtooth;J.oscSine;J.oscSquare;J.oscTriangle;J.output;J.outputStruct;J.overlay;J.overloadingFn;J.packHalf2x16;J.packSnorm2x16;J.packUnorm2x16;J.parabola;J.parallaxDirection;J.parallaxUV;J.parameter;J.pass;J.passTexture;J.pcurve;J.perspectiveDepthToViewZ;J.pmremTexture;J.pointShadow;J.pointUV;J.pointWidth;J.positionGeometry;J.positionLocal;J.positionPrevious;J.positionView;J.positionViewDirection;J.positionWorld;J.positionWorldDirection;J.posterize;J.pow;J.pow2;J.pow3;J.pow4;J.premultiplyAlpha;J.property;J.radians;J.rand;J.range;J.rangeFog;J.rangeFogFactor;J.reciprocal;J.reference;J.referenceBuffer;J.reflect;J.reflectVector;J.reflectView;J.reflector;J.refract;J.refractVector;J.refractView;J.reinhardToneMapping;J.remap;J.remapClamp;J.renderGroup;J.renderOutput;J.rendererReference;J.replaceDefaultUV;J.rotate;J.rotateUV;J.roughness;J.round;J.rtt;J.sRGBTransferEOTF;J.sRGBTransferOETF;J.sample;J.sampler;J.samplerComparison;J.saturate;J.saturation;J.screen;J.screenCoordinate;J.screenDPR;J.screenSize;J.screenUV;J.scriptable;J.scriptableValue;J.select;J.setCurrentStack;J.setName;J.shaderStages;J.shadow;J.shadowPositionWorld;J.shapeCircle;J.sharedUniformGroup;J.sheen;J.sheenRoughness;J.shiftLeft;J.shiftRight;J.shininess;J.sign;const bat=J.sin;J.sinc;J.skinning;J.smoothstep;J.smoothstepElement;J.specularColor;J.specularF90;J.spherizeUV;J.split;J.spritesheetUV;const xat=J.sqrt;J.stack;J.step;J.stepElement;const _at=J.storage;J.storageBarrier;J.storageObject;J.storageTexture;J.string;J.struct;J.sub;J.subgroupAdd;J.subgroupAll;J.subgroupAnd;J.subgroupAny;J.subgroupBallot;J.subgroupBroadcast;J.subgroupBroadcastFirst;J.subBuild;J.subgroupElect;J.subgroupExclusiveAdd;J.subgroupExclusiveMul;J.subgroupInclusiveAdd;J.subgroupInclusiveMul;J.subgroupIndex;J.subgroupMax;J.subgroupMin;J.subgroupMul;J.subgroupOr;J.subgroupShuffle;J.subgroupShuffleDown;J.subgroupShuffleUp;J.subgroupShuffleXor;J.subgroupSize;J.subgroupXor;J.tan;J.tangentGeometry;J.tangentLocal;J.tangentView;J.tangentWorld;J.texture;J.texture3D;J.textureBarrier;J.textureBicubic;J.textureBicubicLevel;J.textureCubeUV;J.textureLoad;J.textureSize;J.textureLevel;J.textureStore;J.thickness;J.time;J.toneMapping;J.toneMappingExposure;J.toonOutlinePass;J.transformDirection;J.transformNormal;J.transformNormalToView;J.transformedClearcoatNormalView;J.transformedNormalView;J.transformedNormalWorld;J.transmission;J.transpose;J.triNoise3D;J.triplanarTexture;J.triplanarTextures;J.trunc;J.uint;J.uintBitsToFloat;const Sat=J.uniform;J.uniformArray;J.uniformCubeTexture;J.uniformGroup;J.uniformFlow;J.uniformTexture;J.unpackHalf2x16;J.unpackSnorm2x16;J.unpackUnorm2x16;J.unpremultiplyAlpha;J.userData;J.uv;J.uvec2;J.uvec3;J.uvec4;J.varying;J.varyingProperty;J.vec2;J.vec3;J.vec4;J.vectorComponents;J.velocity;J.vertexColor;J.vertexIndex;J.vertexStage;J.vibrance;J.viewZToLogarithmicDepth;J.viewZToOrthographicDepth;J.viewZToPerspectiveDepth;J.viewport;J.viewportCoordinate;J.viewportDepthTexture;J.viewportLinearDepth;J.viewportMipTexture;J.viewportResolution;J.viewportSafeUV;J.viewportSharedTexture;J.viewportSize;J.viewportTexture;J.viewportUV;J.wgsl;J.wgslFn;J.workgroupArray;J.workgroupBarrier;J.workgroupId;J.workingToColorSpace;J.xor;const NY=new Eh,ET=new Te;class jfe extends C$e{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new li(e,3)),this.setAttribute("uv",new li(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,r=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),r.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new jM(n,6,1);return this.setAttribute("instanceStart",new Xd(r,3,0)),this.setAttribute("instanceEnd",new Xd(r,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new jM(n,6,1);return this.setAttribute("instanceColorStart",new Xd(r,3,0)),this.setAttribute("instanceColorEnd",new Xd(r,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new i$e(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Eh);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),NY.setFromBufferAttribute(n),this.boundingBox.union(NY))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ym),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)ET.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(ET)),ET.fromBufferAttribute(n,o),i=Math.max(i,r.distanceToSquared(ET));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}}En.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Wt(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};bl.line={uniforms:RR.merge([En.common,En.fog,En.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			float alpha = opacity;
			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class M9 extends Os{constructor(e){super({type:"LineMaterial",uniforms:RR.clone(bl.line.uniforms),vertexShader:bl.line.vertexShader,fragmentShader:bl.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(e){e===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){e===!0!==this.dashed&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(e){this.uniforms.dashScale.value=e}get dashSize(){return this.uniforms.dashSize.value}set dashSize(e){this.uniforms.dashSize.value=e}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(e){this.uniforms.dashOffset.value=e}get gapSize(){return this.uniforms.gapSize.value}set gapSize(e){this.uniforms.gapSize.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get resolution(){return this.uniforms.resolution.value}set resolution(e){this.uniforms.resolution.value.copy(e)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(e){this.defines&&(e===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),e===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}const bD=new yr,IY=new Te,OY=new Te,Ha=new yr,ja=new yr,Bd=new yr,xD=new Te,_D=new wr,Ya=new P$e,DY=new Te,MT=new Eh,PT=new ym,Fd=new yr;let qd,q0;function LY(t,e,n){return Fd.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),Fd.multiplyScalar(1/Fd.w),Fd.x=q0/n.width,Fd.y=q0/n.height,Fd.applyMatrix4(t.projectionMatrixInverse),Fd.multiplyScalar(1/Fd.w),Math.abs(Math.max(Fd.x,Fd.y))}function wat(t,e){const n=t.matrixWorld,r=t.geometry,i=r.attributes.instanceStart,o=r.attributes.instanceEnd,a=Math.min(r.instanceCount,i.count);for(let s=0,l=a;s<l;s++){Ya.start.fromBufferAttribute(i,s),Ya.end.fromBufferAttribute(o,s),Ya.applyMatrix4(n);const c=new Te,u=new Te;qd.distanceSqToSegment(Ya.start,Ya.end,u,c),u.distanceTo(c)<q0*.5&&e.push({point:u,pointOnLine:c,distance:qd.origin.distanceTo(u),object:t,face:null,faceIndex:s,uv:null,uv1:null})}}function Cat(t,e,n){const r=e.projectionMatrix,o=t.material.resolution,a=t.matrixWorld,s=t.geometry,l=s.attributes.instanceStart,c=s.attributes.instanceEnd,u=Math.min(s.instanceCount,l.count),d=-e.near;qd.at(1,Bd),Bd.w=1,Bd.applyMatrix4(e.matrixWorldInverse),Bd.applyMatrix4(r),Bd.multiplyScalar(1/Bd.w),Bd.x*=o.x/2,Bd.y*=o.y/2,Bd.z=0,xD.copy(Bd),_D.multiplyMatrices(e.matrixWorldInverse,a);for(let f=0,h=u;f<h;f++){if(Ha.fromBufferAttribute(l,f),ja.fromBufferAttribute(c,f),Ha.w=1,ja.w=1,Ha.applyMatrix4(_D),ja.applyMatrix4(_D),Ha.z>d&&ja.z>d)continue;if(Ha.z>d){const C=Ha.z-ja.z,M=(Ha.z-d)/C;Ha.lerp(ja,M)}else if(ja.z>d){const C=ja.z-Ha.z,M=(ja.z-d)/C;ja.lerp(Ha,M)}Ha.applyMatrix4(r),ja.applyMatrix4(r),Ha.multiplyScalar(1/Ha.w),ja.multiplyScalar(1/ja.w),Ha.x*=o.x/2,Ha.y*=o.y/2,ja.x*=o.x/2,ja.y*=o.y/2,Ya.start.copy(Ha),Ya.start.z=0,Ya.end.copy(ja),Ya.end.z=0;const _=Ya.closestPointToPointParameter(xD,!0);Ya.at(_,DY);const x=Ly.lerp(Ha.z,ja.z,_),y=x>=-1&&x<=1,w=xD.distanceTo(DY)<q0*.5;if(y&&w){Ya.start.fromBufferAttribute(l,f),Ya.end.fromBufferAttribute(c,f),Ya.start.applyMatrix4(a),Ya.end.applyMatrix4(a);const C=new Te,M=new Te;qd.distanceSqToSegment(Ya.start,Ya.end,M,C),n.push({point:M,pointOnLine:C,distance:qd.origin.distanceTo(M),object:t,face:null,faceIndex:f,uv:null,uv1:null})}}}class Tat extends Ai{constructor(e=new jfe,n=new M9({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*n.count);for(let a=0,s=0,l=n.count;a<l;a++,s+=2)IY.fromBufferAttribute(n,a),OY.fromBufferAttribute(r,a),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+IY.distanceTo(OY);const o=new jM(i,2,1);return e.setAttribute("instanceDistanceStart",new Xd(o,1,0)),e.setAttribute("instanceDistanceEnd",new Xd(o,1,1)),this}raycast(e,n){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const o=e.params.Line2!==void 0&&e.params.Line2.threshold||0;qd=e.ray;const a=this.matrixWorld,s=this.geometry,l=this.material;q0=l.linewidth+o,s.boundingSphere===null&&s.computeBoundingSphere(),PT.copy(s.boundingSphere).applyMatrix4(a);let c;if(r)c=q0*.5;else{const d=Math.max(i.near,PT.distanceToPoint(qd.origin));c=LY(i,d,l.resolution)}if(PT.radius+=c,qd.intersectsSphere(PT)===!1)return;s.boundingBox===null&&s.computeBoundingBox(),MT.copy(s.boundingBox).applyMatrix4(a);let u;if(r)u=q0*.5;else{const d=Math.max(i.near,MT.distanceToPoint(qd.origin));u=LY(i,d,l.resolution)}MT.expandByScalar(u),qd.intersectsBox(MT)!==!1&&(r?wat(this,n):Cat(this,i,n))}onBeforeRender(e){const n=this.material.uniforms;n&&n.resolution&&(e.getViewport(bD),this.material.uniforms.resolution.value.set(bD.z,bD.w))}}class qfe extends jfe{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setColors(r),this}setFromPoints(e){const n=e.length-1,r=new Float32Array(6*n);for(let i=0;i<n;i++)r[6*i]=e[i].x,r[6*i+1]=e[i].y,r[6*i+2]=e[i].z||0,r[6*i+3]=e[i+1].x,r[6*i+4]=e[i+1].y,r[6*i+5]=e[i+1].z||0;return super.setPositions(r),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class Eat extends Tat{constructor(e=new qfe,n=new M9({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}class BY extends T7{constructor(e,n={}){const r=n.font;if(r===void 0)super();else{const i=r.generateShapes(e,n.size,n.direction);n.depth===void 0&&(n.depth=50),n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(i,n)}this.type="TextGeometry"}}class Mat{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,n=100,r="ltr"){const i=[],o=Pat(e,n,this.data,r);for(let a=0,s=o.length;a<s;a++)i.push(...o[a].toShapes());return i}}function Pat(t,e,n,r){const i=Array.from(t),o=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*o,s=[];let l=0,c=0;(r=="rtl"||r=="tb")&&i.reverse();for(let u=0;u<i.length;u++){const d=i[u];if(d===`
`)l=0,c-=a;else{const f=Rat(d,o,l,c,n);r=="tb"?(l=0,c+=n.ascender*o):l+=f.offsetX,s.push(f.path)}}return s}function Rat(t,e,n,r,i){const o=i.glyphs[t]||i.glyphs["?"];if(!o){console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");return}const a=new R$e;let s,l,c,u,d,f,h,p;if(o.o){const _=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let x=0,y=_.length;x<y;)switch(_[x++]){case"m":s=_[x++]*e+n,l=_[x++]*e+r,a.moveTo(s,l);break;case"l":s=_[x++]*e+n,l=_[x++]*e+r,a.lineTo(s,l);break;case"q":c=_[x++]*e+n,u=_[x++]*e+r,d=_[x++]*e+n,f=_[x++]*e+r,a.quadraticCurveTo(d,f,c,u);break;case"b":c=_[x++]*e+n,u=_[x++]*e+r,d=_[x++]*e+n,f=_[x++]*e+r,h=_[x++]*e+n,p=_[x++]*e+r,a.bezierCurveTo(d,f,h,p,c,u);break}}return{offsetX:o.ha*e,path:a}}function $6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Nat(t){if(Array.isArray(t))return t}function Iat(t){if(Array.isArray(t))return $6(t)}function Wfe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Oat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FY(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function Dat(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(l){FY(o,r,i,a,s,"next",l)}function s(l){FY(o,r,i,a,s,"throw",l)}a(void 0)})}}function xN(t,e,n){return e=Yy(e),Gat(t,R9()?Reflect.construct(e,n||[],Yy(t).constructor):e.apply(t,n))}function Lat(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jb(t,e){return t.get(Wfe(t,e))}function SD(t,e,n){Lat(t,e),e.set(t,n)}function wD(t,e,n){return t.set(Wfe(t,e),n),n}function P9(t,e,n){if(R9())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return i}function Bat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xfe(r.key),r)}}function SN(t,e,n){return e&&Bat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $a(t,e,n){return(e=Xfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k6(){return k6=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Hat(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},k6.apply(null,arguments)}function Yy(t){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yy(t)}function wN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z6(t,e)}function R9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R9=function(){return!!t})()}function Fat(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $at(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function kat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$Y(Object(n),!0).forEach(function(r){$a(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$Y(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zat(t,e){if(t==null)return{};var n,r,i=Vat(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vat(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gat(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oat(t)}function U6(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n=typeof Symbol=="function"?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(h,p,_,x){var y=p&&p.prototype instanceof s?p:s,w=Object.create(y.prototype);return Jl(w,"_invoke",function(C,M,R){var N,I,B,D=0,$=R||[],z=!1,V={p:0,n:0,v:t,a:q,f:q.bind(t,4),d:function(G,j){return N=G,I=0,B=t,V.n=j,a}};function q(G,j){for(I=G,B=j,e=0;!z&&D&&!H&&e<$.length;e++){var H,X=$[e],Y=V.p,ee=X[2];G>3?(H=ee===j)&&(B=X[(I=X[4])?5:(I=3,3)],X[4]=X[5]=t):X[0]<=Y&&((H=G<2&&Y<X[1])?(I=0,V.v=j,V.n=X[1]):Y<ee&&(H=G<3||X[0]>j||j>ee)&&(X[4]=G,X[5]=j,V.n=ee,I=0))}if(H||G>1)return a;throw z=!0,j}return function(G,j,H){if(D>1)throw TypeError("Generator is already running");for(z&&j===1&&q(j,H),I=j,B=H;(e=I<2?t:B)||!z;){N||(I?I<3?(I>1&&(V.n=-1),q(I,B)):V.n=B:V.v=B);try{if(D=2,N){if(I||(G="next"),e=N[G]){if(!(e=e.call(N,B)))throw TypeError("iterator result is not an object");if(!e.done)return e;B=e.value,I<2&&(I=0)}else I===1&&(e=N.return)&&e.call(N),I<2&&(B=TypeError("The iterator does not provide a '"+G+"' method"),I=1);N=t}else if((e=(z=V.n<0)?B:C.call(M,V))!==a)break}catch(X){N=t,I=1,B=X}finally{D=1}}return{value:e,done:z}}}(h,_,x),!0),w}var a={};function s(){}function l(){}function c(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(Jl(e={},r,function(){return this}),e),d=c.prototype=s.prototype=Object.create(u);function f(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,c):(h.__proto__=c,Jl(h,i,"GeneratorFunction")),h.prototype=Object.create(d),h}return l.prototype=c,Jl(d,"constructor",c),Jl(c,"constructor",l),l.displayName="GeneratorFunction",Jl(c,i,"GeneratorFunction"),Jl(d),Jl(d,i,"Generator"),Jl(d,r,function(){return this}),Jl(d,"toString",function(){return"[object Generator]"}),(U6=function(){return{w:o,m:f}})()}function Jl(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}Jl=function(o,a,s,l){function c(u,d){Jl(o,u,function(f){return this._invoke(u,d,f)})}a?i?i(o,a,{value:s,enumerable:!l,configurable:!l,writable:!l}):o[a]=s:(c("next",0),c("throw",1),c("return",2))},Jl(t,e,n,r)}function z6(t,e){return z6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},z6(t,e)}function lo(t,e){return Nat(t)||$at(t,e)||Yfe(t,e)||kat()}function Hat(t,e){for(;!{}.hasOwnProperty.call(t,e)&&(t=Yy(t))!==null;);return t}function CD(t,e,n,r){var i=k6(Yy(t.prototype),e,n);return typeof i=="function"?function(o){return i.apply(n,o)}:i}function zi(t){return Iat(t)||Fat(t)||Yfe(t)||Uat()}function jat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xfe(t){var e=jat(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(t){if(typeof t=="string")return $6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$6(t,e):void 0}}var Kfe=function(e){e instanceof Array?e.forEach(Kfe):(e.map&&e.map.dispose(),e.dispose())},N9=function(e){e.geometry&&e.geometry.dispose(),e.material&&Kfe(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(N9)},Xi=function(e){if(e&&e.children)for(;e.children.length;){var n=e.children[0];e.remove(n),N9(n)}};function ul(t,e){var n=new e;return{linkProp:function(i){return{default:n[i](),onChange:function(a,s){s[t][i](a)},triggerUpdate:!1}},linkMethod:function(i){return function(o){for(var a=o[t],s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];var u=a[i].apply(a,l);return u===a?this:u}}}}var ro=100;function kY(){return ro}function hu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180,o=ro*(1+n),a=Math.sin(r);return{x:o*a*Math.cos(i),y:o*Math.cos(r),z:o*a*Math.sin(i)}}function Qfe(t){var e=t.x,n=t.y,r=t.z,i=Math.sqrt(e*e+n*n+r*r),o=Math.acos(n/i),a=Math.atan2(r,e);return{lat:90-o*180/Math.PI,lng:90-a*180/Math.PI-(a<-Math.PI/2?360:0),altitude:i/ro-1}}function y0(t){return t*Math.PI/180}var P2=window.THREE?window.THREE:{BackSide:Oi,BufferAttribute:So,Color:Vn,Mesh:Ai,ShaderMaterial:Os},qat=`
uniform float hollowRadius;

varying vec3 vVertexWorldPosition;
varying vec3 vVertexNormal;
varying float vCameraDistanceToObjCenter;
varying float vVertexAngularDistanceToHollowRadius;

void main() {    
  vVertexNormal	= normalize(normalMatrix * normal);
  vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;
  
  vec4 objCenterViewPosition = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);
  vCameraDistanceToObjCenter = length(objCenterViewPosition);
  
  float edgeAngle = atan(hollowRadius / vCameraDistanceToObjCenter);
  float vertexAngle = acos(dot(normalize(modelViewMatrix * vec4(position, 1.0)), normalize(objCenterViewPosition)));
  vVertexAngularDistanceToHollowRadius = vertexAngle - edgeAngle;

  gl_Position	= projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`,Wat=`
uniform vec3 color;
uniform float coefficient;
uniform float power;
uniform float hollowRadius;

varying vec3 vVertexNormal;
varying vec3 vVertexWorldPosition;
varying float vCameraDistanceToObjCenter;
varying float vVertexAngularDistanceToHollowRadius;

void main() {
  if (vCameraDistanceToObjCenter < hollowRadius) discard; // inside the hollowRadius
  if (vVertexAngularDistanceToHollowRadius < 0.0) discard; // frag position is within the hollow radius

  vec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;
  vec3 viewCameraToVertex	= (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;
  viewCameraToVertex = normalize(viewCameraToVertex);
  float intensity	= pow(
    coefficient + dot(vVertexNormal, viewCameraToVertex),
    power
  );
  gl_FragColor = vec4(color, intensity);
}`;function Xat(t,e,n,r){return new P2.ShaderMaterial({depthWrite:!1,transparent:!0,vertexShader:qat,fragmentShader:Wat,uniforms:{coefficient:{value:t},color:{value:new P2.Color(e)},power:{value:n},hollowRadius:{value:r}}})}function Yat(t,e){for(var n=t.clone(),r=new Float32Array(t.attributes.position.count*3),i=0,o=r.length;i<o;i++){var a=t.attributes.normal.array[i],s=t.attributes.position.array[i];r[i]=s+a*e}return n.setAttribute("position",new P2.BufferAttribute(r,3)),n}var Kat=function(t){function e(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.color,a=o===void 0?"gold":o,s=i.size,l=s===void 0?2:s,c=i.coefficient,u=c===void 0?.5:c,d=i.power,f=d===void 0?1:d,h=i.hollowRadius,p=h===void 0?0:h,_=i.backside,x=_===void 0?!0:_;_N(this,e),r=xN(this,e);var y=Yat(n,l),w=Xat(u,a,f,p);return x&&(w.side=P2.BackSide),r.geometry=y,r.material=w,r}return wN(e,t),SN(e)}(P2.Mesh),$d=window.THREE?window.THREE:{Color:Vn,Group:Tl,LineBasicMaterial:E1,LineSegments:pae,Mesh:Ai,MeshPhongMaterial:Mae,SphereGeometry:xf,SRGBColorSpace:Za,TextureLoader:P7},Zfe=xa({props:{globeImageUrl:{},bumpImageUrl:{},showGlobe:{default:!0,onChange:function(e,n){n.globeGroup.visible=!!e},triggerUpdate:!1},showGraticules:{default:!1,onChange:function(e,n){n.graticulesObj.visible=!!e},triggerUpdate:!1},showAtmosphere:{default:!0,onChange:function(e,n){n.atmosphereObj&&(n.atmosphereObj.visible=!!e)},triggerUpdate:!1},atmosphereColor:{default:"lightskyblue"},atmosphereAltitude:{default:.15},globeCurvatureResolution:{default:4},globeTileEngineUrl:{onChange:function(e,n){n.tileEngine.tileUrl=e}},globeTileEngineMaxLevel:{default:17,onChange:function(e,n){n.tileEngine.maxLevel=e},triggerUpdate:!1},updatePov:{onChange:function(e,n){n.tileEngine.updatePov(e)},triggerUpdate:!1},onReady:{default:function(){},triggerUpdate:!1}},methods:{globeMaterial:function(e,n){return n!==void 0?(e.globeObj.material=n||e.defaultGlobeMaterial,this):e.globeObj.material},globeTileEngineClearCache:function(e){e.tileEngine.clearTiles()},_destructor:function(e){Xi(e.globeObj),Xi(e.tileEngine),Xi(e.graticulesObj)}},stateInit:function(){var e=new $d.MeshPhongMaterial({color:0}),n=new $d.Mesh(void 0,e);n.rotation.y=-Math.PI/2;var r=new eje(ro),i=new $d.Group;i.__globeObjType="globe",i.add(n),i.add(r);var o=new $d.LineSegments(new Dse(AHe(),ro,2),new $d.LineBasicMaterial({color:"lightgrey",transparent:!0,opacity:.1}));return{globeGroup:i,globeObj:n,graticulesObj:o,defaultGlobeMaterial:e,tileEngine:r}},init:function(e,n){Xi(e),n.scene=e,n.scene.add(n.globeGroup),n.scene.add(n.graticulesObj),n.ready=!1},update:function(e,n){var r=e.globeObj.material;if(e.tileEngine.visible=!(e.globeObj.visible=!e.globeTileEngineUrl),n.hasOwnProperty("globeCurvatureResolution")){var i;(i=e.globeObj.geometry)===null||i===void 0||i.dispose();var o=Math.max(4,Math.round(360/e.globeCurvatureResolution));e.globeObj.geometry=new $d.SphereGeometry(ro,o,o/2),e.tileEngine.curvatureResolution=e.globeCurvatureResolution}if(n.hasOwnProperty("globeImageUrl")&&(e.globeImageUrl?new $d.TextureLoader().load(e.globeImageUrl,function(s){s.colorSpace=$d.SRGBColorSpace,r.map=s,r.color=null,r.needsUpdate=!0,!e.ready&&(e.ready=!0)&&setTimeout(e.onReady)}):!r.color&&(r.color=new $d.Color(0))),n.hasOwnProperty("bumpImageUrl")&&(e.bumpImageUrl?e.bumpImageUrl&&new $d.TextureLoader().load(e.bumpImageUrl,function(s){r.bumpMap=s,r.needsUpdate=!0}):(r.bumpMap=null,r.needsUpdate=!0)),(n.hasOwnProperty("atmosphereColor")||n.hasOwnProperty("atmosphereAltitude"))&&(e.atmosphereObj&&(e.scene.remove(e.atmosphereObj),Xi(e.atmosphereObj)),e.atmosphereColor&&e.atmosphereAltitude)){var a=e.atmosphereObj=new Kat(e.globeObj.geometry,{color:e.atmosphereColor,size:ro*e.atmosphereAltitude,hollowRadius:ro,coefficient:.1,power:3.5});a.visible=!!e.showAtmosphere,a.__globeObjType="atmosphere",e.scene.add(a)}!e.ready&&(!e.globeImageUrl||e.globeTileEngineUrl)&&(e.ready=!0,e.onReady())}}),vf=function(e){return isNaN(e)?parseInt(sr(e).toHex(),16):e},td=function(e){return e&&isNaN(e)?hg(e).opacity:1},lm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i,o=1,a=/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.eE+-]+)\s*\)$/.exec(e.trim().toLowerCase());if(a){var s=a.slice(1),l=lo(s,4),c=l[0],u=l[1],d=l[2],f=l[3];i=new Vn("rgb(".concat(+c,",").concat(+u,",").concat(+d,")")),o=Math.min(+f,1)}else i=new Vn(e);r&&i.convertLinearToSRGB();var h=i.toArray();return n?[].concat(zi(h),[o]):h};function Qat(t,e,n){return t.opacity=e,t.transparent=e<1,t.depthWrite=e>=1,t}var UY=window.THREE?window.THREE:{BufferAttribute:So};function yf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float32Array;if(e===1)return new UY.BufferAttribute(new n(t),e);for(var r=new UY.BufferAttribute(new n(t.length*e),e),i=0,o=t.length;i<o;i++)r.set(t[i],i*e);return r}function Zat(t){for(var e=t.itemSize,n=[],r=0;r<t.count;r++)n.push(t.array.slice(r*e,(r+1)*e));return n}var TD=new WeakMap,RT=new WeakMap,NT=new WeakMap,zl=function(t){function e(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.dataBindAttr,a=o===void 0?"__data":o,s=i.objBindAttr,l=s===void 0?"__threeObj":s,c=i.removeDelay,u=c===void 0?0:c;return _N(this,e),r=xN(this,e),$a(r,"scene",void 0),SD(r,TD,void 0),SD(r,RT,void 0),SD(r,NT,void 0),r.scene=n,wD(TD,r,a),wD(RT,r,l),wD(NT,r,u),r.onRemoveObj(function(){}),r}return wN(e,t),SN(e,[{key:"onCreateObj",value:function(r){var i=this;return CD(e,"onCreateObj",this)([function(o){var a=r(o);return o[Jb(RT,i)]=a,a[Jb(TD,i)]=o,i.scene.add(a),a}]),this}},{key:"onRemoveObj",value:function(r){var i=this;return CD(e,"onRemoveObj",this)([function(o,a){var s=CD(e,"getData",i)([o]);r(o,a);var l=function(){i.scene.remove(o),Xi(o),delete s[Jb(RT,i)]};Jb(NT,i)?setTimeout(l,Jb(NT,i)):l()}]),this}}])}(Pqe),Ru=window.THREE?window.THREE:{BufferGeometry:bi,CylinderGeometry:DR,Matrix4:wr,Mesh:Ai,MeshLambertMaterial:Mh,Object3D:uo,Vector3:Te},zY=Object.assign({},j7),VY=zY.BufferGeometryUtils||zY,Jfe=xa({props:{pointsData:{default:[]},pointLat:{default:"lat"},pointLng:{default:"lng"},pointColor:{default:function(){return"#ffffaa"}},pointAltitude:{default:.1},pointRadius:{default:.25},pointResolution:{default:12,triggerUpdate:!1},pointsMerge:{default:!1},pointsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Xi(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new zl(e,{objBindAttr:"__threeObjPoint"})},update:function(e,n){var r=nn(e.pointLat),i=nn(e.pointLng),o=nn(e.pointAltitude),a=nn(e.pointRadius),s=nn(e.pointColor),l=new Ru.CylinderGeometry(1,1,1,e.pointResolution);l.applyMatrix4(new Ru.Matrix4().makeRotationX(Math.PI/2)),l.applyMatrix4(new Ru.Matrix4().makeTranslation(0,0,-.5));var c=2*Math.PI*ro/360,u={};if(!e.pointsMerge&&n.hasOwnProperty("pointsMerge")&&Xi(e.scene),e.dataMapper.scene=e.pointsMerge?new Ru.Object3D:e.scene,e.dataMapper.onCreateObj(h).onUpdateObj(p).digest(e.pointsData),e.pointsMerge){var d=e.pointsData.length?(VY.mergeGeometries||VY.mergeBufferGeometries)(e.pointsData.map(function(_){var x=e.dataMapper.getObj(_),y=x.geometry.clone();x.updateMatrix(),y.applyMatrix4(x.matrix);var w=lm(s(_));return y.setAttribute("color",yf(Array(y.getAttribute("position").count).fill(w),4)),y})):new Ru.BufferGeometry,f=new Ru.Mesh(d,new Ru.MeshLambertMaterial({color:16777215,transparent:!0,vertexColors:!0}));f.__globeObjType="points",f.__data=e.pointsData,e.dataMapper.clear(),Xi(e.scene),e.scene.add(f)}function h(){var _=new Ru.Mesh(l);return _.__globeObjType="point",_}function p(_,x){var y=function(B){var D=_.__currentTargetD=B,$=D.r,z=D.alt,V=D.lat,q=D.lng;Object.assign(_.position,hu(V,q));var G=e.pointsMerge?new Ru.Vector3(0,0,0):e.scene.localToWorld(new Ru.Vector3(0,0,0));_.lookAt(G),_.scale.x=_.scale.y=Math.min(30,$)*c,_.scale.z=Math.max(z*ro,.1)},w={alt:+o(x),r:+a(x),lat:+r(x),lng:+i(x)},C=_.__currentTargetD||Object.assign({},w,{alt:-.001});if(Object.keys(w).some(function(I){return C[I]!==w[I]})&&(e.pointsMerge||!e.pointsTransitionDuration||e.pointsTransitionDuration<0?y(w):e.tweenGroup.add(new Ds(C).to(w,e.pointsTransitionDuration).easing(ca.Quadratic.InOut).onUpdate(y).start())),!e.pointsMerge){var M=s(x),R=M?td(M):0,N=!!R;_.visible=N,N&&(u.hasOwnProperty(M)||(u[M]=new Ru.MeshLambertMaterial({color:vf(M),transparent:R<1,opacity:R})),_.material=u[M])}}}}),ehe=function(){return{uniforms:{dashOffset:{value:0},dashSize:{value:1},gapSize:{value:0},dashTranslate:{value:0}},vertexShader:`
    `.concat(Fr.common,`
    `).concat(Fr.logdepthbuf_pars_vertex,`
  
    uniform float dashTranslate; 

    attribute vec4 color;
    varying vec4 vColor;
    
    attribute float relDistance;
    varying float vRelDistance;

    void main() {
      // pass through colors and distances
      vColor = color;
      vRelDistance = relDistance + dashTranslate;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  
      `).concat(Fr.logdepthbuf_vertex,`
    }
  `),fragmentShader:`
    `.concat(Fr.logdepthbuf_pars_fragment,`

    uniform float dashOffset; 
    uniform float dashSize;
    uniform float gapSize; 
    
    varying vec4 vColor;
    varying float vRelDistance;
    
    void main() {
      // ignore pixels in the gap
      if (vRelDistance < dashOffset) discard;
      if (mod(vRelDistance - dashOffset, dashSize + gapSize) > dashSize) discard;
    
      // set px color: [r, g, b, a], interpolated between vertices 
      gl_FragColor = vColor; 
  
      `).concat(Fr.logdepthbuf_fragment,`
    }
  `)}},V6=function(e){return e.uniforms.uSurfaceRadius={type:"float",value:0},e.vertexShader=(`attribute float surfaceRadius;
varying float vSurfaceRadius;
varying vec3 vPos;
`+e.vertexShader).replace("void main() {",["void main() {","vSurfaceRadius = surfaceRadius;","vPos = position;"].join(`
`)),e.fragmentShader=(`uniform float uSurfaceRadius;
varying float vSurfaceRadius;
varying vec3 vPos;
`+e.fragmentShader).replace("void main() {",["void main() {","if (length(vPos) < max(uSurfaceRadius, vSurfaceRadius)) discard;"].join(`
`)),e},Jat=function(e){return e.vertexShader=`
    attribute float r;
    
    const float PI = 3.1415926535897932384626433832795;
    float toRad(in float a) {
      return a * PI / 180.0;
    }
    
    vec3 Polar2Cartesian(in vec3 c) { // [lat, lng, r]
      float phi = toRad(90.0 - c.x);
      float theta = toRad(90.0 - c.y);
      float r = c.z;
      return vec3( // x,y,z
        r * sin(phi) * cos(theta),
        r * cos(phi),
        r * sin(phi) * sin(theta)
      );
    }
    
    vec2 Cartesian2Polar(in vec3 p) {
      float r = sqrt(p.x * p.x + p.y * p.y + p.z * p.z);
      float phi = acos(p.y / r);
      float theta = atan(p.z, p.x);
      return vec2( // lat,lng
        90.0 - phi * 180.0 / PI,
        90.0 - theta * 180.0 / PI - (theta < -PI / 2.0 ? 360.0 : 0.0)
      );
    }
    `.concat(e.vertexShader.replace("}",`                  
        vec3 pos = Polar2Cartesian(vec3(Cartesian2Polar(position), r));
        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
      }
    `),`
  `),e},I9=function(e,n){return e.onBeforeCompile=function(r){e.userData.shader=n(r)},e},est=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(i){return i};if(e.userData.shader)n(e.userData.shader.uniforms);else{var r=e.onBeforeCompile;e.onBeforeCompile=function(i){r(i),n(i.uniforms)}}},tst=["stroke"],Nu=window.THREE?window.THREE:{BufferGeometry:bi,CubicBezierCurve3:vae,Curve:md,Group:Tl,Line:IR,Mesh:Ai,NormalBlending:rl,ShaderMaterial:Os,TubeGeometry:E7,Vector3:Te},nst=Gy.default||Gy,the=xa({props:{arcsData:{default:[]},arcStartLat:{default:"startLat"},arcStartLng:{default:"startLng"},arcStartAltitude:{default:0},arcEndLat:{default:"endLat"},arcEndLng:{default:"endLng"},arcEndAltitude:{default:0},arcColor:{default:function(){return"#ffffaa"}},arcAltitude:{},arcAltitudeAutoScale:{default:.5},arcStroke:{},arcCurveResolution:{default:64,triggerUpdate:!1},arcCircularResolution:{default:6,triggerUpdate:!1},arcDashLength:{default:1},arcDashGap:{default:0},arcDashInitialGap:{default:0},arcDashAnimateTime:{default:0},arcsTransitionDuration:{default:1e3,triggerUpdate:!1}},methods:{pauseAnimation:function(e){var n;(n=e.ticker)===null||n===void 0||n.pause()},resumeAnimation:function(e){var n;(n=e.ticker)===null||n===void 0||n.resume()},_destructor:function(e){var n;e.sharedMaterial.dispose(),(n=e.ticker)===null||n===void 0||n.dispose()}},stateInit:function(e){var n=e.tweenGroup;return{tweenGroup:n,ticker:new nst,sharedMaterial:new Nu.ShaderMaterial(Mi(Mi({},ehe()),{},{transparent:!0,blending:Nu.NormalBlending}))}},init:function(e,n){Xi(e),n.scene=e,n.dataMapper=new zl(e,{objBindAttr:"__threeObjArc"}).onCreateObj(function(){var r=new Nu.Group;return r.__globeObjType="arc",r}),n.ticker.onTick.add(function(r,i){n.dataMapper.entries().map(function(o){var a=lo(o,2),s=a[1];return s}).filter(function(o){return o.children.length&&o.children[0].material&&o.children[0].__dashAnimateStep}).forEach(function(o){var a=o.children[0],s=a.__dashAnimateStep*i,l=a.material.uniforms.dashTranslate.value%1e9;a.material.uniforms.dashTranslate.value=l+s})})},update:function(e){var n=nn(e.arcStartLat),r=nn(e.arcStartLng),i=nn(e.arcStartAltitude),o=nn(e.arcEndLat),a=nn(e.arcEndLng),s=nn(e.arcEndAltitude),l=nn(e.arcAltitude),c=nn(e.arcAltitudeAutoScale),u=nn(e.arcStroke),d=nn(e.arcColor),f=nn(e.arcDashLength),h=nn(e.arcDashGap),p=nn(e.arcDashInitialGap),_=nn(e.arcDashAnimateTime);e.dataMapper.onUpdateObj(function(C,M){var R=u(M),N=R!=null;if(!C.children.length||N!==(C.children[0].type==="Mesh")){Xi(C);var I=N?new Nu.Mesh:new Nu.Line(new Nu.BufferGeometry);I.material=e.sharedMaterial.clone(),C.add(I)}var B=C.children[0];Object.assign(B.material.uniforms,{dashSize:{value:f(M)},gapSize:{value:h(M)},dashOffset:{value:p(M)}});var D=_(M);B.__dashAnimateStep=D>0?1e3/D:0;var $=y(d(M),e.arcCurveResolution,N?e.arcCircularResolution+1:1),z=w(e.arcCurveResolution,N?e.arcCircularResolution+1:1,!0);B.geometry.setAttribute("color",$),B.geometry.setAttribute("relDistance",z);var V=function(H){var X=C.__currentTargetD=H,Y=X.stroke,ee=zat(X,tst),Z=x(ee);N?(B.geometry&&B.geometry.dispose(),B.geometry=new Nu.TubeGeometry(Z,e.arcCurveResolution,Y/2,e.arcCircularResolution),B.geometry.setAttribute("color",$),B.geometry.setAttribute("relDistance",z)):B.geometry.setFromPoints(Z.getPoints(e.arcCurveResolution))},q={stroke:R,alt:l(M),altAutoScale:+c(M),startLat:+n(M),startLng:+r(M),startAlt:+i(M),endLat:+o(M),endLng:+a(M),endAlt:+s(M)},G=C.__currentTargetD||Object.assign({},q,{altAutoScale:-.001});Object.keys(q).some(function(j){return G[j]!==q[j]})&&(!e.arcsTransitionDuration||e.arcsTransitionDuration<0?V(q):e.tweenGroup.add(new Ds(G).to(q,e.arcsTransitionDuration).easing(ca.Quadratic.InOut).onUpdate(V).start()))}).digest(e.arcsData);function x(C){var M=C.alt,R=C.altAutoScale,N=C.startLat,I=C.startLng,B=C.startAlt,D=C.endLat,$=C.endLng,z=C.endAlt,V=function(se){var me=lo(se,3),ye=me[0],we=me[1],Ee=me[2],Me=hu(we,ye,Ee),Oe=Me.x,Ue=Me.y,Se=Me.z;return new Nu.Vector3(Oe,Ue,Se)},q=[I,N],G=[$,D],j=M;if(j==null&&(j=om(q,G)/2*R+Math.max(B,z)),j||B||z){var H=U7(q,G),X=function(se,me){return me+(me-se)*(se<me?.5:.25)},Y=[.25,.75].map(function(ge){return[].concat(zi(H(ge)),[X(ge<.5?B:z,j)])}),ee=lo(Y,2),Z=ee[0],re=ee[1],ae=P9(Nu.CubicBezierCurve3,zi([[].concat(q,[B]),Z,re,[].concat(G,[z])].map(V)));return ae}else{var ce=.001;return he.apply(void 0,zi([[].concat(q,[ce]),[].concat(G,[ce])].map(V)))}function he(ge,se){var me=ge.angleTo(se),ye=me===0?function(){return ge.clone()}:function(Ee){return new Nu.Vector3().addVectors(ge.clone().multiplyScalar(Math.sin((1-Ee)*me)),se.clone().multiplyScalar(Math.sin(Ee*me))).divideScalar(Math.sin(me))},we=new Nu.Curve;return we.getPoint=ye,we}}function y(C,M){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=M+1,I;if(C instanceof Array||C instanceof Function){var B=C instanceof Array?dh().domain(C.map(function(j,H){return H/(C.length-1)})).range(C):C;I=function(H){return lm(B(H),!0,!0)}}else{var D=lm(C,!0,!0);I=function(){return D}}for(var $=[],z=0,V=N;z<V;z++)for(var q=I(z/(V-1)),G=0;G<R;G++)$.push(q);return yf($,4)}function w(C){for(var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,N=C+1,I=[],B=0,D=N;B<D;B++)for(var $=B/(D-1),z=0;z<M;z++)I.push($);return R&&I.reverse(),yf(I,1)}}}),sp=window.THREE?window.THREE:{BufferGeometry:bi,DoubleSide:Ko,Mesh:Ai,MeshLambertMaterial:Mh,Object3D:uo},GY=Object.assign({},j7),HY=GY.BufferGeometryUtils||GY,nhe=xa({props:{hexBinPointsData:{default:[]},hexBinPointLat:{default:"lat"},hexBinPointLng:{default:"lng"},hexBinPointWeight:{default:1},hexBinResolution:{default:4},hexMargin:{default:.2},hexTopCurvatureResolution:{default:5},hexTopColor:{default:function(){return"#ffffaa"}},hexSideColor:{default:function(){return"#ffffaa"}},hexAltitude:{default:function(e){var n=e.sumWeight;return n*.01}},hexBinMerge:{default:!1},hexTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Xi(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new zl(e,{objBindAttr:"__threeObjHexbin"})},update:function(e,n){var r=nn(e.hexBinPointLat),i=nn(e.hexBinPointLng),o=nn(e.hexBinPointWeight),a=nn(e.hexAltitude),s=nn(e.hexTopColor),l=nn(e.hexSideColor),c=nn(e.hexMargin),u=YWe(e.hexBinPointsData.map(function(w){return Mi(Mi({},w),{},{h3Idx:OXe(r(w),i(w),e.hexBinResolution)})}),"h3Idx"),d=Object.entries(u).map(function(w){var C=lo(w,2),M=C[0],R=C[1];return{h3Idx:M,points:R,sumWeight:R.reduce(function(N,I){return N+ +o(I)},0)}}),f={};if(!e.hexBinMerge&&n.hasOwnProperty("hexBinMerge")&&Xi(e.scene),e.dataMapper.scene=e.hexBinMerge?new sp.Object3D:e.scene,e.dataMapper.id(function(w){return w.h3Idx}).onCreateObj(x).onUpdateObj(y).digest(d),e.hexBinMerge){var h=d.length?(HY.mergeGeometries||HY.mergeBufferGeometries)(d.map(function(w){var C=e.dataMapper.getObj(w),M=C.geometry.toNonIndexed();C.updateMatrix(),M.applyMatrix4(C.matrix);var R=lm(s(w)),N=lm(l(w)),I=M.getAttribute("position").count,B=M.groups[0].count;return M.setAttribute("color",yf(zi(new Array(I)).map(function(D,$){return $>=B?R:N}),4)),M})):new sp.BufferGeometry,p=new sp.MeshLambertMaterial({color:16777215,transparent:!0,vertexColors:!0,side:sp.DoubleSide});p.onBeforeCompile=function(w){p.userData.shader=V6(w)};var _=new sp.Mesh(h,p);_.__globeObjType="hexBinPoints",_.__data=d,e.dataMapper.clear(),Xi(e.scene),e.scene.add(_)}function x(w){var C=new sp.Mesh;C.__hexCenter=tle(w.h3Idx),C.__hexGeoJson=nle(w.h3Idx,!0).reverse();var M=C.__hexCenter[1];return C.__hexGeoJson.forEach(function(R){var N=R[0];Math.abs(M-N)>170&&(R[0]+=M>N?360:-360)}),C.__globeObjType="hexbin",C}function y(w,C){var M=function(X,Y,ee){return X-(X-Y)*ee},R=Math.max(0,Math.min(1,+c(C))),N=lo(w.__hexCenter,2),I=N[0],B=N[1],D=R===0?w.__hexGeoJson:w.__hexGeoJson.map(function(H){var X=lo(H,2),Y=X[0],ee=X[1];return[[Y,B],[ee,I]].map(function(Z){var re=lo(Z,2),ae=re[0],ce=re[1];return M(ae,ce,R)})}),$=e.hexTopCurvatureResolution;w.geometry&&w.geometry.dispose(),w.geometry=new K7([D],0,ro,!1,!0,!0,$);var z={alt:+a(C)},V=function(X){var Y=w.__currentTargetD=X,ee=Y.alt;w.scale.x=w.scale.y=w.scale.z=1+ee;var Z=ro/(ee+1);w.geometry.setAttribute("surfaceRadius",yf(Array(w.geometry.getAttribute("position").count).fill(Z),1))},q=w.__currentTargetD||Object.assign({},z,{alt:-.001});if(Object.keys(z).some(function(H){return q[H]!==z[H]})&&(e.hexBinMerge||!e.hexTransitionDuration||e.hexTransitionDuration<0?V(z):e.tweenGroup.add(new Ds(q).to(z,e.hexTransitionDuration).easing(ca.Quadratic.InOut).onUpdate(V).start())),!e.hexBinMerge){var G=l(C),j=s(C);[G,j].forEach(function(H){if(!f.hasOwnProperty(H)){var X=td(H);f[H]=I9(new sp.MeshLambertMaterial({color:vf(H),transparent:X<1,opacity:X,side:sp.DoubleSide}),V6)}}),w.material=[G,j].map(function(H){return f[H]})}}}}),rhe=function(e){return e*e},Gf=function(e){return e*Math.PI/180};function rst(t,e){var n=Math.sqrt,r=Math.cos,i=function(u){return rhe(Math.sin(u/2))},o=Gf(t[1]),a=Gf(e[1]),s=Gf(t[0]),l=Gf(e[0]);return 2*Math.asin(n(i(a-o)+r(o)*r(a)*i(l-s)))}var ist=Math.sqrt(2*Math.PI);function ost(t,e){return Math.exp(-rhe(t/e)/2)/(e*ist)}var ast=function(e){var n=lo(e,2),r=n[0],i=n[1],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=a.lngAccessor,l=s===void 0?function(x){return x[0]}:s,c=a.latAccessor,u=c===void 0?function(x){return x[1]}:c,d=a.weightAccessor,f=d===void 0?function(){return 1}:d,h=a.bandwidth,p=[r,i],_=h*Math.PI/180;return WVe(o.map(function(x){var y=f(x);if(!y)return 0;var w=rst(p,[l(x),u(x)]);return ost(w,_)*y}))},sst=function(){var t=Dat(U6().m(function e(n){var r,i,o,a,s,l,c,u,d,f,h,p,_,x,y,w,C,M,R,N,I,B,D,$,z,V,q,G,j,H,X,Y,ee,Z,re,ae,ce,he,ge,se,me=arguments,ye,we,Ee;return U6().w(function(Me){for(;;)switch(Me.n){case 0:if(i=me.length>1&&me[1]!==void 0?me[1]:[],o=me.length>2&&me[2]!==void 0?me[2]:{},a=o.lngAccessor,s=a===void 0?function(Oe){return Oe[0]}:a,l=o.latAccessor,c=l===void 0?function(Oe){return Oe[1]}:l,u=o.weightAccessor,d=u===void 0?function(){return 1}:u,f=o.bandwidth,(r=navigator)!==null&&r!==void 0&&r.gpu){Me.n=1;break}return console.warn("WebGPU not enabled in browser. Please consider enabling it to improve performance."),Me.a(2,n.map(function(Oe){return ast(Oe,i,{lngAccessor:s,latAccessor:c,weightAccessor:d,bandwidth:f})}));case 1:return h=4,p=dat,_=fat,x=Sat,y=_at,w=Aat,C=vat,M=hat,R=xat,N=bat,I=mat,B=pat,D=gat,$=yat,z=y(new $E(new Float32Array(n.flat().map(Gf)),2),"vec2",n.length),V=y(new $E(new Float32Array(i.map(function(Oe){return[Gf(s(Oe)),Gf(c(Oe)),d(Oe)]}).flat()),3),"vec3",i.length),q=new $E(n.length,1),G=y(q,"float",n.length),j=w(Math.PI),H=R(j.mul(2)),X=function(Ue){return Ue.mul(Ue)},Y=function(Ue){return X(N(Ue.div(2)))},ee=function(Ue,Se){var _e=w(Ue[1]),ve=w(Se[1]),Ge=w(Ue[0]),ue=w(Se[0]);return w(2).mul(B(R(Y(ve.sub(_e)).add(I(_e).mul(I(ve)).mul(Y(ue.sub(Ge)))))))},Z=function(Ue,Se){return D($(X(Ue.div(Se)).div(2))).div(Se.mul(H))},re=x(Gf(f)),ae=x(Gf(f*h)),ce=x(i.length),he=p(function(){var Oe=z.element(C),Ue=G.element(C);Ue.assign(0),M(ce,function(Se){var _e=Se.i,ve=V.element(_e),Ge=ve.z;_(Ge,function(){var ue=ee(ve.xy,Oe.xy);_(ue&&ue.lessThan(ae),function(){Ue.addAssign(Z(ue,re).mul(Ge))})})})}),ge=he().compute(n.length),se=new Hfe,Me.n=2,se.computeAsync(ge);case 2:return ye=Array,we=Float32Array,Me.n=3,se.getArrayBufferAsync(q);case 3:return Ee=Me.v,Me.a(2,ye.from.call(ye,new we(Ee)))}},e)}));return function(n){return t.apply(this,arguments)}}(),IT=window.THREE?window.THREE:{Mesh:Ai,MeshLambertMaterial:Mh,SphereGeometry:xf},lst=3.5,cst=.1,jY=100,ust=function(e){var n=hg(LXe(e));return n.opacity=Math.cbrt(e),n.formatRgb()},ihe=xa({props:{heatmapsData:{default:[]},heatmapPoints:{default:function(e){return e}},heatmapPointLat:{default:function(e){return e[0]}},heatmapPointLng:{default:function(e){return e[1]}},heatmapPointWeight:{default:1},heatmapBandwidth:{default:2.5},heatmapColorFn:{default:function(){return ust}},heatmapColorSaturation:{default:1.5},heatmapBaseAltitude:{default:.01},heatmapTopAltitude:{},heatmapsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Xi(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new zl(e,{objBindAttr:"__threeObjHeatmap"}).onCreateObj(function(){var o=new IT.Mesh(new IT.SphereGeometry(ro),I9(new IT.MeshLambertMaterial({vertexColors:!0,transparent:!0}),Jat));return o.__globeObjType="heatmap",o})},update:function(e){var n=nn(e.heatmapPoints),r=nn(e.heatmapPointLat),i=nn(e.heatmapPointLng),o=nn(e.heatmapPointWeight),a=nn(e.heatmapBandwidth),s=nn(e.heatmapColorFn),l=nn(e.heatmapColorSaturation),c=nn(e.heatmapBaseAltitude),u=nn(e.heatmapTopAltitude);e.dataMapper.onUpdateObj(function(d,f){var h=a(f),p=s(f),_=l(f),x=c(f),y=u(f),w=n(f).map(function(I){var B=r(I),D=i(I),$=hu(B,D),z=$.x,V=$.y,q=$.z;return{x:z,y:V,z:q,lat:B,lng:D,weight:o(I)}}),C=Math.max(cst,h/lst),M=Math.ceil(360/(C||-1));d.geometry.parameters.widthSegments!==M&&(d.geometry.dispose(),d.geometry=new IT.SphereGeometry(ro,M,M/2));var R=Zat(d.geometry.getAttribute("position")),N=R.map(function(I){var B=lo(I,3),D=B[0],$=B[1],z=B[2],V=Qfe({x:D,y:$,z}),q=V.lng,G=V.lat;return[q,G]});sst(N,w,{latAccessor:function(B){return B.lat},lngAccessor:function(B){return B.lng},weightAccessor:function(B){return B.weight},bandwidth:h}).then(function(I){var B=zi(new Array(jY)).map(function(V,q){return lm(p(q/(jY-1)))}),D=function(q){var G=d.__currentTargetD=q,j=G.kdeVals,H=G.topAlt,X=G.saturation,Y=HVe(j.map(Math.abs))||1e-15,ee=ese([0,Y/X],B);d.geometry.setAttribute("color",yf(j.map(function(re){return ee(Math.abs(re))}),4));var Z=dh([0,Y],[ro*(1+x),ro*(1+(H||x))]);d.geometry.setAttribute("r",yf(j.map(Z)))},$={kdeVals:I,topAlt:y,saturation:_},z=d.__currentTargetD||Object.assign({},$,{kdeVals:I.map(function(){return 0}),topAlt:y&&x,saturation:.5});z.kdeVals.length!==I.length&&(z.kdeVals=I.slice()),Object.keys($).some(function(V){return z[V]!==$[V]})&&(!e.heatmapsTransitionDuration||e.heatmapsTransitionDuration<0?D($):e.tweenGroup.add(new Ds(z).to($,e.heatmapsTransitionDuration).easing(ca.Quadratic.InOut).onUpdate(D).start()))})}).digest(e.heatmapsData)}}),lp=window.THREE?window.THREE:{DoubleSide:Ko,Group:Tl,LineBasicMaterial:E1,LineSegments:pae,Mesh:Ai,MeshBasicMaterial:jc},ohe=xa({props:{polygonsData:{default:[]},polygonGeoJsonGeometry:{default:"geometry"},polygonSideColor:{default:function(){return"#ffffaa"}},polygonSideMaterial:{},polygonCapColor:{default:function(){return"#ffffaa"}},polygonCapMaterial:{},polygonStrokeColor:{},polygonAltitude:{default:.01},polygonCapCurvatureResolution:{default:5},polygonsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Xi(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new zl(e,{objBindAttr:"__threeObjPolygon"}).id(function(o){return o.id}).onCreateObj(function(){var o=new lp.Group;return o.__defaultSideMaterial=I9(new lp.MeshBasicMaterial({side:lp.DoubleSide,depthWrite:!0}),V6),o.__defaultCapMaterial=new lp.MeshBasicMaterial({side:lp.DoubleSide,depthWrite:!0}),o.add(new lp.Mesh(void 0,[o.__defaultSideMaterial,o.__defaultCapMaterial])),o.add(new lp.LineSegments(void 0,new lp.LineBasicMaterial)),o.__globeObjType="polygon",o})},update:function(e){var n=nn(e.polygonGeoJsonGeometry),r=nn(e.polygonAltitude),i=nn(e.polygonCapCurvatureResolution),o=nn(e.polygonCapColor),a=nn(e.polygonCapMaterial),s=nn(e.polygonSideColor),l=nn(e.polygonSideMaterial),c=nn(e.polygonStrokeColor),u=[];e.polygonsData.forEach(function(d){var f={data:d,capColor:o(d),capMaterial:a(d),sideColor:s(d),sideMaterial:l(d),strokeColor:c(d),altitude:+r(d),capCurvatureResolution:+i(d)},h=n(d),p=d.__id||"".concat(Math.round(Math.random()*1e9));d.__id=p,h.type==="Polygon"?u.push(Mi({id:"".concat(p,"_0"),coords:h.coordinates},f)):h.type==="MultiPolygon"?u.push.apply(u,zi(h.coordinates.map(function(_,x){return Mi({id:"".concat(p,"_").concat(x),coords:_},f)}))):console.warn("Unsupported GeoJson geometry type: ".concat(h.type,". Skipping geometry..."))}),e.dataMapper.onUpdateObj(function(d,f){var h=f.coords,p=f.capColor,_=f.capMaterial,x=f.sideColor,y=f.sideMaterial,w=f.strokeColor,C=f.altitude,M=f.capCurvatureResolution,R=lo(d.children,2),N=R[0],I=R[1],B=!!w;I.visible=B;var D=!!(p||_),$=!!(x||y);dst(N.geometry.parameters||{},{polygonGeoJson:h,curvatureResolution:M,closedTop:D,includeSides:$})||(N.geometry&&N.geometry.dispose(),N.geometry=new K7(h,0,ro,!1,D,$,M)),B&&(!I.geometry.parameters||I.geometry.parameters.geoJson.coordinates!==h||I.geometry.parameters.resolution!==M)&&(I.geometry&&I.geometry.dispose(),I.geometry=new Dse({type:"Polygon",coordinates:h},ro,M));var z=$?0:-1,V=D?$?1:0:-1;if(z>=0&&(N.material[z]=y||d.__defaultSideMaterial),V>=0&&(N.material[V]=_||d.__defaultCapMaterial),[[!y&&x,z],[!_&&p,V]].forEach(function(Y){var ee=lo(Y,2),Z=ee[0],re=ee[1];if(!(!Z||re<0)){var ae=N.material[re],ce=td(Z);ae.color.set(vf(Z)),ae.transparent=ce<1,ae.opacity=ce}}),B){var q=I.material,G=td(w);q.color.set(vf(w)),q.transparent=G<1,q.opacity=G}var j={alt:C},H=function(ee){var Z=d.__currentTargetD=ee,re=Z.alt;N.scale.x=N.scale.y=N.scale.z=1+re,B&&(I.scale.x=I.scale.y=I.scale.z=1+re+1e-4),est(d.__defaultSideMaterial,function(ae){return ae.uSurfaceRadius.value=ro/(re+1)})},X=d.__currentTargetD||Object.assign({},j,{alt:-.001});Object.keys(j).some(function(Y){return X[Y]!==j[Y]})&&(!e.polygonsTransitionDuration||e.polygonsTransitionDuration<0||X.alt===j.alt?H(j):e.tweenGroup.add(new Ds(X).to(j,e.polygonsTransitionDuration).easing(ca.Quadratic.InOut).onUpdate(H).start()))}).digest(u)}});function dst(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return function(r,i){return r===i}};return Object.entries(e).every(function(r){var i=lo(r,2),o=i[0],a=i[1];return t.hasOwnProperty(o)&&n(o)(t[o],a)})}var $A=window.THREE?window.THREE:{BufferGeometry:bi,DoubleSide:Ko,Mesh:Ai,MeshLambertMaterial:Mh,Vector3:Te},qY=Object.assign({},j7),WY=qY.BufferGeometryUtils||qY,ahe=xa({props:{hexPolygonsData:{default:[]},hexPolygonGeoJsonGeometry:{default:"geometry"},hexPolygonColor:{default:function(){return"#ffffaa"}},hexPolygonAltitude:{default:.001},hexPolygonResolution:{default:3},hexPolygonMargin:{default:.2},hexPolygonUseDots:{default:!1},hexPolygonCurvatureResolution:{default:5},hexPolygonDotResolution:{default:12},hexPolygonsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Xi(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new zl(e,{objBindAttr:"__threeObjHexPolygon"}).onCreateObj(function(){var o=new $A.Mesh(void 0,new $A.MeshLambertMaterial({side:$A.DoubleSide}));return o.__globeObjType="hexPolygon",o})},update:function(e){var n=nn(e.hexPolygonGeoJsonGeometry),r=nn(e.hexPolygonColor),i=nn(e.hexPolygonAltitude),o=nn(e.hexPolygonResolution),a=nn(e.hexPolygonMargin),s=nn(e.hexPolygonUseDots),l=nn(e.hexPolygonCurvatureResolution),c=nn(e.hexPolygonDotResolution);e.dataMapper.onUpdateObj(function(u,d){var f=n(d),h=o(d),p=i(d),_=Math.max(0,Math.min(1,+a(d))),x=s(d),y=l(d),w=c(d),C=r(d),M=td(C);u.material.color.set(vf(C)),u.material.transparent=M<1,u.material.opacity=M;var R={alt:p,margin:_,curvatureResolution:y},N={geoJson:f,h3Res:h},I=u.__currentTargetD||Object.assign({},R,{alt:-.001}),B=u.__currentMemD||N;if(Object.keys(R).some(function(V){return I[V]!==R[V]})||Object.keys(N).some(function(V){return B[V]!==N[V]})){u.__currentMemD=N;var D=[];f.type==="Polygon"?cX(f.coordinates,h,!0).forEach(function(V){return D.push(V)}):f.type==="MultiPolygon"?f.coordinates.forEach(function(V){return cX(V,h,!0).forEach(function(q){return D.push(q)})}):console.warn("Unsupported GeoJson geometry type: ".concat(f.type,". Skipping geometry..."));var $=D.map(function(V){var q=tle(V),G=nle(V,!0).reverse(),j=q[1];return G.forEach(function(H){var X=H[0];Math.abs(j-X)>170&&(H[0]+=j>X?360:-360)}),{h3Idx:V,hexCenter:q,hexGeoJson:G}}),z=function(q){var G=u.__currentTargetD=q,j=G.alt,H=G.margin,X=G.curvatureResolution;u.geometry&&u.geometry.dispose(),u.geometry=$.length?(WY.mergeGeometries||WY.mergeBufferGeometries)($.map(function(Y){var ee=lo(Y.hexCenter,2),Z=ee[0],re=ee[1];if(x){var ae=hu(Z,re,j),ce=hu(Y.hexGeoJson[0][1],Y.hexGeoJson[0][0],j),he=.85*(1-H)*new $A.Vector3(ae.x,ae.y,ae.z).distanceTo(new $A.Vector3(ce.x,ce.y,ce.z)),ge=new OR(he,w);return ge.rotateX(y0(-Z)),ge.rotateY(y0(re)),ge.translate(ae.x,ae.y,ae.z),ge}else{var se=function(we,Ee,Me){return we-(we-Ee)*Me},me=H===0?Y.hexGeoJson:Y.hexGeoJson.map(function(ye){var we=lo(ye,2),Ee=we[0],Me=we[1];return[[Ee,re],[Me,Z]].map(function(Oe){var Ue=lo(Oe,2),Se=Ue[0],_e=Ue[1];return se(Se,_e,H)})});return new K7([me],ro,ro*(1+j),!1,!0,!1,X)}})):new $A.BufferGeometry};!e.hexPolygonsTransitionDuration||e.hexPolygonsTransitionDuration<0?z(R):e.tweenGroup.add(new Ds(I).to(R,e.hexPolygonsTransitionDuration).easing(ca.Quadratic.InOut).onUpdate(z).start())}}).digest(e.hexPolygonsData)}}),fst=window.THREE?window.THREE:{Vector3:Te};function hst(t,e){var n=function(a,s){var l=a[a.length-1];return[].concat(zi(a),zi(Array(s-a.length).fill(l)))},r=Math.max(t.length,e.length),i=cGe.apply(void 0,zi([t,e].map(function(o){return o.map(function(a){var s=a.x,l=a.y,c=a.z;return[s,l,c]})}).map(function(o){return n(o,r)})));return function(o){return o===0?t:o===1?e:i(o).map(function(a){var s=lo(a,3),l=s[0],c=s[1],u=s[2];return new fst.Vector3(l,c,u)})}}var t0=window.THREE?window.THREE:{BufferGeometry:bi,Color:Vn,Group:Tl,Line:IR,NormalBlending:rl,ShaderMaterial:Os,Vector3:Te},pst=Gy.default||Gy,she=xa({props:{pathsData:{default:[]},pathPoints:{default:function(e){return e}},pathPointLat:{default:function(e){return e[0]}},pathPointLng:{default:function(e){return e[1]}},pathPointAlt:{default:.001},pathResolution:{default:2},pathColor:{default:function(){return"#ffffaa"}},pathStroke:{},pathDashLength:{default:1},pathDashGap:{default:0},pathDashInitialGap:{default:0},pathDashAnimateTime:{default:0},pathTransitionDuration:{default:1e3,triggerUpdate:!1},rendererSize:{}},methods:{pauseAnimation:function(e){var n;(n=e.ticker)===null||n===void 0||n.pause()},resumeAnimation:function(e){var n;(n=e.ticker)===null||n===void 0||n.resume()},_destructor:function(e){var n;(n=e.ticker)===null||n===void 0||n.dispose()}},stateInit:function(e){var n=e.tweenGroup;return{tweenGroup:n,ticker:new pst,sharedMaterial:new t0.ShaderMaterial(Mi(Mi({},ehe()),{},{transparent:!0,blending:t0.NormalBlending}))}},init:function(e,n){Xi(e),n.scene=e,n.dataMapper=new zl(e,{objBindAttr:"__threeObjPath"}).onCreateObj(function(){var r=new t0.Group;return r.__globeObjType="path",r}),n.ticker.onTick.add(function(r,i){n.dataMapper.entries().map(function(o){var a=lo(o,2),s=a[1];return s}).filter(function(o){return o.children.length&&o.children[0].material&&o.children[0].__dashAnimateStep}).forEach(function(o){var a=o.children[0],s=a.__dashAnimateStep*i;if(a.type==="Line"){var l=a.material.uniforms.dashTranslate.value%1e9;a.material.uniforms.dashTranslate.value=l+s}else if(a.type==="Line2"){for(var c=a.material.dashOffset-s,u=a.material.dashSize+a.material.gapSize;c<=-u;)c+=u;a.material.dashOffset=c}})})},update:function(e){var n=nn(e.pathPoints),r=nn(e.pathPointLat),i=nn(e.pathPointLng),o=nn(e.pathPointAlt),a=nn(e.pathStroke),s=nn(e.pathColor),l=nn(e.pathDashLength),c=nn(e.pathDashGap),u=nn(e.pathDashInitialGap),d=nn(e.pathDashAnimateTime);e.dataMapper.onUpdateObj(function(x,y){var w=a(y),C=w!=null;if(!x.children.length||C===(x.children[0].type==="Line")){Xi(x);var M=C?new Eat(new qfe,new M9):new t0.Line(new t0.BufferGeometry,e.sharedMaterial.clone());x.add(M)}var R=x.children[0],N=h(n(y),r,i,o,e.pathResolution),I=d(y);if(R.__dashAnimateStep=I>0?1e3/I:0,C){R.material.resolution=e.rendererSize;{var $=l(y),z=c(y),V=u(y);R.material.dashed=z>0,R.material.dashed?R.material.defines.USE_DASH="":delete R.material.defines.USE_DASH,R.material.dashed&&(R.material.dashScale=1/f(N),R.material.dashSize=$,R.material.gapSize=z,R.material.dashOffset=-V)}{var q=s(y);if(q instanceof Array){var G=p(s(y),N.length-1,1,!1);R.geometry.setColors(G.array),R.material.vertexColors=!0}else{var j=q,H=td(j);R.material.color=new t0.Color(vf(j)),R.material.transparent=H<1,R.material.opacity=H,R.material.vertexColors=!1}}R.material.needsUpdate=!0}else{Object.assign(R.material.uniforms,{dashSize:{value:l(y)},gapSize:{value:c(y)},dashOffset:{value:u(y)}});var B=p(s(y),N.length),D=_(N.length,1,!0);R.geometry.setAttribute("color",B),R.geometry.setAttribute("relDistance",D)}var X=hst(x.__currentTargetD&&x.__currentTargetD.points||[N[0]],N),Y=function(ae){var ce=x.__currentTargetD=ae,he=ce.stroke,ge=ce.interpolK,se=x.__currentTargetD.points=X(ge);if(C){var me;R.geometry.setPositions((me=[]).concat.apply(me,zi(se.map(function(ye){var we=ye.x,Ee=ye.y,Me=ye.z;return[we,Ee,Me]})))),R.material.linewidth=he,R.material.dashed&&R.computeLineDistances()}else R.geometry.setFromPoints(se),R.geometry.computeBoundingSphere()},ee={stroke:w,interpolK:1},Z=Object.assign({},x.__currentTargetD||ee,{interpolK:0});Object.keys(ee).some(function(re){return Z[re]!==ee[re]})&&(!e.pathTransitionDuration||e.pathTransitionDuration<0?Y(ee):e.tweenGroup.add(new Ds(Z).to(ee,e.pathTransitionDuration).easing(ca.Quadratic.InOut).onUpdate(Y).start()))}).digest(e.pathsData);function f(x){var y=0,w;return x.forEach(function(C){w&&(y+=w.distanceTo(C)),w=C}),y}function h(x,y,w,C,M){var R=function(D,$,z){for(var V=[],q=1;q<=z;q++)V.push(D+($-D)*q/(z+1));return V},N=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,z=[],V=null;return D.forEach(function(q){if(V){for(;Math.abs(V[1]-q[1])>180;)V[1]+=360*(V[1]<q[1]?1:-1);var G=Math.sqrt(Math.pow(q[0]-V[0],2)+Math.pow(q[1]-V[1],2));if(G>$)for(var j=Math.floor(G/$),H=R(V[0],q[0],j),X=R(V[1],q[1],j),Y=R(V[2],q[2],j),ee=0,Z=H.length;ee<Z;ee++)z.push([H[ee],X[ee],Y[ee]])}z.push(V=q)}),z},I=function(D){var $=lo(D,3),z=$[0],V=$[1],q=$[2],G=hu(z,V,q),j=G.x,H=G.y,X=G.z;return new t0.Vector3(j,H,X)};return N(x.map(function(B){return[y(B),w(B),C(B)]}),M).map(I)}function p(x,y){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,M=y+1,R;if(x instanceof Array||x instanceof Function){var N=x instanceof Array?dh().domain(x.map(function(q,G){return G/(x.length-1)})).range(x):x;R=function(G){return lm(N(G),C,!0)}}else{var I=lm(x,C,!0);R=function(){return I}}for(var B=[],D=0,$=M;D<$;D++)for(var z=R(D/($-1)),V=0;V<w;V++)B.push(z);return yf(B,C?4:3)}function _(x){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,C=x+1,M=[],R=0,N=C;R<N;R++)for(var I=R/(N-1),B=0;B<y;B++)M.push(I);return w&&M.reverse(),yf(M,1)}}}),OT=window.THREE?window.THREE:{Euler:ls,Mesh:Ai,MeshLambertMaterial:Mh,SphereGeometry:xf},lhe=xa({props:{tilesData:{default:[]},tileLat:{default:"lat"},tileLng:{default:"lng"},tileAltitude:{default:.01},tileWidth:{default:1},tileHeight:{default:1},tileUseGlobeProjection:{default:!0},tileMaterial:{default:function(){return new OT.MeshLambertMaterial({color:"#ffbb88",opacity:.4,transparent:!0})}},tileCurvatureResolution:{default:5},tilesTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Xi(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new zl(e,{objBindAttr:"__threeObjTile"}).onCreateObj(function(){var o=new OT.Mesh;return o.__globeObjType="tile",o})},update:function(e){var n=nn(e.tileLat),r=nn(e.tileLng),i=nn(e.tileAltitude),o=nn(e.tileWidth),a=nn(e.tileHeight),s=nn(e.tileUseGlobeProjection),l=nn(e.tileMaterial),c=nn(e.tileCurvatureResolution);e.dataMapper.onUpdateObj(function(u,d){u.material=l(d);var f=s(d),h=c(d),p=function(w){var C=u.__currentTargetD=w,M=C.lat,R=C.lng,N=C.alt,I=C.width,B=C.height,D=kA(R),$=kA(-M);u.geometry&&u.geometry.dispose(),u.geometry=new OT.SphereGeometry(ro*(1+N),Math.ceil(I/(h||-1)),Math.ceil(B/(h||-1)),kA(90-I/2)+(f?D:0),kA(I),kA(90-B/2)+(f?$:0),kA(B)),f||u.setRotationFromEuler(new OT.Euler($,D,0,"YXZ"))},_={lat:+n(d),lng:+r(d),alt:+i(d),width:+o(d),height:+a(d)},x=u.__currentTargetD||Object.assign({},_,{width:0,height:0});Object.keys(_).some(function(y){return x[y]!==_[y]})&&(!e.tilesTransitionDuration||e.tilesTransitionDuration<0?p(_):e.tweenGroup.add(new Ds(x).to(_,e.tilesTransitionDuration).easing(ca.Quadratic.InOut).onUpdate(p).start()))}).digest(e.tilesData)}}),kA=function(e){return e*Math.PI/180},ex=window.THREE?window.THREE:{BufferGeometry:bi,Color:Vn,Points:TFe,PointsMaterial:_7},che=xa({props:{particlesData:{default:[]},particlesList:{default:function(e){return e}},particleLat:{default:"lat"},particleLng:{default:"lng"},particleAltitude:{default:.01},particlesSize:{default:.5},particlesSizeAttenuation:{default:!0},particlesColor:{default:function(){return"white"}},particlesTexture:{}},init:function(e,n){Xi(e),n.scene=e,n.dataMapper=new zl(e,{objBindAttr:"__threeObjParticles"}).onCreateObj(function(){var r=new ex.Points(new ex.BufferGeometry,new ex.PointsMaterial);return r.__globeObjType="particles",r}).onUpdateObj(function(r,i){var o=nn(n.particlesList),a=nn(n.particleLat),s=nn(n.particleLng),l=nn(n.particleAltitude);r.geometry.setAttribute("position",yf(o(i).map(function(c){return Object.values(hu(a(c),s(c),l(c)))}),3))})},update:function(e,n){["particlesData","particlesList","particleLat","particleLng","particleAltitude"].some(function(s){return n.hasOwnProperty(s)})&&e.dataMapper.digest(e.particlesData);var r=nn(e.particlesColor),i=nn(e.particlesSize),o=nn(e.particlesSizeAttenuation),a=nn(e.particlesTexture);e.dataMapper.entries().forEach(function(s){var l=lo(s,2),c=l[0],u=l[1];if(u.material.size=i(c),u.material.sizeAttenuation=o(c),e.particlesTexture)u.material.color=new ex.Color(16777215),u.material.transparent=!1,u.material.alphaTest=.5,u.material.map=a(c);else{var d=r(c),f=td(d);u.material.color=new ex.Color(vf(d)),u.material.transparent=f<1,u.material.opacity=f,u.material.alphaTest=0}})}}),mst=window.THREE?window.THREE:{BufferGeometry:bi},gst=function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:32;_N(this,e),n=xN(this,e),n.type="CircleLineGeometry",n.parameters={radius:r,segmentCount:i};for(var o=[],a=0;a<=i;a++){var s=(a/i-.25)*Math.PI*2;o.push({x:Math.cos(s)*r,y:Math.sin(s)*r,z:0})}return n.setFromPoints(o),n}return wN(e,t),SN(e)}(mst.BufferGeometry),UA=window.THREE?window.THREE:{Color:Vn,Group:Tl,Line:IR,LineBasicMaterial:E1,Vector3:Te},Ast=Gy.default||Gy,uhe=xa({props:{ringsData:{default:[]},ringLat:{default:"lat"},ringLng:{default:"lng"},ringAltitude:{default:.0015},ringColor:{default:function(){return"#ffffaa"},triggerUpdate:!1},ringResolution:{default:64,triggerUpdate:!1},ringMaxRadius:{default:2,triggerUpdate:!1},ringPropagationSpeed:{default:1,triggerUpdate:!1},ringRepeatPeriod:{default:700,triggerUpdate:!1}},methods:{pauseAnimation:function(e){var n;(n=e.ticker)===null||n===void 0||n.pause()},resumeAnimation:function(e){var n;(n=e.ticker)===null||n===void 0||n.resume()},_destructor:function(e){var n;(n=e.ticker)===null||n===void 0||n.dispose()}},init:function(e,n,r){var i=r.tweenGroup;Xi(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new zl(e,{objBindAttr:"__threeObjRing",removeDelay:3e4}).onCreateObj(function(){var o=new UA.Group;return o.__globeObjType="ring",o}),n.ticker=new Ast,n.ticker.onTick.add(function(o){if(n.ringsData.length){var a=nn(n.ringColor),s=nn(n.ringAltitude),l=nn(n.ringMaxRadius),c=nn(n.ringPropagationSpeed),u=nn(n.ringRepeatPeriod);n.dataMapper.entries().filter(function(d){var f=lo(d,2),h=f[1];return h}).forEach(function(d){var f=lo(d,2),h=f[0],p=f[1];if((p.__nextRingTime||0)<=o){var _=u(h)/1e3;p.__nextRingTime=o+(_<=0?1/0:_);var x=new UA.Line(new gst(1,n.ringResolution),new UA.LineBasicMaterial),y=a(h),w=y instanceof Array||y instanceof Function,C;w?y instanceof Array?(C=dh().domain(y.map(function(z,V){return V/(y.length-1)})).range(y),x.material.transparent=y.some(function(z){return td(z)<1})):(C=y,x.material.transparent=!0):(x.material.color=new UA.Color(vf(y)),Qat(x.material,td(y)));var M=ro*(1+s(h)),R=l(h),N=R*Math.PI/180,I=c(h),B=I<=0,D=function(V){var q=V.t,G=(B?1-q:q)*N;if(x.scale.x=x.scale.y=M*Math.sin(G),x.position.z=M*(1-Math.cos(G)),w){var j=C(q);x.material.color=new UA.Color(vf(j)),x.material.transparent&&(x.material.opacity=td(j))}};if(I===0)D({t:0}),p.add(x);else{var $=Math.abs(R/I)*1e3;n.tweenGroup.add(new Ds({t:0}).to({t:1},$).onUpdate(D).onStart(function(){return p.add(x)}).onComplete(function(){p.remove(x),N9(x)}).start())}}})}})},update:function(e){var n=nn(e.ringLat),r=nn(e.ringLng),i=nn(e.ringAltitude),o=e.scene.localToWorld(new UA.Vector3(0,0,0));e.dataMapper.onUpdateObj(function(a,s){var l=n(s),c=r(s),u=i(s);Object.assign(a.position,hu(l,c,u)),a.lookAt(o)}).digest(e.ringsData)}}),vst={0:{x_min:73,x_max:715,ha:792,o:"m 394 -29 q 153 129 242 -29 q 73 479 73 272 q 152 829 73 687 q 394 989 241 989 q 634 829 545 989 q 715 479 715 684 q 635 129 715 270 q 394 -29 546 -29 m 394 89 q 546 211 489 89 q 598 479 598 322 q 548 748 598 640 q 394 871 491 871 q 241 748 298 871 q 190 479 190 637 q 239 211 190 319 q 394 89 296 89 "},1:{x_min:215.671875,x_max:574,ha:792,o:"m 574 0 l 442 0 l 442 697 l 215 697 l 215 796 q 386 833 330 796 q 475 986 447 875 l 574 986 l 574 0 "},2:{x_min:59,x_max:731,ha:792,o:"m 731 0 l 59 0 q 197 314 59 188 q 457 487 199 315 q 598 691 598 580 q 543 819 598 772 q 411 867 488 867 q 272 811 328 867 q 209 630 209 747 l 81 630 q 182 901 81 805 q 408 986 271 986 q 629 909 536 986 q 731 694 731 826 q 613 449 731 541 q 378 316 495 383 q 201 122 235 234 l 731 122 l 731 0 "},3:{x_min:54,x_max:737,ha:792,o:"m 737 284 q 635 55 737 141 q 399 -25 541 -25 q 156 52 248 -25 q 54 308 54 140 l 185 308 q 245 147 185 202 q 395 96 302 96 q 539 140 484 96 q 602 280 602 190 q 510 429 602 390 q 324 454 451 454 l 324 565 q 487 584 441 565 q 565 719 565 617 q 515 835 565 791 q 395 879 466 879 q 255 824 307 879 q 203 661 203 769 l 78 661 q 166 909 78 822 q 387 992 250 992 q 603 921 513 992 q 701 723 701 844 q 669 607 701 656 q 578 524 637 558 q 696 434 655 499 q 737 284 737 369 "},4:{x_min:48,x_max:742.453125,ha:792,o:"m 742 243 l 602 243 l 602 0 l 476 0 l 476 243 l 48 243 l 48 368 l 476 958 l 602 958 l 602 354 l 742 354 l 742 243 m 476 354 l 476 792 l 162 354 l 476 354 "},5:{x_min:54.171875,x_max:738,ha:792,o:"m 738 314 q 626 60 738 153 q 382 -23 526 -23 q 155 47 248 -23 q 54 256 54 125 l 183 256 q 259 132 204 174 q 382 91 314 91 q 533 149 471 91 q 602 314 602 213 q 538 469 602 411 q 386 528 475 528 q 284 506 332 528 q 197 439 237 484 l 81 439 l 159 958 l 684 958 l 684 840 l 254 840 l 214 579 q 306 627 258 612 q 407 643 354 643 q 636 552 540 643 q 738 314 738 457 "},6:{x_min:53,x_max:739,ha:792,o:"m 739 312 q 633 62 739 162 q 400 -31 534 -31 q 162 78 257 -31 q 53 439 53 206 q 178 859 53 712 q 441 986 284 986 q 643 912 559 986 q 732 713 732 833 l 601 713 q 544 830 594 786 q 426 875 494 875 q 268 793 331 875 q 193 517 193 697 q 301 597 240 570 q 427 624 362 624 q 643 540 552 624 q 739 312 739 451 m 603 298 q 540 461 603 400 q 404 516 484 516 q 268 461 323 516 q 207 300 207 401 q 269 137 207 198 q 405 83 325 83 q 541 137 486 83 q 603 298 603 197 "},7:{x_min:58.71875,x_max:730.953125,ha:792,o:"m 730 839 q 469 448 560 641 q 335 0 378 255 l 192 0 q 328 441 235 252 q 593 830 421 630 l 58 830 l 58 958 l 730 958 l 730 839 "},8:{x_min:55,x_max:736,ha:792,o:"m 571 527 q 694 424 652 491 q 736 280 736 358 q 648 71 736 158 q 395 -26 551 -26 q 142 69 238 -26 q 55 279 55 157 q 96 425 55 359 q 220 527 138 491 q 120 615 153 562 q 88 726 88 668 q 171 904 88 827 q 395 986 261 986 q 618 905 529 986 q 702 727 702 830 q 670 616 702 667 q 571 527 638 565 m 394 565 q 519 610 475 565 q 563 717 563 655 q 521 823 563 781 q 392 872 474 872 q 265 824 312 872 q 224 720 224 783 q 265 613 224 656 q 394 565 312 565 m 395 91 q 545 150 488 91 q 597 280 597 204 q 546 408 597 355 q 395 465 492 465 q 244 408 299 465 q 194 280 194 356 q 244 150 194 203 q 395 91 299 91 "},9:{x_min:53,x_max:739,ha:792,o:"m 739 524 q 619 94 739 241 q 362 -32 516 -32 q 150 47 242 -32 q 59 244 59 126 l 191 244 q 246 129 191 176 q 373 82 301 82 q 526 161 466 82 q 597 440 597 255 q 363 334 501 334 q 130 432 216 334 q 53 650 53 521 q 134 880 53 786 q 383 986 226 986 q 659 841 566 986 q 739 524 739 719 m 388 449 q 535 514 480 449 q 585 658 585 573 q 535 805 585 744 q 388 873 480 873 q 242 809 294 873 q 191 658 191 745 q 239 514 191 572 q 388 449 292 449 "},:{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 96 88 192 -25 q 0 368 0 201 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 "},S:{x_min:0,x_max:788,ha:890,o:"m 788 291 q 662 54 788 144 q 397 -26 550 -26 q 116 68 226 -26 q 0 337 0 168 l 131 337 q 200 152 131 220 q 384 85 269 85 q 557 129 479 85 q 650 270 650 183 q 490 429 650 379 q 194 513 341 470 q 33 739 33 584 q 142 964 33 881 q 388 1041 242 1041 q 644 957 543 1041 q 756 716 756 867 l 625 716 q 561 874 625 816 q 395 933 497 933 q 243 891 309 933 q 164 759 164 841 q 325 609 164 656 q 625 526 475 568 q 788 291 788 454 "},"":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},"/":{x_min:183.25,x_max:608.328125,ha:792,o:"m 608 1041 l 266 -129 l 183 -129 l 520 1041 l 608 1041 "},:{x_min:-.4375,x_max:777.453125,ha:839,o:"m 777 893 l 458 893 l 458 0 l 319 0 l 319 892 l 0 892 l 0 1013 l 777 1013 l 777 893 "},y:{x_min:0,x_max:684.78125,ha:771,o:"m 684 738 l 388 -83 q 311 -216 356 -167 q 173 -279 252 -279 q 97 -266 133 -279 l 97 -149 q 132 -155 109 -151 q 168 -160 155 -160 q 240 -114 213 -160 q 274 -26 248 -98 l 0 738 l 137 737 l 341 139 l 548 737 l 684 738 "},:{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 803 1012 l 803 0 "},:{x_min:-111,x_max:339,ha:361,o:"m 339 800 l 229 800 l 229 925 l 339 925 l 339 800 m -1 800 l -111 800 l -111 925 l -1 925 l -1 800 m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 m 302 1040 l 113 819 l 30 819 l 165 1040 l 302 1040 "},g:{x_min:0,x_max:686,ha:838,o:"m 686 34 q 586 -213 686 -121 q 331 -306 487 -306 q 131 -252 216 -306 q 31 -84 31 -190 l 155 -84 q 228 -174 166 -138 q 345 -207 284 -207 q 514 -109 454 -207 q 564 89 564 -27 q 461 6 521 36 q 335 -23 401 -23 q 88 100 184 -23 q 0 370 0 215 q 87 634 0 522 q 330 758 183 758 q 457 728 398 758 q 564 644 515 699 l 564 737 l 686 737 l 686 34 m 582 367 q 529 560 582 481 q 358 652 468 652 q 189 561 250 652 q 135 369 135 482 q 189 176 135 255 q 361 85 251 85 q 529 176 468 85 q 582 367 582 255 "},"":{x_min:0,x_max:442,ha:539,o:"m 442 383 l 0 383 q 91 566 0 492 q 260 668 176 617 q 354 798 354 727 q 315 875 354 845 q 227 905 277 905 q 136 869 173 905 q 99 761 99 833 l 14 761 q 82 922 14 864 q 232 974 141 974 q 379 926 316 974 q 442 797 442 878 q 351 635 442 704 q 183 539 321 611 q 92 455 92 491 l 442 455 l 442 383 "},"":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},:{x_min:0,x_max:819.5625,ha:893,o:"m 819 0 l 650 0 l 294 509 l 139 356 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},:{x_min:-46.265625,x_max:392,ha:513,o:"m 392 651 l 259 651 l 79 -279 l -46 -278 l 134 651 l 14 651 l 14 751 l 135 751 q 151 948 135 900 q 304 1041 185 1041 q 334 1040 319 1041 q 392 1034 348 1039 l 392 922 q 337 931 360 931 q 271 883 287 931 q 260 793 260 853 l 260 751 l 392 751 l 392 651 "},e:{x_min:0,x_max:714,ha:813,o:"m 714 326 l 140 326 q 200 157 140 227 q 359 87 260 87 q 488 130 431 87 q 561 245 545 174 l 697 245 q 577 48 670 123 q 358 -26 484 -26 q 97 85 195 -26 q 0 363 0 197 q 94 642 0 529 q 358 765 195 765 q 626 627 529 765 q 714 326 714 503 m 576 429 q 507 583 564 522 q 355 650 445 650 q 206 583 266 650 q 140 429 152 522 l 576 429 "},:{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 94 91 194 -25 q 0 368 0 202 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 m 576 1040 l 387 819 l 303 819 l 438 1040 l 576 1040 "},J:{x_min:0,x_max:588,ha:699,o:"m 588 279 q 287 -26 588 -26 q 58 73 126 -26 q 0 327 0 158 l 133 327 q 160 172 133 227 q 288 96 198 96 q 426 171 391 96 q 449 336 449 219 l 449 1013 l 588 1013 l 588 279 "},"":{x_min:-1,x_max:503,ha:601,o:"m 503 302 l 280 136 l 281 256 l 429 373 l 281 486 l 280 608 l 503 440 l 503 302 m 221 302 l 0 136 l 0 255 l 145 372 l 0 486 l -1 608 l 221 440 l 221 302 "},"":{x_min:-3,x_max:1008,ha:1106,o:"m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 741 394 q 661 246 731 302 q 496 190 591 190 q 294 285 369 190 q 228 497 228 370 q 295 714 228 625 q 499 813 370 813 q 656 762 588 813 q 733 625 724 711 l 634 625 q 589 704 629 673 q 498 735 550 735 q 377 666 421 735 q 334 504 334 597 q 374 340 334 408 q 490 272 415 272 q 589 304 549 272 q 638 394 628 337 l 741 394 "},:{x_min:0,x_max:922,ha:1030,o:"m 687 1040 l 498 819 l 415 819 l 549 1040 l 687 1040 m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 338 0 202 q 45 551 0 444 q 161 737 84 643 l 302 737 q 175 552 219 647 q 124 336 124 446 q 155 179 124 248 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 341 797 257 q 745 555 797 450 q 619 737 705 637 l 760 737 q 874 551 835 640 q 922 339 922 444 "},"^":{x_min:193.0625,x_max:598.609375,ha:792,o:"m 598 772 l 515 772 l 395 931 l 277 772 l 193 772 l 326 1013 l 462 1013 l 598 772 "},"":{x_min:0,x_max:507.203125,ha:604,o:"m 506 136 l 284 302 l 284 440 l 506 608 l 507 485 l 360 371 l 506 255 l 506 136 m 222 136 l 0 302 l 0 440 l 222 608 l 221 486 l 73 373 l 222 256 l 222 136 "},D:{x_min:0,x_max:828,ha:935,o:"m 389 1013 q 714 867 593 1013 q 828 521 828 729 q 712 161 828 309 q 382 0 587 0 l 0 0 l 0 1013 l 389 1013 m 376 124 q 607 247 523 124 q 681 510 681 355 q 607 771 681 662 q 376 896 522 896 l 139 896 l 139 124 l 376 124 "},"":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},:{x_min:0,x_max:47,ha:125,o:"m 47 3 q 37 -7 47 -7 q 28 0 30 -7 q 39 -4 32 -4 q 45 3 45 -1 l 37 0 q 28 9 28 0 q 39 19 28 19 l 47 16 l 47 19 l 47 3 m 37 1 q 44 8 44 1 q 37 16 44 16 q 30 8 30 16 q 37 1 30 1 m 26 1 l 23 22 l 14 0 l 3 22 l 3 3 l 0 25 l 13 1 l 22 25 l 26 1 "},w:{x_min:0,x_max:1009.71875,ha:1100,o:"m 1009 738 l 783 0 l 658 0 l 501 567 l 345 0 l 222 0 l 0 738 l 130 738 l 284 174 l 432 737 l 576 738 l 721 173 l 881 737 l 1009 738 "},$:{x_min:0,x_max:700,ha:793,o:"m 664 717 l 542 717 q 490 825 531 785 q 381 872 450 865 l 381 551 q 620 446 540 522 q 700 241 700 370 q 618 45 700 116 q 381 -25 536 -25 l 381 -152 l 307 -152 l 307 -25 q 81 62 162 -25 q 0 297 0 149 l 124 297 q 169 146 124 204 q 307 81 215 89 l 307 441 q 80 536 148 469 q 13 725 13 603 q 96 910 13 839 q 307 982 180 982 l 307 1077 l 381 1077 l 381 982 q 574 917 494 982 q 664 717 664 845 m 307 565 l 307 872 q 187 831 233 872 q 142 724 142 791 q 180 618 142 656 q 307 565 218 580 m 381 76 q 562 237 562 96 q 517 361 562 313 q 381 423 472 409 l 381 76 "},"\\":{x_min:-.015625,x_max:425.0625,ha:522,o:"m 425 -129 l 337 -129 l 0 1041 l 83 1041 l 425 -129 "},:{x_min:0,x_max:697.21875,ha:747,o:"m 697 -4 q 629 -14 658 -14 q 498 97 513 -14 q 422 9 470 41 q 313 -23 374 -23 q 207 4 258 -23 q 119 81 156 32 l 119 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 173 124 246 q 308 83 216 83 q 452 178 402 83 q 493 359 493 255 l 493 738 l 617 738 l 617 214 q 623 136 617 160 q 673 92 637 92 q 697 96 684 92 l 697 -4 "},:{x_min:42,x_max:181,ha:297,o:"m 181 0 l 42 0 l 42 1013 l 181 1013 l 181 0 "},:{x_min:0,x_max:1144.5,ha:1214,o:"m 1144 1012 l 807 416 l 807 0 l 667 0 l 667 416 l 325 1012 l 465 1012 l 736 533 l 1004 1012 l 1144 1012 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},:{x_min:0,x_max:801,ha:915,o:"m 801 0 l 651 0 l 131 822 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 191 l 670 1013 l 801 1013 l 801 0 "},"-":{x_min:8.71875,x_max:350.390625,ha:478,o:"m 350 317 l 8 317 l 8 428 l 350 428 l 350 317 "},Q:{x_min:0,x_max:968,ha:1072,o:"m 954 5 l 887 -79 l 744 35 q 622 -11 687 2 q 483 -26 556 -26 q 127 130 262 -26 q 0 504 0 279 q 127 880 0 728 q 484 1041 262 1041 q 841 884 708 1041 q 968 507 968 735 q 933 293 968 398 q 832 104 899 188 l 954 5 m 723 191 q 802 330 777 248 q 828 499 828 412 q 744 790 828 673 q 483 922 650 922 q 228 791 322 922 q 142 505 142 673 q 227 221 142 337 q 487 91 323 91 q 632 123 566 91 l 520 215 l 587 301 l 723 191 "},:{x_min:1,x_max:676.28125,ha:740,o:"m 676 460 l 551 460 q 498 595 542 546 q 365 651 448 651 q 199 578 263 651 q 136 401 136 505 q 266 178 136 241 q 508 106 387 142 q 640 -50 640 62 q 625 -158 640 -105 q 583 -278 611 -211 l 465 -278 q 498 -182 490 -211 q 515 -80 515 -126 q 381 12 515 -15 q 134 91 197 51 q 1 388 1 179 q 100 651 1 542 q 354 761 199 761 q 587 680 498 761 q 676 460 676 599 "},M:{x_min:0,x_max:954,ha:1067,o:"m 954 0 l 819 0 l 819 869 l 537 0 l 405 0 l 128 866 l 128 0 l 0 0 l 0 1013 l 200 1013 l 472 160 l 757 1013 l 954 1013 l 954 0 "},:{x_min:0,x_max:1006,ha:1094,o:"m 1006 678 q 914 319 1006 429 q 571 200 814 200 l 571 0 l 433 0 l 433 200 q 92 319 194 200 q 0 678 0 429 l 0 1013 l 139 1013 l 139 679 q 191 417 139 492 q 433 326 255 326 l 433 1013 l 571 1013 l 571 326 l 580 326 q 813 423 747 326 q 868 679 868 502 l 868 1013 l 1006 1013 l 1006 678 "},C:{x_min:0,x_max:886,ha:944,o:"m 886 379 q 760 87 886 201 q 455 -26 634 -26 q 112 136 236 -26 q 0 509 0 283 q 118 882 0 737 q 469 1041 245 1041 q 748 955 630 1041 q 879 708 879 859 l 745 708 q 649 862 724 805 q 473 920 573 920 q 219 791 312 920 q 136 509 136 675 q 217 229 136 344 q 470 99 311 99 q 672 179 591 99 q 753 379 753 259 l 886 379 "},"!":{x_min:0,x_max:138,ha:236,o:"m 138 684 q 116 409 138 629 q 105 244 105 299 l 33 244 q 16 465 33 313 q 0 684 0 616 l 0 1013 l 138 1013 l 138 684 m 138 0 l 0 0 l 0 151 l 138 151 l 138 0 "},"{":{x_min:0,x_max:480.5625,ha:578,o:"m 480 -286 q 237 -213 303 -286 q 187 -45 187 -159 q 194 48 187 -15 q 201 141 201 112 q 164 264 201 225 q 0 314 118 314 l 0 417 q 164 471 119 417 q 201 605 201 514 q 199 665 201 644 q 193 772 193 769 q 241 941 193 887 q 480 1015 308 1015 l 480 915 q 336 866 375 915 q 306 742 306 828 q 310 662 306 717 q 314 577 314 606 q 288 452 314 500 q 176 365 256 391 q 289 275 257 337 q 314 143 314 226 q 313 84 314 107 q 310 -11 310 -5 q 339 -131 310 -94 q 480 -182 377 -182 l 480 -286 "},X:{x_min:-.015625,x_max:854.15625,ha:940,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 428 637 l 675 1013 l 836 1013 l 504 520 l 854 0 "},"#":{x_min:0,x_max:963.890625,ha:1061,o:"m 963 690 l 927 590 l 719 590 l 655 410 l 876 410 l 840 310 l 618 310 l 508 -3 l 393 -2 l 506 309 l 329 310 l 215 -2 l 102 -3 l 212 310 l 0 310 l 36 410 l 248 409 l 312 590 l 86 590 l 120 690 l 347 690 l 459 1006 l 573 1006 l 462 690 l 640 690 l 751 1006 l 865 1006 l 754 690 l 963 690 m 606 590 l 425 590 l 362 410 l 543 410 l 606 590 "},:{x_min:42,x_max:284,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 738 l 167 738 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 "},:{x_min:0,x_max:906.953125,ha:982,o:"m 283 1040 l 88 799 l 5 799 l 145 1040 l 283 1040 m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1012 l 529 1012 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},")":{x_min:0,x_max:318,ha:415,o:"m 318 365 q 257 25 318 191 q 87 -290 197 -141 l 0 -290 q 140 21 93 -128 q 193 360 193 189 q 141 704 193 537 q 0 1024 97 850 l 87 1024 q 257 706 197 871 q 318 365 318 542 "},:{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 314 0 265 q 128 390 67 353 q 56 460 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 "},:{x_min:0,x_max:952.78125,ha:1028,o:"m 952 0 l 0 0 l 400 1013 l 551 1013 l 952 0 m 762 124 l 476 867 l 187 124 l 762 124 "},"}":{x_min:0,x_max:481,ha:578,o:"m 481 314 q 318 262 364 314 q 282 136 282 222 q 284 65 282 97 q 293 -58 293 -48 q 241 -217 293 -166 q 0 -286 174 -286 l 0 -182 q 143 -130 105 -182 q 171 -2 171 -93 q 168 81 171 22 q 165 144 165 140 q 188 275 165 229 q 306 365 220 339 q 191 455 224 391 q 165 588 165 505 q 168 681 165 624 q 171 742 171 737 q 141 865 171 827 q 0 915 102 915 l 0 1015 q 243 942 176 1015 q 293 773 293 888 q 287 675 293 741 q 282 590 282 608 q 318 466 282 505 q 481 417 364 417 l 481 314 "},"":{x_min:-3,x_max:1672,ha:1821,o:"m 846 0 q 664 76 732 0 q 603 244 603 145 q 662 412 603 344 q 846 489 729 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 846 0 962 0 m 845 103 q 945 143 910 103 q 981 243 981 184 q 947 340 981 301 q 845 385 910 385 q 745 342 782 385 q 709 243 709 300 q 742 147 709 186 q 845 103 781 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 m 1428 0 q 1246 76 1314 0 q 1185 244 1185 145 q 1244 412 1185 344 q 1428 489 1311 489 q 1610 412 1542 489 q 1672 244 1672 343 q 1612 76 1672 144 q 1428 0 1545 0 m 1427 103 q 1528 143 1492 103 q 1564 243 1564 184 q 1530 340 1564 301 q 1427 385 1492 385 q 1327 342 1364 385 q 1291 243 1291 300 q 1324 147 1291 186 q 1427 103 1363 103 "},a:{x_min:0,x_max:698.609375,ha:794,o:"m 698 0 q 661 -12 679 -7 q 615 -17 643 -17 q 536 12 564 -17 q 500 96 508 41 q 384 6 456 37 q 236 -25 312 -25 q 65 31 130 -25 q 0 194 0 88 q 118 390 0 334 q 328 435 180 420 q 488 483 476 451 q 495 523 495 504 q 442 619 495 584 q 325 654 389 654 q 209 617 257 654 q 152 513 161 580 l 33 513 q 123 705 33 633 q 332 772 207 772 q 528 712 448 772 q 617 531 617 645 l 617 163 q 624 108 617 126 q 664 90 632 90 l 698 94 l 698 0 m 491 262 l 491 372 q 272 329 350 347 q 128 201 128 294 q 166 113 128 144 q 264 83 205 83 q 414 130 346 83 q 491 262 491 183 "},"":{x_min:0,x_max:941.671875,ha:1039,o:"m 941 334 l 0 334 l 0 410 l 941 410 l 941 334 "},"=":{x_min:8.71875,x_max:780.953125,ha:792,o:"m 780 510 l 8 510 l 8 606 l 780 606 l 780 510 m 780 235 l 8 235 l 8 332 l 780 332 l 780 235 "},N:{x_min:0,x_max:801,ha:914,o:"m 801 0 l 651 0 l 131 823 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 193 l 670 1013 l 801 1013 l 801 0 "},:{x_min:0,x_max:712,ha:797,o:"m 712 369 q 620 94 712 207 q 362 -26 521 -26 q 230 2 292 -26 q 119 83 167 30 l 119 -278 l 0 -278 l 0 362 q 91 643 0 531 q 355 764 190 764 q 617 647 517 764 q 712 369 712 536 m 583 366 q 530 559 583 480 q 359 651 469 651 q 190 562 252 651 q 135 370 135 483 q 189 176 135 257 q 359 85 250 85 q 528 175 466 85 q 583 366 583 254 "},"":{x_min:0,x_max:941.671875,ha:938,o:"m 941 1033 l 0 1033 l 0 1109 l 941 1109 l 941 1033 "},Z:{x_min:0,x_max:779,ha:849,o:"m 779 0 l 0 0 l 0 113 l 621 896 l 40 896 l 40 1013 l 779 1013 l 778 887 l 171 124 l 779 124 l 779 0 "},u:{x_min:0,x_max:617,ha:729,o:"m 617 0 l 499 0 l 499 110 q 391 10 460 45 q 246 -25 322 -25 q 61 58 127 -25 q 0 258 0 136 l 0 738 l 125 738 l 125 284 q 156 148 125 202 q 273 82 197 82 q 433 165 369 82 q 493 340 493 243 l 493 738 l 617 738 l 617 0 "},k:{x_min:0,x_max:612.484375,ha:697,o:"m 612 738 l 338 465 l 608 0 l 469 0 l 251 382 l 121 251 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 402 l 456 738 l 612 738 "},:{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},:{x_min:0,x_max:906.953125,ha:985,o:"m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},s:{x_min:0,x_max:604,ha:697,o:"m 604 217 q 501 36 604 104 q 292 -23 411 -23 q 86 43 166 -23 q 0 238 0 114 l 121 237 q 175 122 121 164 q 300 85 223 85 q 415 112 363 85 q 479 207 479 147 q 361 309 479 276 q 140 372 141 370 q 21 544 21 426 q 111 708 21 647 q 298 761 190 761 q 492 705 413 761 q 583 531 583 643 l 462 531 q 412 625 462 594 q 298 657 363 657 q 199 636 242 657 q 143 558 143 608 q 262 454 143 486 q 484 394 479 397 q 604 217 604 341 "},B:{x_min:0,x_max:778,ha:876,o:"m 580 546 q 724 469 670 535 q 778 311 778 403 q 673 83 778 171 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 892 q 691 633 732 693 q 580 546 650 572 m 393 899 l 139 899 l 139 588 l 379 588 q 521 624 462 588 q 592 744 592 667 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 303 635 219 q 559 436 635 389 q 402 477 494 477 l 139 477 l 139 124 l 419 124 "},"":{x_min:0,x_max:614,ha:708,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 m 378 0 l 236 0 l 236 151 l 378 151 l 378 0 m 614 0 l 472 0 l 472 151 l 614 151 l 614 0 "},"?":{x_min:0,x_max:607,ha:704,o:"m 607 777 q 543 599 607 674 q 422 474 482 537 q 357 272 357 391 l 236 272 q 297 487 236 395 q 411 619 298 490 q 474 762 474 691 q 422 885 474 838 q 301 933 371 933 q 179 880 228 933 q 124 706 124 819 l 0 706 q 94 963 0 872 q 302 1044 177 1044 q 511 973 423 1044 q 607 777 607 895 m 370 0 l 230 0 l 230 151 l 370 151 l 370 0 "},H:{x_min:0,x_max:803,ha:915,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},:{x_min:0,x_max:675,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 738 l 340 147 l 541 738 l 675 738 "},c:{x_min:1,x_max:701.390625,ha:775,o:"m 701 264 q 584 53 681 133 q 353 -26 487 -26 q 91 91 188 -26 q 1 370 1 201 q 92 645 1 537 q 353 761 190 761 q 572 688 479 761 q 690 493 666 615 l 556 493 q 487 606 545 562 q 356 650 428 650 q 186 563 246 650 q 134 372 134 487 q 188 179 134 258 q 359 88 250 88 q 492 136 437 88 q 566 264 548 185 l 701 264 "},"":{x_min:0,x_max:566.671875,ha:678,o:"m 21 892 l 52 892 l 98 761 l 145 892 l 176 892 l 178 741 l 157 741 l 157 867 l 108 741 l 88 741 l 40 871 l 40 741 l 21 741 l 21 892 m 308 854 l 308 731 q 252 691 308 691 q 227 691 240 691 q 207 696 213 695 l 207 712 l 253 706 q 288 733 288 706 l 288 763 q 244 741 279 741 q 193 797 193 741 q 261 860 193 860 q 287 860 273 860 q 308 854 302 855 m 288 842 l 263 843 q 213 796 213 843 q 248 756 213 756 q 288 796 288 756 l 288 842 m 566 988 l 502 988 l 502 -1 l 439 -1 l 439 988 l 317 988 l 317 -1 l 252 -1 l 252 602 q 81 653 155 602 q 0 805 0 711 q 101 989 0 918 q 309 1053 194 1053 l 566 1053 l 566 988 "},:{x_min:0,x_max:660,ha:745,o:"m 471 550 q 610 450 561 522 q 660 280 660 378 q 578 64 660 151 q 367 -22 497 -22 q 239 5 299 -22 q 126 82 178 32 l 126 -278 l 0 -278 l 0 593 q 54 903 0 801 q 318 1042 127 1042 q 519 964 436 1042 q 603 771 603 887 q 567 644 603 701 q 471 550 532 586 m 337 79 q 476 138 418 79 q 535 279 535 198 q 427 437 535 386 q 226 477 344 477 l 226 583 q 398 620 329 583 q 486 762 486 668 q 435 884 486 833 q 312 935 384 935 q 169 861 219 935 q 126 698 126 797 l 126 362 q 170 169 126 242 q 337 79 224 79 "},:{x_min:0,x_max:954,ha:1068,o:"m 954 0 l 819 0 l 819 868 l 537 0 l 405 0 l 128 865 l 128 0 l 0 0 l 0 1013 l 199 1013 l 472 158 l 758 1013 l 954 1013 l 954 0 "},:{x_min:.109375,x_max:1120,ha:1217,o:"m 1120 505 q 994 132 1120 282 q 642 -29 861 -29 q 290 130 422 -29 q 167 505 167 280 q 294 883 167 730 q 650 1046 430 1046 q 999 882 868 1046 q 1120 505 1120 730 m 977 504 q 896 784 977 669 q 644 915 804 915 q 391 785 484 915 q 307 504 307 669 q 391 224 307 339 q 644 95 486 95 q 894 224 803 95 q 977 504 977 339 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},:{x_min:0,x_max:1158,ha:1275,o:"m 1158 0 l 1022 0 l 1022 475 l 496 475 l 496 0 l 356 0 l 356 1012 l 496 1012 l 496 599 l 1022 599 l 1022 1012 l 1158 1012 l 1158 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"":{x_min:0,x_max:663.890625,ha:775,o:"m 663 529 q 566 293 663 391 q 331 196 469 196 q 97 294 194 196 q 0 529 0 393 q 96 763 0 665 q 331 861 193 861 q 566 763 469 861 q 663 529 663 665 "},"":{x_min:.1875,x_max:819.546875,ha:886,o:"m 563 561 l 697 561 l 696 487 l 520 487 l 482 416 l 482 380 l 697 380 l 695 308 l 482 308 l 482 0 l 342 0 l 342 308 l 125 308 l 125 380 l 342 380 l 342 417 l 303 487 l 125 487 l 125 561 l 258 561 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 l 563 561 "},"(":{x_min:0,x_max:318.0625,ha:415,o:"m 318 -290 l 230 -290 q 61 23 122 -142 q 0 365 0 190 q 62 712 0 540 q 230 1024 119 869 l 318 1024 q 175 705 219 853 q 125 360 125 542 q 176 22 125 187 q 318 -290 223 -127 "},U:{x_min:0,x_max:796,ha:904,o:"m 796 393 q 681 93 796 212 q 386 -25 566 -25 q 101 95 208 -25 q 0 393 0 211 l 0 1013 l 138 1013 l 138 391 q 204 191 138 270 q 394 107 276 107 q 586 191 512 107 q 656 391 656 270 l 656 1013 l 796 1013 l 796 393 "},:{x_min:.5,x_max:744.953125,ha:822,o:"m 744 737 l 463 54 l 463 -278 l 338 -278 l 338 54 l 154 495 q 104 597 124 569 q 13 651 67 651 l 0 651 l 0 751 l 39 753 q 168 711 121 753 q 242 594 207 676 l 403 208 l 617 737 l 744 737 "},:{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 728 407 760 q 563 637 524 696 l 563 739 l 685 739 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 96 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 "},F:{x_min:0,x_max:683.328125,ha:717,o:"m 683 888 l 140 888 l 140 583 l 613 583 l 613 458 l 140 458 l 140 0 l 0 0 l 0 1013 l 683 1013 l 683 888 "},"":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},":":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},:{x_min:0,x_max:854.171875,ha:935,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 427 637 l 675 1013 l 836 1013 l 504 521 l 854 0 "},"*":{x_min:116,x_max:674,ha:792,o:"m 674 768 l 475 713 l 610 544 l 517 477 l 394 652 l 272 478 l 178 544 l 314 713 l 116 766 l 153 876 l 341 812 l 342 1013 l 446 1013 l 446 811 l 635 874 l 674 768 "},"":{x_min:0,x_max:777,ha:835,o:"m 458 804 l 777 804 l 777 683 l 458 683 l 458 0 l 319 0 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 "},"":{x_min:0,x_max:347,ha:444,o:"m 173 802 q 43 856 91 802 q 0 977 0 905 q 45 1101 0 1049 q 173 1153 90 1153 q 303 1098 255 1153 q 347 977 347 1049 q 303 856 347 905 q 173 802 256 802 m 173 884 q 238 910 214 884 q 262 973 262 937 q 239 1038 262 1012 q 173 1064 217 1064 q 108 1037 132 1064 q 85 973 85 1010 q 108 910 85 937 q 173 884 132 884 "},V:{x_min:0,x_max:862.71875,ha:940,o:"m 862 1013 l 505 0 l 361 0 l 0 1013 l 143 1013 l 434 165 l 718 1012 l 862 1013 "},:{x_min:0,x_max:734.71875,ha:763,o:"m 723 889 l 9 889 l 9 1013 l 723 1013 l 723 889 m 673 463 l 61 463 l 61 589 l 673 589 l 673 463 m 734 0 l 0 0 l 0 124 l 734 124 l 734 0 "},"":{x_min:0,x_max:0,ha:853},:{x_min:.328125,x_max:819.515625,ha:889,o:"m 588 1046 l 460 1046 l 460 1189 l 588 1189 l 588 1046 m 360 1046 l 232 1046 l 232 1189 l 360 1189 l 360 1046 m 819 1012 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1012 l 140 1012 l 411 533 l 679 1012 l 819 1012 "},"":{x_min:0,x_max:347,ha:454,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 m 347 851 q 310 737 347 784 q 208 669 273 690 l 208 734 q 267 787 250 741 q 280 873 280 821 l 208 873 l 208 1013 l 347 1013 l 347 851 "},"@":{x_min:0,x_max:1260,ha:1357,o:"m 1098 -45 q 877 -160 1001 -117 q 633 -203 752 -203 q 155 -29 327 -203 q 0 360 0 127 q 176 802 0 616 q 687 1008 372 1008 q 1123 854 969 1008 q 1260 517 1260 718 q 1155 216 1260 341 q 868 82 1044 82 q 772 106 801 82 q 737 202 737 135 q 647 113 700 144 q 527 82 594 82 q 367 147 420 82 q 314 312 314 212 q 401 565 314 452 q 639 690 498 690 q 810 588 760 690 l 849 668 l 938 668 q 877 441 900 532 q 833 226 833 268 q 853 182 833 198 q 902 167 873 167 q 1088 272 1012 167 q 1159 512 1159 372 q 1051 793 1159 681 q 687 925 925 925 q 248 747 415 925 q 97 361 97 586 q 226 26 97 159 q 627 -122 370 -122 q 856 -87 737 -122 q 1061 8 976 -53 l 1098 -45 m 786 488 q 738 580 777 545 q 643 615 700 615 q 483 517 548 615 q 425 322 425 430 q 457 203 425 250 q 552 156 490 156 q 722 273 665 156 q 786 488 738 309 "},:{x_min:0,x_max:499,ha:613,o:"m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 m 499 0 l 360 0 l 360 1012 l 499 1012 l 499 0 "},i:{x_min:14,x_max:136,ha:275,o:"m 136 873 l 14 873 l 14 1013 l 136 1013 l 136 873 m 136 0 l 14 0 l 14 737 l 136 737 l 136 0 "},:{x_min:0,x_max:778,ha:877,o:"m 580 545 q 724 468 671 534 q 778 310 778 402 q 673 83 778 170 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 891 q 691 632 732 692 q 580 545 650 571 m 393 899 l 139 899 l 139 587 l 379 587 q 521 623 462 587 q 592 744 592 666 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 302 635 219 q 559 435 635 388 q 402 476 494 476 l 139 476 l 139 124 l 419 124 "},:{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 94 617 199 q 308 -24 455 -24 q 76 94 161 -24 q 0 352 0 199 l 0 739 l 126 739 l 126 355 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 355 492 257 l 492 739 l 617 739 l 617 352 "},"]":{x_min:0,x_max:275,ha:372,o:"m 275 -281 l 0 -281 l 0 -187 l 151 -187 l 151 920 l 0 920 l 0 1013 l 275 1013 l 275 -281 "},m:{x_min:0,x_max:1019,ha:1128,o:"m 1019 0 l 897 0 l 897 454 q 860 591 897 536 q 739 660 816 660 q 613 586 659 660 q 573 436 573 522 l 573 0 l 447 0 l 447 455 q 412 591 447 535 q 294 657 372 657 q 165 586 213 657 q 122 437 122 521 l 122 0 l 0 0 l 0 738 l 117 738 l 117 640 q 202 730 150 697 q 316 763 254 763 q 437 730 381 763 q 525 642 494 697 q 621 731 559 700 q 753 763 682 763 q 943 694 867 763 q 1019 512 1019 625 l 1019 0 "},:{x_min:8.328125,x_max:780.5625,ha:815,o:"m 780 -278 q 715 -294 747 -294 q 616 -257 663 -294 q 548 -175 576 -227 l 379 133 l 143 -277 l 9 -277 l 313 254 l 163 522 q 127 586 131 580 q 36 640 91 640 q 8 637 27 640 l 8 752 l 52 757 q 162 719 113 757 q 236 627 200 690 l 383 372 l 594 737 l 726 737 l 448 250 l 625 -69 q 670 -153 647 -110 q 743 -188 695 -188 q 780 -184 759 -188 l 780 -278 "},:{x_min:42,x_max:326.71875,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 102 239 101 q 284 112 257 104 l 284 3 m 326 1040 l 137 819 l 54 819 l 189 1040 l 326 1040 "},:{x_min:0,x_max:779.171875,ha:850,o:"m 779 0 l 0 0 l 0 113 l 620 896 l 40 896 l 40 1013 l 779 1013 l 779 887 l 170 124 l 779 124 l 779 0 "},R:{x_min:0,x_max:781.953125,ha:907,o:"m 781 0 l 623 0 q 587 242 590 52 q 407 433 585 433 l 138 433 l 138 0 l 0 0 l 0 1013 l 396 1013 q 636 946 539 1013 q 749 731 749 868 q 711 597 749 659 q 608 502 674 534 q 718 370 696 474 q 729 207 722 352 q 781 26 736 62 l 781 0 m 373 551 q 533 594 465 551 q 614 731 614 645 q 532 859 614 815 q 373 896 465 896 l 138 896 l 138 551 l 373 551 "},o:{x_min:0,x_max:713,ha:821,o:"m 357 -25 q 94 91 194 -25 q 0 368 0 202 q 93 642 0 533 q 357 761 193 761 q 618 644 518 761 q 713 368 713 533 q 619 91 713 201 q 357 -25 521 -25 m 357 85 q 528 175 465 85 q 584 369 584 255 q 529 562 584 484 q 357 651 467 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 357 85 250 85 "},K:{x_min:0,x_max:819.46875,ha:906,o:"m 819 0 l 649 0 l 294 509 l 139 355 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},",":{x_min:0,x_max:142,ha:239,o:"m 142 -12 q 105 -132 142 -82 q 0 -205 68 -182 l 0 -138 q 57 -82 40 -124 q 70 0 70 -51 l 0 0 l 0 151 l 142 151 l 142 -12 "},d:{x_min:0,x_max:683,ha:796,o:"m 683 0 l 564 0 l 564 93 q 456 6 516 38 q 327 -25 395 -25 q 87 100 181 -25 q 0 365 0 215 q 90 639 0 525 q 343 763 187 763 q 564 647 486 763 l 564 1013 l 683 1013 l 683 0 m 582 373 q 529 562 582 484 q 361 653 468 653 q 190 561 253 653 q 135 365 135 479 q 189 175 135 254 q 358 85 251 85 q 529 178 468 85 q 582 373 582 258 "},"":{x_min:-109,x_max:247,ha:232,o:"m 247 1046 l 119 1046 l 119 1189 l 247 1189 l 247 1046 m 19 1046 l -109 1046 l -109 1189 l 19 1189 l 19 1046 "},E:{x_min:0,x_max:736.109375,ha:789,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},Y:{x_min:0,x_max:820,ha:886,o:"m 820 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 534 l 679 1012 l 820 1013 "},'"':{x_min:0,x_max:299,ha:396,o:"m 299 606 l 203 606 l 203 988 l 299 988 l 299 606 m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"":{x_min:0,x_max:364,ha:467,o:"m 141 -12 q 104 -132 141 -82 q 0 -205 67 -182 l 0 -138 q 56 -82 40 -124 q 69 0 69 -51 l 0 0 l 0 151 l 141 151 l 141 -12 m 364 -12 q 327 -132 364 -82 q 222 -205 290 -182 l 222 -138 q 279 -82 262 -124 q 292 0 292 -51 l 222 0 l 222 151 l 364 151 l 364 -12 "},:{x_min:1,x_max:710,ha:810,o:"m 710 360 q 616 87 710 196 q 356 -28 518 -28 q 99 82 197 -28 q 1 356 1 192 q 100 606 1 509 q 355 703 199 703 q 180 829 288 754 q 70 903 124 866 l 70 1012 l 643 1012 l 643 901 l 258 901 q 462 763 422 794 q 636 592 577 677 q 710 360 710 485 m 584 365 q 552 501 584 447 q 451 602 521 555 q 372 611 411 611 q 197 541 258 611 q 136 355 136 472 q 190 171 136 245 q 358 85 252 85 q 528 173 465 85 q 584 365 584 252 "},:{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 313 0 265 q 128 390 67 352 q 56 459 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 m 520 1040 l 331 819 l 248 819 l 383 1040 l 520 1040 "},:{x_min:0,x_max:922,ha:1031,o:"m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 339 0 203 q 45 551 0 444 q 161 738 84 643 l 302 738 q 175 553 219 647 q 124 336 124 446 q 155 179 124 249 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 342 797 257 q 745 556 797 450 q 619 738 705 638 l 760 738 q 874 551 835 640 q 922 339 922 444 "},"":{x_min:0,x_max:96,ha:251,o:"m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"":{x_min:11,x_max:781,ha:792,o:"m 781 490 l 446 490 l 446 255 l 349 255 l 349 490 l 11 490 l 11 586 l 349 586 l 349 819 l 446 819 l 446 586 l 781 586 l 781 490 m 781 21 l 11 21 l 11 115 l 781 115 l 781 21 "},"|":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},:{x_min:0,x_max:617,ha:725,o:"m 482 800 l 372 800 l 372 925 l 482 925 l 482 800 m 239 800 l 129 800 l 129 925 l 239 925 l 239 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 "},"":{x_min:0,x_max:593,ha:690,o:"m 593 425 q 554 312 593 369 q 467 233 516 254 q 537 83 537 172 q 459 -74 537 -12 q 288 -133 387 -133 q 115 -69 184 -133 q 47 96 47 -6 l 166 96 q 199 7 166 40 q 288 -26 232 -26 q 371 -5 332 -26 q 420 60 420 21 q 311 201 420 139 q 108 309 210 255 q 0 490 0 383 q 33 602 0 551 q 124 687 66 654 q 75 743 93 712 q 58 812 58 773 q 133 984 58 920 q 300 1043 201 1043 q 458 987 394 1043 q 529 814 529 925 l 411 814 q 370 908 404 877 q 289 939 336 939 q 213 911 246 939 q 180 841 180 883 q 286 720 180 779 q 484 612 480 615 q 593 425 593 534 m 467 409 q 355 544 467 473 q 196 630 228 612 q 146 587 162 609 q 124 525 124 558 q 239 387 124 462 q 398 298 369 315 q 448 345 429 316 q 467 409 467 375 "},b:{x_min:0,x_max:685,ha:783,o:"m 685 372 q 597 99 685 213 q 347 -25 501 -25 q 219 5 277 -25 q 121 93 161 36 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 634 q 214 723 157 692 q 341 754 272 754 q 591 637 493 754 q 685 372 685 526 m 554 356 q 499 550 554 470 q 328 644 437 644 q 162 556 223 644 q 108 369 108 478 q 160 176 108 256 q 330 83 221 83 q 498 169 435 83 q 554 356 554 245 "},q:{x_min:0,x_max:683,ha:876,o:"m 683 -278 l 564 -278 l 564 97 q 474 8 533 39 q 345 -23 415 -23 q 91 93 188 -23 q 0 364 0 203 q 87 635 0 522 q 337 760 184 760 q 466 727 408 760 q 564 637 523 695 l 564 737 l 683 737 l 683 -278 m 582 375 q 527 564 582 488 q 358 652 466 652 q 190 565 253 652 q 135 377 135 488 q 189 179 135 261 q 361 84 251 84 q 530 179 469 84 q 582 375 582 260 "},:{x_min:-.171875,x_max:969.5625,ha:1068,o:"m 969 0 l 555 0 l 555 123 q 744 308 675 194 q 814 558 814 423 q 726 812 814 709 q 484 922 633 922 q 244 820 334 922 q 154 567 154 719 q 223 316 154 433 q 412 123 292 199 l 412 0 l 0 0 l 0 124 l 217 124 q 68 327 122 210 q 15 572 15 444 q 144 911 15 781 q 484 1041 274 1041 q 822 909 691 1041 q 953 569 953 777 q 899 326 953 443 q 750 124 846 210 l 969 124 l 969 0 "},:{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 535 1040 l 346 819 l 262 819 l 397 1040 l 535 1040 "},z:{x_min:-.015625,x_max:613.890625,ha:697,o:"m 613 0 l 0 0 l 0 100 l 433 630 l 20 630 l 20 738 l 594 738 l 593 636 l 163 110 l 613 110 l 613 0 "},"":{x_min:0,x_max:894,ha:1e3,o:"m 389 951 l 229 951 l 229 503 l 160 503 l 160 951 l 0 951 l 0 1011 l 389 1011 l 389 951 m 894 503 l 827 503 l 827 939 l 685 503 l 620 503 l 481 937 l 481 503 l 417 503 l 417 1011 l 517 1011 l 653 580 l 796 1010 l 894 1011 l 894 503 "},:{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 721 124 755 q 200 630 193 687 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 m 479 1040 l 290 819 l 207 819 l 341 1040 l 479 1040 "},:{x_min:0,x_max:960,ha:1056,o:"m 960 507 q 833 129 960 280 q 476 -32 698 -32 q 123 129 255 -32 q 0 507 0 280 q 123 883 0 732 q 476 1045 255 1045 q 832 883 696 1045 q 960 507 960 732 m 817 500 q 733 789 817 669 q 476 924 639 924 q 223 792 317 924 q 142 507 142 675 q 222 222 142 339 q 476 89 315 89 q 730 218 636 89 q 817 500 817 334 m 716 449 l 243 449 l 243 571 l 716 571 l 716 449 "},"":{x_min:-3,x_max:1008,ha:1106,o:"m 503 532 q 614 562 566 532 q 672 658 672 598 q 614 747 672 716 q 503 772 569 772 l 338 772 l 338 532 l 503 532 m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 788 146 l 678 146 q 653 316 655 183 q 527 449 652 449 l 338 449 l 338 146 l 241 146 l 241 854 l 518 854 q 688 808 621 854 q 766 658 766 755 q 739 563 766 607 q 668 497 713 519 q 751 331 747 472 q 788 164 756 190 l 788 146 "},"~":{x_min:0,x_max:833,ha:931,o:"m 833 958 q 778 753 833 831 q 594 665 716 665 q 402 761 502 665 q 240 857 302 857 q 131 795 166 857 q 104 665 104 745 l 0 665 q 54 867 0 789 q 237 958 116 958 q 429 861 331 958 q 594 765 527 765 q 704 827 670 765 q 729 958 729 874 l 833 958 "},:{x_min:0,x_max:736.21875,ha:778,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},"":{x_min:0,x_max:450,ha:547,o:"m 450 552 q 379 413 450 464 q 220 366 313 366 q 69 414 130 366 q 0 567 0 470 l 85 567 q 126 470 85 504 q 225 437 168 437 q 320 467 280 437 q 360 552 360 498 q 318 632 360 608 q 213 657 276 657 q 195 657 203 657 q 176 657 181 657 l 176 722 q 279 733 249 722 q 334 815 334 752 q 300 881 334 856 q 220 907 267 907 q 133 875 169 907 q 97 781 97 844 l 15 781 q 78 926 15 875 q 220 972 135 972 q 364 930 303 972 q 426 817 426 888 q 344 697 426 733 q 421 642 392 681 q 450 552 450 603 "},"[":{x_min:0,x_max:273.609375,ha:371,o:"m 273 -281 l 0 -281 l 0 1013 l 273 1013 l 273 920 l 124 920 l 124 -187 l 273 -187 l 273 -281 "},L:{x_min:0,x_max:645.828125,ha:696,o:"m 645 0 l 0 0 l 0 1013 l 140 1013 l 140 126 l 645 126 l 645 0 "},:{x_min:0,x_max:803.390625,ha:894,o:"m 803 628 l 633 628 q 713 368 713 512 q 618 93 713 204 q 357 -25 518 -25 q 94 91 194 -25 q 0 368 0 201 q 94 644 0 533 q 356 761 194 761 q 481 750 398 761 q 608 739 564 739 l 803 739 l 803 628 m 360 85 q 529 180 467 85 q 584 374 584 262 q 527 566 584 490 q 352 651 463 651 q 187 559 247 651 q 135 368 135 478 q 189 175 135 254 q 360 85 251 85 "},:{x_min:0,x_max:573,ha:642,o:"m 573 -40 q 553 -162 573 -97 q 510 -278 543 -193 l 400 -278 q 441 -187 428 -219 q 462 -90 462 -132 q 378 -14 462 -14 q 108 45 197 -14 q 0 290 0 117 q 108 631 0 462 q 353 901 194 767 l 55 901 l 55 1012 l 561 1012 l 561 924 q 261 669 382 831 q 128 301 128 489 q 243 117 128 149 q 458 98 350 108 q 573 -40 573 80 "},:{x_min:0,x_max:674,ha:778,o:"m 674 496 q 601 160 674 304 q 336 -26 508 -26 q 73 153 165 -26 q 0 485 0 296 q 72 840 0 683 q 343 1045 166 1045 q 605 844 516 1045 q 674 496 674 692 m 546 579 q 498 798 546 691 q 336 935 437 935 q 178 798 237 935 q 126 579 137 701 l 546 579 m 546 475 l 126 475 q 170 233 126 348 q 338 80 230 80 q 504 233 447 80 q 546 475 546 346 "},:{x_min:0,x_max:958,ha:1054,o:"m 485 1042 q 834 883 703 1042 q 958 511 958 735 q 834 136 958 287 q 481 -26 701 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 729 q 485 1042 263 1042 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 670 q 480 913 640 913 q 226 785 321 913 q 142 504 142 671 q 226 224 142 339 q 480 98 319 98 "},:{x_min:0,x_max:705.28125,ha:749,o:"m 705 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 705 1012 l 705 886 "}," ":{x_min:0,x_max:0,ha:375},"%":{x_min:-3,x_max:1089,ha:1186,o:"m 845 0 q 663 76 731 0 q 602 244 602 145 q 661 412 602 344 q 845 489 728 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 845 0 962 0 m 844 103 q 945 143 909 103 q 981 243 981 184 q 947 340 981 301 q 844 385 909 385 q 744 342 781 385 q 708 243 708 300 q 741 147 708 186 q 844 103 780 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 "},P:{x_min:0,x_max:726,ha:806,o:"m 424 1013 q 640 931 555 1013 q 726 719 726 850 q 637 506 726 587 q 413 426 548 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 379 889 l 140 889 l 140 548 l 372 548 q 522 589 459 548 q 593 720 593 637 q 528 845 593 801 q 379 889 463 889 "},:{x_min:0,x_max:1078.21875,ha:1118,o:"m 1078 0 l 342 0 l 342 1013 l 1067 1013 l 1067 889 l 481 889 l 481 585 l 1019 585 l 1019 467 l 481 467 l 481 125 l 1078 125 l 1078 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},:{x_min:.125,x_max:1136.546875,ha:1235,o:"m 1136 0 l 722 0 l 722 123 q 911 309 842 194 q 981 558 981 423 q 893 813 981 710 q 651 923 800 923 q 411 821 501 923 q 321 568 321 720 q 390 316 321 433 q 579 123 459 200 l 579 0 l 166 0 l 166 124 l 384 124 q 235 327 289 210 q 182 572 182 444 q 311 912 182 782 q 651 1042 441 1042 q 989 910 858 1042 q 1120 569 1120 778 q 1066 326 1120 443 q 917 124 1013 210 l 1136 124 l 1136 0 m 277 1040 l 83 800 l 0 800 l 140 1041 l 277 1040 "},_:{x_min:0,x_max:705.5625,ha:803,o:"m 705 -334 l 0 -334 l 0 -234 l 705 -234 l 705 -334 "},:{x_min:-110,x_max:246,ha:275,o:"m 246 1046 l 118 1046 l 118 1189 l 246 1189 l 246 1046 m 18 1046 l -110 1046 l -110 1189 l 18 1189 l 18 1046 m 136 0 l 0 0 l 0 1012 l 136 1012 l 136 0 "},"+":{x_min:23,x_max:768,ha:792,o:"m 768 372 l 444 372 l 444 0 l 347 0 l 347 372 l 23 372 l 23 468 l 347 468 l 347 840 l 444 840 l 444 468 l 768 468 l 768 372 "},"":{x_min:0,x_max:1050,ha:1149,o:"m 1050 0 l 625 0 q 712 178 625 108 q 878 277 722 187 q 967 385 967 328 q 932 456 967 429 q 850 484 897 484 q 759 450 798 484 q 721 352 721 416 l 640 352 q 706 502 640 448 q 851 551 766 551 q 987 509 931 551 q 1050 385 1050 462 q 976 251 1050 301 q 829 179 902 215 q 717 68 740 133 l 1050 68 l 1050 0 m 834 985 l 215 -28 l 130 -28 l 750 984 l 834 985 m 224 422 l 142 422 l 142 811 l 0 811 l 0 867 q 104 889 62 867 q 164 973 157 916 l 224 973 l 224 422 "},:{x_min:0,x_max:720,ha:783,o:"m 424 1013 q 637 933 554 1013 q 720 723 720 853 q 633 508 720 591 q 413 426 546 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 378 889 l 140 889 l 140 548 l 371 548 q 521 589 458 548 q 592 720 592 637 q 527 845 592 801 q 378 889 463 889 "},"'":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},:{x_min:0,x_max:350,ha:397,o:"m 350 625 q 307 616 328 616 q 266 631 281 616 q 247 673 251 645 q 190 628 225 644 q 116 613 156 613 q 32 641 64 613 q 0 722 0 669 q 72 826 0 800 q 247 866 159 846 l 247 887 q 220 934 247 916 q 162 953 194 953 q 104 934 129 953 q 76 882 80 915 l 16 882 q 60 976 16 941 q 166 1011 104 1011 q 266 979 224 1011 q 308 891 308 948 l 308 706 q 311 679 308 688 q 331 670 315 670 l 350 672 l 350 625 m 247 757 l 247 811 q 136 790 175 798 q 64 726 64 773 q 83 682 64 697 q 132 667 103 667 q 207 690 174 667 q 247 757 247 718 "},"":{x_min:0,x_max:450,ha:553,o:"m 450 800 l 340 800 l 340 925 l 450 925 l 450 800 m 406 1040 l 212 800 l 129 800 l 269 1040 l 406 1040 m 110 800 l 0 800 l 0 925 l 110 925 l 110 800 "},T:{x_min:0,x_max:777,ha:835,o:"m 777 894 l 458 894 l 458 0 l 319 0 l 319 894 l 0 894 l 0 1013 l 777 1013 l 777 894 "},:{x_min:0,x_max:915,ha:997,o:"m 527 0 l 389 0 l 389 122 q 110 231 220 122 q 0 509 0 340 q 110 785 0 677 q 389 893 220 893 l 389 1013 l 527 1013 l 527 893 q 804 786 693 893 q 915 509 915 679 q 805 231 915 341 q 527 122 696 122 l 527 0 m 527 226 q 712 310 641 226 q 779 507 779 389 q 712 705 779 627 q 527 787 641 787 l 527 226 m 389 226 l 389 787 q 205 698 275 775 q 136 505 136 620 q 206 308 136 391 q 389 226 276 226 "},"":{x_min:0,x_max:0,ha:694},j:{x_min:-77.78125,x_max:167,ha:349,o:"m 167 871 l 42 871 l 42 1013 l 167 1013 l 167 871 m 167 -80 q 121 -231 167 -184 q -26 -278 76 -278 l -77 -278 l -77 -164 l -41 -164 q 26 -143 11 -164 q 42 -65 42 -122 l 42 737 l 167 737 l 167 -80 "},:{x_min:0,x_max:756.953125,ha:819,o:"m 756 0 l 0 0 l 0 107 l 395 523 l 22 904 l 22 1013 l 745 1013 l 745 889 l 209 889 l 566 523 l 187 125 l 756 125 l 756 0 "},"":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},"<":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"":{x_min:0,x_max:704.484375,ha:801,o:"m 704 41 q 623 -10 664 5 q 543 -26 583 -26 q 359 15 501 -26 q 243 36 288 36 q 158 23 197 36 q 73 -21 119 10 l 6 76 q 125 195 90 150 q 175 331 175 262 q 147 443 175 383 l 0 443 l 0 512 l 108 512 q 43 734 43 623 q 120 929 43 854 q 358 1010 204 1010 q 579 936 487 1010 q 678 729 678 857 l 678 684 l 552 684 q 504 838 552 780 q 362 896 457 896 q 216 852 263 896 q 176 747 176 815 q 199 627 176 697 q 248 512 217 574 l 468 512 l 468 443 l 279 443 q 297 356 297 398 q 230 194 297 279 q 153 107 211 170 q 227 133 190 125 q 293 142 264 142 q 410 119 339 142 q 516 96 482 96 q 579 105 550 96 q 648 142 608 115 l 704 41 "},t:{x_min:0,x_max:367,ha:458,o:"m 367 0 q 312 -5 339 -2 q 262 -8 284 -8 q 145 28 183 -8 q 108 143 108 64 l 108 638 l 0 638 l 0 738 l 108 738 l 108 944 l 232 944 l 232 738 l 367 738 l 367 638 l 232 638 l 232 185 q 248 121 232 140 q 307 102 264 102 q 345 104 330 102 q 367 107 360 107 l 367 0 "},"":{x_min:0,x_max:706,ha:803,o:"m 706 411 l 706 158 l 630 158 l 630 335 l 0 335 l 0 411 l 706 411 "},:{x_min:0,x_max:750,ha:803,o:"m 750 -7 q 679 -15 716 -15 q 538 59 591 -15 q 466 214 512 97 l 336 551 l 126 0 l 0 0 l 270 705 q 223 837 247 770 q 116 899 190 899 q 90 898 100 899 l 90 1004 q 152 1011 125 1011 q 298 938 244 1011 q 373 783 326 901 l 605 192 q 649 115 629 136 q 716 95 669 95 l 736 95 q 750 97 745 97 l 750 -7 "},W:{x_min:0,x_max:1263.890625,ha:1351,o:"m 1263 1013 l 995 0 l 859 0 l 627 837 l 405 0 l 265 0 l 0 1013 l 136 1013 l 342 202 l 556 1013 l 701 1013 l 921 207 l 1133 1012 l 1263 1013 "},">":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},v:{x_min:0,x_max:675.15625,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 737 l 340 147 l 541 737 l 675 738 "},:{x_min:.28125,x_max:644.5,ha:703,o:"m 644 628 l 382 628 l 382 179 q 388 120 382 137 q 436 91 401 91 q 474 94 447 91 q 504 97 501 97 l 504 0 q 454 -9 482 -5 q 401 -14 426 -14 q 278 67 308 -14 q 260 233 260 118 l 260 628 l 0 628 l 0 739 l 644 739 l 644 628 "},:{x_min:0,x_max:624.9375,ha:699,o:"m 624 -37 q 608 -153 624 -96 q 563 -278 593 -211 l 454 -278 q 491 -183 486 -200 q 511 -83 511 -126 q 484 -23 511 -44 q 370 1 452 1 q 323 0 354 1 q 283 -1 293 -1 q 84 76 169 -1 q 0 266 0 154 q 56 431 0 358 q 197 538 108 498 q 94 613 134 562 q 54 730 54 665 q 77 823 54 780 q 143 901 101 867 l 27 901 l 27 1012 l 576 1012 l 576 901 l 380 901 q 244 863 303 901 q 178 745 178 820 q 312 600 178 636 q 532 582 380 582 l 532 479 q 276 455 361 479 q 118 281 118 410 q 165 173 118 217 q 274 120 208 133 q 494 101 384 110 q 624 -37 624 76 "},"&":{x_min:-3,x_max:894.25,ha:992,o:"m 894 0 l 725 0 l 624 123 q 471 0 553 40 q 306 -41 390 -41 q 168 -7 231 -41 q 62 92 105 26 q 14 187 31 139 q -3 276 -3 235 q 55 433 -3 358 q 248 581 114 508 q 170 689 196 640 q 137 817 137 751 q 214 985 137 922 q 384 1041 284 1041 q 548 988 483 1041 q 622 824 622 928 q 563 666 622 739 q 431 556 516 608 l 621 326 q 649 407 639 361 q 663 493 653 426 l 781 493 q 703 229 781 352 l 894 0 m 504 818 q 468 908 504 877 q 384 940 433 940 q 293 907 331 940 q 255 818 255 875 q 289 714 255 767 q 363 628 313 678 q 477 729 446 682 q 504 818 504 771 m 556 209 l 314 499 q 179 395 223 449 q 135 283 135 341 q 146 222 135 253 q 183 158 158 192 q 333 80 241 80 q 556 209 448 80 "},:{x_min:0,x_max:862.5,ha:942,o:"m 862 0 l 719 0 l 426 847 l 143 0 l 0 0 l 356 1013 l 501 1013 l 862 0 "},I:{x_min:41,x_max:180,ha:293,o:"m 180 0 l 41 0 l 41 1013 l 180 1013 l 180 0 "},G:{x_min:0,x_max:921,ha:1011,o:"m 921 0 l 832 0 l 801 136 q 655 15 741 58 q 470 -28 568 -28 q 126 133 259 -28 q 0 499 0 284 q 125 881 0 731 q 486 1043 259 1043 q 763 957 647 1043 q 905 709 890 864 l 772 709 q 668 866 747 807 q 486 926 589 926 q 228 795 322 926 q 142 507 142 677 q 228 224 142 342 q 483 94 323 94 q 712 195 625 94 q 796 435 796 291 l 477 435 l 477 549 l 921 549 l 921 0 "},:{x_min:0,x_max:617,ha:725,o:"m 524 800 l 414 800 l 414 925 l 524 925 l 524 800 m 183 800 l 73 800 l 73 925 l 183 925 l 183 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 489 1040 l 300 819 l 216 819 l 351 1040 l 489 1040 "},"`":{x_min:0,x_max:138.890625,ha:236,o:"m 138 699 l 0 699 l 0 861 q 36 974 0 929 q 138 1041 72 1020 l 138 977 q 82 931 95 969 q 69 839 69 893 l 138 839 l 138 699 "},"":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},:{x_min:.328125,x_max:819.515625,ha:889,o:"m 819 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 "},r:{x_min:0,x_max:355.5625,ha:432,o:"m 355 621 l 343 621 q 179 569 236 621 q 122 411 122 518 l 122 0 l 0 0 l 0 737 l 117 737 l 117 604 q 204 719 146 686 q 355 753 262 753 l 355 621 "},x:{x_min:0,x_max:675,ha:764,o:"m 675 0 l 525 0 l 331 286 l 144 0 l 0 0 l 256 379 l 12 738 l 157 737 l 336 473 l 516 738 l 661 738 l 412 380 l 675 0 "},:{x_min:0,x_max:696.609375,ha:747,o:"m 696 -4 q 628 -14 657 -14 q 498 97 513 -14 q 422 8 470 41 q 313 -24 374 -24 q 207 3 258 -24 q 120 80 157 31 l 120 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 172 124 246 q 308 82 216 82 q 451 177 402 82 q 492 358 492 254 l 492 738 l 616 738 l 616 214 q 623 136 616 160 q 673 92 636 92 q 696 95 684 92 l 696 -4 "},h:{x_min:0,x_max:615,ha:724,o:"m 615 472 l 615 0 l 490 0 l 490 454 q 456 590 490 535 q 338 654 416 654 q 186 588 251 654 q 122 436 122 522 l 122 0 l 0 0 l 0 1013 l 122 1013 l 122 633 q 218 727 149 694 q 362 760 287 760 q 552 676 484 760 q 615 472 615 600 "},".":{x_min:0,x_max:142,ha:239,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},:{x_min:-2,x_max:878,ha:974,o:"m 496 -279 l 378 -279 l 378 -17 q 101 88 204 -17 q -2 367 -2 194 q 68 626 -2 510 q 283 758 151 758 l 283 646 q 167 537 209 626 q 133 373 133 462 q 192 177 133 254 q 378 93 259 93 l 378 758 q 445 764 426 763 q 476 765 464 765 q 765 659 653 765 q 878 377 878 553 q 771 96 878 209 q 496 -17 665 -17 l 496 -279 m 496 93 l 514 93 q 687 183 623 93 q 746 380 746 265 q 691 569 746 491 q 522 658 629 658 l 496 656 l 496 93 "},";":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 -12 q 105 -132 142 -82 q 0 -206 68 -182 l 0 -138 q 58 -82 43 -123 q 68 0 68 -56 l 0 0 l 0 151 l 142 151 l 142 -12 "},f:{x_min:0,x_max:378,ha:472,o:"m 378 638 l 246 638 l 246 0 l 121 0 l 121 638 l 0 638 l 0 738 l 121 738 q 137 935 121 887 q 290 1028 171 1028 q 320 1027 305 1028 q 378 1021 334 1026 l 378 908 q 323 918 346 918 q 257 870 273 918 q 246 780 246 840 l 246 738 l 378 738 l 378 638 "},"":{x_min:1,x_max:348.21875,ha:454,o:"m 140 670 l 1 670 l 1 830 q 37 943 1 897 q 140 1011 74 990 l 140 947 q 82 900 97 940 q 68 810 68 861 l 140 810 l 140 670 m 348 670 l 209 670 l 209 830 q 245 943 209 897 q 348 1011 282 990 l 348 947 q 290 900 305 940 q 276 810 276 861 l 348 810 l 348 670 "},A:{x_min:.03125,x_max:906.953125,ha:1008,o:"m 906 0 l 756 0 l 648 303 l 251 303 l 142 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 610 421 l 452 867 l 293 421 l 610 421 "},"":{x_min:1,x_max:139.890625,ha:236,o:"m 139 670 l 1 670 l 1 830 q 37 943 1 897 q 139 1011 74 990 l 139 947 q 82 900 97 940 q 68 810 68 861 l 139 810 l 139 670 "},:{x_min:-70,x_max:283,ha:361,o:"m 283 800 l 173 800 l 173 925 l 283 925 l 283 800 m 40 800 l -70 800 l -70 925 l 40 925 l 40 800 m 283 3 q 232 -10 257 -5 q 181 -15 206 -15 q 84 26 118 -15 q 41 200 41 79 l 41 737 l 166 737 l 167 215 q 171 141 167 157 q 225 101 182 101 q 247 103 238 101 q 283 112 256 104 l 283 3 "},:{x_min:-.21875,x_max:773.21875,ha:857,o:"m 773 -7 l 707 -11 q 575 40 607 -11 q 552 174 552 77 l 552 226 l 552 626 l 222 626 l 222 0 l 97 0 l 97 626 l 0 626 l 0 737 l 773 737 l 773 626 l 676 626 l 676 171 q 695 103 676 117 q 773 90 714 90 l 773 -7 "},:{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 727 407 760 q 563 637 524 695 l 563 738 l 685 738 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 95 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 m 604 1040 l 415 819 l 332 819 l 466 1040 l 604 1040 "},O:{x_min:0,x_max:958,ha:1057,o:"m 485 1041 q 834 882 702 1041 q 958 512 958 734 q 834 136 958 287 q 481 -26 702 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 728 q 485 1041 263 1041 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 669 q 480 912 640 912 q 226 784 321 912 q 142 504 142 670 q 226 224 142 339 q 480 98 319 98 "},n:{x_min:0,x_max:615,ha:724,o:"m 615 463 l 615 0 l 490 0 l 490 454 q 453 592 490 537 q 331 656 410 656 q 178 585 240 656 q 117 421 117 514 l 117 0 l 0 0 l 0 738 l 117 738 l 117 630 q 218 728 150 693 q 359 764 286 764 q 552 675 484 764 q 615 463 615 593 "},l:{x_min:41,x_max:166,ha:279,o:"m 166 0 l 41 0 l 41 1013 l 166 1013 l 166 0 "},"":{x_min:40.09375,x_max:728.796875,ha:825,o:"m 728 304 l 649 224 l 512 363 q 383 331 458 331 q 256 363 310 331 l 119 224 l 40 304 l 177 441 q 150 553 150 493 q 184 673 150 621 l 40 818 l 119 898 l 267 749 q 321 766 291 759 q 384 773 351 773 q 447 766 417 773 q 501 749 477 759 l 649 898 l 728 818 l 585 675 q 612 618 604 648 q 621 553 621 587 q 591 441 621 491 l 728 304 m 384 682 q 280 643 318 682 q 243 551 243 604 q 279 461 243 499 q 383 423 316 423 q 487 461 449 423 q 525 553 525 500 q 490 641 525 605 q 384 682 451 682 "},:{x_min:0,x_max:632.328125,ha:679,o:"m 632 0 l 482 0 l 225 384 l 124 288 l 124 0 l 0 0 l 0 738 l 124 738 l 124 446 l 433 738 l 596 738 l 312 466 l 632 0 "},p:{x_min:0,x_max:685,ha:786,o:"m 685 364 q 598 96 685 205 q 350 -23 504 -23 q 121 89 205 -23 l 121 -278 l 0 -278 l 0 738 l 121 738 l 121 633 q 220 726 159 691 q 351 761 280 761 q 598 636 504 761 q 685 364 685 522 m 557 371 q 501 560 557 481 q 330 651 437 651 q 162 559 223 651 q 108 366 108 479 q 162 177 108 254 q 333 87 224 87 q 502 178 441 87 q 557 371 557 258 "},"":{x_min:0,x_max:777,ha:835,o:"m 458 238 l 458 0 l 319 0 l 319 238 l 0 238 l 0 360 l 319 360 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 l 777 804 l 777 683 l 458 683 l 458 360 l 777 360 l 777 238 l 458 238 "},:{x_min:0,x_max:808,ha:907,o:"m 465 -278 l 341 -278 l 341 -15 q 87 102 180 -15 q 0 378 0 210 l 0 739 l 133 739 l 133 379 q 182 195 133 275 q 341 98 242 98 l 341 922 l 465 922 l 465 98 q 623 195 563 98 q 675 382 675 278 l 675 742 l 808 742 l 808 381 q 720 104 808 213 q 466 -13 627 -13 l 465 -278 "},:{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 720 124 755 q 200 630 193 686 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 "}},yst="normal",bst=1189,xst=-100,_st="normal",Sst={yMin:-334,xMin:-111,yMax:1189,xMax:1672},wst=1e3,Cst={postscript_name:"Helvetiker-Regular",version_string:"Version 1.00 2004 initial release",vendor_url:"http://www.magenta.gr/",full_font_name:"Helvetiker",font_family_name:"Helvetiker",copyright:"Copyright (c) agenta ltd, 2004",description:"",trademark:"",designer:"",designer_url:"",unique_font_identifier:"agenta ltd:Helvetiker:22-10-104",license_url:"http://www.ellak.gr/fonts/MgOpen/license.html",license_description:`Copyright (c) 2004 by MAGENTA Ltd. All Rights Reserved.\r
\r
Permission is hereby granted, free of charge, to any person obtaining a copy of the fonts accompanying this license ("Fonts") and associated documentation files (the "Font Software"), to reproduce and distribute the Font Software, including without limitation the rights to use, copy, merge, publish, distribute, and/or sell copies of the Font Software, and to permit persons to whom the Font Software is furnished to do so, subject to the following conditions: \r
\r
The above copyright and this permission notice shall be included in all copies of one or more of the Font Software typefaces.\r
\r
The Font Software may be modified, altered, or added to, and in particular the designs of glyphs or characters in the Fonts may be modified and additional glyphs or characters may be added to the Fonts, only if the fonts are renamed to names not containing the word "MgOpen", or if the modifications are accepted for inclusion in the Font Software itself by the each appointed Administrator.\r
\r
This License becomes null and void to the extent applicable to Fonts or Font Software that has been modified and is distributed under the "MgOpen" name.\r
\r
The Font Software may be sold as part of a larger software package but no copy of one or more of the Font Software typefaces may be sold by itself. \r
\r
THE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL MAGENTA OR PERSONS OR BODIES IN CHARGE OF ADMINISTRATION AND MAINTENANCE OF THE FONT SOFTWARE BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE FONT SOFTWARE.`,manufacturer_name:"agenta ltd",font_sub_family_name:"Regular"},Tst=-334,Est="Helvetiker",Mst=1522,Pst=50,Rst={glyphs:vst,cssFontWeight:yst,ascender:bst,underlinePosition:xst,cssFontStyle:_st,boundingBox:Sst,resolution:wst,original_font_information:Cst,descender:Tst,familyName:Est,lineHeight:Mst,underlineThickness:Pst},Iu=Mi(Mi({},window.THREE?window.THREE:{BoxGeometry:bm,CircleGeometry:OR,DoubleSide:Ko,Group:Tl,Mesh:Ai,MeshLambertMaterial:Mh,TextGeometry:BY,Vector3:Te}),{},{Font:Mat,TextGeometry:BY}),dhe=xa({props:{labelsData:{default:[]},labelLat:{default:"lat"},labelLng:{default:"lng"},labelAltitude:{default:.002},labelText:{default:"text"},labelSize:{default:.5},labelTypeFace:{default:Rst,onChange:function(e,n){n.font=new Iu.Font(e)}},labelColor:{default:function(){return"lightgrey"}},labelRotation:{default:0},labelResolution:{default:3},labelIncludeDot:{default:!0},labelDotRadius:{default:.1},labelDotOrientation:{default:function(){return"bottom"}},labelsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Xi(e),n.scene=e,n.tweenGroup=i;var o=new Iu.CircleGeometry(1,32);n.dataMapper=new zl(e,{objBindAttr:"__threeObjLabel"}).onCreateObj(function(){var a=new Iu.MeshLambertMaterial;a.side=Ko;var s=new Iu.Group;s.add(new Iu.Mesh(o,a));var l=new Iu.Mesh(void 0,a);s.add(l);var c=new Iu.Mesh;return c.visible=!1,l.add(c),s.__globeObjType="label",s})},update:function(e){var n=nn(e.labelLat),r=nn(e.labelLng),i=nn(e.labelAltitude),o=nn(e.labelText),a=nn(e.labelSize),s=nn(e.labelRotation),l=nn(e.labelColor),c=nn(e.labelIncludeDot),u=nn(e.labelDotRadius),d=nn(e.labelDotOrientation),f=new Set(["right","top","bottom"]),h=2*Math.PI*ro/360;e.dataMapper.onUpdateObj(function(p,_){var x=lo(p.children,2),y=x[0],w=x[1],C=lo(w.children,1),M=C[0],R=l(_),N=td(R);w.material.color.set(vf(R)),w.material.transparent=N<1,w.material.opacity=N;var I=c(_),B=d(_);!I||!f.has(B)&&(B="bottom");var D=I?+u(_)*h:1e-12;y.scale.x=y.scale.y=D;var $=+a(_)*h;if(w.geometry&&w.geometry.dispose(),w.geometry=new Iu.TextGeometry(o(_),{font:e.font,size:$,depth:0,bevelEnabled:!0,bevelThickness:0,bevelSize:0,curveSegments:e.labelResolution}),M.geometry&&M.geometry.dispose(),w.geometry.computeBoundingBox(),M.geometry=P9(Iu.BoxGeometry,zi(new Iu.Vector3().subVectors(w.geometry.boundingBox.max,w.geometry.boundingBox.min).clampScalar(0,1/0).toArray())),B!=="right"&&w.geometry.center(),I){var z=D+$/2;B==="right"&&(w.position.x=z),w.position.y={right:-$/2,top:z+$/2,bottom:-z-$/2}[B]}var V=function(H){var X=p.__currentTargetD=H,Y=X.lat,ee=X.lng,Z=X.alt,re=X.rot,ae=X.scale;Object.assign(p.position,hu(Y,ee,Z)),p.lookAt(e.scene.localToWorld(new Iu.Vector3(0,0,0))),p.rotateY(Math.PI),p.rotateZ(-re*Math.PI/180),p.scale.x=p.scale.y=p.scale.z=ae},q={lat:+n(_),lng:+r(_),alt:+i(_),rot:+s(_),scale:1},G=p.__currentTargetD||Object.assign({},q,{scale:1e-12});Object.keys(q).some(function(j){return G[j]!==q[j]})&&(!e.labelsTransitionDuration||e.labelsTransitionDuration<0?V(q):e.tweenGroup.add(new Ds(G).to(q,e.labelsTransitionDuration).easing(ca.Quadratic.InOut).onUpdate(V).start()))}).digest(e.labelsData)}}),Nst=Mi(Mi({},window.THREE?window.THREE:{}),{},{CSS2DObject:Eze}),fhe=xa({props:{htmlElementsData:{default:[]},htmlLat:{default:"lat"},htmlLng:{default:"lng"},htmlAltitude:{default:0},htmlElement:{},htmlElementVisibilityModifier:{triggerUpdate:!1},htmlTransitionDuration:{default:1e3,triggerUpdate:!1},isBehindGlobe:{onChange:function(){this.updateObjVisibility()},triggerUpdate:!1}},methods:{updateObjVisibility:function(e,n){if(e.dataMapper){var r=n?[n]:e.dataMapper.entries().map(function(i){var o=lo(i,2),a=o[1];return a}).filter(function(i){return i});r.forEach(function(i){var o=!e.isBehindGlobe||!e.isBehindGlobe(i.position);e.htmlElementVisibilityModifier?(i.visible=!0,e.htmlElementVisibilityModifier(i.element,o)):i.visible=o})}}},init:function(e,n,r){var i=r.tweenGroup;Xi(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new zl(e,{objBindAttr:"__threeObjHtml"}).onCreateObj(function(o){var a=nn(n.htmlElement)(o),s=new Nst.CSS2DObject(a);return s.__globeObjType="html",s})},update:function(e,n){var r=this,i=nn(e.htmlLat),o=nn(e.htmlLng),a=nn(e.htmlAltitude);n.hasOwnProperty("htmlElement")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(s,l){var c=function(f){var h=s.__currentTargetD=f,p=h.alt,_=h.lat,x=h.lng;Object.assign(s.position,hu(_,x,p)),r.updateObjVisibility(s)},u={lat:+i(l),lng:+o(l),alt:+a(l)};!e.htmlTransitionDuration||e.htmlTransitionDuration<0||!s.__currentTargetD?c(u):e.tweenGroup.add(new Ds(s.__currentTargetD).to(u,e.htmlTransitionDuration).easing(ca.Quadratic.InOut).onUpdate(c).start())}).digest(e.htmlElementsData)}}),DT=window.THREE?window.THREE:{Group:Tl,Mesh:Ai,MeshLambertMaterial:Mh,SphereGeometry:xf},hhe=xa({props:{objectsData:{default:[]},objectLat:{default:"lat"},objectLng:{default:"lng"},objectAltitude:{default:.01},objectFacesSurface:{default:!0},objectRotation:{},objectThreeObject:{default:new DT.Mesh(new DT.SphereGeometry(1,16,8),new DT.MeshLambertMaterial({color:"#ffffaa",transparent:!0,opacity:.7}))}},init:function(e,n){Xi(e),n.scene=e,n.dataMapper=new zl(e,{objBindAttr:"__threeObjObject"}).onCreateObj(function(r){var i=nn(n.objectThreeObject)(r);n.objectThreeObject===i&&(i=i.clone());var o=new DT.Group;return o.add(i),o.__globeObjType="object",o})},update:function(e,n){var r=nn(e.objectLat),i=nn(e.objectLng),o=nn(e.objectAltitude),a=nn(e.objectFacesSurface),s=nn(e.objectRotation);n.hasOwnProperty("objectThreeObject")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(l,c){var u=+r(c),d=+i(c),f=+o(c);Object.assign(l.position,hu(u,d,f)),a(c)?l.setRotationFromEuler(new ls(y0(-u),y0(d),0,"YXZ")):l.rotation.set(0,0,0);var h=l.children[0],p=s(c);p&&h.setRotationFromEuler(new ls(y0(p.x||0),y0(p.y||0),y0(p.z||0)))}).digest(e.objectsData)}}),phe=xa({props:{customLayerData:{default:[]},customThreeObject:{},customThreeObjectUpdate:{triggerUpdate:!1}},init:function(e,n){Xi(e),n.scene=e,n.dataMapper=new zl(e,{objBindAttr:"__threeObjCustom"}).onCreateObj(function(r){var i=nn(n.customThreeObject)(r,ro);return i&&(n.customThreeObject===i&&(i=i.clone()),i.__globeObjType="custom"),i})},update:function(e,n){e.customThreeObjectUpdate||Xi(e.scene);var r=nn(e.customThreeObjectUpdate);n.hasOwnProperty("customThreeObject")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(i,o){return r(i,o,ro)}).digest(e.customLayerData)}}),LT=window.THREE?window.THREE:{Camera:vS,Group:Tl,Vector2:Wt,Vector3:Te},Ist=["globeLayer","pointsLayer","arcsLayer","hexBinLayer","heatmapsLayer","polygonsLayer","hexedPolygonsLayer","pathsLayer","tilesLayer","particlesLayer","ringsLayer","labelsLayer","htmlElementsLayer","objectsLayer","customLayer"],mhe=ul("globeLayer",Zfe),Ost=Object.assign.apply(Object,zi(["globeImageUrl","bumpImageUrl","globeCurvatureResolution","globeTileEngineUrl","globeTileEngineMaxLevel","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude"].map(function(t){return $a({},t,mhe.linkProp(t))}))),Dst=Object.assign.apply(Object,zi(["globeMaterial","globeTileEngineClearCache"].map(function(t){return $a({},t,mhe.linkMethod(t))}))),Lst=ul("pointsLayer",Jfe),Bst=Object.assign.apply(Object,zi(["pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration"].map(function(t){return $a({},t,Lst.linkProp(t))}))),Fst=ul("arcsLayer",the),$st=Object.assign.apply(Object,zi(["arcsData","arcStartLat","arcStartLng","arcStartAltitude","arcEndLat","arcEndLng","arcEndAltitude","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration"].map(function(t){return $a({},t,Fst.linkProp(t))}))),kst=ul("hexBinLayer",nhe),Ust=Object.assign.apply(Object,zi(["hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration"].map(function(t){return $a({},t,kst.linkProp(t))}))),zst=ul("heatmapsLayer",ihe),Vst=Object.assign.apply(Object,zi(["heatmapsData","heatmapPoints","heatmapPointLat","heatmapPointLng","heatmapPointWeight","heatmapBandwidth","heatmapColorFn","heatmapColorSaturation","heatmapBaseAltitude","heatmapTopAltitude","heatmapsTransitionDuration"].map(function(t){return $a({},t,zst.linkProp(t))}))),Gst=ul("hexedPolygonsLayer",ahe),Hst=Object.assign.apply(Object,zi(["hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonUseDots","hexPolygonCurvatureResolution","hexPolygonDotResolution","hexPolygonsTransitionDuration"].map(function(t){return $a({},t,Gst.linkProp(t))}))),jst=ul("polygonsLayer",ohe),qst=Object.assign.apply(Object,zi(["polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration"].map(function(t){return $a({},t,jst.linkProp(t))}))),Wst=ul("pathsLayer",she),Xst=Object.assign.apply(Object,zi(["pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration"].map(function(t){return $a({},t,Wst.linkProp(t))}))),Yst=ul("tilesLayer",lhe),Kst=Object.assign.apply(Object,zi(["tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration"].map(function(t){return $a({},t,Yst.linkProp(t))}))),Qst=ul("particlesLayer",che),Zst=Object.assign.apply(Object,zi(["particlesData","particlesList","particleLat","particleLng","particleAltitude","particlesSize","particlesSizeAttenuation","particlesColor","particlesTexture"].map(function(t){return $a({},t,Qst.linkProp(t))}))),Jst=ul("ringsLayer",uhe),elt=Object.assign.apply(Object,zi(["ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod"].map(function(t){return $a({},t,Jst.linkProp(t))}))),tlt=ul("labelsLayer",dhe),nlt=Object.assign.apply(Object,zi(["labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration"].map(function(t){return $a({},t,tlt.linkProp(t))}))),rlt=ul("htmlElementsLayer",fhe),ilt=Object.assign.apply(Object,zi(["htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlElementVisibilityModifier","htmlTransitionDuration"].map(function(t){return $a({},t,rlt.linkProp(t))}))),olt=ul("objectsLayer",hhe),alt=Object.assign.apply(Object,zi(["objectsData","objectLat","objectLng","objectAltitude","objectRotation","objectFacesSurface","objectThreeObject"].map(function(t){return $a({},t,olt.linkProp(t))}))),slt=ul("customLayer",phe),llt=Object.assign.apply(Object,zi(["customLayerData","customThreeObject","customThreeObjectUpdate"].map(function(t){return $a({},t,slt.linkProp(t))}))),clt=xa({props:Mi(Mi(Mi(Mi(Mi(Mi(Mi(Mi(Mi(Mi(Mi(Mi(Mi(Mi(Mi({onGlobeReady:{triggerUpdate:!1},rendererSize:{default:new LT.Vector2(window.innerWidth,window.innerHeight),onChange:function(e,n){n.pathsLayer.rendererSize(e)},triggerUpdate:!1}},Ost),Bst),$st),Ust),Vst),qst),Hst),Xst),Kst),Zst),elt),nlt),ilt),alt),llt),methods:Mi({getGlobeRadius:kY,getCoords:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return hu.apply(void 0,r)},toGeoCoords:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Qfe.apply(void 0,r)},setPointOfView:function(e,n){var r=n instanceof LT.Camera?n.position:n,i=kY(),o=void 0;if(e.scene&&r){var a,s,l,c;o=function(d){a===void 0&&(a=r.clone().applyMatrix4(e.scene.matrixWorld.clone().invert())),s===void 0&&(s=a.length()),l===void 0&&(l=Math.sqrt(Math.pow(s,2)-Math.pow(i,2))),c===void 0&&(c=Math.acos(l/s));var f=a.distanceTo(d);if(f<l)return!1;var h=d.length(),p=Math.acos((Math.pow(s,2)+Math.pow(f,2)-Math.pow(h,2))/(2*s*f));return p<c}}e.layersThatNeedUpdatePov.forEach(function(u){return u.updatePov(n)}),e.layersThatNeedBehindGlobeChecker.forEach(function(u){return u.isBehindGlobe(o)})},pauseAnimation:function(e){return e.animationFrameRequestId!==null&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),e.pausableLayers.forEach(function(n){var r;return(r=n.pauseAnimation)===null||r===void 0?void 0:r.call(n)}),this},resumeAnimation:function(e){return e.animationFrameRequestId===null&&this._animationCycle(),e.pausableLayers.forEach(function(n){var r;return(r=n.resumeAnimation)===null||r===void 0?void 0:r.call(n)}),this},_animationCycle:function(e){e.animationFrameRequestId=requestAnimationFrame(this._animationCycle),e.tweenGroup.update()},_destructor:function(e){this.pauseAnimation(),e.destructableLayers.forEach(function(n){return n._destructor()})}},Dst),stateInit:function(){var e=new $R,n={tweenGroup:e},r={globeLayer:Zfe(n),pointsLayer:Jfe(n),arcsLayer:the(n),hexBinLayer:nhe(n),heatmapsLayer:ihe(n),polygonsLayer:ohe(n),hexedPolygonsLayer:ahe(n),pathsLayer:she(n),tilesLayer:lhe(n),particlesLayer:che(n),ringsLayer:uhe(n),labelsLayer:dhe(n),htmlElementsLayer:fhe(n),objectsLayer:hhe(n),customLayer:phe(n)};return Mi(Mi({tweenGroup:e},r),{},{layersThatNeedUpdatePov:Object.values(r).filter(function(i){return i.hasOwnProperty("updatePov")}),layersThatNeedBehindGlobeChecker:Object.values(r).filter(function(i){return i.hasOwnProperty("isBehindGlobe")}),destructableLayers:Object.values(r).filter(function(i){return i.hasOwnProperty("_destructor")}),pausableLayers:Object.values(r).filter(function(i){return i.hasOwnProperty("pauseAnimation")})})},init:function(e,n,r){var i=r.animateIn,o=i===void 0?!0:i,a=r.waitForGlobeReady,s=a===void 0?!0:a;Xi(e),n.scene=e,n.scene.visible=!1,Ist.forEach(function(c){var u=new LT.Group;n.scene.add(u),n[c](u)});var l=function(){if(o){n.scene.scale.set(1e-6,1e-6,1e-6),n.tweenGroup.add(new Ds({k:1e-6}).to({k:1},600).easing(ca.Quadratic.Out).onUpdate(function(d){var f=d.k;return n.scene.scale.set(f,f,f)}).start());var u=new LT.Vector3(0,1,0);n.tweenGroup.add(new Ds({rot:Math.PI*2}).to({rot:0},1200).easing(ca.Quintic.Out).onUpdate(function(d){var f=d.rot;return n.scene.setRotationFromAxisAngle(u,f)}).start())}n.scene.visible=!0,n.onGlobeReady&&n.onGlobeReady()};s?n.globeLayer.onReady(l):l(),this._animationCycle()},update:function(e){}});function ult(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=function(i){function o(){var a;_N(this,o);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=xN(this,o,[].concat(l)),a.__kapsuleInstance=P9(t,[].concat(zi(n?[a]:[]),l)),a}return wN(o,i),SN(o)}(e);return Object.keys(t()).forEach(function(i){return r.prototype[i]=function(){var o,a=(o=this.__kapsuleInstance)[i].apply(o,arguments);return a===this.__kapsuleInstance?this:a}}),r}var dlt=window.THREE?window.THREE:{Group:Tl},ghe=ult(clt,dlt.Group,!0);const ED={type:"change"},O9={type:"start"},D9={type:"end"},XY=1e-6,wi={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4},BT=new Wt,cp=new Wt,flt=new Te,FT=new Te,MD=new Te,zA=new ad,YY=new Te,$T=new Te,PD=new Te,kT=new Te;class hlt extends I7{constructor(e,n=null){super(e,n),this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:eu.ROTATE,MIDDLE:eu.DOLLY,RIGHT:eu.PAN},this.target=new Te,this.state=wi.NONE,this.keyState=wi.NONE,this._lastPosition=new Te,this._lastZoom=1,this._touchZoomDistanceStart=0,this._touchZoomDistanceEnd=0,this._lastAngle=0,this._eye=new Te,this._movePrev=new Wt,this._moveCurr=new Wt,this._lastAxis=new Te,this._zoomStart=new Wt,this._zoomEnd=new Wt,this._panStart=new Wt,this._panEnd=new Wt,this._pointers=[],this._pointerPositions={},this._onPointerMove=mlt.bind(this),this._onPointerDown=plt.bind(this),this._onPointerUp=glt.bind(this),this._onPointerCancel=Alt.bind(this),this._onContextMenu=wlt.bind(this),this._onMouseWheel=Slt.bind(this),this._onKeyDown=ylt.bind(this),this._onKeyUp=vlt.bind(this),this._onTouchStart=Clt.bind(this),this._onTouchMove=Tlt.bind(this),this._onTouchEnd=Elt.bind(this),this._onMouseDown=blt.bind(this),this._onMouseMove=xlt.bind(this),this._onMouseUp=_lt.bind(this),this._target0=this.target.clone(),this._position0=this.object.position.clone(),this._up0=this.object.up.clone(),this._zoom0=this.object.zoom,n!==null&&(this.connect(n),this.handleResize()),this.update()}connect(e){super.connect(e),window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}handleResize(){const e=this.domElement.getBoundingClientRect(),n=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-n.clientLeft,this.screen.top=e.top+window.pageYOffset-n.clientTop,this.screen.width=e.width,this.screen.height=e.height}update(){this._eye.subVectors(this.object.position,this.target),this.noRotate||this._rotateCamera(),this.noZoom||this._zoomCamera(),this.noPan||this._panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this._checkDistances(),this.object.lookAt(this.target),this._lastPosition.distanceToSquared(this.object.position)>XY&&(this.dispatchEvent(ED),this._lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this._lastPosition.distanceToSquared(this.object.position)>XY||this._lastZoom!==this.object.zoom)&&(this.dispatchEvent(ED),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type.")}reset(){this.state=wi.NONE,this.keyState=wi.NONE,this.target.copy(this._target0),this.object.position.copy(this._position0),this.object.up.copy(this._up0),this.object.zoom=this._zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(ED),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom}_panCamera(){if(cp.copy(this._panEnd).sub(this._panStart),cp.lengthSq()){if(this.object.isOrthographicCamera){const e=(this.object.right-this.object.left)/this.object.zoom/this.domElement.clientWidth,n=(this.object.top-this.object.bottom)/this.object.zoom/this.domElement.clientWidth;cp.x*=e,cp.y*=n}cp.multiplyScalar(this._eye.length()*this.panSpeed),FT.copy(this._eye).cross(this.object.up).setLength(cp.x),FT.add(flt.copy(this.object.up).setLength(cp.y)),this.object.position.add(FT),this.target.add(FT),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(cp.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}_rotateCamera(){kT.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0);let e=kT.length();e?(this._eye.copy(this.object.position).sub(this.target),YY.copy(this._eye).normalize(),$T.copy(this.object.up).normalize(),PD.crossVectors($T,YY).normalize(),$T.setLength(this._moveCurr.y-this._movePrev.y),PD.setLength(this._moveCurr.x-this._movePrev.x),kT.copy($T.add(PD)),MD.crossVectors(kT,this._eye).normalize(),e*=this.rotateSpeed,zA.setFromAxisAngle(MD,e),this._eye.applyQuaternion(zA),this.object.up.applyQuaternion(zA),this._lastAxis.copy(MD),this._lastAngle=e):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),zA.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(zA),this.object.up.applyQuaternion(zA)),this._movePrev.copy(this._moveCurr)}_zoomCamera(){let e;this.state===wi.TOUCH_ZOOM_PAN?(e=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(e):this.object.isOrthographicCamera?(this.object.zoom=Ly.clamp(this.object.zoom/e,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(e=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed,e!==1&&e>0&&(this.object.isPerspectiveCamera?this._eye.multiplyScalar(e):this.object.isOrthographicCamera?(this.object.zoom=Ly.clamp(this.object.zoom/e,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor)}_getMouseOnScreen(e,n){return BT.set((e-this.screen.left)/this.screen.width,(n-this.screen.top)/this.screen.height),BT}_getMouseOnCircle(e,n){return BT.set((e-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height+2*(this.screen.top-n))/this.screen.width),BT}_addPointer(e){this._pointers.push(e)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n].pointerId==e.pointerId){this._pointers.splice(n,1);return}}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new Wt,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0].pointerId?this._pointers[1]:this._pointers[0];return this._pointerPositions[n.pointerId]}_checkDistances(){(!this.noZoom||!this.noPan)&&(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}}function plt(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.ownerDocument.addEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this._onPointerUp)),this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t))}function mlt(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function glt(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchEnd(t):this._onMouseUp(),this._removePointer(t),this._pointers.length===0&&(this.domElement.releasePointerCapture(t.pointerId),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp)))}function Alt(t){this._removePointer(t)}function vlt(){this.enabled!==!1&&(this.keyState=wi.NONE,window.addEventListener("keydown",this._onKeyDown))}function ylt(t){this.enabled!==!1&&(window.removeEventListener("keydown",this._onKeyDown),this.keyState===wi.NONE&&(t.code===this.keys[wi.ROTATE]&&!this.noRotate?this.keyState=wi.ROTATE:t.code===this.keys[wi.ZOOM]&&!this.noZoom?this.keyState=wi.ZOOM:t.code===this.keys[wi.PAN]&&!this.noPan&&(this.keyState=wi.PAN)))}function blt(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case eu.DOLLY:this.state=wi.ZOOM;break;case eu.ROTATE:this.state=wi.ROTATE;break;case eu.PAN:this.state=wi.PAN;break;default:this.state=wi.NONE}const n=this.keyState!==wi.NONE?this.keyState:this.state;n===wi.ROTATE&&!this.noRotate?(this._moveCurr.copy(this._getMouseOnCircle(t.pageX,t.pageY)),this._movePrev.copy(this._moveCurr)):n===wi.ZOOM&&!this.noZoom?(this._zoomStart.copy(this._getMouseOnScreen(t.pageX,t.pageY)),this._zoomEnd.copy(this._zoomStart)):n===wi.PAN&&!this.noPan&&(this._panStart.copy(this._getMouseOnScreen(t.pageX,t.pageY)),this._panEnd.copy(this._panStart)),this.dispatchEvent(O9)}function xlt(t){const e=this.keyState!==wi.NONE?this.keyState:this.state;e===wi.ROTATE&&!this.noRotate?(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(t.pageX,t.pageY))):e===wi.ZOOM&&!this.noZoom?this._zoomEnd.copy(this._getMouseOnScreen(t.pageX,t.pageY)):e===wi.PAN&&!this.noPan&&this._panEnd.copy(this._getMouseOnScreen(t.pageX,t.pageY))}function _lt(){this.state=wi.NONE,this.dispatchEvent(D9)}function Slt(t){if(this.enabled!==!1&&this.noZoom!==!0){switch(t.preventDefault(),t.deltaMode){case 2:this._zoomStart.y-=t.deltaY*.025;break;case 1:this._zoomStart.y-=t.deltaY*.01;break;default:this._zoomStart.y-=t.deltaY*25e-5;break}this.dispatchEvent(O9),this.dispatchEvent(D9)}}function wlt(t){this.enabled!==!1&&t.preventDefault()}function Clt(t){switch(this._trackPointer(t),this._pointers.length){case 1:this.state=wi.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(this._pointers[0].pageX,this._pointers[0].pageY)),this._movePrev.copy(this._moveCurr);break;default:this.state=wi.TOUCH_ZOOM_PAN;const e=this._pointers[0].pageX-this._pointers[1].pageX,n=this._pointers[0].pageY-this._pointers[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(e*e+n*n);const r=(this._pointers[0].pageX+this._pointers[1].pageX)/2,i=(this._pointers[0].pageY+this._pointers[1].pageY)/2;this._panStart.copy(this._getMouseOnScreen(r,i)),this._panEnd.copy(this._panStart);break}this.dispatchEvent(O9)}function Tlt(t){switch(this._trackPointer(t),this._pointers.length){case 1:this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(t.pageX,t.pageY));break;default:const e=this._getSecondPointerPosition(t),n=t.pageX-e.x,r=t.pageY-e.y;this._touchZoomDistanceEnd=Math.sqrt(n*n+r*r);const i=(t.pageX+e.x)/2,o=(t.pageY+e.y)/2;this._panEnd.copy(this._getMouseOnScreen(i,o));break}}function Elt(t){switch(this._pointers.length){case 0:this.state=wi.NONE;break;case 1:this.state=wi.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(t.pageX,t.pageY)),this._movePrev.copy(this._moveCurr);break;case 2:this.state=wi.TOUCH_ZOOM_PAN;for(let e=0;e<this._pointers.length;e++)if(this._pointers[e].pointerId!==t.pointerId){const n=this._pointerPositions[this._pointers[e].pointerId];this._moveCurr.copy(this._getMouseOnCircle(n.x,n.y)),this._movePrev.copy(this._moveCurr);break}break}this.dispatchEvent(D9)}const KY={type:"change"},L9={type:"start"},Ahe={type:"end"},UT=new AS,QY=new zd,Mlt=Math.cos(70*Ly.DEG2RAD),ha=new Te,Al=2*Math.PI,qi={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},RD=1e-6;class Plt extends I7{constructor(e,n=null){super(e,n),this.state=qi.NONE,this.target=new Te,this.cursor=new Te,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:eu.ROTATE,MIDDLE:eu.DOLLY,RIGHT:eu.PAN},this.touches={ONE:lv.ROTATE,TWO:lv.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Te,this._lastQuaternion=new ad,this._lastTargetPosition=new Te,this._quat=new ad().setFromUnitVectors(e.up,new Te(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new fq,this._sphericalDelta=new fq,this._scale=1,this._panOffset=new Te,this._rotateStart=new Wt,this._rotateEnd=new Wt,this._rotateDelta=new Wt,this._panStart=new Wt,this._panEnd=new Wt,this._panDelta=new Wt,this._dollyStart=new Wt,this._dollyEnd=new Wt,this._dollyDelta=new Wt,this._dollyDirection=new Te,this._mouse=new Wt,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=Nlt.bind(this),this._onPointerDown=Rlt.bind(this),this._onPointerUp=Ilt.bind(this),this._onContextMenu=klt.bind(this),this._onMouseWheel=Llt.bind(this),this._onKeyDown=Blt.bind(this),this._onTouchStart=Flt.bind(this),this._onTouchMove=$lt.bind(this),this._onMouseDown=Olt.bind(this),this._onMouseMove=Dlt.bind(this),this._interceptControlDown=Ult.bind(this),this._interceptControlUp=zlt.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(KY),this.update(),this.state=qi.NONE}update(e=null){const n=this.object.position;ha.copy(n).sub(this.target),ha.applyQuaternion(this._quat),this._spherical.setFromVector3(ha),this.autoRotate&&this.state===qi.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=Al:r>Math.PI&&(r-=Al),i<-Math.PI?i+=Al:i>Math.PI&&(i-=Al),r<=i?this._spherical.theta=Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let o=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const a=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),o=a!=this._spherical.radius}if(ha.setFromSpherical(this._spherical),ha.applyQuaternion(this._quatInverse),n.copy(this.target).add(ha),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let a=null;if(this.object.isPerspectiveCamera){const s=ha.length();a=this._clampDistance(s*this._scale);const l=s-a;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),o=!!l}else if(this.object.isOrthographicCamera){const s=new Te(this._mouse.x,this._mouse.y,0);s.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),o=l!==this.object.zoom;const c=new Te(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(s),this.object.updateMatrixWorld(),a=ha.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;a!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(a).add(this.object.position):(UT.origin.copy(this.object.position),UT.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(UT.direction))<Mlt?this.object.lookAt(this.target):(QY.setFromNormalAndCoplanarPoint(this.object.up,this.target),UT.intersectPlane(QY,this.target))))}else if(this.object.isOrthographicCamera){const a=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),a!==this.object.zoom&&(this.object.updateProjectionMatrix(),o=!0)}return this._scale=1,this._performCursorZoom=!1,o||this._lastPosition.distanceToSquared(this.object.position)>RD||8*(1-this._lastQuaternion.dot(this.object.quaternion))>RD||this._lastTargetPosition.distanceToSquared(this.target)>RD?(this.dispatchEvent(KY),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?Al/60*this.autoRotateSpeed*e:Al/60/60*this.autoRotateSpeed}_getZoomScale(e){const n=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,n){ha.setFromMatrixColumn(n,0),ha.multiplyScalar(-e),this._panOffset.add(ha)}_panUp(e,n){this.screenSpacePanning===!0?ha.setFromMatrixColumn(n,1):(ha.setFromMatrixColumn(n,0),ha.crossVectors(this.object.up,ha)),ha.multiplyScalar(e),this._panOffset.add(ha)}_pan(e,n){const r=this.domElement;if(this.object.isPerspectiveCamera){const i=this.object.position;ha.copy(i).sub(this.target);let o=ha.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*o/r.clientHeight,this.object.matrix),this._panUp(2*n*o/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),i=e-r.left,o=n-r.top,a=r.width,s=r.height;this._mouse.x=i/a*2-1,this._mouse.y=-(o/s)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(Al*this._rotateDelta.x/n.clientHeight),this._rotateUp(Al*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let n=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Al*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Al*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Al*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Al*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._rotateStart.set(r,i)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._panStart.set(r,i)}}_handleTouchStartDolly(e){const n=this._getSecondPointerPosition(e),r=e.pageX-n.x,i=e.pageY-n.y,o=Math.sqrt(r*r+i*i);this._dollyStart.set(0,o)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e),i=.5*(e.pageX+r.x),o=.5*(e.pageY+r.y);this._rotateEnd.set(i,o)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(Al*this._rotateDelta.x/n.clientHeight),this._rotateUp(Al*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._panEnd.set(r,i)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const n=this._getSecondPointerPosition(e),r=e.pageX-n.x,i=e.pageY-n.y,o=Math.sqrt(r*r+i*i);this._dollyEnd.set(0,o),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const a=(e.pageX+n.x)*.5,s=(e.pageY+n.y)*.5;this._updateZoomParameters(a,s)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(e){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId)return!0;return!1}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new Wt,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(e){const n=e.deltaMode,r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(n){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function Rlt(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.ownerDocument.addEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function Nlt(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function Ilt(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(Ahe),this.state=qi.NONE;break;case 1:const e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y});break}}function Olt(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case eu.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=qi.DOLLY;break;case eu.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=qi.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=qi.ROTATE}break;case eu.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=qi.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=qi.PAN}break;default:this.state=qi.NONE}this.state!==qi.NONE&&this.dispatchEvent(L9)}function Dlt(t){switch(this.state){case qi.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case qi.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case qi.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function Llt(t){this.enabled===!1||this.enableZoom===!1||this.state!==qi.NONE||(t.preventDefault(),this.dispatchEvent(L9),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(Ahe))}function Blt(t){this.enabled!==!1&&this._handleKeyDown(t)}function Flt(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case lv.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=qi.TOUCH_ROTATE;break;case lv.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=qi.TOUCH_PAN;break;default:this.state=qi.NONE}break;case 2:switch(this.touches.TWO){case lv.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=qi.TOUCH_DOLLY_PAN;break;case lv.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=qi.TOUCH_DOLLY_ROTATE;break;default:this.state=qi.NONE}break;default:this.state=qi.NONE}this.state!==qi.NONE&&this.dispatchEvent(L9)}function $lt(t){switch(this._trackPointer(t),this.state){case qi.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case qi.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case qi.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case qi.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=qi.NONE}}function klt(t){this.enabled!==!1&&t.preventDefault()}function Ult(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function zlt(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const Vlt={type:"change"},ZY=1e-6,JY=new ad;class Glt extends I7{constructor(e,n=null){super(e,n),this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1,this._moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this._moveVector=new Te(0,0,0),this._rotationVector=new Te(0,0,0),this._lastQuaternion=new ad,this._lastPosition=new Te,this._status=0,this._onKeyDown=Hlt.bind(this),this._onKeyUp=jlt.bind(this),this._onPointerMove=Wlt.bind(this),this._onPointerDown=qlt.bind(this),this._onPointerUp=Xlt.bind(this),this._onPointerCancel=Ylt.bind(this),this._onContextMenu=Klt.bind(this),n!==null&&this.connect(n)}connect(e){super.connect(e),window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointerup",this._onPointerUp),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("contextmenu",this._onContextMenu)}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("contextmenu",this._onContextMenu)}dispose(){this.disconnect()}update(e){if(this.enabled===!1)return;const n=this.object,r=e*this.movementSpeed,i=e*this.rollSpeed;n.translateX(this._moveVector.x*r),n.translateY(this._moveVector.y*r),n.translateZ(this._moveVector.z*r),JY.set(this._rotationVector.x*i,this._rotationVector.y*i,this._rotationVector.z*i,1).normalize(),n.quaternion.multiply(JY),(this._lastPosition.distanceToSquared(n.position)>ZY||8*(1-this._lastQuaternion.dot(n.quaternion))>ZY)&&(this.dispatchEvent(Vlt),this._lastQuaternion.copy(n.quaternion),this._lastPosition.copy(n.position))}_updateMovementVector(){const e=this._moveState.forward||this.autoForward&&!this._moveState.back?1:0;this._moveVector.x=-this._moveState.left+this._moveState.right,this._moveVector.y=-this._moveState.down+this._moveState.up,this._moveVector.z=-e+this._moveState.back}_updateRotationVector(){this._rotationVector.x=-this._moveState.pitchDown+this._moveState.pitchUp,this._rotationVector.y=-this._moveState.yawRight+this._moveState.yawLeft,this._rotationVector.z=-this._moveState.rollRight+this._moveState.rollLeft}_getContainerDimensions(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}}}function Hlt(t){if(!(t.altKey||this.enabled===!1)){switch(t.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this._moveState.forward=1;break;case"KeyS":this._moveState.back=1;break;case"KeyA":this._moveState.left=1;break;case"KeyD":this._moveState.right=1;break;case"KeyR":this._moveState.up=1;break;case"KeyF":this._moveState.down=1;break;case"ArrowUp":this._moveState.pitchUp=1;break;case"ArrowDown":this._moveState.pitchDown=1;break;case"ArrowLeft":this._moveState.yawLeft=1;break;case"ArrowRight":this._moveState.yawRight=1;break;case"KeyQ":this._moveState.rollLeft=1;break;case"KeyE":this._moveState.rollRight=1;break}this._updateMovementVector(),this._updateRotationVector()}}function jlt(t){if(this.enabled!==!1){switch(t.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this._moveState.forward=0;break;case"KeyS":this._moveState.back=0;break;case"KeyA":this._moveState.left=0;break;case"KeyD":this._moveState.right=0;break;case"KeyR":this._moveState.up=0;break;case"KeyF":this._moveState.down=0;break;case"ArrowUp":this._moveState.pitchUp=0;break;case"ArrowDown":this._moveState.pitchDown=0;break;case"ArrowLeft":this._moveState.yawLeft=0;break;case"ArrowRight":this._moveState.yawRight=0;break;case"KeyQ":this._moveState.rollLeft=0;break;case"KeyE":this._moveState.rollRight=0;break}this._updateMovementVector(),this._updateRotationVector()}}function qlt(t){if(this.enabled!==!1)if(this.dragToLook)this._status++;else{switch(t.button){case 0:this._moveState.forward=1;break;case 2:this._moveState.back=1;break}this._updateMovementVector()}}function Wlt(t){if(this.enabled!==!1&&(!this.dragToLook||this._status>0)){const e=this._getContainerDimensions(),n=e.size[0]/2,r=e.size[1]/2;this._moveState.yawLeft=-(t.pageX-e.offset[0]-n)/n,this._moveState.pitchDown=(t.pageY-e.offset[1]-r)/r,this._updateRotationVector()}}function Xlt(t){if(this.enabled!==!1){if(this.dragToLook)this._status--,this._moveState.yawLeft=this._moveState.pitchDown=0;else{switch(t.button){case 0:this._moveState.forward=0;break;case 2:this._moveState.back=0;break}this._updateMovementVector()}this._updateRotationVector()}}function Ylt(){this.enabled!==!1&&(this.dragToLook?(this._status=0,this._moveState.yawLeft=this._moveState.pitchDown=0):(this._moveState.forward=0,this._moveState.back=0,this._updateMovementVector()),this._updateRotationVector())}function Klt(t){this.enabled!==!1&&t.preventDefault()}const Qlt={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class CN{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Zlt=new M1(-1,1,1,-1,0,1);class Jlt extends bi{constructor(){super(),this.setAttribute("position",new li([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new li([0,2,0,0,2,0],2))}}const ect=new Jlt;class tct{constructor(e){this._mesh=new Ai(ect,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Zlt)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class nct extends CN{constructor(e,n="tDiffuse"){super(),this.textureID=n,this.uniforms=null,this.material=null,e instanceof Os?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=RR.clone(e.uniforms),this.material=new Os({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this._fsQuad=new tct(this.material)}render(e,n,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this._fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this._fsQuad.render(e))}dispose(){this.material.dispose(),this._fsQuad.dispose()}}class eK extends CN{constructor(e,n){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,n,r){const i=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let a,s;this.inverse?(a=0,s=1):(a=1,s=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),o.buffers.stencil.setFunc(i.ALWAYS,a,4294967295),o.buffers.stencil.setClear(s),o.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(i.EQUAL,1,4294967295),o.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),o.buffers.stencil.setLocked(!0)}}class rct extends CN{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class ict{constructor(e,n){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),n===void 0){const r=e.getSize(new Wt);this._width=r.width,this._height=r.height,n=new ed(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:io}),n.texture.name="EffectComposer.rt1"}else this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new nct(Qlt),this.copyPass.material.blending=nl,this.clock=new Iae}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,n){this.passes.splice(n,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const n=this.passes.indexOf(e);n!==-1&&this.passes.splice(n,1)}isLastEnabledPass(e){for(let n=e+1;n<this.passes.length;n++)if(this.passes[n].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const n=this.renderer.getRenderTarget();let r=!1;for(let i=0,o=this.passes.length;i<o;i++){const a=this.passes[i];if(a.enabled!==!1){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),a.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),a.needsSwap){if(r){const s=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}eK!==void 0&&(a instanceof eK?r=!0:a instanceof rct&&(r=!1))}}this.renderer.setRenderTarget(n)}reset(e){if(e===void 0){const n=this.renderer.getSize(new Wt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=n.width,this._height=n.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,n){this._width=e,this._height=n;const r=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(r,i),this.renderTarget2.setSize(r,i);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(r,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class oct extends CN{constructor(e,n,r=null,i=null,o=null){super(),this.scene=e,this.camera=n,this.overrideMaterial=r,this.clearColor=i,this.clearAlpha=o,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this.isRenderPass=!0,this._oldClearColor=new Vn}render(e,n,r){const i=e.autoClear;e.autoClear=!1;let o,a;this.overrideMaterial!==null&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(o=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(o),this.overrideMaterial!==null&&(this.scene.overrideMaterial=a),e.autoClear=i}}function B9(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Kv(t,e)}var Yd=function(t){B9(e,t);function e(n){var r;return r=t.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this,jr(r)}return e}(NM(Error));function ND(t){return Math.round(t*255)}function act(t,e,n){return ND(t)+","+ND(e)+","+ND(n)}function R2(t,e,n,r){if(r===void 0&&(r=act),e===0)return r(n,n,n);var i=(t%360+360)%360/60,o=(1-Math.abs(2*n-1))*e,a=o*(1-Math.abs(i%2-1)),s=0,l=0,c=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,c=a):i>=3&&i<4?(l=a,c=o):i>=4&&i<5?(s=a,c=o):i>=5&&i<6&&(s=o,c=a);var u=n-o/2,d=s+u,f=l+u,h=c+u;return r(d,f,h)}var tK={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function sct(t){if(typeof t!="string")return t;var e=t.toLowerCase();return tK[e]?"#"+tK[e]:t}var lct=/^#[a-fA-F0-9]{6}$/,cct=/^#[a-fA-F0-9]{8}$/,uct=/^#[a-fA-F0-9]{3}$/,dct=/^#[a-fA-F0-9]{4}$/,ID=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,fct=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,hct=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,pct=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function vg(t){if(typeof t!="string")throw new Yd(3);var e=sct(t);if(e.match(lct))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(cct)){var n=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:n}}if(e.match(uct))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(dct)){var r=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:r}}var i=ID.exec(e);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=fct.exec(e.substring(0,50));if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])>1?parseFloat(""+o[4])/100:parseFloat(""+o[4])};var a=hct.exec(e);if(a){var s=parseInt(""+a[1],10),l=parseInt(""+a[2],10)/100,c=parseInt(""+a[3],10)/100,u="rgb("+R2(s,l,c)+")",d=ID.exec(u);if(!d)throw new Yd(4,e,u);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10)}}var f=pct.exec(e.substring(0,50));if(f){var h=parseInt(""+f[1],10),p=parseInt(""+f[2],10)/100,_=parseInt(""+f[3],10)/100,x="rgb("+R2(h,p,_)+")",y=ID.exec(x);if(!y)throw new Yd(4,e,x);return{red:parseInt(""+y[1],10),green:parseInt(""+y[2],10),blue:parseInt(""+y[3],10),alpha:parseFloat(""+f[4])>1?parseFloat(""+f[4])/100:parseFloat(""+f[4])}}throw new Yd(5)}function mct(t){var e=t.red/255,n=t.green/255,r=t.blue/255,i=Math.max(e,n,r),o=Math.min(e,n,r),a=(i+o)/2;if(i===o)return t.alpha!==void 0?{hue:0,saturation:0,lightness:a,alpha:t.alpha}:{hue:0,saturation:0,lightness:a};var s,l=i-o,c=a>.5?l/(2-i-o):l/(i+o);switch(i){case e:s=(n-r)/l+(n<r?6:0);break;case n:s=(r-e)/l+2;break;default:s=(e-n)/l+4;break}return s*=60,t.alpha!==void 0?{hue:s,saturation:c,lightness:a,alpha:t.alpha}:{hue:s,saturation:c,lightness:a}}function Tm(t){return mct(vg(t))}var gct=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},G6=gct;function c0(t){var e=t.toString(16);return e.length===1?"0"+e:e}function OD(t){return c0(Math.round(t*255))}function Act(t,e,n){return G6("#"+OD(t)+OD(e)+OD(n))}function H3(t,e,n){return R2(t,e,n,Act)}function vct(t,e,n){if(typeof t=="number"&&typeof e=="number"&&typeof n=="number")return H3(t,e,n);if(typeof t=="object"&&e===void 0&&n===void 0)return H3(t.hue,t.saturation,t.lightness);throw new Yd(1)}function yct(t,e,n,r){if(typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number")return r>=1?H3(t,e,n):"rgba("+R2(t,e,n)+","+r+")";if(typeof t=="object"&&e===void 0&&n===void 0&&r===void 0)return t.alpha>=1?H3(t.hue,t.saturation,t.lightness):"rgba("+R2(t.hue,t.saturation,t.lightness)+","+t.alpha+")";throw new Yd(2)}function H6(t,e,n){if(typeof t=="number"&&typeof e=="number"&&typeof n=="number")return G6("#"+c0(t)+c0(e)+c0(n));if(typeof t=="object"&&e===void 0&&n===void 0)return G6("#"+c0(t.red)+c0(t.green)+c0(t.blue));throw new Yd(6)}function TN(t,e,n,r){if(typeof t=="string"&&typeof e=="number"){var i=vg(t);return"rgba("+i.red+","+i.green+","+i.blue+","+e+")"}else{if(typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number")return r>=1?H6(t,e,n):"rgba("+t+","+e+","+n+","+r+")";if(typeof t=="object"&&e===void 0&&n===void 0&&r===void 0)return t.alpha>=1?H6(t.red,t.green,t.blue):"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"}throw new Yd(7)}var bct=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},xct=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},_ct=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},Sct=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"};function Em(t){if(typeof t!="object")throw new Yd(8);if(xct(t))return TN(t);if(bct(t))return H6(t);if(Sct(t))return yct(t);if(_ct(t))return vct(t);throw new Yd(8)}function vhe(t,e,n){return function(){var i=n.concat(Array.prototype.slice.call(arguments));return i.length>=e?t.apply(this,i):vhe(t,e,i)}}function Sc(t){return vhe(t,t.length,[])}function wct(t,e){if(e==="transparent")return e;var n=Tm(e);return Em(ft({},n,{hue:n.hue+parseFloat(t)}))}Sc(wct);function L1(t,e,n){return Math.max(t,Math.min(e,n))}function Cct(t,e){if(e==="transparent")return e;var n=Tm(e);return Em(ft({},n,{lightness:L1(0,1,n.lightness-parseFloat(t))}))}Sc(Cct);function Tct(t,e){if(e==="transparent")return e;var n=Tm(e);return Em(ft({},n,{saturation:L1(0,1,n.saturation-parseFloat(t))}))}Sc(Tct);function Ect(t,e){if(e==="transparent")return e;var n=Tm(e);return Em(ft({},n,{lightness:L1(0,1,n.lightness+parseFloat(t))}))}Sc(Ect);function Mct(t,e,n){if(e==="transparent")return n;if(n==="transparent")return e;if(t===0)return n;var r=vg(e),i=ft({},r,{alpha:typeof r.alpha=="number"?r.alpha:1}),o=vg(n),a=ft({},o,{alpha:typeof o.alpha=="number"?o.alpha:1}),s=i.alpha-a.alpha,l=parseFloat(t)*2-1,c=l*s===-1?l:l+s,u=1+l*s,d=(c/u+1)/2,f=1-d,h={red:Math.floor(i.red*d+a.red*f),green:Math.floor(i.green*d+a.green*f),blue:Math.floor(i.blue*d+a.blue*f),alpha:i.alpha*parseFloat(t)+a.alpha*(1-parseFloat(t))};return TN(h)}var Pct=Sc(Mct),yhe=Pct;function Rct(t,e){if(e==="transparent")return e;var n=vg(e),r=typeof n.alpha=="number"?n.alpha:1,i=ft({},n,{alpha:L1(0,1,(r*100+parseFloat(t)*100)/100)});return TN(i)}var Nct=Sc(Rct),Ict=Nct;function Oct(t,e){if(e==="transparent")return e;var n=Tm(e);return Em(ft({},n,{saturation:L1(0,1,n.saturation+parseFloat(t))}))}Sc(Oct);function Dct(t,e){return e==="transparent"?e:Em(ft({},Tm(e),{hue:parseFloat(t)}))}Sc(Dct);function Lct(t,e){return e==="transparent"?e:Em(ft({},Tm(e),{lightness:parseFloat(t)}))}Sc(Lct);function Bct(t,e){return e==="transparent"?e:Em(ft({},Tm(e),{saturation:parseFloat(t)}))}Sc(Bct);function Fct(t,e){return e==="transparent"?e:yhe(parseFloat(t),"rgb(0, 0, 0)",e)}Sc(Fct);function $ct(t,e){return e==="transparent"?e:yhe(parseFloat(t),"rgb(255, 255, 255)",e)}Sc($ct);function kct(t,e){if(e==="transparent")return e;var n=vg(e),r=typeof n.alpha=="number"?n.alpha:1,i=ft({},n,{alpha:L1(0,1,+(r*100-parseFloat(t)*100).toFixed(2)/100)});return TN(i)}Sc(kct);var j6="http://www.w3.org/1999/xhtml";const nK={svg:"http://www.w3.org/2000/svg",xhtml:j6,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bhe(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),nK.hasOwnProperty(e)?{space:nK[e],local:t}:t}function Uct(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===j6&&e.documentElement.namespaceURI===j6?e.createElement(t):e.createElementNS(n,t)}}function zct(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function xhe(t){var e=bhe(t);return(e.local?zct:Uct)(e)}function Vct(){}function _he(t){return t==null?Vct:function(){return this.querySelector(t)}}function Gct(t){typeof t!="function"&&(t=_he(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,c,u=0;u<a;++u)(l=o[u])&&(c=t.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new pu(r,this._parents)}function Hct(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function jct(){return[]}function qct(t){return t==null?jct:function(){return this.querySelectorAll(t)}}function Wct(t){return function(){return Hct(t.apply(this,arguments))}}function Xct(t){typeof t=="function"?t=Wct(t):t=qct(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(r.push(t.call(l,l.__data__,c,a)),i.push(l));return new pu(r,i)}function Yct(t){return function(){return this.matches(t)}}function She(t){return function(e){return e.matches(t)}}var Kct=Array.prototype.find;function Qct(t){return function(){return Kct.call(this.children,t)}}function Zct(){return this.firstElementChild}function Jct(t){return this.select(t==null?Zct:Qct(typeof t=="function"?t:She(t)))}var eut=Array.prototype.filter;function tut(){return Array.from(this.children)}function nut(t){return function(){return eut.call(this.children,t)}}function rut(t){return this.selectAll(t==null?tut:nut(typeof t=="function"?t:She(t)))}function iut(t){typeof t!="function"&&(t=Yct(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&s.push(l);return new pu(r,this._parents)}function whe(t){return new Array(t.length)}function out(){return new pu(this._enter||this._groups.map(whe),this._parents)}function j3(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}j3.prototype={constructor:j3,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function aut(t){return function(){return t}}function sut(t,e,n,r,i,o){for(var a=0,s,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new j3(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function lut(t,e,n,r,i,o,a){var s,l,c=new Map,u=e.length,d=o.length,f=new Array(u),h;for(s=0;s<u;++s)(l=e[s])&&(f[s]=h=a.call(l,l.__data__,s,e)+"",c.has(h)?i[s]=l:c.set(h,l));for(s=0;s<d;++s)h=a.call(t,o[s],s,o)+"",(l=c.get(h))?(r[s]=l,l.__data__=o[s],c.delete(h)):n[s]=new j3(t,o[s]);for(s=0;s<u;++s)(l=e[s])&&c.get(f[s])===l&&(i[s]=l)}function cut(t){return t.__data__}function uut(t,e){if(!arguments.length)return Array.from(this,cut);var n=e?lut:sut,r=this._parents,i=this._groups;typeof t!="function"&&(t=aut(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],f=d.length,h=dut(t.call(u,u&&u.__data__,c,r)),p=h.length,_=s[c]=new Array(p),x=a[c]=new Array(p),y=l[c]=new Array(f);n(u,d,_,x,y,h,e);for(var w=0,C=0,M,R;w<p;++w)if(M=_[w]){for(w>=C&&(C=w+1);!(R=x[C])&&++C<p;);M._next=R||null}}return a=new pu(a,r),a._enter=s,a._exit=l,a}function dut(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fut(){return new pu(this._exit||this._groups.map(whe),this._parents)}function hut(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function put(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c=n[l],u=r[l],d=c.length,f=s[l]=new Array(d),h,p=0;p<d;++p)(h=c[p]||u[p])&&(f[p]=h);for(;l<i;++l)s[l]=n[l];return new pu(s,this._parents)}function mut(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function gut(t){t||(t=Aut);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(e)}return new pu(i,this._parents).order()}function Aut(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vut(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function yut(){return Array.from(this)}function but(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function xut(){let t=0;for(const e of this)++t;return t}function _ut(){return!this.node()}function Sut(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function wut(t){return function(){this.removeAttribute(t)}}function Cut(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Tut(t,e){return function(){this.setAttribute(t,e)}}function Eut(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Mut(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Put(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Rut(t,e){var n=bhe(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Cut:wut:typeof e=="function"?n.local?Put:Mut:n.local?Eut:Tut)(n,e))}function Che(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Nut(t){return function(){this.style.removeProperty(t)}}function Iut(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Out(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Dut(t,e,n){return arguments.length>1?this.each((e==null?Nut:typeof e=="function"?Out:Iut)(t,e,n??"")):Lut(this.node(),t)}function Lut(t,e){return t.style.getPropertyValue(e)||Che(t).getComputedStyle(t,null).getPropertyValue(e)}function But(t){return function(){delete this[t]}}function Fut(t,e){return function(){this[t]=e}}function $ut(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function kut(t,e){return arguments.length>1?this.each((e==null?But:typeof e=="function"?$ut:Fut)(t,e)):this.node()[t]}function The(t){return t.trim().split(/^|\s+/)}function F9(t){return t.classList||new Ehe(t)}function Ehe(t){this._node=t,this._names=The(t.getAttribute("class")||"")}Ehe.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Mhe(t,e){for(var n=F9(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Phe(t,e){for(var n=F9(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Uut(t){return function(){Mhe(this,t)}}function zut(t){return function(){Phe(this,t)}}function Vut(t,e){return function(){(e.apply(this,arguments)?Mhe:Phe)(this,t)}}function Gut(t,e){var n=The(t+"");if(arguments.length<2){for(var r=F9(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Vut:e?Uut:zut)(n,e))}function Hut(){this.textContent=""}function jut(t){return function(){this.textContent=t}}function qut(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Wut(t){return arguments.length?this.each(t==null?Hut:(typeof t=="function"?qut:jut)(t)):this.node().textContent}function Xut(){this.innerHTML=""}function Yut(t){return function(){this.innerHTML=t}}function Kut(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Qut(t){return arguments.length?this.each(t==null?Xut:(typeof t=="function"?Kut:Yut)(t)):this.node().innerHTML}function Zut(){this.nextSibling&&this.parentNode.appendChild(this)}function Jut(){return this.each(Zut)}function edt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tdt(){return this.each(edt)}function ndt(t){var e=typeof t=="function"?t:xhe(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function rdt(){return null}function idt(t,e){var n=typeof t=="function"?t:xhe(t),r=e==null?rdt:typeof e=="function"?e:_he(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function odt(){var t=this.parentNode;t&&t.removeChild(this)}function adt(){return this.each(odt)}function sdt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ldt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function cdt(t){return this.select(t?ldt:sdt)}function udt(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ddt(t){return function(e){t.call(this,e,this.__data__)}}function fdt(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function hdt(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function pdt(t,e,n){return function(){var r=this.__on,i,o=ddt(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function mdt(t,e,n){var r=fdt(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=e?pdt:hdt,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Rhe(t,e,n){var r=Che(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function gdt(t,e){return function(){return Rhe(this,t,e)}}function Adt(t,e){return function(){return Rhe(this,t,e.apply(this,arguments))}}function vdt(t,e){return this.each((typeof e=="function"?Adt:gdt)(t,e))}function*ydt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var bdt=[null];function pu(t,e){this._groups=t,this._parents=e}function xdt(){return this}pu.prototype={constructor:pu,select:Gct,selectAll:Xct,selectChild:Jct,selectChildren:rut,filter:iut,data:uut,enter:out,exit:fut,join:hut,merge:put,selection:xdt,order:mut,sort:gut,call:vut,nodes:yut,node:but,size:xut,empty:_ut,each:Sut,attr:Rut,style:Dut,property:kut,classed:Gut,text:Wut,html:Qut,raise:Jut,lower:tdt,append:ndt,insert:idt,remove:adt,clone:cdt,datum:udt,on:mdt,dispatch:vdt,[Symbol.iterator]:ydt};function _dt(t){return typeof t=="string"?new pu([[document.querySelector(t)]],[document.documentElement]):new pu([[t]],bdt)}function Sdt(t){let e;for(;e=t.sourceEvent;)t=e;return t}function wdt(t,e){if(t=Sdt(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var LS,_o,Nhe,Ihe,b0,rK,Ohe,Dhe,Lhe,$9,q6,W6,N2={},Bhe=[],Cdt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,EN=Array.isArray;function Kd(t,e){for(var n in e)t[n]=e[n];return t}function k9(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Tdt(t,e,n){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?LS.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return o_(t,a,r,i,null)}function o_(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Nhe,__i:-1,__u:0};return i==null&&_o.vnode!=null&&_o.vnode(o),o}function MN(t){return t.children}function zE(t,e){this.props=t,this.context=e}function Ky(t,e){if(e==null)return t.__?Ky(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Ky(t):null}function Fhe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Fhe(t)}}function iK(t){(!t.__d&&(t.__d=!0)&&b0.push(t)&&!q3.__r++||rK!=_o.debounceRendering)&&((rK=_o.debounceRendering)||Ohe)(q3)}function q3(){for(var t,e,n,r,i,o,a,s=1;b0.length;)b0.length>s&&b0.sort(Dhe),t=b0.shift(),s=b0.length,t.__d&&(n=void 0,r=void 0,i=(r=(e=t).__v).__e,o=[],a=[],e.__P&&((n=Kd({},r)).__v=r.__v+1,_o.vnode&&_o.vnode(n),U9(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,o,i??Ky(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,Uhe(o,n,a),r.__e=r.__=null,n.__e!=i&&Fhe(n)));q3.__r=0}function $he(t,e,n,r,i,o,a,s,l,c,u){var d,f,h,p,_,x,y,w=r&&r.__k||Bhe,C=e.length;for(l=Edt(n,e,w,l,C),d=0;d<C;d++)(h=n.__k[d])!=null&&(f=h.__i==-1?N2:w[h.__i]||N2,h.__i=d,x=U9(t,h,f,i,o,a,s,l,c,u),p=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&z9(f.ref,null,h),u.push(h.ref,h.__c||p,h)),_==null&&p!=null&&(_=p),(y=!!(4&h.__u))||f.__k===h.__k?l=khe(h,l,t,y):typeof h.type=="function"&&x!==void 0?l=x:p&&(l=p.nextSibling),h.__u&=-7);return n.__e=_,l}function Edt(t,e,n,r,i){var o,a,s,l,c,u=n.length,d=u,f=0;for(t.__k=new Array(i),o=0;o<i;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=t.__k[o]=o_(null,a,null,null,null):EN(a)?a=t.__k[o]=o_(MN,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?a=t.__k[o]=o_(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):t.__k[o]=a,l=o+f,a.__=t,a.__b=t.__b+1,s=null,(c=a.__i=Mdt(a,n,l,d))!=-1&&(d--,(s=n[c])&&(s.__u|=2)),s==null||s.__v==null?(c==-1&&(i>u?f--:i<u&&f++),typeof a.type!="function"&&(a.__u|=4)):c!=l&&(c==l-1?f--:c==l+1?f++:(c>l?f--:f++,a.__u|=4))):t.__k[o]=null;if(d)for(o=0;o<u;o++)(s=n[o])!=null&&!(2&s.__u)&&(s.__e==r&&(r=Ky(s)),Vhe(s,s));return r}function khe(t,e,n,r){var i,o;if(typeof t.type=="function"){for(i=t.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=t,e=khe(i[o],e,n,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=Ky(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Mdt(t,e,n,r){var i,o,a,s=t.key,l=t.type,c=e[n],u=c!=null&&(2&c.__u)==0;if(c===null&&s==null||u&&s==c.key&&l==c.type)return n;if(r>(u?1:0)){for(i=n-1,o=n+1;i>=0||o<e.length;)if((c=e[a=i>=0?i--:o++])!=null&&!(2&c.__u)&&s==c.key&&l==c.type)return a}return-1}function oK(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Cdt.test(e)?n:n+"px"}function zT(t,e,n,r,i){var o,a;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||oK(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||oK(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(Lhe,"$1")),a=e.toLowerCase(),e=a in t||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r?n.u=r.u:(n.u=$9,t.addEventListener(e,o?W6:q6,o)):t.removeEventListener(e,o?W6:q6,o);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function aK(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=$9++;else if(e.t<n.u)return;return n(_o.event?_o.event(e):e)}}}function U9(t,e,n,r,i,o,a,s,l,c){var u,d,f,h,p,_,x,y,w,C,M,R,N,I,B,D,$,z=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),o=[s=e.__e=n.__e]),(u=_o.__b)&&u(e);e:if(typeof z=="function")try{if(y=e.props,w="prototype"in z&&z.prototype.render,C=(u=z.contextType)&&r[u.__c],M=u?C?C.props.value:u.__:r,n.__c?x=(d=e.__c=n.__c).__=d.__E:(w?e.__c=d=new z(y,M):(e.__c=d=new zE(y,M),d.constructor=z,d.render=Rdt),C&&C.sub(d),d.state||(d.state={}),d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),w&&d.__s==null&&(d.__s=d.state),w&&z.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Kd({},d.__s)),Kd(d.__s,z.getDerivedStateFromProps(y,d.__s))),h=d.props,p=d.state,d.__v=e,f)w&&z.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),w&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(w&&z.getDerivedStateFromProps==null&&y!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(y,M),e.__v==n.__v||!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(y,d.__s,M)===!1){for(e.__v!=n.__v&&(d.props=y,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(V){V&&(V.__=e)}),R=0;R<d._sb.length;R++)d.__h.push(d._sb[R]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(y,d.__s,M),w&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,p,_)})}if(d.context=M,d.props=y,d.__P=t,d.__e=!1,N=_o.__r,I=0,w){for(d.state=d.__s,d.__d=!1,N&&N(e),u=d.render(d.props,d.state,d.context),B=0;B<d._sb.length;B++)d.__h.push(d._sb[B]);d._sb=[]}else do d.__d=!1,N&&N(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++I<25);d.state=d.__s,d.getChildContext!=null&&(r=Kd(Kd({},r),d.getChildContext())),w&&!f&&d.getSnapshotBeforeUpdate!=null&&(_=d.getSnapshotBeforeUpdate(h,p)),D=u,u!=null&&u.type===MN&&u.key==null&&(D=zhe(u.props.children)),s=$he(t,EN(D)?D:[D],e,n,r,i,o,a,s,l,c),d.base=e.__e,e.__u&=-161,d.__h.length&&a.push(d),x&&(d.__E=d.__=null)}catch(V){if(e.__v=null,l||o!=null)if(V.then){for(e.__u|=l?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;o[o.indexOf(s)]=null,e.__e=s}else{for($=o.length;$--;)k9(o[$]);X6(e)}else e.__e=n.__e,e.__k=n.__k,V.then||X6(e);_o.__e(V,e,n)}else o==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):s=e.__e=Pdt(n.__e,e,n,r,i,o,a,l,c);return(u=_o.diffed)&&u(e),128&e.__u?void 0:s}function X6(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(X6)}function Uhe(t,e,n){for(var r=0;r<n.length;r++)z9(n[r],n[++r],n[++r]);_o.__c&&_o.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(o){o.call(i)})}catch(o){_o.__e(o,i.__v)}})}function zhe(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:EN(t)?t.map(zhe):Kd({},t)}function Pdt(t,e,n,r,i,o,a,s,l){var c,u,d,f,h,p,_,x=n.props||N2,y=e.props,w=e.type;if(w=="svg"?i="http://www.w3.org/2000/svg":w=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(c=0;c<o.length;c++)if((h=o[c])&&"setAttribute"in h==!!w&&(w?h.localName==w:h.nodeType==3)){t=h,o[c]=null;break}}if(t==null){if(w==null)return document.createTextNode(y);t=document.createElementNS(i,w,y.is&&y),s&&(_o.__m&&_o.__m(e,o),s=!1),o=null}if(w==null)x===y||s&&t.data==y||(t.data=y);else{if(o=o&&LS.call(t.childNodes),!s&&o!=null)for(x={},c=0;c<t.attributes.length;c++)x[(h=t.attributes[c]).name]=h.value;for(c in x)if(h=x[c],c!="children"){if(c=="dangerouslySetInnerHTML")d=h;else if(!(c in y)){if(c=="value"&&"defaultValue"in y||c=="checked"&&"defaultChecked"in y)continue;zT(t,c,null,h,i)}}for(c in y)h=y[c],c=="children"?f=h:c=="dangerouslySetInnerHTML"?u=h:c=="value"?p=h:c=="checked"?_=h:s&&typeof h!="function"||x[c]===h||zT(t,c,h,x[c],i);if(u)s||d&&(u.__html==d.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(d&&(t.innerHTML=""),$he(e.type=="template"?t.content:t,EN(f)?f:[f],e,n,r,w=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:n.__k&&Ky(n,0),s,l),o!=null)for(c=o.length;c--;)k9(o[c]);s||(c="value",w=="progress"&&p==null?t.removeAttribute("value"):p!=null&&(p!==t[c]||w=="progress"&&!p||w=="option"&&p!=x[c])&&zT(t,c,p,x[c],i),c="checked",_!=null&&_!=t[c]&&zT(t,c,_,x[c],i))}return t}function z9(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){_o.__e(i,n)}}function Vhe(t,e,n){var r,i;if(_o.unmount&&_o.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||z9(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){_o.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Vhe(r[i],e,n||typeof t.type!="function");n||k9(t.__e),t.__c=t.__=t.__e=void 0}function Rdt(t,e,n){return this.constructor(t,n)}function Ndt(t,e,n){var r,i,o,a;e==document&&(e=document.documentElement),_o.__&&_o.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],a=[],U9(e,t=(!r&&n||e).__k=Tdt(MN,null,[t]),i||N2,N2,e.namespaceURI,!r&&n?[n]:i?null:e.firstChild?LS.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r,a),Uhe(o,t,a)}function Ghe(t,e,n){var r,i,o,a,s=Kd({},t.props);for(o in t.type&&t.type.defaultProps&&(a=t.type.defaultProps),e)o=="key"?r=e[o]:o=="ref"?i=e[o]:s[o]=e[o]===void 0&&a!=null?a[o]:e[o];return arguments.length>2&&(s.children=arguments.length>3?LS.call(arguments,2):n),o_(t.type,s,r||t.key,i||t.ref,null)}LS=Bhe.slice,_o={__e:function(t,e,n,r){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(s){t=s}throw t}},Nhe=0,Ihe=function(t){return t!=null&&t.constructor===void 0},zE.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Kd({},this.state),typeof t=="function"&&(t=t(Kd({},n),this.props)),t&&Kd(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),iK(this))},zE.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),iK(this))},zE.prototype.render=MN,b0=[],Ohe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Dhe=function(t,e){return t.__v.__b-e.__v.__b},q3.__r=0,Lhe=/(PointerCapture)$|Capture$/i,$9=0,q6=aK(!1),W6=aK(!0);function sK(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Idt(t){if(Array.isArray(t))return t}function Odt(t,e,n){return(e=kdt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ddt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Ldt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bdt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lK(Object(n),!0).forEach(function(r){Odt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fdt(t,e){return Idt(t)||Ddt(t,e)||Udt(t,e)||Ldt()}function $dt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kdt(t){var e=$dt(t,"string");return typeof e=="symbol"?e:e+""}function W3(t){"@babel/helpers - typeof";return W3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W3(t)}function Udt(t,e){if(t){if(typeof t=="string")return sK(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sK(t,e):void 0}}var Y6=function(e){if(W3(e)!=="object")return e;var n=Ghe(e);if(n.props){var r;n.props=Bdt({},n.props),n!=null&&(r=n.props)!==null&&r!==void 0&&r.children&&(n.props.children=Array.isArray(n.props.children)?n.props.children.map(Y6):Y6(n.props.children))}return n},zdt=function(e){return Ihe(Ghe(e))},Vdt=function(e,n){delete n.__k,Ndt(Y6(e),n)};function Gdt(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var Hdt=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Gdt(Hdt);var jdt=xa({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.style,o=i===void 0?{}:i,a=!!e&&W3(e)==="object"&&!!e.node&&typeof e.node=="function",s=_dt(a?e.node():e);s.style("position")==="static"&&s.style("position","relative"),n.tooltipEl=s.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(c){var u=Fdt(c,2),d=u[0],f=u[1];return n.tooltipEl.style(d,f)}),n.tooltipEl.style("left","-10000px").style("display","none");var l="tooltip-".concat(Math.round(Math.random()*1e12));n.mouseInside=!1,s.on("mousemove.".concat(l),function(c){n.mouseInside=!0;var u=wdt(c),d=s.node(),f=d.offsetWidth,h=d.offsetHeight,p=[n.offsetX===null||n.offsetX===void 0?"-".concat(u[0]/f*100,"%"):typeof n.offsetX=="number"?"calc(-50% + ".concat(n.offsetX,"px)"):n.offsetX,n.offsetY===null||n.offsetY===void 0?h>130&&h-u[1]<100?"calc(-100% - 6px)":"21px":typeof n.offsetY=="number"?n.offsetY<0?"calc(-100% - ".concat(Math.abs(n.offsetY),"px)"):"".concat(n.offsetY,"px"):n.offsetY];n.tooltipEl.style("left",u[0]+"px").style("top",u[1]+"px").style("transform","translate(".concat(p.join(","),")")),n.content&&n.tooltipEl.style("display","inline")}),s.on("mouseover.".concat(l),function(){n.mouseInside=!0,n.content&&n.tooltipEl.style("display","inline")}),s.on("mouseout.".concat(l),function(){n.mouseInside=!1,n.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):zdt(e.content)?(e.tooltipEl.text(""),Vdt(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function qdt(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var Wdt=`.scene-nav-info {
  position: absolute;
  bottom: 5px;
  width: 100%;
  text-align: center;
  color: slategrey;
  opacity: 0.7;
  font-size: 10px;
  font-family: sans-serif;
  pointer-events: none;
  user-select: none;
}

.scene-container canvas:focus {
  outline: none;
}`;qdt(Wdt);function K6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Xdt(t){if(Array.isArray(t))return t}function Ydt(t){if(Array.isArray(t))return K6(t)}function Kdt(t,e,n){return(e=rft(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qdt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zdt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Jdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tft(t,e){return Xdt(t)||Zdt(t,e)||Hhe(t,e)||Jdt()}function n0(t){return Ydt(t)||Qdt(t)||Hhe(t)||eft()}function nft(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rft(t){var e=nft(t,"string");return typeof e=="symbol"?e:e+""}function Hhe(t,e){if(t){if(typeof t=="string")return K6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K6(t,e):void 0}}var vo=window.THREE?window.THREE:{WebGLRenderer:Tze,Scene:NR,PerspectiveCamera:Oa,Raycaster:T$e,SRGBColorSpace:Za,TextureLoader:P7,Vector2:Wt,Vector3:Te,Box3:Eh,Color:Vn,Mesh:Ai,SphereGeometry:xf,MeshBasicMaterial:jc,BackSide:Oi,Clock:Iae},jhe=xa({props:{width:{default:window.innerWidth,onChange:function(e,n,r){isNaN(e)&&(n.width=r)}},height:{default:window.innerHeight,onChange:function(e,n,r){isNaN(e)&&(n.height=r)}},viewOffset:{default:[0,0]},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},lights:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,n){n.hoverObj=null,n.tooltip&&n.tooltip.content(null)},triggerUpdate:!1},pointerRaycasterThrottleMs:{default:50,triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},pointsHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){e.controls.enabled&&e.controls.update&&e.controls.update(Math.min(1,e.clock.getDelta())),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.extraRenderers.forEach(function(a){return a.render(e.scene,e.camera)});var n=+new Date;if(e.enablePointerInteraction&&n-e.lastRaycasterCheck>=e.pointerRaycasterThrottleMs){e.lastRaycasterCheck=n;var r=null;if(e.hoverDuringDrag||!e.isPointerDragging){var i=this.intersectingObjects(e.pointerPos.x,e.pointerPos.y);e.hoverOrderComparator&&i.sort(function(a,s){return e.hoverOrderComparator(a.object,s.object)});var o=i.find(function(a){return e.hoverFilter(a.object)})||null;r=o?o.object:null,e.intersection=o||null}r!==e.hoverObj&&(e.onHover(r,e.hoverObj,e.intersection),e.tooltip.content(r&&nn(e.tooltipContent)(r,e.intersection)||null),e.hoverObj=r)}e.tweenGroup.update()}return this},getPointerPos:function(e){var n=e.pointerPos,r=n.x,i=n.y;return{x:r,y:i}},cameraPosition:function(e,n,r,i){var o=e.camera;if(n&&e.initialised){var a=n,s=r||{x:0,y:0,z:0};if(!i)u(a),d(s);else{var l=Object.assign({},o.position),c=f();e.tweenGroup.add(new Ds(l).to(a,i).easing(ca.Quadratic.Out).onUpdate(u).start()),e.tweenGroup.add(new Ds(c).to(s,i/3).easing(ca.Quadratic.Out).onUpdate(d).start())}return this}return Object.assign({},o.position,{lookAt:f()});function u(h){var p=h.x,_=h.y,x=h.z;p!==void 0&&(o.position.x=p),_!==void 0&&(o.position.y=_),x!==void 0&&(o.position.z=x)}function d(h){var p=new vo.Vector3(h.x,h.y,h.z);e.controls.enabled&&e.controls.target?e.controls.target=p:o.lookAt(p)}function f(){return Object.assign(new vo.Vector3(0,0,-1e3).applyQuaternion(o.quaternion).add(o.position))}},zoomToFit:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return this.fitToBbox(this.getBbox.apply(this,o),n,r)},fitToBbox:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10,o=e.camera;if(n){var a=new vo.Vector3(0,0,0),s=Math.max.apply(Math,n0(Object.entries(n).map(function(h){var p=tft(h,2),_=p[0],x=p[1];return Math.max.apply(Math,n0(x.map(function(y){return Math.abs(a[_]-y)})))})))*2,l=(1-i*2/e.height)*o.fov,c=s/Math.atan(l*Math.PI/180),u=c/o.aspect,d=Math.max(c,u);if(d>0){var f=a.clone().sub(o.position).normalize().multiplyScalar(-d);this.cameraPosition(f,a,r)}}return this},getBbox:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},r=new vo.Box3(new vo.Vector3(0,0,0),new vo.Vector3(0,0,0)),i=e.objects.filter(n);return i.length?(i.forEach(function(o){return r.expandByObject(o)}),Object.assign.apply(Object,n0(["x","y","z"].map(function(o){return Kdt({},o,[r.min[o],r.max[o]])})))):null},getScreenCoords:function(e,n,r,i){var o=new vo.Vector3(n,r,i);return o.project(this.camera()),{x:(o.x+1)*e.width/2,y:-(o.y-1)*e.height/2}},getSceneCoords:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=new vo.Vector2(n/e.width*2-1,-(r/e.height)*2+1),a=new vo.Raycaster;return a.setFromCamera(o,e.camera),Object.assign({},a.ray.at(i,new vo.Vector3))},intersectingObjects:function(e,n,r){var i=new vo.Vector2(n/e.width*2-1,-(r/e.height)*2+1),o=new vo.Raycaster;return o.params.Line.threshold=e.lineHoverPrecision,o.params.Points.threshold=e.pointsHoverPrecision,o.setFromCamera(i,e.camera),o.intersectObjects(e.objects,!0)},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new vo.Scene,camera:new vo.PerspectiveCamera,clock:new vo.Clock,tweenGroup:new $R,lastRaycasterCheck:0}},init:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.controlType,o=i===void 0?"trackball":i,a=r.useWebGPU,s=a===void 0?!1:a,l=r.rendererConfig,c=l===void 0?{}:l,u=r.extraRenderers,d=u===void 0?[]:u,f=r.waitForLoadComplete,h=f===void 0?!0:f;e.innerHTML="",e.appendChild(n.container=document.createElement("div")),n.container.className="scene-container",n.container.style.position="relative",n.container.appendChild(n.navInfo=document.createElement("div")),n.navInfo.className="scene-nav-info",n.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[o]||"",n.navInfo.style.display=n.showNavInfo?null:"none",n.tooltip=new jdt(n.container),n.pointerPos=new vo.Vector2,n.pointerPos.x=-2,n.pointerPos.y=-2,["pointermove","pointerdown"].forEach(function(p){return n.container.addEventListener(p,function(_){if(p==="pointerdown"&&(n.isPointerPressed=!0),!n.isPointerDragging&&_.type==="pointermove"&&(_.pressure>0||n.isPointerPressed)&&(_.pointerType==="mouse"||_.movementX===void 0||[_.movementX,_.movementY].some(function(w){return Math.abs(w)>1}))&&(n.isPointerDragging=!0),n.enablePointerInteraction){var x=y(n.container);n.pointerPos.x=_.pageX-x.left,n.pointerPos.y=_.pageY-x.top}function y(w){var C=w.getBoundingClientRect(),M=window.pageXOffset||document.documentElement.scrollLeft,R=window.pageYOffset||document.documentElement.scrollTop;return{top:C.top+R,left:C.left+M}}},{passive:!0})}),n.container.addEventListener("pointerup",function(p){n.isPointerPressed&&(n.isPointerPressed=!1,!(n.isPointerDragging&&(n.isPointerDragging=!1,!n.clickAfterDrag))&&requestAnimationFrame(function(){p.button===0&&n.onClick(n.hoverObj||null,p,n.intersection),p.button===2&&n.onRightClick&&n.onRightClick(n.hoverObj||null,p,n.intersection)}))},{passive:!0,capture:!0}),n.container.addEventListener("contextmenu",function(p){n.onRightClick&&p.preventDefault()}),n.renderer=new(s?Hfe:vo.WebGLRenderer)(Object.assign({antialias:!0,alpha:!0},c)),n.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),n.container.appendChild(n.renderer.domElement),n.extraRenderers=d,n.extraRenderers.forEach(function(p){p.domElement.style.position="absolute",p.domElement.style.top="0px",p.domElement.style.pointerEvents="none",n.container.appendChild(p.domElement)}),n.postProcessingComposer=new ict(n.renderer),n.postProcessingComposer.addPass(new oct(n.scene,n.camera)),n.controls=new{trackball:hlt,orbit:Plt,fly:Glt}[o](n.camera,n.renderer.domElement),o==="fly"&&(n.controls.movementSpeed=300,n.controls.rollSpeed=Math.PI/6,n.controls.dragToLook=!0),(o==="trackball"||o==="orbit")&&(n.controls.minDistance=.1,n.controls.maxDistance=n.skyRadius,n.controls.addEventListener("start",function(){n.controlsEngaged=!0}),n.controls.addEventListener("change",function(){n.controlsEngaged&&(n.controlsDragging=!0)}),n.controls.addEventListener("end",function(){n.controlsEngaged=!1,n.controlsDragging=!1})),[n.renderer,n.postProcessingComposer].concat(n0(n.extraRenderers)).forEach(function(p){return p.setSize(n.width,n.height)}),n.camera.aspect=n.width/n.height,n.camera.updateProjectionMatrix(),n.camera.position.z=1e3,n.scene.add(n.skysphere=new vo.Mesh),n.skysphere.visible=!1,n.loadComplete=n.scene.visible=!h,window.scene=n.scene},update:function(e,n){if(e.width&&e.height&&(n.hasOwnProperty("width")||n.hasOwnProperty("height"))){var r,i=e.width,o=e.height;e.container.style.width="".concat(i,"px"),e.container.style.height="".concat(o,"px"),[e.renderer,e.postProcessingComposer].concat(n0(e.extraRenderers)).forEach(function(h){return h.setSize(i,o)}),e.camera.aspect=i/o;var a=e.viewOffset.slice(0,2);a.some(function(h){return h})&&(r=e.camera).setViewOffset.apply(r,[i,o].concat(n0(a),[i,o])),e.camera.updateProjectionMatrix()}if(n.hasOwnProperty("viewOffset")){var s,l=e.width,c=e.height,u=e.viewOffset.slice(0,2);u.some(function(h){return h})?(s=e.camera).setViewOffset.apply(s,[l,c].concat(n0(u),[l,c])):e.camera.clearViewOffset()}if(n.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&n.skyRadius&&(e.controls.maxDistance=Math.min(e.controls.maxDistance,e.skyRadius)),e.camera.far=e.skyRadius*2.5,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new vo.SphereGeometry(e.skyRadius)),n.hasOwnProperty("backgroundColor")){var d=vg(e.backgroundColor).alpha;d===void 0&&(d=1),e.renderer.setClearColor(new vo.Color(Ict(1,e.backgroundColor)),d)}n.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?new vo.TextureLoader().load(e.backgroundImageUrl,function(h){h.colorSpace=vo.SRGBColorSpace,e.skysphere.material=new vo.MeshBasicMaterial({map:h,side:vo.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&f()}):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&f())),n.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),n.hasOwnProperty("lights")&&((n.lights||[]).forEach(function(h){return e.scene.remove(h)}),e.lights.forEach(function(h){return e.scene.add(h)})),n.hasOwnProperty("objects")&&((n.objects||[]).forEach(function(h){return e.scene.remove(h)}),e.objects.forEach(function(h){return e.scene.add(h)}));function f(){e.loadComplete=e.scene.visible=!0}}});function ift(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var oft=`.scene-container .clickable {
  cursor: pointer;
}`;ift(oft);function Q6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function aft(t){if(Array.isArray(t))return Q6(t)}function BS(t,e,n){return(e=fft(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sft(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cK(Object(n),!0).forEach(function(r){BS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cft(t,e){if(t==null)return{};var n,r,i=uft(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uft(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function PN(t){return aft(t)||sft(t)||hft(t)||lft()}function dft(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fft(t){var e=dft(t,"string");return typeof e=="symbol"?e:e+""}function hft(t,e){if(t){if(typeof t=="string")return Q6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q6(t,e):void 0}}function qhe(t,e){var n=new e;return n._destructor&&n._destructor(),{linkProp:function(i){return{default:n[i](),onChange:function(a,s){s[t][i](a)},triggerUpdate:!1}},linkMethod:function(i){return function(o){for(var a=o[t],s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];var u=a[i].apply(a,l);return u===a?this:u}}}}var pft=["rendererConfig","waitForGlobeReady"],tx=x0(x0({},window.THREE?window.THREE:{AmbientLight:Rae,DirectionalLight:Pae,Vector2:Wt,REVISION:Pg}),{},{CSS2DRenderer:Mze}),Whe=qhe("globe",ghe),mft=Object.assign.apply(Object,PN(["globeImageUrl","bumpImageUrl","globeTileEngineUrl","globeTileEngineMaxLevel","globeCurvatureResolution","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude","onGlobeReady","pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration","arcsData","arcStartLat","arcStartLng","arcStartAltitude","arcEndLat","arcEndLng","arcEndAltitude","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration","polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration","pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration","heatmapsData","heatmapPoints","heatmapPointLat","heatmapPointLng","heatmapPointWeight","heatmapBandwidth","heatmapColorFn","heatmapColorSaturation","heatmapBaseAltitude","heatmapTopAltitude","heatmapsTransitionDuration","hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration","hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonUseDots","hexPolygonCurvatureResolution","hexPolygonDotResolution","hexPolygonsTransitionDuration","tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration","particlesData","particlesList","particleLat","particleLng","particleAltitude","particlesSize","particlesSizeAttenuation","particlesColor","particlesTexture","ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod","labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration","htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlElementVisibilityModifier","htmlTransitionDuration","objectsData","objectLat","objectLng","objectAltitude","objectRotation","objectFacesSurface","objectThreeObject","customLayerData","customThreeObject","customThreeObjectUpdate"].map(function(t){return BS({},t,Whe.linkProp(t))}))),gft=Object.assign.apply(Object,PN(["globeMaterial","globeTileEngineClearCache","getGlobeRadius","getCoords","toGeoCoords"].map(function(t){return BS({},t,Whe.linkMethod(t))}))),Xhe=qhe("renderObjs",jhe),Aft=Object.assign.apply(Object,PN(["width","height","backgroundColor","backgroundImageUrl","enablePointerInteraction"].map(function(t){return BS({},t,Xhe.linkProp(t))}))),vft=Object.assign.apply(Object,PN(["lights","postProcessingComposer"].map(function(t){return BS({},t,Xhe.linkMethod(t))}))),yft=xa({props:x0(x0({onZoom:{triggerUpdate:!1},onGlobeClick:{triggerUpdate:!1},onGlobeRightClick:{triggerUpdate:!1},pointLabel:{default:"name",triggerUpdate:!1},onPointClick:{triggerUpdate:!1},onPointRightClick:{triggerUpdate:!1},onPointHover:{triggerUpdate:!1},arcLabel:{default:"name",triggerUpdate:!1},onArcClick:{triggerUpdate:!1},onArcRightClick:{triggerUpdate:!1},onArcHover:{triggerUpdate:!1},polygonLabel:{default:"name",triggerUpdate:!1},onPolygonClick:{triggerUpdate:!1},onPolygonRightClick:{triggerUpdate:!1},onPolygonHover:{triggerUpdate:!1},pathLabel:{default:"name",triggerUpdate:!1},onPathClick:{triggerUpdate:!1},onPathRightClick:{triggerUpdate:!1},onPathHover:{triggerUpdate:!1},onHeatmapClick:{triggerUpdate:!1},onHeatmapRightClick:{triggerUpdate:!1},onHeatmapHover:{triggerUpdate:!1},hexLabel:{triggerUpdate:!1},onHexClick:{triggerUpdate:!1},onHexRightClick:{triggerUpdate:!1},onHexHover:{triggerUpdate:!1},hexPolygonLabel:{triggerUpdate:!1},onHexPolygonClick:{triggerUpdate:!1},onHexPolygonRightClick:{triggerUpdate:!1},onHexPolygonHover:{triggerUpdate:!1},tileLabel:{default:"name",triggerUpdate:!1},onTileClick:{triggerUpdate:!1},onTileRightClick:{triggerUpdate:!1},onTileHover:{triggerUpdate:!1},particleLabel:{default:"name",triggerUpdate:!1},onParticleClick:{triggerUpdate:!1},onParticleRightClick:{triggerUpdate:!1},onParticleHover:{triggerUpdate:!1},labelLabel:{triggerUpdate:!1},onLabelClick:{triggerUpdate:!1},onLabelRightClick:{triggerUpdate:!1},onLabelHover:{triggerUpdate:!1},objectLabel:{default:"name",triggerUpdate:!1},onObjectClick:{triggerUpdate:!1},onObjectRightClick:{triggerUpdate:!1},onObjectHover:{triggerUpdate:!1},customLayerLabel:{default:"name",triggerUpdate:!1},onCustomLayerClick:{triggerUpdate:!1},onCustomLayerRightClick:{triggerUpdate:!1},onCustomLayerHover:{triggerUpdate:!1},pointerEventsFilter:{default:function(){return!0},triggerUpdate:!1},lineHoverPrecision:{default:.2,triggerUpdate:!1,onChange:function(e,n){n.renderObjs.lineHoverPrecision(e),n.renderObjs.pointsHoverPrecision(e)}},showPointerCursor:{default:!0,triggerUpdate:!1},globeOffset:{default:[0,0],triggerUpdate:!1,onChange:function(e,n){return Array.isArray(e)&&e.length===2&&n.renderObjs.viewOffset(e.map(function(r){return-r}))}}},mft),Aft),methods:x0(x0({pauseAnimation:function(e){var n;return e.animationFrameRequestId!==null&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),(n=e.globe)===null||n===void 0||n.pauseAnimation(),this},resumeAnimation:function(e){var n;return e.animationFrameRequestId===null&&this._animationCycle(),(n=e.globe)===null||n===void 0||n.resumeAnimation(),this},_animationCycle:function(e){e.renderObjs.tick(),e.tweenGroup.update(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},pointOfView:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=a();if(n.lat===void 0&&n.lng===void 0&&n.altitude===void 0)return i;var o=Object.assign({},i,n);if(["lat","lng","altitude"].forEach(function(l){return o[l]=+o[l]}),!r)s(o);else{for(;i.lng-o.lng>180;)i.lng-=360;for(;i.lng-o.lng<-180;)i.lng+=360;e.tweenGroup.add(new Ds(i).to(o,r).easing(ca.Cubic.InOut).onUpdate(s).start())}return this;function a(){return e.globe.toGeoCoords(e.renderObjs.cameraPosition())}function s(l){var c=l.lat,u=l.lng,d=l.altitude;e.renderObjs.cameraPosition(e.globe.getCoords(c,u,d)),e.globe.setPointOfView(e.renderObjs.camera())}},getScreenCoords:function(e){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=(n=e.globe).getCoords.apply(n,i);return e.renderObjs.getScreenCoords(a.x,a.y,a.z)},toGlobeCoords:function(e,n,r){var i=e.renderObjs.intersectingObjects(n,r).find(function(l){return(l.object.__globeObjType||l.object.parent.__globeObjType)==="globe"});if(!i)return null;var o=e.globe.toGeoCoords(i.point),a=o.lat,s=o.lng;return{lat:a,lng:s}},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},_destructor:function(e){e.globe._destructor(),this.pauseAnimation(),this.pointsData([]),this.arcsData([]),this.polygonsData([]),this.pathsData([]),this.heatmapsData([]),this.hexBinPointsData([]),this.hexPolygonsData([]),this.tilesData([]),this.particlesData([]),this.labelsData([]),this.htmlElementsData([]),this.objectsData([]),this.customLayerData([])}},gft),vft),stateInit:function(e){var n=e.rendererConfig,r=e.waitForGlobeReady,i=r===void 0?!0:r,o=cft(e,pft),a=new ghe(x0({waitForGlobeReady:i},o));return{globe:a,renderObjs:jhe({controlType:"orbit",rendererConfig:n,waitForLoadComplete:i,extraRenderers:[new tx.CSS2DRenderer]}).skyRadius(a.getGlobeRadius()*500).showNavInfo(!1).objects([a]).lights([new tx.AmbientLight(13421772,Math.PI),new tx.DirectionalLight(16777215,.6*Math.PI)]),tweenGroup:new $R}},init:function(e,n){var r=this;e.innerHTML="",e.appendChild(n.container=document.createElement("div")),n.container.style.position="relative";var i=document.createElement("div");n.container.appendChild(i),n.renderObjs(i),n.globe.rendererSize(n.renderObjs.renderer().getSize(new tx.Vector2)),this.pointOfView({altitude:2.5});var o=n.globe.getGlobeRadius(),a=n.renderObjs.controls();n.renderObjs.camera().near=.05,a.minDistance=o+Math.max(.001,n.renderObjs.camera().near*1.1),a.maxDistance=o*100,a.enablePan=!1,a.enableDamping=!0,a.dampingFactor=.1,a.rotateSpeed=.3,a.zoomSpeed=.3,a.zoomToCursor=!0,a.addEventListener("change",function(){a.target.setScalar(0);var c=r.pointOfView();a.rotateSpeed=c.altitude*.3,a.zoomSpeed=Math.sqrt(c.altitude)*.5,n.globe.setPointOfView(n.renderObjs.camera()),n.onZoom&&n.onZoom(c)});var s=function(u){for(var d=u;d&&!d.hasOwnProperty("__globeObjType");)d=d.parent;return d},l={point:function(u){return u},arc:function(u){return u},polygon:function(u){return u.data},path:function(u){return u},heatmap:function(u){return u},hexbin:function(u){return u},hexPolygon:function(u){return u},tile:function(u){return u},particles:function(u,d){return!d||!d.hasOwnProperty("index")||u.length<=d.index?u:u[d.index]},label:function(u){return u},object:function(u){return u},custom:function(u){return u}};tx.REVISION<155&&(n.renderObjs.renderer().useLegacyLights=!1),n.renderObjs.hoverFilter(function(c){var u=s(c);if(!u)return!1;var d=u.__globeObjType;if(d!=="globe"&&!l.hasOwnProperty(d))return!1;var f=l.hasOwnProperty(d)&&u.__data?l[d](u.__data):null;return["points","hexBinPoints"].some(function(h){return h===d})&&Array.isArray(f)?!1:n.pointerEventsFilter(u,f)}).tooltipContent(function(c,u){var d={point:n.pointLabel,arc:n.arcLabel,polygon:n.polygonLabel,path:n.pathLabel,hexbin:n.hexLabel,hexPolygon:n.hexPolygonLabel,tile:n.tileLabel,particles:n.particleLabel,label:n.labelLabel,object:n.objectLabel,custom:n.customLayerLabel},f=s(c),h=f&&f.__globeObjType;return f&&h&&d.hasOwnProperty(h)&&l.hasOwnProperty(h)&&nn(d[h])(l[h](f.__data,u))||""}).onHover(function(c,u,d){var f={point:n.onPointHover,arc:n.onArcHover,polygon:n.onPolygonHover,path:n.onPathHover,heatmap:n.onHeatmapHover,hexbin:n.onHexHover,hexPolygon:n.onHexPolygonHover,tile:n.onTileHover,particles:n.onParticleHover,label:n.onLabelHover,object:n.onObjectHover,custom:n.onCustomLayerHover},h={globe:n.onGlobeClick,point:n.onPointClick,arc:n.onArcClick,polygon:n.onPolygonClick,path:n.onPathClick,heatmap:n.onHeatmapClick,hexbin:n.onHexClick,hexPolygon:n.onHexPolygonClick,tile:n.onTileClick,particles:n.onParticleClick,label:n.onLabelClick,object:n.onObjectClick,custom:n.onCustomLayerClick},p=s(c);if(p&&!f.hasOwnProperty(p.__globeObjType)&&(p=null),p!==n.hoverObj){var _,x=n.hoverObj?n.hoverObj.__globeObjType:null,y=n.hoverData,w=p?p.__globeObjType:null,C=(_=p)!==null&&_!==void 0&&_.__data?l[w](p.__data,d):null;x&&x!==w&&f[x]&&f[x](null,y||null),w&&f[w]&&f[w](C,x===w?y:null),n.renderObjs.renderer().domElement.classList[w&&h[w]&&nn(n.showPointerCursor)(w,C)?"add":"remove"]("clickable"),n.hoverObj=p,n.hoverData=C}}).onClick(function(c,u,d){if(c){var f={globe:n.onGlobeClick,point:n.onPointClick,arc:n.onArcClick,polygon:n.onPolygonClick,path:n.onPathClick,heatmap:n.onHeatmapClick,hexbin:n.onHexClick,hexPolygon:n.onHexPolygonClick,tile:n.onTileClick,particles:n.onParticleClick,label:n.onLabelClick,object:n.onObjectClick,custom:n.onCustomLayerClick},h=s(c),p=h.__globeObjType;if(h&&f.hasOwnProperty(p)&&f[p]){var _=[u],x=d!=null&&d.isVector3?d:d==null?void 0:d.point;if(p==="globe"){var y=r.toGeoCoords(x),w=y.lat,C=y.lng;_.unshift({lat:w,lng:C})}else _.push(r.toGeoCoords(x));l.hasOwnProperty(p)&&_.unshift(l[p](h.__data,d)),f[p].apply(f,_)}}}).onRightClick(function(c,u,d){if(c){var f={globe:n.onGlobeRightClick,point:n.onPointRightClick,arc:n.onArcRightClick,polygon:n.onPolygonRightClick,path:n.onPathRightClick,heatmap:n.onHeatmapRightClick,hexbin:n.onHexRightClick,hexPolygon:n.onHexPolygonRightClick,tile:n.onTileRightClick,particles:n.onParticleRightClick,label:n.onLabelRightClick,object:n.onObjectRightClick,custom:n.onCustomLayerRightClick},h=s(c),p=h.__globeObjType;if(h&&f.hasOwnProperty(p)&&f[p]){var _=[u],x=d!=null&&d.isVector3?d:d==null?void 0:d.point;if(p==="globe"){var y=r.toGeoCoords(x),w=y.lat,C=y.lng;_.unshift({lat:w,lng:C})}else _.push(r.toGeoCoords(x));l.hasOwnProperty(p)&&_.unshift(l[p](h.__data,d)),f[p].apply(f,_)}}}),this._animationCycle()}}),Yhe={exports:{}},bft="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xft=bft,_ft=xft;function Khe(){}function Qhe(){}Qhe.resetWarningCache=Khe;var Sft=function(){function t(r,i,o,a,s,l){if(l!==_ft){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Qhe,resetWarningCache:Khe};return n.PropTypes=n,n};Yhe.exports=Sft();var wft=Yhe.exports;const ie=al(wft);var Cft={width:ie.number,height:ie.number,globeOffset:ie.arrayOf(ie.number),backgroundColor:ie.string,backgroundImageUrl:ie.string,globeImageUrl:ie.string,bumpImageUrl:ie.string,globeTileEngineUrl:ie.func,showGlobe:ie.bool,showGraticules:ie.bool,showAtmosphere:ie.bool,atmosphereColor:ie.string,atmosphereAltitude:ie.number,globeMaterial:ie.object,onGlobeReady:ie.func,onGlobeClick:ie.func,onGlobeRightClick:ie.func,pointsData:ie.arrayOf(ie.object),pointLat:ie.oneOfType([ie.number,ie.string,ie.func]),pointLng:ie.oneOfType([ie.number,ie.string,ie.func]),pointColor:ie.oneOfType([ie.string,ie.func]),pointAltitude:ie.oneOfType([ie.number,ie.string,ie.func]),pointRadius:ie.oneOfType([ie.number,ie.string,ie.func]),pointResolution:ie.number,pointsMerge:ie.bool,pointsTransitionDuration:ie.number,pointLabel:ie.oneOfType([ie.string,ie.func]),onPointClick:ie.func,onPointRightClick:ie.func,onPointHover:ie.func,arcsData:ie.arrayOf(ie.object),arcStartLat:ie.oneOfType([ie.number,ie.string,ie.func]),arcStartLng:ie.oneOfType([ie.number,ie.string,ie.func]),arcEndLat:ie.oneOfType([ie.number,ie.string,ie.func]),arcEndLng:ie.oneOfType([ie.number,ie.string,ie.func]),arcColor:ie.oneOfType([ie.string,ie.arrayOf(ie.string),ie.func]),arcAltitude:ie.oneOfType([ie.number,ie.string,ie.func]),arcAltitudeAutoScale:ie.oneOfType([ie.number,ie.string,ie.func]),arcStroke:ie.oneOfType([ie.number,ie.string,ie.func]),arcCurveResolution:ie.number,arcCircularResolution:ie.number,arcDashLength:ie.oneOfType([ie.number,ie.string,ie.func]),arcDashGap:ie.oneOfType([ie.number,ie.string,ie.func]),arcDashInitialGap:ie.oneOfType([ie.number,ie.string,ie.func]),arcDashAnimateTime:ie.oneOfType([ie.number,ie.string,ie.func]),arcsTransitionDuration:ie.number,arcLabel:ie.oneOfType([ie.string,ie.func]),onArcClick:ie.func,onArcRightClick:ie.func,onArcHover:ie.func,polygonsData:ie.arrayOf(ie.object),polygonGeoJsonGeometry:ie.oneOfType([ie.string,ie.func]),polygonCapColor:ie.oneOfType([ie.string,ie.func]),polygonCapMaterial:ie.oneOfType([ie.object,ie.string,ie.func]),polygonSideColor:ie.oneOfType([ie.string,ie.func]),polygonSideMaterial:ie.oneOfType([ie.object,ie.string,ie.func]),polygonStrokeColor:ie.oneOfType([ie.string,ie.func]),polygonAltitude:ie.oneOfType([ie.number,ie.string,ie.func]),polygonCapCurvatureResolution:ie.oneOfType([ie.number,ie.string,ie.func]),polygonsTransitionDuration:ie.number,polygonLabel:ie.oneOfType([ie.string,ie.func]),onPolygonClick:ie.func,onPolygonRightClick:ie.func,onPolygonHover:ie.func,pathsData:ie.array,pathPoints:ie.oneOfType([ie.array,ie.string,ie.func]),pathPointLat:ie.oneOfType([ie.number,ie.string,ie.func]),pathPointLng:ie.oneOfType([ie.number,ie.string,ie.func]),pathPointAlt:ie.oneOfType([ie.number,ie.string,ie.func]),pathResolution:ie.number,pathColor:ie.oneOfType([ie.string,ie.arrayOf(ie.string),ie.func]),pathStroke:ie.oneOfType([ie.number,ie.string,ie.func]),pathDashLength:ie.oneOfType([ie.number,ie.string,ie.func]),pathDashGap:ie.oneOfType([ie.number,ie.string,ie.func]),pathDashInitialGap:ie.oneOfType([ie.number,ie.string,ie.func]),pathDashAnimateTime:ie.oneOfType([ie.number,ie.string,ie.func]),pathTransitionDuration:ie.number,pathLabel:ie.oneOfType([ie.string,ie.func]),onPathClick:ie.func,onPathRightClick:ie.func,onPathHover:ie.func,heatmapsData:ie.array,heatmapPoints:ie.oneOfType([ie.array,ie.string,ie.func]),heatmapPointLat:ie.oneOfType([ie.number,ie.string,ie.func]),heatmapPointLng:ie.oneOfType([ie.number,ie.string,ie.func]),heatmapPointWeight:ie.oneOfType([ie.number,ie.string,ie.func]),heatmapBandwidth:ie.oneOfType([ie.number,ie.string,ie.func]),heatmapColorFn:ie.oneOfType([ie.string,ie.func]),heatmapColorSaturation:ie.oneOfType([ie.number,ie.string,ie.func]),heatmapBaseAltitude:ie.oneOfType([ie.number,ie.string,ie.func]),heatmapTopAltitude:ie.oneOfType([ie.number,ie.string,ie.func]),heatmapsTransitionDuration:ie.number,onHeatmapClick:ie.func,onHeatmapRightClick:ie.func,onHeatmapHover:ie.func,hexBinPointsData:ie.arrayOf(ie.object),hexBinPointLat:ie.oneOfType([ie.number,ie.string,ie.func]),hexBinPointLng:ie.oneOfType([ie.number,ie.string,ie.func]),hexBinPointWeight:ie.oneOfType([ie.number,ie.string,ie.func]),hexBinResolution:ie.number,hexMargin:ie.oneOfType([ie.number,ie.func]),hexTopColor:ie.func,hexSideColor:ie.func,hexAltitude:ie.oneOfType([ie.number,ie.func]),hexTopCurvatureResolution:ie.number,hexBinMerge:ie.bool,hexTransitionDuration:ie.number,hexLabel:ie.oneOfType([ie.string,ie.func]),onHexClick:ie.func,onHexRightClick:ie.func,onHexHover:ie.func,hexPolygonsData:ie.arrayOf(ie.object),hexPolygonGeoJsonGeometry:ie.oneOfType([ie.string,ie.func]),hexPolygonColor:ie.oneOfType([ie.string,ie.func]),hexPolygonAltitude:ie.oneOfType([ie.number,ie.string,ie.func]),hexPolygonResolution:ie.oneOfType([ie.number,ie.string,ie.func]),hexPolygonMargin:ie.oneOfType([ie.number,ie.string,ie.func]),hexPolygonUseDots:ie.oneOfType([ie.bool,ie.string,ie.func]),hexPolygonCurvatureResolution:ie.oneOfType([ie.number,ie.string,ie.func]),hexPolygonDotResolution:ie.oneOfType([ie.number,ie.string,ie.func]),hexPolygonsTransitionDuration:ie.number,hexPolygonLabel:ie.oneOfType([ie.string,ie.func]),onHexPolygonClick:ie.func,onHexPolygonRightClick:ie.func,onHexPolygonHover:ie.func,tilesData:ie.arrayOf(ie.object),tileLat:ie.oneOfType([ie.number,ie.string,ie.func]),tileLng:ie.oneOfType([ie.number,ie.string,ie.func]),tileAltitude:ie.oneOfType([ie.number,ie.string,ie.func]),tileWidth:ie.oneOfType([ie.number,ie.string,ie.func]),tileHeight:ie.oneOfType([ie.number,ie.string,ie.func]),tileUseGlobeProjection:ie.oneOfType([ie.bool,ie.string,ie.func]),tileMaterial:ie.oneOfType([ie.object,ie.string,ie.func]),tileCurvatureResolution:ie.oneOfType([ie.number,ie.string,ie.func]),tilesTransitionDuration:ie.number,tileLabel:ie.oneOfType([ie.string,ie.func]),onTileClick:ie.func,onTileRightClick:ie.func,onTileHover:ie.func,particlesData:ie.arrayOf(ie.object),particlesList:ie.oneOfType([ie.string,ie.func]),particleLat:ie.oneOfType([ie.number,ie.string,ie.func]),particleLng:ie.oneOfType([ie.number,ie.string,ie.func]),particleAltitude:ie.oneOfType([ie.number,ie.string,ie.func]),particlesSize:ie.oneOfType([ie.number,ie.string,ie.func]),particlesSizeAttenuation:ie.oneOfType([ie.bool,ie.string,ie.func]),particlesColor:ie.oneOfType([ie.string,ie.func]),particlesTexture:ie.oneOfType([ie.string,ie.func]),particleLabel:ie.oneOfType([ie.string,ie.func]),onParticleClick:ie.func,onParticleRightClick:ie.func,onParticleHover:ie.func,ringsData:ie.arrayOf(ie.object),ringLat:ie.oneOfType([ie.number,ie.string,ie.func]),ringLng:ie.oneOfType([ie.number,ie.string,ie.func]),ringAltitude:ie.oneOfType([ie.number,ie.string,ie.func]),ringColor:ie.oneOfType([ie.string,ie.arrayOf(ie.string),ie.func]),ringResolution:ie.number,ringMaxRadius:ie.oneOfType([ie.number,ie.string,ie.func]),ringPropagationSpeed:ie.oneOfType([ie.number,ie.string,ie.func]),ringRepeatPeriod:ie.oneOfType([ie.number,ie.string,ie.func]),labelsData:ie.arrayOf(ie.object),labelLat:ie.oneOfType([ie.number,ie.string,ie.func]),labelLng:ie.oneOfType([ie.number,ie.string,ie.func]),labelAltitude:ie.oneOfType([ie.number,ie.string,ie.func]),labelRotation:ie.oneOfType([ie.number,ie.string,ie.func]),labelText:ie.oneOfType([ie.string,ie.func]),labelSize:ie.oneOfType([ie.number,ie.string,ie.func]),labelTypeFace:ie.object,labelColor:ie.oneOfType([ie.string,ie.func]),labelResolution:ie.number,labelIncludeDot:ie.oneOfType([ie.bool,ie.string,ie.func]),labelDotRadius:ie.oneOfType([ie.number,ie.string,ie.func]),labelDotOrientation:ie.oneOfType([ie.string,ie.func]),labelsTransitionDuration:ie.number,labelLabel:ie.oneOfType([ie.string,ie.func]),onLabelClick:ie.func,onLabelRightClick:ie.func,onLabelHover:ie.func,htmlElementsData:ie.arrayOf(ie.object),htmlLat:ie.oneOfType([ie.number,ie.string,ie.func]),htmlLng:ie.oneOfType([ie.number,ie.string,ie.func]),htmlAltitude:ie.oneOfType([ie.number,ie.string,ie.func]),htmlElement:ie.oneOfType([ie.string,ie.func]),htmlElementVisibilityModifier:ie.func,htmlTransitionDuration:ie.number,objectsData:ie.arrayOf(ie.object),objectLat:ie.oneOfType([ie.number,ie.string,ie.func]),objectLng:ie.oneOfType([ie.number,ie.string,ie.func]),objectAltitude:ie.oneOfType([ie.number,ie.string,ie.func]),objectRotation:ie.oneOfType([ie.shape({x:ie.number,y:ie.number,z:ie.number}),ie.string,ie.func]),objectFacesSurface:ie.oneOfType([ie.bool,ie.string,ie.func]),objectThreeObject:ie.oneOfType([ie.object,ie.string,ie.func]),objectLabel:ie.oneOfType([ie.string,ie.func]),onObjectClick:ie.func,onObjectRightClick:ie.func,onObjectHover:ie.func,customLayerData:ie.arrayOf(ie.object),customThreeObject:ie.oneOfType([ie.object,ie.string,ie.func]),customThreeObjectUpdate:ie.oneOfType([ie.string,ie.func]),customLayerLabel:ie.oneOfType([ie.string,ie.func]),onCustomLayerClick:ie.func,onCustomLayerRightClick:ie.func,onCustomLayerHover:ie.func,enablePointerInteraction:ie.bool,pointerEventsFilter:ie.func,lineHoverPrecision:ie.number,showPointerCursor:ie.oneOfType([ie.bool,ie.func]),onZoom:ie.func},V9=dBe(yft,{methodNames:["pauseAnimation","resumeAnimation","pointOfView","lights","scene","camera","renderer","postProcessingComposer","controls","getGlobeRadius","getCoords","getScreenCoords","toGeoCoords","toGlobeCoords","globeTileEngineClearCache"],initPropNames:["animateIn","waitForGlobeReady","rendererConfig"]});V9.displayName="Globe";V9.propTypes=Cft;const DD=[{id:"london",name:"London",position:[51.5074,-.1278],description:"The capital of England and the United Kingdom.",imageUrl:"https://picsum.photos/id/1015/300/200"},{id:"paris",name:"Paris",position:[48.8566,2.3522],description:"France's capital, a major European city and a global center for art, fashion, gastronomy and culture.",imageUrl:"https://picsum.photos/id/1018/300/200"},{id:"new-york",name:"New York",position:[40.7128,-74.006],description:"An iconic city that never sleeps, known for its skyline, Broadway, and diverse culture.",imageUrl:"https://picsum.photos/id/1021/300/200"},{id:"tokyo",name:"Tokyo",position:[35.6762,139.6503],description:"Japan's busy capital, mixes the ultramodern and the traditional, from neon-lit skyscrapers to historic temples.",imageUrl:"https://picsum.photos/id/1025/300/200"}];/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tft=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Eft=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),uK=t=>{const e=Eft(t);return e.charAt(0).toUpperCase()+e.slice(1)},Zhe=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Mft=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pft={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rft=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>S.createElement("svg",{ref:l,...Pft,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Zhe("lucide",i),...!o&&!Mft(s)&&{"aria-hidden":"true"},...s},[...a.map(([c,u])=>S.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=(t,e)=>{const n=S.forwardRef(({className:r,...i},o)=>S.createElement(Rft,{ref:o,iconNode:e,className:Zhe(`lucide-${Tft(uK(t))}`,`lucide-${t}`,r),...i}));return n.displayName=uK(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nft=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],VT=B1("arrow-right",Nft);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ift=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dK=B1("calendar",Ift);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oft=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Dft=B1("circle-check",Oft);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lft=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],GT=B1("map-pin",Lft);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bft=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Fft=B1("plane",Bft);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ft=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Z6=B1("search",$ft),G9=S.createContext({});function H9(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Jhe=typeof window<"u",epe=Jhe?S.useLayoutEffect:S.useEffect,RN=S.createContext(null);function j9(t,e){t.indexOf(e)===-1&&t.push(e)}function q9(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const bf=(t,e,n)=>n>e?e:n<t?t:n;function fK(t,e){return e?`${t}. For more information and steps for solving, visit https://motion.dev/troubleshooting/${e}`:t}let FS=()=>{},yg=()=>{};var vZ;typeof process<"u"&&((vZ=process.env)==null?void 0:vZ.NODE_ENV)!=="production"&&(FS=(t,e,n)=>{!t&&typeof console<"u"&&console.warn(fK(e,n))},yg=(t,e,n)=>{if(!t)throw new Error(fK(e,n))});const yh={},tpe=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function npe(t){return typeof t=="object"&&t!==null}const rpe=t=>/^0[^.\s]+$/u.test(t);function W9(t){let e;return()=>(e===void 0&&(e=t()),e)}const nu=t=>t,kft=(t,e)=>n=>e(t(n)),$S=(...t)=>t.reduce(kft),I2=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class X9{constructor(){this.subscriptions=[]}add(e){return j9(this.subscriptions,e),()=>q9(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const uf=t=>t*1e3,Qc=t=>t/1e3;function ipe(t,e){return e?t*(1e3/e):0}const ope=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Uft=1e-7,zft=12;function Vft(t,e,n,r,i){let o,a,s=0;do a=e+(n-e)/2,o=ope(a,r,i)-t,o>0?n=a:e=a;while(Math.abs(o)>Uft&&++s<zft);return a}function kS(t,e,n,r){if(t===e&&n===r)return nu;const i=o=>Vft(o,0,1,t,n);return o=>o===0||o===1?o:ope(i(o),e,r)}const ape=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,spe=t=>e=>1-t(1-e),lpe=kS(.33,1.53,.69,.99),Y9=spe(lpe),cpe=ape(Y9),upe=t=>(t*=2)<1?.5*Y9(t):.5*(2-Math.pow(2,-10*(t-1))),K9=t=>1-Math.sin(Math.acos(t)),dpe=spe(K9),fpe=ape(K9),Gft=kS(.42,0,1,1),Hft=kS(0,0,.58,1),hpe=kS(.42,0,.58,1),jft=t=>Array.isArray(t)&&typeof t[0]!="number",ppe=t=>Array.isArray(t)&&typeof t[0]=="number",hK={linear:nu,easeIn:Gft,easeInOut:hpe,easeOut:Hft,circIn:K9,circInOut:fpe,circOut:dpe,backIn:Y9,backInOut:cpe,backOut:lpe,anticipate:upe},qft=t=>typeof t=="string",pK=t=>{if(ppe(t)){yg(t.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[e,n,r,i]=t;return kS(e,n,r,i)}else if(qft(t))return yg(hK[t]!==void 0,`Invalid easing type '${t}'`,"invalid-easing-type"),hK[t];return t},HT=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],mK={value:null,addProjectionMetrics:null};function Wft(t,e){let n=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){a.has(d)&&(u.schedule(d),t()),l++,d(s)}const u={schedule:(d,f=!1,h=!1)=>{const _=h&&i?n:r;return f&&a.add(d),_.has(d)||_.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(s=d,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&mK.value&&mK.value.frameloop[e].push(l),l=0,n.clear(),i=!1,o&&(o=!1,u.process(d))}};return u}const Xft=40;function mpe(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=HT.reduce((C,M)=>(C[M]=Wft(o,e?M:void 0),C),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:f,render:h,postRender:p}=a,_=()=>{const C=yh.useManualTiming?i.timestamp:performance.now();n=!1,yh.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(C-i.timestamp,Xft),1)),i.timestamp=C,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},x=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:HT.reduce((C,M)=>{const R=a[M];return C[M]=(N,I=!1,B=!1)=>(n||x(),R.schedule(N,I,B)),C},{}),cancel:C=>{for(let M=0;M<HT.length;M++)a[HT[M]].cancel(C)},state:i,steps:a}}const{schedule:co,cancel:cm,state:Ka,steps:LD}=mpe(typeof requestAnimationFrame<"u"?requestAnimationFrame:nu,!0);let VE;function Yft(){VE=void 0}const Js={now:()=>(VE===void 0&&Js.set(Ka.isProcessing||yh.useManualTiming?Ka.timestamp:performance.now()),VE),set:t=>{VE=t,queueMicrotask(Yft)}},gpe=t=>e=>typeof e=="string"&&e.startsWith(t),Ape=gpe("--"),Kft=gpe("var(--"),Q9=t=>Kft(t)?Qft.test(t.split("/*")[0].trim()):!1,Qft=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function gK(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const F1={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},O2={...F1,transform:t=>bf(0,1,t)},jT={...F1,default:1},a_=t=>Math.round(t*1e5)/1e5,Z9=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Zft(t){return t==null}const Jft=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,J9=(t,e)=>n=>!!(typeof n=="string"&&Jft.test(n)&&n.startsWith(t)||e&&!Zft(n)&&Object.prototype.hasOwnProperty.call(n,e)),vpe=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,s]=r.match(Z9);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},eht=t=>bf(0,255,t),BD={...F1,transform:t=>Math.round(eht(t))},B0={test:J9("rgb","red"),parse:vpe("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+BD.transform(t)+", "+BD.transform(e)+", "+BD.transform(n)+", "+a_(O2.transform(r))+")"};function tht(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const J6={test:J9("#"),parse:tht,transform:B0.transform},US=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fp=US("deg"),df=US("%"),Yn=US("px"),nht=US("vh"),rht=US("vw"),AK=(()=>({...df,parse:t=>df.parse(t)/100,transform:t=>df.transform(t*100)}))(),gv={test:J9("hsl","hue"),parse:vpe("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+df.transform(a_(e))+", "+df.transform(a_(n))+", "+a_(O2.transform(r))+")"},ra={test:t=>B0.test(t)||J6.test(t)||gv.test(t),parse:t=>B0.test(t)?B0.parse(t):gv.test(t)?gv.parse(t):J6.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?B0.transform(t):gv.transform(t),getAnimatableNone:t=>{const e=ra.parse(t);return e.alpha=0,ra.transform(e)}},iht=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oht(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Z9))==null?void 0:e.length)||0)+(((n=t.match(iht))==null?void 0:n.length)||0)>0}const ype="number",bpe="color",aht="var",sht="var(",vK="${}",lht=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function D2(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=e.replace(lht,l=>(ra.test(l)?(r.color.push(o),i.push(bpe),n.push(ra.parse(l))):l.startsWith(sht)?(r.var.push(o),i.push(aht),n.push(l)):(r.number.push(o),i.push(ype),n.push(parseFloat(l))),++o,vK)).split(vK);return{values:n,split:s,indexes:r,types:i}}function xpe(t){return D2(t).values}function _pe(t){const{split:e,types:n}=D2(t),r=e.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],i[a]!==void 0){const s=n[a];s===ype?o+=a_(i[a]):s===bpe?o+=ra.transform(i[a]):o+=i[a]}return o}}const cht=t=>typeof t=="number"?0:ra.test(t)?ra.getAnimatableNone(t):t;function uht(t){const e=xpe(t);return _pe(t)(e.map(cht))}const um={test:oht,parse:xpe,createTransformer:_pe,getAnimatableNone:uht};function FD(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dht({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,a=0;if(!e)i=o=a=n;else{const s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=FD(l,s,t+1/3),o=FD(l,s,t),a=FD(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function X3(t,e){return n=>n>0?e:t}const Oo=(t,e,n)=>t+(e-t)*n,$D=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fht=[J6,B0,gv],hht=t=>fht.find(e=>e.test(t));function yK(t){const e=hht(t);if(FS(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!e)return!1;let n=e.parse(t);return e===gv&&(n=dht(n)),n}const bK=(t,e)=>{const n=yK(t),r=yK(e);if(!n||!r)return X3(t,e);const i={...n};return o=>(i.red=$D(n.red,r.red,o),i.green=$D(n.green,r.green,o),i.blue=$D(n.blue,r.blue,o),i.alpha=Oo(n.alpha,r.alpha,o),B0.transform(i))},eB=new Set(["none","hidden"]);function pht(t,e){return eB.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mht(t,e){return n=>Oo(t,e,n)}function eU(t){return typeof t=="number"?mht:typeof t=="string"?Q9(t)?X3:ra.test(t)?bK:vht:Array.isArray(t)?Spe:typeof t=="object"?ra.test(t)?bK:ght:X3}function Spe(t,e){const n=[...t],r=n.length,i=t.map((o,a)=>eU(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function ght(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=eU(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function Aht(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][r[o]],s=t.values[a]??0;n[i]=s,r[o]++}return n}const vht=(t,e)=>{const n=um.createTransformer(e),r=D2(t),i=D2(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?eB.has(t)&&!i.values.length||eB.has(e)&&!r.values.length?pht(t,e):$S(Spe(Aht(r,i),i.values),n):(FS(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),X3(t,e))};function wpe(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Oo(t,e,n):eU(t)(t,e)}const yht=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>co.update(e,n),stop:()=>cm(e),now:()=>Ka.isProcessing?Ka.timestamp:Js.now()}},Cpe=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Y3=2e4;function tU(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Y3;)e+=n,r=t.next(e);return e>=Y3?1/0:e}function bht(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(tU(r),Y3);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Qc(i)}}const xht=5;function Tpe(t,e,n){const r=Math.max(e-xht,0);return ipe(n-t(r),e-r)}const Mo={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kD=.001;function _ht({duration:t=Mo.duration,bounce:e=Mo.bounce,velocity:n=Mo.velocity,mass:r=Mo.mass}){let i,o;FS(t<=uf(Mo.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-e;a=bf(Mo.minDamping,Mo.maxDamping,a),t=bf(Mo.minDuration,Mo.maxDuration,Qc(t)),a<1?(i=c=>{const u=c*a,d=u*t,f=u-n,h=tB(c,a),p=Math.exp(-d);return kD-f/h*p},o=c=>{const d=c*a*t,f=d*n+n,h=Math.pow(a,2)*Math.pow(c,2)*t,p=Math.exp(-d),_=tB(Math.pow(c,2),a);return(-i(c)+kD>0?-1:1)*((f-h)*p)/_}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-kD+u*d},o=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const s=5/t,l=wht(i,o,s);if(t=uf(t),isNaN(l))return{stiffness:Mo.stiffness,damping:Mo.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const Sht=12;function wht(t,e,n){let r=n;for(let i=1;i<Sht;i++)r=r-t(r)/e(r);return r}function tB(t,e){return t*Math.sqrt(1-e*e)}const Cht=["duration","bounce"],Tht=["stiffness","damping","mass"];function xK(t,e){return e.some(n=>t[n]!==void 0)}function Eht(t){let e={velocity:Mo.velocity,stiffness:Mo.stiffness,damping:Mo.damping,mass:Mo.mass,isResolvedFromDuration:!1,...t};if(!xK(t,Tht)&&xK(t,Cht))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*bf(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Mo.mass,stiffness:i,damping:o}}else{const n=_ht(t);e={...e,...n,mass:Mo.mass},e.isResolvedFromDuration=!0}return e}function K3(t=Mo.visualDuration,e=Mo.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=Eht({...n,velocity:-Qc(n.velocity||0)}),p=f||0,_=c/(2*Math.sqrt(l*u)),x=a-o,y=Qc(Math.sqrt(l/u)),w=Math.abs(x)<5;r||(r=w?Mo.restSpeed.granular:Mo.restSpeed.default),i||(i=w?Mo.restDelta.granular:Mo.restDelta.default);let C;if(_<1){const R=tB(y,_);C=N=>{const I=Math.exp(-_*y*N);return a-I*((p+_*y*x)/R*Math.sin(R*N)+x*Math.cos(R*N))}}else if(_===1)C=R=>a-Math.exp(-y*R)*(x+(p+y*x)*R);else{const R=y*Math.sqrt(_*_-1);C=N=>{const I=Math.exp(-_*y*N),B=Math.min(R*N,300);return a-I*((p+_*y*x)*Math.sinh(B)+R*x*Math.cosh(B))/R}}const M={calculatedDuration:h&&d||null,next:R=>{const N=C(R);if(h)s.done=R>=d;else{let I=R===0?p:0;_<1&&(I=R===0?uf(p):Tpe(C,R,N));const B=Math.abs(I)<=r,D=Math.abs(a-N)<=i;s.done=B&&D}return s.value=s.done?a:N,s},toString:()=>{const R=Math.min(tU(M),Y3),N=Cpe(I=>M.next(R*I).value,R,30);return R+"ms "+N},toTransition:()=>{}};return M}K3.applyToOptions=t=>{const e=bht(t,100,K3);return t.ease=e.ease,t.duration=uf(e.duration),t.type="keyframes",t};function nB({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},h=B=>s!==void 0&&B<s||l!==void 0&&B>l,p=B=>s===void 0?l:l===void 0||Math.abs(s-B)<Math.abs(l-B)?s:l;let _=n*e;const x=d+_,y=a===void 0?x:a(x);y!==x&&(_=y-d);const w=B=>-_*Math.exp(-B/r),C=B=>y+w(B),M=B=>{const D=w(B),$=C(B);f.done=Math.abs(D)<=c,f.value=f.done?y:$};let R,N;const I=B=>{h(f.value)&&(R=B,N=K3({keyframes:[f.value,p(f.value)],velocity:Tpe(C,B,f.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return I(0),{calculatedDuration:null,next:B=>{let D=!1;return!N&&R===void 0&&(D=!0,M(B),I(B)),R!==void 0&&B>=R?N.next(B-R):(!D&&M(B),f)}}}function Mht(t,e,n){const r=[],i=n||yh.mix||wpe,o=t.length-1;for(let a=0;a<o;a++){let s=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||nu:e;s=$S(l,s)}r.push(s)}return r}function Pht(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(yg(o===e.length,"Both input and output ranges must be the same length","range-length"),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=Mht(e,r,i),l=s.length,c=u=>{if(a&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=I2(t[d],t[d+1],u);return s[d](f)};return n?u=>c(bf(t[0],t[o-1],u)):c}function Rht(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=I2(0,e,r);t.push(Oo(n,1,i))}}function Nht(t){const e=[0];return Rht(e,t.length-1),e}function Iht(t,e){return t.map(n=>n*e)}function Oht(t,e){return t.map(()=>e||hpe).splice(0,t.length-1)}function s_({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=jft(r)?r.map(pK):pK(r),o={done:!1,value:e[0]},a=Iht(n&&n.length===e.length?n:Nht(e),t),s=Pht(a,e,{ease:Array.isArray(i)?i:Oht(e,i)});return{calculatedDuration:t,next:l=>(o.value=s(l),o.done=l>=t,o)}}const Dht=t=>t!==null;function nU(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(Dht),s=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const Lht={decay:nB,inertia:nB,tween:s_,keyframes:s_,spring:K3};function Epe(t){typeof t.type=="string"&&(t.type=Lht[t.type])}class rU{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Bht=t=>t/100;class iU extends rU{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Js.now()&&this.tick(Js.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Epe(e);const{type:n=s_,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=e;let{keyframes:s}=e;const l=n||s_;l!==s_&&typeof s[0]!="number"&&(this.mixKeyframes=$S(Bht,wpe(s[0],s[1])),s=[0,100]);const c=l({...e,keyframes:s});o==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...s].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=tU(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:s,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:h,type:p,onUpdate:_,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let C=this.currentTime,M=r;if(d){const B=Math.min(this.currentTime,i)/s;let D=Math.floor(B),$=B%1;!$&&B>=1&&($=1),$===1&&D--,D=Math.min(D,d+1),!!(D%2)&&(f==="reverse"?($=1-$,h&&($-=h/s)):f==="mirror"&&(M=a)),C=bf(0,1,$)*s}const R=w?{done:!1,value:u[0]}:M.next(C);o&&(R.value=o(R.value));let{done:N}=R;!w&&l!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return I&&p!==nB&&(R.value=nU(u,this.options,x,this.speed)),_&&_(R.value),I&&this.finish(),R}then(e,n){return this.finished.then(e,n)}get duration(){return Qc(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qc(e)}get time(){return Qc(this.currentTime)}set time(e){var n;e=uf(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Js.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Qc(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=yht,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Js.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Fht(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const F0=t=>t*180/Math.PI,rB=t=>{const e=F0(Math.atan2(t[1],t[0]));return iB(e)},$ht={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rB,rotateZ:rB,skewX:t=>F0(Math.atan(t[1])),skewY:t=>F0(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},iB=t=>(t=t%360,t<0&&(t+=360),t),_K=rB,SK=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),wK=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),kht={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:SK,scaleY:wK,scale:t=>(SK(t)+wK(t))/2,rotateX:t=>iB(F0(Math.atan2(t[6],t[5]))),rotateY:t=>iB(F0(Math.atan2(-t[2],t[0]))),rotateZ:_K,rotate:_K,skewX:t=>F0(Math.atan(t[4])),skewY:t=>F0(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function oB(t){return t.includes("scale")?1:0}function aB(t,e){if(!t||t==="none")return oB(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=kht,i=n;else{const s=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$ht,i=s}if(!i)return oB(e);const o=r[e],a=i[1].split(",").map(zht);return typeof o=="function"?o(a):a[o]}const Uht=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return aB(n,e)};function zht(t){return parseFloat(t.trim())}const $1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],k1=(()=>new Set($1))(),CK=t=>t===F1||t===Yn,Vht=new Set(["x","y","z"]),Ght=$1.filter(t=>!Vht.has(t));function Hht(t){const e=[];return Ght.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ip={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>aB(e,"x"),y:(t,{transform:e})=>aB(e,"y")};Ip.translateX=Ip.x;Ip.translateY=Ip.y;const W0=new Set;let sB=!1,lB=!1,cB=!1;function Mpe(){if(lB){const t=Array.from(W0).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Hht(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var s;(s=r.getValue(o))==null||s.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lB=!1,sB=!1,W0.forEach(t=>t.complete(cB)),W0.clear()}function Ppe(){W0.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lB=!0)})}function jht(){cB=!0,Ppe(),Mpe(),cB=!1}class oU{constructor(e,n,r,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(W0.add(this),sB||(sB=!0,co.read(Ppe),co.resolveKeyframes(Mpe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const s=r.readValue(n,a);s!=null&&(e[0]=s)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}Fht(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),W0.delete(this)}cancel(){this.state==="scheduled"&&(W0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qht=t=>t.startsWith("--");function Wht(t,e,n){qht(e)?t.style.setProperty(e,n):t.style[e]=n}const Xht=W9(()=>window.ScrollTimeline!==void 0),Yht={};function Kht(t,e){const n=W9(t);return()=>Yht[e]??n()}const Rpe=Kht(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ex=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,TK={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ex([0,.65,.55,1]),circOut:Ex([.55,0,1,.45]),backIn:Ex([.31,.01,.66,-.59]),backOut:Ex([.33,1.53,.69,.99])};function Npe(t,e){if(t)return typeof t=="function"?Rpe()?Cpe(t,e):"ease-out":ppe(t)?Ex(t):Array.isArray(t)?t.map(n=>Npe(n,e)||TK.easeOut):TK[t]}function Qht(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=Npe(s,i);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(u,f)}function Ipe(t){return typeof t=="function"&&"applyToOptions"in t}function Zht({type:t,...e}){return Ipe(t)&&Rpe()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Jht extends rU{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:s,onComplete:l}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,yg(typeof e.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=Zht(e);this.animation=Qht(n,r,i,c,o),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const u=nU(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(u):Wht(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Qc(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qc(e)}get time(){return Qc(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=uf(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Xht()?(this.animation.timeline=e,nu):n(this)}}const Ope={anticipate:upe,backInOut:cpe,circInOut:fpe};function ept(t){return t in Ope}function tpt(t){typeof t.ease=="string"&&ept(t.ease)&&(t.ease=Ope[t.ease])}const UD=10;class npt extends Jht{constructor(e){tpt(e),Epe(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const s=new iU({...a,autoplay:!1}),l=Math.max(UD,Js.now()-this.startTime),c=bf(0,UD,l-UD);n.setWithVelocity(s.sample(Math.max(0,l-c)).value,s.sample(l).value,c),s.stop()}}const EK=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(um.test(t)||t==="0")&&!t.startsWith("url("));function rpt(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ipt(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=EK(i,e),s=EK(o,e);return FS(a===s,`You are trying to animate ${e} from "${i}" to "${o}". "${a?o:i}" is not an animatable value.`,"value-not-animatable"),!a||!s?!1:rpt(t)||(n==="spring"||Ipe(n))&&r}function uB(t){t.duration=0,t.type="keyframes"}const opt=new Set(["opacity","clipPath","filter","transform"]),apt=W9(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function spt(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return apt()&&n&&opt.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&o!==0&&a!=="inertia"}const lpt=40;class cpt extends rU{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:s,name:l,motionValue:c,element:u,...d}){var p;super(),this.stop=()=>{var _,x;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Js.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,name:l,motionValue:c,element:u,...d},h=(u==null?void 0:u.KeyframeResolver)||oU;this.keyframeResolver=new h(s,(_,x,y)=>this.onKeyframesResolved(_,x,f,!y),l,c,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,n,r,i){var x,y;this.keyframeResolver=void 0;const{name:o,type:a,velocity:s,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Js.now(),ipt(e,o,a,s)||((yh.instantAnimations||!l)&&(u==null||u(nU(e,r,n))),e[0]=e[e.length-1],uB(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>lpt?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!c&&spt(f),p=(y=(x=f.motionValue)==null?void 0:x.owner)==null?void 0:y.current,_=h?new npt({...f,element:p}):new iU(f);_.finished.then(()=>{this.notifyFinished()}).catch(nu),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),jht()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function Dpe(t,e,n,r=0,i=1){const o=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),a=t.size,s=(a-1)*r;return typeof n=="function"?n(o,a):i===1?o*r:s-o*r}const upt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dpt(t){const e=upt.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}const fpt=4;function Lpe(t,e,n=1){yg(n<=fpt,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,i]=dpt(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return tpe(a)?parseFloat(a):a}return Q9(i)?Lpe(i,e,n+1):i}const hpt={type:"spring",stiffness:500,damping:25,restSpeed:10},ppt=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mpt={type:"keyframes",duration:.8},gpt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Apt=(t,{keyframes:e})=>e.length>2?mpt:k1.has(t)?t.startsWith("scale")?ppt(e[1]):hpt:gpt,vpt=t=>t!==null;function ypt(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(vpt),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}function aU(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function bpt({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const sU=(t,e,n,r={},i,o)=>a=>{const s=aU(r,t)||{},l=s.delay||r.delay||0;let{elapsed:c=0}=r;c=c-uf(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-c,onUpdate:f=>{e.set(f),s.onUpdate&&s.onUpdate(f)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:o?void 0:i};bpt(s)||Object.assign(u,Apt(t,u)),u.duration&&(u.duration=uf(u.duration)),u.repeatDelay&&(u.repeatDelay=uf(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(uB(u),u.delay===0&&(d=!0)),(yh.instantAnimations||yh.skipAnimations)&&(d=!0,uB(u),u.delay=0),u.allowFlatten=!s.type&&!s.ease,d&&!o&&e.get()!==void 0){const f=ypt(u.keyframes,s);if(f!==void 0){co.update(()=>{u.onUpdate(f),u.onComplete()});return}}return s.isSync?new iU(u):new cpt(u)};function MK(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function lU(t,e,n,r){if(typeof e=="function"){const[i,o]=MK(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=MK(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function zv(t,e,n){const r=t.getProps();return lU(r,e,n!==void 0?n:r.custom,t)}const Bpe=new Set(["width","height","top","left","right","bottom",...$1]),PK=30,xpt=t=>!isNaN(parseFloat(t));class _pt{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=Js.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Js.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xpt(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new X9);const r=this.events[e].add(n);return e==="change"?()=>{r(),co.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Js.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>PK)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,PK);return ipe(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qy(t,e){return new _pt(t,e)}const dB=t=>Array.isArray(t);function Spt(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Qy(n))}function wpt(t){return dB(t)?t[t.length-1]||0:t}function Cpt(t,e){const n=zv(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const s=wpt(o[a]);Spt(t,a,s)}}const Es=t=>!!(t&&t.getVelocity);function Tpt(t){return!!(Es(t)&&t.add)}function fB(t,e){const n=t.getValue("willChange");if(Tpt(n))return n.add(e);if(!n&&yh.WillChange){const r=new yh.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function cU(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Ept="framerAppearId",Fpe="data-"+cU(Ept);function $pe(t){return t.props[Fpe]}function Mpt({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function kpe(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...s}=e;r&&(o=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in s){const d=t.getValue(u,t.latestValues[u]??null),f=s[u];if(f===void 0||c&&Mpt(c,u))continue;const h={delay:n,...aU(o||{},u)},p=d.get();if(p!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===p&&!h.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const y=$pe(t);if(y){const w=window.MotionHandoffAnimation(y,u,co);w!==null&&(h.startTime=w,_=!0)}}fB(t,u),d.start(sU(u,d,f,t.shouldReduceMotion&&Bpe.has(u)?{type:!1}:h,t,_));const x=d.animation;x&&l.push(x)}return a&&Promise.all(l).then(()=>{co.update(()=>{a&&Cpt(t,a)})}),l}function hB(t,e,n={}){var l;const r=zv(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(kpe(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return Ppt(t,e,c,u,d,f,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[c,u]=s==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function Ppt(t,e,n=0,r=0,i=0,o=1,a){const s=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),s.push(hB(l,e,{...a,delay:n+(typeof r=="function"?0:r)+Dpe(t.variantChildren,l,r,i,o)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(s)}function Rpt(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>hB(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=hB(t,e,n);else{const i=typeof e=="function"?zv(t,e,n.custom):e;r=Promise.all(kpe(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Npt={test:t=>t==="auto",parse:t=>t},Upe=t=>e=>e.test(t),zpe=[F1,Yn,df,fp,rht,nht,Npt],RK=t=>zpe.find(Upe(t));function Ipt(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rpe(t):!0}const Opt=new Set(["brightness","contrast","saturate","opacity"]);function Dpt(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Z9)||[];if(!r)return t;const i=n.replace(r,"");let o=Opt.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const Lpt=/\b([a-z-]*)\(.*?\)/gu,pB={...um,getAnimatableNone:t=>{const e=t.match(Lpt);return e?e.map(Dpt).join(" "):t}},NK={...F1,transform:Math.round},Bpt={rotate:fp,rotateX:fp,rotateY:fp,rotateZ:fp,scale:jT,scaleX:jT,scaleY:jT,scaleZ:jT,skew:fp,skewX:fp,skewY:fp,distance:Yn,translateX:Yn,translateY:Yn,translateZ:Yn,x:Yn,y:Yn,z:Yn,perspective:Yn,transformPerspective:Yn,opacity:O2,originX:AK,originY:AK,originZ:Yn},uU={borderWidth:Yn,borderTopWidth:Yn,borderRightWidth:Yn,borderBottomWidth:Yn,borderLeftWidth:Yn,borderRadius:Yn,radius:Yn,borderTopLeftRadius:Yn,borderTopRightRadius:Yn,borderBottomRightRadius:Yn,borderBottomLeftRadius:Yn,width:Yn,maxWidth:Yn,height:Yn,maxHeight:Yn,top:Yn,right:Yn,bottom:Yn,left:Yn,inset:Yn,insetBlock:Yn,insetBlockStart:Yn,insetBlockEnd:Yn,insetInline:Yn,insetInlineStart:Yn,insetInlineEnd:Yn,padding:Yn,paddingTop:Yn,paddingRight:Yn,paddingBottom:Yn,paddingLeft:Yn,paddingBlock:Yn,paddingBlockStart:Yn,paddingBlockEnd:Yn,paddingInline:Yn,paddingInlineStart:Yn,paddingInlineEnd:Yn,margin:Yn,marginTop:Yn,marginRight:Yn,marginBottom:Yn,marginLeft:Yn,marginBlock:Yn,marginBlockStart:Yn,marginBlockEnd:Yn,marginInline:Yn,marginInlineStart:Yn,marginInlineEnd:Yn,backgroundPositionX:Yn,backgroundPositionY:Yn,...Bpt,zIndex:NK,fillOpacity:O2,strokeOpacity:O2,numOctaves:NK},Fpt={...uU,color:ra,backgroundColor:ra,outlineColor:ra,fill:ra,stroke:ra,borderColor:ra,borderTopColor:ra,borderRightColor:ra,borderBottomColor:ra,borderLeftColor:ra,filter:pB,WebkitFilter:pB},Vpe=t=>Fpt[t];function Gpe(t,e){let n=Vpe(t);return n!==pB&&(n=um),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $pt=new Set(["auto","none","0"]);function kpt(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!$pt.has(o)&&D2(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=Gpe(n,i)}class Upt extends oU{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),Q9(d))){const f=Lpe(d,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Bpe.has(r)||e.length!==2)return;const[i,o]=e,a=RK(i),s=RK(o),l=gK(i),c=gK(o);if(l!==c&&Ip[r]){this.needsMeasurement=!0;return}if(a!==s)if(CK(a)&&CK(s))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else Ip[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Ipt(e[i]))&&r.push(i);r.length&&kpt(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ip[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var s;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Ip[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(s=this.removedTransforms)!=null&&s.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function zpt(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const Hpe=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function mB(t){return npe(t)&&"offsetHeight"in t}const{schedule:dU,cancel:e_t}=mpe(queueMicrotask,!1),Lu={x:!1,y:!1};function jpe(){return Lu.x||Lu.y}function Vpt(t){return t==="x"||t==="y"?Lu[t]?null:(Lu[t]=!0,()=>{Lu[t]=!1}):Lu.x||Lu.y?null:(Lu.x=Lu.y=!0,()=>{Lu.x=Lu.y=!1})}function qpe(t,e){const n=zpt(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function IK(t){return!(t.pointerType==="touch"||jpe())}function Gpt(t,e,n={}){const[r,i,o]=qpe(t,n),a=s=>{if(!IK(s))return;const{target:l}=s,c=e(l,s);if(typeof c!="function"||!l)return;const u=d=>{IK(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(s=>{s.addEventListener("pointerenter",a,i)}),o}const Wpe=(t,e)=>e?t===e?!0:Wpe(t,e.parentElement):!1,fU=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Hpt=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Xpe(t){return Hpt.has(t.tagName)||t.isContentEditable===!0}const GE=new WeakSet;function OK(t){return e=>{e.key==="Enter"&&t(e)}}function zD(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jpt=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=OK(()=>{if(GE.has(n))return;zD(n,"down");const i=OK(()=>{zD(n,"up")}),o=()=>zD(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function DK(t){return fU(t)&&!jpe()}function qpt(t,e,n={}){const[r,i,o]=qpe(t,n),a=s=>{const l=s.currentTarget;if(!DK(s))return;GE.add(l);const c=e(l,s),u=(h,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),GE.has(l)&&GE.delete(l),DK(h)&&typeof c=="function"&&c(h,{success:p})},d=h=>{u(h,l===window||l===document||n.useGlobalTarget||Wpe(l,h.target))},f=h=>{u(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(s=>{(n.useGlobalTarget?window:s).addEventListener("pointerdown",a,i),mB(s)&&(s.addEventListener("focus",c=>jpt(c,i)),!Xpe(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),o}function Ype(t){return npe(t)&&"ownerSVGElement"in t}function Wpt(t){return Ype(t)&&t.tagName==="svg"}const Xpt=[...zpe,ra,um],Ypt=t=>Xpt.find(Upe(t)),LK=()=>({translate:0,scale:1,origin:0,originPoint:0}),Av=()=>({x:LK(),y:LK()}),BK=()=>({min:0,max:0}),pa=()=>({x:BK(),y:BK()}),gB={current:null},Kpe={current:!1},Kpt=typeof window<"u";function Qpt(){if(Kpe.current=!0,!!Kpt)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gB.current=t.matches;t.addEventListener("change",e),e()}else gB.current=!1}const Zpt=new WeakMap;function NN(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function L2(t){return typeof t=="string"||Array.isArray(t)}const hU=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pU=["initial",...hU];function IN(t){return NN(t.animate)||pU.some(e=>L2(t[e]))}function Qpe(t){return!!(IN(t)||t.variants)}function Jpt(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Es(i))t.addValue(r,i);else if(Es(o))t.addValue(r,Qy(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Qy(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const FK=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Q3={};function Zpe(t){Q3=t}function emt(){return Q3}class tmt{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oU,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Js.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,co.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!o,this.isControllingVariants=IN(n),this.isVariantNode=Qpe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];l[f]!==void 0&&Es(h)&&h.set(l[f])}}mount(e){var n;this.current=e,Zpt.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Kpe.current||Qpt(),this.shouldReduceMotion=gB.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),cm(this.notifyUpdate),cm(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=k1.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&co.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Q3){const n=Q3[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pa()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<FK.length;r++){const i=FK[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Jpt(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Qy(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(tpe(r)||rpe(r))?r=parseFloat(r):!Ypt(r)&&um.test(n)&&(r=Gpe(e,n)),this.setBaseTarget(e,Es(r)?r.get():r)),Es(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=lU(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Es(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new X9),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){dU.render(this.render)}}class Jpe extends tmt{constructor(){super(...arguments),this.KeyframeResolver=Upt}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Es(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Mm{constructor(e){this.isMounted=!1,this.node=e}update(){}}function eme({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function nmt({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rmt(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function VD(t){return t===void 0||t===1}function AB({scale:t,scaleX:e,scaleY:n}){return!VD(t)||!VD(e)||!VD(n)}function u0(t){return AB(t)||tme(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function tme(t){return $K(t.x)||$K(t.y)}function $K(t){return t&&t!=="0%"}function Z3(t,e,n){const r=t-n,i=e*r;return n+i}function kK(t,e,n,r,i){return i!==void 0&&(t=Z3(t,i,r)),Z3(t,n,r)+e}function vB(t,e=0,n=1,r,i){t.min=kK(t.min,e,n,r,i),t.max=kK(t.max,e,n,r,i)}function nme(t,{x:e,y:n}){vB(t.x,e.translate,e.scale,e.originPoint),vB(t.y,n.translate,n.scale,n.originPoint)}const UK=.999999999999,zK=1.0000000000001;function imt(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,a;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&yv(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,nme(t,a)),r&&u0(o.latestValues)&&yv(t,o.latestValues))}e.x<zK&&e.x>UK&&(e.x=1),e.y<zK&&e.y>UK&&(e.y=1)}function vv(t,e){t.min=t.min+e,t.max=t.max+e}function VK(t,e,n,r,i=.5){const o=Oo(t.min,t.max,i);vB(t,e,n,o,r)}function yv(t,e){VK(t.x,e.x,e.scaleX,e.scale,e.originX),VK(t.y,e.y,e.scaleY,e.scale,e.originY)}function rme(t,e){return eme(rmt(t.getBoundingClientRect(),e))}function omt(t,e,n){const r=rme(t,n),{scroll:i}=e;return i&&(vv(r.x,i.offset.x),vv(r.y,i.offset.y)),r}const amt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},smt=$1.length;function lmt(t,e,n){let r="",i=!0;for(let o=0;o<smt;o++){const a=$1[o],s=t[a];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(a.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){const c=Hpe(s,uU[a]);if(!l){i=!1;const u=amt[a]||a;r+=`${u}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function mU(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,s=!1;for(const l in e){const c=e[l];if(k1.has(l)){a=!0;continue}else if(Ape(l)){i[l]=c;continue}else{const u=Hpe(c,uU[l]);l.startsWith("origin")?(s=!0,o[l]=u):r[l]=u}}if(e.transform||(a||n?r.transform=lmt(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:c="50%",originZ:u=0}=o;r.transformOrigin=`${l} ${c} ${u}`}}function ime(t,{style:e,vars:n},r,i){const o=t.style;let a;for(a in e)o[a]=e[a];i==null||i.applyProjectionStyles(o,r);for(a in n)o.setProperty(a,n[a])}function GK(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nx={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Yn.test(t))t=parseFloat(t);else return t;const n=GK(t,e.target.x),r=GK(t,e.target.y);return`${n}% ${r}%`}},cmt={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=um.parse(t);if(i.length>5)return r;const o=um.createTransformer(t),a=typeof i[0]!="number"?1:0,s=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=s,i[1+a]/=l;const c=Oo(s,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),o(i)}},yB={borderRadius:{...nx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nx,borderTopRightRadius:nx,borderBottomLeftRadius:nx,borderBottomRightRadius:nx,boxShadow:cmt};function ome(t,{layout:e,layoutId:n}){return k1.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yB[t]||t==="opacity")}function gU(t,e,n){var a;const r=t.style,i=e==null?void 0:e.style,o={};if(!r)return o;for(const s in r)(Es(r[s])||i&&Es(i[s])||ome(s,t)||((a=n==null?void 0:n.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(o[s]=r[s]);return o}function umt(t){return window.getComputedStyle(t)}class dmt extends Jpe{constructor(){super(...arguments),this.type="html",this.renderInstance=ime}readValueFromInstance(e,n){var r;if(k1.has(n))return(r=this.projection)!=null&&r.isProjecting?oB(n):Uht(e,n);{const i=umt(e),o=(Ape(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rme(e,n)}build(e,n,r){mU(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return gU(e,n,r)}}const fmt={offset:"stroke-dashoffset",array:"stroke-dasharray"},hmt={offset:"strokeDashoffset",array:"strokeDasharray"};function pmt(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?fmt:hmt;t[o.offset]=`${-r}`,t[o.array]=`${e} ${n}`}const mmt=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function ame(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...s},l,c,u){if(mU(t,s,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox);for(const h of mmt)d[h]!==void 0&&(f[h]=d[h],delete d[h]);e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&pmt(d,i,o,a,!1)}const sme=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),lme=t=>typeof t=="string"&&t.toLowerCase()==="svg";function gmt(t,e,n,r){ime(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(sme.has(i)?i:cU(i),e.attrs[i])}function cme(t,e,n){const r=gU(t,e,n);for(const i in t)if(Es(t[i])||Es(e[i])){const o=$1.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}class Amt extends Jpe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pa}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(k1.has(n)){const r=Vpe(n);return r&&r.default||0}return n=sme.has(n)?n:cU(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return cme(e,n,r)}build(e,n,r){ame(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){gmt(e,n,r,i)}mount(e){this.isSVGTag=lme(e.tagName),super.mount(e)}}const vmt=pU.length;function ume(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ume(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vmt;n++){const r=pU[n],i=t.props[r];(L2(i)||i===!1)&&(e[r]=i)}return e}function dme(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ymt=[...hU].reverse(),bmt=hU.length;function xmt(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Rpt(t,n,r)))}function _mt(t){let e=xmt(t),n=HK(),r=!0;const i=l=>(c,u)=>{var f;const d=zv(t,u,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:p,..._}=d;c={...c,..._,...p}}return c};function o(l){e=l(t)}function a(l){const{props:c}=t,u=ume(t.parent)||{},d=[],f=new Set;let h={},p=1/0;for(let x=0;x<bmt;x++){const y=ymt[x],w=n[y],C=c[y]!==void 0?c[y]:u[y],M=L2(C),R=y===l?w.isActive:null;R===!1&&(p=x);let N=C===u[y]&&C!==c[y]&&M;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),w.protectedKeys={...h},!w.isActive&&R===null||!C&&!w.prevProp||NN(C)||typeof C=="boolean")continue;const I=Smt(w.prevProp,C);let B=I||y===l&&w.isActive&&!N&&M||x>p&&M,D=!1;const $=Array.isArray(C)?C:[C];let z=$.reduce(i(y),{});R===!1&&(z={});const{prevResolvedValues:V={}}=w,q={...V,...z},G=X=>{B=!0,f.has(X)&&(D=!0,f.delete(X)),w.needsAnimating[X]=!0;const Y=t.getValue(X);Y&&(Y.liveStyle=!1)};for(const X in q){const Y=z[X],ee=V[X];if(h.hasOwnProperty(X))continue;let Z=!1;dB(Y)&&dB(ee)?Z=!dme(Y,ee):Z=Y!==ee,Z?Y!=null?G(X):f.add(X):Y!==void 0&&f.has(X)?G(X):w.protectedKeys[X]=!0}w.prevProp=C,w.prevResolvedValues=z,w.isActive&&(h={...h,...z}),r&&t.blockInitialAnimation&&(B=!1);const j=N&&I;B&&(!j||D)&&d.push(...$.map(X=>{const Y={type:y};if(typeof X=="string"&&r&&!j&&t.manuallyAnimateOnMount&&t.parent){const{parent:ee}=t,Z=zv(ee,X);if(ee.enteringChildren&&Z){const{delayChildren:re}=Z.transition||{};Y.delay=Dpe(ee.enteringChildren,t,re)}}return{animation:X,options:Y}}))}if(f.size){const x={};if(typeof c.initial!="boolean"){const y=zv(t,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(x.transition=y.transition)}f.forEach(y=>{const w=t.getBaseTarget(y),C=t.getValue(y);C&&(C.liveStyle=!0),x[y]=w??null}),d.push({animation:x})}let _=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(d):Promise.resolve()}function s(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,c)}),n[l].isActive=c;const u=a(l);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:a,setActive:s,setAnimateFunction:o,getState:()=>n,reset:()=>{n=HK()}}}function Smt(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dme(e,t):!1}function r0(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HK(){return{animate:r0(!0),whileInView:r0(),whileHover:r0(),whileTap:r0(),whileDrag:r0(),whileFocus:r0(),exit:r0()}}function jK(t,e){t.min=e.min,t.max=e.max}function Ou(t,e){jK(t.x,e.x),jK(t.y,e.y)}function qK(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const fme=1e-4,wmt=1-fme,Cmt=1+fme,hme=.01,Tmt=0-hme,Emt=0+hme;function el(t){return t.max-t.min}function Mmt(t,e,n){return Math.abs(t-e)<=n}function WK(t,e,n,r=.5){t.origin=r,t.originPoint=Oo(e.min,e.max,t.origin),t.scale=el(n)/el(e),t.translate=Oo(n.min,n.max,t.origin)-t.originPoint,(t.scale>=wmt&&t.scale<=Cmt||isNaN(t.scale))&&(t.scale=1),(t.translate>=Tmt&&t.translate<=Emt||isNaN(t.translate))&&(t.translate=0)}function l_(t,e,n,r){WK(t.x,e.x,n.x,r?r.originX:void 0),WK(t.y,e.y,n.y,r?r.originY:void 0)}function XK(t,e,n){t.min=n.min+e.min,t.max=t.min+el(e)}function Pmt(t,e,n){XK(t.x,e.x,n.x),XK(t.y,e.y,n.y)}function YK(t,e,n){t.min=e.min-n.min,t.max=t.min+el(e)}function J3(t,e,n){YK(t.x,e.x,n.x),YK(t.y,e.y,n.y)}function KK(t,e,n,r,i){return t-=e,t=Z3(t,1/n,r),i!==void 0&&(t=Z3(t,1/i,r)),t}function Rmt(t,e=0,n=1,r=.5,i,o=t,a=t){if(df.test(e)&&(e=parseFloat(e),e=Oo(a.min,a.max,e/100)-a.min),typeof e!="number")return;let s=Oo(o.min,o.max,r);t===o&&(s-=e),t.min=KK(t.min,e,n,s,i),t.max=KK(t.max,e,n,s,i)}function QK(t,e,[n,r,i],o,a){Rmt(t,e[n],e[r],e[i],e.scale,o,a)}const Nmt=["x","scaleX","originX"],Imt=["y","scaleY","originY"];function ZK(t,e,n,r){QK(t.x,e,Nmt,n?n.x:void 0,r?r.x:void 0),QK(t.y,e,Imt,n?n.y:void 0,r?r.y:void 0)}function JK(t){return t.translate===0&&t.scale===1}function pme(t){return JK(t.x)&&JK(t.y)}function eQ(t,e){return t.min===e.min&&t.max===e.max}function Omt(t,e){return eQ(t.x,e.x)&&eQ(t.y,e.y)}function tQ(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function mme(t,e){return tQ(t.x,e.x)&&tQ(t.y,e.y)}function nQ(t){return el(t.x)/el(t.y)}function rQ(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Fc(t){return[t("x"),t("y")]}function Dmt(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const gme=["TopLeft","TopRight","BottomLeft","BottomRight"],Lmt=gme.length,iQ=t=>typeof t=="string"?parseFloat(t):t,oQ=t=>typeof t=="number"||Yn.test(t);function Bmt(t,e,n,r,i,o){i?(t.opacity=Oo(0,n.opacity??1,Fmt(r)),t.opacityExit=Oo(e.opacity??1,0,$mt(r))):o&&(t.opacity=Oo(e.opacity??1,n.opacity??1,r));for(let a=0;a<Lmt;a++){const s=`border${gme[a]}Radius`;let l=aQ(e,s),c=aQ(n,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||oQ(l)===oQ(c)?(t[s]=Math.max(Oo(iQ(l),iQ(c),r),0),(df.test(c)||df.test(l))&&(t[s]+="%")):t[s]=c}(e.rotate||n.rotate)&&(t.rotate=Oo(e.rotate||0,n.rotate||0,r))}function aQ(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Fmt=Ame(0,.5,dpe),$mt=Ame(.5,.95,nu);function Ame(t,e,n){return r=>r<t?0:r>e?1:n(I2(t,e,r))}function kmt(t,e,n){const r=Es(t)?t:Qy(t);return r.start(sU("",r,e,n)),r.animation}function B2(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Umt=(t,e)=>t.depth-e.depth;class zmt{constructor(){this.children=[],this.isDirty=!1}add(e){j9(this.children,e),this.isDirty=!0}remove(e){q9(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Umt),this.isDirty=!1,this.children.forEach(e)}}function Vmt(t,e){const n=Js.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(cm(r),t(o-e))};return co.setup(r,!0),()=>cm(r)}function HE(t){return Es(t)?t.get():t}class Gmt{constructor(){this.members=[]}add(e){j9(this.members,e),e.scheduleRender()}remove(e){if(q9(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const jE={hasAnimatedSinceResize:!0,hasEverUpdated:!1},GD=["","X","Y","Z"],Hmt=1e3;let jmt=0;function HD(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function vme(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=$pe(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",co,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&vme(r)}function yme({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},s=e==null?void 0:e()){this.id=jmt++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Xmt),this.nodes.forEach(Zmt),this.nodes.forEach(Jmt),this.nodes.forEach(Ymt)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new zmt)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new X9),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const l=this.eventHandlers.get(a);l&&l.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Ype(a)&&!Wpt(a),this.instance=a;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||s)&&(this.isLayoutDirty=!0),t){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;co.read(()=>{d=window.innerWidth}),t(a,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,u&&u(),u=Vmt(f,250),jE.hasAnimatedSinceResize&&(jE.hasAnimatedSinceResize=!1,this.nodes.forEach(cQ)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||i0t,{onLayoutAnimationStart:_,onLayoutAnimationComplete:x}=c.getProps(),y=!this.targetLayout||!mme(this.targetLayout,h),w=!d&&f;if(this.options.layoutRoot||this.resumeFrom||w||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...aU(p,"layout"),onPlay:_,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(u,w)}else d||cQ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cm(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(e0t),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vme(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sQ);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lQ);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Qmt),this.nodes.forEach(qmt),this.nodes.forEach(Wmt)):this.nodes.forEach(lQ),this.clearAllSnapshots();const s=Js.now();Ka.delta=bf(0,1e3/60,s-Ka.timestamp),Ka.timestamp=s,Ka.isProcessing=!0,LD.update.process(Ka),LD.preRender.process(Ka),LD.render.process(Ka),Ka.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dU.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kmt),this.sharedNodes.forEach(t0t)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,co.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){co.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!el(this.snapshot.measuredBox.x)&&!el(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=pa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!pme(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&this.instance&&(s||u0(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return a&&(l=this.removeTransform(l)),o0t(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return pa();const s=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(a0t))){const{scroll:u}=this.root;u&&(vv(s.x,u.offset.x),vv(s.y,u.offset.y))}return s}removeElementScroll(a){var l;const s=pa();if(Ou(s,a),(l=this.scroll)!=null&&l.wasRoot)return s;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Ou(s,a),vv(s.x,d.offset.x),vv(s.y,d.offset.y))}return s}applyTransform(a,s=!1){const l=pa();Ou(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&yv(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),u0(u.latestValues)&&yv(l,u.latestValues)}return u0(this.latestValues)&&yv(l,this.latestValues),l}removeTransform(a){const s=pa();Ou(s,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!u0(c.latestValues))continue;AB(c.latestValues)&&c.updateSnapshot();const u=pa(),d=c.measurePageBox();Ou(u,d),ZK(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return u0(this.latestValues)&&ZK(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ka.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!this.layout||!(u||d))return;this.resolvedRelativeTargetAt=Ka.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pa(),this.targetWithTransforms=pa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Pmt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ou(this.target,this.layout.layoutBox),nme(this.target,this.targetDelta)):Ou(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||AB(this.parent.latestValues)||tme(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,s,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pa(),this.relativeTargetOrigin=pa(),J3(this.relativeTargetOrigin,s,l),Ou(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const a=this.getLead(),s=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ka.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Ou(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;imt(this.layoutCorrected,this.treeScale,this.path,s),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=pa());const{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qK(this.prevProjectionDelta.x,this.projectionDelta.x),qK(this.prevProjectionDelta.y,this.projectionDelta.y)),l_(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!rQ(this.projectionDelta.x,this.prevProjectionDelta.x)||!rQ(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var s;if((s=this.options.visualElement)==null||s.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Av(),this.projectionDelta=Av(),this.projectionDeltaWithTransform=Av()}setAnimationOrigin(a,s=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Av();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const f=pa(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,_=h!==p,x=this.getStack(),y=!x||x.members.length<=1,w=!!(_&&!y&&this.options.crossfade===!0&&!this.path.some(r0t));this.animationProgress=0;let C;this.mixTargetDelta=M=>{const R=M/1e3;uQ(d.x,a.x,R),uQ(d.y,a.y,R),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(J3(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n0t(this.relativeTarget,this.relativeTargetOrigin,f,R),C&&Omt(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=pa()),Ou(C,this.relativeTarget)),_&&(this.animationValues=u,Bmt(u,c,this.latestValues,R,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var s,l,c;this.notifyListeners("animationStart"),(s=this.currentAnimation)==null||s.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(cm(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=co.update(()=>{jE.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qy(0)),this.currentAnimation=kmt(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hmt),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:u}=a;if(!(!s||!l||!c)){if(this!==a&&this.layout&&c&&bme(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||pa();const d=el(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=el(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Ou(s,l),yv(s,u),l_(this.projectionDeltaWithTransform,this.layoutCorrected,s,u)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Gmt),this.sharedNodes.get(a).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())==null?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())==null?void 0:s.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const c={};l.z&&HD("z",a,c,this.animationValues);for(let u=0;u<GD.length;u++)HD(`rotate${GD[u]}`,a,c,this.animationValues),HD(`skew${GD[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}applyProjectionStyles(a,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=HE(s==null?void 0:s.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=HE(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!u0(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=Dmt(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),a.transform=d;const{x:f,y:h}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in yB){if(u[p]===void 0)continue;const{correct:_,applyTo:x,isCSSVariable:y}=yB[p],w=d==="none"?u[p]:_(u[p],c);if(x){const C=x.length;for(let M=0;M<C;M++)a[x[M]]=w}else y?this.options.visualElement.renderState.vars[p]=w:a[p]=w}this.options.layoutId&&(a.pointerEvents=c===this?HE(s==null?void 0:s.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)==null?void 0:s.stop()}),this.root.nodes.forEach(sQ),this.root.sharedNodes.clear()}}}function qmt(t){t.updateLayout()}function Wmt(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?Fc(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],h=el(f);f.min=r[d].min,f.max=f.min+h}):bme(o,e.layoutBox,r)&&Fc(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],h=el(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const s=Av();l_(s,r,e.layoutBox);const l=Av();a?l_(l,t.applyTransform(i,!0),e.measuredBox):l_(l,r,e.layoutBox);const c=!pme(s);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=pa();J3(p,e.layoutBox,f.layoutBox);const _=pa();J3(_,r,h.layoutBox),mme(p,_)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Xmt(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ymt(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Kmt(t){t.clearSnapshot()}function sQ(t){t.clearMeasurements()}function lQ(t){t.isLayoutDirty=!1}function Qmt(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cQ(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Zmt(t){t.resolveTargetDelta()}function Jmt(t){t.calcProjection()}function e0t(t){t.resetSkewAndRotation()}function t0t(t){t.removeLeadSnapshot()}function uQ(t,e,n){t.translate=Oo(e.translate,0,n),t.scale=Oo(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function dQ(t,e,n,r){t.min=Oo(e.min,n.min,r),t.max=Oo(e.max,n.max,r)}function n0t(t,e,n,r){dQ(t.x,e.x,n.x,r),dQ(t.y,e.y,n.y,r)}function r0t(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const i0t={duration:.45,ease:[.4,0,.1,1]},fQ=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),hQ=fQ("applewebkit/")&&!fQ("chrome/")?Math.round:nu;function pQ(t){t.min=hQ(t.min),t.max=hQ(t.max)}function o0t(t){pQ(t.x),pQ(t.y)}function bme(t,e,n){return t==="position"||t==="preserve-aspect"&&!Mmt(nQ(e),nQ(n),.2)}function a0t(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const s0t=yme({attachResizeListener:(t,e)=>B2(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),jD={current:void 0},xme=yme({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jD.current){const t=new s0t({});t.mount(window),t.setOptions({layoutScroll:!0}),jD.current=t}return jD.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),AU=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function mQ(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function l0t(...t){return e=>{let n=!1;const r=t.map(i=>{const o=mQ(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():mQ(t[i],null)}}}}function c0t(...t){return S.useCallback(l0t(...t),t)}class u0t extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=mB(r)&&r.offsetWidth||0,o=mB(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=o-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function d0t({children:t,isPresent:e,anchorX:n,anchorY:r,root:i}){var d;const o=S.useId(),a=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=S.useContext(AU),c=((d=t.props)==null?void 0:d.ref)??(t==null?void 0:t.ref),u=c0t(a,c);return S.useInsertionEffect(()=>{const{width:f,height:h,top:p,left:_,right:x,bottom:y}=s.current;if(e||!a.current||!f||!h)return;const w=n==="left"?`left: ${_}`:`right: ${x}`,C=r==="bottom"?`bottom: ${y}`:`top: ${p}`;a.current.dataset.motionPopId=o;const M=document.createElement("style");l&&(M.nonce=l);const R=i??document.head;return R.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            ${w}px !important;
            ${C}px !important;
          }
        `),()=>{R.contains(M)&&R.removeChild(M)}},[e]),De.jsx(u0t,{isPresent:e,childRef:a,sizeRef:s,children:S.cloneElement(t,{ref:u})})}const f0t=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a,anchorX:s,anchorY:l,root:c})=>{const u=H9(h0t),d=S.useId();let f=!0,h=S.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:p=>{u.set(p,!0);for(const _ of u.values())if(!_)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return o&&f&&(h={...h}),S.useMemo(()=>{u.forEach((p,_)=>u.set(_,!1))},[n]),S.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=De.jsx(d0t,{isPresent:n,anchorX:s,anchorY:l,root:c,children:t})),De.jsx(RN.Provider,{value:h,children:t})};function h0t(){return new Map}function _me(t=!0){const e=S.useContext(RN);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=S.useId();S.useEffect(()=>{if(t)return i(o)},[t]);const a=S.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const qT=t=>t.key||"";function gQ(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const p0t=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:s="left",anchorY:l="top",root:c})=>{const[u,d]=_me(a),f=S.useMemo(()=>gQ(t),[t]),h=a&&!u?[]:f.map(qT),p=S.useRef(!0),_=S.useRef(f),x=H9(()=>new Map),y=S.useRef(new Set),[w,C]=S.useState(f),[M,R]=S.useState(f);epe(()=>{p.current=!1,_.current=f;for(let B=0;B<M.length;B++){const D=qT(M[B]);h.includes(D)?(x.delete(D),y.current.delete(D)):x.get(D)!==!0&&x.set(D,!1)}},[M,h.length,h.join("-")]);const N=[];if(f!==w){let B=[...f];for(let D=0;D<M.length;D++){const $=M[D],z=qT($);h.includes(z)||(B.splice(D,0,$),N.push($))}return o==="wait"&&N.length&&(B=N),R(gQ(B)),C(f),null}const{forceRender:I}=S.useContext(G9);return De.jsx(De.Fragment,{children:M.map(B=>{const D=qT(B),$=a&&!u?!1:f===M||h.includes(D),z=()=>{if(y.current.has(D))return;if(y.current.add(D),x.has(D))x.set(D,!0);else return;let V=!0;x.forEach(q=>{q||(V=!1)}),V&&(I==null||I(),R(_.current),a&&(d==null||d()),r&&r())};return De.jsx(f0t,{isPresent:$,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:c,onExitComplete:$?void 0:z,anchorX:s,anchorY:l,children:B},D)})})},Sme=S.createContext({strict:!1}),AQ={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let vQ=!1;function m0t(){if(vQ)return;const t={};for(const e in AQ)t[e]={isEnabled:n=>AQ[e].some(r=>!!n[r])};Zpe(t),vQ=!0}function wme(){return m0t(),emt()}function g0t(t){const e=wme();for(const n in t)e[n]={...e[n],...t[n]};Zpe(e)}const A0t=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eP(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||A0t.has(t)}let Cme=t=>!eP(t);function v0t(t){typeof t=="function"&&(Cme=e=>e.startsWith("on")?!eP(e):t(e))}try{v0t(require("@emotion/is-prop-valid").default)}catch{}function y0t(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Cme(i)||n===!0&&eP(i)||!e&&!eP(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const ON=S.createContext({});function b0t(t,e){if(IN(t)){const{initial:n,animate:r}=t;return{initial:n===!1||L2(n)?n:void 0,animate:L2(r)?r:void 0}}return t.inherit!==!1?e:{}}function x0t(t){const{initial:e,animate:n}=b0t(t,S.useContext(ON));return S.useMemo(()=>({initial:e,animate:n}),[yQ(e),yQ(n)])}function yQ(t){return Array.isArray(t)?t.join(" "):t}const vU=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Tme(t,e,n){for(const r in e)!Es(e[r])&&!ome(r,n)&&(t[r]=e[r])}function _0t({transformTemplate:t},e){return S.useMemo(()=>{const n=vU();return mU(n,e,t),Object.assign({},n.vars,n.style)},[e])}function S0t(t,e){const n=t.style||{},r={};return Tme(r,n,t),Object.assign(r,_0t(t,e)),r}function w0t(t,e){const n={},r=S0t(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Eme=()=>({...vU(),attrs:{}});function C0t(t,e,n,r){const i=S.useMemo(()=>{const o=Eme();return ame(o,e,lme(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Tme(o,t.style,t),i.style={...o,...i.style}}return i}const T0t=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yU(t){return typeof t!="string"||t.includes("-")?!1:!!(T0t.indexOf(t)>-1||/[A-Z]/u.test(t))}function E0t(t,e,n,{latestValues:r},i,o=!1,a){const l=(a??yU(t)?C0t:w0t)(e,r,i,t),c=y0t(e,typeof t=="string",o),u=t!==S.Fragment?{...c,...l,ref:n}:{},{children:d}=e,f=S.useMemo(()=>Es(d)?d.get():d,[d]);return S.createElement(t,{...u,children:f})}function M0t({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:P0t(n,r,i,t),renderState:e()}}function P0t(t,e,n,r){const i={},o=r(t,{});for(const f in o)i[f]=HE(o[f]);let{initial:a,animate:s}=t;const l=IN(t),c=Qpe(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),s===void 0&&(s=e.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const d=u?s:a;if(d&&typeof d!="boolean"&&!NN(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const p=lU(t,f[h]);if(p){const{transitionEnd:_,transition:x,...y}=p;for(const w in y){let C=y[w];if(Array.isArray(C)){const M=u?C.length-1:0;C=C[M]}C!==null&&(i[w]=C)}for(const w in _)i[w]=_[w]}}}return i}const Mme=t=>(e,n)=>{const r=S.useContext(ON),i=S.useContext(RN),o=()=>M0t(t,e,r,i);return n?o():H9(o)},R0t=Mme({scrapeMotionValuesFromProps:gU,createRenderState:vU}),N0t=Mme({scrapeMotionValuesFromProps:cme,createRenderState:Eme}),I0t=Symbol.for("motionComponentSymbol");function O0t(t,e,n){const r=S.useRef(n);S.useInsertionEffect(()=>{r.current=n});const i=S.useRef(null);return S.useCallback(o=>{var s;o&&((s=t.onMount)==null||s.call(t,o)),e&&(o?e.mount(o):e.unmount());const a=r.current;if(typeof a=="function")if(o){const l=a(o);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):a(o);else a&&(a.current=o)},[e])}const Pme=S.createContext({});function Mx(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function D0t(t,e,n,r,i,o){var x,y;const{visualElement:a}=S.useContext(ON),s=S.useContext(Sme),l=S.useContext(RN),c=S.useContext(AU).reducedMotion,u=S.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:o}));const d=u.current,f=S.useContext(Pme);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&L0t(u.current,n,i,f);const h=S.useRef(!1);S.useInsertionEffect(()=>{d&&h.current&&d.update(n,l)});const p=n[Fpe],_=S.useRef(!!p&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return epe(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),_.current&&d.animationState&&d.animationState.animateChanges())}),S.useEffect(()=>{d&&(!_.current&&d.animationState&&d.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,p)}),_.current=!1),d.enteringChildren=void 0)}),d}function L0t(t,e,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Rme(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||s&&Mx(s),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function Rme(t){if(t)return t.options.allowProjection!==!1?t.projection:Rme(t.parent)}function qD(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&g0t(r);const o=n?n==="svg":yU(t),a=o?N0t:R0t;function s(c,u){let d;const f={...S.useContext(AU),...c,layoutId:B0t(c)},{isStatic:h}=f,p=x0t(c),_=a(c,h);if(!h&&Jhe){F0t();const x=$0t(f);d=x.MeasureLayout,p.visualElement=D0t(t,_,f,i,x.ProjectionNode,o)}return De.jsxs(ON.Provider,{value:p,children:[d&&p.visualElement?De.jsx(d,{visualElement:p.visualElement,...f}):null,E0t(t,c,O0t(_,p.visualElement,u),_,h,e,o)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=S.forwardRef(s);return l[I0t]=t,l}function B0t({layoutId:t}){const e=S.useContext(G9).id;return e&&t!==void 0?e+"-"+t:t}function F0t(t,e){S.useContext(Sme).strict}function $0t(t){const e=wme(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function k0t(t,e){if(typeof Proxy>"u")return qD;const n=new Map,r=(o,a)=>qD(o,a,t,e),i=(o,a)=>r(o,a);return new Proxy(i,{get:(o,a)=>a==="create"?r:(n.has(a)||n.set(a,qD(a,void 0,t,e)),n.get(a))})}const U0t=(t,e)=>e.isSVG??yU(t)?new Amt(e):new dmt(e,{allowProjection:t!==S.Fragment});class z0t extends Mm{constructor(e){super(e),e.animationState||(e.animationState=_mt(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();NN(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let V0t=0;class G0t extends Mm{constructor(){super(...arguments),this.id=V0t++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const H0t={animation:{Feature:z0t},exit:{Feature:G0t}};function zS(t){return{point:{x:t.pageX,y:t.pageY}}}const j0t=t=>e=>fU(e)&&t(e,zS(e));function c_(t,e,n,r){return B2(t,e,j0t(n),r)}const Nme=({current:t})=>t?t.ownerDocument.defaultView:null,bQ=(t,e)=>Math.abs(t-e);function q0t(t,e){const n=bQ(t.x,e.x),r=bQ(t.y,e.y);return Math.sqrt(n**2+r**2)}const xQ=new Set(["auto","scroll"]);class Ime{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3,element:s}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=h=>{this.handleScroll(h.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=XD(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,_=q0t(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!_)return;const{point:x}=h,{timestamp:y}=Ka;this.history.push({...x,timestamp:y});const{onStart:w,onMove:C}=this.handlers;p||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=WD(p,this.transformPagePoint),co.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:_,onSessionEnd:x,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=XD(h.type==="pointercancel"?this.lastMoveEventInfo:WD(p,this.transformPagePoint),this.history);this.startEvent&&_&&_(h,w),x&&x(h,w)},!fU(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=zS(e),c=WD(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Ka;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,XD(c,this.history)),this.removeListeners=$S(c_(this.contextWindow,"pointermove",this.handlePointerMove),c_(this.contextWindow,"pointerup",this.handlePointerUp),c_(this.contextWindow,"pointercancel",this.handlePointerUp)),s&&this.startScrollTracking(s)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(xQ.has(r.overflowX)||xQ.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:i.x-n.x,y:i.y-n.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,i),co.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),cm(this.updatePoint)}}function WD(t,e){return e?{point:e(t.point)}:t}function _Q(t,e){return{x:t.x-e.x,y:t.y-e.y}}function XD({point:t},e){return{point:t,delta:_Q(t,Ome(e)),offset:_Q(t,W0t(e)),velocity:X0t(e,.1)}}function W0t(t){return t[0]}function Ome(t){return t[t.length-1]}function X0t(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Ome(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>uf(e)));)n--;if(!r)return{x:0,y:0};const o=Qc(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Y0t(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Oo(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Oo(n,t,r.max):Math.min(t,n)),t}function SQ(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function K0t(t,{top:e,left:n,bottom:r,right:i}){return{x:SQ(t.x,n,i),y:SQ(t.y,e,r)}}function wQ(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Q0t(t,e){return{x:wQ(t.x,e.x),y:wQ(t.y,e.y)}}function Z0t(t,e){let n=.5;const r=el(t),i=el(e);return i>r?n=I2(e.min,e.max-r,t.min):r>i&&(n=I2(t.min,t.max-i,e.min)),bf(0,1,n)}function J0t(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const bB=.35;function egt(t=bB){return t===!1?t=0:t===!0&&(t=bB),{x:CQ(t,"left","right"),y:CQ(t,"top","bottom")}}function CQ(t,e,n){return{min:TQ(t,e),max:TQ(t,n)}}function TQ(t,e){return typeof t=="number"?t:t[e]||0}const tgt=new WeakMap;class ngt{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pa(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=d=>{n?(this.stopAnimation(),this.snapToCursor(zS(d).point)):this.pauseAnimation()},a=(d,f)=>{this.stopAnimation();const{drag:h,dragPropagation:p,onDragStart:_}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Vpt(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fc(y=>{let w=this.getAxisMotionValue(y).get()||0;if(df.test(w)){const{projection:C}=this.visualElement;if(C&&C.layout){const M=C.layout.layoutBox[y];M&&(w=el(M)*(parseFloat(w)/100))}}this.originPoint[y]=w}),_&&co.postRender(()=>_(d,f)),fB(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},s=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:_,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=rgt(y),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Fc(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Ime(e,{onSessionStart:o,onStart:a,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:Nme(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&co.postRender(()=>s(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!WT(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Y0t(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Mx(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=K0t(r.layoutBox,e):this.constraints=!1,this.elastic=egt(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Fc(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=J0t(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Mx(e))return!1;const r=e.current;yg(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=omt(r,i.root,this.visualElement.getTransformPagePoint());let a=Q0t(i.layout.layoutBox,o);if(n){const s=n(nmt(a));this.hasMutatedConstraints=!!s,s&&(a=eme(s))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Fc(u=>{if(!WT(u,n,this.currentDirection))return;let d=l&&l[u]||{};a&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(s)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return fB(this.visualElement,e),r.start(sU(e,r,0,n,this.visualElement,!1))}stopAnimation(){Fc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fc(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Fc(n=>{const{drag:r}=this.getProps();if(!WT(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:s}=i.layout.layoutBox[n],l=o.get()||0;o.set(e[n]-Oo(a,s,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mx(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fc(a=>{const s=this.getAxisMotionValue(a);if(s&&this.constraints!==!1){const l=s.get();i[a]=Z0t({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fc(a=>{if(!WT(a,e,null))return;const s=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];s.set(Oo(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;tgt.set(this.visualElement,this);const e=this.visualElement.current,n=c_(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps(),d=l.target,f=d!==e&&Xpe(d);c&&u&&!f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Mx(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),co.read(r);const a=B2(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Fc(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=bB,dragMomentum:s=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:s}}}function WT(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function rgt(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class igt extends Mm{constructor(e){super(e),this.removeGroupControls=nu,this.removeListeners=nu,this.controls=new ngt(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nu}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const EQ=t=>(e,n)=>{t&&co.postRender(()=>t(e,n))};class ogt extends Mm{constructor(){super(...arguments),this.removePointerDownListener=nu}onPointerDown(e){this.session=new Ime(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nme(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:EQ(e),onStart:EQ(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&co.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=c_(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let YD=!1;class agt extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),YD&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),jE.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,YD=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||co.postRender(()=>{const s=a.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),dU.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;YD=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Dme(t){const[e,n]=_me(),r=S.useContext(G9);return De.jsx(agt,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(Pme),isPresent:e,safeToRemove:n})}const sgt={pan:{Feature:ogt},drag:{Feature:igt,ProjectionNode:xme,MeasureLayout:Dme}};function MQ(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&co.postRender(()=>o(e,zS(e)))}class lgt extends Mm{mount(){const{current:e}=this.node;e&&(this.unmount=Gpt(e,(n,r)=>(MQ(this.node,r,"Start"),i=>MQ(this.node,i,"End"))))}unmount(){}}class cgt extends Mm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$S(B2(this.node.current,"focus",()=>this.onFocus()),B2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function PQ(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&co.postRender(()=>o(e,zS(e)))}class ugt extends Mm{mount(){const{current:e}=this.node;e&&(this.unmount=qpt(e,(n,r)=>(PQ(this.node,r,"Start"),(i,{success:o})=>PQ(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xB=new WeakMap,KD=new WeakMap,dgt=t=>{const e=xB.get(t.target);e&&e(t)},fgt=t=>{t.forEach(dgt)};function hgt({root:t,...e}){const n=t||document;KD.has(n)||KD.set(n,{});const r=KD.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(fgt,{root:t,...e})),r[i]}function pgt(t,e,n){const r=hgt(e);return xB.set(t,n),r.observe(t),()=>{xB.delete(t),r.unobserve(t)}}const mgt={some:0,all:1};class ggt extends Mm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:mgt[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return pgt(this.node.current,a,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Agt(e,n))&&this.startObserver()}unmount(){}}function Agt({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const vgt={inView:{Feature:ggt},tap:{Feature:ugt},focus:{Feature:cgt},hover:{Feature:lgt}},ygt={layout:{ProjectionNode:xme,MeasureLayout:Dme}},bgt={...H0t,...vgt,...sgt,...ygt},Px=k0t(bgt,U0t),{Title:xgt}=_1,_gt=({onSelectCity:t})=>{const e=S.useRef(),[n,r]=S.useState(window.innerWidth),[i,o]=S.useState(null);S.useEffect(()=>{const c=()=>r(window.innerWidth);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),S.useEffect(()=>{e.current&&(e.current.controls().autoRotate=!0,e.current.controls().autoRotateSpeed=.5,e.current.controls().enableZoom=!1)},[]);const a=S.useMemo(()=>DD.map(c=>({...c,lat:c.position[0],lng:c.position[1],size:1.5,color:"#3B82F6"})),[]),s=c=>{const u=DD.find(d=>d.name===c);u&&(t(u),e.current&&e.current.pointOfView({lat:u.position[0],lng:u.position[1],altitude:1.5},1e3))},l=DD.map(c=>({value:c.name,label:c.name}));return De.jsxs("div",{className:"relative w-full h-[500px] bg-[#000011] rounded-xl overflow-hidden shadow-2xl border border-border group mb-8",children:[De.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-30 w-full max-w-md px-4 pointer-events-auto",children:De.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-2 rounded-full border border-white/20 shadow-xl flex items-center transition-all hover:bg-white/20 focus-within:bg-white/20",children:[De.jsx(Z6,{className:"text-white ml-3 mr-2 w-5 h-5"}),De.jsx(RMe,{options:l,style:{width:"100%"},onSelect:s,placeholder:"Search for a city...",bordered:!1,className:"text-white placeholder-white",filterOption:(c,u)=>u.value.toUpperCase().indexOf(c.toUpperCase())!==-1,popupClassName:"z-50",children:De.jsx(Bc,{className:"bg-transparent text-white placeholder-gray-300 border-none focus:ring-0 text-lg font-heading"})})]})}),De.jsx("div",{className:"absolute top-4 left-4 z-10 p-4 pointer-events-none select-none",children:De.jsx(xgt,{level:4,className:"!text-white !mb-1 font-heading drop-shadow-md",children:"Select Destination"})}),i&&De.jsx(Px.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-10 bg-white/95 backdrop-blur-md px-6 py-3 rounded-full shadow-xl border border-white/50 pointer-events-none",children:De.jsx("h3",{className:"font-heading font-bold text-xl text-primary m-0 text-center",children:i.name})}),De.jsx(V9,{ref:e,width:n>1200?n-400:n-50,height:500,globeImageUrl:"//unpkg.com/three-globe/example/img/earth-blue-marble.jpg",bumpImageUrl:"//unpkg.com/three-globe/example/img/earth-topology.png",backgroundImageUrl:"//unpkg.com/three-globe/example/img/night-sky.png",atmosphereColor:"#3B82F6",atmosphereAltitude:.15,pointsData:a,pointLat:"lat",pointLng:"lng",pointColor:"color",pointAltitude:.08,pointRadius:"size",pointsMerge:!1,onPointHover:c=>{o(c||null),document.body.style.cursor=c?"pointer":"default",e.current&&(e.current.controls().autoRotate=!c)},onPointClick:c=>{c&&t(c)},labelsData:a,labelLat:"lat",labelLng:"lng",labelText:"name",labelSize:2,labelDotRadius:1,labelColor:()=>"rgba(255, 255, 255, 1)",labelResolution:2,onLabelClick:c=>{c&&t(c)}})]})};function Lme(t,e){const n=S.useRef(e);S.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const Sgt=1;function wgt(t){return Object.freeze({__version:Sgt,map:t})}function Cgt(t,e){return Object.freeze({...t,...e})}const Bme=S.createContext(null),Fme=Bme.Provider;function bU(){const t=S.useContext(Bme);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Tgt(t){function e(n,r){const{instance:i,context:o}=t(n).current;return S.useImperativeHandle(r,()=>i),n.children==null?null:Ye.createElement(Fme,{value:o},n.children)}return S.forwardRef(e)}function Egt(t){function e(n,r){const[i,o]=S.useState(!1),{instance:a}=t(n,o).current;S.useImperativeHandle(r,()=>a),S.useEffect(function(){i&&a.update()},[a,i,n.children]);const s=a._contentNode;return s?rd.createPortal(n.children,s):null}return S.forwardRef(e)}function Mgt(t){function e(n,r){const{instance:i}=t(n).current;return S.useImperativeHandle(r,()=>i),null}return S.forwardRef(e)}function $me(t,e){const n=S.useRef();S.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function xU(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function Pgt(t,e){return function(r,i){const o=bU(),a=t(xU(r,o),o);return Lme(o.map,r.attribution),$me(a.current,r.eventHandlers),e(a.current,o,r,i),a}}var _B={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(bh,function(n){var r="1.9.4";function i(v){var P,k,K,oe;for(k=1,K=arguments.length;k<K;k++){oe=arguments[k];for(P in oe)v[P]=oe[P]}return v}var o=Object.create||function(){function v(){}return function(P){return v.prototype=P,new v}}();function a(v,P){var k=Array.prototype.slice;if(v.bind)return v.bind.apply(v,k.call(arguments,1));var K=k.call(arguments,2);return function(){return v.apply(P,K.length?K.concat(k.call(arguments)):arguments)}}var s=0;function l(v){return"_leaflet_id"in v||(v._leaflet_id=++s),v._leaflet_id}function c(v,P,k){var K,oe,be,Je;return Je=function(){K=!1,oe&&(be.apply(k,oe),oe=!1)},be=function(){K?oe=arguments:(v.apply(k,arguments),setTimeout(Je,P),K=!0)},be}function u(v,P,k){var K=P[1],oe=P[0],be=K-oe;return v===K&&k?v:((v-oe)%be+be)%be+oe}function d(){return!1}function f(v,P){if(P===!1)return v;var k=Math.pow(10,P===void 0?6:P);return Math.round(v*k)/k}function h(v){return v.trim?v.trim():v.replace(/^\s+|\s+$/g,"")}function p(v){return h(v).split(/\s+/)}function _(v,P){Object.prototype.hasOwnProperty.call(v,"options")||(v.options=v.options?o(v.options):{});for(var k in P)v.options[k]=P[k];return v.options}function x(v,P,k){var K=[];for(var oe in v)K.push(encodeURIComponent(k?oe.toUpperCase():oe)+"="+encodeURIComponent(v[oe]));return(!P||P.indexOf("?")===-1?"?":"&")+K.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function w(v,P){return v.replace(y,function(k,K){var oe=P[K];if(oe===void 0)throw new Error("No value provided for variable "+k);return typeof oe=="function"&&(oe=oe(P)),oe})}var C=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"};function M(v,P){for(var k=0;k<v.length;k++)if(v[k]===P)return k;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function N(v){return window["webkit"+v]||window["moz"+v]||window["ms"+v]}var I=0;function B(v){var P=+new Date,k=Math.max(0,16-(P-I));return I=P+k,window.setTimeout(v,k)}var D=window.requestAnimationFrame||N("RequestAnimationFrame")||B,$=window.cancelAnimationFrame||N("CancelAnimationFrame")||N("CancelRequestAnimationFrame")||function(v){window.clearTimeout(v)};function z(v,P,k){if(k&&D===B)v.call(P);else return D.call(window,a(v,P))}function V(v){v&&$.call(window,v)}var q={__proto__:null,extend:i,create:o,bind:a,get lastId(){return s},stamp:l,throttle:c,wrapNum:u,falseFn:d,formatNum:f,trim:h,splitWords:p,setOptions:_,getParamString:x,template:w,isArray:C,indexOf:M,emptyImageUrl:R,requestFn:D,cancelFn:$,requestAnimFrame:z,cancelAnimFrame:V};function G(){}G.extend=function(v){var P=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=P.__super__=this.prototype,K=o(k);K.constructor=P,P.prototype=K;for(var oe in this)Object.prototype.hasOwnProperty.call(this,oe)&&oe!=="prototype"&&oe!=="__super__"&&(P[oe]=this[oe]);return v.statics&&i(P,v.statics),v.includes&&(j(v.includes),i.apply(null,[K].concat(v.includes))),i(K,v),delete K.statics,delete K.includes,K.options&&(K.options=k.options?o(k.options):{},i(K.options,v.options)),K._initHooks=[],K.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var be=0,Je=K._initHooks.length;be<Je;be++)K._initHooks[be].call(this)}},P},G.include=function(v){var P=this.prototype.options;return i(this.prototype,v),v.options&&(this.prototype.options=P,this.mergeOptions(v.options)),this},G.mergeOptions=function(v){return i(this.prototype.options,v),this},G.addInitHook=function(v){var P=Array.prototype.slice.call(arguments,1),k=typeof v=="function"?v:function(){this[v].apply(this,P)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};function j(v){if(!(typeof L>"u"||!L||!L.Mixin)){v=C(v)?v:[v];for(var P=0;P<v.length;P++)v[P]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var H={on:function(v,P,k){if(typeof v=="object")for(var K in v)this._on(K,v[K],P);else{v=p(v);for(var oe=0,be=v.length;oe<be;oe++)this._on(v[oe],P,k)}return this},off:function(v,P,k){if(!arguments.length)delete this._events;else if(typeof v=="object")for(var K in v)this._off(K,v[K],P);else{v=p(v);for(var oe=arguments.length===1,be=0,Je=v.length;be<Je;be++)oe?this._off(v[be]):this._off(v[be],P,k)}return this},_on:function(v,P,k,K){if(typeof P!="function"){console.warn("wrong listener type: "+typeof P);return}if(this._listens(v,P,k)===!1){k===this&&(k=void 0);var oe={fn:P,ctx:k};K&&(oe.once=!0),this._events=this._events||{},this._events[v]=this._events[v]||[],this._events[v].push(oe)}},_off:function(v,P,k){var K,oe,be;if(this._events&&(K=this._events[v],!!K)){if(arguments.length===1){if(this._firingCount)for(oe=0,be=K.length;oe<be;oe++)K[oe].fn=d;delete this._events[v];return}if(typeof P!="function"){console.warn("wrong listener type: "+typeof P);return}var Je=this._listens(v,P,k);if(Je!==!1){var Ct=K[Je];this._firingCount&&(Ct.fn=d,this._events[v]=K=K.slice()),K.splice(Je,1)}}},fire:function(v,P,k){if(!this.listens(v,k))return this;var K=i({},P,{type:v,target:this,sourceTarget:P&&P.sourceTarget||this});if(this._events){var oe=this._events[v];if(oe){this._firingCount=this._firingCount+1||1;for(var be=0,Je=oe.length;be<Je;be++){var Ct=oe[be],Bt=Ct.fn;Ct.once&&this.off(v,Bt,Ct.ctx),Bt.call(Ct.ctx||this,K)}this._firingCount--}}return k&&this._propagateEvent(K),this},listens:function(v,P,k,K){typeof v!="string"&&console.warn('"string" type argument expected');var oe=P;typeof P!="function"&&(K=!!P,oe=void 0,k=void 0);var be=this._events&&this._events[v];if(be&&be.length&&this._listens(v,oe,k)!==!1)return!0;if(K){for(var Je in this._eventParents)if(this._eventParents[Je].listens(v,P,k,K))return!0}return!1},_listens:function(v,P,k){if(!this._events)return!1;var K=this._events[v]||[];if(!P)return!!K.length;k===this&&(k=void 0);for(var oe=0,be=K.length;oe<be;oe++)if(K[oe].fn===P&&K[oe].ctx===k)return oe;return!1},once:function(v,P,k){if(typeof v=="object")for(var K in v)this._on(K,v[K],P,!0);else{v=p(v);for(var oe=0,be=v.length;oe<be;oe++)this._on(v[oe],P,k,!0)}return this},addEventParent:function(v){return this._eventParents=this._eventParents||{},this._eventParents[l(v)]=v,this},removeEventParent:function(v){return this._eventParents&&delete this._eventParents[l(v)],this},_propagateEvent:function(v){for(var P in this._eventParents)this._eventParents[P].fire(v.type,i({layer:v.target,propagatedFrom:v.target},v),!0)}};H.addEventListener=H.on,H.removeEventListener=H.clearAllEventListeners=H.off,H.addOneTimeEventListener=H.once,H.fireEvent=H.fire,H.hasEventListeners=H.listens;var X=G.extend(H);function Y(v,P,k){this.x=k?Math.round(v):v,this.y=k?Math.round(P):P}var ee=Math.trunc||function(v){return v>0?Math.floor(v):Math.ceil(v)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(v){return this.clone()._add(Z(v))},_add:function(v){return this.x+=v.x,this.y+=v.y,this},subtract:function(v){return this.clone()._subtract(Z(v))},_subtract:function(v){return this.x-=v.x,this.y-=v.y,this},divideBy:function(v){return this.clone()._divideBy(v)},_divideBy:function(v){return this.x/=v,this.y/=v,this},multiplyBy:function(v){return this.clone()._multiplyBy(v)},_multiplyBy:function(v){return this.x*=v,this.y*=v,this},scaleBy:function(v){return new Y(this.x*v.x,this.y*v.y)},unscaleBy:function(v){return new Y(this.x/v.x,this.y/v.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(v){v=Z(v);var P=v.x-this.x,k=v.y-this.y;return Math.sqrt(P*P+k*k)},equals:function(v){return v=Z(v),v.x===this.x&&v.y===this.y},contains:function(v){return v=Z(v),Math.abs(v.x)<=Math.abs(this.x)&&Math.abs(v.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function Z(v,P,k){return v instanceof Y?v:C(v)?new Y(v[0],v[1]):v==null?v:typeof v=="object"&&"x"in v&&"y"in v?new Y(v.x,v.y):new Y(v,P,k)}function re(v,P){if(v)for(var k=P?[v,P]:v,K=0,oe=k.length;K<oe;K++)this.extend(k[K])}re.prototype={extend:function(v){var P,k;if(!v)return this;if(v instanceof Y||typeof v[0]=="number"||"x"in v)P=k=Z(v);else if(v=ae(v),P=v.min,k=v.max,!P||!k)return this;return!this.min&&!this.max?(this.min=P.clone(),this.max=k.clone()):(this.min.x=Math.min(P.x,this.min.x),this.max.x=Math.max(k.x,this.max.x),this.min.y=Math.min(P.y,this.min.y),this.max.y=Math.max(k.y,this.max.y)),this},getCenter:function(v){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,v)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(v){var P,k;return typeof v[0]=="number"||v instanceof Y?v=Z(v):v=ae(v),v instanceof re?(P=v.min,k=v.max):P=k=v,P.x>=this.min.x&&k.x<=this.max.x&&P.y>=this.min.y&&k.y<=this.max.y},intersects:function(v){v=ae(v);var P=this.min,k=this.max,K=v.min,oe=v.max,be=oe.x>=P.x&&K.x<=k.x,Je=oe.y>=P.y&&K.y<=k.y;return be&&Je},overlaps:function(v){v=ae(v);var P=this.min,k=this.max,K=v.min,oe=v.max,be=oe.x>P.x&&K.x<k.x,Je=oe.y>P.y&&K.y<k.y;return be&&Je},isValid:function(){return!!(this.min&&this.max)},pad:function(v){var P=this.min,k=this.max,K=Math.abs(P.x-k.x)*v,oe=Math.abs(P.y-k.y)*v;return ae(Z(P.x-K,P.y-oe),Z(k.x+K,k.y+oe))},equals:function(v){return v?(v=ae(v),this.min.equals(v.getTopLeft())&&this.max.equals(v.getBottomRight())):!1}};function ae(v,P){return!v||v instanceof re?v:new re(v,P)}function ce(v,P){if(v)for(var k=P?[v,P]:v,K=0,oe=k.length;K<oe;K++)this.extend(k[K])}ce.prototype={extend:function(v){var P=this._southWest,k=this._northEast,K,oe;if(v instanceof ge)K=v,oe=v;else if(v instanceof ce){if(K=v._southWest,oe=v._northEast,!K||!oe)return this}else return v?this.extend(se(v)||he(v)):this;return!P&&!k?(this._southWest=new ge(K.lat,K.lng),this._northEast=new ge(oe.lat,oe.lng)):(P.lat=Math.min(K.lat,P.lat),P.lng=Math.min(K.lng,P.lng),k.lat=Math.max(oe.lat,k.lat),k.lng=Math.max(oe.lng,k.lng)),this},pad:function(v){var P=this._southWest,k=this._northEast,K=Math.abs(P.lat-k.lat)*v,oe=Math.abs(P.lng-k.lng)*v;return new ce(new ge(P.lat-K,P.lng-oe),new ge(k.lat+K,k.lng+oe))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(v){typeof v[0]=="number"||v instanceof ge||"lat"in v?v=se(v):v=he(v);var P=this._southWest,k=this._northEast,K,oe;return v instanceof ce?(K=v.getSouthWest(),oe=v.getNorthEast()):K=oe=v,K.lat>=P.lat&&oe.lat<=k.lat&&K.lng>=P.lng&&oe.lng<=k.lng},intersects:function(v){v=he(v);var P=this._southWest,k=this._northEast,K=v.getSouthWest(),oe=v.getNorthEast(),be=oe.lat>=P.lat&&K.lat<=k.lat,Je=oe.lng>=P.lng&&K.lng<=k.lng;return be&&Je},overlaps:function(v){v=he(v);var P=this._southWest,k=this._northEast,K=v.getSouthWest(),oe=v.getNorthEast(),be=oe.lat>P.lat&&K.lat<k.lat,Je=oe.lng>P.lng&&K.lng<k.lng;return be&&Je},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(v,P){return v?(v=he(v),this._southWest.equals(v.getSouthWest(),P)&&this._northEast.equals(v.getNorthEast(),P)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(v,P){return v instanceof ce?v:new ce(v,P)}function ge(v,P,k){if(isNaN(v)||isNaN(P))throw new Error("Invalid LatLng object: ("+v+", "+P+")");this.lat=+v,this.lng=+P,k!==void 0&&(this.alt=+k)}ge.prototype={equals:function(v,P){if(!v)return!1;v=se(v);var k=Math.max(Math.abs(this.lat-v.lat),Math.abs(this.lng-v.lng));return k<=(P===void 0?1e-9:P)},toString:function(v){return"LatLng("+f(this.lat,v)+", "+f(this.lng,v)+")"},distanceTo:function(v){return ye.distance(this,se(v))},wrap:function(){return ye.wrapLatLng(this)},toBounds:function(v){var P=180*v/40075017,k=P/Math.cos(Math.PI/180*this.lat);return he([this.lat-P,this.lng-k],[this.lat+P,this.lng+k])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function se(v,P,k){return v instanceof ge?v:C(v)&&typeof v[0]!="object"?v.length===3?new ge(v[0],v[1],v[2]):v.length===2?new ge(v[0],v[1]):null:v==null?v:typeof v=="object"&&"lat"in v?new ge(v.lat,"lng"in v?v.lng:v.lon,v.alt):P===void 0?null:new ge(v,P,k)}var me={latLngToPoint:function(v,P){var k=this.projection.project(v),K=this.scale(P);return this.transformation._transform(k,K)},pointToLatLng:function(v,P){var k=this.scale(P),K=this.transformation.untransform(v,k);return this.projection.unproject(K)},project:function(v){return this.projection.project(v)},unproject:function(v){return this.projection.unproject(v)},scale:function(v){return 256*Math.pow(2,v)},zoom:function(v){return Math.log(v/256)/Math.LN2},getProjectedBounds:function(v){if(this.infinite)return null;var P=this.projection.bounds,k=this.scale(v),K=this.transformation.transform(P.min,k),oe=this.transformation.transform(P.max,k);return new re(K,oe)},infinite:!1,wrapLatLng:function(v){var P=this.wrapLng?u(v.lng,this.wrapLng,!0):v.lng,k=this.wrapLat?u(v.lat,this.wrapLat,!0):v.lat,K=v.alt;return new ge(k,P,K)},wrapLatLngBounds:function(v){var P=v.getCenter(),k=this.wrapLatLng(P),K=P.lat-k.lat,oe=P.lng-k.lng;if(K===0&&oe===0)return v;var be=v.getSouthWest(),Je=v.getNorthEast(),Ct=new ge(be.lat-K,be.lng-oe),Bt=new ge(Je.lat-K,Je.lng-oe);return new ce(Ct,Bt)}},ye=i({},me,{wrapLng:[-180,180],R:6371e3,distance:function(v,P){var k=Math.PI/180,K=v.lat*k,oe=P.lat*k,be=Math.sin((P.lat-v.lat)*k/2),Je=Math.sin((P.lng-v.lng)*k/2),Ct=be*be+Math.cos(K)*Math.cos(oe)*Je*Je,Bt=2*Math.atan2(Math.sqrt(Ct),Math.sqrt(1-Ct));return this.R*Bt}}),we=6378137,Ee={R:we,MAX_LATITUDE:85.0511287798,project:function(v){var P=Math.PI/180,k=this.MAX_LATITUDE,K=Math.max(Math.min(k,v.lat),-k),oe=Math.sin(K*P);return new Y(this.R*v.lng*P,this.R*Math.log((1+oe)/(1-oe))/2)},unproject:function(v){var P=180/Math.PI;return new ge((2*Math.atan(Math.exp(v.y/this.R))-Math.PI/2)*P,v.x*P/this.R)},bounds:function(){var v=we*Math.PI;return new re([-v,-v],[v,v])}()};function Me(v,P,k,K){if(C(v)){this._a=v[0],this._b=v[1],this._c=v[2],this._d=v[3];return}this._a=v,this._b=P,this._c=k,this._d=K}Me.prototype={transform:function(v,P){return this._transform(v.clone(),P)},_transform:function(v,P){return P=P||1,v.x=P*(this._a*v.x+this._b),v.y=P*(this._c*v.y+this._d),v},untransform:function(v,P){return P=P||1,new Y((v.x/P-this._b)/this._a,(v.y/P-this._d)/this._c)}};function Oe(v,P,k,K){return new Me(v,P,k,K)}var Ue=i({},ye,{code:"EPSG:3857",projection:Ee,transformation:function(){var v=.5/(Math.PI*Ee.R);return Oe(v,.5,-v,.5)}()}),Se=i({},Ue,{code:"EPSG:900913"});function _e(v){return document.createElementNS("http://www.w3.org/2000/svg",v)}function ve(v,P){var k="",K,oe,be,Je,Ct,Bt;for(K=0,be=v.length;K<be;K++){for(Ct=v[K],oe=0,Je=Ct.length;oe<Je;oe++)Bt=Ct[oe],k+=(oe?"L":"M")+Bt.x+" "+Bt.y;k+=P?Pe.svg?"z":"x":""}return k||"M0 0"}var Ge=document.documentElement.style,ue="ActiveXObject"in window,at=ue&&!document.addEventListener,nt="msLaunchUri"in navigator&&!("documentMode"in document),ct=Ut("webkit"),Ze=Ut("android"),pe=Ut("android 2")||Ut("android 3"),te=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ne=Ze&&Ut("Google")&&te<537&&!("AudioNode"in window),qe=!!window.opera,gt=!nt&&Ut("chrome"),tt=Ut("gecko")&&!ct&&!qe&&!ue,wt=!gt&&Ut("safari"),_t=Ut("phantom"),Et="OTransition"in Ge,Tt=navigator.platform.indexOf("Win")===0,ht=ue&&"transition"in Ge,Xe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pe,pt="MozPerspective"in Ge,ut=!window.L_DISABLE_3D&&(ht||Xe||pt)&&!Et&&!_t,Ke=typeof orientation<"u"||Ut("mobile"),Rt=Ke&&ct,$e=Ke&&Xe,$t=!window.PointerEvent&&window.MSPointerEvent,Lt=!!(window.PointerEvent||$t),tn="ontouchstart"in window||!!window.TouchEvent,Qe=!window.L_NO_TOUCH&&(tn||Lt),Pt=Ke&&qe,Ft=Ke&&tt,Yt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rn=function(){var v=!1;try{var P=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("testPassiveEventSupport",d,P),window.removeEventListener("testPassiveEventSupport",d,P)}catch{}return v}(),Cn=function(){return!!document.createElement("canvas").getContext}(),dn=!!(document.createElementNS&&_e("svg").createSVGRect),Mn=!!dn&&function(){var v=document.createElement("div");return v.innerHTML="<svg/>",(v.firstChild&&v.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Tn=!dn&&function(){try{var v=document.createElement("div");v.innerHTML='<v:shape adj="1"/>';var P=v.firstChild;return P.style.behavior="url(#default#VML)",P&&typeof P.adj=="object"}catch{return!1}}(),Qt=navigator.platform.indexOf("Mac")===0,Gt=navigator.platform.indexOf("Linux")===0;function Ut(v){return navigator.userAgent.toLowerCase().indexOf(v)>=0}var Pe={ie:ue,ielt9:at,edge:nt,webkit:ct,android:Ze,android23:pe,androidStock:Ne,opera:qe,chrome:gt,gecko:tt,safari:wt,phantom:_t,opera12:Et,win:Tt,ie3d:ht,webkit3d:Xe,gecko3d:pt,any3d:ut,mobile:Ke,mobileWebkit:Rt,mobileWebkit3d:$e,msPointer:$t,pointer:Lt,touch:Qe,touchNative:tn,mobileOpera:Pt,mobileGecko:Ft,retina:Yt,passiveEvents:Rn,canvas:Cn,svg:dn,vml:Tn,inlineSvg:Mn,mac:Qt,linux:Gt},mt=Pe.msPointer?"MSPointerDown":"pointerdown",St=Pe.msPointer?"MSPointerMove":"pointermove",xt=Pe.msPointer?"MSPointerUp":"pointerup",m=Pe.msPointer?"MSPointerCancel":"pointercancel",de={touchstart:mt,touchmove:St,touchend:xt,touchcancel:m},gn={touchstart:er,touchmove:Bn,touchend:Bn,touchcancel:Bn},Pn={},tr=!1;function bn(v,P,k){return P==="touchstart"&&cn(),gn[P]?(k=gn[P].bind(this,k),v.addEventListener(de[P],k,!1),k):(console.warn("wrong event specified:",P),d)}function Gn(v,P,k){if(!de[P]){console.warn("wrong event specified:",P);return}v.removeEventListener(de[P],k,!1)}function _r(v){Pn[v.pointerId]=v}function Ln(v){Pn[v.pointerId]&&(Pn[v.pointerId]=v)}function Dt(v){delete Pn[v.pointerId]}function cn(){tr||(document.addEventListener(mt,_r,!0),document.addEventListener(St,Ln,!0),document.addEventListener(xt,Dt,!0),document.addEventListener(m,Dt,!0),tr=!0)}function Bn(v,P){if(P.pointerType!==(P.MSPOINTER_TYPE_MOUSE||"mouse")){P.touches=[];for(var k in Pn)P.touches.push(Pn[k]);P.changedTouches=[P],v(P)}}function er(v,P){P.MSPOINTER_TYPE_TOUCH&&P.pointerType===P.MSPOINTER_TYPE_TOUCH&&mo(P),Bn(v,P)}function Ae(v){var P={},k,K;for(K in v)k=v[K],P[K]=k&&k.bind?k.bind(v):k;return v=P,P.type="dblclick",P.detail=2,P.isTrusted=!1,P._simulated=!0,P}var Ve=200;function lt(v,P){v.addEventListener("dblclick",P);var k=0,K;function oe(be){if(be.detail!==1){K=be.detail;return}if(!(be.pointerType==="mouse"||be.sourceCapabilities&&!be.sourceCapabilities.firesTouchEvents)){var Je=vu(be);if(!(Je.some(function(Bt){return Bt instanceof HTMLLabelElement&&Bt.attributes.for})&&!Je.some(function(Bt){return Bt instanceof HTMLInputElement||Bt instanceof HTMLSelectElement}))){var Ct=Date.now();Ct-k<=Ve?(K++,K===2&&P(Ae(be))):K=1,k=Ct}}}return v.addEventListener("click",oe),{dblclick:P,simDblclick:oe}}function dt(v,P){v.removeEventListener("dblclick",P.dblclick),v.removeEventListener("click",P.simDblclick)}var He=An(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Nt=An(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ht=Nt==="webkitTransition"||Nt==="OTransition"?Nt+"End":"transitionend";function Ot(v){return typeof v=="string"?document.getElementById(v):v}function fe(v,P){var k=v.style[P]||v.currentStyle&&v.currentStyle[P];if((!k||k==="auto")&&document.defaultView){var K=document.defaultView.getComputedStyle(v,null);k=K?K[P]:null}return k==="auto"?null:k}function Mt(v,P,k){var K=document.createElement(v);return K.className=P||"",k&&k.appendChild(K),K}function fn(v){var P=v.parentNode;P&&P.removeChild(v)}function wn(v){for(;v.firstChild;)v.removeChild(v.firstChild)}function Hn(v){var P=v.parentNode;P&&P.lastChild!==v&&P.appendChild(v)}function lr(v){var P=v.parentNode;P&&P.firstChild!==v&&P.insertBefore(v,P.firstChild)}function Lr(v,P){if(v.classList!==void 0)return v.classList.contains(P);var k=en(v);return k.length>0&&new RegExp("(^|\\s)"+P+"(\\s|$)").test(k)}function le(v,P){if(v.classList!==void 0)for(var k=p(P),K=0,oe=k.length;K<oe;K++)v.classList.add(k[K]);else if(!Lr(v,P)){var be=en(v);jt(v,(be?be+" ":"")+P)}}function yn(v,P){v.classList!==void 0?v.classList.remove(P):jt(v,h((" "+en(v)+" ").replace(" "+P+" "," ")))}function jt(v,P){v.className.baseVal===void 0?v.className=P:v.className.baseVal=P}function en(v){return v.correspondingElement&&(v=v.correspondingElement),v.className.baseVal===void 0?v.className:v.className.baseVal}function xn(v,P){"opacity"in v.style?v.style.opacity=P:"filter"in v.style&&hn(v,P)}function hn(v,P){var k=!1,K="DXImageTransform.Microsoft.Alpha";try{k=v.filters.item(K)}catch{if(P===1)return}P=Math.round(P*100),k?(k.Enabled=P!==100,k.Opacity=P):v.style.filter+=" progid:"+K+"(opacity="+P+")"}function An(v){for(var P=document.documentElement.style,k=0;k<v.length;k++)if(v[k]in P)return v[k];return!1}function Xn(v,P,k){var K=P||new Y(0,0);v.style[He]=(Pe.ie3d?"translate("+K.x+"px,"+K.y+"px)":"translate3d("+K.x+"px,"+K.y+"px,0)")+(k?" scale("+k+")":"")}function cr(v,P){v._leaflet_pos=P,Pe.any3d?Xn(v,P):(v.style.left=P.x+"px",v.style.top=P.y+"px")}function nr(v){return v._leaflet_pos||new Y(0,0)}var Mr,ur,Wr;if("onselectstart"in document)Mr=function(){gr(window,"selectstart",mo)},ur=function(){di(window,"selectstart",mo)};else{var zn=An(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mr=function(){if(zn){var v=document.documentElement.style;Wr=v[zn],v[zn]="none"}},ur=function(){zn&&(document.documentElement.style[zn]=Wr,Wr=void 0)}}function Fn(){gr(window,"dragstart",mo)}function rr(){di(window,"dragstart",mo)}var ui,Ki;function Cc(v){for(;v.tabIndex===-1;)v=v.parentNode;v.style&&(Wo(),ui=v,Ki=v.style.outlineStyle,v.style.outlineStyle="none",gr(window,"keydown",Wo))}function Wo(){ui&&(ui.style.outlineStyle=Ki,ui=void 0,Ki=void 0,di(window,"keydown",Wo))}function Tc(v){do v=v.parentNode;while((!v.offsetWidth||!v.offsetHeight)&&v!==document.body);return v}function ri(v){var P=v.getBoundingClientRect();return{x:P.width/v.offsetWidth||1,y:P.height/v.offsetHeight||1,boundingClientRect:P}}var dl={__proto__:null,TRANSFORM:He,TRANSITION:Nt,TRANSITION_END:Ht,get:Ot,getStyle:fe,create:Mt,remove:fn,empty:wn,toFront:Hn,toBack:lr,hasClass:Lr,addClass:le,removeClass:yn,setClass:jt,getClass:en,setOpacity:xn,testProp:An,setTransform:Xn,setPosition:cr,getPosition:nr,get disableTextSelection(){return Mr},get enableTextSelection(){return ur},disableImageDrag:Fn,enableImageDrag:rr,preventOutline:Cc,restoreOutline:Wo,getSizedParentNode:Tc,getScale:ri};function gr(v,P,k,K){if(P&&typeof P=="object")for(var oe in P)dr(v,oe,P[oe],k);else{P=p(P);for(var be=0,Je=P.length;be<Je;be++)dr(v,P[be],k,K)}return this}var Ua="_leaflet_events";function di(v,P,k,K){if(arguments.length===1)Nh(v),delete v[Ua];else if(P&&typeof P=="object")for(var oe in P)yi(v,oe,P[oe],k);else if(P=p(P),arguments.length===2)Nh(v,function(Ct){return M(P,Ct)!==-1});else for(var be=0,Je=P.length;be<Je;be++)yi(v,P[be],k,K);return this}function Nh(v,P){for(var k in v[Ua]){var K=k.split(/\d/)[0];(!P||P(K))&&yi(v,K,null,null,k)}}var $n={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function dr(v,P,k,K){var oe=P+l(k)+(K?"_"+l(K):"");if(v[Ua]&&v[Ua][oe])return this;var be=function(Ct){return k.call(K||v,Ct||window.event)},Je=be;!Pe.touchNative&&Pe.pointer&&P.indexOf("touch")===0?be=bn(v,P,be):Pe.touch&&P==="dblclick"?be=lt(v,be):"addEventListener"in v?P==="touchstart"||P==="touchmove"||P==="wheel"||P==="mousewheel"?v.addEventListener($n[P]||P,be,Pe.passiveEvents?{passive:!1}:!1):P==="mouseenter"||P==="mouseleave"?(be=function(Ct){Ct=Ct||window.event,Fg(v,Ct)&&Je(Ct)},v.addEventListener($n[P],be,!1)):v.addEventListener(P,Je,!1):v.attachEvent("on"+P,be),v[Ua]=v[Ua]||{},v[Ua][oe]=be}function yi(v,P,k,K,oe){oe=oe||P+l(k)+(K?"_"+l(K):"");var be=v[Ua]&&v[Ua][oe];if(!be)return this;!Pe.touchNative&&Pe.pointer&&P.indexOf("touch")===0?Gn(v,P,be):Pe.touch&&P==="dblclick"?dt(v,be):"removeEventListener"in v?v.removeEventListener($n[P]||P,be,!1):v.detachEvent("on"+P,be),v[Ua][oe]=null}function xi(v){return v.stopPropagation?v.stopPropagation():v.originalEvent?v.originalEvent._stopped=!0:v.cancelBubble=!0,this}function Ei(v){return dr(v,"wheel",xi),this}function Ec(v){return gr(v,"mousedown touchstart dblclick contextmenu",xi),v._leaflet_disable_click=!0,this}function mo(v){return v.preventDefault?v.preventDefault():v.returnValue=!1,this}function Mc(v){return mo(v),xi(v),this}function vu(v){if(v.composedPath)return v.composedPath();for(var P=[],k=v.target;k;)P.push(k),k=k.parentNode;return P}function Bg(v,P){if(!P)return new Y(v.clientX,v.clientY);var k=ri(P),K=k.boundingClientRect;return new Y((v.clientX-K.left)/k.x-P.clientLeft,(v.clientY-K.top)/k.y-P.clientTop)}var JN=Pe.linux&&Pe.chrome?window.devicePixelRatio:Pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function G1(v){return Pe.edge?v.wheelDeltaY/2:v.deltaY&&v.deltaMode===0?-v.deltaY/JN:v.deltaY&&v.deltaMode===1?-v.deltaY*20:v.deltaY&&v.deltaMode===2?-v.deltaY*60:v.deltaX||v.deltaZ?0:v.wheelDelta?(v.wheelDeltaY||v.wheelDelta)/2:v.detail&&Math.abs(v.detail)<32765?-v.detail*20:v.detail?v.detail/-32765*60:0}function Fg(v,P){var k=P.relatedTarget;if(!k)return!0;try{for(;k&&k!==v;)k=k.parentNode}catch{return!1}return k!==v}var ew={__proto__:null,on:gr,off:di,stopPropagation:xi,disableScrollPropagation:Ei,disableClickPropagation:Ec,preventDefault:mo,stop:Mc,getPropagationPath:vu,getMousePosition:Bg,getWheelDelta:G1,isExternalTarget:Fg,addListener:gr,removeListener:di},tw=X.extend({run:function(v,P,k,K){this.stop(),this._el=v,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(K||.5,.2),this._startPos=nr(v),this._offset=P.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(v){var P=+new Date-this._startTime,k=this._duration*1e3;P<k?this._runFrame(this._easeOut(P/k),v):(this._runFrame(1),this._complete())},_runFrame:function(v,P){var k=this._startPos.add(this._offset.multiplyBy(v));P&&k._round(),cr(this._el,k),this.fire("step")},_complete:function(){V(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(v){return 1-Math.pow(1-v,this._easeOutPower)}}),ii=X.extend({options:{crs:Ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(v,P){P=_(this,P),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(v),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),P.maxBounds&&this.setMaxBounds(P.maxBounds),P.zoom!==void 0&&(this._zoom=this._limitZoom(P.zoom)),P.center&&P.zoom!==void 0&&this.setView(se(P.center),P.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Nt&&Pe.any3d&&!Pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),gr(this._proxy,Ht,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(v,P,k){if(P=P===void 0?this._zoom:this._limitZoom(P),v=this._limitCenter(se(v),P,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&k!==!0){k.animate!==void 0&&(k.zoom=i({animate:k.animate},k.zoom),k.pan=i({animate:k.animate,duration:k.duration},k.pan));var K=this._zoom!==P?this._tryAnimatedZoom&&this._tryAnimatedZoom(v,P,k.zoom):this._tryAnimatedPan(v,k.pan);if(K)return clearTimeout(this._sizeTimer),this}return this._resetView(v,P,k.pan&&k.pan.noMoveStart),this},setZoom:function(v,P){return this._loaded?this.setView(this.getCenter(),v,{zoom:P}):(this._zoom=v,this)},zoomIn:function(v,P){return v=v||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+v,P)},zoomOut:function(v,P){return v=v||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-v,P)},setZoomAround:function(v,P,k){var K=this.getZoomScale(P),oe=this.getSize().divideBy(2),be=v instanceof Y?v:this.latLngToContainerPoint(v),Je=be.subtract(oe).multiplyBy(1-1/K),Ct=this.containerPointToLatLng(oe.add(Je));return this.setView(Ct,P,{zoom:k})},_getBoundsCenterZoom:function(v,P){P=P||{},v=v.getBounds?v.getBounds():he(v);var k=Z(P.paddingTopLeft||P.padding||[0,0]),K=Z(P.paddingBottomRight||P.padding||[0,0]),oe=this.getBoundsZoom(v,!1,k.add(K));if(oe=typeof P.maxZoom=="number"?Math.min(P.maxZoom,oe):oe,oe===1/0)return{center:v.getCenter(),zoom:oe};var be=K.subtract(k).divideBy(2),Je=this.project(v.getSouthWest(),oe),Ct=this.project(v.getNorthEast(),oe),Bt=this.unproject(Je.add(Ct).divideBy(2).add(be),oe);return{center:Bt,zoom:oe}},fitBounds:function(v,P){if(v=he(v),!v.isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(v,P);return this.setView(k.center,k.zoom,P)},fitWorld:function(v){return this.fitBounds([[-90,-180],[90,180]],v)},panTo:function(v,P){return this.setView(v,this._zoom,{pan:P})},panBy:function(v,P){if(v=Z(v).round(),P=P||{},!v.x&&!v.y)return this.fire("moveend");if(P.animate!==!0&&!this.getSize().contains(v))return this._resetView(this.unproject(this.project(this.getCenter()).add(v)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tw,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),P.noMoveStart||this.fire("movestart"),P.animate!==!1){le(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(v).round();this._panAnim.run(this._mapPane,k,P.duration||.25,P.easeLinearity)}else this._rawPanBy(v),this.fire("move").fire("moveend");return this},flyTo:function(v,P,k){if(k=k||{},k.animate===!1||!Pe.any3d)return this.setView(v,P,k);this._stop();var K=this.project(this.getCenter()),oe=this.project(v),be=this.getSize(),Je=this._zoom;v=se(v),P=P===void 0?Je:P;var Ct=Math.max(be.x,be.y),Bt=Ct*this.getZoomScale(Je,P),on=oe.distanceTo(K)||1,Nn=1.42,Ar=Nn*Nn;function $r(ko){var Hg=ko?-1:1,_4=ko?Bt:Ct,Tw=Bt*Bt-Ct*Ct+Hg*Ar*Ar*on*on,Ew=2*_4*Ar*on,Ao=Tw/Ew,Mw=Math.sqrt(Ao*Ao+1)-Ao,S4=Mw<1e-9?-18:Math.log(Mw);return S4}function da(ko){return(Math.exp(ko)-Math.exp(-ko))/2}function $o(ko){return(Math.exp(ko)+Math.exp(-ko))/2}function Bs(ko){return da(ko)/$o(ko)}var fa=$r(0);function Mf(ko){return Ct*($o(fa)/$o(fa+Nn*ko))}function v4(ko){return Ct*($o(fa)*Bs(fa+Nn*ko)-da(fa))/Ar}function y4(ko){return 1-Math.pow(1-ko,1.5)}var b4=Date.now(),ww=($r(1)-fa)/Nn,x4=k.duration?1e3*k.duration:1e3*ww*.8;function Cw(){var ko=(Date.now()-b4)/x4,Hg=y4(ko)*ww;ko<=1?(this._flyToFrame=z(Cw,this),this._move(this.unproject(K.add(oe.subtract(K).multiplyBy(v4(Hg)/on)),Je),this.getScaleZoom(Ct/Mf(Hg),Je),{flyTo:!0})):this._move(v,P)._moveEnd(!0)}return this._moveStart(!0,k.noMoveStart),Cw.call(this),this},flyToBounds:function(v,P){var k=this._getBoundsCenterZoom(v,P);return this.flyTo(k.center,k.zoom,P)},setMaxBounds:function(v){return v=he(v),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),v.isValid()?(this.options.maxBounds=v,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(v){var P=this.options.minZoom;return this.options.minZoom=v,this._loaded&&P!==v&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(v):this},setMaxZoom:function(v){var P=this.options.maxZoom;return this.options.maxZoom=v,this._loaded&&P!==v&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(v):this},panInsideBounds:function(v,P){this._enforcingBounds=!0;var k=this.getCenter(),K=this._limitCenter(k,this._zoom,he(v));return k.equals(K)||this.panTo(K,P),this._enforcingBounds=!1,this},panInside:function(v,P){P=P||{};var k=Z(P.paddingTopLeft||P.padding||[0,0]),K=Z(P.paddingBottomRight||P.padding||[0,0]),oe=this.project(this.getCenter()),be=this.project(v),Je=this.getPixelBounds(),Ct=ae([Je.min.add(k),Je.max.subtract(K)]),Bt=Ct.getSize();if(!Ct.contains(be)){this._enforcingBounds=!0;var on=be.subtract(Ct.getCenter()),Nn=Ct.extend(be).getSize().subtract(Bt);oe.x+=on.x<0?-Nn.x:Nn.x,oe.y+=on.y<0?-Nn.y:Nn.y,this.panTo(this.unproject(oe),P),this._enforcingBounds=!1}return this},invalidateSize:function(v){if(!this._loaded)return this;v=i({animate:!1,pan:!0},v===!0?{animate:!0}:v);var P=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),K=P.divideBy(2).round(),oe=k.divideBy(2).round(),be=K.subtract(oe);return!be.x&&!be.y?this:(v.animate&&v.pan?this.panBy(be):(v.pan&&this._rawPanBy(be),this.fire("move"),v.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:P,newSize:k}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(v){if(v=this._locateOptions=i({timeout:1e4,watch:!1},v),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var P=a(this._handleGeolocationResponse,this),k=a(this._handleGeolocationError,this);return v.watch?this._locationWatchId=navigator.geolocation.watchPosition(P,k,v):navigator.geolocation.getCurrentPosition(P,k,v),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(v){if(this._container._leaflet_id){var P=v.code,k=v.message||(P===1?"permission denied":P===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:P,message:"Geolocation error: "+k+"."})}},_handleGeolocationResponse:function(v){if(this._container._leaflet_id){var P=v.coords.latitude,k=v.coords.longitude,K=new ge(P,k),oe=K.toBounds(v.coords.accuracy*2),be=this._locateOptions;if(be.setView){var Je=this.getBoundsZoom(oe);this.setView(K,be.maxZoom?Math.min(Je,be.maxZoom):Je)}var Ct={latlng:K,bounds:oe,timestamp:v.timestamp};for(var Bt in v.coords)typeof v.coords[Bt]=="number"&&(Ct[Bt]=v.coords[Bt]);this.fire("locationfound",Ct)}},addHandler:function(v,P){if(!P)return this;var k=this[v]=new P(this);return this._handlers.push(k),this.options[v]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),fn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(V(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var v;for(v in this._layers)this._layers[v].remove();for(v in this._panes)fn(this._panes[v]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(v,P){var k="leaflet-pane"+(v?" leaflet-"+v.replace("Pane","")+"-pane":""),K=Mt("div",k,P||this._mapPane);return v&&(this._panes[v]=K),K},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var v=this.getPixelBounds(),P=this.unproject(v.getBottomLeft()),k=this.unproject(v.getTopRight());return new ce(P,k)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(v,P,k){v=he(v),k=Z(k||[0,0]);var K=this.getZoom()||0,oe=this.getMinZoom(),be=this.getMaxZoom(),Je=v.getNorthWest(),Ct=v.getSouthEast(),Bt=this.getSize().subtract(k),on=ae(this.project(Ct,K),this.project(Je,K)).getSize(),Nn=Pe.any3d?this.options.zoomSnap:1,Ar=Bt.x/on.x,$r=Bt.y/on.y,da=P?Math.max(Ar,$r):Math.min(Ar,$r);return K=this.getScaleZoom(da,K),Nn&&(K=Math.round(K/(Nn/100))*(Nn/100),K=P?Math.ceil(K/Nn)*Nn:Math.floor(K/Nn)*Nn),Math.max(oe,Math.min(be,K))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(v,P){var k=this._getTopLeftPoint(v,P);return new re(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(v){return this.options.crs.getProjectedBounds(v===void 0?this.getZoom():v)},getPane:function(v){return typeof v=="string"?this._panes[v]:v},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(v,P){var k=this.options.crs;return P=P===void 0?this._zoom:P,k.scale(v)/k.scale(P)},getScaleZoom:function(v,P){var k=this.options.crs;P=P===void 0?this._zoom:P;var K=k.zoom(v*k.scale(P));return isNaN(K)?1/0:K},project:function(v,P){return P=P===void 0?this._zoom:P,this.options.crs.latLngToPoint(se(v),P)},unproject:function(v,P){return P=P===void 0?this._zoom:P,this.options.crs.pointToLatLng(Z(v),P)},layerPointToLatLng:function(v){var P=Z(v).add(this.getPixelOrigin());return this.unproject(P)},latLngToLayerPoint:function(v){var P=this.project(se(v))._round();return P._subtract(this.getPixelOrigin())},wrapLatLng:function(v){return this.options.crs.wrapLatLng(se(v))},wrapLatLngBounds:function(v){return this.options.crs.wrapLatLngBounds(he(v))},distance:function(v,P){return this.options.crs.distance(se(v),se(P))},containerPointToLayerPoint:function(v){return Z(v).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(v){return Z(v).add(this._getMapPanePos())},containerPointToLatLng:function(v){var P=this.containerPointToLayerPoint(Z(v));return this.layerPointToLatLng(P)},latLngToContainerPoint:function(v){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(v)))},mouseEventToContainerPoint:function(v){return Bg(v,this._container)},mouseEventToLayerPoint:function(v){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(v))},mouseEventToLatLng:function(v){return this.layerPointToLatLng(this.mouseEventToLayerPoint(v))},_initContainer:function(v){var P=this._container=Ot(v);if(P){if(P._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");gr(P,"scroll",this._onScroll,this),this._containerId=l(P)},_initLayout:function(){var v=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe.any3d,le(v,"leaflet-container"+(Pe.touch?" leaflet-touch":"")+(Pe.retina?" leaflet-retina":"")+(Pe.ielt9?" leaflet-oldie":"")+(Pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var P=fe(v,"position");P!=="absolute"&&P!=="relative"&&P!=="fixed"&&P!=="sticky"&&(v.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var v=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),cr(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(le(v.markerPane,"leaflet-zoom-hide"),le(v.shadowPane,"leaflet-zoom-hide"))},_resetView:function(v,P,k){cr(this._mapPane,new Y(0,0));var K=!this._loaded;this._loaded=!0,P=this._limitZoom(P),this.fire("viewprereset");var oe=this._zoom!==P;this._moveStart(oe,k)._move(v,P)._moveEnd(oe),this.fire("viewreset"),K&&this.fire("load")},_moveStart:function(v,P){return v&&this.fire("zoomstart"),P||this.fire("movestart"),this},_move:function(v,P,k,K){P===void 0&&(P=this._zoom);var oe=this._zoom!==P;return this._zoom=P,this._lastCenter=v,this._pixelOrigin=this._getNewPixelOrigin(v),K?k&&k.pinch&&this.fire("zoom",k):((oe||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)),this},_moveEnd:function(v){return v&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return V(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(v){cr(this._mapPane,this._getMapPanePos().subtract(v))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(v){this._targets={},this._targets[l(this._container)]=this;var P=v?di:gr;P(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&P(window,"resize",this._onResize,this),Pe.any3d&&this.options.transform3DLimit&&(v?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){V(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var v=this._getMapPanePos();Math.max(Math.abs(v.x),Math.abs(v.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(v,P){for(var k=[],K,oe=P==="mouseout"||P==="mouseover",be=v.target||v.srcElement,Je=!1;be;){if(K=this._targets[l(be)],K&&(P==="click"||P==="preclick")&&this._draggableMoved(K)){Je=!0;break}if(K&&K.listens(P,!0)&&(oe&&!Fg(be,v)||(k.push(K),oe))||be===this._container)break;be=be.parentNode}return!k.length&&!Je&&!oe&&this.listens(P,!0)&&(k=[this]),k},_isClickDisabled:function(v){for(;v&&v!==this._container;){if(v._leaflet_disable_click)return!0;v=v.parentNode}},_handleDOMEvent:function(v){var P=v.target||v.srcElement;if(!(!this._loaded||P._leaflet_disable_events||v.type==="click"&&this._isClickDisabled(P))){var k=v.type;k==="mousedown"&&Cc(P),this._fireDOMEvent(v,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(v,P,k){if(v.type==="click"){var K=i({},v);K.type="preclick",this._fireDOMEvent(K,K.type,k)}var oe=this._findEventTargets(v,P);if(k){for(var be=[],Je=0;Je<k.length;Je++)k[Je].listens(P,!0)&&be.push(k[Je]);oe=be.concat(oe)}if(oe.length){P==="contextmenu"&&mo(v);var Ct=oe[0],Bt={originalEvent:v};if(v.type!=="keypress"&&v.type!=="keydown"&&v.type!=="keyup"){var on=Ct.getLatLng&&(!Ct._radius||Ct._radius<=10);Bt.containerPoint=on?this.latLngToContainerPoint(Ct.getLatLng()):this.mouseEventToContainerPoint(v),Bt.layerPoint=this.containerPointToLayerPoint(Bt.containerPoint),Bt.latlng=on?Ct.getLatLng():this.layerPointToLatLng(Bt.layerPoint)}for(Je=0;Je<oe.length;Je++)if(oe[Je].fire(P,Bt,!0),Bt.originalEvent._stopped||oe[Je].options.bubblingMouseEvents===!1&&M(this._mouseEvents,P)!==-1)return}},_draggableMoved:function(v){return v=v.dragging&&v.dragging.enabled()?v:this,v.dragging&&v.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var v=0,P=this._handlers.length;v<P;v++)this._handlers[v].disable()},whenReady:function(v,P){return this._loaded?v.call(P||this,{target:this}):this.on("load",v,P),this},_getMapPanePos:function(){return nr(this._mapPane)||new Y(0,0)},_moved:function(){var v=this._getMapPanePos();return v&&!v.equals([0,0])},_getTopLeftPoint:function(v,P){var k=v&&P!==void 0?this._getNewPixelOrigin(v,P):this.getPixelOrigin();return k.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(v,P){var k=this.getSize()._divideBy(2);return this.project(v,P)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(v,P,k){var K=this._getNewPixelOrigin(k,P);return this.project(v,P)._subtract(K)},_latLngBoundsToNewLayerBounds:function(v,P,k){var K=this._getNewPixelOrigin(k,P);return ae([this.project(v.getSouthWest(),P)._subtract(K),this.project(v.getNorthWest(),P)._subtract(K),this.project(v.getSouthEast(),P)._subtract(K),this.project(v.getNorthEast(),P)._subtract(K)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(v){return this.latLngToLayerPoint(v).subtract(this._getCenterLayerPoint())},_limitCenter:function(v,P,k){if(!k)return v;var K=this.project(v,P),oe=this.getSize().divideBy(2),be=new re(K.subtract(oe),K.add(oe)),Je=this._getBoundsOffset(be,k,P);return Math.abs(Je.x)<=1&&Math.abs(Je.y)<=1?v:this.unproject(K.add(Je),P)},_limitOffset:function(v,P){if(!P)return v;var k=this.getPixelBounds(),K=new re(k.min.add(v),k.max.add(v));return v.add(this._getBoundsOffset(K,P))},_getBoundsOffset:function(v,P,k){var K=ae(this.project(P.getNorthEast(),k),this.project(P.getSouthWest(),k)),oe=K.min.subtract(v.min),be=K.max.subtract(v.max),Je=this._rebound(oe.x,-be.x),Ct=this._rebound(oe.y,-be.y);return new Y(Je,Ct)},_rebound:function(v,P){return v+P>0?Math.round(v-P)/2:Math.max(0,Math.ceil(v))-Math.max(0,Math.floor(P))},_limitZoom:function(v){var P=this.getMinZoom(),k=this.getMaxZoom(),K=Pe.any3d?this.options.zoomSnap:1;return K&&(v=Math.round(v/K)*K),Math.max(P,Math.min(k,v))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){yn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(v,P){var k=this._getCenterOffset(v)._trunc();return(P&&P.animate)!==!0&&!this.getSize().contains(k)?!1:(this.panBy(k,P),!0)},_createAnimProxy:function(){var v=this._proxy=Mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(v),this.on("zoomanim",function(P){var k=He,K=this._proxy.style[k];Xn(this._proxy,this.project(P.center,P.zoom),this.getZoomScale(P.zoom,1)),K===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var v=this.getCenter(),P=this.getZoom();Xn(this._proxy,this.project(v,P),this.getZoomScale(P,1))},_catchTransitionEnd:function(v){this._animatingZoom&&v.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(v,P,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||k.animate===!1||this._nothingToAnimate()||Math.abs(P-this._zoom)>this.options.zoomAnimationThreshold)return!1;var K=this.getZoomScale(P),oe=this._getCenterOffset(v)._divideBy(1-1/K);return k.animate!==!0&&!this.getSize().contains(oe)?!1:(z(function(){this._moveStart(!0,k.noMoveStart||!1)._animateZoom(v,P,!0)},this),!0)},_animateZoom:function(v,P,k,K){this._mapPane&&(k&&(this._animatingZoom=!0,this._animateToCenter=v,this._animateToZoom=P,le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:v,zoom:P,noUpdate:K}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&yn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function e4(v,P){return new ii(v,P)}var Vl=G.extend({options:{position:"topright"},initialize:function(v){_(this,v)},getPosition:function(){return this.options.position},setPosition:function(v){var P=this._map;return P&&P.removeControl(this),this.options.position=v,P&&P.addControl(this),this},getContainer:function(){return this._container},addTo:function(v){this.remove(),this._map=v;var P=this._container=this.onAdd(v),k=this.getPosition(),K=v._controlCorners[k];return le(P,"leaflet-control"),k.indexOf("bottom")!==-1?K.insertBefore(P,K.firstChild):K.appendChild(P),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(v){this._map&&v&&v.screenX>0&&v.screenY>0&&this._map.getContainer().focus()}}),Fo=function(v){return new Vl(v)};ii.include({addControl:function(v){return v.addTo(this),this},removeControl:function(v){return v.remove(),this},_initControlPos:function(){var v=this._controlCorners={},P="leaflet-",k=this._controlContainer=Mt("div",P+"control-container",this._container);function K(oe,be){var Je=P+oe+" "+P+be;v[oe+be]=Mt("div",Je,k)}K("top","left"),K("top","right"),K("bottom","left"),K("bottom","right")},_clearControlPos:function(){for(var v in this._controlCorners)fn(this._controlCorners[v]);fn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ad=Vl.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(v,P,k,K){return k<K?-1:K<k?1:0}},initialize:function(v,P,k){_(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var K in v)this._addLayer(v[K],K);for(K in P)this._addLayer(P[K],K,!0)},onAdd:function(v){this._initLayout(),this._update(),this._map=v,v.on("zoomend",this._checkDisabledLayers,this);for(var P=0;P<this._layers.length;P++)this._layers[P].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(v){return Vl.prototype.addTo.call(this,v),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(v,P){return this._addLayer(v,P),this._map?this._update():this},addOverlay:function(v,P){return this._addLayer(v,P,!0),this._map?this._update():this},removeLayer:function(v){v.off("add remove",this._onLayerChange,this);var P=this._getLayer(l(v));return P&&this._layers.splice(this._layers.indexOf(P),1),this._map?this._update():this},expand:function(){le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var v=this._map.getSize().y-(this._container.offsetTop+50);return v<this._section.clientHeight?(le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=v+"px"):yn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return yn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var v="leaflet-control-layers",P=this._container=Mt("div",v),k=this.options.collapsed;P.setAttribute("aria-haspopup",!0),Ec(P),Ei(P);var K=this._section=Mt("section",v+"-list");k&&(this._map.on("click",this.collapse,this),gr(P,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var oe=this._layersLink=Mt("a",v+"-toggle",P);oe.href="#",oe.title="Layers",oe.setAttribute("role","button"),gr(oe,{keydown:function(be){be.keyCode===13&&this._expandSafely()},click:function(be){mo(be),this._expandSafely()}},this),k||this.expand(),this._baseLayersList=Mt("div",v+"-base",K),this._separator=Mt("div",v+"-separator",K),this._overlaysList=Mt("div",v+"-overlays",K),P.appendChild(K)},_getLayer:function(v){for(var P=0;P<this._layers.length;P++)if(this._layers[P]&&l(this._layers[P].layer)===v)return this._layers[P]},_addLayer:function(v,P,k){this._map&&v.on("add remove",this._onLayerChange,this),this._layers.push({layer:v,name:P,overlay:k}),this.options.sortLayers&&this._layers.sort(a(function(K,oe){return this.options.sortFunction(K.layer,oe.layer,K.name,oe.name)},this)),this.options.autoZIndex&&v.setZIndex&&(this._lastZIndex++,v.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wn(this._baseLayersList),wn(this._overlaysList),this._layerControlInputs=[];var v,P,k,K,oe=0;for(k=0;k<this._layers.length;k++)K=this._layers[k],this._addItem(K),P=P||K.overlay,v=v||!K.overlay,oe+=K.overlay?0:1;return this.options.hideSingleBase&&(v=v&&oe>1,this._baseLayersList.style.display=v?"":"none"),this._separator.style.display=P&&v?"":"none",this},_onLayerChange:function(v){this._handlingClick||this._update();var P=this._getLayer(l(v.target)),k=P.overlay?v.type==="add"?"overlayadd":"overlayremove":v.type==="add"?"baselayerchange":null;k&&this._map.fire(k,P)},_createRadioElement:function(v,P){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+v+'"'+(P?' checked="checked"':"")+"/>",K=document.createElement("div");return K.innerHTML=k,K.firstChild},_addItem:function(v){var P=document.createElement("label"),k=this._map.hasLayer(v.layer),K;v.overlay?(K=document.createElement("input"),K.type="checkbox",K.className="leaflet-control-layers-selector",K.defaultChecked=k):K=this._createRadioElement("leaflet-base-layers_"+l(this),k),this._layerControlInputs.push(K),K.layerId=l(v.layer),gr(K,"click",this._onInputClick,this);var oe=document.createElement("span");oe.innerHTML=" "+v.name;var be=document.createElement("span");P.appendChild(be),be.appendChild(K),be.appendChild(oe);var Je=v.overlay?this._overlaysList:this._baseLayersList;return Je.appendChild(P),this._checkDisabledLayers(),P},_onInputClick:function(){if(!this._preventClick){var v=this._layerControlInputs,P,k,K=[],oe=[];this._handlingClick=!0;for(var be=v.length-1;be>=0;be--)P=v[be],k=this._getLayer(P.layerId).layer,P.checked?K.push(k):P.checked||oe.push(k);for(be=0;be<oe.length;be++)this._map.hasLayer(oe[be])&&this._map.removeLayer(oe[be]);for(be=0;be<K.length;be++)this._map.hasLayer(K[be])||this._map.addLayer(K[be]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var v=this._layerControlInputs,P,k,K=this._map.getZoom(),oe=v.length-1;oe>=0;oe--)P=v[oe],k=this._getLayer(P.layerId).layer,P.disabled=k.options.minZoom!==void 0&&K<k.options.minZoom||k.options.maxZoom!==void 0&&K>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var v=this._section;this._preventClick=!0,gr(v,"click",mo),this.expand();var P=this;setTimeout(function(){di(v,"click",mo),P._preventClick=!1})}}),za=function(v,P,k){return new Ad(v,P,k)},Rm=Vl.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(v){var P="leaflet-control-zoom",k=Mt("div",P+" leaflet-bar"),K=this.options;return this._zoomInButton=this._createButton(K.zoomInText,K.zoomInTitle,P+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(K.zoomOutText,K.zoomOutTitle,P+"-out",k,this._zoomOut),this._updateDisabled(),v.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(v){v.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(v){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(v.shiftKey?3:1))},_zoomOut:function(v){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(v.shiftKey?3:1))},_createButton:function(v,P,k,K,oe){var be=Mt("a",k,K);return be.innerHTML=v,be.href="#",be.title=P,be.setAttribute("role","button"),be.setAttribute("aria-label",P),Ec(be),gr(be,"click",Mc),gr(be,"click",oe,this),gr(be,"click",this._refocusOnMap,this),be},_updateDisabled:function(){var v=this._map,P="leaflet-disabled";yn(this._zoomInButton,P),yn(this._zoomOutButton,P),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||v._zoom===v.getMinZoom())&&(le(this._zoomOutButton,P),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||v._zoom===v.getMaxZoom())&&(le(this._zoomInButton,P),this._zoomInButton.setAttribute("aria-disabled","true"))}});ii.mergeOptions({zoomControl:!0}),ii.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Rm,this.addControl(this.zoomControl))});var nw=function(v){return new Rm(v)},Nm=Vl.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(v){var P="leaflet-control-scale",k=Mt("div",P),K=this.options;return this._addScales(K,P+"-line",k),v.on(K.updateWhenIdle?"moveend":"move",this._update,this),v.whenReady(this._update,this),k},onRemove:function(v){v.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(v,P,k){v.metric&&(this._mScale=Mt("div",P,k)),v.imperial&&(this._iScale=Mt("div",P,k))},_update:function(){var v=this._map,P=v.getSize().y/2,k=v.distance(v.containerPointToLatLng([0,P]),v.containerPointToLatLng([this.options.maxWidth,P]));this._updateScales(k)},_updateScales:function(v){this.options.metric&&v&&this._updateMetric(v),this.options.imperial&&v&&this._updateImperial(v)},_updateMetric:function(v){var P=this._getRoundNum(v),k=P<1e3?P+" m":P/1e3+" km";this._updateScale(this._mScale,k,P/v)},_updateImperial:function(v){var P=v*3.2808399,k,K,oe;P>5280?(k=P/5280,K=this._getRoundNum(k),this._updateScale(this._iScale,K+" mi",K/k)):(oe=this._getRoundNum(P),this._updateScale(this._iScale,oe+" ft",oe/P))},_updateScale:function(v,P,k){v.style.width=Math.round(this.options.maxWidth*k)+"px",v.innerHTML=P},_getRoundNum:function(v){var P=Math.pow(10,(Math.floor(v)+"").length-1),k=v/P;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:1,P*k}}),t4=function(v){return new Nm(v)},n4='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',H1=Vl.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pe.inlineSvg?n4+" ":"")+"Leaflet</a>"},initialize:function(v){_(this,v),this._attributions={}},onAdd:function(v){v.attributionControl=this,this._container=Mt("div","leaflet-control-attribution"),Ec(this._container);for(var P in v._layers)v._layers[P].getAttribution&&this.addAttribution(v._layers[P].getAttribution());return this._update(),v.on("layeradd",this._addAttribution,this),this._container},onRemove:function(v){v.off("layeradd",this._addAttribution,this)},_addAttribution:function(v){v.layer.getAttribution&&(this.addAttribution(v.layer.getAttribution()),v.layer.once("remove",function(){this.removeAttribution(v.layer.getAttribution())},this))},setPrefix:function(v){return this.options.prefix=v,this._update(),this},addAttribution:function(v){return v?(this._attributions[v]||(this._attributions[v]=0),this._attributions[v]++,this._update(),this):this},removeAttribution:function(v){return v?(this._attributions[v]&&(this._attributions[v]--,this._update()),this):this},_update:function(){if(this._map){var v=[];for(var P in this._attributions)this._attributions[P]&&v.push(P);var k=[];this.options.prefix&&k.push(this.options.prefix),v.length&&k.push(v.join(", ")),this._container.innerHTML=k.join(' <span aria-hidden="true">|</span> ')}}});ii.mergeOptions({attributionControl:!0}),ii.addInitHook(function(){this.options.attributionControl&&new H1().addTo(this)});var rw=function(v){return new H1(v)};Vl.Layers=Ad,Vl.Zoom=Rm,Vl.Scale=Nm,Vl.Attribution=H1,Fo.layers=za,Fo.zoom=nw,Fo.scale=t4,Fo.attribution=rw;var Ls=G.extend({initialize:function(v){this._map=v},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ls.addTo=function(v,P){return v.addHandler(P,this),this};var wf={Events:H},j1=Pe.touch?"touchstart mousedown":"mousedown",yu=X.extend({options:{clickTolerance:3},initialize:function(v,P,k,K){_(this,K),this._element=v,this._dragStartTarget=P||v,this._preventOutline=k},enable:function(){this._enabled||(gr(this._dragStartTarget,j1,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yu._dragging===this&&this.finishDrag(!0),di(this._dragStartTarget,j1,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(v){if(this._enabled&&(this._moved=!1,!Lr(this._element,"leaflet-zoom-anim"))){if(v.touches&&v.touches.length!==1){yu._dragging===this&&this.finishDrag();return}if(!(yu._dragging||v.shiftKey||v.which!==1&&v.button!==1&&!v.touches)&&(yu._dragging=this,this._preventOutline&&Cc(this._element),Fn(),Mr(),!this._moving)){this.fire("down");var P=v.touches?v.touches[0]:v,k=Tc(this._element);this._startPoint=new Y(P.clientX,P.clientY),this._startPos=nr(this._element),this._parentScale=ri(k);var K=v.type==="mousedown";gr(document,K?"mousemove":"touchmove",this._onMove,this),gr(document,K?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(v){if(this._enabled){if(v.touches&&v.touches.length>1){this._moved=!0;return}var P=v.touches&&v.touches.length===1?v.touches[0]:v,k=new Y(P.clientX,P.clientY)._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,mo(v),this._moved||(this.fire("dragstart"),this._moved=!0,le(document.body,"leaflet-dragging"),this._lastTarget=v.target||v.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,this._lastEvent=v,this._updatePosition())}},_updatePosition:function(){var v={originalEvent:this._lastEvent};this.fire("predrag",v),cr(this._element,this._newPos),this.fire("drag",v)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(v){yn(document.body,"leaflet-dragging"),this._lastTarget&&(yn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),di(document,"mousemove touchmove",this._onMove,this),di(document,"mouseup touchend touchcancel",this._onUp,this),rr(),ur();var P=this._moved&&this._moving;this._moving=!1,yu._dragging=!1,P&&this.fire("dragend",{noInertia:v,distance:this._newPos.distanceTo(this._startPos)})}});function Im(v,P,k){var K,oe=[1,4,2,8],be,Je,Ct,Bt,on,Nn,Ar,$r;for(be=0,Nn=v.length;be<Nn;be++)v[be]._code=Cf(v[be],P);for(Ct=0;Ct<4;Ct++){for(Ar=oe[Ct],K=[],be=0,Nn=v.length,Je=Nn-1;be<Nn;Je=be++)Bt=v[be],on=v[Je],Bt._code&Ar?on._code&Ar||($r=Ug(on,Bt,Ar,P,k),$r._code=Cf($r,P),K.push($r)):(on._code&Ar&&($r=Ug(on,Bt,Ar,P,k),$r._code=Cf($r,P),K.push($r)),K.push(Bt));v=K}return v}function vd(v,P){var k,K,oe,be,Je,Ct,Bt,on,Nn;if(!v||v.length===0)throw new Error("latlngs not passed");fl(v)||(console.warn("latlngs are not flat! Only the first ring will be used"),v=v[0]);var Ar=se([0,0]),$r=he(v),da=$r.getNorthWest().distanceTo($r.getSouthWest())*$r.getNorthEast().distanceTo($r.getNorthWest());da<1700&&(Ar=Pc(v));var $o=v.length,Bs=[];for(k=0;k<$o;k++){var fa=se(v[k]);Bs.push(P.project(se([fa.lat-Ar.lat,fa.lng-Ar.lng])))}for(Ct=Bt=on=0,k=0,K=$o-1;k<$o;K=k++)oe=Bs[k],be=Bs[K],Je=oe.y*be.x-be.y*oe.x,Bt+=(oe.x+be.x)*Je,on+=(oe.y+be.y)*Je,Ct+=Je*3;Ct===0?Nn=Bs[0]:Nn=[Bt/Ct,on/Ct];var Mf=P.unproject(Z(Nn));return se([Mf.lat+Ar.lat,Mf.lng+Ar.lng])}function Pc(v){for(var P=0,k=0,K=0,oe=0;oe<v.length;oe++){var be=se(v[oe]);P+=be.lat,k+=be.lng,K++}return se([P/K,k/K])}var iw={__proto__:null,clipPolygon:Im,polygonCenter:vd,centroid:Pc};function q1(v,P){if(!P||!v.length)return v.slice();var k=P*P;return v=o4(v,k),v=i4(v,k),v}function $g(v,P,k){return Math.sqrt(Om(v,P,k,!0))}function r4(v,P,k){return Om(v,P,k)}function i4(v,P){var k=v.length,K=typeof Uint8Array!=void 0+""?Uint8Array:Array,oe=new K(k);oe[0]=oe[k-1]=1,kg(v,oe,P,0,k-1);var be,Je=[];for(be=0;be<k;be++)oe[be]&&Je.push(v[be]);return Je}function kg(v,P,k,K,oe){var be=0,Je,Ct,Bt;for(Ct=K+1;Ct<=oe-1;Ct++)Bt=Om(v[Ct],v[K],v[oe],!0),Bt>be&&(Je=Ct,be=Bt);be>k&&(P[Je]=1,kg(v,P,k,K,Je),kg(v,P,k,Je,oe))}function o4(v,P){for(var k=[v[0]],K=1,oe=0,be=v.length;K<be;K++)sw(v[K],v[oe])>P&&(k.push(v[K]),oe=K);return oe<be-1&&k.push(v[be-1]),k}var ow;function aw(v,P,k,K,oe){var be=K?ow:Cf(v,k),Je=Cf(P,k),Ct,Bt,on;for(ow=Je;;){if(!(be|Je))return[v,P];if(be&Je)return!1;Ct=be||Je,Bt=Ug(v,P,Ct,k,oe),on=Cf(Bt,k),Ct===be?(v=Bt,be=on):(P=Bt,Je=on)}}function Ug(v,P,k,K,oe){var be=P.x-v.x,Je=P.y-v.y,Ct=K.min,Bt=K.max,on,Nn;return k&8?(on=v.x+be*(Bt.y-v.y)/Je,Nn=Bt.y):k&4?(on=v.x+be*(Ct.y-v.y)/Je,Nn=Ct.y):k&2?(on=Bt.x,Nn=v.y+Je*(Bt.x-v.x)/be):k&1&&(on=Ct.x,Nn=v.y+Je*(Ct.x-v.x)/be),new Y(on,Nn,oe)}function Cf(v,P){var k=0;return v.x<P.min.x?k|=1:v.x>P.max.x&&(k|=2),v.y<P.min.y?k|=4:v.y>P.max.y&&(k|=8),k}function sw(v,P){var k=P.x-v.x,K=P.y-v.y;return k*k+K*K}function Om(v,P,k,K){var oe=P.x,be=P.y,Je=k.x-oe,Ct=k.y-be,Bt=Je*Je+Ct*Ct,on;return Bt>0&&(on=((v.x-oe)*Je+(v.y-be)*Ct)/Bt,on>1?(oe=k.x,be=k.y):on>0&&(oe+=Je*on,be+=Ct*on)),Je=v.x-oe,Ct=v.y-be,K?Je*Je+Ct*Ct:new Y(oe,be)}function fl(v){return!C(v[0])||typeof v[0][0]!="object"&&typeof v[0][0]<"u"}function Dm(v){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),fl(v)}function lw(v,P){var k,K,oe,be,Je,Ct,Bt,on;if(!v||v.length===0)throw new Error("latlngs not passed");fl(v)||(console.warn("latlngs are not flat! Only the first ring will be used"),v=v[0]);var Nn=se([0,0]),Ar=he(v),$r=Ar.getNorthWest().distanceTo(Ar.getSouthWest())*Ar.getNorthEast().distanceTo(Ar.getNorthWest());$r<1700&&(Nn=Pc(v));var da=v.length,$o=[];for(k=0;k<da;k++){var Bs=se(v[k]);$o.push(P.project(se([Bs.lat-Nn.lat,Bs.lng-Nn.lng])))}for(k=0,K=0;k<da-1;k++)K+=$o[k].distanceTo($o[k+1])/2;if(K===0)on=$o[0];else for(k=0,be=0;k<da-1;k++)if(Je=$o[k],Ct=$o[k+1],oe=Je.distanceTo(Ct),be+=oe,be>K){Bt=(be-K)/oe,on=[Ct.x-Bt*(Ct.x-Je.x),Ct.y-Bt*(Ct.y-Je.y)];break}var fa=P.unproject(Z(on));return se([fa.lat+Nn.lat,fa.lng+Nn.lng])}var a4={__proto__:null,simplify:q1,pointToSegmentDistance:$g,closestPointOnSegment:r4,clipSegment:aw,_getEdgeIntersection:Ug,_getBitCode:Cf,_sqClosestPointOnSegment:Om,isFlat:fl,_flat:Dm,polylineCenter:lw},W1={project:function(v){return new Y(v.lng,v.lat)},unproject:function(v){return new ge(v.y,v.x)},bounds:new re([-180,-90],[180,90])},Tf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new re([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(v){var P=Math.PI/180,k=this.R,K=v.lat*P,oe=this.R_MINOR/k,be=Math.sqrt(1-oe*oe),Je=be*Math.sin(K),Ct=Math.tan(Math.PI/4-K/2)/Math.pow((1-Je)/(1+Je),be/2);return K=-k*Math.log(Math.max(Ct,1e-10)),new Y(v.lng*P*k,K)},unproject:function(v){for(var P=180/Math.PI,k=this.R,K=this.R_MINOR/k,oe=Math.sqrt(1-K*K),be=Math.exp(-v.y/k),Je=Math.PI/2-2*Math.atan(be),Ct=0,Bt=.1,on;Ct<15&&Math.abs(Bt)>1e-7;Ct++)on=oe*Math.sin(Je),on=Math.pow((1-on)/(1+on),oe/2),Bt=Math.PI/2-2*Math.atan(be*on)-Je,Je+=Bt;return new ge(Je*P,v.x*P/k)}},s4={__proto__:null,LonLat:W1,Mercator:Tf,SphericalMercator:Ee},X1=i({},ye,{code:"EPSG:3395",projection:Tf,transformation:function(){var v=.5/(Math.PI*Tf.R);return Oe(v,.5,-v,.5)}()}),Y1=i({},ye,{code:"EPSG:4326",projection:W1,transformation:Oe(1/180,1,-1/180,.5)}),Ih=i({},me,{projection:W1,transformation:Oe(1,0,-1,0),scale:function(v){return Math.pow(2,v)},zoom:function(v){return Math.log(v)/Math.LN2},distance:function(v,P){var k=P.lng-v.lng,K=P.lat-v.lat;return Math.sqrt(k*k+K*K)},infinite:!0});me.Earth=ye,me.EPSG3395=X1,me.EPSG3857=Ue,me.EPSG900913=Se,me.EPSG4326=Y1,me.Simple=Ih;var Gl=X.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(v){return v.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(v){return v&&v.removeLayer(this),this},getPane:function(v){return this._map.getPane(v?this.options[v]||v:this.options.pane)},addInteractiveTarget:function(v){return this._map._targets[l(v)]=this,this},removeInteractiveTarget:function(v){return delete this._map._targets[l(v)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(v){var P=v.target;if(P.hasLayer(this)){if(this._map=P,this._zoomAnimated=P._zoomAnimated,this.getEvents){var k=this.getEvents();P.on(k,this),this.once("remove",function(){P.off(k,this)},this)}this.onAdd(P),this.fire("add"),P.fire("layeradd",{layer:this})}}});ii.include({addLayer:function(v){if(!v._layerAdd)throw new Error("The provided object is not a Layer.");var P=l(v);return this._layers[P]?this:(this._layers[P]=v,v._mapToAdd=this,v.beforeAdd&&v.beforeAdd(this),this.whenReady(v._layerAdd,v),this)},removeLayer:function(v){var P=l(v);return this._layers[P]?(this._loaded&&v.onRemove(this),delete this._layers[P],this._loaded&&(this.fire("layerremove",{layer:v}),v.fire("remove")),v._map=v._mapToAdd=null,this):this},hasLayer:function(v){return l(v)in this._layers},eachLayer:function(v,P){for(var k in this._layers)v.call(P,this._layers[k]);return this},_addLayers:function(v){v=v?C(v)?v:[v]:[];for(var P=0,k=v.length;P<k;P++)this.addLayer(v[P])},_addZoomLimit:function(v){(!isNaN(v.options.maxZoom)||!isNaN(v.options.minZoom))&&(this._zoomBoundLayers[l(v)]=v,this._updateZoomLevels())},_removeZoomLimit:function(v){var P=l(v);this._zoomBoundLayers[P]&&(delete this._zoomBoundLayers[P],this._updateZoomLevels())},_updateZoomLevels:function(){var v=1/0,P=-1/0,k=this._getZoomSpan();for(var K in this._zoomBoundLayers){var oe=this._zoomBoundLayers[K].options;v=oe.minZoom===void 0?v:Math.min(v,oe.minZoom),P=oe.maxZoom===void 0?P:Math.max(P,oe.maxZoom)}this._layersMaxZoom=P===-1/0?void 0:P,this._layersMinZoom=v===1/0?void 0:v,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var yd=Gl.extend({initialize:function(v,P){_(this,P),this._layers={};var k,K;if(v)for(k=0,K=v.length;k<K;k++)this.addLayer(v[k])},addLayer:function(v){var P=this.getLayerId(v);return this._layers[P]=v,this._map&&this._map.addLayer(v),this},removeLayer:function(v){var P=v in this._layers?v:this.getLayerId(v);return this._map&&this._layers[P]&&this._map.removeLayer(this._layers[P]),delete this._layers[P],this},hasLayer:function(v){var P=typeof v=="number"?v:this.getLayerId(v);return P in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(v){var P=Array.prototype.slice.call(arguments,1),k,K;for(k in this._layers)K=this._layers[k],K[v]&&K[v].apply(K,P);return this},onAdd:function(v){this.eachLayer(v.addLayer,v)},onRemove:function(v){this.eachLayer(v.removeLayer,v)},eachLayer:function(v,P){for(var k in this._layers)v.call(P,this._layers[k]);return this},getLayer:function(v){return this._layers[v]},getLayers:function(){var v=[];return this.eachLayer(v.push,v),v},setZIndex:function(v){return this.invoke("setZIndex",v)},getLayerId:function(v){return l(v)}}),cw=function(v,P){return new yd(v,P)},bu=yd.extend({addLayer:function(v){return this.hasLayer(v)?this:(v.addEventParent(this),yd.prototype.addLayer.call(this,v),this.fire("layeradd",{layer:v}))},removeLayer:function(v){return this.hasLayer(v)?(v in this._layers&&(v=this._layers[v]),v.removeEventParent(this),yd.prototype.removeLayer.call(this,v),this.fire("layerremove",{layer:v})):this},setStyle:function(v){return this.invoke("setStyle",v)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var v=new ce;for(var P in this._layers){var k=this._layers[P];v.extend(k.getBounds?k.getBounds():k.getLatLng())}return v}}),uw=function(v,P){return new bu(v,P)},Oh=G.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(v){_(this,v)},createIcon:function(v){return this._createIcon("icon",v)},createShadow:function(v){return this._createIcon("shadow",v)},_createIcon:function(v,P){var k=this._getIconUrl(v);if(!k){if(v==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var K=this._createImg(k,P&&P.tagName==="IMG"?P:null);return this._setIconStyles(K,v),(this.options.crossOrigin||this.options.crossOrigin==="")&&(K.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),K},_setIconStyles:function(v,P){var k=this.options,K=k[P+"Size"];typeof K=="number"&&(K=[K,K]);var oe=Z(K),be=Z(P==="shadow"&&k.shadowAnchor||k.iconAnchor||oe&&oe.divideBy(2,!0));v.className="leaflet-marker-"+P+" "+(k.className||""),be&&(v.style.marginLeft=-be.x+"px",v.style.marginTop=-be.y+"px"),oe&&(v.style.width=oe.x+"px",v.style.height=oe.y+"px")},_createImg:function(v,P){return P=P||document.createElement("img"),P.src=v,P},_getIconUrl:function(v){return Pe.retina&&this.options[v+"RetinaUrl"]||this.options[v+"Url"]}});function l4(v){return new Oh(v)}var Ef=Oh.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(v){return typeof Ef.imagePath!="string"&&(Ef.imagePath=this._detectIconPath()),(this.options.imagePath||Ef.imagePath)+Oh.prototype._getIconUrl.call(this,v)},_stripUrl:function(v){var P=function(k,K,oe){var be=K.exec(k);return be&&be[oe]};return v=P(v,/^url\((['"])?(.+)\1\)$/,2),v&&P(v,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var v=Mt("div","leaflet-default-icon-path",document.body),P=fe(v,"background-image")||fe(v,"backgroundImage");if(document.body.removeChild(v),P=this._stripUrl(P),P)return P;var k=document.querySelector('link[href$="leaflet.css"]');return k?k.href.substring(0,k.href.length-11-1):""}}),dw=Ls.extend({initialize:function(v){this._marker=v},addHooks:function(){var v=this._marker._icon;this._draggable||(this._draggable=new yu(v,v,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),le(v,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&yn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(v){var P=this._marker,k=P._map,K=this._marker.options.autoPanSpeed,oe=this._marker.options.autoPanPadding,be=nr(P._icon),Je=k.getPixelBounds(),Ct=k.getPixelOrigin(),Bt=ae(Je.min._subtract(Ct).add(oe),Je.max._subtract(Ct).subtract(oe));if(!Bt.contains(be)){var on=Z((Math.max(Bt.max.x,be.x)-Bt.max.x)/(Je.max.x-Bt.max.x)-(Math.min(Bt.min.x,be.x)-Bt.min.x)/(Je.min.x-Bt.min.x),(Math.max(Bt.max.y,be.y)-Bt.max.y)/(Je.max.y-Bt.max.y)-(Math.min(Bt.min.y,be.y)-Bt.min.y)/(Je.min.y-Bt.min.y)).multiplyBy(K);k.panBy(on,{animate:!1}),this._draggable._newPos._add(on),this._draggable._startPos._add(on),cr(P._icon,this._draggable._newPos),this._onDrag(v),this._panRequest=z(this._adjustPan.bind(this,v))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(v){this._marker.options.autoPan&&(V(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,v)))},_onDrag:function(v){var P=this._marker,k=P._shadow,K=nr(P._icon),oe=P._map.layerPointToLatLng(K);k&&cr(k,K),P._latlng=oe,v.latlng=oe,v.oldLatLng=this._oldLatLng,P.fire("move",v).fire("drag",v)},_onDragEnd:function(v){V(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",v)}}),Dh=Gl.extend({options:{icon:new Ef,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(v,P){_(this,P),this._latlng=se(v)},onAdd:function(v){this._zoomAnimated=this._zoomAnimated&&v.options.markerZoomAnimation,this._zoomAnimated&&v.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(v){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&v.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(v){var P=this._latlng;return this._latlng=se(v),this.update(),this.fire("move",{oldLatLng:P,latlng:this._latlng})},setZIndexOffset:function(v){return this.options.zIndexOffset=v,this.update()},getIcon:function(){return this.options.icon},setIcon:function(v){return this.options.icon=v,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var v=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(v)}return this},_initIcon:function(){var v=this.options,P="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=v.icon.createIcon(this._icon),K=!1;k!==this._icon&&(this._icon&&this._removeIcon(),K=!0,v.title&&(k.title=v.title),k.tagName==="IMG"&&(k.alt=v.alt||"")),le(k,P),v.keyboard&&(k.tabIndex="0",k.setAttribute("role","button")),this._icon=k,v.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&gr(k,"focus",this._panOnFocus,this);var oe=v.icon.createShadow(this._shadow),be=!1;oe!==this._shadow&&(this._removeShadow(),be=!0),oe&&(le(oe,P),oe.alt=""),this._shadow=oe,v.opacity<1&&this._updateOpacity(),K&&this.getPane().appendChild(this._icon),this._initInteraction(),oe&&be&&this.getPane(v.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&di(this._icon,"focus",this._panOnFocus,this),fn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fn(this._shadow),this._shadow=null},_setPos:function(v){this._icon&&cr(this._icon,v),this._shadow&&cr(this._shadow,v),this._zIndex=v.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(v){this._icon&&(this._icon.style.zIndex=this._zIndex+v)},_animateZoom:function(v){var P=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center).round();this._setPos(P)},_initInteraction:function(){if(this.options.interactive&&(le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),dw)){var v=this.options.draggable;this.dragging&&(v=this.dragging.enabled(),this.dragging.disable()),this.dragging=new dw(this),v&&this.dragging.enable()}},setOpacity:function(v){return this.options.opacity=v,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var v=this.options.opacity;this._icon&&xn(this._icon,v),this._shadow&&xn(this._shadow,v)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var v=this._map;if(v){var P=this.options.icon.options,k=P.iconSize?Z(P.iconSize):Z(0,0),K=P.iconAnchor?Z(P.iconAnchor):Z(0,0);v.panInside(this._latlng,{paddingTopLeft:K,paddingBottomRight:k.subtract(K)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function K1(v,P){return new Dh(v,P)}var hl=Gl.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(v){this._renderer=v.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(v){return _(this,v),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&v&&Object.prototype.hasOwnProperty.call(v,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fi=hl.extend({options:{fill:!0,radius:10},initialize:function(v,P){_(this,P),this._latlng=se(v),this._radius=this.options.radius},setLatLng:function(v){var P=this._latlng;return this._latlng=se(v),this.redraw(),this.fire("move",{oldLatLng:P,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(v){return this.options.radius=this._radius=v,this.redraw()},getRadius:function(){return this._radius},setStyle:function(v){var P=v&&v.radius||this._radius;return hl.prototype.setStyle.call(this,v),this.setRadius(P),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var v=this._radius,P=this._radiusY||v,k=this._clickTolerance(),K=[v+k,P+k];this._pxBounds=new re(this._point.subtract(K),this._point.add(K))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(v){return v.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function c4(v,P){return new fi(v,P)}var zg=fi.extend({initialize:function(v,P,k){if(typeof P=="number"&&(P=i({},k,{radius:P})),_(this,P),this._latlng=se(v),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(v){return this._mRadius=v,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var v=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(v)),this._map.layerPointToLatLng(this._point.add(v)))},setStyle:hl.prototype.setStyle,_project:function(){var v=this._latlng.lng,P=this._latlng.lat,k=this._map,K=k.options.crs;if(K.distance===ye.distance){var oe=Math.PI/180,be=this._mRadius/ye.R/oe,Je=k.project([P+be,v]),Ct=k.project([P-be,v]),Bt=Je.add(Ct).divideBy(2),on=k.unproject(Bt).lat,Nn=Math.acos((Math.cos(be*oe)-Math.sin(P*oe)*Math.sin(on*oe))/(Math.cos(P*oe)*Math.cos(on*oe)))/oe;(isNaN(Nn)||Nn===0)&&(Nn=be/Math.cos(Math.PI/180*P)),this._point=Bt.subtract(k.getPixelOrigin()),this._radius=isNaN(Nn)?0:Bt.x-k.project([on,v-Nn]).x,this._radiusY=Bt.y-Je.y}else{var Ar=K.unproject(K.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(Ar).x}this._updateBounds()}});function fw(v,P,k){return new zg(v,P,k)}var xu=hl.extend({options:{smoothFactor:1,noClip:!1},initialize:function(v,P){_(this,P),this._setLatLngs(v)},getLatLngs:function(){return this._latlngs},setLatLngs:function(v){return this._setLatLngs(v),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(v){for(var P=1/0,k=null,K=Om,oe,be,Je=0,Ct=this._parts.length;Je<Ct;Je++)for(var Bt=this._parts[Je],on=1,Nn=Bt.length;on<Nn;on++){oe=Bt[on-1],be=Bt[on];var Ar=K(v,oe,be,!0);Ar<P&&(P=Ar,k=K(v,oe,be))}return k&&(k.distance=Math.sqrt(P)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return lw(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(v,P){return P=P||this._defaultShape(),v=se(v),P.push(v),this._bounds.extend(v),this.redraw()},_setLatLngs:function(v){this._bounds=new ce,this._latlngs=this._convertLatLngs(v)},_defaultShape:function(){return fl(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(v){for(var P=[],k=fl(v),K=0,oe=v.length;K<oe;K++)k?(P[K]=se(v[K]),this._bounds.extend(P[K])):P[K]=this._convertLatLngs(v[K]);return P},_project:function(){var v=new re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,v),this._bounds.isValid()&&v.isValid()&&(this._rawPxBounds=v,this._updateBounds())},_updateBounds:function(){var v=this._clickTolerance(),P=new Y(v,v);this._rawPxBounds&&(this._pxBounds=new re([this._rawPxBounds.min.subtract(P),this._rawPxBounds.max.add(P)]))},_projectLatlngs:function(v,P,k){var K=v[0]instanceof ge,oe=v.length,be,Je;if(K){for(Je=[],be=0;be<oe;be++)Je[be]=this._map.latLngToLayerPoint(v[be]),k.extend(Je[be]);P.push(Je)}else for(be=0;be<oe;be++)this._projectLatlngs(v[be],P,k)},_clipPoints:function(){var v=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(v))){if(this.options.noClip){this._parts=this._rings;return}var P=this._parts,k,K,oe,be,Je,Ct,Bt;for(k=0,oe=0,be=this._rings.length;k<be;k++)for(Bt=this._rings[k],K=0,Je=Bt.length;K<Je-1;K++)Ct=aw(Bt[K],Bt[K+1],v,K,!0),Ct&&(P[oe]=P[oe]||[],P[oe].push(Ct[0]),(Ct[1]!==Bt[K+1]||K===Je-2)&&(P[oe].push(Ct[1]),oe++))}},_simplifyPoints:function(){for(var v=this._parts,P=this.options.smoothFactor,k=0,K=v.length;k<K;k++)v[k]=q1(v[k],P)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(v,P){var k,K,oe,be,Je,Ct,Bt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(v))return!1;for(k=0,be=this._parts.length;k<be;k++)for(Ct=this._parts[k],K=0,Je=Ct.length,oe=Je-1;K<Je;oe=K++)if(!(!P&&K===0)&&$g(v,Ct[oe],Ct[K])<=Bt)return!0;return!1}});function u4(v,P){return new xu(v,P)}xu._flat=Dm;var Lh=xu.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(v){var P=xu.prototype._convertLatLngs.call(this,v),k=P.length;return k>=2&&P[0]instanceof ge&&P[0].equals(P[k-1])&&P.pop(),P},_setLatLngs:function(v){xu.prototype._setLatLngs.call(this,v),fl(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return fl(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var v=this._renderer._bounds,P=this.options.weight,k=new Y(P,P);if(v=new re(v.min.subtract(k),v.max.add(k)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(v))){if(this.options.noClip){this._parts=this._rings;return}for(var K=0,oe=this._rings.length,be;K<oe;K++)be=Im(this._rings[K],v,!0),be.length&&this._parts.push(be)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(v){var P=!1,k,K,oe,be,Je,Ct,Bt,on;if(!this._pxBounds||!this._pxBounds.contains(v))return!1;for(be=0,Bt=this._parts.length;be<Bt;be++)for(k=this._parts[be],Je=0,on=k.length,Ct=on-1;Je<on;Ct=Je++)K=k[Je],oe=k[Ct],K.y>v.y!=oe.y>v.y&&v.x<(oe.x-K.x)*(v.y-K.y)/(oe.y-K.y)+K.x&&(P=!P);return P||xu.prototype._containsPoint.call(this,v,!0)}});function d4(v,P){return new Lh(v,P)}var go=bu.extend({initialize:function(v,P){_(this,P),this._layers={},v&&this.addData(v)},addData:function(v){var P=C(v)?v:v.features,k,K,oe;if(P){for(k=0,K=P.length;k<K;k++)oe=P[k],(oe.geometries||oe.geometry||oe.features||oe.coordinates)&&this.addData(oe);return this}var be=this.options;if(be.filter&&!be.filter(v))return this;var Je=Bh(v,be);return Je?(Je.feature=$h(v),Je.defaultOptions=Je.options,this.resetStyle(Je),be.onEachFeature&&be.onEachFeature(v,Je),this.addLayer(Je)):this},resetStyle:function(v){return v===void 0?this.eachLayer(this.resetStyle,this):(v.options=i({},v.defaultOptions),this._setLayerStyle(v,this.options.style),this)},setStyle:function(v){return this.eachLayer(function(P){this._setLayerStyle(P,v)},this)},_setLayerStyle:function(v,P){v.setStyle&&(typeof P=="function"&&(P=P(v.feature)),v.setStyle(P))}});function Bh(v,P){var k=v.type==="Feature"?v.geometry:v,K=k?k.coordinates:null,oe=[],be=P&&P.pointToLayer,Je=P&&P.coordsToLatLng||Q1,Ct,Bt,on,Nn;if(!K&&!k)return null;switch(k.type){case"Point":return Ct=Je(K),bd(be,v,Ct,P);case"MultiPoint":for(on=0,Nn=K.length;on<Nn;on++)Ct=Je(K[on]),oe.push(bd(be,v,Ct,P));return new bu(oe);case"LineString":case"MultiLineString":return Bt=Fh(K,k.type==="LineString"?0:1,Je),new xu(Bt,P);case"Polygon":case"MultiPolygon":return Bt=Fh(K,k.type==="Polygon"?1:2,Je),new Lh(Bt,P);case"GeometryCollection":for(on=0,Nn=k.geometries.length;on<Nn;on++){var Ar=Bh({geometry:k.geometries[on],type:"Feature",properties:v.properties},P);Ar&&oe.push(Ar)}return new bu(oe);case"FeatureCollection":for(on=0,Nn=k.features.length;on<Nn;on++){var $r=Bh(k.features[on],P);$r&&oe.push($r)}return new bu(oe);default:throw new Error("Invalid GeoJSON object.")}}function bd(v,P,k,K){return v?v(P,k):new Dh(k,K&&K.markersInheritOptions&&K)}function Q1(v){return new ge(v[1],v[0],v[2])}function Fh(v,P,k){for(var K=[],oe=0,be=v.length,Je;oe<be;oe++)Je=P?Fh(v[oe],P-1,k):(k||Q1)(v[oe]),K.push(Je);return K}function Z1(v,P){return v=se(v),v.alt!==void 0?[f(v.lng,P),f(v.lat,P),f(v.alt,P)]:[f(v.lng,P),f(v.lat,P)]}function Va(v,P,k,K){for(var oe=[],be=0,Je=v.length;be<Je;be++)oe.push(P?Va(v[be],fl(v[be])?0:P-1,k,K):Z1(v[be],K));return!P&&k&&oe.length>0&&oe.push(oe[0].slice()),oe}function xd(v,P){return v.feature?i({},v.feature,{geometry:P}):$h(P)}function $h(v){return v.type==="Feature"||v.type==="FeatureCollection"?v:{type:"Feature",properties:{},geometry:v}}var _d={toGeoJSON:function(v){return xd(this,{type:"Point",coordinates:Z1(this.getLatLng(),v)})}};Dh.include(_d),zg.include(_d),fi.include(_d),xu.include({toGeoJSON:function(v){var P=!fl(this._latlngs),k=Va(this._latlngs,P?1:0,!1,v);return xd(this,{type:(P?"Multi":"")+"LineString",coordinates:k})}}),Lh.include({toGeoJSON:function(v){var P=!fl(this._latlngs),k=P&&!fl(this._latlngs[0]),K=Va(this._latlngs,k?2:P?1:0,!0,v);return P||(K=[K]),xd(this,{type:(k?"Multi":"")+"Polygon",coordinates:K})}}),yd.include({toMultiPoint:function(v){var P=[];return this.eachLayer(function(k){P.push(k.toGeoJSON(v).geometry.coordinates)}),xd(this,{type:"MultiPoint",coordinates:P})},toGeoJSON:function(v){var P=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(P==="MultiPoint")return this.toMultiPoint(v);var k=P==="GeometryCollection",K=[];return this.eachLayer(function(oe){if(oe.toGeoJSON){var be=oe.toGeoJSON(v);if(k)K.push(be.geometry);else{var Je=$h(be);Je.type==="FeatureCollection"?K.push.apply(K,Je.features):K.push(Je)}}}),k?xd(this,{geometries:K,type:"GeometryCollection"}):{type:"FeatureCollection",features:K}}});function Sd(v,P){return new go(v,P)}var kh=Sd,Vg=Gl.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(v,P,k){this._url=v,this._bounds=he(P),_(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(v){return this.options.opacity=v,this._image&&this._updateOpacity(),this},setStyle:function(v){return v.opacity&&this.setOpacity(v.opacity),this},bringToFront:function(){return this._map&&Hn(this._image),this},bringToBack:function(){return this._map&&lr(this._image),this},setUrl:function(v){return this._url=v,this._image&&(this._image.src=v),this},setBounds:function(v){return this._bounds=he(v),this._map&&this._reset(),this},getEvents:function(){var v={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},setZIndex:function(v){return this.options.zIndex=v,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var v=this._url.tagName==="IMG",P=this._image=v?this._url:Mt("img");if(le(P,"leaflet-image-layer"),this._zoomAnimated&&le(P,"leaflet-zoom-animated"),this.options.className&&le(P,this.options.className),P.onselectstart=d,P.onmousemove=d,P.onload=a(this.fire,this,"load"),P.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),v){this._url=P.src;return}P.src=this._url,P.alt=this.options.alt},_animateZoom:function(v){var P=this._map.getZoomScale(v.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,v.zoom,v.center).min;Xn(this._image,k,P)},_reset:function(){var v=this._image,P=new re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=P.getSize();cr(v,P.min),v.style.width=k.x+"px",v.style.height=k.y+"px"},_updateOpacity:function(){xn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var v=this.options.errorOverlayUrl;v&&this._url!==v&&(this._url=v,this._image.src=v)},getCenter:function(){return this._bounds.getCenter()}}),hw=function(v,P,k){return new Vg(v,P,k)},pw=Vg.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var v=this._url.tagName==="VIDEO",P=this._image=v?this._url:Mt("video");if(le(P,"leaflet-image-layer"),this._zoomAnimated&&le(P,"leaflet-zoom-animated"),this.options.className&&le(P,this.options.className),P.onselectstart=d,P.onmousemove=d,P.onloadeddata=a(this.fire,this,"load"),v){for(var k=P.getElementsByTagName("source"),K=[],oe=0;oe<k.length;oe++)K.push(k[oe].src);this._url=k.length>0?K:[P.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(P.style,"objectFit")&&(P.style.objectFit="fill"),P.autoplay=!!this.options.autoplay,P.loop=!!this.options.loop,P.muted=!!this.options.muted,P.playsInline=!!this.options.playsInline;for(var be=0;be<this._url.length;be++){var Je=Mt("source");Je.src=this._url[be],P.appendChild(Je)}}});function J1(v,P,k){return new pw(v,P,k)}var mw=Vg.extend({_initImage:function(){var v=this._image=this._url;le(v,"leaflet-image-layer"),this._zoomAnimated&&le(v,"leaflet-zoom-animated"),this.options.className&&le(v,this.options.className),v.onselectstart=d,v.onmousemove=d}});function f4(v,P,k){return new mw(v,P,k)}var pl=Gl.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(v,P){v&&(v instanceof ge||C(v))?(this._latlng=se(v),_(this,P)):(_(this,v),this._source=P),this.options.content&&(this._content=this.options.content)},openOn:function(v){return v=arguments.length?v:this._source._map,v.hasLayer(this)||v.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(v){return this._map?this.close():(arguments.length?this._source=v:v=this._source,this._prepareOpen(),this.openOn(v._map)),this},onAdd:function(v){this._zoomAnimated=v._zoomAnimated,this._container||this._initLayout(),v._fadeAnimated&&xn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),v._fadeAnimated&&xn(this._container,1),this.bringToFront(),this.options.interactive&&(le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(v){v._fadeAnimated?(xn(this._container,0),this._removeTimeout=setTimeout(a(fn,void 0,this._container),200)):fn(this._container),this.options.interactive&&(yn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(v){return this._latlng=se(v),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(v){return this._content=v,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var v={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Hn(this._container),this},bringToBack:function(){return this._map&&lr(this._container),this},_prepareOpen:function(v){var P=this._source;if(!P._map)return!1;if(P instanceof bu){P=null;var k=this._source._layers;for(var K in k)if(k[K]._map){P=k[K];break}if(!P)return!1;this._source=P}if(!v)if(P.getCenter)v=P.getCenter();else if(P.getLatLng)v=P.getLatLng();else if(P.getBounds)v=P.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(v),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var v=this._contentNode,P=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof P=="string")v.innerHTML=P;else{for(;v.hasChildNodes();)v.removeChild(v.firstChild);v.appendChild(P)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var v=this._map.latLngToLayerPoint(this._latlng),P=Z(this.options.offset),k=this._getAnchor();this._zoomAnimated?cr(this._container,v.add(k)):P=P.add(v).add(k);var K=this._containerBottom=-P.y,oe=this._containerLeft=-Math.round(this._containerWidth/2)+P.x;this._container.style.bottom=K+"px",this._container.style.left=oe+"px"}},_getAnchor:function(){return[0,0]}});ii.include({_initOverlay:function(v,P,k,K){var oe=P;return oe instanceof v||(oe=new v(K).setContent(P)),k&&oe.setLatLng(k),oe}}),Gl.include({_initOverlay:function(v,P,k,K){var oe=k;return oe instanceof v?(_(oe,K),oe._source=this):(oe=P&&!K?P:new v(K,this),oe.setContent(k)),oe}});var Lm=pl.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(v){return v=arguments.length?v:this._source._map,!v.hasLayer(this)&&v._popup&&v._popup.options.autoClose&&v.removeLayer(v._popup),v._popup=this,pl.prototype.openOn.call(this,v)},onAdd:function(v){pl.prototype.onAdd.call(this,v),v.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hl||this._source.on("preclick",xi))},onRemove:function(v){pl.prototype.onRemove.call(this,v),v.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hl||this._source.off("preclick",xi))},getEvents:function(){var v=pl.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(v.preclick=this.close),this.options.keepInView&&(v.moveend=this._adjustPan),v},_initLayout:function(){var v="leaflet-popup",P=this._container=Mt("div",v+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=Mt("div",v+"-content-wrapper",P);if(this._contentNode=Mt("div",v+"-content",k),Ec(P),Ei(this._contentNode),gr(P,"contextmenu",xi),this._tipContainer=Mt("div",v+"-tip-container",P),this._tip=Mt("div",v+"-tip",this._tipContainer),this.options.closeButton){var K=this._closeButton=Mt("a",v+"-close-button",P);K.setAttribute("role","button"),K.setAttribute("aria-label","Close popup"),K.href="#close",K.innerHTML='<span aria-hidden="true">&#215;</span>',gr(K,"click",function(oe){mo(oe),this.close()},this)}},_updateLayout:function(){var v=this._contentNode,P=v.style;P.width="",P.whiteSpace="nowrap";var k=v.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),P.width=k+1+"px",P.whiteSpace="",P.height="";var K=v.offsetHeight,oe=this.options.maxHeight,be="leaflet-popup-scrolled";oe&&K>oe?(P.height=oe+"px",le(v,be)):yn(v,be),this._containerWidth=this._container.offsetWidth},_animateZoom:function(v){var P=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center),k=this._getAnchor();cr(this._container,P.add(k))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var v=this._map,P=parseInt(fe(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+P,K=this._containerWidth,oe=new Y(this._containerLeft,-k-this._containerBottom);oe._add(nr(this._container));var be=v.layerPointToContainerPoint(oe),Je=Z(this.options.autoPanPadding),Ct=Z(this.options.autoPanPaddingTopLeft||Je),Bt=Z(this.options.autoPanPaddingBottomRight||Je),on=v.getSize(),Nn=0,Ar=0;be.x+K+Bt.x>on.x&&(Nn=be.x+K-on.x+Bt.x),be.x-Nn-Ct.x<0&&(Nn=be.x-Ct.x),be.y+k+Bt.y>on.y&&(Ar=be.y+k-on.y+Bt.y),be.y-Ar-Ct.y<0&&(Ar=be.y-Ct.y),(Nn||Ar)&&(this.options.keepInView&&(this._autopanning=!0),v.fire("autopanstart").panBy([Nn,Ar]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),eb=function(v,P){return new Lm(v,P)};ii.mergeOptions({closePopupOnClick:!0}),ii.include({openPopup:function(v,P,k){return this._initOverlay(Lm,v,P,k).openOn(this),this},closePopup:function(v){return v=arguments.length?v:this._popup,v&&v.close(),this}}),Gl.include({bindPopup:function(v,P){return this._popup=this._initOverlay(Lm,this._popup,v,P),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(v){return this._popup&&(this instanceof bu||(this._popup._source=this),this._popup._prepareOpen(v||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(v){return this._popup&&this._popup.setContent(v),this},getPopup:function(){return this._popup},_openPopup:function(v){if(!(!this._popup||!this._map)){Mc(v);var P=v.layer||v.target;if(this._popup._source===P&&!(P instanceof hl)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(v.latlng);return}this._popup._source=P,this.openPopup(v.latlng)}},_movePopup:function(v){this._popup.setLatLng(v.latlng)},_onKeyPress:function(v){v.originalEvent.keyCode===13&&this._openPopup(v)}});var wd=pl.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(v){pl.prototype.onAdd.call(this,v),this.setOpacity(this.options.opacity),v.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(v){pl.prototype.onRemove.call(this,v),v.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var v=pl.prototype.getEvents.call(this);return this.options.permanent||(v.preclick=this.close),v},_initLayout:function(){var v="leaflet-tooltip",P=v+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Mt("div",P),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(v){var P,k,K=this._map,oe=this._container,be=K.latLngToContainerPoint(K.getCenter()),Je=K.layerPointToContainerPoint(v),Ct=this.options.direction,Bt=oe.offsetWidth,on=oe.offsetHeight,Nn=Z(this.options.offset),Ar=this._getAnchor();Ct==="top"?(P=Bt/2,k=on):Ct==="bottom"?(P=Bt/2,k=0):Ct==="center"?(P=Bt/2,k=on/2):Ct==="right"?(P=0,k=on/2):Ct==="left"?(P=Bt,k=on/2):Je.x<be.x?(Ct="right",P=0,k=on/2):(Ct="left",P=Bt+(Nn.x+Ar.x)*2,k=on/2),v=v.subtract(Z(P,k,!0)).add(Nn).add(Ar),yn(oe,"leaflet-tooltip-right"),yn(oe,"leaflet-tooltip-left"),yn(oe,"leaflet-tooltip-top"),yn(oe,"leaflet-tooltip-bottom"),le(oe,"leaflet-tooltip-"+Ct),cr(oe,v)},_updatePosition:function(){var v=this._map.latLngToLayerPoint(this._latlng);this._setPosition(v)},setOpacity:function(v){this.options.opacity=v,this._container&&xn(this._container,v)},_animateZoom:function(v){var P=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center);this._setPosition(P)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Uh=function(v,P){return new wd(v,P)};ii.include({openTooltip:function(v,P,k){return this._initOverlay(wd,v,P,k).openOn(this),this},closeTooltip:function(v){return v.close(),this}}),Gl.include({bindTooltip:function(v,P){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(wd,this._tooltip,v,P),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(v){if(!(!v&&this._tooltipHandlersAdded)){var P=v?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,k.click=this._openTooltip,this._map?this._addFocusListeners():k.add=this._addFocusListeners),this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),this[P](k),this._tooltipHandlersAdded=!v}},openTooltip:function(v){return this._tooltip&&(this instanceof bu||(this._tooltip._source=this),this._tooltip._prepareOpen(v)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(v){return this._tooltip&&this._tooltip.setContent(v),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(v){var P=typeof v.getElement=="function"&&v.getElement();P&&(gr(P,"focus",function(){this._tooltip._source=v,this.openTooltip()},this),gr(P,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(v){var P=typeof v.getElement=="function"&&v.getElement();P&&P.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(v){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var P=this;this._map.once("moveend",function(){P._openOnceFlag=!1,P._openTooltip(v)});return}this._tooltip._source=v.layer||v.target,this.openTooltip(this._tooltip.options.sticky?v.latlng:void 0)}},_moveTooltip:function(v){var P=v.latlng,k,K;this._tooltip.options.sticky&&v.originalEvent&&(k=this._map.mouseEventToContainerPoint(v.originalEvent),K=this._map.containerPointToLayerPoint(k),P=this._map.layerPointToLatLng(K)),this._tooltip.setLatLng(P)}});var fs=Oh.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(v){var P=v&&v.tagName==="DIV"?v:document.createElement("div"),k=this.options;if(k.html instanceof Element?(wn(P),P.appendChild(k.html)):P.innerHTML=k.html!==!1?k.html:"",k.bgPos){var K=Z(k.bgPos);P.style.backgroundPosition=-K.x+"px "+-K.y+"px"}return this._setIconStyles(P,"icon"),P},createShadow:function(){return null}});function h4(v){return new fs(v)}Oh.Default=Ef;var _u=Gl.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(v){_(this,v)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(v){v._addZoomLimit(this)},onRemove:function(v){this._removeAllTiles(),fn(this._container),v._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Hn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(lr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(v){return this.options.opacity=v,this._updateOpacity(),this},setZIndex:function(v){return this.options.zIndex=v,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var v=this._clampZoom(this._map.getZoom());v!==this._tileZoom&&(this._tileZoom=v,this._updateLevels()),this._update()}return this},getEvents:function(){var v={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),v.move=this._onMove),this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},createTile:function(){return document.createElement("div")},getTileSize:function(){var v=this.options.tileSize;return v instanceof Y?v:new Y(v,v)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(v){for(var P=this.getPane().children,k=-v(-1/0,1/0),K=0,oe=P.length,be;K<oe;K++)be=P[K].style.zIndex,P[K]!==this._container&&be&&(k=v(k,+be));isFinite(k)&&(this.options.zIndex=k+v(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pe.ielt9){xn(this._container,this.options.opacity);var v=+new Date,P=!1,k=!1;for(var K in this._tiles){var oe=this._tiles[K];if(!(!oe.current||!oe.loaded)){var be=Math.min(1,(v-oe.loaded)/200);xn(oe.el,be),be<1?P=!0:(oe.active?k=!0:this._onOpaqueTile(oe),oe.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),P&&(V(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=Mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var v=this._tileZoom,P=this.options.maxZoom;if(v!==void 0){for(var k in this._levels)k=Number(k),this._levels[k].el.children.length||k===v?(this._levels[k].el.style.zIndex=P-Math.abs(v-k),this._onUpdateLevel(k)):(fn(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var K=this._levels[v],oe=this._map;return K||(K=this._levels[v]={},K.el=Mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),K.el.style.zIndex=P,K.origin=oe.project(oe.unproject(oe.getPixelOrigin()),v).round(),K.zoom=v,this._setZoomTransform(K,oe.getCenter(),oe.getZoom()),d(K.el.offsetWidth),this._onCreateLevel(K)),this._level=K,K}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){if(this._map){var v,P,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom){this._removeAllTiles();return}for(v in this._tiles)P=this._tiles[v],P.retain=P.current;for(v in this._tiles)if(P=this._tiles[v],P.current&&!P.active){var K=P.coords;this._retainParent(K.x,K.y,K.z,K.z-5)||this._retainChildren(K.x,K.y,K.z,K.z+2)}for(v in this._tiles)this._tiles[v].retain||this._removeTile(v)}},_removeTilesAtZoom:function(v){for(var P in this._tiles)this._tiles[P].coords.z===v&&this._removeTile(P)},_removeAllTiles:function(){for(var v in this._tiles)this._removeTile(v)},_invalidateAll:function(){for(var v in this._levels)fn(this._levels[v].el),this._onRemoveLevel(Number(v)),delete this._levels[v];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(v,P,k,K){var oe=Math.floor(v/2),be=Math.floor(P/2),Je=k-1,Ct=new Y(+oe,+be);Ct.z=+Je;var Bt=this._tileCoordsToKey(Ct),on=this._tiles[Bt];return on&&on.active?(on.retain=!0,!0):(on&&on.loaded&&(on.retain=!0),Je>K?this._retainParent(oe,be,Je,K):!1)},_retainChildren:function(v,P,k,K){for(var oe=2*v;oe<2*v+2;oe++)for(var be=2*P;be<2*P+2;be++){var Je=new Y(oe,be);Je.z=k+1;var Ct=this._tileCoordsToKey(Je),Bt=this._tiles[Ct];if(Bt&&Bt.active){Bt.retain=!0;continue}else Bt&&Bt.loaded&&(Bt.retain=!0);k+1<K&&this._retainChildren(oe,be,k+1,K)}},_resetView:function(v){var P=v&&(v.pinch||v.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),P,P)},_animateZoom:function(v){this._setView(v.center,v.zoom,!0,v.noUpdate)},_clampZoom:function(v){var P=this.options;return P.minNativeZoom!==void 0&&v<P.minNativeZoom?P.minNativeZoom:P.maxNativeZoom!==void 0&&P.maxNativeZoom<v?P.maxNativeZoom:v},_setView:function(v,P,k,K){var oe=Math.round(P);this.options.maxZoom!==void 0&&oe>this.options.maxZoom||this.options.minZoom!==void 0&&oe<this.options.minZoom?oe=void 0:oe=this._clampZoom(oe);var be=this.options.updateWhenZooming&&oe!==this._tileZoom;(!K||be)&&(this._tileZoom=oe,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),oe!==void 0&&this._update(v),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(v,P)},_setZoomTransforms:function(v,P){for(var k in this._levels)this._setZoomTransform(this._levels[k],v,P)},_setZoomTransform:function(v,P,k){var K=this._map.getZoomScale(k,v.zoom),oe=v.origin.multiplyBy(K).subtract(this._map._getNewPixelOrigin(P,k)).round();Pe.any3d?Xn(v.el,oe,K):cr(v.el,oe)},_resetGrid:function(){var v=this._map,P=v.options.crs,k=this._tileSize=this.getTileSize(),K=this._tileZoom,oe=this._map.getPixelWorldBounds(this._tileZoom);oe&&(this._globalTileRange=this._pxBoundsToTileRange(oe)),this._wrapX=P.wrapLng&&!this.options.noWrap&&[Math.floor(v.project([0,P.wrapLng[0]],K).x/k.x),Math.ceil(v.project([0,P.wrapLng[1]],K).x/k.y)],this._wrapY=P.wrapLat&&!this.options.noWrap&&[Math.floor(v.project([P.wrapLat[0],0],K).y/k.x),Math.ceil(v.project([P.wrapLat[1],0],K).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(v){var P=this._map,k=P._animatingZoom?Math.max(P._animateToZoom,P.getZoom()):P.getZoom(),K=P.getZoomScale(k,this._tileZoom),oe=P.project(v,this._tileZoom).floor(),be=P.getSize().divideBy(K*2);return new re(oe.subtract(be),oe.add(be))},_update:function(v){var P=this._map;if(P){var k=this._clampZoom(P.getZoom());if(v===void 0&&(v=P.getCenter()),this._tileZoom!==void 0){var K=this._getTiledPixelBounds(v),oe=this._pxBoundsToTileRange(K),be=oe.getCenter(),Je=[],Ct=this.options.keepBuffer,Bt=new re(oe.getBottomLeft().subtract([Ct,-Ct]),oe.getTopRight().add([Ct,-Ct]));if(!(isFinite(oe.min.x)&&isFinite(oe.min.y)&&isFinite(oe.max.x)&&isFinite(oe.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var on in this._tiles){var Nn=this._tiles[on].coords;(Nn.z!==this._tileZoom||!Bt.contains(new Y(Nn.x,Nn.y)))&&(this._tiles[on].current=!1)}if(Math.abs(k-this._tileZoom)>1){this._setView(v,k);return}for(var Ar=oe.min.y;Ar<=oe.max.y;Ar++)for(var $r=oe.min.x;$r<=oe.max.x;$r++){var da=new Y($r,Ar);if(da.z=this._tileZoom,!!this._isValidTile(da)){var $o=this._tiles[this._tileCoordsToKey(da)];$o?$o.current=!0:Je.push(da)}}if(Je.sort(function(fa,Mf){return fa.distanceTo(be)-Mf.distanceTo(be)}),Je.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Bs=document.createDocumentFragment();for($r=0;$r<Je.length;$r++)this._addTile(Je[$r],Bs);this._level.el.appendChild(Bs)}}}},_isValidTile:function(v){var P=this._map.options.crs;if(!P.infinite){var k=this._globalTileRange;if(!P.wrapLng&&(v.x<k.min.x||v.x>k.max.x)||!P.wrapLat&&(v.y<k.min.y||v.y>k.max.y))return!1}if(!this.options.bounds)return!0;var K=this._tileCoordsToBounds(v);return he(this.options.bounds).overlaps(K)},_keyToBounds:function(v){return this._tileCoordsToBounds(this._keyToTileCoords(v))},_tileCoordsToNwSe:function(v){var P=this._map,k=this.getTileSize(),K=v.scaleBy(k),oe=K.add(k),be=P.unproject(K,v.z),Je=P.unproject(oe,v.z);return[be,Je]},_tileCoordsToBounds:function(v){var P=this._tileCoordsToNwSe(v),k=new ce(P[0],P[1]);return this.options.noWrap||(k=this._map.wrapLatLngBounds(k)),k},_tileCoordsToKey:function(v){return v.x+":"+v.y+":"+v.z},_keyToTileCoords:function(v){var P=v.split(":"),k=new Y(+P[0],+P[1]);return k.z=+P[2],k},_removeTile:function(v){var P=this._tiles[v];P&&(fn(P.el),delete this._tiles[v],this.fire("tileunload",{tile:P.el,coords:this._keyToTileCoords(v)}))},_initTile:function(v){le(v,"leaflet-tile");var P=this.getTileSize();v.style.width=P.x+"px",v.style.height=P.y+"px",v.onselectstart=d,v.onmousemove=d,Pe.ielt9&&this.options.opacity<1&&xn(v,this.options.opacity)},_addTile:function(v,P){var k=this._getTilePos(v),K=this._tileCoordsToKey(v),oe=this.createTile(this._wrapCoords(v),a(this._tileReady,this,v));this._initTile(oe),this.createTile.length<2&&z(a(this._tileReady,this,v,null,oe)),cr(oe,k),this._tiles[K]={el:oe,coords:v,current:!0},P.appendChild(oe),this.fire("tileloadstart",{tile:oe,coords:v})},_tileReady:function(v,P,k){P&&this.fire("tileerror",{error:P,tile:k,coords:v});var K=this._tileCoordsToKey(v);k=this._tiles[K],k&&(k.loaded=+new Date,this._map._fadeAnimated?(xn(k.el,0),V(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),P||(le(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:v})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pe.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(v){return v.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(v){var P=new Y(this._wrapX?u(v.x,this._wrapX):v.x,this._wrapY?u(v.y,this._wrapY):v.y);return P.z=v.z,P},_pxBoundsToTileRange:function(v){var P=this.getTileSize();return new re(v.min.unscaleBy(P).floor(),v.max.unscaleBy(P).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var v in this._tiles)if(!this._tiles[v].loaded)return!1;return!0}});function p4(v){return new _u(v)}var zh=_u.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(v,P){this._url=v,P=_(this,P),P.detectRetina&&Pe.retina&&P.maxZoom>0?(P.tileSize=Math.floor(P.tileSize/2),P.zoomReverse?(P.zoomOffset--,P.minZoom=Math.min(P.maxZoom,P.minZoom+1)):(P.zoomOffset++,P.maxZoom=Math.max(P.minZoom,P.maxZoom-1)),P.minZoom=Math.max(0,P.minZoom)):P.zoomReverse?P.minZoom=Math.min(P.maxZoom,P.minZoom):P.maxZoom=Math.max(P.minZoom,P.maxZoom),typeof P.subdomains=="string"&&(P.subdomains=P.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(v,P){return this._url===v&&P===void 0&&(P=!0),this._url=v,P||this.redraw(),this},createTile:function(v,P){var k=document.createElement("img");return gr(k,"load",a(this._tileOnLoad,this,P,k)),gr(k,"error",a(this._tileOnError,this,P,k)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(k.referrerPolicy=this.options.referrerPolicy),k.alt="",k.src=this.getTileUrl(v),k},getTileUrl:function(v){var P={r:Pe.retina?"@2x":"",s:this._getSubdomain(v),x:v.x,y:v.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-v.y;this.options.tms&&(P.y=k),P["-y"]=k}return w(this._url,i(P,this.options))},_tileOnLoad:function(v,P){Pe.ielt9?setTimeout(a(v,this,null,P),0):v(null,P)},_tileOnError:function(v,P,k){var K=this.options.errorTileUrl;K&&P.getAttribute("src")!==K&&(P.src=K),v(k,P)},_onTileRemove:function(v){v.tile.onload=null},_getZoomForUrl:function(){var v=this._tileZoom,P=this.options.maxZoom,k=this.options.zoomReverse,K=this.options.zoomOffset;return k&&(v=P-v),v+K},_getSubdomain:function(v){var P=Math.abs(v.x+v.y)%this.options.subdomains.length;return this.options.subdomains[P]},_abortLoading:function(){var v,P;for(v in this._tiles)if(this._tiles[v].coords.z!==this._tileZoom&&(P=this._tiles[v].el,P.onload=d,P.onerror=d,!P.complete)){P.src=R;var k=this._tiles[v].coords;fn(P),delete this._tiles[v],this.fire("tileabort",{tile:P,coords:k})}},_removeTile:function(v){var P=this._tiles[v];if(P)return P.el.setAttribute("src",R),_u.prototype._removeTile.call(this,v)},_tileReady:function(v,P,k){if(!(!this._map||k&&k.getAttribute("src")===R))return _u.prototype._tileReady.call(this,v,P,k)}});function gw(v,P){return new zh(v,P)}var tb=zh.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(v,P){this._url=v;var k=i({},this.defaultWmsParams);for(var K in P)K in this.options||(k[K]=P[K]);P=_(this,P);var oe=P.detectRetina&&Pe.retina?2:1,be=this.getTileSize();k.width=be.x*oe,k.height=be.y*oe,this.wmsParams=k},onAdd:function(v){this._crs=this.options.crs||v.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var P=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[P]=this._crs.code,zh.prototype.onAdd.call(this,v)},getTileUrl:function(v){var P=this._tileCoordsToNwSe(v),k=this._crs,K=ae(k.project(P[0]),k.project(P[1])),oe=K.min,be=K.max,Je=(this._wmsVersion>=1.3&&this._crs===Y1?[oe.y,oe.x,be.y,be.x]:[oe.x,oe.y,be.x,be.y]).join(","),Ct=zh.prototype.getTileUrl.call(this,v);return Ct+x(this.wmsParams,Ct,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Je},setParams:function(v,P){return i(this.wmsParams,v),P||this.redraw(),this}});function m4(v,P){return new tb(v,P)}zh.WMS=tb,gw.wms=m4;var Su=Gl.extend({options:{padding:.1},initialize:function(v){_(this,v),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var v={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(v.zoomanim=this._onAnimZoom),v},_onAnimZoom:function(v){this._updateTransform(v.center,v.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(v,P){var k=this._map.getZoomScale(P,this._zoom),K=this._map.getSize().multiplyBy(.5+this.options.padding),oe=this._map.project(this._center,P),be=K.multiplyBy(-k).add(oe).subtract(this._map._getNewPixelOrigin(v,P));Pe.any3d?Xn(this._container,be,k):cr(this._container,be)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var v in this._layers)this._layers[v]._reset()},_onZoomEnd:function(){for(var v in this._layers)this._layers[v]._project()},_updatePaths:function(){for(var v in this._layers)this._layers[v]._update()},_update:function(){var v=this.options.padding,P=this._map.getSize(),k=this._map.containerPointToLayerPoint(P.multiplyBy(-v)).round();this._bounds=new re(k,k.add(P.multiplyBy(1+v*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Aw=Su.extend({options:{tolerance:0},getEvents:function(){var v=Su.prototype.getEvents.call(this);return v.viewprereset=this._onViewPreReset,v},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Su.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var v=this._container=document.createElement("canvas");gr(v,"mousemove",this._onMouseMove,this),gr(v,"click dblclick mousedown mouseup contextmenu",this._onClick,this),gr(v,"mouseout",this._handleMouseOut,this),v._leaflet_disable_events=!0,this._ctx=v.getContext("2d")},_destroyContainer:function(){V(this._redrawRequest),delete this._ctx,fn(this._container),di(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var v;this._redrawBounds=null;for(var P in this._layers)v=this._layers[P],v._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Su.prototype._update.call(this);var v=this._bounds,P=this._container,k=v.getSize(),K=Pe.retina?2:1;cr(P,v.min),P.width=K*k.x,P.height=K*k.y,P.style.width=k.x+"px",P.style.height=k.y+"px",Pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-v.min.x,-v.min.y),this.fire("update")}},_reset:function(){Su.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(v){this._updateDashArray(v),this._layers[l(v)]=v;var P=v._order={layer:v,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=P),this._drawLast=P,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(v){this._requestRedraw(v)},_removePath:function(v){var P=v._order,k=P.next,K=P.prev;k?k.prev=K:this._drawLast=K,K?K.next=k:this._drawFirst=k,delete v._order,delete this._layers[l(v)],this._requestRedraw(v)},_updatePath:function(v){this._extendRedrawBounds(v),v._project(),v._update(),this._requestRedraw(v)},_updateStyle:function(v){this._updateDashArray(v),this._requestRedraw(v)},_updateDashArray:function(v){if(typeof v.options.dashArray=="string"){var P=v.options.dashArray.split(/[, ]+/),k=[],K,oe;for(oe=0;oe<P.length;oe++){if(K=Number(P[oe]),isNaN(K))return;k.push(K)}v.options._dashArray=k}else v.options._dashArray=v.options.dashArray},_requestRedraw:function(v){this._map&&(this._extendRedrawBounds(v),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(v){if(v._pxBounds){var P=(v.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new re,this._redrawBounds.extend(v._pxBounds.min.subtract([P,P])),this._redrawBounds.extend(v._pxBounds.max.add([P,P]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var v=this._redrawBounds;if(v){var P=v.getSize();this._ctx.clearRect(v.min.x,v.min.y,P.x,P.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var v,P=this._redrawBounds;if(this._ctx.save(),P){var k=P.getSize();this._ctx.beginPath(),this._ctx.rect(P.min.x,P.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var K=this._drawFirst;K;K=K.next)v=K.layer,(!P||v._pxBounds&&v._pxBounds.intersects(P))&&v._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(v,P){if(this._drawing){var k,K,oe,be,Je=v._parts,Ct=Je.length,Bt=this._ctx;if(Ct){for(Bt.beginPath(),k=0;k<Ct;k++){for(K=0,oe=Je[k].length;K<oe;K++)be=Je[k][K],Bt[K?"lineTo":"moveTo"](be.x,be.y);P&&Bt.closePath()}this._fillStroke(Bt,v)}}},_updateCircle:function(v){if(!(!this._drawing||v._empty())){var P=v._point,k=this._ctx,K=Math.max(Math.round(v._radius),1),oe=(Math.max(Math.round(v._radiusY),1)||K)/K;oe!==1&&(k.save(),k.scale(1,oe)),k.beginPath(),k.arc(P.x,P.y/oe,K,0,Math.PI*2,!1),oe!==1&&k.restore(),this._fillStroke(k,v)}},_fillStroke:function(v,P){var k=P.options;k.fill&&(v.globalAlpha=k.fillOpacity,v.fillStyle=k.fillColor||k.color,v.fill(k.fillRule||"evenodd")),k.stroke&&k.weight!==0&&(v.setLineDash&&v.setLineDash(P.options&&P.options._dashArray||[]),v.globalAlpha=k.opacity,v.lineWidth=k.weight,v.strokeStyle=k.color,v.lineCap=k.lineCap,v.lineJoin=k.lineJoin,v.stroke())},_onClick:function(v){for(var P=this._map.mouseEventToLayerPoint(v),k,K,oe=this._drawFirst;oe;oe=oe.next)k=oe.layer,k.options.interactive&&k._containsPoint(P)&&(!(v.type==="click"||v.type==="preclick")||!this._map._draggableMoved(k))&&(K=k);this._fireEvent(K?[K]:!1,v)},_onMouseMove:function(v){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var P=this._map.mouseEventToLayerPoint(v);this._handleMouseHover(v,P)}},_handleMouseOut:function(v){var P=this._hoveredLayer;P&&(yn(this._container,"leaflet-interactive"),this._fireEvent([P],v,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(v,P){if(!this._mouseHoverThrottled){for(var k,K,oe=this._drawFirst;oe;oe=oe.next)k=oe.layer,k.options.interactive&&k._containsPoint(P)&&(K=k);K!==this._hoveredLayer&&(this._handleMouseOut(v),K&&(le(this._container,"leaflet-interactive"),this._fireEvent([K],v,"mouseover"),this._hoveredLayer=K)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,v),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(v,P,k){this._map._fireDOMEvent(P,k||P.type,v)},_bringToFront:function(v){var P=v._order;if(P){var k=P.next,K=P.prev;if(k)k.prev=K;else return;K?K.next=k:k&&(this._drawFirst=k),P.prev=this._drawLast,this._drawLast.next=P,P.next=null,this._drawLast=P,this._requestRedraw(v)}},_bringToBack:function(v){var P=v._order;if(P){var k=P.next,K=P.prev;if(K)K.next=k;else return;k?k.prev=K:K&&(this._drawLast=K),P.prev=null,P.next=this._drawFirst,this._drawFirst.prev=P,this._drawFirst=P,this._requestRedraw(v)}}});function Bm(v){return Pe.canvas?new Aw(v):null}var Vh=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(v){return document.createElement("<lvml:"+v+' class="lvml">')}}catch{}return function(v){return document.createElement("<"+v+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),nb={_initContainer:function(){this._container=Mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Su.prototype._update.call(this),this.fire("update"))},_initPath:function(v){var P=v._container=Vh("shape");le(P,"leaflet-vml-shape "+(this.options.className||"")),P.coordsize="1 1",v._path=Vh("path"),P.appendChild(v._path),this._updateStyle(v),this._layers[l(v)]=v},_addPath:function(v){var P=v._container;this._container.appendChild(P),v.options.interactive&&v.addInteractiveTarget(P)},_removePath:function(v){var P=v._container;fn(P),v.removeInteractiveTarget(P),delete this._layers[l(v)]},_updateStyle:function(v){var P=v._stroke,k=v._fill,K=v.options,oe=v._container;oe.stroked=!!K.stroke,oe.filled=!!K.fill,K.stroke?(P||(P=v._stroke=Vh("stroke")),oe.appendChild(P),P.weight=K.weight+"px",P.color=K.color,P.opacity=K.opacity,K.dashArray?P.dashStyle=C(K.dashArray)?K.dashArray.join(" "):K.dashArray.replace(/( *, *)/g," "):P.dashStyle="",P.endcap=K.lineCap.replace("butt","flat"),P.joinstyle=K.lineJoin):P&&(oe.removeChild(P),v._stroke=null),K.fill?(k||(k=v._fill=Vh("fill")),oe.appendChild(k),k.color=K.fillColor||K.color,k.opacity=K.fillOpacity):k&&(oe.removeChild(k),v._fill=null)},_updateCircle:function(v){var P=v._point.round(),k=Math.round(v._radius),K=Math.round(v._radiusY||k);this._setPath(v,v._empty()?"M0 0":"AL "+P.x+","+P.y+" "+k+","+K+" 0,"+65535*360)},_setPath:function(v,P){v._path.v=P},_bringToFront:function(v){Hn(v._container)},_bringToBack:function(v){lr(v._container)}},Gg=Pe.vml?Vh:_e,Fm=Su.extend({_initContainer:function(){this._container=Gg("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gg("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fn(this._container),di(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Su.prototype._update.call(this);var v=this._bounds,P=v.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(P))&&(this._svgSize=P,k.setAttribute("width",P.x),k.setAttribute("height",P.y)),cr(k,v.min),k.setAttribute("viewBox",[v.min.x,v.min.y,P.x,P.y].join(" ")),this.fire("update")}},_initPath:function(v){var P=v._path=Gg("path");v.options.className&&le(P,v.options.className),v.options.interactive&&le(P,"leaflet-interactive"),this._updateStyle(v),this._layers[l(v)]=v},_addPath:function(v){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(v._path),v.addInteractiveTarget(v._path)},_removePath:function(v){fn(v._path),v.removeInteractiveTarget(v._path),delete this._layers[l(v)]},_updatePath:function(v){v._project(),v._update()},_updateStyle:function(v){var P=v._path,k=v.options;P&&(k.stroke?(P.setAttribute("stroke",k.color),P.setAttribute("stroke-opacity",k.opacity),P.setAttribute("stroke-width",k.weight),P.setAttribute("stroke-linecap",k.lineCap),P.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?P.setAttribute("stroke-dasharray",k.dashArray):P.removeAttribute("stroke-dasharray"),k.dashOffset?P.setAttribute("stroke-dashoffset",k.dashOffset):P.removeAttribute("stroke-dashoffset")):P.setAttribute("stroke","none"),k.fill?(P.setAttribute("fill",k.fillColor||k.color),P.setAttribute("fill-opacity",k.fillOpacity),P.setAttribute("fill-rule",k.fillRule||"evenodd")):P.setAttribute("fill","none"))},_updatePoly:function(v,P){this._setPath(v,ve(v._parts,P))},_updateCircle:function(v){var P=v._point,k=Math.max(Math.round(v._radius),1),K=Math.max(Math.round(v._radiusY),1)||k,oe="a"+k+","+K+" 0 1,0 ",be=v._empty()?"M0 0":"M"+(P.x-k)+","+P.y+oe+k*2+",0 "+oe+-k*2+",0 ";this._setPath(v,be)},_setPath:function(v,P){v._path.setAttribute("d",P)},_bringToFront:function(v){Hn(v._path)},_bringToBack:function(v){lr(v._path)}});Pe.vml&&Fm.include(nb);function vw(v){return Pe.svg||Pe.vml?new Fm(v):null}ii.include({getRenderer:function(v){var P=v.options.renderer||this._getPaneRenderer(v.options.pane)||this.options.renderer||this._renderer;return P||(P=this._renderer=this._createRenderer()),this.hasLayer(P)||this.addLayer(P),P},_getPaneRenderer:function(v){if(v==="overlayPane"||v===void 0)return!1;var P=this._paneRenderers[v];return P===void 0&&(P=this._createRenderer({pane:v}),this._paneRenderers[v]=P),P},_createRenderer:function(v){return this.options.preferCanvas&&Bm(v)||vw(v)}});var yw=Lh.extend({initialize:function(v,P){Lh.prototype.initialize.call(this,this._boundsToLatLngs(v),P)},setBounds:function(v){return this.setLatLngs(this._boundsToLatLngs(v))},_boundsToLatLngs:function(v){return v=he(v),[v.getSouthWest(),v.getNorthWest(),v.getNorthEast(),v.getSouthEast()]}});function g4(v,P){return new yw(v,P)}Fm.create=Gg,Fm.pointsToPath=ve,go.geometryToLayer=Bh,go.coordsToLatLng=Q1,go.coordsToLatLngs=Fh,go.latLngToCoords=Z1,go.latLngsToCoords=Va,go.getFeature=xd,go.asFeature=$h,ii.mergeOptions({boxZoom:!0});var bw=Ls.extend({initialize:function(v){this._map=v,this._container=v._container,this._pane=v._panes.overlayPane,this._resetStateTimeout=0,v.on("unload",this._destroy,this)},addHooks:function(){gr(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){di(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(v){if(!v.shiftKey||v.which!==1&&v.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mr(),Fn(),this._startPoint=this._map.mouseEventToContainerPoint(v),gr(document,{contextmenu:Mc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(v){this._moved||(this._moved=!0,this._box=Mt("div","leaflet-zoom-box",this._container),le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(v);var P=new re(this._point,this._startPoint),k=P.getSize();cr(this._box,P.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(fn(this._box),yn(this._container,"leaflet-crosshair")),ur(),rr(),di(document,{contextmenu:Mc,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(v){if(!(v.which!==1&&v.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var P=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(P).fire("boxzoomend",{boxZoomBounds:P})}},_onKeyDown:function(v){v.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ii.addInitHook("addHandler","boxZoom",bw),ii.mergeOptions({doubleClickZoom:!0});var xw=Ls.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(v){var P=this._map,k=P.getZoom(),K=P.options.zoomDelta,oe=v.originalEvent.shiftKey?k-K:k+K;P.options.doubleClickZoom==="center"?P.setZoom(oe):P.setZoomAround(v.containerPoint,oe)}});ii.addInitHook("addHandler","doubleClickZoom",xw),ii.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rb=Ls.extend({addHooks:function(){if(!this._draggable){var v=this._map;this._draggable=new yu(v._mapPane,v._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),v.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),v.on("zoomend",this._onZoomEnd,this),v.whenReady(this._onZoomEnd,this))}le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){yn(this._map._container,"leaflet-grab"),yn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var v=this._map;if(v._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var P=he(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(P.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(P.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;v.fire("movestart").fire("dragstart"),v.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(v){if(this._map.options.inertia){var P=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(P),this._prunePositions(P)}this._map.fire("move",v).fire("drag",v)},_prunePositions:function(v){for(;this._positions.length>1&&v-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var v=this._map.getSize().divideBy(2),P=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=P.subtract(v).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(v,P){return v-(v-P)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var v=this._draggable._newPos.subtract(this._draggable._startPos),P=this._offsetLimit;v.x<P.min.x&&(v.x=this._viscousLimit(v.x,P.min.x)),v.y<P.min.y&&(v.y=this._viscousLimit(v.y,P.min.y)),v.x>P.max.x&&(v.x=this._viscousLimit(v.x,P.max.x)),v.y>P.max.y&&(v.y=this._viscousLimit(v.y,P.max.y)),this._draggable._newPos=this._draggable._startPos.add(v)}},_onPreDragWrap:function(){var v=this._worldWidth,P=Math.round(v/2),k=this._initialWorldOffset,K=this._draggable._newPos.x,oe=(K-P+k)%v+P-k,be=(K+P+k)%v-P-k,Je=Math.abs(oe+k)<Math.abs(be+k)?oe:be;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Je},_onDragEnd:function(v){var P=this._map,k=P.options,K=!k.inertia||v.noInertia||this._times.length<2;if(P.fire("dragend",v),K)P.fire("moveend");else{this._prunePositions(+new Date);var oe=this._lastPos.subtract(this._positions[0]),be=(this._lastTime-this._times[0])/1e3,Je=k.easeLinearity,Ct=oe.multiplyBy(Je/be),Bt=Ct.distanceTo([0,0]),on=Math.min(k.inertiaMaxSpeed,Bt),Nn=Ct.multiplyBy(on/Bt),Ar=on/(k.inertiaDeceleration*Je),$r=Nn.multiplyBy(-Ar/2).round();!$r.x&&!$r.y?P.fire("moveend"):($r=P._limitOffset($r,P.options.maxBounds),z(function(){P.panBy($r,{duration:Ar,easeLinearity:Je,noMoveStart:!0,animate:!0})}))}}});ii.addInitHook("addHandler","dragging",rb),ii.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _w=Ls.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(v){this._map=v,this._setPanDelta(v.options.keyboardPanDelta),this._setZoomDelta(v.options.zoomDelta)},addHooks:function(){var v=this._map._container;v.tabIndex<=0&&(v.tabIndex="0"),gr(v,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),di(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var v=document.body,P=document.documentElement,k=v.scrollTop||P.scrollTop,K=v.scrollLeft||P.scrollLeft;this._map._container.focus(),window.scrollTo(K,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(v){var P=this._panKeys={},k=this.keyCodes,K,oe;for(K=0,oe=k.left.length;K<oe;K++)P[k.left[K]]=[-1*v,0];for(K=0,oe=k.right.length;K<oe;K++)P[k.right[K]]=[v,0];for(K=0,oe=k.down.length;K<oe;K++)P[k.down[K]]=[0,v];for(K=0,oe=k.up.length;K<oe;K++)P[k.up[K]]=[0,-1*v]},_setZoomDelta:function(v){var P=this._zoomKeys={},k=this.keyCodes,K,oe;for(K=0,oe=k.zoomIn.length;K<oe;K++)P[k.zoomIn[K]]=v;for(K=0,oe=k.zoomOut.length;K<oe;K++)P[k.zoomOut[K]]=-v},_addHooks:function(){gr(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){di(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(v){if(!(v.altKey||v.ctrlKey||v.metaKey)){var P=v.keyCode,k=this._map,K;if(P in this._panKeys){if(!k._panAnim||!k._panAnim._inProgress)if(K=this._panKeys[P],v.shiftKey&&(K=Z(K).multiplyBy(3)),k.options.maxBounds&&(K=k._limitOffset(Z(K),k.options.maxBounds)),k.options.worldCopyJump){var oe=k.wrapLatLng(k.unproject(k.project(k.getCenter()).add(K)));k.panTo(oe)}else k.panBy(K)}else if(P in this._zoomKeys)k.setZoom(k.getZoom()+(v.shiftKey?3:1)*this._zoomKeys[P]);else if(P===27&&k._popup&&k._popup.options.closeOnEscapeKey)k.closePopup();else return;Mc(v)}}});ii.addInitHook("addHandler","keyboard",_w),ii.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ib=Ls.extend({addHooks:function(){gr(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){di(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(v){var P=G1(v),k=this._map.options.wheelDebounceTime;this._delta+=P,this._lastMousePos=this._map.mouseEventToContainerPoint(v),this._startTime||(this._startTime=+new Date);var K=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),K),Mc(v)},_performZoom:function(){var v=this._map,P=v.getZoom(),k=this._map.options.zoomSnap||0;v._stop();var K=this._delta/(this._map.options.wheelPxPerZoomLevel*4),oe=4*Math.log(2/(1+Math.exp(-Math.abs(K))))/Math.LN2,be=k?Math.ceil(oe/k)*k:oe,Je=v._limitZoom(P+(this._delta>0?be:-be))-P;this._delta=0,this._startTime=null,Je&&(v.options.scrollWheelZoom==="center"?v.setZoom(P+Je):v.setZoomAround(this._lastMousePos,P+Je))}});ii.addInitHook("addHandler","scrollWheelZoom",ib);var wu=600;ii.mergeOptions({tapHold:Pe.touchNative&&Pe.safari&&Pe.mobile,tapTolerance:15});var ob=Ls.extend({addHooks:function(){gr(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){di(this._map._container,"touchstart",this._onDown,this)},_onDown:function(v){if(clearTimeout(this._holdTimeout),v.touches.length===1){var P=v.touches[0];this._startPos=this._newPos=new Y(P.clientX,P.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(gr(document,"touchend",mo),gr(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",P))},this),wu),gr(document,"touchend touchcancel contextmenu",this._cancel,this),gr(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function v(){di(document,"touchend",mo),di(document,"touchend touchcancel",v)},_cancel:function(){clearTimeout(this._holdTimeout),di(document,"touchend touchcancel contextmenu",this._cancel,this),di(document,"touchmove",this._onMove,this)},_onMove:function(v){var P=v.touches[0];this._newPos=new Y(P.clientX,P.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(v,P){var k=new MouseEvent(v,{bubbles:!0,cancelable:!0,view:window,screenX:P.screenX,screenY:P.screenY,clientX:P.clientX,clientY:P.clientY});k._simulated=!0,P.target.dispatchEvent(k)}});ii.addInitHook("addHandler","tapHold",ob),ii.mergeOptions({touchZoom:Pe.touch,bounceAtZoomLimits:!0});var Sw=Ls.extend({addHooks:function(){le(this._map._container,"leaflet-touch-zoom"),gr(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){yn(this._map._container,"leaflet-touch-zoom"),di(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(v){var P=this._map;if(!(!v.touches||v.touches.length!==2||P._animatingZoom||this._zooming)){var k=P.mouseEventToContainerPoint(v.touches[0]),K=P.mouseEventToContainerPoint(v.touches[1]);this._centerPoint=P.getSize()._divideBy(2),this._startLatLng=P.containerPointToLatLng(this._centerPoint),P.options.touchZoom!=="center"&&(this._pinchStartLatLng=P.containerPointToLatLng(k.add(K)._divideBy(2))),this._startDist=k.distanceTo(K),this._startZoom=P.getZoom(),this._moved=!1,this._zooming=!0,P._stop(),gr(document,"touchmove",this._onTouchMove,this),gr(document,"touchend touchcancel",this._onTouchEnd,this),mo(v)}},_onTouchMove:function(v){if(!(!v.touches||v.touches.length!==2||!this._zooming)){var P=this._map,k=P.mouseEventToContainerPoint(v.touches[0]),K=P.mouseEventToContainerPoint(v.touches[1]),oe=k.distanceTo(K)/this._startDist;if(this._zoom=P.getScaleZoom(oe,this._startZoom),!P.options.bounceAtZoomLimits&&(this._zoom<P.getMinZoom()&&oe<1||this._zoom>P.getMaxZoom()&&oe>1)&&(this._zoom=P._limitZoom(this._zoom)),P.options.touchZoom==="center"){if(this._center=this._startLatLng,oe===1)return}else{var be=k._add(K)._divideBy(2)._subtract(this._centerPoint);if(oe===1&&be.x===0&&be.y===0)return;this._center=P.unproject(P.project(this._pinchStartLatLng,this._zoom).subtract(be),this._zoom)}this._moved||(P._moveStart(!0,!1),this._moved=!0),V(this._animRequest);var Je=a(P._move,P,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(Je,this,!0),mo(v)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,V(this._animRequest),di(document,"touchmove",this._onTouchMove,this),di(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ii.addInitHook("addHandler","touchZoom",Sw),ii.BoxZoom=bw,ii.DoubleClickZoom=xw,ii.Drag=rb,ii.Keyboard=_w,ii.ScrollWheelZoom=ib,ii.TapHold=ob,ii.TouchZoom=Sw,n.Bounds=re,n.Browser=Pe,n.CRS=me,n.Canvas=Aw,n.Circle=zg,n.CircleMarker=fi,n.Class=G,n.Control=Vl,n.DivIcon=fs,n.DivOverlay=pl,n.DomEvent=ew,n.DomUtil=dl,n.Draggable=yu,n.Evented=X,n.FeatureGroup=bu,n.GeoJSON=go,n.GridLayer=_u,n.Handler=Ls,n.Icon=Oh,n.ImageOverlay=Vg,n.LatLng=ge,n.LatLngBounds=ce,n.Layer=Gl,n.LayerGroup=yd,n.LineUtil=a4,n.Map=ii,n.Marker=Dh,n.Mixin=wf,n.Path=hl,n.Point=Y,n.PolyUtil=iw,n.Polygon=Lh,n.Polyline=xu,n.Popup=Lm,n.PosAnimation=tw,n.Projection=s4,n.Rectangle=yw,n.Renderer=Su,n.SVG=Fm,n.SVGOverlay=mw,n.TileLayer=zh,n.Tooltip=wd,n.Transformation=Me,n.Util=q,n.VideoOverlay=pw,n.bind=a,n.bounds=ae,n.canvas=Bm,n.circle=fw,n.circleMarker=c4,n.control=Fo,n.divIcon=h4,n.extend=i,n.featureGroup=uw,n.geoJSON=Sd,n.geoJson=kh,n.gridLayer=p4,n.icon=l4,n.imageOverlay=hw,n.latLng=se,n.latLngBounds=he,n.layerGroup=cw,n.map=e4,n.marker=K1,n.point=Z,n.polygon=d4,n.polyline=u4,n.popup=eb,n.rectangle=g4,n.setOptions=_,n.stamp=l,n.svg=vw,n.svgOverlay=f4,n.tileLayer=gw,n.tooltip=Uh,n.transformation=Oe,n.version=r,n.videoOverlay=J1;var A4=window.L;n.noConflict=function(){return window.L=A4,this},window.L=n})})(_B,_B.exports);var VS=_B.exports;const kme=al(VS);function _U(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function SU(t,e){return e==null?function(r,i){const o=S.useRef();return o.current||(o.current=t(r,i)),o}:function(r,i){const o=S.useRef();o.current||(o.current=t(r,i));const a=S.useRef(r),{instance:s}=o.current;return S.useEffect(function(){a.current!==r&&(e(s,r,a.current),a.current=r)},[s,r,i]),o}}function Rgt(t,e){S.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Ume(t){return function(n){const r=bU(),i=t(xU(n,r),r);return Lme(r.map,n.attribution),$me(i.current,n.eventHandlers),Rgt(i.current,r),i}}function Ngt(t,e){const n=SU(t,e),r=Ume(n);return Tgt(r)}function Igt(t,e){const n=SU(t),r=Pgt(n,e);return Egt(r)}function Ogt(t,e){const n=SU(t,e),r=Ume(n);return Mgt(r)}function Dgt(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function Lgt(){return bU().map}function SB(){return SB=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SB.apply(this,arguments)}function Bgt({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:o,placeholder:a,style:s,whenReady:l,zoom:c,...u},d){const[f]=S.useState({className:i,id:o,style:s}),[h,p]=S.useState(null);S.useImperativeHandle(d,()=>(h==null?void 0:h.map)??null,[h]);const _=S.useCallback(y=>{if(y!==null&&h===null){const w=new VS.Map(y,u);n!=null&&c!=null?w.setView(n,c):t!=null&&w.fitBounds(t,e),l!=null&&w.whenReady(l),p(wgt(w))}},[]);S.useEffect(()=>()=>{h==null||h.map.remove()},[h]);const x=h?Ye.createElement(Fme,{value:h},r):a??null;return Ye.createElement("div",SB({},f,{ref:_}),x)}const Fgt=S.forwardRef(Bgt),$gt=Ngt(function({position:e,...n},r){const i=new VS.Marker(e,n);return _U(i,Cgt(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),kgt=Igt(function(e,n){const r=new VS.Popup(e,n.overlayContainer);return _U(r,n)},function(e,n,{position:r},i){S.useEffect(function(){const{instance:a}=e;function s(c){c.popup===a&&(a.update(),i(!0))}function l(c){c.popup===a&&i(!1)}return n.map.on({popupopen:s,popupclose:l}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var u;n.map.off({popupopen:s,popupclose:l}),(u=n.overlayContainer)==null||u.unbindPopup(),n.map.removeLayer(a)}},[e,n,i,r])}),Ugt=Ogt(function({url:e,...n},r){const i=new VS.TileLayer(e,xU(n,r));return _U(i,r)},function(e,n,r){Dgt(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)});const zgt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Vgt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let Ggt=kme.icon({iconUrl:zgt,shadowUrl:Vgt,iconSize:[25,41],iconAnchor:[12,41]});kme.Marker.prototype.options.icon=Ggt;const{Title:Hgt,Text:jgt}=_1,qgt=({center:t,zoom:e})=>{const n=Lgt();return S.useEffect(()=>{n.setView(t,e)},[t,e,n]),null},Wgt=({selectedCity:t,spots:e,onSelectSpot:n})=>{const r=t?t.position:[20,0],i=t?12:2;return De.jsxs("div",{className:"w-full h-[500px] rounded-xl overflow-hidden shadow-lg border border-border relative",children:[!t&&De.jsx("div",{className:"absolute inset-0 z-[1000] bg-black/50 backdrop-blur-sm flex items-center justify-center pointer-events-none",children:De.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl text-center",children:[De.jsx(Hgt,{level:3,className:"!text-primary font-heading !mb-2",children:"Select a City"}),De.jsx(jgt,{className:"text-gray-500",children:"Please select a city from the globe above to view attractions."})]})}),De.jsxs(Fgt,{center:r,zoom:i,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},children:[De.jsx(Ugt,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t&&De.jsx(qgt,{center:t.position,zoom:13}),e.map(o=>De.jsx($gt,{position:o.position,children:De.jsx(kgt,{children:De.jsxs("div",{className:"min-w-[200px]",children:[De.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-32 object-cover rounded-md mb-2"}),De.jsx("h3",{className:"font-bold text-lg mb-1",children:o.name}),De.jsx("p",{className:"text-xs text-gray-600 mb-2",children:o.description}),De.jsx(Go,{type:"primary",size:"small",icon:De.jsx(AR,{}),block:!0,onClick:()=>n(o),children:"Add to Plan"})]})})},o.id))]})]})},Xgt=[{id:"tower-of-london",name:"Tower of London",position:[51.5081,-.0759],cityId:"london",description:"Historic castle located on the north bank of the River Thames.",imageUrl:"https://picsum.photos/id/1015/300/200",type:"History"},{id:"buckingham-palace",name:"Buckingham Palace",position:[51.5014,-.1419],cityId:"london",description:"The London residence and administrative headquarters of the monarch of the United Kingdom.",imageUrl:"https://picsum.photos/id/1016/300/200",type:"Landmark"},{id:"eiffel-tower",name:"Eiffel Tower",position:[48.8584,2.2945],cityId:"paris",description:"A wrought-iron lattice tower on the Champ de Mars in Paris, France.",imageUrl:"https://picsum.photos/id/1018/300/200",type:"Landmark"},{id:"louvre-museum",name:"Louvre Museum",position:[48.8606,2.3376],cityId:"paris",description:"The world's largest art museum and a historic monument in Paris, France.",imageUrl:"https://picsum.photos/id/1019/300/200",type:"Museum"},{id:"statue-of-liberty",name:"Statue of Liberty",position:[40.6892,-74.0445],cityId:"new-york",description:"A colossal neoclassical sculpture on Liberty Island in New York Harbor in New York City.",imageUrl:"https://picsum.photos/id/1021/300/200",type:"Landmark"},{id:"central-park",name:"Central Park",position:[40.785091,-73.968285],cityId:"new-york",description:"An urban park in New York City located between the Upper West and Upper East Sides of Manhattan.",imageUrl:"https://picsum.photos/id/1022/300/200",type:"Nature"},{id:"senso-ji",name:"Sens-ji",position:[35.7148,139.7967],cityId:"tokyo",description:"An ancient Buddhist temple located in Asakusa, Tokyo, Japan.",imageUrl:"https://picsum.photos/id/1025/300/200",type:"Temple"},{id:"tokyo-skytree",name:"Tokyo Skytree",position:[35.7101,139.8107],cityId:"tokyo",description:"A broadcasting and observation tower in Sumida, Tokyo.",imageUrl:"https://picsum.photos/id/1026/300/200",type:"Landmark"},{id:"meiji-shrine",name:"Meiji Shrine",position:[35.6764,139.6993],cityId:"tokyo",description:"A Shinto shrine in Shibuya, Tokyo, that is dedicated to the deified spirits of Emperor Meiji and his wife, Empress Shken.",imageUrl:"https://picsum.photos/id/1028/300/200",type:"Shrine"},{id:"shibuya-crossing",name:"Shibuya Crossing",position:[35.6595,139.7005],cityId:"tokyo",description:"A popular scrambling intersection in Shibuya, Tokyo, Japan. It is rumored to be the busiest intersection in the world.",imageUrl:"https://picsum.photos/id/1031/300/200",type:"City"},{id:"tokyo-imperial-palace",name:"Tokyo Imperial Palace",position:[35.6852,139.7528],cityId:"tokyo",description:"The primary residence of the Emperor of Japan.",imageUrl:"https://picsum.photos/id/1032/300/200",type:"Landmark"},{id:"tsukiji-market",name:"Tsukiji Market",position:[35.6655,139.7708],cityId:"tokyo",description:"A large wholesale market for fish, fruits and vegetables in central Tokyo.",imageUrl:"https://picsum.photos/id/1033/300/200",type:"Market"}];function vl(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var RQ=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),QD=function(){return Math.random().toString(36).substring(7).split("").join(".")},NQ={INIT:"@@redux/INIT"+QD(),REPLACE:"@@redux/REPLACE"+QD(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+QD()}};function Ygt(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function zme(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vl(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vl(1));return n(zme)(t,e)}if(typeof t!="function")throw new Error(vl(2));var i=t,o=e,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(vl(3));return o}function d(_){if(typeof _!="function")throw new Error(vl(4));if(l)throw new Error(vl(5));var x=!0;return c(),s.push(_),function(){if(x){if(l)throw new Error(vl(6));x=!1,c();var w=s.indexOf(_);s.splice(w,1),a=null}}}function f(_){if(!Ygt(_))throw new Error(vl(7));if(typeof _.type>"u")throw new Error(vl(8));if(l)throw new Error(vl(9));try{l=!0,o=i(o,_)}finally{l=!1}for(var x=a=s,y=0;y<x.length;y++){var w=x[y];w()}return _}function h(_){if(typeof _!="function")throw new Error(vl(10));i=_,f({type:NQ.REPLACE})}function p(){var _,x=d;return _={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(vl(11));function C(){w.next&&w.next(u())}C();var M=x(C);return{unsubscribe:M}}},_[RQ]=function(){return this},_}return f({type:NQ.INIT}),r={dispatch:f,subscribe:d,getState:u,replaceReducer:h},r[RQ]=p,r}function IQ(t,e){return function(){return e(t.apply(this,arguments))}}function OQ(t,e){if(typeof t=="function")return IQ(t,e);if(typeof t!="object"||t===null)throw new Error(vl(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=IQ(i,e))}return n}function Vme(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Kgt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(vl(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=e.map(function(l){return l(a)});return o=Vme.apply(void 0,s)(i.dispatch),Ie(Ie({},i),{},{dispatch:o})}}}var Gme=Ye.createContext(null);function Qgt(t){t()}var Hme=Qgt,Zgt=function(e){return Hme=e},Jgt=function(){return Hme};function eAt(){var t=Jgt(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=e;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,a=n={callback:i,next:null,prev:n};return a.prev?a.prev.next=a:e=a,function(){!o||e===null||(o=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var DQ={notify:function(){},get:function(){return[]}};function jme(t,e){var n,r=DQ;function i(d){return l(),r.subscribe(d)}function o(){r.notify()}function a(){u.onStateChange&&u.onStateChange()}function s(){return!!n}function l(){n||(n=e?e.addNestedSub(a):t.subscribe(a),r=eAt())}function c(){n&&(n(),n=void 0,r.clear(),r=DQ)}var u={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:a,isSubscribed:s,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return r}};return u}var qme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect;function tAt(t){var e=t.store,n=t.context,r=t.children,i=S.useMemo(function(){var s=jme(e);return{store:e,subscription:s}},[e]),o=S.useMemo(function(){return e.getState()},[e]);qme(function(){var s=i.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==e.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[i,o]);var a=n||Gme;return Ye.createElement(a.Provider,{value:i},r)}var Wme={exports:{}},Hi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ka=typeof Symbol=="function"&&Symbol.for,wU=ka?Symbol.for("react.element"):60103,CU=ka?Symbol.for("react.portal"):60106,DN=ka?Symbol.for("react.fragment"):60107,LN=ka?Symbol.for("react.strict_mode"):60108,BN=ka?Symbol.for("react.profiler"):60114,FN=ka?Symbol.for("react.provider"):60109,$N=ka?Symbol.for("react.context"):60110,TU=ka?Symbol.for("react.async_mode"):60111,kN=ka?Symbol.for("react.concurrent_mode"):60111,UN=ka?Symbol.for("react.forward_ref"):60112,zN=ka?Symbol.for("react.suspense"):60113,nAt=ka?Symbol.for("react.suspense_list"):60120,VN=ka?Symbol.for("react.memo"):60115,GN=ka?Symbol.for("react.lazy"):60116,rAt=ka?Symbol.for("react.block"):60121,iAt=ka?Symbol.for("react.fundamental"):60117,oAt=ka?Symbol.for("react.responder"):60118,aAt=ka?Symbol.for("react.scope"):60119;function wc(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wU:switch(t=t.type,t){case TU:case kN:case DN:case BN:case LN:case zN:return t;default:switch(t=t&&t.$$typeof,t){case $N:case UN:case GN:case VN:case FN:return t;default:return e}}case CU:return e}}}function Xme(t){return wc(t)===kN}Hi.AsyncMode=TU;Hi.ConcurrentMode=kN;Hi.ContextConsumer=$N;Hi.ContextProvider=FN;Hi.Element=wU;Hi.ForwardRef=UN;Hi.Fragment=DN;Hi.Lazy=GN;Hi.Memo=VN;Hi.Portal=CU;Hi.Profiler=BN;Hi.StrictMode=LN;Hi.Suspense=zN;Hi.isAsyncMode=function(t){return Xme(t)||wc(t)===TU};Hi.isConcurrentMode=Xme;Hi.isContextConsumer=function(t){return wc(t)===$N};Hi.isContextProvider=function(t){return wc(t)===FN};Hi.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wU};Hi.isForwardRef=function(t){return wc(t)===UN};Hi.isFragment=function(t){return wc(t)===DN};Hi.isLazy=function(t){return wc(t)===GN};Hi.isMemo=function(t){return wc(t)===VN};Hi.isPortal=function(t){return wc(t)===CU};Hi.isProfiler=function(t){return wc(t)===BN};Hi.isStrictMode=function(t){return wc(t)===LN};Hi.isSuspense=function(t){return wc(t)===zN};Hi.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===DN||t===kN||t===BN||t===LN||t===zN||t===nAt||typeof t=="object"&&t!==null&&(t.$$typeof===GN||t.$$typeof===VN||t.$$typeof===FN||t.$$typeof===$N||t.$$typeof===UN||t.$$typeof===iAt||t.$$typeof===oAt||t.$$typeof===aAt||t.$$typeof===rAt)};Hi.typeOf=wc;Wme.exports=Hi;var sAt=Wme.exports,EU=sAt,lAt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},cAt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},uAt={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Yme={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},MU={};MU[EU.ForwardRef]=uAt;MU[EU.Memo]=Yme;function LQ(t){return EU.isMemo(t)?Yme:MU[t.$$typeof]||lAt}var dAt=Object.defineProperty,fAt=Object.getOwnPropertyNames,BQ=Object.getOwnPropertySymbols,hAt=Object.getOwnPropertyDescriptor,pAt=Object.getPrototypeOf,FQ=Object.prototype;function Kme(t,e,n){if(typeof e!="string"){if(FQ){var r=pAt(e);r&&r!==FQ&&Kme(t,r,n)}var i=fAt(e);BQ&&(i=i.concat(BQ(e)));for(var o=LQ(t),a=LQ(e),s=0;s<i.length;++s){var l=i[s];if(!cAt[l]&&!(n&&n[l])&&!(a&&a[l])&&!(o&&o[l])){var c=hAt(e,l);try{dAt(t,l,c)}catch{}}}}return t}var mAt=Kme;const $Q=al(mAt);var Qme={exports:{}},eo={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN=60103,jN=60106,GS=60107,HS=60108,jS=60114,qS=60109,WS=60110,XS=60112,YS=60113,PU=60120,KS=60115,QS=60116,Zme=60121,Jme=60122,e0e=60117,t0e=60129,n0e=60131;if(typeof Symbol=="function"&&Symbol.for){var qa=Symbol.for;HN=qa("react.element"),jN=qa("react.portal"),GS=qa("react.fragment"),HS=qa("react.strict_mode"),jS=qa("react.profiler"),qS=qa("react.provider"),WS=qa("react.context"),XS=qa("react.forward_ref"),YS=qa("react.suspense"),PU=qa("react.suspense_list"),KS=qa("react.memo"),QS=qa("react.lazy"),Zme=qa("react.block"),Jme=qa("react.server.block"),e0e=qa("react.fundamental"),t0e=qa("react.debug_trace_mode"),n0e=qa("react.legacy_hidden")}function gd(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case HN:switch(t=t.type,t){case GS:case jS:case HS:case YS:case PU:return t;default:switch(t=t&&t.$$typeof,t){case WS:case XS:case QS:case KS:case qS:return t;default:return e}}case jN:return e}}}var gAt=qS,AAt=HN,vAt=XS,yAt=GS,bAt=QS,xAt=KS,_At=jN,SAt=jS,wAt=HS,CAt=YS;eo.ContextConsumer=WS;eo.ContextProvider=gAt;eo.Element=AAt;eo.ForwardRef=vAt;eo.Fragment=yAt;eo.Lazy=bAt;eo.Memo=xAt;eo.Portal=_At;eo.Profiler=SAt;eo.StrictMode=wAt;eo.Suspense=CAt;eo.isAsyncMode=function(){return!1};eo.isConcurrentMode=function(){return!1};eo.isContextConsumer=function(t){return gd(t)===WS};eo.isContextProvider=function(t){return gd(t)===qS};eo.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===HN};eo.isForwardRef=function(t){return gd(t)===XS};eo.isFragment=function(t){return gd(t)===GS};eo.isLazy=function(t){return gd(t)===QS};eo.isMemo=function(t){return gd(t)===KS};eo.isPortal=function(t){return gd(t)===jN};eo.isProfiler=function(t){return gd(t)===jS};eo.isStrictMode=function(t){return gd(t)===HS};eo.isSuspense=function(t){return gd(t)===YS};eo.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===GS||t===jS||t===t0e||t===HS||t===YS||t===PU||t===n0e||typeof t=="object"&&t!==null&&(t.$$typeof===QS||t.$$typeof===KS||t.$$typeof===qS||t.$$typeof===WS||t.$$typeof===XS||t.$$typeof===e0e||t.$$typeof===Zme||t[0]===Jme)};eo.typeOf=gd;Qme.exports=eo;var TAt=Qme.exports,EAt=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],MAt=["reactReduxForwardedRef"],PAt=[],RAt=[null,null];function NAt(t,e){var n=t[1];return[e.payload,n+1]}function kQ(t,e,n){qme(function(){return t.apply(void 0,e)},n)}function IAt(t,e,n,r,i,o,a){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,a())}function OAt(t,e,n,r,i,o,a,s,l,c){if(t){var u=!1,d=null,f=function(){if(!u){var _=e.getState(),x,y;try{x=r(_,i.current)}catch(w){y=w,d=w}y||(d=null),x===o.current?a.current||l():(o.current=x,s.current=x,a.current=!0,c({type:"STORE_UPDATED",payload:{error:y}}))}};n.onStateChange=f,n.trySubscribe(),f();var h=function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d};return h}}var DAt=function(){return[null,0]};function LAt(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(C){return"ConnectAdvanced("+C+")"}:r,o=n.methodName,a=o===void 0?"connectAdvanced":o,s=n.renderCountProp,l=s===void 0?void 0:s,c=n.shouldHandleStateChanges,u=c===void 0?!0:c,d=n.storeKey,f=d===void 0?"store":d;n.withRef;var h=n.forwardRef,p=h===void 0?!1:h,_=n.context,x=_===void 0?Gme:_,y=O_(n,EAt),w=x;return function(M){var R=M.displayName||M.name||"Component",N=i(R),I=ft({},y,{getDisplayName:i,methodName:a,renderCountProp:l,shouldHandleStateChanges:u,storeKey:f,displayName:N,wrappedComponentName:R,WrappedComponent:M}),B=y.pure;function D(G){return t(G.dispatch,I)}var $=B?S.useMemo:function(G){return G()};function z(G){var j=S.useMemo(function(){var at=G.reactReduxForwardedRef,nt=O_(G,MAt);return[G.context,at,nt]},[G]),H=j[0],X=j[1],Y=j[2],ee=S.useMemo(function(){return H&&H.Consumer&&TAt.isContextConsumer(Ye.createElement(H.Consumer,null))?H:w},[H,w]),Z=S.useContext(ee),re=!!G.store&&!!G.store.getState&&!!G.store.dispatch;Z&&Z.store;var ae=re?G.store:Z.store,ce=S.useMemo(function(){return D(ae)},[ae]),he=S.useMemo(function(){if(!u)return RAt;var at=jme(ae,re?null:Z.subscription),nt=at.notifyNestedSubs.bind(at);return[at,nt]},[ae,re,Z]),ge=he[0],se=he[1],me=S.useMemo(function(){return re?Z:ft({},Z,{subscription:ge})},[re,Z,ge]),ye=S.useReducer(NAt,PAt,DAt),we=ye[0],Ee=we[0],Me=ye[1];if(Ee&&Ee.error)throw Ee.error;var Oe=S.useRef(),Ue=S.useRef(Y),Se=S.useRef(),_e=S.useRef(!1),ve=$(function(){return Se.current&&Y===Ue.current?Se.current:ce(ae.getState(),Y)},[ae,Ee,Y]);kQ(IAt,[Ue,Oe,_e,Y,ve,Se,se]),kQ(OAt,[u,ae,ge,ce,Ue,Oe,_e,Se,se,Me],[ae,ge,ce]);var Ge=S.useMemo(function(){return Ye.createElement(M,ft({},ve,{ref:X}))},[X,M,ve]),ue=S.useMemo(function(){return u?Ye.createElement(ee.Provider,{value:me},Ge):Ge},[ee,Ge,me]);return ue}var V=B?Ye.memo(z):z;if(V.WrappedComponent=M,V.displayName=z.displayName=N,p){var q=Ye.forwardRef(function(j,H){return Ye.createElement(V,ft({},j,{reactReduxForwardedRef:H}))});return q.displayName=N,q.WrappedComponent=M,$Q(q,M)}return $Q(V,M)}}function UQ(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ZD(t,e){if(UQ(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!UQ(t[n[i]],e[n[i]]))return!1;return!0}function BAt(t,e){var n={},r=function(a){var s=t[a];typeof s=="function"&&(n[a]=function(){return e(s.apply(void 0,arguments))})};for(var i in t)r(i);return n}function RU(t){return function(n,r){var i=t(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function zQ(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function r0e(t,e){return function(r,i){i.displayName;var o=function(s,l){return o.dependsOnOwnProps?o.mapToProps(s,l):o.mapToProps(s)};return o.dependsOnOwnProps=!0,o.mapToProps=function(s,l){o.mapToProps=t,o.dependsOnOwnProps=zQ(t);var c=o(s,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=zQ(c),c=o(s,l)),c},o}}function FAt(t){return typeof t=="function"?r0e(t):void 0}function $At(t){return t?void 0:RU(function(e){return{dispatch:e}})}function kAt(t){return t&&typeof t=="object"?RU(function(e){return BAt(t,e)}):void 0}const UAt=[FAt,$At,kAt];function zAt(t){return typeof t=="function"?r0e(t):void 0}function VAt(t){return t?void 0:RU(function(){return{}})}const GAt=[zAt,VAt];function HAt(t,e,n){return ft({},n,t,e)}function jAt(t){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,a=!1,s;return function(c,u,d){var f=t(c,u,d);return a?(!i||!o(f,s))&&(s=f):(a=!0,s=f),s}}}function qAt(t){return typeof t=="function"?jAt(t):void 0}function WAt(t){return t?void 0:function(){return HAt}}const XAt=[qAt,WAt];var YAt=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function KAt(t,e,n,r){return function(o,a){return n(t(o,a),e(r,a),a)}}function QAt(t,e,n,r,i){var o=i.areStatesEqual,a=i.areOwnPropsEqual,s=i.areStatePropsEqual,l=!1,c,u,d,f,h;function p(C,M){return c=C,u=M,d=t(c,u),f=e(r,u),h=n(d,f,u),l=!0,h}function _(){return d=t(c,u),e.dependsOnOwnProps&&(f=e(r,u)),h=n(d,f,u),h}function x(){return t.dependsOnOwnProps&&(d=t(c,u)),e.dependsOnOwnProps&&(f=e(r,u)),h=n(d,f,u),h}function y(){var C=t(c,u),M=!s(C,d);return d=C,M&&(h=n(d,f,u)),h}function w(C,M){var R=!a(M,u),N=!o(C,c,M,u);return c=C,u=M,R&&N?_():R?x():N?y():h}return function(M,R){return l?w(M,R):p(M,R)}}function ZAt(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=O_(e,YAt),a=n(t,o),s=r(t,o),l=i(t,o),c=o.pure?QAt:KAt;return c(a,s,l,t,o)}var JAt=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function JD(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(o,a){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+a.wrappedComponentName+".")}}function evt(t,e){return t===e}function tvt(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?LAt:n,i=e.mapStateToPropsFactories,o=i===void 0?GAt:i,a=e.mapDispatchToPropsFactories,s=a===void 0?UAt:a,l=e.mergePropsFactories,c=l===void 0?XAt:l,u=e.selectorFactory,d=u===void 0?ZAt:u;return function(h,p,_,x){x===void 0&&(x={});var y=x,w=y.pure,C=w===void 0?!0:w,M=y.areStatesEqual,R=M===void 0?evt:M,N=y.areOwnPropsEqual,I=N===void 0?ZD:N,B=y.areStatePropsEqual,D=B===void 0?ZD:B,$=y.areMergedPropsEqual,z=$===void 0?ZD:$,V=O_(y,JAt),q=JD(h,o,"mapStateToProps"),G=JD(p,s,"mapDispatchToProps"),j=JD(_,c,"mergeProps");return r(d,ft({methodName:"connect",getDisplayName:function(X){return"Connect("+X+")"},shouldHandleStateChanges:!!h,initMapStateToProps:q,initMapDispatchToProps:G,initMergeProps:j,pure:C,areStatesEqual:R,areOwnPropsEqual:I,areStatePropsEqual:D,areMergedPropsEqual:z},V))}}const i0e=tvt();Zgt(rd.unstable_batchedUpdates);function nvt(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function o0e(t,e){var n=S.useState(function(){return{inputs:e,result:t()}})[0],r=S.useRef(!0),i=S.useRef(n),o=r.current||!!(e&&i.current.inputs&&nvt(e,i.current.inputs)),a=o?i.current:{inputs:e,result:t()};return S.useEffect(function(){r.current=!1,i.current=a},[a]),a.result}function rvt(t,e){return o0e(function(){return t},e)}var pi=o0e,hr=rvt,ivt=!0,eL="Invariant failed";function ovt(t,e){if(!t){if(ivt)throw new Error(eL);var n=typeof e=="function"?e():e,r=n?"".concat(eL,": ").concat(n):eL;throw new Error(r)}}var Xu=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,a=r-o,s=i-n,l={top:n,right:r,bottom:i,left:o,width:a,height:s,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},NU=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},VQ=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},avt=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},tL={top:0,right:0,bottom:0,left:0},IU=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?tL:r,o=e.border,a=o===void 0?tL:o,s=e.padding,l=s===void 0?tL:s,c=Xu(NU(n,i)),u=Xu(VQ(n,a)),d=Xu(VQ(u,l));return{marginBox:c,borderBox:Xu(n),paddingBox:u,contentBox:d,margin:i,border:a,padding:l}},Lc=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&ovt(!1),i},svt=function(){return{x:window.pageXOffset,y:window.pageYOffset}},tP=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,a=e.padding,s=avt(r,n);return IU({borderBox:s,border:i,margin:o,padding:a})},nP=function(e,n){return n===void 0&&(n=svt()),tP(e,n)},a0e=function(e,n){var r={top:Lc(n.marginTop),right:Lc(n.marginRight),bottom:Lc(n.marginBottom),left:Lc(n.marginLeft)},i={top:Lc(n.paddingTop),right:Lc(n.paddingRight),bottom:Lc(n.paddingBottom),left:Lc(n.paddingLeft)},o={top:Lc(n.borderTopWidth),right:Lc(n.borderRightWidth),bottom:Lc(n.borderBottomWidth),left:Lc(n.borderLeftWidth)};return IU({borderBox:e,margin:r,padding:i,border:o})},s0e=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return a0e(n,r)},GQ=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function lvt(t,e){return!!(t===e||GQ(t)&&GQ(e))}function cvt(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!lvt(t[n],e[n]))return!1;return!0}function La(t,e){e===void 0&&(e=cvt);var n,r=[],i,o=!1;function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return o&&n===this&&e(s,r)||(i=t.apply(this,s),o=!0,n=this,r=s),i}return a}var uvt=function(e){var n=[],r=null,i=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];n=s,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};const F2=uvt;function l0e(t,e){}l0e.bind(null,"warn");l0e.bind(null,"error");function Yp(){}function dvt(t,e){return ft({},t,{},e)}function Zc(t,e,n){var r=e.map(function(i){var o=dvt(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var fvt="Invariant failed";function rP(t){this.message=t}rP.prototype.toString=function(){return this.message};function _n(t,e){if(!t)throw new rP(fvt)}var hvt=function(t){B9(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,r.callbacks=null,r.unbind=Yp,r.onWindowError=function(s){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var c=s.error;c instanceof rP&&s.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(s){r.callbacks=s},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=Zc(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof rP){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(Ye.Component),pvt=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,iP=function(e){return e+1},mvt=function(e){return`
  You have lifted an item in position `+iP(e.source.index)+`
`},c0e=function(e,n){var r=e.droppableId===n.droppableId,i=iP(e.index),o=iP(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},u0e=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},gvt=function(e){var n=e.destination;if(n)return c0e(e.source,n);var r=e.combine;return r?u0e(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},HQ=function(e){return`
  The item has returned to its starting position
  of `+iP(e.index)+`
`},Avt=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+HQ(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+c0e(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+u0e(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+HQ(e.source)+`
  `},qE={dragHandleUsageInstructions:pvt,onDragStart:mvt,onDragUpdate:gvt,onDragEnd:Avt},Ba={x:0,y:0},ns=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},sc=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},Kp=function(e,n){return e.x===n.x&&e.y===n.y},U1=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},bg=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},$2=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},jQ=function(e,n){return Math.min.apply(Math,n.map(function(r){return $2(e,r)}))},d0e=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},vvt=function(t,e){var n=Xu({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},ZS=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},qQ=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},yvt={top:0,right:0,bottom:0,left:0},bvt=function(e,n){return n?ZS(e,n.scroll.diff.displacement):e},xvt=function(e,n,r){if(r&&r.increasedBy){var i;return ft({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},_vt=function(e,n){return n&&n.shouldClipSubject?vvt(n.pageMarginBox,e):Xu(e)},Zy=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,o=bvt(e.marginBox,i),a=xvt(o,r,n),s=_vt(a,i);return{page:e,withPlaceholder:n,active:s}},OU=function(t,e){t.frame||_n(!1);var n=t.frame,r=sc(e,n.scroll.initial),i=U1(r),o=ft({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),a=Zy({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o}),s=ft({},t,{frame:o,subject:a});return s};function oP(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function DU(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function Pm(t,e){if(t.find)return t.find(e);var n=DU(t,e);if(n!==-1)return t[n]}function f0e(t){return Array.prototype.slice.call(t)}var h0e=La(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),p0e=La(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),qN=La(function(t){return oP(t)}),Svt=La(function(t){return oP(t)}),z1=La(function(t,e){var n=Svt(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function LU(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function WN(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var XN=La(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),wvt=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.previousImpact;if(!r.isCombineEnabled)return null;var a=LU(o);if(!a)return null;function s(_){var x={type:"COMBINE",combine:{draggableId:_,droppableId:r.descriptor.id}};return ft({},o,{at:x})}var l=o.displaced.all,c=l.length?l[0]:null;if(e)return c?s(c):null;var u=XN(n,i);if(!c){if(!u.length)return null;var d=u[u.length-1];return s(d.descriptor.id)}var f=DU(u,function(_){return _.descriptor.id===c});f===-1&&_n(!1);var h=f-1;if(h<0)return null;var p=u[h];return s(p.descriptor.id)},V1=function(t,e){return t.descriptor.droppableId===e.descriptor.id},m0e={point:Ba,value:0},k2={invisible:{},visible:{},all:[]},Cvt={displaced:k2,displacedBy:m0e,at:null},ru=function(t,e){return function(n){return t<=n&&n<=e}},g0e=function(t){var e=ru(t.top,t.bottom),n=ru(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=e(r.top)||e(r.bottom),a=n(r.left)||n(r.right),s=o&&a;if(s)return!0;var l=r.top<t.top&&r.bottom>t.bottom,c=r.left<t.left&&r.right>t.right,u=l&&c;if(u)return!0;var d=l&&a||c&&o;return d}},Tvt=function(t){var e=ru(t.top,t.bottom),n=ru(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},BU={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},A0e={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Evt=function(t){return function(e){var n=ru(e.top,e.bottom),r=ru(e.left,e.right);return function(i){return t===BU?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},Mvt=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:Ba;return ZS(e,r)},Pvt=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},Rvt=function(e,n,r){return r(n)(e)},FU=function(e){var n=e.target,r=e.destination,i=e.viewport,o=e.withDroppableDisplacement,a=e.isVisibleThroughFrameFn,s=o?Mvt(n,r):n;return Pvt(s,r,a)&&Rvt(s,i,a)},Nvt=function(e){return FU(ft({},e,{isVisibleThroughFrameFn:g0e}))},v0e=function(e){return FU(ft({},e,{isVisibleThroughFrameFn:Tvt}))},Ivt=function(e){return FU(ft({},e,{isVisibleThroughFrameFn:Evt(e.destination.axis)}))},Ovt=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[e])return!1;var a=o[e];return a?a.shouldAnimate:!0};function Dvt(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Xu(NU(n,r))}function U2(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,o=t.forceShouldAnimate,a=t.last;return e.reduce(function(l,c){var u=Dvt(c,r),d=c.descriptor.id;l.all.push(d);var f=Nvt({target:u,destination:n,viewport:i,withDroppableDisplacement:!0});if(!f)return l.invisible[c.descriptor.id]=!0,l;var h=Ovt(d,a,o),p={draggableId:d,shouldAnimate:h};return l.visible[d]=p,l},{all:[],visible:{},invisible:{}})}function Lvt(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function WQ(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,o=Lvt(e,{inHomeList:n});return{displaced:k2,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function aP(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,o=t.displacedBy,a=t.last,s=t.index,l=t.forceShouldAnimate,c=V1(e,r);if(s==null)return WQ({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=Pm(n,function(_){return _.descriptor.index===s});if(!u)return WQ({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=XN(e,n),f=n.indexOf(u),h=d.slice(f),p=U2({afterDragging:h,destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l});return{displaced:p,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function dm(t,e){return!!e.effected[t]}var Bvt=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,o=t.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,s=r[a],l=s.descriptor.index,c=dm(a,o);return c?e?l:l-1:e?l+1:l},Fvt=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var o=i.index,a=e?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=n?l:l+1;return a<s||a>c?null:a},$vt=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,o=t.destination,a=t.insideDestination,s=t.previousImpact,l=t.viewport,c=t.afterCritical,u=s.at;if(u||_n(!1),u.type==="REORDER"){var d=Fvt({isMovingForward:e,isInHomeList:n,location:u.destination,insideDestination:a});return d==null?null:aP({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var f=Bvt({isMovingForward:e,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return f==null?null:aP({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})},kvt=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,o=!!(e.visible[r]||e.invisible[r]);return dm(r,n)?o?Ba:U1(i.point):o?i.point:Ba},Uvt=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=WN(n);i||_n(!1);var o=i.draggableId,a=r[o].page.borderBox.center,s=kvt({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return ns(a,s)},y0e=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},zvt=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},$U=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},XQ=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return bg(n.line,r.marginBox[n.end]+y0e(n,i),$U(n,r.marginBox,i))},YQ=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return bg(n.line,r.marginBox[n.start]-zvt(n,i),$U(n,r.marginBox,i))},Vvt=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return bg(n.line,r.contentBox[n.start]+y0e(n,i),$U(n,r.contentBox,i))},Gvt=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,o=t.afterCritical,a=z1(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return Vvt({axis:l,moveInto:i.page,isMoving:s});var c=e.displaced,u=e.displacedBy,d=c.all[0];if(d){var f=r[d];if(dm(d,o))return YQ({axis:l,moveRelativeTo:f.page,isMoving:s});var h=tP(f.page,u.point);return YQ({axis:l,moveRelativeTo:h,isMoving:s})}var p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return s.borderBox.center;if(dm(p.descriptor.id,o)){var _=tP(p.page,U1(o.displacedBy.point));return XQ({axis:l,moveRelativeTo:_,isMoving:s})}return XQ({axis:l,moveRelativeTo:p.page,isMoving:s})},wB=function(t,e){var n=t.frame;return n?ns(e,n.scroll.diff.displacement):e},Hvt=function(e){var n=e.impact,r=e.draggable,i=e.droppable,o=e.draggables,a=e.afterCritical,s=r.page.borderBox.center,l=n.at;return!i||!l?s:l.type==="REORDER"?Gvt({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:a}):Uvt({impact:n,draggables:o,afterCritical:a})},YN=function(t){var e=Hvt(t),n=t.droppable,r=n?wB(n,e):e;return r},b0e=function(t,e){var n=sc(e,t.scroll.initial),r=U1(n),i=Xu({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),o={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return o};function KQ(t,e){return t.map(function(n){return e[n]})}function jvt(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var qvt=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,o=t.maxScrollChange,a=b0e(n,ns(n.scroll.current,o)),s=r.frame?OU(r,ns(r.frame.scroll.current,o)):r,l=e.displaced,c=U2({afterDragging:KQ(l.all,i),destination:r,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=U2({afterDragging:KQ(l.all,i),destination:s,displacedBy:e.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},f={},h=[l,c,u];l.all.forEach(function(_){var x=jvt(_,h);if(x){f[_]=x;return}d[_]=!0});var p=ft({},e,{displaced:{all:l.all,invisible:d,visible:f}});return p},Wvt=function(t,e){return ns(t.scroll.diff.displacement,e)},kU=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=Wvt(r,e),o=sc(i,n.page.borderBox.center);return ns(n.client.borderBox.center,o)},x0e=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,o=t.withDroppableDisplacement,a=t.onlyOnMainAxis,s=a===void 0?!1:a,l=sc(r,e.page.borderBox.center),c=ZS(e.page.borderBox,l),u={target:c,destination:n,withDroppableDisplacement:o,viewport:i};return s?Ivt(u):v0e(u)},Xvt=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,o=t.previousImpact,a=t.viewport,s=t.previousPageBorderBoxCenter,l=t.previousClientSelection,c=t.afterCritical;if(!r.isEnabled)return null;var u=z1(r.descriptor.id,i),d=V1(n,r),f=wvt({isMovingForward:e,draggable:n,destination:r,insideDestination:u,previousImpact:o})||$vt({isMovingForward:e,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!f)return null;var h=YN({impact:f,draggable:n,droppable:r,draggables:i,afterCritical:c}),p=x0e({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(p){var _=kU({pageBorderBoxCenter:h,draggable:n,viewport:a});return{clientSelection:_,impact:f,scrollJumpRequest:null}}var x=sc(h,s),y=qvt({impact:f,viewport:a,destination:r,draggables:i,maxScrollChange:x});return{clientSelection:l,impact:y,scrollJumpRequest:x}},Us=function(e){var n=e.subject.active;return n||_n(!1),n},Yvt=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,o=t.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=ru(a[s.start],a[s.end]),c=qN(i).filter(function(d){return d!==r}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return g0e(o.frame)(Us(d))}).filter(function(d){var f=Us(d);return e?a[s.crossAxisEnd]<f[s.crossAxisEnd]:f[s.crossAxisStart]<a[s.crossAxisStart]}).filter(function(d){var f=Us(d),h=ru(f[s.start],f[s.end]);return l(f[s.start])||l(f[s.end])||h(a[s.start])||h(a[s.end])}).sort(function(d,f){var h=Us(d)[s.crossAxisStart],p=Us(f)[s.crossAxisStart];return e?h-p:p-h}).filter(function(d,f,h){return Us(d)[s.crossAxisStart]===Us(h[0])[s.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var u=c.filter(function(d){var f=ru(Us(d)[s.start],Us(d)[s.end]);return f(n[s.line])});return u.length===1?u[0]:u.length>1?u.sort(function(d,f){return Us(d)[s.start]-Us(f)[s.start]})[0]:c.sort(function(d,f){var h=jQ(n,qQ(Us(d))),p=jQ(n,qQ(Us(f)));return h!==p?h-p:Us(d)[s.start]-Us(f)[s.start]})[0]},QQ=function(e,n){var r=e.page.borderBox.center;return dm(e.descriptor.id,n)?sc(r,n.displacedBy.point):r},Kvt=function(e,n){var r=e.page.borderBox;return dm(e.descriptor.id,n)?ZS(r,U1(n.displacedBy.point)):r},Qvt=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,o=t.afterCritical,a=i.filter(function(s){return v0e({target:Kvt(s,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(s,l){var c=$2(e,wB(r,QQ(s,o))),u=$2(e,wB(r,QQ(l,o)));return c<u?-1:u<c?1:s.descriptor.index-l.descriptor.index});return a[0]||null},JS=La(function(e,n){var r=n[e.line];return{value:r,point:bg(e.line,r)}}),Zvt=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return bg(i.line,n[i.line]);var o=e.subject.page.contentBox[i.size],a=z1(e.descriptor.id,r),s=a.reduce(function(u,d){return u+d.client.marginBox[i.size]},0),l=s+n[i.line],c=l-o;return c<=0?null:bg(i.line,c)},_0e=function(e,n){return ft({},e,{scroll:ft({},e.scroll,{max:n})})},S0e=function(e,n,r){var i=e.frame;V1(n,e)&&_n(!1),e.subject.withPlaceholder&&_n(!1);var o=JS(e.axis,n.displaceBy).point,a=Zvt(e,o,r),s={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=Zy({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return ft({},e,{subject:l})}var c=a?ns(i.scroll.max,a):i.scroll.max,u=_0e(i,c),d=Zy({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:u});return ft({},e,{subject:d,frame:u})},Jvt=function(e){var n=e.subject.withPlaceholder;n||_n(!1);var r=e.frame;if(!r){var i=Zy({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return ft({},e,{subject:i})}var o=n.oldFrameMaxScroll;o||_n(!1);var a=_0e(r,o),s=Zy({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return ft({},e,{subject:s,frame:a})},eyt=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,o=t.draggables,a=t.destination,s=t.viewport,l=t.afterCritical;if(!n){if(r.length)return null;var c={displaced:k2,displacedBy:m0e,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=YN({impact:c,draggable:i,droppable:a,draggables:o,afterCritical:l}),d=V1(i,a)?a:S0e(a,i,o),f=x0e({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?c:null}var h=e[a.axis.line]<=n.page.borderBox.center[a.axis.line],p=function(){var x=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?x:x+1}(),_=JS(a.axis,i.displaceBy);return aP({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:_,last:k2,index:p})},tyt=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,o=t.draggables,a=t.droppables,s=t.viewport,l=t.afterCritical,c=Yvt({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;var u=z1(c.descriptor.id,o),d=Qvt({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),f=eyt({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!f)return null;var h=YN({impact:f,draggable:r,droppable:c,draggables:o,afterCritical:l}),p=kU({pageBorderBoxCenter:h,draggable:r,viewport:s});return{clientSelection:p,impact:f,scrollJumpRequest:null}},fc=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},nyt=function(e,n){var r=fc(e);return r?n[r]:null},ryt=function(t){var e=t.state,n=t.type,r=nyt(e.impact,e.dimensions.droppables),i=!!r,o=e.dimensions.droppables[e.critical.droppable.id],a=r||o,s=a.axis.direction,l=s==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||s==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var c=n==="MOVE_DOWN"||n==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,f=e.dimensions,h=f.draggables,p=f.droppables;return l?Xvt({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):tyt({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:h,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function d0(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function w0e(t){var e=ru(t.top,t.bottom),n=ru(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function iyt(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function oyt(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,o=r.map(function(a){var s=a.axis,l=bg(a.axis.line,e.center[s.line],a.page.borderBox.center[s.crossAxisLine]);return{id:a.descriptor.id,distance:$2(i,l)}}).sort(function(a,s){return s.distance-a.distance});return o[0]?o[0].id:null}function ayt(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=qN(r).filter(function(o){if(!o.isEnabled)return!1;var a=o.subject.active;if(!a||!iyt(e,a))return!1;if(w0e(a)(e.center))return!0;var s=o.axis,l=a.center[s.crossAxisLine],c=e[s.crossAxisStart],u=e[s.crossAxisEnd],d=ru(a[s.crossAxisStart],a[s.crossAxisEnd]),f=d(c),h=d(u);return!f&&!h?!0:f?c<l:u>l});return i.length?i.length===1?i[0].descriptor.id:oyt({pageBorderBox:e,draggable:n,candidates:i}):null}var C0e=function(e,n){return Xu(ZS(e,n))},syt=function(t,e){var n=t.frame;return n?C0e(e,n.scroll.diff.value):e};function T0e(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function lyt(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var cyt=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.last,a=t.viewport,s=t.afterCritical,l=r.axis,c=JS(r.axis,n.displaceBy),u=c.value,d=e[l.start],f=e[l.end],h=XN(n,i),p=Pm(h,function(x){var y=x.descriptor.id,w=x.page.borderBox.center[l.line],C=dm(y,s),M=T0e({displaced:o,id:y});return C?M?f<=w:d<w-u:M?f<=w+u:d<w}),_=lyt({draggable:n,closest:p,inHomeList:V1(n,r)});return aP({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:_})},uyt=4,dyt=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,o=t.insideDestination,a=t.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=JS(i.axis,e.displaceBy),c=l.value,u=n[s.start],d=n[s.end],f=XN(e,o),h=Pm(f,function(_){var x=_.descriptor.id,y=_.page.borderBox,w=y[s.size],C=w/uyt,M=dm(x,a),R=T0e({displaced:r.displaced,id:x});return M?R?d>y[s.start]+C&&d<y[s.end]-C:u>y[s.start]-c+C&&u<y[s.end]-c-C:R?d>y[s.start]+c+C&&d<y[s.end]+c-C:u>y[s.start]+C&&u<y[s.end]-C});if(!h)return null;var p={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}};return p},E0e=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,o=t.previousImpact,a=t.viewport,s=t.afterCritical,l=C0e(n.page.borderBox,e),c=ayt({pageBorderBox:l,draggable:n,droppables:i});if(!c)return Cvt;var u=i[c],d=z1(u.descriptor.id,r),f=syt(u,l);return dyt({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||cyt({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},UU=function(t,e){var n;return ft({},t,(n={},n[e.descriptor.id]=e,n))},fyt=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,o=fc(n),a=fc(r);if(!o||o===a)return i;var s=i[o];if(!s.subject.withPlaceholder)return i;var l=Jvt(s);return UU(i,l)},hyt=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,o=t.impact,a=fyt({previousImpact:i,impact:o,droppables:r}),s=fc(o);if(!s)return a;var l=r[s];if(V1(e,l)||l.subject.withPlaceholder)return a;var c=S0e(l,e,n);return UU(a,c)},u_=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,o=t.impact,a=t.scrollJumpRequest,s=i||e.viewport,l=r||e.dimensions,c=n||e.current.client.selection,u=sc(c,e.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:ns(e.initial.client.borderBoxCenter,u)},f={selection:ns(d.selection,s.scroll.current),borderBoxCenter:ns(d.borderBoxCenter,s.scroll.current),offset:ns(d.offset,s.scroll.diff.value)},h={client:d,page:f};if(e.phase==="COLLECTING")return ft({phase:"COLLECTING"},e,{dimensions:l,viewport:s,current:h});var p=l.draggables[e.critical.draggable.id],_=o||E0e({pageOffset:f.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),x=hyt({draggable:p,impact:_,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),y=ft({},e,{current:h,dimensions:{draggables:l.draggables,droppables:x},impact:_,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return y};function pyt(t,e){return t.map(function(n){return e[n]})}var M0e=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,o=t.forceShouldAnimate,a=e.displaced,s=pyt(a.all,r),l=U2({afterDragging:s,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return ft({},e,{displaced:l})},P0e=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,o=t.viewport,a=t.afterCritical,s=YN({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:a});return kU({pageBorderBoxCenter:s,draggable:n,viewport:o})},R0e=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&_n(!1);var i=e.impact,o=r||e.viewport,a=n||e.dimensions,s=a.draggables,l=a.droppables,c=s[e.critical.draggable.id],u=fc(i);u||_n(!1);var d=l[u],f=M0e({impact:i,viewport:o,destination:d,draggables:s}),h=P0e({impact:f,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:e.afterCritical});return u_({impact:f,clientSelection:h,state:e,dimensions:a,viewport:o})},myt=function(t){return{index:t.index,droppableId:t.droppableId}},N0e=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,o=JS(n.axis,e.displaceBy),a=z1(n.descriptor.id,r),s=a.indexOf(e);s===-1&&_n(!1);var l=a.slice(s+1),c=l.reduce(function(h,p){return h[p.descriptor.id]=!0,h},{}),u={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:c},d=U2({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),f={displaced:d,displacedBy:o,at:{type:"REORDER",destination:myt(e.descriptor)}};return{impact:f,afterCritical:u}},gyt=function(t,e){return{draggables:t.draggables,droppables:UU(t.droppables,e)}},Ayt=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=tP(e.client,n),o=nP(i,r),a=ft({},e,{placeholder:ft({},e.placeholder,{client:i}),client:i,page:o});return a},vyt=function(t){var e=t.frame;return e||_n(!1),e},yyt=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(o){var a=o.descriptor.droppableId,s=n[a],l=vyt(s),c=l.scroll.diff.value,u=ns(i,c),d=Ayt({draggable:o,offset:u,initialWindowScroll:r.scroll.initial});return d})},byt=function(t){var e=t.state,n=t.published,r=n.modified.map(function(C){var M=e.dimensions.droppables[C.droppableId],R=OU(M,C.scroll);return R}),i=ft({},e.dimensions.droppables,{},h0e(r)),o=p0e(yyt({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),a=ft({},e.dimensions.draggables,{},o);n.removals.forEach(function(C){delete a[C]});var s={droppables:i,draggables:a},l=fc(e.impact),c=l?s.droppables[l]:null,u=s.draggables[e.critical.draggable.id],d=s.droppables[e.critical.droppable.id],f=N0e({draggable:u,home:d,draggables:a,viewport:e.viewport}),h=f.impact,p=f.afterCritical,_=c&&c.isCombineEnabled?e.impact:h,x=E0e({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:_,viewport:e.viewport,afterCritical:p}),y=ft({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:x,onLiftImpact:h,dimensions:s,afterCritical:p,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return y;var w=ft({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return w},CB=function(e){return e.movementMode==="SNAP"},nL=function(e,n,r){var i=gyt(e.dimensions,n);return!CB(e)||r?u_({state:e,dimensions:i}):R0e({state:e,dimensions:i})};function rL(t){return t.isDragging&&t.movementMode==="SNAP"?ft({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var ZQ={phase:"IDLE",completed:null,shouldFlush:!1},xyt=function(t,e){if(t===void 0&&(t=ZQ),e.type==="FLUSH")return ft({},ZQ,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&_n(!1);var n=e.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,s=n.movementMode,l=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:Ba},d={client:u,page:{selection:ns(u.selection,o.scroll.initial),borderBoxCenter:ns(u.selection,o.scroll.initial),offset:ns(u.selection,o.scroll.diff.value)}},f=qN(a.droppables).every(function(Me){return!Me.isFixedOnPage}),h=N0e({draggable:l,home:c,draggables:a.draggables,viewport:o}),p=h.impact,_=h.afterCritical,x={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:f,impact:p,afterCritical:_,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return x}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&_n(!1);var y=ft({phase:"COLLECTING"},t,{phase:"COLLECTING"});return y}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||_n(!1),byt({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;d0(t)||_n(!1);var w=e.payload.client;return Kp(w,t.current.client.selection)?t:u_({state:t,clientSelection:w,impact:CB(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return rL(t);d0(t)||_n(!1);var C=e.payload,M=C.id,R=C.newScroll,N=t.dimensions.droppables[M];if(!N)return t;var I=OU(N,R);return nL(t,I,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;d0(t)||_n(!1);var B=e.payload,D=B.id,$=B.isEnabled,z=t.dimensions.droppables[D];z||_n(!1),z.isEnabled===$&&_n(!1);var V=ft({},z,{isEnabled:$});return nL(t,V,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;d0(t)||_n(!1);var q=e.payload,G=q.id,j=q.isCombineEnabled,H=t.dimensions.droppables[G];H||_n(!1),H.isCombineEnabled===j&&_n(!1);var X=ft({},H,{isCombineEnabled:j});return nL(t,X,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;d0(t)||_n(!1),t.isWindowScrollAllowed||_n(!1);var Y=e.payload.newScroll;if(Kp(t.viewport.scroll.current,Y))return rL(t);var ee=b0e(t.viewport,Y);return CB(t)?R0e({state:t,viewport:ee}):u_({state:t,viewport:ee})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!d0(t))return t;var Z=e.payload.maxScroll;if(Kp(Z,t.viewport.scroll.max))return t;var re=ft({},t.viewport,{scroll:ft({},t.viewport.scroll,{max:Z})});return ft({phase:"DRAGGING"},t,{viewport:re})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&_n(!1);var ae=ryt({state:t,type:e.type});return ae?u_({state:t,impact:ae.impact,clientSelection:ae.clientSelection,scrollJumpRequest:ae.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var ce=e.payload.reason;t.phase!=="COLLECTING"&&_n(!1);var he=ft({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:ce});return he}if(e.type==="DROP_ANIMATE"){var ge=e.payload,se=ge.completed,me=ge.dropDuration,ye=ge.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||_n(!1);var we={phase:"DROP_ANIMATING",completed:se,dropDuration:me,newHomeClientOffset:ye,dimensions:t.dimensions};return we}if(e.type==="DROP_COMPLETE"){var Ee=e.payload.completed;return{phase:"IDLE",completed:Ee,shouldFlush:!1}}return t},_yt=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},Syt=function(e){return{type:"LIFT",payload:e}},wyt=function(e){return{type:"INITIAL_PUBLISH",payload:e}},Cyt=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Tyt=function(){return{type:"COLLECTION_STARTING",payload:null}},Eyt=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Myt=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Pyt=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},I0e=function(e){return{type:"MOVE",payload:e}},Ryt=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},Nyt=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},Iyt=function(){return{type:"MOVE_UP",payload:null}},Oyt=function(){return{type:"MOVE_DOWN",payload:null}},Dyt=function(){return{type:"MOVE_RIGHT",payload:null}},Lyt=function(){return{type:"MOVE_LEFT",payload:null}},zU=function(){return{type:"FLUSH",payload:null}},Byt=function(e){return{type:"DROP_ANIMATE",payload:e}},VU=function(e){return{type:"DROP_COMPLETE",payload:e}},O0e=function(e){return{type:"DROP",payload:e}},Fyt=function(e){return{type:"DROP_PENDING",payload:e}},D0e=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},$yt=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var a=o.payload,s=a.id,l=a.clientSelection,c=a.movementMode,u=n();u.phase==="DROP_ANIMATING"&&r(VU({completed:u.completed})),n().phase!=="IDLE"&&_n(!1),r(zU()),r(_yt({draggableId:s,movementMode:c}));var d={shouldPublishImmediately:c==="SNAP"},f={draggableId:s,scrollOptions:d},h=t.startPublishing(f),p=h.critical,_=h.dimensions,x=h.viewport;r(wyt({critical:p,dimensions:_,clientSelection:l,movementMode:c,viewport:x}))}}}},kyt=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},GU={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},z2={opacity:{drop:0,combining:.7},scale:{drop:.75}},HU={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},i0=HU.outOfTheWay+"s "+GU.outOfTheWay,d_={fluid:"opacity "+i0,snap:"transform "+i0+", opacity "+i0,drop:function(e){var n=e+"s "+GU.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+i0,placeholder:"height "+i0+", width "+i0+", margin "+i0},JQ=function(e){return Kp(e,Ba)?null:"translate("+e.x+"px, "+e.y+"px)"},TB={moveTo:JQ,drop:function(e,n){var r=JQ(e);return r?n?r+" scale("+z2.scale.drop+")":r:null}},EB=HU.minDropTime,L0e=HU.maxDropTime,Uyt=L0e-EB,eZ=1500,zyt=.6,Vyt=function(t){var e=t.current,n=t.destination,r=t.reason,i=$2(e,n);if(i<=0)return EB;if(i>=eZ)return L0e;var o=i/eZ,a=EB+Uyt*o,s=r==="CANCEL"?a*zyt:a;return Number(s.toFixed(2))},Gyt=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,o=t.afterCritical,a=r.draggables,s=r.droppables,l=fc(e),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=P0e({impact:e,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i}),f=sc(d,n.client.borderBox.center);return f},Hyt=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,o=t.viewport,a=t.onLiftImpact;if(!r.at||n!=="DROP"){var s=M0e({draggables:e,impact:a,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=ft({},r,{displaced:k2});return{impact:l,didDropInsideDroppable:!0}},jyt=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=e(),a=i.payload.reason;if(o.phase==="COLLECTING"){n(Fyt({reason:a}));return}if(o.phase!=="IDLE"){var s=o.phase==="DROP_PENDING"&&o.isWaiting;s&&_n(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||_n(!1);var l=o.critical,c=o.dimensions,u=c.draggables[o.critical.draggable.id],d=Hyt({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),f=d.impact,h=d.didDropInsideDroppable,p=h?LU(f):null,_=h?WN(f):null,x={index:l.draggable.index,droppableId:l.droppable.id},y={draggableId:u.descriptor.id,type:u.descriptor.type,source:x,reason:a,mode:o.movementMode,destination:p,combine:_},w=Gyt({impact:f,draggable:u,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),C={critical:o.critical,afterCritical:o.afterCritical,result:y,impact:f},M=!Kp(o.current.client.offset,w)||!!y.combine;if(!M){n(VU({completed:C}));return}var R=Vyt({current:o.current.client.offset,destination:w,reason:a}),N={newHomeClientOffset:w,dropDuration:R,completed:C};n(Byt(N))}}}},B0e=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function qyt(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function Wyt(t){var e=t.onWindowScroll;function n(){e(B0e())}var r=F2(n),i=qyt(r),o=Yp;function a(){return o!==Yp}function s(){a()&&_n(!1),o=Zc(window,[i])}function l(){a()||_n(!1),r.cancel(),o(),o=Yp}return{start:s,stop:l,isActive:a}}var Xyt=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},Yyt=function(t){var e=Wyt({onWindowScroll:function(r){t.dispatch(Ryt({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&Xyt(r)&&e.stop(),n(r)}}},Kyt=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(a){e||n||(e=!0,t(a),clearTimeout(r))};return i.wasCalled=function(){return e},i},Qyt=function(){var t=[],e=function(o){var a=DU(t,function(c){return c.timerId===o});a===-1&&_n(!1);var s=t.splice(a,1),l=s[0];l.callback()},n=function(o){var a=setTimeout(function(){return e(a)}),s={timerId:a,callback:o};t.push(s)},r=function(){if(t.length){var o=[].concat(t);t.length=0,o.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:n,flush:r}},Zyt=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},Jyt=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},e1t=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},rx=function(e,n){n()},XT=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},iL=function(e,n,r,i){if(!e){r(i(n));return}var o=Kyt(r),a={announce:o};e(n,a),o.wasCalled()||r(i(n))},t1t=function(t,e){var n=Qyt(),r=null,i=function(f,h){r&&_n(!1),rx("onBeforeCapture",function(){var p=t().onBeforeCapture;if(p){var _={draggableId:f,mode:h};p(_)}})},o=function(f,h){r&&_n(!1),rx("onBeforeDragStart",function(){var p=t().onBeforeDragStart;p&&p(XT(f,h))})},a=function(f,h){r&&_n(!1);var p=XT(f,h);r={mode:h,lastCritical:f,lastLocation:p.source,lastCombine:null},n.add(function(){rx("onDragStart",function(){return iL(t().onDragStart,p,e,qE.onDragStart)})})},s=function(f,h){var p=LU(h),_=WN(h);r||_n(!1);var x=!e1t(f,r.lastCritical);x&&(r.lastCritical=f);var y=!Zyt(r.lastLocation,p);y&&(r.lastLocation=p);var w=!Jyt(r.lastCombine,_);if(w&&(r.lastCombine=_),!(!x&&!y&&!w)){var C=ft({},XT(f,r.mode),{combine:_,destination:p});n.add(function(){rx("onDragUpdate",function(){return iL(t().onDragUpdate,C,e,qE.onDragUpdate)})})}},l=function(){r||_n(!1),n.flush()},c=function(f){r||_n(!1),r=null,rx("onDragEnd",function(){return iL(t().onDragEnd,f,e,qE.onDragEnd)})},u=function(){if(r){var f=ft({},XT(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});c(f)}};return{beforeCapture:i,beforeStart:o,start:a,update:s,flush:l,drop:c,abort:u}},n1t=function(t,e){var n=t1t(t,e);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),i(o),n.start(a,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var s=o.payload.completed.result;n.flush(),i(o),n.drop(s);return}if(i(o),o.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},r1t=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&_n(!1),t.dispatch(VU({completed:r.completed}))}}},i1t=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=t.getState();l.phase==="DROP_ANIMATING"&&t.dispatch(D0e())}};n=requestAnimationFrame(function(){n=null,e=Zc(window,[a])})}}}},o1t=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},a1t=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},s1t=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},l1t=function(t){return function(e){return function(n){return function(r){if(s1t(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&_n(!1),t.start(i);return}n(r),t.scroll(e.getState())}}}},c1t=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(O0e({reason:r.reason})))}}}},u1t=Vme,d1t=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,o=t.announce,a=t.autoScroller;return zme(xyt,u1t(Kgt(kyt(r),o1t(e),$yt(e),jyt,r1t,i1t,c1t,l1t(a),Yyt,a1t(n),n1t(i,o))))},oL=function(){return{additions:{},removals:{},modified:{}}};function f1t(t){var e=t.registry,n=t.callbacks,r=oL(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var u=r,d=u.additions,f=u.removals,h=u.modified,p=Object.keys(d).map(function(y){return e.draggable.getById(y).getDimension(Ba)}).sort(function(y,w){return y.descriptor.index-w.descriptor.index}),_=Object.keys(h).map(function(y){var w=e.droppable.getById(y),C=w.callbacks.getScrollWhileDragging();return{droppableId:y,scroll:C}}),x={additions:p,removals:Object.keys(f),modified:_};r=oL(),n.publish(x)}))},a=function(u){var d=u.descriptor.id;r.additions[d]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],o()},s=function(u){var d=u.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],o()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=oL())};return{add:a,remove:s,stop:l}}var F0e=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,o=sc({x:n,y:e},{x:i,y:r}),a={x:Math.max(0,o.x),y:Math.max(0,o.y)};return a},$0e=function(){var t=document.documentElement;return t||_n(!1),t},k0e=function(){var t=$0e(),e=F0e({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},h1t=function(){var t=B0e(),e=k0e(),n=t.y,r=t.x,i=$0e(),o=i.clientWidth,a=i.clientHeight,s=r+o,l=n+a,c=Xu({top:n,left:r,right:s,bottom:l}),u={frame:c,scroll:{initial:t,current:t,max:e,diff:{value:Ba,displacement:Ba}}};return u},p1t=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=h1t(),o=i.scroll.current,a=e.droppable,s=r.droppable.getAllByType(a.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(o,n)}),l=r.draggable.getAllByType(e.draggable.type).map(function(d){return d.getDimension(o)}),c={draggables:p0e(l),droppables:h0e(s)},u={dimensions:c,critical:e,viewport:i};return u};function tZ(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var m1t=function(t,e){var n=null,r=f1t({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(h,p){t.droppable.exists(h)||_n(!1),n&&e.updateDroppableIsEnabled({id:h,isEnabled:p})},o=function(h,p){n&&(t.droppable.exists(h)||_n(!1),e.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:p}))},a=function(h,p){n&&(t.droppable.exists(h)||_n(!1),e.updateDroppableScroll({id:h,newScroll:p}))},s=function(h,p){n&&t.droppable.getById(h).callbacks.scroll(p)},l=function(){if(n){r.stop();var h=n.critical.droppable;t.droppable.getAllByType(h.type).forEach(function(p){return p.callbacks.dragStopped()}),n.unsubscribe(),n=null}},c=function(h){n||_n(!1);var p=n.critical.draggable;h.type==="ADDITION"&&tZ(t,p,h.value)&&r.add(h.value),h.type==="REMOVAL"&&tZ(t,p,h.value)&&r.remove(h.value)},u=function(h){n&&_n(!1);var p=t.draggable.getById(h.draggableId),_=t.droppable.getById(p.descriptor.droppableId),x={draggable:p.descriptor,droppable:_.descriptor},y=t.subscribe(c);return n={critical:x,unsubscribe:y},p1t({critical:x,registry:t,scrollOptions:h.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:s,updateDroppableScroll:a,startPublishing:u,stopPublishing:l};return d},U0e=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},g1t=function(t){window.scrollBy(t.x,t.y)},A1t=La(function(t){return qN(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),v1t=function(e,n){var r=Pm(A1t(n),function(i){return i.frame||_n(!1),w0e(i.frame.pageMarginBox)(e)});return r},y1t=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var o=v1t(e,r);return o},Qp={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},b1t=function(t,e){var n=t[e.size]*Qp.startFromPercentage,r=t[e.size]*Qp.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},z0e=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var o=r-e,a=o/i;return a},jU=1,x1t=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return Qp.maxPixelScroll;if(t===e.startScrollingFrom)return jU;var n=z0e({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=Qp.maxPixelScroll*Qp.ease(r);return Math.ceil(i)},nZ=Qp.durationDampening.accelerateAt,rZ=Qp.durationDampening.stopDampeningAt,_1t=function(t,e){var n=e,r=rZ,i=Date.now(),o=i-n;if(o>=rZ)return t;if(o<nZ)return jU;var a=z0e({startOfRange:nZ,endOfRange:r,current:o}),s=t*Qp.ease(a);return Math.ceil(s)},iZ=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,o=x1t(e,n);return o===0?0:i?Math.max(_1t(o,r),jU):o},oZ=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,o=t.shouldUseTimeDampening,a=b1t(e,i),s=n[i.end]<n[i.start];return s?iZ({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*iZ({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},S1t=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,o=n.width>e.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},w1t=d0e(function(t){return t===0?0:t}),V0e=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,o=t.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=oZ({container:n,distanceToEdges:a,dragStartTime:e,axis:BU,shouldUseTimeDampening:o}),l=oZ({container:n,distanceToEdges:a,dragStartTime:e,axis:A0e,shouldUseTimeDampening:o}),c=w1t({x:l,y:s});if(Kp(c,Ba))return null;var u=S1t({container:n,subject:r,proposedScroll:c});return u?Kp(u,Ba)?null:u:null},C1t=d0e(function(t){return t===0?0:t>0?1:-1}),qU=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,o=ns(n,i),a={x:t(o.x,r.x),y:t(o.y,r.y)};return Kp(a,Ba)?null:a}}(),G0e=function(e){var n=e.max,r=e.current,i=e.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},a=C1t(i),s=qU({max:o,current:r,change:a});return!s||a.x!==0&&s.x===0||a.y!==0&&s.y===0},WU=function(e,n){return G0e({current:e.scroll.current,max:e.scroll.max,change:n})},T1t=function(e,n){if(!WU(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return qU({current:i,max:r,change:n})},XU=function(e,n){var r=e.frame;return r?G0e({current:r.scroll.current,max:r.scroll.max,change:n}):!1},E1t=function(e,n){var r=e.frame;return!r||!XU(e,n)?null:qU({current:r.scroll.current,max:r.scroll.max,change:n})},M1t=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,a=V0e({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&WU(e,a)?a:null},P1t=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,a=e.frame;if(!a)return null;var s=V0e({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&XU(e,s)?s:null},aZ=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,o=t.scrollDroppable,a=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id],l=s.page.marginBox;if(e.isWindowScrollAllowed){var c=e.viewport,u=M1t({dragStartTime:n,viewport:c,subject:l,center:a,shouldUseTimeDampening:r});if(u){i(u);return}}var d=y1t({center:a,destination:fc(e.impact),droppables:e.dimensions.droppables});if(d){var f=P1t({dragStartTime:n,droppable:d,subject:l,center:a,shouldUseTimeDampening:r});f&&o(d.descriptor.id,f)}},R1t=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=F2(e),i=F2(n),o=null,a=function(u){o||_n(!1);var d=o,f=d.shouldUseTimeDampening,h=d.dragStartTime;aZ({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:f})},s=function(u){o&&_n(!1);var d=Date.now(),f=!1,h=function(){f=!0};aZ({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),o={dragStartTime:d,shouldUseTimeDampening:f},f&&a(u)},l=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:s,stop:l,scroll:a}},N1t=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(c,u){var d=ns(c.current.client.selection,u);e({client:d})},o=function(c,u){if(!XU(c,u))return u;var d=E1t(c,u);if(!d)return n(c.descriptor.id,u),null;var f=sc(u,d);n(c.descriptor.id,f);var h=sc(u,f);return h},a=function(c,u,d){if(!c||!WU(u,d))return d;var f=T1t(u,d);if(!f)return r(d),null;var h=sc(d,f);r(h);var p=sc(d,h);return p},s=function(c){var u=c.scrollJumpRequest;if(u){var d=fc(c.impact);d||_n(!1);var f=o(c.dimensions.droppables[d],u);if(f){var h=c.viewport,p=a(c.isWindowScrollAllowed,h,f);p&&i(c,p)}}};return s},I1t=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=R1t({scrollWindow:n,scrollDroppable:e}),o=N1t({move:r,scrollWindow:n,scrollDroppable:e}),a=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&o(c)}},s={scroll:a,start:i.start,stop:i.stop};return s},Jy="data-rbd",e1=function(){var t=Jy+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),MB=function(){var t=Jy+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),O1t=function(){var t=Jy+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),sZ={contextId:Jy+"-scroll-container-context-id"},D1t=function(e){return function(n){return"["+n+'="'+e+'"]'}},ix=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},L1t="pointer-events: none;",B1t=function(t){var e=D1t(t),n=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(e1.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:L1t,dropAnimating:s}}}(),r=function(){var s=`
      transition: `+d_.outOfTheWay+`;
    `;return{selector:e(MB.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),i={selector:e(O1t.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[r,n,i,o];return{always:ix(a,"always"),resting:ix(a,"resting"),dragging:ix(a,"dragging"),dropAnimating:ix(a,"dropAnimating"),userCancel:ix(a,"userCancel")}},hc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,aL=function(){var e=document.querySelector("head");return e||_n(!1),e},lZ=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function F1t(t,e){var n=pi(function(){return B1t(t)},[t]),r=S.useRef(null),i=S.useRef(null),o=hr(La(function(d){var f=i.current;f||_n(!1),f.textContent=d}),[]),a=hr(function(d){var f=r.current;f||_n(!1),f.textContent=d},[]);hc(function(){!r.current&&!i.current||_n(!1);var d=lZ(e),f=lZ(e);return r.current=d,i.current=f,d.setAttribute(Jy+"-always",t),f.setAttribute(Jy+"-dynamic",t),aL().appendChild(d),aL().appendChild(f),a(n.always),o(n.resting),function(){var h=function(_){var x=_.current;x||_n(!1),aL().removeChild(x),_.current=null};h(r),h(i)}},[e,a,o,n.always,n.resting,t]);var s=hr(function(){return o(n.dragging)},[o,n.dragging]),l=hr(function(d){if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),c=hr(function(){i.current&&o(n.resting)},[o,n.resting]),u=pi(function(){return{dragging:s,dropping:l,resting:c}},[s,l,c]);return u}var H0e=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function KN(t){return t instanceof H0e(t).HTMLElement}function $1t(t,e){var n="["+e1.contextId+'="'+t+'"]',r=f0e(document.querySelectorAll(n));if(!r.length)return null;var i=Pm(r,function(o){return o.getAttribute(e1.draggableId)===e});return!i||!KN(i)?null:i}function k1t(t){var e=S.useRef({}),n=S.useRef(null),r=S.useRef(null),i=S.useRef(!1),o=hr(function(f,h){var p={id:f,focus:h};return e.current[f]=p,function(){var x=e.current,y=x[f];y!==p&&delete x[f]}},[]),a=hr(function(f){var h=$1t(t,f);h&&h!==document.activeElement&&h.focus()},[t]),s=hr(function(f,h){n.current===f&&(n.current=h)},[]),l=hr(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var f=n.current;f&&a(f)}))},[a]),c=hr(function(f){n.current=null;var h=document.activeElement;h&&h.getAttribute(e1.draggableId)===f&&(n.current=f)},[]);hc(function(){return i.current=!0,function(){i.current=!1;var f=r.current;f&&cancelAnimationFrame(f)}},[]);var u=pi(function(){return{register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:s}},[o,c,l,s]);return u}function U1t(){var t={draggables:{},droppables:{}},e=[];function n(d){return e.push(d),function(){var h=e.indexOf(d);h!==-1&&e.splice(h,1)}}function r(d){e.length&&e.forEach(function(f){return f(d)})}function i(d){return t.draggables[d]||null}function o(d){var f=i(d);return f||_n(!1),f}var a={register:function(f){t.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:function(f,h){var p=t.draggables[h.descriptor.id];p&&p.uniqueId===f.uniqueId&&(delete t.draggables[h.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:function(f){var h=f.descriptor.id,p=i(h);p&&f.uniqueId===p.uniqueId&&(delete t.draggables[h],r({type:"REMOVAL",value:f}))},getById:o,findById:i,exists:function(f){return!!i(f)},getAllByType:function(f){return oP(t.draggables).filter(function(h){return h.descriptor.type===f})}};function s(d){return t.droppables[d]||null}function l(d){var f=s(d);return f||_n(!1),f}var c={register:function(f){t.droppables[f.descriptor.id]=f},unregister:function(f){var h=s(f.descriptor.id);h&&f.uniqueId===h.uniqueId&&delete t.droppables[f.descriptor.id]},getById:l,findById:s,exists:function(f){return!!s(f)},getAllByType:function(f){return oP(t.droppables).filter(function(h){return h.descriptor.type===f})}};function u(){t.draggables={},t.droppables={},e.length=0}return{draggable:a,droppable:c,subscribe:n,clean:u}}function z1t(){var t=pi(U1t,[]);return S.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var YU=Ye.createContext(null),sP=function(){var t=document.body;return t||_n(!1),t},V1t={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},G1t=function(e){return"rbd-announcement-"+e};function H1t(t){var e=pi(function(){return G1t(t)},[t]),n=S.useRef(null);S.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),ft(o.style,V1t),sP().appendChild(o),function(){setTimeout(function(){var l=sP();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[e]);var r=hr(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var j1t=0,q1t={separator:"::"};function KU(t,e){return e===void 0&&(e=q1t),pi(function(){return""+t+e.separator+j1t++},[e.separator,t])}function W1t(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function X1t(t){var e=t.contextId,n=t.text,r=KU("hidden-text",{separator:"-"}),i=pi(function(){return W1t({contextId:e,uniqueId:r})},[r,e]);return S.useEffect(function(){var a=document.createElement("div");return a.id=i,a.textContent=n,a.style.display="none",sP().appendChild(a),function(){var l=sP();l.contains(a)&&l.removeChild(a)}},[i,n]),i}var QN=Ye.createContext(null);function j0e(t){var e=S.useRef(t);return S.useEffect(function(){e.current=t}),e}function Y1t(){var t=null;function e(){return!!t}function n(a){return a===t}function r(a){t&&_n(!1);var s={abandon:a};return t=s,s}function i(){t||_n(!1),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}var K1t=9,Q1t=13,QU=27,q0e=32,Z1t=33,J1t=34,ebt=35,tbt=36,nbt=37,rbt=38,ibt=39,obt=40,YT,abt=(YT={},YT[Q1t]=!0,YT[K1t]=!0,YT),W0e=function(t){abt[t.keyCode]&&t.preventDefault()},ZN=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=Pm(e,function(r){return"on"+r in document});return n||t}(),X0e=0,cZ=5;function sbt(t,e){return Math.abs(e.x-t.x)>=cZ||Math.abs(e.y-t.y)>=cZ}var uZ={type:"IDLE"};function lbt(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(a){var s=a.button,l=a.clientX,c=a.clientY;if(s===X0e){var u={x:l,y:c},d=r();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&_n(!1);var f=d.point;if(sbt(f,u)){a.preventDefault();var h=d.actions.fluidLift(u);i({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(a){var s=r();if(s.type!=="DRAGGING"){e();return}a.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(a){r().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:function(a){var s=r();if(s.type==="PENDING"){e();return}if(a.keyCode===QU){a.preventDefault(),e();return}W0e(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(a){var s=r();if(s.type==="IDLE"&&_n(!1),s.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:ZN,fn:e}]}function cbt(t){var e=S.useRef(uZ),n=S.useRef(Yp),r=pi(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===X0e&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var f=t.findClosestDraggableId(d);if(f){var h=t.tryGetLock(f,a,{sourceEvent:d});if(h){d.preventDefault();var p={x:d.clientX,y:d.clientY};n.current(),c(h,p)}}}}}},[t]),i=pi(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var f=t.findClosestDraggableId(d);if(f){var h=t.findOptionsForDraggable(f);h&&(h.shouldRespectForcePress||t.canGetLock(f)&&d.preventDefault())}}}}},[t]),o=hr(function(){var d={passive:!1,capture:!0};n.current=Zc(window,[i,r],d)},[i,r]),a=hr(function(){var u=e.current;u.type!=="IDLE"&&(e.current=uZ,n.current(),o())},[o]),s=hr(function(){var u=e.current;a(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[a]),l=hr(function(){var d={capture:!0,passive:!1},f=lbt({cancel:s,completed:a,getPhase:function(){return e.current},setPhase:function(p){e.current=p}});n.current=Zc(window,f,d)},[s,a]),c=hr(function(d,f){e.current.type!=="IDLE"&&_n(!1),e.current={type:"PENDING",point:f,actions:d},l()},[l]);hc(function(){return o(),function(){n.current()}},[o])}var VA;function ubt(){}var dbt=(VA={},VA[J1t]=!0,VA[Z1t]=!0,VA[tbt]=!0,VA[ebt]=!0,VA);function fbt(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===QU){o.preventDefault(),n();return}if(o.keyCode===q0e){o.preventDefault(),r();return}if(o.keyCode===obt){o.preventDefault(),t.moveDown();return}if(o.keyCode===rbt){o.preventDefault(),t.moveUp();return}if(o.keyCode===ibt){o.preventDefault(),t.moveRight();return}if(o.keyCode===nbt){o.preventDefault(),t.moveLeft();return}if(dbt[o.keyCode]){o.preventDefault();return}W0e(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ZN,fn:n}]}function hbt(t){var e=S.useRef(ubt),n=pi(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==q0e)return;var a=t.findClosestDraggableId(o);if(!a)return;var s=t.tryGetLock(a,u,{sourceEvent:o});if(!s)return;o.preventDefault();var l=!0,c=s.snapLift();e.current();function u(){l||_n(!1),l=!1,e.current(),r()}e.current=Zc(window,fbt(c,u),{capture:!0,passive:!1})}}},[t]),r=hr(function(){var o={passive:!1,capture:!0};e.current=Zc(window,[n],o)},[n]);hc(function(){return r(),function(){e.current()}},[r])}var sL={type:"IDLE"},pbt=120,mbt=.15;function gbt(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===QU&&i.preventDefault(),e()}},{eventName:ZN,fn:e}]}function Abt(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var a=r();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;var s=o.touches[0],l=s.clientX,c=s.clientY,u={x:l,y:c};o.preventDefault(),a.actions.move(u)}},{eventName:"touchend",fn:function(o){var a=r();if(a.type!=="DRAGGING"){e();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){e();return}o.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(o){var a=r();a.type==="IDLE"&&_n(!1);var s=o.touches[0];if(s){var l=s.force>=mbt;if(l){var c=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){c&&e();return}if(c){if(a.hasMoved){o.preventDefault();return}e();return}o.preventDefault()}}}},{eventName:ZN,fn:e}]}function vbt(t){var e=S.useRef(sL),n=S.useRef(Yp),r=hr(function(){return e.current},[]),i=hr(function(h){e.current=h},[]),o=pi(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var p=t.findClosestDraggableId(h);if(p){var _=t.tryGetLock(p,s,{sourceEvent:h});if(_){var x=h.touches[0],y=x.clientX,w=x.clientY,C={x:y,y:w};n.current(),d(_,C)}}}}}},[t]),a=hr(function(){var h={capture:!0,passive:!1};n.current=Zc(window,[o],h)},[o]),s=hr(function(){var f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(sL),n.current(),a())},[a,i]),l=hr(function(){var f=e.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),c=hr(function(){var h={capture:!0,passive:!1},p={cancel:l,completed:s,getPhase:r},_=Zc(window,Abt(p),h),x=Zc(window,gbt(p),h);n.current=function(){_(),x()}},[l,r,s]),u=hr(function(){var h=r();h.type!=="PENDING"&&_n(!1);var p=h.actions.fluidLift(h.point);i({type:"DRAGGING",actions:p,hasMoved:!1})},[r,i]),d=hr(function(h,p){r().type!=="IDLE"&&_n(!1);var _=setTimeout(u,pbt);i({type:"PENDING",point:p,actions:h,longPressTimerId:_}),c()},[c,r,i,u]);hc(function(){return a(),function(){n.current();var p=r();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),i(sL))}},[r,a,i]),hc(function(){var h=Zc(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var ybt={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Y0e(t,e){if(e==null)return!1;var n=!!ybt[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:Y0e(t,e.parentElement)}function bbt(t,e){var n=e.target;return KN(n)?Y0e(t,n):!1}var xbt=function(t){return Xu(t.getBoundingClientRect()).center};function _bt(t){return t instanceof H0e(t).Element}var Sbt=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=Pm(e,function(r){return r in Element.prototype});return n||t}();function K0e(t,e){return t==null?null:t[Sbt](e)?t:K0e(t.parentElement,e)}function wbt(t,e){return t.closest?t.closest(e):K0e(t,e)}function Cbt(t){return"["+e1.contextId+'="'+t+'"]'}function Tbt(t,e){var n=e.target;if(!_bt(n))return null;var r=Cbt(t),i=wbt(n,r);return!i||!KN(i)?null:i}function Ebt(t,e){var n=Tbt(t,e);return n?n.getAttribute(e1.draggableId):null}function Mbt(t,e){var n="["+MB.contextId+'="'+t+'"]',r=f0e(document.querySelectorAll(n)),i=Pm(r,function(o){return o.getAttribute(MB.id)===e});return!i||!KN(i)?null:i}function Pbt(t){t.preventDefault()}function KT(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function Q0e(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!U0e(n.getState(),i))}function Rbt(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,o=t.draggableId,a=t.forceSensorStop,s=t.sourceEvent,l=Q0e({lockAPI:e,store:r,registry:i,draggableId:o});if(!l)return null;var c=i.draggable.getById(o),u=Mbt(n,c.descriptor.id);if(!u||s&&!c.options.canDragInteractiveElements&&bbt(u,s))return null;var d=e.claim(a||Yp),f="PRE_DRAG";function h(){return c.options.shouldRespectForcePress}function p(){return e.isActive(d)}function _(N,I){KT({expected:N,phase:f,isLockActive:p,shouldWarn:!0})&&r.dispatch(I())}var x=_.bind(null,"DRAGGING");function y(N){function I(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(I(),f!=="PRE_DRAG"&&_n(!1)),r.dispatch(Syt(N.liftActionArgs)),f="DRAGGING";function B(D,$){if($===void 0&&($={shouldBlockNextClick:!1}),N.cleanup(),$.shouldBlockNextClick){var z=Zc(window,[{eventName:"click",fn:Pbt,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(z)}I(),r.dispatch(O0e({reason:D}))}return ft({isActive:function(){return KT({expected:"DRAGGING",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,drop:function($){return B("DROP",$)},cancel:function($){return B("CANCEL",$)}},N.actions)}function w(N){var I=F2(function(D){x(function(){return I0e({client:D})})}),B=y({liftActionArgs:{id:o,clientSelection:N,movementMode:"FLUID"},cleanup:function(){return I.cancel()},actions:{move:I}});return ft({},B,{move:I})}function C(){var N={moveUp:function(){return x(Iyt)},moveRight:function(){return x(Dyt)},moveDown:function(){return x(Oyt)},moveLeft:function(){return x(Lyt)}};return y({liftActionArgs:{id:o,clientSelection:xbt(u),movementMode:"SNAP"},cleanup:Yp,actions:N})}function M(){var N=KT({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!0});N&&e.release()}var R={isActive:function(){return KT({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:w,snapLift:C,abort:M};return R}var Nbt=[cbt,hbt,vbt];function Ibt(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,o=t.enableDefaultSensors,a=[].concat(o?Nbt:[],i||[]),s=S.useState(function(){return Y1t()})[0],l=hr(function(w,C){w.isDragging&&!C.isDragging&&s.tryAbandon()},[s]);hc(function(){var w=n.getState(),C=n.subscribe(function(){var M=n.getState();l(w,M),w=M});return C},[s,n,l]),hc(function(){return s.tryAbandon},[s.tryAbandon]);for(var c=hr(function(y){return Q0e({lockAPI:s,registry:r,store:n,draggableId:y})},[s,r,n]),u=hr(function(y,w,C){return Rbt({lockAPI:s,registry:r,contextId:e,store:n,draggableId:y,forceSensorStop:w,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null})},[e,s,r,n]),d=hr(function(y){return Ebt(e,y)},[e]),f=hr(function(y){var w=r.draggable.findById(y);return w?w.options:null},[r.draggable]),h=hr(function(){s.isClaimed()&&(s.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(zU()))},[s,n]),p=hr(s.isClaimed,[s]),_=pi(function(){return{canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:p}},[c,u,d,f,h,p]),x=0;x<a.length;x++)a[x](_)}var Obt=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function ox(t){return t.current||_n(!1),t.current}function Dbt(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,o=t.dragHandleUsageInstructions,a=S.useRef(null),s=j0e(t),l=hr(function(){return Obt(s.current)},[s]),c=H1t(e),u=X1t({contextId:e,text:o}),d=F1t(e,i),f=hr(function(D){ox(a).dispatch(D)},[]),h=pi(function(){return OQ({publishWhileDragging:Cyt,updateDroppableScroll:Eyt,updateDroppableIsEnabled:Myt,updateDroppableIsCombineEnabled:Pyt,collectionStarting:Tyt},f)},[f]),p=z1t(),_=pi(function(){return m1t(p,h)},[p,h]),x=pi(function(){return I1t(ft({scrollWindow:g1t,scrollDroppable:_.scrollDroppable},OQ({move:I0e},f)))},[_.scrollDroppable,f]),y=k1t(e),w=pi(function(){return d1t({announce:c,autoScroller:x,dimensionMarshal:_,focusMarshal:y,getResponders:l,styleMarshal:d})},[c,x,_,y,l,d]);a.current=w;var C=hr(function(){var D=ox(a),$=D.getState();$.phase!=="IDLE"&&D.dispatch(zU())},[]),M=hr(function(){var D=ox(a).getState();return D.isDragging||D.phase==="DROP_ANIMATING"},[]),R=pi(function(){return{isDragging:M,tryAbort:C}},[M,C]);n(R);var N=hr(function(D){return U0e(ox(a).getState(),D)},[]),I=hr(function(){return d0(ox(a).getState())},[]),B=pi(function(){return{marshal:_,focus:y,contextId:e,canLift:N,isMovementAllowed:I,dragHandleUsageInstructionsId:u,registry:p}},[e,_,u,y,N,I,p]);return Ibt({contextId:e,store:w,registry:p,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),S.useEffect(function(){return C},[C]),Ye.createElement(QN.Provider,{value:B},Ye.createElement(tAt,{context:YU,store:w},t.children))}var Lbt=0;function Bbt(){return pi(function(){return""+Lbt++},[])}function Fbt(t){var e=Bbt(),n=t.dragHandleUsageInstructions||qE.dragHandleUsageInstructions;return Ye.createElement(hvt,null,function(r){return Ye.createElement(Dbt,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var Z0e=function(e){return function(n){return e===n}},$bt=Z0e("scroll"),kbt=Z0e("auto"),dZ=function(e,n){return n(e.overflowX)||n(e.overflowY)},Ubt=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return dZ(r,$bt)||dZ(r,kbt)},zbt=function(){return!1},Vbt=function t(e){return e==null?null:e===document.body?zbt()?e:null:e===document.documentElement?null:Ubt(e)?e:t(e.parentElement)},PB=function(t){return{x:t.scrollLeft,y:t.scrollTop}},Gbt=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},Hbt=function(t){var e=Vbt(t),n=Gbt(t);return{closestScrollable:e,isFixedOnPage:n}},jbt=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,o=t.direction,a=t.client,s=t.page,l=t.closest,c=function(){if(!l)return null;var h=l.scrollSize,p=l.client,_=F0e({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:_,diff:{value:Ba,displacement:Ba}}}}(),u=o==="vertical"?BU:A0e,d=Zy({page:s,withPlaceholder:null,axis:u,frame:c}),f={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:d};return f},qbt=function(e,n){var r=s0e(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,a=i+n.scrollHeight,s=o+n.scrollWidth,l={top:i,right:s,bottom:a,left:o},c=NU(l,r.border),u=IU({borderBox:c,margin:r.margin,border:r.border,padding:r.padding});return u},Wbt=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,o=t.direction,a=t.isDropDisabled,s=t.isCombineEnabled,l=t.shouldClipSubject,c=r.closestScrollable,u=qbt(e,c),d=nP(u,i),f=function(){if(!c)return null;var p=s0e(c),_={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:p,page:nP(p,i),scroll:PB(c),scrollSize:_,shouldClipSubject:l}}(),h=jbt({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:f});return h},Xbt={passive:!1},Ybt={passive:!0},fZ=function(t){return t.shouldPublishImmediately?Xbt:Ybt};function lP(t){var e=S.useContext(t);return e||_n(!1),e}var QT=function(e){return e&&e.env.closestScrollable||null};function Kbt(t){var e=S.useRef(null),n=lP(QN),r=KU("droppable"),i=n.registry,o=n.marshal,a=j0e(t),s=pi(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),l=S.useRef(s),c=pi(function(){return La(function(M,R){e.current||_n(!1);var N={x:M,y:R};o.updateDroppableScroll(s.id,N)})},[s.id,o]),u=hr(function(){var M=e.current;return!M||!M.env.closestScrollable?Ba:PB(M.env.closestScrollable)},[]),d=hr(function(){var M=u();c(M.x,M.y)},[u,c]),f=pi(function(){return F2(d)},[d]),h=hr(function(){var M=e.current,R=QT(M);M&&R||_n(!1);var N=M.scrollOptions;if(N.shouldPublishImmediately){d();return}f()},[f,d]),p=hr(function(M,R){e.current&&_n(!1);var N=a.current,I=N.getDroppableRef();I||_n(!1);var B=Hbt(I),D={ref:I,descriptor:s,env:B,scrollOptions:R};e.current=D;var $=Wbt({ref:I,descriptor:s,env:B,windowScroll:M,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),z=B.closestScrollable;return z&&(z.setAttribute(sZ.contextId,n.contextId),z.addEventListener("scroll",h,fZ(D.scrollOptions))),$},[n.contextId,s,h,a]),_=hr(function(){var M=e.current,R=QT(M);return M&&R||_n(!1),PB(R)},[]),x=hr(function(){var M=e.current;M||_n(!1);var R=QT(M);e.current=null,R&&(f.cancel(),R.removeAttribute(sZ.contextId),R.removeEventListener("scroll",h,fZ(M.scrollOptions)))},[h,f]),y=hr(function(M){var R=e.current;R||_n(!1);var N=QT(R);N||_n(!1),N.scrollTop+=M.y,N.scrollLeft+=M.x},[]),w=pi(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:_,dragStopped:x,scroll:y}},[x,p,_,y]),C=pi(function(){return{uniqueId:r,descriptor:s,callbacks:w}},[w,s,r]);hc(function(){return l.current=C.descriptor,i.droppable.register(C),function(){e.current&&x(),i.droppable.unregister(C)}},[w,s,x,C,o,i.droppable]),hc(function(){e.current&&o.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),hc(function(){e.current&&o.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function lL(){}var hZ={width:0,height:0,margin:yvt},Qbt=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?hZ:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},Zbt=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,o=Qbt({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?d_.placeholder:null}};function Jbt(t){var e=S.useRef(null),n=hr(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,o=t.onClose,a=t.contextId,s=S.useState(t.animate==="open"),l=s[0],c=s[1];S.useEffect(function(){return l?r!=="open"?(n(),c(!1),lL):e.current?lL:(e.current=setTimeout(function(){e.current=null,c(!1)}),n):lL},[r,l,n]);var u=hr(function(f){f.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),d=Zbt({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return Ye.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":a,onTransitionEnd:u,ref:t.innerRef})}var ext=Ye.memo(Jbt),ZU=Ye.createContext(null),txt=function(t){B9(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(Ye.PureComponent),pZ={dragging:5e3,dropAnimating:4500},nxt=function(e,n){return n?d_.drop(n.duration):e?d_.snap:d_.fluid},rxt=function(e,n){return e?n?z2.opacity.drop:z2.opacity.combining:null},ixt=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function oxt(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,o=t.dropping,a=!!i,s=ixt(t),l=!!o,c=l?TB.drop(r,a):TB.moveTo(r),u={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:nxt(s,o),transform:c,opacity:rxt(a,l),zIndex:l?pZ.dropAnimating:pZ.dragging,pointerEvents:"none"};return u}function axt(t){return{transform:TB.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function sxt(t){return t.type==="DRAGGING"?oxt(t):axt(t)}function lxt(t,e,n){n===void 0&&(n=Ba);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=a0e(i,r),a=nP(o,n),s={client:o,tagName:e.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height},c={descriptor:t,placeholder:s,displaceBy:l,client:o,page:a};return c}function cxt(t){var e=KU("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,o=t.canDragInteractiveElements,a=t.shouldRespectForcePress,s=t.isEnabled,l=pi(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:a,isEnabled:s}},[o,s,a]),c=hr(function(h){var p=i();return p||_n(!1),lxt(n,p,h)},[n,i]),u=pi(function(){return{uniqueId:e,descriptor:n,options:l,getDimension:c}},[n,c,l,e]),d=S.useRef(u),f=S.useRef(!0);hc(function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}},[r.draggable]),hc(function(){if(f.current){f.current=!1;return}var h=d.current;d.current=u,r.draggable.update(u,h)},[u,r.draggable])}function uxt(t){t.preventDefault()}function dxt(t){var e=S.useRef(null),n=hr(function(D){e.current=D},[]),r=hr(function(){return e.current},[]),i=lP(QN),o=i.contextId,a=i.dragHandleUsageInstructionsId,s=i.registry,l=lP(ZU),c=l.type,u=l.droppableId,d=pi(function(){return{id:t.draggableId,index:t.index,type:c,droppableId:u}},[t.draggableId,t.index,c,u]),f=t.children,h=t.draggableId,p=t.isEnabled,_=t.shouldRespectForcePress,x=t.canDragInteractiveElements,y=t.isClone,w=t.mapped,C=t.dropAnimationFinished;if(!y){var M=pi(function(){return{descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:x,shouldRespectForcePress:_,isEnabled:p}},[d,s,r,x,_,p]);cxt(M)}var R=pi(function(){return p?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:uxt}:null},[o,a,h,p]),N=hr(function(D){w.type==="DRAGGING"&&w.dropping&&D.propertyName==="transform"&&C()},[C,w]),I=pi(function(){var D=sxt(w),$=w.type==="DRAGGING"&&w.dropping?N:null,z={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":h,style:D,onTransitionEnd:$},dragHandleProps:R};return z},[o,R,h,w,N,n]),B=pi(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return f(I,w.snapshot,B)}var J0e=function(t,e){return t===e},ege=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},fxt=function(e){return e.combine?e.combine.draggableId:null},hxt=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function pxt(){var t=La(function(i,o){return{x:i,y:o}}),e=La(function(i,o,a,s,l){return{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:a,combineWith:s,combineTargetFor:null}}),n=La(function(i,o,a,s,l,c,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:i,dimension:a,forceShouldAnimate:u,snapshot:e(o,s,l,c,null)}}}),r=function(o,a){if(o.isDragging){if(o.critical.draggable.id!==a.draggableId)return null;var s=o.current.client.offset,l=o.dimensions.draggables[a.draggableId],c=fc(o.impact),u=hxt(o.impact),d=o.forceShouldAnimate;return n(t(s.x,s.y),o.movementMode,l,a.isClone,c,u,d)}if(o.phase==="DROP_ANIMATING"){var f=o.completed;if(f.result.draggableId!==a.draggableId)return null;var h=a.isClone,p=o.dimensions.draggables[a.draggableId],_=f.result,x=_.mode,y=ege(_),w=fxt(_),C=o.dropDuration,M={duration:C,curve:GU.drop,moveTo:o.newHomeClientOffset,opacity:w?z2.opacity.drop:null,scale:w?z2.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:p,dropping:M,draggingOver:y,combineWith:w,mode:x,forceShouldAnimate:null,snapshot:e(x,h,y,w,M)}}}return null};return r}function tge(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var mxt={mapped:{type:"SECONDARY",offset:Ba,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:tge(null)}};function gxt(){var t=La(function(a,s){return{x:a,y:s}}),e=La(tge),n=La(function(a,s,l){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:s,shouldAnimateDisplacement:l,snapshot:e(s)}}}),r=function(s){return s?n(Ba,s,!0):null},i=function(s,l,c,u){var d=c.displaced.visible[s],f=!!(u.inVirtualList&&u.effected[s]),h=WN(c),p=h&&h.draggableId===s?l:null;if(!d){if(!f)return r(p);if(c.displaced.invisible[s])return null;var _=U1(u.displacedBy.point),x=t(_.x,_.y);return n(x,p,!0)}if(f)return r(p);var y=c.displacedBy.point,w=t(y.x,y.y);return n(w,p,d.shouldAnimate)},o=function(s,l){if(s.isDragging)return s.critical.draggable.id===l.draggableId?null:i(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var c=s.completed;return c.result.draggableId===l.draggableId?null:i(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return o}var Axt=function(){var e=pxt(),n=gxt(),r=function(o,a){return e(o,a)||n(o,a)||mxt};return r},vxt={dropAnimationFinished:D0e},yxt=i0e(Axt,vxt,null,{context:YU,pure:!0,areStatePropsEqual:J0e})(dxt);function nge(t){var e=lP(ZU),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:Ye.createElement(yxt,t)}function bxt(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return Ye.createElement(nge,ft({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function xxt(t){var e=S.useContext(QN);e||_n(!1);var n=e.contextId,r=e.isMovementAllowed,i=S.useRef(null),o=S.useRef(null),a=t.children,s=t.droppableId,l=t.type,c=t.mode,u=t.direction,d=t.ignoreContainerClipping,f=t.isDropDisabled,h=t.isCombineEnabled,p=t.snapshot,_=t.useClone,x=t.updateViewportMaxScroll,y=t.getContainerForClone,w=hr(function(){return i.current},[]),C=hr(function(z){i.current=z},[]);hr(function(){return o.current},[]);var M=hr(function(z){o.current=z},[]),R=hr(function(){r()&&x({maxScroll:k0e()})},[r,x]);Kbt({droppableId:s,type:l,mode:c,direction:u,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:w});var N=Ye.createElement(txt,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(z){var V=z.onClose,q=z.data,G=z.animate;return Ye.createElement(ext,{placeholder:q,onClose:V,innerRef:M,animate:G,contextId:n,onTransitionEnd:R})}),I=pi(function(){return{innerRef:C,placeholder:N,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":n}}},[n,s,N,C]),B=_?_.dragging.draggableId:null,D=pi(function(){return{droppableId:s,type:l,isUsingCloneFor:B}},[s,B,l]);function $(){if(!_)return null;var z=_.dragging,V=_.render,q=Ye.createElement(nge,{draggableId:z.draggableId,index:z.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(G,j){return V(G,j,z)});return AM.createPortal(q,y())}return Ye.createElement(ZU.Provider,{value:D},a(I,p),$())}var cL=function(e,n){return e===n.droppable.type},mZ=function(e,n){return n.draggables[e.draggable.id]},_xt=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=ft({},e,{shouldAnimatePlaceholder:!1}),r=La(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),i=La(function(a,s,l,c,u,d){var f=u.descriptor.id,h=u.descriptor.droppableId===a;if(h){var p=d?{render:d,dragging:r(u.descriptor)}:null,_={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:_,useClone:p}}if(!s)return n;if(!c)return e;var x={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}}),o=function(s,l){var c=l.droppableId,u=l.type,d=!l.isDropDisabled,f=l.renderClone;if(s.isDragging){var h=s.critical;if(!cL(u,h))return n;var p=mZ(h,s.dimensions),_=fc(s.impact)===c;return i(c,d,_,_,p,f)}if(s.phase==="DROP_ANIMATING"){var x=s.completed;if(!cL(u,x.critical))return n;var y=mZ(x.critical,s.dimensions);return i(c,d,ege(x.result)===c,fc(x.impact)===c,y,f)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var w=s.completed;if(!cL(u,w.critical))return n;var C=fc(w.impact)===c,M=!!(w.impact.at&&w.impact.at.type==="COMBINE"),R=w.critical.droppable.id===c;return C?M?e:n:R?e:n}return n};return o},Sxt={updateViewportMaxScroll:Nyt};function wxt(){return document.body||_n(!1),document.body}var Cxt={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:wxt},JU=i0e(_xt,Sxt,null,{context:YU,pure:!0,areStatePropsEqual:J0e})(xxt);JU.defaultProps=Cxt;const{Text:rge}=_1,{TextArea:Txt}=Bc,Ext=({activity:t,onUpdate:e})=>De.jsx(Hu,{size:"small",className:"shadow-sm border-border mb-2",bodyStyle:{padding:"8px"},children:De.jsxs("div",{className:"flex gap-3",children:[t.spotReference&&De.jsx("img",{src:t.spotReference.imageUrl,alt:t.title,className:"w-16 h-16 rounded object-cover flex-shrink-0"}),De.jsxs("div",{className:"flex-1 min-w-0",children:[De.jsx("div",{className:"font-bold text-sm text-text truncate mb-1",children:t.title}),De.jsxs("div",{className:"text-xs text-text-secondary flex items-center gap-1 mb-2 truncate",children:[De.jsx(V6e,{})," ",t.location]}),De.jsx(Txt,{placeholder:"Add remarks...",autoSize:{minRows:1,maxRows:3},value:t.remarks,onChange:n=>e({remarks:n.target.value}),className:"text-xs !bg-gray-50 border-none focus:!bg-white focus:shadow-none p-1 rounded",bordered:!1})]})]})}),GA=({session:t,dayIndex:e,period:n,sessionIndex:r,label:i,canAdd:o,onAdd:a,onUpdateActivity:s})=>{const l=`${e}-${n}-${r}`;return De.jsxs("div",{className:"flex flex-col mb-2",children:[De.jsxs("div",{className:"flex justify-between items-center mb-1",children:[De.jsx(rge,{strong:!0,className:"capitalize text-text-secondary font-heading",children:i||n}),o&&a&&De.jsx(Go,{type:"text",size:"small",icon:De.jsx(AR,{}),onClick:a,className:"text-cta hover:text-primary"})]}),De.jsx(JU,{droppableId:l,children:(c,u)=>De.jsxs("div",{...c.droppableProps,ref:c.innerRef,className:`p-2 border border-dashed rounded min-h-[60px] transition-colors duration-200 ${u.isDraggingOver?"bg-background border-cta":"bg-white border-border"}`,children:[t.activities.map((d,f)=>De.jsx("div",{className:"mb-2 last:mb-0",children:De.jsx(Ext,{activity:d,onUpdate:h=>s&&s(e,n,r,f,h)})},d.id)),c.placeholder]})})]})},Mxt=({timetable:t,cart:e,onAddSession:n,onUpdateActivity:r,onDragEnd:i})=>t?De.jsx(Fbt,{onDragEnd:o=>i(o),children:De.jsxs("div",{className:"flex h-full gap-4",children:[De.jsx("div",{className:"w-1/4 min-w-[250px] flex flex-col h-[calc(100vh-100px)] sticky top-4",children:De.jsx(Hu,{title:De.jsx("span",{className:"text-primary font-heading",children:"Attractions"}),className:"h-full flex flex-col border-border shadow-sm",bodyStyle:{flex:1,overflow:"hidden",padding:"12px"},children:De.jsx(JU,{droppableId:"cart",children:o=>De.jsxs("div",{...o.droppableProps,ref:o.innerRef,className:"h-full overflow-y-auto pr-2",children:[De.jsx(og,{dataSource:e,renderItem:(a,s)=>De.jsx(bxt,{draggableId:a.id,index:s,children:(l,c)=>De.jsx("div",{ref:l.innerRef,...l.draggableProps,...l.dragHandleProps,className:"mb-2",style:{...l.draggableProps.style},children:De.jsx(Hu,{size:"small",hoverable:!0,className:`transform transition-all border-border ${c.isDragging?"shadow-lg rotate-2 scale-105 border-primary":""}`,cover:De.jsx("img",{alt:a.name,src:a.imageUrl,className:"h-32 object-cover"}),children:De.jsx(Hu.Meta,{title:De.jsx("span",{className:"text-text font-medium",children:a.name}),description:De.jsx(u8e,{color:"blue",children:a.type})})})})},a.id)}),o.placeholder]})})})}),De.jsx("div",{className:"w-3/4 overflow-x-auto pb-4",children:De.jsx("div",{className:"flex gap-4",children:t.schedule.map((o,a)=>De.jsx(Hu,{title:De.jsx("span",{className:"text-primary font-heading",children:new Date(o.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),className:"w-[300px] flex-shrink-0 shadow-md border-t-4 border-t-primary",bodyStyle:{padding:"12px",backgroundColor:"#FDF2F8"},children:De.jsxs("div",{className:"flex flex-col gap-1",children:[De.jsx(GA,{session:o.sessions.breakfast,dayIndex:a,period:"breakfast",sessionIndex:0,label:" Breakfast",onUpdateActivity:r}),De.jsx(Sb,{className:"my-2 border-border"}),o.sessions.morning.map((s,l)=>De.jsx(GA,{session:s,dayIndex:a,period:"morning",sessionIndex:l,label:l===0?" Morning":"",canAdd:l===0,onAdd:()=>n(a,"morning"),onUpdateActivity:r},s.id)),De.jsx(Sb,{className:"my-2 border-border"}),De.jsx(GA,{session:o.sessions.lunch,dayIndex:a,period:"lunch",sessionIndex:0,label:" Lunch",onUpdateActivity:r}),De.jsx(Sb,{className:"my-2 border-border"}),o.sessions.afternoon.map((s,l)=>De.jsx(GA,{session:s,dayIndex:a,period:"afternoon",sessionIndex:l,label:l===0?" Afternoon":"",canAdd:l===0,onAdd:()=>n(a,"afternoon"),onUpdateActivity:r},s.id)),De.jsx(Sb,{className:"my-2 border-border"}),De.jsx(GA,{session:o.sessions.dinner,dayIndex:a,period:"dinner",sessionIndex:0,label:" Dinner",onUpdateActivity:r}),De.jsx(Sb,{className:"my-2 border-border"}),o.sessions.night.map((s,l)=>De.jsx(GA,{session:s,dayIndex:a,period:"night",sessionIndex:l,label:l===0?" Night":"",canAdd:l===0,onAdd:()=>n(a,"night"),onUpdateActivity:r},s.id))]})},a))})})]})}):De.jsx("div",{className:"p-8 text-center",children:De.jsx(rge,{className:"text-text-secondary",children:"Please set up flight information to generate a timetable."})}),Pxt=({costEstimation:t})=>De.jsxs("div",{className:"p-4",children:[De.jsx("h2",{className:"text-2xl font-bold mb-4 text-text-primary",children:"Cost Estimation"}),De.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[De.jsxs("div",{children:[De.jsx("h3",{className:"text-xl font-semibold text-text-secondary",children:"Flights"}),De.jsx("ul",{children:t.flights.map((e,n)=>De.jsxs("li",{children:[e.name,": $",e.cost]},n))})]}),De.jsxs("div",{children:[De.jsx("h3",{className:"text-xl font-semibold text-text-secondary",children:"Accommodation"}),De.jsx("ul",{children:t.accommodation.map((e,n)=>De.jsxs("li",{children:[e.name,": $",e.cost]},n))})]}),De.jsxs("div",{children:[De.jsx("h3",{className:"text-xl font-semibold text-text-secondary",children:"Activities"}),De.jsx("ul",{children:t.activities.map((e,n)=>De.jsxs("li",{children:[e.name,": $",e.cost]},n))})]}),De.jsxs("div",{children:[De.jsx("h3",{className:"text-xl font-semibold text-text-secondary",children:"Food"}),De.jsx("ul",{children:t.food.map((e,n)=>De.jsxs("li",{children:[e.name,": $",e.cost]},n))})]}),De.jsxs("div",{children:[De.jsx("h3",{className:"text-xl font-semibold text-text-secondary",children:"Transportation"}),De.jsx("ul",{children:t.transportation.map((e,n)=>De.jsxs("li",{children:[e.name,": $",e.cost]},n))})]})]}),De.jsxs("div",{className:"mt-4 text-2xl font-bold",children:["Total: $",t.total]})]}),Rxt={flights:[{name:"LHR to CDG",cost:250}],accommodation:[{name:"Hotel in Paris (2 nights)",cost:400}],activities:[{name:"Eiffel Tower visit",cost:25},{name:"Louvre Museum visit",cost:17}],food:[{name:"Daily food budget",cost:150}],transportation:[{name:"MTR tickets",cost:20}],total:862},{Title:uL,Text:gZ}=_1,Nxt=(t,e,n)=>[{id:"flight-1",number:"UA-123",from:t||"JFK",to:e||"LHR",departure:"10:00",arrival:"22:00",airline:"United Airlines",price:"$450",date:n},{id:"flight-2",number:"BA-456",from:t||"JFK",to:e||"LHR",departure:"12:00",arrival:"00:00",airline:"British Airways",price:"$520",date:n},{id:"flight-3",number:"AA-789",from:e||"LHR",to:t||"JFK",departure:"11:00",arrival:"14:00",airline:"American Airlines",price:"$480",date:n}],Ixt=({onFlightInfoSubmit:t,initialDestination:e})=>{var C,M,R;const[n]=gl.useForm(),[r,i]=S.useState(!1),[o,a]=S.useState(null),[s,l]=S.useState({}),[c,u]=S.useState({}),[d,f]=S.useState(0),[h,p]=S.useState([]);S.useEffect(()=>{e&&n.setFieldsValue({arrivalTo:e,departureFrom:e});const N=Intl.DateTimeFormat().resolvedOptions().timeZone;let I="New York";N.includes("London")&&(I="London"),N.includes("Tokyo")&&(I="Tokyo"),N.includes("Paris")&&(I="Paris"),n.getFieldValue("arrivalFrom")||n.setFieldsValue({arrivalFrom:I,departureTo:I})},[e,n]);const _=(N,I)=>{var z;const B=I[`${N}From`],D=I[`${N}To`],$=(z=I[`${N}Date`])==null?void 0:z.toISOString();if(!B||!D||!$){m8.error("Please fill in all search fields.");return}u(V=>({...V,[N]:{from:B,to:D,date:$}})),p(Nxt(B,D,$)),a(N),i(!0)},x=N=>{o&&(n.setFieldsValue({[`${o}FlightNumber`]:N.number,[`${o}Airport`]:o==="arrival"?N.to:N.from,[`${o}Time`]:o==="arrival"?N.arrival:N.departure,[`${o}From`]:N.from,[`${o}To`]:N.to,[`${o}Date`]:Qa(N.date)}),l(I=>{const B={...I,[o]:N};return B.arrival&&!B.departure&&d===0&&f(1),B.arrival&&B.departure&&f(2),B})),i(!1)},y=(N,I)=>{if(!N||!I)return new Date().toISOString();const[B,D]=I.split(":").map(Number);return Qa(N).hour(B).minute(D).toISOString()},w=N=>{if(!s.arrival||!s.departure)return;const I=N.arrivalDate,B=N.departureDate,D=y(I,s.arrival.arrival),$=y(I,s.arrival.departure),z=y(B,s.departure.departure),V=y(B,s.departure.arrival),q={arrival:{flightNumber:N.arrivalFlightNumber,departureAirport:s.arrival.from,arrivalAirport:N.arrivalAirport,arrivalTime:D,departureTime:$},departure:{flightNumber:N.departureFlightNumber,departureAirport:N.departureAirport,arrivalAirport:s.departure.to,arrivalTime:V,departureTime:z}};t(q)};return De.jsxs(Px.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto p-8",children:[De.jsxs("div",{className:"flex items-center justify-between mb-8",children:[De.jsxs("div",{children:[De.jsxs(uL,{level:2,className:"font-heading !text-text !mb-2 flex items-center gap-3",children:[De.jsx(Fft,{className:"text-primary w-8 h-8"}),"Flight Details"]}),De.jsx(gZ,{className:"text-text-secondary text-lg",children:"Search and select your flights"})]}),De.jsx("div",{className:"w-1/3",children:De.jsx(J5e,{current:d,items:[{title:"Inbound",description:"Search & Select"},{title:"Outbound",description:"Search & Select"},{title:"Confirm",description:"Generate Plan"}]})})]}),De.jsxs(gl,{form:n,onFinish:w,layout:"vertical",className:"relative",children:[De.jsxs(yR,{gutter:32,children:[De.jsx(qf,{span:12,children:De.jsxs(Px.div,{whileHover:{scale:1.01},className:"bg-white rounded-2xl shadow-lg border border-border overflow-hidden h-full flex flex-col",children:[De.jsxs("div",{className:"bg-primary/5 p-6 border-b border-primary/10 flex justify-between items-center",children:[De.jsxs("div",{className:"flex items-center gap-3",children:[De.jsx("div",{className:"p-2 bg-white rounded-full shadow-sm text-primary",children:De.jsx(VT,{className:"w-5 h-5 rotate-45"})}),De.jsx(uL,{level:4,className:"!m-0 font-heading !text-primary-dark",children:"Inbound Flight"})]}),s.arrival&&De.jsx(CH,{status:"success",text:De.jsx("span",{className:"text-success font-medium",children:"Selected"})})]}),De.jsxs("div",{className:"p-8 flex-1 flex flex-col gap-4",children:[De.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[De.jsx(gl.Item,{name:"arrivalFrom",label:"From",rules:[{required:!0}],children:De.jsx(Bc,{prefix:De.jsx(GT,{className:"w-4 h-4 text-gray-400"}),placeholder:"Origin (e.g. NYC)"})}),De.jsx(gl.Item,{name:"arrivalTo",label:"To",rules:[{required:!0}],children:De.jsx(Bc,{prefix:De.jsx(GT,{className:"w-4 h-4 text-gray-400"}),placeholder:"Dest (e.g. LHR)"})})]}),De.jsx(gl.Item,{label:"Travel Date",name:"arrivalDate",rules:[{required:!0}],children:De.jsx(ij,{className:"w-full h-12 rounded-lg border-gray-300 shadow-sm",suffixIcon:De.jsx(dK,{className:"text-primary w-5 h-5"})})}),De.jsx(Go,{type:"primary",onClick:()=>{n.validateFields(["arrivalFrom","arrivalTo","arrivalDate"]).then(N=>{_("arrival",N)})},className:"w-full h-10 mb-4 bg-primary hover:bg-primary-dark border-none flex items-center justify-center gap-2",icon:De.jsx(Z6,{className:"w-4 h-4"}),children:"Search Inbound Flights"}),De.jsx("div",{className:"border-t border-gray-100 pt-4 mt-2",children:De.jsxs("div",{className:"grid grid-cols-3 gap-4 opacity-75",children:[De.jsx(gl.Item,{name:"arrivalFlightNumber",label:"Flight",children:De.jsx(Bc,{readOnly:!0,className:"h-10 bg-gray-50 font-mono",placeholder:"-"})}),De.jsx(gl.Item,{name:"arrivalAirport",label:"Airport",children:De.jsx(Bc,{readOnly:!0,className:"h-10 bg-gray-50",placeholder:"-"})}),De.jsx(gl.Item,{name:"arrivalTime",label:"Time",children:De.jsx(Bc,{readOnly:!0,className:"h-10 bg-gray-50",placeholder:"-"})})]})})]})]})}),De.jsx(qf,{span:12,children:De.jsxs(Px.div,{whileHover:{scale:1.01},className:"bg-white rounded-2xl shadow-lg border border-border overflow-hidden h-full flex flex-col",children:[De.jsxs("div",{className:"bg-secondary/5 p-6 border-b border-secondary/10 flex justify-between items-center",children:[De.jsxs("div",{className:"flex items-center gap-3",children:[De.jsx("div",{className:"p-2 bg-white rounded-full shadow-sm text-secondary",children:De.jsx(VT,{className:"w-5 h-5 -rotate-45"})}),De.jsx(uL,{level:4,className:"!m-0 font-heading !text-secondary",children:"Outbound Flight"})]}),s.departure&&De.jsx(CH,{status:"success",text:De.jsx("span",{className:"text-success font-medium",children:"Selected"})})]}),De.jsxs("div",{className:"p-8 flex-1 flex flex-col gap-4",children:[De.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[De.jsx(gl.Item,{name:"departureFrom",label:"From",rules:[{required:!0}],children:De.jsx(Bc,{prefix:De.jsx(GT,{className:"w-4 h-4 text-gray-400"}),placeholder:"Origin"})}),De.jsx(gl.Item,{name:"departureTo",label:"To",rules:[{required:!0}],children:De.jsx(Bc,{prefix:De.jsx(GT,{className:"w-4 h-4 text-gray-400"}),placeholder:"Dest"})})]}),De.jsx(gl.Item,{label:"Travel Date",name:"departureDate",rules:[{required:!0}],children:De.jsx(ij,{className:"w-full h-12 rounded-lg border-gray-300 shadow-sm",suffixIcon:De.jsx(dK,{className:"text-secondary w-5 h-5"})})}),De.jsx(Go,{type:"primary",onClick:()=>{n.validateFields(["departureFrom","departureTo","departureDate"]).then(N=>{_("departure",N)})},className:"w-full h-10 mb-4 bg-secondary hover:bg-secondary-dark border-none flex items-center justify-center gap-2",icon:De.jsx(Z6,{className:"w-4 h-4"}),children:"Search Outbound Flights"}),De.jsx("div",{className:"border-t border-gray-100 pt-4 mt-2",children:De.jsxs("div",{className:"grid grid-cols-3 gap-4 opacity-75",children:[De.jsx(gl.Item,{name:"departureFlightNumber",label:"Flight",children:De.jsx(Bc,{readOnly:!0,className:"h-10 bg-gray-50 font-mono",placeholder:"-"})}),De.jsx(gl.Item,{name:"departureAirport",label:"Airport",children:De.jsx(Bc,{readOnly:!0,className:"h-10 bg-gray-50",placeholder:"-"})}),De.jsx(gl.Item,{name:"departureTime",label:"Time",children:De.jsx(Bc,{readOnly:!0,className:"h-10 bg-gray-50",placeholder:"-"})})]})})]})]})})]}),De.jsx(p0t,{children:s.arrival&&s.departure&&De.jsx(Px.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-12 flex justify-end",children:De.jsxs(Go,{type:"primary",htmlType:"submit",size:"large",className:"bg-cta hover:bg-orange-600 border-none h-14 px-12 text-lg font-medium shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all flex items-center gap-2 rounded-full",children:["Generate Timetable ",De.jsx(Dft,{className:"w-5 h-5"})]})})})]}),De.jsxs(zoe,{title:De.jsxs("div",{className:"font-heading text-xl",children:["Select ",o==="arrival"?"Inbound":"Outbound"," Flight",De.jsxs("div",{className:"text-sm font-normal text-gray-500 mt-1",children:[(C=c[o])==null?void 0:C.from," ",De.jsx(VT,{className:"w-3 h-3 inline mx-1"})," ",(M=c[o])==null?void 0:M.to," on ",Qa((R=c[o])==null?void 0:R.date).format("MMM D, YYYY")]})]}),open:r,onCancel:()=>i(!1),footer:null,width:600,className:"rounded-xl overflow-hidden",children:[De.jsx(og,{itemLayout:"vertical",dataSource:h,renderItem:N=>De.jsx(og.Item,{className:"hover:bg-blue-50 transition-colors cursor-pointer rounded-lg px-4 -mx-4 border-b-0 mb-2",onClick:()=>x(N),children:De.jsxs("div",{className:"flex justify-between items-center w-full",children:[De.jsxs("div",{className:"flex flex-col gap-1",children:[De.jsxs("div",{className:"flex items-center gap-2",children:[De.jsx("span",{className:"font-bold text-lg text-text font-mono",children:N.number}),De.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 rounded-full text-gray-600",children:N.airline})]}),De.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[De.jsx("span",{children:N.from}),De.jsx(VT,{className:"w-4 h-4"}),De.jsx("span",{children:N.to})]}),De.jsxs("div",{className:"text-xs text-gray-400",children:["Dep: ",N.departure,"  Arr: ",N.arrival]})]}),De.jsxs("div",{className:"flex flex-col items-end gap-2",children:[De.jsx("span",{className:"font-bold text-xl text-primary",children:N.price}),De.jsx(Go,{type:"primary",size:"small",className:"bg-primary hover:bg-primary-dark shadow-sm",children:"Select"})]})]})})}),De.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg flex items-center gap-3",children:[De.jsxs("div",{className:"relative flex h-3 w-3",children:[De.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),De.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),De.jsx(gZ,{className:"text-xs text-blue-800 font-medium",children:"Live flight data connected via Flightradar24 (Simulation Mode). Real-time prices and delays enabled."})]})]})]})},Wa=[];for(let t=0;t<256;++t)Wa.push((t+256).toString(16).slice(1));function Oxt(t,e=0){return(Wa[t[e+0]]+Wa[t[e+1]]+Wa[t[e+2]]+Wa[t[e+3]]+"-"+Wa[t[e+4]]+Wa[t[e+5]]+"-"+Wa[t[e+6]]+Wa[t[e+7]]+"-"+Wa[t[e+8]]+Wa[t[e+9]]+"-"+Wa[t[e+10]]+Wa[t[e+11]]+Wa[t[e+12]]+Wa[t[e+13]]+Wa[t[e+14]]+Wa[t[e+15]]).toLowerCase()}let dL;const Dxt=new Uint8Array(16);function Lxt(){if(!dL){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");dL=crypto.getRandomValues.bind(crypto)}return dL(Dxt)}const Bxt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),AZ={randomUUID:Bxt};function Fxt(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??Lxt();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(n=n||0,n<0||n+16>e.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let o=0;o<16;++o)e[n+o]=r[o];return e}return Oxt(r)}function ez(t,e,n){return AZ.randomUUID&&!e&&!t?AZ.randomUUID():Fxt(t,e,n)}const f0=t=>({id:ez(),type:t,activities:[]}),$xt=t=>({date:t.toISOString(),sessions:{breakfast:f0("breakfast"),morning:[f0("morning")],lunch:f0("lunch"),afternoon:[f0("afternoon")],dinner:f0("dinner"),night:[f0("night")]}}),kxt=(t,e)=>{const[n,r]=S.useState(t);S.useEffect(()=>{r(t)},[t]);const i=S.useCallback(l=>{const c=new Date(l.arrival.arrivalTime),u=new Date(l.departure.departureTime),d=[];let f=new Date(c.getFullYear(),c.getMonth(),c.getDate());const h=new Date(u.getFullYear(),u.getMonth(),u.getDate());for(;f<=h;)d.push($xt(new Date(f))),f.setDate(f.getDate()+1);const p={flight:l,schedule:d};r(p),e(p)},[e]),o=S.useCallback((l,c)=>{if(!n)return;const u=[...n.schedule];u[l].sessions[c].push(f0(c));const d={...n,schedule:u};r(d),e(d)},[n,e]),a=S.useCallback((l,c,u,d,f)=>{if(!n)return;const h=[...n.schedule],p=h[l].sessions;let _;if(["breakfast","lunch","dinner"].includes(c)?_=p[c]:_=p[c][u],_&&_.activities[d]){_.activities[d]={..._.activities[d],...f};const x={...n,schedule:h};r(x),e(x)}},[n,e]),s=S.useCallback((l,c)=>{if(!l.destination||!n)return;const{source:u,destination:d}=l,f=u.droppableId,h=d.droppableId;if(f==="cart"){const p=c[u.index],[_,x,y]=h.split("-"),w=parseInt(_,10),C=parseInt(y,10),M=[...n.schedule],R=M[w].sessions;let N;["breakfast","lunch","dinner"].includes(x)?N=R[x]:N=R[x][C];const I={id:ez(),title:p.name,location:p.cityId,remarks:"",spotReference:p};N.activities.splice(d.index,0,I);const B={...n,schedule:M};r(B),e(B)}},[n,e]);return{timetable:n,generateTimetableFromFlight:i,addSessionRow:o,updateActivity:a,onDragEnd:s}},{Content:Uxt,Sider:zxt}=_R,{Title:fL}=_1,Ma={MAP_SELECTION:"Map Selection",FLIGHT_INFO:"Flight Info",TIMETABLE_SCHEDULE:"Timetable Schedule",COST_ESTIMATION:"Cost Estimation"},Vxt=({plan:t,onUpdatePlan:e,onBack:n})=>{const[r,i]=S.useState(Ma.MAP_SELECTION),[o,a]=S.useState(null),[s,l]=S.useState(null),c=s?Xgt.filter(w=>w.cityId===s.id):[],u=w=>{const C=t.cart||[];if(C.some(R=>R.id===w.id)){m8.warning(`${w.name} is already in your plan.`);return}const M=[...C,w];e({...t,cart:M}),m8.success(`${w.name} added to plan!`)},{timetable:d,generateTimetableFromFlight:f,addSessionRow:h,updateActivity:p,onDragEnd:_}=kxt(t.timetable,w=>{e({...t,timetable:w})}),x=w=>{f(w),i(Ma.TIMETABLE_SCHEDULE)},y=()=>{switch(r){case Ma.MAP_SELECTION:return De.jsxs(_R,{style:{height:"calc(100vh - 200px)"},className:"bg-surface border border-border rounded-lg overflow-hidden",children:[De.jsxs(Uxt,{className:"overflow-y-auto",children:[De.jsx("div",{className:"p-4",children:De.jsx(_gt,{onSelectCity:l})}),De.jsxs("div",{className:"flex h-[600px] border-t border-border",children:[De.jsx("div",{className:"w-2/3 p-4",children:De.jsx(Wgt,{selectedCity:s,spots:c,onSelectSpot:w=>{a(w),u(w)}})}),De.jsxs("div",{className:"w-1/3 bg-white p-4 overflow-y-auto border-l border-border",children:[De.jsx(fL,{level:4,className:"font-heading !text-primary mb-4",children:s?`Spots in ${s.name}`:"Select a City"}),s?De.jsxs("div",{className:"grid gap-4",children:[c.map(w=>De.jsx(Hu,{hoverable:!0,size:"small",cover:De.jsx("img",{alt:w.name,src:w.imageUrl,className:"h-32 object-cover"}),onClick:()=>a(w),className:`border-border ${(o==null?void 0:o.id)===w.id?"border-primary ring-2 ring-primary/20":""}`,actions:[De.jsx(Go,{type:"link",onClick:()=>u(w),children:"Add to Plan"})],children:De.jsx(Hu.Meta,{title:w.name,description:De.jsx("span",{className:"line-clamp-2",children:w.description})})},w.id)),c.length===0&&De.jsx("p",{className:"text-gray-500",children:"No popular spots listed for this city yet."})]}):De.jsx("div",{className:"text-center py-10 text-gray-400",children:"Use the globe above to select a destination city."})]})]})]}),De.jsxs(zxt,{width:250,theme:"light",style:{overflow:"auto",borderLeft:"1px solid #E2E8F0",padding:"10px"},className:"bg-surface",children:[De.jsx(fL,{level:5,className:"!text-primary font-heading",children:"Your Selection"}),De.jsx(og,{dataSource:t.cart||[],renderItem:w=>De.jsx(og.Item,{children:De.jsx(Hu,{hoverable:!0,size:"small",className:"border-border w-full",cover:De.jsx("img",{alt:w.name,src:w.imageUrl,className:"h-20 object-cover"}),children:De.jsx(Hu.Meta,{title:De.jsx("span",{className:"text-text font-medium",children:w.name})})})})})]})]});case Ma.FLIGHT_INFO:return De.jsx(Ixt,{onFlightInfoSubmit:x,initialDestination:s==null?void 0:s.name});case Ma.TIMETABLE_SCHEDULE:return De.jsx(Mxt,{timetable:d,cart:t.cart||[],onAddSession:h,onUpdateActivity:p,onDragEnd:w=>_(w,t.cart||[])});case Ma.COST_ESTIMATION:return De.jsx(Pxt,{costEstimation:Rxt});default:return null}};return De.jsxs("div",{className:"flex flex-col h-full font-body",children:[De.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[De.jsx(Go,{icon:De.jsx(I6e,{}),onClick:n,className:"border-primary text-primary hover:text-primary-dark",children:"Back to Plans"}),De.jsx(fL,{level:3,style:{margin:0},className:"font-heading !text-text",children:t.title})]}),De.jsxs(yR,{style:{marginBottom:"16px"},gutter:16,children:[De.jsx(qf,{span:6,children:De.jsx(Go,{block:!0,type:r===Ma.MAP_SELECTION?"primary":"default",onClick:()=>i(Ma.MAP_SELECTION),className:r===Ma.MAP_SELECTION?"bg-primary":"",children:"1. Destination"})}),De.jsx(qf,{span:6,children:De.jsx(Go,{block:!0,type:r===Ma.FLIGHT_INFO?"primary":"default",onClick:()=>i(Ma.FLIGHT_INFO),className:r===Ma.FLIGHT_INFO?"bg-primary":"",children:"2. Flights"})}),De.jsx(qf,{span:6,children:De.jsx(Go,{block:!0,type:r===Ma.TIMETABLE_SCHEDULE?"primary":"default",onClick:()=>i(Ma.TIMETABLE_SCHEDULE),className:r===Ma.TIMETABLE_SCHEDULE?"bg-primary":"",children:"3. Schedule"})}),De.jsx(qf,{span:6,children:De.jsx(Go,{block:!0,type:r===Ma.COST_ESTIMATION?"primary":"default",onClick:()=>i(Ma.COST_ESTIMATION),className:r===Ma.COST_ESTIMATION?"bg-primary":"",children:"4. Costs"})})]}),De.jsx("div",{className:"flex-1 overflow-hidden",children:y()})]})};function Gxt(t,e){const[n,r]=S.useState(()=>{try{const o=window.localStorage.getItem(t);return o?JSON.parse(o):e}catch(o){return console.error(o),e}});return[n,o=>{try{const a=o instanceof Function?o(n):o;r(a),window.localStorage.setItem(t,JSON.stringify(a))}catch(a){console.error(a)}}]}const Hxt=()=>{const[t,e]=Gxt("travel-plans",[]),n=S.useCallback(()=>{const o={id:ez(),title:`Trip to somewhere ${t.length+1}`,createdAt:new Date().toISOString(),timetable:null,cart:[]};e(a=>[...a,o])},[t,e]),r=S.useCallback(o=>{e(a=>a.filter(s=>s.id!==o))},[e]),i=S.useCallback(o=>{e(a=>a.map(s=>s.id===o.id?o:s))},[e]);return{plans:t,addPlan:n,deletePlan:r,updatePlan:i}},{Header:jxt,Content:qxt}=_R;function Wxt(){const[t,e]=S.useState(!1),{plans:n,addPlan:r,deletePlan:i,updatePlan:o}=Hxt(),[a,s]=S.useState(null),l=u=>{s(u)},c=()=>{s(null)};return De.jsx(Q2,{theme:{token:{colorPrimary:"#3B82F6",colorText:"#0F172A",fontFamily:"Work Sans, sans-serif",colorBgLayout:"#F0F9FF"},components:{Button:{colorPrimary:"#3B82F6",algorithm:!0},Layout:{headerBg:"#3B82F6"}}},children:De.jsxs(_R,{style:{minHeight:"100vh"},children:[De.jsxs(jxt,{className:"bg-primary flex justify-between items-center px-6 shadow-md z-10",children:[De.jsx("h1",{className:"text-white text-2xl font-heading font-bold m-0 tracking-tight",children:"Travel Planner Pro"}),De.jsx(Go,{type:"primary",icon:De.jsx(F6e,{}),onClick:()=>e(!0),className:"bg-primary-dark border-primary-light hover:bg-primary-light shadow-sm",children:"Notifications"})]}),De.jsx(zoe,{title:"Notifications",open:t,onCancel:()=>e(!1),footer:null,children:De.jsx(H6e,{onClose:()=>e(!1)})}),De.jsx(qxt,{style:{padding:"24px 50px"},children:a?De.jsx(Vxt,{plan:a,onUpdatePlan:u=>{o(u),s(u)},onBack:c}):De.jsx(q6e,{plans:n,onAddPlan:r,onSelectPlan:l,onDeletePlan:i})})]})})}hL.createRoot(document.getElementById("root")).render(De.jsx(Ye.StrictMode,{children:De.jsx(Wxt,{})}));
