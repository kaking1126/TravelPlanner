function PK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NK={exports:{}},h3={},IK={exports:{}},Ur={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2=Symbol.for("react.element"),_0e=Symbol.for("react.portal"),w0e=Symbol.for("react.fragment"),C0e=Symbol.for("react.strict_mode"),T0e=Symbol.for("react.profiler"),E0e=Symbol.for("react.provider"),M0e=Symbol.for("react.context"),R0e=Symbol.for("react.forward_ref"),P0e=Symbol.for("react.suspense"),N0e=Symbol.for("react.memo"),I0e=Symbol.for("react.lazy"),EU=Symbol.iterator;function D0e(t){return t===null||typeof t!="object"?null:(t=EU&&t[EU]||t["@@iterator"],typeof t=="function"?t:null)}var DK={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OK=Object.assign,LK={};function Gv(t,e,n){this.props=t,this.context=e,this.refs=LK,this.updater=n||DK}Gv.prototype.isReactComponent={};Gv.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gv.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BK(){}BK.prototype=Gv.prototype;function S8(t,e,n){this.props=t,this.context=e,this.refs=LK,this.updater=n||DK}var _8=S8.prototype=new BK;_8.constructor=S8;OK(_8,Gv.prototype);_8.isPureReactComponent=!0;var MU=Array.isArray,FK=Object.prototype.hasOwnProperty,w8={current:null},$K={key:!0,ref:!0,__self:!0,__source:!0};function UK(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)FK.call(e,r)&&!$K.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:p2,type:t,key:o,ref:a,props:i,_owner:w8.current}}function O0e(t,e){return{$$typeof:p2,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function C8(t){return typeof t=="object"&&t!==null&&t.$$typeof===p2}function L0e(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var RU=/\/+/g;function _P(t,e){return typeof t=="object"&&t!==null&&t.key!=null?L0e(""+t.key):e.toString(36)}function nC(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case p2:case _0e:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+_P(a,0):r,MU(i)?(n="",t!=null&&(n=t.replace(RU,"$&/")+"/"),nC(i,e,n,"",function(c){return c})):i!=null&&(C8(i)&&(i=O0e(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(RU,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",MU(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+_P(o,s);a+=nC(o,e,n,l,i)}else if(l=D0e(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+_P(o,s++),a+=nC(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function LS(t,e,n){if(t==null)return t;var r=[],i=0;return nC(t,r,"","",function(o){return e.call(n,o,i++)}),r}function B0e(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Is={current:null},rC={transition:null},F0e={ReactCurrentDispatcher:Is,ReactCurrentBatchConfig:rC,ReactCurrentOwner:w8};function kK(){throw Error("act(...) is not supported in production builds of React.")}Ur.Children={map:LS,forEach:function(t,e,n){LS(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return LS(t,function(){e++}),e},toArray:function(t){return LS(t,function(e){return e})||[]},only:function(t){if(!C8(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ur.Component=Gv;Ur.Fragment=w0e;Ur.Profiler=T0e;Ur.PureComponent=S8;Ur.StrictMode=C0e;Ur.Suspense=P0e;Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F0e;Ur.act=kK;Ur.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=OK({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=w8.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)FK.call(e,l)&&!$K.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:p2,type:t.type,key:i,ref:o,props:r,_owner:a}};Ur.createContext=function(t){return t={$$typeof:M0e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:E0e,_context:t},t.Consumer=t};Ur.createElement=UK;Ur.createFactory=function(t){var e=UK.bind(null,t);return e.type=t,e};Ur.createRef=function(){return{current:null}};Ur.forwardRef=function(t){return{$$typeof:R0e,render:t}};Ur.isValidElement=C8;Ur.lazy=function(t){return{$$typeof:I0e,_payload:{_status:-1,_result:t},_init:B0e}};Ur.memo=function(t,e){return{$$typeof:N0e,type:t,compare:e===void 0?null:e}};Ur.startTransition=function(t){var e=rC.transition;rC.transition={};try{t()}finally{rC.transition=e}};Ur.unstable_act=kK;Ur.useCallback=function(t,e){return Is.current.useCallback(t,e)};Ur.useContext=function(t){return Is.current.useContext(t)};Ur.useDebugValue=function(){};Ur.useDeferredValue=function(t){return Is.current.useDeferredValue(t)};Ur.useEffect=function(t,e){return Is.current.useEffect(t,e)};Ur.useId=function(){return Is.current.useId()};Ur.useImperativeHandle=function(t,e,n){return Is.current.useImperativeHandle(t,e,n)};Ur.useInsertionEffect=function(t,e){return Is.current.useInsertionEffect(t,e)};Ur.useLayoutEffect=function(t,e){return Is.current.useLayoutEffect(t,e)};Ur.useMemo=function(t,e){return Is.current.useMemo(t,e)};Ur.useReducer=function(t,e,n){return Is.current.useReducer(t,e,n)};Ur.useRef=function(t){return Is.current.useRef(t)};Ur.useState=function(t){return Is.current.useState(t)};Ur.useSyncExternalStore=function(t,e,n){return Is.current.useSyncExternalStore(t,e,n)};Ur.useTransition=function(){return Is.current.useTransition()};Ur.version="18.3.1";IK.exports=Ur;var S=IK.exports;const je=sl(S),p3=PK({__proto__:null,default:je},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0e=S,U0e=Symbol.for("react.element"),k0e=Symbol.for("react.fragment"),V0e=Object.prototype.hasOwnProperty,z0e=$0e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G0e={key:!0,ref:!0,__self:!0,__source:!0};function VK(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)V0e.call(e,r)&&!G0e.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:U0e,type:t,key:o,ref:a,props:i,_owner:z0e.current}}h3.Fragment=k0e;h3.jsx=VK;h3.jsxs=VK;NK.exports=h3;var De=NK.exports,lD={},zK={exports:{}},Ul={},GK={exports:{}},HK={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,X){var Y=j.length;j.push(X);e:for(;0<Y;){var J=Y-1>>>1,ee=j[J];if(0<i(ee,X))j[J]=X,j[Y]=ee,Y=J;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var X=j[0],Y=j.pop();if(Y!==X){j[0]=Y;e:for(var J=0,ee=j.length,re=ee>>>1;J<re;){var ue=2*(J+1)-1,fe=j[ue],oe=ue+1,ce=j[oe];if(0>i(fe,Y))oe<ee&&0>i(ce,fe)?(j[J]=ce,j[oe]=Y,J=oe):(j[J]=fe,j[ue]=Y,J=ue);else if(oe<ee&&0>i(ce,Y))j[J]=ce,j[oe]=Y,J=oe;else break e}}return X}function i(j,X){var Y=j.sortIndex-X.sortIndex;return Y!==0?Y:j.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(j){for(var X=n(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=j)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(c)}}function E(j){if(x=!1,C(j),!p)if(n(l)!==null)p=!0,z(M);else{var X=n(c);X!==null&&H(E,X.startTime-j)}}function M(j,X){p=!1,x&&(x=!1,y(O),O=-1),h=!0;var Y=f;try{for(C(X),d=n(l);d!==null&&(!(d.expirationTime>X)||j&&!F());){var J=d.callback;if(typeof J=="function"){d.callback=null,f=d.priorityLevel;var ee=J(d.expirationTime<=X);X=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(l)&&r(l),C(X)}else r(l);d=n(l)}if(d!==null)var re=!0;else{var ue=n(c);ue!==null&&H(E,ue.startTime-X),re=!1}return re}finally{d=null,f=Y,h=!1}}var R=!1,N=null,O=-1,I=5,L=-1;function F(){return!(t.unstable_now()-L<I)}function $(){if(N!==null){var j=t.unstable_now();L=j;var X=!0;try{X=N(!0,j)}finally{X?V():(R=!1,N=null)}}else R=!1}var V;if(typeof _=="function")V=function(){_($)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,k=U.port2;U.port1.onmessage=$,V=function(){k.postMessage(null)}}else V=function(){b($,0)};function z(j){N=j,R||(R=!0,V())}function H(j,X){O=b(function(){j(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,z(M))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var Y=f;f=X;try{return j()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,X){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Y=f;f=j;try{return X()}finally{f=Y}},t.unstable_scheduleCallback=function(j,X,Y){var J=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?J+Y:J):Y=J,j){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Y+ee,j={id:u++,callback:X,priorityLevel:j,startTime:Y,expirationTime:ee,sortIndex:-1},Y>J?(j.sortIndex=Y,e(c,j),n(l)===null&&j===n(c)&&(x?(y(O),O=-1):x=!0,H(E,Y-J))):(j.sortIndex=ee,e(l,j),p||h||(p=!0,z(M))),j},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(j){var X=f;return function(){var Y=f;f=X;try{return j.apply(this,arguments)}finally{f=Y}}}})(HK);GK.exports=HK;var H0e=GK.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0e=S,Bl=H0e;function Jt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jK=new Set,Vb={};function c0(t,e){PA(t,e),PA(t+"Capture",e)}function PA(t,e){for(Vb[t]=e,t=0;t<e.length;t++)jK.add(e[t])}var af=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cD=Object.prototype.hasOwnProperty,q0e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PU={},NU={};function W0e(t){return cD.call(NU,t)?!0:cD.call(PU,t)?!1:q0e.test(t)?NU[t]=!0:(PU[t]=!0,!1)}function X0e(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y0e(t,e,n,r){if(e===null||typeof e>"u"||X0e(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ds(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ia={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ia[t]=new Ds(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ia[e]=new Ds(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ia[t]=new Ds(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ia[t]=new Ds(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ia[t]=new Ds(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ia[t]=new Ds(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ia[t]=new Ds(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ia[t]=new Ds(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ia[t]=new Ds(t,5,!1,t.toLowerCase(),null,!1,!1)});var T8=/[\-:]([a-z])/g;function E8(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(T8,E8);Ia[e]=new Ds(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(T8,E8);Ia[e]=new Ds(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(T8,E8);Ia[e]=new Ds(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ia[t]=new Ds(t,1,!1,t.toLowerCase(),null,!1,!1)});Ia.xlinkHref=new Ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ia[t]=new Ds(t,1,!1,t.toLowerCase(),null,!0,!0)});function M8(t,e,n,r){var i=Ia.hasOwnProperty(e)?Ia[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y0e(e,n,i,r)&&(n=null),r||i===null?W0e(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xf=j0e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,BS=Symbol.for("react.element"),Og=Symbol.for("react.portal"),Lg=Symbol.for("react.fragment"),R8=Symbol.for("react.strict_mode"),uD=Symbol.for("react.profiler"),qK=Symbol.for("react.provider"),WK=Symbol.for("react.context"),P8=Symbol.for("react.forward_ref"),dD=Symbol.for("react.suspense"),fD=Symbol.for("react.suspense_list"),N8=Symbol.for("react.memo"),oh=Symbol.for("react.lazy"),XK=Symbol.for("react.offscreen"),IU=Symbol.iterator;function By(t){return t===null||typeof t!="object"?null:(t=IU&&t[IU]||t["@@iterator"],typeof t=="function"?t:null)}var po=Object.assign,wP;function L1(t){if(wP===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wP=e&&e[1]||""}return`
`+wP+t}var CP=!1;function TP(t,e){if(!t||CP)return"";CP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{CP=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?L1(t):""}function K0e(t){switch(t.tag){case 5:return L1(t.type);case 16:return L1("Lazy");case 13:return L1("Suspense");case 19:return L1("SuspenseList");case 0:case 2:case 15:return t=TP(t.type,!1),t;case 11:return t=TP(t.type.render,!1),t;case 1:return t=TP(t.type,!0),t;default:return""}}function hD(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lg:return"Fragment";case Og:return"Portal";case uD:return"Profiler";case R8:return"StrictMode";case dD:return"Suspense";case fD:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WK:return(t.displayName||"Context")+".Consumer";case qK:return(t._context.displayName||"Context")+".Provider";case P8:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N8:return e=t.displayName||null,e!==null?e:hD(t.type)||"Memo";case oh:e=t._payload,t=t._init;try{return hD(t(e))}catch{}}return null}function Q0e(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hD(e);case 8:return e===R8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YK(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z0e(t){var e=YK(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function FS(t){t._valueTracker||(t._valueTracker=Z0e(t))}function KK(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YK(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function QC(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pD(t,e){var n=e.checked;return po({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function DU(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hh(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QK(t,e){e=e.checked,e!=null&&M8(t,"checked",e,!1)}function mD(t,e){QK(t,e);var n=Hh(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gD(t,e.type,n):e.hasOwnProperty("defaultValue")&&gD(t,e.type,Hh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function OU(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gD(t,e,n){(e!=="number"||QC(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var B1=Array.isArray;function lA(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hh(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function AD(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Jt(91));return po({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function LU(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Jt(92));if(B1(n)){if(1<n.length)throw Error(Jt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hh(n)}}function ZK(t,e){var n=Hh(e.value),r=Hh(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function BU(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JK(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vD(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JK(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $S,eQ=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($S=$S||document.createElement("div"),$S.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$S.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zb(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ob={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J0e=["Webkit","ms","Moz","O"];Object.keys(ob).forEach(function(t){J0e.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ob[e]=ob[t]})});function tQ(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ob.hasOwnProperty(t)&&ob[t]?(""+e).trim():e+"px"}function nQ(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tQ(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ege=po({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yD(t,e){if(e){if(ege[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Jt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Jt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Jt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Jt(62))}}function bD(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xD=null;function I8(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var SD=null,cA=null,uA=null;function FU(t){if(t=A2(t)){if(typeof SD!="function")throw Error(Jt(280));var e=t.stateNode;e&&(e=y3(e),SD(t.stateNode,t.type,e))}}function rQ(t){cA?uA?uA.push(t):uA=[t]:cA=t}function iQ(){if(cA){var t=cA,e=uA;if(uA=cA=null,FU(t),e)for(t=0;t<e.length;t++)FU(e[t])}}function oQ(t,e){return t(e)}function aQ(){}var EP=!1;function sQ(t,e,n){if(EP)return t(e,n);EP=!0;try{return oQ(t,e,n)}finally{EP=!1,(cA!==null||uA!==null)&&(aQ(),iQ())}}function Gb(t,e){var n=t.stateNode;if(n===null)return null;var r=y3(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Jt(231,e,typeof n));return n}var _D=!1;if(af)try{var Fy={};Object.defineProperty(Fy,"passive",{get:function(){_D=!0}}),window.addEventListener("test",Fy,Fy),window.removeEventListener("test",Fy,Fy)}catch{_D=!1}function tge(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ab=!1,ZC=null,JC=!1,wD=null,nge={onError:function(t){ab=!0,ZC=t}};function rge(t,e,n,r,i,o,a,s,l){ab=!1,ZC=null,tge.apply(nge,arguments)}function ige(t,e,n,r,i,o,a,s,l){if(rge.apply(this,arguments),ab){if(ab){var c=ZC;ab=!1,ZC=null}else throw Error(Jt(198));JC||(JC=!0,wD=c)}}function u0(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lQ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $U(t){if(u0(t)!==t)throw Error(Jt(188))}function oge(t){var e=t.alternate;if(!e){if(e=u0(t),e===null)throw Error(Jt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $U(i),t;if(o===r)return $U(i),e;o=o.sibling}throw Error(Jt(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Jt(189))}}if(n.alternate!==r)throw Error(Jt(190))}if(n.tag!==3)throw Error(Jt(188));return n.stateNode.current===n?t:e}function cQ(t){return t=oge(t),t!==null?uQ(t):null}function uQ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uQ(t);if(e!==null)return e;t=t.sibling}return null}var dQ=Bl.unstable_scheduleCallback,UU=Bl.unstable_cancelCallback,age=Bl.unstable_shouldYield,sge=Bl.unstable_requestPaint,Co=Bl.unstable_now,lge=Bl.unstable_getCurrentPriorityLevel,D8=Bl.unstable_ImmediatePriority,fQ=Bl.unstable_UserBlockingPriority,eT=Bl.unstable_NormalPriority,cge=Bl.unstable_LowPriority,hQ=Bl.unstable_IdlePriority,m3=null,Ju=null;function uge(t){if(Ju&&typeof Ju.onCommitFiberRoot=="function")try{Ju.onCommitFiberRoot(m3,t,void 0,(t.current.flags&128)===128)}catch{}}var iu=Math.clz32?Math.clz32:hge,dge=Math.log,fge=Math.LN2;function hge(t){return t>>>=0,t===0?32:31-(dge(t)/fge|0)|0}var US=64,kS=4194304;function F1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tT(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=F1(s):(o&=a,o!==0&&(r=F1(o)))}else a=n&~i,a!==0?r=F1(a):o!==0&&(r=F1(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-iu(e),i=1<<n,r|=t[n],e&=~i;return r}function pge(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mge(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-iu(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=pge(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function CD(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pQ(){var t=US;return US<<=1,!(US&4194240)&&(US=64),t}function MP(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function m2(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-iu(e),t[e]=n}function gge(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-iu(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function O8(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-iu(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var vi=0;function mQ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gQ,L8,AQ,vQ,yQ,TD=!1,VS=[],Ch=null,Th=null,Eh=null,Hb=new Map,jb=new Map,ch=[],Age="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kU(t,e){switch(t){case"focusin":case"focusout":Ch=null;break;case"dragenter":case"dragleave":Th=null;break;case"mouseover":case"mouseout":Eh=null;break;case"pointerover":case"pointerout":Hb.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jb.delete(e.pointerId)}}function $y(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=A2(e),e!==null&&L8(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vge(t,e,n,r,i){switch(e){case"focusin":return Ch=$y(Ch,t,e,n,r,i),!0;case"dragenter":return Th=$y(Th,t,e,n,r,i),!0;case"mouseover":return Eh=$y(Eh,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Hb.set(o,$y(Hb.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,jb.set(o,$y(jb.get(o)||null,t,e,n,r,i)),!0}return!1}function bQ(t){var e=dm(t.target);if(e!==null){var n=u0(e);if(n!==null){if(e=n.tag,e===13){if(e=lQ(n),e!==null){t.blockedOn=e,yQ(t.priority,function(){AQ(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function iC(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ED(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xD=r,n.target.dispatchEvent(r),xD=null}else return e=A2(n),e!==null&&L8(e),t.blockedOn=n,!1;e.shift()}return!0}function VU(t,e,n){iC(t)&&n.delete(e)}function yge(){TD=!1,Ch!==null&&iC(Ch)&&(Ch=null),Th!==null&&iC(Th)&&(Th=null),Eh!==null&&iC(Eh)&&(Eh=null),Hb.forEach(VU),jb.forEach(VU)}function Uy(t,e){t.blockedOn===e&&(t.blockedOn=null,TD||(TD=!0,Bl.unstable_scheduleCallback(Bl.unstable_NormalPriority,yge)))}function qb(t){function e(i){return Uy(i,t)}if(0<VS.length){Uy(VS[0],t);for(var n=1;n<VS.length;n++){var r=VS[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ch!==null&&Uy(Ch,t),Th!==null&&Uy(Th,t),Eh!==null&&Uy(Eh,t),Hb.forEach(e),jb.forEach(e),n=0;n<ch.length;n++)r=ch[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ch.length&&(n=ch[0],n.blockedOn===null);)bQ(n),n.blockedOn===null&&ch.shift()}var dA=xf.ReactCurrentBatchConfig,nT=!0;function bge(t,e,n,r){var i=vi,o=dA.transition;dA.transition=null;try{vi=1,B8(t,e,n,r)}finally{vi=i,dA.transition=o}}function xge(t,e,n,r){var i=vi,o=dA.transition;dA.transition=null;try{vi=4,B8(t,e,n,r)}finally{vi=i,dA.transition=o}}function B8(t,e,n,r){if(nT){var i=ED(t,e,n,r);if(i===null)$P(t,e,r,rT,n),kU(t,r);else if(vge(i,t,e,n,r))r.stopPropagation();else if(kU(t,r),e&4&&-1<Age.indexOf(t)){for(;i!==null;){var o=A2(i);if(o!==null&&gQ(o),o=ED(t,e,n,r),o===null&&$P(t,e,r,rT,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else $P(t,e,r,null,n)}}var rT=null;function ED(t,e,n,r){if(rT=null,t=I8(r),t=dm(t),t!==null)if(e=u0(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lQ(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rT=t,null}function xQ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lge()){case D8:return 1;case fQ:return 4;case eT:case cge:return 16;case hQ:return 536870912;default:return 16}default:return 16}}var gh=null,F8=null,oC=null;function SQ(){if(oC)return oC;var t,e=F8,n=e.length,r,i="value"in gh?gh.value:gh.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return oC=i.slice(t,1<r?1-r:void 0)}function aC(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zS(){return!0}function zU(){return!1}function kl(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zS:zU,this.isPropagationStopped=zU,this}return po(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zS)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zS)},persist:function(){},isPersistent:zS}),e}var Hv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$8=kl(Hv),g2=po({},Hv,{view:0,detail:0}),Sge=kl(g2),RP,PP,ky,g3=po({},g2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U8,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ky&&(ky&&t.type==="mousemove"?(RP=t.screenX-ky.screenX,PP=t.screenY-ky.screenY):PP=RP=0,ky=t),RP)},movementY:function(t){return"movementY"in t?t.movementY:PP}}),GU=kl(g3),_ge=po({},g3,{dataTransfer:0}),wge=kl(_ge),Cge=po({},g2,{relatedTarget:0}),NP=kl(Cge),Tge=po({},Hv,{animationName:0,elapsedTime:0,pseudoElement:0}),Ege=kl(Tge),Mge=po({},Hv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rge=kl(Mge),Pge=po({},Hv,{data:0}),HU=kl(Pge),Nge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ige={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oge(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dge[t])?!!e[t]:!1}function U8(){return Oge}var Lge=po({},g2,{key:function(t){if(t.key){var e=Nge[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=aC(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ige[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U8,charCode:function(t){return t.type==="keypress"?aC(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?aC(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bge=kl(Lge),Fge=po({},g3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jU=kl(Fge),$ge=po({},g2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U8}),Uge=kl($ge),kge=po({},Hv,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vge=kl(kge),zge=po({},g3,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gge=kl(zge),Hge=[9,13,27,32],k8=af&&"CompositionEvent"in window,sb=null;af&&"documentMode"in document&&(sb=document.documentMode);var jge=af&&"TextEvent"in window&&!sb,_Q=af&&(!k8||sb&&8<sb&&11>=sb),qU=String.fromCharCode(32),WU=!1;function wQ(t,e){switch(t){case"keyup":return Hge.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CQ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bg=!1;function qge(t,e){switch(t){case"compositionend":return CQ(e);case"keypress":return e.which!==32?null:(WU=!0,qU);case"textInput":return t=e.data,t===qU&&WU?null:t;default:return null}}function Wge(t,e){if(Bg)return t==="compositionend"||!k8&&wQ(t,e)?(t=SQ(),oC=F8=gh=null,Bg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _Q&&e.locale!=="ko"?null:e.data;default:return null}}var Xge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XU(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xge[t.type]:e==="textarea"}function TQ(t,e,n,r){rQ(r),e=iT(e,"onChange"),0<e.length&&(n=new $8("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lb=null,Wb=null;function Yge(t){FQ(t,0)}function A3(t){var e=Ug(t);if(KK(e))return t}function Kge(t,e){if(t==="change")return e}var EQ=!1;if(af){var IP;if(af){var DP="oninput"in document;if(!DP){var YU=document.createElement("div");YU.setAttribute("oninput","return;"),DP=typeof YU.oninput=="function"}IP=DP}else IP=!1;EQ=IP&&(!document.documentMode||9<document.documentMode)}function KU(){lb&&(lb.detachEvent("onpropertychange",MQ),Wb=lb=null)}function MQ(t){if(t.propertyName==="value"&&A3(Wb)){var e=[];TQ(e,Wb,t,I8(t)),sQ(Yge,e)}}function Qge(t,e,n){t==="focusin"?(KU(),lb=e,Wb=n,lb.attachEvent("onpropertychange",MQ)):t==="focusout"&&KU()}function Zge(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return A3(Wb)}function Jge(t,e){if(t==="click")return A3(e)}function eAe(t,e){if(t==="input"||t==="change")return A3(e)}function tAe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var du=typeof Object.is=="function"?Object.is:tAe;function Xb(t,e){if(du(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cD.call(e,i)||!du(t[i],e[i]))return!1}return!0}function QU(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ZU(t,e){var n=QU(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=QU(n)}}function RQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PQ(){for(var t=window,e=QC();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=QC(t.document)}return e}function V8(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nAe(t){var e=PQ(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RQ(n.ownerDocument.documentElement,n)){if(r!==null&&V8(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ZU(n,o);var a=ZU(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rAe=af&&"documentMode"in document&&11>=document.documentMode,Fg=null,MD=null,cb=null,RD=!1;function JU(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;RD||Fg==null||Fg!==QC(r)||(r=Fg,"selectionStart"in r&&V8(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cb&&Xb(cb,r)||(cb=r,r=iT(MD,"onSelect"),0<r.length&&(e=new $8("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fg)))}function GS(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $g={animationend:GS("Animation","AnimationEnd"),animationiteration:GS("Animation","AnimationIteration"),animationstart:GS("Animation","AnimationStart"),transitionend:GS("Transition","TransitionEnd")},OP={},NQ={};af&&(NQ=document.createElement("div").style,"AnimationEvent"in window||(delete $g.animationend.animation,delete $g.animationiteration.animation,delete $g.animationstart.animation),"TransitionEvent"in window||delete $g.transitionend.transition);function v3(t){if(OP[t])return OP[t];if(!$g[t])return t;var e=$g[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NQ)return OP[t]=e[n];return t}var IQ=v3("animationend"),DQ=v3("animationiteration"),OQ=v3("animationstart"),LQ=v3("transitionend"),BQ=new Map,ek="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function op(t,e){BQ.set(t,e),c0(e,[t])}for(var LP=0;LP<ek.length;LP++){var BP=ek[LP],iAe=BP.toLowerCase(),oAe=BP[0].toUpperCase()+BP.slice(1);op(iAe,"on"+oAe)}op(IQ,"onAnimationEnd");op(DQ,"onAnimationIteration");op(OQ,"onAnimationStart");op("dblclick","onDoubleClick");op("focusin","onFocus");op("focusout","onBlur");op(LQ,"onTransitionEnd");PA("onMouseEnter",["mouseout","mouseover"]);PA("onMouseLeave",["mouseout","mouseover"]);PA("onPointerEnter",["pointerout","pointerover"]);PA("onPointerLeave",["pointerout","pointerover"]);c0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));c0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));c0("onBeforeInput",["compositionend","keypress","textInput","paste"]);c0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));c0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));c0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aAe=new Set("cancel close invalid load scroll toggle".split(" ").concat($1));function tk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ige(r,e,void 0,t),t.currentTarget=null}function FQ(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;tk(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;tk(i,s,c),o=l}}}if(JC)throw t=wD,JC=!1,wD=null,t}function ki(t,e){var n=e[OD];n===void 0&&(n=e[OD]=new Set);var r=t+"__bubble";n.has(r)||($Q(e,t,2,!1),n.add(r))}function FP(t,e,n){var r=0;e&&(r|=4),$Q(n,t,r,e)}var HS="_reactListening"+Math.random().toString(36).slice(2);function Yb(t){if(!t[HS]){t[HS]=!0,jK.forEach(function(n){n!=="selectionchange"&&(aAe.has(n)||FP(n,!1,t),FP(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[HS]||(e[HS]=!0,FP("selectionchange",!1,e))}}function $Q(t,e,n,r){switch(xQ(e)){case 1:var i=bge;break;case 4:i=xge;break;default:i=B8}n=i.bind(null,e,n,t),i=void 0,!_D||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $P(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=dm(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}sQ(function(){var c=o,u=I8(n),d=[];e:{var f=BQ.get(t);if(f!==void 0){var h=$8,p=t;switch(t){case"keypress":if(aC(n)===0)break e;case"keydown":case"keyup":h=Bge;break;case"focusin":p="focus",h=NP;break;case"focusout":p="blur",h=NP;break;case"beforeblur":case"afterblur":h=NP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=GU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=wge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Uge;break;case IQ:case DQ:case OQ:h=Ege;break;case LQ:h=Vge;break;case"scroll":h=Sge;break;case"wheel":h=Gge;break;case"copy":case"cut":case"paste":h=Rge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=jU}var x=(e&4)!==0,b=!x&&t==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var _=c,C;_!==null;){C=_;var E=C.stateNode;if(C.tag===5&&E!==null&&(C=E,y!==null&&(E=Gb(_,y),E!=null&&x.push(Kb(_,E,C)))),b)break;_=_.return}0<x.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==xD&&(p=n.relatedTarget||n.fromElement)&&(dm(p)||p[sf]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?dm(p):null,p!==null&&(b=u0(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(x=GU,E="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=jU,E="onPointerLeave",y="onPointerEnter",_="pointer"),b=h==null?f:Ug(h),C=p==null?f:Ug(p),f=new x(E,_+"leave",h,n,u),f.target=b,f.relatedTarget=C,E=null,dm(u)===c&&(x=new x(y,_+"enter",p,n,u),x.target=C,x.relatedTarget=b,E=x),b=E,h&&p)t:{for(x=h,y=p,_=0,C=x;C;C=B0(C))_++;for(C=0,E=y;E;E=B0(E))C++;for(;0<_-C;)x=B0(x),_--;for(;0<C-_;)y=B0(y),C--;for(;_--;){if(x===y||y!==null&&x===y.alternate)break t;x=B0(x),y=B0(y)}x=null}else x=null;h!==null&&nk(d,f,h,x,!1),p!==null&&b!==null&&nk(d,b,p,x,!0)}}e:{if(f=c?Ug(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var M=Kge;else if(XU(f))if(EQ)M=eAe;else{M=Zge;var R=Qge}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=Jge);if(M&&(M=M(t,c))){TQ(d,M,n,u);break e}R&&R(t,f,c),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&gD(f,"number",f.value)}switch(R=c?Ug(c):window,t){case"focusin":(XU(R)||R.contentEditable==="true")&&(Fg=R,MD=c,cb=null);break;case"focusout":cb=MD=Fg=null;break;case"mousedown":RD=!0;break;case"contextmenu":case"mouseup":case"dragend":RD=!1,JU(d,n,u);break;case"selectionchange":if(rAe)break;case"keydown":case"keyup":JU(d,n,u)}var N;if(k8)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Bg?wQ(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(_Q&&n.locale!=="ko"&&(Bg||O!=="onCompositionStart"?O==="onCompositionEnd"&&Bg&&(N=SQ()):(gh=u,F8="value"in gh?gh.value:gh.textContent,Bg=!0)),R=iT(c,O),0<R.length&&(O=new HU(O,t,null,n,u),d.push({event:O,listeners:R}),N?O.data=N:(N=CQ(n),N!==null&&(O.data=N)))),(N=jge?qge(t,n):Wge(t,n))&&(c=iT(c,"onBeforeInput"),0<c.length&&(u=new HU("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=N))}FQ(d,e)})}function Kb(t,e,n){return{instance:t,listener:e,currentTarget:n}}function iT(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Gb(t,n),o!=null&&r.unshift(Kb(t,o,i)),o=Gb(t,e),o!=null&&r.push(Kb(t,o,i))),t=t.return}return r}function B0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nk(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Gb(n,o),l!=null&&a.unshift(Kb(n,l,s))):i||(l=Gb(n,o),l!=null&&a.push(Kb(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var sAe=/\r\n?/g,lAe=/\u0000|\uFFFD/g;function rk(t){return(typeof t=="string"?t:""+t).replace(sAe,`
`).replace(lAe,"")}function jS(t,e,n){if(e=rk(e),rk(t)!==e&&n)throw Error(Jt(425))}function oT(){}var PD=null,ND=null;function ID(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var DD=typeof setTimeout=="function"?setTimeout:void 0,cAe=typeof clearTimeout=="function"?clearTimeout:void 0,ik=typeof Promise=="function"?Promise:void 0,uAe=typeof queueMicrotask=="function"?queueMicrotask:typeof ik<"u"?function(t){return ik.resolve(null).then(t).catch(dAe)}:DD;function dAe(t){setTimeout(function(){throw t})}function UP(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qb(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qb(e)}function Mh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ok(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jv=Math.random().toString(36).slice(2),qu="__reactFiber$"+jv,Qb="__reactProps$"+jv,sf="__reactContainer$"+jv,OD="__reactEvents$"+jv,fAe="__reactListeners$"+jv,hAe="__reactHandles$"+jv;function dm(t){var e=t[qu];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sf]||n[qu]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ok(t);t!==null;){if(n=t[qu])return n;t=ok(t)}return e}t=n,n=t.parentNode}return null}function A2(t){return t=t[qu]||t[sf],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ug(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Jt(33))}function y3(t){return t[Qb]||null}var LD=[],kg=-1;function ap(t){return{current:t}}function zi(t){0>kg||(t.current=LD[kg],LD[kg]=null,kg--)}function Bi(t,e){kg++,LD[kg]=t.current,t.current=e}var jh={},rs=ap(jh),el=ap(!1),Bm=jh;function NA(t,e){var n=t.type.contextTypes;if(!n)return jh;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tl(t){return t=t.childContextTypes,t!=null}function aT(){zi(el),zi(rs)}function ak(t,e,n){if(rs.current!==jh)throw Error(Jt(168));Bi(rs,e),Bi(el,n)}function UQ(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Jt(108,Q0e(t)||"Unknown",i));return po({},n,r)}function sT(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jh,Bm=rs.current,Bi(rs,t),Bi(el,el.current),!0}function sk(t,e,n){var r=t.stateNode;if(!r)throw Error(Jt(169));n?(t=UQ(t,e,Bm),r.__reactInternalMemoizedMergedChildContext=t,zi(el),zi(rs),Bi(rs,t)):zi(el),Bi(el,n)}var Bd=null,b3=!1,kP=!1;function kQ(t){Bd===null?Bd=[t]:Bd.push(t)}function pAe(t){b3=!0,kQ(t)}function sp(){if(!kP&&Bd!==null){kP=!0;var t=0,e=vi;try{var n=Bd;for(vi=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bd=null,b3=!1}catch(i){throw Bd!==null&&(Bd=Bd.slice(t+1)),dQ(D8,sp),i}finally{vi=e,kP=!1}}return null}var Vg=[],zg=0,lT=null,cT=0,rc=[],ic=0,Fm=null,Gd=1,Hd="";function Xp(t,e){Vg[zg++]=cT,Vg[zg++]=lT,lT=t,cT=e}function VQ(t,e,n){rc[ic++]=Gd,rc[ic++]=Hd,rc[ic++]=Fm,Fm=t;var r=Gd;t=Hd;var i=32-iu(r)-1;r&=~(1<<i),n+=1;var o=32-iu(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Gd=1<<32-iu(e)+i|n<<i|r,Hd=o+t}else Gd=1<<o|n<<i|r,Hd=t}function z8(t){t.return!==null&&(Xp(t,1),VQ(t,1,0))}function G8(t){for(;t===lT;)lT=Vg[--zg],Vg[zg]=null,cT=Vg[--zg],Vg[zg]=null;for(;t===Fm;)Fm=rc[--ic],rc[ic]=null,Hd=rc[--ic],rc[ic]=null,Gd=rc[--ic],rc[ic]=null}var Pl=null,El=null,Yi=!1,Xc=null;function zQ(t,e){var n=ac(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pl=t,El=Mh(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pl=t,El=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fm!==null?{id:Gd,overflow:Hd}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ac(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pl=t,El=null,!0):!1;default:return!1}}function BD(t){return(t.mode&1)!==0&&(t.flags&128)===0}function FD(t){if(Yi){var e=El;if(e){var n=e;if(!lk(t,e)){if(BD(t))throw Error(Jt(418));e=Mh(n.nextSibling);var r=Pl;e&&lk(t,e)?zQ(r,n):(t.flags=t.flags&-4097|2,Yi=!1,Pl=t)}}else{if(BD(t))throw Error(Jt(418));t.flags=t.flags&-4097|2,Yi=!1,Pl=t}}}function ck(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pl=t}function qS(t){if(t!==Pl)return!1;if(!Yi)return ck(t),Yi=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ID(t.type,t.memoizedProps)),e&&(e=El)){if(BD(t))throw GQ(),Error(Jt(418));for(;e;)zQ(t,e),e=Mh(e.nextSibling)}if(ck(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Jt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){El=Mh(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}El=null}}else El=Pl?Mh(t.stateNode.nextSibling):null;return!0}function GQ(){for(var t=El;t;)t=Mh(t.nextSibling)}function IA(){El=Pl=null,Yi=!1}function H8(t){Xc===null?Xc=[t]:Xc.push(t)}var mAe=xf.ReactCurrentBatchConfig;function Vy(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Jt(309));var r=n.stateNode}if(!r)throw Error(Jt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Jt(284));if(!n._owner)throw Error(Jt(290,t))}return t}function WS(t,e){throw t=Object.prototype.toString.call(e),Error(Jt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uk(t){var e=t._init;return e(t._payload)}function HQ(t){function e(y,_){if(t){var C=y.deletions;C===null?(y.deletions=[_],y.flags|=16):C.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=Ih(y,_),y.index=0,y.sibling=null,y}function o(y,_,C){return y.index=C,t?(C=y.alternate,C!==null?(C=C.index,C<_?(y.flags|=2,_):C):(y.flags|=2,_)):(y.flags|=1048576,_)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,_,C,E){return _===null||_.tag!==6?(_=WP(C,y.mode,E),_.return=y,_):(_=i(_,C),_.return=y,_)}function l(y,_,C,E){var M=C.type;return M===Lg?u(y,_,C.props.children,E,C.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===oh&&uk(M)===_.type)?(E=i(_,C.props),E.ref=Vy(y,_,C),E.return=y,E):(E=hC(C.type,C.key,C.props,null,y.mode,E),E.ref=Vy(y,_,C),E.return=y,E)}function c(y,_,C,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=XP(C,y.mode,E),_.return=y,_):(_=i(_,C.children||[]),_.return=y,_)}function u(y,_,C,E,M){return _===null||_.tag!==7?(_=Em(C,y.mode,E,M),_.return=y,_):(_=i(_,C),_.return=y,_)}function d(y,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=WP(""+_,y.mode,C),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case BS:return C=hC(_.type,_.key,_.props,null,y.mode,C),C.ref=Vy(y,null,_),C.return=y,C;case Og:return _=XP(_,y.mode,C),_.return=y,_;case oh:var E=_._init;return d(y,E(_._payload),C)}if(B1(_)||By(_))return _=Em(_,y.mode,C,null),_.return=y,_;WS(y,_)}return null}function f(y,_,C,E){var M=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return M!==null?null:s(y,_,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case BS:return C.key===M?l(y,_,C,E):null;case Og:return C.key===M?c(y,_,C,E):null;case oh:return M=C._init,f(y,_,M(C._payload),E)}if(B1(C)||By(C))return M!==null?null:u(y,_,C,E,null);WS(y,C)}return null}function h(y,_,C,E,M){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(C)||null,s(_,y,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case BS:return y=y.get(E.key===null?C:E.key)||null,l(_,y,E,M);case Og:return y=y.get(E.key===null?C:E.key)||null,c(_,y,E,M);case oh:var R=E._init;return h(y,_,C,R(E._payload),M)}if(B1(E)||By(E))return y=y.get(C)||null,u(_,y,E,M,null);WS(_,E)}return null}function p(y,_,C,E){for(var M=null,R=null,N=_,O=_=0,I=null;N!==null&&O<C.length;O++){N.index>O?(I=N,N=null):I=N.sibling;var L=f(y,N,C[O],E);if(L===null){N===null&&(N=I);break}t&&N&&L.alternate===null&&e(y,N),_=o(L,_,O),R===null?M=L:R.sibling=L,R=L,N=I}if(O===C.length)return n(y,N),Yi&&Xp(y,O),M;if(N===null){for(;O<C.length;O++)N=d(y,C[O],E),N!==null&&(_=o(N,_,O),R===null?M=N:R.sibling=N,R=N);return Yi&&Xp(y,O),M}for(N=r(y,N);O<C.length;O++)I=h(N,y,O,C[O],E),I!==null&&(t&&I.alternate!==null&&N.delete(I.key===null?O:I.key),_=o(I,_,O),R===null?M=I:R.sibling=I,R=I);return t&&N.forEach(function(F){return e(y,F)}),Yi&&Xp(y,O),M}function x(y,_,C,E){var M=By(C);if(typeof M!="function")throw Error(Jt(150));if(C=M.call(C),C==null)throw Error(Jt(151));for(var R=M=null,N=_,O=_=0,I=null,L=C.next();N!==null&&!L.done;O++,L=C.next()){N.index>O?(I=N,N=null):I=N.sibling;var F=f(y,N,L.value,E);if(F===null){N===null&&(N=I);break}t&&N&&F.alternate===null&&e(y,N),_=o(F,_,O),R===null?M=F:R.sibling=F,R=F,N=I}if(L.done)return n(y,N),Yi&&Xp(y,O),M;if(N===null){for(;!L.done;O++,L=C.next())L=d(y,L.value,E),L!==null&&(_=o(L,_,O),R===null?M=L:R.sibling=L,R=L);return Yi&&Xp(y,O),M}for(N=r(y,N);!L.done;O++,L=C.next())L=h(N,y,O,L.value,E),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?O:L.key),_=o(L,_,O),R===null?M=L:R.sibling=L,R=L);return t&&N.forEach(function($){return e(y,$)}),Yi&&Xp(y,O),M}function b(y,_,C,E){if(typeof C=="object"&&C!==null&&C.type===Lg&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case BS:e:{for(var M=C.key,R=_;R!==null;){if(R.key===M){if(M=C.type,M===Lg){if(R.tag===7){n(y,R.sibling),_=i(R,C.props.children),_.return=y,y=_;break e}}else if(R.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===oh&&uk(M)===R.type){n(y,R.sibling),_=i(R,C.props),_.ref=Vy(y,R,C),_.return=y,y=_;break e}n(y,R);break}else e(y,R);R=R.sibling}C.type===Lg?(_=Em(C.props.children,y.mode,E,C.key),_.return=y,y=_):(E=hC(C.type,C.key,C.props,null,y.mode,E),E.ref=Vy(y,_,C),E.return=y,y=E)}return a(y);case Og:e:{for(R=C.key;_!==null;){if(_.key===R)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(y,_.sibling),_=i(_,C.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=XP(C,y.mode,E),_.return=y,y=_}return a(y);case oh:return R=C._init,b(y,_,R(C._payload),E)}if(B1(C))return p(y,_,C,E);if(By(C))return x(y,_,C,E);WS(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,C),_.return=y,y=_):(n(y,_),_=WP(C,y.mode,E),_.return=y,y=_),a(y)):n(y,_)}return b}var DA=HQ(!0),jQ=HQ(!1),uT=ap(null),dT=null,Gg=null,j8=null;function q8(){j8=Gg=dT=null}function W8(t){var e=uT.current;zi(uT),t._currentValue=e}function $D(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fA(t,e){dT=t,j8=Gg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(js=!0),t.firstContext=null)}function vc(t){var e=t._currentValue;if(j8!==t)if(t={context:t,memoizedValue:e,next:null},Gg===null){if(dT===null)throw Error(Jt(308));Gg=t,dT.dependencies={lanes:0,firstContext:t}}else Gg=Gg.next=t;return e}var fm=null;function X8(t){fm===null?fm=[t]:fm.push(t)}function qQ(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,X8(e)):(n.next=i.next,i.next=n),e.interleaved=n,lf(t,r)}function lf(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ah=!1;function Y8(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yd(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rh(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Yr&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,lf(t,n)}return i=r.interleaved,i===null?(e.next=e,X8(r)):(e.next=i.next,i.next=e),r.interleaved=e,lf(t,n)}function sC(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,O8(t,n)}}function dk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fT(t,e,n,r){var i=t.updateQueue;ah=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,u=c=l=null,s=o;do{var f=s.lane,h=s.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=t,x=s;switch(f=e,h=n,x.tag){case 1:if(p=x.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=po({},d,f);break e;case 2:ah=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Um|=a,t.lanes=a,t.memoizedState=d}}function fk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Jt(191,i));i.call(r)}}}var v2={},ed=ap(v2),Zb=ap(v2),Jb=ap(v2);function hm(t){if(t===v2)throw Error(Jt(174));return t}function K8(t,e){switch(Bi(Jb,e),Bi(Zb,t),Bi(ed,v2),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vD(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vD(e,t)}zi(ed),Bi(ed,e)}function OA(){zi(ed),zi(Zb),zi(Jb)}function XQ(t){hm(Jb.current);var e=hm(ed.current),n=vD(e,t.type);e!==n&&(Bi(Zb,t),Bi(ed,n))}function Q8(t){Zb.current===t&&(zi(ed),zi(Zb))}var lo=ap(0);function hT(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var VP=[];function Z8(){for(var t=0;t<VP.length;t++)VP[t]._workInProgressVersionPrimary=null;VP.length=0}var lC=xf.ReactCurrentDispatcher,zP=xf.ReactCurrentBatchConfig,$m=0,ho=null,Ho=null,oa=null,pT=!1,ub=!1,ex=0,gAe=0;function ka(){throw Error(Jt(321))}function J8(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!du(t[n],e[n]))return!1;return!0}function eL(t,e,n,r,i,o){if($m=o,ho=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lC.current=t===null||t.memoizedState===null?bAe:xAe,t=n(r,i),ub){o=0;do{if(ub=!1,ex=0,25<=o)throw Error(Jt(301));o+=1,oa=Ho=null,e.updateQueue=null,lC.current=SAe,t=n(r,i)}while(ub)}if(lC.current=mT,e=Ho!==null&&Ho.next!==null,$m=0,oa=Ho=ho=null,pT=!1,e)throw Error(Jt(300));return t}function tL(){var t=ex!==0;return ex=0,t}function Vu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oa===null?ho.memoizedState=oa=t:oa=oa.next=t,oa}function yc(){if(Ho===null){var t=ho.alternate;t=t!==null?t.memoizedState:null}else t=Ho.next;var e=oa===null?ho.memoizedState:oa.next;if(e!==null)oa=e,Ho=t;else{if(t===null)throw Error(Jt(310));Ho=t,t={memoizedState:Ho.memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},oa===null?ho.memoizedState=oa=t:oa=oa.next=t}return oa}function tx(t,e){return typeof e=="function"?e(t):e}function GP(t){var e=yc(),n=e.queue;if(n===null)throw Error(Jt(311));n.lastRenderedReducer=t;var r=Ho,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if(($m&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,ho.lanes|=u,Um|=u}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,du(r,e.memoizedState)||(js=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ho.lanes|=o,Um|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function HP(t){var e=yc(),n=e.queue;if(n===null)throw Error(Jt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);du(o,e.memoizedState)||(js=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function YQ(){}function KQ(t,e){var n=ho,r=yc(),i=e(),o=!du(r.memoizedState,i);if(o&&(r.memoizedState=i,js=!0),r=r.queue,nL(JQ.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||oa!==null&&oa.memoizedState.tag&1){if(n.flags|=2048,nx(9,ZQ.bind(null,n,r,i,e),void 0,null),ca===null)throw Error(Jt(349));$m&30||QQ(n,e,i)}return i}function QQ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ho.updateQueue,e===null?(e={lastEffect:null,stores:null},ho.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZQ(t,e,n,r){e.value=n,e.getSnapshot=r,eZ(e)&&tZ(t)}function JQ(t,e,n){return n(function(){eZ(e)&&tZ(t)})}function eZ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!du(t,n)}catch{return!0}}function tZ(t){var e=lf(t,1);e!==null&&ou(e,t,1,-1)}function hk(t){var e=Vu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tx,lastRenderedState:t},e.queue=t,t=t.dispatch=yAe.bind(null,ho,t),[e.memoizedState,t]}function nx(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ho.updateQueue,e===null?(e={lastEffect:null,stores:null},ho.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nZ(){return yc().memoizedState}function cC(t,e,n,r){var i=Vu();ho.flags|=t,i.memoizedState=nx(1|e,n,void 0,r===void 0?null:r)}function x3(t,e,n,r){var i=yc();r=r===void 0?null:r;var o=void 0;if(Ho!==null){var a=Ho.memoizedState;if(o=a.destroy,r!==null&&J8(r,a.deps)){i.memoizedState=nx(e,n,o,r);return}}ho.flags|=t,i.memoizedState=nx(1|e,n,o,r)}function pk(t,e){return cC(8390656,8,t,e)}function nL(t,e){return x3(2048,8,t,e)}function rZ(t,e){return x3(4,2,t,e)}function iZ(t,e){return x3(4,4,t,e)}function oZ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aZ(t,e,n){return n=n!=null?n.concat([t]):null,x3(4,4,oZ.bind(null,e,t),n)}function rL(){}function sZ(t,e){var n=yc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&J8(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lZ(t,e){var n=yc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&J8(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cZ(t,e,n){return $m&21?(du(n,e)||(n=pQ(),ho.lanes|=n,Um|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,js=!0),t.memoizedState=n)}function AAe(t,e){var n=vi;vi=n!==0&&4>n?n:4,t(!0);var r=zP.transition;zP.transition={};try{t(!1),e()}finally{vi=n,zP.transition=r}}function uZ(){return yc().memoizedState}function vAe(t,e,n){var r=Nh(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dZ(t))fZ(e,n);else if(n=qQ(t,e,n,r),n!==null){var i=Es();ou(n,t,r,i),hZ(n,e,r)}}function yAe(t,e,n){var r=Nh(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dZ(t))fZ(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,du(s,a)){var l=e.interleaved;l===null?(i.next=i,X8(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=qQ(t,e,i,r),n!==null&&(i=Es(),ou(n,t,r,i),hZ(n,e,r))}}function dZ(t){var e=t.alternate;return t===ho||e!==null&&e===ho}function fZ(t,e){ub=pT=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hZ(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,O8(t,n)}}var mT={readContext:vc,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},bAe={readContext:vc,useCallback:function(t,e){return Vu().memoizedState=[t,e===void 0?null:e],t},useContext:vc,useEffect:pk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cC(4194308,4,oZ.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cC(4194308,4,t,e)},useInsertionEffect:function(t,e){return cC(4,2,t,e)},useMemo:function(t,e){var n=Vu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vu();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vAe.bind(null,ho,t),[r.memoizedState,t]},useRef:function(t){var e=Vu();return t={current:t},e.memoizedState=t},useState:hk,useDebugValue:rL,useDeferredValue:function(t){return Vu().memoizedState=t},useTransition:function(){var t=hk(!1),e=t[0];return t=AAe.bind(null,t[1]),Vu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ho,i=Vu();if(Yi){if(n===void 0)throw Error(Jt(407));n=n()}else{if(n=e(),ca===null)throw Error(Jt(349));$m&30||QQ(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,pk(JQ.bind(null,r,o,t),[t]),r.flags|=2048,nx(9,ZQ.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Vu(),e=ca.identifierPrefix;if(Yi){var n=Hd,r=Gd;n=(r&~(1<<32-iu(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ex++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gAe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xAe={readContext:vc,useCallback:sZ,useContext:vc,useEffect:nL,useImperativeHandle:aZ,useInsertionEffect:rZ,useLayoutEffect:iZ,useMemo:lZ,useReducer:GP,useRef:nZ,useState:function(){return GP(tx)},useDebugValue:rL,useDeferredValue:function(t){var e=yc();return cZ(e,Ho.memoizedState,t)},useTransition:function(){var t=GP(tx)[0],e=yc().memoizedState;return[t,e]},useMutableSource:YQ,useSyncExternalStore:KQ,useId:uZ,unstable_isNewReconciler:!1},SAe={readContext:vc,useCallback:sZ,useContext:vc,useEffect:nL,useImperativeHandle:aZ,useInsertionEffect:rZ,useLayoutEffect:iZ,useMemo:lZ,useReducer:HP,useRef:nZ,useState:function(){return HP(tx)},useDebugValue:rL,useDeferredValue:function(t){var e=yc();return Ho===null?e.memoizedState=t:cZ(e,Ho.memoizedState,t)},useTransition:function(){var t=HP(tx)[0],e=yc().memoizedState;return[t,e]},useMutableSource:YQ,useSyncExternalStore:KQ,useId:uZ,unstable_isNewReconciler:!1};function jc(t,e){if(t&&t.defaultProps){e=po({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function UD(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:po({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var S3={isMounted:function(t){return(t=t._reactInternals)?u0(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Es(),i=Nh(t),o=Yd(r,i);o.payload=e,n!=null&&(o.callback=n),e=Rh(t,o,i),e!==null&&(ou(e,t,i,r),sC(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Es(),i=Nh(t),o=Yd(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Rh(t,o,i),e!==null&&(ou(e,t,i,r),sC(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Es(),r=Nh(t),i=Yd(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rh(t,i,r),e!==null&&(ou(e,t,r,n),sC(e,t,r))}};function mk(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Xb(n,r)||!Xb(i,o):!0}function pZ(t,e,n){var r=!1,i=jh,o=e.contextType;return typeof o=="object"&&o!==null?o=vc(o):(i=tl(e)?Bm:rs.current,r=e.contextTypes,o=(r=r!=null)?NA(t,i):jh),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=S3,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function gk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&S3.enqueueReplaceState(e,e.state,null)}function kD(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Y8(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=vc(o):(o=tl(e)?Bm:rs.current,i.context=NA(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(UD(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&S3.enqueueReplaceState(i,i.state,null),fT(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function LA(t,e){try{var n="",r=e;do n+=K0e(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function jP(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function VD(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _Ae=typeof WeakMap=="function"?WeakMap:Map;function mZ(t,e,n){n=Yd(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){AT||(AT=!0,QD=r),VD(t,e)},n}function gZ(t,e,n){n=Yd(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){VD(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){VD(t,e),typeof r!="function"&&(Ph===null?Ph=new Set([this]):Ph.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Ak(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _Ae;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FAe.bind(null,t,e,n),e.then(t,t))}function vk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yk(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yd(-1,1),e.tag=2,Rh(n,e,1))),n.lanes|=1),t)}var wAe=xf.ReactCurrentOwner,js=!1;function ms(t,e,n,r){e.child=t===null?jQ(e,null,n,r):DA(e,t.child,n,r)}function bk(t,e,n,r,i){n=n.render;var o=e.ref;return fA(e,i),r=eL(t,e,n,r,o,i),n=tL(),t!==null&&!js?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cf(t,e,i)):(Yi&&n&&z8(e),e.flags|=1,ms(t,e,r,i),e.child)}function xk(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!dL(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,AZ(t,e,o,r,i)):(t=hC(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xb,n(a,r)&&t.ref===e.ref)return cf(t,e,i)}return e.flags|=1,t=Ih(o,r),t.ref=e.ref,t.return=e,e.child=t}function AZ(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Xb(o,r)&&t.ref===e.ref)if(js=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(js=!0);else return e.lanes=t.lanes,cf(t,e,i)}return zD(t,e,n,r,i)}function vZ(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bi(jg,Sl),Sl|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bi(jg,Sl),Sl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Bi(jg,Sl),Sl|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Bi(jg,Sl),Sl|=r;return ms(t,e,i,n),e.child}function yZ(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zD(t,e,n,r,i){var o=tl(n)?Bm:rs.current;return o=NA(e,o),fA(e,i),n=eL(t,e,n,r,o,i),r=tL(),t!==null&&!js?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cf(t,e,i)):(Yi&&r&&z8(e),e.flags|=1,ms(t,e,n,i),e.child)}function Sk(t,e,n,r,i){if(tl(n)){var o=!0;sT(e)}else o=!1;if(fA(e,i),e.stateNode===null)uC(t,e),pZ(e,n,r),kD(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=vc(c):(c=tl(n)?Bm:rs.current,c=NA(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&gk(e,a,r,c),ah=!1;var f=e.memoizedState;a.state=f,fT(e,r,a,i),l=e.memoizedState,s!==r||f!==l||el.current||ah?(typeof u=="function"&&(UD(e,n,u,r),l=e.memoizedState),(s=ah||mk(e,n,s,r,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,WQ(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:jc(e.type,s),a.props=c,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=vc(l):(l=tl(n)?Bm:rs.current,l=NA(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==l)&&gk(e,a,r,l),ah=!1,f=e.memoizedState,a.state=f,fT(e,r,a,i);var p=e.memoizedState;s!==d||f!==p||el.current||ah?(typeof h=="function"&&(UD(e,n,h,r),p=e.memoizedState),(c=ah||mk(e,n,c,r,f,p,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return GD(t,e,n,r,o,i)}function GD(t,e,n,r,i,o){yZ(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&sk(e,n,!1),cf(t,e,o);r=e.stateNode,wAe.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=DA(e,t.child,null,o),e.child=DA(e,null,s,o)):ms(t,e,s,o),e.memoizedState=r.state,i&&sk(e,n,!0),e.child}function bZ(t){var e=t.stateNode;e.pendingContext?ak(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ak(t,e.context,!1),K8(t,e.containerInfo)}function _k(t,e,n,r,i){return IA(),H8(i),e.flags|=256,ms(t,e,n,r),e.child}var HD={dehydrated:null,treeContext:null,retryLane:0};function jD(t){return{baseLanes:t,cachePool:null,transitions:null}}function xZ(t,e,n){var r=e.pendingProps,i=lo.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Bi(lo,i&1),t===null)return FD(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=C3(a,r,0,null),t=Em(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=jD(n),e.memoizedState=HD,t):iL(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return CAe(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ih(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Ih(s,o):(o=Em(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?jD(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=HD,r}return o=t.child,t=o.sibling,r=Ih(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iL(t,e){return e=C3({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function XS(t,e,n,r){return r!==null&&H8(r),DA(e,t.child,null,n),t=iL(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CAe(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=jP(Error(Jt(422))),XS(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=C3({mode:"visible",children:r.children},i,0,null),o=Em(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&DA(e,t.child,null,a),e.child.memoizedState=jD(a),e.memoizedState=HD,o);if(!(e.mode&1))return XS(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Jt(419)),r=jP(o,r,void 0),XS(t,e,a,r)}if(s=(a&t.childLanes)!==0,js||s){if(r=ca,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,lf(t,i),ou(r,t,i,-1))}return uL(),r=jP(Error(Jt(421))),XS(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$Ae.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,El=Mh(i.nextSibling),Pl=e,Yi=!0,Xc=null,t!==null&&(rc[ic++]=Gd,rc[ic++]=Hd,rc[ic++]=Fm,Gd=t.id,Hd=t.overflow,Fm=e),e=iL(e,r.children),e.flags|=4096,e)}function wk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$D(t.return,e,n)}function qP(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function SZ(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ms(t,e,r.children,n),r=lo.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wk(t,n,e);else if(t.tag===19)wk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Bi(lo,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hT(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qP(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hT(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qP(e,!0,n,null,o);break;case"together":qP(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uC(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cf(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Um|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Jt(153));if(e.child!==null){for(t=e.child,n=Ih(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ih(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TAe(t,e,n){switch(e.tag){case 3:bZ(e),IA();break;case 5:XQ(e);break;case 1:tl(e.type)&&sT(e);break;case 4:K8(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Bi(uT,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Bi(lo,lo.current&1),e.flags|=128,null):n&e.child.childLanes?xZ(t,e,n):(Bi(lo,lo.current&1),t=cf(t,e,n),t!==null?t.sibling:null);Bi(lo,lo.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return SZ(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bi(lo,lo.current),r)break;return null;case 22:case 23:return e.lanes=0,vZ(t,e,n)}return cf(t,e,n)}var _Z,qD,wZ,CZ;_Z=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qD=function(){};wZ=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hm(ed.current);var o=null;switch(n){case"input":i=pD(t,i),r=pD(t,r),o=[];break;case"select":i=po({},i,{value:void 0}),r=po({},r,{value:void 0}),o=[];break;case"textarea":i=AD(t,i),r=AD(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oT)}yD(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vb.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vb.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ki("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};CZ=function(t,e,n,r){n!==r&&(e.flags|=4)};function zy(t,e){if(!Yi)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Va(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EAe(t,e,n){var r=e.pendingProps;switch(G8(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Va(e),null;case 1:return tl(e.type)&&aT(),Va(e),null;case 3:return r=e.stateNode,OA(),zi(el),zi(rs),Z8(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qS(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xc!==null&&(eO(Xc),Xc=null))),qD(t,e),Va(e),null;case 5:Q8(e);var i=hm(Jb.current);if(n=e.type,t!==null&&e.stateNode!=null)wZ(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Jt(166));return Va(e),null}if(t=hm(ed.current),qS(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[qu]=e,r[Qb]=o,t=(e.mode&1)!==0,n){case"dialog":ki("cancel",r),ki("close",r);break;case"iframe":case"object":case"embed":ki("load",r);break;case"video":case"audio":for(i=0;i<$1.length;i++)ki($1[i],r);break;case"source":ki("error",r);break;case"img":case"image":case"link":ki("error",r),ki("load",r);break;case"details":ki("toggle",r);break;case"input":DU(r,o),ki("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ki("invalid",r);break;case"textarea":LU(r,o),ki("invalid",r)}yD(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&jS(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&jS(r.textContent,s,t),i=["children",""+s]):Vb.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&ki("scroll",r)}switch(n){case"input":FS(r),OU(r,o,!0);break;case"textarea":FS(r),BU(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=oT)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JK(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[qu]=e,t[Qb]=r,_Z(t,e,!1,!1),e.stateNode=t;e:{switch(a=bD(n,r),n){case"dialog":ki("cancel",t),ki("close",t),i=r;break;case"iframe":case"object":case"embed":ki("load",t),i=r;break;case"video":case"audio":for(i=0;i<$1.length;i++)ki($1[i],t);i=r;break;case"source":ki("error",t),i=r;break;case"img":case"image":case"link":ki("error",t),ki("load",t),i=r;break;case"details":ki("toggle",t),i=r;break;case"input":DU(t,r),i=pD(t,r),ki("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=po({},r,{value:void 0}),ki("invalid",t);break;case"textarea":LU(t,r),i=AD(t,r),ki("invalid",t);break;default:i=r}yD(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?nQ(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eQ(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zb(t,l):typeof l=="number"&&zb(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vb.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ki("scroll",t):l!=null&&M8(t,o,l,a))}switch(n){case"input":FS(t),OU(t,r,!1);break;case"textarea":FS(t),BU(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hh(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?lA(t,!!r.multiple,o,!1):r.defaultValue!=null&&lA(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=oT)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Va(e),null;case 6:if(t&&e.stateNode!=null)CZ(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Jt(166));if(n=hm(Jb.current),hm(ed.current),qS(e)){if(r=e.stateNode,n=e.memoizedProps,r[qu]=e,(o=r.nodeValue!==n)&&(t=Pl,t!==null))switch(t.tag){case 3:jS(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jS(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qu]=e,e.stateNode=r}return Va(e),null;case 13:if(zi(lo),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yi&&El!==null&&e.mode&1&&!(e.flags&128))GQ(),IA(),e.flags|=98560,o=!1;else if(o=qS(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Jt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Jt(317));o[qu]=e}else IA(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Va(e),o=!1}else Xc!==null&&(eO(Xc),Xc=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||lo.current&1?jo===0&&(jo=3):uL())),e.updateQueue!==null&&(e.flags|=4),Va(e),null);case 4:return OA(),qD(t,e),t===null&&Yb(e.stateNode.containerInfo),Va(e),null;case 10:return W8(e.type._context),Va(e),null;case 17:return tl(e.type)&&aT(),Va(e),null;case 19:if(zi(lo),o=e.memoizedState,o===null)return Va(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)zy(o,!1);else{if(jo!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=hT(t),a!==null){for(e.flags|=128,zy(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Bi(lo,lo.current&1|2),e.child}t=t.sibling}o.tail!==null&&Co()>BA&&(e.flags|=128,r=!0,zy(o,!1),e.lanes=4194304)}else{if(!r)if(t=hT(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zy(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Yi)return Va(e),null}else 2*Co()-o.renderingStartTime>BA&&n!==1073741824&&(e.flags|=128,r=!0,zy(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Co(),e.sibling=null,n=lo.current,Bi(lo,r?n&1|2:n&1),e):(Va(e),null);case 22:case 23:return cL(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sl&1073741824&&(Va(e),e.subtreeFlags&6&&(e.flags|=8192)):Va(e),null;case 24:return null;case 25:return null}throw Error(Jt(156,e.tag))}function MAe(t,e){switch(G8(e),e.tag){case 1:return tl(e.type)&&aT(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return OA(),zi(el),zi(rs),Z8(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Q8(e),null;case 13:if(zi(lo),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Jt(340));IA()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zi(lo),null;case 4:return OA(),null;case 10:return W8(e.type._context),null;case 22:case 23:return cL(),null;case 24:return null;default:return null}}var YS=!1,Xa=!1,RAe=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function Hg(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vo(t,e,r)}else n.current=null}function WD(t,e,n){try{n()}catch(r){vo(t,e,r)}}var Ck=!1;function PAe(t,e){if(PD=nT,t=PQ(),V8(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(s=a),f===o&&++u===r&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ND={focusedElem:t,selectionRange:n},nT=!1,Rn=e;Rn!==null;)if(e=Rn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Rn=t;else for(;Rn!==null;){e=Rn;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,b=p.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:jc(e.type,x),b);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Jt(163))}}catch(E){vo(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Rn=t;break}Rn=e.return}return p=Ck,Ck=!1,p}function db(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&WD(e,n,o)}i=i.next}while(i!==r)}}function _3(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function XD(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TZ(t){var e=t.alternate;e!==null&&(t.alternate=null,TZ(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qu],delete e[Qb],delete e[OD],delete e[fAe],delete e[hAe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EZ(t){return t.tag===5||t.tag===3||t.tag===4}function Tk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EZ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function YD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oT));else if(r!==4&&(t=t.child,t!==null))for(YD(t,e,n),t=t.sibling;t!==null;)YD(t,e,n),t=t.sibling}function KD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(KD(t,e,n),t=t.sibling;t!==null;)KD(t,e,n),t=t.sibling}var ba=null,qc=!1;function Uf(t,e,n){for(n=n.child;n!==null;)MZ(t,e,n),n=n.sibling}function MZ(t,e,n){if(Ju&&typeof Ju.onCommitFiberUnmount=="function")try{Ju.onCommitFiberUnmount(m3,n)}catch{}switch(n.tag){case 5:Xa||Hg(n,e);case 6:var r=ba,i=qc;ba=null,Uf(t,e,n),ba=r,qc=i,ba!==null&&(qc?(t=ba,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ba.removeChild(n.stateNode));break;case 18:ba!==null&&(qc?(t=ba,n=n.stateNode,t.nodeType===8?UP(t.parentNode,n):t.nodeType===1&&UP(t,n),qb(t)):UP(ba,n.stateNode));break;case 4:r=ba,i=qc,ba=n.stateNode.containerInfo,qc=!0,Uf(t,e,n),ba=r,qc=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&WD(n,e,a),i=i.next}while(i!==r)}Uf(t,e,n);break;case 1:if(!Xa&&(Hg(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){vo(n,e,s)}Uf(t,e,n);break;case 21:Uf(t,e,n);break;case 22:n.mode&1?(Xa=(r=Xa)||n.memoizedState!==null,Uf(t,e,n),Xa=r):Uf(t,e,n);break;default:Uf(t,e,n)}}function Ek(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RAe),e.forEach(function(r){var i=UAe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Oc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:ba=s.stateNode,qc=!1;break e;case 3:ba=s.stateNode.containerInfo,qc=!0;break e;case 4:ba=s.stateNode.containerInfo,qc=!0;break e}s=s.return}if(ba===null)throw Error(Jt(160));MZ(o,a,i),ba=null,qc=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){vo(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RZ(e,t),e=e.sibling}function RZ(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oc(e,t),Eu(t),r&4){try{db(3,t,t.return),_3(3,t)}catch(x){vo(t,t.return,x)}try{db(5,t,t.return)}catch(x){vo(t,t.return,x)}}break;case 1:Oc(e,t),Eu(t),r&512&&n!==null&&Hg(n,n.return);break;case 5:if(Oc(e,t),Eu(t),r&512&&n!==null&&Hg(n,n.return),t.flags&32){var i=t.stateNode;try{zb(i,"")}catch(x){vo(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&QK(i,o),bD(s,a);var c=bD(s,o);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?nQ(i,d):u==="dangerouslySetInnerHTML"?eQ(i,d):u==="children"?zb(i,d):M8(i,u,d,c)}switch(s){case"input":mD(i,o);break;case"textarea":ZK(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?lA(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?lA(i,!!o.multiple,o.defaultValue,!0):lA(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qb]=o}catch(x){vo(t,t.return,x)}}break;case 6:if(Oc(e,t),Eu(t),r&4){if(t.stateNode===null)throw Error(Jt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){vo(t,t.return,x)}}break;case 3:if(Oc(e,t),Eu(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qb(e.containerInfo)}catch(x){vo(t,t.return,x)}break;case 4:Oc(e,t),Eu(t);break;case 13:Oc(e,t),Eu(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(sL=Co())),r&4&&Ek(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Xa=(c=Xa)||u,Oc(e,t),Xa=c):Oc(e,t),Eu(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Rn=t,u=t.child;u!==null;){for(d=Rn=u;Rn!==null;){switch(f=Rn,h=f.child,f.tag){case 0:case 11:case 14:case 15:db(4,f,f.return);break;case 1:Hg(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(x){vo(r,n,x)}}break;case 5:Hg(f,f.return);break;case 22:if(f.memoizedState!==null){Rk(d);continue}}h!==null?(h.return=f,Rn=h):Rk(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=tQ("display",a))}catch(x){vo(t,t.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){vo(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Oc(e,t),Eu(t),r&4&&Ek(t);break;case 21:break;default:Oc(e,t),Eu(t)}}function Eu(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EZ(n)){var r=n;break e}n=n.return}throw Error(Jt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zb(i,""),r.flags&=-33);var o=Tk(t);KD(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Tk(t);YD(t,s,a);break;default:throw Error(Jt(161))}}catch(l){vo(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NAe(t,e,n){Rn=t,PZ(t)}function PZ(t,e,n){for(var r=(t.mode&1)!==0;Rn!==null;){var i=Rn,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||YS;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Xa;s=YS;var c=Xa;if(YS=a,(Xa=l)&&!c)for(Rn=i;Rn!==null;)a=Rn,l=a.child,a.tag===22&&a.memoizedState!==null?Pk(i):l!==null?(l.return=a,Rn=l):Pk(i);for(;o!==null;)Rn=o,PZ(o),o=o.sibling;Rn=i,YS=s,Xa=c}Mk(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Rn=o):Mk(t)}}function Mk(t){for(;Rn!==null;){var e=Rn;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xa||_3(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xa)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jc(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&fk(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fk(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&qb(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Jt(163))}Xa||e.flags&512&&XD(e)}catch(f){vo(e,e.return,f)}}if(e===t){Rn=null;break}if(n=e.sibling,n!==null){n.return=e.return,Rn=n;break}Rn=e.return}}function Rk(t){for(;Rn!==null;){var e=Rn;if(e===t){Rn=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Rn=n;break}Rn=e.return}}function Pk(t){for(;Rn!==null;){var e=Rn;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_3(4,e)}catch(l){vo(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vo(e,i,l)}}var o=e.return;try{XD(e)}catch(l){vo(e,o,l)}break;case 5:var a=e.return;try{XD(e)}catch(l){vo(e,a,l)}}}catch(l){vo(e,e.return,l)}if(e===t){Rn=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Rn=s;break}Rn=e.return}}var IAe=Math.ceil,gT=xf.ReactCurrentDispatcher,oL=xf.ReactCurrentOwner,hc=xf.ReactCurrentBatchConfig,Yr=0,ca=null,$o=null,Ra=0,Sl=0,jg=ap(0),jo=0,rx=null,Um=0,w3=0,aL=0,fb=null,Vs=null,sL=0,BA=1/0,Ld=null,AT=!1,QD=null,Ph=null,KS=!1,Ah=null,vT=0,hb=0,ZD=null,dC=-1,fC=0;function Es(){return Yr&6?Co():dC!==-1?dC:dC=Co()}function Nh(t){return t.mode&1?Yr&2&&Ra!==0?Ra&-Ra:mAe.transition!==null?(fC===0&&(fC=pQ()),fC):(t=vi,t!==0||(t=window.event,t=t===void 0?16:xQ(t.type)),t):1}function ou(t,e,n,r){if(50<hb)throw hb=0,ZD=null,Error(Jt(185));m2(t,n,r),(!(Yr&2)||t!==ca)&&(t===ca&&(!(Yr&2)&&(w3|=n),jo===4&&uh(t,Ra)),nl(t,r),n===1&&Yr===0&&!(e.mode&1)&&(BA=Co()+500,b3&&sp()))}function nl(t,e){var n=t.callbackNode;mge(t,e);var r=tT(t,t===ca?Ra:0);if(r===0)n!==null&&UU(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&UU(n),e===1)t.tag===0?pAe(Nk.bind(null,t)):kQ(Nk.bind(null,t)),uAe(function(){!(Yr&6)&&sp()}),n=null;else{switch(mQ(r)){case 1:n=D8;break;case 4:n=fQ;break;case 16:n=eT;break;case 536870912:n=hQ;break;default:n=eT}n=$Z(n,NZ.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NZ(t,e){if(dC=-1,fC=0,Yr&6)throw Error(Jt(327));var n=t.callbackNode;if(hA()&&t.callbackNode!==n)return null;var r=tT(t,t===ca?Ra:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yT(t,r);else{e=r;var i=Yr;Yr|=2;var o=DZ();(ca!==t||Ra!==e)&&(Ld=null,BA=Co()+500,Tm(t,e));do try{LAe();break}catch(s){IZ(t,s)}while(1);q8(),gT.current=o,Yr=i,$o!==null?e=0:(ca=null,Ra=0,e=jo)}if(e!==0){if(e===2&&(i=CD(t),i!==0&&(r=i,e=JD(t,i))),e===1)throw n=rx,Tm(t,0),uh(t,r),nl(t,Co()),n;if(e===6)uh(t,r);else{if(i=t.current.alternate,!(r&30)&&!DAe(i)&&(e=yT(t,r),e===2&&(o=CD(t),o!==0&&(r=o,e=JD(t,o))),e===1))throw n=rx,Tm(t,0),uh(t,r),nl(t,Co()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Jt(345));case 2:Yp(t,Vs,Ld);break;case 3:if(uh(t,r),(r&130023424)===r&&(e=sL+500-Co(),10<e)){if(tT(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Es(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=DD(Yp.bind(null,t,Vs,Ld),e);break}Yp(t,Vs,Ld);break;case 4:if(uh(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-iu(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Co()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IAe(r/1960))-r,10<r){t.timeoutHandle=DD(Yp.bind(null,t,Vs,Ld),r);break}Yp(t,Vs,Ld);break;case 5:Yp(t,Vs,Ld);break;default:throw Error(Jt(329))}}}return nl(t,Co()),t.callbackNode===n?NZ.bind(null,t):null}function JD(t,e){var n=fb;return t.current.memoizedState.isDehydrated&&(Tm(t,e).flags|=256),t=yT(t,e),t!==2&&(e=Vs,Vs=n,e!==null&&eO(e)),t}function eO(t){Vs===null?Vs=t:Vs.push.apply(Vs,t)}function DAe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!du(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function uh(t,e){for(e&=~aL,e&=~w3,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-iu(e),r=1<<n;t[n]=-1,e&=~r}}function Nk(t){if(Yr&6)throw Error(Jt(327));hA();var e=tT(t,0);if(!(e&1))return nl(t,Co()),null;var n=yT(t,e);if(t.tag!==0&&n===2){var r=CD(t);r!==0&&(e=r,n=JD(t,r))}if(n===1)throw n=rx,Tm(t,0),uh(t,e),nl(t,Co()),n;if(n===6)throw Error(Jt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yp(t,Vs,Ld),nl(t,Co()),null}function lL(t,e){var n=Yr;Yr|=1;try{return t(e)}finally{Yr=n,Yr===0&&(BA=Co()+500,b3&&sp())}}function km(t){Ah!==null&&Ah.tag===0&&!(Yr&6)&&hA();var e=Yr;Yr|=1;var n=hc.transition,r=vi;try{if(hc.transition=null,vi=1,t)return t()}finally{vi=r,hc.transition=n,Yr=e,!(Yr&6)&&sp()}}function cL(){Sl=jg.current,zi(jg)}function Tm(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cAe(n)),$o!==null)for(n=$o.return;n!==null;){var r=n;switch(G8(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&aT();break;case 3:OA(),zi(el),zi(rs),Z8();break;case 5:Q8(r);break;case 4:OA();break;case 13:zi(lo);break;case 19:zi(lo);break;case 10:W8(r.type._context);break;case 22:case 23:cL()}n=n.return}if(ca=t,$o=t=Ih(t.current,null),Ra=Sl=e,jo=0,rx=null,aL=w3=Um=0,Vs=fb=null,fm!==null){for(e=0;e<fm.length;e++)if(n=fm[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}fm=null}return t}function IZ(t,e){do{var n=$o;try{if(q8(),lC.current=mT,pT){for(var r=ho.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pT=!1}if($m=0,oa=Ho=ho=null,ub=!1,ex=0,oL.current=null,n===null||n.return===null){jo=1,rx=e,$o=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ra,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=vk(a);if(h!==null){h.flags&=-257,yk(h,a,s,o,e),h.mode&1&&Ak(o,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var x=new Set;x.add(l),e.updateQueue=x}else p.add(l);break e}else{if(!(e&1)){Ak(o,c,e),uL();break e}l=Error(Jt(426))}}else if(Yi&&s.mode&1){var b=vk(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),yk(b,a,s,o,e),H8(LA(l,s));break e}}o=l=LA(l,s),jo!==4&&(jo=2),fb===null?fb=[o]:fb.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=mZ(o,l,e);dk(o,y);break e;case 1:s=l;var _=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ph===null||!Ph.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=gZ(o,s,e);dk(o,E);break e}}o=o.return}while(o!==null)}LZ(n)}catch(M){e=M,$o===n&&n!==null&&($o=n=n.return);continue}break}while(1)}function DZ(){var t=gT.current;return gT.current=mT,t===null?mT:t}function uL(){(jo===0||jo===3||jo===2)&&(jo=4),ca===null||!(Um&268435455)&&!(w3&268435455)||uh(ca,Ra)}function yT(t,e){var n=Yr;Yr|=2;var r=DZ();(ca!==t||Ra!==e)&&(Ld=null,Tm(t,e));do try{OAe();break}catch(i){IZ(t,i)}while(1);if(q8(),Yr=n,gT.current=r,$o!==null)throw Error(Jt(261));return ca=null,Ra=0,jo}function OAe(){for(;$o!==null;)OZ($o)}function LAe(){for(;$o!==null&&!age();)OZ($o)}function OZ(t){var e=FZ(t.alternate,t,Sl);t.memoizedProps=t.pendingProps,e===null?LZ(t):$o=e,oL.current=null}function LZ(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MAe(n,e),n!==null){n.flags&=32767,$o=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jo=6,$o=null;return}}else if(n=EAe(n,e,Sl),n!==null){$o=n;return}if(e=e.sibling,e!==null){$o=e;return}$o=e=t}while(e!==null);jo===0&&(jo=5)}function Yp(t,e,n){var r=vi,i=hc.transition;try{hc.transition=null,vi=1,BAe(t,e,n,r)}finally{hc.transition=i,vi=r}return null}function BAe(t,e,n,r){do hA();while(Ah!==null);if(Yr&6)throw Error(Jt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Jt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(gge(t,o),t===ca&&($o=ca=null,Ra=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||KS||(KS=!0,$Z(eT,function(){return hA(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=hc.transition,hc.transition=null;var a=vi;vi=1;var s=Yr;Yr|=4,oL.current=null,PAe(t,n),RZ(n,t),nAe(ND),nT=!!PD,ND=PD=null,t.current=n,NAe(n),sge(),Yr=s,vi=a,hc.transition=o}else t.current=n;if(KS&&(KS=!1,Ah=t,vT=i),o=t.pendingLanes,o===0&&(Ph=null),uge(n.stateNode),nl(t,Co()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(AT)throw AT=!1,t=QD,QD=null,t;return vT&1&&t.tag!==0&&hA(),o=t.pendingLanes,o&1?t===ZD?hb++:(hb=0,ZD=t):hb=0,sp(),null}function hA(){if(Ah!==null){var t=mQ(vT),e=hc.transition,n=vi;try{if(hc.transition=null,vi=16>t?16:t,Ah===null)var r=!1;else{if(t=Ah,Ah=null,vT=0,Yr&6)throw Error(Jt(331));var i=Yr;for(Yr|=4,Rn=t.current;Rn!==null;){var o=Rn,a=o.child;if(Rn.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Rn=c;Rn!==null;){var u=Rn;switch(u.tag){case 0:case 11:case 15:db(8,u,o)}var d=u.child;if(d!==null)d.return=u,Rn=d;else for(;Rn!==null;){u=Rn;var f=u.sibling,h=u.return;if(TZ(u),u===c){Rn=null;break}if(f!==null){f.return=h,Rn=f;break}Rn=h}}}var p=o.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}Rn=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Rn=a;else e:for(;Rn!==null;){if(o=Rn,o.flags&2048)switch(o.tag){case 0:case 11:case 15:db(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Rn=y;break e}Rn=o.return}}var _=t.current;for(Rn=_;Rn!==null;){a=Rn;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,Rn=C;else e:for(a=_;Rn!==null;){if(s=Rn,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:_3(9,s)}}catch(M){vo(s,s.return,M)}if(s===a){Rn=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,Rn=E;break e}Rn=s.return}}if(Yr=i,sp(),Ju&&typeof Ju.onPostCommitFiberRoot=="function")try{Ju.onPostCommitFiberRoot(m3,t)}catch{}r=!0}return r}finally{vi=n,hc.transition=e}}return!1}function Ik(t,e,n){e=LA(n,e),e=mZ(t,e,1),t=Rh(t,e,1),e=Es(),t!==null&&(m2(t,1,e),nl(t,e))}function vo(t,e,n){if(t.tag===3)Ik(t,t,n);else for(;e!==null;){if(e.tag===3){Ik(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ph===null||!Ph.has(r))){t=LA(n,t),t=gZ(e,t,1),e=Rh(e,t,1),t=Es(),e!==null&&(m2(e,1,t),nl(e,t));break}}e=e.return}}function FAe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Es(),t.pingedLanes|=t.suspendedLanes&n,ca===t&&(Ra&n)===n&&(jo===4||jo===3&&(Ra&130023424)===Ra&&500>Co()-sL?Tm(t,0):aL|=n),nl(t,e)}function BZ(t,e){e===0&&(t.mode&1?(e=kS,kS<<=1,!(kS&130023424)&&(kS=4194304)):e=1);var n=Es();t=lf(t,e),t!==null&&(m2(t,e,n),nl(t,n))}function $Ae(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BZ(t,n)}function UAe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Jt(314))}r!==null&&r.delete(e),BZ(t,n)}var FZ;FZ=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||el.current)js=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return js=!1,TAe(t,e,n);js=!!(t.flags&131072)}else js=!1,Yi&&e.flags&1048576&&VQ(e,cT,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uC(t,e),t=e.pendingProps;var i=NA(e,rs.current);fA(e,n),i=eL(null,e,r,t,i,n);var o=tL();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tl(r)?(o=!0,sT(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Y8(e),i.updater=S3,e.stateNode=i,i._reactInternals=e,kD(e,r,t,n),e=GD(null,e,r,!0,o,n)):(e.tag=0,Yi&&o&&z8(e),ms(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uC(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VAe(r),t=jc(r,t),i){case 0:e=zD(null,e,r,t,n);break e;case 1:e=Sk(null,e,r,t,n);break e;case 11:e=bk(null,e,r,t,n);break e;case 14:e=xk(null,e,r,jc(r.type,t),n);break e}throw Error(Jt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jc(r,i),zD(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jc(r,i),Sk(t,e,r,i,n);case 3:e:{if(bZ(e),t===null)throw Error(Jt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,WQ(t,e),fT(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=LA(Error(Jt(423)),e),e=_k(t,e,r,n,i);break e}else if(r!==i){i=LA(Error(Jt(424)),e),e=_k(t,e,r,n,i);break e}else for(El=Mh(e.stateNode.containerInfo.firstChild),Pl=e,Yi=!0,Xc=null,n=jQ(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(IA(),r===i){e=cf(t,e,n);break e}ms(t,e,r,n)}e=e.child}return e;case 5:return XQ(e),t===null&&FD(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,ID(r,i)?a=null:o!==null&&ID(r,o)&&(e.flags|=32),yZ(t,e),ms(t,e,a,n),e.child;case 6:return t===null&&FD(e),null;case 13:return xZ(t,e,n);case 4:return K8(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=DA(e,null,r,n):ms(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jc(r,i),bk(t,e,r,i,n);case 7:return ms(t,e,e.pendingProps,n),e.child;case 8:return ms(t,e,e.pendingProps.children,n),e.child;case 12:return ms(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Bi(uT,r._currentValue),r._currentValue=a,o!==null)if(du(o.value,a)){if(o.children===i.children&&!el.current){e=cf(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Yd(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$D(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Jt(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),$D(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ms(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fA(e,n),i=vc(i),r=r(i),e.flags|=1,ms(t,e,r,n),e.child;case 14:return r=e.type,i=jc(r,e.pendingProps),i=jc(r.type,i),xk(t,e,r,i,n);case 15:return AZ(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jc(r,i),uC(t,e),e.tag=1,tl(r)?(t=!0,sT(e)):t=!1,fA(e,n),pZ(e,r,i),kD(e,r,i,n),GD(null,e,r,!0,t,n);case 19:return SZ(t,e,n);case 22:return vZ(t,e,n)}throw Error(Jt(156,e.tag))};function $Z(t,e){return dQ(t,e)}function kAe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ac(t,e,n,r){return new kAe(t,e,n,r)}function dL(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VAe(t){if(typeof t=="function")return dL(t)?1:0;if(t!=null){if(t=t.$$typeof,t===P8)return 11;if(t===N8)return 14}return 2}function Ih(t,e){var n=t.alternate;return n===null?(n=ac(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hC(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")dL(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Lg:return Em(n.children,i,o,e);case R8:a=8,i|=8;break;case uD:return t=ac(12,n,e,i|2),t.elementType=uD,t.lanes=o,t;case dD:return t=ac(13,n,e,i),t.elementType=dD,t.lanes=o,t;case fD:return t=ac(19,n,e,i),t.elementType=fD,t.lanes=o,t;case XK:return C3(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qK:a=10;break e;case WK:a=9;break e;case P8:a=11;break e;case N8:a=14;break e;case oh:a=16,r=null;break e}throw Error(Jt(130,t==null?t:typeof t,""))}return e=ac(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Em(t,e,n,r){return t=ac(7,t,r,e),t.lanes=n,t}function C3(t,e,n,r){return t=ac(22,t,r,e),t.elementType=XK,t.lanes=n,t.stateNode={isHidden:!1},t}function WP(t,e,n){return t=ac(6,t,null,e),t.lanes=n,t}function XP(t,e,n){return e=ac(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zAe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=MP(0),this.expirationTimes=MP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=MP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fL(t,e,n,r,i,o,a,s,l){return t=new zAe(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ac(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y8(o),t}function GAe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Og,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function UZ(t){if(!t)return jh;t=t._reactInternals;e:{if(u0(t)!==t||t.tag!==1)throw Error(Jt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tl(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Jt(171))}if(t.tag===1){var n=t.type;if(tl(n))return UQ(t,n,e)}return e}function kZ(t,e,n,r,i,o,a,s,l){return t=fL(n,r,!0,t,i,o,a,s,l),t.context=UZ(null),n=t.current,r=Es(),i=Nh(n),o=Yd(r,i),o.callback=e??null,Rh(n,o,i),t.current.lanes=i,m2(t,i,r),nl(t,r),t}function T3(t,e,n,r){var i=e.current,o=Es(),a=Nh(i);return n=UZ(n),e.context===null?e.context=n:e.pendingContext=n,e=Yd(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rh(i,e,a),t!==null&&(ou(t,i,a,o),sC(t,i,a)),a}function bT(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hL(t,e){Dk(t,e),(t=t.alternate)&&Dk(t,e)}function HAe(){return null}var VZ=typeof reportError=="function"?reportError:function(t){console.error(t)};function pL(t){this._internalRoot=t}E3.prototype.render=pL.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Jt(409));T3(t,e,null,null)};E3.prototype.unmount=pL.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;km(function(){T3(null,t,null,null)}),e[sf]=null}};function E3(t){this._internalRoot=t}E3.prototype.unstable_scheduleHydration=function(t){if(t){var e=vQ();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ch.length&&e!==0&&e<ch[n].priority;n++);ch.splice(n,0,t),n===0&&bQ(t)}};function mL(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function M3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ok(){}function jAe(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=bT(a);o.call(c)}}var a=kZ(e,r,t,0,null,!1,!1,"",Ok);return t._reactRootContainer=a,t[sf]=a.current,Yb(t.nodeType===8?t.parentNode:t),km(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=bT(l);s.call(c)}}var l=fL(t,0,!1,null,null,!1,!1,"",Ok);return t._reactRootContainer=l,t[sf]=l.current,Yb(t.nodeType===8?t.parentNode:t),km(function(){T3(e,l,n,r)}),l}function R3(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=bT(a);s.call(l)}}T3(e,a,t,i)}else a=jAe(n,e,t,i,r);return bT(a)}gQ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=F1(e.pendingLanes);n!==0&&(O8(e,n|1),nl(e,Co()),!(Yr&6)&&(BA=Co()+500,sp()))}break;case 13:km(function(){var r=lf(t,1);if(r!==null){var i=Es();ou(r,t,1,i)}}),hL(t,1)}};L8=function(t){if(t.tag===13){var e=lf(t,134217728);if(e!==null){var n=Es();ou(e,t,134217728,n)}hL(t,134217728)}};AQ=function(t){if(t.tag===13){var e=Nh(t),n=lf(t,e);if(n!==null){var r=Es();ou(n,t,e,r)}hL(t,e)}};vQ=function(){return vi};yQ=function(t,e){var n=vi;try{return vi=t,e()}finally{vi=n}};SD=function(t,e,n){switch(e){case"input":if(mD(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=y3(r);if(!i)throw Error(Jt(90));KK(r),mD(r,i)}}}break;case"textarea":ZK(t,n);break;case"select":e=n.value,e!=null&&lA(t,!!n.multiple,e,!1)}};oQ=lL;aQ=km;var qAe={usingClientEntryPoint:!1,Events:[A2,Ug,y3,rQ,iQ,lL]},Gy={findFiberByHostInstance:dm,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WAe={bundleType:Gy.bundleType,version:Gy.version,rendererPackageName:Gy.rendererPackageName,rendererConfig:Gy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xf.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cQ(t),t===null?null:t.stateNode},findFiberByHostInstance:Gy.findFiberByHostInstance||HAe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var QS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!QS.isDisabled&&QS.supportsFiber)try{m3=QS.inject(WAe),Ju=QS}catch{}}Ul.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qAe;Ul.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mL(e))throw Error(Jt(200));return GAe(t,e,null,n)};Ul.createRoot=function(t,e){if(!mL(t))throw Error(Jt(299));var n=!1,r="",i=VZ;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=fL(t,1,!1,null,null,n,!1,r,i),t[sf]=e.current,Yb(t.nodeType===8?t.parentNode:t),new pL(e)};Ul.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Jt(188)):(t=Object.keys(t).join(","),Error(Jt(268,t)));return t=cQ(e),t=t===null?null:t.stateNode,t};Ul.flushSync=function(t){return km(t)};Ul.hydrate=function(t,e,n){if(!M3(e))throw Error(Jt(200));return R3(null,t,e,!0,n)};Ul.hydrateRoot=function(t,e,n){if(!mL(t))throw Error(Jt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=VZ;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=kZ(e,null,t,1,n??null,i,!1,o,a),t[sf]=e.current,Yb(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new E3(e)};Ul.render=function(t,e,n){if(!M3(e))throw Error(Jt(200));return R3(null,t,e,!1,n)};Ul.unmountComponentAtNode=function(t){if(!M3(t))throw Error(Jt(40));return t._reactRootContainer?(km(function(){R3(null,null,t,!1,function(){t._reactRootContainer=null,t[sf]=null})}),!0):!1};Ul.unstable_batchedUpdates=lL;Ul.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!M3(n))throw Error(Jt(200));if(t==null||t._reactInternals===void 0)throw Error(Jt(38));return R3(t,e,n,!1,r)};Ul.version="18.3.1-next-f1338f8080-20240426";function zZ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zZ)}catch(t){console.error(t)}}zZ(),zK.exports=Ul;var uf=zK.exports;const xT=sl(uf),XAe=PK({__proto__:null,default:xT},[uf]);var Lk=uf;lD.createRoot=Lk.createRoot,lD.hydrateRoot=Lk.hydrateRoot;var GZ={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)e.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(GZ);var YAe=GZ.exports;const ke=sl(YAe);function it(){return it=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},it.apply(null,arguments)}function yn(t){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(t)}var KAe=Symbol.for("react.element"),QAe=Symbol.for("react.transitional.element"),ZAe=Symbol.for("react.fragment");function HZ(t){return t&&yn(t)==="object"&&(t.$$typeof===KAe||t.$$typeof===QAe)&&t.type===ZAe}function bc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return je.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(bc(r)):HZ(r)&&r.props?n=n.concat(bc(r.props.children,e)):n.push(r))}),n}var tO={},JAe=function(e){};function eve(t,e){}function tve(t,e){}function nve(){tO={}}function jZ(t,e,n){!e&&!tO[n]&&(t(!1,n),tO[n]=!0)}function Pa(t,e){jZ(eve,t,e)}function rve(t,e){jZ(tve,t,e)}Pa.preMessage=JAe;Pa.resetWarned=nve;Pa.noteOnce=rve;function ive(t,e){if(yn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qZ(t){var e=ive(t,"string");return yn(e)=="symbol"?e:e+""}function Se(t,e,n){return(e=qZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function we(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ix(t){return t instanceof HTMLElement||t instanceof SVGElement}function WZ(t){return t&&yn(t)==="object"&&ix(t.nativeElement)?t.nativeElement:ix(t)?t:null}function pC(t){var e=WZ(t);if(e)return e;if(t instanceof je.Component){var n;return(n=xT.findDOMNode)===null||n===void 0?void 0:n.call(xT,t)}return null}var XZ={exports:{}},xi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gL=Symbol.for("react.element"),AL=Symbol.for("react.portal"),P3=Symbol.for("react.fragment"),N3=Symbol.for("react.strict_mode"),I3=Symbol.for("react.profiler"),D3=Symbol.for("react.provider"),O3=Symbol.for("react.context"),ove=Symbol.for("react.server_context"),L3=Symbol.for("react.forward_ref"),B3=Symbol.for("react.suspense"),F3=Symbol.for("react.suspense_list"),$3=Symbol.for("react.memo"),U3=Symbol.for("react.lazy"),ave=Symbol.for("react.offscreen"),YZ;YZ=Symbol.for("react.module.reference");function Nc(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case gL:switch(t=t.type,t){case P3:case I3:case N3:case B3:case F3:return t;default:switch(t=t&&t.$$typeof,t){case ove:case O3:case L3:case U3:case $3:case D3:return t;default:return e}}case AL:return e}}}xi.ContextConsumer=O3;xi.ContextProvider=D3;xi.Element=gL;xi.ForwardRef=L3;xi.Fragment=P3;xi.Lazy=U3;xi.Memo=$3;xi.Portal=AL;xi.Profiler=I3;xi.StrictMode=N3;xi.Suspense=B3;xi.SuspenseList=F3;xi.isAsyncMode=function(){return!1};xi.isConcurrentMode=function(){return!1};xi.isContextConsumer=function(t){return Nc(t)===O3};xi.isContextProvider=function(t){return Nc(t)===D3};xi.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gL};xi.isForwardRef=function(t){return Nc(t)===L3};xi.isFragment=function(t){return Nc(t)===P3};xi.isLazy=function(t){return Nc(t)===U3};xi.isMemo=function(t){return Nc(t)===$3};xi.isPortal=function(t){return Nc(t)===AL};xi.isProfiler=function(t){return Nc(t)===I3};xi.isStrictMode=function(t){return Nc(t)===N3};xi.isSuspense=function(t){return Nc(t)===B3};xi.isSuspenseList=function(t){return Nc(t)===F3};xi.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===P3||t===I3||t===N3||t===B3||t===F3||t===ave||typeof t=="object"&&t!==null&&(t.$$typeof===U3||t.$$typeof===$3||t.$$typeof===D3||t.$$typeof===O3||t.$$typeof===L3||t.$$typeof===YZ||t.getModuleId!==void 0)};xi.typeOf=Nc;XZ.exports=xi;var YP=XZ.exports;function y2(t,e,n){var r=S.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var sve=Number(S.version.split(".")[0]),vL=function(e,n){typeof e=="function"?e(n):yn(e)==="object"&&e&&"current"in e&&(e.current=n)},ll=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);return i.length<=1?i[0]:function(o){n.forEach(function(a){vL(a,o)})}},lp=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y2(function(){return ll.apply(void 0,n)},n,function(i,o){return i.length!==o.length||i.every(function(a,s){return a!==o[s]})})},cp=function(e){var n,r;if(!e)return!1;if(KZ(e)&&sve>=19)return!0;var i=YP.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==YP.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==YP.ForwardRef)};function KZ(t){return S.isValidElement(t)&&!HZ(t)}var d0=function(e){if(e&&KZ(e)){var n=e;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null},nO=S.createContext(null);function lve(t){var e=t.children,n=t.onBatchResize,r=S.useRef(0),i=S.useRef([]),o=S.useContext(nO),a=S.useCallback(function(s,l,c){r.current+=1;var u=r.current;i.current.push({size:s,element:l,data:c}),Promise.resolve().then(function(){u===r.current&&(n==null||n(i.current),i.current=[])}),o==null||o(s,l,c)},[n,o]);return S.createElement(nO.Provider,{value:a},e)}var QZ=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];n.call(r,a[1],a[0])}},e}()}(),rO=typeof window<"u"&&typeof document<"u"&&window.document===document,ST=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),cve=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ST):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),uve=2;function dve(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){cve(o)}function s(){var l=Date.now();if(n){if(l-i<uve)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=l}return s}var fve=20,hve=["top","right","bottom","left","width","height","size","weight"],pve=typeof MutationObserver<"u",mve=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=dve(this.refresh.bind(this),fve)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!rO||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),pve?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!rO||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=hve.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),ZZ=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},FA=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ST},JZ=k3(0,0,0,0);function _T(t){return parseFloat(t)||0}function Fk(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+_T(o)},0)}function gve(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=_T(a)}return n}function Ave(t){var e=t.getBBox();return k3(0,0,e.width,e.height)}function vve(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return JZ;var r=FA(t).getComputedStyle(t),i=gve(r),o=i.left+i.right,a=i.top+i.bottom,s=_T(r.width),l=_T(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=Fk(r,"left","right")+o),Math.round(l+a)!==n&&(l-=Fk(r,"top","bottom")+a)),!bve(t)){var c=Math.round(s+o)-e,u=Math.round(l+a)-n;Math.abs(c)!==1&&(s-=c),Math.abs(u)!==1&&(l-=u)}return k3(i.left,i.top,s,l)}var yve=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof FA(t).SVGGraphicsElement}:function(t){return t instanceof FA(t).SVGElement&&typeof t.getBBox=="function"}}();function bve(t){return t===FA(t).document.documentElement}function xve(t){return rO?yve(t)?Ave(t):vve(t):JZ}function Sve(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return ZZ(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function k3(t,e,n,r){return{x:t,y:e,width:n,height:r}}var _ve=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=k3(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=xve(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),wve=function(){function t(e,n){var r=Sve(n);ZZ(this,{target:e,contentRect:r})}return t}(),Cve=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new QZ,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof FA(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new _ve(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof FA(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new wve(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),eJ=typeof WeakMap<"u"?new WeakMap:new QZ,tJ=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=mve.getInstance(),r=new Cve(e,n,this);eJ.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){tJ.prototype[t]=function(){var e;return(e=eJ.get(this))[t].apply(e,arguments)}});var Tve=function(){return typeof ST.ResizeObserver<"u"?ST.ResizeObserver:tJ}(),vh=new Map;function Eve(t){t.forEach(function(e){var n,r=e.target;(n=vh.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var nJ=new Tve(Eve);function Mve(t,e){vh.has(t)||(vh.set(t,new Set),nJ.observe(t)),vh.get(t).add(e)}function Rve(t,e){vh.has(t)&&(vh.get(t).delete(e),vh.get(t).size||(nJ.unobserve(t),vh.delete(t)))}function Ro(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qZ(r.key),r)}}function Po(t,e,n){return e&&$k(t.prototype,e),n&&$k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $A(t,e){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},$A(t,e)}function Sf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$A(t,e)}function ox(t){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ox(t)}function yL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yL=function(){return!!t})()}function Mr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pve(t,e){if(e&&(yn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mr(t)}function _f(t){var e=yL();return function(){var n,r=ox(t);if(e){var i=ox(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pve(this,n)}}var Nve=function(t){Sf(n,t);var e=_f(n);function n(){return Ro(this,n),e.apply(this,arguments)}return Po(n,[{key:"render",value:function(){return this.props.children}}]),n}(S.Component);function Ive(t,e){var n=t.children,r=t.disabled,i=S.useRef(null),o=S.useRef(null),a=S.useContext(nO),s=typeof n=="function",l=s?n(i):n,c=S.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!s&&S.isValidElement(l)&&cp(l),d=u?d0(l):null,f=lp(d,i),h=function(){var y;return pC(i.current)||(i.current&&yn(i.current)==="object"?pC((y=i.current)===null||y===void 0?void 0:y.nativeElement):null)||pC(o.current)};S.useImperativeHandle(e,function(){return h()});var p=S.useRef(t);p.current=t;var x=S.useCallback(function(b){var y=p.current,_=y.onResize,C=y.data,E=b.getBoundingClientRect(),M=E.width,R=E.height,N=b.offsetWidth,O=b.offsetHeight,I=Math.floor(M),L=Math.floor(R);if(c.current.width!==I||c.current.height!==L||c.current.offsetWidth!==N||c.current.offsetHeight!==O){var F={width:I,height:L,offsetWidth:N,offsetHeight:O};c.current=F;var $=N===Math.round(M)?M:N,V=O===Math.round(R)?R:O,U=we(we({},F),{},{offsetWidth:$,offsetHeight:V});a==null||a(U,b,C),_&&Promise.resolve().then(function(){_(U,b)})}},[]);return S.useEffect(function(){var b=h();return b&&!r&&Mve(b,x),function(){return Rve(b,x)}},[i.current,r]),S.createElement(Nve,{ref:o},u?S.cloneElement(l,{ref:f}):l)}var Dve=S.forwardRef(Ive),Ove="rc-observer-key";function Lve(t,e){var n=t.children,r=typeof n=="function"?[n]:bc(n);return r.map(function(i,o){var a=(i==null?void 0:i.key)||"".concat(Ove,"-").concat(o);return S.createElement(Dve,it({},t,{key:a,ref:o===0?e:void 0}),i)})}var rl=S.forwardRef(Lve);rl.Collection=lve;function iO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Bve(t){if(Array.isArray(t))return iO(t)}function rJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bL(t,e){if(t){if(typeof t=="string")return iO(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iO(t,e):void 0}}function Fve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(t){return Bve(t)||rJ(t)||bL(t)||Fve()}var iJ=function(e){return+setTimeout(e,16)},oJ=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(iJ=function(e){return window.requestAnimationFrame(e)},oJ=function(e){return window.cancelAnimationFrame(e)});var Uk=0,xL=new Map;function aJ(t){xL.delete(t)}var Rr=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Uk+=1;var r=Uk;function i(o){if(o===0)aJ(r),e();else{var a=iJ(function(){i(o-1)});xL.set(r,a)}}return i(n),r};Rr.cancel=function(t){var e=xL.get(t);return aJ(t),oJ(e)};function sJ(t){if(Array.isArray(t))return t}function $ve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function lJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oe(t,e){return sJ(t)||$ve(t,e)||bL(t,e)||lJ()}function ax(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Da(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function oO(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var kk="data-rc-order",Vk="data-rc-priority",Uve="rc-util-key",aO=new Map;function cJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Uve}function V3(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function kve(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function SL(t){return Array.from((aO.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function uJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Da())return null;var n=e.csp,r=e.prepend,i=e.priority,o=i===void 0?0:i,a=kve(r),s=a==="prependQueue",l=document.createElement("style");l.setAttribute(kk,a),s&&o&&l.setAttribute(Vk,"".concat(o)),n!=null&&n.nonce&&(l.nonce=n==null?void 0:n.nonce),l.innerHTML=t;var c=V3(e),u=c.firstChild;if(r){if(s){var d=(e.styles||SL(c)).filter(function(f){if(!["prepend","prependQueue"].includes(f.getAttribute(kk)))return!1;var h=Number(f.getAttribute(Vk)||0);return o>=h});if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function dJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=V3(e);return(e.styles||SL(n)).find(function(r){return r.getAttribute(cJ(e))===t})}function sx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=dJ(t,e);if(n){var r=V3(e);r.removeChild(n)}}function Vve(t,e){var n=aO.get(t);if(!n||!oO(document,n)){var r=uJ("",e),i=r.parentNode;aO.set(t,i),t.removeChild(r)}}function Kd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=V3(n),i=SL(r),o=we(we({},n),{},{styles:i});Vve(r,o);var a=dJ(e,o);if(a){var s,l;if((s=o.csp)!==null&&s!==void 0&&s.nonce&&a.nonce!==((l=o.csp)===null||l===void 0?void 0:l.nonce)){var c;a.nonce=(c=o.csp)===null||c===void 0?void 0:c.nonce}return a.innerHTML!==t&&(a.innerHTML=t),a}var u=uJ(t,o);return u.setAttribute(cJ(o),e),u}function lx(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qn(t,e){if(t==null)return{};var n,r,i=lx(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cx(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(o,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(o);if(Pa(!l,"Warning: There may be circular references"),l)return!1;if(o===a)return!0;if(n&&s>1)return!1;r.add(o);var c=s+1;if(Array.isArray(o)){if(!Array.isArray(a)||o.length!==a.length)return!1;for(var u=0;u<o.length;u++)if(!i(o[u],a[u],c))return!1;return!0}if(o&&a&&yn(o)==="object"&&yn(a)==="object"){var d=Object.keys(o);return d.length!==Object.keys(a).length?!1:d.every(function(f){return i(o[f],a[f],c)})}return!1}return i(t,e)}var zve="%";function sO(t){return t.join(zve)}var Gve=function(){function t(e){Ro(this,t),Se(this,"instanceId",void 0),Se(this,"cache",new Map),Se(this,"extracted",new Set),this.instanceId=e}return Po(t,[{key:"get",value:function(n){return this.opGet(sO(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(sO(n),r)}},{key:"opUpdate",value:function(n,r){var i=this.cache.get(n),o=r(i);o===null?this.cache.delete(n):this.cache.set(n,o)}}]),t}(),UA="data-token-hash",au="data-css-hash",yh="__cssinjs_instance__";function Hve(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(au,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(i){i[yh]=i[yh]||t,i[yh]===t&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(au,"]"))).forEach(function(i){var o=i.getAttribute(au);if(r[o]){if(i[yh]===t){var a;(a=i.parentNode)===null||a===void 0||a.removeChild(i)}}else r[o]=!0})}return new Gve(t)}var b2=S.createContext({hashPriority:"low",cache:Hve(),defaultCache:!0});function jve(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var _L=function(){function t(){Ro(this,t),Se(this,"cache",void 0),Se(this,"keys",void 0),Se(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Po(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a={map:this.cache};return n.forEach(function(s){if(!a)a=void 0;else{var l;a=(l=a)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(s)}}),(r=a)!==null&&r!==void 0&&r.value&&o&&(a.value[1]=this.cacheCallTimes++),(i=a)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(c,u){var d=Oe(c,2),f=d[1];return i.internalGet(u)[1]<f?[u,i.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),a=Oe(o,1),s=a[0];this.delete(s)}this.keys.push(n)}var l=this.cache;n.forEach(function(c,u){if(u===n.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var d=l.get(c);d?d.map||(d.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var o;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var a=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),a}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!jve(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();Se(_L,"MAX_CACHE_SIZE",20);Se(_L,"MAX_CACHE_OFFSET",5);var zk=0,fJ=function(){function t(e){Ro(this,t),Se(this,"derivatives",void 0),Se(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=zk,e.length===0&&(e.length>0,void 0),zk+=1}return Po(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),t}(),KP=new _L;function lO(t){var e=Array.isArray(t)?t:[t];return KP.has(e)||KP.set(e,new fJ(e)),KP.get(e)}var qve=new WeakMap,QP={};function Wve(t,e){for(var n=qve,r=0;r<e.length;r+=1){var i=e[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(QP)||n.set(QP,t()),n.get(QP)}var Gk=new WeakMap;function pb(t){var e=Gk.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof fJ?e+=r.id:r&&yn(r)==="object"?e+=pb(r):e+=r}),e=ax(e),Gk.set(t,e)),e}function Hk(t,e){return ax("".concat(e,"_").concat(pb(t)))}var cO=Da();function Re(t){return typeof t=="number"?"".concat(t,"px"):t}function wT(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(i)return t;var o=we(we({},r),{},Se(Se({},UA,e),au,n)),a=Object.keys(o).map(function(s){var l=o[s];return l?"".concat(s,'="').concat(l,'"'):null}).filter(function(s){return s}).join(" ");return"<style ".concat(a,">").concat(t,"</style>")}var mC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Xve=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(i){var o=Oe(i,2),a=o[0],s=o[1];return"".concat(a,":").concat(s,";")}).join(""),"}"):""},hJ=function(e,n,r){var i={},o={};return Object.entries(e).forEach(function(a){var s,l,c=Oe(a,2),u=c[0],d=c[1];if(r!=null&&(s=r.preserve)!==null&&s!==void 0&&s[u])o[u]=d;else if((typeof d=="string"||typeof d=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[u])){var f,h=mC(u,r==null?void 0:r.prefix);i[h]=typeof d=="number"&&!(r!=null&&(f=r.unitless)!==null&&f!==void 0&&f[u])?"".concat(d,"px"):String(d),o[u]="var(".concat(h,")")}}),[o,Xve(i,n,{scope:r==null?void 0:r.scope})]},jk=Da()?S.useLayoutEffect:S.useEffect,wr=function(e,n){var r=S.useRef(!0);jk(function(){return e(r.current)},n),jk(function(){return r.current=!1,function(){r.current=!0}},[])},CT=function(e,n){wr(function(r){if(!r)return e()},n)},Yve=we({},p3),qk=Yve.useInsertionEffect,Kve=function(e,n,r){S.useMemo(e,r),wr(function(){return n(!0)},r)},Qve=qk?function(t,e,n){return qk(function(){return t(),e()},n)}:Kve,Zve=we({},p3),Jve=Zve.useInsertionEffect,eye=function(e){var n=[],r=!1;function i(o){r||n.push(o)}return S.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(o){return o()})}},e),i},tye=function(){return function(e){e()}},nye=typeof Jve<"u"?eye:tye;function wL(t,e,n,r,i){var o=S.useContext(b2),a=o.cache,s=[t].concat(zt(e)),l=sO(s),c=nye([l]),u=function(p){a.opUpdate(l,function(x){var b=x||[void 0,void 0],y=Oe(b,2),_=y[0],C=_===void 0?0:_,E=y[1],M=E,R=M||n(),N=[C,R];return p?p(N):N})};S.useMemo(function(){u()},[l]);var d=a.opGet(l),f=d[1];return Qve(function(){i==null||i(f)},function(h){return u(function(p){var x=Oe(p,2),b=x[0],y=x[1];return h&&b===0&&(i==null||i(f)),[b+1,y]}),function(){a.opUpdate(l,function(p){var x=p||[],b=Oe(x,2),y=b[0],_=y===void 0?0:y,C=b[1],E=_-1;return E===0?(c(function(){(h||!a.opGet(l))&&(r==null||r(C,!1))}),null):[_-1,C]})}},[l]),f}var rye={},iye="css",nm=new Map;function oye(t){nm.set(t,(nm.get(t)||0)+1)}function aye(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(UA,'="').concat(t,'"]'));n.forEach(function(r){if(r[yh]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var sye=0;function lye(t,e){nm.set(t,(nm.get(t)||0)-1);var n=new Set;nm.forEach(function(r,i){r<=0&&n.add(i)}),nm.size-n.size>sye&&n.forEach(function(r){aye(r,e),nm.delete(r)})}var cye=function(e,n,r,i){var o=r.getDerivativeToken(e),a=we(we({},o),n);return i&&(a=i(a)),a},pJ="token";function uye(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=S.useContext(b2),i=r.cache.instanceId,o=r.container,a=n.salt,s=a===void 0?"":a,l=n.override,c=l===void 0?rye:l,u=n.formatToken,d=n.getComputedToken,f=n.cssVar,h=Wve(function(){return Object.assign.apply(Object,[{}].concat(zt(e)))},e),p=pb(h),x=pb(c),b=f?pb(f):"",y=wL(pJ,[s,t.id,p,x,b],function(){var _,C=d?d(h,c,t):cye(h,c,t,u),E=we({},C),M="";if(f){var R=hJ(C,f.key,{prefix:f.prefix,ignore:f.ignore,unitless:f.unitless,preserve:f.preserve}),N=Oe(R,2);C=N[0],M=N[1]}var O=Hk(C,s);C._tokenKey=O,E._tokenKey=Hk(E,s);var I=(_=f==null?void 0:f.key)!==null&&_!==void 0?_:O;C._themeKey=I,oye(I);var L="".concat(iye,"-").concat(ax(O));return C._hashId=L,[C,L,E,M,(f==null?void 0:f.key)||""]},function(_){lye(_[0]._themeKey,i)},function(_){var C=Oe(_,4),E=C[0],M=C[3];if(f&&M){var R=Kd(M,ax("css-variables-".concat(E._themeKey)),{mark:au,prepend:"queue",attachTo:o,priority:-999});R[yh]=i,R.setAttribute(UA,E._themeKey)}});return y}var dye=function(e,n,r){var i=Oe(e,5),o=i[2],a=i[3],s=i[4],l=r||{},c=l.plain;if(!a)return null;var u=o._tokenKey,d=-999,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)},h=wT(a,s,u,f,c);return[d,u,h]},fye={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mJ="comm",gJ="rule",AJ="decl",hye="@import",pye="@namespace",mye="@keyframes",gye="@layer",vJ=Math.abs,CL=String.fromCharCode;function yJ(t){return t.trim()}function gC(t,e,n){return t.replace(e,n)}function Aye(t,e,n){return t.indexOf(e,n)}function pA(t,e){return t.charCodeAt(e)|0}function kA(t,e,n){return t.slice(e,n)}function zu(t){return t.length}function vye(t){return t.length}function ZS(t,e){return e.push(t),t}var z3=1,VA=1,bJ=0,xc=0,Fo=0,qv="";function TL(t,e,n,r,i,o,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:z3,column:VA,length:a,return:"",siblings:s}}function yye(){return Fo}function bye(){return Fo=xc>0?pA(qv,--xc):0,VA--,Fo===10&&(VA=1,z3--),Fo}function su(){return Fo=xc<bJ?pA(qv,xc++):0,VA++,Fo===10&&(VA=1,z3++),Fo}function bh(){return pA(qv,xc)}function AC(){return xc}function G3(t,e){return kA(qv,t,e)}function ux(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xye(t){return z3=VA=1,bJ=zu(qv=t),xc=0,[]}function Sye(t){return qv="",t}function ZP(t){return yJ(G3(xc-1,uO(t===91?t+2:t===40?t+1:t)))}function _ye(t){for(;(Fo=bh())&&Fo<33;)su();return ux(t)>2||ux(Fo)>3?"":" "}function wye(t,e){for(;--e&&su()&&!(Fo<48||Fo>102||Fo>57&&Fo<65||Fo>70&&Fo<97););return G3(t,AC()+(e<6&&bh()==32&&su()==32))}function uO(t){for(;su();)switch(Fo){case t:return xc;case 34:case 39:t!==34&&t!==39&&uO(Fo);break;case 40:t===41&&uO(t);break;case 92:su();break}return xc}function Cye(t,e){for(;su()&&t+Fo!==47+10;)if(t+Fo===42+42&&bh()===47)break;return"/*"+G3(e,xc-1)+"*"+CL(t===47?t:su())}function Tye(t){for(;!ux(bh());)su();return G3(t,xc)}function Eye(t){return Sye(vC("",null,null,null,[""],t=xye(t),0,[0],t))}function vC(t,e,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,f=0,h=0,p=0,x=1,b=1,y=1,_=0,C="",E=i,M=o,R=r,N=C;b;)switch(p=_,_=su()){case 40:if(p!=108&&pA(N,d-1)==58){Aye(N+=gC(ZP(_),"&","&\f"),"&\f",vJ(c?s[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:N+=ZP(_);break;case 9:case 10:case 13:case 32:N+=_ye(p);break;case 92:N+=wye(AC()-1,7);continue;case 47:switch(bh()){case 42:case 47:ZS(Mye(Cye(su(),AC()),e,n,l),l),(ux(p||1)==5||ux(bh()||1)==5)&&zu(N)&&kA(N,-1,void 0)!==" "&&(N+=" ");break;default:N+="/"}break;case 123*x:s[c++]=zu(N)*y;case 125*x:case 59:case 0:switch(_){case 0:case 125:b=0;case 59+u:y==-1&&(N=gC(N,/\f/g,"")),h>0&&(zu(N)-d||x===0&&p===47)&&ZS(h>32?Xk(N+";",r,n,d-1,l):Xk(gC(N," ","")+";",r,n,d-2,l),l);break;case 59:N+=";";default:if(ZS(R=Wk(N,e,n,c,u,i,s,C,E=[],M=[],d,o),o),_===123)if(u===0)vC(N,e,R,R,E,o,d,s,M);else{switch(f){case 99:if(pA(N,3)===110)break;case 108:if(pA(N,2)===97)break;default:u=0;case 100:case 109:case 115:}u?vC(t,R,R,r&&ZS(Wk(t,R,R,0,0,i,s,C,i,E=[],d,M),M),i,M,d,s,r?E:M):vC(N,R,R,R,[""],M,0,s,M)}}c=u=h=0,x=y=1,C=N="",d=a;break;case 58:d=1+zu(N),h=p;default:if(x<1){if(_==123)--x;else if(_==125&&x++==0&&bye()==125)continue}switch(N+=CL(_),_*x){case 38:y=u>0?1:(N+="\f",-1);break;case 44:s[c++]=(zu(N)-1)*y,y=1;break;case 64:bh()===45&&(N+=ZP(su())),f=bh(),u=d=zu(C=N+=Tye(AC())),_++;break;case 45:p===45&&zu(N)==2&&(x=0)}}return o}function Wk(t,e,n,r,i,o,a,s,l,c,u,d){for(var f=i-1,h=i===0?o:[""],p=vye(h),x=0,b=0,y=0;x<r;++x)for(var _=0,C=kA(t,f+1,f=vJ(b=a[x])),E=t;_<p;++_)(E=yJ(b>0?h[_]+" "+C:gC(C,/&\f/g,h[_])))&&(l[y++]=E);return TL(t,e,n,i===0?gJ:s,l,c,u,d)}function Mye(t,e,n,r){return TL(t,e,n,mJ,CL(yye()),kA(t,2,-2),0,r)}function Xk(t,e,n,r,i){return TL(t,e,n,AJ,kA(t,0,r),kA(t,r+1,-1),r,i)}function dO(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Rye(t,e,n,r){switch(t.type){case gye:if(t.children.length)break;case hye:case pye:case AJ:return t.return=t.return||t.value;case mJ:return"";case mye:return t.return=t.value+"{"+dO(t.children,r)+"}";case gJ:if(!zu(t.value=t.props.join(",")))return""}return zu(n=dO(t.children,r))?t.return=t.value+"{"+n+"}":""}var Yk="data-ant-cssinjs-cache-path",xJ="_FILE_STYLE__",Mm,SJ=!0;function Pye(){if(!Mm&&(Mm={},Da())){var t=document.createElement("div");t.className=Yk,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var o=i.split(":"),a=Oe(o,2),s=a[0],l=a[1];Mm[s]=l});var n=document.querySelector("style[".concat(Yk,"]"));if(n){var r;SJ=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function Nye(t){return Pye(),!!Mm[t]}function Iye(t){var e=Mm[t],n=null;if(e&&Da())if(SJ)n=xJ;else{var r=document.querySelector("style[".concat(au,'="').concat(Mm[t],'"]'));r?n=r.innerHTML:delete Mm[t]}return[n,e]}var Dye="_skip_check_",_J="_multi_value_";function yC(t){var e=dO(Eye(t),Rye);return e.replace(/\{%%%\:[^;];}/g,";")}function Oye(t){return yn(t)==="object"&&t&&(Dye in t||_J in t)}function Kk(t,e,n){if(!e)return t;var r=".".concat(e),i=n==="low"?":where(".concat(r,")"):r,o=t.split(",").map(function(a){var s,l=a.trim().split(/\s+/),c=l[0]||"",u=((s=c.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return c="".concat(u).concat(i).concat(c.slice(u.length)),[c].concat(zt(l.slice(1))).join(" ")});return o.join(",")}var Lye=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,a=r.parentSelectors,s=n.hashId,l=n.layer;n.path;var c=n.hashPriority,u=n.transformers,d=u===void 0?[]:u;n.linters;var f="",h={};function p(y){var _=y.getName(s);if(!h[_]){var C=t(y.style,n,{root:!1,parentSelectors:a}),E=Oe(C,1),M=E[0];h[_]="@keyframes ".concat(y.getName(s)).concat(M)}}function x(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return y.forEach(function(C){Array.isArray(C)?x(C,_):C&&_.push(C)}),_}var b=x(Array.isArray(e)?e:[e]);return b.forEach(function(y){var _=typeof y=="string"&&!i?{}:y;if(typeof _=="string")f+="".concat(_,`
`);else if(_._keyframe)p(_);else{var C=d.reduce(function(E,M){var R;return(M==null||(R=M.visit)===null||R===void 0?void 0:R.call(M,E))||E},_);Object.keys(C).forEach(function(E){var M=C[E];if(yn(M)==="object"&&M&&(E!=="animationName"||!M._keyframe)&&!Oye(M)){var R=!1,N=E.trim(),O=!1;(i||o)&&s?N.startsWith("@")?R=!0:N==="&"?N=Kk("",s,c):N=Kk(E,s,c):i&&!s&&(N==="&"||N==="")&&(N="",O=!0);var I=t(M,n,{root:O,injectHash:R,parentSelectors:[].concat(zt(a),[N])}),L=Oe(I,2),F=L[0],$=L[1];h=we(we({},h),$),f+="".concat(N).concat(F)}else{let z=function(H,j){var X=H.replace(/[A-Z]/g,function(J){return"-".concat(J.toLowerCase())}),Y=j;!fye[H]&&typeof Y=="number"&&Y!==0&&(Y="".concat(Y,"px")),H==="animationName"&&j!==null&&j!==void 0&&j._keyframe&&(p(j),Y=j.getName(s)),f+="".concat(X,":").concat(Y,";")};var k=z,V,U=(V=M==null?void 0:M.value)!==null&&V!==void 0?V:M;yn(M)==="object"&&M!==null&&M!==void 0&&M[_J]&&Array.isArray(U)?U.forEach(function(H){z(E,H)}):z(E,U)}})}}),i?l&&(f&&(f="@layer ".concat(l.name," {").concat(f,"}")),l.dependencies&&(h["@layer ".concat(l.name)]=l.dependencies.map(function(y){return"@layer ".concat(y,", ").concat(l.name,";")}).join(`
`))):f="{".concat(f,"}"),[f,h]};function wJ(t,e){return ax("".concat(t.join("%")).concat(e))}function Bye(){return null}var CJ="style";function fO(t,e){var n=t.token,r=t.path,i=t.hashId,o=t.layer,a=t.nonce,s=t.clientOnly,l=t.order,c=l===void 0?0:l,u=S.useContext(b2),d=u.autoClear;u.mock;var f=u.defaultCache,h=u.hashPriority,p=u.container,x=u.ssrInline,b=u.transformers,y=u.linters,_=u.cache,C=u.layer,E=n._tokenKey,M=[E];C&&M.push("layer"),M.push.apply(M,zt(r));var R=cO,N=wL(CJ,M,function(){var $=M.join("|");if(Nye($)){var V=Iye($),U=Oe(V,2),k=U[0],z=U[1];if(k)return[k,E,z,{},s,c]}var H=e(),j=Lye(H,{hashId:i,hashPriority:h,layer:C?o:void 0,path:r.join("-"),transformers:b,linters:y}),X=Oe(j,2),Y=X[0],J=X[1],ee=yC(Y),re=wJ(M,ee);return[ee,E,re,J,s,c]},function($,V){var U=Oe($,3),k=U[2];(V||d)&&cO&&sx(k,{mark:au,attachTo:p})},function($){var V=Oe($,4),U=V[0];V[1];var k=V[2],z=V[3];if(R&&U!==xJ){var H={mark:au,prepend:C?!1:"queue",attachTo:p,priority:c},j=typeof a=="function"?a():a;j&&(H.csp={nonce:j});var X=[],Y=[];Object.keys(z).forEach(function(ee){ee.startsWith("@layer")?X.push(ee):Y.push(ee)}),X.forEach(function(ee){Kd(yC(z[ee]),"_layer-".concat(ee),we(we({},H),{},{prepend:!0}))});var J=Kd(U,k,H);J[yh]=_.instanceId,J.setAttribute(UA,E),Y.forEach(function(ee){Kd(yC(z[ee]),"_effect-".concat(ee),H)})}}),O=Oe(N,3),I=O[0],L=O[1],F=O[2];return function($){var V;return!x||R||!f?V=S.createElement(Bye,null):V=S.createElement("style",it({},Se(Se({},UA,L),au,F),{dangerouslySetInnerHTML:{__html:I}})),S.createElement(S.Fragment,null,V,$)}}var Fye=function(e,n,r){var i=Oe(e,6),o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],d=r||{},f=d.plain;if(c)return null;var h=o,p={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return h=wT(o,a,s,p,f),l&&Object.keys(l).forEach(function(x){if(!n[x]){n[x]=!0;var b=yC(l[x]),y=wT(b,a,"_effect-".concat(x),p,f);x.startsWith("@layer")?h=y+h:h+=y}}),[u,s,h]},TJ="cssVar",$ye=function(e,n){var r=e.key,i=e.prefix,o=e.unitless,a=e.ignore,s=e.token,l=e.scope,c=l===void 0?"":l,u=S.useContext(b2),d=u.cache.instanceId,f=u.container,h=s._tokenKey,p=[].concat(zt(e.path),[r,c,h]),x=wL(TJ,p,function(){var b=n(),y=hJ(b,r,{prefix:i,unitless:o,ignore:a,scope:c}),_=Oe(y,2),C=_[0],E=_[1],M=wJ(p,E);return[C,E,M,r]},function(b){var y=Oe(b,3),_=y[2];cO&&sx(_,{mark:au,attachTo:f})},function(b){var y=Oe(b,3),_=y[1],C=y[2];if(_){var E=Kd(_,C,{mark:au,prepend:"queue",attachTo:f,priority:-999});E[yh]=d,E.setAttribute(UA,r)}});return x},Uye=function(e,n,r){var i=Oe(e,4),o=i[1],a=i[2],s=i[3],l=r||{},c=l.plain;if(!o)return null;var u=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},f=wT(o,s,a,d,c);return[u,a,f]};Se(Se(Se({},CJ,Fye),pJ,dye),TJ,Uye);var Pr=function(){function t(e,n){Ro(this,t),Se(this,"name",void 0),Se(this,"style",void 0),Se(this,"_keyframe",!0),this.name=e,this.style=n}return Po(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function F0(t){return t.notSplit=!0,t}F0(["borderTop","borderBottom"]),F0(["borderTop"]),F0(["borderBottom"]),F0(["borderLeft","borderRight"]),F0(["borderLeft"]),F0(["borderRight"]);var kye=S.createContext({});const EL=kye;function EJ(t){return sJ(t)||rJ(t)||bL(t)||lJ()}function sc(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function MJ(t,e,n,r){if(!e.length)return n;var i=EJ(e),o=i[0],a=i.slice(1),s;return!t&&typeof o=="number"?s=[]:Array.isArray(t)?s=zt(t):s=we({},t),r&&n===void 0&&a.length===1?delete s[o][a[0]]:s[o]=MJ(s[o],a,n,r),s}function nc(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!sc(t,e.slice(0,-1))?t:MJ(t,e,n,r)}function Vye(t){return yn(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function Qk(t){return Array.isArray(t)?[]:{}}var zye=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function qg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Qk(e[0]);return e.forEach(function(i){function o(a,s){var l=new Set(s),c=sc(i,a),u=Array.isArray(c);if(u||Vye(c)){if(!l.has(c)){l.add(c);var d=sc(r,a);u?r=nc(r,a,[]):(!d||yn(d)!=="object")&&(r=nc(r,a,Qk(c))),zye(c).forEach(function(f){o([].concat(zt(a),[f]),l)})}}else r=nc(r,a,c)}o([])}),r}function Gye(){}const Hye=S.createContext({}),ML=()=>{const t=()=>{};return t.deprecated=Gye,t},RJ=S.createContext(void 0);var PJ={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},jye={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},qye=we(we({},jye),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const Wye={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},NJ=Wye,Xye={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},qye),timePickerLocale:Object.assign({},NJ)},TT=Xye,fl="${label} is not a valid ${type}",Yye={locale:"en",Pagination:PJ,DatePicker:TT,TimePicker:NJ,Calendar:TT,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:fl,method:fl,array:fl,object:fl,number:fl,date:fl,boolean:fl,integer:fl,float:fl,regexp:fl,email:fl,url:fl,hex:fl},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}},hd=Yye;let bC=Object.assign({},hd.Modal),xC=[];const Zk=()=>xC.reduce((t,e)=>Object.assign(Object.assign({},t),e),hd.Modal);function Kye(t){if(t){const e=Object.assign({},t);return xC.push(e),bC=Zk(),()=>{xC=xC.filter(n=>n!==e),bC=Zk()}}bC=Object.assign({},hd.Modal)}function IJ(){return bC}const Qye=S.createContext(void 0),RL=Qye,Zye=(t,e)=>{const n=S.useContext(RL),r=S.useMemo(()=>{var o;const a=e||hd[t],s=(o=n==null?void 0:n[t])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof a=="function"?a():a),s||{})},[t,e,n]),i=S.useMemo(()=>{const o=n==null?void 0:n.locale;return n!=null&&n.exist&&!o?hd.locale:o},[n]);return[r,i]},Vl=Zye,Jye="internalMark",e1e=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;S.useEffect(()=>Kye(e==null?void 0:e.Modal),[e]);const i=S.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return S.createElement(RL.Provider,{value:i},n)},t1e=e1e,DJ={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},n1e=Object.assign(Object.assign({},DJ),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),dx=n1e,ea=Math.round;function JP(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=e(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Jk=(t,e,n)=>n===0?t:t/100;function Hy(t,e){const n=e||255;return t>n?n:t<0?0:t}class Kr{constructor(e){Se(this,"isValid",!0),Se(this,"r",0),Se(this,"g",0),Se(this,"b",0),Se(this,"a",1),Se(this,"_h",void 0),Se(this,"_s",void 0),Se(this,"_l",void 0),Se(this,"_v",void 0),Se(this,"_max",void 0),Se(this,"_min",void 0),Se(this,"_brightness",void 0);function n(i){return i[0]in e&&i[1]in e&&i[2]in e}if(e)if(typeof e=="string"){let o=function(a){return i.startsWith(a)};var r=o;const i=e.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):o("rgb")?this.fromRgbString(i):o("hsl")?this.fromHslString(i):(o("hsv")||o("hsb"))&&this.fromHsvString(i)}else if(e instanceof Kr)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=Hy(e.r),this.g=Hy(e.g),this.b=Hy(e.b),this.a=typeof e.a=="number"?Hy(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(o){const a=o/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),i=e(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=ea(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(e,n=50){const r=this._c(e),i=n/100,o=s=>(r[s]-this[s])*i+this[s],a={r:ea(o("r")),g:ea(o("g")),b:ea(o("b")),a:ea(o("a")*100)/100};return this._c(a)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),i=o=>ea((this[o]*this.a+n[o]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=ea(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=ea(this.getSaturation()*100),r=ea(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const i=this.clone();return i[e]=Hy(n,r),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(i,o){return parseInt(n[i]+n[o||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:i}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const f=ea(r*255);this.r=f,this.g=f,this.b=f}let o=0,a=0,s=0;const l=e/60,c=(1-Math.abs(2*r-1))*n,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(o=c,a=u):l>=1&&l<2?(o=u,a=c):l>=2&&l<3?(a=c,s=u):l>=3&&l<4?(a=u,s=c):l>=4&&l<5?(o=u,s=c):l>=5&&l<6&&(o=c,s=u);const d=r-c/2;this.r=ea((o+d)*255),this.g=ea((a+d)*255),this.b=ea((s+d)*255)}fromHsv({h:e,s:n,v:r,a:i}){this._h=e%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const o=ea(r*255);if(this.r=o,this.g=o,this.b=o,n<=0)return;const a=e/60,s=Math.floor(a),l=a-s,c=ea(r*(1-n)*255),u=ea(r*(1-n*l)*255),d=ea(r*(1-n*(1-l))*255);switch(s){case 0:this.g=d,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=u;break;case 4:this.r=d,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(e){const n=JP(e,Jk);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=JP(e,Jk);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=JP(e,(r,i)=>i.includes("%")?ea(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var JS=2,eV=.16,r1e=.05,i1e=.05,o1e=.15,OJ=5,LJ=4,a1e=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function tV(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-JS*e:Math.round(t.h)+JS*e:r=n?Math.round(t.h)+JS*e:Math.round(t.h)-JS*e,r<0?r+=360:r>=360&&(r-=360),r}function nV(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-eV*e:e===LJ?r=t.s+eV:r=t.s+r1e*e,r>1&&(r=1),n&&e===OJ&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function rV(t,e,n){var r;return n?r=t.v+i1e*e:r=t.v-o1e*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function fx(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new Kr(t),i=r.toHsv(),o=OJ;o>0;o-=1){var a=new Kr({h:tV(i,o,!0),s:nV(i,o,!0),v:rV(i,o,!0)});n.push(a)}n.push(r);for(var s=1;s<=LJ;s+=1){var l=new Kr({h:tV(i,s),s:nV(i,s),v:rV(i,s)});n.push(l)}return e.theme==="dark"?a1e.map(function(c){var u=c.index,d=c.amount;return new Kr(e.backgroundColor||"#141414").mix(n[u],d).toHexString()}):n.map(function(c){return c.toHexString()})}var mA={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},hO=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];hO.primary=hO[5];var pO=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];pO.primary=pO[5];var mO=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];mO.primary=mO[5];var ET=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];ET.primary=ET[5];var gO=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];gO.primary=gO[5];var AO=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];AO.primary=AO[5];var vO=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];vO.primary=vO[5];var yO=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];yO.primary=yO[5];var MT=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];MT.primary=MT[5];var bO=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];bO.primary=bO[5];var xO=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];xO.primary=xO[5];var SO=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];SO.primary=SO[5];var _O=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];_O.primary=_O[5];var e4={red:hO,volcano:pO,orange:mO,gold:ET,yellow:gO,lime:AO,green:vO,cyan:yO,blue:MT,geekblue:bO,purple:xO,magenta:SO,grey:_O};function s1e(t,{generateColorPalettes:e,generateNeutralColorPalettes:n}){const{colorSuccess:r,colorWarning:i,colorError:o,colorInfo:a,colorPrimary:s,colorBgBase:l,colorTextBase:c}=t,u=e(s),d=e(r),f=e(i),h=e(o),p=e(a),x=n(l,c),b=t.colorLink||t.colorInfo,y=e(b),_=new Kr(h[1]).mix(new Kr(h[3]),50).toHexString();return Object.assign(Object.assign({},x),{colorPrimaryBg:u[1],colorPrimaryBgHover:u[2],colorPrimaryBorder:u[3],colorPrimaryBorderHover:u[4],colorPrimaryHover:u[5],colorPrimary:u[6],colorPrimaryActive:u[7],colorPrimaryTextHover:u[8],colorPrimaryText:u[9],colorPrimaryTextActive:u[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:h[1],colorErrorBgHover:h[2],colorErrorBgFilledHover:_,colorErrorBgActive:h[3],colorErrorBorder:h[3],colorErrorBorderHover:h[4],colorErrorHover:h[5],colorError:h[6],colorErrorActive:h[7],colorErrorTextHover:h[8],colorErrorText:h[9],colorErrorTextActive:h[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:p[1],colorInfoBgHover:p[2],colorInfoBorder:p[3],colorInfoBorderHover:p[4],colorInfoHover:p[4],colorInfo:p[6],colorInfoActive:p[7],colorInfoTextHover:p[8],colorInfoText:p[9],colorInfoTextActive:p[10],colorLinkHover:y[4],colorLink:y[6],colorLinkActive:y[7],colorBgMask:new Kr("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const l1e=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}},c1e=l1e;function u1e(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},c1e(r))}const d1e=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},f1e=d1e;function SC(t){return(t+8)/t}function h1e(t){const e=Array.from({length:10}).map((n,r)=>{const i=r-1,o=t*Math.pow(Math.E,i/5),a=r>1?Math.floor(o):Math.ceil(o);return Math.floor(a/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:SC(n)}))}const p1e=t=>{const e=h1e(t),n=e.map(u=>u.size),r=e.map(u=>u.lineHeight),i=n[1],o=n[0],a=n[2],s=r[1],l=r[0],c=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:a,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:s,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(s*i),fontHeightLG:Math.round(c*a),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}},m1e=p1e;function g1e(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const Wl=(t,e)=>new Kr(t).setA(e).toRgbString(),jy=(t,e)=>new Kr(t).darken(e).toHexString(),A1e=t=>{const e=fx(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},v1e=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Wl(r,.88),colorTextSecondary:Wl(r,.65),colorTextTertiary:Wl(r,.45),colorTextQuaternary:Wl(r,.25),colorFill:Wl(r,.15),colorFillSecondary:Wl(r,.06),colorFillTertiary:Wl(r,.04),colorFillQuaternary:Wl(r,.02),colorBgSolid:Wl(r,1),colorBgSolidHover:Wl(r,.75),colorBgSolidActive:Wl(r,.95),colorBgLayout:jy(n,4),colorBgContainer:jy(n,0),colorBgElevated:jy(n,0),colorBgSpotlight:Wl(r,.85),colorBgBlur:"transparent",colorBorder:jy(n,15),colorBorderSecondary:jy(n,6)}};function y1e(t){mA.pink=mA.magenta,e4.pink=e4.magenta;const e=Object.keys(DJ).map(n=>{const r=t[n]===mA[n]?e4[n]:fx(t[n]);return Array.from({length:10},()=>1).reduce((i,o,a)=>(i[`${n}-${a+1}`]=r[a],i[`${n}${a+1}`]=r[a],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),s1e(t,{generateColorPalettes:A1e,generateNeutralColorPalettes:v1e})),m1e(t.fontSize)),g1e(t)),f1e(t)),u1e(t))}const b1e=lO(y1e),BJ=b1e,wO={token:dx,override:{override:dx},hashed:!0},FJ=je.createContext(wO),hx="ant",H3="anticon",x1e=["outlined","borderless","filled","underlined"],S1e=(t,e)=>e||(t?`${hx}-${t}`:hx),Kn=S.createContext({getPrefixCls:S1e,iconPrefixCls:H3}),iV={};function fa(t){const e=S.useContext(Kn),{getPrefixCls:n,direction:r,getPopupContainer:i}=e,o=e[t];return Object.assign(Object.assign({classNames:iV,styles:iV},o),{getPrefixCls:n,direction:r,getPopupContainer:i})}const _1e=`-ant-${Date.now()}-${Math.random()}`;function w1e(t,e){const n={},r=(a,s)=>{let l=a.clone();return l=(s==null?void 0:s(l))||l,l.toRgbString()},i=(a,s)=>{const l=new Kr(a),c=fx(l.toRgbString());n[`${s}-color`]=r(l),n[`${s}-color-disabled`]=c[1],n[`${s}-color-hover`]=c[4],n[`${s}-color-active`]=c[6],n[`${s}-color-outline`]=l.clone().setA(.2).toRgbString(),n[`${s}-color-deprecated-bg`]=c[0],n[`${s}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const a=new Kr(e.primaryColor),s=fx(a.toRgbString());s.forEach((c,u)=>{n[`primary-${u+1}`]=c}),n["primary-color-deprecated-l-35"]=r(a,c=>c.lighten(35)),n["primary-color-deprecated-l-20"]=r(a,c=>c.lighten(20)),n["primary-color-deprecated-t-20"]=r(a,c=>c.tint(20)),n["primary-color-deprecated-t-50"]=r(a,c=>c.tint(50)),n["primary-color-deprecated-f-12"]=r(a,c=>c.setA(c.a*.12));const l=new Kr(s[0]);n["primary-color-active-deprecated-f-30"]=r(l,c=>c.setA(c.a*.3)),n["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(a=>`--${t}-${a}: ${n[a]};`).join(`
`)}
  }
  `.trim()}function C1e(t,e){const n=w1e(t,e);Da()&&Kd(n,`${_1e}-dynamic-theme`)}const CO=S.createContext(!1),PL=({children:t,disabled:e})=>{const n=S.useContext(CO);return S.createElement(CO.Provider,{value:e??n},t)},wf=CO,TO=S.createContext(void 0),T1e=({children:t,size:e})=>{const n=S.useContext(TO);return S.createElement(TO.Provider,{value:e||n},t)},x2=TO;function E1e(){const t=S.useContext(wf),e=S.useContext(x2);return{componentDisabled:t,componentSize:e}}var $J=Po(function t(){Ro(this,t)}),UJ="CALC_UNIT",M1e=new RegExp(UJ,"g");function t4(t){return typeof t=="number"?"".concat(t).concat(UJ):t}var R1e=function(t){Sf(n,t);var e=_f(n);function n(r,i){var o;Ro(this,n),o=e.call(this),Se(Mr(o),"result",""),Se(Mr(o),"unitlessCssVar",void 0),Se(Mr(o),"lowPriority",void 0);var a=yn(r);return o.unitlessCssVar=i,r instanceof n?o.result="(".concat(r.result,")"):a==="number"?o.result=t4(r):a==="string"&&(o.result=r),o}return Po(n,[{key:"add",value:function(i){return i instanceof n?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(t4(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof n?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(t4(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var o=this,a=i||{},s=a.unit,l=!0;return typeof s=="boolean"?l=s:Array.from(this.unitlessCssVar).some(function(c){return o.result.includes(c)})&&(l=!1),this.result=this.result.replace(M1e,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}($J),P1e=function(t){Sf(n,t);var e=_f(n);function n(r){var i;return Ro(this,n),i=e.call(this),Se(Mr(i),"result",0),r instanceof n?i.result=r.result:typeof r=="number"&&(i.result=r),i}return Po(n,[{key:"add",value:function(i){return i instanceof n?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof n?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof n?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof n?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),n}($J),N1e=function(e,n){var r=e==="css"?R1e:P1e;return function(i){return new r(i,n)}},oV=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Or(t){var e=S.useRef();e.current=t;var n=S.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n}function Vm(t){var e=S.useRef(!1),n=S.useState(t),r=Oe(n,2),i=r[0],o=r[1];S.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function a(s,l){l&&e.current||o(s)}return[i,a]}function n4(t){return t!==void 0}function yi(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=Vm(function(){return n4(i)?i:n4(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=Oe(s,2),c=l[0],u=l[1],d=i!==void 0?i:c,f=a?a(d):d,h=Or(o),p=Vm([d]),x=Oe(p,2),b=x[0],y=x[1];CT(function(){var C=b[0];c!==C&&h(c,C)},[b]),CT(function(){n4(i)||u(i)},[i]);var _=Or(function(C,E){u(C,E),y([d],E)});return[f,_]}function aV(t,e,n,r){var i=we({},e[t]);if(r!=null&&r.deprecatedTokens){var o=r.deprecatedTokens;o.forEach(function(s){var l=Oe(s,2),c=l[0],u=l[1];if(i!=null&&i[c]||i!=null&&i[u]){var d;(d=i[u])!==null&&d!==void 0||(i[u]=i==null?void 0:i[c])}})}var a=we(we({},n),i);return Object.keys(a).forEach(function(s){a[s]===e[s]&&delete a[s]}),a}var kJ=typeof CSSINJS_STATISTIC<"u",EO=!0;function Fr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!kJ)return Object.assign.apply(Object,[{}].concat(e));EO=!1;var r={};return e.forEach(function(i){if(yn(i)==="object"){var o=Object.keys(i);o.forEach(function(a){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return i[a]}})})}}),EO=!0,r}var sV={};function I1e(){}var D1e=function(e){var n,r=e,i=I1e;return kJ&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(a,s){if(EO){var l;(l=n)===null||l===void 0||l.add(s)}return a[s]}}),i=function(a,s){var l;sV[a]={global:Array.from(n),component:we(we({},(l=sV[a])===null||l===void 0?void 0:l.component),s)}}),{token:r,keys:n,flush:i}};function lV(t,e,n){if(typeof n=="function"){var r;return n(Fr(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function O1e(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"max(".concat(r.map(function(o){return Re(o)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"min(".concat(r.map(function(o){return Re(o)}).join(","),")")}}}var L1e=1e3*60*10,B1e=function(){function t(){Ro(this,t),Se(this,"map",new Map),Se(this,"objectIDMap",new WeakMap),Se(this,"nextID",0),Se(this,"lastAccessBeat",new Map),Se(this,"accessBeat",0)}return Po(t,[{key:"set",value:function(n,r){this.clear();var i=this.getCompositeKey(n);this.map.set(i,r),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),i=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(n){var r=this,i=n.map(function(o){return o&&yn(o)==="object"?"obj_".concat(r.getObjectID(o)):"".concat(yn(o),"_").concat(o)});return i.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(i,o){r-i>L1e&&(n.map.delete(o),n.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),t}(),cV=new B1e;function F1e(t,e){return je.useMemo(function(){var n=cV.get(e);if(n)return n;var r=t();return cV.set(e,r),r},e)}var $1e=function(){return{}};function U1e(t){var e=t.useCSP,n=e===void 0?$1e:e,r=t.useToken,i=t.usePrefix,o=t.getResetStyles,a=t.getCommonStyle,s=t.getCompUnitless;function l(f,h,p,x){var b=Array.isArray(f)?f[0]:f;function y(O){return"".concat(String(b)).concat(O.slice(0,1).toUpperCase()).concat(O.slice(1))}var _=(x==null?void 0:x.unitless)||{},C=typeof s=="function"?s(f):{},E=we(we({},C),{},Se({},y("zIndexPopup"),!0));Object.keys(_).forEach(function(O){E[y(O)]=_[O]});var M=we(we({},x),{},{unitless:E,prefixToken:y}),R=u(f,h,p,M),N=c(b,p,M);return function(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O,L=R(O,I),F=Oe(L,2),$=F[1],V=N(I),U=Oe(V,2),k=U[0],z=U[1];return[k,$,z]}}function c(f,h,p){var x=p.unitless,b=p.injectStyle,y=b===void 0?!0:b,_=p.prefixToken,C=p.ignore,E=function(N){var O=N.rootCls,I=N.cssVar,L=I===void 0?{}:I,F=r(),$=F.realToken;return $ye({path:[f],prefix:L.prefix,key:L.key,unitless:x,ignore:C,token:$,scope:O},function(){var V=lV(f,$,h),U=aV(f,$,V,{deprecatedTokens:p==null?void 0:p.deprecatedTokens});return Object.keys(V).forEach(function(k){U[_(k)]=U[k],delete U[k]}),U}),null},M=function(N){var O=r(),I=O.cssVar;return[function(L){return y&&I?je.createElement(je.Fragment,null,je.createElement(E,{rootCls:N,cssVar:I,component:f}),L):L},I==null?void 0:I.key]};return M}function u(f,h,p){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=Array.isArray(f)?f:[f,f],y=Oe(b,1),_=y[0],C=b.join("-"),E=t.layer||{name:"antd"};return function(M){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M,N=r(),O=N.theme,I=N.realToken,L=N.hashId,F=N.token,$=N.cssVar,V=i(),U=V.rootPrefixCls,k=V.iconPrefixCls,z=n(),H=$?"css":"js",j=F1e(function(){var ue=new Set;return $&&Object.keys(x.unitless||{}).forEach(function(fe){ue.add(mC(fe,$.prefix)),ue.add(mC(fe,oV(_,$.prefix)))}),N1e(H,ue)},[H,_,$==null?void 0:$.prefix]),X=O1e(H),Y=X.max,J=X.min,ee={theme:O,token:F,hashId:L,nonce:function(){return z.nonce},clientOnly:x.clientOnly,layer:E,order:x.order||-999};typeof o=="function"&&fO(we(we({},ee),{},{clientOnly:!1,path:["Shared",U]}),function(){return o(F,{prefix:{rootPrefixCls:U,iconPrefixCls:k},csp:z})});var re=fO(we(we({},ee),{},{path:[C,M,k]}),function(){if(x.injectStyle===!1)return[];var ue=D1e(F),fe=ue.token,oe=ue.flush,ce=lV(_,I,p),pe=".".concat(M),ye=aV(_,I,ce,{deprecatedTokens:x.deprecatedTokens});$&&ce&&yn(ce)==="object"&&Object.keys(ce).forEach(function(Ne){ce[Ne]="var(".concat(mC(Ne,oV(_,$.prefix)),")")});var xe=Fr(fe,{componentCls:pe,prefixCls:M,iconCls:".".concat(k),antCls:".".concat(U),calc:j,max:Y,min:J},$?ce:ye),be=h(xe,{hashId:L,prefixCls:M,rootPrefixCls:U,iconPrefixCls:k});oe(_,ye);var Ce=typeof a=="function"?a(xe,M,R,x.resetFont):null;return[x.resetStyle===!1?null:Ce,be]});return[re,L]}}function d(f,h,p){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=u(f,h,p,we({resetStyle:!1,order:-998},x)),y=function(C){var E=C.prefixCls,M=C.rootCls,R=M===void 0?E:M;return b(E,R),null};return y}return{genStyleHooks:l,genSubStyleComponent:d,genComponentStyleHook:u}}const qh=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],k1e="5.29.3";function r4(t){return t>=0&&t<=255}function U1(t,e){const{r:n,g:r,b:i,a:o}=new Kr(t).toRgb();if(o<1)return t;const{r:a,g:s,b:l}=new Kr(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((n-a*(1-c))/c),d=Math.round((r-s*(1-c))/c),f=Math.round((i-l*(1-c))/c);if(r4(u)&&r4(d)&&r4(f))return new Kr({r:u,g:d,b:f,a:Math.round(c*100)/100}).toRgbString()}return new Kr({r:n,g:r,b:i,a:1}).toRgbString()}var V1e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function VJ(t){const{override:e}=t,n=V1e(t,["override"]),r=Object.assign({},e);Object.keys(dx).forEach(f=>{delete r[f]});const i=Object.assign(Object.assign({},n),r),o=480,a=576,s=768,l=992,c=1200,u=1600;if(i.motion===!1){const f="0s";i.motionDurationFast=f,i.motionDurationMid=f,i.motionDurationSlow=f}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:U1(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:U1(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:U1(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*3,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:U1(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:a-1,screenSM:a,screenSMMin:a,screenSMMax:s-1,screenMD:s,screenMDMin:s,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Kr("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Kr("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Kr("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var uV=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const zJ={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},z1e={motionBase:!0,motionUnit:!0},G1e={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},GJ=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:i}=e,o=uV(e,["override"]);let a=Object.assign(Object.assign({},r),{override:i});return a=VJ(a),o&&Object.entries(o).forEach(([s,l])=>{const{theme:c}=l,u=uV(l,["theme"]);let d=u;c&&(d=GJ(Object.assign(Object.assign({},a),u),{override:u},c)),a[s]=d}),a};function cl(){const{token:t,hashed:e,theme:n,override:r,cssVar:i}=je.useContext(FJ),o=`${k1e}-${e||""}`,a=n||BJ,[s,l,c]=uye(a,[dx,t],{salt:o,override:r,getComputedToken:GJ,formatToken:VJ,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:zJ,ignore:z1e,preserve:G1e}});return[a,c,e?l:"",s,i]}const Wh={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Ji=(t,e=!1)=>({boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}),j3=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),S2=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),H1e=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),j1e=(t,e,n,r)=>{const i=`[class^="${e}"], [class*=" ${e}"]`,o=n?`.${n}`:i,a={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return r!==!1&&(s={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},s),a),{[i]:a})}},zA=(t,e)=>({outline:`${Re(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),zm=(t,e)=>({"&:focus-visible":zA(t,e)}),HJ=t=>({[`.${t}`]:Object.assign(Object.assign({},j3()),{[`.${t} .${t}-icon`]:{display:"block"}})}),jJ=t=>Object.assign(Object.assign({color:t.colorLink,textDecoration:t.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},zm(t)),{"&:hover":{color:t.colorLinkHover,textDecoration:t.linkHoverDecoration},"&:focus":{color:t.colorLinkHover,textDecoration:t.linkFocusDecoration},"&:active":{color:t.colorLinkActive,textDecoration:t.linkHoverDecoration}}),{genStyleHooks:di,genComponentStyleHook:q1e,genSubStyleComponent:Wv}=U1e({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=S.useContext(Kn);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,i]=cl();return{theme:t,realToken:e,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:t}=S.useContext(Kn);return t??{}},getResetStyles:(t,e)=>{var n;const r=H1e(t);return[r,{"&":r},HJ((n=e==null?void 0:e.prefix.iconPrefixCls)!==null&&n!==void 0?n:H3)]},getCommonStyle:j1e,getCompUnitless:()=>zJ});function q3(t,e){return qh.reduce((n,r)=>{const i=t[`${r}1`],o=t[`${r}3`],a=t[`${r}6`],s=t[`${r}7`];return Object.assign(Object.assign({},n),e(r,{lightColor:i,lightBorderColor:o,darkColor:a,textColor:s}))},{})}const W1e=(t,e)=>{const[n,r]=cl();return fO({theme:n,token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>HJ(t))},X1e=W1e,Y1e=Object.assign({},p3),{useId:dV}=Y1e,K1e=()=>"",Q1e=typeof dV>"u"?K1e:dV,Z1e=Q1e;function J1e(t,e,n){var r;ML();const i=t||{},o=i.inherit===!1||!e?Object.assign(Object.assign({},wO),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:wO.hashed,cssVar:e==null?void 0:e.cssVar}):e,a=Z1e();return y2(()=>{var s,l;if(!t)return e;const c=Object.assign({},o.components);Object.keys(t.components||{}).forEach(f=>{c[f]=Object.assign(Object.assign({},c[f]),t.components[f])});const u=`css-var-${a.replace(/:/g,"")}`,d=((s=i.cssVar)!==null&&s!==void 0?s:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((l=i.cssVar)===null||l===void 0?void 0:l.key)||u});return Object.assign(Object.assign(Object.assign({},o),i),{token:Object.assign(Object.assign({},o.token),i.token),components:c,cssVar:d})},[i,o],(s,l)=>s.some((c,u)=>{const d=l[u];return!cx(c,d,!0)}))}var ebe=["children"],qJ=S.createContext({});function tbe(t){var e=t.children,n=Qn(t,ebe);return S.createElement(qJ.Provider,{value:n},e)}var nbe=function(t){Sf(n,t);var e=_f(n);function n(){return Ro(this,n),e.apply(this,arguments)}return Po(n,[{key:"render",value:function(){return this.props.children}}]),n}(S.Component);function rbe(t){var e=S.useReducer(function(s){return s+1},0),n=Oe(e,2),r=n[1],i=S.useRef(t),o=Or(function(){return i.current}),a=Or(function(s){i.current=typeof s=="function"?s(i.current):s,r()});return[o,a]}var nh="none",e_="appear",t_="enter",n_="leave",fV="none",Wc="prepare",Wg="start",Xg="active",NL="end",WJ="prepared";function hV(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function ibe(t,e){var n={animationend:hV("Animation","AnimationEnd"),transitionend:hV("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var obe=ibe(Da(),typeof window<"u"?window:{}),XJ={};if(Da()){var abe=document.createElement("div");XJ=abe.style}var r_={};function YJ(t){if(r_[t])return r_[t];var e=obe[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in XJ)return r_[t]=e[o],r_[t]}return""}var KJ=YJ("animationend"),QJ=YJ("transitionend"),ZJ=!!(KJ&&QJ),pV=KJ||"animationend",mV=QJ||"transitionend";function gV(t,e){if(!t)return null;if(yn(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const sbe=function(t){var e=S.useRef();function n(i){i&&(i.removeEventListener(mV,t),i.removeEventListener(pV,t))}function r(i){e.current&&e.current!==i&&n(e.current),i&&i!==e.current&&(i.addEventListener(mV,t),i.addEventListener(pV,t),e.current=i)}return S.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var JJ=Da()?S.useLayoutEffect:S.useEffect;const lbe=function(){var t=S.useRef(null);function e(){Rr.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=Rr(function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)});t.current=o}return S.useEffect(function(){return function(){e()}},[]),[n,e]};var cbe=[Wc,Wg,Xg,NL],ube=[Wc,WJ],eee=!1,dbe=!0;function tee(t){return t===Xg||t===NL}const fbe=function(t,e,n){var r=Vm(fV),i=Oe(r,2),o=i[0],a=i[1],s=lbe(),l=Oe(s,2),c=l[0],u=l[1];function d(){a(Wc,!0)}var f=e?ube:cbe;return JJ(function(){if(o!==fV&&o!==NL){var h=f.indexOf(o),p=f[h+1],x=n(o);x===eee?a(p,!0):p&&c(function(b){function y(){b.isCanceled()||a(p,!0)}x===!0?y():Promise.resolve(x).then(y)})}},[t,o]),S.useEffect(function(){return function(){u()}},[]),[d,o]};function hbe(t,e,n,r){var i=r.motionEnter,o=i===void 0?!0:i,a=r.motionAppear,s=a===void 0?!0:a,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,d=r.motionLeaveImmediately,f=r.onAppearPrepare,h=r.onEnterPrepare,p=r.onLeavePrepare,x=r.onAppearStart,b=r.onEnterStart,y=r.onLeaveStart,_=r.onAppearActive,C=r.onEnterActive,E=r.onLeaveActive,M=r.onAppearEnd,R=r.onEnterEnd,N=r.onLeaveEnd,O=r.onVisibleChanged,I=Vm(),L=Oe(I,2),F=L[0],$=L[1],V=rbe(nh),U=Oe(V,2),k=U[0],z=U[1],H=Vm(null),j=Oe(H,2),X=j[0],Y=j[1],J=k(),ee=S.useRef(!1),re=S.useRef(null);function ue(){return n()}var fe=S.useRef(!1);function oe(){z(nh),Y(null,!0)}var ce=Or(function(rt){var qe=k();if(qe!==nh){var se=ue();if(!(rt&&!rt.deadline&&rt.target!==se)){var K=fe.current,_e;qe===e_&&K?_e=M==null?void 0:M(se,rt):qe===t_&&K?_e=R==null?void 0:R(se,rt):qe===n_&&K&&(_e=N==null?void 0:N(se,rt)),K&&_e!==!1&&oe()}}}),pe=sbe(ce),ye=Oe(pe,1),xe=ye[0],be=function(qe){switch(qe){case e_:return Se(Se(Se({},Wc,f),Wg,x),Xg,_);case t_:return Se(Se(Se({},Wc,h),Wg,b),Xg,C);case n_:return Se(Se(Se({},Wc,p),Wg,y),Xg,E);default:return{}}},Ce=S.useMemo(function(){return be(J)},[J]),Ne=fbe(J,!t,function(rt){if(rt===Wc){var qe=Ce[Wc];return qe?qe(ue()):eee}if(de in Ce){var se;Y(((se=Ce[de])===null||se===void 0?void 0:se.call(Ce,ue(),null))||null)}return de===Xg&&J!==nh&&(xe(ue()),u>0&&(clearTimeout(re.current),re.current=setTimeout(function(){ce({deadline:!0})},u))),de===WJ&&oe(),dbe}),Ae=Oe(Ne,2),me=Ae[0],de=Ae[1],Be=tee(de);fe.current=Be;var ne=S.useRef(null);JJ(function(){if(!(ee.current&&ne.current===e)){$(e);var rt=ee.current;ee.current=!0;var qe;!rt&&e&&s&&(qe=e_),rt&&e&&o&&(qe=t_),(rt&&!e&&c||!rt&&d&&!e&&c)&&(qe=n_);var se=be(qe);qe&&(t||se[Wc])?(z(qe),me()):z(nh),ne.current=e}},[e]),S.useEffect(function(){(J===e_&&!s||J===t_&&!o||J===n_&&!c)&&z(nh)},[s,o,c]),S.useEffect(function(){return function(){ee.current=!1,clearTimeout(re.current)}},[]);var Je=S.useRef(!1);S.useEffect(function(){F&&(Je.current=!0),F!==void 0&&J===nh&&((Je.current||F)&&(O==null||O(F)),Je.current=!0)},[F,J]);var Ye=X;return Ce[Wc]&&de===Wg&&(Ye=we({transition:"none"},Ye)),[J,de,Ye,F??e]}function pbe(t){var e=t;yn(t)==="object"&&(e=t.transitionSupport);function n(i,o){return!!(i.motionName&&e&&o!==!1)}var r=S.forwardRef(function(i,o){var a=i.visible,s=a===void 0?!0:a,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,d=i.children,f=i.motionName,h=i.leavedClassName,p=i.eventProps,x=S.useContext(qJ),b=x.motion,y=n(i,b),_=S.useRef(),C=S.useRef();function E(){try{return _.current instanceof HTMLElement?_.current:pC(C.current)}catch{return null}}var M=hbe(y,s,E,i),R=Oe(M,4),N=R[0],O=R[1],I=R[2],L=R[3],F=S.useRef(L);L&&(F.current=!0);var $=S.useCallback(function(j){_.current=j,vL(o,j)},[o]),V,U=we(we({},p),{},{visible:s});if(!d)V=null;else if(N===nh)L?V=d(we({},U),$):!c&&F.current&&h?V=d(we(we({},U),{},{className:h}),$):u||!c&&!h?V=d(we(we({},U),{},{style:{display:"none"}}),$):V=null;else{var k;O===Wc?k="prepare":tee(O)?k="active":O===Wg&&(k="start");var z=gV(f,"".concat(N,"-").concat(k));V=d(we(we({},U),{},{className:ke(gV(f,N),Se(Se({},z,z&&k),f,typeof f=="string")),style:I}),$)}if(S.isValidElement(V)&&cp(V)){var H=d0(V);H||(V=S.cloneElement(V,{ref:$}))}return S.createElement(nbe,{ref:C},V)});return r.displayName="CSSMotion",r}const yu=pbe(ZJ);var MO="add",RO="keep",PO="remove",i4="removed";function mbe(t){var e;return t&&yn(t)==="object"&&"key"in t?e=t:e={key:t},we(we({},e),{},{key:String(e.key)})}function NO(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(mbe)}function gbe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,o=NO(t),a=NO(e);o.forEach(function(c){for(var u=!1,d=r;d<i;d+=1){var f=a[d];if(f.key===c.key){r<d&&(n=n.concat(a.slice(r,d).map(function(h){return we(we({},h),{},{status:MO})})),r=d),n.push(we(we({},f),{},{status:RO})),r+=1,u=!0;break}}u||n.push(we(we({},c),{},{status:PO}))}),r<i&&(n=n.concat(a.slice(r).map(function(c){return we(we({},c),{},{status:MO})})));var s={};n.forEach(function(c){var u=c.key;s[u]=(s[u]||0)+1});var l=Object.keys(s).filter(function(c){return s[c]>1});return l.forEach(function(c){n=n.filter(function(u){var d=u.key,f=u.status;return d!==c||f!==PO}),n.forEach(function(u){u.key===c&&(u.status=RO)})}),n}var Abe=["component","children","onVisibleChanged","onAllRemoved"],vbe=["status"],ybe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function bbe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yu,n=function(r){Sf(o,r);var i=_f(o);function o(){var a;Ro(this,o);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=i.call.apply(i,[this].concat(l)),Se(Mr(a),"state",{keyEntities:[]}),Se(Mr(a),"removeKey",function(u){a.setState(function(d){var f=d.keyEntities.map(function(h){return h.key!==u?h:we(we({},h),{},{status:i4})});return{keyEntities:f}},function(){var d=a.state.keyEntities,f=d.filter(function(h){var p=h.status;return p!==i4}).length;f===0&&a.props.onAllRemoved&&a.props.onAllRemoved()})}),a}return Po(o,[{key:"render",value:function(){var s=this,l=this.state.keyEntities,c=this.props,u=c.component,d=c.children,f=c.onVisibleChanged;c.onAllRemoved;var h=Qn(c,Abe),p=u||S.Fragment,x={};return ybe.forEach(function(b){x[b]=h[b],delete h[b]}),delete h.keys,S.createElement(p,h,l.map(function(b,y){var _=b.status,C=Qn(b,vbe),E=_===MO||_===RO;return S.createElement(e,it({},x,{key:C.key,visible:E,eventProps:C,onVisibleChanged:function(R){f==null||f(R,{key:C.key}),R||s.removeKey(C.key)}}),function(M,R){return d(we(we({},M),{},{index:y}),R)})}))}}],[{key:"getDerivedStateFromProps",value:function(s,l){var c=s.keys,u=l.keyEntities,d=NO(c),f=gbe(u,d);return{keyEntities:f.filter(function(h){var p=u.find(function(x){var b=x.key;return h.key===b});return!(p&&p.status===i4&&h.status===PO)})}}}]),o}(S.Component);return Se(n,"defaultProps",{component:"div"}),n}const xbe=bbe(ZJ),AV=S.createContext(!0);function Sbe(t){const e=S.useContext(AV),{children:n}=t,[,r]=cl(),{motion:i}=r,o=S.useRef(!1);return o.current||(o.current=e!==i),o.current?S.createElement(AV.Provider,{value:i},S.createElement(tbe,{motion:i},n)):n}const _be=()=>null;var wbe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Cbe=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let RT,nee,ree,iee;function _C(){return RT||hx}function Tbe(){return nee||H3}function Ebe(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const Mbe=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:i}=t;e!==void 0&&(RT=e),n!==void 0&&(nee=n),"holderRender"in t&&(iee=i),r&&(Ebe(r)?C1e(_C(),r):ree=r)},Rbe=()=>({getPrefixCls:(t,e)=>e||(t?`${_C()}-${t}`:_C()),getIconPrefixCls:Tbe,getRootPrefixCls:()=>RT||_C(),getTheme:()=>ree,holderRender:iee}),Pbe=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:o,form:a,locale:s,componentSize:l,direction:c,space:u,splitter:d,virtual:f,dropdownMatchSelectWidth:h,popupMatchSelectWidth:p,popupOverflow:x,legacyLocale:b,parentContext:y,iconPrefixCls:_,theme:C,componentDisabled:E,segmented:M,statistic:R,spin:N,calendar:O,carousel:I,cascader:L,collapse:F,typography:$,checkbox:V,descriptions:U,divider:k,drawer:z,skeleton:H,steps:j,image:X,layout:Y,list:J,mentions:ee,modal:re,progress:ue,result:fe,slider:oe,breadcrumb:ce,menu:pe,pagination:ye,input:xe,textArea:be,empty:Ce,badge:Ne,radio:Ae,rate:me,switch:de,transfer:Be,avatar:ne,message:Je,tag:Ye,table:rt,card:qe,tabs:se,timeline:K,timePicker:_e,upload:Ue,notification:lt,tree:We,colorPicker:pt,datePicker:mt,rangePicker:vt,flex:At,wave:ot,dropdown:Ve,warning:at,tour:tt,tooltip:ze,popover:bt,popconfirm:Pe,floatButton:Mt,floatButtonGroup:Ct,variant:qt,inputNumber:Ge,treeSelect:yt}=t,Tt=S.useCallback((gt,ht)=>{const{prefixCls:m}=t;if(ht)return ht;const te=m||y.getPrefixCls("");return gt?`${te}-${gt}`:te},[y.getPrefixCls,t.prefixCls]),Ut=_||y.iconPrefixCls||H3,mn=n||y.csp;X1e(Ut,mn);const dn=J1e(C,y.theme,{prefixCls:Tt("")}),tn={csp:mn,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:s||b,direction:c,space:u,splitter:d,virtual:f,popupMatchSelectWidth:p??h,popupOverflow:x,getPrefixCls:Tt,iconPrefixCls:Ut,theme:dn,segmented:M,statistic:R,spin:N,calendar:O,carousel:I,cascader:L,collapse:F,typography:$,checkbox:V,descriptions:U,divider:k,drawer:z,skeleton:H,steps:j,image:X,input:xe,textArea:be,layout:Y,list:J,mentions:ee,modal:re,progress:ue,result:fe,slider:oe,breadcrumb:ce,menu:pe,pagination:ye,empty:Ce,badge:Ne,radio:Ae,rate:me,switch:de,transfer:Be,avatar:ne,message:Je,tag:Ye,table:rt,card:qe,tabs:se,timeline:K,timePicker:_e,upload:Ue,notification:lt,tree:We,colorPicker:pt,datePicker:mt,rangePicker:vt,flex:At,wave:ot,dropdown:Ve,warning:at,tour:tt,tooltip:ze,popover:bt,popconfirm:Pe,floatButton:Mt,floatButtonGroup:Ct,variant:qt,inputNumber:Ge,treeSelect:yt},pn=Object.assign({},y);Object.keys(tn).forEach(gt=>{tn[gt]!==void 0&&(pn[gt]=tn[gt])}),Cbe.forEach(gt=>{const ht=t[gt];ht&&(pn[gt]=ht)}),typeof r<"u"&&(pn.button=Object.assign({autoInsertSpace:r},pn.button));const fn=y2(()=>pn,pn,(gt,ht)=>{const m=Object.keys(gt),te=Object.keys(ht);return m.length!==te.length||m.some(on=>gt[on]!==ht[on])}),{layer:kt}=S.useContext(b2),Nt=S.useMemo(()=>({prefixCls:Ut,csp:mn,layer:kt?"antd":void 0}),[Ut,mn,kt]);let It=S.createElement(S.Fragment,null,S.createElement(_be,{dropdownMatchSelectWidth:h}),e);const Le=S.useMemo(()=>{var gt,ht,m,te;return qg(((gt=hd.Form)===null||gt===void 0?void 0:gt.defaultValidateMessages)||{},((m=(ht=fn.locale)===null||ht===void 0?void 0:ht.Form)===null||m===void 0?void 0:m.defaultValidateMessages)||{},((te=fn.form)===null||te===void 0?void 0:te.validateMessages)||{},(a==null?void 0:a.validateMessages)||{})},[fn,a==null?void 0:a.validateMessages]);Object.keys(Le).length>0&&(It=S.createElement(RJ.Provider,{value:Le},It)),s&&(It=S.createElement(t1e,{locale:s,_ANT_MARK__:Jye},It)),(Ut||mn)&&(It=S.createElement(EL.Provider,{value:Nt},It)),l&&(It=S.createElement(T1e,{size:l},It)),It=S.createElement(Sbe,null,It);const st=S.useMemo(()=>{const gt=dn||{},{algorithm:ht,token:m,components:te,cssVar:on}=gt,xn=wbe(gt,["algorithm","token","components","cssVar"]),Gn=ht&&(!Array.isArray(ht)||ht.length>0)?lO(ht):BJ,cn={};Object.entries(te||{}).forEach(([dr,Sn])=>{const wt=Object.assign({},Sn);"algorithm"in wt&&(wt.algorithm===!0?wt.theme=Gn:(Array.isArray(wt.algorithm)||typeof wt.algorithm=="function")&&(wt.theme=lO(wt.algorithm)),delete wt.algorithm),cn[dr]=wt});const In=Object.assign(Object.assign({},dx),m);return Object.assign(Object.assign({},xn),{theme:Gn,token:In,components:cn,override:Object.assign({override:In},cn),cssVar:on})},[dn]);return C&&(It=S.createElement(FJ.Provider,{value:st},It)),fn.warning&&(It=S.createElement(Hye.Provider,{value:fn.warning},It)),E!==void 0&&(It=S.createElement(PL,{disabled:E},It)),S.createElement(Kn.Provider,{value:fn},It)},Xv=t=>{const e=S.useContext(Kn),n=S.useContext(RL);return S.createElement(Pbe,Object.assign({parentContext:e,legacyLocale:n},t))};Xv.ConfigContext=Kn;Xv.SizeContext=x2;Xv.config=Mbe;Xv.useConfig=E1e;Object.defineProperty(Xv,"SizeContext",{get:()=>x2});const W3=Xv;var Nbe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const Ibe=Nbe;function oee(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function Dbe(t){return oee(t)instanceof ShadowRoot}function PT(t){return Dbe(t)?oee(t):null}function Obe(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function Lbe(t,e){Pa(t,"[@ant-design/icons] ".concat(e))}function vV(t){return yn(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(yn(t.icon)==="object"||typeof t.icon=="function")}function yV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[Obe(n)]=r}return e},{})}function IO(t,e,n){return n?je.createElement(t.tag,we(we({key:e},yV(t.attrs)),n),(t.children||[]).map(function(r,i){return IO(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):je.createElement(t.tag,we({key:e},yV(t.attrs)),(t.children||[]).map(function(r,i){return IO(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function aee(t){return fx(t)[0]}function see(t){return t?Array.isArray(t)?t:[t]:[]}var Bbe=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Fbe=function(e){var n=S.useContext(EL),r=n.csp,i=n.prefixCls,o=n.layer,a=Bbe;i&&(a=a.replace(/anticon/g,i)),o&&(a="@layer ".concat(o,` {
`).concat(a,`
}`)),S.useEffect(function(){var s=e.current,l=PT(s);Kd(a,"@ant-design-icons",{prepend:!o,csp:r,attachTo:l})},[])},$be=["icon","className","onClick","style","primaryColor","secondaryColor"],mb={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Ube(t){var e=t.primaryColor,n=t.secondaryColor;mb.primaryColor=e,mb.secondaryColor=n||aee(e),mb.calculated=!!n}function kbe(){return we({},mb)}var X3=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,a=e.primaryColor,s=e.secondaryColor,l=Qn(e,$be),c=S.useRef(),u=mb;if(a&&(u={primaryColor:a,secondaryColor:s||aee(a)}),Fbe(c),Lbe(vV(n),"icon should be icon definiton, but got ".concat(n)),!vV(n))return null;var d=n;return d&&typeof d.icon=="function"&&(d=we(we({},d),{},{icon:d.icon(u.primaryColor,u.secondaryColor)})),IO(d.icon,"svg-".concat(d.name),we(we({className:r,onClick:i,style:o,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};X3.displayName="IconReact";X3.getTwoToneColors=kbe;X3.setTwoToneColors=Ube;const IL=X3;function lee(t){var e=see(t),n=Oe(e,2),r=n[0],i=n[1];return IL.setTwoToneColors({primaryColor:r,secondaryColor:i})}function Vbe(){var t=IL.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var zbe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];lee(MT.primary);var Y3=S.forwardRef(function(t,e){var n=t.className,r=t.icon,i=t.spin,o=t.rotate,a=t.tabIndex,s=t.onClick,l=t.twoToneColor,c=Qn(t,zbe),u=S.useContext(EL),d=u.prefixCls,f=d===void 0?"anticon":d,h=u.rootClassName,p=ke(h,f,Se(Se({},"".concat(f,"-").concat(r.name),!!r.name),"".concat(f,"-spin"),!!i||r.name==="loading"),n),x=a;x===void 0&&s&&(x=-1);var b=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,y=see(l),_=Oe(y,2),C=_[0],E=_[1];return S.createElement("span",it({role:"img","aria-label":r.name},c,{ref:e,tabIndex:x,onClick:s,className:p}),S.createElement(IL,{icon:r,primaryColor:C,secondaryColor:E,style:b}))});Y3.displayName="AntdIcon";Y3.getTwoToneColor=Vbe;Y3.setTwoToneColor=lee;const Si=Y3;var Gbe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:Ibe}))},Hbe=S.forwardRef(Gbe);const DL=Hbe;var jbe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const qbe=jbe;var Wbe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:qbe}))},Xbe=S.forwardRef(Wbe);const _2=Xbe;var Ybe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const Kbe=Ybe;var Qbe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:Kbe}))},Zbe=S.forwardRef(Qbe);const f0=Zbe;var Jbe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const exe=Jbe;var txe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:exe}))},nxe=S.forwardRef(txe);const K3=nxe;var rxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const ixe=rxe;var oxe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:ixe}))},axe=S.forwardRef(oxe);const sxe=axe;var lxe=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,cxe=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,uxe="".concat(lxe," ").concat(cxe).split(/[\s\n]+/),dxe="aria-",fxe="data-";function bV(t,e){return t.indexOf(e)===0}function Sc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=we({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||bV(i,dxe))||n.data&&bV(i,fxe)||n.attr&&uxe.includes(i))&&(r[i]=t[i])}),r}function cee(t){return t&&je.isValidElement(t)&&t.type===je.Fragment}const uee=(t,e,n)=>je.isValidElement(t)?je.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e;function _c(t,e){return uee(t,t,e)}const xV=t=>typeof t=="object"&&t!=null&&t.nodeType===1,SV=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",i_=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return SV(n.overflowY,e)||SV(n.overflowX,e)||(r=>{const i=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(t)}return!1},o_=(t,e,n,r,i,o,a,s)=>o<t&&a>e||o>t&&a<e?0:o<=t&&s<=n||a>=e&&s>=n?o-t-r:a>e&&s<n||o<t&&s>n?a-e+i:0,hxe=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},_V=(t,e)=>{var n,r,i,o;if(typeof document>"u")return[];const{scrollMode:a,block:s,inline:l,boundary:c,skipOverflowHiddenElements:u}=e,d=typeof c=="function"?c:z=>z!==c;if(!xV(t))throw new TypeError("Invalid target");const f=document.scrollingElement||document.documentElement,h=[];let p=t;for(;xV(p)&&d(p);){if(p=hxe(p),p===f){h.push(p);break}p!=null&&p===document.body&&i_(p)&&!i_(document.documentElement)||p!=null&&i_(p,u)&&h.push(p)}const x=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,b=(o=(i=window.visualViewport)==null?void 0:i.height)!=null?o:innerHeight,{scrollX:y,scrollY:_}=window,{height:C,width:E,top:M,right:R,bottom:N,left:O}=t.getBoundingClientRect(),{top:I,right:L,bottom:F,left:$}=(z=>{const H=window.getComputedStyle(z);return{top:parseFloat(H.scrollMarginTop)||0,right:parseFloat(H.scrollMarginRight)||0,bottom:parseFloat(H.scrollMarginBottom)||0,left:parseFloat(H.scrollMarginLeft)||0}})(t);let V=s==="start"||s==="nearest"?M-I:s==="end"?N+F:M+C/2-I+F,U=l==="center"?O+E/2-$+L:l==="end"?R+L:O-$;const k=[];for(let z=0;z<h.length;z++){const H=h[z],{height:j,width:X,top:Y,right:J,bottom:ee,left:re}=H.getBoundingClientRect();if(a==="if-needed"&&M>=0&&O>=0&&N<=b&&R<=x&&(H===f&&!i_(H)||M>=Y&&N<=ee&&O>=re&&R<=J))return k;const ue=getComputedStyle(H),fe=parseInt(ue.borderLeftWidth,10),oe=parseInt(ue.borderTopWidth,10),ce=parseInt(ue.borderRightWidth,10),pe=parseInt(ue.borderBottomWidth,10);let ye=0,xe=0;const be="offsetWidth"in H?H.offsetWidth-H.clientWidth-fe-ce:0,Ce="offsetHeight"in H?H.offsetHeight-H.clientHeight-oe-pe:0,Ne="offsetWidth"in H?H.offsetWidth===0?0:X/H.offsetWidth:0,Ae="offsetHeight"in H?H.offsetHeight===0?0:j/H.offsetHeight:0;if(f===H)ye=s==="start"?V:s==="end"?V-b:s==="nearest"?o_(_,_+b,b,oe,pe,_+V,_+V+C,C):V-b/2,xe=l==="start"?U:l==="center"?U-x/2:l==="end"?U-x:o_(y,y+x,x,fe,ce,y+U,y+U+E,E),ye=Math.max(0,ye+_),xe=Math.max(0,xe+y);else{ye=s==="start"?V-Y-oe:s==="end"?V-ee+pe+Ce:s==="nearest"?o_(Y,ee,j,oe,pe+Ce,V,V+C,C):V-(Y+j/2)+Ce/2,xe=l==="start"?U-re-fe:l==="center"?U-(re+X/2)+be/2:l==="end"?U-J+ce+be:o_(re,J,X,fe,ce+be,U,U+E,E);const{scrollLeft:me,scrollTop:de}=H;ye=Ae===0?0:Math.max(0,Math.min(de+ye/Ae,H.scrollHeight-j/Ae+Ce)),xe=Ne===0?0:Math.max(0,Math.min(me+xe/Ne,H.scrollWidth-X/Ne+be)),V+=de-ye,U+=me-xe}k.push({el:H,top:ye,left:xe})}return k},pxe=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function mxe(t,e){if(!t.isConnected||!(i=>{let o=i;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(t))return;const n=(i=>{const o=window.getComputedStyle(i);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(t);if((i=>typeof i=="object"&&typeof i.behavior=="function")(e))return e.behavior(_V(t,e));const r=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:i,top:o,left:a}of _V(t,pxe(e))){const s=o-n.top+n.bottom,l=a-n.left+n.right;i.scroll({top:s,left:l,behavior:r})}}const gxe=t=>{const[,,,,e]=cl();return e?`${t}-css-var`:""},bu=gxe;var Bt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=Bt.F1&&n<=Bt.F12)return!1;switch(n){case Bt.ALT:case Bt.CAPS_LOCK:case Bt.CONTEXT_MENU:case Bt.CTRL:case Bt.DOWN:case Bt.END:case Bt.ESC:case Bt.HOME:case Bt.INSERT:case Bt.LEFT:case Bt.MAC_FF_META:case Bt.META:case Bt.NUMLOCK:case Bt.NUM_CENTER:case Bt.PAGE_DOWN:case Bt.PAGE_UP:case Bt.PAUSE:case Bt.PRINT_SCREEN:case Bt.RIGHT:case Bt.SHIFT:case Bt.UP:case Bt.WIN_KEY:case Bt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Bt.ZERO&&e<=Bt.NINE||e>=Bt.NUM_ZERO&&e<=Bt.NUM_MULTIPLY||e>=Bt.A&&e<=Bt.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case Bt.SPACE:case Bt.QUESTION_MARK:case Bt.NUM_PLUS:case Bt.NUM_MINUS:case Bt.NUM_PERIOD:case Bt.NUM_DIVISION:case Bt.SEMICOLON:case Bt.DASH:case Bt.EQUALS:case Bt.COMMA:case Bt.PERIOD:case Bt.SLASH:case Bt.APOSTROPHE:case Bt.SINGLE_QUOTE:case Bt.OPEN_SQUARE_BRACKET:case Bt.BACKSLASH:case Bt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Axe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const vxe=Axe;var yxe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:vxe}))},bxe=S.forwardRef(yxe);const Q3=bxe;function DO(...t){const e={};return t.forEach(n=>{n&&Object.keys(n).forEach(r=>{n[r]!==void 0&&(e[r]=n[r])})}),e}function NT(t){if(!t)return;const{closable:e,closeIcon:n}=t;return{closable:e,closeIcon:n}}function wV(t){const{closable:e,closeIcon:n}=t||{};return je.useMemo(()=>{if(!e&&(e===!1||n===!1||n===null))return!1;if(e===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return e&&typeof e=="object"&&(r=Object.assign(Object.assign({},r),e)),r},[e,n])}const xxe={},dee=(t,e,n=xxe)=>{const r=wV(t),i=wV(e),[o]=Vl("global",hd.global),a=typeof r!="boolean"?!!(r!=null&&r.disabled):!1,s=je.useMemo(()=>Object.assign({closeIcon:je.createElement(f0,null)},n),[n]),l=je.useMemo(()=>r===!1?!1:r?DO(s,i,r):i===!1?!1:i?DO(s,i):s.closable?s:!1,[r,i,s]);return je.useMemo(()=>{var c,u;if(l===!1)return[!1,null,a,{}];const{closeIconRender:d}=s,{closeIcon:f}=l;let h=f;const p=Sc(l,!0);return h!=null&&(d&&(h=d(f)),h=je.isValidElement(h)?je.cloneElement(h,Object.assign(Object.assign(Object.assign({},h.props),{"aria-label":(u=(c=h.props)===null||c===void 0?void 0:c["aria-label"])!==null&&u!==void 0?u:o.close}),p)):je.createElement("span",Object.assign({"aria-label":o.close},p),h)),[!0,h,a,p]},[a,o.close,l,s])},Sxe=()=>je.useReducer(t=>t+1,0);function fee(t,...e){const n=t||{};return e.reduce((r,i)=>(Object.keys(i||{}).forEach(o=>{const a=n[o],s=i[o];if(a&&typeof a=="object")if(s&&typeof s=="object")r[o]=fee(a,r[o],s);else{const{_default:l}=a;l&&(r[o]=r[o]||{},r[o][l]=ke(r[o][l],s))}else r[o]=ke(r[o],s)}),r),{})}function _xe(t,...e){return S.useMemo(()=>fee.apply(void 0,[t].concat(e)),[e,t])}function wxe(...t){return S.useMemo(()=>t.reduce((e,n={})=>(Object.keys(n).forEach(r=>{e[r]=Object.assign(Object.assign({},e[r]),n[r])}),e),{}),[t])}function OO(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(r=>{if(r!=="_default"){const i=e[r],o=n[r]||{};n[r]=i?OO(o,i):o}}),n}const Cxe=(t,e,n)=>{const r=_xe.apply(void 0,[n].concat(zt(t))),i=wxe.apply(void 0,zt(e));return S.useMemo(()=>[OO(r,n),OO(i,n)],[r,i,n])},Txe=()=>{const[t,e]=S.useState([]),n=S.useCallback(r=>(e(i=>[].concat(zt(i),[r])),()=>{e(i=>i.filter(o=>o!==r))}),[]);return[t,n]},Exe=je.createContext(void 0),OL=Exe,rh=100,Mxe=10,Rxe=rh*Mxe,hee={Modal:rh,Drawer:rh,Popover:rh,Popconfirm:rh,Tooltip:rh,Tour:rh,FloatButton:rh},Pxe={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function Nxe(t){return t in hee}const w2=(t,e)=>{const[,n]=cl(),r=je.useContext(OL),i=Nxe(t);let o;if(e!==void 0)o=[e,e];else{let a=r??0;i?a+=(r?0:n.zIndexPopupBase)+hee[t]:a+=Pxe[t],o=[r===void 0?e:a,a]}return o};function pee(t,e){this.v=t,this.k=e}function qa(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}qa=function(a,s,l,c){function u(d,f){qa(a,d,function(h){return this._invoke(d,f,h)})}s?i?i(a,s,{value:l,enumerable:!c,configurable:!c,writable:!c}):a[s]=l:(u("next",0),u("throw",1),u("return",2))},qa(t,e,n,r)}function LL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n=typeof Symbol=="function"?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(h,p,x,b){var y=p&&p.prototype instanceof s?p:s,_=Object.create(y.prototype);return qa(_,"_invoke",function(C,E,M){var R,N,O,I=0,L=M||[],F=!1,$={p:0,n:0,v:t,a:V,f:V.bind(t,4),d:function(k,z){return R=k,N=0,O=t,$.n=z,a}};function V(U,k){for(N=U,O=k,e=0;!F&&I&&!z&&e<L.length;e++){var z,H=L[e],j=$.p,X=H[2];U>3?(z=X===k)&&(O=H[(N=H[4])?5:(N=3,3)],H[4]=H[5]=t):H[0]<=j&&((z=U<2&&j<H[1])?(N=0,$.v=k,$.n=H[1]):j<X&&(z=U<3||H[0]>k||k>X)&&(H[4]=U,H[5]=k,$.n=X,N=0))}if(z||U>1)return a;throw F=!0,k}return function(U,k,z){if(I>1)throw TypeError("Generator is already running");for(F&&k===1&&V(k,z),N=k,O=z;(e=N<2?t:O)||!F;){R||(N?N<3?(N>1&&($.n=-1),V(N,O)):$.n=O:$.v=O);try{if(I=2,R){if(N||(U="next"),e=R[U]){if(!(e=e.call(R,O)))throw TypeError("iterator result is not an object");if(!e.done)return e;O=e.value,N<2&&(N=0)}else N===1&&(e=R.return)&&e.call(R),N<2&&(O=TypeError("The iterator does not provide a '"+U+"' method"),N=1);R=t}else if((e=(F=$.n<0)?O:C.call(E,$))!==a)break}catch(H){R=t,N=1,O=H}finally{I=1}}return{value:e,done:F}}}(h,x,b),!0),_}var a={};function s(){}function l(){}function c(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(qa(e={},r,function(){return this}),e),d=c.prototype=s.prototype=Object.create(u);function f(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,c):(h.__proto__=c,qa(h,i,"GeneratorFunction")),h.prototype=Object.create(d),h}return l.prototype=c,qa(d,"constructor",c),qa(c,"constructor",l),l.displayName="GeneratorFunction",qa(c,i,"GeneratorFunction"),qa(d),qa(d,i,"Generator"),qa(d,r,function(){return this}),qa(d,"toString",function(){return"[object Generator]"}),(LL=function(){return{w:o,m:f}})()}function IT(t,e){function n(i,o,a,s){try{var l=t[i](o),c=l.value;return c instanceof pee?e.resolve(c.v).then(function(u){n("next",u,a,s)},function(u){n("throw",u,a,s)}):e.resolve(c).then(function(u){l.value=u,a(l)},function(u){return n("throw",u,a,s)})}catch(u){s(u)}}var r;this.next||(qa(IT.prototype),qa(IT.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),qa(this,"_invoke",function(i,o,a){function s(){return new e(function(l,c){n(i,a,l,c)})}return r=r?r.then(s,s):s()},!0)}function mee(t,e,n,r,i){return new IT(LL().w(t,e,n,r),i||Promise)}function Ixe(t,e,n,r,i){var o=mee(t,e,n,r,i);return o.next().then(function(a){return a.done?a.value:o.next()})}function Dxe(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function i(){for(;n.length;)if((r=n.pop())in e)return i.value=r,i.done=!1,i;return i.done=!0,i}}function CV(t){if(t!=null){var e=t[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(yn(t)+" is not iterable")}function is(){var t=LL(),e=t.m(is),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(a){var s=typeof a=="function"&&a.constructor;return!!s&&(s===n||(s.displayName||s.name)==="GeneratorFunction")}var i={throw:1,return:2,break:3,continue:3};function o(a){var s,l;return function(c){s||(s={stop:function(){return l(c.a,2)},catch:function(){return c.v},abrupt:function(d,f){return l(c.a,i[d],f)},delegateYield:function(d,f,h){return s.resultName=f,l(c.d,CV(d),h)},finish:function(d){return l(c.f,d)}},l=function(d,f,h){c.p=s.prev,c.n=s.next;try{return d(f,h)}finally{s.next=c.n}}),s.resultName&&(s[s.resultName]=c.v,s.resultName=void 0),s.sent=c.v,s.next=c.n;try{return a.call(this,s)}finally{c.p=s.prev,c.n=s.next}}}return(is=function(){return{wrap:function(l,c,u,d){return t.w(o(l),c,u,d&&d.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(l,c){return new pee(l,c)},AsyncIterator:IT,async:function(l,c,u,d,f){return(r(c)?mee:Ixe)(o(l),c,u,d,f)},keys:Dxe,values:CV}})()}function TV(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function h0(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(l){TV(o,r,i,a,s,"next",l)}function s(l){TV(o,r,i,a,s,"throw",l)}a(void 0)})}}var C2=we({},XAe),Oxe=C2.version,o4=C2.render,Lxe=C2.unmountComponentAtNode,Z3;try{var Bxe=Number((Oxe||"").split(".")[0]);Bxe>=18&&(Z3=C2.createRoot)}catch{}function EV(t){var e=C2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&yn(e)==="object"&&(e.usingClientEntryPoint=t)}var DT="__rc_react_root__";function Fxe(t,e){EV(!0);var n=e[DT]||Z3(e);EV(!1),n.render(t),e[DT]=n}function $xe(t,e){o4==null||o4(t,e)}function Uxe(t,e){if(Z3){Fxe(t,e);return}$xe(t,e)}function kxe(t){return LO.apply(this,arguments)}function LO(){return LO=h0(is().mark(function t(e){return is().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[DT])===null||i===void 0||i.unmount(),delete e[DT]}));case 1:case"end":return r.stop()}},t)})),LO.apply(this,arguments)}function Vxe(t){Lxe(t)}function zxe(t){return BO.apply(this,arguments)}function BO(){return BO=h0(is().mark(function t(e){return is().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(Z3===void 0){r.next=2;break}return r.abrupt("return",kxe(e));case 2:Vxe(e);case 3:case"end":return r.stop()}},t)})),BO.apply(this,arguments)}const Gxe=(t,e)=>(Uxe(t,e),()=>zxe(e));let MV=Gxe;function gee(t){return t&&(MV=t),MV}const a4=()=>({height:0,opacity:0}),RV=t=>{const{scrollHeight:e}=t;return{height:e,opacity:1}},Hxe=t=>({height:t?t.offsetHeight:0}),s4=(t,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",PV=(t=hx)=>({motionName:`${t}-motion-collapse`,onAppearStart:a4,onEnterStart:a4,onAppearActive:RV,onEnterActive:RV,onLeaveStart:Hxe,onLeaveActive:a4,onAppearEnd:s4,onEnterEnd:s4,onLeaveEnd:s4,motionDeadline:500}),Xh=(t,e,n)=>n!==void 0?n:`${t}-${e}`;function go(t,e){var n=Object.assign({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}const T2=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}}return!1},jxe=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${t.motionDurationSlow} ${t.motionEaseInOut}`,`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`].join(",")}}}}},qxe=q1e("Wave",jxe),Aee=`${hx}-wave-target`;function Wxe(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"&&t!=="canvastext"}function Xxe(t){var e;const{borderTopColor:n,borderColor:r,backgroundColor:i}=getComputedStyle(t);return(e=[n,r,i].find(Wxe))!==null&&e!==void 0?e:null}function l4(t){return Number.isNaN(t)?0:t}const Yxe=t=>{const{className:e,target:n,component:r,registerUnmount:i}=t,o=S.useRef(null),a=S.useRef(null);S.useEffect(()=>{a.current=i()},[]);const[s,l]=S.useState(null),[c,u]=S.useState([]),[d,f]=S.useState(0),[h,p]=S.useState(0),[x,b]=S.useState(0),[y,_]=S.useState(0),[C,E]=S.useState(!1),M={left:d,top:h,width:x,height:y,borderRadius:c.map(O=>`${O}px`).join(" ")};s&&(M["--wave-color"]=s);function R(){const O=getComputedStyle(n);l(Xxe(n));const I=O.position==="static",{borderLeftWidth:L,borderTopWidth:F}=O;f(I?n.offsetLeft:l4(-Number.parseFloat(L))),p(I?n.offsetTop:l4(-Number.parseFloat(F))),b(n.offsetWidth),_(n.offsetHeight);const{borderTopLeftRadius:$,borderTopRightRadius:V,borderBottomLeftRadius:U,borderBottomRightRadius:k}=O;u([$,V,k,U].map(z=>l4(Number.parseFloat(z))))}if(S.useEffect(()=>{if(n){const O=Rr(()=>{R(),E(!0)});let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(R),I.observe(n)),()=>{Rr.cancel(O),I==null||I.disconnect()}}},[n]),!C)return null;const N=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(Aee));return S.createElement(yu,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(O,I)=>{var L,F;if(I.deadline||I.propertyName==="opacity"){const $=(L=o.current)===null||L===void 0?void 0:L.parentElement;(F=a.current)===null||F===void 0||F.call(a).then(()=>{$==null||$.remove()})}return!1}},({className:O},I)=>S.createElement("div",{ref:ll(o,I),className:ke(e,O,{"wave-quick":N}),style:M}))},Kxe=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",t==null||t.insertBefore(i,t==null?void 0:t.firstChild);const o=gee();let a=null;function s(){return a}a=o(S.createElement(Yxe,Object.assign({},e,{target:t,registerUnmount:s})),i)},Qxe=Kxe,Zxe=(t,e,n)=>{const{wave:r}=S.useContext(Kn),[,i,o]=cl(),a=Or(c=>{const u=t.current;if(r!=null&&r.disabled||!u)return;const d=u.querySelector(`.${Aee}`)||u,{showEffect:f}=r||{};(f||Qxe)(d,{className:e,token:i,component:n,event:c,hashId:o})}),s=S.useRef(null);return c=>{Rr.cancel(s.current),s.current=Rr(()=>{a(c)})}},Jxe=Zxe,e2e=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:i}=S.useContext(Kn),o=S.useRef(null),a=i("wave"),[,s]=qxe(a),l=Jxe(o,ke(a,s),r);if(je.useEffect(()=>{const u=o.current;if(!u||u.nodeType!==window.Node.ELEMENT_NODE||n)return;const d=f=>{!T2(f.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")&&!u.className.includes("disabled:")||u.getAttribute("aria-disabled")==="true"||u.className.includes("-leave")||l(f)};return u.addEventListener("click",d,!0),()=>{u.removeEventListener("click",d,!0)}},[n]),!je.isValidElement(e))return e??null;const c=cp(e)?ll(d0(e),o):o;return _c(e,{ref:c})},vee=e2e,t2e=t=>{const e=je.useContext(x2);return je.useMemo(()=>t?typeof t=="string"?t??e:typeof t=="function"?t(e):e:e,[t,e])},Os=t2e;globalThis&&globalThis.__rest;const yee=S.createContext(null),p0=(t,e)=>{const n=S.useContext(yee),r=S.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:o,isLastItem:a}=n,s=i==="vertical"?"-vertical-":"-";return ke(`${t}-compact${s}item`,{[`${t}-compact${s}first-item`]:o,[`${t}-compact${s}last-item`]:a,[`${t}-compact${s}item-rtl`]:e==="rtl"})},[t,e,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},n2e=t=>{const{children:e}=t;return S.createElement(yee.Provider,{value:null},e)};var r2e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const bee=S.createContext(void 0),i2e=t=>{const{getPrefixCls:e,direction:n}=S.useContext(Kn),{prefixCls:r,size:i,className:o}=t,a=r2e(t,["prefixCls","size","className"]),s=e("btn-group",r),[,,l]=cl(),c=S.useMemo(()=>{switch(i){case"large":return"lg";case"small":return"sm";default:return""}},[i]),u=ke(s,{[`${s}-${c}`]:c,[`${s}-rtl`]:n==="rtl"},o,l);return S.createElement(bee.Provider,{value:i},S.createElement("div",Object.assign({},a,{className:u})))},o2e=i2e,NV=/^[\u4E00-\u9FA5]{2}$/,FO=NV.test.bind(NV);function BL(t){return t==="danger"?{danger:!0}:{type:t}}function IV(t){return typeof t=="string"}function c4(t){return t==="text"||t==="link"}function a2e(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&IV(t.type)&&FO(t.props.children)?_c(t,{children:t.props.children.split("").join(n)}):IV(t)?FO(t)?je.createElement("span",null,t.split("").join(n)):je.createElement("span",null,t):cee(t)?je.createElement("span",null,t):t}function s2e(t,e){let n=!1;const r=[];return je.Children.forEach(t,i=>{const o=typeof i,a=o==="string"||o==="number";if(n&&a){const s=r.length-1,l=r[s];r[s]=`${l}${i}`}else r.push(i);n=a}),je.Children.map(r,i=>a2e(i,e))}["default","primary","danger"].concat(zt(qh));const l2e=S.forwardRef((t,e)=>{const{className:n,style:r,children:i,prefixCls:o}=t,a=ke(`${o}-icon`,n);return je.createElement("span",{ref:e,className:a,style:r},i)}),xee=l2e,DV=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,style:i,iconClassName:o}=t,a=ke(`${n}-loading-icon`,r);return je.createElement(xee,{prefixCls:n,className:a,style:i,ref:e},je.createElement(Q3,{className:o}))}),u4=()=>({width:0,opacity:0,transform:"scale(0)"}),d4=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),c2e=t=>{const{prefixCls:e,loading:n,existIcon:r,className:i,style:o,mount:a}=t,s=!!n;return r?je.createElement(DV,{prefixCls:e,className:i,style:o}):je.createElement(yu,{visible:s,motionName:`${e}-loading-icon-motion`,motionAppear:!a,motionEnter:!a,motionLeave:!a,removeOnLeave:!0,onAppearStart:u4,onAppearActive:d4,onEnterStart:u4,onEnterActive:d4,onLeaveStart:d4,onLeaveActive:u4},({className:l,style:c},u)=>{const d=Object.assign(Object.assign({},o),c);return je.createElement(DV,{prefixCls:e,className:ke(i,l),style:d,ref:u})})},u2e=c2e,OV=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),d2e=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},OV(`${e}-primary`,i),OV(`${e}-danger`,o)]}},f2e=d2e;var h2e=["b"],p2e=["v"],f4=function(e){return Math.round(Number(e||0))},m2e=function(e){if(e instanceof Kr)return e;if(e&&yn(e)==="object"&&"h"in e&&"b"in e){var n=e,r=n.b,i=Qn(n,h2e);return we(we({},i),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},px=function(t){Sf(n,t);var e=_f(n);function n(r){return Ro(this,n),e.call(this,m2e(r))}return Po(n,[{key:"toHsbString",value:function(){var i=this.toHsb(),o=f4(i.s*100),a=f4(i.b*100),s=f4(i.h),l=i.a,c="hsb(".concat(s,", ").concat(o,"%, ").concat(a,"%)"),u="hsba(".concat(s,", ").concat(o,"%, ").concat(a,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?c:u}},{key:"toHsb",value:function(){var i=this.toHsv(),o=i.v,a=Qn(i,p2e);return we(we({},a),{},{b:o,a:this.a})}}]),n}(Kr),g2e=function(e){return e instanceof px?e:new px(e)};g2e("#1677ff");const A2e=(t,e)=>(t==null?void 0:t.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",v2e=(t,e)=>t?A2e(t,e):"";let $O=function(){function t(e){Ro(this,t);var n;if(this.cleared=!1,e instanceof t){this.metaColor=e.metaColor.clone(),this.colors=(n=e.colors)===null||n===void 0?void 0:n.map(i=>({color:new t(i.color),percent:i.percent})),this.cleared=e.cleared;return}const r=Array.isArray(e);r&&e.length?(this.colors=e.map(({color:i,percent:o})=>({color:new t(i),percent:o})),this.metaColor=new px(this.colors[0].color.metaColor)):this.metaColor=new px(r?"":e),(!e||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return Po(t,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return v2e(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(i=>`${i.color.toRgbString()} ${i.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((r,i)=>{const o=n.colors[i];return r.percent===o.percent&&r.color.equals(o.color)}):this.toHexString()===n.toHexString()}}])}();var y2e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const b2e=y2e;var x2e=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:b2e}))},S2e=S.forwardRef(x2e);const mx=S2e,_2e=t=>({[t.componentCls]:{[`${t.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}},[`${t.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}}}),w2e=_2e,C2e=t=>({animationDuration:t,animationFillMode:"both"}),T2e=t=>({animationDuration:t,animationFillMode:"both"}),J3=(t,e,n,r,i=!1)=>{const o=i?"&":"";return{[`
      ${o}${t}-enter,
      ${o}${t}-appear
    `]:Object.assign(Object.assign({},C2e(r)),{animationPlayState:"paused"}),[`${o}${t}-leave`]:Object.assign(Object.assign({},T2e(r)),{animationPlayState:"paused"}),[`
      ${o}${t}-enter${t}-enter-active,
      ${o}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},E2e=new Pr("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),M2e=new Pr("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),R2e=(t,e=!1)=>{const{antCls:n}=t,r=`${n}-fade`,i=e?"&":"";return[J3(r,E2e,M2e,t.motionDurationMid,e),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},P2e=new Pr("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),N2e=new Pr("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),I2e=new Pr("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),D2e=new Pr("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),O2e=new Pr("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),L2e=new Pr("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),B2e=new Pr("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),F2e=new Pr("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),$2e={"move-up":{inKeyframes:B2e,outKeyframes:F2e},"move-down":{inKeyframes:P2e,outKeyframes:N2e},"move-left":{inKeyframes:I2e,outKeyframes:D2e},"move-right":{inKeyframes:O2e,outKeyframes:L2e}},OT=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=$2e[e];return[J3(r,i,o,t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},FL=new Pr("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),$L=new Pr("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),UL=new Pr("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),kL=new Pr("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),U2e=new Pr("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),k2e=new Pr("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),V2e=new Pr("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),z2e=new Pr("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),G2e={"slide-up":{inKeyframes:FL,outKeyframes:$L},"slide-down":{inKeyframes:UL,outKeyframes:kL},"slide-left":{inKeyframes:U2e,outKeyframes:k2e},"slide-right":{inKeyframes:V2e,outKeyframes:z2e}},GA=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=G2e[e];return[J3(r,i,o,t.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInQuint}}]},VL=new Pr("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),H2e=new Pr("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),LV=new Pr("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),BV=new Pr("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),j2e=new Pr("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),q2e=new Pr("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),W2e=new Pr("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),X2e=new Pr("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Y2e=new Pr("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),K2e=new Pr("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Q2e=new Pr("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Z2e=new Pr("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),J2e={zoom:{inKeyframes:VL,outKeyframes:H2e},"zoom-big":{inKeyframes:LV,outKeyframes:BV},"zoom-big-fast":{inKeyframes:LV,outKeyframes:BV},"zoom-left":{inKeyframes:W2e,outKeyframes:X2e},"zoom-right":{inKeyframes:Y2e,outKeyframes:K2e},"zoom-up":{inKeyframes:j2e,outKeyframes:q2e},"zoom-down":{inKeyframes:Q2e,outKeyframes:Z2e}},zL=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=J2e[e];return[J3(r,i,o,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},eSe=t=>t instanceof $O?t:new $O(t),tSe=(t,e)=>{const{r:n,g:r,b:i,a:o}=t.toRgb(),a=new px(t.toRgbString()).onBackground(e).toHsv();return o<=.5?a.v>.5:n*.299+r*.587+i*.114>192},See=t=>{const{paddingInline:e,onlyIconSize:n}=t;return Fr(t,{buttonPaddingHorizontal:e,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},_ee=t=>{var e,n,r,i,o,a;const s=(e=t.contentFontSize)!==null&&e!==void 0?e:t.fontSize,l=(n=t.contentFontSizeSM)!==null&&n!==void 0?n:t.fontSize,c=(r=t.contentFontSizeLG)!==null&&r!==void 0?r:t.fontSizeLG,u=(i=t.contentLineHeight)!==null&&i!==void 0?i:SC(s),d=(o=t.contentLineHeightSM)!==null&&o!==void 0?o:SC(l),f=(a=t.contentLineHeightLG)!==null&&a!==void 0?a:SC(c),h=tSe(new $O(t.colorBgSolid),"#fff")?"#000":"#fff",p=qh.reduce((x,b)=>Object.assign(Object.assign({},x),{[`${b}ShadowColor`]:`0 ${Re(t.controlOutlineWidth)} 0 ${U1(t[`${b}1`],t.colorBgContainer)}`}),{});return Object.assign(Object.assign({},p),{fontWeight:400,iconGap:t.marginXS,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:t.colorText,textTextHoverColor:t.colorText,textTextActiveColor:t.colorText,textHoverBg:t.colorFillTertiary,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,defaultHoverBg:t.colorBgContainer,defaultHoverColor:t.colorPrimaryHover,defaultHoverBorderColor:t.colorPrimaryHover,defaultActiveBg:t.colorBgContainer,defaultActiveColor:t.colorPrimaryActive,defaultActiveBorderColor:t.colorPrimaryActive,solidTextColor:h,contentFontSize:s,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:f,paddingBlock:Math.max((t.controlHeight-s*u)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-l*d)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-c*f)/2-t.lineWidth,0)})},nSe=t=>{const{componentCls:e,iconCls:n,fontWeight:r,opacityLoading:i,motionDurationSlow:o,motionEaseInOut:a,iconGap:s,calc:l}=t;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:s,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Re(t.lineWidth)} ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:t.colorText,"&:disabled > *":{pointerEvents:"none"},[`${e}-icon > svg`]:j3(),"> a":{color:"currentColor"},"&:not(:disabled)":zm(t),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${e}-icon-only`]:{paddingInline:0,[`&${e}-compact-item`]:{flex:"none"}},[`&${e}-loading`]:{opacity:i,cursor:"default"},[`${e}-loading-icon`]:{transition:["width","opacity","margin"].map(c=>`${c} ${o} ${a}`).join(",")},[`&:not(${e}-icon-end)`]:{[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:l(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:l(s).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:l(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:l(s).mul(-1).equal()}}}}}},wee=(t,e,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":n}}),rSe=t=>({minWidth:t.controlHeight,paddingInline:0,borderRadius:"50%"}),iSe=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),eM=(t,e,n,r,i,o,a,s)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},wee(t,Object.assign({background:e},a),Object.assign({background:e},s))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),oSe=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},iSe(t))}),aSe=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),tM=(t,e,n,r)=>{const o=r&&["link","text"].includes(r)?aSe:oSe;return Object.assign(Object.assign({},o(t)),wee(t.componentCls,e,n))},nM=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-solid`]:Object.assign({color:e,background:n},tM(t,r,i))}),rM=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-outlined, &${t.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:n},tM(t,r,i))}),iM=t=>({[`&${t.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),oM=(t,e,n,r)=>({[`&${t.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},tM(t,n,r))}),pd=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-${n}`]:Object.assign({color:e,boxShadow:"none"},tM(t,r,i,n))}),sSe=t=>{const{componentCls:e}=t;return qh.reduce((n,r)=>{const i=t[`${r}6`],o=t[`${r}1`],a=t[`${r}5`],s=t[`${r}2`],l=t[`${r}3`],c=t[`${r}7`];return Object.assign(Object.assign({},n),{[`&${e}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:i,boxShadow:t[`${r}ShadowColor`]},nM(t,t.colorTextLightSolid,i,{background:a},{background:c})),rM(t,i,t.colorBgContainer,{color:a,borderColor:a,background:t.colorBgContainer},{color:c,borderColor:c,background:t.colorBgContainer})),iM(t)),oM(t,o,{color:i,background:s},{color:i,background:l})),pd(t,i,"link",{color:a},{color:c})),pd(t,i,"text",{color:a,background:o},{color:c,background:l}))})},{})},lSe=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.defaultColor,boxShadow:t.defaultShadow},nM(t,t.solidTextColor,t.colorBgSolid,{color:t.solidTextColor,background:t.colorBgSolidHover},{color:t.solidTextColor,background:t.colorBgSolidActive})),iM(t)),oM(t,t.colorFillTertiary,{color:t.defaultColor,background:t.colorFillSecondary},{color:t.defaultColor,background:t.colorFill})),eM(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),pd(t,t.textTextColor,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),cSe=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorPrimary,boxShadow:t.primaryShadow},rM(t,t.colorPrimary,t.colorBgContainer,{color:t.colorPrimaryTextHover,borderColor:t.colorPrimaryHover,background:t.colorBgContainer},{color:t.colorPrimaryTextActive,borderColor:t.colorPrimaryActive,background:t.colorBgContainer})),iM(t)),oM(t,t.colorPrimaryBg,{color:t.colorPrimary,background:t.colorPrimaryBgHover},{color:t.colorPrimary,background:t.colorPrimaryBorder})),pd(t,t.colorPrimaryText,"text",{color:t.colorPrimaryTextHover,background:t.colorPrimaryBg},{color:t.colorPrimaryTextActive,background:t.colorPrimaryBorder})),pd(t,t.colorPrimaryText,"link",{color:t.colorPrimaryTextHover,background:t.linkHoverBg},{color:t.colorPrimaryTextActive})),eM(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),uSe=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorError,boxShadow:t.dangerShadow},nM(t,t.dangerColor,t.colorError,{background:t.colorErrorHover},{background:t.colorErrorActive})),rM(t,t.colorError,t.colorBgContainer,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),iM(t)),oM(t,t.colorErrorBg,{color:t.colorError,background:t.colorErrorBgFilledHover},{color:t.colorError,background:t.colorErrorBgActive})),pd(t,t.colorError,"text",{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBgActive})),pd(t,t.colorError,"link",{color:t.colorErrorHover},{color:t.colorErrorActive})),eM(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),dSe=t=>Object.assign(Object.assign({},pd(t,t.colorLink,"link",{color:t.colorLinkHover},{color:t.colorLinkActive})),eM(t.componentCls,t.ghostBg,t.colorInfo,t.colorInfo,t.colorTextDisabled,t.colorBorder,{color:t.colorInfoHover,borderColor:t.colorInfoHover},{color:t.colorInfoActive,borderColor:t.colorInfoActive})),fSe=t=>{const{componentCls:e}=t;return Object.assign({[`${e}-color-default`]:lSe(t),[`${e}-color-primary`]:cSe(t),[`${e}-color-dangerous`]:uSe(t),[`${e}-color-link`]:dSe(t)},sSe(t))},hSe=t=>Object.assign(Object.assign(Object.assign(Object.assign({},rM(t,t.defaultBorderColor,t.defaultBg,{color:t.defaultHoverColor,borderColor:t.defaultHoverBorderColor,background:t.defaultHoverBg},{color:t.defaultActiveColor,borderColor:t.defaultActiveBorderColor,background:t.defaultActiveBg})),pd(t,t.textTextColor,"text",{color:t.textTextHoverColor,background:t.textHoverBg},{color:t.textTextActiveColor,background:t.colorBgTextActive})),nM(t,t.primaryColor,t.colorPrimary,{background:t.colorPrimaryHover,color:t.primaryColor},{background:t.colorPrimaryActive,color:t.primaryColor})),pd(t,t.colorLink,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),GL=(t,e="")=>{const{componentCls:n,controlHeight:r,fontSize:i,borderRadius:o,buttonPaddingHorizontal:a,iconCls:s,buttonPaddingVertical:l,buttonIconOnlyFontSize:c}=t;return[{[e]:{fontSize:i,height:r,padding:`${Re(l)} ${Re(a)}`,borderRadius:o,[`&${n}-icon-only`]:{width:r,[s]:{fontSize:c}}}},{[`${n}${n}-circle${e}`]:rSe(t)},{[`${n}${n}-round${e}`]:{borderRadius:t.controlHeight,[`&:not(${n}-icon-only)`]:{paddingInline:t.buttonPaddingHorizontal}}}]},pSe=t=>{const e=Fr(t,{fontSize:t.contentFontSize});return GL(e,t.componentCls)},mSe=t=>{const e=Fr(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:0,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return GL(e,`${t.componentCls}-sm`)},gSe=t=>{const e=Fr(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:0,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return GL(e,`${t.componentCls}-lg`)},ASe=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},vSe=di("Button",t=>{const e=See(t);return[nSe(e),pSe(e),mSe(e),gSe(e),ASe(e),fSe(e),hSe(e),f2e(e)]},_ee,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function ySe(t,e,n,r){const{focusElCls:i,focus:o,borderElCls:a}=n,s=a?"> *":"",l=["hover",o?"focus":null,"active"].filter(Boolean).map(c=>`&:${c} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},[`&-item:not(${r}-status-success)`]:{zIndex:2},"&-item":Object.assign(Object.assign({[l]:{zIndex:3}},i?{[`&${i}`]:{zIndex:3}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function bSe(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function aM(t,e={focus:!0}){const{componentCls:n}=t,{componentCls:r}=e,i=r||n,o=`${i}-compact`;return{[o]:Object.assign(Object.assign({},ySe(t,o,e,i)),bSe(i,o,e))}}function xSe(t,e,n){return{[`&-item:not(${e}-last-item)`]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},[`&-item:not(${n}-status-success)`]:{zIndex:2},"&-item":{"&:hover,&:focus,&:active":{zIndex:3},"&[disabled]":{zIndex:0}}}}function SSe(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function _Se(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},xSe(t,e,t.componentCls)),SSe(t.componentCls,e))}}const wSe=t=>{const{componentCls:e,colorPrimaryHover:n,lineWidth:r,calc:i}=t,o=i(r).mul(-1).equal(),a=s=>{const l=`${e}-compact${s?"-vertical":""}-item${e}-primary:not([disabled])`;return{[`${l} + ${l}::before`]:{position:"absolute",top:s?o:0,insetInlineStart:s?0:o,backgroundColor:n,content:'""',width:s?"100%":r,height:s?r:"100%"}}};return Object.assign(Object.assign({},a()),a(!0))},CSe=Wv(["Button","compact"],t=>{const e=See(t);return[aM(e),_Se(e),wSe(e)]},_ee);var TSe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function ESe(t){if(typeof t=="object"&&t){let e=t==null?void 0:t.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!t,delay:0}}const MSe={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},RSe=je.forwardRef((t,e)=>{var n,r;const{loading:i=!1,prefixCls:o,color:a,variant:s,type:l,danger:c=!1,shape:u,size:d,styles:f,disabled:h,className:p,rootClassName:x,children:b,icon:y,iconPosition:_="start",ghost:C=!1,block:E=!1,htmlType:M="button",classNames:R,style:N={},autoInsertSpace:O,autoFocus:I}=t,L=TSe(t,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),F=l||"default",{button:$}=je.useContext(Kn),V=u||($==null?void 0:$.shape)||"default",[U,k]=S.useMemo(()=>{if(a&&s)return[a,s];if(l||c){const Pe=MSe[F]||[];return c?["danger",Pe[1]]:Pe}return $!=null&&$.color&&($!=null&&$.variant)?[$.color,$.variant]:["default","outlined"]},[a,s,l,c,$==null?void 0:$.color,$==null?void 0:$.variant,F]),H=U==="danger"?"dangerous":U,{getPrefixCls:j,direction:X,autoInsertSpace:Y,className:J,style:ee,classNames:re,styles:ue}=fa("button"),fe=(n=O??Y)!==null&&n!==void 0?n:!0,oe=j("btn",o),[ce,pe,ye]=vSe(oe),xe=S.useContext(wf),be=h??xe,Ce=S.useContext(bee),Ne=S.useMemo(()=>ESe(i),[i]),[Ae,me]=S.useState(Ne.loading),[de,Be]=S.useState(!1),ne=S.useRef(null),Je=lp(e,ne),Ye=S.Children.count(b)===1&&!y&&!c4(k),rt=S.useRef(!0);je.useEffect(()=>(rt.current=!1,()=>{rt.current=!0}),[]),wr(()=>{let Pe=null;Ne.delay>0?Pe=setTimeout(()=>{Pe=null,me(!0)},Ne.delay):me(Ne.loading);function Mt(){Pe&&(clearTimeout(Pe),Pe=null)}return Mt},[Ne.delay,Ne.loading]),S.useEffect(()=>{if(!ne.current||!fe)return;const Pe=ne.current.textContent||"";Ye&&FO(Pe)?de||Be(!0):de&&Be(!1)}),S.useEffect(()=>{I&&ne.current&&ne.current.focus()},[]);const qe=je.useCallback(Pe=>{var Mt;if(Ae||be){Pe.preventDefault();return}(Mt=t.onClick)===null||Mt===void 0||Mt.call(t,("href"in t,Pe))},[t.onClick,Ae,be]),{compactSize:se,compactItemClassnames:K}=p0(oe,X),_e={large:"lg",small:"sm",middle:void 0},Ue=Os(Pe=>{var Mt,Ct;return(Ct=(Mt=d??se)!==null&&Mt!==void 0?Mt:Ce)!==null&&Ct!==void 0?Ct:Pe}),lt=Ue&&(r=_e[Ue])!==null&&r!==void 0?r:"",We=Ae?"loading":y,pt=go(L,["navigate"]),mt=ke(oe,pe,ye,{[`${oe}-${V}`]:V!=="default"&&V,[`${oe}-${F}`]:F,[`${oe}-dangerous`]:c,[`${oe}-color-${H}`]:H,[`${oe}-variant-${k}`]:k,[`${oe}-${lt}`]:lt,[`${oe}-icon-only`]:!b&&b!==0&&!!We,[`${oe}-background-ghost`]:C&&!c4(k),[`${oe}-loading`]:Ae,[`${oe}-two-chinese-chars`]:de&&fe&&!Ae,[`${oe}-block`]:E,[`${oe}-rtl`]:X==="rtl",[`${oe}-icon-end`]:_==="end"},K,p,x,J),vt=Object.assign(Object.assign({},ee),N),At=ke(R==null?void 0:R.icon,re.icon),ot=Object.assign(Object.assign({},(f==null?void 0:f.icon)||{}),ue.icon||{}),Ve=Pe=>je.createElement(xee,{prefixCls:oe,className:At,style:ot},Pe),at=()=>je.createElement(u2e,{existIcon:!!y,prefixCls:oe,loading:Ae,mount:rt.current});let tt;y&&!Ae?tt=Ve(y):i&&typeof i=="object"&&i.icon?tt=Ve(i.icon):tt=at();const ze=b||b===0?s2e(b,Ye&&fe):null;if(pt.href!==void 0)return ce(je.createElement("a",Object.assign({},pt,{className:ke(mt,{[`${oe}-disabled`]:be}),href:be?void 0:pt.href,style:vt,onClick:qe,ref:Je,tabIndex:be?-1:0,"aria-disabled":be}),tt,ze));let bt=je.createElement("button",Object.assign({},L,{type:M,className:mt,style:vt,onClick:qe,disabled:be,ref:Je}),tt,ze,K&&je.createElement(CSe,{prefixCls:oe}));return c4(k)||(bt=je.createElement(vee,{component:"Button",disabled:Ae},bt)),ce(bt)}),HL=RSe;HL.Group=o2e;HL.__ANT_BUTTON=!0;const bo=HL,h4=t=>typeof(t==null?void 0:t.then)=="function",PSe=t=>{const{type:e,children:n,prefixCls:r,buttonProps:i,close:o,autoFocus:a,emitEvent:s,isSilent:l,quitOnNullishReturnValue:c,actionFn:u}=t,d=S.useRef(!1),f=S.useRef(null),[h,p]=Vm(!1),x=(..._)=>{o==null||o.apply(void 0,_)};S.useEffect(()=>{let _=null;return a&&(_=setTimeout(()=>{var C;(C=f.current)===null||C===void 0||C.focus({preventScroll:!0})})),()=>{_&&clearTimeout(_)}},[a]);const b=_=>{h4(_)&&(p(!0),_.then((...C)=>{p(!1,!0),x.apply(void 0,C),d.current=!1},C=>{if(p(!1,!0),d.current=!1,!(l!=null&&l()))return Promise.reject(C)}))},y=_=>{if(d.current)return;if(d.current=!0,!u){x();return}let C;if(s){if(C=u(_),c&&!h4(C)){d.current=!1,x(_);return}}else if(u.length)C=u(o),d.current=!1;else if(C=u(),!h4(C)){x();return}b(C)};return S.createElement(bo,Object.assign({},BL(e),{onClick:y,loading:h,prefixCls:r},i,{ref:f}),n)},jL=PSe,E2=je.createContext({}),{Provider:Cee}=E2,NSe=()=>{const{autoFocusButton:t,cancelButtonProps:e,cancelTextLocale:n,isSilent:r,mergedOkCancel:i,rootPrefixCls:o,close:a,onCancel:s,onConfirm:l}=S.useContext(E2);return i?je.createElement(jL,{isSilent:r,actionFn:s,close:(...c)=>{a==null||a.apply(void 0,c),l==null||l(!1)},autoFocus:t==="cancel",buttonProps:e,prefixCls:`${o}-btn`},n):null},FV=NSe,ISe=()=>{const{autoFocusButton:t,close:e,isSilent:n,okButtonProps:r,rootPrefixCls:i,okTextLocale:o,okType:a,onConfirm:s,onOk:l}=S.useContext(E2);return je.createElement(jL,{isSilent:n,type:a||"primary",actionFn:l,close:(...c)=>{e==null||e.apply(void 0,c),s==null||s(!0)},autoFocus:t==="ok",buttonProps:r,prefixCls:`${i}-btn`},o)},$V=ISe;var Tee=S.createContext(null),UV=[];function DSe(t,e){var n=S.useState(function(){if(!Da())return null;var p=document.createElement("div");return p}),r=Oe(n,1),i=r[0],o=S.useRef(!1),a=S.useContext(Tee),s=S.useState(UV),l=Oe(s,2),c=l[0],u=l[1],d=a||(o.current?void 0:function(p){u(function(x){var b=[p].concat(zt(x));return b})});function f(){i.parentElement||document.body.appendChild(i),o.current=!0}function h(){var p;(p=i.parentElement)===null||p===void 0||p.removeChild(i),o.current=!1}return wr(function(){return t?a?a(f):f():h(),h},[t]),wr(function(){c.length&&(c.forEach(function(p){return p()}),u(UV))},[c]),[i,d]}function OSe(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var i,o;if(t){var a=getComputedStyle(t);r.scrollbarColor=a.scrollbarColor,r.scrollbarWidth=a.scrollbarWidth;var s=getComputedStyle(t,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var u=l?"width: ".concat(s.width,";"):"",d=c?"height: ".concat(s.height,";"):"";Kd(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(u,`
`).concat(d,`
}`),e)}catch(p){console.error(p),i=l,o=c}}document.body.appendChild(n);var f=t&&i&&!isNaN(i)?i:n.offsetWidth-n.clientWidth,h=t&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),sx(e),{width:f,height:h}}function LSe(t){return typeof document>"u"||!t||!(t instanceof Element)?{width:0,height:0}:OSe(t)}function BSe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var FSe="rc-util-locker-".concat(Date.now()),kV=0;function $Se(t){var e=!!t,n=S.useState(function(){return kV+=1,"".concat(FSe,"_").concat(kV)}),r=Oe(n,1),i=r[0];wr(function(){if(e){var o=LSe(document.body).width,a=BSe();Kd(`
html body {
  overflow-y: hidden;
  `.concat(a?"width: calc(100% - ".concat(o,"px);"):"",`
}`),i)}else sx(i);return function(){sx(i)}},[e,i])}var VV=!1;function USe(t){return typeof t=="boolean"&&(VV=t),VV}var zV=function(e){return e===!1?!1:!Da()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},qL=S.forwardRef(function(t,e){var n=t.open,r=t.autoLock,i=t.getContainer;t.debug;var o=t.autoDestroy,a=o===void 0?!0:o,s=t.children,l=S.useState(n),c=Oe(l,2),u=c[0],d=c[1],f=u||n;S.useEffect(function(){(a||n)&&d(n)},[n,a]);var h=S.useState(function(){return zV(i)}),p=Oe(h,2),x=p[0],b=p[1];S.useEffect(function(){var F=zV(i);b(F??null)});var y=DSe(f&&!x),_=Oe(y,2),C=_[0],E=_[1],M=x??C;$Se(r&&n&&Da()&&(M===C||M===document.body));var R=null;if(s&&cp(s)&&e){var N=s;R=N.ref}var O=lp(R,e);if(!f||!Da()||x===void 0)return null;var I=M===!1||USe(),L=s;return e&&(L=S.cloneElement(s,{ref:O})),S.createElement(Tee.Provider,{value:E},I?L:uf.createPortal(L,M))}),Eee=S.createContext({});function kSe(){var t=we({},p3);return t.useId}var GV=0,HV=kSe();const WL=HV?function(e){var n=HV();return e||n}:function(e){var n=S.useState("ssr-id"),r=Oe(n,2),i=r[0],o=r[1];return S.useEffect(function(){var a=GV;GV+=1,o("rc_unique_".concat(a))},[]),e||i};function jV(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}function qV(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var i=t.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function VSe(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=qV(i),n.top+=qV(i,!0),n}const zSe=S.memo(function(t){var e=t.children;return e},function(t,e){var n=e.shouldUpdate;return!n});var GSe={width:0,height:0,overflow:"hidden",outline:"none"},HSe={outline:"none"},Mee=je.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.title,a=t.ariaId,s=t.footer,l=t.closable,c=t.closeIcon,u=t.onClose,d=t.children,f=t.bodyStyle,h=t.bodyProps,p=t.modalRender,x=t.onMouseDown,b=t.onMouseUp,y=t.holderRef,_=t.visible,C=t.forceRender,E=t.width,M=t.height,R=t.classNames,N=t.styles,O=je.useContext(Eee),I=O.panel,L=lp(y,I),F=S.useRef(),$=S.useRef();je.useImperativeHandle(e,function(){return{focus:function(){var ee;(ee=F.current)===null||ee===void 0||ee.focus({preventScroll:!0})},changeActive:function(ee){var re=document,ue=re.activeElement;ee&&ue===$.current?F.current.focus({preventScroll:!0}):!ee&&ue===F.current&&$.current.focus({preventScroll:!0})}}});var V={};E!==void 0&&(V.width=E),M!==void 0&&(V.height=M);var U=s?je.createElement("div",{className:ke("".concat(n,"-footer"),R==null?void 0:R.footer),style:we({},N==null?void 0:N.footer)},s):null,k=o?je.createElement("div",{className:ke("".concat(n,"-header"),R==null?void 0:R.header),style:we({},N==null?void 0:N.header)},je.createElement("div",{className:"".concat(n,"-title"),id:a},o)):null,z=S.useMemo(function(){return yn(l)==="object"&&l!==null?l:l?{closeIcon:c??je.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[l,c,n]),H=Sc(z,!0),j=yn(l)==="object"&&l.disabled,X=l?je.createElement("button",it({type:"button",onClick:u,"aria-label":"Close"},H,{className:"".concat(n,"-close"),disabled:j}),z.closeIcon):null,Y=je.createElement("div",{className:ke("".concat(n,"-content"),R==null?void 0:R.content),style:N==null?void 0:N.content},X,k,je.createElement("div",it({className:ke("".concat(n,"-body"),R==null?void 0:R.body),style:we(we({},f),N==null?void 0:N.body)},h),d),U);return je.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?a:null,"aria-modal":"true",ref:L,style:we(we({},i),V),className:ke(n,r),onMouseDown:x,onMouseUp:b},je.createElement("div",{ref:F,tabIndex:0,style:HSe},je.createElement(zSe,{shouldUpdate:_||C},p?p(Y):Y)),je.createElement("div",{tabIndex:0,ref:$,style:GSe}))}),Ree=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.title,i=t.style,o=t.className,a=t.visible,s=t.forceRender,l=t.destroyOnClose,c=t.motionName,u=t.ariaId,d=t.onVisibleChanged,f=t.mousePosition,h=S.useRef(),p=S.useState(),x=Oe(p,2),b=x[0],y=x[1],_={};b&&(_.transformOrigin=b);function C(){var E=VSe(h.current);y(f&&(f.x||f.y)?"".concat(f.x-E.left,"px ").concat(f.y-E.top,"px"):"")}return S.createElement(yu,{visible:a,onVisibleChanged:d,onAppearPrepare:C,onEnterPrepare:C,forceRender:s,motionName:c,removeOnLeave:l,ref:h},function(E,M){var R=E.className,N=E.style;return S.createElement(Mee,it({},t,{ref:e,title:r,ariaId:u,prefixCls:n,holderRef:M,style:we(we(we({},N),i),_),className:ke(o,R)}))})});Ree.displayName="Content";var jSe=function(e){var n=e.prefixCls,r=e.style,i=e.visible,o=e.maskProps,a=e.motionName,s=e.className;return S.createElement(yu,{key:"mask",visible:i,motionName:a,leavedClassName:"".concat(n,"-mask-hidden")},function(l,c){var u=l.className,d=l.style;return S.createElement("div",it({ref:c,style:we(we({},d),r),className:ke("".concat(n,"-mask"),u,s)},o))})},qSe=function(e){var n=e.prefixCls,r=n===void 0?"rc-dialog":n,i=e.zIndex,o=e.visible,a=o===void 0?!1:o,s=e.keyboard,l=s===void 0?!0:s,c=e.focusTriggerAfterClose,u=c===void 0?!0:c,d=e.wrapStyle,f=e.wrapClassName,h=e.wrapProps,p=e.onClose,x=e.afterOpenChange,b=e.afterClose,y=e.transitionName,_=e.animation,C=e.closable,E=C===void 0?!0:C,M=e.mask,R=M===void 0?!0:M,N=e.maskTransitionName,O=e.maskAnimation,I=e.maskClosable,L=I===void 0?!0:I,F=e.maskStyle,$=e.maskProps,V=e.rootClassName,U=e.classNames,k=e.styles,z=S.useRef(),H=S.useRef(),j=S.useRef(),X=S.useState(a),Y=Oe(X,2),J=Y[0],ee=Y[1],re=WL();function ue(){oO(H.current,document.activeElement)||(z.current=document.activeElement)}function fe(){if(!oO(H.current,document.activeElement)){var me;(me=j.current)===null||me===void 0||me.focus()}}function oe(me){if(me)fe();else{if(ee(!1),R&&z.current&&u){try{z.current.focus({preventScroll:!0})}catch{}z.current=null}J&&(b==null||b())}x==null||x(me)}function ce(me){p==null||p(me)}var pe=S.useRef(!1),ye=S.useRef(),xe=function(){clearTimeout(ye.current),pe.current=!0},be=function(){ye.current=setTimeout(function(){pe.current=!1})},Ce=null;L&&(Ce=function(de){pe.current?pe.current=!1:H.current===de.target&&ce(de)});function Ne(me){if(l&&me.keyCode===Bt.ESC){me.stopPropagation(),ce(me);return}a&&me.keyCode===Bt.TAB&&j.current.changeActive(!me.shiftKey)}S.useEffect(function(){a&&(ee(!0),ue())},[a]),S.useEffect(function(){return function(){clearTimeout(ye.current)}},[]);var Ae=we(we(we({zIndex:i},d),k==null?void 0:k.wrapper),{},{display:J?null:"none"});return S.createElement("div",it({className:ke("".concat(r,"-root"),V)},Sc(e,{data:!0})),S.createElement(jSe,{prefixCls:r,visible:R&&a,motionName:jV(r,N,O),style:we(we({zIndex:i},F),k==null?void 0:k.mask),maskProps:$,className:U==null?void 0:U.mask}),S.createElement("div",it({tabIndex:-1,onKeyDown:Ne,className:ke("".concat(r,"-wrap"),f,U==null?void 0:U.wrapper),ref:H,onClick:Ce,style:Ae},h),S.createElement(Ree,it({},e,{onMouseDown:xe,onMouseUp:be,ref:j,closable:E,ariaId:re,prefixCls:r,visible:a&&J,onClose:ce,onVisibleChanged:oe,motionName:jV(r,y,_)}))))},Pee=function(e){var n=e.visible,r=e.getContainer,i=e.forceRender,o=e.destroyOnClose,a=o===void 0?!1:o,s=e.afterClose,l=e.panelRef,c=S.useState(n),u=Oe(c,2),d=u[0],f=u[1],h=S.useMemo(function(){return{panel:l}},[l]);return S.useEffect(function(){n&&f(!0)},[n]),!i&&a&&!d?null:S.createElement(Eee.Provider,{value:h},S.createElement(qL,{open:n||i||d,autoDestroy:!1,getContainer:r,autoLock:n||d},S.createElement(qSe,it({},e,{destroyOnClose:a,afterClose:function(){s==null||s(),f(!1)}}))))};Pee.displayName="Dialog";var pm="RC_FORM_INTERNAL_HOOKS",Ti=function(){Pa(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Gm=S.createContext({getFieldValue:Ti,getFieldsValue:Ti,getFieldError:Ti,getFieldWarning:Ti,getFieldsError:Ti,isFieldsTouched:Ti,isFieldTouched:Ti,isFieldValidating:Ti,isFieldsValidating:Ti,resetFields:Ti,setFields:Ti,setFieldValue:Ti,setFieldsValue:Ti,validateFields:Ti,submit:Ti,getInternalHooks:function(){return Ti(),{dispatch:Ti,initEntityValue:Ti,registerField:Ti,useSubscribe:Ti,setInitialValues:Ti,destroyForm:Ti,setCallbacks:Ti,registerWatch:Ti,getFields:Ti,setValidateMessages:Ti,setPreserve:Ti,getInitialValue:Ti}}}),gx=S.createContext(null);function UO(t){return t==null?[]:Array.isArray(t)?t:[t]}function WSe(t){return t&&!!t._init}function kO(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",tel:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var VO=kO();function XSe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function YSe(t,e,n){if(yL())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&$A(i,n.prototype),i}function LT(t){var e=typeof Map=="function"?new Map:void 0;return LT=function(r){if(r===null||!XSe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return YSe(r,arguments,ox(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),$A(i,r)},LT(t)}var KSe=/%[sdj%]/g,QSe=function(){};typeof process<"u"&&process.env;function zO(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function Ml(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(KSe,function(s){if(s==="%%")return"%";if(i>=o)return s;switch(s){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return s}});return a}return t}function ZSe(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"||t==="tel"}function Wo(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||ZSe(e)&&typeof t=="string"&&!t)}function JSe(t,e,n){var r=[],i=0,o=t.length;function a(s){r.push.apply(r,zt(s||[])),i++,i===o&&n(r)}t.forEach(function(s){e(s,a)})}function WV(t,e,n){var r=0,i=t.length;function o(a){if(a&&a.length){n(a);return}var s=r;r=r+1,s<i?e(t[s],o):n([])}o([])}function e_e(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,zt(t[n]||[]))}),e}var XV=function(t){Sf(n,t);var e=_f(n);function n(r,i){var o;return Ro(this,n),o=e.call(this,"Async Validation Error"),Se(Mr(o),"errors",void 0),Se(Mr(o),"fields",void 0),o.errors=r,o.fields=i,o}return Po(n)}(LT(Error));function t_e(t,e,n,r,i){if(e.first){var o=new Promise(function(f,h){var p=function(y){return r(y),y.length?h(new XV(y,zO(y))):f(i)},x=e_e(t);WV(x,n,p)});return o.catch(function(f){return f}),o}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),l=s.length,c=0,u=[],d=new Promise(function(f,h){var p=function(b){if(u.push.apply(u,b),c++,c===l)return r(u),u.length?h(new XV(u,zO(u))):f(i)};s.length||(r(u),f(i)),s.forEach(function(x){var b=t[x];a.indexOf(x)!==-1?WV(b,n,p):JSe(b,n,p)})});return d.catch(function(f){return f}),d}function n_e(t){return!!(t&&t.message!==void 0)}function r_e(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function YV(t,e){return function(n){var r;return t.fullFields?r=r_e(e,t.fullFields):r=e[n.field||t.fullField],n_e(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function KV(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];yn(r)==="object"&&yn(t[n])==="object"?t[n]=we(we({},t[n]),r):t[n]=r}}return t}var $0="enum",i_e=function(e,n,r,i,o){e[$0]=Array.isArray(e[$0])?e[$0]:[],e[$0].indexOf(n)===-1&&i.push(Ml(o.messages[$0],e.fullField,e[$0].join(", ")))},o_e=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(Ml(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||i.push(Ml(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},a_e=function(e,n,r,i,o){var a=typeof e.len=="number",s=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,f=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(f?d="number":h?d="string":p&&(d="array"),!d)return!1;p&&(u=n.length),h&&(u=n.replace(c,"_").length),a?u!==e.len&&i.push(Ml(o.messages[d].len,e.fullField,e.len)):s&&!l&&u<e.min?i.push(Ml(o.messages[d].min,e.fullField,e.min)):l&&!s&&u>e.max?i.push(Ml(o.messages[d].max,e.fullField,e.max)):s&&l&&(u<e.min||u>e.max)&&i.push(Ml(o.messages[d].range,e.fullField,e.min,e.max))},Nee=function(e,n,r,i,o,a){e.required&&(!r.hasOwnProperty(e.field)||Wo(n,a||e.type))&&i.push(Ml(o.messages.required,e.fullField))},a_;const s_e=function(){if(a_)return a_;var t="[a-fA-F\\d:]",e=function(R){return R&&R.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",a="(?:".concat(i.join("|"),")").concat(o),s=new RegExp("(?:^".concat(n,"$)|(?:^").concat(a,"$)")),l=new RegExp("^".concat(n,"$")),c=new RegExp("^".concat(a,"$")),u=function(R){return R&&R.exact?s:new RegExp("(?:".concat(e(R)).concat(n).concat(e(R),")|(?:").concat(e(R)).concat(a).concat(e(R),")"),"g")};u.v4=function(M){return M&&M.exact?l:new RegExp("".concat(e(M)).concat(n).concat(e(M)),"g")},u.v6=function(M){return M&&M.exact?c:new RegExp("".concat(e(M)).concat(a).concat(e(M)),"g")};var d="(?:(?:[a-z]+:)?//)",f="(?:\\S+(?::\\S*)?@)?",h=u.v4().source,p=u.v6().source,x="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",b="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",y="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",_="(?::\\d{2,5})?",C='(?:[/?#][^\\s"]*)?',E="(?:".concat(d,"|www\\.)").concat(f,"(?:localhost|").concat(h,"|").concat(p,"|").concat(x).concat(b).concat(y,")").concat(_).concat(C);return a_=new RegExp("(?:^".concat(E,"$)"),"i"),a_};var p4={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,tel:/^(\+[0-9]{1,3}[-\s\u2011]?)?(\([0-9]{1,4}\)[-\s\u2011]?)?([0-9]+[-\s\u2011]?)*[0-9]+$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},k1={integer:function(e){return k1.number(e)&&parseInt(e,10)===e},float:function(e){return k1.number(e)&&!k1.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return yn(e)==="object"&&!k1.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(p4.email)},tel:function(e){return typeof e=="string"&&e.length<=32&&!!e.match(p4.tel)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(s_e())},hex:function(e){return typeof e=="string"&&!!e.match(p4.hex)}},l_e=function(e,n,r,i,o){if(e.required&&n===void 0){Nee(e,n,r,i,o);return}var a=["integer","float","array","regexp","object","method","email","tel","number","date","url","hex"],s=e.type;a.indexOf(s)>-1?k1[s](n)||i.push(Ml(o.messages.types[s],e.fullField,e.type)):s&&yn(n)!==e.type&&i.push(Ml(o.messages.types[s],e.fullField,e.type))},c_e=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(Ml(o.messages.whitespace,e.fullField))};const zr={required:Nee,whitespace:c_e,type:l_e,range:a_e,enum:i_e,pattern:o_e};var u_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Wo(n)&&!e.required)return r();zr.required(e,n,i,a,o)}r(a)},d_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n==null&&!e.required)return r();zr.required(e,n,i,a,o,"array"),n!=null&&(zr.type(e,n,i,a,o),zr.range(e,n,i,a,o))}r(a)},f_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Wo(n)&&!e.required)return r();zr.required(e,n,i,a,o),n!==void 0&&zr.type(e,n,i,a,o)}r(a)},h_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Wo(n,"date")&&!e.required)return r();if(zr.required(e,n,i,a,o),!Wo(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),zr.type(e,l,i,a,o),l&&zr.range(e,l.getTime(),i,a,o)}}r(a)},p_e="enum",m_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Wo(n)&&!e.required)return r();zr.required(e,n,i,a,o),n!==void 0&&zr[p_e](e,n,i,a,o)}r(a)},g_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Wo(n)&&!e.required)return r();zr.required(e,n,i,a,o),n!==void 0&&(zr.type(e,n,i,a,o),zr.range(e,n,i,a,o))}r(a)},A_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Wo(n)&&!e.required)return r();zr.required(e,n,i,a,o),n!==void 0&&(zr.type(e,n,i,a,o),zr.range(e,n,i,a,o))}r(a)},v_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Wo(n)&&!e.required)return r();zr.required(e,n,i,a,o),n!==void 0&&zr.type(e,n,i,a,o)}r(a)},y_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n===""&&(n=void 0),Wo(n)&&!e.required)return r();zr.required(e,n,i,a,o),n!==void 0&&(zr.type(e,n,i,a,o),zr.range(e,n,i,a,o))}r(a)},b_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Wo(n)&&!e.required)return r();zr.required(e,n,i,a,o),n!==void 0&&zr.type(e,n,i,a,o)}r(a)},x_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Wo(n,"string")&&!e.required)return r();zr.required(e,n,i,a,o),Wo(n,"string")||zr.pattern(e,n,i,a,o)}r(a)},S_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Wo(n)&&!e.required)return r();zr.required(e,n,i,a,o),Wo(n)||zr.type(e,n,i,a,o)}r(a)},__e=function(e,n,r,i,o){var a=[],s=Array.isArray(n)?"array":yn(n);zr.required(e,n,i,a,o,s),r(a)},w_e=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Wo(n,"string")&&!e.required)return r();zr.required(e,n,i,a,o,"string"),Wo(n,"string")||(zr.type(e,n,i,a,o),zr.range(e,n,i,a,o),zr.pattern(e,n,i,a,o),e.whitespace===!0&&zr.whitespace(e,n,i,a,o))}r(a)},s_=function(e,n,r,i,o){var a=e.type,s=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(Wo(n,a)&&!e.required)return r();zr.required(e,n,i,s,o,a),Wo(n,a)||zr.type(e,n,i,s,o)}r(s)};const gb={string:w_e,method:v_e,number:y_e,boolean:f_e,regexp:S_e,integer:A_e,float:g_e,array:d_e,object:b_e,enum:m_e,pattern:x_e,date:h_e,url:s_,hex:s_,email:s_,tel:s_,required:__e,any:u_e};var M2=function(){function t(e){Ro(this,t),Se(this,"rules",null),Se(this,"_messages",VO),this.define(e)}return Po(t,[{key:"define",value:function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(yn(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(i){var o=n[i];r.rules[i]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(n){return n&&(this._messages=KV(kO(),n)),this._messages}},{key:"validate",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=n,s=i,l=o;if(typeof s=="function"&&(l=s,s={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,a),Promise.resolve(a);function c(p){var x=[],b={};function y(C){if(Array.isArray(C)){var E;x=(E=x).concat.apply(E,zt(C))}else x.push(C)}for(var _=0;_<p.length;_++)y(p[_]);x.length?(b=zO(x),l(x,b)):l(null,a)}if(s.messages){var u=this.messages();u===VO&&(u=kO()),KV(u,s.messages),s.messages=u}else s.messages=this.messages();var d={},f=s.keys||Object.keys(this.rules);f.forEach(function(p){var x=r.rules[p],b=a[p];x.forEach(function(y){var _=y;typeof _.transform=="function"&&(a===n&&(a=we({},a)),b=a[p]=_.transform(b),b!=null&&(_.type=_.type||(Array.isArray(b)?"array":yn(b)))),typeof _=="function"?_={validator:_}:_=we({},_),_.validator=r.getValidationMethod(_),_.validator&&(_.field=p,_.fullField=_.fullField||p,_.type=r.getType(_),d[p]=d[p]||[],d[p].push({rule:_,value:b,source:a,field:p}))})});var h={};return t_e(d,s,function(p,x){var b=p.rule,y=(b.type==="object"||b.type==="array")&&(yn(b.fields)==="object"||yn(b.defaultField)==="object");y=y&&(b.required||!b.required&&p.value),b.field=p.field;function _(N,O){return we(we({},O),{},{fullField:"".concat(b.fullField,".").concat(N),fullFields:b.fullFields?[].concat(zt(b.fullFields),[N]):[N]})}function C(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=Array.isArray(N)?N:[N];!s.suppressWarning&&O.length&&t.warning("async-validator:",O),O.length&&b.message!==void 0&&b.message!==null&&(O=[].concat(b.message));var I=O.map(YV(b,a));if(s.first&&I.length)return h[b.field]=1,x(I);if(!y)x(I);else{if(b.required&&!p.value)return b.message!==void 0?I=[].concat(b.message).map(YV(b,a)):s.error&&(I=[s.error(b,Ml(s.messages.required,b.field))]),x(I);var L={};b.defaultField&&Object.keys(p.value).map(function(V){L[V]=b.defaultField}),L=we(we({},L),p.rule.fields);var F={};Object.keys(L).forEach(function(V){var U=L[V],k=Array.isArray(U)?U:[U];F[V]=k.map(_.bind(null,V))});var $=new t(F);$.messages(s.messages),p.rule.options&&(p.rule.options.messages=s.messages,p.rule.options.error=s.error),$.validate(p.value,p.rule.options||s,function(V){var U=[];I&&I.length&&U.push.apply(U,zt(I)),V&&V.length&&U.push.apply(U,zt(V)),x(U.length?U:null)})}}var E;if(b.asyncValidator)E=b.asyncValidator(b,p.value,C,p.source,s);else if(b.validator){try{E=b.validator(b,p.value,C,p.source,s)}catch(N){var M,R;(M=(R=console).error)===null||M===void 0||M.call(R,N),s.suppressValidatorError||setTimeout(function(){throw N},0),C(N.message)}E===!0?C():E===!1?C(typeof b.message=="function"?b.message(b.fullField||b.field):b.message||"".concat(b.fullField||b.field," fails")):E instanceof Array?C(E):E instanceof Error&&C(E.message)}E&&E.then&&E.then(function(){return C()},function(N){return C(N)})},function(p){c(p)},a)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!gb.hasOwnProperty(n.type))throw new Error(Ml("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),i=r.indexOf("message");return i!==-1&&r.splice(i,1),r.length===1&&r[0]==="required"?gb.required:gb[this.getType(n)]||void 0}}]),t}();Se(M2,"register",function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");gb[e]=n});Se(M2,"warning",QSe);Se(M2,"messages",VO);Se(M2,"validators",gb);var hl="'${name}' is not a valid ${type}",Iee={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:hl,method:hl,array:hl,object:hl,number:hl,date:hl,boolean:hl,integer:hl,float:hl,regexp:hl,email:hl,url:hl,hex:hl},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},QV=M2;function C_e(t,e){return t.replace(/\\?\$\{\w+\}/g,function(n){if(n.startsWith("\\"))return n.slice(1);var r=n.slice(2,-1);return e[r]})}var ZV="CODE_LOGIC_ERROR";function GO(t,e,n,r,i){return HO.apply(this,arguments)}function HO(){return HO=h0(is().mark(function t(e,n,r,i,o){var a,s,l,c,u,d,f,h,p;return is().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return a=we({},r),delete a.ruleIndex,QV.warning=function(){},a.validator&&(s=a.validator,a.validator=function(){try{return s.apply(void 0,arguments)}catch(y){return console.error(y),Promise.reject(ZV)}}),l=null,a&&a.type==="array"&&a.defaultField&&(l=a.defaultField,delete a.defaultField),c=new QV(Se({},e,[a])),u=qg(Iee,i.validateMessages),c.messages(u),d=[],b.prev=10,b.next=13,Promise.resolve(c.validate(Se({},e,n),we({},i)));case 13:b.next=18;break;case 15:b.prev=15,b.t0=b.catch(10),b.t0.errors&&(d=b.t0.errors.map(function(y,_){var C=y.message,E=C===ZV?u.default:C;return S.isValidElement(E)?S.cloneElement(E,{key:"error_".concat(_)}):E}));case 18:if(!(!d.length&&l&&Array.isArray(n)&&n.length>0)){b.next=23;break}return b.next=21,Promise.all(n.map(function(y,_){return GO("".concat(e,".").concat(_),y,l,i,o)}));case 21:return f=b.sent,b.abrupt("return",f.reduce(function(y,_){return[].concat(zt(y),zt(_))},[]));case 23:return h=we(we({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),p=d.map(function(y){return typeof y=="string"?C_e(y,h):y}),b.abrupt("return",p);case 26:case"end":return b.stop()}},t,null,[[10,15]])})),HO.apply(this,arguments)}function T_e(t,e,n,r,i,o){var a=t.join("."),s=n.map(function(u,d){var f=u.validator,h=we(we({},u),{},{ruleIndex:d});return f&&(h.validator=function(p,x,b){var y=!1,_=function(){for(var M=arguments.length,R=new Array(M),N=0;N<M;N++)R[N]=arguments[N];Promise.resolve().then(function(){Pa(!y,"Your validator function has already return a promise. `callback` will be ignored."),y||b.apply(void 0,R)})},C=f(p,x,_);y=C&&typeof C.then=="function"&&typeof C.catch=="function",Pa(y,"`callback` is deprecated. Please return a promise instead."),y&&C.then(function(){b()}).catch(function(E){b(E||" ")})}),h}).sort(function(u,d){var f=u.warningOnly,h=u.ruleIndex,p=d.warningOnly,x=d.ruleIndex;return!!f==!!p?h-x:f?1:-1}),l;if(i===!0)l=new Promise(function(){var u=h0(is().mark(function d(f,h){var p,x,b;return is().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:p=0;case 1:if(!(p<s.length)){_.next=12;break}return x=s[p],_.next=5,GO(a,e,x,r,o);case 5:if(b=_.sent,!b.length){_.next=9;break}return h([{errors:b,rule:x}]),_.abrupt("return");case 9:p+=1,_.next=1;break;case 12:f([]);case 13:case"end":return _.stop()}},d)}));return function(d,f){return u.apply(this,arguments)}}());else{var c=s.map(function(u){return GO(a,e,u,r,o).then(function(d){return{errors:d,rule:u}})});l=(i?M_e(c):E_e(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function E_e(t){return jO.apply(this,arguments)}function jO(){return jO=h0(is().mark(function t(e){return is().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,a=(o=[]).concat.apply(o,zt(i));return a}));case 1:case"end":return r.stop()}},t)})),jO.apply(this,arguments)}function M_e(t){return qO.apply(this,arguments)}function qO(){return qO=h0(is().mark(function t(e){var n;return is().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){e.forEach(function(a){a.then(function(s){s.errors.length&&o([s]),n+=1,n===e.length&&o([])})})}));case 2:case"end":return i.stop()}},t)})),qO.apply(this,arguments)}function wo(t){return UO(t)}function JV(t,e){var n={};return e.forEach(function(r){var i=sc(t,r);n=nc(n,r,i)}),n}function gA(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t&&t.some(function(r){return Dee(e,r,n)})}function Dee(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t||!e||!n&&t.length!==e.length?!1:e.every(function(r,i){return t[i]===r})}function R_e(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||yn(t)!=="object"||yn(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(n,r));return zt(i).every(function(o){var a=t[o],s=e[o];return typeof a=="function"&&typeof s=="function"?!0:a===s})}function P_e(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&yn(e.target)==="object"&&t in e.target?e.target[t]:e}function ez(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(zt(t.slice(0,n)),[i],zt(t.slice(n,e)),zt(t.slice(e+1,r))):o<0?[].concat(zt(t.slice(0,e)),zt(t.slice(e+1,n+1)),[i],zt(t.slice(n+1,r))):t}var N_e=["name"],Xl=[];function m4(t,e,n,r,i,o){return typeof t=="function"?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var XL=function(t){Sf(n,t);var e=_f(n);function n(r){var i;if(Ro(this,n),i=e.call(this,r),Se(Mr(i),"state",{resetCount:0}),Se(Mr(i),"cancelRegisterFunc",null),Se(Mr(i),"mounted",!1),Se(Mr(i),"touched",!1),Se(Mr(i),"dirty",!1),Se(Mr(i),"validatePromise",void 0),Se(Mr(i),"prevValidating",void 0),Se(Mr(i),"errors",Xl),Se(Mr(i),"warnings",Xl),Se(Mr(i),"cancelRegister",function(){var l=i.props,c=l.preserve,u=l.isListField,d=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(u,c,wo(d)),i.cancelRegisterFunc=null}),Se(Mr(i),"getNamePath",function(){var l=i.props,c=l.name,u=l.fieldContext,d=u.prefixName,f=d===void 0?[]:d;return c!==void 0?[].concat(zt(f),zt(c)):[]}),Se(Mr(i),"getRules",function(){var l=i.props,c=l.rules,u=c===void 0?[]:c,d=l.fieldContext;return u.map(function(f){return typeof f=="function"?f(d):f})}),Se(Mr(i),"refresh",function(){i.mounted&&i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),Se(Mr(i),"metaCache",null),Se(Mr(i),"triggerMetaEvent",function(l){var c=i.props.onMetaChange;if(c){var u=we(we({},i.getMeta()),{},{destroy:l});cx(i.metaCache,u)||c(u),i.metaCache=u}else i.metaCache=null}),Se(Mr(i),"onStoreChange",function(l,c,u){var d=i.props,f=d.shouldUpdate,h=d.dependencies,p=h===void 0?[]:h,x=d.onReset,b=u.store,y=i.getNamePath(),_=i.getValue(l),C=i.getValue(b),E=c&&gA(c,y);switch(u.type==="valueUpdate"&&u.source==="external"&&!cx(_,C)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Xl,i.warnings=Xl,i.triggerMetaEvent()),u.type){case"reset":if(!c||E){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=Xl,i.warnings=Xl,i.triggerMetaEvent(),x==null||x(),i.refresh();return}break;case"remove":{if(f&&m4(f,l,b,_,C,u)){i.reRender();return}break}case"setField":{var M=u.data;if(E){"touched"in M&&(i.touched=M.touched),"validating"in M&&!("originRCField"in M)&&(i.validatePromise=M.validating?Promise.resolve([]):null),"errors"in M&&(i.errors=M.errors||Xl),"warnings"in M&&(i.warnings=M.warnings||Xl),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in M&&gA(c,y,!0)){i.reRender();return}if(f&&!y.length&&m4(f,l,b,_,C,u)){i.reRender();return}break}case"dependenciesUpdate":{var R=p.map(wo);if(R.some(function(N){return gA(u.relatedFields,N)})){i.reRender();return}break}default:if(E||(!p.length||y.length||f)&&m4(f,l,b,_,C,u)){i.reRender();return}break}f===!0&&i.reRender()}),Se(Mr(i),"validateRules",function(l){var c=i.getNamePath(),u=i.getValue(),d=l||{},f=d.triggerName,h=d.validateOnly,p=h===void 0?!1:h,x=Promise.resolve().then(h0(is().mark(function b(){var y,_,C,E,M,R,N;return is().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(i.mounted){I.next=2;break}return I.abrupt("return",[]);case 2:if(y=i.props,_=y.validateFirst,C=_===void 0?!1:_,E=y.messageVariables,M=y.validateDebounce,R=i.getRules(),f&&(R=R.filter(function(L){return L}).filter(function(L){var F=L.validateTrigger;if(!F)return!0;var $=UO(F);return $.includes(f)})),!(M&&f)){I.next=10;break}return I.next=8,new Promise(function(L){setTimeout(L,M)});case 8:if(i.validatePromise===x){I.next=10;break}return I.abrupt("return",[]);case 10:return N=T_e(c,u,R,l,C,E),N.catch(function(L){return L}).then(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xl;if(i.validatePromise===x){var F;i.validatePromise=null;var $=[],V=[];(F=L.forEach)===null||F===void 0||F.call(L,function(U){var k=U.rule.warningOnly,z=U.errors,H=z===void 0?Xl:z;k?V.push.apply(V,zt(H)):$.push.apply($,zt(H))}),i.errors=$,i.warnings=V,i.triggerMetaEvent(),i.reRender()}}),I.abrupt("return",N);case 13:case"end":return I.stop()}},b)})));return p||(i.validatePromise=x,i.dirty=!0,i.errors=Xl,i.warnings=Xl,i.triggerMetaEvent(),i.reRender()),x}),Se(Mr(i),"isFieldValidating",function(){return!!i.validatePromise}),Se(Mr(i),"isFieldTouched",function(){return i.touched}),Se(Mr(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(pm),u=c.getInitialValue;return u(i.getNamePath())!==void 0}),Se(Mr(i),"getErrors",function(){return i.errors}),Se(Mr(i),"getWarnings",function(){return i.warnings}),Se(Mr(i),"isListField",function(){return i.props.isListField}),Se(Mr(i),"isList",function(){return i.props.isList}),Se(Mr(i),"isPreserve",function(){return i.props.preserve}),Se(Mr(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),Se(Mr(i),"getOnlyChild",function(l){if(typeof l=="function"){var c=i.getMeta();return we(we({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var u=bc(l);return u.length!==1||!S.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),Se(Mr(i),"getValue",function(l){var c=i.props.fieldContext.getFieldsValue,u=i.getNamePath();return sc(l||c(!0),u)}),Se(Mr(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,u=c.name,d=c.trigger,f=c.validateTrigger,h=c.getValueFromEvent,p=c.normalize,x=c.valuePropName,b=c.getValueProps,y=c.fieldContext,_=f!==void 0?f:y.validateTrigger,C=i.getNamePath(),E=y.getInternalHooks,M=y.getFieldsValue,R=E(pm),N=R.dispatch,O=i.getValue(),I=b||function(U){return Se({},x,U)},L=l[d],F=u!==void 0?I(O):{},$=we(we({},l),F);$[d]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var U,k=arguments.length,z=new Array(k),H=0;H<k;H++)z[H]=arguments[H];h?U=h.apply(void 0,z):U=P_e.apply(void 0,[x].concat(z)),p&&(U=p(U,O,M(!0))),U!==O&&N({type:"updateValue",namePath:C,value:U}),L&&L.apply(void 0,z)};var V=UO(_||[]);return V.forEach(function(U){var k=$[U];$[U]=function(){k&&k.apply(void 0,arguments);var z=i.props.rules;z&&z.length&&N({type:"validateField",namePath:C,triggerName:U})}}),$}),r.fieldContext){var o=r.fieldContext.getInternalHooks,a=o(pm),s=a.initEntityValue;s(Mr(i))}return i}return Po(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,a=i.fieldContext;if(this.mounted=!0,a){var s=a.getInternalHooks,l=s(pm),c=l.registerField;this.cancelRegisterFunc=c(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,a=this.getOnlyChild(o),s=a.child,l=a.isFunction,c;return l?c=s:S.isValidElement(s)?c=S.cloneElement(s,this.getControlled(s.props)):(Pa(!s,"`children` of Field is not validate ReactElement."),c=s),S.createElement(S.Fragment,{key:i},c)}}]),n}(S.Component);Se(XL,"contextType",Gm);Se(XL,"defaultProps",{trigger:"onChange",valuePropName:"value"});function YL(t){var e,n=t.name,r=Qn(t,N_e),i=S.useContext(Gm),o=S.useContext(gx),a=n!==void 0?wo(n):void 0,s=(e=r.isListField)!==null&&e!==void 0?e:!!o,l="keep";return s||(l="_".concat((a||[]).join("_"))),S.createElement(XL,it({key:l,name:a,isListField:s},r,{fieldContext:i}))}function Oee(t){var e=t.name,n=t.initialValue,r=t.children,i=t.rules,o=t.validateTrigger,a=t.isListField,s=S.useContext(Gm),l=S.useContext(gx),c=S.useRef({keys:[],id:0}),u=c.current,d=S.useMemo(function(){var x=wo(s.prefixName)||[];return[].concat(zt(x),zt(wo(e)))},[s.prefixName,e]),f=S.useMemo(function(){return we(we({},s),{},{prefixName:d})},[s,d]),h=S.useMemo(function(){return{getKey:function(b){var y=d.length,_=b[y];return[u.keys[_],b.slice(y+1)]}}},[d]);if(typeof r!="function")return Pa(!1,"Form.List only accepts function as children."),null;var p=function(b,y,_){var C=_.source;return C==="internal"?!1:b!==y};return S.createElement(gx.Provider,{value:h},S.createElement(Gm.Provider,{value:f},S.createElement(YL,{name:[],shouldUpdate:p,rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:a??!!l},function(x,b){var y=x.value,_=y===void 0?[]:y,C=x.onChange,E=s.getFieldValue,M=function(){var I=E(d||[]);return I||[]},R={add:function(I,L){var F=M();L>=0&&L<=F.length?(u.keys=[].concat(zt(u.keys.slice(0,L)),[u.id],zt(u.keys.slice(L))),C([].concat(zt(F.slice(0,L)),[I],zt(F.slice(L))))):(u.keys=[].concat(zt(u.keys),[u.id]),C([].concat(zt(F),[I]))),u.id+=1},remove:function(I){var L=M(),F=new Set(Array.isArray(I)?I:[I]);F.size<=0||(u.keys=u.keys.filter(function($,V){return!F.has(V)}),C(L.filter(function($,V){return!F.has(V)})))},move:function(I,L){if(I!==L){var F=M();I<0||I>=F.length||L<0||L>=F.length||(u.keys=ez(u.keys,I,L),C(ez(F,I,L)))}}},N=_||[];return Array.isArray(N)||(N=[]),r(N.map(function(O,I){var L=u.keys[I];return L===void 0&&(u.keys[I]=u.id,L=u.keys[I],u.id+=1),{name:I,key:L,isListField:!0}}),R,b)})))}function I_e(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(i,o){t.forEach(function(a,s){a.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[s]=l,!(n>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}var Lee="__@field_split__";function g4(t){return t.map(function(e){return"".concat(yn(e),":").concat(e)}).join(Lee)}var U0=function(){function t(){Ro(this,t),Se(this,"kvs",new Map)}return Po(t,[{key:"set",value:function(n,r){this.kvs.set(g4(n),r)}},{key:"get",value:function(n){return this.kvs.get(g4(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(g4(n))}},{key:"map",value:function(n){return zt(this.kvs.entries()).map(function(r){var i=Oe(r,2),o=i[0],a=i[1],s=o.split(Lee);return n({key:s.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=Oe(c,3),d=u[1],f=u[2];return d==="number"?Number(f):f}),value:a})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),t}(),D_e=["name"],O_e=Po(function t(e){var n=this;Ro(this,t),Se(this,"formHooked",!1),Se(this,"forceRootUpdate",void 0),Se(this,"subscribable",!0),Se(this,"store",{}),Se(this,"fieldEntities",[]),Se(this,"initialValues",{}),Se(this,"callbacks",{}),Se(this,"validateMessages",null),Se(this,"preserve",null),Se(this,"lastValidatePromise",null),Se(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),Se(this,"getInternalHooks",function(r){return r===pm?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Pa(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),Se(this,"useSubscribe",function(r){n.subscribable=r}),Se(this,"prevWithoutPreserves",null),Se(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var o,a=qg(r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(s){var l=s.key;a=nc(a,l,sc(r,l))}),n.prevWithoutPreserves=null,n.updateStore(a)}}),Se(this,"destroyForm",function(r){if(r)n.updateStore({});else{var i=new U0;n.getFieldEntities(!0).forEach(function(o){n.isMergedPreserve(o.isPreserve())||i.set(o.getNamePath(),!0)}),n.prevWithoutPreserves=i}}),Se(this,"getInitialValue",function(r){var i=sc(n.initialValues,r);return r.length?qg(i):i}),Se(this,"setCallbacks",function(r){n.callbacks=r}),Se(this,"setValidateMessages",function(r){n.validateMessages=r}),Se(this,"setPreserve",function(r){n.preserve=r}),Se(this,"watchList",[]),Se(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),Se(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach(function(a){a(i,o,r)})}}),Se(this,"timeoutId",null),Se(this,"warningUnhooked",function(){}),Se(this,"updateStore",function(r){n.store=r}),Se(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),Se(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new U0;return n.getFieldEntities(r).forEach(function(o){var a=o.getNamePath();i.set(a,o)}),i}),Se(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var a=wo(o);return i.get(a)||{INVALIDATE_NAME_PATH:wo(o)}})}),Se(this,"getFieldsValue",function(r,i){n.warningUnhooked();var o,a,s;if(r===!0||Array.isArray(r)?(o=r,a=i):r&&yn(r)==="object"&&(s=r.strict,a=r.filter),o===!0&&!a)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),c=[];return l.forEach(function(u){var d,f,h="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(s){var p,x;if((p=(x=u).isList)!==null&&p!==void 0&&p.call(x))return}else if(!o&&(d=(f=u).isListField)!==null&&d!==void 0&&d.call(f))return;if(!a)c.push(h);else{var b="getMeta"in u?u.getMeta():null;a(b)&&c.push(h)}}),JV(n.store,c.map(wo))}),Se(this,"getFieldValue",function(r){n.warningUnhooked();var i=wo(r);return sc(n.store,i)}),Se(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,a){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:wo(r[a]),errors:[],warnings:[]}})}),Se(this,"getFieldError",function(r){n.warningUnhooked();var i=wo(r),o=n.getFieldsError([i])[0];return o.errors}),Se(this,"getFieldWarning",function(r){n.warningUnhooked();var i=wo(r),o=n.getFieldsError([i])[0];return o.warnings}),Se(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i[0],s=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(a)?(l=a.map(wo),c=!1):(l=null,c=a):(l=a.map(wo),c=s);var u=n.getFieldEntities(!0),d=function(b){return b.isFieldTouched()};if(!l)return c?u.every(function(x){return d(x)||x.isList()}):u.some(d);var f=new U0;l.forEach(function(x){f.set(x,[])}),u.forEach(function(x){var b=x.getNamePath();l.forEach(function(y){y.every(function(_,C){return b[C]===_})&&f.update(y,function(_){return[].concat(zt(_),[x])})})});var h=function(b){return b.some(d)},p=f.map(function(x){var b=x.value;return b});return c?p.every(h):p.some(h)}),Se(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),Se(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(a){return a.isFieldValidating()});var o=r.map(wo);return i.some(function(a){var s=a.getNamePath();return gA(o,s)&&a.isFieldValidating()})}),Se(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),Se(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new U0,o=n.getFieldEntities(!0);o.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var d=i.get(u)||new Set;d.add({entity:l,value:c}),i.set(u,d)}});var a=function(c){c.forEach(function(u){var d=u.props.initialValue;if(d!==void 0){var f=u.getNamePath(),h=n.getInitialValue(f);if(h!==void 0)Pa(!1,"Form already set 'initialValues' with path '".concat(f.join("."),"'. Field can not overwrite it."));else{var p=i.get(f);if(p&&p.size>1)Pa(!1,"Multiple Field with path '".concat(f.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(p){var x=n.getFieldValue(f),b=u.isListField();!b&&(!r.skipExist||x===void 0)&&n.updateStore(nc(n.store,f,zt(p)[0].value))}}}})},s;r.entities?s=r.entities:r.namePathList?(s=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var u;(u=s).push.apply(u,zt(zt(c).map(function(d){return d.entity})))}})):s=o,a(s)}),Se(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(qg(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(wo);o.forEach(function(a){var s=n.getInitialValue(a);n.updateStore(nc(n.store,a,s))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)}),Se(this,"setFields",function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(a){var s=a.name,l=Qn(a,D_e),c=wo(s);o.push(c),"value"in l&&n.updateStore(nc(n.store,c,l.value)),n.notifyObservers(i,[c],{type:"setField",data:a})}),n.notifyWatch(o)}),Se(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var a=o.getNamePath(),s=o.getMeta(),l=we(we({},s),{},{name:a,value:n.getFieldValue(a)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),Se(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),a=sc(n.store,o);a===void 0&&n.updateStore(nc(n.store,o,i))}}),Se(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),Se(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(d){return d!==r}),!n.isMergedPreserve(s)&&(!a||l.length>1)){var c=a?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==c&&n.fieldEntities.every(function(d){return!Dee(d.getNamePath(),i)})){var u=n.store;n.updateStore(nc(u,i,c,!0)),n.notifyObservers(u,[i],{type:"remove"}),n.triggerDependenciesUpdate(u,i)}}n.notifyWatch([i])}}),Se(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var a=r.namePath,s=r.triggerName;n.validateFields([a],{triggerName:s});break}}}),Se(this,"notifyObservers",function(r,i,o){if(n.subscribable){var a=we(we({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(s){var l=s.onStoreChange;l(r,i,a)})}else n.forceRootUpdate()}),Se(this,"triggerDependenciesUpdate",function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(zt(o))}),o}),Se(this,"updateValue",function(r,i){var o=wo(r),a=n.store;n.updateStore(nc(n.store,o,i)),n.notifyObservers(a,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var s=n.triggerDependenciesUpdate(a,o),l=n.callbacks.onValuesChange;if(l){var c=JV(n.store,[o]);l(c,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(zt(s)))}),Se(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var o=qg(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),Se(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i,errors:[],warnings:[]}])}),Se(this,"getDependencyChildrenFields",function(r){var i=new Set,o=[],a=new U0;n.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var d=wo(u);a.update(d,function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return f.add(l),f})})});var s=function l(c){var u=a.get(c)||new Set;u.forEach(function(d){if(!i.has(d)){i.add(d);var f=d.getNamePath();d.isFieldDirty()&&f.length&&(o.push(f),l(f))}})};return s(r),o}),Se(this,"triggerOnFieldsChange",function(r,i){var o=n.callbacks.onFieldsChange;if(o){var a=n.getFields();if(i){var s=new U0;i.forEach(function(c){var u=c.name,d=c.errors;s.set(u,d)}),a.forEach(function(c){c.errors=s.get(c.name)||c.errors})}var l=a.filter(function(c){var u=c.name;return gA(r,u)});l.length&&o(l,a)}}),Se(this,"validateFields",function(r,i){n.warningUnhooked();var o,a;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(o=r,a=i):a=r;var s=!!o,l=s?o.map(wo):[],c=[],u=String(Date.now()),d=new Set,f=a||{},h=f.recursive,p=f.dirty;n.getFieldEntities(!0).forEach(function(_){if(s||l.push(_.getNamePath()),!(!_.props.rules||!_.props.rules.length)&&!(p&&!_.isFieldDirty())){var C=_.getNamePath();if(d.add(C.join(u)),!s||gA(l,C,h)){var E=_.validateRules(we({validateMessages:we(we({},Iee),n.validateMessages)},a));c.push(E.then(function(){return{name:C,errors:[],warnings:[]}}).catch(function(M){var R,N=[],O=[];return(R=M.forEach)===null||R===void 0||R.call(M,function(I){var L=I.rule.warningOnly,F=I.errors;L?O.push.apply(O,zt(F)):N.push.apply(N,zt(F))}),N.length?Promise.reject({name:C,errors:N,warnings:O}):{name:C,errors:N,warnings:O}}))}}});var x=I_e(c);n.lastValidatePromise=x,x.catch(function(_){return _}).then(function(_){var C=_.map(function(E){var M=E.name;return M});n.notifyObservers(n.store,C,{type:"validateFinish"}),n.triggerOnFieldsChange(C,_)});var b=x.then(function(){return n.lastValidatePromise===x?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(_){var C=_.filter(function(E){return E&&E.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:C,outOfDate:n.lastValidatePromise!==x})});b.catch(function(_){return _});var y=l.filter(function(_){return d.has(_.join(u))});return n.triggerOnFieldsChange(y),b}),Se(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=e});function KL(t){var e=S.useRef(),n=S.useState({}),r=Oe(n,2),i=r[1];if(!e.current)if(t)e.current=t;else{var o=function(){i({})},a=new O_e(o);e.current=a.getForm()}return[e.current]}var WO=S.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Bee=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,a=S.useContext(WO),s=S.useRef({});return S.createElement(WO.Provider,{value:we(we({},a),{},{validateMessages:we(we({},a.validateMessages),n),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:s.current}),a.triggerFormChange(c,u)},triggerFormFinish:function(c,u){i&&i(c,{values:u,forms:s.current}),a.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(s.current=we(we({},s.current),{},Se({},c,u))),a.registerForm(c,u)},unregisterForm:function(c){var u=we({},s.current);delete u[c],s.current=u,a.unregisterForm(c)}})},o)},L_e=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],B_e=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,a=e.form,s=e.preserve,l=e.children,c=e.component,u=c===void 0?"form":c,d=e.validateMessages,f=e.validateTrigger,h=f===void 0?"onChange":f,p=e.onValuesChange,x=e.onFieldsChange,b=e.onFinish,y=e.onFinishFailed,_=e.clearOnDestroy,C=Qn(e,L_e),E=S.useRef(null),M=S.useContext(WO),R=KL(a),N=Oe(R,1),O=N[0],I=O.getInternalHooks(pm),L=I.useSubscribe,F=I.setInitialValues,$=I.setCallbacks,V=I.setValidateMessages,U=I.setPreserve,k=I.destroyForm;S.useImperativeHandle(n,function(){return we(we({},O),{},{nativeElement:E.current})}),S.useEffect(function(){return M.registerForm(r,O),function(){M.unregisterForm(r)}},[M,O,r]),V(we(we({},M.validateMessages),d)),$({onValuesChange:p,onFieldsChange:function(ue){if(M.triggerFormChange(r,ue),x){for(var fe=arguments.length,oe=new Array(fe>1?fe-1:0),ce=1;ce<fe;ce++)oe[ce-1]=arguments[ce];x.apply(void 0,[ue].concat(oe))}},onFinish:function(ue){M.triggerFormFinish(r,ue),b&&b(ue)},onFinishFailed:y}),U(s);var z=S.useRef(null);F(i,!z.current),z.current||(z.current=!0),S.useEffect(function(){return function(){return k(_)}},[]);var H,j=typeof l=="function";if(j){var X=O.getFieldsValue(!0);H=l(X,O)}else H=l;L(!j);var Y=S.useRef();S.useEffect(function(){R_e(Y.current||[],o||[])||O.setFields(o||[]),Y.current=o},[o,O]);var J=S.useMemo(function(){return we(we({},O),{},{validateTrigger:h})},[O,h]),ee=S.createElement(gx.Provider,{value:null},S.createElement(Gm.Provider,{value:J},H));return u===!1?ee:S.createElement(u,it({},C,{ref:E,onSubmit:function(ue){ue.preventDefault(),ue.stopPropagation(),O.submit()},onReset:function(ue){var fe;ue.preventDefault(),O.resetFields(),(fe=C.onReset)===null||fe===void 0||fe.call(C,ue)}}),ee)};function tz(t){try{return JSON.stringify(t)}catch{return Math.random()}}function Fee(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=i===void 0?{}:i,a=WSe(o)?{form:o}:o,s=a.form,l=S.useState(),c=Oe(l,2),u=c[0],d=c[1],f=S.useMemo(function(){return tz(u)},[u]),h=S.useRef(f);h.current=f;var p=S.useContext(Gm),x=s||p,b=x&&x._init,y=wo(r),_=S.useRef(y);return _.current=y,S.useEffect(function(){if(b){var C=x.getFieldsValue,E=x.getInternalHooks,M=E(pm),R=M.registerWatch,N=function(F,$){var V=a.preserve?$:F;return typeof r=="function"?r(V):sc(V,_.current)},O=R(function(L,F){var $=N(L,F),V=tz($);h.current!==V&&(h.current=V,d($))}),I=N(C(),C(!0));return u!==I&&d(I),O}},[b]),u}var F_e=S.forwardRef(B_e),Yv=F_e;Yv.FormProvider=Bee;Yv.Field=YL;Yv.List=Oee;Yv.useForm=KL;Yv.useWatch=Fee;const df=S.createContext({labelAlign:"right",layout:"horizontal",itemRef:()=>{}}),$ee=S.createContext(null),Uee=t=>{const e=go(t,["prefixCls"]);return S.createElement(Bee,Object.assign({},e))},QL=S.createContext({prefixCls:""}),Ns=S.createContext({}),kee=({children:t,status:e,override:n})=>{const r=S.useContext(Ns),i=S.useMemo(()=>{const o=Object.assign({},r);return n&&delete o.isFormItemInput,e&&(delete o.status,delete o.hasFeedback,delete o.feedbackIcon),o},[e,n,r]);return S.createElement(Ns.Provider,{value:i},t)},Vee=S.createContext(void 0),$_e=t=>{const{space:e,form:n,children:r}=t;if(r==null)return null;let i=r;return n&&(i=je.createElement(kee,{override:!0,status:!0},i)),e&&(i=je.createElement(n2e,null,i)),i},Hm=$_e;var zee=function(e){if(Da()&&window.document.documentElement){var n=Array.isArray(e)?e:[e],r=window.document.documentElement;return n.some(function(i){return i in r.style})}return!1},U_e=function(e,n){if(!zee(e))return!1;var r=document.createElement("div"),i=r.style[e];return r.style[e]=n,r.style[e]!==i};function nz(t,e){return!Array.isArray(t)&&e!==void 0?U_e(t,e):zee(t)}const k_e=()=>Da()&&window.document.documentElement,V_e=t=>{const{prefixCls:e,className:n,style:r,size:i,shape:o}=t,a=ke({[`${e}-lg`]:i==="large",[`${e}-sm`]:i==="small"}),s=ke({[`${e}-circle`]:o==="circle",[`${e}-square`]:o==="square",[`${e}-round`]:o==="round"}),l=S.useMemo(()=>typeof i=="number"?{width:i,height:i,lineHeight:`${i}px`}:{},[i]);return S.createElement("span",{className:ke(e,a,s,n),style:Object.assign(Object.assign({},l),r)})},sM=V_e,z_e=new Pr("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),lM=t=>({height:t,lineHeight:Re(t)}),AA=t=>Object.assign({width:t},lM(t)),G_e=t=>({background:t.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:z_e,animationDuration:t.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),A4=(t,e)=>Object.assign({width:e(t).mul(5).equal(),minWidth:e(t).mul(5).equal()},lM(t)),H_e=t=>{const{skeletonAvatarCls:e,gradientFromColor:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o}=t;return{[e]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},AA(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},AA(i)),[`${e}${e}-sm`]:Object.assign({},AA(o))}},j_e=t=>{const{controlHeight:e,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:a,calc:s}=t;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:n},A4(e,s)),[`${r}-lg`]:Object.assign({},A4(i,s)),[`${r}-sm`]:Object.assign({},A4(o,s))}},rz=t=>Object.assign({width:t},lM(t)),q_e=t=>{const{skeletonImageCls:e,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:i,calc:o}=t;return{[e]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:i},rz(o(n).mul(2).equal())),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},rz(n)),{maxWidth:o(n).mul(4).equal(),maxHeight:o(n).mul(4).equal()}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},v4=(t,e,n)=>{const{skeletonButtonCls:r}=t;return{[`${n}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:e}}},y4=(t,e)=>Object.assign({width:e(t).mul(2).equal(),minWidth:e(t).mul(2).equal()},lM(t)),W_e=t=>{const{borderRadiusSM:e,skeletonButtonCls:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:a,calc:s}=t;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:e,width:s(r).mul(2).equal(),minWidth:s(r).mul(2).equal()},y4(r,s))},v4(t,r,n)),{[`${n}-lg`]:Object.assign({},y4(i,s))}),v4(t,i,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},y4(o,s))}),v4(t,o,`${n}-sm`))},X_e=t=>{const{componentCls:e,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:i,skeletonButtonCls:o,skeletonInputCls:a,skeletonImageCls:s,controlHeight:l,controlHeightLG:c,controlHeightSM:u,gradientFromColor:d,padding:f,marginSM:h,borderRadius:p,titleHeight:x,blockRadius:b,paragraphLiHeight:y,controlHeightXS:_,paragraphMarginTop:C}=t;return{[e]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:f,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},AA(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},AA(c)),[`${n}-sm`]:Object.assign({},AA(u))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:x,background:d,borderRadius:b,[`+ ${i}`]:{marginBlockStart:u}},[i]:{padding:0,"> li":{width:"100%",height:y,listStyle:"none",background:d,borderRadius:b,"+ li":{marginBlockStart:_}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${i} > li`]:{borderRadius:p}}},[`${e}-with-avatar ${e}-content`]:{[r]:{marginBlockStart:h,[`+ ${i}`]:{marginBlockStart:C}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},W_e(t)),H_e(t)),j_e(t)),q_e(t)),[`${e}${e}-block`]:{width:"100%",[o]:{width:"100%"},[a]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${i} > li,
        ${n},
        ${o},
        ${a},
        ${s}
      `]:Object.assign({},G_e(t))}}},Y_e=t=>{const{colorFillContent:e,colorFill:n}=t,r=e,i=n;return{color:r,colorGradientEnd:i,gradientFromColor:r,gradientToColor:i,titleHeight:t.controlHeight/2,blockRadius:t.borderRadiusSM,paragraphMarginTop:t.marginLG+t.marginXXS,paragraphLiHeight:t.controlHeight/2}},Kv=di("Skeleton",t=>{const{componentCls:e,calc:n}=t,r=Fr(t,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:n(t.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${t.gradientFromColor} 25%, ${t.gradientToColor} 37%, ${t.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return X_e(r)},Y_e,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),K_e=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,shape:o="circle",size:a="default"}=t,{getPrefixCls:s}=S.useContext(Kn),l=s("skeleton",e),[c,u,d]=Kv(l),f=go(t,["prefixCls","className"]),h=ke(l,`${l}-element`,{[`${l}-active`]:i},n,r,u,d);return c(S.createElement("div",{className:h},S.createElement(sM,Object.assign({prefixCls:`${l}-avatar`,shape:o,size:a},f))))},Q_e=K_e,Z_e=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,block:o=!1,size:a="default"}=t,{getPrefixCls:s}=S.useContext(Kn),l=s("skeleton",e),[c,u,d]=Kv(l),f=go(t,["prefixCls"]),h=ke(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},n,r,u,d);return c(S.createElement("div",{className:h},S.createElement(sM,Object.assign({prefixCls:`${l}-button`,size:a},f))))},J_e=Z_e,ewe="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",twe=t=>{const{prefixCls:e,className:n,rootClassName:r,style:i,active:o}=t,{getPrefixCls:a}=S.useContext(Kn),s=a("skeleton",e),[l,c,u]=Kv(s),d=ke(s,`${s}-element`,{[`${s}-active`]:o},n,r,c,u);return l(S.createElement("div",{className:d},S.createElement("div",{className:ke(`${s}-image`,n),style:i},S.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${s}-image-svg`},S.createElement("title",null,"Image placeholder"),S.createElement("path",{d:ewe,className:`${s}-image-path`})))))},nwe=twe,rwe=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,block:o,size:a="default"}=t,{getPrefixCls:s}=S.useContext(Kn),l=s("skeleton",e),[c,u,d]=Kv(l),f=go(t,["prefixCls"]),h=ke(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},n,r,u,d);return c(S.createElement("div",{className:h},S.createElement(sM,Object.assign({prefixCls:`${l}-input`,size:a},f))))},iwe=rwe,owe=t=>{const{prefixCls:e,className:n,rootClassName:r,style:i,active:o,children:a}=t,{getPrefixCls:s}=S.useContext(Kn),l=s("skeleton",e),[c,u,d]=Kv(l),f=ke(l,`${l}-element`,{[`${l}-active`]:o},u,n,r,d);return c(S.createElement("div",{className:f},S.createElement("div",{className:ke(`${l}-image`,n),style:i},a)))},awe=owe,swe=(t,e)=>{const{width:n,rows:r=2}=e;if(Array.isArray(n))return n[t];if(r-1===t)return n},lwe=t=>{const{prefixCls:e,className:n,style:r,rows:i=0}=t,o=Array.from({length:i}).map((a,s)=>S.createElement("li",{key:s,style:{width:swe(s,t)}}));return S.createElement("ul",{className:ke(e,n),style:r},o)},cwe=lwe,uwe=({prefixCls:t,className:e,width:n,style:r})=>S.createElement("h3",{className:ke(t,e),style:Object.assign({width:n},r)}),dwe=uwe;function b4(t){return t&&typeof t=="object"?t:{}}function fwe(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function hwe(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}function pwe(t,e){const n={};return(!t||!e)&&(n.width="61%"),!t&&e?n.rows=3:n.rows=2,n}const Qv=t=>{const{prefixCls:e,loading:n,className:r,rootClassName:i,style:o,children:a,avatar:s=!1,title:l=!0,paragraph:c=!0,active:u,round:d}=t,{getPrefixCls:f,direction:h,className:p,style:x}=fa("skeleton"),b=f("skeleton",e),[y,_,C]=Kv(b);if(n||!("loading"in t)){const E=!!s,M=!!l,R=!!c;let N;if(E){const L=Object.assign(Object.assign({prefixCls:`${b}-avatar`},fwe(M,R)),b4(s));N=S.createElement("div",{className:`${b}-header`},S.createElement(sM,Object.assign({},L)))}let O;if(M||R){let L;if(M){const $=Object.assign(Object.assign({prefixCls:`${b}-title`},hwe(E,R)),b4(l));L=S.createElement(dwe,Object.assign({},$))}let F;if(R){const $=Object.assign(Object.assign({prefixCls:`${b}-paragraph`},pwe(E,M)),b4(c));F=S.createElement(cwe,Object.assign({},$))}O=S.createElement("div",{className:`${b}-content`},L,F)}const I=ke(b,{[`${b}-with-avatar`]:E,[`${b}-active`]:u,[`${b}-rtl`]:h==="rtl",[`${b}-round`]:d},p,r,i,_,C);return y(S.createElement("div",{className:I,style:Object.assign(Object.assign({},x),o)},N,O))}return a??null};Qv.Button=J_e;Qv.Avatar=Q_e;Qv.Input=iwe;Qv.Image=nwe;Qv.Node=awe;const Gee=Qv;function iz(){}const mwe=S.createContext({add:iz,remove:iz});function gwe(t){const e=S.useContext(mwe),n=S.useRef(null);return Or(i=>{if(i){const o=t?i.querySelector(t):i;o&&(e.add(o),n.current=o)}else e.remove(n.current)})}const Awe=()=>{const{cancelButtonProps:t,cancelTextLocale:e,onCancel:n}=S.useContext(E2);return je.createElement(bo,Object.assign({onClick:n},t),e)},oz=Awe,vwe=()=>{const{confirmLoading:t,okButtonProps:e,okType:n,okTextLocale:r,onOk:i}=S.useContext(E2);return je.createElement(bo,Object.assign({},BL(n),{loading:t,onClick:i},e),r)},az=vwe;function Hee(t,e){return je.createElement("span",{className:`${t}-close-x`},e||je.createElement(f0,{className:`${t}-close-icon`}))}const jee=t=>{const{okText:e,okType:n="primary",cancelText:r,confirmLoading:i,onOk:o,onCancel:a,okButtonProps:s,cancelButtonProps:l,footer:c}=t,[u]=Vl("Modal",IJ()),d=e||(u==null?void 0:u.okText),f=r||(u==null?void 0:u.cancelText),h=je.useMemo(()=>({confirmLoading:i,okButtonProps:s,cancelButtonProps:l,okTextLocale:d,cancelTextLocale:f,okType:n,onOk:o,onCancel:a}),[i,s,l,d,f,n,o,a]);let p;return typeof c=="function"||typeof c>"u"?(p=je.createElement(je.Fragment,null,je.createElement(oz,null),je.createElement(az,null)),typeof c=="function"&&(p=c(p,{OkBtn:az,CancelBtn:oz})),p=je.createElement(Cee,{value:h},p)):p=c,je.createElement(PL,{disabled:!1},p)},ywe=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},bwe=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},xwe=(t,e)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=t,o={};for(let a=i;a>=0;a--)a===0?(o[`${r}${e}-${a}`]={display:"none"},o[`${r}-push-${a}`]={insetInlineStart:"auto"},o[`${r}-pull-${a}`]={insetInlineEnd:"auto"},o[`${r}${e}-push-${a}`]={insetInlineStart:"auto"},o[`${r}${e}-pull-${a}`]={insetInlineEnd:"auto"},o[`${r}${e}-offset-${a}`]={marginInlineStart:0},o[`${r}${e}-order-${a}`]={order:0}):(o[`${r}${e}-${a}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${a/i*100}%`,maxWidth:`${a/i*100}%`}],o[`${r}${e}-push-${a}`]={insetInlineStart:`${a/i*100}%`},o[`${r}${e}-pull-${a}`]={insetInlineEnd:`${a/i*100}%`},o[`${r}${e}-offset-${a}`]={marginInlineStart:`${a/i*100}%`},o[`${r}${e}-order-${a}`]={order:a});return o[`${r}${e}-flex`]={flex:`var(--${n}${e}-flex)`},o},XO=(t,e)=>xwe(t,e),Swe=(t,e,n)=>({[`@media (min-width: ${Re(e)})`]:Object.assign({},XO(t,n))}),_we=()=>({}),wwe=()=>({}),Cwe=di("Grid",ywe,_we),qee=t=>({xs:t.screenXSMin,sm:t.screenSMMin,md:t.screenMDMin,lg:t.screenLGMin,xl:t.screenXLMin,xxl:t.screenXXLMin}),Twe=di("Grid",t=>{const e=Fr(t,{gridColumns:24}),n=qee(e);return delete n.xs,[bwe(e),XO(e,""),XO(e,"-xs"),Object.keys(n).map(r=>Swe(e,n[r],`-${r}`)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},wwe);function sz(t){return{position:t,inset:0}}const Ewe=t=>{const{componentCls:e,antCls:n}=t;return[{[`${e}-root`]:{[`${e}${n}-zoom-enter, ${e}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:t.motionDurationSlow,userSelect:"none"},[`${e}${n}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},sz("fixed")),{zIndex:t.zIndexPopupBase,height:"100%",backgroundColor:t.colorBgMask,pointerEvents:"none",[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},sz("fixed")),{zIndex:t.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${e}-root`]:R2e(t)}]},Mwe=t=>{const{componentCls:e}=t;return[{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${t.screenSMMax}px)`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${Re(t.marginXS)} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},Ji(t)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${Re(t.calc(t.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:t.paddingLG,[`${e}-title`]:{margin:0,color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:t.contentBg,backgroundClip:"padding-box",border:0,borderRadius:t.borderRadiusLG,boxShadow:t.boxShadow,pointerEvents:"auto",padding:t.contentPadding},[`${e}-close`]:Object.assign({position:"absolute",top:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),insetInlineEnd:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),zIndex:t.calc(t.zIndexPopupBase).add(10).equal(),padding:0,color:t.modalCloseIconColor,fontWeight:t.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:t.borderRadiusSM,width:t.modalCloseBtnSize,height:t.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${t.motionDurationMid}, background-color ${t.motionDurationMid}`,"&-x":{display:"flex",fontSize:t.fontSizeLG,fontStyle:"normal",lineHeight:Re(t.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:t.modalCloseIconHoverColor,backgroundColor:t.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:t.colorBgTextActive}},zm(t)),[`${e}-header`]:{color:t.colorText,background:t.headerBg,borderRadius:`${Re(t.borderRadiusLG)} ${Re(t.borderRadiusLG)} 0 0`,marginBottom:t.headerMarginBottom,padding:t.headerPadding,borderBottom:t.headerBorderBottom},[`${e}-body`]:{fontSize:t.fontSize,lineHeight:t.lineHeight,wordWrap:"break-word",padding:t.bodyPadding,[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${Re(t.margin)} auto`}},[`${e}-footer`]:{textAlign:"end",background:t.footerBg,marginTop:t.footerMarginTop,padding:t.footerPadding,borderTop:t.footerBorderTop,borderRadius:t.footerBorderRadius,[`> ${t.antCls}-btn + ${t.antCls}-btn`]:{marginInlineStart:t.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},Rwe=t=>{const{componentCls:e}=t;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},Pwe=t=>{const{componentCls:e}=t,n=qee(t),r=Object.assign({},n);delete r.xs;const i=`--${e.replace(".","")}-`,o=Object.keys(r).map(a=>({[`@media (min-width: ${Re(r[a])})`]:{width:`var(${i}${a}-width)`}}));return{[`${e}-root`]:{[e]:[].concat(zt(Object.keys(n).map((a,s)=>{const l=Object.keys(n)[s-1];return l?{[`${i}${a}-width`]:`var(${i}${l}-width)`}:null})),[{width:`var(${i}xs-width)`}],zt(o))}}},Wee=t=>{const e=t.padding,n=t.fontSizeHeading5,r=t.lineHeightHeading5;return Fr(t,{modalHeaderHeight:t.calc(t.calc(r).mul(n).equal()).add(t.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:t.colorSplit,modalFooterBorderStyle:t.lineType,modalFooterBorderWidth:t.lineWidth,modalCloseIconColor:t.colorIcon,modalCloseIconHoverColor:t.colorIconHover,modalCloseBtnSize:t.controlHeight,modalConfirmIconSize:t.fontHeight,modalTitleHeight:t.calc(t.titleFontSize).mul(t.titleLineHeight).equal()})},Xee=t=>({footerBg:"transparent",headerBg:t.colorBgElevated,titleLineHeight:t.lineHeightHeading5,titleFontSize:t.fontSizeHeading5,contentBg:t.colorBgElevated,titleColor:t.colorTextHeading,contentPadding:t.wireframe?0:`${Re(t.paddingMD)} ${Re(t.paddingContentHorizontalLG)}`,headerPadding:t.wireframe?`${Re(t.padding)} ${Re(t.paddingLG)}`:0,headerBorderBottom:t.wireframe?`${Re(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",headerMarginBottom:t.wireframe?0:t.marginXS,bodyPadding:t.wireframe?t.paddingLG:0,footerPadding:t.wireframe?`${Re(t.paddingXS)} ${Re(t.padding)}`:0,footerBorderTop:t.wireframe?`${Re(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",footerBorderRadius:t.wireframe?`0 0 ${Re(t.borderRadiusLG)} ${Re(t.borderRadiusLG)}`:0,footerMarginTop:t.wireframe?0:t.marginSM,confirmBodyPadding:t.wireframe?`${Re(t.padding*2)} ${Re(t.padding*2)} ${Re(t.paddingLG)}`:0,confirmIconMarginInlineEnd:t.wireframe?t.margin:t.marginSM,confirmBtnsMarginTop:t.wireframe?t.marginLG:t.marginSM}),Yee=di("Modal",t=>{const e=Wee(t);return[Mwe(e),Rwe(e),Ewe(e),zL(e,"zoom"),Pwe(e)]},Xee,{unitless:{titleLineHeight:!0}});var Nwe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let YO;const Iwe=t=>{YO={x:t.pageX,y:t.pageY},setTimeout(()=>{YO=null},100)};k_e()&&document.documentElement.addEventListener("click",Iwe,!0);const Dwe=t=>{const{prefixCls:e,className:n,rootClassName:r,open:i,wrapClassName:o,centered:a,getContainer:s,focusTriggerAfterClose:l=!0,style:c,visible:u,width:d=520,footer:f,classNames:h,styles:p,children:x,loading:b,confirmLoading:y,zIndex:_,mousePosition:C,onOk:E,onCancel:M,destroyOnHidden:R,destroyOnClose:N,panelRef:O=null,modalRender:I}=t,L=Nwe(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose","panelRef","modalRender"]),{getPopupContainer:F,getPrefixCls:$,direction:V,modal:U}=S.useContext(Kn),k=ne=>{y||M==null||M(ne)},z=ne=>{E==null||E(ne)},H=$("modal",e),j=$(),X=bu(H),[Y,J,ee]=Yee(H,X),re=ke(o,{[`${H}-centered`]:a??(U==null?void 0:U.centered),[`${H}-wrap-rtl`]:V==="rtl"}),ue=f!==null&&!b?S.createElement(jee,Object.assign({},t,{onOk:z,onCancel:k})):null,[fe,oe,ce,pe]=dee(NT(t),NT(U),{closable:!0,closeIcon:S.createElement(f0,{className:`${H}-close-icon`}),closeIconRender:ne=>Hee(H,ne)}),ye=I?ne=>S.createElement("div",{className:`${H}-render`},I(ne)):void 0,xe=`.${H}-${I?"render":"content"}`,be=gwe(xe),Ce=ll(O,be),[Ne,Ae]=w2("Modal",_),[me,de]=S.useMemo(()=>d&&typeof d=="object"?[void 0,d]:[d,void 0],[d]),Be=S.useMemo(()=>{const ne={};return de&&Object.keys(de).forEach(Je=>{const Ye=de[Je];Ye!==void 0&&(ne[`--${H}-${Je}-width`]=typeof Ye=="number"?`${Ye}px`:Ye)}),ne},[H,de]);return Y(S.createElement(Hm,{form:!0,space:!0},S.createElement(OL.Provider,{value:Ae},S.createElement(Pee,Object.assign({width:me},L,{zIndex:Ne,getContainer:s===void 0?F:s,prefixCls:H,rootClassName:ke(J,r,ee,X),footer:ue,visible:i??u,mousePosition:C??YO,onClose:k,closable:fe&&Object.assign({disabled:ce,closeIcon:oe},pe),closeIcon:oe,focusTriggerAfterClose:l,transitionName:Xh(j,"zoom",t.transitionName),maskTransitionName:Xh(j,"fade",t.maskTransitionName),className:ke(J,n,U==null?void 0:U.className),style:Object.assign(Object.assign(Object.assign({},U==null?void 0:U.style),c),Be),classNames:Object.assign(Object.assign(Object.assign({},U==null?void 0:U.classNames),h),{wrapper:ke(re,h==null?void 0:h.wrapper)}),styles:Object.assign(Object.assign({},U==null?void 0:U.styles),p),panelRef:Ce,destroyOnClose:R??N,modalRender:ye}),b?S.createElement(Gee,{active:!0,title:!1,paragraph:{rows:4},className:`${H}-body-skeleton`}):x))))},Kee=Dwe,Owe=t=>{const{componentCls:e,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:i,fontSize:o,lineHeight:a,modalTitleHeight:s,fontHeight:l,confirmBodyPadding:c}=t,u=`${e}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${t.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},S2()),[`&${e} ${e}-body`]:{padding:c},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t.iconCls}`]:{flex:"none",fontSize:i,marginInlineEnd:t.confirmIconMarginInlineEnd,marginTop:t.calc(t.calc(l).sub(i).equal()).div(2).equal()},[`&-has-title > ${t.iconCls}`]:{marginTop:t.calc(t.calc(s).sub(i).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:t.marginXS,maxWidth:`calc(100% - ${Re(t.marginSM)})`},[`${t.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${Re(t.calc(t.modalConfirmIconSize).add(t.marginSM).equal())})`},[`${u}-title`]:{color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:n,lineHeight:r},[`${u}-content`]:{color:t.colorText,fontSize:o,lineHeight:a},[`${u}-btns`]:{textAlign:"end",marginTop:t.confirmBtnsMarginTop,[`${t.antCls}-btn + ${t.antCls}-btn`]:{marginBottom:0,marginInlineStart:t.marginXS}}},[`${u}-error ${u}-body > ${t.iconCls}`]:{color:t.colorError},[`${u}-warning ${u}-body > ${t.iconCls},
        ${u}-confirm ${u}-body > ${t.iconCls}`]:{color:t.colorWarning},[`${u}-info ${u}-body > ${t.iconCls}`]:{color:t.colorInfo},[`${u}-success ${u}-body > ${t.iconCls}`]:{color:t.colorSuccess}}},Lwe=Wv(["Modal","confirm"],t=>{const e=Wee(t);return Owe(e)},Xee,{order:-1e3});var Bwe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Qee=t=>{const{prefixCls:e,icon:n,okText:r,cancelText:i,confirmPrefixCls:o,type:a,okCancel:s,footer:l,locale:c}=t,u=Bwe(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let d=n;if(!n&&n!==null)switch(a){case"info":d=S.createElement(sxe,null);break;case"success":d=S.createElement(DL,null);break;case"error":d=S.createElement(_2,null);break;default:d=S.createElement(K3,null)}const f=s??a==="confirm",h=t.autoFocusButton===null?!1:t.autoFocusButton||"ok",[p]=Vl("Modal"),x=c||p,b=r||(f?x==null?void 0:x.okText:x==null?void 0:x.justOkText),y=i||(x==null?void 0:x.cancelText),_=S.useMemo(()=>Object.assign({autoFocusButton:h,cancelTextLocale:y,okTextLocale:b,mergedOkCancel:f},u),[h,y,b,f,u]),C=S.createElement(S.Fragment,null,S.createElement(FV,null),S.createElement($V,null)),E=t.title!==void 0&&t.title!==null,M=`${o}-body`;return S.createElement("div",{className:`${o}-body-wrapper`},S.createElement("div",{className:ke(M,{[`${M}-has-title`]:E})},d,S.createElement("div",{className:`${o}-paragraph`},E&&S.createElement("span",{className:`${o}-title`},t.title),S.createElement("div",{className:`${o}-content`},t.content))),l===void 0||typeof l=="function"?S.createElement(Cee,{value:_},S.createElement("div",{className:`${o}-btns`},typeof l=="function"?l(C,{OkBtn:$V,CancelBtn:FV}):C)):l,S.createElement(Lwe,{prefixCls:e}))},Fwe=t=>{const{close:e,zIndex:n,maskStyle:r,direction:i,prefixCls:o,wrapClassName:a,rootPrefixCls:s,bodyStyle:l,closable:c=!1,onConfirm:u,styles:d,title:f}=t,h=`${o}-confirm`,p=t.width||416,x=t.style||{},b=t.mask===void 0?!0:t.mask,y=t.maskClosable===void 0?!1:t.maskClosable,_=ke(h,`${h}-${t.type}`,{[`${h}-rtl`]:i==="rtl"},t.className),[,C]=cl(),E=S.useMemo(()=>n!==void 0?n:C.zIndexPopupBase+Rxe,[n,C]);return S.createElement(Kee,Object.assign({},t,{className:_,wrapClassName:ke({[`${h}-centered`]:!!t.centered},a),onCancel:()=>{e==null||e({triggerCancel:!0}),u==null||u(!1)},title:f,footer:null,transitionName:Xh(s||"","zoom",t.transitionName),maskTransitionName:Xh(s||"","fade",t.maskTransitionName),mask:b,maskClosable:y,style:x,styles:Object.assign({body:l,mask:r},d),width:p,zIndex:E,closable:c}),S.createElement(Qee,Object.assign({},t,{confirmPrefixCls:h})))},Zee=t=>{const{rootPrefixCls:e,iconPrefixCls:n,direction:r,theme:i}=t;return S.createElement(W3,{prefixCls:e,iconPrefixCls:n,direction:r,theme:i},S.createElement(Fwe,Object.assign({},t)))},$we=[],mm=$we;let Jee="";function ete(){return Jee}const Uwe=t=>{var e,n;const{prefixCls:r,getContainer:i,direction:o}=t,a=IJ(),s=S.useContext(Kn),l=ete()||s.getPrefixCls(),c=r||`${l}-modal`;let u=i;return u===!1&&(u=void 0),je.createElement(Zee,Object.assign({},t,{rootPrefixCls:l,prefixCls:c,iconPrefixCls:s.iconPrefixCls,theme:s.theme,direction:o??s.direction,locale:(n=(e=s.locale)===null||e===void 0?void 0:e.Modal)!==null&&n!==void 0?n:a,getContainer:u}))};function R2(t){const e=Rbe(),n=document.createDocumentFragment();let r=Object.assign(Object.assign({},t),{close:l,open:!0}),i,o;function a(...u){var d;if(u.some(p=>p==null?void 0:p.triggerCancel)){var h;(d=t.onCancel)===null||d===void 0||(h=d).call.apply(h,[t,()=>{}].concat(zt(u.slice(1))))}for(let p=0;p<mm.length;p++)if(mm[p]===l){mm.splice(p,1);break}o()}const s=u=>{clearTimeout(i),i=setTimeout(()=>{const d=e.getPrefixCls(void 0,ete()),f=e.getIconPrefixCls(),h=e.getTheme(),p=je.createElement(Uwe,Object.assign({},u));o=gee()(je.createElement(W3,{prefixCls:d,iconPrefixCls:f,theme:h},typeof e.holderRender=="function"?e.holderRender(p):p),n)})};function l(...u){r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof t.afterClose=="function"&&t.afterClose(),a.apply(this,u)}}),r.visible&&delete r.visible,s(r)}function c(u){typeof u=="function"?r=u(r):r=Object.assign(Object.assign({},r),u),s(r)}return s(r),mm.push(l),{destroy:l,update:c}}function tte(t){return Object.assign(Object.assign({},t),{type:"warning"})}function nte(t){return Object.assign(Object.assign({},t),{type:"info"})}function rte(t){return Object.assign(Object.assign({},t),{type:"success"})}function ite(t){return Object.assign(Object.assign({},t),{type:"error"})}function ote(t){return Object.assign(Object.assign({},t),{type:"confirm"})}function kwe({rootPrefixCls:t}){Jee=t}var Vwe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const zwe=(t,e)=>{var n,{afterClose:r,config:i}=t,o=Vwe(t,["afterClose","config"]);const[a,s]=S.useState(!0),[l,c]=S.useState(i),{direction:u,getPrefixCls:d}=S.useContext(Kn),f=d("modal"),h=d(),p=()=>{var _;r(),(_=l.afterClose)===null||_===void 0||_.call(l)},x=(..._)=>{var C;if(s(!1),_.some(R=>R==null?void 0:R.triggerCancel)){var M;(C=l.onCancel)===null||C===void 0||(M=C).call.apply(M,[l,()=>{}].concat(zt(_.slice(1))))}};S.useImperativeHandle(e,()=>({destroy:x,update:_=>{c(C=>{const E=typeof _=="function"?_(C):_;return Object.assign(Object.assign({},C),E)})}}));const b=(n=l.okCancel)!==null&&n!==void 0?n:l.type==="confirm",[y]=Vl("Modal",hd.Modal);return S.createElement(Zee,Object.assign({prefixCls:f,rootPrefixCls:h},l,{close:x,open:a,afterClose:p,okText:l.okText||(b?y==null?void 0:y.okText:y==null?void 0:y.justOkText),direction:l.direction||u,cancelText:l.cancelText||(y==null?void 0:y.cancelText)},o))},Gwe=S.forwardRef(zwe);let lz=0;const Hwe=S.memo(S.forwardRef((t,e)=>{const[n,r]=Txe();return S.useImperativeHandle(e,()=>({patchElement:r}),[r]),S.createElement(S.Fragment,null,n)}));function jwe(){const t=S.useRef(null),[e,n]=S.useState([]);S.useEffect(()=>{e.length&&(zt(e).forEach(a=>{a()}),n([]))},[e]);const r=S.useCallback(o=>function(s){var l;lz+=1;const c=S.createRef();let u;const d=new Promise(b=>{u=b});let f=!1,h;const p=S.createElement(Gwe,{key:`modal-${lz}`,config:o(s),ref:c,afterClose:()=>{h==null||h()},isSilent:()=>f,onConfirm:b=>{u(b)}});return h=(l=t.current)===null||l===void 0?void 0:l.patchElement(p),h&&mm.push(h),{destroy:()=>{function b(){var y;(y=c.current)===null||y===void 0||y.destroy()}c.current?b():n(y=>[].concat(zt(y),[b]))},update:b=>{function y(){var _;(_=c.current)===null||_===void 0||_.update(b)}c.current?y():n(_=>[].concat(zt(_),[y]))},then:b=>(f=!0,d.then(b))}},[]);return[S.useMemo(()=>({info:r(nte),success:r(rte),error:r(ite),warning:r(tte),confirm:r(ote)}),[r]),S.createElement(Hwe,{key:"modal-holder",ref:t})]}function ate(t){return e=>S.createElement(W3,{theme:{token:{motion:!1,zIndexPopupBase:0}}},S.createElement(t,Object.assign({},e)))}const ZL=(t,e,n,r,i)=>ate(a=>{const{prefixCls:s,style:l}=a,c=S.useRef(null),[u,d]=S.useState(0),[f,h]=S.useState(0),[p,x]=yi(!1,{value:a.open}),{getPrefixCls:b}=S.useContext(Kn),y=b(r||"select",s);S.useEffect(()=>{if(x(!0),typeof ResizeObserver<"u"){const E=new ResizeObserver(R=>{const N=R[0].target;d(N.offsetHeight+8),h(N.offsetWidth)}),M=setInterval(()=>{var R;const N=i?`.${i(y)}`:`.${y}-dropdown`,O=(R=c.current)===null||R===void 0?void 0:R.querySelector(N);O&&(clearInterval(M),E.observe(O))},10);return()=>{clearInterval(M),E.disconnect()}}},[y]);let _=Object.assign(Object.assign({},a),{style:Object.assign(Object.assign({},l),{margin:0}),open:p,visible:p,getPopupContainer:()=>c.current});n&&(_=n(_)),e&&Object.assign(_,{[e]:{overflow:{adjustX:!1,adjustY:!1}}});const C={paddingBottom:u,position:"relative",minWidth:f};return S.createElement("div",{ref:c,style:C},S.createElement(t,Object.assign({},_)))}),JL=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};var cM=function(e){var n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.children,a=e.onMouseDown,s=e.onClick,l=typeof r=="function"?r(i):r;return S.createElement("span",{className:n,onMouseDown:function(u){u.preventDefault(),a==null||a(u)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},l!==void 0?l:S.createElement("span",{className:ke(n.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},o))},qwe=function(e,n,r,i,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=je.useMemo(function(){if(yn(i)==="object")return i.clearIcon;if(o)return o},[i,o]),u=je.useMemo(function(){return!!(!a&&i&&(r.length||s)&&!(l==="combobox"&&s===""))},[i,a,r.length,s,l]);return{allowClear:u,clearIcon:je.createElement(cM,{className:"".concat(e,"-clear"),onMouseDown:n,customizeIcon:c},"")}},ste=S.createContext(null);function Wwe(){return S.useContext(ste)}function Xwe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=S.useState(!1),n=Oe(e,2),r=n[0],i=n[1],o=S.useRef(null),a=function(){window.clearTimeout(o.current)};S.useEffect(function(){return a},[]);var s=function(c,u){a(),o.current=window.setTimeout(function(){i(c),u&&u()},t)};return[r,s,a]}function lte(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=S.useRef(null),n=S.useRef(null);S.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function Ywe(t,e,n,r){var i=S.useRef(null);i.current={open:e,triggerOpen:n,customizedTrigger:r},S.useEffect(function(){function o(a){var s;if(!((s=i.current)!==null&&s!==void 0&&s.customizedTrigger)){var l=a.target;l.shadowRoot&&a.composed&&(l=a.composedPath()[0]||l),i.current.open&&t().filter(function(c){return c}).every(function(c){return!c.contains(l)&&c!==l})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",o),function(){return window.removeEventListener("mousedown",o)}},[])}function Kwe(t){return t&&![Bt.ESC,Bt.SHIFT,Bt.BACKSPACE,Bt.TAB,Bt.WIN_KEY,Bt.ALT,Bt.META,Bt.WIN_KEY_RIGHT,Bt.CTRL,Bt.SEMICOLON,Bt.EQUALS,Bt.CAPS_LOCK,Bt.CONTEXT_MENU,Bt.F1,Bt.F2,Bt.F3,Bt.F4,Bt.F5,Bt.F6,Bt.F7,Bt.F8,Bt.F9,Bt.F10,Bt.F11,Bt.F12].includes(t)}var Qwe=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],k0=void 0;function Zwe(t,e){var n=t.prefixCls,r=t.invalidate,i=t.item,o=t.renderItem,a=t.responsive,s=t.responsiveDisabled,l=t.registerSize,c=t.itemKey,u=t.className,d=t.style,f=t.children,h=t.display,p=t.order,x=t.component,b=x===void 0?"div":x,y=Qn(t,Qwe),_=a&&!h;function C(O){l(c,O)}S.useEffect(function(){return function(){C(null)}},[]);var E=o&&i!==k0?o(i,{index:p}):f,M;r||(M={opacity:_?0:1,height:_?0:k0,overflowY:_?"hidden":k0,order:a?p:k0,pointerEvents:_?"none":k0,position:_?"absolute":k0});var R={};_&&(R["aria-hidden"]=!0);var N=S.createElement(b,it({className:ke(!r&&n,u),style:we(we({},M),d)},R,y,{ref:e}),E);return a&&(N=S.createElement(rl,{onResize:function(I){var L=I.offsetWidth;C(L)},disabled:s},N)),N}var Yg=S.forwardRef(Zwe);Yg.displayName="Item";function Jwe(t){if(typeof MessageChannel>"u")Rr(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}function eCe(){var t=S.useRef(null),e=function(r){t.current||(t.current=[],Jwe(function(){uf.unstable_batchedUpdates(function(){t.current.forEach(function(i){i()}),t.current=null})})),t.current.push(r)};return e}function V0(t,e){var n=S.useState(e),r=Oe(n,2),i=r[0],o=r[1],a=Or(function(s){t(function(){o(s)})});return[i,a]}var BT=je.createContext(null),tCe=["component"],nCe=["className"],rCe=["className"],iCe=function(e,n){var r=S.useContext(BT);if(!r){var i=e.component,o=i===void 0?"div":i,a=Qn(e,tCe);return S.createElement(o,it({},a,{ref:n}))}var s=r.className,l=Qn(r,nCe),c=e.className,u=Qn(e,rCe);return S.createElement(BT.Provider,{value:null},S.createElement(Yg,it({ref:n,className:ke(s,c)},l,u)))},cte=S.forwardRef(iCe);cte.displayName="RawItem";var oCe=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","prefix","suffix","component","itemComponent","onVisibleChange"],ute="responsive",dte="invalidate";function aCe(t){return"+ ".concat(t.length," ...")}function sCe(t,e){var n=t.prefixCls,r=n===void 0?"rc-overflow":n,i=t.data,o=i===void 0?[]:i,a=t.renderItem,s=t.renderRawItem,l=t.itemKey,c=t.itemWidth,u=c===void 0?10:c,d=t.ssr,f=t.style,h=t.className,p=t.maxCount,x=t.renderRest,b=t.renderRawRest,y=t.prefix,_=t.suffix,C=t.component,E=C===void 0?"div":C,M=t.itemComponent,R=t.onVisibleChange,N=Qn(t,oCe),O=d==="full",I=eCe(),L=V0(I,null),F=Oe(L,2),$=F[0],V=F[1],U=$||0,k=V0(I,new Map),z=Oe(k,2),H=z[0],j=z[1],X=V0(I,0),Y=Oe(X,2),J=Y[0],ee=Y[1],re=V0(I,0),ue=Oe(re,2),fe=ue[0],oe=ue[1],ce=V0(I,0),pe=Oe(ce,2),ye=pe[0],xe=pe[1],be=V0(I,0),Ce=Oe(be,2),Ne=Ce[0],Ae=Ce[1],me=S.useState(null),de=Oe(me,2),Be=de[0],ne=de[1],Je=S.useState(null),Ye=Oe(Je,2),rt=Ye[0],qe=Ye[1],se=S.useMemo(function(){return rt===null&&O?Number.MAX_SAFE_INTEGER:rt||0},[rt,$]),K=S.useState(!1),_e=Oe(K,2),Ue=_e[0],lt=_e[1],We="".concat(r,"-item"),pt=Math.max(J,fe),mt=p===ute,vt=o.length&&mt,At=p===dte,ot=vt||typeof p=="number"&&o.length>p,Ve=S.useMemo(function(){var Nt=o;return vt?$===null&&O?Nt=o:Nt=o.slice(0,Math.min(o.length,U/u)):typeof p=="number"&&(Nt=o.slice(0,p)),Nt},[o,u,$,p,vt]),at=S.useMemo(function(){return vt?o.slice(se+1):o.slice(Ve.length)},[o,Ve,vt,se]),tt=S.useCallback(function(Nt,It){var Le;return typeof l=="function"?l(Nt):(Le=l&&(Nt==null?void 0:Nt[l]))!==null&&Le!==void 0?Le:It},[l]),ze=S.useCallback(a||function(Nt){return Nt},[a]);function bt(Nt,It,Le){rt===Nt&&(It===void 0||It===Be)||(qe(Nt),Le||(lt(Nt<o.length-1),R==null||R(Nt)),It!==void 0&&ne(It))}function Pe(Nt,It){V(It.clientWidth)}function Mt(Nt,It){j(function(Le){var st=new Map(Le);return It===null?st.delete(Nt):st.set(Nt,It),st})}function Ct(Nt,It){oe(It),ee(fe)}function qt(Nt,It){xe(It)}function Ge(Nt,It){Ae(It)}function yt(Nt){return H.get(tt(Ve[Nt],Nt))}wr(function(){if(U&&typeof pt=="number"&&Ve){var Nt=ye+Ne,It=Ve.length,Le=It-1;if(!It){bt(0,null);return}for(var st=0;st<It;st+=1){var gt=yt(st);if(O&&(gt=gt||0),gt===void 0){bt(st-1,void 0,!0);break}if(Nt+=gt,Le===0&&Nt<=U||st===Le-1&&Nt+yt(Le)<=U){bt(Le,null);break}else if(Nt+pt>U){bt(st-1,Nt-gt-Ne+fe);break}}_&&yt(0)+Ne>U&&ne(null)}},[U,H,fe,ye,Ne,tt,Ve]);var Tt=Ue&&!!at.length,Ut={};Be!==null&&vt&&(Ut={position:"absolute",left:Be,top:0});var mn={prefixCls:We,responsive:vt,component:M,invalidate:At},dn=s?function(Nt,It){var Le=tt(Nt,It);return S.createElement(BT.Provider,{key:Le,value:we(we({},mn),{},{order:It,item:Nt,itemKey:Le,registerSize:Mt,display:It<=se})},s(Nt,It))}:function(Nt,It){var Le=tt(Nt,It);return S.createElement(Yg,it({},mn,{order:It,key:Le,item:Nt,renderItem:ze,itemKey:Le,registerSize:Mt,display:It<=se}))},tn={order:Tt?se:Number.MAX_SAFE_INTEGER,className:"".concat(We,"-rest"),registerSize:Ct,display:Tt},pn=x||aCe,fn=b?S.createElement(BT.Provider,{value:we(we({},mn),tn)},b(at)):S.createElement(Yg,it({},mn,tn),typeof pn=="function"?pn(at):pn),kt=S.createElement(E,it({className:ke(!At&&r,h),style:f,ref:e},N),y&&S.createElement(Yg,it({},mn,{responsive:mt,responsiveDisabled:!vt,order:-1,className:"".concat(We,"-prefix"),registerSize:qt,display:!0}),y),Ve.map(dn),ot?fn:null,_&&S.createElement(Yg,it({},mn,{responsive:mt,responsiveDisabled:!vt,order:se,className:"".concat(We,"-suffix"),registerSize:Ge,display:!0,style:Ut}),_));return mt?S.createElement(rl,{onResize:Pe,disabled:!vt},kt):kt}var lu=S.forwardRef(sCe);lu.displayName="Overflow";lu.Item=cte;lu.RESPONSIVE=ute;lu.INVALIDATE=dte;function lCe(t,e,n){var r=we(we({},t),n?e:{});return Object.keys(e).forEach(function(i){var o=e[i];typeof o=="function"&&(r[i]=function(){for(var a,s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return o.apply(void 0,l),(a=t[i])===null||a===void 0?void 0:a.call.apply(a,[t].concat(l))})}),r}var cCe=["prefixCls","id","inputElement","autoFocus","autoComplete","editable","activeDescendantId","value","open","attrs"],uCe=function(e,n){var r=e.prefixCls,i=e.id,o=e.inputElement,a=e.autoFocus,s=e.autoComplete,l=e.editable,c=e.activeDescendantId,u=e.value,d=e.open,f=e.attrs,h=Qn(e,cCe),p=o||S.createElement("input",null),x=p,b=x.ref,y=x.props;return"maxLength"in p.props,p=S.cloneElement(p,we(we(we({type:"search"},lCe(h,y,!0)),{},{id:i,ref:ll(n,b),autoComplete:s||"off",autoFocus:a,className:ke("".concat(r,"-selection-search-input"),y==null?void 0:y.className),role:"combobox","aria-expanded":d||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":d?c:void 0},f),{},{value:l?u:"",readOnly:!l,unselectable:l?null:"on",style:we(we({},y.style),{},{opacity:l?null:0})})),p},fte=S.forwardRef(uCe);function hte(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var dCe=typeof window<"u"&&window.document&&window.document.documentElement,fCe=dCe;function hCe(t){return t!=null}function pCe(t){return!t&&t!==0}function cz(t){return["string","number"].includes(yn(t))}function pte(t){var e=void 0;return t&&(cz(t.title)?e=t.title.toString():cz(t.label)&&(e=t.label.toString())),e}function mCe(t,e){fCe?S.useLayoutEffect(t,e):S.useEffect(t,e)}function gCe(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var uz=function(e){e.preventDefault(),e.stopPropagation()},ACe=function(e){var n=e.id,r=e.prefixCls,i=e.values,o=e.open,a=e.searchValue,s=e.autoClearSearchValue,l=e.inputRef,c=e.placeholder,u=e.disabled,d=e.mode,f=e.showSearch,h=e.autoFocus,p=e.autoComplete,x=e.activeDescendantId,b=e.tabIndex,y=e.removeIcon,_=e.maxTagCount,C=e.maxTagTextLength,E=e.maxTagPlaceholder,M=E===void 0?function(Ae){return"+ ".concat(Ae.length," ...")}:E,R=e.tagRender,N=e.onToggleOpen,O=e.onRemove,I=e.onInputChange,L=e.onInputPaste,F=e.onInputKeyDown,$=e.onInputMouseDown,V=e.onInputCompositionStart,U=e.onInputCompositionEnd,k=e.onInputBlur,z=S.useRef(null),H=S.useState(0),j=Oe(H,2),X=j[0],Y=j[1],J=S.useState(!1),ee=Oe(J,2),re=ee[0],ue=ee[1],fe="".concat(r,"-selection"),oe=o||d==="multiple"&&s===!1||d==="tags"?a:"",ce=d==="tags"||d==="multiple"&&s===!1||f&&(o||re);mCe(function(){Y(z.current.scrollWidth)},[oe]);var pe=function(me,de,Be,ne,Je){return S.createElement("span",{title:pte(me),className:ke("".concat(fe,"-item"),Se({},"".concat(fe,"-item-disabled"),Be))},S.createElement("span",{className:"".concat(fe,"-item-content")},de),ne&&S.createElement(cM,{className:"".concat(fe,"-item-remove"),onMouseDown:uz,onClick:Je,customizeIcon:y},""))},ye=function(me,de,Be,ne,Je,Ye){var rt=function(se){uz(se),N(!o)};return S.createElement("span",{onMouseDown:rt},R({label:de,value:me,disabled:Be,closable:ne,onClose:Je,isMaxTag:!!Ye}))},xe=function(me){var de=me.disabled,Be=me.label,ne=me.value,Je=!u&&!de,Ye=Be;if(typeof C=="number"&&(typeof Be=="string"||typeof Be=="number")){var rt=String(Ye);rt.length>C&&(Ye="".concat(rt.slice(0,C),"..."))}var qe=function(K){K&&K.stopPropagation(),O(me)};return typeof R=="function"?ye(ne,Ye,de,Je,qe):pe(me,Ye,de,Je,qe)},be=function(me){if(!i.length)return null;var de=typeof M=="function"?M(me):M;return typeof R=="function"?ye(void 0,de,!1,!1,void 0,!0):pe({title:de},de,!1)},Ce=S.createElement("div",{className:"".concat(fe,"-search"),style:{width:X},onFocus:function(){ue(!0)},onBlur:function(){ue(!1)}},S.createElement(fte,{ref:l,open:o,prefixCls:r,id:n,inputElement:null,disabled:u,autoFocus:h,autoComplete:p,editable:ce,activeDescendantId:x,value:oe,onKeyDown:F,onMouseDown:$,onChange:I,onPaste:L,onCompositionStart:V,onCompositionEnd:U,onBlur:k,tabIndex:b,attrs:Sc(e,!0)}),S.createElement("span",{ref:z,className:"".concat(fe,"-search-mirror"),"aria-hidden":!0},oe,"")),Ne=S.createElement(lu,{prefixCls:"".concat(fe,"-overflow"),data:i,renderItem:xe,renderRest:be,suffix:Ce,itemKey:gCe,maxCount:_});return S.createElement("span",{className:"".concat(fe,"-wrap")},Ne,!i.length&&!oe&&S.createElement("span",{className:"".concat(fe,"-placeholder")},c))},vCe=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,o=e.inputRef,a=e.disabled,s=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,h=e.placeholder,p=e.tabIndex,x=e.showSearch,b=e.searchValue,y=e.activeValue,_=e.maxLength,C=e.onInputKeyDown,E=e.onInputMouseDown,M=e.onInputChange,R=e.onInputPaste,N=e.onInputCompositionStart,O=e.onInputCompositionEnd,I=e.onInputBlur,L=e.title,F=S.useState(!1),$=Oe(F,2),V=$[0],U=$[1],k=u==="combobox",z=k||x,H=f[0],j=b||"";k&&y&&!V&&(j=y),S.useEffect(function(){k&&U(!1)},[k,y]);var X=u!=="combobox"&&!d&&!x?!1:!!j,Y=L===void 0?pte(H):L,J=S.useMemo(function(){return H?null:S.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:X?{visibility:"hidden"}:void 0},h)},[H,X,h,r]);return S.createElement("span",{className:"".concat(r,"-selection-wrap")},S.createElement("span",{className:"".concat(r,"-selection-search")},S.createElement(fte,{ref:o,prefixCls:r,id:i,open:d,inputElement:n,disabled:a,autoFocus:s,autoComplete:l,editable:z,activeDescendantId:c,value:j,onKeyDown:C,onMouseDown:E,onChange:function(re){U(!0),M(re)},onPaste:R,onCompositionStart:N,onCompositionEnd:O,onBlur:I,tabIndex:p,attrs:Sc(e,!0),maxLength:k?_:void 0})),!k&&H?S.createElement("span",{className:"".concat(r,"-selection-item"),title:Y,style:X?{visibility:"hidden"}:void 0},H.label):null,J)},yCe=function(e,n){var r=S.useRef(null),i=S.useRef(!1),o=e.prefixCls,a=e.open,s=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.disabled,d=e.prefix,f=e.autoClearSearchValue,h=e.onSearch,p=e.onSearchSubmit,x=e.onToggleOpen,b=e.onInputKeyDown,y=e.onInputBlur,_=e.domRef;S.useImperativeHandle(n,function(){return{focus:function(Y){r.current.focus(Y)},blur:function(){r.current.blur()}}});var C=lte(0),E=Oe(C,2),M=E[0],R=E[1],N=function(Y){var J=Y.which,ee=r.current instanceof HTMLTextAreaElement;!ee&&a&&(J===Bt.UP||J===Bt.DOWN)&&Y.preventDefault(),b&&b(Y),J===Bt.ENTER&&s==="tags"&&!i.current&&!a&&(p==null||p(Y.target.value)),!(ee&&!a&&~[Bt.UP,Bt.DOWN,Bt.LEFT,Bt.RIGHT].indexOf(J))&&Kwe(J)&&x(!0)},O=function(){R(!0)},I=S.useRef(null),L=function(Y){h(Y,!0,i.current)!==!1&&x(!0)},F=function(){i.current=!0},$=function(Y){i.current=!1,s!=="combobox"&&L(Y.target.value)},V=function(Y){var J=Y.target.value;if(c&&I.current&&/[\r\n]/.test(I.current)){var ee=I.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");J=J.replace(ee,I.current)}I.current=null,L(J)},U=function(Y){var J=Y.clipboardData,ee=J==null?void 0:J.getData("text");I.current=ee||""},k=function(Y){var J=Y.target;if(J!==r.current){var ee=document.body.style.msTouchAction!==void 0;ee?setTimeout(function(){r.current.focus()}):r.current.focus()}},z=function(Y){var J=M();Y.target!==r.current&&!J&&!(s==="combobox"&&u)&&Y.preventDefault(),(s!=="combobox"&&(!l||!J)||!a)&&(a&&f!==!1&&h("",!0,!1),x())},H={inputRef:r,onInputKeyDown:N,onInputMouseDown:O,onInputChange:V,onInputPaste:U,onInputCompositionStart:F,onInputCompositionEnd:$,onInputBlur:y},j=s==="multiple"||s==="tags"?S.createElement(ACe,it({},e,H)):S.createElement(vCe,it({},e,H));return S.createElement("div",{ref:_,className:"".concat(o,"-selector"),onClick:k,onMouseDown:z},d&&S.createElement("div",{className:"".concat(o,"-prefix")},d),j)},bCe=S.forwardRef(yCe);function xCe(t){var e=t.prefixCls,n=t.align,r=t.arrow,i=t.arrowPos,o=r||{},a=o.className,s=o.content,l=i.x,c=l===void 0?0:l,u=i.y,d=u===void 0?0:u,f=S.useRef();if(!n||!n.points)return null;var h={position:"absolute"};if(n.autoArrow!==!1){var p=n.points[0],x=n.points[1],b=p[0],y=p[1],_=x[0],C=x[1];b===_||!["t","b"].includes(b)?h.top=d:b==="t"?h.top=0:h.bottom=0,y===C||!["l","r"].includes(y)?h.left=c:y==="l"?h.left=0:h.right=0}return S.createElement("div",{ref:f,className:ke("".concat(e,"-arrow"),a),style:h},s)}function SCe(t){var e=t.prefixCls,n=t.open,r=t.zIndex,i=t.mask,o=t.motion;return i?S.createElement(yu,it({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(a){var s=a.className;return S.createElement("div",{style:{zIndex:r},className:ke("".concat(e,"-mask"),s)})}):null}var _Ce=S.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),wCe=S.forwardRef(function(t,e){var n=t.popup,r=t.className,i=t.prefixCls,o=t.style,a=t.target,s=t.onVisibleChanged,l=t.open,c=t.keepDom,u=t.fresh,d=t.onClick,f=t.mask,h=t.arrow,p=t.arrowPos,x=t.align,b=t.motion,y=t.maskMotion,_=t.forceRender,C=t.getPopupContainer,E=t.autoDestroy,M=t.portal,R=t.zIndex,N=t.onMouseEnter,O=t.onMouseLeave,I=t.onPointerEnter,L=t.onPointerDownCapture,F=t.ready,$=t.offsetX,V=t.offsetY,U=t.offsetR,k=t.offsetB,z=t.onAlign,H=t.onPrepare,j=t.stretch,X=t.targetWidth,Y=t.targetHeight,J=typeof n=="function"?n():n,ee=l||c,re=(C==null?void 0:C.length)>0,ue=S.useState(!C||!re),fe=Oe(ue,2),oe=fe[0],ce=fe[1];if(wr(function(){!oe&&re&&a&&ce(!0)},[oe,re,a]),!oe)return null;var pe="auto",ye={left:"-1000vw",top:"-1000vh",right:pe,bottom:pe};if(F||!l){var xe,be=x.points,Ce=x.dynamicInset||((xe=x._experimental)===null||xe===void 0?void 0:xe.dynamicInset),Ne=Ce&&be[0][1]==="r",Ae=Ce&&be[0][0]==="b";Ne?(ye.right=U,ye.left=pe):(ye.left=$,ye.right=pe),Ae?(ye.bottom=k,ye.top=pe):(ye.top=V,ye.bottom=pe)}var me={};return j&&(j.includes("height")&&Y?me.height=Y:j.includes("minHeight")&&Y&&(me.minHeight=Y),j.includes("width")&&X?me.width=X:j.includes("minWidth")&&X&&(me.minWidth=X)),l||(me.pointerEvents="none"),S.createElement(M,{open:_||ee,getContainer:C&&function(){return C(a)},autoDestroy:E},S.createElement(SCe,{prefixCls:i,open:l,zIndex:R,mask:f,motion:y}),S.createElement(rl,{onResize:z,disabled:!l},function(de){return S.createElement(yu,it({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:_,leavedClassName:"".concat(i,"-hidden")},b,{onAppearPrepare:H,onEnterPrepare:H,visible:l,onVisibleChanged:function(ne){var Je;b==null||(Je=b.onVisibleChanged)===null||Je===void 0||Je.call(b,ne),s(ne)}}),function(Be,ne){var Je=Be.className,Ye=Be.style,rt=ke(i,Je,r);return S.createElement("div",{ref:ll(de,e,ne),className:rt,style:we(we(we(we({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},ye),me),Ye),{},{boxSizing:"border-box",zIndex:R},o),onMouseEnter:N,onMouseLeave:O,onPointerEnter:I,onClick:d,onPointerDownCapture:L},h&&S.createElement(xCe,{prefixCls:i,arrow:h,arrowPos:p,align:x}),S.createElement(_Ce,{cache:!l&&!u},J))})}))}),CCe=S.forwardRef(function(t,e){var n=t.children,r=t.getTriggerDOMNode,i=cp(n),o=S.useCallback(function(s){vL(e,r?r(s):s)},[r]),a=lp(o,d0(n));return i?S.cloneElement(n,{ref:a}):n}),dz=S.createContext(null);function fz(t){return t?Array.isArray(t)?t:[t]:[]}function TCe(t,e,n,r){return S.useMemo(function(){var i=fz(n??e),o=fz(r??e),a=new Set(i),s=new Set(o);return t&&(a.has("hover")&&(a.delete("hover"),a.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[a,s]},[t,e,n,r])}function ECe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function MCe(t,e,n,r){for(var i=n.points,o=Object.keys(t),a=0;a<o.length;a+=1){var s,l=o[a];if(ECe((s=t[l])===null||s===void 0?void 0:s.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}function hz(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function P2(t){return t.ownerDocument.defaultView}function KO(t){for(var e=[],n=t==null?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=P2(n).getComputedStyle(n),o=i.overflowX,a=i.overflowY,s=i.overflow;[o,a,s].some(function(l){return r.includes(l)})&&e.push(n),n=n.parentElement}return e}function Ax(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function qy(t){return Ax(parseFloat(t),0)}function pz(t,e){var n=we({},t);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=P2(r).getComputedStyle(r),o=i.overflow,a=i.overflowClipMargin,s=i.borderTopWidth,l=i.borderBottomWidth,c=i.borderLeftWidth,u=i.borderRightWidth,d=r.getBoundingClientRect(),f=r.offsetHeight,h=r.clientHeight,p=r.offsetWidth,x=r.clientWidth,b=qy(s),y=qy(l),_=qy(c),C=qy(u),E=Ax(Math.round(d.width/p*1e3)/1e3),M=Ax(Math.round(d.height/f*1e3)/1e3),R=(p-x-_-C)*E,N=(f-h-b-y)*M,O=b*M,I=y*M,L=_*E,F=C*E,$=0,V=0;if(o==="clip"){var U=qy(a);$=U*E,V=U*M}var k=d.x+L-$,z=d.y+O-V,H=k+d.width+2*$-L-F-R,j=z+d.height+2*V-O-I-N;n.left=Math.max(n.left,k),n.top=Math.max(n.top,z),n.right=Math.min(n.right,H),n.bottom=Math.min(n.bottom,j)}}),n}function mz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function gz(t,e){var n=e||[],r=Oe(n,2),i=r[0],o=r[1];return[mz(t.width,i),mz(t.height,o)]}function Az(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function z0(t,e){var n=e[0],r=e[1],i,o;return n==="t"?o=t.y:n==="b"?o=t.y+t.height:o=t.y+t.height/2,r==="l"?i=t.x:r==="r"?i=t.x+t.width:i=t.x+t.width/2,{x:i,y:o}}function kf(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(r,i){return i===e?n[r]||"c":r}).join("")}function RCe(t,e,n,r,i,o,a){var s=S.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=Oe(s,2),c=l[0],u=l[1],d=S.useRef(0),f=S.useMemo(function(){return e?KO(e):[]},[e]),h=S.useRef({}),p=function(){h.current={}};t||p();var x=Or(function(){if(e&&n&&t){let $a=function(Jr,Hl){var Td=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_e,C0=ee.x+Jr,T0=ee.y+Hl,My=C0+Ae,Tn=T0+Ne,er=Math.max(C0,Td.left),wi=Math.max(T0,Td.top),io=Math.min(My,Td.right),Li=Math.min(Tn,Td.bottom);return Math.max(0,(io-er)*(Li-wi))},Cd=function(){Gn=ee.y+pn,cn=Gn+Ne,In=ee.x+tn,dr=In+Ae};var ro=$a,Nf=Cd,_,C,E,M,R=e,N=R.ownerDocument,O=P2(R),I=O.getComputedStyle(R),L=I.position,F=R.style.left,$=R.style.top,V=R.style.right,U=R.style.bottom,k=R.style.overflow,z=we(we({},i[r]),o),H=N.createElement("div");(_=R.parentElement)===null||_===void 0||_.appendChild(H),H.style.left="".concat(R.offsetLeft,"px"),H.style.top="".concat(R.offsetTop,"px"),H.style.position=L,H.style.height="".concat(R.offsetHeight,"px"),H.style.width="".concat(R.offsetWidth,"px"),R.style.left="0",R.style.top="0",R.style.right="auto",R.style.bottom="auto",R.style.overflow="hidden";var j;if(Array.isArray(n))j={x:n[0],y:n[1],width:0,height:0};else{var X,Y,J=n.getBoundingClientRect();J.x=(X=J.x)!==null&&X!==void 0?X:J.left,J.y=(Y=J.y)!==null&&Y!==void 0?Y:J.top,j={x:J.x,y:J.y,width:J.width,height:J.height}}var ee=R.getBoundingClientRect(),re=O.getComputedStyle(R),ue=re.height,fe=re.width;ee.x=(C=ee.x)!==null&&C!==void 0?C:ee.left,ee.y=(E=ee.y)!==null&&E!==void 0?E:ee.top;var oe=N.documentElement,ce=oe.clientWidth,pe=oe.clientHeight,ye=oe.scrollWidth,xe=oe.scrollHeight,be=oe.scrollTop,Ce=oe.scrollLeft,Ne=ee.height,Ae=ee.width,me=j.height,de=j.width,Be={left:0,top:0,right:ce,bottom:pe},ne={left:-Ce,top:-be,right:ye-Ce,bottom:xe-be},Je=z.htmlRegion,Ye="visible",rt="visibleFirst";Je!=="scroll"&&Je!==rt&&(Je=Ye);var qe=Je===rt,se=pz(ne,f),K=pz(Be,f),_e=Je===Ye?K:se,Ue=qe?K:_e;R.style.left="auto",R.style.top="auto",R.style.right="0",R.style.bottom="0";var lt=R.getBoundingClientRect();R.style.left=F,R.style.top=$,R.style.right=V,R.style.bottom=U,R.style.overflow=k,(M=R.parentElement)===null||M===void 0||M.removeChild(H);var We=Ax(Math.round(Ae/parseFloat(fe)*1e3)/1e3),pt=Ax(Math.round(Ne/parseFloat(ue)*1e3)/1e3);if(We===0||pt===0||ix(n)&&!T2(n))return;var mt=z.offset,vt=z.targetOffset,At=gz(ee,mt),ot=Oe(At,2),Ve=ot[0],at=ot[1],tt=gz(j,vt),ze=Oe(tt,2),bt=ze[0],Pe=ze[1];j.x-=bt,j.y-=Pe;var Mt=z.points||[],Ct=Oe(Mt,2),qt=Ct[0],Ge=Ct[1],yt=Az(Ge),Tt=Az(qt),Ut=z0(j,yt),mn=z0(ee,Tt),dn=we({},z),tn=Ut.x-mn.x+Ve,pn=Ut.y-mn.y+at,fn=$a(tn,pn),kt=$a(tn,pn,K),Nt=z0(j,["t","l"]),It=z0(ee,["t","l"]),Le=z0(j,["b","r"]),st=z0(ee,["b","r"]),gt=z.overflow||{},ht=gt.adjustX,m=gt.adjustY,te=gt.shiftX,on=gt.shiftY,xn=function(Hl){return typeof Hl=="boolean"?Hl:Hl>=0},Gn,cn,In,dr;Cd();var Sn=xn(m),wt=Tt[0]===yt[0];if(Sn&&Tt[0]==="t"&&(cn>Ue.bottom||h.current.bt)){var Zt=pn;wt?Zt-=Ne-me:Zt=Nt.y-st.y-at;var Mn=$a(tn,Zt),kn=$a(tn,Zt,K);Mn>fn||Mn===fn&&(!qe||kn>=kt)?(h.current.bt=!0,pn=Zt,at=-at,dn.points=[kf(Tt,0),kf(yt,0)]):h.current.bt=!1}if(Sn&&Tt[0]==="b"&&(Gn<Ue.top||h.current.tb)){var le=pn;wt?le+=Ne-me:le=Le.y-It.y-at;var Ie=$a(tn,le),et=$a(tn,le,K);Ie>fn||Ie===fn&&(!qe||et>=kt)?(h.current.tb=!0,pn=le,at=-at,dn.points=[kf(Tt,0),kf(yt,0)]):h.current.tb=!1}var nt=xn(ht),Fe=Tt[1]===yt[1];if(nt&&Tt[1]==="l"&&(dr>Ue.right||h.current.rl)){var St=tn;Fe?St-=Ae-de:St=Nt.x-st.x-Ve;var Dt=$a(St,pn),_t=$a(St,pn,K);Dt>fn||Dt===fn&&(!qe||_t>=kt)?(h.current.rl=!0,tn=St,Ve=-Ve,dn.points=[kf(Tt,1),kf(yt,1)]):h.current.rl=!1}if(nt&&Tt[1]==="r"&&(In<Ue.left||h.current.lr)){var ie=tn;Fe?ie+=Ae-de:ie=Le.x-It.x-Ve;var Ot=$a(ie,pn),_n=$a(ie,pn,K);Ot>fn||Ot===fn&&(!qe||_n>=kt)?(h.current.lr=!0,tn=ie,Ve=-Ve,dn.points=[kf(Tt,1),kf(yt,1)]):h.current.lr=!1}Cd();var hn=te===!0?0:te;typeof hn=="number"&&(In<K.left&&(tn-=In-K.left-Ve,j.x+de<K.left+hn&&(tn+=j.x-K.left+de-hn)),dr>K.right&&(tn-=dr-K.right-Ve,j.x>K.right-hn&&(tn+=j.x-K.right+hn)));var Vn=on===!0?0:on;typeof Vn=="number"&&(Gn<K.top&&(pn-=Gn-K.top-at,j.y+me<K.top+Vn&&(pn+=j.y-K.top+me-Vn)),cn>K.bottom&&(pn-=cn-K.bottom-at,j.y>K.bottom-Vn&&(pn+=j.y-K.bottom+Vn)));var fr=ee.x+tn,Tr=fr+Ae,ae=ee.y+pn,Dn=ae+Ne,Lt=j.x,Wt=Lt+de,vn=j.y,nn=vn+me,an=Math.max(fr,Lt),Hn=Math.min(Tr,Wt),Hr=(an+Hn)/2,Jn=Hr-fr,Sr=Math.max(ae,vn),sr=Math.min(Dn,nn),jr=(Sr+sr)/2,Bn=jr-ae;a==null||a(e,dn);var Cn=lt.right-ee.x-(tn+ee.width),Wn=lt.bottom-ee.y-(pn+ee.height);We===1&&(tn=Math.floor(tn),Cn=Math.floor(Cn)),pt===1&&(pn=Math.floor(pn),Wn=Math.floor(Wn));var hi={ready:!0,offsetX:tn/We,offsetY:pn/pt,offsetR:Cn/We,offsetB:Wn/pt,arrowX:Jn/We,arrowY:Bn/pt,scaleX:We,scaleY:pt,align:dn};u(hi)}}),b=function(){d.current+=1;var C=d.current;Promise.resolve().then(function(){d.current===C&&x()})},y=function(){u(function(C){return we(we({},C),{},{ready:!1})})};return wr(y,[r]),wr(function(){t||y()},[t]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,b]}function PCe(t,e,n,r,i){wr(function(){if(t&&e&&n){let f=function(){r(),i()};var d=f,o=e,a=n,s=KO(o),l=KO(a),c=P2(a),u=new Set([c].concat(zt(s),zt(l)));return u.forEach(function(h){h.addEventListener("scroll",f,{passive:!0})}),c.addEventListener("resize",f,{passive:!0}),r(),function(){u.forEach(function(h){h.removeEventListener("scroll",f),c.removeEventListener("resize",f)})}}},[t,e,n])}function NCe(t,e,n,r,i,o,a,s){var l=S.useRef(t);l.current=t;var c=S.useRef(!1);S.useEffect(function(){if(e&&r&&(!i||o)){var d=function(){c.current=!1},f=function(b){var y;l.current&&!a(((y=b.composedPath)===null||y===void 0||(y=y.call(b))===null||y===void 0?void 0:y[0])||b.target)&&!c.current&&s(!1)},h=P2(r);h.addEventListener("pointerdown",d,!0),h.addEventListener("mousedown",f,!0),h.addEventListener("contextmenu",f,!0);var p=PT(n);return p&&(p.addEventListener("mousedown",f,!0),p.addEventListener("contextmenu",f,!0)),function(){h.removeEventListener("pointerdown",d,!0),h.removeEventListener("mousedown",f,!0),h.removeEventListener("contextmenu",f,!0),p&&(p.removeEventListener("mousedown",f,!0),p.removeEventListener("contextmenu",f,!0))}}},[e,n,r,i,o]);function u(){c.current=!0}return u}var ICe=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function DCe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qL,e=S.forwardRef(function(n,r){var i=n.prefixCls,o=i===void 0?"rc-trigger-popup":i,a=n.children,s=n.action,l=s===void 0?"hover":s,c=n.showAction,u=n.hideAction,d=n.popupVisible,f=n.defaultPopupVisible,h=n.onPopupVisibleChange,p=n.afterPopupVisibleChange,x=n.mouseEnterDelay,b=n.mouseLeaveDelay,y=b===void 0?.1:b,_=n.focusDelay,C=n.blurDelay,E=n.mask,M=n.maskClosable,R=M===void 0?!0:M,N=n.getPopupContainer,O=n.forceRender,I=n.autoDestroy,L=n.destroyPopupOnHide,F=n.popup,$=n.popupClassName,V=n.popupStyle,U=n.popupPlacement,k=n.builtinPlacements,z=k===void 0?{}:k,H=n.popupAlign,j=n.zIndex,X=n.stretch,Y=n.getPopupClassNameFromAlign,J=n.fresh,ee=n.alignPoint,re=n.onPopupClick,ue=n.onPopupAlign,fe=n.arrow,oe=n.popupMotion,ce=n.maskMotion,pe=n.popupTransitionName,ye=n.popupAnimation,xe=n.maskTransitionName,be=n.maskAnimation,Ce=n.className,Ne=n.getTriggerDOMNode,Ae=Qn(n,ICe),me=I||L||!1,de=S.useState(!1),Be=Oe(de,2),ne=Be[0],Je=Be[1];wr(function(){Je(JL())},[]);var Ye=S.useRef({}),rt=S.useContext(dz),qe=S.useMemo(function(){return{registerSubPopup:function(er,wi){Ye.current[er]=wi,rt==null||rt.registerSubPopup(er,wi)}}},[rt]),se=WL(),K=S.useState(null),_e=Oe(K,2),Ue=_e[0],lt=_e[1],We=S.useRef(null),pt=Or(function(Tn){We.current=Tn,ix(Tn)&&Ue!==Tn&&lt(Tn),rt==null||rt.registerSubPopup(se,Tn)}),mt=S.useState(null),vt=Oe(mt,2),At=vt[0],ot=vt[1],Ve=S.useRef(null),at=Or(function(Tn){ix(Tn)&&At!==Tn&&(ot(Tn),Ve.current=Tn)}),tt=S.Children.only(a),ze=(tt==null?void 0:tt.props)||{},bt={},Pe=Or(function(Tn){var er,wi,io=At;return(io==null?void 0:io.contains(Tn))||((er=PT(io))===null||er===void 0?void 0:er.host)===Tn||Tn===io||(Ue==null?void 0:Ue.contains(Tn))||((wi=PT(Ue))===null||wi===void 0?void 0:wi.host)===Tn||Tn===Ue||Object.values(Ye.current).some(function(Li){return(Li==null?void 0:Li.contains(Tn))||Tn===Li})}),Mt=hz(o,oe,ye,pe),Ct=hz(o,ce,be,xe),qt=S.useState(f||!1),Ge=Oe(qt,2),yt=Ge[0],Tt=Ge[1],Ut=d??yt,mn=Or(function(Tn){d===void 0&&Tt(Tn)});wr(function(){Tt(d||!1)},[d]);var dn=S.useRef(Ut);dn.current=Ut;var tn=S.useRef([]);tn.current=[];var pn=Or(function(Tn){var er;mn(Tn),((er=tn.current[tn.current.length-1])!==null&&er!==void 0?er:Ut)!==Tn&&(tn.current.push(Tn),h==null||h(Tn))}),fn=S.useRef(),kt=function(){clearTimeout(fn.current)},Nt=function(er){var wi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;kt(),wi===0?pn(er):fn.current=setTimeout(function(){pn(er)},wi*1e3)};S.useEffect(function(){return kt},[]);var It=S.useState(!1),Le=Oe(It,2),st=Le[0],gt=Le[1];wr(function(Tn){(!Tn||Ut)&&gt(!0)},[Ut]);var ht=S.useState(null),m=Oe(ht,2),te=m[0],on=m[1],xn=S.useState(null),Gn=Oe(xn,2),cn=Gn[0],In=Gn[1],dr=function(er){In([er.clientX,er.clientY])},Sn=RCe(Ut,Ue,ee&&cn!==null?cn:At,U,z,H,ue),wt=Oe(Sn,11),Zt=wt[0],Mn=wt[1],kn=wt[2],le=wt[3],Ie=wt[4],et=wt[5],nt=wt[6],Fe=wt[7],St=wt[8],Dt=wt[9],_t=wt[10],ie=TCe(ne,l,c,u),Ot=Oe(ie,2),_n=Ot[0],hn=Ot[1],Vn=_n.has("click"),fr=hn.has("click")||hn.has("contextMenu"),Tr=Or(function(){st||_t()}),ae=function(){dn.current&&ee&&fr&&Nt(!1)};PCe(Ut,At,Ue,Tr,ae),wr(function(){Tr()},[cn,U]),wr(function(){Ut&&!(z!=null&&z[U])&&Tr()},[JSON.stringify(H)]);var Dn=S.useMemo(function(){var Tn=MCe(z,o,Dt,ee);return ke(Tn,Y==null?void 0:Y(Dt))},[Dt,Y,z,o,ee]);S.useImperativeHandle(r,function(){return{nativeElement:Ve.current,popupElement:We.current,forceAlign:Tr}});var Lt=S.useState(0),Wt=Oe(Lt,2),vn=Wt[0],nn=Wt[1],an=S.useState(0),Hn=Oe(an,2),Hr=Hn[0],Jn=Hn[1],Sr=function(){if(X&&At){var er=At.getBoundingClientRect();nn(er.width),Jn(er.height)}},sr=function(){Sr(),Tr()},jr=function(er){gt(!1),_t(),p==null||p(er)},Bn=function(){return new Promise(function(er){Sr(),on(function(){return er})})};wr(function(){te&&(_t(),te(),on(null))},[te]);function Cn(Tn,er,wi,io){bt[Tn]=function(Li){var E0;io==null||io(Li),Nt(er,wi);for(var M0=arguments.length,CS=new Array(M0>1?M0-1:0),If=1;If<M0;If++)CS[If-1]=arguments[If];(E0=ze[Tn])===null||E0===void 0||E0.call.apply(E0,[ze,Li].concat(CS))}}(Vn||fr)&&(bt.onClick=function(Tn){var er;dn.current&&fr?Nt(!1):!dn.current&&Vn&&(dr(Tn),Nt(!0));for(var wi=arguments.length,io=new Array(wi>1?wi-1:0),Li=1;Li<wi;Li++)io[Li-1]=arguments[Li];(er=ze.onClick)===null||er===void 0||er.call.apply(er,[ze,Tn].concat(io))});var Wn=NCe(Ut,fr,At,Ue,E,R,Pe,Nt),hi=_n.has("hover"),ro=hn.has("hover"),Nf,$a;hi&&(Cn("onMouseEnter",!0,x,function(Tn){dr(Tn)}),Cn("onPointerEnter",!0,x,function(Tn){dr(Tn)}),Nf=function(er){(Ut||st)&&Ue!==null&&Ue!==void 0&&Ue.contains(er.target)&&Nt(!0,x)},ee&&(bt.onMouseMove=function(Tn){var er;(er=ze.onMouseMove)===null||er===void 0||er.call(ze,Tn)})),ro&&(Cn("onMouseLeave",!1,y),Cn("onPointerLeave",!1,y),$a=function(){Nt(!1,y)}),_n.has("focus")&&Cn("onFocus",!0,_),hn.has("focus")&&Cn("onBlur",!1,C),_n.has("contextMenu")&&(bt.onContextMenu=function(Tn){var er;dn.current&&hn.has("contextMenu")?Nt(!1):(dr(Tn),Nt(!0)),Tn.preventDefault();for(var wi=arguments.length,io=new Array(wi>1?wi-1:0),Li=1;Li<wi;Li++)io[Li-1]=arguments[Li];(er=ze.onContextMenu)===null||er===void 0||er.call.apply(er,[ze,Tn].concat(io))}),Ce&&(bt.className=ke(ze.className,Ce));var Cd=S.useRef(!1);Cd.current||(Cd.current=O||Ut||st);var Jr=we(we({},ze),bt),Hl={},Td=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Td.forEach(function(Tn){Ae[Tn]&&(Hl[Tn]=function(){for(var er,wi=arguments.length,io=new Array(wi),Li=0;Li<wi;Li++)io[Li]=arguments[Li];(er=Jr[Tn])===null||er===void 0||er.call.apply(er,[Jr].concat(io)),Ae[Tn].apply(Ae,io)})});var C0=S.cloneElement(tt,we(we({},Jr),Hl)),T0={x:et,y:nt},My=fe?we({},fe!==!0?fe:{}):null;return S.createElement(S.Fragment,null,S.createElement(rl,{disabled:!Ut,ref:at,onResize:sr},S.createElement(CCe,{getTriggerDOMNode:Ne},C0)),Cd.current&&S.createElement(dz.Provider,{value:qe},S.createElement(wCe,{portal:t,ref:pt,prefixCls:o,popup:F,className:ke($,Dn),style:V,target:At,onMouseEnter:Nf,onMouseLeave:$a,onPointerEnter:Nf,zIndex:j,open:Ut,keepDom:st,fresh:J,onClick:re,onPointerDownCapture:Wn,mask:E,motion:Mt,maskMotion:Ct,onVisibleChanged:jr,onPrepare:Bn,forceRender:O,autoDestroy:me,getPopupContainer:N,align:Dt,arrow:My,arrowPos:T0,ready:Zt,offsetX:Mn,offsetY:kn,offsetR:le,offsetB:Ie,onAlign:Tr,stretch:X,targetWidth:vn/Fe,targetHeight:Hr/St})))});return e}const N2=DCe(qL);var OCe=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],LCe=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},BCe=function(e,n){var r=e.prefixCls;e.disabled;var i=e.visible,o=e.children,a=e.popupElement,s=e.animation,l=e.transitionName,c=e.dropdownStyle,u=e.dropdownClassName,d=e.direction,f=d===void 0?"ltr":d,h=e.placement,p=e.builtinPlacements,x=e.dropdownMatchSelectWidth,b=e.dropdownRender,y=e.dropdownAlign,_=e.getPopupContainer,C=e.empty,E=e.getTriggerDOMNode,M=e.onPopupVisibleChange,R=e.onPopupMouseEnter,N=Qn(e,OCe),O="".concat(r,"-dropdown"),I=a;b&&(I=b(a));var L=S.useMemo(function(){return p||LCe(x)},[p,x]),F=s?"".concat(O,"-").concat(s):l,$=typeof x=="number",V=S.useMemo(function(){return $?null:x===!1?"minWidth":"width"},[x,$]),U=c;$&&(U=we(we({},U),{},{width:x}));var k=S.useRef(null);return S.useImperativeHandle(n,function(){return{getPopupElement:function(){var H;return(H=k.current)===null||H===void 0?void 0:H.popupElement}}}),S.createElement(N2,it({},N,{showAction:M?["click"]:[],hideAction:M?["click"]:[],popupPlacement:h||(f==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:L,prefixCls:O,popupTransitionName:F,popup:S.createElement("div",{onMouseEnter:R},I),ref:k,stretch:V,popupAlign:y,popupVisible:i,getPopupContainer:_,popupClassName:ke(u,Se({},"".concat(O,"-empty"),C)),popupStyle:U,getTriggerDOMNode:E,onPopupVisibleChange:M}),o)},FCe=S.forwardRef(BCe);function vz(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n??(r!==void 0?r:"rc-index-key-".concat(e))}function QO(t){return typeof t<"u"&&!Number.isNaN(t)}function mte(t,e){var n=t||{},r=n.label,i=n.value,o=n.options,a=n.groupLabel,s=r||(e?"children":"label");return{label:s,value:i||"value",options:o||"options",groupLabel:a||s}}function $Ce(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=mte(n,!1),a=o.label,s=o.value,l=o.options,c=o.groupLabel;function u(d,f){Array.isArray(d)&&d.forEach(function(h){if(f||!(l in h)){var p=h[s];i.push({key:vz(h,i.length),groupOption:f,data:h,label:h[a],value:p})}else{var x=h[c];x===void 0&&r&&(x=h.label),i.push({key:vz(h,i.length),group:!0,data:h,label:x}),u(h[l],!0)}})}return u(t,!1),i}function ZO(t){var e=we({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return Pa(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var UCe=function(e,n,r){if(!n||!n.length)return null;var i=!1,o=function s(l,c){var u=EJ(c),d=u[0],f=u.slice(1);if(!d)return[l];var h=l.split(d);return i=i||h.length>1,h.reduce(function(p,x){return[].concat(zt(p),zt(s(x,f)))},[]).filter(Boolean)},a=o(e,n);return i?typeof r<"u"?a.slice(0,r):a:null},eB=S.createContext(null);function kCe(t){var e=t.visible,n=t.values;if(!e)return null;var r=50;return S.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(i){var o=i.label,a=i.value;return["number","string"].includes(yn(o))?o:a}).join(", ")),n.length>r?", ...":null)}var VCe=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],zCe=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],JO=function(e){return e==="tags"||e==="multiple"},GCe=S.forwardRef(function(t,e){var n,r=t.id,i=t.prefixCls,o=t.className,a=t.showSearch,s=t.tagRender,l=t.direction,c=t.omitDomProps,u=t.displayValues,d=t.onDisplayValuesChange,f=t.emptyOptions,h=t.notFoundContent,p=h===void 0?"Not Found":h,x=t.onClear,b=t.mode,y=t.disabled,_=t.loading,C=t.getInputElement,E=t.getRawInputElement,M=t.open,R=t.defaultOpen,N=t.onDropdownVisibleChange,O=t.activeValue,I=t.onActiveValueChange,L=t.activeDescendantId,F=t.searchValue,$=t.autoClearSearchValue,V=t.onSearch,U=t.onSearchSplit,k=t.tokenSeparators,z=t.allowClear,H=t.prefix,j=t.suffixIcon,X=t.clearIcon,Y=t.OptionList,J=t.animation,ee=t.transitionName,re=t.dropdownStyle,ue=t.dropdownClassName,fe=t.dropdownMatchSelectWidth,oe=t.dropdownRender,ce=t.dropdownAlign,pe=t.placement,ye=t.builtinPlacements,xe=t.getPopupContainer,be=t.showAction,Ce=be===void 0?[]:be,Ne=t.onFocus,Ae=t.onBlur,me=t.onKeyUp,de=t.onKeyDown,Be=t.onMouseDown,ne=Qn(t,VCe),Je=JO(b),Ye=(a!==void 0?a:Je)||b==="combobox",rt=we({},ne);zCe.forEach(function(Lt){delete rt[Lt]}),c==null||c.forEach(function(Lt){delete rt[Lt]});var qe=S.useState(!1),se=Oe(qe,2),K=se[0],_e=se[1];S.useEffect(function(){_e(JL())},[]);var Ue=S.useRef(null),lt=S.useRef(null),We=S.useRef(null),pt=S.useRef(null),mt=S.useRef(null),vt=S.useRef(!1),At=Xwe(),ot=Oe(At,3),Ve=ot[0],at=ot[1],tt=ot[2];S.useImperativeHandle(e,function(){var Lt,Wt;return{focus:(Lt=pt.current)===null||Lt===void 0?void 0:Lt.focus,blur:(Wt=pt.current)===null||Wt===void 0?void 0:Wt.blur,scrollTo:function(nn){var an;return(an=mt.current)===null||an===void 0?void 0:an.scrollTo(nn)},nativeElement:Ue.current||lt.current}});var ze=S.useMemo(function(){var Lt;if(b!=="combobox")return F;var Wt=(Lt=u[0])===null||Lt===void 0?void 0:Lt.value;return typeof Wt=="string"||typeof Wt=="number"?String(Wt):""},[F,b,u]),bt=b==="combobox"&&typeof C=="function"&&C()||null,Pe=typeof E=="function"&&E(),Mt=lp(lt,Pe==null||(n=Pe.props)===null||n===void 0?void 0:n.ref),Ct=S.useState(!1),qt=Oe(Ct,2),Ge=qt[0],yt=qt[1];wr(function(){yt(!0)},[]);var Tt=yi(!1,{defaultValue:R,value:M}),Ut=Oe(Tt,2),mn=Ut[0],dn=Ut[1],tn=Ge?mn:!1,pn=!p&&f;(y||pn&&tn&&b==="combobox")&&(tn=!1);var fn=pn?!1:tn,kt=S.useCallback(function(Lt){var Wt=Lt!==void 0?Lt:!tn;y||(dn(Wt),tn!==Wt&&(N==null||N(Wt)))},[y,tn,dn,N]),Nt=S.useMemo(function(){return(k||[]).some(function(Lt){return[`
`,`\r
`].includes(Lt)})},[k]),It=S.useContext(eB)||{},Le=It.maxCount,st=It.rawValues,gt=function(Wt,vn,nn){if(!(Je&&QO(Le)&&(st==null?void 0:st.size)>=Le)){var an=!0,Hn=Wt;I==null||I(null);var Hr=UCe(Wt,k,QO(Le)?Le-st.size:void 0),Jn=nn?null:Hr;return b!=="combobox"&&Jn&&(Hn="",U==null||U(Jn),kt(!1),an=!1),V&&ze!==Hn&&V(Hn,{source:vn?"typing":"effect"}),an}},ht=function(Wt){!Wt||!Wt.trim()||V(Wt,{source:"submit"})};S.useEffect(function(){!tn&&!Je&&b!=="combobox"&&gt("",!1,!1)},[tn]),S.useEffect(function(){mn&&y&&dn(!1),y&&!vt.current&&at(!1)},[y]);var m=lte(),te=Oe(m,2),on=te[0],xn=te[1],Gn=S.useRef(!1),cn=function(Wt){var vn=on(),nn=Wt.key,an=nn==="Enter";if(an&&(b!=="combobox"&&Wt.preventDefault(),tn||kt(!0)),xn(!!ze),nn==="Backspace"&&!vn&&Je&&!ze&&u.length){for(var Hn=zt(u),Hr=null,Jn=Hn.length-1;Jn>=0;Jn-=1){var Sr=Hn[Jn];if(!Sr.disabled){Hn.splice(Jn,1),Hr=Sr;break}}Hr&&d(Hn,{type:"remove",values:[Hr]})}for(var sr=arguments.length,jr=new Array(sr>1?sr-1:0),Bn=1;Bn<sr;Bn++)jr[Bn-1]=arguments[Bn];if(tn&&(!an||!Gn.current)){var Cn;an&&(Gn.current=!0),(Cn=mt.current)===null||Cn===void 0||Cn.onKeyDown.apply(Cn,[Wt].concat(jr))}de==null||de.apply(void 0,[Wt].concat(jr))},In=function(Wt){for(var vn=arguments.length,nn=new Array(vn>1?vn-1:0),an=1;an<vn;an++)nn[an-1]=arguments[an];if(tn){var Hn;(Hn=mt.current)===null||Hn===void 0||Hn.onKeyUp.apply(Hn,[Wt].concat(nn))}Wt.key==="Enter"&&(Gn.current=!1),me==null||me.apply(void 0,[Wt].concat(nn))},dr=function(Wt){var vn=u.filter(function(nn){return nn!==Wt});d(vn,{type:"remove",values:[Wt]})},Sn=function(){Gn.current=!1},wt=S.useRef(!1),Zt=function(){at(!0),y||(Ne&&!wt.current&&Ne.apply(void 0,arguments),Ce.includes("focus")&&kt(!0)),wt.current=!0},Mn=function(){vt.current=!0,at(!1,function(){wt.current=!1,vt.current=!1,kt(!1)}),!y&&(ze&&(b==="tags"?V(ze,{source:"submit"}):b==="multiple"&&V("",{source:"blur"})),Ae&&Ae.apply(void 0,arguments))},kn=[];S.useEffect(function(){return function(){kn.forEach(function(Lt){return clearTimeout(Lt)}),kn.splice(0,kn.length)}},[]);var le=function(Wt){var vn,nn=Wt.target,an=(vn=We.current)===null||vn===void 0?void 0:vn.getPopupElement();if(an&&an.contains(nn)){var Hn=setTimeout(function(){var sr=kn.indexOf(Hn);if(sr!==-1&&kn.splice(sr,1),tt(),!K&&!an.contains(document.activeElement)){var jr;(jr=pt.current)===null||jr===void 0||jr.focus()}});kn.push(Hn)}for(var Hr=arguments.length,Jn=new Array(Hr>1?Hr-1:0),Sr=1;Sr<Hr;Sr++)Jn[Sr-1]=arguments[Sr];Be==null||Be.apply(void 0,[Wt].concat(Jn))},Ie=S.useState({}),et=Oe(Ie,2),nt=et[1];function Fe(){nt({})}var St;Pe&&(St=function(Wt){kt(Wt)}),Ywe(function(){var Lt;return[Ue.current,(Lt=We.current)===null||Lt===void 0?void 0:Lt.getPopupElement()]},fn,kt,!!Pe);var Dt=S.useMemo(function(){return we(we({},t),{},{notFoundContent:p,open:tn,triggerOpen:fn,id:r,showSearch:Ye,multiple:Je,toggleOpen:kt})},[t,p,fn,tn,r,Ye,Je,kt]),_t=!!j||_,ie;_t&&(ie=S.createElement(cM,{className:ke("".concat(i,"-arrow"),Se({},"".concat(i,"-arrow-loading"),_)),customizeIcon:j,customizeIconProps:{loading:_,searchValue:ze,open:tn,focused:Ve,showSearch:Ye}}));var Ot=function(){var Wt;x==null||x(),(Wt=pt.current)===null||Wt===void 0||Wt.focus(),d([],{type:"clear",values:u}),gt("",!1,!1)},_n=qwe(i,Ot,u,z,X,y,ze,b),hn=_n.allowClear,Vn=_n.clearIcon,fr=S.createElement(Y,{ref:mt}),Tr=ke(i,o,Se(Se(Se(Se(Se(Se(Se(Se(Se(Se({},"".concat(i,"-focused"),Ve),"".concat(i,"-multiple"),Je),"".concat(i,"-single"),!Je),"".concat(i,"-allow-clear"),z),"".concat(i,"-show-arrow"),_t),"".concat(i,"-disabled"),y),"".concat(i,"-loading"),_),"".concat(i,"-open"),tn),"".concat(i,"-customize-input"),bt),"".concat(i,"-show-search"),Ye)),ae=S.createElement(FCe,{ref:We,disabled:y,prefixCls:i,visible:fn,popupElement:fr,animation:J,transitionName:ee,dropdownStyle:re,dropdownClassName:ue,direction:l,dropdownMatchSelectWidth:fe,dropdownRender:oe,dropdownAlign:ce,placement:pe,builtinPlacements:ye,getPopupContainer:xe,empty:f,getTriggerDOMNode:function(Wt){return lt.current||Wt},onPopupVisibleChange:St,onPopupMouseEnter:Fe},Pe?S.cloneElement(Pe,{ref:Mt}):S.createElement(bCe,it({},t,{domRef:lt,prefixCls:i,inputElement:bt,ref:pt,id:r,prefix:H,showSearch:Ye,autoClearSearchValue:$,mode:b,activeDescendantId:L,tagRender:s,values:u,open:tn,onToggleOpen:kt,activeValue:O,searchValue:ze,onSearch:gt,onSearchSubmit:ht,onRemove:dr,tokenWithEnter:Nt,onInputBlur:Sn}))),Dn;return Pe?Dn=ae:Dn=S.createElement("div",it({className:Tr},rt,{ref:Ue,onMouseDown:le,onKeyDown:cn,onKeyUp:In,onFocus:Zt,onBlur:Mn}),S.createElement(kCe,{visible:Ve&&!tn,values:u}),ae,ie,hn&&Vn),S.createElement(ste.Provider,{value:Dt},Dn)}),tB=function(){return null};tB.isSelectOptGroup=!0;var nB=function(){return null};nB.isSelectOption=!0;var gte=S.forwardRef(function(t,e){var n=t.height,r=t.offsetY,i=t.offsetX,o=t.children,a=t.prefixCls,s=t.onInnerResize,l=t.innerProps,c=t.rtl,u=t.extra,d={},f={display:"flex",flexDirection:"column"};return r!==void 0&&(d={height:n,position:"relative",overflow:"hidden"},f=we(we({},f),{},Se(Se(Se(Se(Se({transform:"translateY(".concat(r,"px)")},c?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),S.createElement("div",{style:d},S.createElement(rl,{onResize:function(p){var x=p.offsetHeight;x&&s&&s()}},S.createElement("div",it({style:f,className:ke(Se({},"".concat(a,"-holder-inner"),a)),ref:e},l),o,u)))});gte.displayName="Filler";function HCe(t){var e=t.children,n=t.setRef,r=S.useCallback(function(i){n(i)},[]);return S.cloneElement(e,{ref:r})}function jCe(t,e,n,r,i,o,a,s){var l=s.getKey;return t.slice(e,n+1).map(function(c,u){var d=e+u,f=a(c,d,{style:{width:r},offsetX:i}),h=l(c);return S.createElement(HCe,{key:h,setRef:function(x){return o(c,x)}},f)})}function qCe(t,e,n){var r=t.length,i=e.length,o,a;if(r===0&&i===0)return null;r<i?(o=t,a=e):(o=e,a=t);var s={__EMPTY_ITEM__:!0};function l(p){return p!==void 0?n(p):s}for(var c=null,u=Math.abs(r-i)!==1,d=0;d<a.length;d+=1){var f=l(o[d]),h=l(a[d]);if(f!==h){c=d,u=u||f!==l(a[d+1]);break}}return c===null?null:{index:c,multiple:u}}function WCe(t,e,n){var r=S.useState(t),i=Oe(r,2),o=i[0],a=i[1],s=S.useState(null),l=Oe(s,2),c=l[0],u=l[1];return S.useEffect(function(){var d=qCe(o||[],t||[],e);(d==null?void 0:d.index)!==void 0&&(n==null||n(d.index),u(t[d.index])),a(t)},[t]),[c]}var yz=(typeof navigator>"u"?"undefined":yn(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const Ate=function(t,e,n,r){var i=S.useRef(!1),o=S.useRef(null);function a(){clearTimeout(o.current),i.current=!0,o.current=setTimeout(function(){i.current=!1},50)}var s=S.useRef({top:t,bottom:e,left:n,right:r});return s.current.top=t,s.current.bottom=e,s.current.left=n,s.current.right=r,function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=l?c<0&&s.current.left||c>0&&s.current.right:c<0&&s.current.top||c>0&&s.current.bottom;return u&&d?(clearTimeout(o.current),i.current=!1):(!d||i.current)&&a(),!i.current&&d}};function XCe(t,e,n,r,i,o,a){var s=S.useRef(0),l=S.useRef(null),c=S.useRef(null),u=S.useRef(!1),d=Ate(e,n,r,i);function f(_,C){if(Rr.cancel(l.current),!d(!1,C)){var E=_;if(!E._virtualHandled)E._virtualHandled=!0;else return;s.current+=C,c.current=C,yz||E.preventDefault(),l.current=Rr(function(){var M=u.current?10:1;a(s.current*M,!1),s.current=0})}}function h(_,C){a(C,!0),yz||_.preventDefault()}var p=S.useRef(null),x=S.useRef(null);function b(_){if(t){Rr.cancel(x.current),x.current=Rr(function(){p.current=null},2);var C=_.deltaX,E=_.deltaY,M=_.shiftKey,R=C,N=E;(p.current==="sx"||!p.current&&M&&E&&!C)&&(R=E,N=0,p.current="sx");var O=Math.abs(R),I=Math.abs(N);p.current===null&&(p.current=o&&O>I?"x":"y"),p.current==="y"?f(_,N):h(_,R)}}function y(_){t&&(u.current=_.detail===c.current)}return[b,y]}function YCe(t,e,n,r){var i=S.useMemo(function(){return[new Map,[]]},[t,n.id,r]),o=Oe(i,2),a=o[0],s=o[1],l=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,f=a.get(u),h=a.get(d);if(f===void 0||h===void 0)for(var p=t.length,x=s.length;x<p;x+=1){var b,y=t[x],_=e(y);a.set(_,x);var C=(b=n.get(_))!==null&&b!==void 0?b:r;if(s[x]=(s[x-1]||0)+C,_===u&&(f=x),_===d&&(h=x),f!==void 0&&h!==void 0)break}return{top:s[f-1]||0,bottom:s[h]}};return l}var KCe=function(){function t(){Ro(this,t),Se(this,"maps",void 0),Se(this,"id",0),Se(this,"diffRecords",new Map),this.maps=Object.create(null)}return Po(t,[{key:"set",value:function(n,r){this.diffRecords.set(n,this.maps[n]),this.maps[n]=r,this.id+=1}},{key:"get",value:function(n){return this.maps[n]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),t}();function bz(t){var e=parseFloat(t);return isNaN(e)?0:e}function QCe(t,e,n){var r=S.useState(0),i=Oe(r,2),o=i[0],a=i[1],s=S.useRef(new Map),l=S.useRef(new KCe),c=S.useRef(0);function u(){c.current+=1}function d(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;u();var p=function(){var y=!1;s.current.forEach(function(_,C){if(_&&_.offsetParent){var E=_.offsetHeight,M=getComputedStyle(_),R=M.marginTop,N=M.marginBottom,O=bz(R),I=bz(N),L=E+O+I;l.current.get(C)!==L&&(l.current.set(C,L),y=!0)}}),y&&a(function(_){return _+1})};if(h)p();else{c.current+=1;var x=c.current;Promise.resolve().then(function(){x===c.current&&p()})}}function f(h,p){var x=t(h),b=s.current.get(x);p?(s.current.set(x,p),d()):s.current.delete(x),!b!=!p&&(p?e==null||e(h):n==null||n(h))}return S.useEffect(function(){return u},[]),[f,d,l.current,o]}var xz=14/15;function ZCe(t,e,n){var r=S.useRef(!1),i=S.useRef(0),o=S.useRef(0),a=S.useRef(null),s=S.useRef(null),l,c=function(h){if(r.current){var p=Math.ceil(h.touches[0].pageX),x=Math.ceil(h.touches[0].pageY),b=i.current-p,y=o.current-x,_=Math.abs(b)>Math.abs(y);_?i.current=p:o.current=x;var C=n(_,_?b:y,!1,h);C&&h.preventDefault(),clearInterval(s.current),C&&(s.current=setInterval(function(){_?b*=xz:y*=xz;var E=Math.floor(_?b:y);(!n(_,E,!0)||Math.abs(E)<=.1)&&clearInterval(s.current)},16))}},u=function(){r.current=!1,l()},d=function(h){l(),h.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(h.touches[0].pageX),o.current=Math.ceil(h.touches[0].pageY),a.current=h.target,a.current.addEventListener("touchmove",c,{passive:!1}),a.current.addEventListener("touchend",u,{passive:!0}))};l=function(){a.current&&(a.current.removeEventListener("touchmove",c),a.current.removeEventListener("touchend",u))},wr(function(){return t&&e.current.addEventListener("touchstart",d,{passive:!0}),function(){var f;(f=e.current)===null||f===void 0||f.removeEventListener("touchstart",d),l(),clearInterval(s.current)}},[t])}function Sz(t){return Math.floor(Math.pow(t,.5))}function e5(t,e){var n="touches"in t?t.touches[0]:t;return n[e?"pageX":"pageY"]-window[e?"scrollX":"scrollY"]}function JCe(t,e,n){S.useEffect(function(){var r=e.current;if(t&&r){var i=!1,o,a,s=function(){Rr.cancel(o)},l=function f(){s(),o=Rr(function(){n(a),f()})},c=function(){i=!1,s()},u=function(h){if(!(h.target.draggable||h.button!==0)){var p=h;p._virtualHandled||(p._virtualHandled=!0,i=!0)}},d=function(h){if(i){var p=e5(h,!1),x=r.getBoundingClientRect(),b=x.top,y=x.bottom;if(p<=b){var _=b-p;a=-Sz(_),l()}else if(p>=y){var C=p-y;a=Sz(C),l()}else s()}};return r.addEventListener("mousedown",u),r.ownerDocument.addEventListener("mouseup",c),r.ownerDocument.addEventListener("mousemove",d),r.ownerDocument.addEventListener("dragend",c),function(){r.removeEventListener("mousedown",u),r.ownerDocument.removeEventListener("mouseup",c),r.ownerDocument.removeEventListener("mousemove",d),r.ownerDocument.removeEventListener("dragend",c),s()}}},[t])}var eTe=10;function tTe(t,e,n,r,i,o,a,s){var l=S.useRef(),c=S.useState(null),u=Oe(c,2),d=u[0],f=u[1];return wr(function(){if(d&&d.times<eTe){if(!t.current){f(function(X){return we({},X)});return}o();var h=d.targetAlign,p=d.originAlign,x=d.index,b=d.offset,y=t.current.clientHeight,_=!1,C=h,E=null;if(y){for(var M=h||p,R=0,N=0,O=0,I=Math.min(e.length-1,x),L=0;L<=I;L+=1){var F=i(e[L]);N=R;var $=n.get(F);O=N+($===void 0?r:$),R=O}for(var V=M==="top"?b:y-b,U=I;U>=0;U-=1){var k=i(e[U]),z=n.get(k);if(z===void 0){_=!0;break}if(V-=z,V<=0)break}switch(M){case"top":E=N-b;break;case"bottom":E=O-y+b;break;default:{var H=t.current.scrollTop,j=H+y;N<H?C="top":O>j&&(C="bottom")}}E!==null&&a(E),E!==d.lastTop&&(_=!0)}_&&f(we(we({},d),{},{times:d.times+1,targetAlign:C,lastTop:E}))}},[d,t.current]),function(h){if(h==null){s();return}if(Rr.cancel(l.current),typeof h=="number")a(h);else if(h&&yn(h)==="object"){var p,x=h.align;"index"in h?p=h.index:p=e.findIndex(function(_){return i(_)===h.key});var b=h.offset,y=b===void 0?0:b;f({times:0,index:p,offset:y,originAlign:x})}}}var _z=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.rtl,i=t.scrollOffset,o=t.scrollRange,a=t.onStartMove,s=t.onStopMove,l=t.onScroll,c=t.horizontal,u=t.spinSize,d=t.containerSize,f=t.style,h=t.thumbStyle,p=t.showScrollBar,x=S.useState(!1),b=Oe(x,2),y=b[0],_=b[1],C=S.useState(null),E=Oe(C,2),M=E[0],R=E[1],N=S.useState(null),O=Oe(N,2),I=O[0],L=O[1],F=!r,$=S.useRef(),V=S.useRef(),U=S.useState(p),k=Oe(U,2),z=k[0],H=k[1],j=S.useRef(),X=function(){p===!0||p===!1||(clearTimeout(j.current),H(!0),j.current=setTimeout(function(){H(!1)},3e3))},Y=o-d||0,J=d-u||0,ee=S.useMemo(function(){if(i===0||Y===0)return 0;var be=i/Y;return be*J},[i,Y,J]),re=function(Ce){Ce.stopPropagation(),Ce.preventDefault()},ue=S.useRef({top:ee,dragging:y,pageY:M,startTop:I});ue.current={top:ee,dragging:y,pageY:M,startTop:I};var fe=function(Ce){_(!0),R(e5(Ce,c)),L(ue.current.top),a(),Ce.stopPropagation(),Ce.preventDefault()};S.useEffect(function(){var be=function(me){me.preventDefault()},Ce=$.current,Ne=V.current;return Ce.addEventListener("touchstart",be,{passive:!1}),Ne.addEventListener("touchstart",fe,{passive:!1}),function(){Ce.removeEventListener("touchstart",be),Ne.removeEventListener("touchstart",fe)}},[]);var oe=S.useRef();oe.current=Y;var ce=S.useRef();ce.current=J,S.useEffect(function(){if(y){var be,Ce=function(me){var de=ue.current,Be=de.dragging,ne=de.pageY,Je=de.startTop;Rr.cancel(be);var Ye=$.current.getBoundingClientRect(),rt=d/(c?Ye.width:Ye.height);if(Be){var qe=(e5(me,c)-ne)*rt,se=Je;!F&&c?se-=qe:se+=qe;var K=oe.current,_e=ce.current,Ue=_e?se/_e:0,lt=Math.ceil(Ue*K);lt=Math.max(lt,0),lt=Math.min(lt,K),be=Rr(function(){l(lt,c)})}},Ne=function(){_(!1),s()};return window.addEventListener("mousemove",Ce,{passive:!0}),window.addEventListener("touchmove",Ce,{passive:!0}),window.addEventListener("mouseup",Ne,{passive:!0}),window.addEventListener("touchend",Ne,{passive:!0}),function(){window.removeEventListener("mousemove",Ce),window.removeEventListener("touchmove",Ce),window.removeEventListener("mouseup",Ne),window.removeEventListener("touchend",Ne),Rr.cancel(be)}}},[y]),S.useEffect(function(){return X(),function(){clearTimeout(j.current)}},[i]),S.useImperativeHandle(e,function(){return{delayHidden:X}});var pe="".concat(n,"-scrollbar"),ye={position:"absolute",visibility:z?null:"hidden"},xe={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return c?(Object.assign(ye,{height:8,left:0,right:0,bottom:0}),Object.assign(xe,Se({height:"100%",width:u},F?"left":"right",ee))):(Object.assign(ye,Se({width:8,top:0,bottom:0},F?"right":"left",0)),Object.assign(xe,{width:"100%",height:u,top:ee})),S.createElement("div",{ref:$,className:ke(pe,Se(Se(Se({},"".concat(pe,"-horizontal"),c),"".concat(pe,"-vertical"),!c),"".concat(pe,"-visible"),z)),style:we(we({},ye),f),onMouseDown:re,onMouseMove:X},S.createElement("div",{ref:V,className:ke("".concat(pe,"-thumb"),Se({},"".concat(pe,"-thumb-moving"),y)),style:we(we({},xe),h),onMouseDown:fe}))}),nTe=20;function wz(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t/e*t;return isNaN(n)&&(n=0),n=Math.max(n,nTe),Math.floor(n)}var rTe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],iTe=[],oTe={overflowY:"auto",overflowAnchor:"none"};function aTe(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,i=t.className,o=t.height,a=t.itemHeight,s=t.fullHeight,l=s===void 0?!0:s,c=t.style,u=t.data,d=t.children,f=t.itemKey,h=t.virtual,p=t.direction,x=t.scrollWidth,b=t.component,y=b===void 0?"div":b,_=t.onScroll,C=t.onVirtualScroll,E=t.onVisibleChange,M=t.innerProps,R=t.extraRender,N=t.styles,O=t.showScrollBar,I=O===void 0?"optional":O,L=Qn(t,rTe),F=S.useCallback(function(wt){return typeof f=="function"?f(wt):wt==null?void 0:wt[f]},[f]),$=QCe(F,null,null),V=Oe($,4),U=V[0],k=V[1],z=V[2],H=V[3],j=!!(h!==!1&&o&&a),X=S.useMemo(function(){return Object.values(z.maps).reduce(function(wt,Zt){return wt+Zt},0)},[z.id,z.maps]),Y=j&&u&&(Math.max(a*u.length,X)>o||!!x),J=p==="rtl",ee=ke(r,Se({},"".concat(r,"-rtl"),J),i),re=u||iTe,ue=S.useRef(),fe=S.useRef(),oe=S.useRef(),ce=S.useState(0),pe=Oe(ce,2),ye=pe[0],xe=pe[1],be=S.useState(0),Ce=Oe(be,2),Ne=Ce[0],Ae=Ce[1],me=S.useState(!1),de=Oe(me,2),Be=de[0],ne=de[1],Je=function(){ne(!0)},Ye=function(){ne(!1)},rt={getKey:F};function qe(wt){xe(function(Zt){var Mn;typeof wt=="function"?Mn=wt(Zt):Mn=wt;var kn=yt(Mn);return ue.current.scrollTop=kn,kn})}var se=S.useRef({start:0,end:re.length}),K=S.useRef(),_e=WCe(re,F),Ue=Oe(_e,1),lt=Ue[0];K.current=lt;var We=S.useMemo(function(){if(!j)return{scrollHeight:void 0,start:0,end:re.length-1,offset:void 0};if(!Y){var wt;return{scrollHeight:((wt=fe.current)===null||wt===void 0?void 0:wt.offsetHeight)||0,start:0,end:re.length-1,offset:void 0}}for(var Zt=0,Mn,kn,le,Ie=re.length,et=0;et<Ie;et+=1){var nt=re[et],Fe=F(nt),St=z.get(Fe),Dt=Zt+(St===void 0?a:St);Dt>=ye&&Mn===void 0&&(Mn=et,kn=Zt),Dt>ye+o&&le===void 0&&(le=et),Zt=Dt}return Mn===void 0&&(Mn=0,kn=0,le=Math.ceil(o/a)),le===void 0&&(le=re.length-1),le=Math.min(le+1,re.length-1),{scrollHeight:Zt,start:Mn,end:le,offset:kn}},[Y,j,ye,re,H,o]),pt=We.scrollHeight,mt=We.start,vt=We.end,At=We.offset;se.current.start=mt,se.current.end=vt,S.useLayoutEffect(function(){var wt=z.getRecord();if(wt.size===1){var Zt=Array.from(wt.keys())[0],Mn=wt.get(Zt),kn=re[mt];if(kn&&Mn===void 0){var le=F(kn);if(le===Zt){var Ie=z.get(Zt),et=Ie-a;qe(function(nt){return nt+et})}}}z.resetRecord()},[pt]);var ot=S.useState({width:0,height:o}),Ve=Oe(ot,2),at=Ve[0],tt=Ve[1],ze=function(Zt){tt({width:Zt.offsetWidth,height:Zt.offsetHeight})},bt=S.useRef(),Pe=S.useRef(),Mt=S.useMemo(function(){return wz(at.width,x)},[at.width,x]),Ct=S.useMemo(function(){return wz(at.height,pt)},[at.height,pt]),qt=pt-o,Ge=S.useRef(qt);Ge.current=qt;function yt(wt){var Zt=wt;return Number.isNaN(Ge.current)||(Zt=Math.min(Zt,Ge.current)),Zt=Math.max(Zt,0),Zt}var Tt=ye<=0,Ut=ye>=qt,mn=Ne<=0,dn=Ne>=x,tn=Ate(Tt,Ut,mn,dn),pn=function(){return{x:J?-Ne:Ne,y:ye}},fn=S.useRef(pn()),kt=Or(function(wt){if(C){var Zt=we(we({},pn()),wt);(fn.current.x!==Zt.x||fn.current.y!==Zt.y)&&(C(Zt),fn.current=Zt)}});function Nt(wt,Zt){var Mn=wt;Zt?(uf.flushSync(function(){Ae(Mn)}),kt()):qe(Mn)}function It(wt){var Zt=wt.currentTarget.scrollTop;Zt!==ye&&qe(Zt),_==null||_(wt),kt()}var Le=function(Zt){var Mn=Zt,kn=x?x-at.width:0;return Mn=Math.max(Mn,0),Mn=Math.min(Mn,kn),Mn},st=Or(function(wt,Zt){Zt?(uf.flushSync(function(){Ae(function(Mn){var kn=Mn+(J?-wt:wt);return Le(kn)})}),kt()):qe(function(Mn){var kn=Mn+wt;return kn})}),gt=XCe(j,Tt,Ut,mn,dn,!!x,st),ht=Oe(gt,2),m=ht[0],te=ht[1];ZCe(j,ue,function(wt,Zt,Mn,kn){var le=kn;return tn(wt,Zt,Mn)?!1:!le||!le._virtualHandled?(le&&(le._virtualHandled=!0),m({preventDefault:function(){},deltaX:wt?Zt:0,deltaY:wt?0:Zt}),!0):!1}),JCe(Y,ue,function(wt){qe(function(Zt){return Zt+wt})}),wr(function(){function wt(Mn){var kn=Tt&&Mn.detail<0,le=Ut&&Mn.detail>0;j&&!kn&&!le&&Mn.preventDefault()}var Zt=ue.current;return Zt.addEventListener("wheel",m,{passive:!1}),Zt.addEventListener("DOMMouseScroll",te,{passive:!0}),Zt.addEventListener("MozMousePixelScroll",wt,{passive:!1}),function(){Zt.removeEventListener("wheel",m),Zt.removeEventListener("DOMMouseScroll",te),Zt.removeEventListener("MozMousePixelScroll",wt)}},[j,Tt,Ut]),wr(function(){if(x){var wt=Le(Ne);Ae(wt),kt({x:wt})}},[at.width,x]);var on=function(){var Zt,Mn;(Zt=bt.current)===null||Zt===void 0||Zt.delayHidden(),(Mn=Pe.current)===null||Mn===void 0||Mn.delayHidden()},xn=tTe(ue,re,z,a,F,function(){return k(!0)},qe,on);S.useImperativeHandle(e,function(){return{nativeElement:oe.current,getScrollInfo:pn,scrollTo:function(Zt){function Mn(kn){return kn&&yn(kn)==="object"&&("left"in kn||"top"in kn)}Mn(Zt)?(Zt.left!==void 0&&Ae(Le(Zt.left)),xn(Zt.top)):xn(Zt)}}}),wr(function(){if(E){var wt=re.slice(mt,vt+1);E(wt,re)}},[mt,vt,re]);var Gn=YCe(re,F,z,a),cn=R==null?void 0:R({start:mt,end:vt,virtual:Y,offsetX:Ne,offsetY:At,rtl:J,getSize:Gn}),In=jCe(re,mt,vt,x,Ne,U,d,rt),dr=null;o&&(dr=we(Se({},l?"height":"maxHeight",o),oTe),j&&(dr.overflowY="hidden",x&&(dr.overflowX="hidden"),Be&&(dr.pointerEvents="none")));var Sn={};return J&&(Sn.dir="rtl"),S.createElement("div",it({ref:oe,style:we(we({},c),{},{position:"relative"}),className:ee},Sn,L),S.createElement(rl,{onResize:ze},S.createElement(y,{className:"".concat(r,"-holder"),style:dr,ref:ue,onScroll:It,onMouseEnter:on},S.createElement(gte,{prefixCls:r,height:pt,offsetX:Ne,offsetY:At,scrollWidth:x,onInnerResize:k,ref:fe,innerProps:M,rtl:J,extra:cn},In))),Y&&pt>o&&S.createElement(_z,{ref:bt,prefixCls:r,scrollOffset:ye,scrollRange:pt,rtl:J,onScroll:Nt,onStartMove:Je,onStopMove:Ye,spinSize:Ct,containerSize:at.height,style:N==null?void 0:N.verticalScrollBar,thumbStyle:N==null?void 0:N.verticalScrollBarThumb,showScrollBar:I}),Y&&x>at.width&&S.createElement(_z,{ref:Pe,prefixCls:r,scrollOffset:Ne,scrollRange:x,rtl:J,onScroll:Nt,onStartMove:Je,onStopMove:Ye,spinSize:Mt,containerSize:at.width,horizontal:!0,style:N==null?void 0:N.horizontalScrollBar,thumbStyle:N==null?void 0:N.horizontalScrollBarThumb,showScrollBar:I}))}var vte=S.forwardRef(aTe);vte.displayName="List";function sTe(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var lTe=["disabled","title","children","style","className"];function Cz(t){return typeof t=="string"||typeof t=="number"}var cTe=function(e,n){var r=Wwe(),i=r.prefixCls,o=r.id,a=r.open,s=r.multiple,l=r.mode,c=r.searchValue,u=r.toggleOpen,d=r.notFoundContent,f=r.onPopupScroll,h=S.useContext(eB),p=h.maxCount,x=h.flattenOptions,b=h.onActiveValue,y=h.defaultActiveFirstOption,_=h.onSelect,C=h.menuItemSelectedIcon,E=h.rawValues,M=h.fieldNames,R=h.virtual,N=h.direction,O=h.listHeight,I=h.listItemHeight,L=h.optionRender,F="".concat(i,"-item"),$=y2(function(){return x},[a,x],function(be,Ce){return Ce[0]&&be[1]!==Ce[1]}),V=S.useRef(null),U=S.useMemo(function(){return s&&QO(p)&&(E==null?void 0:E.size)>=p},[s,p,E==null?void 0:E.size]),k=function(Ce){Ce.preventDefault()},z=function(Ce){var Ne;(Ne=V.current)===null||Ne===void 0||Ne.scrollTo(typeof Ce=="number"?{index:Ce}:Ce)},H=S.useCallback(function(be){return l==="combobox"?!1:E.has(be)},[l,zt(E).toString(),E.size]),j=function(Ce){for(var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Ae=$.length,me=0;me<Ae;me+=1){var de=(Ce+me*Ne+Ae)%Ae,Be=$[de]||{},ne=Be.group,Je=Be.data;if(!ne&&!(Je!=null&&Je.disabled)&&(H(Je.value)||!U))return de}return-1},X=S.useState(function(){return j(0)}),Y=Oe(X,2),J=Y[0],ee=Y[1],re=function(Ce){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ee(Ce);var Ae={source:Ne?"keyboard":"mouse"},me=$[Ce];if(!me){b(null,-1,Ae);return}b(me.value,Ce,Ae)};S.useEffect(function(){re(y!==!1?j(0):-1)},[$.length,c]);var ue=S.useCallback(function(be){return l==="combobox"?String(be).toLowerCase()===c.toLowerCase():E.has(be)},[l,c,zt(E).toString(),E.size]);S.useEffect(function(){var be=setTimeout(function(){if(!s&&a&&E.size===1){var Ne=Array.from(E)[0],Ae=$.findIndex(function(me){var de=me.data;return c?String(de.value).startsWith(c):de.value===Ne});Ae!==-1&&(re(Ae),z(Ae))}});if(a){var Ce;(Ce=V.current)===null||Ce===void 0||Ce.scrollTo(void 0)}return function(){return clearTimeout(be)}},[a,c]);var fe=function(Ce){Ce!==void 0&&_(Ce,{selected:!E.has(Ce)}),s||u(!1)};if(S.useImperativeHandle(n,function(){return{onKeyDown:function(Ce){var Ne=Ce.which,Ae=Ce.ctrlKey;switch(Ne){case Bt.N:case Bt.P:case Bt.UP:case Bt.DOWN:{var me=0;if(Ne===Bt.UP?me=-1:Ne===Bt.DOWN?me=1:sTe()&&Ae&&(Ne===Bt.N?me=1:Ne===Bt.P&&(me=-1)),me!==0){var de=j(J+me,me);z(de),re(de,!0)}break}case Bt.TAB:case Bt.ENTER:{var Be,ne=$[J];ne&&!(ne!=null&&(Be=ne.data)!==null&&Be!==void 0&&Be.disabled)&&!U?fe(ne.value):fe(void 0),a&&Ce.preventDefault();break}case Bt.ESC:u(!1),a&&Ce.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Ce){z(Ce)}}}),$.length===0)return S.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(F,"-empty"),onMouseDown:k},d);var oe=Object.keys(M).map(function(be){return M[be]}),ce=function(Ce){return Ce.label};function pe(be,Ce){var Ne=be.group;return{role:Ne?"presentation":"option",id:"".concat(o,"_list_").concat(Ce)}}var ye=function(Ce){var Ne=$[Ce];if(!Ne)return null;var Ae=Ne.data||{},me=Ae.value,de=Ne.group,Be=Sc(Ae,!0),ne=ce(Ne);return Ne?S.createElement("div",it({"aria-label":typeof ne=="string"&&!de?ne:null},Be,{key:Ce},pe(Ne,Ce),{"aria-selected":ue(me)}),me):null},xe={role:"listbox",id:"".concat(o,"_list")};return S.createElement(S.Fragment,null,R&&S.createElement("div",it({},xe,{style:{height:0,width:0,overflow:"hidden"}}),ye(J-1),ye(J),ye(J+1)),S.createElement(vte,{itemKey:"key",ref:V,data:$,height:O,itemHeight:I,fullHeight:!1,onMouseDown:k,onScroll:f,virtual:R,direction:N,innerProps:R?null:xe},function(be,Ce){var Ne=be.group,Ae=be.groupOption,me=be.data,de=be.label,Be=be.value,ne=me.key;if(Ne){var Je,Ye=(Je=me.title)!==null&&Je!==void 0?Je:Cz(de)?de.toString():void 0;return S.createElement("div",{className:ke(F,"".concat(F,"-group"),me.className),title:Ye},de!==void 0?de:ne)}var rt=me.disabled,qe=me.title;me.children;var se=me.style,K=me.className,_e=Qn(me,lTe),Ue=go(_e,oe),lt=H(Be),We=rt||!lt&&U,pt="".concat(F,"-option"),mt=ke(F,pt,K,Se(Se(Se(Se({},"".concat(pt,"-grouped"),Ae),"".concat(pt,"-active"),J===Ce&&!We),"".concat(pt,"-disabled"),We),"".concat(pt,"-selected"),lt)),vt=ce(be),At=!C||typeof C=="function"||lt,ot=typeof vt=="number"?vt:vt||Be,Ve=Cz(ot)?ot.toString():void 0;return qe!==void 0&&(Ve=qe),S.createElement("div",it({},Sc(Ue),R?{}:pe(be,Ce),{"aria-selected":ue(Be),className:mt,title:Ve,onMouseMove:function(){J===Ce||We||re(Ce)},onClick:function(){We||fe(Be)},style:se}),S.createElement("div",{className:"".concat(pt,"-content")},typeof L=="function"?L(be,{index:Ce}):ot),S.isValidElement(C)||lt,At&&S.createElement(cM,{className:"".concat(F,"-option-state"),customizeIcon:C,customizeIconProps:{value:Be,disabled:We,isSelected:lt}},lt?"":null))}))},uTe=S.forwardRef(cTe);const dTe=function(t,e){var n=S.useRef({values:new Map,options:new Map}),r=S.useMemo(function(){var o=n.current,a=o.values,s=o.options,l=t.map(function(d){if(d.label===void 0){var f;return we(we({},d),{},{label:(f=a.get(d.value))===null||f===void 0?void 0:f.label})}return d}),c=new Map,u=new Map;return l.forEach(function(d){c.set(d.value,d),u.set(d.value,e.get(d.value)||s.get(d.value))}),n.current.values=c,n.current.options=u,l},[t,e]),i=S.useCallback(function(o){return e.get(o)||n.current.options.get(o)},[e]);return[r,i]};function x4(t,e){return hte(t).join("").toUpperCase().includes(e)}const fTe=function(t,e,n,r,i){return S.useMemo(function(){if(!n||r===!1)return t;var o=e.options,a=e.label,s=e.value,l=[],c=typeof r=="function",u=n.toUpperCase(),d=c?r:function(h,p){return i?x4(p[i],u):p[o]?x4(p[a!=="children"?a:"label"],u):x4(p[s],u)},f=c?function(h){return ZO(h)}:function(h){return h};return t.forEach(function(h){if(h[o]){var p=d(n,f(h));if(p)l.push(h);else{var x=h[o].filter(function(b){return d(n,f(b))});x.length&&l.push(we(we({},h),{},Se({},o,x)))}return}d(n,f(h))&&l.push(h)}),l},[t,r,i,n,e])};var Tz=0,hTe=Da();function pTe(){var t;return hTe?(t=Tz,Tz+=1):t="TEST_OR_SSR",t}function mTe(t){var e=S.useState(),n=Oe(e,2),r=n[0],i=n[1];return S.useEffect(function(){i("rc_select_".concat(pTe()))},[]),t||r}var gTe=["children","value"],ATe=["children"];function vTe(t){var e=t,n=e.key,r=e.props,i=r.children,o=r.value,a=Qn(r,gTe);return we({key:n,value:o!==void 0?o:n,children:i},a)}function yte(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return bc(t).map(function(n,r){if(!S.isValidElement(n)||!n.type)return null;var i=n,o=i.type.isSelectOptGroup,a=i.key,s=i.props,l=s.children,c=Qn(s,ATe);return e||!o?vTe(n):we(we({key:"__RC_SELECT_GRP__".concat(a===null?r:a,"__"),label:a},c),{},{options:yte(l)})}).filter(function(n){return n})}var yTe=function(e,n,r,i,o){return S.useMemo(function(){var a=e,s=!e;s&&(a=yte(n));var l=new Map,c=new Map,u=function(h,p,x){x&&typeof x=="string"&&h.set(p[x],p)},d=function f(h){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=0;x<h.length;x+=1){var b=h[x];!b[r.options]||p?(l.set(b[r.value],b),u(c,b,r.label),u(c,b,i),u(c,b,o)):f(b[r.options],!0)}};return d(a),{options:a,valueOptions:l,labelOptions:c}},[e,n,r,i,o])};function Ez(t){var e=S.useRef();e.current=t;var n=S.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var bTe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],xTe=["inputValue"];function STe(t){return!t||yn(t)!=="object"}var _Te=S.forwardRef(function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=i===void 0?"rc-select":i,a=t.backfill,s=t.fieldNames,l=t.inputValue,c=t.searchValue,u=t.onSearch,d=t.autoClearSearchValue,f=d===void 0?!0:d,h=t.onSelect,p=t.onDeselect,x=t.dropdownMatchSelectWidth,b=x===void 0?!0:x,y=t.filterOption,_=t.filterSort,C=t.optionFilterProp,E=t.optionLabelProp,M=t.options,R=t.optionRender,N=t.children,O=t.defaultActiveFirstOption,I=t.menuItemSelectedIcon,L=t.virtual,F=t.direction,$=t.listHeight,V=$===void 0?200:$,U=t.listItemHeight,k=U===void 0?20:U,z=t.labelRender,H=t.value,j=t.defaultValue,X=t.labelInValue,Y=t.onChange,J=t.maxCount,ee=Qn(t,bTe),re=mTe(n),ue=JO(r),fe=!!(!M&&N),oe=S.useMemo(function(){return y===void 0&&r==="combobox"?!1:y},[y,r]),ce=S.useMemo(function(){return mte(s,fe)},[JSON.stringify(s),fe]),pe=yi("",{value:c!==void 0?c:l,postState:function(Nt){return Nt||""}}),ye=Oe(pe,2),xe=ye[0],be=ye[1],Ce=yTe(M,N,ce,C,E),Ne=Ce.valueOptions,Ae=Ce.labelOptions,me=Ce.options,de=S.useCallback(function(kt){var Nt=hte(kt);return Nt.map(function(It){var Le,st,gt,ht,m;if(STe(It))Le=It;else{var te;gt=It.key,st=It.label,Le=(te=It.value)!==null&&te!==void 0?te:gt}var on=Ne.get(Le);if(on){var xn;st===void 0&&(st=on==null?void 0:on[E||ce.label]),gt===void 0&&(gt=(xn=on==null?void 0:on.key)!==null&&xn!==void 0?xn:Le),ht=on==null?void 0:on.disabled,m=on==null?void 0:on.title}return{label:st,value:Le,key:gt,disabled:ht,title:m}})},[ce,E,Ne]),Be=yi(j,{value:H}),ne=Oe(Be,2),Je=ne[0],Ye=ne[1],rt=S.useMemo(function(){var kt,Nt=ue&&Je===null?[]:Je,It=de(Nt);return r==="combobox"&&pCe((kt=It[0])===null||kt===void 0?void 0:kt.value)?[]:It},[Je,de,r,ue]),qe=dTe(rt,Ne),se=Oe(qe,2),K=se[0],_e=se[1],Ue=S.useMemo(function(){if(!r&&K.length===1){var kt=K[0];if(kt.value===null&&(kt.label===null||kt.label===void 0))return[]}return K.map(function(Nt){var It;return we(we({},Nt),{},{label:(It=typeof z=="function"?z(Nt):Nt.label)!==null&&It!==void 0?It:Nt.value})})},[r,K,z]),lt=S.useMemo(function(){return new Set(K.map(function(kt){return kt.value}))},[K]);S.useEffect(function(){if(r==="combobox"){var kt,Nt=(kt=K[0])===null||kt===void 0?void 0:kt.value;be(hCe(Nt)?String(Nt):"")}},[K]);var We=Ez(function(kt,Nt){var It=Nt??kt;return Se(Se({},ce.value,kt),ce.label,It)}),pt=S.useMemo(function(){if(r!=="tags")return me;var kt=zt(me),Nt=function(Le){return Ne.has(Le)};return zt(K).sort(function(It,Le){return It.value<Le.value?-1:1}).forEach(function(It){var Le=It.value;Nt(Le)||kt.push(We(Le,It.label))}),kt},[We,me,Ne,K,r]),mt=fTe(pt,ce,xe,oe,C),vt=S.useMemo(function(){return r!=="tags"||!xe||mt.some(function(kt){return kt[C||"value"]===xe})||mt.some(function(kt){return kt[ce.value]===xe})?mt:[We(xe)].concat(zt(mt))},[We,C,r,mt,xe,ce]),At=function kt(Nt){var It=zt(Nt).sort(function(Le,st){return _(Le,st,{searchValue:xe})});return It.map(function(Le){return Array.isArray(Le.options)?we(we({},Le),{},{options:Le.options.length>0?kt(Le.options):Le.options}):Le})},ot=S.useMemo(function(){return _?At(vt):vt},[vt,_,xe]),Ve=S.useMemo(function(){return $Ce(ot,{fieldNames:ce,childrenAsData:fe})},[ot,ce,fe]),at=function(Nt){var It=de(Nt);if(Ye(It),Y&&(It.length!==K.length||It.some(function(gt,ht){var m;return((m=K[ht])===null||m===void 0?void 0:m.value)!==(gt==null?void 0:gt.value)}))){var Le=X?It:It.map(function(gt){return gt.value}),st=It.map(function(gt){return ZO(_e(gt.value))});Y(ue?Le:Le[0],ue?st:st[0])}},tt=S.useState(null),ze=Oe(tt,2),bt=ze[0],Pe=ze[1],Mt=S.useState(0),Ct=Oe(Mt,2),qt=Ct[0],Ge=Ct[1],yt=O!==void 0?O:r!=="combobox",Tt=S.useCallback(function(kt,Nt){var It=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Le=It.source,st=Le===void 0?"keyboard":Le;Ge(Nt),a&&r==="combobox"&&kt!==null&&st==="keyboard"&&Pe(String(kt))},[a,r]),Ut=function(Nt,It,Le){var st=function(){var dr,Sn=_e(Nt);return[X?{label:Sn==null?void 0:Sn[ce.label],value:Nt,key:(dr=Sn==null?void 0:Sn.key)!==null&&dr!==void 0?dr:Nt}:Nt,ZO(Sn)]};if(It&&h){var gt=st(),ht=Oe(gt,2),m=ht[0],te=ht[1];h(m,te)}else if(!It&&p&&Le!=="clear"){var on=st(),xn=Oe(on,2),Gn=xn[0],cn=xn[1];p(Gn,cn)}},mn=Ez(function(kt,Nt){var It,Le=ue?Nt.selected:!0;Le?It=ue?[].concat(zt(K),[kt]):[kt]:It=K.filter(function(st){return st.value!==kt}),at(It),Ut(kt,Le),r==="combobox"?Pe(""):(!JO||f)&&(be(""),Pe(""))}),dn=function(Nt,It){at(Nt);var Le=It.type,st=It.values;(Le==="remove"||Le==="clear")&&st.forEach(function(gt){Ut(gt.value,!1,Le)})},tn=function(Nt,It){if(be(Nt),Pe(null),It.source==="submit"){var Le=(Nt||"").trim();if(Le){var st=Array.from(new Set([].concat(zt(lt),[Le])));at(st),Ut(Le,!0),be("")}return}It.source!=="blur"&&(r==="combobox"&&at(Nt),u==null||u(Nt))},pn=function(Nt){var It=Nt;r!=="tags"&&(It=Nt.map(function(st){var gt=Ae.get(st);return gt==null?void 0:gt.value}).filter(function(st){return st!==void 0}));var Le=Array.from(new Set([].concat(zt(lt),zt(It))));at(Le),Le.forEach(function(st){Ut(st,!0)})},fn=S.useMemo(function(){var kt=L!==!1&&b!==!1;return we(we({},Ce),{},{flattenOptions:Ve,onActiveValue:Tt,defaultActiveFirstOption:yt,onSelect:mn,menuItemSelectedIcon:I,rawValues:lt,fieldNames:ce,virtual:kt,direction:F,listHeight:V,listItemHeight:k,childrenAsData:fe,maxCount:J,optionRender:R})},[J,Ce,Ve,Tt,yt,mn,I,lt,ce,L,b,F,V,k,fe,R]);return S.createElement(eB.Provider,{value:fn},S.createElement(GCe,it({},ee,{id:re,prefixCls:o,ref:e,omitDomProps:xTe,mode:r,displayValues:Ue,onDisplayValuesChange:dn,direction:F,searchValue:xe,onSearch:tn,autoClearSearchValue:f,onSearchSplit:pn,dropdownMatchSelectWidth:b,OptionList:uTe,emptyOptions:!Ve.length,activeValue:bt,activeDescendantId:"".concat(re,"_list_").concat(qt)})))}),rB=_Te;rB.Option=nB;rB.OptGroup=tB;function HA(t,e,n){return ke({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const Zv=(t,e)=>e||t,wTe=()=>{const[,t]=cl(),[e]=Vl("Empty"),r=new Kr(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return S.createElement("svg",{style:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},S.createElement("title",null,(e==null?void 0:e.description)||"Empty"),S.createElement("g",{fill:"none",fillRule:"evenodd"},S.createElement("g",{transform:"translate(24 31.67)"},S.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),S.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),S.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),S.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),S.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),S.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),S.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},S.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),S.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},CTe=wTe,TTe=()=>{const[,t]=cl(),[e]=Vl("Empty"),{colorFill:n,colorFillTertiary:r,colorFillQuaternary:i,colorBgContainer:o}=t,{borderColor:a,shadowColor:s,contentColor:l}=S.useMemo(()=>({borderColor:new Kr(n).onBackground(o).toHexString(),shadowColor:new Kr(r).onBackground(o).toHexString(),contentColor:new Kr(i).onBackground(o).toHexString()}),[n,r,i,o]);return S.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},S.createElement("title",null,(e==null?void 0:e.description)||"Empty"),S.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},S.createElement("ellipse",{fill:s,cx:"32",cy:"33",rx:"32",ry:"7"}),S.createElement("g",{fillRule:"nonzero",stroke:a},S.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),S.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},ETe=TTe,MTe=t=>{const{componentCls:e,margin:n,marginXS:r,marginXL:i,fontSize:o,lineHeight:a}=t;return{[e]:{marginInline:r,fontSize:o,lineHeight:a,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:r,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:t.colorTextDescription},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:t.colorTextDescription,[`${e}-description`]:{color:t.colorTextDescription},[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:r,color:t.colorTextDescription,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},RTe=di("Empty",t=>{const{componentCls:e,controlHeightLG:n,calc:r}=t,i=Fr(t,{emptyImgCls:`${e}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return MTe(i)});var PTe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const bte=S.createElement(CTe,null),xte=S.createElement(ETe,null),iB=t=>{var e;const{className:n,rootClassName:r,prefixCls:i,image:o,description:a,children:s,imageStyle:l,style:c,classNames:u,styles:d}=t,f=PTe(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:h,direction:p,className:x,style:b,classNames:y,styles:_,image:C}=fa("empty"),E=h("empty",i),[M,R,N]=RTe(E),[O]=Vl("Empty"),I=typeof a<"u"?a:O==null?void 0:O.description,L=typeof I=="string"?I:"empty",F=(e=o??C)!==null&&e!==void 0?e:bte;let $=null;return typeof F=="string"?$=S.createElement("img",{draggable:!1,alt:L,src:F}):$=F,M(S.createElement("div",Object.assign({className:ke(R,N,E,x,{[`${E}-normal`]:F===xte,[`${E}-rtl`]:p==="rtl"},n,r,y.root,u==null?void 0:u.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},_.root),b),d==null?void 0:d.root),c)},f),S.createElement("div",{className:ke(`${E}-image`,y.image,u==null?void 0:u.image),style:Object.assign(Object.assign(Object.assign({},l),_.image),d==null?void 0:d.image)},$),I&&S.createElement("div",{className:ke(`${E}-description`,y.description,u==null?void 0:u.description),style:Object.assign(Object.assign({},_.description),d==null?void 0:d.description)},I),s&&S.createElement("div",{className:ke(`${E}-footer`,y.footer,u==null?void 0:u.footer),style:Object.assign(Object.assign({},_.footer),d==null?void 0:d.footer)},s)))};iB.PRESENTED_IMAGE_DEFAULT=bte;iB.PRESENTED_IMAGE_SIMPLE=xte;const Wy=iB,NTe=t=>{const{componentName:e}=t,{getPrefixCls:n}=S.useContext(Kn),r=n("empty");switch(e){case"Table":case"List":return je.createElement(Wy,{image:Wy.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return je.createElement(Wy,{image:Wy.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});case"Table.filter":return null;default:return je.createElement(Wy,null)}},Ste=NTe,ITe=(t,e,n)=>{var r,i;const{variant:o,[t]:a}=S.useContext(Kn),s=S.useContext(Vee),l=a==null?void 0:a.variant;let c;typeof e<"u"?c=e:n===!1?c="borderless":c=(i=(r=s??l)!==null&&r!==void 0?r:o)!==null&&i!==void 0?i:"outlined";const u=x1e.includes(c);return[c,u]},Jv=ITe,DTe=t=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:t==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function OTe(t,e){return t||DTe(e)}const Mz=t=>{const{optionHeight:e,optionFontSize:n,optionLineHeight:r,optionPadding:i}=t;return{position:"relative",display:"block",minHeight:e,padding:i,color:t.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},LTe=t=>{const{antCls:e,componentCls:n}=t,r=`${n}-item`,i=`&${e}-slide-up-enter${e}-slide-up-enter-active`,o=`&${e}-slide-up-appear${e}-slide-up-appear-active`,a=`&${e}-slide-up-leave${e}-slide-up-leave-active`,s=`${n}-dropdown-placement-`,l=`${r}-option-selected`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},Ji(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
          ${i}${s}bottomLeft,
          ${o}${s}bottomLeft
        `]:{animationName:FL},[`
          ${i}${s}topLeft,
          ${o}${s}topLeft,
          ${i}${s}topRight,
          ${o}${s}topRight
        `]:{animationName:UL},[`${a}${s}bottomLeft`]:{animationName:$L},[`
          ${a}${s}topLeft,
          ${a}${s}topRight
        `]:{animationName:kL},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},Mz(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Wh),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:t.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,[`${r}-option-state`]:{color:t.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.calc(t.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},Mz(t)),{color:t.colorTextDisabled})}),[`${l}:has(+ ${l})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${l}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},GA(t,"slide-up"),GA(t,"slide-down"),OT(t,"move-up"),OT(t,"move-down")]},BTe=LTe,_te=t=>{const{multipleSelectItemHeight:e,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:i}=t,o=t.max(t.calc(n).sub(r).equal(),0),a=t.max(t.calc(o).sub(i).equal(),0);return{basePadding:o,containerPadding:a,itemHeight:Re(e),itemLineHeight:Re(t.calc(e).sub(t.calc(t.lineWidth).mul(2)).equal())}},FTe=t=>{const{multipleSelectItemHeight:e,selectHeight:n,lineWidth:r}=t;return t.calc(n).sub(e).div(2).sub(r).equal()},wte=t=>{const{componentCls:e,iconCls:n,borderRadiusSM:r,motionDurationSlow:i,paddingXS:o,multipleItemColorDisabled:a,multipleItemBorderColorDisabled:s,colorIcon:l,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:u}=t;return{[`${e}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"calc(100% - 4px)",display:"inline-flex"},[`${e}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:u,borderRadius:r,cursor:"default",transition:`font-size ${i}, line-height ${i}, height ${i}`,marginInlineEnd:t.calc(u).mul(2).equal(),paddingInlineStart:o,paddingInlineEnd:t.calc(o).div(2).equal(),[`${e}-disabled&`]:{color:a,borderColor:s,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.calc(o).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},j3()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},$Te=(t,e)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=t,i=`${n}-selection-overflow`,o=t.multipleSelectItemHeight,a=FTe(t),s=e?`${n}-${e}`:"",l=_te(t);return{[`${n}-multiple${s}`]:Object.assign(Object.assign({},wte(t)),{[`${n}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:t.borderRadius,[`${n}-disabled&`]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Re(r)} 0`,lineHeight:Re(o),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:l.itemHeight,lineHeight:Re(l.itemLineHeight)},[`${n}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:Re(o),marginBlock:r}},[`${n}-prefix`]:{marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(l.basePadding).equal()},[`${i}-item + ${i}-item,
        ${n}-prefix + ${n}-selection-wrap
      `]:{[`${n}-selection-search`]:{marginInlineStart:0},[`${n}-selection-placeholder`]:{insetInlineStart:0}},[`${i}-item-suffix`]:{minHeight:l.itemHeight,marginBlock:r},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(a).equal(),"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:t.fontFamily,lineHeight:Re(o),transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(l.basePadding).equal(),insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}})}};function S4(t,e){const{componentCls:n}=t,r=e?`${n}-${e}`:"",i={[`${n}-multiple${r}`]:{fontSize:t.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.calc(t.fontSizeIcon).add(t.controlPaddingHorizontal).equal()}}};return[$Te(t,e),i]}const UTe=t=>{const{componentCls:e}=t,n=Fr(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),r=Fr(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius});return[S4(t),S4(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},S4(r,"lg")]};function _4(t,e){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=t,o=t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),a=e?`${n}-${e}`:"";return{[`${n}-single${a}`]:{fontSize:t.fontSize,height:t.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},Ji(t,!0)),{display:"flex",borderRadius:i,flex:"1 1 auto",[`${n}-selection-wrap:after`]:{lineHeight:Re(o)},[`${n}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:Re(o),transition:`all ${t.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-search,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:t.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${Re(r)}`,[`${n}-selection-search-input`]:{height:o,fontSize:t.fontSize},"&:after":{lineHeight:Re(o)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${Re(r)}`,"&:after":{display:"none"}}}}}}}function kTe(t){const{componentCls:e}=t,n=t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal();return[_4(t),_4(Fr(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selector`]:{padding:`0 ${Re(n)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:t.calc(n).add(t.calc(t.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.calc(t.fontSize).mul(1.5).equal()}}}},_4(Fr(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const VTe=t=>{const{fontSize:e,lineHeight:n,lineWidth:r,controlHeight:i,controlHeightSM:o,controlHeightLG:a,paddingXXS:s,controlPaddingHorizontal:l,zIndexPopupBase:c,colorText:u,fontWeightStrong:d,controlItemBgActive:f,controlItemBgHover:h,colorBgContainer:p,colorFillSecondary:x,colorBgContainerDisabled:b,colorTextDisabled:y,colorPrimaryHover:_,colorPrimary:C,controlOutline:E}=t,M=s*2,R=r*2,N=Math.min(i-M,i-R),O=Math.min(o-M,o-R),I=Math.min(a-M,a-R);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(s/2),zIndexPopup:c+50,optionSelectedColor:u,optionSelectedFontWeight:d,optionSelectedBg:f,optionActiveBg:h,optionPadding:`${(i-e*n)/2}px ${l}px`,optionFontSize:e,optionLineHeight:n,optionHeight:i,selectorBg:p,clearBg:p,singleItemHeightLG:a,multipleItemBg:x,multipleItemBorderColor:"transparent",multipleItemHeight:N,multipleItemHeightSM:O,multipleItemHeightLG:I,multipleSelectorBgDisabled:b,multipleItemColorDisabled:y,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(t.fontSize*1.25),hoverBorderColor:_,activeBorderColor:C,activeOutlineColor:E,selectAffixPadding:s}},Cte=(t,e)=>{const{componentCls:n,antCls:r,controlOutlineWidth:i}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${Re(t.lineWidth)} ${t.lineType} ${e.borderColor}`,background:t.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:e.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:e.activeBorderColor,boxShadow:`0 0 0 ${Re(i)} ${e.activeOutlineColor}`,outline:0},[`${n}-prefix`]:{color:e.color}}}},Rz=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},Cte(t,e))}),zTe=t=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},Cte(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor,color:t.colorText})),Rz(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline,color:t.colorError})),Rz(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${Re(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),Tte=(t,e)=>{const{componentCls:n,antCls:r}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:e.bg,border:`${Re(t.lineWidth)} ${t.lineType} transparent`,color:e.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:e.hoverBg},[`${n}-focused& ${n}-selector`]:{background:t.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},Pz=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},Tte(t,e))}),GTe=t=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},Tte(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor,color:t.colorText})),Pz(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,color:t.colorError})),Pz(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{borderColor:t.colorBorder,background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.colorBgContainer,border:`${Re(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}})}),HTe=t=>({"&-borderless":{[`${t.componentCls}-selector`]:{background:"transparent",border:`${Re(t.lineWidth)} ${t.lineType} transparent`},[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${Re(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`},[`&${t.componentCls}-status-error`]:{[`${t.componentCls}-prefix, ${t.componentCls}-selection-item`]:{color:t.colorError}},[`&${t.componentCls}-status-warning`]:{[`${t.componentCls}-prefix, ${t.componentCls}-selection-item`]:{color:t.colorWarning}}}}),Ete=(t,e)=>{const{componentCls:n,antCls:r}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{borderWidth:`${Re(t.lineWidth)} 0`,borderStyle:`${t.lineType} none`,borderColor:`transparent transparent ${e.borderColor} transparent`,background:t.selectorBg,borderRadius:0},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:`transparent transparent ${e.hoverBorderHover} transparent`},[`${n}-focused& ${n}-selector`]:{borderColor:`transparent transparent ${e.activeBorderColor} transparent`,outline:0},[`${n}-prefix`]:{color:e.color}}}},Nz=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},Ete(t,e))}),jTe=t=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},Ete(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor,color:t.colorText})),Nz(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline,color:t.colorError})),Nz(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${Re(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),qTe=t=>({[t.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},zTe(t)),GTe(t)),HTe(t)),jTe(t))}),WTe=qTe,XTe=t=>{const{componentCls:e}=t;return{position:"relative",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},YTe=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none",appearance:"none"}}}},KTe=t=>{const{antCls:e,componentCls:n,inputPaddingHorizontalBase:r,iconCls:i}=t,o={[`${n}-clear`]:{opacity:1,background:t.colorBgBase,borderRadius:"50%"}};return{[n]:Object.assign(Object.assign({},Ji(t)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},XTe(t)),YTe(t)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Wh),{[`> ${e}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},Wh),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},j3()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${t.motionDurationSlow} ease`,[i]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${n}-prefix`]:{flex:"none",marginInlineEnd:t.selectAffixPadding},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto",transform:"translateZ(0)","&:before":{display:"block"},"&:hover":{color:t.colorIcon}},"@media(hover:none)":o,"&:hover":o}),[`${n}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:t.calc(r).add(t.fontSize).add(t.paddingXS).equal()}}}}}},QTe=t=>{const{componentCls:e}=t;return[{[e]:{[`&${e}-in-form-item`]:{width:"100%"}}},KTe(t),kTe(t),UTe(t),BTe(t),{[`${e}-rtl`]:{direction:"rtl"}},aM(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},ZTe=di("Select",(t,{rootPrefixCls:e})=>{const n=Fr(t,{rootPrefixCls:e,inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[QTe(n),WTe(n)]},VTe,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var JTe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const eEe=JTe;var tEe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:eEe}))},nEe=S.forwardRef(tEe);const uM=nEe;var rEe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const iEe=rEe;var oEe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:iEe}))},aEe=S.forwardRef(oEe);const sEe=aEe;var lEe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const cEe=lEe;var uEe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:cEe}))},dEe=S.forwardRef(uEe);const Mte=dEe;function Rte({suffixIcon:t,clearIcon:e,menuItemSelectedIcon:n,removeIcon:r,loading:i,multiple:o,hasFeedback:a,prefixCls:s,showSuffixIcon:l,feedbackIcon:c,showArrow:u,componentName:d}){const f=e??S.createElement(_2,null),h=y=>t===null&&!a&&!u?null:S.createElement(S.Fragment,null,l!==!1&&y,a&&c);let p=null;if(t!==void 0)p=h(t);else if(i)p=h(S.createElement(Q3,{spin:!0}));else{const y=`${s}-suffix`;p=({open:_,showSearch:C})=>h(_&&C?S.createElement(Mte,{className:y}):S.createElement(sEe,{className:y}))}let x=null;n!==void 0?x=n:o?x=S.createElement(uM,null):x=null;let b=null;return r!==void 0?b=r:b=S.createElement(f0,null),{clearIcon:f,suffixIcon:p,itemIcon:x,removeIcon:b}}function fEe(t){return je.useMemo(()=>{if(t)return(...e)=>je.createElement(Hm,{space:!0},t.apply(void 0,e))},[t])}function hEe(t,e){return e!==void 0?e:t!==null}var pEe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Pte="SECRET_COMBOBOX_MODE_DO_NOT_USE",mEe=(t,e)=>{var n,r,i,o,a;const{prefixCls:s,bordered:l,className:c,rootClassName:u,getPopupContainer:d,popupClassName:f,dropdownClassName:h,listHeight:p=256,placement:x,listItemHeight:b,size:y,disabled:_,notFoundContent:C,status:E,builtinPlacements:M,dropdownMatchSelectWidth:R,popupMatchSelectWidth:N,direction:O,style:I,allowClear:L,variant:F,dropdownStyle:$,transitionName:V,tagRender:U,maxCount:k,prefix:z,dropdownRender:H,popupRender:j,onDropdownVisibleChange:X,onOpenChange:Y,styles:J,classNames:ee}=t,re=pEe(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix","dropdownRender","popupRender","onDropdownVisibleChange","onOpenChange","styles","classNames"]),{getPopupContainer:ue,getPrefixCls:fe,renderEmpty:oe,direction:ce,virtual:pe,popupMatchSelectWidth:ye,popupOverflow:xe}=S.useContext(Kn),{showSearch:be,style:Ce,styles:Ne,className:Ae,classNames:me}=fa("select"),[,de]=cl(),Be=b??(de==null?void 0:de.controlHeight),ne=fe("select",s),Je=fe(),Ye=O??ce,{compactSize:rt,compactItemClassnames:qe}=p0(ne,Ye),[se,K]=Jv("select",F,l),_e=bu(ne),[Ue,lt,We]=ZTe(ne,_e),pt=S.useMemo(()=>{const{mode:Le}=t;if(Le!=="combobox")return Le===Pte?"combobox":Le},[t.mode]),mt=pt==="multiple"||pt==="tags",vt=hEe(t.suffixIcon,t.showArrow),At=(n=N??R)!==null&&n!==void 0?n:ye,ot=((r=J==null?void 0:J.popup)===null||r===void 0?void 0:r.root)||((i=Ne.popup)===null||i===void 0?void 0:i.root)||$,Ve=fEe(j||H),at=Y||X,{status:tt,hasFeedback:ze,isFormItemInput:bt,feedbackIcon:Pe}=S.useContext(Ns),Mt=Zv(tt,E);let Ct;C!==void 0?Ct=C:pt==="combobox"?Ct=null:Ct=(oe==null?void 0:oe("Select"))||S.createElement(Ste,{componentName:"Select"});const{suffixIcon:qt,itemIcon:Ge,removeIcon:yt,clearIcon:Tt}=Rte(Object.assign(Object.assign({},re),{multiple:mt,hasFeedback:ze,feedbackIcon:Pe,showSuffixIcon:vt,prefixCls:ne,componentName:"Select"})),Ut=L===!0?{clearIcon:Tt}:L,mn=go(re,["suffixIcon","itemIcon"]),dn=ke(((o=ee==null?void 0:ee.popup)===null||o===void 0?void 0:o.root)||((a=me==null?void 0:me.popup)===null||a===void 0?void 0:a.root)||f||h,{[`${ne}-dropdown-${Ye}`]:Ye==="rtl"},u,me.root,ee==null?void 0:ee.root,We,_e,lt),tn=Os(Le=>{var st;return(st=y??rt)!==null&&st!==void 0?st:Le}),pn=S.useContext(wf),fn=_??pn,kt=ke({[`${ne}-lg`]:tn==="large",[`${ne}-sm`]:tn==="small",[`${ne}-rtl`]:Ye==="rtl",[`${ne}-${se}`]:K,[`${ne}-in-form-item`]:bt},HA(ne,Mt,ze),qe,Ae,c,me.root,ee==null?void 0:ee.root,u,We,_e,lt),Nt=S.useMemo(()=>x!==void 0?x:Ye==="rtl"?"bottomRight":"bottomLeft",[x,Ye]),[It]=w2("SelectLike",ot==null?void 0:ot.zIndex);return Ue(S.createElement(rB,Object.assign({ref:e,virtual:pe,showSearch:be},mn,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Ne.root),J==null?void 0:J.root),Ce),I),dropdownMatchSelectWidth:At,transitionName:Xh(Je,"slide-up",V),builtinPlacements:OTe(M,xe),listHeight:p,listItemHeight:Be,mode:pt,prefixCls:ne,placement:Nt,direction:Ye,prefix:z,suffixIcon:qt,menuItemSelectedIcon:Ge,removeIcon:yt,allowClear:Ut,notFoundContent:Ct,className:kt,getPopupContainer:d||ue,dropdownClassName:dn,disabled:fn,dropdownStyle:Object.assign(Object.assign({},ot),{zIndex:It}),maxCount:mt?k:void 0,tagRender:mt?U:void 0,dropdownRender:Ve,onDropdownVisibleChange:at})))},ey=S.forwardRef(mEe),gEe=ZL(ey,"dropdownAlign");ey.SECRET_COMBOBOX_MODE_DO_NOT_USE=Pte;ey.Option=nB;ey.OptGroup=tB;ey._InternalPanelDoNotUseOrYouWillBeFired=gEe;const AEe=ey,Nte=(t,e)=>{typeof(t==null?void 0:t.addEventListener)<"u"?t.addEventListener("change",e):typeof(t==null?void 0:t.addListener)<"u"&&t.addListener(e)},Ite=(t,e)=>{typeof(t==null?void 0:t.removeEventListener)<"u"?t.removeEventListener("change",e):typeof(t==null?void 0:t.removeListener)<"u"&&t.removeListener(e)},jm=["xxl","xl","lg","md","sm","xs"],vEe=t=>({xs:`(max-width: ${t.screenXSMax}px)`,sm:`(min-width: ${t.screenSM}px)`,md:`(min-width: ${t.screenMD}px)`,lg:`(min-width: ${t.screenLG}px)`,xl:`(min-width: ${t.screenXL}px)`,xxl:`(min-width: ${t.screenXXL}px)`}),yEe=t=>{const e=t,n=[].concat(jm).reverse();return n.forEach((r,i)=>{const o=r.toUpperCase(),a=`screen${o}Min`,s=`screen${o}`;if(!(e[a]<=e[s]))throw new Error(`${a}<=${s} fails : !(${e[a]}<=${e[s]})`);if(i<n.length-1){const l=`screen${o}Max`;if(!(e[s]<=e[l]))throw new Error(`${s}<=${l} fails : !(${e[s]}<=${e[l]})`);const u=`screen${n[i+1].toUpperCase()}Min`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`)}}),t},bEe=()=>{const[,t]=cl(),e=vEe(yEe(t));return je.useMemo(()=>{const n=new Map;let r=-1,i={};return{responsiveMap:e,matchHandlers:{},dispatch(o){return i=o,n.forEach(a=>a(i)),n.size>=1},subscribe(o){return n.size||this.register(),r+=1,n.set(r,o),o(i),r},unsubscribe(o){n.delete(o),n.size||this.unregister()},register(){Object.entries(e).forEach(([o,a])=>{const s=({matches:c})=>{this.dispatch(Object.assign(Object.assign({},i),{[o]:c}))},l=window.matchMedia(a);Nte(l,s),this.matchHandlers[a]={mql:l,listener:s},s(l)})},unregister(){Object.values(e).forEach(o=>{const a=this.matchHandlers[o];Ite(a==null?void 0:a.mql,a==null?void 0:a.listener)}),n.clear()}}},[e])};function dM(t=!0,e={}){const n=S.useRef(e),[,r]=Sxe(),i=bEe();return wr(()=>{const o=i.subscribe(a=>{n.current=a,t&&r()});return()=>i.unsubscribe(o)},[]),n.current}const jA=t=>t?typeof t=="function"?t():t:null;function oB(t){var e=t.children,n=t.prefixCls,r=t.id,i=t.overlayInnerStyle,o=t.bodyClassName,a=t.className,s=t.style;return S.createElement("div",{className:ke("".concat(n,"-content"),a),style:s},S.createElement("div",{className:ke("".concat(n,"-inner"),o),id:r,role:"tooltip",style:i},typeof e=="function"?e():e))}var G0={shiftX:64,adjustY:1},H0={adjustX:1,shiftY:!0},Yl=[0,0],xEe={left:{points:["cr","cl"],overflow:H0,offset:[-4,0],targetOffset:Yl},right:{points:["cl","cr"],overflow:H0,offset:[4,0],targetOffset:Yl},top:{points:["bc","tc"],overflow:G0,offset:[0,-4],targetOffset:Yl},bottom:{points:["tc","bc"],overflow:G0,offset:[0,4],targetOffset:Yl},topLeft:{points:["bl","tl"],overflow:G0,offset:[0,-4],targetOffset:Yl},leftTop:{points:["tr","tl"],overflow:H0,offset:[-4,0],targetOffset:Yl},topRight:{points:["br","tr"],overflow:G0,offset:[0,-4],targetOffset:Yl},rightTop:{points:["tl","tr"],overflow:H0,offset:[4,0],targetOffset:Yl},bottomRight:{points:["tr","br"],overflow:G0,offset:[0,4],targetOffset:Yl},rightBottom:{points:["bl","br"],overflow:H0,offset:[4,0],targetOffset:Yl},bottomLeft:{points:["tl","bl"],overflow:G0,offset:[0,4],targetOffset:Yl},leftBottom:{points:["br","bl"],overflow:H0,offset:[-4,0],targetOffset:Yl}},SEe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],_Ee=function(e,n){var r=e.overlayClassName,i=e.trigger,o=i===void 0?["hover"]:i,a=e.mouseEnterDelay,s=a===void 0?0:a,l=e.mouseLeaveDelay,c=l===void 0?.1:l,u=e.overlayStyle,d=e.prefixCls,f=d===void 0?"rc-tooltip":d,h=e.children,p=e.onVisibleChange,x=e.afterVisibleChange,b=e.transitionName,y=e.animation,_=e.motion,C=e.placement,E=C===void 0?"right":C,M=e.align,R=M===void 0?{}:M,N=e.destroyTooltipOnHide,O=N===void 0?!1:N,I=e.defaultVisible,L=e.getTooltipContainer,F=e.overlayInnerStyle;e.arrowContent;var $=e.overlay,V=e.id,U=e.showArrow,k=U===void 0?!0:U,z=e.classNames,H=e.styles,j=Qn(e,SEe),X=WL(V),Y=S.useRef(null);S.useImperativeHandle(n,function(){return Y.current});var J=we({},j);"visible"in e&&(J.popupVisible=e.visible);var ee=function(){return S.createElement(oB,{key:"content",prefixCls:f,id:X,bodyClassName:z==null?void 0:z.body,overlayInnerStyle:we(we({},F),H==null?void 0:H.body)},$)},re=function(){var fe=S.Children.only(h),oe=(fe==null?void 0:fe.props)||{},ce=we(we({},oe),{},{"aria-describedby":$?X:null});return S.cloneElement(h,ce)};return S.createElement(N2,it({popupClassName:ke(r,z==null?void 0:z.root),prefixCls:f,popup:ee,action:o,builtinPlacements:xEe,popupPlacement:E,ref:Y,popupAlign:R,getPopupContainer:L,onPopupVisibleChange:p,afterPopupVisibleChange:x,popupTransitionName:b,popupAnimation:y,popupMotion:_,defaultPopupVisible:I,autoDestroy:O,mouseLeaveDelay:c,popupStyle:we(we({},u),H==null?void 0:H.root),mouseEnterDelay:s,arrow:k},J),re())};const wEe=S.forwardRef(_Ee);function aB(t){const{sizePopupArrow:e,borderRadiusXS:n,borderRadiusOuter:r}=t,i=e/2,o=0,a=i,s=r*1/Math.sqrt(2),l=i-r*(1-1/Math.sqrt(2)),c=i-n*(1/Math.sqrt(2)),u=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),d=2*i-c,f=u,h=2*i-s,p=l,x=2*i-o,b=a,y=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),_=r*(Math.sqrt(2)-1),C=`polygon(${_}px 100%, 50% ${_}px, ${2*i-_}px 100%, ${_}px 100%)`,E=`path('M ${o} ${a} A ${r} ${r} 0 0 0 ${s} ${l} L ${c} ${u} A ${n} ${n} 0 0 1 ${d} ${f} L ${h} ${p} A ${r} ${r} 0 0 0 ${x} ${b} Z')`;return{arrowShadowWidth:y,arrowPath:E,arrowPolygon:C}}const Dte=(t,e,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:o,arrowShadowWidth:a,borderRadiusXS:s,calc:l}=t;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[i,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Re(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},Ote=8;function sB(t){const{contentRadius:e,limitVerticalRadius:n}=t,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?Ote:r}}function l_(t,e){return t?e:{}}function Lte(t,e,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:o,arrowOffsetHorizontal:a}=t,{arrowDistance:s=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Dte(t,e,i)),{"&:before":{background:e}})]},l_(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":a,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Re(a)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),l_(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":a,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Re(a)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),l_(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),l_(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}function CEe(t,e,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},o={};switch(t){case"top":case"bottom":o.shiftX=e.arrowOffsetHorizontal*2+n,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=e.arrowOffsetVertical*2+n,o.shiftX=!0,o.adjustX=!0;break}const a=Object.assign(Object.assign({},o),i);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}const Iz={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},TEe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},EEe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function MEe(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o,visibleFirst:a}=t,s=e/2,l={},c=sB({contentRadius:o,limitVerticalRadius:!0});return Object.keys(Iz).forEach(u=>{const d=r&&TEe[u]||Iz[u],f=Object.assign(Object.assign({},d),{offset:[0,0],dynamicInset:!0});switch(l[u]=f,EEe.has(u)&&(f.autoArrow=!1),u){case"top":case"topLeft":case"topRight":f.offset[1]=-s-i;break;case"bottom":case"bottomLeft":case"bottomRight":f.offset[1]=s+i;break;case"left":case"leftTop":case"leftBottom":f.offset[0]=-s-i;break;case"right":case"rightTop":case"rightBottom":f.offset[0]=s+i;break}if(r)switch(u){case"topLeft":case"bottomLeft":f.offset[0]=-c.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":f.offset[0]=c.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":f.offset[1]=-c.arrowOffsetHorizontal*2+s;break;case"leftBottom":case"rightBottom":f.offset[1]=c.arrowOffsetHorizontal*2-s;break}f.overflow=CEe(u,c,e,n),a&&(f.htmlRegion="visibleFirst")}),l}const REe=t=>{const{calc:e,componentCls:n,tooltipMaxWidth:r,tooltipColor:i,tooltipBg:o,tooltipBorderRadius:a,zIndexPopup:s,controlHeight:l,boxShadowSecondary:c,paddingSM:u,paddingXS:d,arrowOffsetHorizontal:f,sizePopupArrow:h}=t,p=e(a).add(h).add(f).equal(),x=e(a).mul(2).add(h).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ji(t)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${n}-inner`]:{minWidth:x,minHeight:l,padding:`${Re(t.calc(u).div(2).equal())} ${Re(d)}`,color:`var(--ant-tooltip-color, ${i})`,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:a,boxShadow:c,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:p},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:t.min(a,Ote)}},[`${n}-content`]:{position:"relative"}}),q3(t,(b,{darkColor:y})=>({[`&${n}-${b}`]:{[`${n}-inner`]:{backgroundColor:y},[`${n}-arrow`]:{"--antd-arrow-background-color":y}}}))),{"&-rtl":{direction:"rtl"}})},Lte(t,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},PEe=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70},sB({contentRadius:t.borderRadius,limitVerticalRadius:!0})),aB(Fr(t,{borderRadiusOuter:Math.min(t.borderRadiusOuter,4)}))),Bte=(t,e=!0)=>di("Tooltip",r=>{const{borderRadius:i,colorTextLightSolid:o,colorBgSpotlight:a}=r,s=Fr(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:a});return[REe(s),zL(r,"zoom-big-fast")]},PEe,{resetStyle:!1,injectStyle:e})(t),NEe=qh.map(t=>`${t}-inverse`),IEe=["success","processing","error","default","warning"];function fM(t,e=!0){return e?[].concat(zt(NEe),zt(qh)).includes(t):qh.includes(t)}function DEe(t){return IEe.includes(t)}function Fte(t,e){const n=fM(e),r=ke({[`${t}-${e}`]:e&&n}),i={},o={},a=eSe(e).toRgb(),l=(.299*a.r+.587*a.g+.114*a.b)/255<.5?"#FFF":"#000";return e&&!n&&(i.background=e,i["--ant-tooltip-color"]=l,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:o}}const OEe=t=>{const{prefixCls:e,className:n,placement:r="top",title:i,color:o,overlayInnerStyle:a}=t,{getPrefixCls:s}=S.useContext(Kn),l=s("tooltip",e),[c,u,d]=Bte(l),f=Fte(l,o),h=f.arrowStyle,p=Object.assign(Object.assign({},a),f.overlayStyle),x=ke(u,d,l,`${l}-pure`,`${l}-placement-${r}`,n,f.className);return c(S.createElement("div",{className:x,style:h},S.createElement("div",{className:`${l}-arrow`}),S.createElement(oB,Object.assign({},t,{className:u,prefixCls:l,overlayInnerStyle:p}),i)))},LEe=OEe;var BEe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const FEe=S.forwardRef((t,e)=>{var n,r;const{prefixCls:i,openClassName:o,getTooltipContainer:a,color:s,overlayInnerStyle:l,children:c,afterOpenChange:u,afterVisibleChange:d,destroyTooltipOnHide:f,destroyOnHidden:h,arrow:p=!0,title:x,overlay:b,builtinPlacements:y,arrowPointAtCenter:_=!1,autoAdjustOverflow:C=!0,motion:E,getPopupContainer:M,placement:R="top",mouseEnterDelay:N=.1,mouseLeaveDelay:O=.1,overlayStyle:I,rootClassName:L,overlayClassName:F,styles:$,classNames:V}=t,U=BEe(t,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","destroyOnHidden","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),k=!!p,[,z]=cl(),{getPopupContainer:H,getPrefixCls:j,direction:X,className:Y,style:J,classNames:ee,styles:re}=fa("tooltip"),ue=ML(),fe=S.useRef(null),oe=()=>{var vt;(vt=fe.current)===null||vt===void 0||vt.forceAlign()};S.useImperativeHandle(e,()=>{var vt,At;return{forceAlign:oe,forcePopupAlign:()=>{ue.deprecated(!1,"forcePopupAlign","forceAlign"),oe()},nativeElement:(vt=fe.current)===null||vt===void 0?void 0:vt.nativeElement,popupElement:(At=fe.current)===null||At===void 0?void 0:At.popupElement}});const[ce,pe]=yi(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),ye=!x&&!b&&x!==0,xe=vt=>{var At,ot;pe(ye?!1:vt),ye||((At=t.onOpenChange)===null||At===void 0||At.call(t,vt),(ot=t.onVisibleChange)===null||ot===void 0||ot.call(t,vt))},be=S.useMemo(()=>{var vt,At;let ot=_;return typeof p=="object"&&(ot=(At=(vt=p.pointAtCenter)!==null&&vt!==void 0?vt:p.arrowPointAtCenter)!==null&&At!==void 0?At:_),y||MEe({arrowPointAtCenter:ot,autoAdjustOverflow:C,arrowWidth:k?z.sizePopupArrow:0,borderRadius:z.borderRadius,offset:z.marginXXS,visibleFirst:!0})},[_,p,y,z]),Ce=S.useMemo(()=>x===0?x:b||x||"",[b,x]),Ne=S.createElement(Hm,{space:!0},typeof Ce=="function"?Ce():Ce),Ae=j("tooltip",i),me=j(),de=t["data-popover-inject"];let Be=ce;!("open"in t)&&!("visible"in t)&&ye&&(Be=!1);const ne=S.isValidElement(c)&&!cee(c)?c:S.createElement("span",null,c),Je=ne.props,Ye=!Je.className||typeof Je.className=="string"?ke(Je.className,o||`${Ae}-open`):Je.className,[rt,qe,se]=Bte(Ae,!de),K=Fte(Ae,s),_e=K.arrowStyle,Ue=ke(F,{[`${Ae}-rtl`]:X==="rtl"},K.className,L,qe,se,Y,ee.root,V==null?void 0:V.root),lt=ke(ee.body,V==null?void 0:V.body),[We,pt]=w2("Tooltip",U.zIndex),mt=S.createElement(wEe,Object.assign({},U,{zIndex:We,showArrow:k,placement:R,mouseEnterDelay:N,mouseLeaveDelay:O,prefixCls:Ae,classNames:{root:Ue,body:lt},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_e),re.root),J),I),$==null?void 0:$.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},re.body),l),$==null?void 0:$.body),K.overlayStyle)},getTooltipContainer:M||a||H,ref:fe,builtinPlacements:be,overlay:Ne,visible:Be,onVisibleChange:xe,afterVisibleChange:u??d,arrowContent:S.createElement("span",{className:`${Ae}-arrow-content`}),motion:{motionName:Xh(me,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:h??!!f}),Be?_c(ne,{className:Ye}):ne);return rt(S.createElement(OL.Provider,{value:pt},mt))}),$te=FEe;$te._InternalPanelDoNotUseOrYouWillBeFired=LEe;const m0=$te,$Ee=t=>{const{componentCls:e,popoverColor:n,titleMinWidth:r,fontWeightStrong:i,innerPadding:o,boxShadowSecondary:a,colorTextHeading:s,borderRadiusLG:l,zIndexPopup:c,titleMarginBottom:u,colorBgElevated:d,popoverBg:f,titleBorderBottom:h,innerContentPadding:p,titlePadding:x}=t;return[{[e]:Object.assign(Object.assign({},Ji(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":d,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:f,backgroundClip:"padding-box",borderRadius:l,boxShadow:a,padding:o},[`${e}-title`]:{minWidth:r,marginBottom:u,color:s,fontWeight:i,borderBottom:h,padding:x},[`${e}-inner-content`]:{color:n,padding:p}})},Lte(t,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},UEe=t=>{const{componentCls:e}=t;return{[e]:qh.map(n=>{const r=t[`${n}6`];return{[`&${e}-${n}`]:{"--antd-arrow-background-color":r,[`${e}-inner`]:{backgroundColor:r},[`${e}-arrow`]:{background:"transparent"}}}})}},kEe=t=>{const{lineWidth:e,controlHeight:n,fontHeight:r,padding:i,wireframe:o,zIndexPopupBase:a,borderRadiusLG:s,marginXS:l,lineType:c,colorSplit:u,paddingSM:d}=t,f=n-r,h=f/2,p=f/2-e,x=i;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:a+30},aB(t)),sB({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:o?0:12,titleMarginBottom:o?0:l,titlePadding:o?`${h}px ${x}px ${p}px`:0,titleBorderBottom:o?`${e}px ${c} ${u}`:"none",innerContentPadding:o?`${d}px ${x}px`:0})},Ute=di("Popover",t=>{const{colorBgElevated:e,colorText:n}=t,r=Fr(t,{popoverBg:e,popoverColor:n});return[$Ee(r),UEe(r),zL(r,"zoom-big")]},kEe,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var VEe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const kte=({title:t,content:e,prefixCls:n})=>!t&&!e?null:S.createElement(S.Fragment,null,t&&S.createElement("div",{className:`${n}-title`},t),e&&S.createElement("div",{className:`${n}-inner-content`},e)),zEe=t=>{const{hashId:e,prefixCls:n,className:r,style:i,placement:o="top",title:a,content:s,children:l}=t,c=jA(a),u=jA(s),d=ke(e,n,`${n}-pure`,`${n}-placement-${o}`,r);return S.createElement("div",{className:d,style:i},S.createElement("div",{className:`${n}-arrow`}),S.createElement(oB,Object.assign({},t,{className:e,prefixCls:n}),l||S.createElement(kte,{prefixCls:n,title:c,content:u})))},GEe=t=>{const{prefixCls:e,className:n}=t,r=VEe(t,["prefixCls","className"]),{getPrefixCls:i}=S.useContext(Kn),o=i("popover",e),[a,s,l]=Ute(o);return a(S.createElement(zEe,Object.assign({},r,{prefixCls:o,hashId:s,className:ke(n,l)})))},Vte=GEe;var HEe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const jEe=S.forwardRef((t,e)=>{var n,r;const{prefixCls:i,title:o,content:a,overlayClassName:s,placement:l="top",trigger:c="hover",children:u,mouseEnterDelay:d=.1,mouseLeaveDelay:f=.1,onOpenChange:h,overlayStyle:p={},styles:x,classNames:b}=t,y=HEe(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:_,className:C,style:E,classNames:M,styles:R}=fa("popover"),N=_("popover",i),[O,I,L]=Ute(N),F=_(),$=ke(s,I,L,C,M.root,b==null?void 0:b.root),V=ke(M.body,b==null?void 0:b.body),[U,k]=yi(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),z=(J,ee)=>{k(J,!0),h==null||h(J,ee)},H=J=>{J.keyCode===Bt.ESC&&z(!1,J)},j=J=>{z(J)},X=jA(o),Y=jA(a);return O(S.createElement(m0,Object.assign({placement:l,trigger:c,mouseEnterDelay:d,mouseLeaveDelay:f},y,{prefixCls:N,classNames:{root:$,body:V},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},R.root),E),p),x==null?void 0:x.root),body:Object.assign(Object.assign({},R.body),x==null?void 0:x.body)},ref:e,open:U,onOpenChange:j,overlay:X||Y?S.createElement(kte,{prefixCls:N,title:X,content:Y}):null,transitionName:Xh(F,"zoom-big",y.transitionName),"data-popover-inject":!0}),_c(u,{onKeyDown:J=>{var ee,re;S.isValidElement(u)&&((re=u==null?void 0:(ee=u.props).onKeyDown)===null||re===void 0||re.call(ee,J)),H(J)}})))}),zte=jEe;zte._InternalPanelDoNotUseOrYouWillBeFired=Vte;const qEe=zte,WEe=new Pr("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),XEe=new Pr("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),YEe=new Pr("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),KEe=new Pr("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),QEe=new Pr("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),ZEe=new Pr("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),JEe=t=>{const{componentCls:e,iconCls:n,antCls:r,badgeShadowSize:i,textFontSize:o,textFontSizeSM:a,statusSize:s,dotSize:l,textFontWeight:c,indicatorHeight:u,indicatorHeightSM:d,marginXS:f,calc:h}=t,p=`${r}-scroll-number`,x=q3(t,(b,{darkColor:y})=>({[`&${e} ${e}-color-${b}`]:{background:y,[`&:not(${e}-count)`]:{color:y},"a:hover &":{background:y}}}));return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Ji(t)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${e}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:t.indicatorZIndex,minWidth:u,height:u,color:t.badgeTextColor,fontWeight:c,fontSize:o,lineHeight:Re(u),whiteSpace:"nowrap",textAlign:"center",background:t.badgeColor,borderRadius:h(u).div(2).equal(),boxShadow:`0 0 0 ${Re(i)} ${t.badgeShadowColor}`,transition:`background ${t.motionDurationMid}`,a:{color:t.badgeTextColor},"a:hover":{color:t.badgeTextColor},"a:hover &":{background:t.badgeColorHover}},[`${e}-count-sm`]:{minWidth:d,height:d,fontSize:a,lineHeight:Re(d),borderRadius:h(d).div(2).equal()},[`${e}-multiple-words`]:{padding:`0 ${Re(t.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${e}-dot`]:{zIndex:t.indicatorZIndex,width:l,minWidth:l,height:l,background:t.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${Re(i)} ${t.badgeShadowColor}`},[`${e}-count, ${e}-dot, ${p}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${n}-spin`]:{animationName:ZEe,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${e}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${e}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:s,height:s,verticalAlign:"middle",borderRadius:"50%"},[`${e}-status-success`]:{backgroundColor:t.colorSuccess},[`${e}-status-processing`]:{overflow:"visible",color:t.colorInfo,backgroundColor:t.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:i,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:WEe,animationDuration:t.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${e}-status-default`]:{backgroundColor:t.colorTextPlaceholder},[`${e}-status-error`]:{backgroundColor:t.colorError},[`${e}-status-warning`]:{backgroundColor:t.colorWarning},[`${e}-status-text`]:{marginInlineStart:f,color:t.colorText,fontSize:t.fontSize}}}),x),{[`${e}-zoom-appear, ${e}-zoom-enter`]:{animationName:XEe,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`${e}-zoom-leave`]:{animationName:YEe,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`&${e}-not-a-wrapper`]:{[`${e}-zoom-appear, ${e}-zoom-enter`]:{animationName:KEe,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`${e}-zoom-leave`]:{animationName:QEe,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`&:not(${e}-status)`]:{verticalAlign:"middle"},[`${p}-custom-component, ${e}-count`]:{transform:"none"},[`${p}-custom-component, ${p}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[p]:{overflow:"hidden",transition:`all ${t.motionDurationMid} ${t.motionEaseOutBack}`,[`${p}-only`]:{position:"relative",display:"inline-block",height:u,transition:`all ${t.motionDurationSlow} ${t.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${p}-only-unit`]:{height:u,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${p}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${e}-count, ${e}-dot, ${p}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},Gte=t=>{const{fontHeight:e,lineWidth:n,marginXS:r,colorBorderBg:i}=t,o=e,a=n,s=t.colorTextLightSolid,l=t.colorError,c=t.colorErrorHover;return Fr(t,{badgeFontHeight:o,badgeShadowSize:a,badgeTextColor:s,badgeColor:l,badgeColorHover:c,badgeShadowColor:i,badgeProcessingDuration:"1.2s",badgeRibbonOffset:r,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},Hte=t=>{const{fontSize:e,lineHeight:n,fontSizeSM:r,lineWidth:i}=t;return{indicatorZIndex:"auto",indicatorHeight:Math.round(e*n)-2*i,indicatorHeightSM:e,dotSize:r/2,textFontSize:r,textFontSizeSM:r,textFontWeight:"normal",statusSize:r/2}},e3e=di("Badge",t=>{const e=Gte(t);return JEe(e)},Hte),t3e=t=>{const{antCls:e,badgeFontHeight:n,marginXS:r,badgeRibbonOffset:i,calc:o}=t,a=`${e}-ribbon`,s=`${e}-ribbon-wrapper`,l=q3(t,(c,{darkColor:u})=>({[`&${a}-color-${c}`]:{background:u,color:u}}));return{[s]:{position:"relative"},[a]:Object.assign(Object.assign(Object.assign(Object.assign({},Ji(t)),{position:"absolute",top:r,padding:`0 ${Re(t.paddingXS)}`,color:t.colorPrimary,lineHeight:Re(n),whiteSpace:"nowrap",backgroundColor:t.colorPrimary,borderRadius:t.borderRadiusSM,[`${a}-text`]:{color:t.badgeTextColor},[`${a}-corner`]:{position:"absolute",top:"100%",width:i,height:i,color:"currentcolor",border:`${Re(o(i).div(2).equal())} solid`,transform:t.badgeRibbonCornerTransform,transformOrigin:"top",filter:t.badgeRibbonCornerFilter}}),l),{[`&${a}-placement-end`]:{insetInlineEnd:o(i).mul(-1).equal(),borderEndEndRadius:0,[`${a}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${a}-placement-start`]:{insetInlineStart:o(i).mul(-1).equal(),borderEndStartRadius:0,[`${a}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},n3e=di(["Badge","Ribbon"],t=>{const e=Gte(t);return t3e(e)},Hte),r3e=t=>{const{className:e,prefixCls:n,style:r,color:i,children:o,text:a,placement:s="end",rootClassName:l}=t,{getPrefixCls:c,direction:u}=S.useContext(Kn),d=c("ribbon",n),f=`${d}-wrapper`,[h,p,x]=n3e(d,f),b=fM(i,!1),y=ke(d,`${d}-placement-${s}`,{[`${d}-rtl`]:u==="rtl",[`${d}-color-${i}`]:b},e),_={},C={};return i&&!b&&(_.background=i,C.color=i),h(S.createElement("div",{className:ke(f,l,p,x)},o,S.createElement("div",{className:ke(y,p),style:Object.assign(Object.assign({},_),r)},S.createElement("span",{className:`${d}-text`},a),S.createElement("div",{className:`${d}-corner`,style:C}))))},i3e=r3e,Dz=t=>{const{prefixCls:e,value:n,current:r,offset:i=0}=t;let o;return i&&(o={position:"absolute",top:`${i}00%`,left:0}),S.createElement("span",{style:o,className:ke(`${e}-only-unit`,{current:r})},n)};function o3e(t,e,n){let r=t,i=0;for(;(r+10)%10!==e;)r+=n,i+=n;return i}const a3e=t=>{const{prefixCls:e,count:n,value:r}=t,i=Number(r),o=Math.abs(n),[a,s]=S.useState(i),[l,c]=S.useState(o),u=()=>{s(i),c(o)};S.useEffect(()=>{const h=setTimeout(u,1e3);return()=>clearTimeout(h)},[i]);let d,f;if(a===i||Number.isNaN(i)||Number.isNaN(a))d=[S.createElement(Dz,Object.assign({},t,{key:i,current:!0}))],f={transition:"none"};else{d=[];const h=i+10,p=[];for(let _=i;_<=h;_+=1)p.push(_);const x=l<o?1:-1,b=p.findIndex(_=>_%10===a);d=(x<0?p.slice(0,b+1):p.slice(b)).map((_,C)=>{const E=_%10;return S.createElement(Dz,Object.assign({},t,{key:_,value:E,offset:x<0?C-b:C,current:C===b}))}),f={transform:`translateY(${-o3e(a,i,x)}00%)`}}return S.createElement("span",{className:`${e}-only`,style:f,onTransitionEnd:u},d)},s3e=a3e;var l3e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const c3e=S.forwardRef((t,e)=>{const{prefixCls:n,count:r,className:i,motionClassName:o,style:a,title:s,show:l,component:c="sup",children:u}=t,d=l3e(t,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:f}=S.useContext(Kn),h=f("scroll-number",n),p=Object.assign(Object.assign({},d),{"data-show":l,style:a,className:ke(h,i,o),title:s});let x=r;if(r&&Number(r)%1===0){const b=String(r).split("");x=S.createElement("bdi",null,b.map((y,_)=>S.createElement(s3e,{prefixCls:h,count:Number(r),value:y,key:b.length-_})))}return a!=null&&a.borderColor&&(p.style=Object.assign(Object.assign({},a),{boxShadow:`0 0 0 1px ${a.borderColor} inset`})),u?_c(u,b=>({className:ke(`${h}-custom-component`,b==null?void 0:b.className,o)})):S.createElement(c,Object.assign({},p,{ref:e}),x)}),u3e=c3e;var d3e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const f3e=S.forwardRef((t,e)=>{var n,r,i,o,a;const{prefixCls:s,scrollNumberPrefixCls:l,children:c,status:u,text:d,color:f,count:h=null,overflowCount:p=99,dot:x=!1,size:b="default",title:y,offset:_,style:C,className:E,rootClassName:M,classNames:R,styles:N,showZero:O=!1}=t,I=d3e(t,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:L,direction:F,badge:$}=S.useContext(Kn),V=L("badge",s),[U,k,z]=e3e(V),H=h>p?`${p}+`:h,j=H==="0"||H===0||d==="0"||d===0,X=h===null||j&&!O,Y=(u!=null||f!=null)&&X,J=u!=null||!j,ee=x&&!j,re=ee?"":H,ue=S.useMemo(()=>((re==null||re==="")&&(d==null||d==="")||j&&!O)&&!ee,[re,j,O,ee,d]),fe=S.useRef(h);ue||(fe.current=h);const oe=fe.current,ce=S.useRef(re);ue||(ce.current=re);const pe=ce.current,ye=S.useRef(ee);ue||(ye.current=ee);const xe=S.useMemo(()=>{if(!_)return Object.assign(Object.assign({},$==null?void 0:$.style),C);const Je={marginTop:_[1]};return F==="rtl"?Je.left=Number.parseInt(_[0],10):Je.right=-Number.parseInt(_[0],10),Object.assign(Object.assign(Object.assign({},Je),$==null?void 0:$.style),C)},[F,_,C,$==null?void 0:$.style]),be=y??(typeof oe=="string"||typeof oe=="number"?oe:void 0),Ce=!ue&&(d===0?O:!!d&&d!==!0),Ne=Ce?S.createElement("span",{className:`${V}-status-text`},d):null,Ae=!oe||typeof oe!="object"?void 0:_c(oe,Je=>({style:Object.assign(Object.assign({},xe),Je.style)})),me=fM(f,!1),de=ke(R==null?void 0:R.indicator,(n=$==null?void 0:$.classNames)===null||n===void 0?void 0:n.indicator,{[`${V}-status-dot`]:Y,[`${V}-status-${u}`]:!!u,[`${V}-color-${f}`]:me}),Be={};f&&!me&&(Be.color=f,Be.background=f);const ne=ke(V,{[`${V}-status`]:Y,[`${V}-not-a-wrapper`]:!c,[`${V}-rtl`]:F==="rtl"},E,M,$==null?void 0:$.className,(r=$==null?void 0:$.classNames)===null||r===void 0?void 0:r.root,R==null?void 0:R.root,k,z);if(!c&&Y&&(d||J||!X)){const Je=xe.color;return U(S.createElement("span",Object.assign({},I,{className:ne,style:Object.assign(Object.assign(Object.assign({},N==null?void 0:N.root),(i=$==null?void 0:$.styles)===null||i===void 0?void 0:i.root),xe)}),S.createElement("span",{className:de,style:Object.assign(Object.assign(Object.assign({},N==null?void 0:N.indicator),(o=$==null?void 0:$.styles)===null||o===void 0?void 0:o.indicator),Be)}),Ce&&S.createElement("span",{style:{color:Je},className:`${V}-status-text`},d)))}return U(S.createElement("span",Object.assign({ref:e},I,{className:ne,style:Object.assign(Object.assign({},(a=$==null?void 0:$.styles)===null||a===void 0?void 0:a.root),N==null?void 0:N.root)}),c,S.createElement(yu,{visible:!ue,motionName:`${V}-zoom`,motionAppear:!1,motionDeadline:1e3},({className:Je})=>{var Ye,rt;const qe=L("scroll-number",l),se=ye.current,K=ke(R==null?void 0:R.indicator,(Ye=$==null?void 0:$.classNames)===null||Ye===void 0?void 0:Ye.indicator,{[`${V}-dot`]:se,[`${V}-count`]:!se,[`${V}-count-sm`]:b==="small",[`${V}-multiple-words`]:!se&&pe&&pe.toString().length>1,[`${V}-status-${u}`]:!!u,[`${V}-color-${f}`]:me});let _e=Object.assign(Object.assign(Object.assign({},N==null?void 0:N.indicator),(rt=$==null?void 0:$.styles)===null||rt===void 0?void 0:rt.indicator),xe);return f&&!me&&(_e=_e||{},_e.background=f),S.createElement(u3e,{prefixCls:qe,show:!ue,motionClassName:Je,className:K,count:pe,title:be,style:_e,key:"scrollNumber"},Ae)}),Ne))}),jte=f3e;jte.Ribbon=i3e;const Oz=jte;var h3e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};const p3e=h3e;var m3e=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:p3e}))},g3e=S.forwardRef(m3e);const FT=g3e;var A3e=Bt.ESC,v3e=Bt.TAB;function y3e(t){var e=t.visible,n=t.triggerRef,r=t.onVisibleChange,i=t.autoFocus,o=t.overlayRef,a=S.useRef(!1),s=function(){if(e){var d,f;(d=n.current)===null||d===void 0||(f=d.focus)===null||f===void 0||f.call(d),r==null||r(!1)}},l=function(){var d;return(d=o.current)!==null&&d!==void 0&&d.focus?(o.current.focus(),a.current=!0,!0):!1},c=function(d){switch(d.keyCode){case A3e:s();break;case v3e:{var f=!1;a.current||(f=l()),f?d.preventDefault():s();break}}};S.useEffect(function(){return e?(window.addEventListener("keydown",c),i&&Rr(l,3),function(){window.removeEventListener("keydown",c),a.current=!1}):function(){a.current=!1}},[e])}var b3e=S.forwardRef(function(t,e){var n=t.overlay,r=t.arrow,i=t.prefixCls,o=S.useMemo(function(){var s;return typeof n=="function"?s=n():s=n,s},[n]),a=ll(e,d0(o));return je.createElement(je.Fragment,null,r&&je.createElement("div",{className:"".concat(i,"-arrow")}),je.cloneElement(o,{ref:cp(o)?a:void 0}))}),j0={adjustX:1,adjustY:1},q0=[0,0],x3e={topLeft:{points:["bl","tl"],overflow:j0,offset:[0,-4],targetOffset:q0},top:{points:["bc","tc"],overflow:j0,offset:[0,-4],targetOffset:q0},topRight:{points:["br","tr"],overflow:j0,offset:[0,-4],targetOffset:q0},bottomLeft:{points:["tl","bl"],overflow:j0,offset:[0,4],targetOffset:q0},bottom:{points:["tc","bc"],overflow:j0,offset:[0,4],targetOffset:q0},bottomRight:{points:["tr","br"],overflow:j0,offset:[0,4],targetOffset:q0}},S3e=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function _3e(t,e){var n,r=t.arrow,i=r===void 0?!1:r,o=t.prefixCls,a=o===void 0?"rc-dropdown":o,s=t.transitionName,l=t.animation,c=t.align,u=t.placement,d=u===void 0?"bottomLeft":u,f=t.placements,h=f===void 0?x3e:f,p=t.getPopupContainer,x=t.showAction,b=t.hideAction,y=t.overlayClassName,_=t.overlayStyle,C=t.visible,E=t.trigger,M=E===void 0?["hover"]:E,R=t.autoFocus,N=t.overlay,O=t.children,I=t.onVisibleChange,L=Qn(t,S3e),F=je.useState(),$=Oe(F,2),V=$[0],U=$[1],k="visible"in t?C:V,z=je.useRef(null),H=je.useRef(null),j=je.useRef(null);je.useImperativeHandle(e,function(){return z.current});var X=function(pe){U(pe),I==null||I(pe)};y3e({visible:k,triggerRef:j,onVisibleChange:X,autoFocus:R,overlayRef:H});var Y=function(pe){var ye=t.onOverlayClick;U(!1),ye&&ye(pe)},J=function(){return je.createElement(b3e,{ref:H,overlay:N,prefixCls:a,arrow:i})},ee=function(){return typeof N=="function"?J:J()},re=function(){var pe=t.minOverlayWidthMatchTrigger,ye=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?pe:!ye},ue=function(){var pe=t.openClassName;return pe!==void 0?pe:"".concat(a,"-open")},fe=je.cloneElement(O,{className:ke((n=O.props)===null||n===void 0?void 0:n.className,k&&ue()),ref:cp(O)?ll(j,d0(O)):void 0}),oe=b;return!oe&&M.indexOf("contextMenu")!==-1&&(oe=["click"]),je.createElement(N2,it({builtinPlacements:h},L,{prefixCls:a,ref:z,popupClassName:ke(y,Se({},"".concat(a,"-show-arrow"),i)),popupStyle:_,action:M,showAction:x,hideAction:oe,popupPlacement:d,popupAlign:c,popupTransitionName:s,popupAnimation:l,popupVisible:k,stretch:re()?"minWidth":"",popup:ee(),onPopupVisibleChange:X,onPopupClick:Y,getPopupContainer:p}),fe)}const w3e=je.forwardRef(_3e);var qte=S.createContext(null);function Wte(t,e){return t===void 0?null:"".concat(t,"-").concat(e)}function Xte(t){var e=S.useContext(qte);return Wte(e,t)}var C3e=["children","locked"],fu=S.createContext(null);function T3e(t,e){var n=we({},t);return Object.keys(e).forEach(function(r){var i=e[r];i!==void 0&&(n[r]=i)}),n}function vx(t){var e=t.children,n=t.locked,r=Qn(t,C3e),i=S.useContext(fu),o=y2(function(){return T3e(i,r)},[i,r],function(a,s){return!n&&(a[0]!==s[0]||!cx(a[1],s[1],!0))});return S.createElement(fu.Provider,{value:o},e)}var E3e=[],Yte=S.createContext(null);function hM(){return S.useContext(Yte)}var Kte=S.createContext(E3e);function I2(t){var e=S.useContext(Kte);return S.useMemo(function(){return t!==void 0?[].concat(zt(e),[t]):e},[e,t])}var Qte=S.createContext(null),lB=S.createContext({});function Lz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T2(t)){var n=t.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||t.isContentEditable||n==="a"&&!!t.getAttribute("href"),i=t.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&a===null&&(a=0),r&&t.disabled&&(a=null),a!==null&&(a>=0||e&&a<0)}return!1}function M3e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=zt(t.querySelectorAll("*")).filter(function(r){return Lz(r,e)});return Lz(t,e)&&n.unshift(t),n}var t5=Bt.LEFT,n5=Bt.RIGHT,r5=Bt.UP,wC=Bt.DOWN,CC=Bt.ENTER,Zte=Bt.ESC,Xy=Bt.HOME,Yy=Bt.END,Bz=[r5,wC,t5,n5];function R3e(t,e,n,r){var i,o="prev",a="next",s="children",l="parent";if(t==="inline"&&r===CC)return{inlineTrigger:!0};var c=Se(Se({},r5,o),wC,a),u=Se(Se(Se(Se({},t5,n?a:o),n5,n?o:a),wC,s),CC,s),d=Se(Se(Se(Se(Se(Se({},r5,o),wC,a),CC,s),Zte,l),t5,n?s:l),n5,n?l:s),f={inline:c,horizontal:u,vertical:d,inlineSub:c,horizontalSub:d,verticalSub:d},h=(i=f["".concat(t).concat(e?"":"Sub")])===null||i===void 0?void 0:i[r];switch(h){case o:return{offset:-1,sibling:!0};case a:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}function P3e(t){for(var e=t;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function N3e(t,e){for(var n=t||document.activeElement;n;){if(e.has(n))return n;n=n.parentElement}return null}function cB(t,e){var n=M3e(t,!0);return n.filter(function(r){return e.has(r)})}function Fz(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!t)return null;var i=cB(t,e),o=i.length,a=i.findIndex(function(s){return n===s});return r<0?a===-1?a=o-1:a-=1:r>0&&(a+=1),a=(a+o)%o,i[a]}var i5=function(e,n){var r=new Set,i=new Map,o=new Map;return e.forEach(function(a){var s=document.querySelector("[data-menu-id='".concat(Wte(n,a),"']"));s&&(r.add(s),o.set(s,a),i.set(a,s))}),{elements:r,key2element:i,element2key:o}};function I3e(t,e,n,r,i,o,a,s,l,c){var u=S.useRef(),d=S.useRef();d.current=e;var f=function(){Rr.cancel(u.current)};return S.useEffect(function(){return function(){f()}},[]),function(h){var p=h.which;if([].concat(Bz,[CC,Zte,Xy,Yy]).includes(p)){var x=o(),b=i5(x,r),y=b,_=y.elements,C=y.key2element,E=y.element2key,M=C.get(e),R=N3e(M,_),N=E.get(R),O=R3e(t,a(N,!0).length===1,n,p);if(!O&&p!==Xy&&p!==Yy)return;(Bz.includes(p)||[Xy,Yy].includes(p))&&h.preventDefault();var I=function(H){if(H){var j=H,X=H.querySelector("a");X!=null&&X.getAttribute("href")&&(j=X);var Y=E.get(H);s(Y),f(),u.current=Rr(function(){d.current===Y&&j.focus()})}};if([Xy,Yy].includes(p)||O.sibling||!R){var L;!R||t==="inline"?L=i.current:L=P3e(R);var F,$=cB(L,_);p===Xy?F=$[0]:p===Yy?F=$[$.length-1]:F=Fz(L,_,R,O.offset),I(F)}else if(O.inlineTrigger)l(N);else if(O.offset>0)l(N,!0),f(),u.current=Rr(function(){b=i5(x,r);var z=R.getAttribute("aria-controls"),H=document.getElementById(z),j=Fz(H,b.elements);I(j)},5);else if(O.offset<0){var V=a(N,!0),U=V[V.length-2],k=C.get(U);l(U,!1),I(k)}}c==null||c(h)}}function D3e(t){Promise.resolve().then(t)}var uB="__RC_UTIL_PATH_SPLIT__",$z=function(e){return e.join(uB)},O3e=function(e){return e.split(uB)},o5="rc-menu-more";function L3e(){var t=S.useState({}),e=Oe(t,2),n=e[1],r=S.useRef(new Map),i=S.useRef(new Map),o=S.useState([]),a=Oe(o,2),s=a[0],l=a[1],c=S.useRef(0),u=S.useRef(!1),d=function(){u.current||n({})},f=S.useCallback(function(C,E){var M=$z(E);i.current.set(M,C),r.current.set(C,M),c.current+=1;var R=c.current;D3e(function(){R===c.current&&d()})},[]),h=S.useCallback(function(C,E){var M=$z(E);i.current.delete(M),r.current.delete(C)},[]),p=S.useCallback(function(C){l(C)},[]),x=S.useCallback(function(C,E){var M=r.current.get(C)||"",R=O3e(M);return E&&s.includes(R[0])&&R.unshift(o5),R},[s]),b=S.useCallback(function(C,E){return C.filter(function(M){return M!==void 0}).some(function(M){var R=x(M,!0);return R.includes(E)})},[x]),y=function(){var E=zt(r.current.keys());return s.length&&E.push(o5),E},_=S.useCallback(function(C){var E="".concat(r.current.get(C)).concat(uB),M=new Set;return zt(i.current.keys()).forEach(function(R){R.startsWith(E)&&M.add(i.current.get(R))}),M},[]);return S.useEffect(function(){return function(){u.current=!0}},[]),{registerPath:f,unregisterPath:h,refreshOverflowKeys:p,isSubPathKey:b,getKeyPath:x,getKeys:y,getSubPathKeys:_}}function V1(t){var e=S.useRef(t);e.current=t;var n=S.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return t?n:void 0}var B3e=Math.random().toFixed(5).toString().slice(2),Uz=0;function F3e(t){var e=yi(t,{value:t}),n=Oe(e,2),r=n[0],i=n[1];return S.useEffect(function(){Uz+=1;var o="".concat(B3e,"-").concat(Uz);i("rc-menu-uuid-".concat(o))},[]),r}function Jte(t,e,n,r){var i=S.useContext(fu),o=i.activeKey,a=i.onActive,s=i.onInactive,l={active:o===t};return e||(l.onMouseEnter=function(c){n==null||n({key:t,domEvent:c}),a(t)},l.onMouseLeave=function(c){r==null||r({key:t,domEvent:c}),s(t)}),l}function ene(t){var e=S.useContext(fu),n=e.mode,r=e.rtl,i=e.inlineIndent;if(n!=="inline")return null;var o=t;return r?{paddingRight:o*i}:{paddingLeft:o*i}}function tne(t){var e=t.icon,n=t.props,r=t.children,i;return e===null||e===!1?null:(typeof e=="function"?i=S.createElement(e,we({},n)):typeof e!="boolean"&&(i=e),i||r||null)}var $3e=["item"];function $T(t){var e=t.item,n=Qn(t,$3e);return Object.defineProperty(n,"item",{get:function(){return Pa(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),n}var U3e=["title","attribute","elementRef"],k3e=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],V3e=["active"],z3e=function(t){Sf(n,t);var e=_f(n);function n(){return Ro(this,n),e.apply(this,arguments)}return Po(n,[{key:"render",value:function(){var i=this.props,o=i.title,a=i.attribute,s=i.elementRef,l=Qn(i,U3e),c=go(l,["eventKey","popupClassName","popupOffset","onTitleClick"]);return Pa(!a,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),S.createElement(lu.Item,it({},a,{title:typeof o=="string"?o:void 0},c,{ref:s}))}}]),n}(S.Component),G3e=S.forwardRef(function(t,e){var n=t.style,r=t.className,i=t.eventKey;t.warnKey;var o=t.disabled,a=t.itemIcon,s=t.children,l=t.role,c=t.onMouseEnter,u=t.onMouseLeave,d=t.onClick,f=t.onKeyDown,h=t.onFocus,p=Qn(t,k3e),x=Xte(i),b=S.useContext(fu),y=b.prefixCls,_=b.onItemClick,C=b.disabled,E=b.overflowDisabled,M=b.itemIcon,R=b.selectedKeys,N=b.onActive,O=S.useContext(lB),I=O._internalRenderMenuItem,L="".concat(y,"-item"),F=S.useRef(),$=S.useRef(),V=C||o,U=lp(e,$),k=I2(i),z=function(ye){return{key:i,keyPath:zt(k).reverse(),item:F.current,domEvent:ye}},H=a||M,j=Jte(i,V,c,u),X=j.active,Y=Qn(j,V3e),J=R.includes(i),ee=ene(k.length),re=function(ye){if(!V){var xe=z(ye);d==null||d($T(xe)),_(xe)}},ue=function(ye){if(f==null||f(ye),ye.which===Bt.ENTER){var xe=z(ye);d==null||d($T(xe)),_(xe)}},fe=function(ye){N(i),h==null||h(ye)},oe={};t.role==="option"&&(oe["aria-selected"]=J);var ce=S.createElement(z3e,it({ref:F,elementRef:U,role:l===null?"none":l||"menuitem",tabIndex:o?null:-1,"data-menu-id":E&&x?null:x},go(p,["extra"]),Y,oe,{component:"li","aria-disabled":o,style:we(we({},ee),n),className:ke(L,Se(Se(Se({},"".concat(L,"-active"),X),"".concat(L,"-selected"),J),"".concat(L,"-disabled"),V),r),onClick:re,onKeyDown:ue,onFocus:fe}),s,S.createElement(tne,{props:we(we({},t),{},{isSelected:J}),icon:H}));return I&&(ce=I(ce,t,{selected:J})),ce});function H3e(t,e){var n=t.eventKey,r=hM(),i=I2(n);return S.useEffect(function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}},[i]),r?null:S.createElement(G3e,it({},t,{ref:e}))}const pM=S.forwardRef(H3e);var j3e=["className","children"],q3e=function(e,n){var r=e.className,i=e.children,o=Qn(e,j3e),a=S.useContext(fu),s=a.prefixCls,l=a.mode,c=a.rtl;return S.createElement("ul",it({className:ke(s,c&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat(l==="inline"?"inline":"vertical"),r),role:"menu"},o,{"data-menu-list":!0,ref:n}),i)},dB=S.forwardRef(q3e);dB.displayName="SubMenuList";function fB(t,e){return bc(t).map(function(n,r){if(S.isValidElement(n)){var i,o,a=n.key,s=(i=(o=n.props)===null||o===void 0?void 0:o.eventKey)!==null&&i!==void 0?i:a,l=s==null;l&&(s="tmp_key-".concat([].concat(zt(e),[r]).join("-")));var c={key:s,eventKey:s};return S.cloneElement(n,c)}return n})}var Wa={adjustX:1,adjustY:1},W3e={topLeft:{points:["bl","tl"],overflow:Wa},topRight:{points:["br","tr"],overflow:Wa},bottomLeft:{points:["tl","bl"],overflow:Wa},bottomRight:{points:["tr","br"],overflow:Wa},leftTop:{points:["tr","tl"],overflow:Wa},leftBottom:{points:["br","bl"],overflow:Wa},rightTop:{points:["tl","tr"],overflow:Wa},rightBottom:{points:["bl","br"],overflow:Wa}},X3e={topLeft:{points:["bl","tl"],overflow:Wa},topRight:{points:["br","tr"],overflow:Wa},bottomLeft:{points:["tl","bl"],overflow:Wa},bottomRight:{points:["tr","br"],overflow:Wa},rightTop:{points:["tr","tl"],overflow:Wa},rightBottom:{points:["br","bl"],overflow:Wa},leftTop:{points:["tl","tr"],overflow:Wa},leftBottom:{points:["bl","br"],overflow:Wa}};function nne(t,e,n){if(e)return e;if(n)return n[t]||n.other}var Y3e={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function K3e(t){var e=t.prefixCls,n=t.visible,r=t.children,i=t.popup,o=t.popupStyle,a=t.popupClassName,s=t.popupOffset,l=t.disabled,c=t.mode,u=t.onVisibleChange,d=S.useContext(fu),f=d.getPopupContainer,h=d.rtl,p=d.subMenuOpenDelay,x=d.subMenuCloseDelay,b=d.builtinPlacements,y=d.triggerSubMenuAction,_=d.forceSubMenuRender,C=d.rootClassName,E=d.motion,M=d.defaultMotions,R=S.useState(!1),N=Oe(R,2),O=N[0],I=N[1],L=we(h?we({},X3e):we({},W3e),b),F=Y3e[c],$=nne(c,E,M),V=S.useRef($);c!=="inline"&&(V.current=$);var U=we(we({},V.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),k=S.useRef();return S.useEffect(function(){return k.current=Rr(function(){I(n)}),function(){Rr.cancel(k.current)}},[n]),S.createElement(N2,{prefixCls:e,popupClassName:ke("".concat(e,"-popup"),Se({},"".concat(e,"-rtl"),h),a,C),stretch:c==="horizontal"?"minWidth":null,getPopupContainer:f,builtinPlacements:L,popupPlacement:F,popupVisible:O,popup:i,popupStyle:o,popupAlign:s&&{offset:s},action:l?[]:[y],mouseEnterDelay:p,mouseLeaveDelay:x,onPopupVisibleChange:u,forceRender:_,popupMotion:U,fresh:!0},r)}function Q3e(t){var e=t.id,n=t.open,r=t.keyPath,i=t.children,o="inline",a=S.useContext(fu),s=a.prefixCls,l=a.forceSubMenuRender,c=a.motion,u=a.defaultMotions,d=a.mode,f=S.useRef(!1);f.current=d===o;var h=S.useState(!f.current),p=Oe(h,2),x=p[0],b=p[1],y=f.current?n:!1;S.useEffect(function(){f.current&&b(!1)},[d]);var _=we({},nne(o,c,u));r.length>1&&(_.motionAppear=!1);var C=_.onVisibleChanged;return _.onVisibleChanged=function(E){return!f.current&&!E&&b(!0),C==null?void 0:C(E)},x?null:S.createElement(vx,{mode:o,locked:!f.current},S.createElement(yu,it({visible:y},_,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),function(E){var M=E.className,R=E.style;return S.createElement(dB,{id:e,className:M,style:R},i)}))}var Z3e=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],J3e=["active"],eMe=S.forwardRef(function(t,e){var n=t.style,r=t.className,i=t.title,o=t.eventKey;t.warnKey;var a=t.disabled,s=t.internalPopupClose,l=t.children,c=t.itemIcon,u=t.expandIcon,d=t.popupClassName,f=t.popupOffset,h=t.popupStyle,p=t.onClick,x=t.onMouseEnter,b=t.onMouseLeave,y=t.onTitleClick,_=t.onTitleMouseEnter,C=t.onTitleMouseLeave,E=Qn(t,Z3e),M=Xte(o),R=S.useContext(fu),N=R.prefixCls,O=R.mode,I=R.openKeys,L=R.disabled,F=R.overflowDisabled,$=R.activeKey,V=R.selectedKeys,U=R.itemIcon,k=R.expandIcon,z=R.onItemClick,H=R.onOpenChange,j=R.onActive,X=S.useContext(lB),Y=X._internalRenderSubMenuItem,J=S.useContext(Qte),ee=J.isSubPathKey,re=I2(),ue="".concat(N,"-submenu"),fe=L||a,oe=S.useRef(),ce=S.useRef(),pe=c??U,ye=u??k,xe=I.includes(o),be=!F&&xe,Ce=ee(V,o),Ne=Jte(o,fe,_,C),Ae=Ne.active,me=Qn(Ne,J3e),de=S.useState(!1),Be=Oe(de,2),ne=Be[0],Je=Be[1],Ye=function(tt){fe||Je(tt)},rt=function(tt){Ye(!0),x==null||x({key:o,domEvent:tt})},qe=function(tt){Ye(!1),b==null||b({key:o,domEvent:tt})},se=S.useMemo(function(){return Ae||(O!=="inline"?ne||ee([$],o):!1)},[O,Ae,$,ne,o,ee]),K=ene(re.length),_e=function(tt){fe||(y==null||y({key:o,domEvent:tt}),O==="inline"&&H(o,!xe))},Ue=V1(function(at){p==null||p($T(at)),z(at)}),lt=function(tt){O!=="inline"&&H(o,tt)},We=function(){j(o)},pt=M&&"".concat(M,"-popup"),mt=S.useMemo(function(){return S.createElement(tne,{icon:O!=="horizontal"?ye:void 0,props:we(we({},t),{},{isOpen:be,isSubMenu:!0})},S.createElement("i",{className:"".concat(ue,"-arrow")}))},[O,ye,t,be,ue]),vt=S.createElement("div",it({role:"menuitem",style:K,className:"".concat(ue,"-title"),tabIndex:fe?null:-1,ref:oe,title:typeof i=="string"?i:null,"data-menu-id":F&&M?null:M,"aria-expanded":be,"aria-haspopup":!0,"aria-controls":pt,"aria-disabled":fe,onClick:_e,onFocus:We},me),i,mt),At=S.useRef(O);if(O!=="inline"&&re.length>1?At.current="vertical":At.current=O,!F){var ot=At.current;vt=S.createElement(K3e,{mode:ot,prefixCls:ue,visible:!s&&be&&O!=="inline",popupClassName:d,popupOffset:f,popupStyle:h,popup:S.createElement(vx,{mode:ot==="horizontal"?"vertical":ot},S.createElement(dB,{id:pt,ref:ce},l)),disabled:fe,onVisibleChange:lt},vt)}var Ve=S.createElement(lu.Item,it({ref:e,role:"none"},E,{component:"li",style:n,className:ke(ue,"".concat(ue,"-").concat(O),r,Se(Se(Se(Se({},"".concat(ue,"-open"),be),"".concat(ue,"-active"),se),"".concat(ue,"-selected"),Ce),"".concat(ue,"-disabled"),fe)),onMouseEnter:rt,onMouseLeave:qe}),vt,!F&&S.createElement(Q3e,{id:pt,open:be,keyPath:re},l));return Y&&(Ve=Y(Ve,t,{selected:Ce,active:se,open:be,disabled:fe})),S.createElement(vx,{onItemClick:Ue,mode:O==="horizontal"?"vertical":O,itemIcon:pe,expandIcon:ye},Ve)}),hB=S.forwardRef(function(t,e){var n=t.eventKey,r=t.children,i=I2(n),o=fB(r,i),a=hM();S.useEffect(function(){if(a)return a.registerPath(n,i),function(){a.unregisterPath(n,i)}},[i]);var s;return a?s=o:s=S.createElement(eMe,it({ref:e},t),o),S.createElement(Kte.Provider,{value:i},s)});function rne(t){var e=t.className,n=t.style,r=S.useContext(fu),i=r.prefixCls,o=hM();return o?null:S.createElement("li",{role:"separator",className:ke("".concat(i,"-item-divider"),e),style:n})}var tMe=["className","title","eventKey","children"],nMe=S.forwardRef(function(t,e){var n=t.className,r=t.title;t.eventKey;var i=t.children,o=Qn(t,tMe),a=S.useContext(fu),s=a.prefixCls,l="".concat(s,"-item-group");return S.createElement("li",it({ref:e,role:"presentation"},o,{onClick:function(u){return u.stopPropagation()},className:ke(l,n)}),S.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:typeof r=="string"?r:void 0},r),S.createElement("ul",{role:"group",className:"".concat(l,"-list")},i))}),ine=S.forwardRef(function(t,e){var n=t.eventKey,r=t.children,i=I2(n),o=fB(r,i),a=hM();return a?o:S.createElement(nMe,it({ref:e},go(t,["warnKey"])),o)}),rMe=["label","children","key","type","extra"];function a5(t,e,n){var r=e.item,i=e.group,o=e.submenu,a=e.divider;return(t||[]).map(function(s,l){if(s&&yn(s)==="object"){var c=s,u=c.label,d=c.children,f=c.key,h=c.type,p=c.extra,x=Qn(c,rMe),b=f??"tmp-".concat(l);return d||h==="group"?h==="group"?S.createElement(i,it({key:b},x,{title:u}),a5(d,e,n)):S.createElement(o,it({key:b},x,{title:u}),a5(d,e,n)):h==="divider"?S.createElement(a,it({key:b},x)):S.createElement(r,it({key:b},x,{extra:p}),u,(!!p||p===0)&&S.createElement("span",{className:"".concat(n,"-item-extra")},p))}return null}).filter(function(s){return s})}function kz(t,e,n,r,i){var o=t,a=we({divider:rne,item:pM,group:ine,submenu:hB},r);return e&&(o=a5(e,a,i)),fB(o,n)}var iMe=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],Ep=[],oMe=S.forwardRef(function(t,e){var n,r=t,i=r.prefixCls,o=i===void 0?"rc-menu":i,a=r.rootClassName,s=r.style,l=r.className,c=r.tabIndex,u=c===void 0?0:c,d=r.items,f=r.children,h=r.direction,p=r.id,x=r.mode,b=x===void 0?"vertical":x,y=r.inlineCollapsed,_=r.disabled,C=r.disabledOverflow,E=r.subMenuOpenDelay,M=E===void 0?.1:E,R=r.subMenuCloseDelay,N=R===void 0?.1:R,O=r.forceSubMenuRender,I=r.defaultOpenKeys,L=r.openKeys,F=r.activeKey,$=r.defaultActiveFirst,V=r.selectable,U=V===void 0?!0:V,k=r.multiple,z=k===void 0?!1:k,H=r.defaultSelectedKeys,j=r.selectedKeys,X=r.onSelect,Y=r.onDeselect,J=r.inlineIndent,ee=J===void 0?24:J,re=r.motion,ue=r.defaultMotions,fe=r.triggerSubMenuAction,oe=fe===void 0?"hover":fe,ce=r.builtinPlacements,pe=r.itemIcon,ye=r.expandIcon,xe=r.overflowedIndicator,be=xe===void 0?"...":xe,Ce=r.overflowedIndicatorPopupClassName,Ne=r.getPopupContainer,Ae=r.onClick,me=r.onOpenChange,de=r.onKeyDown;r.openAnimation,r.openTransitionName;var Be=r._internalRenderMenuItem,ne=r._internalRenderSubMenuItem,Je=r._internalComponents,Ye=Qn(r,iMe),rt=S.useMemo(function(){return[kz(f,d,Ep,Je,o),kz(f,d,Ep,{},o)]},[f,d,Je]),qe=Oe(rt,2),se=qe[0],K=qe[1],_e=S.useState(!1),Ue=Oe(_e,2),lt=Ue[0],We=Ue[1],pt=S.useRef(),mt=F3e(p),vt=h==="rtl",At=yi(I,{value:L,postState:function(Lt){return Lt||Ep}}),ot=Oe(At,2),Ve=ot[0],at=ot[1],tt=function(Lt){var Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function vn(){at(Lt),me==null||me(Lt)}Wt?uf.flushSync(vn):vn()},ze=S.useState(Ve),bt=Oe(ze,2),Pe=bt[0],Mt=bt[1],Ct=S.useRef(!1),qt=S.useMemo(function(){return(b==="inline"||b==="vertical")&&y?["vertical",y]:[b,!1]},[b,y]),Ge=Oe(qt,2),yt=Ge[0],Tt=Ge[1],Ut=yt==="inline",mn=S.useState(yt),dn=Oe(mn,2),tn=dn[0],pn=dn[1],fn=S.useState(Tt),kt=Oe(fn,2),Nt=kt[0],It=kt[1];S.useEffect(function(){pn(yt),It(Tt),Ct.current&&(Ut?at(Pe):tt(Ep))},[yt,Tt]);var Le=S.useState(0),st=Oe(Le,2),gt=st[0],ht=st[1],m=gt>=se.length-1||tn!=="horizontal"||C;S.useEffect(function(){Ut&&Mt(Ve)},[Ve]),S.useEffect(function(){return Ct.current=!0,function(){Ct.current=!1}},[]);var te=L3e(),on=te.registerPath,xn=te.unregisterPath,Gn=te.refreshOverflowKeys,cn=te.isSubPathKey,In=te.getKeyPath,dr=te.getKeys,Sn=te.getSubPathKeys,wt=S.useMemo(function(){return{registerPath:on,unregisterPath:xn}},[on,xn]),Zt=S.useMemo(function(){return{isSubPathKey:cn}},[cn]);S.useEffect(function(){Gn(m?Ep:se.slice(gt+1).map(function(Dn){return Dn.key}))},[gt,m]);var Mn=yi(F||$&&((n=se[0])===null||n===void 0?void 0:n.key),{value:F}),kn=Oe(Mn,2),le=kn[0],Ie=kn[1],et=V1(function(Dn){Ie(Dn)}),nt=V1(function(){Ie(void 0)});S.useImperativeHandle(e,function(){return{list:pt.current,focus:function(Lt){var Wt,vn=dr(),nn=i5(vn,mt),an=nn.elements,Hn=nn.key2element,Hr=nn.element2key,Jn=cB(pt.current,an),Sr=le??(Jn[0]?Hr.get(Jn[0]):(Wt=se.find(function(Bn){return!Bn.props.disabled}))===null||Wt===void 0?void 0:Wt.key),sr=Hn.get(Sr);if(Sr&&sr){var jr;sr==null||(jr=sr.focus)===null||jr===void 0||jr.call(sr,Lt)}}}});var Fe=yi(H||[],{value:j,postState:function(Lt){return Array.isArray(Lt)?Lt:Lt==null?Ep:[Lt]}}),St=Oe(Fe,2),Dt=St[0],_t=St[1],ie=function(Lt){if(U){var Wt=Lt.key,vn=Dt.includes(Wt),nn;z?vn?nn=Dt.filter(function(Hn){return Hn!==Wt}):nn=[].concat(zt(Dt),[Wt]):nn=[Wt],_t(nn);var an=we(we({},Lt),{},{selectedKeys:nn});vn?Y==null||Y(an):X==null||X(an)}!z&&Ve.length&&tn!=="inline"&&tt(Ep)},Ot=V1(function(Dn){Ae==null||Ae($T(Dn)),ie(Dn)}),_n=V1(function(Dn,Lt){var Wt=Ve.filter(function(nn){return nn!==Dn});if(Lt)Wt.push(Dn);else if(tn!=="inline"){var vn=Sn(Dn);Wt=Wt.filter(function(nn){return!vn.has(nn)})}cx(Ve,Wt,!0)||tt(Wt,!0)}),hn=function(Lt,Wt){var vn=Wt??!Ve.includes(Lt);_n(Lt,vn)},Vn=I3e(tn,le,vt,mt,pt,dr,In,Ie,hn,de);S.useEffect(function(){We(!0)},[]);var fr=S.useMemo(function(){return{_internalRenderMenuItem:Be,_internalRenderSubMenuItem:ne}},[Be,ne]),Tr=tn!=="horizontal"||C?se:se.map(function(Dn,Lt){return S.createElement(vx,{key:Dn.key,overflowDisabled:Lt>gt},Dn)}),ae=S.createElement(lu,it({id:p,ref:pt,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:pM,className:ke(o,"".concat(o,"-root"),"".concat(o,"-").concat(tn),l,Se(Se({},"".concat(o,"-inline-collapsed"),Nt),"".concat(o,"-rtl"),vt),a),dir:h,style:s,role:"menu",tabIndex:u,data:Tr,renderRawItem:function(Lt){return Lt},renderRawRest:function(Lt){var Wt=Lt.length,vn=Wt?se.slice(-Wt):null;return S.createElement(hB,{eventKey:o5,title:be,disabled:m,internalPopupClose:Wt===0,popupClassName:Ce},vn)},maxCount:tn!=="horizontal"||C?lu.INVALIDATE:lu.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Lt){ht(Lt)},onKeyDown:Vn},Ye));return S.createElement(lB.Provider,{value:fr},S.createElement(qte.Provider,{value:mt},S.createElement(vx,{prefixCls:o,rootClassName:a,mode:tn,openKeys:Ve,rtl:vt,disabled:_,motion:lt?re:null,defaultMotions:lt?ue:null,activeKey:le,onActive:et,onInactive:nt,selectedKeys:Dt,inlineIndent:ee,subMenuOpenDelay:M,subMenuCloseDelay:N,forceSubMenuRender:O,builtinPlacements:ce,triggerSubMenuAction:oe,getPopupContainer:Ne,itemIcon:pe,expandIcon:ye,onItemClick:Ot,onOpenChange:_n},S.createElement(Qte.Provider,{value:Zt},ae),S.createElement("div",{style:{display:"none"},"aria-hidden":!0},S.createElement(Yte.Provider,{value:wt},K)))))}),D2=oMe;D2.Item=pM;D2.SubMenu=hB;D2.ItemGroup=ine;D2.Divider=rne;var aMe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};const sMe=aMe;var lMe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:sMe}))},cMe=S.forwardRef(lMe);const uMe=cMe,one=S.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),dMe=t=>{const{antCls:e,componentCls:n,colorText:r,footerBg:i,headerHeight:o,headerPadding:a,headerColor:s,footerPadding:l,fontSize:c,bodyBg:u,headerBg:d}=t;return{[n]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:u,"&, *":{boxSizing:"border-box"},[`&${n}-has-sider`]:{flexDirection:"row",[`> ${n}, > ${n}-content`]:{width:0}},[`${n}-header, &${n}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${n}-header`]:{height:o,padding:a,color:s,lineHeight:Re(o),background:d,[`${e}-menu`]:{lineHeight:"inherit"}},[`${n}-footer`]:{padding:l,color:r,fontSize:c,background:i},[`${n}-content`]:{flex:"auto",color:r,minHeight:0}}},ane=t=>{const{colorBgLayout:e,controlHeight:n,controlHeightLG:r,colorText:i,controlHeightSM:o,marginXXS:a,colorTextLightSolid:s,colorBgContainer:l}=t,c=r*1.25;return{colorBgHeader:"#001529",colorBgBody:e,colorBgTrigger:"#002140",bodyBg:e,headerBg:"#001529",headerHeight:n*2,headerPadding:`0 ${c}px`,headerColor:i,footerPadding:`${o}px ${c}px`,footerBg:e,siderBg:"#001529",triggerHeight:r+a*2,triggerBg:"#002140",triggerColor:s,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:l,lightTriggerBg:l,lightTriggerColor:i}},sne=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],lne=di("Layout",dMe,ane,{deprecatedTokens:sne}),fMe=t=>{const{componentCls:e,siderBg:n,motionDurationMid:r,motionDurationSlow:i,antCls:o,triggerHeight:a,triggerColor:s,triggerBg:l,headerHeight:c,zeroTriggerWidth:u,zeroTriggerHeight:d,borderRadiusLG:f,lightSiderBg:h,lightTriggerColor:p,lightTriggerBg:x,bodyBg:b}=t;return{[e]:{position:"relative",minWidth:0,background:n,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:a},"&-right":{order:1},[`${e}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${o}-menu${o}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${e}-children`]:{overflow:"hidden"},[`${e}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:a,color:s,lineHeight:Re(a),textAlign:"center",background:l,cursor:"pointer",transition:`all ${r}`},[`${e}-zero-width-trigger`]:{position:"absolute",top:c,insetInlineEnd:t.calc(u).mul(-1).equal(),zIndex:1,width:u,height:d,color:s,fontSize:t.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:n,borderRadius:`0 ${Re(f)} ${Re(f)} 0`,cursor:"pointer",transition:`background ${i} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${i}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:t.calc(u).mul(-1).equal(),borderRadius:`${Re(f)} 0 0 ${Re(f)}`}},"&-light":{background:h,[`${e}-trigger`]:{color:p,background:x},[`${e}-zero-width-trigger`]:{color:p,background:x,border:`1px solid ${b}`,borderInlineStart:0}}}}},hMe=di(["Layout","Sider"],fMe,ane,{deprecatedTokens:sne});var pMe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Vz={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},mMe=t=>!Number.isNaN(Number.parseFloat(t))&&Number.isFinite(Number(t)),cne=S.createContext({}),gMe=(()=>{let t=0;return(e="")=>(t+=1,`${e}${t}`)})(),AMe=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,trigger:i,children:o,defaultCollapsed:a=!1,theme:s="dark",style:l={},collapsible:c=!1,reverseArrow:u=!1,width:d=200,collapsedWidth:f=80,zeroWidthTriggerStyle:h,breakpoint:p,onCollapse:x,onBreakpoint:b}=t,y=pMe(t,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:_}=S.useContext(one),[C,E]=S.useState("collapsed"in t?t.collapsed:a),[M,R]=S.useState(!1);S.useEffect(()=>{"collapsed"in t&&E(t.collapsed)},[t.collapsed]);const N=(pe,ye)=>{"collapsed"in t||E(pe),x==null||x(pe,ye)},{getPrefixCls:O,direction:I}=S.useContext(Kn),L=O("layout-sider",n),[F,$,V]=hMe(L),U=S.useRef(null);U.current=pe=>{R(pe.matches),b==null||b(pe.matches),C!==pe.matches&&N(pe.matches,"responsive")},S.useEffect(()=>{function pe(xe){var be;return(be=U.current)===null||be===void 0?void 0:be.call(U,xe)}let ye;return typeof(window==null?void 0:window.matchMedia)<"u"&&p&&p in Vz&&(ye=window.matchMedia(`screen and (max-width: ${Vz[p]})`),Nte(ye,pe),pe(ye)),()=>{Ite(ye,pe)}},[p]),S.useEffect(()=>{const pe=gMe("ant-sider-");return _.addSider(pe),()=>_.removeSider(pe)},[]);const k=()=>{N(!C,"clickTrigger")},z=go(y,["collapsed"]),H=C?f:d,j=mMe(H)?`${H}px`:String(H),X=Number.parseFloat(String(f||0))===0?S.createElement("span",{onClick:k,className:ke(`${L}-zero-width-trigger`,`${L}-zero-width-trigger-${u?"right":"left"}`),style:h},i||S.createElement(uMe,null)):null,Y=I==="rtl"==!u,re={expanded:Y?S.createElement(mx,null):S.createElement(FT,null),collapsed:Y?S.createElement(FT,null):S.createElement(mx,null)}[C?"collapsed":"expanded"],ue=i!==null?X||S.createElement("div",{className:`${L}-trigger`,onClick:k,style:{width:j}},i||re):null,fe=Object.assign(Object.assign({},l),{flex:`0 0 ${j}`,maxWidth:j,minWidth:j,width:j}),oe=ke(L,`${L}-${s}`,{[`${L}-collapsed`]:!!C,[`${L}-has-trigger`]:c&&i!==null&&!X,[`${L}-below`]:!!M,[`${L}-zero-width`]:Number.parseFloat(j)===0},r,$,V),ce=S.useMemo(()=>({siderCollapsed:C}),[C]);return F(S.createElement(cne.Provider,{value:ce},S.createElement("aside",Object.assign({className:oe},z,{style:fe,ref:e}),S.createElement("div",{className:`${L}-children`},o),c||M&&X?ue:null)))}),une=AMe;var vMe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const yMe=vMe;var bMe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:yMe}))},xMe=S.forwardRef(bMe);const SMe=xMe;var dne={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ip,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",a="second",s="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",p="date",x="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var k=["th","st","nd","rd"],z=U%100;return"["+U+(k[(z-20)%10]||k[z]||k[0])+"]"}},C=function(U,k,z){var H=String(U);return!H||H.length>=k?U:""+Array(k+1-H.length).join(z)+U},E={s:C,z:function(U){var k=-U.utcOffset(),z=Math.abs(k),H=Math.floor(z/60),j=z%60;return(k<=0?"+":"-")+C(H,2,"0")+":"+C(j,2,"0")},m:function U(k,z){if(k.date()<z.date())return-U(z,k);var H=12*(z.year()-k.year())+(z.month()-k.month()),j=k.clone().add(H,d),X=z-j<0,Y=k.clone().add(H+(X?-1:1),d);return+(-(H+(z-j)/(X?j-Y:Y-j))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:d,y:h,w:u,d:c,D:p,h:l,m:s,s:a,ms:o,Q:f}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},M="en",R={};R[M]=_;var N="$isDayjsObject",O=function(U){return U instanceof $||!(!U||!U[N])},I=function U(k,z,H){var j;if(!k)return M;if(typeof k=="string"){var X=k.toLowerCase();R[X]&&(j=X),z&&(R[X]=z,j=X);var Y=k.split("-");if(!j&&Y.length>1)return U(Y[0])}else{var J=k.name;R[J]=k,j=J}return!H&&j&&(M=j),j||!H&&M},L=function(U,k){if(O(U))return U.clone();var z=typeof k=="object"?k:{};return z.date=U,z.args=arguments,new $(z)},F=E;F.l=I,F.i=O,F.w=function(U,k){return L(U,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var $=function(){function U(z){this.$L=I(z.locale,null,!0),this.parse(z),this.$x=this.$x||z.x||{},this[N]=!0}var k=U.prototype;return k.parse=function(z){this.$d=function(H){var j=H.date,X=H.utc;if(j===null)return new Date(NaN);if(F.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var Y=j.match(b);if(Y){var J=Y[2]-1||0,ee=(Y[7]||"0").substring(0,3);return X?new Date(Date.UTC(Y[1],J,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,ee)):new Date(Y[1],J,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,ee)}}return new Date(j)}(z),this.init()},k.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},k.$utils=function(){return F},k.isValid=function(){return this.$d.toString()!==x},k.isSame=function(z,H){var j=L(z);return this.startOf(H)<=j&&j<=this.endOf(H)},k.isAfter=function(z,H){return L(z)<this.startOf(H)},k.isBefore=function(z,H){return this.endOf(H)<L(z)},k.$g=function(z,H,j){return F.u(z)?this[H]:this.set(j,z)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(z,H){var j=this,X=!!F.u(H)||H,Y=F.p(z),J=function(ye,xe){var be=F.w(j.$u?Date.UTC(j.$y,xe,ye):new Date(j.$y,xe,ye),j);return X?be:be.endOf(c)},ee=function(ye,xe){return F.w(j.toDate()[ye].apply(j.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(xe)),j)},re=this.$W,ue=this.$M,fe=this.$D,oe="set"+(this.$u?"UTC":"");switch(Y){case h:return X?J(1,0):J(31,11);case d:return X?J(1,ue):J(0,ue+1);case u:var ce=this.$locale().weekStart||0,pe=(re<ce?re+7:re)-ce;return J(X?fe-pe:fe+(6-pe),ue);case c:case p:return ee(oe+"Hours",0);case l:return ee(oe+"Minutes",1);case s:return ee(oe+"Seconds",2);case a:return ee(oe+"Milliseconds",3);default:return this.clone()}},k.endOf=function(z){return this.startOf(z,!1)},k.$set=function(z,H){var j,X=F.p(z),Y="set"+(this.$u?"UTC":""),J=(j={},j[c]=Y+"Date",j[p]=Y+"Date",j[d]=Y+"Month",j[h]=Y+"FullYear",j[l]=Y+"Hours",j[s]=Y+"Minutes",j[a]=Y+"Seconds",j[o]=Y+"Milliseconds",j)[X],ee=X===c?this.$D+(H-this.$W):H;if(X===d||X===h){var re=this.clone().set(p,1);re.$d[J](ee),re.init(),this.$d=re.set(p,Math.min(this.$D,re.daysInMonth())).$d}else J&&this.$d[J](ee);return this.init(),this},k.set=function(z,H){return this.clone().$set(z,H)},k.get=function(z){return this[F.p(z)]()},k.add=function(z,H){var j,X=this;z=Number(z);var Y=F.p(H),J=function(ue){var fe=L(X);return F.w(fe.date(fe.date()+Math.round(ue*z)),X)};if(Y===d)return this.set(d,this.$M+z);if(Y===h)return this.set(h,this.$y+z);if(Y===c)return J(1);if(Y===u)return J(7);var ee=(j={},j[s]=r,j[l]=i,j[a]=n,j)[Y]||1,re=this.$d.getTime()+z*ee;return F.w(re,this)},k.subtract=function(z,H){return this.add(-1*z,H)},k.format=function(z){var H=this,j=this.$locale();if(!this.isValid())return j.invalidDate||x;var X=z||"YYYY-MM-DDTHH:mm:ssZ",Y=F.z(this),J=this.$H,ee=this.$m,re=this.$M,ue=j.weekdays,fe=j.months,oe=j.meridiem,ce=function(xe,be,Ce,Ne){return xe&&(xe[be]||xe(H,X))||Ce[be].slice(0,Ne)},pe=function(xe){return F.s(J%12||12,xe,"0")},ye=oe||function(xe,be,Ce){var Ne=xe<12?"AM":"PM";return Ce?Ne.toLowerCase():Ne};return X.replace(y,function(xe,be){return be||function(Ce){switch(Ce){case"YY":return String(H.$y).slice(-2);case"YYYY":return F.s(H.$y,4,"0");case"M":return re+1;case"MM":return F.s(re+1,2,"0");case"MMM":return ce(j.monthsShort,re,fe,3);case"MMMM":return ce(fe,re);case"D":return H.$D;case"DD":return F.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return ce(j.weekdaysMin,H.$W,ue,2);case"ddd":return ce(j.weekdaysShort,H.$W,ue,3);case"dddd":return ue[H.$W];case"H":return String(J);case"HH":return F.s(J,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return ye(J,ee,!0);case"A":return ye(J,ee,!1);case"m":return String(ee);case"mm":return F.s(ee,2,"0");case"s":return String(H.$s);case"ss":return F.s(H.$s,2,"0");case"SSS":return F.s(H.$ms,3,"0");case"Z":return Y}return null}(xe)||Y.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(z,H,j){var X,Y=this,J=F.p(H),ee=L(z),re=(ee.utcOffset()-this.utcOffset())*r,ue=this-ee,fe=function(){return F.m(Y,ee)};switch(J){case h:X=fe()/12;break;case d:X=fe();break;case f:X=fe()/3;break;case u:X=(ue-re)/6048e5;break;case c:X=(ue-re)/864e5;break;case l:X=ue/i;break;case s:X=ue/r;break;case a:X=ue/n;break;default:X=ue}return j?X:F.a(X)},k.daysInMonth=function(){return this.endOf(d).$D},k.$locale=function(){return R[this.$L]},k.locale=function(z,H){if(!z)return this.$L;var j=this.clone(),X=I(z,H,!0);return X&&(j.$L=X),j},k.clone=function(){return F.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},U}(),V=$.prototype;return L.prototype=V,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",c],["$M",d],["$y",h],["$D",p]].forEach(function(U){V[U[1]]=function(k){return this.$g(k,U[0],U[1])}}),L.extend=function(U,k){return U.$i||(U(k,$,L),U.$i=!0),L},L.locale=I,L.isDayjs=O,L.unix=function(U){return L(1e3*U)},L.en=R[M],L.Ls=R,L.p={},L})})(dne);var _Me=dne.exports;const _a=sl(_Me);var fne={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ip,function(){return function(n,r){r.prototype.weekday=function(i){var o=this.$locale().weekStart||0,a=this.$W,s=(a<o?a+7:a)-o;return this.$utils().u(i)?s:this.subtract(s,"day").add(i,"day")}}})})(fne);var wMe=fne.exports;const CMe=sl(wMe);var hne={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ip,function(){return function(n,r,i){var o=r.prototype,a=function(d){return d&&(d.indexOf?d:d.s)},s=function(d,f,h,p,x){var b=d.name?d:d.$locale(),y=a(b[f]),_=a(b[h]),C=y||_.map(function(M){return M.slice(0,p)});if(!x)return C;var E=b.weekStart;return C.map(function(M,R){return C[(R+(E||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,x,b){return x||b.slice(1)})}(d.formats[f.toUpperCase()])},u=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):s(d,"months")},monthsShort:function(f){return f?f.format("MMM"):s(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):s(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):s(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):s(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return u.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(d){return s(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return s(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return s(l(),"weekdaysMin","weekdays",2,d)}}})})(hne);var TMe=hne.exports;const EMe=sl(TMe);var pne={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ip,function(){var n="week",r="year";return function(i,o,a){var s=o.prototype;s.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=a(this).startOf(r).add(1,r).date(c),d=a(this).endOf(n);if(u.isBefore(d))return 1}var f=a(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),h=this.diff(f,n,!0);return h<0?a(this).startOf("week").week():Math.ceil(h)},s.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(pne);var MMe=pne.exports;const RMe=sl(MMe);var mne={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ip,function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),o=this.week(),a=this.year();return o===1&&i===11?a+1:i===0&&o>=52?a-1:a}}})})(mne);var PMe=mne.exports;const NMe=sl(PMe);var gne={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ip,function(){return function(n,r){var i=r.prototype,o=i.format;i.format=function(a){var s=this,l=this.$locale();if(!this.isValid())return o.bind(this)(a);var c=this.$utils(),u=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return l.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return l.ordinal(s.week(),"W");case"w":case"ww":return c.s(s.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(s.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(s.$H===0?24:s.$H),d==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return d}});return o.bind(this)(u)}}})})(gne);var IMe=gne.exports;const DMe=sl(IMe);var Ane={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ip,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,o=/\d\d/,a=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,l={},c=function(b){return(b=+b)+(b>68?1900:2e3)},u=function(b){return function(y){this[b]=+y}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var _=y.match(/([+-]|\d\d)/g),C=60*_[1]+(+_[2]||0);return C===0?0:_[0]==="+"?-C:C}(b)}],f=function(b){var y=l[b];return y&&(y.indexOf?y:y.s.concat(y.f))},h=function(b,y){var _,C=l.meridiem;if(C){for(var E=1;E<=24;E+=1)if(b.indexOf(C(E,0,y))>-1){_=E>12;break}}else _=b===(y?"pm":"PM");return _},p={A:[s,function(b){this.afternoon=h(b,!1)}],a:[s,function(b){this.afternoon=h(b,!0)}],Q:[i,function(b){this.month=3*(b-1)+1}],S:[i,function(b){this.milliseconds=100*+b}],SS:[o,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[a,u("seconds")],ss:[a,u("seconds")],m:[a,u("minutes")],mm:[a,u("minutes")],H:[a,u("hours")],h:[a,u("hours")],HH:[a,u("hours")],hh:[a,u("hours")],D:[a,u("day")],DD:[o,u("day")],Do:[s,function(b){var y=l.ordinal,_=b.match(/\d+/);if(this.day=_[0],y)for(var C=1;C<=31;C+=1)y(C).replace(/\[|\]/g,"")===b&&(this.day=C)}],w:[a,u("week")],ww:[o,u("week")],M:[a,u("month")],MM:[o,u("month")],MMM:[s,function(b){var y=f("months"),_=(f("monthsShort")||y.map(function(C){return C.slice(0,3)})).indexOf(b)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[s,function(b){var y=f("months").indexOf(b)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,u("year")],YY:[o,function(b){this.year=c(b)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function x(b){var y,_;y=b,_=l&&l.formats;for(var C=(b=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(L,F,$){var V=$&&$.toUpperCase();return F||_[$]||n[$]||_[V].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(U,k,z){return k||z.slice(1)})})).match(r),E=C.length,M=0;M<E;M+=1){var R=C[M],N=p[R],O=N&&N[0],I=N&&N[1];C[M]=I?{regex:O,parser:I}:R.replace(/^\[|\]$/g,"")}return function(L){for(var F={},$=0,V=0;$<E;$+=1){var U=C[$];if(typeof U=="string")V+=U.length;else{var k=U.regex,z=U.parser,H=L.slice(V),j=k.exec(H)[0];z.call(F,j),L=L.replace(j,"")}}return function(X){var Y=X.afternoon;if(Y!==void 0){var J=X.hours;Y?J<12&&(X.hours+=12):J===12&&(X.hours=0),delete X.afternoon}}(F),F}}return function(b,y,_){_.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(c=b.parseTwoDigitYear);var C=y.prototype,E=C.parse;C.parse=function(M){var R=M.date,N=M.utc,O=M.args;this.$u=N;var I=O[1];if(typeof I=="string"){var L=O[2]===!0,F=O[3]===!0,$=L||F,V=O[2];F&&(V=O[2]),l=this.$locale(),!L&&V&&(l=_.Ls[V]),this.$d=function(H,j,X,Y){try{if(["x","X"].indexOf(j)>-1)return new Date((j==="X"?1e3:1)*H);var J=x(j)(H),ee=J.year,re=J.month,ue=J.day,fe=J.hours,oe=J.minutes,ce=J.seconds,pe=J.milliseconds,ye=J.zone,xe=J.week,be=new Date,Ce=ue||(ee||re?1:be.getDate()),Ne=ee||be.getFullYear(),Ae=0;ee&&!re||(Ae=re>0?re-1:be.getMonth());var me,de=fe||0,Be=oe||0,ne=ce||0,Je=pe||0;return ye?new Date(Date.UTC(Ne,Ae,Ce,de,Be,ne,Je+60*ye.offset*1e3)):X?new Date(Date.UTC(Ne,Ae,Ce,de,Be,ne,Je)):(me=new Date(Ne,Ae,Ce,de,Be,ne,Je),xe&&(me=Y(me).week(xe).toDate()),me)}catch{return new Date("")}}(R,I,N,_),this.init(),V&&V!==!0&&(this.$L=this.locale(V).$L),$&&R!=this.format(I)&&(this.$d=new Date("")),l={}}else if(I instanceof Array)for(var U=I.length,k=1;k<=U;k+=1){O[1]=I[k-1];var z=_.apply(this,O);if(z.isValid()){this.$d=z.$d,this.$L=z.$L,this.init();break}k===U&&(this.$d=new Date(""))}else E.call(this,M)}}})})(Ane);var OMe=Ane.exports;const LMe=sl(OMe);_a.extend(LMe);_a.extend(DMe);_a.extend(CMe);_a.extend(EMe);_a.extend(RMe);_a.extend(NMe);_a.extend(function(t,e){var n=e.prototype,r=n.format;n.format=function(o){var a=(o||"").replace("Wo","wo");return r.bind(this)(a)}});var BMe={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},Mp=function(e){var n=BMe[e];return n||e.split("_")[0]},FMe={getNow:function(){var e=_a();return typeof e.tz=="function"?e.tz():e},getFixedDate:function(e){return _a(e,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(e){return e.endOf("month")},getWeekDay:function(e){var n=e.locale("en");return n.weekday()+n.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},getMillisecond:function(e){return e.millisecond()},addYear:function(e,n){return e.add(n,"year")},addMonth:function(e,n){return e.add(n,"month")},addDate:function(e,n){return e.add(n,"day")},setYear:function(e,n){return e.year(n)},setMonth:function(e,n){return e.month(n)},setDate:function(e,n){return e.date(n)},setHour:function(e,n){return e.hour(n)},setMinute:function(e,n){return e.minute(n)},setSecond:function(e,n){return e.second(n)},setMillisecond:function(e,n){return e.millisecond(n)},isAfter:function(e,n){return e.isAfter(n)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return _a().locale(Mp(e)).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,n){return n.locale(Mp(e)).weekday(0)},getWeek:function(e,n){return n.locale(Mp(e)).week()},getShortWeekDays:function(e){return _a().locale(Mp(e)).localeData().weekdaysMin()},getShortMonths:function(e){return _a().locale(Mp(e)).localeData().monthsShort()},format:function(e,n,r){return n.locale(Mp(e)).format(r)},parse:function(e,n,r){for(var i=Mp(e),o=0;o<r.length;o+=1){var a=r[o],s=n;if(a.includes("wo")||a.includes("Wo")){for(var l=s.split("-")[0],c=s.split("-")[1],u=_a(l,"YYYY").startOf("year").locale(i),d=0;d<=52;d+=1){var f=u.add(d,"week");if(f.format("Wo")===c)return f}return null}var h=_a(s,a,!0).locale(i);if(h.isValid())return h}return null}}};function $Me(t,e){return t!==void 0?t:e?"bottomRight":"bottomLeft"}var xu=S.createContext(null),UMe={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function vne(t){var e=t.popupElement,n=t.popupStyle,r=t.popupClassName,i=t.popupAlign,o=t.transitionName,a=t.getPopupContainer,s=t.children,l=t.range,c=t.placement,u=t.builtinPlacements,d=u===void 0?UMe:u,f=t.direction,h=t.visible,p=t.onClose,x=S.useContext(xu),b=x.prefixCls,y="".concat(b,"-dropdown"),_=$Me(c,f==="rtl");return S.createElement(N2,{showAction:[],hideAction:["click"],popupPlacement:_,builtinPlacements:d,prefixCls:y,popupTransitionName:o,popup:e,popupAlign:i,popupVisible:h,popupClassName:ke(r,Se(Se({},"".concat(y,"-range"),l),"".concat(y,"-rtl"),f==="rtl")),popupStyle:n,stretch:"minWidth",getPopupContainer:a,onPopupVisibleChange:function(E){E||p()}},s)}function pB(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",r=String(t);r.length<e;)r="".concat(n).concat(r);return r}function g0(t){return t==null?[]:Array.isArray(t)?t:[t]}function Ab(t,e,n){var r=zt(t);return r[e]=n,r}function mM(t,e){var n={},r=e||Object.keys(t);return r.forEach(function(i){t[i]!==void 0&&(n[i]=t[i])}),n}function yne(t,e,n){if(n)return n;switch(t){case"time":return e.fieldTimeFormat;case"datetime":return e.fieldDateTimeFormat;case"month":return e.fieldMonthFormat;case"year":return e.fieldYearFormat;case"quarter":return e.fieldQuarterFormat;case"week":return e.fieldWeekFormat;default:return e.fieldDateFormat}}function bne(t,e,n){var r=n!==void 0?n:e[e.length-1],i=e.find(function(o){return t[o]});return r!==i?t[i]:void 0}function xne(t){return mM(t,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function mB(t,e,n,r){var i=S.useMemo(function(){return t||function(a,s){var l=a;return e&&s.type==="date"?e(l,s.today):n&&s.type==="month"?n(l,s.locale):s.originNode}},[t,n,e]),o=S.useCallback(function(a,s){return i(a,we(we({},s),{},{range:r}))},[i,r]);return o}function Sne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=S.useState([!1,!1]),i=Oe(r,2),o=i[0],a=i[1],s=function(u,d){a(function(f){return Ab(f,d,u)})},l=S.useMemo(function(){return o.map(function(c,u){if(c)return!0;var d=t[u];return d?!!(!n[u]&&!d||d&&e(d,{activeIndex:u})):!1})},[t,o,e,n]);return[l,s]}function _ne(t,e,n,r,i){var o="",a=[];return t&&a.push(i?"hh":"HH"),e&&a.push("mm"),n&&a.push("ss"),o=a.join(":"),r&&(o+=".SSS"),i&&(o+=" A"),o}function kMe(t,e,n,r,i,o){var a=t.fieldDateTimeFormat,s=t.fieldDateFormat,l=t.fieldTimeFormat,c=t.fieldMonthFormat,u=t.fieldYearFormat,d=t.fieldWeekFormat,f=t.fieldQuarterFormat,h=t.yearFormat,p=t.cellYearFormat,x=t.cellQuarterFormat,b=t.dayFormat,y=t.cellDateFormat,_=_ne(e,n,r,i,o);return we(we({},t),{},{fieldDateTimeFormat:a||"YYYY-MM-DD ".concat(_),fieldDateFormat:s||"YYYY-MM-DD",fieldTimeFormat:l||_,fieldMonthFormat:c||"YYYY-MM",fieldYearFormat:u||"YYYY",fieldWeekFormat:d||"gggg-wo",fieldQuarterFormat:f||"YYYY-[Q]Q",yearFormat:h||"YYYY",cellYearFormat:p||"YYYY",cellQuarterFormat:x||"[Q]Q",cellDateFormat:y||b||"D"})}function wne(t,e){var n=e.showHour,r=e.showMinute,i=e.showSecond,o=e.showMillisecond,a=e.use12Hours;return je.useMemo(function(){return kMe(t,n,r,i,o,a)},[t,n,r,i,o,a])}function Ky(t,e,n){return n??e.some(function(r){return t.includes(r)})}var VMe=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function zMe(t){var e=mM(t,VMe),n=t.format,r=t.picker,i=null;return n&&(i=n,Array.isArray(i)&&(i=i[0]),i=yn(i)==="object"?i.format:i),r==="time"&&(e.format=i),[e,i]}function GMe(t){return t&&typeof t=="string"}function Cne(t,e,n,r){return[t,e,n,r].some(function(i){return i!==void 0})}function Tne(t,e,n,r,i){var o=e,a=n,s=r;if(!t&&!o&&!a&&!s&&!i)o=!0,a=!0,s=!0;else if(t){var l,c,u,d=[o,a,s].some(function(p){return p===!1}),f=[o,a,s].some(function(p){return p===!0}),h=d?!0:!f;o=(l=o)!==null&&l!==void 0?l:h,a=(c=a)!==null&&c!==void 0?c:h,s=(u=s)!==null&&u!==void 0?u:h}return[o,a,s,i]}function Ene(t){var e=t.showTime,n=zMe(t),r=Oe(n,2),i=r[0],o=r[1],a=e&&yn(e)==="object"?e:{},s=we(we({defaultOpenValue:a.defaultOpenValue||a.defaultValue},i),a),l=s.showMillisecond,c=s.showHour,u=s.showMinute,d=s.showSecond,f=Cne(c,u,d,l),h=Tne(f,c,u,d,l),p=Oe(h,3);return c=p[0],u=p[1],d=p[2],[s,we(we({},s),{},{showHour:c,showMinute:u,showSecond:d,showMillisecond:l}),s.format,o]}function Mne(t,e,n,r,i){var o=t==="time";if(t==="datetime"||o){for(var a=r,s=yne(t,i,null),l=s,c=[e,n],u=0;u<c.length;u+=1){var d=g0(c[u])[0];if(GMe(d)){l=d;break}}var f=a.showHour,h=a.showMinute,p=a.showSecond,x=a.showMillisecond,b=a.use12Hours,y=Ky(l,["a","A","LT","LLL","LTS"],b),_=Cne(f,h,p,x);_||(f=Ky(l,["H","h","k","LT","LLL"]),h=Ky(l,["m","LT","LLL"]),p=Ky(l,["s","LTS"]),x=Ky(l,["SSS"]));var C=Tne(_,f,h,p,x),E=Oe(C,3);f=E[0],h=E[1],p=E[2];var M=e||_ne(f,h,p,x,y);return we(we({},a),{},{format:M,showHour:f,showMinute:h,showSecond:p,showMillisecond:x,use12Hours:y})}return null}function HMe(t,e,n){if(e===!1)return null;var r=e&&yn(e)==="object"?e:{};return r.clearIcon||n||S.createElement("span",{className:"".concat(t,"-clear-btn")})}var w4=7;function up(t,e,n){return!t&&!e||t===e?!0:!t||!e?!1:n()}function s5(t,e,n){return up(e,n,function(){var r=Math.floor(t.getYear(e)/10),i=Math.floor(t.getYear(n)/10);return r===i})}function qm(t,e,n){return up(e,n,function(){return t.getYear(e)===t.getYear(n)})}function zz(t,e){var n=Math.floor(t.getMonth(e)/3);return n+1}function jMe(t,e,n){return up(e,n,function(){return qm(t,e,n)&&zz(t,e)===zz(t,n)})}function gB(t,e,n){return up(e,n,function(){return qm(t,e,n)&&t.getMonth(e)===t.getMonth(n)})}function AB(t,e,n){return up(e,n,function(){return qm(t,e,n)&&gB(t,e,n)&&t.getDate(e)===t.getDate(n)})}function Rne(t,e,n){return up(e,n,function(){return t.getHour(e)===t.getHour(n)&&t.getMinute(e)===t.getMinute(n)&&t.getSecond(e)===t.getSecond(n)})}function Pne(t,e,n){return up(e,n,function(){return AB(t,e,n)&&Rne(t,e,n)&&t.getMillisecond(e)===t.getMillisecond(n)})}function z1(t,e,n,r){return up(n,r,function(){var i=t.locale.getWeekFirstDate(e,n),o=t.locale.getWeekFirstDate(e,r);return qm(t,i,o)&&t.locale.getWeek(e,n)===t.locale.getWeek(e,r)})}function Za(t,e,n,r,i){switch(i){case"date":return AB(t,n,r);case"week":return z1(t,e.locale,n,r);case"month":return gB(t,n,r);case"quarter":return jMe(t,n,r);case"year":return qm(t,n,r);case"decade":return s5(t,n,r);case"time":return Rne(t,n,r);default:return Pne(t,n,r)}}function gM(t,e,n,r){return!e||!n||!r?!1:t.isAfter(r,e)&&t.isAfter(n,r)}function c_(t,e,n,r,i){return Za(t,e,n,r,i)?!0:t.isAfter(n,r)}function qMe(t,e,n){var r=e.locale.getWeekFirstDay(t),i=e.setDate(n,1),o=e.getWeekDay(i),a=e.addDate(i,r-o);return e.getMonth(a)===e.getMonth(n)&&e.getDate(a)>1&&(a=e.addDate(a,-7)),a}function qo(t,e){var n=e.generateConfig,r=e.locale,i=e.format;return t?typeof i=="function"?i(t):n.locale.format(r.locale,t,i):""}function UT(t,e,n){var r=e,i=["getHour","getMinute","getSecond","getMillisecond"],o=["setHour","setMinute","setSecond","setMillisecond"];return o.forEach(function(a,s){n?r=t[a](r,t[i[s]](n)):r=t[a](r,0)}),r}function WMe(t,e,n,r,i){var o=Or(function(a,s){return!!(n&&n(a,s)||r&&t.isAfter(r,a)&&!Za(t,e,r,a,s.type)||i&&t.isAfter(a,i)&&!Za(t,e,i,a,s.type))});return o}function XMe(t,e,n){return S.useMemo(function(){var r=yne(t,e,n),i=g0(r),o=i[0],a=yn(o)==="object"&&o.type==="mask"?o.format:null;return[i.map(function(s){return typeof s=="string"||typeof s=="function"?s:s.format}),a]},[t,e,n])}function YMe(t,e,n){return typeof t[0]=="function"||n?!0:e}function KMe(t,e,n,r){var i=Or(function(o,a){var s=we({type:e},a);if(delete s.activeIndex,!t.isValidate(o)||n&&n(o,s))return!0;if((e==="date"||e==="time")&&r){var l,c=a&&a.activeIndex===1?"end":"start",u=((l=r.disabledTime)===null||l===void 0?void 0:l.call(r,o,c,{from:s.from}))||{},d=u.disabledHours,f=u.disabledMinutes,h=u.disabledSeconds,p=u.disabledMilliseconds,x=r.disabledHours,b=r.disabledMinutes,y=r.disabledSeconds,_=d||x,C=f||b,E=h||y,M=t.getHour(o),R=t.getMinute(o),N=t.getSecond(o),O=t.getMillisecond(o);if(_&&_().includes(M)||C&&C(M).includes(R)||E&&E(M,R).includes(N)||p&&p(M,R,N).includes(O))return!0}return!1});return i}function u_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=S.useMemo(function(){var r=t&&g0(t);return e&&r&&(r[1]=r[1]||r[0]),r},[t,e]);return n}function Nne(t,e){var n=t.generateConfig,r=t.locale,i=t.picker,o=i===void 0?"date":i,a=t.prefixCls,s=a===void 0?"rc-picker":a,l=t.styles,c=l===void 0?{}:l,u=t.classNames,d=u===void 0?{}:u,f=t.order,h=f===void 0?!0:f,p=t.components,x=p===void 0?{}:p,b=t.inputRender,y=t.allowClear,_=t.clearIcon,C=t.needConfirm,E=t.multiple,M=t.format,R=t.inputReadOnly,N=t.disabledDate,O=t.minDate,I=t.maxDate,L=t.showTime,F=t.value,$=t.defaultValue,V=t.pickerValue,U=t.defaultPickerValue,k=u_(F),z=u_($),H=u_(V),j=u_(U),X=o==="date"&&L?"datetime":o,Y=X==="time"||X==="datetime",J=Y||E,ee=C??Y,re=Ene(t),ue=Oe(re,4),fe=ue[0],oe=ue[1],ce=ue[2],pe=ue[3],ye=wne(r,oe),xe=S.useMemo(function(){return Mne(X,ce,pe,fe,ye)},[X,ce,pe,fe,ye]),be=S.useMemo(function(){return we(we({},t),{},{prefixCls:s,locale:ye,picker:o,styles:c,classNames:d,order:h,components:we({input:b},x),clearIcon:HMe(s,y,_),showTime:xe,value:k,defaultValue:z,pickerValue:H,defaultPickerValue:j},e==null?void 0:e())},[t]),Ce=XMe(X,ye,M),Ne=Oe(Ce,2),Ae=Ne[0],me=Ne[1],de=YMe(Ae,R,E),Be=WMe(n,r,N,O,I),ne=KMe(n,o,Be,xe),Je=S.useMemo(function(){return we(we({},be),{},{needConfirm:ee,inputReadOnly:de,disabledDate:Be})},[be,ee,de,Be]);return[Je,X,J,Ae,me,ne]}function QMe(t,e,n){var r=yi(e,{value:t}),i=Oe(r,2),o=i[0],a=i[1],s=je.useRef(t),l=je.useRef(),c=function(){Rr.cancel(l.current)},u=Or(function(){a(s.current),n&&o!==s.current&&n(s.current)}),d=Or(function(f,h){c(),s.current=f,f||h?u():l.current=Rr(u)});return je.useEffect(function(){return c},[]),[o,d]}function Ine(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,i=n.every(function(u){return u})?!1:t,o=QMe(i,e||!1,r),a=Oe(o,2),s=a[0],l=a[1];function c(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!d.inherit||s)&&l(u,d.force)}return[s,c]}function Dne(t){var e=S.useRef();return S.useImperativeHandle(t,function(){var n;return{nativeElement:(n=e.current)===null||n===void 0?void 0:n.nativeElement,focus:function(i){var o;(o=e.current)===null||o===void 0||o.focus(i)},blur:function(){var i;(i=e.current)===null||i===void 0||i.blur()}}}),e}function One(t,e){return S.useMemo(function(){return t||(e?(Pa(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(e).map(function(n){var r=Oe(n,2),i=r[0],o=r[1];return{label:i,value:o}})):[])},[t,e])}function vB(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=S.useRef(e);r.current=e,CT(function(){if(t)r.current(t);else{var i=Rr(function(){r.current(t)},n);return function(){Rr.cancel(i)}}},[t])}function Lne(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=S.useState(0),i=Oe(r,2),o=i[0],a=i[1],s=S.useState(!1),l=Oe(s,2),c=l[0],u=l[1],d=S.useRef([]),f=S.useRef(null),h=S.useRef(null),p=function(E){f.current=E},x=function(E){return f.current===E},b=function(E){u(E)},y=function(E){return E&&(h.current=E),h.current},_=function(E){var M=d.current,R=new Set(M.filter(function(O){return E[O]||e[O]})),N=M[M.length-1]===0?1:0;return R.size>=2||t[N]?null:N};return vB(c||n,function(){c||(d.current=[],p(null))}),S.useEffect(function(){c&&d.current.push(o)},[c,o]),[c,b,y,o,a,_,d.current,p,x]}function ZMe(t,e,n,r,i,o){var a=n[n.length-1],s=function(c,u){var d=Oe(t,2),f=d[0],h=d[1],p=we(we({},u),{},{from:bne(t,n)});return a===1&&e[0]&&f&&!Za(r,i,f,c,p.type)&&r.isAfter(f,c)||a===0&&e[1]&&h&&!Za(r,i,h,c,p.type)&&r.isAfter(c,h)?!0:o==null?void 0:o(c,p)};return s}function G1(t,e,n,r){switch(e){case"date":case"week":return t.addMonth(n,r);case"month":case"quarter":return t.addYear(n,r);case"year":return t.addYear(n,r*10);case"decade":return t.addYear(n,r*100);default:return n}}var C4=[];function Bne(t,e,n,r,i,o,a,s){var l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:C4,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:C4,u=arguments.length>10&&arguments[10]!==void 0?arguments[10]:C4,d=arguments.length>11?arguments[11]:void 0,f=arguments.length>12?arguments[12]:void 0,h=arguments.length>13?arguments[13]:void 0,p=a==="time",x=o||0,b=function(H){var j=t.getNow();return p&&(j=UT(t,j)),l[H]||n[H]||j},y=Oe(c,2),_=y[0],C=y[1],E=yi(function(){return b(0)},{value:_}),M=Oe(E,2),R=M[0],N=M[1],O=yi(function(){return b(1)},{value:C}),I=Oe(O,2),L=I[0],F=I[1],$=S.useMemo(function(){var z=[R,L][x];return p?z:UT(t,z,u[x])},[p,R,L,x,t,u]),V=function(H){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",X=[N,F][x];X(H);var Y=[R,L];Y[x]=H,d&&(!Za(t,e,R,Y[0],a)||!Za(t,e,L,Y[1],a))&&d(Y,{source:j,range:x===1?"end":"start",mode:r})},U=function(H,j){if(s){var X={date:"month",week:"month",month:"year",quarter:"year"},Y=X[a];if(Y&&!Za(t,e,H,j,Y))return G1(t,a,j,-1);if(a==="year"&&H){var J=Math.floor(t.getYear(H)/10),ee=Math.floor(t.getYear(j)/10);if(J!==ee)return G1(t,a,j,-1)}}return j},k=S.useRef(null);return wr(function(){if(i&&!l[x]){var z=p?null:t.getNow();if(k.current!==null&&k.current!==x?z=[R,L][x^1]:n[x]?z=x===0?n[0]:U(n[0],n[1]):n[x^1]&&(z=n[x^1]),z){f&&t.isAfter(f,z)&&(z=f);var H=s?G1(t,a,z,1):z;h&&t.isAfter(H,h)&&(z=s?G1(t,a,h,-1):h),V(z,"reset")}}},[i,x,n[x]]),S.useEffect(function(){i?k.current=x:k.current=null},[i,x]),wr(function(){i&&l&&l[x]&&V(l[x],"reset")},[i,x]),[$,V]}function Fne(t,e){var n=S.useRef(t),r=S.useState({}),i=Oe(r,2),o=i[1],a=function(c){return c&&e!==void 0?e:n.current},s=function(c){n.current=c,o({})};return[a,s,a(!0)]}var JMe=[];function $ne(t,e,n){var r=function(a){return a.map(function(s){return qo(s,{generateConfig:t,locale:e,format:n[0]})})},i=function(a,s){for(var l=Math.max(a.length,s.length),c=-1,u=0;u<l;u+=1){var d=a[u]||null,f=s[u]||null;if(d!==f&&!Pne(t,d,f)){c=u;break}}return[c<0,c!==0]};return[r,i]}function Une(t,e){return zt(t).sort(function(n,r){return e.isAfter(n,r)?1:-1})}function eRe(t){var e=Fne(t),n=Oe(e,2),r=n[0],i=n[1],o=Or(function(){i(t)});return S.useEffect(function(){o()},[t]),[r,i]}function kne(t,e,n,r,i,o,a,s,l){var c=yi(o,{value:a}),u=Oe(c,2),d=u[0],f=u[1],h=d||JMe,p=eRe(h),x=Oe(p,2),b=x[0],y=x[1],_=$ne(t,e,n),C=Oe(_,2),E=C[0],M=C[1],R=Or(function(O){var I=zt(O);if(r)for(var L=0;L<2;L+=1)I[L]=I[L]||null;else i&&(I=Une(I.filter(function(z){return z}),t));var F=M(b(),I),$=Oe(F,2),V=$[0],U=$[1];if(!V&&(y(I),s)){var k=E(I);s(I,k,{range:U?"end":"start"})}}),N=function(){l&&l(b())};return[h,f,b,R,N]}function Vne(t,e,n,r,i,o,a,s,l,c){var u=t.generateConfig,d=t.locale,f=t.picker,h=t.onChange,p=t.allowEmpty,x=t.order,b=o.some(function(V){return V})?!1:x,y=$ne(u,d,a),_=Oe(y,2),C=_[0],E=_[1],M=Fne(e),R=Oe(M,2),N=R[0],O=R[1],I=Or(function(){O(e)});S.useEffect(function(){I()},[e]);var L=Or(function(V){var U=V===null,k=zt(V||N());if(U)for(var z=Math.max(o.length,k.length),H=0;H<z;H+=1)o[H]||(k[H]=null);b&&k[0]&&k[1]&&(k=Une(k,u)),i(k);var j=k,X=Oe(j,2),Y=X[0],J=X[1],ee=!Y,re=!J,ue=p?(!ee||p[0])&&(!re||p[1]):!0,fe=!x||ee||re||Za(u,d,Y,J,f)||u.isAfter(J,Y),oe=(o[0]||!Y||!c(Y,{activeIndex:0}))&&(o[1]||!J||!c(J,{from:Y,activeIndex:1})),ce=U||ue&&fe&&oe;if(ce){n(k);var pe=E(k,e),ye=Oe(pe,1),xe=ye[0];h&&!xe&&h(U&&k.every(function(be){return!be})?null:k,C(k))}return ce}),F=Or(function(V,U){var k=Ab(N(),V,r()[V]);O(k),U&&L()}),$=!s&&!l;return vB(!$,function(){$&&(L(),i(e),I())},2),[F,L]}function zne(t,e,n,r,i){return e!=="date"&&e!=="time"?!1:n!==void 0?n:r!==void 0?r:!i&&(t==="date"||t==="time")}function tRe(t,e,n,r,i,o){var a=t;function s(d,f,h){var p=o[d](a),x=h.find(function(C){return C.value===p});if(!x||x.disabled){var b=h.filter(function(C){return!C.disabled}),y=zt(b).reverse(),_=y.find(function(C){return C.value<=p})||b[0];_&&(p=_.value,a=o[f](a,p))}return p}var l=s("getHour","setHour",e()),c=s("getMinute","setMinute",n(l)),u=s("getSecond","setSecond",r(l,c));return s("getMillisecond","setMillisecond",i(l,c,u)),a}function d_(){return[]}function f_(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:2,a=[],s=n>=1?n|0:1,l=t;l<=e;l+=s){var c=i.includes(l);(!c||!r)&&a.push({label:pB(l,o),value:l,disabled:c})}return a}function yB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e||{},i=r.use12Hours,o=r.hourStep,a=o===void 0?1:o,s=r.minuteStep,l=s===void 0?1:s,c=r.secondStep,u=c===void 0?1:c,d=r.millisecondStep,f=d===void 0?100:d,h=r.hideDisabledOptions,p=r.disabledTime,x=r.disabledHours,b=r.disabledMinutes,y=r.disabledSeconds,_=S.useMemo(function(){return n||t.getNow()},[n,t]),C=S.useCallback(function(j){var X=(p==null?void 0:p(j))||{};return[X.disabledHours||x||d_,X.disabledMinutes||b||d_,X.disabledSeconds||y||d_,X.disabledMilliseconds||d_]},[p,x,b,y]),E=S.useMemo(function(){return C(_)},[_,C]),M=Oe(E,4),R=M[0],N=M[1],O=M[2],I=M[3],L=S.useCallback(function(j,X,Y,J){var ee=f_(0,23,a,h,j()),re=i?ee.map(function(ce){return we(we({},ce),{},{label:pB(ce.value%12||12,2)})}):ee,ue=function(pe){return f_(0,59,l,h,X(pe))},fe=function(pe,ye){return f_(0,59,u,h,Y(pe,ye))},oe=function(pe,ye,xe){return f_(0,999,f,h,J(pe,ye,xe),3)};return[re,ue,fe,oe]},[h,a,i,f,l,u]),F=S.useMemo(function(){return L(R,N,O,I)},[L,R,N,O,I]),$=Oe(F,4),V=$[0],U=$[1],k=$[2],z=$[3],H=function(X,Y){var J=function(){return V},ee=U,re=k,ue=z;if(Y){var fe=C(Y),oe=Oe(fe,4),ce=oe[0],pe=oe[1],ye=oe[2],xe=oe[3],be=L(ce,pe,ye,xe),Ce=Oe(be,4),Ne=Ce[0],Ae=Ce[1],me=Ce[2],de=Ce[3];J=function(){return Ne},ee=Ae,re=me,ue=de}var Be=tRe(X,J,ee,re,ue,t);return Be};return[H,V,U,k,z]}function nRe(t){var e=t.mode,n=t.internalMode,r=t.renderExtraFooter,i=t.showNow,o=t.showTime,a=t.onSubmit,s=t.onNow,l=t.invalid,c=t.needConfirm,u=t.generateConfig,d=t.disabledDate,f=S.useContext(xu),h=f.prefixCls,p=f.locale,x=f.button,b=x===void 0?"button":x,y=u.getNow(),_=yB(u,o,y),C=Oe(_,1),E=C[0],M=r==null?void 0:r(e),R=d(y,{type:e}),N=function(){if(!R){var U=E(y);s(U)}},O="".concat(h,"-now"),I="".concat(O,"-btn"),L=i&&S.createElement("li",{className:O},S.createElement("a",{className:ke(I,R&&"".concat(I,"-disabled")),"aria-disabled":R,onClick:N},n==="date"?p.today:p.now)),F=c&&S.createElement("li",{className:"".concat(h,"-ok")},S.createElement(b,{disabled:l,onClick:a},p.ok)),$=(L||F)&&S.createElement("ul",{className:"".concat(h,"-ranges")},L,F);return!M&&!$?null:S.createElement("div",{className:"".concat(h,"-footer")},M&&S.createElement("div",{className:"".concat(h,"-footer-extra")},M),$)}function Gne(t,e,n){function r(i,o){var a=i.findIndex(function(l){return Za(t,e,l,o,n)});if(a===-1)return[].concat(zt(i),[o]);var s=zt(i);return s.splice(a,1),s}return r}var A0=S.createContext(null);function AM(){return S.useContext(A0)}function ty(t,e){var n=t.prefixCls,r=t.generateConfig,i=t.locale,o=t.disabledDate,a=t.minDate,s=t.maxDate,l=t.cellRender,c=t.hoverValue,u=t.hoverRangeValue,d=t.onHover,f=t.values,h=t.pickerValue,p=t.onSelect,x=t.prevIcon,b=t.nextIcon,y=t.superPrevIcon,_=t.superNextIcon,C=r.getNow(),E={now:C,values:f,pickerValue:h,prefixCls:n,disabledDate:o,minDate:a,maxDate:s,cellRender:l,hoverValue:c,hoverRangeValue:u,onHover:d,locale:i,generateConfig:r,onSelect:p,panelType:e,prevIcon:x,nextIcon:b,superPrevIcon:y,superNextIcon:_};return[E,C]}var Dh=S.createContext({});function O2(t){for(var e=t.rowNum,n=t.colNum,r=t.baseDate,i=t.getCellDate,o=t.prefixColumn,a=t.rowClassName,s=t.titleFormat,l=t.getCellText,c=t.getCellClassName,u=t.headerCells,d=t.cellSelection,f=d===void 0?!0:d,h=t.disabledDate,p=AM(),x=p.prefixCls,b=p.panelType,y=p.now,_=p.disabledDate,C=p.cellRender,E=p.onHover,M=p.hoverValue,R=p.hoverRangeValue,N=p.generateConfig,O=p.values,I=p.locale,L=p.onSelect,F=h||_,$="".concat(x,"-cell"),V=S.useContext(Dh),U=V.onCellDblClick,k=function(re){return O.some(function(ue){return ue&&Za(N,I,re,ue,b)})},z=[],H=0;H<e;H+=1){for(var j=[],X=void 0,Y=function(){var re=H*n+J,ue=i(r,re),fe=F==null?void 0:F(ue,{type:b});J===0&&(X=ue,o&&j.push(o(X)));var oe=!1,ce=!1,pe=!1;if(f&&R){var ye=Oe(R,2),xe=ye[0],be=ye[1];oe=gM(N,xe,be,ue),ce=Za(N,I,ue,xe,b),pe=Za(N,I,ue,be,b)}var Ce=s?qo(ue,{locale:I,format:s,generateConfig:N}):void 0,Ne=S.createElement("div",{className:"".concat($,"-inner")},l(ue));j.push(S.createElement("td",{key:J,title:Ce,className:ke($,we(Se(Se(Se(Se(Se(Se({},"".concat($,"-disabled"),fe),"".concat($,"-hover"),(M||[]).some(function(Ae){return Za(N,I,ue,Ae,b)})),"".concat($,"-in-range"),oe&&!ce&&!pe),"".concat($,"-range-start"),ce),"".concat($,"-range-end"),pe),"".concat(x,"-cell-selected"),!R&&b!=="week"&&k(ue)),c(ue))),onClick:function(){fe||L(ue)},onDoubleClick:function(){!fe&&U&&U()},onMouseEnter:function(){fe||E==null||E(ue)},onMouseLeave:function(){fe||E==null||E(null)}},C?C(ue,{prefixCls:x,originNode:Ne,today:y,type:b,locale:I}):Ne))},J=0;J<n;J+=1)Y();z.push(S.createElement("tr",{key:H,className:a==null?void 0:a(X)},j))}return S.createElement("div",{className:"".concat(x,"-body")},S.createElement("table",{className:"".concat(x,"-content")},u&&S.createElement("thead",null,S.createElement("tr",null,u)),S.createElement("tbody",null,z)))}var h_={visibility:"hidden"};function ny(t){var e=t.offset,n=t.superOffset,r=t.onChange,i=t.getStart,o=t.getEnd,a=t.children,s=AM(),l=s.prefixCls,c=s.prevIcon,u=c===void 0?"":c,d=s.nextIcon,f=d===void 0?"":d,h=s.superPrevIcon,p=h===void 0?"":h,x=s.superNextIcon,b=x===void 0?"":x,y=s.minDate,_=s.maxDate,C=s.generateConfig,E=s.locale,M=s.pickerValue,R=s.panelType,N="".concat(l,"-header"),O=S.useContext(Dh),I=O.hidePrev,L=O.hideNext,F=O.hideHeader,$=S.useMemo(function(){if(!y||!e||!o)return!1;var ee=o(e(-1,M));return!c_(C,E,ee,y,R)},[y,e,M,o,C,E,R]),V=S.useMemo(function(){if(!y||!n||!o)return!1;var ee=o(n(-1,M));return!c_(C,E,ee,y,R)},[y,n,M,o,C,E,R]),U=S.useMemo(function(){if(!_||!e||!i)return!1;var ee=i(e(1,M));return!c_(C,E,_,ee,R)},[_,e,M,i,C,E,R]),k=S.useMemo(function(){if(!_||!n||!i)return!1;var ee=i(n(1,M));return!c_(C,E,_,ee,R)},[_,n,M,i,C,E,R]),z=function(re){e&&r(e(re,M))},H=function(re){n&&r(n(re,M))};if(F)return null;var j="".concat(N,"-prev-btn"),X="".concat(N,"-next-btn"),Y="".concat(N,"-super-prev-btn"),J="".concat(N,"-super-next-btn");return S.createElement("div",{className:N},n&&S.createElement("button",{type:"button","aria-label":E.previousYear,onClick:function(){return H(-1)},tabIndex:-1,className:ke(Y,V&&"".concat(Y,"-disabled")),disabled:V,style:I?h_:{}},p),e&&S.createElement("button",{type:"button","aria-label":E.previousMonth,onClick:function(){return z(-1)},tabIndex:-1,className:ke(j,$&&"".concat(j,"-disabled")),disabled:$,style:I?h_:{}},u),S.createElement("div",{className:"".concat(N,"-view")},a),e&&S.createElement("button",{type:"button","aria-label":E.nextMonth,onClick:function(){return z(1)},tabIndex:-1,className:ke(X,U&&"".concat(X,"-disabled")),disabled:U,style:L?h_:{}},f),n&&S.createElement("button",{type:"button","aria-label":E.nextYear,onClick:function(){return H(1)},tabIndex:-1,className:ke(J,k&&"".concat(J,"-disabled")),disabled:k,style:L?h_:{}},b))}function vM(t){var e=t.prefixCls,n=t.panelName,r=n===void 0?"date":n,i=t.locale,o=t.generateConfig,a=t.pickerValue,s=t.onPickerValueChange,l=t.onModeChange,c=t.mode,u=c===void 0?"date":c,d=t.disabledDate,f=t.onSelect,h=t.onHover,p=t.showWeek,x="".concat(e,"-").concat(r,"-panel"),b="".concat(e,"-cell"),y=u==="week",_=ty(t,u),C=Oe(_,2),E=C[0],M=C[1],R=o.locale.getWeekFirstDay(i.locale),N=o.setDate(a,1),O=qMe(i.locale,o,N),I=o.getMonth(a),L=p===void 0?y:p,F=L?function(ee){var re=d==null?void 0:d(ee,{type:"week"});return S.createElement("td",{key:"week",className:ke(b,"".concat(b,"-week"),Se({},"".concat(b,"-disabled"),re)),onClick:function(){re||f(ee)},onMouseEnter:function(){re||h==null||h(ee)},onMouseLeave:function(){re||h==null||h(null)}},S.createElement("div",{className:"".concat(b,"-inner")},o.locale.getWeek(i.locale,ee)))}:null,$=[],V=i.shortWeekDays||(o.locale.getShortWeekDays?o.locale.getShortWeekDays(i.locale):[]);F&&$.push(S.createElement("th",{key:"empty"},S.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},i.week)));for(var U=0;U<w4;U+=1)$.push(S.createElement("th",{key:U},V[(U+R)%w4]));var k=function(re,ue){return o.addDate(re,ue)},z=function(re){return qo(re,{locale:i,format:i.cellDateFormat,generateConfig:o})},H=function(re){var ue=Se(Se({},"".concat(e,"-cell-in-view"),gB(o,re,a)),"".concat(e,"-cell-today"),AB(o,re,M));return ue},j=i.shortMonths||(o.locale.getShortMonths?o.locale.getShortMonths(i.locale):[]),X=S.createElement("button",{type:"button","aria-label":i.yearSelect,key:"year",onClick:function(){l("year",a)},tabIndex:-1,className:"".concat(e,"-year-btn")},qo(a,{locale:i,format:i.yearFormat,generateConfig:o})),Y=S.createElement("button",{type:"button","aria-label":i.monthSelect,key:"month",onClick:function(){l("month",a)},tabIndex:-1,className:"".concat(e,"-month-btn")},i.monthFormat?qo(a,{locale:i,format:i.monthFormat,generateConfig:o}):j[I]),J=i.monthBeforeYear?[Y,X]:[X,Y];return S.createElement(A0.Provider,{value:E},S.createElement("div",{className:ke(x,p&&"".concat(x,"-show-week"))},S.createElement(ny,{offset:function(re){return o.addMonth(a,re)},superOffset:function(re){return o.addYear(a,re)},onChange:s,getStart:function(re){return o.setDate(re,1)},getEnd:function(re){var ue=o.setDate(re,1);return ue=o.addMonth(ue,1),o.addDate(ue,-1)}},J),S.createElement(O2,it({titleFormat:i.fieldDateFormat},t,{colNum:w4,rowNum:6,baseDate:O,headerCells:$,getCellDate:k,getCellText:z,getCellClassName:H,prefixColumn:F,cellSelection:!y}))))}var rRe=1/3;function iRe(t,e){var n=S.useRef(!1),r=S.useRef(null),i=S.useRef(null),o=function(){return n.current},a=function(){Rr.cancel(r.current),n.current=!1},s=S.useRef(),l=function(){var d=t.current;if(i.current=null,s.current=0,d){var f=d.querySelector('[data-value="'.concat(e,'"]')),h=d.querySelector("li"),p=function x(){a(),n.current=!0,s.current+=1;var b=d.scrollTop,y=h.offsetTop,_=f.offsetTop,C=_-y;if(_===0&&f!==h||!T2(d)){s.current<=5&&(r.current=Rr(x));return}var E=b+(C-b)*rRe,M=Math.abs(C-E);if(i.current!==null&&i.current<M){a();return}if(i.current=M,M<=1){d.scrollTop=C,a();return}d.scrollTop=E,r.current=Rr(x)};f&&h&&p()}},c=Or(l);return[c,a,o]}var oRe=300;function aRe(t){return t.map(function(e){var n=e.value,r=e.label,i=e.disabled;return[n,r,i].join(",")}).join(";")}function Qy(t){var e=t.units,n=t.value,r=t.optionalValue,i=t.type,o=t.onChange,a=t.onHover,s=t.onDblClick,l=t.changeOnScroll,c=AM(),u=c.prefixCls,d=c.cellRender,f=c.now,h=c.locale,p="".concat(u,"-time-panel"),x="".concat(u,"-time-panel-cell"),b=S.useRef(null),y=S.useRef(),_=function(){clearTimeout(y.current)},C=iRe(b,n??r),E=Oe(C,3),M=E[0],R=E[1],N=E[2];wr(function(){return M(),_(),function(){R(),_()}},[n,r,aRe(e)]);var O=function(F){_();var $=F.target;!N()&&l&&(y.current=setTimeout(function(){var V=b.current,U=V.querySelector("li").offsetTop,k=Array.from(V.querySelectorAll("li")),z=k.map(function(J){return J.offsetTop-U}),H=z.map(function(J,ee){return e[ee].disabled?Number.MAX_SAFE_INTEGER:Math.abs(J-$.scrollTop)}),j=Math.min.apply(Math,zt(H)),X=H.findIndex(function(J){return J===j}),Y=e[X];Y&&!Y.disabled&&o(Y.value)},oRe))},I="".concat(p,"-column");return S.createElement("ul",{className:I,ref:b,"data-type":i,onScroll:O},e.map(function(L){var F=L.label,$=L.value,V=L.disabled,U=S.createElement("div",{className:"".concat(x,"-inner")},F);return S.createElement("li",{key:$,className:ke(x,Se(Se({},"".concat(x,"-selected"),n===$),"".concat(x,"-disabled"),V)),onClick:function(){V||o($)},onDoubleClick:function(){!V&&s&&s()},onMouseEnter:function(){a($)},onMouseLeave:function(){a(null)},"data-value":$},d?d($,{prefixCls:u,originNode:U,today:f,type:"time",subType:i,locale:h}):U)}))}function Vf(t){return t<12}function sRe(t){var e=t.showHour,n=t.showMinute,r=t.showSecond,i=t.showMillisecond,o=t.use12Hours,a=t.changeOnScroll,s=AM(),l=s.prefixCls,c=s.values,u=s.generateConfig,d=s.locale,f=s.onSelect,h=s.onHover,p=h===void 0?function(){}:h,x=s.pickerValue,b=(c==null?void 0:c[0])||null,y=S.useContext(Dh),_=y.onCellDblClick,C=yB(u,t,b),E=Oe(C,5),M=E[0],R=E[1],N=E[2],O=E[3],I=E[4],L=function(bt){var Pe=b&&u[bt](b),Mt=x&&u[bt](x);return[Pe,Mt]},F=L("getHour"),$=Oe(F,2),V=$[0],U=$[1],k=L("getMinute"),z=Oe(k,2),H=z[0],j=z[1],X=L("getSecond"),Y=Oe(X,2),J=Y[0],ee=Y[1],re=L("getMillisecond"),ue=Oe(re,2),fe=ue[0],oe=ue[1],ce=V===null?null:Vf(V)?"am":"pm",pe=S.useMemo(function(){return o?Vf(V)?R.filter(function(ze){return Vf(ze.value)}):R.filter(function(ze){return!Vf(ze.value)}):R},[V,R,o]),ye=function(bt,Pe){var Mt,Ct=bt.filter(function(qt){return!qt.disabled});return Pe??(Ct==null||(Mt=Ct[0])===null||Mt===void 0?void 0:Mt.value)},xe=ye(R,V),be=S.useMemo(function(){return N(xe)},[N,xe]),Ce=ye(be,H),Ne=S.useMemo(function(){return O(xe,Ce)},[O,xe,Ce]),Ae=ye(Ne,J),me=S.useMemo(function(){return I(xe,Ce,Ae)},[I,xe,Ce,Ae]),de=ye(me,fe),Be=S.useMemo(function(){if(!o)return[];var ze=u.getNow(),bt=u.setHour(ze,6),Pe=u.setHour(ze,18),Mt=function(qt,Ge){var yt=d.cellMeridiemFormat;return yt?qo(qt,{generateConfig:u,locale:d,format:yt}):Ge};return[{label:Mt(bt,"AM"),value:"am",disabled:R.every(function(Ct){return Ct.disabled||!Vf(Ct.value)})},{label:Mt(Pe,"PM"),value:"pm",disabled:R.every(function(Ct){return Ct.disabled||Vf(Ct.value)})}]},[R,o,u,d]),ne=function(bt){var Pe=M(bt);f(Pe)},Je=S.useMemo(function(){var ze=b||x||u.getNow(),bt=function(Mt){return Mt!=null};return bt(V)?(ze=u.setHour(ze,V),ze=u.setMinute(ze,H),ze=u.setSecond(ze,J),ze=u.setMillisecond(ze,fe)):bt(U)?(ze=u.setHour(ze,U),ze=u.setMinute(ze,j),ze=u.setSecond(ze,ee),ze=u.setMillisecond(ze,oe)):bt(xe)&&(ze=u.setHour(ze,xe),ze=u.setMinute(ze,Ce),ze=u.setSecond(ze,Ae),ze=u.setMillisecond(ze,de)),ze},[b,x,V,H,J,fe,xe,Ce,Ae,de,U,j,ee,oe,u]),Ye=function(bt,Pe){return bt===null?null:u[Pe](Je,bt)},rt=function(bt){return Ye(bt,"setHour")},qe=function(bt){return Ye(bt,"setMinute")},se=function(bt){return Ye(bt,"setSecond")},K=function(bt){return Ye(bt,"setMillisecond")},_e=function(bt){return bt===null?null:bt==="am"&&!Vf(V)?u.setHour(Je,V-12):bt==="pm"&&Vf(V)?u.setHour(Je,V+12):Je},Ue=function(bt){ne(rt(bt))},lt=function(bt){ne(qe(bt))},We=function(bt){ne(se(bt))},pt=function(bt){ne(K(bt))},mt=function(bt){ne(_e(bt))},vt=function(bt){p(rt(bt))},At=function(bt){p(qe(bt))},ot=function(bt){p(se(bt))},Ve=function(bt){p(K(bt))},at=function(bt){p(_e(bt))},tt={onDblClick:_,changeOnScroll:a};return S.createElement("div",{className:"".concat(l,"-content")},e&&S.createElement(Qy,it({units:pe,value:V,optionalValue:U,type:"hour",onChange:Ue,onHover:vt},tt)),n&&S.createElement(Qy,it({units:be,value:H,optionalValue:j,type:"minute",onChange:lt,onHover:At},tt)),r&&S.createElement(Qy,it({units:Ne,value:J,optionalValue:ee,type:"second",onChange:We,onHover:ot},tt)),i&&S.createElement(Qy,it({units:me,value:fe,optionalValue:oe,type:"millisecond",onChange:pt,onHover:Ve},tt)),o&&S.createElement(Qy,it({units:Be,value:ce,type:"meridiem",onChange:mt,onHover:at},tt)))}function Hne(t){var e=t.prefixCls,n=t.value,r=t.locale,i=t.generateConfig,o=t.showTime,a=o||{},s=a.format,l="".concat(e,"-time-panel"),c=ty(t,"time"),u=Oe(c,1),d=u[0];return S.createElement(A0.Provider,{value:d},S.createElement("div",{className:ke(l)},S.createElement(ny,null,n?qo(n,{locale:r,format:s,generateConfig:i}):""),S.createElement(sRe,o)))}function lRe(t){var e=t.prefixCls,n=t.generateConfig,r=t.showTime,i=t.onSelect,o=t.value,a=t.pickerValue,s=t.onHover,l="".concat(e,"-datetime-panel"),c=yB(n,r),u=Oe(c,1),d=u[0],f=function(b){return o?UT(n,b,o):UT(n,b,a)},h=function(b){s==null||s(b&&f(b))},p=function(b){var y=f(b);i(d(y,y))};return S.createElement("div",{className:l},S.createElement(vM,it({},t,{onSelect:p,onHover:h})),S.createElement(Hne,t))}function cRe(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,i=t.pickerValue,o=t.disabledDate,a=t.onPickerValueChange,s="".concat(e,"-decade-panel"),l=ty(t,"decade"),c=Oe(l,1),u=c[0],d=function(R){var N=Math.floor(r.getYear(R)/100)*100;return r.setYear(R,N)},f=function(R){var N=d(R);return r.addYear(N,99)},h=d(i),p=f(i),x=r.addYear(h,-10),b=function(R,N){return r.addYear(R,N*10)},y=function(R){var N=n.cellYearFormat,O=qo(R,{locale:n,format:N,generateConfig:r}),I=qo(r.addYear(R,9),{locale:n,format:N,generateConfig:r});return"".concat(O,"-").concat(I)},_=function(R){return Se({},"".concat(e,"-cell-in-view"),s5(r,R,h)||s5(r,R,p)||gM(r,h,p,R))},C=o?function(M,R){var N=r.setDate(M,1),O=r.setMonth(N,0),I=r.setYear(O,Math.floor(r.getYear(O)/10)*10),L=r.addYear(I,10),F=r.addDate(L,-1);return o(I,R)&&o(F,R)}:null,E="".concat(qo(h,{locale:n,format:n.yearFormat,generateConfig:r}),"-").concat(qo(p,{locale:n,format:n.yearFormat,generateConfig:r}));return S.createElement(A0.Provider,{value:u},S.createElement("div",{className:s},S.createElement(ny,{superOffset:function(R){return r.addYear(i,R*100)},onChange:a,getStart:d,getEnd:f},E),S.createElement(O2,it({},t,{disabledDate:C,colNum:3,rowNum:4,baseDate:x,getCellDate:b,getCellText:y,getCellClassName:_}))))}function uRe(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,i=t.pickerValue,o=t.disabledDate,a=t.onPickerValueChange,s=t.onModeChange,l="".concat(e,"-month-panel"),c=ty(t,"month"),u=Oe(c,1),d=u[0],f=r.setMonth(i,0),h=n.shortMonths||(r.locale.getShortMonths?r.locale.getShortMonths(n.locale):[]),p=function(E,M){return r.addMonth(E,M)},x=function(E){var M=r.getMonth(E);return n.monthFormat?qo(E,{locale:n,format:n.monthFormat,generateConfig:r}):h[M]},b=function(){return Se({},"".concat(e,"-cell-in-view"),!0)},y=o?function(C,E){var M=r.setDate(C,1),R=r.setMonth(M,r.getMonth(M)+1),N=r.addDate(R,-1);return o(M,E)&&o(N,E)}:null,_=S.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){s("year")},tabIndex:-1,className:"".concat(e,"-year-btn")},qo(i,{locale:n,format:n.yearFormat,generateConfig:r}));return S.createElement(A0.Provider,{value:d},S.createElement("div",{className:l},S.createElement(ny,{superOffset:function(E){return r.addYear(i,E)},onChange:a,getStart:function(E){return r.setMonth(E,0)},getEnd:function(E){return r.setMonth(E,11)}},_),S.createElement(O2,it({},t,{disabledDate:y,titleFormat:n.fieldMonthFormat,colNum:3,rowNum:4,baseDate:f,getCellDate:p,getCellText:x,getCellClassName:b}))))}function dRe(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,i=t.pickerValue,o=t.onPickerValueChange,a=t.onModeChange,s="".concat(e,"-quarter-panel"),l=ty(t,"quarter"),c=Oe(l,1),u=c[0],d=r.setMonth(i,0),f=function(y,_){return r.addMonth(y,_*3)},h=function(y){return qo(y,{locale:n,format:n.cellQuarterFormat,generateConfig:r})},p=function(){return Se({},"".concat(e,"-cell-in-view"),!0)},x=S.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){a("year")},tabIndex:-1,className:"".concat(e,"-year-btn")},qo(i,{locale:n,format:n.yearFormat,generateConfig:r}));return S.createElement(A0.Provider,{value:u},S.createElement("div",{className:s},S.createElement(ny,{superOffset:function(y){return r.addYear(i,y)},onChange:o,getStart:function(y){return r.setMonth(y,0)},getEnd:function(y){return r.setMonth(y,11)}},x),S.createElement(O2,it({},t,{titleFormat:n.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:d,getCellDate:f,getCellText:h,getCellClassName:p}))))}function fRe(t){var e=t.prefixCls,n=t.generateConfig,r=t.locale,i=t.value,o=t.hoverValue,a=t.hoverRangeValue,s=r.locale,l="".concat(e,"-week-panel-row"),c=function(d){var f={};if(a){var h=Oe(a,2),p=h[0],x=h[1],b=z1(n,s,p,d),y=z1(n,s,x,d);f["".concat(l,"-range-start")]=b,f["".concat(l,"-range-end")]=y,f["".concat(l,"-range-hover")]=!b&&!y&&gM(n,p,x,d)}return o&&(f["".concat(l,"-hover")]=o.some(function(_){return z1(n,s,d,_)})),ke(l,Se({},"".concat(l,"-selected"),!a&&z1(n,s,i,d)),f)};return S.createElement(vM,it({},t,{mode:"week",panelName:"week",rowClassName:c}))}function hRe(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,i=t.pickerValue,o=t.disabledDate,a=t.onPickerValueChange,s=t.onModeChange,l="".concat(e,"-year-panel"),c=ty(t,"year"),u=Oe(c,1),d=u[0],f=function(N){var O=Math.floor(r.getYear(N)/10)*10;return r.setYear(N,O)},h=function(N){var O=f(N);return r.addYear(O,9)},p=f(i),x=h(i),b=r.addYear(p,-1),y=function(N,O){return r.addYear(N,O)},_=function(N){return qo(N,{locale:n,format:n.cellYearFormat,generateConfig:r})},C=function(N){return Se({},"".concat(e,"-cell-in-view"),qm(r,N,p)||qm(r,N,x)||gM(r,p,x,N))},E=o?function(R,N){var O=r.setMonth(R,0),I=r.setDate(O,1),L=r.addYear(I,1),F=r.addDate(L,-1);return o(I,N)&&o(F,N)}:null,M=S.createElement("button",{type:"button",key:"decade","aria-label":n.decadeSelect,onClick:function(){s("decade")},tabIndex:-1,className:"".concat(e,"-decade-btn")},qo(p,{locale:n,format:n.yearFormat,generateConfig:r}),"-",qo(x,{locale:n,format:n.yearFormat,generateConfig:r}));return S.createElement(A0.Provider,{value:d},S.createElement("div",{className:l},S.createElement(ny,{superOffset:function(N){return r.addYear(i,N*10)},onChange:a,getStart:f,getEnd:h},M),S.createElement(O2,it({},t,{disabledDate:E,titleFormat:n.fieldYearFormat,colNum:3,rowNum:4,baseDate:b,getCellDate:y,getCellText:_,getCellClassName:C}))))}var pRe={date:vM,datetime:lRe,week:fRe,month:uRe,quarter:dRe,year:hRe,decade:cRe,time:Hne};function mRe(t,e){var n,r=t.locale,i=t.generateConfig,o=t.direction,a=t.prefixCls,s=t.tabIndex,l=s===void 0?0:s,c=t.multiple,u=t.defaultValue,d=t.value,f=t.onChange,h=t.onSelect,p=t.defaultPickerValue,x=t.pickerValue,b=t.onPickerValueChange,y=t.mode,_=t.onPanelChange,C=t.picker,E=C===void 0?"date":C,M=t.showTime,R=t.hoverValue,N=t.hoverRangeValue,O=t.cellRender,I=t.dateRender,L=t.monthCellRender,F=t.components,$=F===void 0?{}:F,V=t.hideHeader,U=((n=S.useContext(xu))===null||n===void 0?void 0:n.prefixCls)||a||"rc-picker",k=S.useRef();S.useImperativeHandle(e,function(){return{nativeElement:k.current}});var z=Ene(t),H=Oe(z,4),j=H[0],X=H[1],Y=H[2],J=H[3],ee=wne(r,X),re=E==="date"&&M?"datetime":E,ue=S.useMemo(function(){return Mne(re,Y,J,j,ee)},[re,Y,J,j,ee]),fe=i.getNow(),oe=yi(E,{value:y,postState:function(at){return at||"date"}}),ce=Oe(oe,2),pe=ce[0],ye=ce[1],xe=pe==="date"&&ue?"datetime":pe,be=Gne(i,r,re),Ce=yi(u,{value:d}),Ne=Oe(Ce,2),Ae=Ne[0],me=Ne[1],de=S.useMemo(function(){var Ve=g0(Ae).filter(function(at){return at});return c?Ve:Ve.slice(0,1)},[Ae,c]),Be=Or(function(Ve){me(Ve),f&&(Ve===null||de.length!==Ve.length||de.some(function(at,tt){return!Za(i,r,at,Ve[tt],re)}))&&(f==null||f(c?Ve:Ve[0]))}),ne=Or(function(Ve){if(h==null||h(Ve),pe===E){var at=c?be(de,Ve):[Ve];Be(at)}}),Je=yi(p||de[0]||fe,{value:x}),Ye=Oe(Je,2),rt=Ye[0],qe=Ye[1];S.useEffect(function(){de[0]&&!x&&qe(de[0])},[de[0]]);var se=function(at,tt){_==null||_(at||x,tt||pe)},K=function(at){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;qe(at),b==null||b(at),tt&&se(at)},_e=function(at,tt){ye(at),tt&&K(tt),se(tt,at)},Ue=function(at){if(ne(at),K(at),pe!==E){var tt=["decade","year"],ze=[].concat(tt,["month"]),bt={quarter:[].concat(tt,["quarter"]),week:[].concat(zt(ze),["week"]),date:[].concat(zt(ze),["date"])},Pe=bt[E]||ze,Mt=Pe.indexOf(pe),Ct=Pe[Mt+1];Ct&&_e(Ct,at)}},lt=S.useMemo(function(){var Ve,at;if(Array.isArray(N)){var tt=Oe(N,2);Ve=tt[0],at=tt[1]}else Ve=N;return!Ve&&!at?null:(Ve=Ve||at,at=at||Ve,i.isAfter(Ve,at)?[at,Ve]:[Ve,at])},[N,i]),We=mB(O,I,L),pt=$[xe]||pRe[xe]||vM,mt=S.useContext(Dh),vt=S.useMemo(function(){return we(we({},mt),{},{hideHeader:V})},[mt,V]),At="".concat(U,"-panel"),ot=mM(t,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return S.createElement(Dh.Provider,{value:vt},S.createElement("div",{ref:k,tabIndex:l,className:ke(At,Se({},"".concat(At,"-rtl"),o==="rtl"))},S.createElement(pt,it({},ot,{showTime:ue,prefixCls:U,locale:ee,generateConfig:i,onModeChange:_e,pickerValue:rt,onPickerValueChange:function(at){K(at,!0)},value:de[0],onSelect:Ue,values:de,cellRender:We,hoverRangeValue:lt,hoverValue:R}))))}var T4=S.memo(S.forwardRef(mRe));function gRe(t){var e=t.picker,n=t.multiplePanel,r=t.pickerValue,i=t.onPickerValueChange,o=t.needConfirm,a=t.onSubmit,s=t.range,l=t.hoverValue,c=S.useContext(xu),u=c.prefixCls,d=c.generateConfig,f=S.useCallback(function(_,C){return G1(d,e,_,C)},[d,e]),h=S.useMemo(function(){return f(r,1)},[r,f]),p=function(C){i(f(C,-1))},x={onCellDblClick:function(){o&&a()}},b=e==="time",y=we(we({},t),{},{hoverValue:null,hoverRangeValue:null,hideHeader:b});return s?y.hoverRangeValue=l:y.hoverValue=l,n?S.createElement("div",{className:"".concat(u,"-panels")},S.createElement(Dh.Provider,{value:we(we({},x),{},{hideNext:!0})},S.createElement(T4,y)),S.createElement(Dh.Provider,{value:we(we({},x),{},{hidePrev:!0})},S.createElement(T4,it({},y,{pickerValue:h,onPickerValueChange:p})))):S.createElement(Dh.Provider,{value:we({},x)},S.createElement(T4,y))}function Gz(t){return typeof t=="function"?t():t}function ARe(t){var e=t.prefixCls,n=t.presets,r=t.onClick,i=t.onHover;return n.length?S.createElement("div",{className:"".concat(e,"-presets")},S.createElement("ul",null,n.map(function(o,a){var s=o.label,l=o.value;return S.createElement("li",{key:a,onClick:function(){r(Gz(l))},onMouseEnter:function(){i(Gz(l))},onMouseLeave:function(){i(null)}},s)}))):null}function jne(t){var e=t.panelRender,n=t.internalMode,r=t.picker,i=t.showNow,o=t.range,a=t.multiple,s=t.activeInfo,l=s===void 0?[0,0,0]:s,c=t.presets,u=t.onPresetHover,d=t.onPresetSubmit,f=t.onFocus,h=t.onBlur,p=t.onPanelMouseDown,x=t.direction,b=t.value,y=t.onSelect,_=t.isInvalid,C=t.defaultOpenValue,E=t.onOk,M=t.onSubmit,R=S.useContext(xu),N=R.prefixCls,O="".concat(N,"-panel"),I=x==="rtl",L=S.useRef(null),F=S.useRef(null),$=S.useState(0),V=Oe($,2),U=V[0],k=V[1],z=S.useState(0),H=Oe(z,2),j=H[0],X=H[1],Y=S.useState(0),J=Oe(Y,2),ee=J[0],re=J[1],ue=function(Ue){Ue.width&&k(Ue.width)},fe=Oe(l,3),oe=fe[0],ce=fe[1],pe=fe[2],ye=S.useState(0),xe=Oe(ye,2),be=xe[0],Ce=xe[1];S.useEffect(function(){Ce(10)},[oe]),S.useEffect(function(){if(o&&F.current){var _e,Ue=((_e=L.current)===null||_e===void 0?void 0:_e.offsetWidth)||0,lt=F.current.getBoundingClientRect();if(!lt.height||lt.right<0){Ce(function(vt){return Math.max(0,vt-1)});return}var We=(I?ce-Ue:oe)-lt.left;if(re(We),U&&U<pe){var pt=I?lt.right-(ce-Ue+U):oe+Ue-lt.left-U,mt=Math.max(0,pt);X(mt)}else X(0)}},[be,I,U,oe,ce,pe,o]);function Ne(_e){return _e.filter(function(Ue){return Ue})}var Ae=S.useMemo(function(){return Ne(g0(b))},[b]),me=r==="time"&&!Ae.length,de=S.useMemo(function(){return me?Ne([C]):Ae},[me,Ae,C]),Be=me?C:Ae,ne=S.useMemo(function(){return de.length?de.some(function(_e){return _(_e)}):!0},[de,_]),Je=function(){me&&y(C),E(),M()},Ye=S.createElement("div",{className:"".concat(N,"-panel-layout")},S.createElement(ARe,{prefixCls:N,presets:c,onClick:d,onHover:u}),S.createElement("div",null,S.createElement(gRe,it({},t,{value:Be})),S.createElement(nRe,it({},t,{showNow:a?!1:i,invalid:ne,onSubmit:Je}))));e&&(Ye=e(Ye));var rt="".concat(O,"-container"),qe="marginLeft",se="marginRight",K=S.createElement("div",{onMouseDown:p,tabIndex:-1,className:ke(rt,"".concat(N,"-").concat(n,"-panel-container")),style:Se(Se({},I?se:qe,j),I?qe:se,"auto"),onFocus:f,onBlur:h},Ye);return o&&(K=S.createElement("div",{onMouseDown:p,ref:F,className:ke("".concat(N,"-range-wrapper"),"".concat(N,"-").concat(r,"-range-wrapper"))},S.createElement("div",{ref:L,className:"".concat(N,"-range-arrow"),style:{left:ee}}),S.createElement(rl,{onResize:ue},K))),K}function qne(t,e){var n=t.format,r=t.maskFormat,i=t.generateConfig,o=t.locale,a=t.preserveInvalidOnBlur,s=t.inputReadOnly,l=t.required,c=t["aria-required"],u=t.onSubmit,d=t.onFocus,f=t.onBlur,h=t.onInputChange,p=t.onInvalid,x=t.open,b=t.onOpenChange,y=t.onKeyDown,_=t.onChange,C=t.activeHelp,E=t.name,M=t.autoComplete,R=t.id,N=t.value,O=t.invalid,I=t.placeholder,L=t.disabled,F=t.activeIndex,$=t.allHelp,V=t.picker,U=function(ee,re){var ue=i.locale.parse(o.locale,ee,[re]);return ue&&i.isValidate(ue)?ue:null},k=n[0],z=S.useCallback(function(J){return qo(J,{locale:o,format:k,generateConfig:i})},[o,i,k]),H=S.useMemo(function(){return N.map(z)},[N,z]),j=S.useMemo(function(){var J=V==="time"?8:10,ee=typeof k=="function"?k(i.getNow()).length:k.length;return Math.max(J,ee)+2},[k,V,i]),X=function(ee){for(var re=0;re<n.length;re+=1){var ue=n[re];if(typeof ue=="string"){var fe=U(ee,ue);if(fe)return fe}}return!1},Y=function(ee){function re(oe){return ee!==void 0?oe[ee]:oe}var ue=Sc(t,{aria:!0,data:!0}),fe=we(we({},ue),{},{format:r,validateFormat:function(ce){return!!X(ce)},preserveInvalidOnBlur:a,readOnly:s,required:l,"aria-required":c,name:E,autoComplete:M,size:j,id:re(R),value:re(H)||"",invalid:re(O),placeholder:re(I),active:F===ee,helped:$||C&&F===ee,disabled:re(L),onFocus:function(ce){d(ce,ee)},onBlur:function(ce){f(ce,ee)},onSubmit:u,onChange:function(ce){h();var pe=X(ce);if(pe){p(!1,ee),_(pe,ee);return}p(!!ce,ee)},onHelp:function(){b(!0,{index:ee})},onKeyDown:function(ce){var pe=!1;if(y==null||y(ce,function(){pe=!0}),!ce.defaultPrevented&&!pe)switch(ce.key){case"Escape":b(!1,{index:ee});break;case"Enter":x||b(!0);break}}},e==null?void 0:e({valueTexts:H}));return Object.keys(fe).forEach(function(oe){fe[oe]===void 0&&delete fe[oe]}),fe};return[Y,z]}var vRe=["onMouseEnter","onMouseLeave"];function Wne(t){return S.useMemo(function(){return mM(t,vRe)},[t])}var yRe=["icon","type"],bRe=["onClear"];function yM(t){var e=t.icon,n=t.type,r=Qn(t,yRe),i=S.useContext(xu),o=i.prefixCls;return e?S.createElement("span",it({className:"".concat(o,"-").concat(n)},r),e):null}function l5(t){var e=t.onClear,n=Qn(t,bRe);return S.createElement(yM,it({},n,{type:"clear",role:"button",onMouseDown:function(i){i.preventDefault()},onClick:function(i){i.stopPropagation(),e()}}))}var E4=["YYYY","MM","DD","HH","mm","ss","SSS"],Hz="",xRe=function(){function t(e){Ro(this,t),Se(this,"format",void 0),Se(this,"maskFormat",void 0),Se(this,"cells",void 0),Se(this,"maskCells",void 0),this.format=e;var n=E4.map(function(s){return"(".concat(s,")")}).join("|"),r=new RegExp(n,"g");this.maskFormat=e.replace(r,function(s){return Hz.repeat(s.length)});var i=new RegExp("(".concat(E4.join("|"),")")),o=(e.split(i)||[]).filter(function(s){return s}),a=0;this.cells=o.map(function(s){var l=E4.includes(s),c=a,u=a+s.length;return a=u,{text:s,mask:l,start:c,end:u}}),this.maskCells=this.cells.filter(function(s){return s.mask})}return Po(t,[{key:"getSelection",value:function(n){var r=this.maskCells[n]||{},i=r.start,o=r.end;return[i||0,o||0]}},{key:"match",value:function(n){for(var r=0;r<this.maskFormat.length;r+=1){var i=this.maskFormat[r],o=n[r];if(!o||i!==Hz&&i!==o)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(n){for(var r=Number.MAX_SAFE_INTEGER,i=0,o=0;o<this.maskCells.length;o+=1){var a=this.maskCells[o],s=a.start,l=a.end;if(n>=s&&n<=l)return o;var c=Math.min(Math.abs(n-s),Math.abs(n-l));c<r&&(r=c,i=o)}return i}}]),t}();function SRe(t){var e={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return e[t]}var _Re=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],c5=S.forwardRef(function(t,e){var n=t.active,r=t.showActiveCls,i=r===void 0?!0:r,o=t.suffixIcon,a=t.format,s=t.validateFormat,l=t.onChange;t.onInput;var c=t.helped,u=t.onHelp,d=t.onSubmit,f=t.onKeyDown,h=t.preserveInvalidOnBlur,p=h===void 0?!1:h,x=t.invalid,b=t.clearIcon,y=Qn(t,_Re),_=t.value,C=t.onFocus,E=t.onBlur,M=t.onMouseUp,R=S.useContext(xu),N=R.prefixCls,O=R.input,I=O===void 0?"input":O,L="".concat(N,"-input"),F=S.useState(!1),$=Oe(F,2),V=$[0],U=$[1],k=S.useState(_),z=Oe(k,2),H=z[0],j=z[1],X=S.useState(""),Y=Oe(X,2),J=Y[0],ee=Y[1],re=S.useState(null),ue=Oe(re,2),fe=ue[0],oe=ue[1],ce=S.useState(null),pe=Oe(ce,2),ye=pe[0],xe=pe[1],be=H||"";S.useEffect(function(){j(_)},[_]);var Ce=S.useRef(),Ne=S.useRef();S.useImperativeHandle(e,function(){return{nativeElement:Ce.current,inputElement:Ne.current,focus:function(Ve){Ne.current.focus(Ve)},blur:function(){Ne.current.blur()}}});var Ae=S.useMemo(function(){return new xRe(a||"")},[a]),me=S.useMemo(function(){return c?[0,0]:Ae.getSelection(fe)},[Ae,fe,c]),de=Oe(me,2),Be=de[0],ne=de[1],Je=function(Ve){Ve&&Ve!==a&&Ve!==_&&u()},Ye=Or(function(ot){s(ot)&&l(ot),j(ot),Je(ot)}),rt=function(Ve){if(!a){var at=Ve.target.value;Je(at),j(at),l(at)}},qe=function(Ve){var at=Ve.clipboardData.getData("text");s(at)&&Ye(at)},se=S.useRef(!1),K=function(){se.current=!0},_e=function(Ve){var at=Ve.target,tt=at.selectionStart,ze=Ae.getMaskCellIndex(tt);oe(ze),xe({}),M==null||M(Ve),se.current=!1},Ue=function(Ve){U(!0),oe(0),ee(""),C(Ve)},lt=function(Ve){E(Ve)},We=function(Ve){U(!1),lt(Ve)};vB(n,function(){!n&&!p&&j(_)});var pt=function(Ve){Ve.key==="Enter"&&s(be)&&d(),f==null||f(Ve)},mt=function(Ve){pt(Ve);var at=Ve.key,tt=null,ze=null,bt=ne-Be,Pe=a.slice(Be,ne),Mt=function(yt){oe(function(Tt){var Ut=Tt+yt;return Ut=Math.max(Ut,0),Ut=Math.min(Ut,Ae.size()-1),Ut})},Ct=function(yt){var Tt=SRe(Pe),Ut=Oe(Tt,3),mn=Ut[0],dn=Ut[1],tn=Ut[2],pn=be.slice(Be,ne),fn=Number(pn);if(isNaN(fn))return String(tn||(yt>0?mn:dn));var kt=fn+yt,Nt=dn-mn+1;return String(mn+(Nt+kt-mn)%Nt)};switch(at){case"Backspace":case"Delete":tt="",ze=Pe;break;case"ArrowLeft":tt="",Mt(-1);break;case"ArrowRight":tt="",Mt(1);break;case"ArrowUp":tt="",ze=Ct(1);break;case"ArrowDown":tt="",ze=Ct(-1);break;default:isNaN(Number(at))||(tt=J+at,ze=tt);break}if(tt!==null&&(ee(tt),tt.length>=bt&&(Mt(1),ee(""))),ze!==null){var qt=be.slice(0,Be)+pB(ze,bt)+be.slice(ne);Ye(qt.slice(0,a.length))}xe({})},vt=S.useRef();wr(function(){if(!(!V||!a||se.current)){if(!Ae.match(be)){Ye(a);return}return Ne.current.setSelectionRange(Be,ne),vt.current=Rr(function(){Ne.current.setSelectionRange(Be,ne)}),function(){Rr.cancel(vt.current)}}},[Ae,a,V,be,fe,Be,ne,ye,Ye]);var At=a?{onFocus:Ue,onBlur:We,onKeyDown:mt,onMouseDown:K,onMouseUp:_e,onPaste:qe}:{};return S.createElement("div",{ref:Ce,className:ke(L,Se(Se({},"".concat(L,"-active"),n&&i),"".concat(L,"-placeholder"),c))},S.createElement(I,it({ref:Ne,"aria-invalid":x,autoComplete:"off"},y,{onKeyDown:pt,onBlur:lt},At,{value:be,onChange:rt})),S.createElement(yM,{type:"suffix",icon:o}),b)}),wRe=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],CRe=["index"];function TRe(t,e){var n=t.id,r=t.prefix,i=t.clearIcon,o=t.suffixIcon,a=t.separator,s=a===void 0?"~":a,l=t.activeIndex;t.activeHelp,t.allHelp;var c=t.focused;t.onFocus,t.onBlur,t.onKeyDown,t.locale,t.generateConfig;var u=t.placeholder,d=t.className,f=t.style,h=t.onClick,p=t.onClear,x=t.value;t.onChange,t.onSubmit,t.onInputChange,t.format,t.maskFormat,t.preserveInvalidOnBlur,t.onInvalid;var b=t.disabled,y=t.invalid;t.inputReadOnly;var _=t.direction;t.onOpenChange;var C=t.onActiveInfo;t.placement;var E=t.onMouseDown;t.required,t["aria-required"];var M=t.autoFocus,R=t.tabIndex,N=Qn(t,wRe),O=_==="rtl",I=S.useContext(xu),L=I.prefixCls,F=S.useMemo(function(){if(typeof n=="string")return[n];var ye=n||{};return[ye.start,ye.end]},[n]),$=S.useRef(),V=S.useRef(),U=S.useRef(),k=function(xe){var be;return(be=[V,U][xe])===null||be===void 0?void 0:be.current};S.useImperativeHandle(e,function(){return{nativeElement:$.current,focus:function(xe){if(yn(xe)==="object"){var be,Ce=xe||{},Ne=Ce.index,Ae=Ne===void 0?0:Ne,me=Qn(Ce,CRe);(be=k(Ae))===null||be===void 0||be.focus(me)}else{var de;(de=k(xe??0))===null||de===void 0||de.focus()}},blur:function(){var xe,be;(xe=k(0))===null||xe===void 0||xe.blur(),(be=k(1))===null||be===void 0||be.blur()}}});var z=Wne(N),H=S.useMemo(function(){return Array.isArray(u)?u:[u,u]},[u]),j=qne(we(we({},t),{},{id:F,placeholder:H})),X=Oe(j,1),Y=X[0],J=S.useState({position:"absolute",width:0}),ee=Oe(J,2),re=ee[0],ue=ee[1],fe=Or(function(){var ye=k(l);if(ye){var xe=ye.nativeElement.getBoundingClientRect(),be=$.current.getBoundingClientRect(),Ce=xe.left-be.left;ue(function(Ne){return we(we({},Ne),{},{width:xe.width,left:Ce})}),C([xe.left,xe.right,be.width])}});S.useEffect(function(){fe()},[l]);var oe=i&&(x[0]&&!b[0]||x[1]&&!b[1]),ce=M&&!b[0],pe=M&&!ce&&!b[1];return S.createElement(rl,{onResize:fe},S.createElement("div",it({},z,{className:ke(L,"".concat(L,"-range"),Se(Se(Se(Se({},"".concat(L,"-focused"),c),"".concat(L,"-disabled"),b.every(function(ye){return ye})),"".concat(L,"-invalid"),y.some(function(ye){return ye})),"".concat(L,"-rtl"),O),d),style:f,ref:$,onClick:h,onMouseDown:function(xe){var be=xe.target;be!==V.current.inputElement&&be!==U.current.inputElement&&xe.preventDefault(),E==null||E(xe)}}),r&&S.createElement("div",{className:"".concat(L,"-prefix")},r),S.createElement(c5,it({ref:V},Y(0),{autoFocus:ce,tabIndex:R,"date-range":"start"})),S.createElement("div",{className:"".concat(L,"-range-separator")},s),S.createElement(c5,it({ref:U},Y(1),{autoFocus:pe,tabIndex:R,"date-range":"end"})),S.createElement("div",{className:"".concat(L,"-active-bar"),style:re}),S.createElement(yM,{type:"suffix",icon:o}),oe&&S.createElement(l5,{icon:i,onClear:p})))}var ERe=S.forwardRef(TRe);function jz(t,e){var n=t??e;return Array.isArray(n)?n:[n,n]}function p_(t){return t===1?"end":"start"}function MRe(t,e){var n=Nne(t,function(){var Bn=t.disabled,Cn=t.allowEmpty,Wn=jz(Bn,!1),hi=jz(Cn,!1);return{disabled:Wn,allowEmpty:hi}}),r=Oe(n,6),i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=i.prefixCls,d=i.styles,f=i.classNames,h=i.defaultValue,p=i.value,x=i.needConfirm,b=i.onKeyDown,y=i.disabled,_=i.allowEmpty,C=i.disabledDate,E=i.minDate,M=i.maxDate,R=i.defaultOpen,N=i.open,O=i.onOpenChange,I=i.locale,L=i.generateConfig,F=i.picker,$=i.showNow,V=i.showToday,U=i.showTime,k=i.mode,z=i.onPanelChange,H=i.onCalendarChange,j=i.onOk,X=i.defaultPickerValue,Y=i.pickerValue,J=i.onPickerValueChange,ee=i.inputReadOnly,re=i.suffixIcon,ue=i.onFocus,fe=i.onBlur,oe=i.presets,ce=i.ranges,pe=i.components,ye=i.cellRender,xe=i.dateRender,be=i.monthCellRender,Ce=i.onClick,Ne=Dne(e),Ae=Ine(N,R,y,O),me=Oe(Ae,2),de=me[0],Be=me[1],ne=function(Cn,Wn){(y.some(function(hi){return!hi})||!Cn)&&Be(Cn,Wn)},Je=kne(L,I,s,!0,!1,h,p,H,j),Ye=Oe(Je,5),rt=Ye[0],qe=Ye[1],se=Ye[2],K=Ye[3],_e=Ye[4],Ue=se(),lt=Lne(y,_,de),We=Oe(lt,9),pt=We[0],mt=We[1],vt=We[2],At=We[3],ot=We[4],Ve=We[5],at=We[6],tt=We[7],ze=We[8],bt=function(Cn,Wn){mt(!0),ue==null||ue(Cn,{range:p_(Wn??At)})},Pe=function(Cn,Wn){mt(!1),fe==null||fe(Cn,{range:p_(Wn??At)})},Mt=S.useMemo(function(){if(!U)return null;var Bn=U.disabledTime,Cn=Bn?function(Wn){var hi=p_(At),ro=bne(Ue,at,At);return Bn(Wn,hi,{from:ro})}:void 0;return we(we({},U),{},{disabledTime:Cn})},[U,At,Ue,at]),Ct=yi([F,F],{value:k}),qt=Oe(Ct,2),Ge=qt[0],yt=qt[1],Tt=Ge[At]||F,Ut=Tt==="date"&&Mt?"datetime":Tt,mn=Ut===F&&Ut!=="time",dn=zne(F,Tt,$,V,!0),tn=Vne(i,rt,qe,se,K,y,s,pt,de,c),pn=Oe(tn,2),fn=pn[0],kt=pn[1],Nt=ZMe(Ue,y,at,L,I,C),It=Sne(Ue,c,_),Le=Oe(It,2),st=Le[0],gt=Le[1],ht=Bne(L,I,Ue,Ge,de,At,o,mn,X,Y,Mt==null?void 0:Mt.defaultOpenValue,J,E,M),m=Oe(ht,2),te=m[0],on=m[1],xn=Or(function(Bn,Cn,Wn){var hi=Ab(Ge,At,Cn);if((hi[0]!==Ge[0]||hi[1]!==Ge[1])&&yt(hi),z&&Wn!==!1){var ro=zt(Ue);Bn&&(ro[At]=Bn),z(ro,hi)}}),Gn=function(Cn,Wn){return Ab(Ue,Wn,Cn)},cn=function(Cn,Wn){var hi=Ue;Cn&&(hi=Gn(Cn,At)),tt(At);var ro=Ve(hi);K(hi),fn(At,ro===null),ro===null?ne(!1,{force:!0}):Wn||Ne.current.focus({index:ro})},In=function(Cn){var Wn,hi=Cn.target.getRootNode();if(!Ne.current.nativeElement.contains((Wn=hi.activeElement)!==null&&Wn!==void 0?Wn:document.activeElement)){var ro=y.findIndex(function(Nf){return!Nf});ro>=0&&Ne.current.focus({index:ro})}ne(!0),Ce==null||Ce(Cn)},dr=function(){kt(null),ne(!1,{force:!0})},Sn=S.useState(null),wt=Oe(Sn,2),Zt=wt[0],Mn=wt[1],kn=S.useState(null),le=Oe(kn,2),Ie=le[0],et=le[1],nt=S.useMemo(function(){return Ie||Ue},[Ue,Ie]);S.useEffect(function(){de||et(null)},[de]);var Fe=S.useState([0,0,0]),St=Oe(Fe,2),Dt=St[0],_t=St[1],ie=One(oe,ce),Ot=function(Cn){et(Cn),Mn("preset")},_n=function(Cn){var Wn=kt(Cn);Wn&&ne(!1,{force:!0})},hn=function(Cn){cn(Cn)},Vn=function(Cn){et(Cn?Gn(Cn,At):null),Mn("cell")},fr=function(Cn){ne(!0),bt(Cn)},Tr=function(){vt("panel")},ae=function(Cn){var Wn=Ab(Ue,At,Cn);K(Wn),!x&&!a&&o===Ut&&cn(Cn)},Dn=function(){ne(!1)},Lt=mB(ye,xe,be,p_(At)),Wt=Ue[At]||null,vn=Or(function(Bn){return c(Bn,{activeIndex:At})}),nn=S.useMemo(function(){var Bn=Sc(i,!1),Cn=go(i,[].concat(zt(Object.keys(Bn)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return Cn},[i]),an=S.createElement(jne,it({},nn,{showNow:dn,showTime:Mt,range:!0,multiplePanel:mn,activeInfo:Dt,disabledDate:Nt,onFocus:fr,onBlur:Pe,onPanelMouseDown:Tr,picker:F,mode:Tt,internalMode:Ut,onPanelChange:xn,format:l,value:Wt,isInvalid:vn,onChange:null,onSelect:ae,pickerValue:te,defaultOpenValue:g0(U==null?void 0:U.defaultOpenValue)[At],onPickerValueChange:on,hoverValue:nt,onHover:Vn,needConfirm:x,onSubmit:cn,onOk:_e,presets:ie,onPresetHover:Ot,onPresetSubmit:_n,onNow:hn,cellRender:Lt})),Hn=function(Cn,Wn){var hi=Gn(Cn,Wn);K(hi)},Hr=function(){vt("input")},Jn=function(Cn,Wn){var hi=at.length,ro=at[hi-1];if(hi&&ro!==Wn&&x&&!_[ro]&&!ze(ro)&&Ue[ro]){Ne.current.focus({index:ro});return}vt("input"),ne(!0,{inherit:!0}),At!==Wn&&de&&!x&&a&&cn(null,!0),ot(Wn),bt(Cn,Wn)},Sr=function(Cn,Wn){if(ne(!1),!x&&vt()==="input"){var hi=Ve(Ue);fn(At,hi===null)}Pe(Cn,Wn)},sr=function(Cn,Wn){Cn.key==="Tab"&&cn(null,!0),b==null||b(Cn,Wn)},jr=S.useMemo(function(){return{prefixCls:u,locale:I,generateConfig:L,button:pe.button,input:pe.input}},[u,I,L,pe.button,pe.input]);return wr(function(){de&&At!==void 0&&xn(null,F,!1)},[de,At,F]),wr(function(){var Bn=vt();!de&&Bn==="input"&&(ne(!1),cn(null,!0)),!de&&a&&!x&&Bn==="panel"&&(ne(!0),cn())},[de]),S.createElement(xu.Provider,{value:jr},S.createElement(vne,it({},xne(i),{popupElement:an,popupStyle:d.popup,popupClassName:f.popup,visible:de,onClose:Dn,range:!0}),S.createElement(ERe,it({},i,{ref:Ne,suffixIcon:re,activeIndex:pt||de?At:null,activeHelp:!!Ie,allHelp:!!Ie&&Zt==="preset",focused:pt,onFocus:Jn,onBlur:Sr,onKeyDown:sr,onSubmit:cn,value:nt,maskFormat:l,onChange:Hn,onInputChange:Hr,format:s,inputReadOnly:ee,disabled:y,open:de,onOpenChange:ne,onClick:In,onClear:dr,invalid:st,onInvalid:gt,onActiveInfo:_t}))))}var RRe=S.forwardRef(MRe);function PRe(t){var e=t.prefixCls,n=t.value,r=t.onRemove,i=t.removeIcon,o=i===void 0?"":i,a=t.formatDate,s=t.disabled,l=t.maxTagCount,c=t.placeholder,u="".concat(e,"-selector"),d="".concat(e,"-selection"),f="".concat(d,"-overflow");function h(b,y){return S.createElement("span",{className:ke("".concat(d,"-item")),title:typeof b=="string"?b:null},S.createElement("span",{className:"".concat(d,"-item-content")},b),!s&&y&&S.createElement("span",{onMouseDown:function(C){C.preventDefault()},onClick:y,className:"".concat(d,"-item-remove")},o))}function p(b){var y=a(b),_=function(E){E&&E.stopPropagation(),r(b)};return h(y,_)}function x(b){var y="+ ".concat(b.length," ...");return h(y)}return S.createElement("div",{className:u},S.createElement(lu,{prefixCls:f,data:n,renderItem:p,renderRest:x,itemKey:function(y){return a(y)},maxCount:l}),!n.length&&S.createElement("span",{className:"".concat(e,"-selection-placeholder")},c))}var NRe=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function IRe(t,e){t.id;var n=t.open,r=t.prefix,i=t.clearIcon,o=t.suffixIcon;t.activeHelp,t.allHelp;var a=t.focused;t.onFocus,t.onBlur,t.onKeyDown;var s=t.locale,l=t.generateConfig,c=t.placeholder,u=t.className,d=t.style,f=t.onClick,h=t.onClear,p=t.internalPicker,x=t.value,b=t.onChange,y=t.onSubmit;t.onInputChange;var _=t.multiple,C=t.maxTagCount;t.format,t.maskFormat,t.preserveInvalidOnBlur,t.onInvalid;var E=t.disabled,M=t.invalid;t.inputReadOnly;var R=t.direction;t.onOpenChange;var N=t.onMouseDown;t.required,t["aria-required"];var O=t.autoFocus,I=t.tabIndex,L=t.removeIcon,F=Qn(t,NRe),$=R==="rtl",V=S.useContext(xu),U=V.prefixCls,k=S.useRef(),z=S.useRef();S.useImperativeHandle(e,function(){return{nativeElement:k.current,focus:function(ce){var pe;(pe=z.current)===null||pe===void 0||pe.focus(ce)},blur:function(){var ce;(ce=z.current)===null||ce===void 0||ce.blur()}}});var H=Wne(F),j=function(ce){b([ce])},X=function(ce){var pe=x.filter(function(ye){return ye&&!Za(l,s,ye,ce,p)});b(pe),n||y()},Y=qne(we(we({},t),{},{onChange:j}),function(oe){var ce=oe.valueTexts;return{value:ce[0]||"",active:a}}),J=Oe(Y,2),ee=J[0],re=J[1],ue=!!(i&&x.length&&!E),fe=_?S.createElement(S.Fragment,null,S.createElement(PRe,{prefixCls:U,value:x,onRemove:X,formatDate:re,maxTagCount:C,disabled:E,removeIcon:L,placeholder:c}),S.createElement("input",{className:"".concat(U,"-multiple-input"),value:x.map(re).join(","),ref:z,readOnly:!0,autoFocus:O,tabIndex:I}),S.createElement(yM,{type:"suffix",icon:o}),ue&&S.createElement(l5,{icon:i,onClear:h})):S.createElement(c5,it({ref:z},ee(),{autoFocus:O,tabIndex:I,suffixIcon:o,clearIcon:ue&&S.createElement(l5,{icon:i,onClear:h}),showActiveCls:!1}));return S.createElement("div",it({},H,{className:ke(U,Se(Se(Se(Se(Se({},"".concat(U,"-multiple"),_),"".concat(U,"-focused"),a),"".concat(U,"-disabled"),E),"".concat(U,"-invalid"),M),"".concat(U,"-rtl"),$),u),style:d,ref:k,onClick:f,onMouseDown:function(ce){var pe,ye=ce.target;ye!==((pe=z.current)===null||pe===void 0?void 0:pe.inputElement)&&ce.preventDefault(),N==null||N(ce)}}),r&&S.createElement("div",{className:"".concat(U,"-prefix")},r),fe)}var DRe=S.forwardRef(IRe);function ORe(t,e){var n=Nne(t),r=Oe(n,6),i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=i,d=u.prefixCls,f=u.styles,h=u.classNames,p=u.order,x=u.defaultValue,b=u.value,y=u.needConfirm,_=u.onChange,C=u.onKeyDown,E=u.disabled,M=u.disabledDate,R=u.minDate,N=u.maxDate,O=u.defaultOpen,I=u.open,L=u.onOpenChange,F=u.locale,$=u.generateConfig,V=u.picker,U=u.showNow,k=u.showToday,z=u.showTime,H=u.mode,j=u.onPanelChange,X=u.onCalendarChange,Y=u.onOk,J=u.multiple,ee=u.defaultPickerValue,re=u.pickerValue,ue=u.onPickerValueChange,fe=u.inputReadOnly,oe=u.suffixIcon,ce=u.removeIcon,pe=u.onFocus,ye=u.onBlur,xe=u.presets,be=u.components,Ce=u.cellRender,Ne=u.dateRender,Ae=u.monthCellRender,me=u.onClick,de=Dne(e);function Be(nn){return nn===null?null:J?nn:nn[0]}var ne=Gne($,F,o),Je=Ine(I,O,[E],L),Ye=Oe(Je,2),rt=Ye[0],qe=Ye[1],se=function(an,Hn,Hr){if(X){var Jn=we({},Hr);delete Jn.range,X(Be(an),Be(Hn),Jn)}},K=function(an){Y==null||Y(Be(an))},_e=kne($,F,s,!1,p,x,b,se,K),Ue=Oe(_e,5),lt=Ue[0],We=Ue[1],pt=Ue[2],mt=Ue[3],vt=Ue[4],At=pt(),ot=Lne([E]),Ve=Oe(ot,4),at=Ve[0],tt=Ve[1],ze=Ve[2],bt=Ve[3],Pe=function(an){tt(!0),pe==null||pe(an,{})},Mt=function(an){tt(!1),ye==null||ye(an,{})},Ct=yi(V,{value:H}),qt=Oe(Ct,2),Ge=qt[0],yt=qt[1],Tt=Ge==="date"&&z?"datetime":Ge,Ut=zne(V,Ge,U,k),mn=_&&function(nn,an){_(Be(nn),Be(an))},dn=Vne(we(we({},i),{},{onChange:mn}),lt,We,pt,mt,[],s,at,rt,c),tn=Oe(dn,2),pn=tn[1],fn=Sne(At,c),kt=Oe(fn,2),Nt=kt[0],It=kt[1],Le=S.useMemo(function(){return Nt.some(function(nn){return nn})},[Nt]),st=function(an,Hn){if(ue){var Hr=we(we({},Hn),{},{mode:Hn.mode[0]});delete Hr.range,ue(an[0],Hr)}},gt=Bne($,F,At,[Ge],rt,bt,o,!1,ee,re,g0(z==null?void 0:z.defaultOpenValue),st,R,N),ht=Oe(gt,2),m=ht[0],te=ht[1],on=Or(function(nn,an,Hn){if(yt(an),j&&Hn!==!1){var Hr=nn||At[At.length-1];j(Hr,an)}}),xn=function(){pn(pt()),qe(!1,{force:!0})},Gn=function(an){!E&&!de.current.nativeElement.contains(document.activeElement)&&de.current.focus(),qe(!0),me==null||me(an)},cn=function(){pn(null),qe(!1,{force:!0})},In=S.useState(null),dr=Oe(In,2),Sn=dr[0],wt=dr[1],Zt=S.useState(null),Mn=Oe(Zt,2),kn=Mn[0],le=Mn[1],Ie=S.useMemo(function(){var nn=[kn].concat(zt(At)).filter(function(an){return an});return J?nn:nn.slice(0,1)},[At,kn,J]),et=S.useMemo(function(){return!J&&kn?[kn]:At.filter(function(nn){return nn})},[At,kn,J]);S.useEffect(function(){rt||le(null)},[rt]);var nt=One(xe),Fe=function(an){le(an),wt("preset")},St=function(an){var Hn=J?ne(pt(),an):[an],Hr=pn(Hn);Hr&&!J&&qe(!1,{force:!0})},Dt=function(an){St(an)},_t=function(an){le(an),wt("cell")},ie=function(an){qe(!0),Pe(an)},Ot=function(an){if(ze("panel"),!(J&&Tt!==V)){var Hn=J?ne(pt(),an):[an];mt(Hn),!y&&!a&&o===Tt&&xn()}},_n=function(){qe(!1)},hn=mB(Ce,Ne,Ae),Vn=S.useMemo(function(){var nn=Sc(i,!1),an=go(i,[].concat(zt(Object.keys(nn)),["onChange","onCalendarChange","style","className","onPanelChange"]));return we(we({},an),{},{multiple:i.multiple})},[i]),fr=S.createElement(jne,it({},Vn,{showNow:Ut,showTime:z,disabledDate:M,onFocus:ie,onBlur:Mt,picker:V,mode:Ge,internalMode:Tt,onPanelChange:on,format:l,value:At,isInvalid:c,onChange:null,onSelect:Ot,pickerValue:m,defaultOpenValue:z==null?void 0:z.defaultOpenValue,onPickerValueChange:te,hoverValue:Ie,onHover:_t,needConfirm:y,onSubmit:xn,onOk:vt,presets:nt,onPresetHover:Fe,onPresetSubmit:St,onNow:Dt,cellRender:hn})),Tr=function(an){mt(an)},ae=function(){ze("input")},Dn=function(an){ze("input"),qe(!0,{inherit:!0}),Pe(an)},Lt=function(an){qe(!1),Mt(an)},Wt=function(an,Hn){an.key==="Tab"&&xn(),C==null||C(an,Hn)},vn=S.useMemo(function(){return{prefixCls:d,locale:F,generateConfig:$,button:be.button,input:be.input}},[d,F,$,be.button,be.input]);return wr(function(){rt&&bt!==void 0&&on(null,V,!1)},[rt,bt,V]),wr(function(){var nn=ze();!rt&&nn==="input"&&(qe(!1),xn()),!rt&&a&&!y&&nn==="panel"&&xn()},[rt]),S.createElement(xu.Provider,{value:vn},S.createElement(vne,it({},xne(i),{popupElement:fr,popupStyle:f.popup,popupClassName:h.popup,visible:rt,onClose:_n}),S.createElement(DRe,it({},i,{ref:de,suffixIcon:oe,removeIcon:ce,activeHelp:!!kn,allHelp:!!kn&&Sn==="preset",focused:at,onFocus:Dn,onBlur:Lt,onKeyDown:Wt,onSubmit:xn,value:et,maskFormat:l,onChange:Tr,onInputChange:ae,internalPicker:o,format:s,inputReadOnly:fe,disabled:E,open:rt,onOpenChange:qe,onClick:Gn,onClear:cn,invalid:Le,onInvalid:function(an){It(an,0)}}))))}var LRe=S.forwardRef(ORe);const BRe=["parentNode"],FRe="form_item";function vb(t){return t===void 0||t===!1?[]:Array.isArray(t)?t:[t]}function Xne(t,e){if(!t.length)return;const n=t.join("_");return e?`${e}_${n}`:BRe.includes(n)?`${FRe}_${n}`:n}function Yne(t,e,n,r,i,o){let a=r;return o!==void 0?a=o:n.validating?a="validating":t.length?a="error":e.length?a="warning":(n.touched||i&&n.validated)&&(a="success"),a}var $Re=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function qz(t){return vb(t).join("_")}function Wz(t,e){const n=e.getFieldInstance(t),r=WZ(n);if(r)return r;const i=Xne(vb(t),e.__INTERNAL__.name);if(i)return document.getElementById(i)}function Kne(t){const[e]=KL(),n=S.useRef({}),r=S.useMemo(()=>t??Object.assign(Object.assign({},e),{__INTERNAL__:{itemRef:i=>o=>{const a=qz(i);o?n.current[a]=o:delete n.current[a]}},scrollToField:(i,o={})=>{const{focus:a}=o,s=$Re(o,["focus"]),l=Wz(i,r);l&&(mxe(l,Object.assign({scrollMode:"if-needed",block:"nearest"},s)),a&&r.focusField(i))},focusField:i=>{var o,a;const s=r.getFieldInstance(i);typeof(s==null?void 0:s.focus)=="function"?s.focus():(a=(o=Wz(i,r))===null||o===void 0?void 0:o.focus)===null||a===void 0||a.call(o)},getFieldInstance:i=>{const o=qz(i);return n.current[o]}}),[t,e]);return[r]}function ry(t){return Fr(t,{inputAffixPadding:t.paddingXXS})}const iy=t=>{const{controlHeight:e,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:o,controlHeightLG:a,fontSizeLG:s,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:f,colorPrimaryHover:h,colorPrimary:p,controlOutlineWidth:x,controlOutline:b,colorErrorOutline:y,colorWarningOutline:_,colorBgContainer:C,inputFontSize:E,inputFontSizeLG:M,inputFontSizeSM:R}=t,N=E||n,O=R||N,I=M||s,L=Math.round((e-N*r)/2*10)/10-i,F=Math.round((o-O*r)/2*10)/10-i,$=Math.ceil((a-I*l)/2*10)/10-i;return{paddingBlock:Math.max(L,0),paddingBlockSM:Math.max(F,0),paddingBlockLG:Math.max($,0),paddingInline:c-i,paddingInlineSM:u-i,paddingInlineLG:d-i,addonBg:f,activeBorderColor:p,hoverBorderColor:h,activeShadow:`0 0 0 ${x}px ${b}`,errorActiveShadow:`0 0 0 ${x}px ${y}`,warningActiveShadow:`0 0 0 ${x}px ${_}`,hoverBg:C,activeBg:C,inputFontSize:N,inputFontSizeLG:I,inputFontSizeSM:O}},URe=t=>({borderColor:t.hoverBorderColor,backgroundColor:t.hoverBg}),bM=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},URe(Fr(t,{hoverBorderColor:t.colorBorder,hoverBg:t.colorBgContainerDisabled})))}),bB=(t,e)=>({background:t.colorBgContainer,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:t.activeBg}}),Xz=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},bB(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:e.borderColor}}),Qne=(t,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bB(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},bM(t))}),Xz(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),Xz(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),Yz=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),kRe=t=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.addonBg,border:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Yz(t,{status:"error",addonBorderColor:t.colorError,addonColor:t.colorErrorText})),Yz(t,{status:"warning",addonBorderColor:t.colorWarning,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group-addon`]:Object.assign({},bM(t))}})}),Zne=(t,e)=>{const{componentCls:n}=t;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:t.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:t.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:t.colorWarning}}},e)}},Jne=(t,e)=>{var n;return{background:e.bg,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:(n=e==null?void 0:e.inputColor)!==null&&n!==void 0?n:"unset"},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:t.activeBg}}},Kz=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},Jne(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}})}),ere=(t,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Jne(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},bM(t))}),Kz(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,inputColor:t.colorErrorText,affixColor:t.colorError})),Kz(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,inputColor:t.colorWarningText,affixColor:t.colorWarning})),e)}),Qz=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),VRe=t=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group-addon`]:{background:t.colorFillTertiary,"&:last-child":{position:"static"}}},Qz(t,{status:"error",addonBg:t.colorErrorBg,addonColor:t.colorErrorText})),Qz(t,{status:"warning",addonBg:t.colorWarningBg,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary,color:t.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`}}}})}),tre=(t,e)=>({background:t.colorBgContainer,borderWidth:`${Re(t.lineWidth)} 0`,borderStyle:`${t.lineType} none`,borderColor:`transparent transparent ${e.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${e.hoverBorderColor} transparent`,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${e.activeBorderColor} transparent`,outline:0,backgroundColor:t.activeBg}}),Zz=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},tre(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:`transparent transparent ${e.borderColor} transparent`}}),nre=(t,e)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},tre(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:{color:t.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${t.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),Zz(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),Zz(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),rre=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),ire=t=>{const{paddingBlockLG:e,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:i}=t;return{padding:`${Re(e)} ${Re(i)}`,fontSize:t.inputFontSizeLG,lineHeight:n,borderRadius:r}},xB=t=>({padding:`${Re(t.paddingBlockSM)} ${Re(t.paddingInlineSM)}`,fontSize:t.inputFontSizeSM,borderRadius:t.borderRadiusSM}),SB=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Re(t.paddingBlock)} ${Re(t.paddingInline)}`,color:t.colorText,fontSize:t.inputFontSize,lineHeight:t.lineHeight,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},rre(t.colorTextPlaceholder)),{"&-lg":Object.assign({},ire(t)),"&-sm":Object.assign({},xB(t)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),zRe=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},ire(t)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},xB(t)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Re(t.paddingInline)}`,color:t.colorText,fontWeight:"normal",fontSize:t.inputFontSize,textAlign:"center",borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${Re(t.calc(t.paddingBlock).add(1).mul(-1).equal())} ${Re(t.calc(t.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${Re(t.lineWidth)} ${t.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${Re(t.calc(t.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},S2()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderInlineEndWidth:t.lineWidth},[e]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${e},
      & > ${n}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${e},
      & > ${n}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${e},
      & > ${n}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},[`& > ${n}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},GRe=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r,calc:i}=t,o=16,a=i(n).sub(i(r).mul(2)).sub(o).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ji(t)),SB(t)),Qne(t)),ere(t)),Zne(t)),nre(t)),{'&[type="color"]':{height:t.controlHeight,[`&${e}-lg`]:{height:t.controlHeightLG},[`&${e}-sm`]:{height:n,paddingTop:a,paddingBottom:a}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},HRe=t=>{const{componentCls:e}=t;return{[`${e}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${t.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:t.colorIcon},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Re(t.inputAffixPadding)}`}}}},jRe=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:a,iconCls:s}=t,l=`${e}-affix-wrapper`,c=`${e}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},SB(t)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),HRe(t)),{[`${s}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:a}}}),[`${e}-underlined`]:{borderRadius:0},[c]:{[`${s}${e}-password-icon`]:{color:o,cursor:"not-allowed","&:hover":{color:o}}}}},qRe=t=>{const{componentCls:e,borderRadiusLG:n,borderRadiusSM:r}=t;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},Ji(t)),zRe(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:n,fontSize:t.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},kRe(t)),VRe(t)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},WRe=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-search`;return{[r]:{[e]:{"&:not([disabled]):hover, &:not([disabled]):focus":{[`+ ${e}-group-addon ${r}-button:not(${n}-btn-color-primary):not(${n}-btn-variant-text)`]:{borderInlineStartColor:t.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:t.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:t.calc(t.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-color-primary)`]:{color:t.colorTextDescription,"&:not([disabled]):hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},[`&${n}-btn-loading::before`]:{inset:0}}}},[`${r}-button`]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},XRe=t=>{const{componentCls:e}=t;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:t.colorError}}}},ore=di(["Input","Shared"],t=>{const e=Fr(t,ry(t));return[GRe(e),jRe(e)]},iy,{resetFont:!1}),are=di(["Input","Component"],t=>{const e=Fr(t,ry(t));return[qRe(e),WRe(e),XRe(e),aM(e)]},iy,{resetFont:!1}),M4=(t,e)=>{const{componentCls:n,controlHeight:r}=t,i=e?`${n}-${e}`:"",o=_te(t);return[{[`${n}-multiple${i}`]:{paddingBlock:o.containerPadding,paddingInlineStart:o.basePadding,minHeight:r,[`${n}-selection-item`]:{height:o.itemHeight,lineHeight:Re(o.itemLineHeight)}}}]},YRe=t=>{const{componentCls:e,calc:n,lineWidth:r}=t,i=Fr(t,{fontHeight:t.fontSize,selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS,controlHeight:t.controlHeightSM}),o=Fr(t,{fontHeight:n(t.multipleItemHeightLG).sub(n(r).mul(2).equal()).equal(),fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius,controlHeight:t.controlHeightLG});return[M4(i,"small"),M4(t),M4(o,"large"),{[`${e}${e}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${e}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${e}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}}},wte(t)),{[`${e}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},KRe=YRe,QRe=t=>{const{pickerCellCls:e,pickerCellInnerCls:n,cellHeight:r,borderRadiusSM:i,motionDurationMid:o,cellHoverBg:a,lineWidth:s,lineType:l,colorPrimary:c,cellActiveWithRangeBg:u,colorTextLightSolid:d,colorTextDisabled:f,cellBgDisabled:h,colorFillSecondary:p}=t;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:r,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[n]:{position:"relative",zIndex:2,display:"inline-block",minWidth:r,height:r,lineHeight:Re(r),borderRadius:i,transition:`background ${o}`},[`&:hover:not(${e}-in-view):not(${e}-disabled),
    &:hover:not(${e}-selected):not(${e}-range-start):not(${e}-range-end):not(${e}-disabled)`]:{[n]:{background:a}},[`&-in-view${e}-today ${n}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${Re(s)} ${l} ${c}`,borderRadius:i,content:'""'}},[`&-in-view${e}-in-range,
      &-in-view${e}-range-start,
      &-in-view${e}-range-end`]:{position:"relative",[`&:not(${e}-disabled):before`]:{background:u}},[`&-in-view${e}-selected,
      &-in-view${e}-range-start,
      &-in-view${e}-range-end`]:{[`&:not(${e}-disabled) ${n}`]:{color:d,background:c},[`&${e}-disabled ${n}`]:{background:p}},[`&-in-view${e}-range-start:not(${e}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${e}-range-end:not(${e}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${e}-range-start:not(${e}-range-end) ${n}`]:{borderStartStartRadius:i,borderEndStartRadius:i,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${e}-range-end:not(${e}-range-start) ${n}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:i,borderEndEndRadius:i},"&-disabled":{color:f,cursor:"not-allowed",[n]:{background:"transparent"},"&::before":{background:h}},[`&-disabled${e}-today ${n}::before`]:{borderColor:f}}},ZRe=t=>{const{componentCls:e,pickerCellCls:n,pickerCellInnerCls:r,pickerYearMonthCellWidth:i,pickerControlIconSize:o,cellWidth:a,paddingSM:s,paddingXS:l,paddingXXS:c,colorBgContainer:u,lineWidth:d,lineType:f,borderRadiusLG:h,colorPrimary:p,colorTextHeading:x,colorSplit:b,pickerControlIconBorderWidth:y,colorIcon:_,textHeight:C,motionDurationMid:E,colorIconHover:M,fontWeightStrong:R,cellHeight:N,pickerCellPaddingVertical:O,colorTextDisabled:I,colorText:L,fontSize:F,motionDurationSlow:$,withoutTimeCellHeight:V,pickerQuarterPanelContentHeight:U,borderRadiusSM:k,colorTextLightSolid:z,cellHoverBg:H,timeColumnHeight:j,timeColumnWidth:X,timeCellHeight:Y,controlItemBgActive:J,marginXXS:ee,pickerDatePanelPaddingHorizontal:re,pickerControlIconMargin:ue}=t,fe=t.calc(a).mul(7).add(t.calc(re).mul(2)).equal();return{[e]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:u,borderRadius:h,outline:"none","&-focused":{borderColor:p},"&-rtl":{[`${e}-prev-icon,
              ${e}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${e}-next-icon,
              ${e}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${e}-time-panel`]:{[`${e}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:fe},"&-header":{display:"flex",padding:`0 ${Re(l)}`,color:x,borderBottom:`${Re(d)} ${f} ${b}`,"> *":{flex:"none"},button:{padding:0,color:_,lineHeight:Re(C),background:"transparent",border:0,cursor:"pointer",transition:`color ${E}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:F,"&:hover":{color:M},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:R,lineHeight:Re(C),"> button":{color:"inherit",fontWeight:"inherit",verticalAlign:"top","&:not(:first-child)":{marginInlineStart:l},"&:hover":{color:p}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:o,height:o,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:o,height:o,border:"0 solid currentcolor",borderBlockStartWidth:y,borderInlineStartWidth:y,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:ue,insetInlineStart:ue,display:"inline-block",width:o,height:o,border:"0 solid currentcolor",borderBlockStartWidth:y,borderInlineStartWidth:y,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:N,fontWeight:"normal"},th:{height:t.calc(N).add(t.calc(O).mul(2)).equal(),color:L,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${Re(O)} 0`,color:I,cursor:"pointer","&-in-view":{color:L}},QRe(t)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${e}-content`]:{height:t.calc(V).mul(4).equal()},[r]:{padding:`0 ${Re(l)}`}},"&-quarter-panel":{[`${e}-content`]:{height:U}},"&-decade-panel":{[r]:{padding:`0 ${Re(t.calc(l).div(2).equal())}`},[`${e}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${e}-body`]:{padding:`0 ${Re(l)}`},[r]:{width:i}},"&-date-panel":{[`${e}-body`]:{padding:`${Re(l)} ${Re(re)}`},[`${e}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel-row":{td:{"&:before":{transition:`background ${E}`},"&:first-child:before":{borderStartStartRadius:k,borderEndStartRadius:k},"&:last-child:before":{borderStartEndRadius:k,borderEndEndRadius:k}},"&:hover td:before":{background:H},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${n}`]:{"&:before":{background:p},[`&${e}-cell-week`]:{color:new Kr(z).setA(.5).toHexString()},[r]:{color:z}}},"&-range-hover td:before":{background:J}},"&-week-panel, &-date-panel-show-week":{[`${e}-body`]:{padding:`${Re(l)} ${Re(s)}`},[`${e}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${e}-time-panel`]:{borderInlineStart:`${Re(d)} ${f} ${b}`},[`${e}-date-panel,
          ${e}-time-panel`]:{transition:`opacity ${$}`},"&-active":{[`${e}-date-panel,
            ${e}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${e}-content`]:{display:"flex",flex:"auto",height:j},"&-column":{flex:"1 0 auto",width:X,margin:`${Re(c)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${E}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:t.colorTextTertiary,borderRadius:t.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${t.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${Re(Y)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${Re(d)} ${f} ${b}`},"&-active":{background:new Kr(J).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${e}-time-panel-cell`]:{marginInline:ee,[`${e}-time-panel-cell-inner`]:{display:"block",width:t.calc(X).sub(t.calc(ee).mul(2)).equal(),height:Y,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:t.calc(X).sub(Y).div(2).equal(),color:L,lineHeight:Re(Y),borderRadius:k,cursor:"pointer",transition:`background ${E}`,"&:hover":{background:H}},"&-selected":{[`${e}-time-panel-cell-inner`]:{background:J}},"&-disabled":{[`${e}-time-panel-cell-inner`]:{color:I,background:"transparent",cursor:"not-allowed"}}}}}}}}},JRe=t=>{const{componentCls:e,textHeight:n,lineWidth:r,paddingSM:i,antCls:o,colorPrimary:a,cellActiveWithRangeBg:s,colorPrimaryBorder:l,lineType:c,colorSplit:u}=t;return{[`${e}-dropdown`]:{[`${e}-footer`]:{borderTop:`${Re(r)} ${c} ${u}`,"&-extra":{padding:`0 ${Re(i)}`,lineHeight:Re(t.calc(n).sub(t.calc(r).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${Re(r)} ${c} ${u}`}}},[`${e}-panels + ${e}-footer ${e}-ranges`]:{justifyContent:"space-between"},[`${e}-ranges`]:{marginBlock:0,paddingInline:Re(i),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:Re(t.calc(n).sub(t.calc(r).mul(2)).equal()),display:"inline-block"},[`${e}-now-btn-disabled`]:{pointerEvents:"none",color:t.colorTextDisabled},[`${e}-preset > ${o}-tag-blue`]:{color:a,background:s,borderColor:l,cursor:"pointer"},[`${e}-ok`]:{paddingBlock:t.calc(r).mul(2).equal(),marginInlineStart:"auto"}}}}},ePe=JRe,tPe=t=>{const{componentCls:e,controlHeightLG:n,paddingXXS:r,padding:i}=t;return{pickerCellCls:`${e}-cell`,pickerCellInnerCls:`${e}-cell-inner`,pickerYearMonthCellWidth:t.calc(n).mul(1.5).equal(),pickerQuarterPanelContentHeight:t.calc(n).mul(1.4).equal(),pickerCellPaddingVertical:t.calc(r).add(t.calc(r).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:t.calc(i).add(t.calc(r).div(2)).equal()}},nPe=t=>{const{colorBgContainerDisabled:e,controlHeight:n,controlHeightSM:r,controlHeightLG:i,paddingXXS:o,lineWidth:a}=t,s=o*2,l=a*2,c=Math.min(n-s,n-l),u=Math.min(r-s,r-l),d=Math.min(i-s,i-l);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(o/2),cellHoverBg:t.controlItemBgHover,cellActiveWithRangeBg:t.controlItemBgActive,cellHoverWithRangeBg:new Kr(t.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new Kr(t.colorPrimary).lighten(20).toHexString(),cellBgDisabled:e,timeColumnWidth:i*1.4,timeColumnHeight:28*8,timeCellHeight:28,cellWidth:r*1.5,cellHeight:r,textHeight:i,withoutTimeCellHeight:i*1.65,multipleItemBg:t.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:c,multipleItemHeightSM:u,multipleItemHeightLG:d,multipleSelectorBgDisabled:e,multipleItemColorDisabled:t.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}},rPe=t=>Object.assign(Object.assign(Object.assign(Object.assign({},iy(t)),nPe(t)),aB(t)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:t.zIndexPopupBase+50}),iPe=t=>{const{componentCls:e}=t;return{[e]:[Object.assign(Object.assign(Object.assign(Object.assign({},Qne(t)),nre(t)),ere(t)),Zne(t)),{"&-outlined":{[`&${e}-multiple ${e}-selection-item`]:{background:t.multipleItemBg,border:`${Re(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}},"&-filled":{[`&${e}-multiple ${e}-selection-item`]:{background:t.colorBgContainer,border:`${Re(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}},"&-borderless":{[`&${e}-multiple ${e}-selection-item`]:{background:t.multipleItemBg,border:`${Re(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}},"&-underlined":{[`&${e}-multiple ${e}-selection-item`]:{background:t.multipleItemBg,border:`${Re(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}}}]}},oPe=iPe,R4=(t,e)=>({padding:`${Re(t)} ${Re(e)}`}),aPe=t=>{const{componentCls:e,colorError:n,colorWarning:r}=t;return{[`${e}:not(${e}-disabled):not([disabled])`]:{[`&${e}-status-error`]:{[`${e}-active-bar`]:{background:n}},[`&${e}-status-warning`]:{[`${e}-active-bar`]:{background:r}}}}},sPe=t=>{var e;const{componentCls:n,antCls:r,paddingInline:i,lineWidth:o,lineType:a,colorBorder:s,borderRadius:l,motionDurationMid:c,colorTextDisabled:u,colorTextPlaceholder:d,colorTextQuaternary:f,fontSizeLG:h,inputFontSizeLG:p,fontSizeSM:x,inputFontSizeSM:b,controlHeightSM:y,paddingInlineSM:_,paddingXS:C,marginXS:E,colorIcon:M,lineWidthBold:R,colorPrimary:N,motionDurationSlow:O,zIndexPopup:I,paddingXXS:L,sizePopupArrow:F,colorBgElevated:$,borderRadiusLG:V,boxShadowSecondary:U,borderRadiusSM:k,colorSplit:z,cellHoverBg:H,presetsWidth:j,presetsMaxWidth:X,boxShadowPopoverArrow:Y,fontHeight:J,lineHeightLG:ee}=t;return[{[n]:Object.assign(Object.assign(Object.assign({},Ji(t)),R4(t.paddingBlock,t.paddingInline)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:l,transition:`border ${c}, box-shadow ${c}, background ${c}`,[`${n}-prefix`]:{flex:"0 0 auto",marginInlineEnd:t.inputAffixPadding},[`${n}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:(e=t.inputFontSize)!==null&&e!==void 0?e:t.fontSize,lineHeight:t.lineHeight,transition:`all ${c}`},rre(d)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:u,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:d}}},"&-large":Object.assign(Object.assign({},R4(t.paddingBlockLG,t.paddingInlineLG)),{[`${n}-input > input`]:{fontSize:p??h,lineHeight:ee}}),"&-small":Object.assign(Object.assign({},R4(t.paddingBlockSM,t.paddingInlineSM)),{[`${n}-input > input`]:{fontSize:b??x}}),[`${n}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:t.calc(C).div(2).equal(),color:f,lineHeight:1,pointerEvents:"none",transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:E}}},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:f,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top"},"&:hover":{color:M}},"&:hover":{[`${n}-clear`]:{opacity:1},[`${n}-suffix:not(:last-child)`]:{opacity:0}},[`${n}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:h,color:f,fontSize:h,verticalAlign:"top",cursor:"default",[`${n}-focused &`]:{color:M},[`${n}-range-separator &`]:{[`${n}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${n}-active-bar`]:{bottom:t.calc(o).mul(-1).equal(),height:R,background:N,opacity:0,transition:`all ${O} ease-out`,pointerEvents:"none"},[`&${n}-focused`]:{[`${n}-active-bar`]:{opacity:1}},[`${n}-range-separator`]:{alignItems:"center",padding:`0 ${Re(C)}`,lineHeight:1}},"&-range, &-multiple":{[`${n}-clear`]:{insetInlineEnd:i},[`&${n}-small`]:{[`${n}-clear`]:{insetInlineEnd:_}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},Ji(t)),ZRe(t)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:I,[`&${n}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${n}-dropdown-placement-bottomLeft,
            &${n}-dropdown-placement-bottomRight`]:{[`${n}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${n}-dropdown-placement-topLeft,
            &${n}-dropdown-placement-topRight`]:{[`${n}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${r}-slide-up-appear, &${r}-slide-up-enter`]:{[`${n}-range-arrow${n}-range-arrow`]:{transition:"none"}},[`&${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-topLeft,
          &${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-topRight,
          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-topLeft,
          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-topRight`]:{animationName:UL},[`&${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-bottomLeft,
          &${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-bottomRight,
          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-bottomLeft,
          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-bottomRight`]:{animationName:FL},[`&${r}-slide-up-leave ${n}-panel-container`]:{pointerEvents:"none"},[`&${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-topLeft,
          &${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-topRight`]:{animationName:kL},[`&${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-bottomLeft,
          &${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-bottomRight`]:{animationName:$L},[`${n}-panel > ${n}-time-panel`]:{paddingTop:L},[`${n}-range-wrapper`]:{display:"flex",position:"relative"},[`${n}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:t.calc(i).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${O} ease-out`},Dte(t,$,Y)),{"&:before":{insetInlineStart:t.calc(i).mul(1.5).equal()}}),[`${n}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:$,borderRadius:V,boxShadow:U,transition:`margin ${O}`,display:"inline-block",pointerEvents:"auto",[`${n}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${n}-presets`]:{display:"flex",flexDirection:"column",minWidth:j,maxWidth:X,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:C,borderInlineEnd:`${Re(o)} ${a} ${z}`,li:Object.assign(Object.assign({},Wh),{borderRadius:k,paddingInline:C,paddingBlock:t.calc(y).sub(J).div(2).equal(),cursor:"pointer",transition:`all ${O}`,"+ li":{marginTop:E},"&:hover":{background:H}})}},[`${n}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${n}-panel`]:{borderWidth:0}}},[`${n}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${n}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:s}}}}),"&-dropdown-range":{padding:`${Re(t.calc(F).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${n}-separator`]:{transform:"scale(-1, 1)"},[`${n}-footer`]:{"&-extra":{direction:"rtl"}}}})},GA(t,"slide-up"),GA(t,"slide-down"),OT(t,"move-up"),OT(t,"move-down")]},sre=di("DatePicker",t=>{const e=Fr(ry(t),tPe(t),{inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[ePe(e),sPe(e),oPe(e),aPe(e),KRe(e),aM(t,{focusElCls:`${t.componentCls}-focused`})]},rPe);var lPe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const cPe=lPe;var uPe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:cPe}))},dPe=S.forwardRef(uPe);const xM=dPe,SM=S.createContext(null);var fPe=function(e){var n=e.activeTabOffset,r=e.horizontal,i=e.rtl,o=e.indicator,a=o===void 0?{}:o,s=a.size,l=a.align,c=l===void 0?"center":l,u=S.useState(),d=Oe(u,2),f=d[0],h=d[1],p=S.useRef(),x=je.useCallback(function(y){return typeof s=="function"?s(y):typeof s=="number"?s:y},[s]);function b(){Rr.cancel(p.current)}return S.useEffect(function(){var y={};if(n)if(r){y.width=x(n.width);var _=i?"right":"left";c==="start"&&(y[_]=n[_]),c==="center"&&(y[_]=n[_]+n.width/2,y.transform=i?"translateX(50%)":"translateX(-50%)"),c==="end"&&(y[_]=n[_]+n.width,y.transform="translateX(-100%)")}else y.height=x(n.height),c==="start"&&(y.top=n.top),c==="center"&&(y.top=n.top+n.height/2,y.transform="translateY(-50%)"),c==="end"&&(y.top=n.top+n.height,y.transform="translateY(-100%)");return b(),p.current=Rr(function(){var C=f&&y&&Object.keys(y).every(function(E){var M=y[E],R=f[E];return typeof M=="number"&&typeof R=="number"?Math.round(M)===Math.round(R):M===R});C||h(y)}),b},[JSON.stringify(n),r,i,c,x]),{style:f}},Jz={width:0,height:0,left:0,top:0};function hPe(t,e,n){return S.useMemo(function(){for(var r,i=new Map,o=e.get((r=t[0])===null||r===void 0?void 0:r.key)||Jz,a=o.left+o.width,s=0;s<t.length;s+=1){var l=t[s].key,c=e.get(l);if(!c){var u;c=e.get((u=t[s-1])===null||u===void 0?void 0:u.key)||Jz}var d=i.get(l)||we({},c);d.right=a-d.left-d.width,i.set(l,d)}return i},[t.map(function(r){return r.key}).join("_"),e,n])}function eG(t,e){var n=S.useRef(t),r=S.useState({}),i=Oe(r,2),o=i[1];function a(s){var l=typeof s=="function"?s(n.current):s;l!==n.current&&e(l,n.current),n.current=l,o({})}return[n.current,a]}var pPe=.1,tG=.01,TC=20,nG=Math.pow(.995,TC);function mPe(t,e){var n=S.useState(),r=Oe(n,2),i=r[0],o=r[1],a=S.useState(0),s=Oe(a,2),l=s[0],c=s[1],u=S.useState(0),d=Oe(u,2),f=d[0],h=d[1],p=S.useState(),x=Oe(p,2),b=x[0],y=x[1],_=S.useRef();function C(I){var L=I.touches[0],F=L.screenX,$=L.screenY;o({x:F,y:$}),window.clearInterval(_.current)}function E(I){if(i){var L=I.touches[0],F=L.screenX,$=L.screenY;o({x:F,y:$});var V=F-i.x,U=$-i.y;e(V,U);var k=Date.now();c(k),h(k-l),y({x:V,y:U})}}function M(){if(i&&(o(null),y(null),b)){var I=b.x/f,L=b.y/f,F=Math.abs(I),$=Math.abs(L);if(Math.max(F,$)<pPe)return;var V=I,U=L;_.current=window.setInterval(function(){if(Math.abs(V)<tG&&Math.abs(U)<tG){window.clearInterval(_.current);return}V*=nG,U*=nG,e(V*TC,U*TC)},TC)}}var R=S.useRef();function N(I){var L=I.deltaX,F=I.deltaY,$=0,V=Math.abs(L),U=Math.abs(F);V===U?$=R.current==="x"?L:F:V>U?($=L,R.current="x"):($=F,R.current="y"),e(-$,-$)&&I.preventDefault()}var O=S.useRef(null);O.current={onTouchStart:C,onTouchMove:E,onTouchEnd:M,onWheel:N},S.useEffect(function(){function I(V){O.current.onTouchStart(V)}function L(V){O.current.onTouchMove(V)}function F(V){O.current.onTouchEnd(V)}function $(V){O.current.onWheel(V)}return document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("touchend",F,{passive:!0}),t.current.addEventListener("touchstart",I,{passive:!0}),t.current.addEventListener("wheel",$,{passive:!1}),function(){document.removeEventListener("touchmove",L),document.removeEventListener("touchend",F)}},[])}function lre(t){var e=S.useState(0),n=Oe(e,2),r=n[0],i=n[1],o=S.useRef(0),a=S.useRef();return a.current=t,CT(function(){var s;(s=a.current)===null||s===void 0||s.call(a)},[r]),function(){o.current===r&&(o.current+=1,i(o.current))}}function gPe(t){var e=S.useRef([]),n=S.useState({}),r=Oe(n,2),i=r[1],o=S.useRef(typeof t=="function"?t():t),a=lre(function(){var l=o.current;e.current.forEach(function(c){l=c(l)}),e.current=[],o.current=l,i({})});function s(l){e.current.push(l),a()}return[o.current,s]}var rG={width:0,height:0,left:0,top:0,right:0};function APe(t,e,n,r,i,o,a){var s=a.tabs,l=a.tabPosition,c=a.rtl,u,d,f;return["top","bottom"].includes(l)?(u="width",d=c?"right":"left",f=Math.abs(n)):(u="height",d="top",f=-n),S.useMemo(function(){if(!s.length)return[0,0];for(var h=s.length,p=h,x=0;x<h;x+=1){var b=t.get(s[x].key)||rG;if(Math.floor(b[d]+b[u])>Math.floor(f+e)){p=x-1;break}}for(var y=0,_=h-1;_>=0;_-=1){var C=t.get(s[_].key)||rG;if(C[d]<f){y=_+1;break}}return y>p?[0,-1]:[y,p]},[t,e,r,i,o,f,l,s.map(function(h){return h.key}).join("_"),c])}function iG(t){var e;return t instanceof Map?(e={},t.forEach(function(n,r){e[r]=n})):e=t,JSON.stringify(e)}var vPe="TABS_DQ";function cre(t){return String(t).replace(/"/g,vPe)}function _B(t,e,n,r){return!(!n||r||t===!1||t===void 0&&(e===!1||e===null))}var ure=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.editable,i=t.locale,o=t.style;return!r||r.showAdd===!1?null:S.createElement("button",{ref:e,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(i==null?void 0:i.addAriaLabel)||"Add tab",onClick:function(s){r.onEdit("add",{event:s})}},r.addIcon||"+")}),oG=S.forwardRef(function(t,e){var n=t.position,r=t.prefixCls,i=t.extra;if(!i)return null;var o,a={};return yn(i)==="object"&&!S.isValidElement(i)?a=i:a.right=i,n==="right"&&(o=a.right),n==="left"&&(o=a.left),o?S.createElement("div",{className:"".concat(r,"-extra-content"),ref:e},o):null}),yPe=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.id,i=t.tabs,o=t.locale,a=t.mobile,s=t.more,l=s===void 0?{}:s,c=t.style,u=t.className,d=t.editable,f=t.tabBarGutter,h=t.rtl,p=t.removeAriaLabel,x=t.onTabClick,b=t.getPopupContainer,y=t.popupClassName,_=S.useState(!1),C=Oe(_,2),E=C[0],M=C[1],R=S.useState(null),N=Oe(R,2),O=N[0],I=N[1],L=l.icon,F=L===void 0?"More":L,$="".concat(r,"-more-popup"),V="".concat(n,"-dropdown"),U=O!==null?"".concat($,"-").concat(O):null,k=o==null?void 0:o.dropdownAriaLabel;function z(re,ue){re.preventDefault(),re.stopPropagation(),d.onEdit("remove",{key:ue,event:re})}var H=S.createElement(D2,{onClick:function(ue){var fe=ue.key,oe=ue.domEvent;x(fe,oe),M(!1)},prefixCls:"".concat(V,"-menu"),id:$,tabIndex:-1,role:"listbox","aria-activedescendant":U,selectedKeys:[O],"aria-label":k!==void 0?k:"expanded dropdown"},i.map(function(re){var ue=re.closable,fe=re.disabled,oe=re.closeIcon,ce=re.key,pe=re.label,ye=_B(ue,oe,d,fe);return S.createElement(pM,{key:ce,id:"".concat($,"-").concat(ce),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(ce),disabled:fe},S.createElement("span",null,pe),ye&&S.createElement("button",{type:"button","aria-label":p||"remove",tabIndex:0,className:"".concat(V,"-menu-item-remove"),onClick:function(be){be.stopPropagation(),z(be,ce)}},oe||d.removeIcon||""))}));function j(re){for(var ue=i.filter(function(ye){return!ye.disabled}),fe=ue.findIndex(function(ye){return ye.key===O})||0,oe=ue.length,ce=0;ce<oe;ce+=1){fe=(fe+re+oe)%oe;var pe=ue[fe];if(!pe.disabled){I(pe.key);return}}}function X(re){var ue=re.which;if(!E){[Bt.DOWN,Bt.SPACE,Bt.ENTER].includes(ue)&&(M(!0),re.preventDefault());return}switch(ue){case Bt.UP:j(-1),re.preventDefault();break;case Bt.DOWN:j(1),re.preventDefault();break;case Bt.ESC:M(!1);break;case Bt.SPACE:case Bt.ENTER:O!==null&&x(O,re);break}}S.useEffect(function(){var re=document.getElementById(U);re&&re.scrollIntoView&&re.scrollIntoView(!1)},[O]),S.useEffect(function(){E||I(null)},[E]);var Y=Se({},h?"marginRight":"marginLeft",f);i.length||(Y.visibility="hidden",Y.order=1);var J=ke(Se({},"".concat(V,"-rtl"),h)),ee=a?null:S.createElement(w3e,it({prefixCls:V,overlay:H,visible:i.length?E:!1,onVisibleChange:M,overlayClassName:ke(J,y),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:b},l),S.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:Y,"aria-haspopup":"listbox","aria-controls":$,id:"".concat(r,"-more"),"aria-expanded":E,onKeyDown:X},F));return S.createElement("div",{className:ke("".concat(n,"-nav-operations"),u),style:c,ref:e},ee,S.createElement(ure,{prefixCls:n,locale:o,editable:d}))});const bPe=S.memo(yPe,function(t,e){return e.tabMoving});var xPe=function(e){var n=e.prefixCls,r=e.id,i=e.active,o=e.focus,a=e.tab,s=a.key,l=a.label,c=a.disabled,u=a.closeIcon,d=a.icon,f=e.closable,h=e.renderWrapper,p=e.removeAriaLabel,x=e.editable,b=e.onClick,y=e.onFocus,_=e.onBlur,C=e.onKeyDown,E=e.onMouseDown,M=e.onMouseUp,R=e.style,N=e.tabCount,O=e.currentPosition,I="".concat(n,"-tab"),L=_B(f,u,x,c);function F(z){c||b(z)}function $(z){z.preventDefault(),z.stopPropagation(),x.onEdit("remove",{key:s,event:z})}var V=S.useMemo(function(){return d&&typeof l=="string"?S.createElement("span",null,l):l},[l,d]),U=S.useRef(null);S.useEffect(function(){o&&U.current&&U.current.focus()},[o]);var k=S.createElement("div",{key:s,"data-node-key":cre(s),className:ke(I,Se(Se(Se(Se({},"".concat(I,"-with-remove"),L),"".concat(I,"-active"),i),"".concat(I,"-disabled"),c),"".concat(I,"-focus"),o)),style:R,onClick:F},S.createElement("div",{ref:U,role:"tab","aria-selected":i,id:r&&"".concat(r,"-tab-").concat(s),className:"".concat(I,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(s),"aria-disabled":c,tabIndex:c?null:i?0:-1,onClick:function(H){H.stopPropagation(),F(H)},onKeyDown:C,onMouseDown:E,onMouseUp:M,onFocus:y,onBlur:_},o&&S.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(O," of ").concat(N)),d&&S.createElement("span",{className:"".concat(I,"-icon")},d),l&&V),L&&S.createElement("button",{type:"button",role:"tab","aria-label":p||"remove",tabIndex:i?0:-1,className:"".concat(I,"-remove"),onClick:function(H){H.stopPropagation(),$(H)}},u||x.removeIcon||""));return h?h(k):k},SPe=function(e,n){var r=e.offsetWidth,i=e.offsetHeight,o=e.offsetTop,a=e.offsetLeft,s=e.getBoundingClientRect(),l=s.width,c=s.height,u=s.left,d=s.top;return Math.abs(l-r)<1?[l,c,u-n.left,d-n.top]:[r,i,a,o]},W0=function(e){var n=e.current||{},r=n.offsetWidth,i=r===void 0?0:r,o=n.offsetHeight,a=o===void 0?0:o;if(e.current){var s=e.current.getBoundingClientRect(),l=s.width,c=s.height;if(Math.abs(l-i)<1)return[l,c]}return[i,a]},m_=function(e,n){return e[n?0:1]},aG=S.forwardRef(function(t,e){var n=t.className,r=t.style,i=t.id,o=t.animated,a=t.activeKey,s=t.rtl,l=t.extra,c=t.editable,u=t.locale,d=t.tabPosition,f=t.tabBarGutter,h=t.children,p=t.onTabClick,x=t.onTabScroll,b=t.indicator,y=S.useContext(SM),_=y.prefixCls,C=y.tabs,E=S.useRef(null),M=S.useRef(null),R=S.useRef(null),N=S.useRef(null),O=S.useRef(null),I=S.useRef(null),L=S.useRef(null),F=d==="top"||d==="bottom",$=eG(0,function(le,Ie){F&&x&&x({direction:le>Ie?"left":"right"})}),V=Oe($,2),U=V[0],k=V[1],z=eG(0,function(le,Ie){!F&&x&&x({direction:le>Ie?"top":"bottom"})}),H=Oe(z,2),j=H[0],X=H[1],Y=S.useState([0,0]),J=Oe(Y,2),ee=J[0],re=J[1],ue=S.useState([0,0]),fe=Oe(ue,2),oe=fe[0],ce=fe[1],pe=S.useState([0,0]),ye=Oe(pe,2),xe=ye[0],be=ye[1],Ce=S.useState([0,0]),Ne=Oe(Ce,2),Ae=Ne[0],me=Ne[1],de=gPe(new Map),Be=Oe(de,2),ne=Be[0],Je=Be[1],Ye=hPe(C,ne,oe[0]),rt=m_(ee,F),qe=m_(oe,F),se=m_(xe,F),K=m_(Ae,F),_e=Math.floor(rt)<Math.floor(qe+se),Ue=_e?rt-K:rt-se,lt="".concat(_,"-nav-operations-hidden"),We=0,pt=0;F&&s?(We=0,pt=Math.max(0,qe-Ue)):(We=Math.min(0,Ue-qe),pt=0);function mt(le){return le<We?We:le>pt?pt:le}var vt=S.useRef(null),At=S.useState(),ot=Oe(At,2),Ve=ot[0],at=ot[1];function tt(){at(Date.now())}function ze(){vt.current&&clearTimeout(vt.current)}mPe(N,function(le,Ie){function et(nt,Fe){nt(function(St){var Dt=mt(St+Fe);return Dt})}return _e?(F?et(k,le):et(X,Ie),ze(),tt(),!0):!1}),S.useEffect(function(){return ze(),Ve&&(vt.current=setTimeout(function(){at(0)},100)),ze},[Ve]);var bt=APe(Ye,Ue,F?U:j,qe,se,K,we(we({},t),{},{tabs:C})),Pe=Oe(bt,2),Mt=Pe[0],Ct=Pe[1],qt=Or(function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a,Ie=Ye.get(le)||{width:0,height:0,left:0,right:0,top:0};if(F){var et=U;s?Ie.right<U?et=Ie.right:Ie.right+Ie.width>U+Ue&&(et=Ie.right+Ie.width-Ue):Ie.left<-U?et=-Ie.left:Ie.left+Ie.width>-U+Ue&&(et=-(Ie.left+Ie.width-Ue)),X(0),k(mt(et))}else{var nt=j;Ie.top<-j?nt=-Ie.top:Ie.top+Ie.height>-j+Ue&&(nt=-(Ie.top+Ie.height-Ue)),k(0),X(mt(nt))}}),Ge=S.useState(),yt=Oe(Ge,2),Tt=yt[0],Ut=yt[1],mn=S.useState(!1),dn=Oe(mn,2),tn=dn[0],pn=dn[1],fn=C.filter(function(le){return!le.disabled}).map(function(le){return le.key}),kt=function(Ie){var et=fn.indexOf(Tt||a),nt=fn.length,Fe=(et+Ie+nt)%nt,St=fn[Fe];Ut(St)},Nt=function(Ie,et){var nt=fn.indexOf(Ie),Fe=C.find(function(Dt){return Dt.key===Ie}),St=_B(Fe==null?void 0:Fe.closable,Fe==null?void 0:Fe.closeIcon,c,Fe==null?void 0:Fe.disabled);St&&(et.preventDefault(),et.stopPropagation(),c.onEdit("remove",{key:Ie,event:et}),nt===fn.length-1?kt(-1):kt(1))},It=function(Ie,et){pn(!0),et.button===1&&Nt(Ie,et)},Le=function(Ie){var et=Ie.code,nt=s&&F,Fe=fn[0],St=fn[fn.length-1];switch(et){case"ArrowLeft":{F&&kt(nt?1:-1);break}case"ArrowRight":{F&&kt(nt?-1:1);break}case"ArrowUp":{Ie.preventDefault(),F||kt(-1);break}case"ArrowDown":{Ie.preventDefault(),F||kt(1);break}case"Home":{Ie.preventDefault(),Ut(Fe);break}case"End":{Ie.preventDefault(),Ut(St);break}case"Enter":case"Space":{Ie.preventDefault(),p(Tt??a,Ie);break}case"Backspace":case"Delete":{Nt(Tt,Ie);break}}},st={};F?st[s?"marginRight":"marginLeft"]=f:st.marginTop=f;var gt=C.map(function(le,Ie){var et=le.key;return S.createElement(xPe,{id:i,prefixCls:_,key:et,tab:le,style:Ie===0?void 0:st,closable:le.closable,editable:c,active:et===a,focus:et===Tt,renderWrapper:h,removeAriaLabel:u==null?void 0:u.removeAriaLabel,tabCount:fn.length,currentPosition:Ie+1,onClick:function(Fe){p(et,Fe)},onKeyDown:Le,onFocus:function(){tn||Ut(et),qt(et),tt(),N.current&&(s||(N.current.scrollLeft=0),N.current.scrollTop=0)},onBlur:function(){Ut(void 0)},onMouseDown:function(Fe){return It(et,Fe)},onMouseUp:function(){pn(!1)}})}),ht=function(){return Je(function(){var Ie,et=new Map,nt=(Ie=O.current)===null||Ie===void 0?void 0:Ie.getBoundingClientRect();return C.forEach(function(Fe){var St,Dt=Fe.key,_t=(St=O.current)===null||St===void 0?void 0:St.querySelector('[data-node-key="'.concat(cre(Dt),'"]'));if(_t){var ie=SPe(_t,nt),Ot=Oe(ie,4),_n=Ot[0],hn=Ot[1],Vn=Ot[2],fr=Ot[3];et.set(Dt,{width:_n,height:hn,left:Vn,top:fr})}}),et})};S.useEffect(function(){ht()},[C.map(function(le){return le.key}).join("_")]);var m=lre(function(){var le=W0(E),Ie=W0(M),et=W0(R);re([le[0]-Ie[0]-et[0],le[1]-Ie[1]-et[1]]);var nt=W0(L);be(nt);var Fe=W0(I);me(Fe);var St=W0(O);ce([St[0]-nt[0],St[1]-nt[1]]),ht()}),te=C.slice(0,Mt),on=C.slice(Ct+1),xn=[].concat(zt(te),zt(on)),Gn=Ye.get(a),cn=fPe({activeTabOffset:Gn,horizontal:F,indicator:b,rtl:s}),In=cn.style;S.useEffect(function(){qt()},[a,We,pt,iG(Gn),iG(Ye),F]),S.useEffect(function(){m()},[s]);var dr=!!xn.length,Sn="".concat(_,"-nav-wrap"),wt,Zt,Mn,kn;return F?s?(Zt=U>0,wt=U!==pt):(wt=U<0,Zt=U!==We):(Mn=j<0,kn=j!==We),S.createElement(rl,{onResize:m},S.createElement("div",{ref:lp(e,E),role:"tablist","aria-orientation":F?"horizontal":"vertical",className:ke("".concat(_,"-nav"),n),style:r,onKeyDown:function(){tt()}},S.createElement(oG,{ref:M,position:"left",extra:l,prefixCls:_}),S.createElement(rl,{onResize:m},S.createElement("div",{className:ke(Sn,Se(Se(Se(Se({},"".concat(Sn,"-ping-left"),wt),"".concat(Sn,"-ping-right"),Zt),"".concat(Sn,"-ping-top"),Mn),"".concat(Sn,"-ping-bottom"),kn)),ref:N},S.createElement(rl,{onResize:m},S.createElement("div",{ref:O,className:"".concat(_,"-nav-list"),style:{transform:"translate(".concat(U,"px, ").concat(j,"px)"),transition:Ve?"none":void 0}},gt,S.createElement(ure,{ref:L,prefixCls:_,locale:u,editable:c,style:we(we({},gt.length===0?void 0:st),{},{visibility:dr?"hidden":null})}),S.createElement("div",{className:ke("".concat(_,"-ink-bar"),Se({},"".concat(_,"-ink-bar-animated"),o.inkBar)),style:In}))))),S.createElement(bPe,it({},t,{removeAriaLabel:u==null?void 0:u.removeAriaLabel,ref:I,prefixCls:_,tabs:xn,className:!dr&&lt,tabMoving:!!Ve})),S.createElement(oG,{ref:R,position:"right",extra:l,prefixCls:_})))}),dre=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.id,a=t.active,s=t.tabKey,l=t.children;return S.createElement("div",{id:o&&"".concat(o,"-panel-").concat(s),role:"tabpanel",tabIndex:a?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(s),"aria-hidden":!a,style:i,className:ke(n,a&&"".concat(n,"-active"),r),ref:e},l)}),_Pe=["renderTabBar"],wPe=["label","key"],CPe=function(e){var n=e.renderTabBar,r=Qn(e,_Pe),i=S.useContext(SM),o=i.tabs;if(n){var a=we(we({},r),{},{panes:o.map(function(s){var l=s.label,c=s.key,u=Qn(s,wPe);return S.createElement(dre,it({tab:l,key:c,tabKey:c},u))})});return n(a,aG)}return S.createElement(aG,r)},TPe=["key","forceRender","style","className","destroyInactiveTabPane"],EPe=function(e){var n=e.id,r=e.activeKey,i=e.animated,o=e.tabPosition,a=e.destroyInactiveTabPane,s=S.useContext(SM),l=s.prefixCls,c=s.tabs,u=i.tabPane,d="".concat(l,"-tabpane");return S.createElement("div",{className:ke("".concat(l,"-content-holder"))},S.createElement("div",{className:ke("".concat(l,"-content"),"".concat(l,"-content-").concat(o),Se({},"".concat(l,"-content-animated"),u))},c.map(function(f){var h=f.key,p=f.forceRender,x=f.style,b=f.className,y=f.destroyInactiveTabPane,_=Qn(f,TPe),C=h===r;return S.createElement(yu,it({key:h,visible:C,forceRender:p,removeOnLeave:!!(a||y),leavedClassName:"".concat(d,"-hidden")},i.tabPaneMotion),function(E,M){var R=E.style,N=E.className;return S.createElement(dre,it({},_,{prefixCls:d,id:n,tabKey:h,animated:u,active:C,style:we(we({},x),R),className:ke(b,N),ref:M}))})})))};function MPe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},e;return t===!1?e={inkBar:!1,tabPane:!1}:t===!0?e={inkBar:!0,tabPane:!1}:e=we({inkBar:!0},yn(t)==="object"?t:{}),e.tabPaneMotion&&e.tabPane===void 0&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}var RPe=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],sG=0,PPe=S.forwardRef(function(t,e){var n=t.id,r=t.prefixCls,i=r===void 0?"rc-tabs":r,o=t.className,a=t.items,s=t.direction,l=t.activeKey,c=t.defaultActiveKey,u=t.editable,d=t.animated,f=t.tabPosition,h=f===void 0?"top":f,p=t.tabBarGutter,x=t.tabBarStyle,b=t.tabBarExtraContent,y=t.locale,_=t.more,C=t.destroyInactiveTabPane,E=t.renderTabBar,M=t.onChange,R=t.onTabClick,N=t.onTabScroll,O=t.getPopupContainer,I=t.popupClassName,L=t.indicator,F=Qn(t,RPe),$=S.useMemo(function(){return(a||[]).filter(function(Ae){return Ae&&yn(Ae)==="object"&&"key"in Ae})},[a]),V=s==="rtl",U=MPe(d),k=S.useState(!1),z=Oe(k,2),H=z[0],j=z[1];S.useEffect(function(){j(JL())},[]);var X=yi(function(){var Ae;return(Ae=$[0])===null||Ae===void 0?void 0:Ae.key},{value:l,defaultValue:c}),Y=Oe(X,2),J=Y[0],ee=Y[1],re=S.useState(function(){return $.findIndex(function(Ae){return Ae.key===J})}),ue=Oe(re,2),fe=ue[0],oe=ue[1];S.useEffect(function(){var Ae=$.findIndex(function(de){return de.key===J});if(Ae===-1){var me;Ae=Math.max(0,Math.min(fe,$.length-1)),ee((me=$[Ae])===null||me===void 0?void 0:me.key)}oe(Ae)},[$.map(function(Ae){return Ae.key}).join("_"),J,fe]);var ce=yi(null,{value:n}),pe=Oe(ce,2),ye=pe[0],xe=pe[1];S.useEffect(function(){n||(xe("rc-tabs-".concat(sG)),sG+=1)},[]);function be(Ae,me){R==null||R(Ae,me);var de=Ae!==J;ee(Ae),de&&(M==null||M(Ae))}var Ce={id:ye,activeKey:J,animated:U,tabPosition:h,rtl:V,mobile:H},Ne=we(we({},Ce),{},{editable:u,locale:y,more:_,tabBarGutter:p,onTabClick:be,onTabScroll:N,extra:b,style:x,panes:null,getPopupContainer:O,popupClassName:I,indicator:L});return S.createElement(SM.Provider,{value:{tabs:$,prefixCls:i}},S.createElement("div",it({ref:e,id:n,className:ke(i,"".concat(i,"-").concat(h),Se(Se(Se({},"".concat(i,"-mobile"),H),"".concat(i,"-editable"),u),"".concat(i,"-rtl"),V),o)},F),S.createElement(CPe,it({},Ne,{renderTabBar:E})),S.createElement(EPe,it({destroyInactiveTabPane:C},Ce,{animated:U}))))});const NPe={motionAppear:!1,motionEnter:!0,motionLeave:!0};function IPe(t,e={inkBar:!0,tabPane:!1}){let n;return e===!1?n={inkBar:!1,tabPane:!1}:e===!0?n={inkBar:!0,tabPane:!0}:n=Object.assign({inkBar:!0},typeof e=="object"?e:{}),n.tabPane&&(n.tabPaneMotion=Object.assign(Object.assign({},NPe),{motionName:Xh(t,"switch")})),n}var DPe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function OPe(t){return t.filter(e=>e)}function LPe(t,e){if(t)return t.map(r=>{var i;const o=(i=r.destroyOnHidden)!==null&&i!==void 0?i:r.destroyInactiveTabPane;return Object.assign(Object.assign({},r),{destroyInactiveTabPane:o})});const n=bc(e).map(r=>{if(S.isValidElement(r)){const{key:i,props:o}=r,a=o||{},{tab:s}=a,l=DPe(a,["tab"]);return Object.assign(Object.assign({key:String(i)},l),{label:s})}return null});return OPe(n)}const BPe=t=>{const{componentCls:e,motionDurationSlow:n}=t;return[{[e]:{[`${e}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[GA(t,"slide-up"),GA(t,"slide-down")]]},FPe=BPe,$Pe=t=>{const{componentCls:e,tabsCardPadding:n,cardBg:r,cardGutter:i,colorBorderSecondary:o,itemSelectedColor:a}=t;return{[`${e}-card`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{margin:0,padding:n,background:r,border:`${Re(t.lineWidth)} ${t.lineType} ${o}`,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOut}`},[`${e}-tab-active`]:{color:a,background:t.colorBgContainer},[`${e}-tab-focus:has(${e}-tab-btn:focus-visible)`]:zA(t,-3),[`& ${e}-tab${e}-tab-focus ${e}-tab-btn:focus-visible`]:{outline:"none"},[`${e}-ink-bar`]:{visibility:"hidden"}},[`&${e}-top, &${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginLeft:{_skip_check_:!0,value:Re(i)}}}},[`&${e}-top`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`${Re(t.borderRadiusLG)} ${Re(t.borderRadiusLG)} 0 0`},[`${e}-tab-active`]:{borderBottomColor:t.colorBgContainer}}},[`&${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`0 0 ${Re(t.borderRadiusLG)} ${Re(t.borderRadiusLG)}`},[`${e}-tab-active`]:{borderTopColor:t.colorBgContainer}}},[`&${e}-left, &${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginTop:Re(i)}}},[`&${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${Re(t.borderRadiusLG)} 0 0 ${Re(t.borderRadiusLG)}`}},[`${e}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:t.colorBgContainer}}}},[`&${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${Re(t.borderRadiusLG)} ${Re(t.borderRadiusLG)} 0`}},[`${e}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:t.colorBgContainer}}}}}}},UPe=t=>{const{componentCls:e,itemHoverColor:n,dropdownEdgeChildVerticalPadding:r}=t;return{[`${e}-dropdown`]:Object.assign(Object.assign({},Ji(t)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:t.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:t.tabsDropdownHeight,margin:0,padding:`${Re(r)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:t.colorBgContainer,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Wh),{display:"flex",alignItems:"center",minWidth:t.tabsDropdownWidth,margin:0,padding:`${Re(t.paddingXXS)} ${Re(t.paddingSM)}`,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:t.marginSM},color:t.colorIcon,fontSize:t.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:t.controlItemBgHover},"&-disabled":{"&, &:hover":{color:t.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},kPe=t=>{const{componentCls:e,margin:n,colorBorderSecondary:r,horizontalMargin:i,verticalItemPadding:o,verticalItemMargin:a,calc:s}=t;return{[`${e}-top, ${e}-bottom`]:{flexDirection:"column",[`> ${e}-nav, > div > ${e}-nav`]:{margin:i,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${Re(t.lineWidth)} ${t.lineType} ${r}`,content:"''"},[`${e}-ink-bar`]:{height:t.lineWidthBold,"&-animated":{transition:`width ${t.motionDurationSlow}, left ${t.motionDurationSlow},
            right ${t.motionDurationSlow}`}},[`${e}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:t.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowRight},[`&${e}-nav-wrap-ping-left::before`]:{opacity:1},[`&${e}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${e}-top`]:{[`> ${e}-nav,
        > div > ${e}-nav`]:{"&::before":{bottom:0},[`${e}-ink-bar`]:{bottom:0}}},[`${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,marginTop:n,marginBottom:0,"&::before":{top:0},[`${e}-ink-bar`]:{top:0}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0}},[`${e}-left, ${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{flexDirection:"column",minWidth:s(t.controlHeight).mul(1.25).equal(),[`${e}-tab`]:{padding:o,textAlign:"center"},[`${e}-tab + ${e}-tab`]:{margin:a},[`${e}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:t.controlHeight},"&::before":{top:0,boxShadow:t.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:t.boxShadowTabsOverflowBottom},[`&${e}-nav-wrap-ping-top::before`]:{opacity:1},[`&${e}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${e}-ink-bar`]:{width:t.lineWidthBold,"&-animated":{transition:`height ${t.motionDurationSlow}, top ${t.motionDurationSlow}`}},[`${e}-nav-list, ${e}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{marginLeft:{_skip_check_:!0,value:Re(s(t.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:t.paddingLG}}}},[`${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,[`${e}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:s(t.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingRight:{_skip_check_:!0,value:t.paddingLG}}}}}},VPe=t=>{const{componentCls:e,cardPaddingSM:n,cardPaddingLG:r,cardHeightSM:i,cardHeightLG:o,horizontalItemPaddingSM:a,horizontalItemPaddingLG:s}=t;return{[e]:{"&-small":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:a,fontSize:t.titleFontSizeSM}}},"&-large":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:s,fontSize:t.titleFontSizeLG,lineHeight:t.lineHeightLG}}}},[`${e}-card`]:{[`&${e}-small`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:n},[`${e}-nav-add`]:{minWidth:i,minHeight:i}},[`&${e}-bottom`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`0 0 ${Re(t.borderRadius)} ${Re(t.borderRadius)}`}},[`&${e}-top`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`${Re(t.borderRadius)} ${Re(t.borderRadius)} 0 0`}},[`&${e}-right`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${Re(t.borderRadius)} ${Re(t.borderRadius)} 0`}}},[`&${e}-left`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${Re(t.borderRadius)} 0 0 ${Re(t.borderRadius)}`}}}},[`&${e}-large`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:r},[`${e}-nav-add`]:{minWidth:o,minHeight:o}}}}}},zPe=t=>{const{componentCls:e,itemActiveColor:n,itemHoverColor:r,iconCls:i,tabsHorizontalItemMargin:o,horizontalItemPadding:a,itemSelectedColor:s,itemColor:l}=t,c=`${e}-tab`;return{[c]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:a,fontSize:t.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:l,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:n}},"&-btn":{outline:"none",transition:`all ${t.motionDurationSlow}`,[`${c}-icon:not(:last-child)`]:{marginInlineEnd:t.marginSM}},"&-remove":Object.assign({flex:"none",lineHeight:1,marginRight:{_skip_check_:!0,value:t.calc(t.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:t.marginXS},color:t.colorIcon,fontSize:t.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}`,"&:hover":{color:t.colorTextHeading}},zm(t)),"&:hover":{color:r},[`&${c}-active ${c}-btn`]:{color:s,textShadow:t.tabsActiveTextShadow},[`&${c}-focus ${c}-btn:focus-visible`]:zA(t),[`&${c}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed"},[`&${c}-disabled ${c}-btn, &${c}-disabled ${e}-remove`]:{"&:focus, &:active":{color:t.colorTextDisabled}},[`& ${c}-remove ${i}`]:{margin:0,verticalAlign:"middle"},[`${i}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:t.marginSM}}},[`${c} + ${c}`]:{margin:{_skip_check_:!0,value:o}}}},GPe=t=>{const{componentCls:e,tabsHorizontalItemMarginRTL:n,iconCls:r,cardGutter:i,calc:o}=t;return{[`${e}-rtl`]:{direction:"rtl",[`${e}-nav`]:{[`${e}-tab`]:{margin:{_skip_check_:!0,value:n},[`${e}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:Re(t.marginSM)}},[`${e}-tab-remove`]:{marginRight:{_skip_check_:!0,value:Re(t.marginXS)},marginLeft:{_skip_check_:!0,value:Re(o(t.marginXXS).mul(-1).equal())},[r]:{margin:0}}}},[`&${e}-left`]:{[`> ${e}-nav`]:{order:1},[`> ${e}-content-holder`]:{order:0}},[`&${e}-right`]:{[`> ${e}-nav`]:{order:0},[`> ${e}-content-holder`]:{order:1}},[`&${e}-card${e}-top, &${e}-card${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginRight:{_skip_check_:!0,value:i},marginLeft:{_skip_check_:!0,value:0}}}}},[`${e}-dropdown-rtl`]:{direction:"rtl"},[`${e}-menu-item`]:{[`${e}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},HPe=t=>{const{componentCls:e,tabsCardPadding:n,cardHeight:r,cardGutter:i,itemHoverColor:o,itemActiveColor:a,colorBorderSecondary:s}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Ji(t)),{display:"flex",[`> ${e}-nav, > div > ${e}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${e}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${t.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${e}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${t.motionDurationSlow}`},[`${e}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${e}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${e}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,color:t.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:t.calc(t.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${e}-nav-add`]:Object.assign({minWidth:r,minHeight:r,marginLeft:{_skip_check_:!0,value:i},background:"transparent",border:`${Re(t.lineWidth)} ${t.lineType} ${s}`,borderRadius:`${Re(t.borderRadiusLG)} ${Re(t.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:t.colorText,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:a}},zm(t,-3))},[`${e}-extra-content`]:{flex:"none"},[`${e}-ink-bar`]:{position:"absolute",background:t.inkBarColor,pointerEvents:"none"}}),zPe(t)),{[`${e}-content`]:{position:"relative",width:"100%"},[`${e}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${e}-tabpane`]:Object.assign(Object.assign({},zm(t)),{"&-hidden":{display:"none"}})}),[`${e}-centered`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-nav-wrap`]:{[`&:not([class*='${e}-nav-wrap-ping']) > ${e}-nav-list`]:{margin:"auto"}}}}}},jPe=t=>{const{cardHeight:e,cardHeightSM:n,cardHeightLG:r,controlHeight:i,controlHeightLG:o}=t,a=e||o,s=n||i,l=r||o+8;return{zIndexPopup:t.zIndexPopupBase+50,cardBg:t.colorFillAlter,cardHeight:a,cardHeightSM:s,cardHeightLG:l,cardPadding:`${(a-t.fontHeight)/2-t.lineWidth}px ${t.padding}px`,cardPaddingSM:`${(s-t.fontHeight)/2-t.lineWidth}px ${t.paddingXS}px`,cardPaddingLG:`${(l-t.fontHeightLG)/2-t.lineWidth}px ${t.padding}px`,titleFontSize:t.fontSize,titleFontSizeLG:t.fontSizeLG,titleFontSizeSM:t.fontSize,inkBarColor:t.colorPrimary,horizontalMargin:`0 0 ${t.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${t.paddingSM}px 0`,horizontalItemPaddingSM:`${t.paddingXS}px 0`,horizontalItemPaddingLG:`${t.padding}px 0`,verticalItemPadding:`${t.paddingXS}px ${t.paddingLG}px`,verticalItemMargin:`${t.margin}px 0 0 0`,itemColor:t.colorText,itemSelectedColor:t.colorPrimary,itemHoverColor:t.colorPrimaryHover,itemActiveColor:t.colorPrimaryActive,cardGutter:t.marginXXS/2}},qPe=di("Tabs",t=>{const e=Fr(t,{tabsCardPadding:t.cardPadding,dropdownEdgeChildVerticalPadding:t.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${Re(t.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${Re(t.horizontalItemGutter)}`});return[VPe(e),GPe(e),kPe(e),UPe(e),$Pe(e),HPe(e),FPe(e)]},jPe),WPe=()=>null,XPe=WPe;var YPe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const KPe=S.forwardRef((t,e)=>{var n,r,i,o,a,s,l,c,u,d,f;const{type:h,className:p,rootClassName:x,size:b,onEdit:y,hideAdd:_,centered:C,addIcon:E,removeIcon:M,moreIcon:R,more:N,popupClassName:O,children:I,items:L,animated:F,style:$,indicatorSize:V,indicator:U,destroyInactiveTabPane:k,destroyOnHidden:z}=t,H=YPe(t,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator","destroyInactiveTabPane","destroyOnHidden"]),{prefixCls:j}=H,{direction:X,tabs:Y,getPrefixCls:J,getPopupContainer:ee}=S.useContext(Kn),re=J("tabs",j),ue=bu(re),[fe,oe,ce]=qPe(re,ue),pe=S.useRef(null);S.useImperativeHandle(e,()=>({nativeElement:pe.current}));let ye;h==="editable-card"&&(ye={onEdit:(de,{key:Be,event:ne})=>{y==null||y(de==="add"?ne:Be,de)},removeIcon:(n=M??(Y==null?void 0:Y.removeIcon))!==null&&n!==void 0?n:S.createElement(f0,null),addIcon:(E??(Y==null?void 0:Y.addIcon))||S.createElement(xM,null),showAdd:_!==!0});const xe=J(),be=Os(b),Ce=LPe(L,I),Ne=IPe(re,F),Ae=Object.assign(Object.assign({},Y==null?void 0:Y.style),$),me={align:(r=U==null?void 0:U.align)!==null&&r!==void 0?r:(i=Y==null?void 0:Y.indicator)===null||i===void 0?void 0:i.align,size:(l=(a=(o=U==null?void 0:U.size)!==null&&o!==void 0?o:V)!==null&&a!==void 0?a:(s=Y==null?void 0:Y.indicator)===null||s===void 0?void 0:s.size)!==null&&l!==void 0?l:Y==null?void 0:Y.indicatorSize};return fe(S.createElement(PPe,Object.assign({ref:pe,direction:X,getPopupContainer:ee},H,{items:Ce,className:ke({[`${re}-${be}`]:be,[`${re}-card`]:["card","editable-card"].includes(h),[`${re}-editable-card`]:h==="editable-card",[`${re}-centered`]:C},Y==null?void 0:Y.className,p,x,oe,ce,ue),popupClassName:ke(O,oe,ce,ue),style:Ae,editable:ye,more:Object.assign({icon:(f=(d=(u=(c=Y==null?void 0:Y.more)===null||c===void 0?void 0:c.icon)!==null&&u!==void 0?u:Y==null?void 0:Y.moreIcon)!==null&&d!==void 0?d:R)!==null&&f!==void 0?f:S.createElement(SMe,null),transitionName:`${xe}-slide-up`},N),prefixCls:re,animated:Ne,indicator:me,destroyInactiveTabPane:z??k})))}),fre=KPe;fre.TabPane=XPe;const QPe=fre;var ZPe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const JPe=t=>{var{prefixCls:e,className:n,hoverable:r=!0}=t,i=ZPe(t,["prefixCls","className","hoverable"]);const{getPrefixCls:o}=S.useContext(Kn),a=o("card",e),s=ke(`${a}-grid`,n,{[`${a}-grid-hoverable`]:r});return S.createElement("div",Object.assign({},i,{className:s}))},hre=JPe,e4e=t=>{const{antCls:e,componentCls:n,headerHeight:r,headerPadding:i,tabsMarginBottom:o}=t;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${Re(i)}`,color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:t.headerFontSize,background:t.headerBg,borderBottom:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorderSecondary}`,borderRadius:`${Re(t.borderRadiusLG)} ${Re(t.borderRadiusLG)} 0 0`},S2()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Wh),{[`
          > ${n}-typography,
          > ${n}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${e}-tabs-top`]:{clear:"both",marginBottom:o,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,"&-bar":{borderBottom:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorderSecondary}`}}})},t4e=t=>{const{cardPaddingBase:e,colorBorderSecondary:n,cardShadow:r,lineWidth:i}=t;return{width:"33.33%",padding:e,border:0,borderRadius:0,boxShadow:`
      ${Re(i)} 0 0 0 ${n},
      0 ${Re(i)} 0 0 ${n},
      ${Re(i)} ${Re(i)} 0 0 ${n},
      ${Re(i)} 0 0 0 ${n} inset,
      0 ${Re(i)} 0 0 ${n} inset;
    `,transition:`all ${t.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},n4e=t=>{const{componentCls:e,iconCls:n,actionsLiMargin:r,cardActionsIconSize:i,colorBorderSecondary:o,actionsBg:a}=t;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:a,borderTop:`${Re(t.lineWidth)} ${t.lineType} ${o}`,display:"flex",borderRadius:`0 0 ${Re(t.borderRadiusLG)} ${Re(t.borderRadiusLG)}`},S2()),{"& > li":{margin:r,color:t.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:t.calc(t.cardActionsIconSize).mul(2).equal(),fontSize:t.fontSize,lineHeight:t.lineHeight,cursor:"pointer","&:hover":{color:t.colorPrimary,transition:`color ${t.motionDurationMid}`},[`a:not(${e}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:t.colorIcon,lineHeight:Re(t.fontHeight),transition:`color ${t.motionDurationMid}`,"&:hover":{color:t.colorPrimary}},[`> ${n}`]:{fontSize:i,lineHeight:Re(t.calc(i).mul(t.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${Re(t.lineWidth)} ${t.lineType} ${o}`}}})},r4e=t=>Object.assign(Object.assign({margin:`${Re(t.calc(t.marginXXS).mul(-1).equal())} 0`,display:"flex"},S2()),{"&-avatar":{paddingInlineEnd:t.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:t.marginXS}},"&-title":Object.assign({color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:t.fontSizeLG},Wh),"&-description":{color:t.colorTextDescription}}),i4e=t=>{const{componentCls:e,colorFillAlter:n,headerPadding:r,bodyPadding:i}=t;return{[`${e}-head`]:{padding:`0 ${Re(r)}`,background:n,"&-title":{fontSize:t.fontSize}},[`${e}-body`]:{padding:`${Re(t.padding)} ${Re(i)}`}}},o4e=t=>{const{componentCls:e}=t;return{overflow:"hidden",[`${e}-body`]:{userSelect:"none"}}},a4e=t=>{const{componentCls:e,cardShadow:n,cardHeadPadding:r,colorBorderSecondary:i,boxShadowTertiary:o,bodyPadding:a,extraColor:s}=t;return{[e]:Object.assign(Object.assign({},Ji(t)),{position:"relative",background:t.colorBgContainer,borderRadius:t.borderRadiusLG,[`&:not(${e}-bordered)`]:{boxShadow:o},[`${e}-head`]:e4e(t),[`${e}-extra`]:{marginInlineStart:"auto",color:s,fontWeight:"normal",fontSize:t.fontSize},[`${e}-body`]:{padding:a,borderRadius:`0 0 ${Re(t.borderRadiusLG)} ${Re(t.borderRadiusLG)}`},[`${e}-grid`]:t4e(t),[`${e}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${Re(t.borderRadiusLG)} ${Re(t.borderRadiusLG)} 0 0`}},[`${e}-actions`]:n4e(t),[`${e}-meta`]:r4e(t)}),[`${e}-bordered`]:{border:`${Re(t.lineWidth)} ${t.lineType} ${i}`,[`${e}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${e}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${t.motionDurationMid}, border-color ${t.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:n}},[`${e}-contain-grid`]:{borderRadius:`${Re(t.borderRadiusLG)} ${Re(t.borderRadiusLG)} 0 0 `,[`${e}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${e}-loading) ${e}-body`]:{marginBlockStart:t.calc(t.lineWidth).mul(-1).equal(),marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),padding:0}},[`${e}-contain-tabs`]:{[`> div${e}-head`]:{minHeight:0,[`${e}-head-title, ${e}-extra`]:{paddingTop:r}}},[`${e}-type-inner`]:i4e(t),[`${e}-loading`]:o4e(t),[`${e}-rtl`]:{direction:"rtl"}}},s4e=t=>{const{componentCls:e,bodyPaddingSM:n,headerPaddingSM:r,headerHeightSM:i,headerFontSizeSM:o}=t;return{[`${e}-small`]:{[`> ${e}-head`]:{minHeight:i,padding:`0 ${Re(r)}`,fontSize:o,[`> ${e}-head-wrapper`]:{[`> ${e}-extra`]:{fontSize:t.fontSize}}},[`> ${e}-body`]:{padding:n}},[`${e}-small${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},l4e=t=>{var e,n;return{headerBg:"transparent",headerFontSize:t.fontSizeLG,headerFontSizeSM:t.fontSize,headerHeight:t.fontSizeLG*t.lineHeightLG+t.padding*2,headerHeightSM:t.fontSize*t.lineHeight+t.paddingXS*2,actionsBg:t.colorBgContainer,actionsLiMargin:`${t.paddingSM}px 0`,tabsMarginBottom:-t.padding-t.lineWidth,extraColor:t.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:(e=t.bodyPadding)!==null&&e!==void 0?e:t.paddingLG,headerPadding:(n=t.headerPadding)!==null&&n!==void 0?n:t.paddingLG}},c4e=di("Card",t=>{const e=Fr(t,{cardShadow:t.boxShadowCard,cardHeadPadding:t.padding,cardPaddingBase:t.paddingLG,cardActionsIconSize:t.fontSize});return[a4e(e),s4e(e)]},l4e);var lG=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const u4e=t=>{const{actionClasses:e,actions:n=[],actionStyle:r}=t;return S.createElement("ul",{className:e,style:r},n.map((i,o)=>{const a=`action-${o}`;return S.createElement("li",{style:{width:`${100/n.length}%`},key:a},S.createElement("span",null,i))}))},d4e=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:i,style:o,extra:a,headStyle:s={},bodyStyle:l={},title:c,loading:u,bordered:d,variant:f,size:h,type:p,cover:x,actions:b,tabList:y,children:_,activeTabKey:C,defaultActiveTabKey:E,tabBarExtraContent:M,hoverable:R,tabProps:N={},classNames:O,styles:I}=t,L=lG(t,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:F,direction:$,card:V}=S.useContext(Kn),[U]=Jv("card",f,d),k=Ye=>{var rt;(rt=t.onTabChange)===null||rt===void 0||rt.call(t,Ye)},z=Ye=>{var rt;return ke((rt=V==null?void 0:V.classNames)===null||rt===void 0?void 0:rt[Ye],O==null?void 0:O[Ye])},H=Ye=>{var rt;return Object.assign(Object.assign({},(rt=V==null?void 0:V.styles)===null||rt===void 0?void 0:rt[Ye]),I==null?void 0:I[Ye])},j=S.useMemo(()=>{let Ye=!1;return S.Children.forEach(_,rt=>{(rt==null?void 0:rt.type)===hre&&(Ye=!0)}),Ye},[_]),X=F("card",n),[Y,J,ee]=c4e(X),re=S.createElement(Gee,{loading:!0,active:!0,paragraph:{rows:4},title:!1},_),ue=C!==void 0,fe=Object.assign(Object.assign({},N),{[ue?"activeKey":"defaultActiveKey"]:ue?C:E,tabBarExtraContent:M});let oe;const ce=Os(h),pe=!ce||ce==="default"?"large":ce,ye=y?S.createElement(QPe,Object.assign({size:pe},fe,{className:`${X}-head-tabs`,onChange:k,items:y.map(Ye=>{var{tab:rt}=Ye,qe=lG(Ye,["tab"]);return Object.assign({label:rt},qe)})})):null;if(c||a||ye){const Ye=ke(`${X}-head`,z("header")),rt=ke(`${X}-head-title`,z("title")),qe=ke(`${X}-extra`,z("extra")),se=Object.assign(Object.assign({},s),H("header"));oe=S.createElement("div",{className:Ye,style:se},S.createElement("div",{className:`${X}-head-wrapper`},c&&S.createElement("div",{className:rt,style:H("title")},c),a&&S.createElement("div",{className:qe,style:H("extra")},a)),ye)}const xe=ke(`${X}-cover`,z("cover")),be=x?S.createElement("div",{className:xe,style:H("cover")},x):null,Ce=ke(`${X}-body`,z("body")),Ne=Object.assign(Object.assign({},l),H("body")),Ae=S.createElement("div",{className:Ce,style:Ne},u?re:_),me=ke(`${X}-actions`,z("actions")),de=b!=null&&b.length?S.createElement(u4e,{actionClasses:me,actionStyle:H("actions"),actions:b}):null,Be=go(L,["onTabChange"]),ne=ke(X,V==null?void 0:V.className,{[`${X}-loading`]:u,[`${X}-bordered`]:U!=="borderless",[`${X}-hoverable`]:R,[`${X}-contain-grid`]:j,[`${X}-contain-tabs`]:y==null?void 0:y.length,[`${X}-${ce}`]:ce,[`${X}-type-${p}`]:!!p,[`${X}-rtl`]:$==="rtl"},r,i,J,ee),Je=Object.assign(Object.assign({},V==null?void 0:V.style),o);return Y(S.createElement("div",Object.assign({ref:e},Be,{className:ne,style:Je}),oe,be,Ae,de))}),f4e=d4e;var h4e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const p4e=t=>{const{prefixCls:e,className:n,avatar:r,title:i,description:o}=t,a=h4e(t,["prefixCls","className","avatar","title","description"]),{getPrefixCls:s}=S.useContext(Kn),l=s("card",e),c=ke(`${l}-meta`,n),u=r?S.createElement("div",{className:`${l}-meta-avatar`},r):null,d=i?S.createElement("div",{className:`${l}-meta-title`},i):null,f=o?S.createElement("div",{className:`${l}-meta-description`},o):null,h=d||f?S.createElement("div",{className:`${l}-meta-detail`},d,f):null;return S.createElement("div",Object.assign({},a,{className:c}),u,h)},m4e=p4e,wB=f4e;wB.Grid=hre;wB.Meta=m4e;const Jc=wB;function g4e(t,e,n){var r=n||{},i=r.noTrailing,o=i===void 0?!1:i,a=r.noLeading,s=a===void 0?!1:a,l=r.debounceMode,c=l===void 0?void 0:l,u,d=!1,f=0;function h(){u&&clearTimeout(u)}function p(b){var y=b||{},_=y.upcomingOnly,C=_===void 0?!1:_;h(),d=!C}function x(){for(var b=arguments.length,y=new Array(b),_=0;_<b;_++)y[_]=arguments[_];var C=this,E=Date.now()-f;if(d)return;function M(){f=Date.now(),e.apply(C,y)}function R(){u=void 0}!s&&c&&!u&&M(),h(),c===void 0&&E>t?s?(f=Date.now(),o||(u=setTimeout(c?R:M,t))):M():o!==!0&&(u=setTimeout(c?R:M,c===void 0?t-E:t))}return x.cancel=p,x}function A4e(t,e,n){var r=n||{},i=r.atBegin,o=i===void 0?!1:i;return g4e(t,e,{debounceMode:o!==!1})}const v4e=S.createContext({}),pre=v4e;var y4e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function cG(t){return t==="auto"?"1 1 auto":typeof t=="number"?`${t} ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}const b4e=["xs","sm","md","lg","xl","xxl"],x4e=S.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=S.useContext(Kn),{gutter:i,wrap:o}=S.useContext(pre),{prefixCls:a,span:s,order:l,offset:c,push:u,pull:d,className:f,children:h,flex:p,style:x}=t,b=y4e(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),y=n("col",a),[_,C,E]=Twe(y),M={};let R={};b4e.forEach(I=>{let L={};const F=t[I];typeof F=="number"?L.span=F:typeof F=="object"&&(L=F||{}),delete b[I],R=Object.assign(Object.assign({},R),{[`${y}-${I}-${L.span}`]:L.span!==void 0,[`${y}-${I}-order-${L.order}`]:L.order||L.order===0,[`${y}-${I}-offset-${L.offset}`]:L.offset||L.offset===0,[`${y}-${I}-push-${L.push}`]:L.push||L.push===0,[`${y}-${I}-pull-${L.pull}`]:L.pull||L.pull===0,[`${y}-rtl`]:r==="rtl"}),L.flex&&(R[`${y}-${I}-flex`]=!0,M[`--${y}-${I}-flex`]=cG(L.flex))});const N=ke(y,{[`${y}-${s}`]:s!==void 0,[`${y}-order-${l}`]:l,[`${y}-offset-${c}`]:c,[`${y}-push-${u}`]:u,[`${y}-pull-${d}`]:d},f,R,C,E),O={};if(i!=null&&i[0]){const I=typeof i[0]=="number"?`${i[0]/2}px`:`calc(${i[0]} / 2)`;O.paddingLeft=I,O.paddingRight=I}return p&&(O.flex=cG(p),o===!1&&!O.minWidth&&(O.minWidth=0)),_(S.createElement("div",Object.assign({},b,{style:Object.assign(Object.assign(Object.assign({},O),x),M),className:N,ref:e}),h))}),jd=x4e;function S4e(t,e){const n=[void 0,void 0],r=Array.isArray(t)?t:[t,void 0],i=e||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((o,a)=>{if(typeof o=="object"&&o!==null)for(let s=0;s<jm.length;s++){const l=jm[s];if(i[l]&&o[l]!==void 0){n[a]=o[l];break}}else n[a]=o}),n}var _4e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function uG(t,e){const[n,r]=S.useState(typeof t=="string"?t:""),i=()=>{if(typeof t=="string"&&r(t),typeof t=="object")for(let o=0;o<jm.length;o++){const a=jm[o];if(!e||!e[a])continue;const s=t[a];if(s!==void 0){r(s);return}}};return S.useEffect(()=>{i()},[JSON.stringify(t),e]),n}const w4e=S.forwardRef((t,e)=>{const{prefixCls:n,justify:r,align:i,className:o,style:a,children:s,gutter:l=0,wrap:c}=t,u=_4e(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:d,direction:f}=S.useContext(Kn),h=dM(!0,null),p=uG(i,h),x=uG(r,h),b=d("row",n),[y,_,C]=Cwe(b),E=S4e(l,h),M=ke(b,{[`${b}-no-wrap`]:c===!1,[`${b}-${x}`]:x,[`${b}-${p}`]:p,[`${b}-rtl`]:f==="rtl"},o,_,C),R={};if(E!=null&&E[0]){const L=typeof E[0]=="number"?`${E[0]/-2}px`:`calc(${E[0]} / -2)`;R.marginLeft=L,R.marginRight=L}const[N,O]=E;R.rowGap=O;const I=S.useMemo(()=>({gutter:[N,O],wrap:c}),[N,O,c]);return y(S.createElement(pre.Provider,{value:I},S.createElement("div",Object.assign({},u,{className:M,style:Object.assign(Object.assign({},R),a),ref:e}),s)))}),_M=w4e,C4e=t=>{const{componentCls:e}=t;return{[e]:{"&-horizontal":{[`&${e}`]:{"&-sm":{marginBlock:t.marginXS},"&-md":{marginBlock:t.margin}}}}}},T4e=t=>{const{componentCls:e,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:i,textPaddingInline:o,orientationMargin:a,verticalMarginInline:s}=t;return{[e]:Object.assign(Object.assign({},Ji(t)),{borderBlockStart:`${Re(i)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${Re(i)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${Re(t.marginLG)} 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${Re(t.dividerHorizontalWithTextGutterMargin)} 0`,color:t.colorTextHeading,fontWeight:500,fontSize:t.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${Re(i)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-start`]:{"&::before":{width:`calc(${a} * 100%)`},"&::after":{width:`calc(100% - ${a} * 100%)`}},[`&-horizontal${e}-with-text-end`]:{"&::before":{width:`calc(100% - ${a} * 100%)`},"&::after":{width:`calc(${a} * 100%)`}},[`${e}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:o},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${Re(i)} 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${Re(i)} 0 0`},[`&-horizontal${e}-with-text${e}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${e}-dotted`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:t.colorText,fontWeight:"normal",fontSize:t.fontSize},[`&-horizontal${e}-with-text-start${e}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${e}-with-text-end${e}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:n}}})}},E4e=t=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:t.marginXS}),M4e=di("Divider",t=>{const e=Fr(t,{dividerHorizontalWithTextGutterMargin:t.margin,sizePaddingEdgeHorizontal:0});return[T4e(e),C4e(e)]},E4e,{unitless:{orientationMargin:!0}});var R4e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const P4e={small:"sm",middle:"md"},N4e=t=>{const{getPrefixCls:e,direction:n,className:r,style:i}=fa("divider"),{prefixCls:o,type:a="horizontal",orientation:s="center",orientationMargin:l,className:c,rootClassName:u,children:d,dashed:f,variant:h="solid",plain:p,style:x,size:b}=t,y=R4e(t,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),_=e("divider",o),[C,E,M]=M4e(_),R=Os(b),N=P4e[R],O=!!d,I=S.useMemo(()=>s==="left"?n==="rtl"?"end":"start":s==="right"?n==="rtl"?"start":"end":s,[n,s]),L=I==="start"&&l!=null,F=I==="end"&&l!=null,$=ke(_,r,E,M,`${_}-${a}`,{[`${_}-with-text`]:O,[`${_}-with-text-${I}`]:O,[`${_}-dashed`]:!!f,[`${_}-${h}`]:h!=="solid",[`${_}-plain`]:!!p,[`${_}-rtl`]:n==="rtl",[`${_}-no-default-orientation-margin-start`]:L,[`${_}-no-default-orientation-margin-end`]:F,[`${_}-${N}`]:!!N},c,u),V=S.useMemo(()=>typeof l=="number"?l:/^\d+$/.test(l)?Number(l):l,[l]),U={marginInlineStart:L?V:void 0,marginInlineEnd:F?V:void 0};return C(S.createElement("div",Object.assign({className:$,style:Object.assign(Object.assign({},i),x)},y,{role:"separator"}),d&&a!=="vertical"&&S.createElement("span",{className:`${_}-inner-text`,style:U},d)))},Zy=N4e;function I4e(t){return!!(t.addonBefore||t.addonAfter)}function D4e(t){return!!(t.prefix||t.suffix||t.allowClear)}function dG(t,e,n){var r=e.cloneNode(!0),i=Object.create(t,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},i}function kT(t,e,n,r){if(n){var i=e;if(e.type==="click"){i=dG(e,t,""),n(i);return}if(t.type!=="file"&&r!==void 0){i=dG(e,t,r),n(i);return}n(i)}}function mre(t,e){if(t){t.focus(e);var n=e||{},r=n.cursor;if(r){var i=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}}}var gre=je.forwardRef(function(t,e){var n,r,i,o=t.inputElement,a=t.children,s=t.prefixCls,l=t.prefix,c=t.suffix,u=t.addonBefore,d=t.addonAfter,f=t.className,h=t.style,p=t.disabled,x=t.readOnly,b=t.focused,y=t.triggerFocus,_=t.allowClear,C=t.value,E=t.handleReset,M=t.hidden,R=t.classes,N=t.classNames,O=t.dataAttrs,I=t.styles,L=t.components,F=t.onClear,$=a??o,V=(L==null?void 0:L.affixWrapper)||"span",U=(L==null?void 0:L.groupWrapper)||"span",k=(L==null?void 0:L.wrapper)||"span",z=(L==null?void 0:L.groupAddon)||"span",H=S.useRef(null),j=function(me){var de;(de=H.current)!==null&&de!==void 0&&de.contains(me.target)&&(y==null||y())},X=D4e(t),Y=S.cloneElement($,{value:C,className:ke((n=$.props)===null||n===void 0?void 0:n.className,!X&&(N==null?void 0:N.variant))||null}),J=S.useRef(null);if(je.useImperativeHandle(e,function(){return{nativeElement:J.current||H.current}}),X){var ee=null;if(_){var re=!p&&!x&&C,ue="".concat(s,"-clear-icon"),fe=yn(_)==="object"&&_!==null&&_!==void 0&&_.clearIcon?_.clearIcon:"";ee=je.createElement("button",{type:"button",tabIndex:-1,onClick:function(me){E==null||E(me),F==null||F()},onMouseDown:function(me){return me.preventDefault()},className:ke(ue,Se(Se({},"".concat(ue,"-hidden"),!re),"".concat(ue,"-has-suffix"),!!c))},fe)}var oe="".concat(s,"-affix-wrapper"),ce=ke(oe,Se(Se(Se(Se(Se({},"".concat(s,"-disabled"),p),"".concat(oe,"-disabled"),p),"".concat(oe,"-focused"),b),"".concat(oe,"-readonly"),x),"".concat(oe,"-input-with-clear-btn"),c&&_&&C),R==null?void 0:R.affixWrapper,N==null?void 0:N.affixWrapper,N==null?void 0:N.variant),pe=(c||_)&&je.createElement("span",{className:ke("".concat(s,"-suffix"),N==null?void 0:N.suffix),style:I==null?void 0:I.suffix},ee,c);Y=je.createElement(V,it({className:ce,style:I==null?void 0:I.affixWrapper,onClick:j},O==null?void 0:O.affixWrapper,{ref:H}),l&&je.createElement("span",{className:ke("".concat(s,"-prefix"),N==null?void 0:N.prefix),style:I==null?void 0:I.prefix},l),Y,pe)}if(I4e(t)){var ye="".concat(s,"-group"),xe="".concat(ye,"-addon"),be="".concat(ye,"-wrapper"),Ce=ke("".concat(s,"-wrapper"),ye,R==null?void 0:R.wrapper,N==null?void 0:N.wrapper),Ne=ke(be,Se({},"".concat(be,"-disabled"),p),R==null?void 0:R.group,N==null?void 0:N.groupWrapper);Y=je.createElement(U,{className:Ne,ref:J},je.createElement(k,{className:Ce},u&&je.createElement(z,{className:xe},u),Y,d&&je.createElement(z,{className:xe},d)))}return je.cloneElement(Y,{className:ke((r=Y.props)===null||r===void 0?void 0:r.className,f)||null,style:we(we({},(i=Y.props)===null||i===void 0?void 0:i.style),h),hidden:M})}),O4e=["show"];function Are(t,e){return S.useMemo(function(){var n={};e&&(n.show=yn(e)==="object"&&e.formatter?e.formatter:!!e),n=we(we({},n),t);var r=n,i=r.show,o=Qn(r,O4e);return we(we({},o),{},{show:!!i,showFormatter:typeof i=="function"?i:void 0,strategy:o.strategy||function(a){return a.length}})},[t,e])}var L4e=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],B4e=S.forwardRef(function(t,e){var n=t.autoComplete,r=t.onChange,i=t.onFocus,o=t.onBlur,a=t.onPressEnter,s=t.onKeyDown,l=t.onKeyUp,c=t.prefixCls,u=c===void 0?"rc-input":c,d=t.disabled,f=t.htmlSize,h=t.className,p=t.maxLength,x=t.suffix,b=t.showCount,y=t.count,_=t.type,C=_===void 0?"text":_,E=t.classes,M=t.classNames,R=t.styles,N=t.onCompositionStart,O=t.onCompositionEnd,I=Qn(t,L4e),L=S.useState(!1),F=Oe(L,2),$=F[0],V=F[1],U=S.useRef(!1),k=S.useRef(!1),z=S.useRef(null),H=S.useRef(null),j=function(K){z.current&&mre(z.current,K)},X=yi(t.defaultValue,{value:t.value}),Y=Oe(X,2),J=Y[0],ee=Y[1],re=J==null?"":String(J),ue=S.useState(null),fe=Oe(ue,2),oe=fe[0],ce=fe[1],pe=Are(y,b),ye=pe.max||p,xe=pe.strategy(re),be=!!ye&&xe>ye;S.useImperativeHandle(e,function(){var se;return{focus:j,blur:function(){var _e;(_e=z.current)===null||_e===void 0||_e.blur()},setSelectionRange:function(_e,Ue,lt){var We;(We=z.current)===null||We===void 0||We.setSelectionRange(_e,Ue,lt)},select:function(){var _e;(_e=z.current)===null||_e===void 0||_e.select()},input:z.current,nativeElement:((se=H.current)===null||se===void 0?void 0:se.nativeElement)||z.current}}),S.useEffect(function(){k.current&&(k.current=!1),V(function(se){return se&&d?!1:se})},[d]);var Ce=function(K,_e,Ue){var lt=_e;if(!U.current&&pe.exceedFormatter&&pe.max&&pe.strategy(_e)>pe.max){if(lt=pe.exceedFormatter(_e,{max:pe.max}),_e!==lt){var We,pt;ce([((We=z.current)===null||We===void 0?void 0:We.selectionStart)||0,((pt=z.current)===null||pt===void 0?void 0:pt.selectionEnd)||0])}}else if(Ue.source==="compositionEnd")return;ee(lt),z.current&&kT(z.current,K,r,lt)};S.useEffect(function(){if(oe){var se;(se=z.current)===null||se===void 0||se.setSelectionRange.apply(se,zt(oe))}},[oe]);var Ne=function(K){Ce(K,K.target.value,{source:"change"})},Ae=function(K){U.current=!1,Ce(K,K.currentTarget.value,{source:"compositionEnd"}),O==null||O(K)},me=function(K){a&&K.key==="Enter"&&!k.current&&(k.current=!0,a(K)),s==null||s(K)},de=function(K){K.key==="Enter"&&(k.current=!1),l==null||l(K)},Be=function(K){V(!0),i==null||i(K)},ne=function(K){k.current&&(k.current=!1),V(!1),o==null||o(K)},Je=function(K){ee(""),j(),z.current&&kT(z.current,K,r)},Ye=be&&"".concat(u,"-out-of-range"),rt=function(){var K=go(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return je.createElement("input",it({autoComplete:n},K,{onChange:Ne,onFocus:Be,onBlur:ne,onKeyDown:me,onKeyUp:de,className:ke(u,Se({},"".concat(u,"-disabled"),d),M==null?void 0:M.input),style:R==null?void 0:R.input,ref:z,size:f,type:C,onCompositionStart:function(Ue){U.current=!0,N==null||N(Ue)},onCompositionEnd:Ae}))},qe=function(){var K=Number(ye)>0;if(x||pe.show){var _e=pe.showFormatter?pe.showFormatter({value:re,count:xe,maxLength:ye}):"".concat(xe).concat(K?" / ".concat(ye):"");return je.createElement(je.Fragment,null,pe.show&&je.createElement("span",{className:ke("".concat(u,"-show-count-suffix"),Se({},"".concat(u,"-show-count-has-suffix"),!!x),M==null?void 0:M.count),style:we({},R==null?void 0:R.count)},_e),x)}return null};return je.createElement(gre,it({},I,{prefixCls:u,className:ke(h,Ye),handleReset:Je,value:re,focused:$,triggerFocus:j,suffix:qe(),disabled:d,classes:E,classNames:M,styles:R,ref:H}),rt())});const F4e=t=>{let e;return typeof t=="object"&&(t!=null&&t.clearIcon)?e=t:t&&(e={clearIcon:je.createElement(_2,null)}),e},vre=F4e;function yre(t,e){const n=S.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var i,o,a,s;!((i=t.current)===null||i===void 0)&&i.input&&((o=t.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((a=t.current)===null||a===void 0)&&a.input.hasAttribute("value"))&&((s=t.current)===null||s===void 0||s.input.removeAttribute("value"))}))};return S.useEffect(()=>(e&&r(),()=>n.current.forEach(i=>{i&&clearTimeout(i)})),[]),r}function $4e(t){return!!(t.prefix||t.suffix||t.allowClear||t.showCount)}var U4e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const k4e=S.forwardRef((t,e)=>{const{prefixCls:n,bordered:r=!0,status:i,size:o,disabled:a,onBlur:s,onFocus:l,suffix:c,allowClear:u,addonAfter:d,addonBefore:f,className:h,style:p,styles:x,rootClassName:b,onChange:y,classNames:_,variant:C,_skipAddonWarning:E}=t,M=U4e(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant","_skipAddonWarning"]),{getPrefixCls:R,direction:N,allowClear:O,autoComplete:I,className:L,style:F,classNames:$,styles:V}=fa("input"),U=R("input",n),k=S.useRef(null),z=bu(U),[H,j,X]=ore(U,b),[Y]=are(U,z),{compactSize:J,compactItemClassnames:ee}=p0(U,N),re=Os(Je=>{var Ye;return(Ye=o??J)!==null&&Ye!==void 0?Ye:Je}),ue=je.useContext(wf),fe=a??ue,{status:oe,hasFeedback:ce,feedbackIcon:pe}=S.useContext(Ns),ye=Zv(oe,i),xe=$4e(t)||!!ce;S.useRef(xe);const be=yre(k,!0),Ce=Je=>{be(),s==null||s(Je)},Ne=Je=>{be(),l==null||l(Je)},Ae=Je=>{be(),y==null||y(Je)},me=(ce||c)&&je.createElement(je.Fragment,null,c,ce&&pe),de=vre(u??O),[Be,ne]=Jv("input",C,r);return H(Y(je.createElement(B4e,Object.assign({ref:ll(e,k),prefixCls:U,autoComplete:I},M,{disabled:fe,onBlur:Ce,onFocus:Ne,style:Object.assign(Object.assign({},F),p),styles:Object.assign(Object.assign({},V),x),suffix:me,allowClear:de,className:ke(h,b,X,z,ee,L),onChange:Ae,addonBefore:f&&je.createElement(Hm,{form:!0,space:!0},f),addonAfter:d&&je.createElement(Hm,{form:!0,space:!0},d),classNames:Object.assign(Object.assign(Object.assign({},_),$),{input:ke({[`${U}-sm`]:re==="small",[`${U}-lg`]:re==="large",[`${U}-rtl`]:N==="rtl"},_==null?void 0:_.input,$.input,j),variant:ke({[`${U}-${Be}`]:ne},HA(U,ye)),affixWrapper:ke({[`${U}-affix-wrapper-sm`]:re==="small",[`${U}-affix-wrapper-lg`]:re==="large",[`${U}-affix-wrapper-rtl`]:N==="rtl"},j),wrapper:ke({[`${U}-group-rtl`]:N==="rtl"},j),groupWrapper:ke({[`${U}-group-wrapper-sm`]:re==="small",[`${U}-group-wrapper-lg`]:re==="large",[`${U}-group-wrapper-rtl`]:N==="rtl",[`${U}-group-wrapper-${Be}`]:ne},HA(`${U}-group-wrapper`,ye,ce),j)})}))))}),wM=k4e;var V4e={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"};const z4e=V4e;var G4e=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:z4e}))},H4e=S.forwardRef(G4e);const j4e=H4e,q4e=(t,e,n,r,i)=>{const{classNames:o,styles:a}=fa(t),[s,l]=Cxe([o,e],[a,n],{popup:{_default:"root"}});return S.useMemo(()=>{var c,u;const d=Object.assign(Object.assign({},s),{popup:Object.assign(Object.assign({},s.popup),{root:ke((c=s.popup)===null||c===void 0?void 0:c.root,r)})}),f=Object.assign(Object.assign({},l),{popup:Object.assign(Object.assign({},l.popup),{root:Object.assign(Object.assign({},(u=l.popup)===null||u===void 0?void 0:u.root),i)})});return[d,f]},[s,l,r,i])},bre=q4e;function W4e(t,e,n){return n!==void 0?n:e==="year"&&t.lang.yearPlaceholder?t.lang.yearPlaceholder:e==="quarter"&&t.lang.quarterPlaceholder?t.lang.quarterPlaceholder:e==="month"&&t.lang.monthPlaceholder?t.lang.monthPlaceholder:e==="week"&&t.lang.weekPlaceholder?t.lang.weekPlaceholder:e==="time"&&t.timePickerLocale.placeholder?t.timePickerLocale.placeholder:t.lang.placeholder}function X4e(t,e,n){return n!==void 0?n:e==="year"&&t.lang.yearPlaceholder?t.lang.rangeYearPlaceholder:e==="quarter"&&t.lang.quarterPlaceholder?t.lang.rangeQuarterPlaceholder:e==="month"&&t.lang.monthPlaceholder?t.lang.rangeMonthPlaceholder:e==="week"&&t.lang.weekPlaceholder?t.lang.rangeWeekPlaceholder:e==="time"&&t.timePickerLocale.placeholder?t.timePickerLocale.rangePlaceholder:t.lang.rangePlaceholder}function xre(t,e){const{allowClear:n=!0}=t,{clearIcon:r,removeIcon:i}=Rte(Object.assign(Object.assign({},t),{prefixCls:e,componentName:"DatePicker"}));return[S.useMemo(()=>n===!1?!1:Object.assign({clearIcon:r},n===!0?{}:n),[n,r]),i]}const[Y4e,K4e]=["week","WeekPicker"],[Q4e,Z4e]=["month","MonthPicker"],[J4e,eNe]=["year","YearPicker"],[tNe,nNe]=["quarter","QuarterPicker"],[CB,fG]=["time","TimePicker"];var rNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"};const iNe=rNe;var oNe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:iNe}))},aNe=S.forwardRef(oNe);const sNe=aNe;var lNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};const cNe=lNe;var uNe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:cNe}))},dNe=S.forwardRef(uNe);const fNe=dNe,hNe=({picker:t,hasFeedback:e,feedbackIcon:n,suffixIcon:r})=>r===null||r===!1?null:r===!0||r===void 0?je.createElement(je.Fragment,null,t===CB?je.createElement(fNe,null):je.createElement(sNe,null),e&&n):r,Sre=hNe,pNe=t=>S.createElement(bo,Object.assign({size:"small",type:"primary"},t)),mNe=pNe;function _re(t){return S.useMemo(()=>Object.assign({button:mNe},t),[t])}var gNe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ANe=t=>S.forwardRef((n,r)=>{var i;const{prefixCls:o,getPopupContainer:a,components:s,className:l,style:c,placement:u,size:d,disabled:f,bordered:h=!0,placeholder:p,popupStyle:x,popupClassName:b,dropdownClassName:y,status:_,rootClassName:C,variant:E,picker:M,styles:R,classNames:N,suffixIcon:O}=n,I=gNe(n,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupStyle","popupClassName","dropdownClassName","status","rootClassName","variant","picker","styles","classNames","suffixIcon"]),L=M===CB?"timePicker":"datePicker",F=S.useRef(null),{getPrefixCls:$,direction:V,getPopupContainer:U,rangePicker:k}=S.useContext(Kn),z=$("picker",o),{compactSize:H,compactItemClassnames:j}=p0(z,V),X=$(),[Y,J]=Jv("rangePicker",E,h),ee=bu(z),[re,ue,fe]=sre(z,ee),[oe,ce]=bre(L,N,R,b||y,x),[pe]=xre(n,z),ye=_re(s),xe=Os(rt=>{var qe;return(qe=d??H)!==null&&qe!==void 0?qe:rt}),be=S.useContext(wf),Ce=f??be,Ne=S.useContext(Ns),{hasFeedback:Ae,status:me,feedbackIcon:de}=Ne,Be=S.createElement(Sre,{picker:M,hasFeedback:Ae,feedbackIcon:de,suffixIcon:O});S.useImperativeHandle(r,()=>F.current);const[ne]=Vl("Calendar",TT),Je=Object.assign(Object.assign({},ne),n.locale),[Ye]=w2("DatePicker",(i=ce.popup.root)===null||i===void 0?void 0:i.zIndex);return re(S.createElement(Hm,{space:!0},S.createElement(RRe,Object.assign({separator:S.createElement("span",{"aria-label":"to",className:`${z}-separator`},S.createElement(j4e,null)),disabled:Ce,ref:F,placement:u,placeholder:X4e(Je,M,p),suffixIcon:Be,prevIcon:S.createElement("span",{className:`${z}-prev-icon`}),nextIcon:S.createElement("span",{className:`${z}-next-icon`}),superPrevIcon:S.createElement("span",{className:`${z}-super-prev-icon`}),superNextIcon:S.createElement("span",{className:`${z}-super-next-icon`}),transitionName:`${X}-slide-up`,picker:M},I,{className:ke({[`${z}-${xe}`]:xe,[`${z}-${Y}`]:J},HA(z,Zv(me,_),Ae),ue,j,l,k==null?void 0:k.className,fe,ee,C,oe.root),style:Object.assign(Object.assign(Object.assign({},k==null?void 0:k.style),c),ce.root),locale:Je.lang,prefixCls:z,getPopupContainer:a||U,generateConfig:t,components:ye,direction:V,classNames:{popup:ke(ue,fe,ee,C,oe.popup.root)},styles:{popup:Object.assign(Object.assign({},ce.popup.root),{zIndex:Ye})},allowClear:pe}))))}),vNe=ANe;var yNe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const bNe=t=>{const e=(l,c)=>{const u=c===fG?"timePicker":"datePicker";return S.forwardRef((f,h)=>{var p;const{prefixCls:x,getPopupContainer:b,components:y,style:_,className:C,rootClassName:E,size:M,bordered:R,placement:N,placeholder:O,popupStyle:I,popupClassName:L,dropdownClassName:F,disabled:$,status:V,variant:U,onCalendarChange:k,styles:z,classNames:H,suffixIcon:j}=f,X=yNe(f,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupStyle","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange","styles","classNames","suffixIcon"]),{getPrefixCls:Y,direction:J,getPopupContainer:ee,[u]:re}=S.useContext(Kn),ue=Y("picker",x),{compactSize:fe,compactItemClassnames:oe}=p0(ue,J),ce=S.useRef(null),[pe,ye]=Jv("datePicker",U,R),xe=bu(ue),[be,Ce,Ne]=sre(ue,xe);S.useImperativeHandle(h,()=>ce.current);const Ae={showToday:!0},me=l||f.picker,de=Y(),{onSelect:Be,multiple:ne}=X,Je=Be&&l==="time"&&!ne,Ye=(ze,bt,Pe)=>{k==null||k(ze,bt,Pe),Je&&Be(ze)},[rt,qe]=bre(u,H,z,L||F,I),[se,K]=xre(f,ue),_e=_re(y),Ue=Os(ze=>{var bt;return(bt=M??fe)!==null&&bt!==void 0?bt:ze}),lt=S.useContext(wf),We=$??lt,pt=S.useContext(Ns),{hasFeedback:mt,status:vt,feedbackIcon:At}=pt,ot=S.createElement(Sre,{picker:me,hasFeedback:mt,feedbackIcon:At,suffixIcon:j}),[Ve]=Vl("DatePicker",TT),at=Object.assign(Object.assign({},Ve),f.locale),[tt]=w2("DatePicker",(p=qe.popup.root)===null||p===void 0?void 0:p.zIndex);return be(S.createElement(Hm,{space:!0},S.createElement(LRe,Object.assign({ref:ce,placeholder:W4e(at,me,O),suffixIcon:ot,placement:N,prevIcon:S.createElement("span",{className:`${ue}-prev-icon`}),nextIcon:S.createElement("span",{className:`${ue}-next-icon`}),superPrevIcon:S.createElement("span",{className:`${ue}-super-prev-icon`}),superNextIcon:S.createElement("span",{className:`${ue}-super-next-icon`}),transitionName:`${de}-slide-up`,picker:l,onCalendarChange:Ye},Ae,X,{locale:at.lang,className:ke({[`${ue}-${Ue}`]:Ue,[`${ue}-${pe}`]:ye},HA(ue,Zv(vt,V),mt),Ce,oe,re==null?void 0:re.className,C,Ne,xe,E,rt.root),style:Object.assign(Object.assign(Object.assign({},re==null?void 0:re.style),_),qe.root),prefixCls:ue,getPopupContainer:b||ee,generateConfig:t,components:_e,direction:J,disabled:We,classNames:{popup:ke(Ce,Ne,xe,E,rt.popup.root)},styles:{popup:Object.assign(Object.assign({},qe.popup.root),{zIndex:tt})},allowClear:se,removeIcon:K}))))})},n=e(),r=e(Y4e,K4e),i=e(Q4e,Z4e),o=e(J4e,eNe),a=e(tNe,nNe),s=e(CB,fG);return{DatePicker:n,WeekPicker:r,MonthPicker:i,YearPicker:o,TimePicker:s,QuarterPicker:a}},xNe=bNe,SNe=t=>{const{DatePicker:e,WeekPicker:n,MonthPicker:r,YearPicker:i,TimePicker:o,QuarterPicker:a}=xNe(t),s=vNe(t),l=e;return l.WeekPicker=n,l.MonthPicker=r,l.YearPicker=i,l.RangePicker=s,l.TimePicker=o,l.QuarterPicker=a,l},wre=SNe,oy=wre(FMe),_Ne=ZL(oy,"popupAlign",void 0,"picker");oy._InternalPanelDoNotUseOrYouWillBeFired=_Ne;const wNe=ZL(oy.RangePicker,"popupAlign",void 0,"picker");oy._InternalRangePanelDoNotUseOrYouWillBeFired=wNe;oy.generatePicker=wre;const hG=oy;function CNe(t){return t==null?null:typeof t=="object"&&!S.isValidElement(t)?t:{title:t}}function VT(t){const[e,n]=S.useState(t);return S.useEffect(()=>{const r=setTimeout(()=>{n(t)},t.length?0:10);return()=>{clearTimeout(r)}},[t]),e}const TNe=t=>{const{componentCls:e}=t,n=`${e}-show-help`,r=`${e}-show-help-item`;return{[n]:{transition:`opacity ${t.motionDurationFast} ${t.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${t.motionDurationFast} ${t.motionEaseInOut},
                     opacity ${t.motionDurationFast} ${t.motionEaseInOut},
                     transform ${t.motionDurationFast} ${t.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},ENe=TNe,MNe=t=>({legend:{display:"block",width:"100%",marginBottom:t.marginLG,padding:0,color:t.colorTextDescription,fontSize:t.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${Re(t.controlOutlineWidth)} ${t.controlOutline}`},output:{display:"block",paddingTop:15,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight}}),pG=(t,e)=>{const{formItemCls:n}=t;return{[n]:{[`${n}-label > label`]:{height:e},[`${n}-control-input`]:{minHeight:e}}}},RNe=t=>{const{componentCls:e}=t;return{[t.componentCls]:Object.assign(Object.assign(Object.assign({},Ji(t)),MNe(t)),{[`${e}-text`]:{display:"inline-block",paddingInlineEnd:t.paddingSM},"&-small":Object.assign({},pG(t,t.controlHeightSM)),"&-large":Object.assign({},pG(t,t.controlHeightLG))})}},PNe=t=>{const{formItemCls:e,iconCls:n,rootPrefixCls:r,antCls:i,labelRequiredMarkColor:o,labelColor:a,labelFontSize:s,labelHeight:l,labelColonMarginInlineStart:c,labelColonMarginInlineEnd:u,itemMarginBottom:d}=t;return{[e]:Object.assign(Object.assign({},Ji(t)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${i}-row`]:{display:"none"},"&-has-warning":{[`${e}-split`]:{color:t.colorError}},"&-has-error":{[`${e}-split`]:{color:t.colorWarning}},[`${e}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:t.lineHeight,whiteSpace:"unset","> label":{verticalAlign:"middle",textWrap:"balance"}},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:l,color:a,fontSize:s,[`> ${n}`]:{fontSize:t.fontSize,verticalAlign:"top"},[`&${e}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:t.marginXXS,color:o,fontSize:t.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${e}-required-mark-hidden, &${e}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${e}-optional`]:{display:"inline-block",marginInlineStart:t.marginXXS,color:t.colorTextDescription,[`&${e}-required-mark-hidden`]:{display:"none"}},[`${e}-tooltip`]:{color:t.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:t.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:c,marginInlineEnd:u},[`&${e}-no-colon::after`]:{content:'"\\a0"'}}},[`${e}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${r}-col-'"]):not([class*="' ${r}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:t.controlHeight,"&-content":{flex:"auto",maxWidth:"100%",[`&:has(> ${i}-switch:only-child, > ${i}-rate:only-child)`]:{display:"flex",alignItems:"center"}}}},[e]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:t.colorTextDescription,fontSize:t.fontSize,lineHeight:t.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:t.controlHeightSM,transition:`color ${t.motionDurationMid} ${t.motionEaseOut}`},"&-explain":{"&-error":{color:t.colorError},"&-warning":{color:t.colorWarning}}},[`&-with-help ${e}-explain`]:{height:"auto",opacity:1},[`${e}-feedback-icon`]:{fontSize:t.fontSize,textAlign:"center",visibility:"visible",animationName:VL,animationDuration:t.motionDurationMid,animationTimingFunction:t.motionEaseOutBack,pointerEvents:"none","&-success":{color:t.colorSuccess},"&-error":{color:t.colorError},"&-warning":{color:t.colorWarning},"&-validating":{color:t.colorPrimary}}})}},rm=t=>({padding:t.verticalLabelPadding,margin:t.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),NNe=t=>{const{antCls:e,formItemCls:n}=t;return{[`${n}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}},[`${e}-col-24${n}-label,
        ${e}-col-xl-24${n}-label`]:rm(t)}}},INe=t=>{const{componentCls:e,formItemCls:n,inlineItemMarginBottom:r}=t;return{[`${e}-inline`]:{display:"flex",flexWrap:"wrap",[`${n}-inline`]:{flex:"none",marginInlineEnd:t.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,
        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${e}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},DNe=t=>{const{componentCls:e,formItemCls:n,rootPrefixCls:r}=t;return{[`${n} ${n}-label`]:rm(t),[`${e}:not(${e}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},ONe=t=>{const{componentCls:e,formItemCls:n,antCls:r}=t;return{[`${n}-vertical`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,
        ${r}-col-24${n}-label,
        ${r}-col-xl-24${n}-label`]:rm(t)},[`@media (max-width: ${Re(t.screenXSMax)})`]:[DNe(t),{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:rm(t)}}}],[`@media (max-width: ${Re(t.screenSMMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:rm(t)}}},[`@media (max-width: ${Re(t.screenMDMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:rm(t)}}},[`@media (max-width: ${Re(t.screenLGMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:rm(t)}}}}},LNe=t=>({labelRequiredMarkColor:t.colorError,labelColor:t.colorTextHeading,labelFontSize:t.fontSize,labelHeight:t.controlHeight,labelColonMarginInlineStart:t.marginXXS/2,labelColonMarginInlineEnd:t.marginXS,itemMarginBottom:t.marginLG,verticalLabelPadding:`0 0 ${t.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),Cre=(t,e)=>Fr(t,{formItemCls:`${t.componentCls}-item`,rootPrefixCls:e}),TB=di("Form",(t,{rootPrefixCls:e})=>{const n=Cre(t,e);return[RNe(n),PNe(n),ENe(n),NNe(n),INe(n),ONe(n),w2e(n),VL]},LNe,{order:-1e3}),mG=[];function P4(t,e,n,r=0){return{key:typeof t=="string"?t:`${e}-${r}`,error:t,errorStatus:n}}const BNe=({help:t,helpStatus:e,errors:n=mG,warnings:r=mG,className:i,fieldId:o,onVisibleChanged:a})=>{const{prefixCls:s}=S.useContext(QL),l=`${s}-item-explain`,c=bu(s),[u,d,f]=TB(s,c),h=S.useMemo(()=>PV(s),[s]),p=VT(n),x=VT(r),b=S.useMemo(()=>t!=null?[P4(t,"help",e)]:[].concat(zt(p.map((C,E)=>P4(C,"error","error",E))),zt(x.map((C,E)=>P4(C,"warning","warning",E)))),[t,e,p,x]),y=S.useMemo(()=>{const C={};return b.forEach(({key:E})=>{C[E]=(C[E]||0)+1}),b.map((E,M)=>Object.assign(Object.assign({},E),{key:C[E.key]>1?`${E.key}-fallback-${M}`:E.key}))},[b]),_={};return o&&(_.id=`${o}_help`),u(S.createElement(yu,{motionDeadline:h.motionDeadline,motionName:`${s}-show-help`,visible:!!y.length,onVisibleChanged:a},C=>{const{className:E,style:M}=C;return S.createElement("div",Object.assign({},_,{className:ke(l,E,f,c,i,d),style:M}),S.createElement(xbe,Object.assign({keys:y},PV(s),{motionName:`${s}-show-help-item`,component:!1}),R=>{const{key:N,error:O,errorStatus:I,className:L,style:F}=R;return S.createElement("div",{key:N,className:ke(L,{[`${l}-${I}`]:I}),style:F},O)}))}))},Tre=BNe;var FNe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const $Ne=(t,e)=>{const n=S.useContext(wf),{getPrefixCls:r,direction:i,requiredMark:o,colon:a,scrollToFirstError:s,className:l,style:c}=fa("form"),{prefixCls:u,className:d,rootClassName:f,size:h,disabled:p=n,form:x,colon:b,labelAlign:y,labelWrap:_,labelCol:C,wrapperCol:E,hideRequiredMark:M,layout:R="horizontal",scrollToFirstError:N,requiredMark:O,onFinishFailed:I,name:L,style:F,feedbackIcons:$,variant:V}=t,U=FNe(t,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),k=Os(h),z=S.useContext(RJ),H=S.useMemo(()=>O!==void 0?O:M?!1:o!==void 0?o:!0,[M,O,o]),j=b??a,X=r("form",u),Y=bu(X),[J,ee,re]=TB(X,Y),ue=ke(X,`${X}-${R}`,{[`${X}-hide-required-mark`]:H===!1,[`${X}-rtl`]:i==="rtl",[`${X}-${k}`]:k},re,Y,ee,l,d,f),[fe]=Kne(x),{__INTERNAL__:oe}=fe;oe.name=L;const ce=S.useMemo(()=>({name:L,labelAlign:y,labelCol:C,labelWrap:_,wrapperCol:E,layout:R,colon:j,requiredMark:H,itemRef:oe.itemRef,form:fe,feedbackIcons:$}),[L,y,C,E,R,j,H,fe,$]),pe=S.useRef(null);S.useImperativeHandle(e,()=>{var be;return Object.assign(Object.assign({},fe),{nativeElement:(be=pe.current)===null||be===void 0?void 0:be.nativeElement})});const ye=(be,Ce)=>{if(be){let Ne={block:"nearest"};typeof be=="object"&&(Ne=Object.assign(Object.assign({},Ne),be)),fe.scrollToField(Ce,Ne)}},xe=be=>{if(I==null||I(be),be.errorFields.length){const Ce=be.errorFields[0].name;if(N!==void 0){ye(N,Ce);return}s!==void 0&&ye(s,Ce)}};return J(S.createElement(Vee.Provider,{value:V},S.createElement(PL,{disabled:p},S.createElement(x2.Provider,{value:k},S.createElement(Uee,{validateMessages:z},S.createElement(df.Provider,{value:ce},S.createElement(kee,{status:!0},S.createElement(Yv,Object.assign({id:L},U,{name:L,onFinishFailed:xe,form:fe,ref:pe,style:Object.assign(Object.assign({},c),F),className:ue})))))))))},UNe=S.forwardRef($Ne),kNe=UNe;function VNe(t){if(typeof t=="function")return t;const e=bc(t);return e.length<=1?e[0]:e}const Ere=()=>{const{status:t,errors:e=[],warnings:n=[]}=S.useContext(Ns);return{status:t,errors:e,warnings:n}};Ere.Context=Ns;const zNe=Ere;function GNe(t){const[e,n]=S.useState(t),r=S.useRef(null),i=S.useRef([]),o=S.useRef(!1);S.useEffect(()=>(o.current=!1,()=>{o.current=!0,Rr.cancel(r.current),r.current=null}),[]);function a(s){o.current||(r.current===null&&(i.current=[],r.current=Rr(()=>{r.current=null,n(l=>{let c=l;return i.current.forEach(u=>{c=u(c)}),c})})),i.current.push(s))}return[e,a]}function HNe(){const{itemRef:t}=S.useContext(df),e=S.useRef({});function n(r,i){const o=i&&typeof i=="object"&&d0(i),a=r.join("_");return(e.current.name!==a||e.current.originRef!==o)&&(e.current.name=a,e.current.originRef=o,e.current.ref=ll(t(r),o)),e.current.ref}return n}const jNe=t=>{const{formItemCls:e}=t;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${e}-control`]:{display:"flex"}}}},qNe=Wv(["Form","item-item"],(t,{rootPrefixCls:e})=>{const n=Cre(t,e);return jNe(n)});var WNe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const XNe=24,YNe=t=>{const{prefixCls:e,status:n,labelCol:r,wrapperCol:i,children:o,errors:a,warnings:s,_internalItemRender:l,extra:c,help:u,fieldId:d,marginBottom:f,onErrorVisibleChanged:h,label:p}=t,x=`${e}-item`,b=S.useContext(df),y=S.useMemo(()=>{let U=Object.assign({},i||b.wrapperCol||{});return p===null&&!r&&!i&&b.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(z=>{const H=z?[z]:[],j=sc(b.labelCol,H),X=typeof j=="object"?j:{},Y=sc(U,H),J=typeof Y=="object"?Y:{};"span"in X&&!("offset"in J)&&X.span<XNe&&(U=nc(U,[].concat(H,["offset"]),X.span))}),U},[i,b.wrapperCol,b.labelCol,p,r]),_=ke(`${x}-control`,y.className),C=S.useMemo(()=>WNe(b,["labelCol","wrapperCol"]),[b]),E=S.useRef(null),[M,R]=S.useState(0);wr(()=>{c&&E.current?R(E.current.clientHeight):R(0)},[c]);const N=S.createElement("div",{className:`${x}-control-input`},S.createElement("div",{className:`${x}-control-input-content`},o)),O=S.useMemo(()=>({prefixCls:e,status:n}),[e,n]),I=f!==null||a.length||s.length?S.createElement(QL.Provider,{value:O},S.createElement(Tre,{fieldId:d,errors:a,warnings:s,help:u,helpStatus:n,className:`${x}-explain-connected`,onVisibleChanged:h})):null,L={};d&&(L.id=`${d}_extra`);const F=c?S.createElement("div",Object.assign({},L,{className:`${x}-extra`,ref:E}),c):null,$=I||F?S.createElement("div",{className:`${x}-additional`,style:f?{minHeight:f+M}:{}},I,F):null,V=l&&l.mark==="pro_table_render"&&l.render?l.render(t,{input:N,errorList:I,extra:F}):S.createElement(S.Fragment,null,N,$);return S.createElement(df.Provider,{value:C},S.createElement(jd,Object.assign({},y,{className:_}),V),S.createElement(qNe,{prefixCls:e}))},KNe=YNe;var QNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};const ZNe=QNe;var JNe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:ZNe}))},eIe=S.forwardRef(JNe);const tIe=eIe;var nIe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const rIe=({prefixCls:t,label:e,htmlFor:n,labelCol:r,labelAlign:i,colon:o,required:a,requiredMark:s,tooltip:l,vertical:c})=>{var u;const[d]=Vl("Form"),{labelAlign:f,labelCol:h,labelWrap:p,colon:x}=S.useContext(df);if(!e)return null;const b=r||h||{},y=i||f,_=`${t}-item-label`,C=ke(_,y==="left"&&`${_}-left`,b.className,{[`${_}-wrap`]:!!p});let E=e;const M=o===!0||x!==!1&&o!==!1;M&&!c&&typeof e=="string"&&e.trim()&&(E=e.replace(/[:|]\s*$/,""));const N=CNe(l);if(N){const{icon:V=S.createElement(tIe,null)}=N,U=nIe(N,["icon"]),k=S.createElement(m0,Object.assign({},U),S.cloneElement(V,{className:`${t}-item-tooltip`,title:"",onClick:z=>{z.preventDefault()},tabIndex:null}));E=S.createElement(S.Fragment,null,E,k)}const O=s==="optional",I=typeof s=="function",L=s===!1;I?E=s(E,{required:!!a}):O&&!a&&(E=S.createElement(S.Fragment,null,E,S.createElement("span",{className:`${t}-item-optional`,title:""},(d==null?void 0:d.optional)||((u=hd.Form)===null||u===void 0?void 0:u.optional))));let F;L?F="hidden":(O||I)&&(F="optional");const $=ke({[`${t}-item-required`]:a,[`${t}-item-required-mark-${F}`]:F,[`${t}-item-no-colon`]:!M});return S.createElement(jd,Object.assign({},b,{className:C}),S.createElement("label",{htmlFor:n,className:$,title:typeof e=="string"?e:""},E))},iIe=rIe,oIe={success:DL,warning:K3,error:_2,validating:Q3};function Mre({children:t,errors:e,warnings:n,hasFeedback:r,validateStatus:i,prefixCls:o,meta:a,noStyle:s,name:l}){const c=`${o}-item`,{feedbackIcons:u}=S.useContext(df),d=Yne(e,n,a,null,!!r,i),{isFormItemInput:f,status:h,hasFeedback:p,feedbackIcon:x,name:b}=S.useContext(Ns),y=S.useMemo(()=>{var _;let C;if(r){const M=r!==!0&&r.icons||u,R=d&&((_=M==null?void 0:M({status:d,errors:e,warnings:n}))===null||_===void 0?void 0:_[d]),N=d?oIe[d]:null;C=R!==!1&&N?S.createElement("span",{className:ke(`${c}-feedback-icon`,`${c}-feedback-icon-${d}`)},R||S.createElement(N,null)):null}const E={status:d||"",errors:e,warnings:n,hasFeedback:!!r,feedbackIcon:C,isFormItemInput:!0,name:l};return s&&(E.status=(d??h)||"",E.isFormItemInput=f,E.hasFeedback=!!(r??p),E.feedbackIcon=r!==void 0?E.feedbackIcon:x,E.name=l??b),E},[d,r,s,f,h]);return S.createElement(Ns.Provider,{value:y},t)}var aIe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function sIe(t){const{prefixCls:e,className:n,rootClassName:r,style:i,help:o,errors:a,warnings:s,validateStatus:l,meta:c,hasFeedback:u,hidden:d,children:f,fieldId:h,required:p,isRequired:x,onSubItemMetaChange:b,layout:y,name:_}=t,C=aIe(t,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout","name"]),E=`${e}-item`,{requiredMark:M,layout:R}=S.useContext(df),N=y||R,O=N==="vertical",I=S.useRef(null),L=VT(a),F=VT(s),$=o!=null,V=!!($||a.length||s.length),U=!!I.current&&T2(I.current),[k,z]=S.useState(null);wr(()=>{if(V&&I.current){const J=getComputedStyle(I.current);z(Number.parseInt(J.marginBottom,10))}},[V,U]);const H=J=>{J||z(null)},X=((J=!1)=>{const ee=J?L:c.errors,re=J?F:c.warnings;return Yne(ee,re,c,"",!!u,l)})(),Y=ke(E,n,r,{[`${E}-with-help`]:$||L.length||F.length,[`${E}-has-feedback`]:X&&u,[`${E}-has-success`]:X==="success",[`${E}-has-warning`]:X==="warning",[`${E}-has-error`]:X==="error",[`${E}-is-validating`]:X==="validating",[`${E}-hidden`]:d,[`${E}-${N}`]:N});return S.createElement("div",{className:Y,style:i,ref:I},S.createElement(_M,Object.assign({className:`${E}-row`},go(C,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),S.createElement(iIe,Object.assign({htmlFor:h},t,{requiredMark:M,required:p??x,prefixCls:e,vertical:O})),S.createElement(KNe,Object.assign({},t,c,{errors:L,warnings:F,prefixCls:e,status:X,help:o,marginBottom:k,onErrorVisibleChanged:H}),S.createElement($ee.Provider,{value:b},S.createElement(Mre,{prefixCls:e,meta:c,errors:c.errors,warnings:c.warnings,hasFeedback:u,validateStatus:X,name:_},f)))),!!k&&S.createElement("div",{className:`${E}-margin-offset`,style:{marginBottom:-k}}))}const lIe="__SPLIT__";function cIe(t,e){const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(i=>{const o=t[i],a=e[i];return o===a||typeof o=="function"||typeof a=="function"})}const uIe=S.memo(({children:t})=>t,(t,e)=>cIe(t.control,e.control)&&t.update===e.update&&t.childProps.length===e.childProps.length&&t.childProps.every((n,r)=>n===e.childProps[r]));function gG(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function dIe(t){const{name:e,noStyle:n,className:r,dependencies:i,prefixCls:o,shouldUpdate:a,rules:s,children:l,required:c,label:u,messageVariables:d,trigger:f="onChange",validateTrigger:h,hidden:p,help:x,layout:b}=t,{getPrefixCls:y}=S.useContext(Kn),{name:_}=S.useContext(df),C=VNe(l),E=typeof C=="function",M=S.useContext($ee),{validateTrigger:R}=S.useContext(Gm),N=h!==void 0?h:R,O=e!=null,I=y("form",o),L=bu(I),[F,$,V]=TB(I,L);ML();const U=S.useContext(gx),k=S.useRef(null),[z,H]=GNe({}),[j,X]=Vm(()=>gG()),Y=ce=>{const pe=U==null?void 0:U.getKey(ce.name);if(X(ce.destroy?gG():ce,!0),n&&x!==!1&&M){let ye=ce.name;if(ce.destroy)ye=k.current||ye;else if(pe!==void 0){const[xe,be]=pe;ye=[xe].concat(zt(be)),k.current=ye}M(ce,ye)}},J=(ce,pe)=>{H(ye=>{const xe=Object.assign({},ye),Ce=[].concat(zt(ce.name.slice(0,-1)),zt(pe)).join(lIe);return ce.destroy?delete xe[Ce]:xe[Ce]=ce,xe})},[ee,re]=S.useMemo(()=>{const ce=zt(j.errors),pe=zt(j.warnings);return Object.values(z).forEach(ye=>{ce.push.apply(ce,zt(ye.errors||[])),pe.push.apply(pe,zt(ye.warnings||[]))}),[ce,pe]},[z,j.errors,j.warnings]),ue=HNe();function fe(ce,pe,ye){return n&&!p?S.createElement(Mre,{prefixCls:I,hasFeedback:t.hasFeedback,validateStatus:t.validateStatus,meta:j,errors:ee,warnings:re,noStyle:!0,name:e},ce):S.createElement(sIe,Object.assign({key:"row"},t,{className:ke(r,V,L,$),prefixCls:I,fieldId:pe,isRequired:ye,errors:ee,warnings:re,meta:j,onSubItemMetaChange:J,layout:b,name:e}),ce)}if(!O&&!E&&!i)return F(fe(C));let oe={};return typeof u=="string"?oe.label=u:e&&(oe.label=String(e)),d&&(oe=Object.assign(Object.assign({},oe),d)),F(S.createElement(YL,Object.assign({},t,{messageVariables:oe,trigger:f,validateTrigger:N,onMetaChange:Y}),(ce,pe,ye)=>{const xe=vb(e).length&&pe?pe.name:[],be=Xne(xe,_),Ce=c!==void 0?c:!!(s!=null&&s.some(me=>{if(me&&typeof me=="object"&&me.required&&!me.warningOnly)return!0;if(typeof me=="function"){const de=me(ye);return(de==null?void 0:de.required)&&!(de!=null&&de.warningOnly)}return!1})),Ne=Object.assign({},ce);let Ae=null;if(Array.isArray(C)&&O)Ae=C;else if(!(E&&(!(a||i)||O))){if(!(i&&!E&&!O))if(S.isValidElement(C)){const me=Object.assign(Object.assign({},C.props),Ne);if(me.id||(me.id=be),x||ee.length>0||re.length>0||t.extra){const ne=[];(x||ee.length>0)&&ne.push(`${be}_help`),t.extra&&ne.push(`${be}_extra`),me["aria-describedby"]=ne.join(" ")}ee.length>0&&(me["aria-invalid"]="true"),Ce&&(me["aria-required"]="true"),cp(C)&&(me.ref=ue(xe,C)),new Set([].concat(zt(vb(f)),zt(vb(N)))).forEach(ne=>{me[ne]=(...Je)=>{var Ye,rt,qe,se,K;(qe=Ne[ne])===null||qe===void 0||(Ye=qe).call.apply(Ye,[Ne].concat(Je)),(K=(se=C.props)[ne])===null||K===void 0||(rt=K).call.apply(rt,[se].concat(Je))}});const Be=[me["aria-required"],me["aria-invalid"],me["aria-describedby"]];Ae=S.createElement(uIe,{control:Ne,update:C,childProps:Be},_c(C,me))}else E&&(a||i)&&!O?Ae=C(ye):Ae=C}return fe(Ae,be,Ce)}))}const Rre=dIe;Rre.useStatus=zNe;const fIe=Rre;var hIe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const pIe=t=>{var{prefixCls:e,children:n}=t,r=hIe(t,["prefixCls","children"]);const{getPrefixCls:i}=S.useContext(Kn),o=i("form",e),a=S.useMemo(()=>({prefixCls:o,status:"error"}),[o]);return S.createElement(Oee,Object.assign({},r),(s,l,c)=>S.createElement(QL.Provider,{value:a},n(s.map(u=>Object.assign(Object.assign({},u),{fieldKey:u.key})),l,{errors:c.errors,warnings:c.warnings})))},mIe=pIe;function gIe(){const{form:t}=S.useContext(df);return t}const Cf=kNe;Cf.Item=fIe;Cf.List=mIe;Cf.ErrorList=Tre;Cf.useForm=Kne;Cf.useFormInstance=gIe;Cf.useWatch=Fee;Cf.Provider=Uee;Cf.create=()=>{};const $s=Cf;var AIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const vIe=AIe;var yIe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:vIe}))},bIe=S.forwardRef(yIe);const xIe=bIe,SIe=t=>{const{getPrefixCls:e,direction:n}=S.useContext(Kn),{prefixCls:r,className:i}=t,o=e("input-group",r),a=e("input"),[s,l,c]=are(a),u=ke(o,c,{[`${o}-lg`]:t.size==="large",[`${o}-sm`]:t.size==="small",[`${o}-compact`]:t.compact,[`${o}-rtl`]:n==="rtl"},l,i),d=S.useContext(Ns),f=S.useMemo(()=>Object.assign(Object.assign({},d),{isFormItemInput:!1}),[d]);return s(S.createElement("span",{className:u,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},S.createElement(Ns.Provider,{value:f},t.children)))},_Ie=SIe,wIe=t=>{const{componentCls:e,paddingXS:n}=t;return{[e]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,[`${e}-input-wrapper`]:{position:"relative",[`${e}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${e}-mask-input`]:{color:"transparent",caretColor:t.colorText},[`${e}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${e}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:t.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:t.calc(t.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:t.paddingXS}}}},CIe=di(["Input","OTP"],t=>{const e=Fr(t,ry(t));return wIe(e)},iy);var TIe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const EIe=S.forwardRef((t,e)=>{const{className:n,value:r,onChange:i,onActiveChange:o,index:a,mask:s}=t,l=TIe(t,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:c}=S.useContext(Kn),u=c("otp"),d=typeof s=="string"?s:r,f=S.useRef(null);S.useImperativeHandle(e,()=>f.current);const h=b=>{i(a,b.target.value)},p=()=>{Rr(()=>{var b;const y=(b=f.current)===null||b===void 0?void 0:b.input;document.activeElement===y&&y&&y.select()})},x=b=>{const{key:y,ctrlKey:_,metaKey:C}=b;y==="ArrowLeft"?o(a-1):y==="ArrowRight"?o(a+1):y==="z"&&(_||C)?b.preventDefault():y==="Backspace"&&!r&&o(a-1),p()};return S.createElement("span",{className:`${u}-input-wrapper`,role:"presentation"},s&&r!==""&&r!==void 0&&S.createElement("span",{className:`${u}-mask-icon`,"aria-hidden":"true"},d),S.createElement(wM,Object.assign({"aria-label":`OTP Input ${a+1}`,type:s===!0?"password":"text"},l,{ref:f,value:r,onInput:h,onFocus:p,onKeyDown:x,onMouseDown:p,onMouseUp:p,className:ke(n,{[`${u}-mask-input`]:s})})))}),MIe=EIe;var RIe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function g_(t){return(t||"").split("")}const PIe=t=>{const{index:e,prefixCls:n,separator:r}=t,i=typeof r=="function"?r(e):r;return i?S.createElement("span",{className:`${n}-separator`},i):null},NIe=S.forwardRef((t,e)=>{const{prefixCls:n,length:r=6,size:i,defaultValue:o,value:a,onChange:s,formatter:l,separator:c,variant:u,disabled:d,status:f,autoFocus:h,mask:p,type:x,onInput:b,inputMode:y}=t,_=RIe(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:C,direction:E}=S.useContext(Kn),M=C("otp",n),R=Sc(_,{aria:!0,data:!0,attr:!0}),[N,O,I]=CIe(M),L=Os(ue=>i??ue),F=S.useContext(Ns),$=Zv(F.status,f),V=S.useMemo(()=>Object.assign(Object.assign({},F),{status:$,hasFeedback:!1,feedbackIcon:null}),[F,$]),U=S.useRef(null),k=S.useRef({});S.useImperativeHandle(e,()=>({focus:()=>{var ue;(ue=k.current[0])===null||ue===void 0||ue.focus()},blur:()=>{var ue;for(let fe=0;fe<r;fe+=1)(ue=k.current[fe])===null||ue===void 0||ue.blur()},nativeElement:U.current}));const z=ue=>l?l(ue):ue,[H,j]=S.useState(()=>g_(z(o||"")));S.useEffect(()=>{a!==void 0&&j(g_(a))},[a]);const X=Or(ue=>{j(ue),b&&b(ue),s&&ue.length===r&&ue.every(fe=>fe)&&ue.some((fe,oe)=>H[oe]!==fe)&&s(ue.join(""))}),Y=Or((ue,fe)=>{let oe=zt(H);for(let pe=0;pe<ue;pe+=1)oe[pe]||(oe[pe]="");fe.length<=1?oe[ue]=fe:oe=oe.slice(0,ue).concat(g_(fe)),oe=oe.slice(0,r);for(let pe=oe.length-1;pe>=0&&!oe[pe];pe-=1)oe.pop();const ce=z(oe.map(pe=>pe||" ").join(""));return oe=g_(ce).map((pe,ye)=>pe===" "&&!oe[ye]?oe[ye]:pe),oe}),J=(ue,fe)=>{var oe;const ce=Y(ue,fe),pe=Math.min(ue+fe.length,r-1);pe!==ue&&ce[ue]!==void 0&&((oe=k.current[pe])===null||oe===void 0||oe.focus()),X(ce)},ee=ue=>{var fe;(fe=k.current[ue])===null||fe===void 0||fe.focus()},re={variant:u,disabled:d,status:$,mask:p,type:x,inputMode:y};return N(S.createElement("div",Object.assign({},R,{ref:U,className:ke(M,{[`${M}-sm`]:L==="small",[`${M}-lg`]:L==="large",[`${M}-rtl`]:E==="rtl"},I,O),role:"group"}),S.createElement(Ns.Provider,{value:V},Array.from({length:r}).map((ue,fe)=>{const oe=`otp-${fe}`,ce=H[fe]||"";return S.createElement(S.Fragment,{key:oe},S.createElement(MIe,Object.assign({ref:pe=>{k.current[fe]=pe},index:fe,size:L,htmlSize:1,className:`${M}-input`,onChange:J,value:ce,onActiveChange:ee,autoFocus:fe===0&&h},re)),fe<r-1&&S.createElement(PIe,{separator:c,index:fe,prefixCls:M}))}))))}),IIe=NIe;var DIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const OIe=DIe;var LIe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:OIe}))},BIe=S.forwardRef(LIe);const FIe=BIe;var $Ie=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const UIe=t=>t?S.createElement(xIe,null):S.createElement(FIe,null),kIe={click:"onClick",hover:"onMouseOver"},VIe=S.forwardRef((t,e)=>{const{disabled:n,action:r="click",visibilityToggle:i=!0,iconRender:o=UIe,suffix:a}=t,s=S.useContext(wf),l=n??s,c=typeof i=="object"&&i.visible!==void 0,[u,d]=S.useState(()=>c?i.visible:!1),f=S.useRef(null);S.useEffect(()=>{c&&d(i.visible)},[c,i]);const h=yre(f),p=()=>{var F;if(l)return;u&&h();const $=!u;d($),typeof i=="object"&&((F=i.onVisibleChange)===null||F===void 0||F.call(i,$))},x=F=>{const $=kIe[r]||"",V=o(u),U={[$]:p,className:`${F}-icon`,key:"passwordIcon",onMouseDown:k=>{k.preventDefault()},onMouseUp:k=>{k.preventDefault()}};return S.cloneElement(S.isValidElement(V)?V:S.createElement("span",null,V),U)},{className:b,prefixCls:y,inputPrefixCls:_,size:C}=t,E=$Ie(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:M}=S.useContext(Kn),R=M("input",_),N=M("input-password",y),O=i&&x(N),I=ke(N,b,{[`${N}-${C}`]:!!C}),L=Object.assign(Object.assign({},go(E,["suffix","iconRender","visibilityToggle"])),{type:u?"text":"password",className:I,prefixCls:R,suffix:S.createElement(S.Fragment,null,O,a)});return C&&(L.size=C),S.createElement(wM,Object.assign({ref:ll(e,f)},L))}),zIe=VIe;var GIe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const HIe=S.forwardRef((t,e)=>{const{prefixCls:n,inputPrefixCls:r,className:i,size:o,suffix:a,enterButton:s=!1,addonAfter:l,loading:c,disabled:u,onSearch:d,onChange:f,onCompositionStart:h,onCompositionEnd:p,variant:x,onPressEnter:b}=t,y=GIe(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd","variant","onPressEnter"]),{getPrefixCls:_,direction:C}=S.useContext(Kn),E=S.useRef(!1),M=_("input-search",n),R=_("input",r),{compactSize:N}=p0(M,C),O=Os(re=>{var ue;return(ue=o??N)!==null&&ue!==void 0?ue:re}),I=S.useRef(null),L=re=>{re!=null&&re.target&&re.type==="click"&&d&&d(re.target.value,re,{source:"clear"}),f==null||f(re)},F=re=>{var ue;document.activeElement===((ue=I.current)===null||ue===void 0?void 0:ue.input)&&re.preventDefault()},$=re=>{var ue,fe;d&&d((fe=(ue=I.current)===null||ue===void 0?void 0:ue.input)===null||fe===void 0?void 0:fe.value,re,{source:"input"})},V=re=>{E.current||c||(b==null||b(re),$(re))},U=typeof s=="boolean"?S.createElement(Mte,null):null,k=`${M}-button`;let z;const H=s||{},j=H.type&&H.type.__ANT_BUTTON===!0;j||H.type==="button"?z=_c(H,Object.assign({onMouseDown:F,onClick:re=>{var ue,fe;(fe=(ue=H==null?void 0:H.props)===null||ue===void 0?void 0:ue.onClick)===null||fe===void 0||fe.call(ue,re),$(re)},key:"enterButton"},j?{className:k,size:O}:{})):z=S.createElement(bo,{className:k,color:s?"primary":"default",size:O,disabled:u,key:"enterButton",onMouseDown:F,onClick:$,loading:c,icon:U,variant:x==="borderless"||x==="filled"||x==="underlined"?"text":s?"solid":void 0},s),l&&(z=[z,_c(l,{key:"addonAfter"})]);const X=ke(M,{[`${M}-rtl`]:C==="rtl",[`${M}-${O}`]:!!O,[`${M}-with-button`]:!!s},i),Y=re=>{E.current=!0,h==null||h(re)},J=re=>{E.current=!1,p==null||p(re)},ee=Object.assign(Object.assign({},y),{className:X,prefixCls:R,type:"search",size:O,variant:x,onPressEnter:V,onCompositionStart:Y,onCompositionEnd:J,addonAfter:z,suffix:a,onChange:L,disabled:u,_skipAddonWarning:!0});return S.createElement(wM,Object.assign({ref:ll(I,e)},ee))}),jIe=HIe;var qIe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,WIe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],N4={},pl;function XIe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&N4[n])return N4[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=WIe.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),l={sizingStyle:s,paddingSize:o,borderSize:a,boxSizing:i};return e&&n&&(N4[n]=l),l}function YIe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;pl||(pl=document.createElement("textarea"),pl.setAttribute("tab-index","-1"),pl.setAttribute("aria-hidden","true"),pl.setAttribute("name","hiddenTextarea"),document.body.appendChild(pl)),t.getAttribute("wrap")?pl.setAttribute("wrap",t.getAttribute("wrap")):pl.removeAttribute("wrap");var i=XIe(t,e),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,l=i.sizingStyle;pl.setAttribute("style","".concat(l,";").concat(qIe)),pl.value=t.value||t.placeholder||"";var c=void 0,u=void 0,d,f=pl.scrollHeight;if(s==="border-box"?f+=a:s==="content-box"&&(f-=o),n!==null||r!==null){pl.value=" ";var h=pl.scrollHeight-o;n!==null&&(c=h*n,s==="border-box"&&(c=c+o+a),f=Math.max(c,f)),r!==null&&(u=h*r,s==="border-box"&&(u=u+o+a),d=f>u?"":"hidden",f=Math.min(u,f))}var p={height:f,overflowY:d,resize:"none"};return c&&(p.minHeight=c),u&&(p.maxHeight=u),p}var KIe=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],I4=0,D4=1,O4=2,QIe=S.forwardRef(function(t,e){var n=t,r=n.prefixCls,i=n.defaultValue,o=n.value,a=n.autoSize,s=n.onResize,l=n.className,c=n.style,u=n.disabled,d=n.onChange;n.onInternalAutoSize;var f=Qn(n,KIe),h=yi(i,{value:o,postState:function(re){return re??""}}),p=Oe(h,2),x=p[0],b=p[1],y=function(re){b(re.target.value),d==null||d(re)},_=S.useRef();S.useImperativeHandle(e,function(){return{textArea:_.current}});var C=S.useMemo(function(){return a&&yn(a)==="object"?[a.minRows,a.maxRows]:[]},[a]),E=Oe(C,2),M=E[0],R=E[1],N=!!a,O=S.useState(O4),I=Oe(O,2),L=I[0],F=I[1],$=S.useState(),V=Oe($,2),U=V[0],k=V[1],z=function(){F(I4)};wr(function(){N&&z()},[o,M,R,N]),wr(function(){if(L===I4)F(D4);else if(L===D4){var ee=YIe(_.current,!1,M,R);F(O4),k(ee)}},[L]);var H=S.useRef(),j=function(){Rr.cancel(H.current)},X=function(re){L===O4&&(s==null||s(re),a&&(j(),H.current=Rr(function(){z()})))};S.useEffect(function(){return j},[]);var Y=N?U:null,J=we(we({},c),Y);return(L===I4||L===D4)&&(J.overflowY="hidden",J.overflowX="hidden"),S.createElement(rl,{onResize:X,disabled:!(a||s)},S.createElement("textarea",it({},f,{ref:_,style:J,className:ke(r,l,Se({},"".concat(r,"-disabled"),u)),disabled:u,value:x,onChange:y})))}),ZIe=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],JIe=je.forwardRef(function(t,e){var n,r=t.defaultValue,i=t.value,o=t.onFocus,a=t.onBlur,s=t.onChange,l=t.allowClear,c=t.maxLength,u=t.onCompositionStart,d=t.onCompositionEnd,f=t.suffix,h=t.prefixCls,p=h===void 0?"rc-textarea":h,x=t.showCount,b=t.count,y=t.className,_=t.style,C=t.disabled,E=t.hidden,M=t.classNames,R=t.styles,N=t.onResize,O=t.onClear,I=t.onPressEnter,L=t.readOnly,F=t.autoSize,$=t.onKeyDown,V=Qn(t,ZIe),U=yi(r,{value:i,defaultValue:r}),k=Oe(U,2),z=k[0],H=k[1],j=z==null?"":String(z),X=je.useState(!1),Y=Oe(X,2),J=Y[0],ee=Y[1],re=je.useRef(!1),ue=je.useState(null),fe=Oe(ue,2),oe=fe[0],ce=fe[1],pe=S.useRef(null),ye=S.useRef(null),xe=function(){var Ve;return(Ve=ye.current)===null||Ve===void 0?void 0:Ve.textArea},be=function(){xe().focus()};S.useImperativeHandle(e,function(){var ot;return{resizableTextArea:ye.current,focus:be,blur:function(){xe().blur()},nativeElement:((ot=pe.current)===null||ot===void 0?void 0:ot.nativeElement)||xe()}}),S.useEffect(function(){ee(function(ot){return!C&&ot})},[C]);var Ce=je.useState(null),Ne=Oe(Ce,2),Ae=Ne[0],me=Ne[1];je.useEffect(function(){if(Ae){var ot;(ot=xe()).setSelectionRange.apply(ot,zt(Ae))}},[Ae]);var de=Are(b,x),Be=(n=de.max)!==null&&n!==void 0?n:c,ne=Number(Be)>0,Je=de.strategy(j),Ye=!!Be&&Je>Be,rt=function(Ve,at){var tt=at;!re.current&&de.exceedFormatter&&de.max&&de.strategy(at)>de.max&&(tt=de.exceedFormatter(at,{max:de.max}),at!==tt&&me([xe().selectionStart||0,xe().selectionEnd||0])),H(tt),kT(Ve.currentTarget,Ve,s,tt)},qe=function(Ve){re.current=!0,u==null||u(Ve)},se=function(Ve){re.current=!1,rt(Ve,Ve.currentTarget.value),d==null||d(Ve)},K=function(Ve){rt(Ve,Ve.target.value)},_e=function(Ve){Ve.key==="Enter"&&I&&I(Ve),$==null||$(Ve)},Ue=function(Ve){ee(!0),o==null||o(Ve)},lt=function(Ve){ee(!1),a==null||a(Ve)},We=function(Ve){H(""),be(),kT(xe(),Ve,s)},pt=f,mt;de.show&&(de.showFormatter?mt=de.showFormatter({value:j,count:Je,maxLength:Be}):mt="".concat(Je).concat(ne?" / ".concat(Be):""),pt=je.createElement(je.Fragment,null,pt,je.createElement("span",{className:ke("".concat(p,"-data-count"),M==null?void 0:M.count),style:R==null?void 0:R.count},mt)));var vt=function(Ve){var at;N==null||N(Ve),(at=xe())!==null&&at!==void 0&&at.style.height&&ce(!0)},At=!F&&!x&&!l;return je.createElement(gre,{ref:pe,value:j,allowClear:l,handleReset:We,suffix:pt,prefixCls:p,classNames:we(we({},M),{},{affixWrapper:ke(M==null?void 0:M.affixWrapper,Se(Se({},"".concat(p,"-show-count"),x),"".concat(p,"-textarea-allow-clear"),l))}),disabled:C,focused:J,className:ke(y,Ye&&"".concat(p,"-out-of-range")),style:we(we({},_),oe&&!At?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof mt=="string"?mt:void 0}},hidden:E,readOnly:L,onClear:O},je.createElement(QIe,it({},V,{autoSize:F,maxLength:c,onKeyDown:_e,onChange:K,onFocus:Ue,onBlur:lt,onCompositionStart:qe,onCompositionEnd:se,className:ke(M==null?void 0:M.textarea),style:we(we({},R==null?void 0:R.textarea),{},{resize:_==null?void 0:_.resize}),disabled:C,prefixCls:p,onResize:vt,ref:ye,readOnly:L})))});const eDe=t=>{const{componentCls:e,paddingLG:n}=t,r=`${e}-textarea`;return{[`textarea${e}`]:{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}`,resize:"vertical",[`&${e}-mouse-active`]:{transition:`all ${t.motionDurationSlow}, height 0s, width 0s`}},[`${e}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[r]:{position:"relative","&-show-count":{[`${e}-data-count`]:{position:"absolute",bottom:t.calc(t.fontSize).mul(t.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:n},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:t.paddingInline,insetBlockStart:t.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-rtl`]:{[`${e}-suffix`]:{[`${e}-data-count`]:{direction:"ltr",insetInlineStart:0}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:t.paddingInlineSM}}}}}},tDe=di(["Input","TextArea"],t=>{const e=Fr(t,ry(t));return eDe(e)},iy,{resetFont:!1});var nDe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const rDe=S.forwardRef((t,e)=>{var n;const{prefixCls:r,bordered:i=!0,size:o,disabled:a,status:s,allowClear:l,classNames:c,rootClassName:u,className:d,style:f,styles:h,variant:p,showCount:x,onMouseDown:b,onResize:y}=t,_=nDe(t,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:C,direction:E,allowClear:M,autoComplete:R,className:N,style:O,classNames:I,styles:L}=fa("textArea"),F=S.useContext(wf),$=a??F,{status:V,hasFeedback:U,feedbackIcon:k}=S.useContext(Ns),z=Zv(V,s),H=S.useRef(null);S.useImperativeHandle(e,()=>{var de;return{resizableTextArea:(de=H.current)===null||de===void 0?void 0:de.resizableTextArea,focus:Be=>{var ne,Je;mre((Je=(ne=H.current)===null||ne===void 0?void 0:ne.resizableTextArea)===null||Je===void 0?void 0:Je.textArea,Be)},blur:()=>{var Be;return(Be=H.current)===null||Be===void 0?void 0:Be.blur()}}});const j=C("input",r),X=bu(j),[Y,J,ee]=ore(j,u),[re]=tDe(j,X),{compactSize:ue,compactItemClassnames:fe}=p0(j,E),oe=Os(de=>{var Be;return(Be=o??ue)!==null&&Be!==void 0?Be:de}),[ce,pe]=Jv("textArea",p,i),ye=vre(l??M),[xe,be]=S.useState(!1),[Ce,Ne]=S.useState(!1),Ae=de=>{be(!0),b==null||b(de);const Be=()=>{be(!1),document.removeEventListener("mouseup",Be)};document.addEventListener("mouseup",Be)},me=de=>{var Be,ne;if(y==null||y(de),xe&&typeof getComputedStyle=="function"){const Je=(ne=(Be=H.current)===null||Be===void 0?void 0:Be.nativeElement)===null||ne===void 0?void 0:ne.querySelector("textarea");Je&&getComputedStyle(Je).resize==="both"&&Ne(!0)}};return Y(re(S.createElement(JIe,Object.assign({autoComplete:R},_,{style:Object.assign(Object.assign({},O),f),styles:Object.assign(Object.assign({},L),h),disabled:$,allowClear:ye,className:ke(ee,X,d,u,fe,N,Ce&&`${j}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},c),I),{textarea:ke({[`${j}-sm`]:oe==="small",[`${j}-lg`]:oe==="large"},J,c==null?void 0:c.textarea,I.textarea,xe&&`${j}-mouse-active`),variant:ke({[`${j}-${ce}`]:pe},HA(j,z)),affixWrapper:ke(`${j}-textarea-affix-wrapper`,{[`${j}-affix-wrapper-rtl`]:E==="rtl",[`${j}-affix-wrapper-sm`]:oe==="small",[`${j}-affix-wrapper-lg`]:oe==="large",[`${j}-textarea-show-count`]:x||((n=t.count)===null||n===void 0?void 0:n.show)},J)}),prefixCls:j,suffix:U&&S.createElement("span",{className:`${j}-textarea-suffix`},k),showCount:x,ref:H,onResize:me,onMouseDown:Ae}))))}),Pre=rDe,ay=wM;ay.Group=_Ie;ay.Search=jIe;ay.TextArea=Pre;ay.Password=zIe;ay.OTP=IIe;const Mu=ay;function iDe(t,e,n){return typeof n=="boolean"?n:t.length?!0:bc(e).some(i=>i.type===une)}var Nre=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function CM({suffixCls:t,tagName:e,displayName:n}){return r=>S.forwardRef((o,a)=>S.createElement(r,Object.assign({ref:a,suffixCls:t,tagName:e},o)))}const EB=S.forwardRef((t,e)=>{const{prefixCls:n,suffixCls:r,className:i,tagName:o}=t,a=Nre(t,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:s}=S.useContext(Kn),l=s("layout",n),[c,u,d]=lne(l),f=r?`${l}-${r}`:l;return c(S.createElement(o,Object.assign({className:ke(n||f,i,u,d),ref:e},a)))}),oDe=S.forwardRef((t,e)=>{const{direction:n}=S.useContext(Kn),[r,i]=S.useState([]),{prefixCls:o,className:a,rootClassName:s,children:l,hasSider:c,tagName:u,style:d}=t,f=Nre(t,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),h=go(f,["suffixCls"]),{getPrefixCls:p,className:x,style:b}=fa("layout"),y=p("layout",o),_=iDe(r,l,c),[C,E,M]=lne(y),R=ke(y,{[`${y}-has-sider`]:_,[`${y}-rtl`]:n==="rtl"},x,a,s,E,M),N=S.useMemo(()=>({siderHook:{addSider:O=>{i(I=>[].concat(zt(I),[O]))},removeSider:O=>{i(I=>I.filter(L=>L!==O))}}}),[]);return C(S.createElement(one.Provider,{value:N},S.createElement(u,Object.assign({ref:e,className:R,style:Object.assign(Object.assign({},b),d)},h),l)))}),aDe=CM({tagName:"div",displayName:"Layout"})(oDe),sDe=CM({suffixCls:"header",tagName:"header",displayName:"Header"})(EB),lDe=CM({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(EB),cDe=CM({suffixCls:"content",tagName:"main",displayName:"Content"})(EB),uDe=aDe,sy=uDe;sy.Header=sDe;sy.Footer=lDe;sy.Content=cDe;sy.Sider=une;sy._InternalSiderContext=cne;const TM=sy;var dDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};const fDe=dDe;var hDe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:fDe}))},pDe=S.forwardRef(hDe);const AG=pDe;var mDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};const gDe=mDe;var ADe=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:gDe}))},vDe=S.forwardRef(ADe);const vG=vDe;var yDe={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""},bDe=[10,20,50,100],xDe=function(e){var n=e.pageSizeOptions,r=n===void 0?bDe:n,i=e.locale,o=e.changeSize,a=e.pageSize,s=e.goButton,l=e.quickGo,c=e.rootPrefixCls,u=e.disabled,d=e.buildOptionText,f=e.showSizeChanger,h=e.sizeChangerRender,p=je.useState(""),x=Oe(p,2),b=x[0],y=x[1],_=function(){return!b||Number.isNaN(b)?void 0:Number(b)},C=typeof d=="function"?d:function($){return"".concat($," ").concat(i.items_per_page)},E=function(V){y(V.target.value)},M=function(V){s||b===""||(y(""),!(V.relatedTarget&&(V.relatedTarget.className.indexOf("".concat(c,"-item-link"))>=0||V.relatedTarget.className.indexOf("".concat(c,"-item"))>=0))&&(l==null||l(_())))},R=function(V){b!==""&&(V.keyCode===Bt.ENTER||V.type==="click")&&(y(""),l==null||l(_()))},N=function(){return r.some(function(V){return V.toString()===a.toString()})?r:r.concat([a]).sort(function(V,U){var k=Number.isNaN(Number(V))?0:Number(V),z=Number.isNaN(Number(U))?0:Number(U);return k-z})},O="".concat(c,"-options");if(!f&&!l)return null;var I=null,L=null,F=null;return f&&h&&(I=h({disabled:u,size:a,onSizeChange:function(V){o==null||o(Number(V))},"aria-label":i.page_size,className:"".concat(O,"-size-changer"),options:N().map(function($){return{label:C($),value:$}})})),l&&(s&&(F=typeof s=="boolean"?je.createElement("button",{type:"button",onClick:R,onKeyUp:R,disabled:u,className:"".concat(O,"-quick-jumper-button")},i.jump_to_confirm):je.createElement("span",{onClick:R,onKeyUp:R},s)),L=je.createElement("div",{className:"".concat(O,"-quick-jumper")},i.jump_to,je.createElement("input",{disabled:u,type:"text",value:b,onChange:E,onKeyUp:R,onBlur:M,"aria-label":i.page}),i.page,F)),je.createElement("li",{className:O},I,L)},Jy=function(e){var n=e.rootPrefixCls,r=e.page,i=e.active,o=e.className,a=e.showTitle,s=e.onClick,l=e.onKeyPress,c=e.itemRender,u="".concat(n,"-item"),d=ke(u,"".concat(u,"-").concat(r),Se(Se({},"".concat(u,"-active"),i),"".concat(u,"-disabled"),!r),o),f=function(){s(r)},h=function(b){l(b,s,r)},p=c(r,"page",je.createElement("a",{rel:"nofollow"},r));return p?je.createElement("li",{title:a?String(r):null,className:d,onClick:f,onKeyDown:h,tabIndex:0},p):null},SDe=function(e,n,r){return r};function yG(){}function bG(t){var e=Number(t);return typeof e=="number"&&!Number.isNaN(e)&&isFinite(e)&&Math.floor(e)===e}function Rp(t,e,n){var r=typeof t>"u"?e:t;return Math.floor((n-1)/r)+1}var _De=function(e){var n=e.prefixCls,r=n===void 0?"rc-pagination":n,i=e.selectPrefixCls,o=i===void 0?"rc-select":i,a=e.className,s=e.current,l=e.defaultCurrent,c=l===void 0?1:l,u=e.total,d=u===void 0?0:u,f=e.pageSize,h=e.defaultPageSize,p=h===void 0?10:h,x=e.onChange,b=x===void 0?yG:x,y=e.hideOnSinglePage,_=e.align,C=e.showPrevNextJumpers,E=C===void 0?!0:C,M=e.showQuickJumper,R=e.showLessItems,N=e.showTitle,O=N===void 0?!0:N,I=e.onShowSizeChange,L=I===void 0?yG:I,F=e.locale,$=F===void 0?yDe:F,V=e.style,U=e.totalBoundaryShowSizeChanger,k=U===void 0?50:U,z=e.disabled,H=e.simple,j=e.showTotal,X=e.showSizeChanger,Y=X===void 0?d>k:X,J=e.sizeChangerRender,ee=e.pageSizeOptions,re=e.itemRender,ue=re===void 0?SDe:re,fe=e.jumpPrevIcon,oe=e.jumpNextIcon,ce=e.prevIcon,pe=e.nextIcon,ye=je.useRef(null),xe=yi(10,{value:f,defaultValue:p}),be=Oe(xe,2),Ce=be[0],Ne=be[1],Ae=yi(1,{value:s,defaultValue:c,postState:function(St){return Math.max(1,Math.min(St,Rp(void 0,Ce,d)))}}),me=Oe(Ae,2),de=me[0],Be=me[1],ne=je.useState(de),Je=Oe(ne,2),Ye=Je[0],rt=Je[1];S.useEffect(function(){rt(de)},[de]);var qe=Math.max(1,de-(R?3:5)),se=Math.min(Rp(void 0,Ce,d),de+(R?3:5));function K(Fe,St){var Dt=Fe||je.createElement("button",{type:"button","aria-label":St,className:"".concat(r,"-item-link")});return typeof Fe=="function"&&(Dt=je.createElement(Fe,we({},e))),Dt}function _e(Fe){var St=Fe.target.value,Dt=Rp(void 0,Ce,d),_t;return St===""?_t=St:Number.isNaN(Number(St))?_t=Ye:St>=Dt?_t=Dt:_t=Number(St),_t}function Ue(Fe){return bG(Fe)&&Fe!==de&&bG(d)&&d>0}var lt=d>Ce?M:!1;function We(Fe){(Fe.keyCode===Bt.UP||Fe.keyCode===Bt.DOWN)&&Fe.preventDefault()}function pt(Fe){var St=_e(Fe);switch(St!==Ye&&rt(St),Fe.keyCode){case Bt.ENTER:At(St);break;case Bt.UP:At(St-1);break;case Bt.DOWN:At(St+1);break}}function mt(Fe){At(_e(Fe))}function vt(Fe){var St=Rp(Fe,Ce,d),Dt=de>St&&St!==0?St:de;Ne(Fe),rt(Dt),L==null||L(de,Fe),Be(Dt),b==null||b(Dt,Fe)}function At(Fe){if(Ue(Fe)&&!z){var St=Rp(void 0,Ce,d),Dt=Fe;return Fe>St?Dt=St:Fe<1&&(Dt=1),Dt!==Ye&&rt(Dt),Be(Dt),b==null||b(Dt,Ce),Dt}return de}var ot=de>1,Ve=de<Rp(void 0,Ce,d);function at(){ot&&At(de-1)}function tt(){Ve&&At(de+1)}function ze(){At(qe)}function bt(){At(se)}function Pe(Fe,St){if(Fe.key==="Enter"||Fe.charCode===Bt.ENTER||Fe.keyCode===Bt.ENTER){for(var Dt=arguments.length,_t=new Array(Dt>2?Dt-2:0),ie=2;ie<Dt;ie++)_t[ie-2]=arguments[ie];St.apply(void 0,_t)}}function Mt(Fe){Pe(Fe,at)}function Ct(Fe){Pe(Fe,tt)}function qt(Fe){Pe(Fe,ze)}function Ge(Fe){Pe(Fe,bt)}function yt(Fe){var St=ue(Fe,"prev",K(ce,"prev page"));return je.isValidElement(St)?je.cloneElement(St,{disabled:!ot}):St}function Tt(Fe){var St=ue(Fe,"next",K(pe,"next page"));return je.isValidElement(St)?je.cloneElement(St,{disabled:!Ve}):St}function Ut(Fe){(Fe.type==="click"||Fe.keyCode===Bt.ENTER)&&At(Ye)}var mn=null,dn=Sc(e,{aria:!0,data:!0}),tn=j&&je.createElement("li",{className:"".concat(r,"-total-text")},j(d,[d===0?0:(de-1)*Ce+1,de*Ce>d?d:de*Ce])),pn=null,fn=Rp(void 0,Ce,d);if(y&&d<=Ce)return null;var kt=[],Nt={rootPrefixCls:r,onClick:At,onKeyPress:Pe,showTitle:O,itemRender:ue,page:-1},It=de-1>0?de-1:0,Le=de+1<fn?de+1:fn,st=M&&M.goButton,gt=yn(H)==="object"?H.readOnly:!H,ht=st,m=null;H&&(st&&(typeof st=="boolean"?ht=je.createElement("button",{type:"button",onClick:Ut,onKeyUp:Ut},$.jump_to_confirm):ht=je.createElement("span",{onClick:Ut,onKeyUp:Ut},st),ht=je.createElement("li",{title:O?"".concat($.jump_to).concat(de,"/").concat(fn):null,className:"".concat(r,"-simple-pager")},ht)),m=je.createElement("li",{title:O?"".concat(de,"/").concat(fn):null,className:"".concat(r,"-simple-pager")},gt?Ye:je.createElement("input",{type:"text","aria-label":$.jump_to,value:Ye,disabled:z,onKeyDown:We,onKeyUp:pt,onChange:pt,onBlur:mt,size:3}),je.createElement("span",{className:"".concat(r,"-slash")},"/"),fn));var te=R?1:2;if(fn<=3+te*2){fn||kt.push(je.createElement(Jy,it({},Nt,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var on=1;on<=fn;on+=1)kt.push(je.createElement(Jy,it({},Nt,{key:on,page:on,active:de===on})))}else{var xn=R?$.prev_3:$.prev_5,Gn=R?$.next_3:$.next_5,cn=ue(qe,"jump-prev",K(fe,"prev page")),In=ue(se,"jump-next",K(oe,"next page"));E&&(mn=cn?je.createElement("li",{title:O?xn:null,key:"prev",onClick:ze,tabIndex:0,onKeyDown:qt,className:ke("".concat(r,"-jump-prev"),Se({},"".concat(r,"-jump-prev-custom-icon"),!!fe))},cn):null,pn=In?je.createElement("li",{title:O?Gn:null,key:"next",onClick:bt,tabIndex:0,onKeyDown:Ge,className:ke("".concat(r,"-jump-next"),Se({},"".concat(r,"-jump-next-custom-icon"),!!oe))},In):null);var dr=Math.max(1,de-te),Sn=Math.min(de+te,fn);de-1<=te&&(Sn=1+te*2),fn-de<=te&&(dr=fn-te*2);for(var wt=dr;wt<=Sn;wt+=1)kt.push(je.createElement(Jy,it({},Nt,{key:wt,page:wt,active:de===wt})));if(de-1>=te*2&&de!==1+2&&(kt[0]=je.cloneElement(kt[0],{className:ke("".concat(r,"-item-after-jump-prev"),kt[0].props.className)}),kt.unshift(mn)),fn-de>=te*2&&de!==fn-2){var Zt=kt[kt.length-1];kt[kt.length-1]=je.cloneElement(Zt,{className:ke("".concat(r,"-item-before-jump-next"),Zt.props.className)}),kt.push(pn)}dr!==1&&kt.unshift(je.createElement(Jy,it({},Nt,{key:1,page:1}))),Sn!==fn&&kt.push(je.createElement(Jy,it({},Nt,{key:fn,page:fn})))}var Mn=yt(It);if(Mn){var kn=!ot||!fn;Mn=je.createElement("li",{title:O?$.prev_page:null,onClick:at,tabIndex:kn?null:0,onKeyDown:Mt,className:ke("".concat(r,"-prev"),Se({},"".concat(r,"-disabled"),kn)),"aria-disabled":kn},Mn)}var le=Tt(Le);if(le){var Ie,et;H?(Ie=!Ve,et=ot?0:null):(Ie=!Ve||!fn,et=Ie?null:0),le=je.createElement("li",{title:O?$.next_page:null,onClick:tt,tabIndex:et,onKeyDown:Ct,className:ke("".concat(r,"-next"),Se({},"".concat(r,"-disabled"),Ie)),"aria-disabled":Ie},le)}var nt=ke(r,a,Se(Se(Se(Se(Se({},"".concat(r,"-start"),_==="start"),"".concat(r,"-center"),_==="center"),"".concat(r,"-end"),_==="end"),"".concat(r,"-simple"),H),"".concat(r,"-disabled"),z));return je.createElement("ul",it({className:nt,style:V,ref:ye},dn),tn,Mn,H?m:kt,le,je.createElement(xDe,{locale:$,rootPrefixCls:r,disabled:z,selectPrefixCls:o,changeSize:vt,pageSize:Ce,pageSizeOptions:ee,quickGo:lt?At:null,goButton:ht,showSizeChanger:Y,sizeChangerRender:J}))};const wDe=t=>{const{componentCls:e}=t;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-item`]:{cursor:"not-allowed",backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"},a:{color:t.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:t.colorBorder,backgroundColor:t.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:t.itemActiveBgDisabled},a:{color:t.itemActiveColorDisabled}}},[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:t.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}}}},CDe=t=>{const{componentCls:e}=t;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:t.itemSizeSM,lineHeight:Re(t.itemSizeSM)},[`&${e}-mini ${e}-item`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:Re(t.calc(t.itemSizeSM).sub(2).equal())},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:Re(t.itemSizeSM)},[`&${e}-mini:not(${e}-disabled)`]:{[`${e}-prev, ${e}-next`]:{[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:t.itemSizeSM,lineHeight:Re(t.itemSizeSM)}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:t.itemSizeSM,marginInlineEnd:0,lineHeight:Re(t.itemSizeSM)},[`&${e}-mini ${e}-options`]:{marginInlineStart:t.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:t.miniOptionsSizeChangerTop},"&-quick-jumper":{height:t.itemSizeSM,lineHeight:Re(t.itemSizeSM),input:Object.assign(Object.assign({},xB(t)),{width:t.paginationMiniQuickJumperInputWidth,height:t.controlHeightSM})}}}},TDe=t=>{const{componentCls:e}=t;return{[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{height:t.itemSize,lineHeight:Re(t.itemSize),verticalAlign:"top",[`${e}-item-link`]:{height:t.itemSize,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive},"&::after":{height:t.itemSize,lineHeight:Re(t.itemSize)}}},[`${e}-simple-pager`]:{display:"inline-flex",alignItems:"center",height:t.itemSize,marginInlineEnd:t.marginXS,input:{boxSizing:"border-box",height:"100%",width:t.quickJumperInputWidth,padding:`0 ${Re(t.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:t.itemInputBg,border:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadius,outline:"none",transition:`border-color ${t.motionDurationMid}`,color:"inherit","&:hover":{borderColor:t.colorPrimary},"&:focus":{borderColor:t.colorPrimaryHover,boxShadow:`${Re(t.inputOutlineOffset)} 0 ${Re(t.controlOutlineWidth)} ${t.controlOutline}`},"&[disabled]":{color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,cursor:"not-allowed"}}},[`&${e}-disabled`]:{[`${e}-prev, ${e}-next`]:{[`${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}},[`&${e}-mini`]:{[`${e}-prev, ${e}-next`]:{height:t.itemSizeSM,lineHeight:Re(t.itemSizeSM),[`${e}-item-link`]:{height:t.itemSizeSM,"&::after":{height:t.itemSizeSM,lineHeight:Re(t.itemSizeSM)}}},[`${e}-simple-pager`]:{height:t.itemSizeSM,input:{width:t.paginationMiniQuickJumperInputWidth}}}}}},EDe=t=>{const{componentCls:e}=t;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:t.colorPrimary,fontSize:t.fontSizeSM,opacity:0,transition:`all ${t.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:t.colorTextDisabled,letterSpacing:t.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:t.paginationEllipsisTextIndent,opacity:1,transition:`all ${t.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}}},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:t.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,color:t.colorText,fontFamily:t.fontFamily,lineHeight:Re(t.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{outline:0,button:{color:t.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:t.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${Re(t.lineWidth)} ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:"none",transition:`all ${t.motionDurationMid}`},[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:t.paginationSlashMarginInlineEnd,marginInlineStart:t.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:t.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:t.controlHeight,marginInlineStart:t.marginXS,lineHeight:Re(t.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},SB(t)),bB(t,{borderColor:t.colorBorder,hoverBorderColor:t.colorPrimaryHover,activeBorderColor:t.colorPrimary,activeShadow:t.activeShadow})),{"&[disabled]":Object.assign({},bM(t)),width:t.quickJumperInputWidth,height:t.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:t.marginXS,marginInlineEnd:t.marginXS})}}}},MDe=t=>{const{componentCls:e}=t;return{[`${e}-item`]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,marginInlineEnd:t.marginXS,fontFamily:t.fontFamily,lineHeight:Re(t.calc(t.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:t.itemBg,border:`${Re(t.lineWidth)} ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${Re(t.paginationItemPaddingInline)}`,color:t.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${t.motionDurationMid}`,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},"&-active":{fontWeight:t.fontWeightStrong,backgroundColor:t.itemActiveBg,borderColor:t.colorPrimary,a:{color:t.itemActiveColor},"&:hover":{borderColor:t.colorPrimaryHover},"&:hover a":{color:t.itemActiveColorHover}}}}},RDe=t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ji(t)),{display:"flex",flexWrap:"wrap",rowGap:t.paddingXS,"&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:t.itemSize,marginInlineEnd:t.marginXS,lineHeight:Re(t.calc(t.itemSize).sub(2).equal()),verticalAlign:"middle"}}),MDe(t)),EDe(t)),TDe(t)),CDe(t)),wDe(t)),{[`@media only screen and (max-width: ${t.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${t.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${t.componentCls}-rtl`]:{direction:"rtl"}}},PDe=t=>{const{componentCls:e}=t;return{[`${e}:not(${e}-disabled)`]:{[`${e}-item`]:Object.assign({},zm(t)),[`${e}-jump-prev, ${e}-jump-next`]:{"&:focus-visible":Object.assign({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},zA(t))},[`${e}-prev, ${e}-next`]:{[`&:focus-visible ${e}-item-link`]:zA(t)}}}},Ire=t=>Object.assign({itemBg:t.colorBgContainer,itemSize:t.controlHeight,itemSizeSM:t.controlHeightSM,itemActiveBg:t.colorBgContainer,itemActiveColor:t.colorPrimary,itemActiveColorHover:t.colorPrimaryHover,itemLinkBg:t.colorBgContainer,itemActiveColorDisabled:t.colorTextDisabled,itemActiveBgDisabled:t.controlItemBgActiveDisabled,itemInputBg:t.colorBgContainer,miniOptionsSizeChangerTop:0},iy(t)),Dre=t=>Fr(t,{inputOutlineOffset:0,quickJumperInputWidth:t.calc(t.controlHeightLG).mul(1.25).equal(),paginationMiniOptionsMarginInlineStart:t.calc(t.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:t.calc(t.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:t.calc(t.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:t.calc(t.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:t.marginSM,paginationSlashMarginInlineEnd:t.marginSM,paginationEllipsisTextIndent:"0.13em"},ry(t)),NDe=di("Pagination",t=>{const e=Dre(t);return[RDe(e),PDe(e)]},Ire),IDe=t=>{const{componentCls:e}=t;return{[`${e}${e}-bordered${e}-disabled:not(${e}-mini)`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:t.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:t.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,a:{color:t.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:t.itemActiveBgDisabled}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,color:t.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder}}},[`${e}${e}-bordered:not(${e}-mini)`]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:t.colorPrimaryHover,backgroundColor:t.itemBg},[`${e}-item-link`]:{backgroundColor:t.itemLinkBg,borderColor:t.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,color:t.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:t.colorBorder,color:t.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:t.itemBg,border:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,a:{color:t.colorPrimary}},"&-active":{borderColor:t.colorPrimary}}}}},DDe=Wv(["Pagination","bordered"],t=>{const e=Dre(t);return IDe(e)},Ire);function xG(t){return S.useMemo(()=>typeof t=="boolean"?[t,{}]:t&&typeof t=="object"?[!0,t]:[void 0,void 0],[t])}var ODe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const LDe=t=>{const{align:e,prefixCls:n,selectPrefixCls:r,className:i,rootClassName:o,style:a,size:s,locale:l,responsive:c,showSizeChanger:u,selectComponentClass:d,pageSizeOptions:f}=t,h=ODe(t,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:p}=dM(c),[,x]=cl(),{getPrefixCls:b,direction:y,showSizeChanger:_,className:C,style:E}=fa("pagination"),M=b("pagination",n),[R,N,O]=NDe(M),I=Os(s),L=I==="small"||!!(p&&!I&&c),[F]=Vl("Pagination",PJ),$=Object.assign(Object.assign({},F),l),[V,U]=xG(u),[k,z]=xG(_),H=V??k,j=U??z,X=d||AEe,Y=S.useMemo(()=>f?f.map(oe=>Number(oe)):void 0,[f]),J=oe=>{var ce;const{disabled:pe,size:ye,onSizeChange:xe,"aria-label":be,className:Ce,options:Ne}=oe,{className:Ae,onChange:me}=j||{},de=(ce=Ne.find(Be=>String(Be.value)===String(ye)))===null||ce===void 0?void 0:ce.value;return S.createElement(X,Object.assign({disabled:pe,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:Be=>Be.parentNode,"aria-label":be,options:Ne},j,{value:de,onChange:(Be,ne)=>{xe==null||xe(Be),me==null||me(Be,ne)},size:L?"small":"middle",className:ke(Ce,Ae)}))},ee=S.useMemo(()=>{const oe=S.createElement("span",{className:`${M}-item-ellipsis`},""),ce=S.createElement("button",{className:`${M}-item-link`,type:"button",tabIndex:-1},y==="rtl"?S.createElement(mx,null):S.createElement(FT,null)),pe=S.createElement("button",{className:`${M}-item-link`,type:"button",tabIndex:-1},y==="rtl"?S.createElement(FT,null):S.createElement(mx,null)),ye=S.createElement("a",{className:`${M}-item-link`},S.createElement("div",{className:`${M}-item-container`},y==="rtl"?S.createElement(vG,{className:`${M}-item-link-icon`}):S.createElement(AG,{className:`${M}-item-link-icon`}),oe)),xe=S.createElement("a",{className:`${M}-item-link`},S.createElement("div",{className:`${M}-item-container`},y==="rtl"?S.createElement(AG,{className:`${M}-item-link-icon`}):S.createElement(vG,{className:`${M}-item-link-icon`}),oe));return{prevIcon:ce,nextIcon:pe,jumpPrevIcon:ye,jumpNextIcon:xe}},[y,M]),re=b("select",r),ue=ke({[`${M}-${e}`]:!!e,[`${M}-mini`]:L,[`${M}-rtl`]:y==="rtl",[`${M}-bordered`]:x.wireframe},C,i,o,N,O),fe=Object.assign(Object.assign({},E),a);return R(S.createElement(S.Fragment,null,x.wireframe&&S.createElement(DDe,{prefixCls:M}),S.createElement(_De,Object.assign({},ee,h,{style:fe,prefixCls:M,selectPrefixCls:re,className:ue,locale:$,pageSizeOptions:Y,showSizeChanger:H,sizeChangerRender:J}))))},BDe=LDe,zT=100,Ore=zT/5,Lre=zT/2-Ore/2,L4=Lre*2*Math.PI,SG=50,_G=t=>{const{dotClassName:e,style:n,hasCircleCls:r}=t;return S.createElement("circle",{className:ke(`${e}-circle`,{[`${e}-circle-bg`]:r}),r:Lre,cx:SG,cy:SG,strokeWidth:Ore,style:n})},FDe=({percent:t,prefixCls:e})=>{const n=`${e}-dot`,r=`${n}-holder`,i=`${r}-hidden`,[o,a]=S.useState(!1);wr(()=>{t!==0&&a(!0)},[t!==0]);const s=Math.max(Math.min(t,100),0);if(!o)return null;const l={strokeDashoffset:`${L4/4}`,strokeDasharray:`${L4*s/100} ${L4*(100-s)/100}`};return S.createElement("span",{className:ke(r,`${n}-progress`,s<=0&&i)},S.createElement("svg",{viewBox:`0 0 ${zT} ${zT}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":s},S.createElement(_G,{dotClassName:n,hasCircleCls:!0}),S.createElement(_G,{dotClassName:n,style:l})))},$De=FDe;function UDe(t){const{prefixCls:e,percent:n=0}=t,r=`${e}-dot`,i=`${r}-holder`,o=`${i}-hidden`;return S.createElement(S.Fragment,null,S.createElement("span",{className:ke(i,n>0&&o)},S.createElement("span",{className:ke(r,`${e}-dot-spin`)},[1,2,3,4].map(a=>S.createElement("i",{className:`${e}-dot-item`,key:a})))),S.createElement($De,{prefixCls:e,percent:n}))}function kDe(t){var e;const{prefixCls:n,indicator:r,percent:i}=t,o=`${n}-dot`;return r&&S.isValidElement(r)?_c(r,{className:ke((e=r.props)===null||e===void 0?void 0:e.className,o),percent:i}):S.createElement(UDe,{prefixCls:n,percent:i})}const VDe=new Pr("antSpinMove",{to:{opacity:1}}),zDe=new Pr("antRotate",{to:{transform:"rotate(405deg)"}}),GDe=t=>{const{componentCls:e,calc:n}=t;return{[e]:Object.assign(Object.assign({},Ji(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:t.fontSize,paddingTop:n(n(t.dotSize).sub(t.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:t.colorBgMask,zIndex:t.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${t.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:t.colorWhite},[`${e}-text`]:{color:t.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(t.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${t.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:n(t.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeSM).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:n(t.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeLG).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:t.dotSize,display:"inline-block",transition:`transform ${t.motionDurationSlow} ease, opacity ${t.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:t.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),height:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:VDe,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:zDe,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${t.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:t.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal(),height:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal(),height:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},HDe=t=>{const{controlHeightLG:e,controlHeight:n}=t;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:n}},jDe=di("Spin",t=>{const e=Fr(t,{spinDotDefault:t.colorTextDescription});return GDe(e)},HDe),qDe=200,wG=[[30,.05],[70,.03],[96,.01]];function WDe(t,e){const[n,r]=S.useState(0),i=S.useRef(null),o=e==="auto";return S.useEffect(()=>(o&&t&&(r(0),i.current=setInterval(()=>{r(a=>{const s=100-a;for(let l=0;l<wG.length;l+=1){const[c,u]=wG[l];if(a<=c)return a+s*u}return a})},qDe)),()=>{i.current&&(clearInterval(i.current),i.current=null)}),[o,t]),o?n:e}var XDe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let Bre;function YDe(t,e){return!!t&&!!e&&!Number.isNaN(Number(e))}const Fre=t=>{var e;const{prefixCls:n,spinning:r=!0,delay:i=0,className:o,rootClassName:a,size:s="default",tip:l,wrapperClassName:c,style:u,children:d,fullscreen:f=!1,indicator:h,percent:p}=t,x=XDe(t,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:b,direction:y,className:_,style:C,indicator:E}=fa("spin"),M=b("spin",n),[R,N,O]=jDe(M),[I,L]=S.useState(()=>r&&!YDe(r,i)),F=WDe(I,p);S.useEffect(()=>{if(r){const j=A4e(i,()=>{L(!0)});return j(),()=>{var X;(X=j==null?void 0:j.cancel)===null||X===void 0||X.call(j)}}L(!1)},[i,r]);const $=S.useMemo(()=>typeof d<"u"&&!f,[d,f]),V=ke(M,_,{[`${M}-sm`]:s==="small",[`${M}-lg`]:s==="large",[`${M}-spinning`]:I,[`${M}-show-text`]:!!l,[`${M}-rtl`]:y==="rtl"},o,!f&&a,N,O),U=ke(`${M}-container`,{[`${M}-blur`]:I}),k=(e=h??E)!==null&&e!==void 0?e:Bre,z=Object.assign(Object.assign({},C),u),H=S.createElement("div",Object.assign({},x,{style:z,className:V,"aria-live":"polite","aria-busy":I}),S.createElement(kDe,{prefixCls:M,indicator:k,percent:F}),l&&($||f)?S.createElement("div",{className:`${M}-text`},l):null);return R($?S.createElement("div",Object.assign({},x,{className:ke(`${M}-nested-loading`,c,N,O)}),I&&S.createElement("div",{key:"loading"},H),S.createElement("div",{className:U,key:"container"},d)):f?S.createElement("div",{className:ke(`${M}-fullscreen`,{[`${M}-fullscreen-show`]:I},a,N,O)},H):H)};Fre.setDefaultIndicator=t=>{Bre=t};const KDe=Fre,MB=je.createContext({});MB.Consumer;var $re=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const QDe=t=>{var{prefixCls:e,className:n,avatar:r,title:i,description:o}=t,a=$re(t,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:s}=S.useContext(Kn),l=s("list",e),c=ke(`${l}-item-meta`,n),u=je.createElement("div",{className:`${l}-item-meta-content`},i&&je.createElement("h4",{className:`${l}-item-meta-title`},i),o&&je.createElement("div",{className:`${l}-item-meta-description`},o));return je.createElement("div",Object.assign({},a,{className:c}),r&&je.createElement("div",{className:`${l}-item-meta-avatar`},r),(i||o)&&u)},ZDe=je.forwardRef((t,e)=>{const{prefixCls:n,children:r,actions:i,extra:o,styles:a,className:s,classNames:l,colStyle:c}=t,u=$re(t,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:d,itemLayout:f}=S.useContext(MB),{getPrefixCls:h,list:p}=S.useContext(Kn),x=N=>{var O,I;return ke((I=(O=p==null?void 0:p.item)===null||O===void 0?void 0:O.classNames)===null||I===void 0?void 0:I[N],l==null?void 0:l[N])},b=N=>{var O,I;return Object.assign(Object.assign({},(I=(O=p==null?void 0:p.item)===null||O===void 0?void 0:O.styles)===null||I===void 0?void 0:I[N]),a==null?void 0:a[N])},y=()=>{let N=!1;return S.Children.forEach(r,O=>{typeof O=="string"&&(N=!0)}),N&&S.Children.count(r)>1},_=()=>f==="vertical"?!!o:!y(),C=h("list",n),E=i&&i.length>0&&je.createElement("ul",{className:ke(`${C}-item-action`,x("actions")),key:"actions",style:b("actions")},i.map((N,O)=>je.createElement("li",{key:`${C}-item-action-${O}`},N,O!==i.length-1&&je.createElement("em",{className:`${C}-item-action-split`})))),M=d?"div":"li",R=je.createElement(M,Object.assign({},u,d?{}:{ref:e},{className:ke(`${C}-item`,{[`${C}-item-no-flex`]:!_()},s)}),f==="vertical"&&o?[je.createElement("div",{className:`${C}-item-main`,key:"content"},r,E),je.createElement("div",{className:ke(`${C}-item-extra`,x("extra")),key:"extra",style:b("extra")},o)]:[r,E,_c(o,{key:"extra"})]);return d?je.createElement(jd,{ref:e,flex:1,style:c},R):R}),Ure=ZDe;Ure.Meta=QDe;const JDe=Ure,eOe=t=>{const{listBorderedCls:e,componentCls:n,paddingLG:r,margin:i,itemPaddingSM:o,itemPaddingLG:a,marginLG:s,borderRadiusLG:l}=t,c=Re(t.calc(l).sub(t.lineWidth).equal());return{[e]:{border:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:l,[`${n}-header`]:{borderRadius:`${c} ${c} 0 0`},[`${n}-footer`]:{borderRadius:`0 0 ${c} ${c}`},[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${Re(i)} ${Re(s)}`}},[`${e}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:o}},[`${e}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:a}}}},tOe=t=>{const{componentCls:e,screenSM:n,screenMD:r,marginLG:i,marginSM:o,margin:a}=t;return{[`@media screen and (max-width:${r}px)`]:{[e]:{[`${e}-item`]:{[`${e}-item-action`]:{marginInlineStart:i}}},[`${e}-vertical`]:{[`${e}-item`]:{[`${e}-item-extra`]:{marginInlineStart:i}}}},[`@media screen and (max-width: ${n}px)`]:{[e]:{[`${e}-item`]:{flexWrap:"wrap",[`${e}-action`]:{marginInlineStart:o}}},[`${e}-vertical`]:{[`${e}-item`]:{flexWrap:"wrap-reverse",[`${e}-item-main`]:{minWidth:t.contentWidth},[`${e}-item-extra`]:{margin:`auto auto ${Re(a)}`}}}}}},nOe=t=>{const{componentCls:e,antCls:n,controlHeight:r,minHeight:i,paddingSM:o,marginLG:a,padding:s,itemPadding:l,colorPrimary:c,itemPaddingSM:u,itemPaddingLG:d,paddingXS:f,margin:h,colorText:p,colorTextDescription:x,motionDurationSlow:b,lineWidth:y,headerBg:_,footerBg:C,emptyTextPadding:E,metaMarginBottom:M,avatarMarginRight:R,titleMarginBottom:N,descriptionFontSize:O}=t;return{[e]:Object.assign(Object.assign({},Ji(t)),{position:"relative","--rc-virtual-list-scrollbar-bg":t.colorSplit,"*":{outline:"none"},[`${e}-header`]:{background:_},[`${e}-footer`]:{background:C},[`${e}-header, ${e}-footer`]:{paddingBlock:o},[`${e}-pagination`]:{marginBlockStart:a,[`${n}-pagination-options`]:{textAlign:"start"}},[`${e}-spin`]:{minHeight:i,textAlign:"center"},[`${e}-items`]:{margin:0,padding:0,listStyle:"none"},[`${e}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:p,[`${e}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${e}-item-meta-avatar`]:{marginInlineEnd:R},[`${e}-item-meta-content`]:{flex:"1 0",width:0,color:p},[`${e}-item-meta-title`]:{margin:`0 0 ${Re(t.marginXXS)} 0`,color:p,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":{color:p,transition:`all ${b}`,"&:hover":{color:c}}},[`${e}-item-meta-description`]:{color:x,fontSize:O,lineHeight:t.lineHeight}},[`${e}-item-action`]:{flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${Re(f)}`,color:x,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${e}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:y,height:t.calc(t.fontHeight).sub(t.calc(t.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:t.colorSplit}}},[`${e}-empty`]:{padding:`${Re(s)} 0`,color:x,fontSize:t.fontSizeSM,textAlign:"center"},[`${e}-empty-text`]:{padding:E,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"},[`${e}-item-no-flex`]:{display:"block"}}),[`${e}-grid ${n}-col > ${e}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:h,paddingBlock:0,borderBlockEnd:"none"},[`${e}-vertical ${e}-item`]:{alignItems:"initial",[`${e}-item-main`]:{display:"block",flex:1},[`${e}-item-extra`]:{marginInlineStart:a},[`${e}-item-meta`]:{marginBlockEnd:M,[`${e}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:N,color:p,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}},[`${e}-item-action`]:{marginBlockStart:s,marginInlineStart:"auto","> li":{padding:`0 ${Re(s)}`,"&:first-child":{paddingInlineStart:0}}}},[`${e}-split ${e}-item`]:{borderBlockEnd:`${Re(t.lineWidth)} ${t.lineType} ${t.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${e}-split ${e}-header`]:{borderBlockEnd:`${Re(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-split${e}-empty ${e}-footer`]:{borderTop:`${Re(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-loading ${e}-spin-nested-loading`]:{minHeight:r},[`${e}-split${e}-something-after-last-item ${n}-spin-container > ${e}-items > ${e}-item:last-child`]:{borderBlockEnd:`${Re(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-lg ${e}-item`]:{padding:d},[`${e}-sm ${e}-item`]:{padding:u},[`${e}:not(${e}-vertical)`]:{[`${e}-item-no-flex`]:{[`${e}-item-action`]:{float:"right"}}}}},rOe=t=>({contentWidth:220,itemPadding:`${Re(t.paddingContentVertical)} 0`,itemPaddingSM:`${Re(t.paddingContentVerticalSM)} ${Re(t.paddingContentHorizontal)}`,itemPaddingLG:`${Re(t.paddingContentVerticalLG)} ${Re(t.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:t.padding,metaMarginBottom:t.padding,avatarMarginRight:t.padding,titleMarginBottom:t.paddingSM,descriptionFontSize:t.fontSize}),iOe=di("List",t=>{const e=Fr(t,{listBorderedCls:`${t.componentCls}-bordered`,minHeight:t.controlHeightLG});return[nOe(e),eOe(e),tOe(e)]},rOe);var oOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function aOe(t,e){const{pagination:n=!1,prefixCls:r,bordered:i=!1,split:o=!0,className:a,rootClassName:s,style:l,children:c,itemLayout:u,loadMore:d,grid:f,dataSource:h=[],size:p,header:x,footer:b,loading:y=!1,rowKey:_,renderItem:C,locale:E}=t,M=oOe(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),R=n&&typeof n=="object"?n:{},[N,O]=S.useState(R.defaultCurrent||1),[I,L]=S.useState(R.defaultPageSize||10),{getPrefixCls:F,direction:$,className:V,style:U}=fa("list"),{renderEmpty:k}=S.useContext(Kn),z={current:1,total:0,position:"bottom"},H=qe=>(se,K)=>{var _e;O(se),L(K),n&&((_e=n==null?void 0:n[qe])===null||_e===void 0||_e.call(n,se,K))},j=H("onChange"),X=H("onShowSizeChange"),Y=(qe,se)=>{if(!C)return null;let K;return typeof _=="function"?K=_(qe):_?K=qe[_]:K=qe.key,K||(K=`list-item-${se}`),S.createElement(S.Fragment,{key:K},C(qe,se))},J=!!(d||n||b),ee=F("list",r),[re,ue,fe]=iOe(ee);let oe=y;typeof oe=="boolean"&&(oe={spinning:oe});const ce=!!(oe!=null&&oe.spinning),pe=Os(p);let ye="";switch(pe){case"large":ye="lg";break;case"small":ye="sm";break}const xe=ke(ee,{[`${ee}-vertical`]:u==="vertical",[`${ee}-${ye}`]:ye,[`${ee}-split`]:o,[`${ee}-bordered`]:i,[`${ee}-loading`]:ce,[`${ee}-grid`]:!!f,[`${ee}-something-after-last-item`]:J,[`${ee}-rtl`]:$==="rtl"},V,a,s,ue,fe),be=DO(z,{total:h.length,current:N,pageSize:I},n||{}),Ce=Math.ceil(be.total/be.pageSize);be.current=Math.min(be.current,Ce);const Ne=n&&S.createElement("div",{className:ke(`${ee}-pagination`)},S.createElement(BDe,Object.assign({align:"end"},be,{onChange:j,onShowSizeChange:X})));let Ae=zt(h);n&&h.length>(be.current-1)*be.pageSize&&(Ae=zt(h).splice((be.current-1)*be.pageSize,be.pageSize));const me=Object.keys(f||{}).some(qe=>["xs","sm","md","lg","xl","xxl"].includes(qe)),de=dM(me),Be=S.useMemo(()=>{for(let qe=0;qe<jm.length;qe+=1){const se=jm[qe];if(de[se])return se}},[de]),ne=S.useMemo(()=>{if(!f)return;const qe=Be&&f[Be]?f[Be]:f.column;if(qe)return{width:`${100/qe}%`,maxWidth:`${100/qe}%`}},[JSON.stringify(f),Be]);let Je=ce&&S.createElement("div",{style:{minHeight:53}});if(Ae.length>0){const qe=Ae.map(Y);Je=f?S.createElement(_M,{gutter:f.gutter},S.Children.map(qe,se=>S.createElement("div",{key:se==null?void 0:se.key,style:ne},se))):S.createElement("ul",{className:`${ee}-items`},qe)}else!c&&!ce&&(Je=S.createElement("div",{className:`${ee}-empty-text`},(E==null?void 0:E.emptyText)||(k==null?void 0:k("List"))||S.createElement(Ste,{componentName:"List"})));const Ye=be.position,rt=S.useMemo(()=>({grid:f,itemLayout:u}),[JSON.stringify(f),u]);return re(S.createElement(MB.Provider,{value:rt},S.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},U),l),className:xe},M),(Ye==="top"||Ye==="both")&&Ne,x&&S.createElement("div",{className:`${ee}-header`},x),S.createElement(KDe,Object.assign({},oe),Je,c),b&&S.createElement("div",{className:`${ee}-footer`},b),d||(Ye==="bottom"||Ye==="both")&&Ne)))}const sOe=S.forwardRef(aOe),kre=sOe;kre.Item=JDe;const Wm=kre,lOe=(t,e=!1)=>e&&t==null?[]:Array.isArray(t)?t:[t],cOe=lOe;var uOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const dOe=t=>{const{prefixCls:e,className:n,closeIcon:r,closable:i,type:o,title:a,children:s,footer:l}=t,c=uOe(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:u}=S.useContext(Kn),d=u(),f=e||u("modal"),h=bu(d),[p,x,b]=Yee(f,h),y=`${f}-confirm`;let _={};return o?_={closable:i??!1,title:"",footer:"",children:S.createElement(Qee,Object.assign({},t,{prefixCls:f,confirmPrefixCls:y,rootPrefixCls:d,content:s}))}:_={closable:i??!0,title:a,footer:l!==null&&S.createElement(jee,Object.assign({},t)),children:s},p(S.createElement(Mee,Object.assign({prefixCls:f,className:ke(x,`${f}-pure-panel`,o&&y,o&&`${y}-${o}`,n,b,h)},c,{closeIcon:Hee(f,r),closable:i},_)))},fOe=ate(dOe);function Vre(t){return R2(tte(t))}const Su=Kee;Su.useModal=jwe;Su.info=function(e){return R2(nte(e))};Su.success=function(e){return R2(rte(e))};Su.error=function(e){return R2(ite(e))};Su.warning=Vre;Su.warn=Vre;Su.confirm=function(e){return R2(ote(e))};Su.destroyAll=function(){for(;mm.length;){const e=mm.pop();e&&e()}};Su.config=kwe;Su._InternalPanelDoNotUseOrYouWillBeFired=fOe;const zre=Su,hOe=t=>{const{componentCls:e,iconCls:n,antCls:r,zIndexPopup:i,colorText:o,colorWarning:a,marginXXS:s,marginXS:l,fontSize:c,fontWeightStrong:u,colorTextHeading:d}=t;return{[e]:{zIndex:i,[`&${r}-popover`]:{fontSize:c},[`${e}-message`]:{marginBottom:l,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e}-message-icon ${n}`]:{color:a,fontSize:c,lineHeight:1,marginInlineEnd:l},[`${e}-title`]:{fontWeight:u,color:d,"&:only-child":{fontWeight:"normal"}},[`${e}-description`]:{marginTop:s,color:o}},[`${e}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:l}}}}},pOe=t=>{const{zIndexPopupBase:e}=t;return{zIndexPopup:e+60}},Gre=di("Popconfirm",t=>hOe(t),pOe,{resetStyle:!1});var mOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Hre=t=>{const{prefixCls:e,okButtonProps:n,cancelButtonProps:r,title:i,description:o,cancelText:a,okText:s,okType:l="primary",icon:c=S.createElement(K3,null),showCancel:u=!0,close:d,onConfirm:f,onCancel:h,onPopupClick:p}=t,{getPrefixCls:x}=S.useContext(Kn),[b]=Vl("Popconfirm",hd.Popconfirm),y=jA(i),_=jA(o);return S.createElement("div",{className:`${e}-inner-content`,onClick:p},S.createElement("div",{className:`${e}-message`},c&&S.createElement("span",{className:`${e}-message-icon`},c),S.createElement("div",{className:`${e}-message-text`},y&&S.createElement("div",{className:`${e}-title`},y),_&&S.createElement("div",{className:`${e}-description`},_))),S.createElement("div",{className:`${e}-buttons`},u&&S.createElement(bo,Object.assign({onClick:h,size:"small"},r),a||(b==null?void 0:b.cancelText)),S.createElement(jL,{buttonProps:Object.assign(Object.assign({size:"small"},BL(l)),n),actionFn:f,close:d,prefixCls:x("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},s||(b==null?void 0:b.okText))))},gOe=t=>{const{prefixCls:e,placement:n,className:r,style:i}=t,o=mOe(t,["prefixCls","placement","className","style"]),{getPrefixCls:a}=S.useContext(Kn),s=a("popconfirm",e),[l]=Gre(s);return l(S.createElement(Vte,{placement:n,className:ke(s,r),style:i,content:S.createElement(Hre,Object.assign({prefixCls:s},o))}))},AOe=gOe;var vOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const yOe=S.forwardRef((t,e)=>{var n,r;const{prefixCls:i,placement:o="top",trigger:a="click",okType:s="primary",icon:l=S.createElement(K3,null),children:c,overlayClassName:u,onOpenChange:d,onVisibleChange:f,overlayStyle:h,styles:p,classNames:x}=t,b=vOe(t,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:y,className:_,style:C,classNames:E,styles:M}=fa("popconfirm"),[R,N]=yi(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),O=(H,j)=>{N(H,!0),f==null||f(H),d==null||d(H,j)},I=H=>{O(!1,H)},L=H=>{var j;return(j=t.onConfirm)===null||j===void 0?void 0:j.call(globalThis,H)},F=H=>{var j;O(!1,H),(j=t.onCancel)===null||j===void 0||j.call(globalThis,H)},$=(H,j)=>{const{disabled:X=!1}=t;X||O(H,j)},V=y("popconfirm",i),U=ke(V,_,u,E.root,x==null?void 0:x.root),k=ke(E.body,x==null?void 0:x.body),[z]=Gre(V);return z(S.createElement(qEe,Object.assign({},go(b,["title"]),{trigger:a,placement:o,onOpenChange:$,open:R,ref:e,classNames:{root:U,body:k},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},M.root),C),h),p==null?void 0:p.root),body:Object.assign(Object.assign({},M.body),p==null?void 0:p.body)},content:S.createElement(Hre,Object.assign({okType:s,icon:l},t,{prefixCls:V,close:I,onConfirm:L,onCancel:F})),"data-popover-inject":!0}),c))}),jre=yOe;jre._InternalPanelDoNotUseOrYouWillBeFired=AOe;const bOe=jre;var xOe={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},SOe=function(){var e=S.useRef([]),n=S.useRef(null);return S.useEffect(function(){var r=Date.now(),i=!1;e.current.forEach(function(o){if(o){i=!0;var a=o.style;a.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(a.transitionDuration="0s, 0s")}}),i&&(n.current=Date.now())}),e.current},CG=0,_Oe=Da();function wOe(){var t;return _Oe?(t=CG,CG+=1):t="TEST_OR_SSR",t}const COe=function(t){var e=S.useState(),n=Oe(e,2),r=n[0],i=n[1];return S.useEffect(function(){i("rc_progress_".concat(wOe()))},[]),t||r};var TG=function(e){var n=e.bg,r=e.children;return S.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function EG(t,e){return Object.keys(t).map(function(n){var r=parseFloat(n),i="".concat(Math.floor(r*e),"%");return"".concat(t[n]," ").concat(i)})}var TOe=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.color,i=t.gradientId,o=t.radius,a=t.style,s=t.ptg,l=t.strokeLinecap,c=t.strokeWidth,u=t.size,d=t.gapDegree,f=r&&yn(r)==="object",h=f?"#FFF":void 0,p=u/2,x=S.createElement("circle",{className:"".concat(n,"-circle-path"),r:o,cx:p,cy:p,stroke:h,strokeLinecap:l,strokeWidth:c,opacity:s===0?0:1,style:a,ref:e});if(!f)return x;var b="".concat(i,"-conic"),y=d?"".concat(180+d/2,"deg"):"0deg",_=EG(r,(360-d)/360),C=EG(r,1),E="conic-gradient(from ".concat(y,", ").concat(_.join(", "),")"),M="linear-gradient(to ".concat(d?"bottom":"top",", ").concat(C.join(", "),")");return S.createElement(S.Fragment,null,S.createElement("mask",{id:b},x),S.createElement("foreignObject",{x:0,y:0,width:u,height:u,mask:"url(#".concat(b,")")},S.createElement(TG,{bg:M},S.createElement(TG,{bg:E}))))}),H1=100,B4=function(e,n,r,i,o,a,s,l,c,u){var d=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,f=r/100*360*((360-a)/360),h=a===0?0:{bottom:0,top:180,left:90,right:-90}[s],p=(100-i)/100*n;c==="round"&&i!==100&&(p+=u/2,p>=n&&(p=n-.01));var x=H1/2;return{stroke:typeof l=="string"?l:void 0,strokeDasharray:"".concat(n,"px ").concat(e),strokeDashoffset:p+d,transform:"rotate(".concat(o+f+h,"deg)"),transformOrigin:"".concat(x,"px ").concat(x,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},EOe=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function MG(t){var e=t??[];return Array.isArray(e)?e:[e]}var MOe=function(e){var n=we(we({},xOe),e),r=n.id,i=n.prefixCls,o=n.steps,a=n.strokeWidth,s=n.trailWidth,l=n.gapDegree,c=l===void 0?0:l,u=n.gapPosition,d=n.trailColor,f=n.strokeLinecap,h=n.style,p=n.className,x=n.strokeColor,b=n.percent,y=Qn(n,EOe),_=H1/2,C=COe(r),E="".concat(C,"-gradient"),M=_-a/2,R=Math.PI*2*M,N=c>0?90+c/2:-90,O=R*((360-c)/360),I=yn(o)==="object"?o:{count:o,gap:2},L=I.count,F=I.gap,$=MG(b),V=MG(x),U=V.find(function(J){return J&&yn(J)==="object"}),k=U&&yn(U)==="object",z=k?"butt":f,H=B4(R,O,0,100,N,c,u,d,z,a),j=SOe(),X=function(){var ee=0;return $.map(function(re,ue){var fe=V[ue]||V[V.length-1],oe=B4(R,O,ee,re,N,c,u,fe,z,a);return ee+=re,S.createElement(TOe,{key:ue,color:fe,ptg:re,radius:M,prefixCls:i,gradientId:E,style:oe,strokeLinecap:z,strokeWidth:a,gapDegree:c,ref:function(pe){j[ue]=pe},size:H1})}).reverse()},Y=function(){var ee=Math.round(L*($[0]/100)),re=100/L,ue=0;return new Array(L).fill(null).map(function(fe,oe){var ce=oe<=ee-1?V[0]:d,pe=ce&&yn(ce)==="object"?"url(#".concat(E,")"):void 0,ye=B4(R,O,ue,re,N,c,u,ce,"butt",a,F);return ue+=(O-ye.strokeDashoffset+F)*100/O,S.createElement("circle",{key:oe,className:"".concat(i,"-circle-path"),r:M,cx:_,cy:_,stroke:pe,strokeWidth:a,opacity:1,style:ye,ref:function(be){j[oe]=be}})})};return S.createElement("svg",it({className:ke("".concat(i,"-circle"),p),viewBox:"0 0 ".concat(H1," ").concat(H1),style:h,id:r,role:"presentation"},y),!L&&S.createElement("circle",{className:"".concat(i,"-circle-trail"),r:M,cx:_,cy:_,stroke:d,strokeLinecap:z,strokeWidth:s||a,style:H}),L?Y():X())};function Oh(t){return!t||t<0?0:t>100?100:t}function GT({success:t,successPercent:e}){let n=e;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}const ROe=({percent:t,success:e,successPercent:n})=>{const r=Oh(GT({success:e,successPercent:n}));return[r,Oh(Oh(t)-r)]},POe=({success:t={},strokeColor:e})=>{const{strokeColor:n}=t;return[n||mA.green,e||null]},EM=(t,e,n)=>{var r,i,o,a;let s=-1,l=-1;if(e==="step"){const c=n.steps,u=n.strokeWidth;typeof t=="string"||typeof t>"u"?(s=t==="small"?2:14,l=u??8):typeof t=="number"?[s,l]=[t,t]:[s=14,l=8]=Array.isArray(t)?t:[t.width,t.height],s*=c}else if(e==="line"){const c=n==null?void 0:n.strokeWidth;typeof t=="string"||typeof t>"u"?l=c||(t==="small"?6:8):typeof t=="number"?[s,l]=[t,t]:[s=-1,l=8]=Array.isArray(t)?t:[t.width,t.height]}else(e==="circle"||e==="dashboard")&&(typeof t=="string"||typeof t>"u"?[s,l]=t==="small"?[60,60]:[120,120]:typeof t=="number"?[s,l]=[t,t]:Array.isArray(t)&&(s=(i=(r=t[0])!==null&&r!==void 0?r:t[1])!==null&&i!==void 0?i:120,l=(a=(o=t[0])!==null&&o!==void 0?o:t[1])!==null&&a!==void 0?a:120));return[s,l]},NOe=3,IOe=t=>NOe/t*100,DOe=t=>{const{prefixCls:e,trailColor:n=null,strokeLinecap:r="round",gapPosition:i,gapDegree:o,width:a=120,type:s,children:l,success:c,size:u=a,steps:d}=t,[f,h]=EM(u,"circle");let{strokeWidth:p}=t;p===void 0&&(p=Math.max(IOe(f),6));const x={width:f,height:h,fontSize:f*.15+6},b=S.useMemo(()=>{if(o||o===0)return o;if(s==="dashboard")return 75},[o,s]),y=ROe(t),_=i||s==="dashboard"&&"bottom"||void 0,C=Object.prototype.toString.call(t.strokeColor)==="[object Object]",E=POe({success:c,strokeColor:t.strokeColor}),M=ke(`${e}-inner`,{[`${e}-circle-gradient`]:C}),R=S.createElement(MOe,{steps:d,percent:d?y[1]:y,strokeWidth:p,trailWidth:p,strokeColor:d?E[1]:E,strokeLinecap:r,trailColor:n,prefixCls:e,gapDegree:b,gapPosition:_}),N=f<=20,O=S.createElement("div",{className:M,style:x},R,!N&&l);return N?S.createElement(m0,{title:l},O):O},OOe=DOe,HT="--progress-line-stroke-color",qre="--progress-percent",RG=t=>{const e=t?"100%":"-100%";return new Pr(`antProgress${t?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},LOe=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:Object.assign(Object.assign({},Ji(t)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:t.fontSize},[`${e}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:t.remainingColor,borderRadius:t.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",background:t.defaultColor,borderRadius:t.lineBorderRadius,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`},[`${e}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${e}-text`]:{width:"max-content",marginInlineStart:0,marginTop:t.marginXXS}},[`${e}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${HT})`]},height:"100%",width:`calc(1 / var(${qre}) * 100%)`,display:"block"},[`&${e}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${e}-text-inner`]:{color:t.colorWhite,[`&${e}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:t.colorSuccess},[`${e}-text`]:{display:"inline-block",marginInlineStart:t.marginXS,color:t.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:t.fontSize},[`&${e}-text-outer`]:{width:"max-content"},[`&${e}-text-outer${e}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:t.marginXS}},[`${e}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${Re(t.paddingXXS)}`,[`&${e}-text-start`]:{justifyContent:"start"},[`&${e}-text-end`]:{justifyContent:"end"}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:t.colorBgContainer,borderRadius:t.lineBorderRadius,opacity:0,animationName:RG(),animationDuration:t.progressActiveMotionDuration,animationTimingFunction:t.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:RG(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:t.colorError},[`${e}-text`]:{color:t.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:t.colorSuccess},[`${e}-text`]:{color:t.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorSuccess}}})}},BOe=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-circle-trail`]:{stroke:t.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:t.circleTextColor,fontSize:t.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:t.circleIconFontSize}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:t.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:t.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},FOe=t=>{const{componentCls:e}=t;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:t.progressStepMinWidth,marginInlineEnd:t.progressStepMarginInlineEnd,backgroundColor:t.remainingColor,transition:`all ${t.motionDurationSlow}`,"&-active":{backgroundColor:t.defaultColor}}}}}},$Oe=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${n}`]:{fontSize:t.fontSizeSM}}}},UOe=t=>({circleTextColor:t.colorText,defaultColor:t.colorInfo,remainingColor:t.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${t.fontSize/t.fontSizeSM}em`}),kOe=di("Progress",t=>{const e=t.calc(t.marginXXS).div(2).equal(),n=Fr(t,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[LOe(n),BOe(n),FOe(n),$Oe(n)]},UOe);var VOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const zOe=t=>{let e=[];return Object.keys(t).forEach(n=>{const r=Number.parseFloat(n.replace(/%/g,""));Number.isNaN(r)||e.push({key:r,value:t[n]})}),e=e.sort((n,r)=>n.key-r.key),e.map(({key:n,value:r})=>`${r} ${n}%`).join(", ")},GOe=(t,e)=>{const{from:n=mA.blue,to:r=mA.blue,direction:i=e==="rtl"?"to left":"to right"}=t,o=VOe(t,["from","to","direction"]);if(Object.keys(o).length!==0){const s=zOe(o),l=`linear-gradient(${i}, ${s})`;return{background:l,[HT]:l}}const a=`linear-gradient(${i}, ${n}, ${r})`;return{background:a,[HT]:a}},HOe=t=>{const{prefixCls:e,direction:n,percent:r,size:i,strokeWidth:o,strokeColor:a,strokeLinecap:s="round",children:l,trailColor:c=null,percentPosition:u,success:d}=t,{align:f,type:h}=u,p=a&&typeof a!="string"?GOe(a,n):{[HT]:a,background:a},x=s==="square"||s==="butt"?0:void 0,b=i??[-1,o||(i==="small"?6:8)],[y,_]=EM(b,"line",{strokeWidth:o}),C={backgroundColor:c||void 0,borderRadius:x},E=Object.assign(Object.assign({width:`${Oh(r)}%`,height:_,borderRadius:x},p),{[qre]:Oh(r)/100}),M=GT(t),R={width:`${Oh(M)}%`,height:_,borderRadius:x,backgroundColor:d==null?void 0:d.strokeColor},N={width:y<0?"100%":y},O=S.createElement("div",{className:`${e}-inner`,style:C},S.createElement("div",{className:ke(`${e}-bg`,`${e}-bg-${h}`),style:E},h==="inner"&&l),M!==void 0&&S.createElement("div",{className:`${e}-success-bg`,style:R})),I=h==="outer"&&f==="start",L=h==="outer"&&f==="end";return h==="outer"&&f==="center"?S.createElement("div",{className:`${e}-layout-bottom`},O,l):S.createElement("div",{className:`${e}-outer`,style:N},I&&l,O,L&&l)},jOe=HOe,qOe=t=>{const{size:e,steps:n,rounding:r=Math.round,percent:i=0,strokeWidth:o=8,strokeColor:a,trailColor:s=null,prefixCls:l,children:c}=t,u=r(n*(i/100)),f=e??[e==="small"?2:14,o],[h,p]=EM(f,"step",{steps:n,strokeWidth:o}),x=h/n,b=Array.from({length:n});for(let y=0;y<n;y++){const _=Array.isArray(a)?a[y]:a;b[y]=S.createElement("div",{key:y,className:ke(`${l}-steps-item`,{[`${l}-steps-item-active`]:y<=u-1}),style:{backgroundColor:y<=u-1?_:s,width:x,height:p}})}return S.createElement("div",{className:`${l}-steps-outer`},b,c)},WOe=qOe;var XOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const YOe=["normal","exception","active","success"],KOe=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:i,steps:o,strokeColor:a,percent:s=0,size:l="default",showInfo:c=!0,type:u="line",status:d,format:f,style:h,percentPosition:p={}}=t,x=XOe(t,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:b="end",type:y="outer"}=p,_=Array.isArray(a)?a[0]:a,C=typeof a=="string"||Array.isArray(a)?a:void 0,E=S.useMemo(()=>{if(_){const X=typeof _=="string"?_:Object.values(_)[0];return new Kr(X).isLight()}return!1},[a]),M=S.useMemo(()=>{var X,Y;const J=GT(t);return Number.parseInt(J!==void 0?(X=J??0)===null||X===void 0?void 0:X.toString():(Y=s??0)===null||Y===void 0?void 0:Y.toString(),10)},[s,t.success,t.successPercent]),R=S.useMemo(()=>!YOe.includes(d)&&M>=100?"success":d||"normal",[d,M]),{getPrefixCls:N,direction:O,progress:I}=S.useContext(Kn),L=N("progress",n),[F,$,V]=kOe(L),U=u==="line",k=U&&!o,z=S.useMemo(()=>{if(!c)return null;const X=GT(t);let Y;const J=f||(re=>`${re}%`),ee=U&&E&&y==="inner";return y==="inner"||f||R!=="exception"&&R!=="success"?Y=J(Oh(s),Oh(X)):R==="exception"?Y=U?S.createElement(_2,null):S.createElement(f0,null):R==="success"&&(Y=U?S.createElement(DL,null):S.createElement(uM,null)),S.createElement("span",{className:ke(`${L}-text`,{[`${L}-text-bright`]:ee,[`${L}-text-${b}`]:k,[`${L}-text-${y}`]:k}),title:typeof Y=="string"?Y:void 0},Y)},[c,s,M,R,u,L,f]);let H;u==="line"?H=o?S.createElement(WOe,Object.assign({},t,{strokeColor:C,prefixCls:L,steps:typeof o=="object"?o.count:o}),z):S.createElement(jOe,Object.assign({},t,{strokeColor:_,prefixCls:L,direction:O,percentPosition:{align:b,type:y}}),z):(u==="circle"||u==="dashboard")&&(H=S.createElement(OOe,Object.assign({},t,{strokeColor:_,prefixCls:L,progressStatus:R}),z));const j=ke(L,`${L}-status-${R}`,{[`${L}-${u==="dashboard"&&"circle"||u}`]:u!=="line",[`${L}-inline-circle`]:u==="circle"&&EM(l,"circle")[0]<=20,[`${L}-line`]:k,[`${L}-line-align-${b}`]:k,[`${L}-line-position-${y}`]:k,[`${L}-steps`]:o,[`${L}-show-info`]:c,[`${L}-${l}`]:typeof l=="string",[`${L}-rtl`]:O==="rtl"},I==null?void 0:I.className,r,i,$,V);return F(S.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},I==null?void 0:I.style),h),className:j,role:"progressbar","aria-valuenow":M,"aria-valuemin":0,"aria-valuemax":100},go(x,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),H))}),QOe=KOe;var ZOe=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function PG(t){return typeof t=="string"}function Wre(t){var e,n=t.className,r=t.prefixCls,i=t.style,o=t.active,a=t.status,s=t.iconPrefix,l=t.icon;t.wrapperStyle;var c=t.stepNumber,u=t.disabled,d=t.description,f=t.title,h=t.subTitle,p=t.progressDot,x=t.stepIcon,b=t.tailContent,y=t.icons,_=t.stepIndex,C=t.onStepClick,E=t.onClick,M=t.render,R=Qn(t,ZOe),N=!!C&&!u,O={};N&&(O.role="button",O.tabIndex=0,O.onClick=function(U){E==null||E(U),C(_)},O.onKeyDown=function(U){var k=U.which;(k===Bt.ENTER||k===Bt.SPACE)&&C(_)});var I=function(){var k,z,H=ke("".concat(r,"-icon"),"".concat(s,"icon"),(k={},Se(k,"".concat(s,"icon-").concat(l),l&&PG(l)),Se(k,"".concat(s,"icon-check"),!l&&a==="finish"&&(y&&!y.finish||!y)),Se(k,"".concat(s,"icon-cross"),!l&&a==="error"&&(y&&!y.error||!y)),k)),j=S.createElement("span",{className:"".concat(r,"-icon-dot")});return p?typeof p=="function"?z=S.createElement("span",{className:"".concat(r,"-icon")},p(j,{index:c-1,status:a,title:f,description:d})):z=S.createElement("span",{className:"".concat(r,"-icon")},j):l&&!PG(l)?z=S.createElement("span",{className:"".concat(r,"-icon")},l):y&&y.finish&&a==="finish"?z=S.createElement("span",{className:"".concat(r,"-icon")},y.finish):y&&y.error&&a==="error"?z=S.createElement("span",{className:"".concat(r,"-icon")},y.error):l||a==="finish"||a==="error"?z=S.createElement("span",{className:H}):z=S.createElement("span",{className:"".concat(r,"-icon")},c),x&&(z=x({index:c-1,status:a,title:f,description:d,node:z})),z},L=a||"wait",F=ke("".concat(r,"-item"),"".concat(r,"-item-").concat(L),n,(e={},Se(e,"".concat(r,"-item-custom"),l),Se(e,"".concat(r,"-item-active"),o),Se(e,"".concat(r,"-item-disabled"),u===!0),e)),$=we({},i),V=S.createElement("div",it({},R,{className:F,style:$}),S.createElement("div",it({onClick:E},O,{className:"".concat(r,"-item-container")}),S.createElement("div",{className:"".concat(r,"-item-tail")},b),S.createElement("div",{className:"".concat(r,"-item-icon")},I()),S.createElement("div",{className:"".concat(r,"-item-content")},S.createElement("div",{className:"".concat(r,"-item-title")},f,h&&S.createElement("div",{title:typeof h=="string"?h:void 0,className:"".concat(r,"-item-subtitle")},h)),d&&S.createElement("div",{className:"".concat(r,"-item-description")},d))));return M&&(V=M(V)||null),V}var JOe=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function RB(t){var e,n=t.prefixCls,r=n===void 0?"rc-steps":n,i=t.style,o=i===void 0?{}:i,a=t.className;t.children;var s=t.direction,l=s===void 0?"horizontal":s,c=t.type,u=c===void 0?"default":c,d=t.labelPlacement,f=d===void 0?"horizontal":d,h=t.iconPrefix,p=h===void 0?"rc":h,x=t.status,b=x===void 0?"process":x,y=t.size,_=t.current,C=_===void 0?0:_,E=t.progressDot,M=E===void 0?!1:E,R=t.stepIcon,N=t.initial,O=N===void 0?0:N,I=t.icons,L=t.onChange,F=t.itemRender,$=t.items,V=$===void 0?[]:$,U=Qn(t,JOe),k=u==="navigation",z=u==="inline",H=z||M,j=z?"horizontal":l,X=z?void 0:y,Y=H?"vertical":f,J=ke(r,"".concat(r,"-").concat(j),a,(e={},Se(e,"".concat(r,"-").concat(X),X),Se(e,"".concat(r,"-label-").concat(Y),j==="horizontal"),Se(e,"".concat(r,"-dot"),!!H),Se(e,"".concat(r,"-navigation"),k),Se(e,"".concat(r,"-inline"),z),e)),ee=function(fe){L&&C!==fe&&L(fe)},re=function(fe,oe){var ce=we({},fe),pe=O+oe;return b==="error"&&oe===C-1&&(ce.className="".concat(r,"-next-error")),ce.status||(pe===C?ce.status=b:pe<C?ce.status="finish":ce.status="wait"),z&&(ce.icon=void 0,ce.subTitle=void 0),!ce.render&&F&&(ce.render=function(ye){return F(ce,ye)}),je.createElement(Wre,it({},ce,{active:pe===C,stepNumber:pe+1,stepIndex:pe,key:pe,prefixCls:r,iconPrefix:p,wrapperStyle:o,progressDot:H,stepIcon:R,icons:I,onStepClick:L&&ee}))};return je.createElement("div",it({className:J,style:o},U),V.filter(function(ue){return ue}).map(re))}RB.Step=Wre;const e5e=t=>{const{componentCls:e,customIconTop:n,customIconSize:r,customIconFontSize:i}=t;return{[`${e}-item-custom`]:{[`> ${e}-item-container > ${e}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${e}-icon`]:{top:n,width:r,height:r,fontSize:i,lineHeight:Re(r)}}},[`&:not(${e}-vertical)`]:{[`${e}-item-custom`]:{[`${e}-item-icon`]:{width:"auto",background:"none"}}}}},t5e=e5e,n5e=t=>{const{componentCls:e}=t,n=`${e}-item`;return{[`${e}-horizontal`]:{[`${n}-tail`]:{transform:"translateY(-50%)"}}}},r5e=n5e,i5e=t=>{const{componentCls:e,inlineDotSize:n,inlineTitleColor:r,inlineTailColor:i}=t,o=t.calc(t.paddingXS).add(t.lineWidth).equal(),a={[`${e}-item-container ${e}-item-content ${e}-item-title`]:{color:r}};return{[`&${e}-inline`]:{width:"auto",display:"inline-flex",[`${e}-item`]:{flex:"none","&-container":{padding:`${Re(o)} ${Re(t.paddingXXS)} 0`,margin:`0 ${Re(t.calc(t.marginXXS).div(2).equal())}`,borderRadius:t.borderRadiusSM,cursor:"pointer",transition:`background-color ${t.motionDurationMid}`,"&:hover":{background:t.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:n,height:n,marginInlineStart:`calc(50% - ${Re(t.calc(n).div(2).equal())})`,[`> ${e}-icon`]:{top:0},[`${e}-icon-dot`]:{borderRadius:t.calc(t.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:t.calc(t.marginXS).sub(t.lineWidth).equal()},"&-title":{color:r,fontSize:t.fontSizeSM,lineHeight:t.lineHeightSM,fontWeight:"normal",marginBottom:t.calc(t.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:t.calc(n).div(2).add(o).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:t.lineWidth,borderRadius:0,marginInlineStart:0,background:i}},[`&:first-child ${e}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${e}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${e}-item-icon ${e}-icon ${e}-icon-dot`]:{backgroundColor:t.colorBorderBg,border:`${Re(t.lineWidth)} ${t.lineType} ${i}`}},a),"&-finish":Object.assign({[`${e}-item-tail::after`]:{backgroundColor:i},[`${e}-item-icon ${e}-icon ${e}-icon-dot`]:{backgroundColor:i,border:`${Re(t.lineWidth)} ${t.lineType} ${i}`}},a),"&-error":a,"&-active, &-process":Object.assign({[`${e}-item-icon`]:{width:n,height:n,marginInlineStart:`calc(50% - ${Re(t.calc(n).div(2).equal())})`,top:0}},a),[`&:not(${e}-item-active) > ${e}-item-container[role='button']:hover`]:{[`${e}-item-title`]:{color:r}}}}}},o5e=i5e,a5e=t=>{const{componentCls:e,iconSize:n,lineHeight:r,iconSizeSM:i}=t;return{[`&${e}-label-vertical`]:{[`${e}-item`]:{overflow:"visible","&-tail":{marginInlineStart:t.calc(n).div(2).add(t.controlHeightLG).equal(),padding:`0 ${Re(t.paddingLG)}`},"&-content":{display:"block",width:t.calc(n).div(2).add(t.controlHeightLG).mul(2).equal(),marginTop:t.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:t.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:t.marginXXS,marginInlineStart:0,lineHeight:r}},[`&${e}-small:not(${e}-dot)`]:{[`${e}-item`]:{"&-icon":{marginInlineStart:t.calc(n).sub(i).div(2).add(t.controlHeightLG).equal()}}}}}},s5e=a5e,l5e=t=>{const{componentCls:e,navContentMaxWidth:n,navArrowColor:r,stepsNavActiveColor:i,motionDurationSlow:o}=t;return{[`&${e}-navigation`]:{paddingTop:t.paddingSM,[`&${e}-small`]:{[`${e}-item`]:{"&-container":{marginInlineStart:t.calc(t.marginSM).mul(-1).equal()}}},[`${e}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:t.calc(t.margin).mul(-1).equal(),paddingBottom:t.paddingSM,textAlign:"start",transition:`opacity ${o}`,[`${e}-item-content`]:{maxWidth:n},[`${e}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},Wh),{"&::after":{display:"none"}})},[`&:not(${e}-item-active)`]:{[`${e}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${Re(t.calc(t.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,borderTop:`${Re(t.lineWidth)} ${t.lineType} ${r}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${Re(t.lineWidth)} ${t.lineType} ${r}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:t.lineWidthBold,backgroundColor:i,transition:`width ${o}, inset-inline-start ${o}`,transitionTimingFunction:"ease-out",content:'""'}},[`${e}-item${e}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${e}-navigation${e}-vertical`]:{[`> ${e}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${e}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:t.calc(t.lineWidth).mul(3).equal(),height:`calc(100% - ${Re(t.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:t.calc(t.controlHeight).mul(.25).equal(),height:t.calc(t.controlHeight).mul(.25).equal(),marginBottom:t.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${e}-item-container > ${e}-item-tail`]:{visibility:"hidden"}}},[`&${e}-navigation${e}-horizontal`]:{[`> ${e}-item > ${e}-item-container > ${e}-item-tail`]:{visibility:"hidden"}}}},c5e=l5e,u5e=t=>{const{antCls:e,componentCls:n,iconSize:r,iconSizeSM:i,processIconColor:o,marginXXS:a,lineWidthBold:s,lineWidth:l,paddingXXS:c}=t,u=t.calc(r).add(t.calc(s).mul(4).equal()).equal(),d=t.calc(i).add(t.calc(t.lineWidth).mul(4).equal()).equal();return{[`&${n}-with-progress`]:{[`${n}-item`]:{paddingTop:c,[`&-process ${n}-item-container ${n}-item-icon ${n}-icon`]:{color:o}},[`&${n}-vertical > ${n}-item `]:{paddingInlineStart:c,[`> ${n}-item-container > ${n}-item-tail`]:{top:a,insetInlineStart:t.calc(r).div(2).sub(l).add(c).equal()}},[`&, &${n}-small`]:{[`&${n}-horizontal ${n}-item:first-child`]:{paddingBottom:c,paddingInlineStart:c}},[`&${n}-small${n}-vertical > ${n}-item > ${n}-item-container > ${n}-item-tail`]:{insetInlineStart:t.calc(i).div(2).sub(l).add(c).equal()},[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:t.calc(r).div(2).add(c).equal()},[`${n}-item-icon`]:{position:"relative",[`${e}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${Re(u)} !important`,height:`${Re(u)} !important`}}},[`&${n}-small`]:{[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:t.calc(i).div(2).add(c).equal()},[`${n}-item-icon ${e}-progress-inner`]:{width:`${Re(d)} !important`,height:`${Re(d)} !important`}}}}},d5e=u5e,f5e=t=>{const{componentCls:e,descriptionMaxWidth:n,lineHeight:r,dotCurrentSize:i,dotSize:o,motionDurationSlow:a}=t;return{[`&${e}-dot, &${e}-dot${e}-small`]:{[`${e}-item`]:{"&-title":{lineHeight:r},"&-tail":{top:t.calc(t.dotSize).sub(t.calc(t.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${Re(t.calc(n).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${Re(t.calc(t.marginSM).mul(2).equal())})`,height:t.calc(t.lineWidth).mul(3).equal(),marginInlineStart:t.marginSM}},"&-icon":{width:o,height:o,marginInlineStart:t.calc(t.descriptionMaxWidth).sub(o).div(2).equal(),paddingInlineEnd:0,lineHeight:Re(o),background:"transparent",border:0,[`${e}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${a}`,"&::after":{position:"absolute",top:t.calc(t.marginSM).mul(-1).equal(),insetInlineStart:t.calc(o).sub(t.calc(t.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:t.calc(t.controlHeightLG).mul(1.5).equal(),height:t.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:n},[`&-process ${e}-item-icon`]:{position:"relative",top:t.calc(o).sub(i).div(2).equal(),width:i,height:i,lineHeight:Re(i),background:"none",marginInlineStart:t.calc(t.descriptionMaxWidth).sub(i).div(2).equal()},[`&-process ${e}-icon`]:{[`&:first-child ${e}-icon-dot`]:{insetInlineStart:0}}}},[`&${e}-vertical${e}-dot`]:{[`${e}-item-icon`]:{marginTop:t.calc(t.controlHeight).sub(o).div(2).equal(),marginInlineStart:0,background:"none"},[`${e}-item-process ${e}-item-icon`]:{marginTop:t.calc(t.controlHeight).sub(i).div(2).equal(),top:0,insetInlineStart:t.calc(o).sub(i).div(2).equal(),marginInlineStart:0},[`${e}-item > ${e}-item-container > ${e}-item-tail`]:{top:t.calc(t.controlHeight).sub(o).div(2).equal(),insetInlineStart:0,margin:0,padding:`${Re(t.calc(o).add(t.paddingXS).equal())} 0 ${Re(t.paddingXS)}`,"&::after":{marginInlineStart:t.calc(o).sub(t.lineWidth).div(2).equal()}},[`&${e}-small`]:{[`${e}-item-icon`]:{marginTop:t.calc(t.controlHeightSM).sub(o).div(2).equal()},[`${e}-item-process ${e}-item-icon`]:{marginTop:t.calc(t.controlHeightSM).sub(i).div(2).equal()},[`${e}-item > ${e}-item-container > ${e}-item-tail`]:{top:t.calc(t.controlHeightSM).sub(o).div(2).equal()}},[`${e}-item:first-child ${e}-icon-dot`]:{insetInlineStart:0},[`${e}-item-content`]:{width:"inherit"}}}},h5e=f5e,p5e=t=>{const{componentCls:e}=t;return{[`&${e}-rtl`]:{direction:"rtl",[`${e}-item`]:{"&-subtitle":{float:"left"}},[`&${e}-navigation`]:{[`${e}-item::after`]:{transform:"rotate(-45deg)"}},[`&${e}-vertical`]:{[`> ${e}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${e}-item-icon`]:{float:"right"}}},[`&${e}-dot`]:{[`${e}-item-icon ${e}-icon-dot, &${e}-small ${e}-item-icon ${e}-icon-dot`]:{float:"right"}}}}},m5e=p5e,g5e=t=>{const{componentCls:e,iconSizeSM:n,fontSizeSM:r,fontSize:i,colorTextDescription:o}=t;return{[`&${e}-small`]:{[`&${e}-horizontal:not(${e}-label-vertical) ${e}-item`]:{paddingInlineStart:t.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${e}-item-icon`]:{width:n,height:n,marginTop:0,marginBottom:0,marginInline:`0 ${Re(t.marginXS)}`,fontSize:r,lineHeight:Re(n),textAlign:"center",borderRadius:n},[`${e}-item-title`]:{paddingInlineEnd:t.paddingSM,fontSize:i,lineHeight:Re(n),"&::after":{top:t.calc(n).div(2).equal()}},[`${e}-item-description`]:{color:o,fontSize:i},[`${e}-item-tail`]:{top:t.calc(n).div(2).sub(t.paddingXXS).equal()},[`${e}-item-custom ${e}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${e}-icon`]:{fontSize:n,lineHeight:Re(n),transform:"none"}}}}},A5e=g5e,v5e=t=>{const{componentCls:e,iconSizeSM:n,iconSize:r}=t;return{[`&${e}-vertical`]:{display:"flex",flexDirection:"column",[`> ${e}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${e}-item-icon`]:{float:"left",marginInlineEnd:t.margin},[`${e}-item-content`]:{display:"block",minHeight:t.calc(t.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${e}-item-title`]:{lineHeight:Re(r)},[`${e}-item-description`]:{paddingBottom:t.paddingSM}},[`> ${e}-item > ${e}-item-container > ${e}-item-tail`]:{position:"absolute",top:0,insetInlineStart:t.calc(r).div(2).sub(t.lineWidth).equal(),width:t.lineWidth,height:"100%",padding:`${Re(t.calc(t.marginXXS).mul(1.5).add(r).equal())} 0 ${Re(t.calc(t.marginXXS).mul(1.5).equal())}`,"&::after":{width:t.lineWidth,height:"100%"}},[`> ${e}-item:not(:last-child) > ${e}-item-container > ${e}-item-tail`]:{display:"block"},[` > ${e}-item > ${e}-item-container > ${e}-item-content > ${e}-item-title`]:{"&::after":{display:"none"}},[`&${e}-small ${e}-item-container`]:{[`${e}-item-tail`]:{position:"absolute",top:0,insetInlineStart:t.calc(n).div(2).sub(t.lineWidth).equal(),padding:`${Re(t.calc(t.marginXXS).mul(1.5).add(n).equal())} 0 ${Re(t.calc(t.marginXXS).mul(1.5).equal())}`},[`${e}-item-title`]:{lineHeight:Re(n)}}}}},y5e=v5e,b5e="wait",x5e="process",S5e="finish",_5e="error",A_=(t,e)=>{const n=`${e.componentCls}-item`,r=`${t}IconColor`,i=`${t}TitleColor`,o=`${t}DescriptionColor`,a=`${t}TailColor`,s=`${t}IconBgColor`,l=`${t}IconBorderColor`,c=`${t}DotColor`;return{[`${n}-${t} ${n}-icon`]:{backgroundColor:e[s],borderColor:e[l],[`> ${e.componentCls}-icon`]:{color:e[r],[`${e.componentCls}-icon-dot`]:{background:e[c]}}},[`${n}-${t}${n}-custom ${n}-icon`]:{[`> ${e.componentCls}-icon`]:{color:e[c]}},[`${n}-${t} > ${n}-container > ${n}-content > ${n}-title`]:{color:e[i],"&::after":{backgroundColor:e[a]}},[`${n}-${t} > ${n}-container > ${n}-content > ${n}-description`]:{color:e[o]},[`${n}-${t} > ${n}-container > ${n}-tail::after`]:{backgroundColor:e[a]}}},w5e=t=>{const{componentCls:e,motionDurationSlow:n}=t,r=`${e}-item`,i=`${r}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[r]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${r}-container > ${r}-tail, > ${r}-container >  ${r}-content > ${r}-title::after`]:{display:"none"}}},[`${r}-container`]:{outline:"none",[`&:focus-visible ${i}`]:zA(t)},[`${i}, ${r}-content`]:{display:"inline-block",verticalAlign:"top"},[i]:{width:t.iconSize,height:t.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:t.marginXS,fontSize:t.iconFontSize,fontFamily:t.fontFamily,lineHeight:Re(t.iconSize),textAlign:"center",borderRadius:t.iconSize,border:`${Re(t.lineWidth)} ${t.lineType} transparent`,transition:`background-color ${n}, border-color ${n}`,[`${e}-icon`]:{position:"relative",top:t.iconTop,color:t.colorPrimary,lineHeight:1}},[`${r}-tail`]:{position:"absolute",top:t.calc(t.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:t.lineWidth,background:t.colorSplit,borderRadius:t.lineWidth,transition:`background ${n}`,content:'""'}},[`${r}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:t.padding,color:t.colorText,fontSize:t.fontSizeLG,lineHeight:Re(t.titleLineHeight),"&::after":{position:"absolute",top:t.calc(t.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:t.lineWidth,background:t.processTailColor,content:'""'}},[`${r}-subtitle`]:{display:"inline",marginInlineStart:t.marginXS,color:t.colorTextDescription,fontWeight:"normal",fontSize:t.fontSize},[`${r}-description`]:{color:t.colorTextDescription,fontSize:t.fontSize}},A_(b5e,t)),A_(x5e,t)),{[`${r}-process > ${r}-container > ${r}-title`]:{fontWeight:t.fontWeightStrong}}),A_(S5e,t)),A_(_5e,t)),{[`${r}${e}-next-error > ${e}-item-title::after`]:{background:t.colorError},[`${r}-disabled`]:{cursor:"not-allowed"}})},C5e=t=>{const{componentCls:e,motionDurationSlow:n}=t;return{[`& ${e}-item`]:{[`&:not(${e}-item-active)`]:{[`& > ${e}-item-container[role='button']`]:{cursor:"pointer",[`${e}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${e}-icon`]:{transition:`color ${n}`}},"&:hover":{[`${e}-item`]:{"&-title, &-subtitle, &-description":{color:t.colorPrimary}}}},[`&:not(${e}-item-process)`]:{[`& > ${e}-item-container[role='button']:hover`]:{[`${e}-item`]:{"&-icon":{borderColor:t.colorPrimary,[`${e}-icon`]:{color:t.colorPrimary}}}}}}},[`&${e}-horizontal:not(${e}-label-vertical)`]:{[`${e}-item`]:{paddingInlineStart:t.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${e}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:t.descriptionMaxWidth,whiteSpace:"normal"}}}}},T5e=t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ji(t)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),w5e(t)),C5e(t)),t5e(t)),A5e(t)),y5e(t)),r5e(t)),s5e(t)),h5e(t)),c5e(t)),m5e(t)),d5e(t)),o5e(t))}},E5e=t=>({titleLineHeight:t.controlHeight,customIconSize:t.controlHeight,customIconTop:0,customIconFontSize:t.controlHeightSM,iconSize:t.controlHeight,iconTop:-.5,iconFontSize:t.fontSize,iconSizeSM:t.fontSizeHeading3,dotSize:t.controlHeight/4,dotCurrentSize:t.controlHeightLG/4,navArrowColor:t.colorTextDisabled,navContentMaxWidth:"unset",descriptionMaxWidth:140,waitIconColor:t.wireframe?t.colorTextDisabled:t.colorTextLabel,waitIconBgColor:t.wireframe?t.colorBgContainer:t.colorFillContent,waitIconBorderColor:t.wireframe?t.colorTextDisabled:"transparent",finishIconBgColor:t.wireframe?t.colorBgContainer:t.controlItemBgActive,finishIconBorderColor:t.wireframe?t.colorPrimary:t.controlItemBgActive}),M5e=di("Steps",t=>{const{colorTextDisabled:e,controlHeightLG:n,colorTextLightSolid:r,colorText:i,colorPrimary:o,colorTextDescription:a,colorTextQuaternary:s,colorError:l,colorBorderSecondary:c,colorSplit:u}=t,d=Fr(t,{processIconColor:r,processTitleColor:i,processDescriptionColor:i,processIconBgColor:o,processIconBorderColor:o,processDotColor:o,processTailColor:u,waitTitleColor:a,waitDescriptionColor:a,waitTailColor:u,waitDotColor:e,finishIconColor:o,finishTitleColor:i,finishDescriptionColor:a,finishTailColor:o,finishDotColor:o,errorIconColor:r,errorTitleColor:l,errorDescriptionColor:l,errorTailColor:u,errorIconBgColor:l,errorIconBorderColor:l,errorDotColor:l,stepsNavActiveColor:o,stepsProgressSize:n,inlineDotSize:6,inlineTitleColor:s,inlineTailColor:c});return T5e(d)},E5e);function R5e(t){return t.filter(e=>e)}function P5e(t,e){if(t)return t;const n=bc(e).map(r=>{if(S.isValidElement(r)){const{props:i}=r;return Object.assign({},i)}return null});return R5e(n)}var N5e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Xre=t=>{const{percent:e,size:n,className:r,rootClassName:i,direction:o,items:a,responsive:s=!0,current:l=0,children:c,style:u}=t,d=N5e(t,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:f}=dM(s),{getPrefixCls:h,direction:p,className:x,style:b}=fa("steps"),y=S.useMemo(()=>s&&f?"vertical":o,[s,f,o]),_=Os(n),C=h("steps",t.prefixCls),[E,M,R]=M5e(C),N=t.type==="inline",O=h("",t.iconPrefix),I=P5e(a,c),L=N?void 0:e,F=Object.assign(Object.assign({},b),u),$=ke(x,{[`${C}-rtl`]:p==="rtl",[`${C}-with-progress`]:L!==void 0},r,i,M,R),V={finish:S.createElement(uM,{className:`${C}-finish-icon`}),error:S.createElement(f0,{className:`${C}-error-icon`})},U=({node:z,status:H})=>{if(H==="process"&&L!==void 0){const j=_==="small"?32:40;return S.createElement("div",{className:`${C}-progress-icon`},S.createElement(QOe,{type:"circle",percent:L,size:j,strokeWidth:4,format:()=>null}),z)}return z},k=(z,H)=>z.description?S.createElement(m0,{title:z.description},H):H;return E(S.createElement(RB,Object.assign({icons:V},d,{style:F,current:l,size:_,items:I,itemRender:N?k:void 0,stepIcon:U,direction:y,prefixCls:C,iconPrefix:O,className:$})))};Xre.Step=RB.Step;const I5e=Xre,D5e=t=>{const{paddingXXS:e,lineWidth:n,tagPaddingHorizontal:r,componentCls:i,calc:o}=t,a=o(r).sub(n).equal(),s=o(e).sub(n).equal();return{[i]:Object.assign(Object.assign({},Ji(t)),{display:"inline-block",height:"auto",marginInlineEnd:t.marginXS,paddingInline:a,fontSize:t.tagFontSize,lineHeight:t.tagLineHeight,whiteSpace:"nowrap",background:t.defaultBg,border:`${Re(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,opacity:1,transition:`all ${t.motionDurationMid}`,textAlign:"start",position:"relative",[`&${i}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:t.defaultColor},[`${i}-close-icon`]:{marginInlineStart:s,fontSize:t.tagIconSize,color:t.colorIcon,cursor:"pointer",transition:`all ${t.motionDurationMid}`,"&:hover":{color:t.colorTextHeading}},[`&${i}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${t.iconCls}-close, ${t.iconCls}-close:hover`]:{color:t.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${i}-checkable-checked):hover`]:{color:t.colorPrimary,backgroundColor:t.colorFillSecondary},"&:active, &-checked":{color:t.colorTextLightSolid},"&-checked":{backgroundColor:t.colorPrimary,"&:hover":{backgroundColor:t.colorPrimaryHover}},"&:active":{backgroundColor:t.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${t.iconCls} + span, > span + ${t.iconCls}`]:{marginInlineStart:a}}),[`${i}-borderless`]:{borderColor:"transparent",background:t.tagBorderlessBg}}},PB=t=>{const{lineWidth:e,fontSizeIcon:n,calc:r}=t,i=t.fontSizeSM;return Fr(t,{tagFontSize:i,tagLineHeight:Re(r(t.lineHeightSM).mul(i).equal()),tagIconSize:r(n).sub(r(e).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:t.defaultBg})},NB=t=>({defaultBg:new Kr(t.colorFillQuaternary).onBackground(t.colorBgContainer).toHexString(),defaultColor:t.colorText}),Yre=di("Tag",t=>{const e=PB(t);return D5e(e)},NB);var O5e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const L5e=S.forwardRef((t,e)=>{const{prefixCls:n,style:r,className:i,checked:o,children:a,icon:s,onChange:l,onClick:c}=t,u=O5e(t,["prefixCls","style","className","checked","children","icon","onChange","onClick"]),{getPrefixCls:d,tag:f}=S.useContext(Kn),h=C=>{l==null||l(!o),c==null||c(C)},p=d("tag",n),[x,b,y]=Yre(p),_=ke(p,`${p}-checkable`,{[`${p}-checkable-checked`]:o},f==null?void 0:f.className,i,b,y);return x(S.createElement("span",Object.assign({},u,{ref:e,style:Object.assign(Object.assign({},r),f==null?void 0:f.style),className:_,onClick:h}),s,S.createElement("span",null,a)))}),B5e=L5e,F5e=t=>q3(t,(e,{textColor:n,lightBorderColor:r,lightColor:i,darkColor:o})=>({[`${t.componentCls}${t.componentCls}-${e}`]:{color:n,background:i,borderColor:r,"&-inverse":{color:t.colorTextLightSolid,background:o,borderColor:o},[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}})),$5e=Wv(["Tag","preset"],t=>{const e=PB(t);return F5e(e)},NB);function U5e(t){return typeof t!="string"?t:t.charAt(0).toUpperCase()+t.slice(1)}const v_=(t,e,n)=>{const r=U5e(n);return{[`${t.componentCls}${t.componentCls}-${e}`]:{color:t[`color${n}`],background:t[`color${r}Bg`],borderColor:t[`color${r}Border`],[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}},k5e=Wv(["Tag","status"],t=>{const e=PB(t);return[v_(e,"success","Success"),v_(e,"processing","Info"),v_(e,"error","Error"),v_(e,"warning","Warning")]},NB);var V5e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const z5e=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:i,style:o,children:a,icon:s,color:l,onClose:c,bordered:u=!0,visible:d}=t,f=V5e(t,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:h,direction:p,tag:x}=S.useContext(Kn),[b,y]=S.useState(!0),_=go(f,["closeIcon","closable"]);S.useEffect(()=>{d!==void 0&&y(d)},[d]);const C=fM(l),E=DEe(l),M=C||E,R=Object.assign(Object.assign({backgroundColor:l&&!M?l:void 0},x==null?void 0:x.style),o),N=h("tag",n),[O,I,L]=Yre(N),F=ke(N,x==null?void 0:x.className,{[`${N}-${l}`]:M,[`${N}-has-color`]:l&&!M,[`${N}-hidden`]:!b,[`${N}-rtl`]:p==="rtl",[`${N}-borderless`]:!u},r,i,I,L),$=j=>{j.stopPropagation(),c==null||c(j),!j.defaultPrevented&&y(!1)},[,V]=dee(NT(t),NT(x),{closable:!1,closeIconRender:j=>{const X=S.createElement("span",{className:`${N}-close-icon`,onClick:$},j);return uee(j,X,Y=>({onClick:J=>{var ee;(ee=Y==null?void 0:Y.onClick)===null||ee===void 0||ee.call(Y,J),$(J)},className:ke(Y==null?void 0:Y.className,`${N}-close-icon`)}))}}),U=typeof f.onClick=="function"||a&&a.type==="a",k=s||null,z=k?S.createElement(S.Fragment,null,k,a&&S.createElement("span",null,a)):a,H=S.createElement("span",Object.assign({},_,{ref:e,className:F,style:R}),z,V,C&&S.createElement($5e,{key:"preset",prefixCls:N}),E&&S.createElement(k5e,{key:"status",prefixCls:N}));return O(U?S.createElement(vee,{component:"Tag"},H):H)}),Kre=z5e;Kre.CheckableTag=B5e;const G5e=Kre;var H5e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const j5e=H5e;var q5e=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:j5e}))},W5e=S.forwardRef(q5e);const X5e=W5e;var Y5e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const K5e=Y5e;var Q5e=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:K5e}))},Z5e=S.forwardRef(Q5e);const J5e=Z5e;var e6e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const t6e=e6e;var n6e=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:t6e}))},r6e=S.forwardRef(n6e);const i6e=r6e,o6e=(t,e,n,r)=>{const{titleMarginBottom:i,fontWeightStrong:o}=r;return{marginBottom:i,color:n,fontWeight:o,fontSize:t,lineHeight:e}},a6e=t=>{const e=[1,2,3,4,5],n={};return e.forEach(r=>{n[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=o6e(t[`fontSizeHeading${r}`],t[`lineHeightHeading${r}`],t.colorTextHeading,t)}),n},s6e=t=>{const{componentCls:e}=t;return{"a&, a":Object.assign(Object.assign({},jJ(t)),{userSelect:"text",[`&[disabled], &${e}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:t.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},l6e=t=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:t.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:t.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:ET[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:t.fontWeightStrong},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:t.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),c6e=t=>{const{componentCls:e,paddingSM:n}=t,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:t.calc(t.paddingSM).mul(-1).equal(),insetBlockStart:t.calc(r).div(-2).add(1).equal(),marginBottom:t.calc(r).div(2).sub(2).equal()},[`${e}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:t.calc(t.marginXS).add(2).equal(),insetBlockEnd:t.marginXS,color:t.colorIcon,fontWeight:"normal",fontSize:t.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},u6e=t=>({[`${t.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:t.colorSuccess}},[`${t.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),d6e=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),f6e=t=>{const{componentCls:e,titleMarginTop:n}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorText,wordBreak:"break-word",lineHeight:t.lineHeight,[`&${e}-secondary`]:{color:t.colorTextDescription},[`&${e}-success`]:{color:t.colorSuccessText},[`&${e}-warning`]:{color:t.colorWarningText},[`&${e}-danger`]:{color:t.colorErrorText,"a&:active, a&:focus":{color:t.colorErrorTextActive},"a&:hover":{color:t.colorErrorTextHover}},[`&${e}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},a6e(t)),{[`
      & + h1${e},
      & + h2${e},
      & + h3${e},
      & + h4${e},
      & + h5${e}
      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),l6e(t)),s6e(t)),{[`
        ${e}-expand,
        ${e}-collapse,
        ${e}-edit,
        ${e}-copy
      `]:Object.assign(Object.assign({},jJ(t)),{marginInlineStart:t.marginXXS})}),c6e(t)),u6e(t)),d6e()),{"&-rtl":{direction:"rtl"}})}},h6e=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),Qre=di("Typography",f6e,h6e),p6e=t=>{const{prefixCls:e,"aria-label":n,className:r,style:i,direction:o,maxLength:a,autoSize:s=!0,value:l,onSave:c,onCancel:u,onEnd:d,component:f,enterIcon:h=S.createElement(i6e,null)}=t,p=S.useRef(null),x=S.useRef(!1),b=S.useRef(null),[y,_]=S.useState(l);S.useEffect(()=>{_(l)},[l]),S.useEffect(()=>{var U;if(!((U=p.current)===null||U===void 0)&&U.resizableTextArea){const{textArea:k}=p.current.resizableTextArea;k.focus();const{length:z}=k.value;k.setSelectionRange(z,z)}},[]);const C=({target:U})=>{_(U.value.replace(/[\n\r]/g,""))},E=()=>{x.current=!0},M=()=>{x.current=!1},R=({keyCode:U})=>{x.current||(b.current=U)},N=()=>{c(y.trim())},O=({keyCode:U,ctrlKey:k,altKey:z,metaKey:H,shiftKey:j})=>{b.current!==U||x.current||k||z||H||j||(U===Bt.ENTER?(N(),d==null||d()):U===Bt.ESC&&u())},I=()=>{N()},[L,F,$]=Qre(e),V=ke(e,`${e}-edit-content`,{[`${e}-rtl`]:o==="rtl",[`${e}-${f}`]:!!f},r,F,$);return L(S.createElement("div",{className:V,style:i},S.createElement(Pre,{ref:p,maxLength:a,value:y,onChange:C,onKeyDown:R,onKeyUp:O,onCompositionStart:E,onCompositionEnd:M,onBlur:I,"aria-label":n,rows:1,autoSize:s}),h!==null?_c(h,{className:`${e}-edit-content-confirm`}):null))},m6e=p6e;var g6e=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(i){t.addRange(i)}),e&&e.focus()}},A6e=g6e,NG={"text/plain":"Text","text/html":"Url",default:"Text"},v6e="Copy to clipboard: #{key}, Enter";function y6e(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function b6e(t,e){var n,r,i,o,a,s,l=!1;e||(e={}),n=e.debug||!1;try{i=A6e(),o=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=t,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=NG[e.format]||NG.default;window.clipboardData.setData(d,t)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,t);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(s),o.selectNodeContents(s),a.addRange(o);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),r=y6e("message"in e?e.message:v6e),window.prompt(r,t)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(o):a.removeAllRanges()),s&&document.body.removeChild(s),i()}return l}var x6e=b6e;const S6e=sl(x6e);var _6e=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const w6e=({copyConfig:t,children:e})=>{const[n,r]=S.useState(!1),[i,o]=S.useState(!1),a=S.useRef(null),s=()=>{a.current&&clearTimeout(a.current)},l={};t.format&&(l.format=t.format),S.useEffect(()=>s,[]);const c=Or(u=>_6e(void 0,void 0,void 0,function*(){var d;u==null||u.preventDefault(),u==null||u.stopPropagation(),o(!0);try{const f=typeof t.text=="function"?yield t.text():t.text;S6e(f||cOe(e,!0).join("")||"",l),o(!1),r(!0),s(),a.current=setTimeout(()=>{r(!1)},3e3),(d=t.onCopy)===null||d===void 0||d.call(t,u)}catch(f){throw o(!1),f}}));return{copied:n,copyLoading:i,onClick:c}},C6e=w6e;function F4(t,e){return S.useMemo(()=>{const n=!!t;return[n,Object.assign(Object.assign({},e),n&&typeof t=="object"?t:null)]},[t])}const T6e=t=>{const e=S.useRef(void 0);return S.useEffect(()=>{e.current=t}),e.current},E6e=T6e,M6e=(t,e,n)=>S.useMemo(()=>t===!0?{title:e??n}:S.isValidElement(t)?{title:t}:typeof t=="object"?Object.assign({title:e??n},t):{title:t},[t,e,n]),R6e=M6e;var P6e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const N6e=S.forwardRef((t,e)=>{const{prefixCls:n,component:r="article",className:i,rootClassName:o,setContentRef:a,children:s,direction:l,style:c}=t,u=P6e(t,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:d,direction:f,className:h,style:p}=fa("typography"),x=l??f,b=a?ll(e,a):e,y=d("typography",n),[_,C,E]=Qre(y),M=ke(y,h,{[`${y}-rtl`]:x==="rtl"},i,o,C,E),R=Object.assign(Object.assign({},p),c);return _(S.createElement(r,Object.assign({className:M,style:R,ref:b},u),s))}),Zre=N6e;var I6e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const D6e=I6e;var O6e=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:D6e}))},L6e=S.forwardRef(O6e);const B6e=L6e;function IG(t){return t===!1?[!1,!1]:Array.isArray(t)?t:[t]}function $4(t,e,n){return t===!0||t===void 0?e:t||n&&e}function F6e(t){const e=document.createElement("em");t.appendChild(e);const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return t.removeChild(e),n.left>r.left||r.right>n.right||n.top>r.top||r.bottom>n.bottom}const IB=t=>["string","number"].includes(typeof t),$6e=({prefixCls:t,copied:e,locale:n,iconOnly:r,tooltips:i,icon:o,tabIndex:a,onCopy:s,loading:l})=>{const c=IG(i),u=IG(o),{copied:d,copy:f}=n??{},h=e?d:f,p=$4(c[e?1:0],h),x=typeof p=="string"?p:h;return S.createElement(m0,{title:p},S.createElement("button",{type:"button",className:ke(`${t}-copy`,{[`${t}-copy-success`]:e,[`${t}-copy-icon-only`]:r}),onClick:s,"aria-label":x,tabIndex:a},e?$4(u[1],S.createElement(uM,null),!0):$4(u[0],l?S.createElement(Q3,null):S.createElement(B6e,null),!0)))},U6e=$6e,y_=S.forwardRef(({style:t,children:e},n)=>{const r=S.useRef(null);return S.useImperativeHandle(n,()=>({isExceed:()=>{const i=r.current;return i.scrollHeight>i.clientHeight},getHeight:()=>r.current.clientHeight})),S.createElement("span",{"aria-hidden":!0,ref:r,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},t)},e)}),k6e=t=>t.reduce((e,n)=>e+(IB(n)?String(n).length:1),0);function DG(t,e){let n=0;const r=[];for(let i=0;i<t.length;i+=1){if(n===e)return r;const o=t[i],s=IB(o)?String(o).length:1,l=n+s;if(l>e){const c=e-n;return r.push(String(o).slice(0,c)),r}r.push(o),n=l}return t}const U4=0,k4=1,V4=2,z4=3,OG=4,b_={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function V6e(t){const{enableMeasure:e,width:n,text:r,children:i,rows:o,expanded:a,miscDeps:s,onEllipsis:l}=t,c=S.useMemo(()=>bc(r),[r]),u=S.useMemo(()=>k6e(c),[r]),d=S.useMemo(()=>i(c,!1),[r]),[f,h]=S.useState(null),p=S.useRef(null),x=S.useRef(null),b=S.useRef(null),y=S.useRef(null),_=S.useRef(null),[C,E]=S.useState(!1),[M,R]=S.useState(U4),[N,O]=S.useState(0),[I,L]=S.useState(null);wr(()=>{R(e&&n&&u?k4:U4)},[n,r,o,e,c]),wr(()=>{var U,k,z,H;if(M===k4){R(V4);const j=x.current&&getComputedStyle(x.current).whiteSpace;L(j)}else if(M===V4){const j=!!(!((U=b.current)===null||U===void 0)&&U.isExceed());R(j?z4:OG),h(j?[0,u]:null),E(j);const X=((k=b.current)===null||k===void 0?void 0:k.getHeight())||0,Y=o===1?0:((z=y.current)===null||z===void 0?void 0:z.getHeight())||0,J=((H=_.current)===null||H===void 0?void 0:H.getHeight())||0,ee=Math.max(X,Y+J);O(ee+1),l(j)}},[M]);const F=f?Math.ceil((f[0]+f[1])/2):0;wr(()=>{var U;const[k,z]=f||[0,0];if(k!==z){const j=(((U=p.current)===null||U===void 0?void 0:U.getHeight())||0)>N;let X=F;z-k===1&&(X=j?k:z),h(j?[k,X]:[X,z])}},[f,F]);const $=S.useMemo(()=>{if(!e)return i(c,!1);if(M!==z4||!f||f[0]!==f[1]){const U=i(c,!1);return[OG,U4].includes(M)?U:S.createElement("span",{style:Object.assign(Object.assign({},b_),{WebkitLineClamp:o})},U)}return i(a?c:DG(c,f[0]),C)},[a,M,f,c].concat(zt(s))),V={width:n,margin:0,padding:0,whiteSpace:I==="nowrap"?"normal":"inherit"};return S.createElement(S.Fragment,null,$,M===V4&&S.createElement(S.Fragment,null,S.createElement(y_,{style:Object.assign(Object.assign(Object.assign({},V),b_),{WebkitLineClamp:o}),ref:b},d),S.createElement(y_,{style:Object.assign(Object.assign(Object.assign({},V),b_),{WebkitLineClamp:o-1}),ref:y},d),S.createElement(y_,{style:Object.assign(Object.assign(Object.assign({},V),b_),{WebkitLineClamp:1}),ref:_},i([],!0))),M===z4&&f&&f[0]!==f[1]&&S.createElement(y_,{style:Object.assign(Object.assign({},V),{top:400}),ref:p},i(DG(c,F),!0)),M===k4&&S.createElement("span",{style:{whiteSpace:"inherit"},ref:x}))}const z6e=({enableEllipsis:t,isEllipsis:e,children:n,tooltipProps:r})=>!(r!=null&&r.title)||!t?n:S.createElement(m0,Object.assign({open:e?void 0:!1},r),n),G6e=z6e;var H6e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function j6e({mark:t,code:e,underline:n,delete:r,strong:i,keyboard:o,italic:a},s){let l=s;function c(u,d){d&&(l=S.createElement(u,{},l))}return c("strong",i),c("u",n),c("del",r),c("code",e),c("mark",t),c("kbd",o),c("i",a),l}const q6e="...",LG=["delete","mark","code","underline","strong","keyboard","italic"],W6e=S.forwardRef((t,e)=>{var n;const{prefixCls:r,className:i,style:o,type:a,disabled:s,children:l,ellipsis:c,editable:u,copyable:d,component:f,title:h}=t,p=H6e(t,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:x,direction:b}=S.useContext(Kn),[y]=Vl("Text"),_=S.useRef(null),C=S.useRef(null),E=x("typography",r),M=go(p,LG),[R,N]=F4(u),[O,I]=yi(!1,{value:N.editing}),{triggerType:L=["icon"]}=N,F=tt=>{var ze;tt&&((ze=N.onStart)===null||ze===void 0||ze.call(N)),I(tt)},$=E6e(O);wr(()=>{var tt;!O&&$&&((tt=C.current)===null||tt===void 0||tt.focus())},[O]);const V=tt=>{tt==null||tt.preventDefault(),F(!0)},U=tt=>{var ze;(ze=N.onChange)===null||ze===void 0||ze.call(N,tt),F(!1)},k=()=>{var tt;(tt=N.onCancel)===null||tt===void 0||tt.call(N),F(!1)},[z,H]=F4(d),{copied:j,copyLoading:X,onClick:Y}=C6e({copyConfig:H,children:l}),[J,ee]=S.useState(!1),[re,ue]=S.useState(!1),[fe,oe]=S.useState(!1),[ce,pe]=S.useState(!1),[ye,xe]=S.useState(!0),[be,Ce]=F4(c,{expandable:!1,symbol:tt=>tt?y==null?void 0:y.collapse:y==null?void 0:y.expand}),[Ne,Ae]=yi(Ce.defaultExpanded||!1,{value:Ce.expanded}),me=be&&(!Ne||Ce.expandable==="collapsible"),{rows:de=1}=Ce,Be=S.useMemo(()=>me&&(Ce.suffix!==void 0||Ce.onEllipsis||Ce.expandable||R||z),[me,Ce,R,z]);wr(()=>{be&&!Be&&(ee(nz("webkitLineClamp")),ue(nz("textOverflow")))},[Be,be]);const[ne,Je]=S.useState(me),Ye=S.useMemo(()=>Be?!1:de===1?re:J,[Be,re,J]);wr(()=>{Je(Ye&&me)},[Ye,me]);const rt=me&&(ne?ce:fe),qe=me&&de===1&&ne,se=me&&de>1&&ne,K=(tt,ze)=>{var bt;Ae(ze.expanded),(bt=Ce.onExpand)===null||bt===void 0||bt.call(Ce,tt,ze)},[_e,Ue]=S.useState(0),lt=({offsetWidth:tt})=>{Ue(tt)},We=tt=>{var ze;oe(tt),fe!==tt&&((ze=Ce.onEllipsis)===null||ze===void 0||ze.call(Ce,tt))};S.useEffect(()=>{const tt=_.current;if(be&&ne&&tt){const ze=F6e(tt);ce!==ze&&pe(ze)}},[be,ne,l,se,ye,_e]),S.useEffect(()=>{const tt=_.current;if(typeof IntersectionObserver>"u"||!tt||!ne||!me)return;const ze=new IntersectionObserver(()=>{xe(!!tt.offsetParent)});return ze.observe(tt),()=>{ze.disconnect()}},[ne,me]);const pt=R6e(Ce.tooltip,N.text,l),mt=S.useMemo(()=>{if(!(!be||ne))return[N.text,l,h,pt.title].find(IB)},[be,ne,h,pt.title,rt]);if(O)return S.createElement(m6e,{value:(n=N.text)!==null&&n!==void 0?n:typeof l=="string"?l:"",onSave:U,onCancel:k,onEnd:N.onEnd,prefixCls:E,className:i,style:o,direction:b,component:f,maxLength:N.maxLength,autoSize:N.autoSize,enterIcon:N.enterIcon});const vt=()=>{const{expandable:tt,symbol:ze}=Ce;return tt?S.createElement("button",{type:"button",key:"expand",className:`${E}-${Ne?"collapse":"expand"}`,onClick:bt=>K(bt,{expanded:!Ne}),"aria-label":Ne?y.collapse:y==null?void 0:y.expand},typeof ze=="function"?ze(Ne):ze):null},At=()=>{if(!R)return;const{icon:tt,tooltip:ze,tabIndex:bt}=N,Pe=bc(ze)[0]||(y==null?void 0:y.edit),Mt=typeof Pe=="string"?Pe:"";return L.includes("icon")?S.createElement(m0,{key:"edit",title:ze===!1?"":Pe},S.createElement("button",{type:"button",ref:C,className:`${E}-edit`,onClick:V,"aria-label":Mt,tabIndex:bt},tt||S.createElement(J5e,{role:"button"}))):null},ot=()=>z?S.createElement(U6e,Object.assign({key:"copy"},H,{prefixCls:E,copied:j,locale:y,onCopy:Y,loading:X,iconOnly:l==null})):null,Ve=tt=>[tt&&vt(),At(),ot()],at=tt=>[tt&&!Ne&&S.createElement("span",{"aria-hidden":!0,key:"ellipsis"},q6e),Ce.suffix,Ve(tt)];return S.createElement(rl,{onResize:lt,disabled:!me},tt=>S.createElement(G6e,{tooltipProps:pt,enableEllipsis:me,isEllipsis:rt},S.createElement(Zre,Object.assign({className:ke({[`${E}-${a}`]:a,[`${E}-disabled`]:s,[`${E}-ellipsis`]:be,[`${E}-ellipsis-single-line`]:qe,[`${E}-ellipsis-multiple-line`]:se},i),prefixCls:r,style:Object.assign(Object.assign({},o),{WebkitLineClamp:se?de:void 0}),component:f,ref:ll(tt,_,e),direction:b,onClick:L.includes("text")?V:void 0,"aria-label":mt==null?void 0:mt.toString(),title:h},M),S.createElement(V6e,{enableMeasure:me&&!ne,text:l,rows:de,width:_e,onEllipsis:We,expanded:Ne,miscDeps:[j,Ne,X,R,z,y].concat(zt(LG.map(ze=>t[ze])))},(ze,bt)=>j6e(t,S.createElement(S.Fragment,null,ze.length>0&&bt&&!Ne&&mt?S.createElement("span",{key:"show-content","aria-hidden":!0},ze):ze,at(bt)))))))}),MM=W6e;var X6e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Y6e=S.forwardRef((t,e)=>{const{ellipsis:n,rel:r,children:i,navigate:o}=t,a=X6e(t,["ellipsis","rel","children","navigate"]),s=Object.assign(Object.assign({},a),{rel:r===void 0&&a.target==="_blank"?"noopener noreferrer":r});return S.createElement(MM,Object.assign({},s,{ref:e,ellipsis:!!n,component:"a"}),i)}),K6e=Y6e;var Q6e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Z6e=S.forwardRef((t,e)=>{const{children:n}=t,r=Q6e(t,["children"]);return S.createElement(MM,Object.assign({ref:e},r,{component:"div"}),n)}),J6e=Z6e;var e8e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const t8e=(t,e)=>{const{ellipsis:n,children:r}=t,i=e8e(t,["ellipsis","children"]),o=S.useMemo(()=>n&&typeof n=="object"?go(n,["expandable","rows"]):n,[n]);return S.createElement(MM,Object.assign({ref:e},i,{ellipsis:o,component:"span"}),r)},n8e=S.forwardRef(t8e);var r8e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const i8e=[1,2,3,4,5],o8e=S.forwardRef((t,e)=>{const{level:n=1,children:r}=t,i=r8e(t,["level","children"]),o=i8e.includes(n)?`h${n}`:"h1";return S.createElement(MM,Object.assign({ref:e},i,{component:o}),r)}),a8e=o8e,L2=Zre;L2.Text=n8e;L2.Link=K6e;L2.Title=a8e;L2.Paragraph=J6e;const B2=L2;var s8e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const l8e=s8e;var c8e=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:l8e}))},u8e=S.forwardRef(c8e);const d8e=u8e;var f8e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zM304 768V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340H304z"}}]},name:"bell",theme:"outlined"};const h8e=f8e;var p8e=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:h8e}))},m8e=S.forwardRef(p8e);const g8e=m8e;var A8e={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 00-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 100 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 00-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 00-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6z"}}]},name:"shopping-cart",theme:"outlined"};const v8e=A8e;var y8e=function(e,n){return S.createElement(Si,it({},e,{ref:n,icon:v8e}))},b8e=S.forwardRef(y8e);const x8e=b8e,S8e=[{id:1,message:"Flight BA308 has been delayed by 30 minutes.",type:"warning"},{id:2,message:"The Louvre Museum will be closed on August 2nd for a private event.",type:"alert"},{id:3,message:"Weather forecast for Paris: Sunny with a high of 25C.",type:"info"}],_8e=({onClose:t})=>De.jsxs("div",{className:"fixed inset-0 bg-background p-4",children:[De.jsxs("div",{className:"flex justify-between items-center mb-4",children:[De.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Notifications"}),De.jsx("button",{onClick:t,className:"text-2xl text-text-secondary hover:text-text-primary",children:""})]}),De.jsx("ul",{children:S8e.map(e=>De.jsx("li",{className:`p-2 rounded mb-2 ${e.type==="warning"?"bg-accent/20 text-accent":e.type==="alert"?"bg-danger/20 text-danger":"bg-secondary/20 text-secondary"}`,children:e.message},e.id))})]}),{Title:w8e,Text:G4}=B2,C8e=({plans:t,onAddPlan:e,onSelectPlan:n,onDeletePlan:r})=>De.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[De.jsxs("div",{className:"flex justify-between items-center mb-6",children:[De.jsx(w8e,{level:2,className:"font-heading !text-text",children:"My Travel Plans"}),De.jsx(bo,{type:"primary",icon:De.jsx(xM,{}),onClick:e,size:"large",className:"bg-cta hover:bg-secondary border-none shadow-lg",children:"Create New Plan"})]}),De.jsx(Wm,{grid:{gutter:16,xs:1,sm:2,md:3},dataSource:t,renderItem:i=>De.jsx(Wm.Item,{children:De.jsx(Jc,{hoverable:!0,className:"border-border hover:border-primary transition-all duration-300 shadow-sm hover:shadow-md bg-surface",actions:[De.jsx(bOe,{title:"Delete the plan",description:"Are you sure to delete this plan?",onConfirm:o=>{o==null||o.stopPropagation(),r(i.id)},onCancel:o=>o==null?void 0:o.stopPropagation(),okText:"Yes",cancelText:"No",children:De.jsx(bo,{type:"text",danger:!0,icon:De.jsx(X5e,{}),onClick:o=>o.stopPropagation(),children:"Delete"})}),De.jsxs(bo,{type:"link",onClick:()=>n(i),className:"text-cta hover:text-primary",children:["Open ",De.jsx(mx,{})]})],onClick:()=>n(i),children:De.jsx(Jc.Meta,{title:De.jsx("span",{className:"font-heading text-lg text-primary",children:i.title}),description:De.jsxs("div",{children:[De.jsxs(G4,{className:"block text-text-secondary",children:["Created: ",new Date(i.createdAt).toLocaleDateString()]}),De.jsx(G4,{className:"block mt-2 font-medium text-text",children:i.timetable?`${i.timetable.flight.arrival.arrivalAirport}  ${i.timetable.flight.arrival.departureAirport}`:"No itinerary yet"})]})})})})}),t.length===0&&De.jsx("div",{className:"text-center py-12 bg-surface rounded-lg border-2 border-dashed border-border",children:De.jsx(G4,{className:"text-lg text-text-secondary",children:"No plans yet. Create one to get started!"})})]});function T8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function E8e(t,e,n){return e=L8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BG(t,e){return P8e(t)||T8e(t,e)||Jre(t,e)||D8e()}function M8e(t){return R8e(t)||N8e(t)||Jre(t)||I8e()}function R8e(t){if(Array.isArray(t))return u5(t)}function P8e(t){if(Array.isArray(t))return t}function N8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jre(t,e){if(t){if(typeof t=="string")return u5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u5(t,e)}}function u5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O8e(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L8e(t){var e=O8e(t,"string");return typeof e=="symbol"?e:String(e)}var B8e=function(e,n){var r=new Set(n);return Object.assign.apply(Object,[{}].concat(M8e(Object.entries(e).filter(function(i){var o=BG(i,1),a=o[0];return!r.has(a)}).map(function(i){var o=BG(i,2),a=o[0],s=o[1];return E8e({},a,s)}))))};function d5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function F8e(t){if(Array.isArray(t))return t}function $8e(t){if(Array.isArray(t))return d5(t)}function U8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function V8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G8e(t,e){return F8e(t)||k8e(t,e)||eie(t,e)||V8e()}function FG(t){return $8e(t)||U8e(t)||eie(t)||z8e()}function eie(t,e){if(t){if(typeof t=="string")return d5(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d5(t,e):void 0}}function H8e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.wrapperElementType,r=n===void 0?"div":n,i=e.nodeMapper,o=i===void 0?function(u){return u}:i,a=e.methodNames,s=a===void 0?[]:a,l=e.initPropNames,c=l===void 0?[]:l;return S.forwardRef(function(u,d){var f=S.useRef(),h=S.useMemo(function(){var b=Object.fromEntries(c.filter(function(y){return u.hasOwnProperty(y)}).map(function(y){return[y,u[y]]}));return t(b)},[]);$G(function(){h(o(f.current))},S.useLayoutEffect),$G(function(){return h._destructor instanceof Function?h._destructor:void 0});var p=S.useCallback(function(b){for(var y=arguments.length,_=new Array(y>1?y-1:0),C=1;C<y;C++)_[C-1]=arguments[C];return h[b]instanceof Function?h[b].apply(h,_):void 0},[h]),x=S.useRef({});return Object.keys(B8e(u,[].concat(FG(s),FG(c)))).filter(function(b){return x.current[b]!==u[b]}).forEach(function(b){return p(b,u[b])}),x.current=u,S.useImperativeHandle(d,function(){return Object.fromEntries(s.map(function(b){return[b,function(){for(var y=arguments.length,_=new Array(y),C=0;C<y;C++)_[C]=arguments[C];return p.apply(void 0,[b].concat(_))}]}))},[p]),je.createElement(r,{ref:f})})}function $G(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.useEffect,n=S.useRef(),r=S.useRef(!1),i=S.useRef(!1),o=S.useState(0),a=G8e(o,2);a[0];var s=a[1];r.current&&(i.current=!0),e(function(){return r.current||(n.current=t(),r.current=!0),s(function(l){return l+1}),function(){i.current&&n.current&&n.current()}},[])}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const v0="182",pc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Kg={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},tie=0,f5=1,nie=2,j8e=0,yb=1,q8e=2,qd=3,Nl=0,ui=1,To=2,Ms=0,Rs=1,qA=2,WA=3,XA=4,vA=5,Ya=100,DB=101,OB=102,rie=103,iie=104,Fd=200,LB=201,BB=202,FB=203,yx=204,bx=205,$B=206,UB=207,kB=208,VB=209,zB=210,W8e=211,X8e=212,Y8e=213,K8e=214,xx=0,Sx=1,_x=2,Yh=3,wx=4,Cx=5,Tx=6,Ex=7,F2=0,oie=1,aie=2,Ca=0,GB=1,HB=2,jB=3,qB=4,sie=5,WB=6,XB=7,YB=300,hu=301,md=302,YA=303,KA=304,Xm=306,Ym=1e3,qs=1001,Km=1002,ci=1003,KB=1004,Wd=1005,Di=1006,yA=1007,Ws=1008,Q8e=1008,Fi=1009,Rm=1010,Pm=1011,eu=1012,sa=1013,li=1014,xo=1015,Ui=1016,RM=1017,PM=1018,Il=1020,NM=35902,IM=35899,QB=1021,$2=1022,_o=1023,Na=1026,Ss=1027,U2=1028,ly=1029,_s=1030,cy=1031,Z8e=1032,uy=1033,Lh=33776,Bh=33777,Fh=33778,$h=33779,Mx=35840,Rx=35841,Px=35842,Nx=35843,QA=36196,ZA=37492,JA=37496,ev=37488,tv=37489,Qm=37490,nv=37491,rv=37808,iv=37809,ov=37810,av=37811,sv=37812,lv=37813,cv=37814,uv=37815,dv=37816,fv=37817,hv=37818,pv=37819,mv=37820,gv=37821,Av=36492,h5=36494,p5=36495,vv=36283,yv=36284,Zm=36285,bv=36286,J8e=0,eLe=1,UG=2,tLe=3200,td=0,lie=1,Hs="",wa="srgb",Kh="srgb-linear",xv="linear",gn="srgb",H4="",cie="rg",nLe="ga",rLe=0,Kp=7680,iLe=7681,oLe=7682,aLe=7683,sLe=34055,lLe=34056,cLe=5386,uLe=512,dLe=513,fLe=514,hLe=515,pLe=516,mLe=517,gLe=518,m5=519,ZB=512,k2=513,JB=514,V2=515,eF=516,tF=517,z2=518,nF=519,Sv=35044,gm=35048,kG="300 es",ws=2e3,wc=2001,Yu={COMPUTE:"compute",RENDER:"render"};function rF(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function jT(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ix(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function uie(){const t=Ix("canvas");return t.style.display="block",t}const VG={};function Dx(...t){const e="THREE."+t.shift();console.log(e,...t)}function Pt(...t){const e="THREE."+t.shift();console.warn(e,...t)}function $t(...t){const e="THREE."+t.shift();console.error(e,...t)}function Ai(...t){const e=t.join(" ");e in VG||(VG[e]=!0,Pt(...t))}function ALe(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}class _u{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}const za=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let zG=1234567;const bb=Math.PI/180,Jm=180/Math.PI;function nd(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(za[t&255]+za[t>>8&255]+za[t>>16&255]+za[t>>24&255]+"-"+za[e&255]+za[e>>8&255]+"-"+za[e>>16&15|64]+za[e>>24&255]+"-"+za[n&63|128]+za[n>>8&255]+"-"+za[n>>16&255]+za[n>>24&255]+za[r&255]+za[r>>8&255]+za[r>>16&255]+za[r>>24&255]).toLowerCase()}function hr(t,e,n){return Math.max(e,Math.min(n,t))}function iF(t,e){return(t%e+e)%e}function vLe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function yLe(t,e,n){return t!==e?(n-t)/(e-t):0}function xb(t,e,n){return(1-n)*t+n*e}function bLe(t,e,n,r){return xb(t,e,1-Math.exp(-n*r))}function xLe(t,e=1){return e-Math.abs(iF(t,e*2)-e)}function SLe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function _Le(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function wLe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function CLe(t,e){return t+Math.random()*(e-t)}function TLe(t){return t*(.5-Math.random())}function ELe(t){t!==void 0&&(zG=t);let e=zG+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function MLe(t){return t*bb}function RLe(t){return t*Jm}function PLe(t){return(t&t-1)===0&&t!==0}function NLe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function ILe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function DLe(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),u=a((e+r)/2),d=o((e-r)/2),f=a((e-r)/2),h=o((r-e)/2),p=a((r-e)/2);switch(i){case"XYX":t.set(s*u,l*d,l*f,s*c);break;case"YZY":t.set(l*f,s*u,l*d,s*c);break;case"ZXZ":t.set(l*d,l*f,s*u,s*c);break;case"XZX":t.set(s*u,l*p,l*h,s*c);break;case"YXY":t.set(l*h,s*u,l*p,s*c);break;case"ZYZ":t.set(l*p,l*h,s*u,s*c);break;default:Pt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function bs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Cr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const _v={DEG2RAD:bb,RAD2DEG:Jm,generateUUID:nd,clamp:hr,euclideanModulo:iF,mapLinear:vLe,inverseLerp:yLe,lerp:xb,damp:bLe,pingpong:xLe,smoothstep:SLe,smootherstep:_Le,randInt:wLe,randFloat:CLe,randFloatSpread:TLe,seededRandom:ELe,degToRad:MLe,radToDeg:RLe,isPowerOfTwo:PLe,ceilPowerOfTwo:NLe,floorPowerOfTwo:ILe,setQuaternionFromProperEuler:DLe,normalize:Cr,denormalize:bs};class Ft{constructor(e=0,n=0){Ft.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=hr(this.x,e.x,n.x),this.y=hr(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=hr(this.x,e,n),this.y=hr(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(hr(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(hr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class pu{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3],f=o[a+0],h=o[a+1],p=o[a+2],x=o[a+3];if(s<=0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(s>=1){e[n+0]=f,e[n+1]=h,e[n+2]=p,e[n+3]=x;return}if(d!==x||l!==f||c!==h||u!==p){let b=l*f+c*h+u*p+d*x;b<0&&(f=-f,h=-h,p=-p,x=-x,b=-b);let y=1-s;if(b<.9995){const _=Math.acos(b),C=Math.sin(_);y=Math.sin(y*_)/C,s=Math.sin(s*_)/C,l=l*y+f*s,c=c*y+h*s,u=u*y+p*s,d=d*y+x*s}else{l=l*y+f*s,c=c*y+h*s,u=u*y+p*s,d=d*y+x*s;const _=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=_,c*=_,u*=_,d*=_}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[a],f=o[a+1],h=o[a+2],p=o[a+3];return e[n]=s*p+u*d+l*h-c*f,e[n+1]=l*p+u*f+c*d-s*h,e[n+2]=c*p+u*h+s*f-l*d,e[n+3]=u*p-s*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(r/2),u=s(i/2),d=s(o/2),f=l(r/2),h=l(i/2),p=l(o/2);switch(a){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:Pt("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+s+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(o-c)*h,this._z=(a-i)*h}else if(r>s&&r>d){const h=2*Math.sqrt(1+r-s-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+a)/h,this._z=(o+c)/h}else if(s>d){const h=2*Math.sqrt(1+s-r-d);this._w=(o-c)/h,this._x=(i+a)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-s);this._w=(a-i)/h,this._x=(o+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(hr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+a*s+i*c-o*l,this._y=i*u+a*l+o*s-r*c,this._z=o*u+a*c+r*l-i*s,this._w=a*u-r*s-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,i=e._y,o=e._z,a=e._w,s=this.dot(e);s<0&&(r=-r,i=-i,o=-o,a=-a,s=-s);let l=1-n;if(s<.9995){const c=Math.acos(s),u=Math.sin(c);l=Math.sin(l*c)/u,n=Math.sin(n*c)/u,this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+o*n,this._w=this._w*l+a*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+o*n,this._w=this._w*l+a*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ve{constructor(e=0,n=0,r=0){ve.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(GG.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(GG.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=2*(a*i-s*r),u=2*(s*n-o*i),d=2*(o*r-a*n);return this.x=n+l*c+a*d-s*u,this.y=r+l*u+s*c-o*d,this.z=i+l*d+o*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=hr(this.x,e.x,n.x),this.y=hr(this.y,e.y,n.y),this.z=hr(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=hr(this.x,e,n),this.y=hr(this.y,e,n),this.z=hr(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(hr(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return j4.copy(this).projectOnVector(e),this.sub(j4)}reflect(e){return this.sub(j4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(hr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const j4=new ve,GG=new pu;class Ar{constructor(e,n,r,i,o,a,s,l,c){Ar.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c)}set(e,n,r,i,o,a,s,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=s,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],p=r[8],x=i[0],b=i[3],y=i[6],_=i[1],C=i[4],E=i[7],M=i[2],R=i[5],N=i[8];return o[0]=a*x+s*_+l*M,o[3]=a*b+s*C+l*R,o[6]=a*y+s*E+l*N,o[1]=c*x+u*_+d*M,o[4]=c*b+u*C+d*R,o[7]=c*y+u*E+d*N,o[2]=f*x+h*_+p*M,o[5]=f*b+h*C+p*R,o[8]=f*y+h*E+p*N,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*s*c-r*o*u+r*s*l+i*o*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=u*a-s*c,f=s*l-u*o,h=c*o-a*l,p=n*d+r*f+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/p;return e[0]=d*x,e[1]=(i*c-u*r)*x,e[2]=(s*r-i*a)*x,e[3]=f*x,e[4]=(u*n-i*l)*x,e[5]=(i*o-s*n)*x,e[6]=h*x,e[7]=(r*l-c*n)*x,e[8]=(a*n-r*o)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*a+c*s)+a+e,-i*c,i*l,-i*(-c*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(q4.makeScale(e,n)),this}rotate(e){return this.premultiply(q4.makeRotation(-e)),this}translate(e,n){return this.premultiply(q4.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const q4=new Ar,HG=new Ar().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),jG=new Ar().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function OLe(){const t={enabled:!0,workingColorSpace:Kh,spaces:{},convert:function(i,o,a){return this.enabled===!1||o===a||!o||!a||(this.spaces[o].transfer===gn&&(i.r=Qd(i.r),i.g=Qd(i.g),i.b=Qd(i.b)),this.spaces[o].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[o].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===gn&&(i.r=bA(i.r),i.g=bA(i.g),i.b=bA(i.b))),i},workingToColorSpace:function(i,o){return this.convert(i,this.workingColorSpace,o)},colorSpaceToWorking:function(i,o){return this.convert(i,o,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Hs?xv:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,o=this.workingColorSpace){return i.fromArray(this.spaces[o].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,o,a){return i.copy(this.spaces[o].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,o){return Ai("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,o)},toWorkingColorSpace:function(i,o){return Ai("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,o)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Kh]:{primaries:e,whitePoint:r,transfer:xv,toXYZ:HG,fromXYZ:jG,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:wa},outputColorSpaceConfig:{drawingBufferColorSpace:wa}},[wa]:{primaries:e,whitePoint:r,transfer:gn,toXYZ:HG,fromXYZ:jG,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:wa}}}),t}const Xn=OLe();function Qd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function bA(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let X0;class LLe{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{X0===void 0&&(X0=Ix("canvas")),X0.width=e.width,X0.height=e.height;const i=X0.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=X0}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Ix("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=Qd(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Qd(n[r]/255)*255):n[r]=Qd(n[r]);return{data:n,width:e.width,height:e.height}}else return Pt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let BLe=0;class oF{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:BLe++}),this.uuid=nd(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(W4(i[a].image)):o.push(W4(i[a]))}else o=W4(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function W4(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?LLe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Pt("Texture: Unable to serialize Texture."),{})}let FLe=0;const X4=new ve;class Uo extends _u{constructor(e=Uo.DEFAULT_IMAGE,n=Uo.DEFAULT_MAPPING,r=qs,i=qs,o=Di,a=Ws,s=_o,l=Fi,c=Uo.DEFAULT_ANISOTROPY,u=Hs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:FLe++}),this.uuid=nd(),this.name="",this.source=new oF(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Ft(0,0),this.repeat=new Ft(1,1),this.center=new Ft(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ar,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(X4).x}get height(){return this.source.getSize(X4).y}get depth(){return this.source.getSize(X4).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){Pt(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Pt(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==YB)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ym:e.x=e.x-Math.floor(e.x);break;case qs:e.x=e.x<0?0:1;break;case Km:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ym:e.y=e.y-Math.floor(e.y);break;case qs:e.y=e.y<0?0:1;break;case Km:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Uo.DEFAULT_IMAGE=null;Uo.DEFAULT_MAPPING=YB;Uo.DEFAULT_ANISOTROPY=1;class nr{constructor(e=0,n=0,r=0,i=1){nr.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],x=l[2],b=l[6],y=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-x)<.01&&Math.abs(p-b)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+x)<.1&&Math.abs(p+b)<.1&&Math.abs(c+h+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const C=(c+1)/2,E=(h+1)/2,M=(y+1)/2,R=(u+f)/4,N=(d+x)/4,O=(p+b)/4;return C>E&&C>M?C<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(C),i=R/r,o=N/r):E>M?E<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(E),r=R/i,o=O/i):M<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(M),r=N/o,i=O/o),this.set(r,i,o,n),this}let _=Math.sqrt((b-p)*(b-p)+(d-x)*(d-x)+(f-u)*(f-u));return Math.abs(_)<.001&&(_=1),this.x=(b-p)/_,this.y=(d-x)/_,this.z=(f-u)/_,this.w=Math.acos((c+h+y-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=hr(this.x,e.x,n.x),this.y=hr(this.y,e.y,n.y),this.z=hr(this.z,e.z,n.z),this.w=hr(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=hr(this.x,e,n),this.y=hr(this.y,e,n),this.z=hr(this.z,e,n),this.w=hr(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(hr(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Tf extends _u{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Di,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new nr(0,0,e,n),this.scissorTest=!1,this.viewport=new nr(0,0,e,n);const i={width:e,height:n,depth:r.depth},o=new Uo(i);this.textures=[];const a=r.count;for(let s=0;s<a;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:Di,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new oF(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class cu extends Tf{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class aF extends Uo{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ci,this.minFilter=ci,this.wrapR=qs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class $Le extends Uo{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ci,this.minFilter=ci,this.wrapR=qs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ef{constructor(e=new ve(1/0,1/0,1/0),n=new ve(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Lc.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Lc.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Lc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,Lc):Lc.fromBufferAttribute(o,a),Lc.applyMatrix4(e.matrixWorld),this.expandByPoint(Lc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),x_.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),x_.copy(r.boundingBox)),x_.applyMatrix4(e.matrixWorld),this.union(x_)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Lc),Lc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(e1),S_.subVectors(this.max,e1),Y0.subVectors(e.a,e1),K0.subVectors(e.b,e1),Q0.subVectors(e.c,e1),zf.subVectors(K0,Y0),Gf.subVectors(Q0,K0),Pp.subVectors(Y0,Q0);let n=[0,-zf.z,zf.y,0,-Gf.z,Gf.y,0,-Pp.z,Pp.y,zf.z,0,-zf.x,Gf.z,0,-Gf.x,Pp.z,0,-Pp.x,-zf.y,zf.x,0,-Gf.y,Gf.x,0,-Pp.y,Pp.x,0];return!Y4(n,Y0,K0,Q0,S_)||(n=[1,0,0,0,1,0,0,0,1],!Y4(n,Y0,K0,Q0,S_))?!1:(__.crossVectors(zf,Gf),n=[__.x,__.y,__.z],Y4(n,Y0,K0,Q0,S_))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Lc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Lc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Md[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Md[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Md[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Md[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Md[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Md[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Md[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Md[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Md),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Md=[new ve,new ve,new ve,new ve,new ve,new ve,new ve,new ve],Lc=new ve,x_=new Ef,Y0=new ve,K0=new ve,Q0=new ve,zf=new ve,Gf=new ve,Pp=new ve,e1=new ve,S_=new ve,__=new ve,Np=new ve;function Y4(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){Np.fromArray(t,o);const s=i.x*Math.abs(Np.x)+i.y*Math.abs(Np.y)+i.z*Math.abs(Np.z),l=e.dot(Np),c=n.dot(Np),u=r.dot(Np);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const ULe=new Ef,t1=new ve,K4=new ve;class dp{constructor(e=new ve,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):ULe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;t1.subVectors(e,this.center);const n=t1.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(t1,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(K4.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(t1.copy(e.center).add(K4)),this.expandByPoint(t1.copy(e.center).sub(K4))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Rd=new ve,Q4=new ve,w_=new ve,Hf=new ve,Z4=new ve,C_=new ve,J4=new ve;class G2{constructor(e=new ve,n=new ve(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Rd)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Rd.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Rd.copy(this.origin).addScaledVector(this.direction,n),Rd.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){Q4.copy(e).add(n).multiplyScalar(.5),w_.copy(n).sub(e).normalize(),Hf.copy(this.origin).sub(Q4);const o=e.distanceTo(n)*.5,a=-this.direction.dot(w_),s=Hf.dot(this.direction),l=-Hf.dot(w_),c=Hf.lengthSq(),u=Math.abs(1-a*a);let d,f,h,p;if(u>0)if(d=a*l-s,f=a*s-l,p=o*u,d>=0)if(f>=-p)if(f<=p){const x=1/u;d*=x,f*=x,h=d*(d+a*f+2*s)+f*(a*d+f+2*l)+c}else f=o,d=Math.max(0,-(a*f+s)),h=-d*d+f*(f+2*l)+c;else f=-o,d=Math.max(0,-(a*f+s)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-a*o+s)),f=d>0?-o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-o,-l),o),h=f*(f+2*l)+c):(d=Math.max(0,-(a*o+s)),f=d>0?o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c);else f=a>0?-o:o,d=Math.max(0,-(a*f+s)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(Q4).addScaledVector(w_,f),h}intersectSphere(e,n){Rd.subVectors(e.center,this.origin);const r=Rd.dot(this.direction),i=Rd.dot(Rd)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(o=(e.min.y-f.y)*u,a=(e.max.y-f.y)*u):(o=(e.max.y-f.y)*u,a=(e.min.y-f.y)*u),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),d>=0?(s=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(s=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Rd)!==null}intersectTriangle(e,n,r,i,o){Z4.subVectors(n,e),C_.subVectors(r,e),J4.crossVectors(Z4,C_);let a=this.direction.dot(J4),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;Hf.subVectors(this.origin,e);const l=s*this.direction.dot(C_.crossVectors(Hf,C_));if(l<0)return null;const c=s*this.direction.dot(Z4.cross(Hf));if(c<0||l+c>a)return null;const u=-s*Hf.dot(J4);return u<0?null:this.at(u/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ar{constructor(e,n,r,i,o,a,s,l,c,u,d,f,h,p,x,b){ar.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c,u,d,f,h,p,x,b)}set(e,n,r,i,o,a,s,l,c,u,d,f,h,p,x,b){const y=this.elements;return y[0]=e,y[4]=n,y[8]=r,y[12]=i,y[1]=o,y[5]=a,y[9]=s,y[13]=l,y[2]=c,y[6]=u,y[10]=d,y[14]=f,y[3]=h,y[7]=p,y[11]=x,y[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ar().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,r=e.elements,i=1/Z0.setFromMatrixColumn(e,0).length(),o=1/Z0.setFromMatrixColumn(e,1).length(),a=1/Z0.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=a*u,h=a*d,p=s*u,x=s*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+p*c,n[5]=f-x*c,n[9]=-s*l,n[2]=x-f*c,n[6]=p+h*c,n[10]=a*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,p=c*u,x=c*d;n[0]=f+x*s,n[4]=p*s-h,n[8]=a*c,n[1]=a*d,n[5]=a*u,n[9]=-s,n[2]=h*s-p,n[6]=x+f*s,n[10]=a*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,p=c*u,x=c*d;n[0]=f-x*s,n[4]=-a*d,n[8]=p+h*s,n[1]=h+p*s,n[5]=a*u,n[9]=x-f*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const f=a*u,h=a*d,p=s*u,x=s*d;n[0]=l*u,n[4]=p*c-h,n[8]=f*c+x,n[1]=l*d,n[5]=x*c+f,n[9]=h*c-p,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const f=a*l,h=a*c,p=s*l,x=s*c;n[0]=l*u,n[4]=x-f*d,n[8]=p*d+h,n[1]=d,n[5]=a*u,n[9]=-s*u,n[2]=-c*u,n[6]=h*d+p,n[10]=f-x*d}else if(e.order==="XZY"){const f=a*l,h=a*c,p=s*l,x=s*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+x,n[5]=a*u,n[9]=h*d-p,n[2]=p*d-h,n[6]=s*u,n[10]=x*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(kLe,e,VLe)}lookAt(e,n,r){const i=this.elements;return ml.subVectors(e,n),ml.lengthSq()===0&&(ml.z=1),ml.normalize(),jf.crossVectors(r,ml),jf.lengthSq()===0&&(Math.abs(r.z)===1?ml.x+=1e-4:ml.z+=1e-4,ml.normalize(),jf.crossVectors(r,ml)),jf.normalize(),T_.crossVectors(ml,jf),i[0]=jf.x,i[4]=T_.x,i[8]=ml.x,i[1]=jf.y,i[5]=T_.y,i[9]=ml.y,i[2]=jf.z,i[6]=T_.z,i[10]=ml.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],p=r[2],x=r[6],b=r[10],y=r[14],_=r[3],C=r[7],E=r[11],M=r[15],R=i[0],N=i[4],O=i[8],I=i[12],L=i[1],F=i[5],$=i[9],V=i[13],U=i[2],k=i[6],z=i[10],H=i[14],j=i[3],X=i[7],Y=i[11],J=i[15];return o[0]=a*R+s*L+l*U+c*j,o[4]=a*N+s*F+l*k+c*X,o[8]=a*O+s*$+l*z+c*Y,o[12]=a*I+s*V+l*H+c*J,o[1]=u*R+d*L+f*U+h*j,o[5]=u*N+d*F+f*k+h*X,o[9]=u*O+d*$+f*z+h*Y,o[13]=u*I+d*V+f*H+h*J,o[2]=p*R+x*L+b*U+y*j,o[6]=p*N+x*F+b*k+y*X,o[10]=p*O+x*$+b*z+y*Y,o[14]=p*I+x*V+b*H+y*J,o[3]=_*R+C*L+E*U+M*j,o[7]=_*N+C*F+E*k+M*X,o[11]=_*O+C*$+E*z+M*Y,o[15]=_*I+C*V+E*H+M*J,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],p=e[3],x=e[7],b=e[11],y=e[15],_=l*h-c*f,C=s*h-c*d,E=s*f-l*d,M=a*h-c*u,R=a*f-l*u,N=a*d-s*u;return n*(x*_-b*C+y*E)-r*(p*_-b*M+y*R)+i*(p*C-x*M+y*N)-o*(p*E-x*R+b*N)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],x=e[13],b=e[14],y=e[15],_=d*b*c-x*f*c+x*l*h-s*b*h-d*l*y+s*f*y,C=p*f*c-u*b*c-p*l*h+a*b*h+u*l*y-a*f*y,E=u*x*c-p*d*c+p*s*h-a*x*h-u*s*y+a*d*y,M=p*d*l-u*x*l-p*s*f+a*x*f+u*s*b-a*d*b,R=n*_+r*C+i*E+o*M;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/R;return e[0]=_*N,e[1]=(x*f*o-d*b*o-x*i*h+r*b*h+d*i*y-r*f*y)*N,e[2]=(s*b*o-x*l*o+x*i*c-r*b*c-s*i*y+r*l*y)*N,e[3]=(d*l*o-s*f*o-d*i*c+r*f*c+s*i*h-r*l*h)*N,e[4]=C*N,e[5]=(u*b*o-p*f*o+p*i*h-n*b*h-u*i*y+n*f*y)*N,e[6]=(p*l*o-a*b*o-p*i*c+n*b*c+a*i*y-n*l*y)*N,e[7]=(a*f*o-u*l*o+u*i*c-n*f*c-a*i*h+n*l*h)*N,e[8]=E*N,e[9]=(p*d*o-u*x*o-p*r*h+n*x*h+u*r*y-n*d*y)*N,e[10]=(a*x*o-p*s*o+p*r*c-n*x*c-a*r*y+n*s*y)*N,e[11]=(u*s*o-a*d*o-u*r*c+n*d*c+a*r*h-n*s*h)*N,e[12]=M*N,e[13]=(u*x*i-p*d*i+p*r*f-n*x*f-u*r*b+n*d*b)*N,e[14]=(p*s*i-a*x*i-p*r*l+n*x*l+a*r*b-n*s*b)*N,e[15]=(a*d*i-u*s*i+u*r*l-n*d*l-a*r*f+n*s*f)*N,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,c=o*a,u=o*s;return this.set(c*a+r,c*s-i*l,c*l+i*s,0,c*s+i*l,u*s+r,u*l-i*a,0,c*l-i*s,u*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,c=o+o,u=a+a,d=s+s,f=o*c,h=o*u,p=o*d,x=a*u,b=a*d,y=s*d,_=l*c,C=l*u,E=l*d,M=r.x,R=r.y,N=r.z;return i[0]=(1-(x+y))*M,i[1]=(h+E)*M,i[2]=(p-C)*M,i[3]=0,i[4]=(h-E)*R,i[5]=(1-(f+y))*R,i[6]=(b+_)*R,i[7]=0,i[8]=(p+C)*N,i[9]=(b-_)*N,i[10]=(1-(f+x))*N,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return r.set(1,1,1),n.identity(),this;let o=Z0.set(i[0],i[1],i[2]).length();const a=Z0.set(i[4],i[5],i[6]).length(),s=Z0.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),Bc.copy(this);const c=1/o,u=1/a,d=1/s;return Bc.elements[0]*=c,Bc.elements[1]*=c,Bc.elements[2]*=c,Bc.elements[4]*=u,Bc.elements[5]*=u,Bc.elements[6]*=u,Bc.elements[8]*=d,Bc.elements[9]*=d,Bc.elements[10]*=d,n.setFromRotationMatrix(Bc),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=ws,l=!1){const c=this.elements,u=2*o/(n-e),d=2*o/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let p,x;if(l)p=o/(a-o),x=a*o/(a-o);else if(s===ws)p=-(a+o)/(a-o),x=-2*a*o/(a-o);else if(s===wc)p=-a/(a-o),x=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=d,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=p,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=ws,l=!1){const c=this.elements,u=2/(n-e),d=2/(r-i),f=-(n+e)/(n-e),h=-(r+i)/(r-i);let p,x;if(l)p=1/(a-o),x=a/(a-o);else if(s===ws)p=-2/(a-o),x=-(a+o)/(a-o);else if(s===wc)p=-1/(a-o),x=-o/(a-o);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return c[0]=u,c[4]=0,c[8]=0,c[12]=f,c[1]=0,c[5]=d,c[9]=0,c[13]=h,c[2]=0,c[6]=0,c[10]=p,c[14]=x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Z0=new ve,Bc=new ar,kLe=new ve(0,0,0),VLe=new ve(1,1,1),jf=new ve,T_=new ve,ml=new ve,qG=new ar,WG=new pu;class Oa{constructor(e=0,n=0,r=0,i=Oa.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(hr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-hr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(hr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-hr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(hr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-hr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:Pt("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return qG.makeRotationFromQuaternion(e),this.setFromRotationMatrix(qG,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return WG.setFromEuler(this),this.setFromQuaternion(WG,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Oa.DEFAULT_ORDER="XYZ";class sF{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let zLe=0;const XG=new ve,J0=new pu,Pd=new ar,E_=new ve,n1=new ve,GLe=new ve,HLe=new pu,YG=new ve(1,0,0),KG=new ve(0,1,0),QG=new ve(0,0,1),ZG={type:"added"},jLe={type:"removed"},eg={type:"childadded",child:null},eN={type:"childremoved",child:null};class ji extends _u{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zLe++}),this.uuid=nd(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ji.DEFAULT_UP.clone();const e=new ve,n=new Oa,r=new pu,i=new ve(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ar},normalMatrix:{value:new Ar}}),this.matrix=new ar,this.matrixWorld=new ar,this.matrixAutoUpdate=ji.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ji.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new sF,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return J0.setFromAxisAngle(e,n),this.quaternion.multiply(J0),this}rotateOnWorldAxis(e,n){return J0.setFromAxisAngle(e,n),this.quaternion.premultiply(J0),this}rotateX(e){return this.rotateOnAxis(YG,e)}rotateY(e){return this.rotateOnAxis(KG,e)}rotateZ(e){return this.rotateOnAxis(QG,e)}translateOnAxis(e,n){return XG.copy(e).applyQuaternion(this.quaternion),this.position.add(XG.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(YG,e)}translateY(e){return this.translateOnAxis(KG,e)}translateZ(e){return this.translateOnAxis(QG,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Pd.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?E_.copy(e):E_.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),n1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pd.lookAt(n1,E_,this.up):Pd.lookAt(E_,n1,this.up),this.quaternion.setFromRotationMatrix(Pd),i&&(Pd.extractRotation(i.matrixWorld),J0.setFromRotationMatrix(Pd),this.quaternion.premultiply(J0.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?($t("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(ZG),eg.child=e,this.dispatchEvent(eg),eg.child=null):$t("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(jLe),eN.child=e,this.dispatchEvent(eN),eN.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Pd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Pd.multiply(e.parent.matrixWorld)),e.applyMatrix4(Pd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(ZG),eg.child=e,this.dispatchEvent(eg),eg.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(n1,e,GLe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(n1,HLe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(s=>({...s})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),d=a(e.shapes),f=a(e.skeletons),h=a(e.animations),p=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function a(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}ji.DEFAULT_UP=new ve(0,1,0);ji.DEFAULT_MATRIX_AUTO_UPDATE=!0;ji.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Fc=new ve,Nd=new ve,tN=new ve,Id=new ve,tg=new ve,ng=new ve,JG=new ve,nN=new ve,rN=new ve,iN=new ve,oN=new nr,aN=new nr,sN=new nr;class Kc{constructor(e=new ve,n=new ve,r=new ve){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Fc.subVectors(e,n),i.cross(Fc);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Fc.subVectors(i,n),Nd.subVectors(r,n),tN.subVectors(e,n);const a=Fc.dot(Fc),s=Fc.dot(Nd),l=Fc.dot(tN),c=Nd.dot(Nd),u=Nd.dot(tN),d=a*c-s*s;if(d===0)return o.set(0,0,0),null;const f=1/d,h=(c*l-s*u)*f,p=(a*u-s*l)*f;return o.set(1-h-p,p,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Id)===null?!1:Id.x>=0&&Id.y>=0&&Id.x+Id.y<=1}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,Id)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Id.x),l.addScaledVector(a,Id.y),l.addScaledVector(s,Id.z),l)}static getInterpolatedAttribute(e,n,r,i,o,a){return oN.setScalar(0),aN.setScalar(0),sN.setScalar(0),oN.fromBufferAttribute(e,n),aN.fromBufferAttribute(e,r),sN.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(oN,o.x),a.addScaledVector(aN,o.y),a.addScaledVector(sN,o.z),a}static isFrontFacing(e,n,r,i){return Fc.subVectors(r,n),Nd.subVectors(e,n),Fc.cross(Nd).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Fc.subVectors(this.c,this.b),Nd.subVectors(this.a,this.b),Fc.cross(Nd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Kc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Kc.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return Kc.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return Kc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Kc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;tg.subVectors(i,r),ng.subVectors(o,r),nN.subVectors(e,r);const l=tg.dot(nN),c=ng.dot(nN);if(l<=0&&c<=0)return n.copy(r);rN.subVectors(e,i);const u=tg.dot(rN),d=ng.dot(rN);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(r).addScaledVector(tg,a);iN.subVectors(e,o);const h=tg.dot(iN),p=ng.dot(iN);if(p>=0&&h<=p)return n.copy(o);const x=h*c-l*p;if(x<=0&&c>=0&&p<=0)return s=c/(c-p),n.copy(r).addScaledVector(ng,s);const b=u*p-h*d;if(b<=0&&d-u>=0&&h-p>=0)return JG.subVectors(o,i),s=(d-u)/(d-u+(h-p)),n.copy(i).addScaledVector(JG,s);const y=1/(b+x+f);return a=x*y,s=f*y,n.copy(r).addScaledVector(tg,a).addScaledVector(ng,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const die={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},qf={h:0,s:0,l:0},M_={h:0,s:0,l:0};function lN(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let En=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=wa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Xn.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=Xn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Xn.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=Xn.workingColorSpace){if(e=iF(e,1),n=hr(n,0,1),r=hr(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=lN(a,o,e+1/3),this.g=lN(a,o,e),this.b=lN(a,o,e-1/3)}return Xn.colorSpaceToWorking(this,i),this}setStyle(e,n=wa){function r(o){o!==void 0&&parseFloat(o)<1&&Pt("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:Pt("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);Pt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=wa){const r=die[e.toLowerCase()];return r!==void 0?this.setHex(r,n):Pt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Qd(e.r),this.g=Qd(e.g),this.b=Qd(e.b),this}copyLinearToSRGB(e){return this.r=bA(e.r),this.g=bA(e.g),this.b=bA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=wa){return Xn.workingToColorSpace(Ga.copy(this),e),Math.round(hr(Ga.r*255,0,255))*65536+Math.round(hr(Ga.g*255,0,255))*256+Math.round(hr(Ga.b*255,0,255))}getHexString(e=wa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Xn.workingColorSpace){Xn.workingToColorSpace(Ga.copy(this),n);const r=Ga.r,i=Ga.g,o=Ga.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,c;const u=(s+a)/2;if(s===a)l=0,c=0;else{const d=a-s;switch(c=u<=.5?d/(a+s):d/(2-a-s),a){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Xn.workingColorSpace){return Xn.workingToColorSpace(Ga.copy(this),n),e.r=Ga.r,e.g=Ga.g,e.b=Ga.b,e}getStyle(e=wa){Xn.workingToColorSpace(Ga.copy(this),e);const n=Ga.r,r=Ga.g,i=Ga.b;return e!==wa?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(qf),this.setHSL(qf.h+e,qf.s+n,qf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(qf),e.getHSL(M_);const r=xb(qf.h,M_.h,n),i=xb(qf.s,M_.s,n),o=xb(qf.l,M_.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Ga=new En;En.NAMES=die;let qLe=0;class os extends _u{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:qLe++}),this.uuid=nd(),this.name="",this.type="Material",this.blending=Rs,this.side=Nl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=yx,this.blendDst=bx,this.blendEquation=Ya,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new En(0,0,0),this.blendAlpha=0,this.depthFunc=Yh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=m5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Kp,this.stencilZFail=Kp,this.stencilZPass=Kp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){Pt(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Pt(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Rs&&(r.blending=this.blending),this.side!==Nl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==yx&&(r.blendSrc=this.blendSrc),this.blendDst!==bx&&(r.blendDst=this.blendDst),this.blendEquation!==Ya&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Yh&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==m5&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Kp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Kp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Kp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class oc extends os{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new En(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Oa,this.combine=F2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const kd=WLe();function WLe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function gl(t){Math.abs(t)>65504&&Pt("DataUtils.toHalfFloat(): Value out of range."),t=hr(t,-65504,65504),kd.floatView[0]=t;const e=kd.uint32View[0],n=e>>23&511;return kd.baseTable[n]+((e&8388607)>>kd.shiftTable[n])}function R_(t){const e=t>>10;return kd.uint32View[0]=kd.mantissaTable[kd.offsetTable[e]+(t&1023)]+kd.exponentTable[e],kd.floatView[0]}const Do=new ve,P_=new Ft;let XLe=0;class Zi{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:XLe++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Sv,this.updateRanges=[],this.gpuType=xo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)P_.fromBufferAttribute(this,n),P_.applyMatrix3(e),this.setXY(n,P_.x,P_.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Do.fromBufferAttribute(this,n),Do.applyMatrix3(e),this.setXYZ(n,Do.x,Do.y,Do.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Do.fromBufferAttribute(this,n),Do.applyMatrix4(e),this.setXYZ(n,Do.x,Do.y,Do.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Do.fromBufferAttribute(this,n),Do.applyNormalMatrix(e),this.setXYZ(n,Do.x,Do.y,Do.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Do.fromBufferAttribute(this,n),Do.transformDirection(e),this.setXYZ(n,Do.x,Do.y,Do.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=bs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Cr(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=bs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=bs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=bs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=bs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array),i=Cr(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array),i=Cr(i,this.array),o=Cr(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Sv&&(e.usage=this.usage),e}}class lF extends Zi{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class cF extends Zi{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class fie extends Zi{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=R_(this.array[e*this.itemSize]);return this.normalized&&(n=bs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize]=gl(n),this}getY(e){let n=R_(this.array[e*this.itemSize+1]);return this.normalized&&(n=bs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize+1]=gl(n),this}getZ(e){let n=R_(this.array[e*this.itemSize+2]);return this.normalized&&(n=bs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize+2]=gl(n),this}getW(e){let n=R_(this.array[e*this.itemSize+3]);return this.normalized&&(n=bs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize+3]=gl(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array)),this.array[e+0]=gl(n),this.array[e+1]=gl(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array),i=Cr(i,this.array)),this.array[e+0]=gl(n),this.array[e+1]=gl(r),this.array[e+2]=gl(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array),i=Cr(i,this.array),o=Cr(o,this.array)),this.array[e+0]=gl(n),this.array[e+1]=gl(r),this.array[e+2]=gl(i),this.array[e+3]=gl(o),this}}class Gr extends Zi{constructor(e,n,r){super(new Float32Array(e),n,r)}}let YLe=0;const Kl=new ar,cN=new ji,rg=new ve,Al=new Ef,r1=new Ef,ta=new ve;class ei extends _u{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:YLe++}),this.uuid=nd(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(rF(e)?cF:lF)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Ar().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Kl.makeRotationFromQuaternion(e),this.applyMatrix4(Kl),this}rotateX(e){return Kl.makeRotationX(e),this.applyMatrix4(Kl),this}rotateY(e){return Kl.makeRotationY(e),this.applyMatrix4(Kl),this}rotateZ(e){return Kl.makeRotationZ(e),this.applyMatrix4(Kl),this}translate(e,n,r){return Kl.makeTranslation(e,n,r),this.applyMatrix4(Kl),this}scale(e,n,r){return Kl.makeScale(e,n,r),this.applyMatrix4(Kl),this}lookAt(e){return cN.lookAt(e),cN.updateMatrix(),this.applyMatrix4(cN.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(rg).negate(),this.translate(rg.x,rg.y,rg.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Gr(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const o=e[i];n.setXYZ(i,o.x,o.y,o.z||0)}e.length>n.count&&Pt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ef);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){$t("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ve(-1/0,-1/0,-1/0),new ve(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Al.setFromBufferAttribute(o),this.morphTargetsRelative?(ta.addVectors(this.boundingBox.min,Al.min),this.boundingBox.expandByPoint(ta),ta.addVectors(this.boundingBox.max,Al.max),this.boundingBox.expandByPoint(ta)):(this.boundingBox.expandByPoint(Al.min),this.boundingBox.expandByPoint(Al.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&$t('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new dp);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){$t("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ve,1/0);return}if(e){const r=this.boundingSphere.center;if(Al.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];r1.setFromBufferAttribute(s),this.morphTargetsRelative?(ta.addVectors(Al.min,r1.min),Al.expandByPoint(ta),ta.addVectors(Al.max,r1.max),Al.expandByPoint(ta)):(Al.expandByPoint(r1.min),Al.expandByPoint(r1.max))}Al.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)ta.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(ta));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)ta.fromBufferAttribute(s,c),l&&(rg.fromBufferAttribute(e,c),ta.add(rg)),i=Math.max(i,r.distanceToSquared(ta))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&$t('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){$t("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Zi(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),s=[],l=[];for(let O=0;O<r.count;O++)s[O]=new ve,l[O]=new ve;const c=new ve,u=new ve,d=new ve,f=new Ft,h=new Ft,p=new Ft,x=new ve,b=new ve;function y(O,I,L){c.fromBufferAttribute(r,O),u.fromBufferAttribute(r,I),d.fromBufferAttribute(r,L),f.fromBufferAttribute(o,O),h.fromBufferAttribute(o,I),p.fromBufferAttribute(o,L),u.sub(c),d.sub(c),h.sub(f),p.sub(f);const F=1/(h.x*p.y-p.x*h.y);isFinite(F)&&(x.copy(u).multiplyScalar(p.y).addScaledVector(d,-h.y).multiplyScalar(F),b.copy(d).multiplyScalar(h.x).addScaledVector(u,-p.x).multiplyScalar(F),s[O].add(x),s[I].add(x),s[L].add(x),l[O].add(b),l[I].add(b),l[L].add(b))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let O=0,I=_.length;O<I;++O){const L=_[O],F=L.start,$=L.count;for(let V=F,U=F+$;V<U;V+=3)y(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const C=new ve,E=new ve,M=new ve,R=new ve;function N(O){M.fromBufferAttribute(i,O),R.copy(M);const I=s[O];C.copy(I),C.sub(M.multiplyScalar(M.dot(I))).normalize(),E.crossVectors(R,I);const F=E.dot(l[O])<0?-1:1;a.setXYZW(O,C.x,C.y,C.z,F)}for(let O=0,I=_.length;O<I;++O){const L=_[O],F=L.start,$=L.count;for(let V=F,U=F+$;V<U;V+=3)N(e.getX(V+0)),N(e.getX(V+1)),N(e.getX(V+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Zi(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new ve,o=new ve,a=new ve,s=new ve,l=new ve,c=new ve,u=new ve,d=new ve;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),x=e.getX(f+1),b=e.getX(f+2);i.fromBufferAttribute(n,p),o.fromBufferAttribute(n,x),a.fromBufferAttribute(n,b),u.subVectors(a,o),d.subVectors(i,o),u.cross(d),s.fromBufferAttribute(r,p),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,b),s.add(u),l.add(u),c.add(u),r.setXYZ(p,s.x,s.y,s.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(b,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),u.subVectors(a,o),d.subVectors(i,o),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ta.fromBufferAttribute(e,n),ta.normalize(),e.setXYZ(n,ta.x,ta.y,ta.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,d=s.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let x=0,b=l.length;x<b;x++){s.isInterleavedBufferAttribute?h=l[x]*s.data.stride+s.offset:h=l[x]*u;for(let y=0;y<u;y++)f[p++]=c[h++]}return new Zi(f,u,d)}if(this.index===null)return Pt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new ei,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);n.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const eH=new ar,Ip=new G2,N_=new dp,tH=new ve,I_=new ve,D_=new ve,O_=new ve,uN=new ve,L_=new ve,nH=new ve,B_=new ve;class Qr extends ji{constructor(e=new ei,n=new oc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){L_.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=s[l],d=o[l];u!==0&&(uN.fromBufferAttribute(d,e),a?L_.addScaledVector(uN,u):L_.addScaledVector(uN.sub(n),u))}n.add(L_)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),N_.copy(r.boundingSphere),N_.applyMatrix4(o),Ip.copy(e.ray).recast(e.near),!(N_.containsPoint(Ip.origin)===!1&&(Ip.intersectSphere(N_,tH)===null||Ip.origin.distanceToSquared(tH)>(e.far-e.near)**2))&&(eH.copy(o).invert(),Ip.copy(e.ray).applyMatrix4(eH),!(r.boundingBox!==null&&Ip.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Ip)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,f=o.groups,h=o.drawRange;if(s!==null)if(Array.isArray(a))for(let p=0,x=f.length;p<x;p++){const b=f[p],y=a[b.materialIndex],_=Math.max(b.start,h.start),C=Math.min(s.count,Math.min(b.start+b.count,h.start+h.count));for(let E=_,M=C;E<M;E+=3){const R=s.getX(E),N=s.getX(E+1),O=s.getX(E+2);i=F_(this,y,e,r,c,u,d,R,N,O),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),x=Math.min(s.count,h.start+h.count);for(let b=p,y=x;b<y;b+=3){const _=s.getX(b),C=s.getX(b+1),E=s.getX(b+2);i=F_(this,a,e,r,c,u,d,_,C,E),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let p=0,x=f.length;p<x;p++){const b=f[p],y=a[b.materialIndex],_=Math.max(b.start,h.start),C=Math.min(l.count,Math.min(b.start+b.count,h.start+h.count));for(let E=_,M=C;E<M;E+=3){const R=E,N=E+1,O=E+2;i=F_(this,y,e,r,c,u,d,R,N,O),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),x=Math.min(l.count,h.start+h.count);for(let b=p,y=x;b<y;b+=3){const _=b,C=b+1,E=b+2;i=F_(this,a,e,r,c,u,d,_,C,E),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}}}function KLe(t,e,n,r,i,o,a,s){let l;if(e.side===ui?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===Nl,s),l===null)return null;B_.copy(s),B_.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(B_);return c<n.near||c>n.far?null:{distance:c,point:B_.clone(),object:t}}function F_(t,e,n,r,i,o,a,s,l,c){t.getVertexPosition(s,I_),t.getVertexPosition(l,D_),t.getVertexPosition(c,O_);const u=KLe(t,e,n,r,I_,D_,O_,nH);if(u){const d=new ve;Kc.getBarycoord(nH,I_,D_,O_,d),i&&(u.uv=Kc.getInterpolatedAttribute(i,s,l,c,d,new Ft)),o&&(u.uv1=Kc.getInterpolatedAttribute(o,s,l,c,d,new Ft)),a&&(u.normal=Kc.getInterpolatedAttribute(a,s,l,c,d,new ve),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a:s,b:l,c,normal:new ve,materialIndex:0};Kc.getNormal(I_,D_,O_,f.normal),u.face=f,u.barycoord=d}return u}class fp extends ei{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],u=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,r,n,e,a,o,0),p("z","y","x",1,-1,r,n,-e,a,o,1),p("x","z","y",1,1,e,r,n,i,a,2),p("x","z","y",1,-1,e,r,-n,i,a,3),p("x","y","z",1,-1,e,n,r,i,o,4),p("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Gr(c,3)),this.setAttribute("normal",new Gr(u,3)),this.setAttribute("uv",new Gr(d,2));function p(x,b,y,_,C,E,M,R,N,O,I){const L=E/N,F=M/O,$=E/2,V=M/2,U=R/2,k=N+1,z=O+1;let H=0,j=0;const X=new ve;for(let Y=0;Y<z;Y++){const J=Y*F-V;for(let ee=0;ee<k;ee++){const re=ee*L-$;X[x]=re*_,X[b]=J*C,X[y]=U,c.push(X.x,X.y,X.z),X[x]=0,X[b]=0,X[y]=R>0?1:-1,u.push(X.x,X.y,X.z),d.push(ee/N),d.push(1-Y/O),H+=1}}for(let Y=0;Y<O;Y++)for(let J=0;J<N;J++){const ee=f+J+k*Y,re=f+J+k*(Y+1),ue=f+(J+1)+k*(Y+1),fe=f+(J+1)+k*Y;l.push(ee,re,fe),l.push(re,ue,fe),j+=6}s.addGroup(h,j,I),h+=j,f+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function wv(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Pt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function hs(t){const e={};for(let n=0;n<t.length;n++){const r=wv(t[n]);for(const i in r)e[i]=r[i]}return e}function QLe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function hie(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Xn.workingColorSpace}const DM={clone:wv,merge:hs};var ZLe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,JLe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class as extends os{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=ZLe,this.fragmentShader=JLe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wv(e.uniforms),this.uniformsGroups=QLe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class H2 extends ji{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ar,this.projectionMatrix=new ar,this.projectionMatrixInverse=new ar,this.coordinateSystem=ws,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Wf=new ve,rH=new Ft,iH=new Ft;class la extends H2{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Jm*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(bb*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Jm*2*Math.atan(Math.tan(bb*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Wf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Wf.x,Wf.y).multiplyScalar(-e/Wf.z),Wf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Wf.x,Wf.y).multiplyScalar(-e/Wf.z)}getViewSize(e,n){return this.getViewBounds(e,rH,iH),n.subVectors(iH,rH)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(bb*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ig=-90,og=1;class pie extends ji{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new la(ig,og,e,n);i.layers=this.layers,this.add(i);const o=new la(ig,og,e,n);o.layers=this.layers,this.add(o);const a=new la(ig,og,e,n);a.layers=this.layers,this.add(a);const s=new la(ig,og,e,n);s.layers=this.layers,this.add(s);const l=new la(ig,og,e,n);l.layers=this.layers,this.add(l);const c=new la(ig,og,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const c of n)this.remove(c);if(e===ws)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===wc)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class j2 extends Uo{constructor(e=[],n=hu,r,i,o,a,s,l,c,u){super(e,n,r,i,o,a,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class uF extends cu{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new j2(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new fp(5,5,5),o=new as({name:"CubemapFromEquirect",uniforms:wv(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ui,blending:Ms});o.uniforms.tEquirect.value=n;const a=new Qr(i,o),s=n.minFilter;return n.minFilter===Ws&&(n.minFilter=Di),new pie(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}let Xs=class extends ji{constructor(){super(),this.isGroup=!0,this.type="Group"}};const eBe={type:"move"};class EC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Xs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Xs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ve,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ve),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Xs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ve,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ve),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const x of e.hand.values()){const b=n.getJointPose(x,r),y=this._getHandJoint(c,x);b!==null&&(y.matrix.fromArray(b.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=b.radius),y.visible=b!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(eBe)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Xs;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class OM extends ji{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Oa,this.environmentIntensity=1,this.environmentRotation=new Oa,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class dF{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Sv,this.updateRanges=[],this.version=0,this.uuid=nd()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nd()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nd()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const us=new ve;class Ku{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)us.fromBufferAttribute(this,n),us.applyMatrix4(e),this.setXYZ(n,us.x,us.y,us.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)us.fromBufferAttribute(this,n),us.applyNormalMatrix(e),this.setXYZ(n,us.x,us.y,us.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)us.fromBufferAttribute(this,n),us.transformDirection(e),this.setXYZ(n,us.x,us.y,us.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=bs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Cr(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Cr(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Cr(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Cr(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Cr(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=bs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=bs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=bs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=bs(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array),i=Cr(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array),i=Cr(i,this.array),o=Cr(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){Dx("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new Zi(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ku(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Dx("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class tBe extends os{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new En(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}class fF extends Uo{constructor(e=null,n=1,r=1,i,o,a,s,l,c=ci,u=ci,d,f){super(null,a,s,l,c,u,i,o,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Uh extends Zi{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const dN=new ve,nBe=new ve,rBe=new Ar;let Gu=class{constructor(e=new ve(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=dN.subVectors(r,n).cross(nBe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(dN),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||rBe.getNormalMatrix(e),i=this.coplanarPoint(dN).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const Dp=new dp,iBe=new Ft(.5,.5),$_=new ve;class dy{constructor(e=new Gu,n=new Gu,r=new Gu,i=new Gu,o=new Gu,a=new Gu){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=ws,r=!1){const i=this.planes,o=e.elements,a=o[0],s=o[1],l=o[2],c=o[3],u=o[4],d=o[5],f=o[6],h=o[7],p=o[8],x=o[9],b=o[10],y=o[11],_=o[12],C=o[13],E=o[14],M=o[15];if(i[0].setComponents(c-a,h-u,y-p,M-_).normalize(),i[1].setComponents(c+a,h+u,y+p,M+_).normalize(),i[2].setComponents(c+s,h+d,y+x,M+C).normalize(),i[3].setComponents(c-s,h-d,y-x,M-C).normalize(),r)i[4].setComponents(l,f,b,E).normalize(),i[5].setComponents(c-l,h-f,y-b,M-E).normalize();else if(i[4].setComponents(c-l,h-f,y-b,M-E).normalize(),n===ws)i[5].setComponents(c+l,h+f,y+b,M+E).normalize();else if(n===wc)i[5].setComponents(l,f,b,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Dp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Dp.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Dp)}intersectsSprite(e){Dp.center.set(0,0,0);const n=iBe.distanceTo(e.center);return Dp.radius=.7071067811865476+n,Dp.applyMatrix4(e.matrixWorld),this.intersectsSphere(Dp)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if($_.x=i.normal.x>0?e.max.x:e.min.x,$_.y=i.normal.y>0?e.max.y:e.min.y,$_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint($_)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Ru=new ar,Pu=new dy;class hF{constructor(){this.coordinateSystem=ws}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ru.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Pu.setFromProjectionMatrix(Ru,i.coordinateSystem,i.reversedDepth),Pu.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ru.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Pu.setFromProjectionMatrix(Ru,i.coordinateSystem,i.reversedDepth),Pu.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ru.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Pu.setFromProjectionMatrix(Ru,i.coordinateSystem,i.reversedDepth),Pu.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ru.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Pu.setFromProjectionMatrix(Ru,i.coordinateSystem,i.reversedDepth),Pu.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ru.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Pu.setFromProjectionMatrix(Ru,i.coordinateSystem,i.reversedDepth),Pu.containsPoint(e))return!0}return!1}clone(){return new hF}}class fy extends os{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new En(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const qT=new ve,WT=new ve,oH=new ar,i1=new G2,U_=new dp,fN=new ve,aH=new ve;class LM extends ji{constructor(e=new ei,n=new fy){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)qT.fromBufferAttribute(n,i-1),WT.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=qT.distanceTo(WT);e.setAttribute("lineDistance",new Gr(r,1))}else Pt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),U_.copy(r.boundingSphere),U_.applyMatrix4(i),U_.radius+=o,e.ray.intersectsSphere(U_)===!1)return;oH.copy(i).invert(),i1.copy(e.ray).applyMatrix4(oH);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=this.isLineSegments?2:1,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);for(let x=h,b=p-1;x<b;x+=c){const y=u.getX(x),_=u.getX(x+1),C=k_(this,e,i1,l,y,_,x);C&&n.push(C)}if(this.isLineLoop){const x=u.getX(p-1),b=u.getX(h),y=k_(this,e,i1,l,x,b,p-1);y&&n.push(y)}}else{const h=Math.max(0,a.start),p=Math.min(f.count,a.start+a.count);for(let x=h,b=p-1;x<b;x+=c){const y=k_(this,e,i1,l,x,x+1,x);y&&n.push(y)}if(this.isLineLoop){const x=k_(this,e,i1,l,p-1,h,p-1);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function k_(t,e,n,r,i,o,a){const s=t.geometry.attributes.position;if(qT.fromBufferAttribute(s,i),WT.fromBufferAttribute(s,o),n.distanceSqToSegment(qT,WT,fN,aH)>r)return;fN.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(fN);if(!(c<e.near||c>e.far))return{distance:c,point:aH.clone().applyMatrix4(t.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:t}}const sH=new ve,lH=new ve;class mie extends LM{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)sH.fromBufferAttribute(n,i),lH.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+sH.distanceTo(lH);e.setAttribute("lineDistance",new Gr(r,1))}else Pt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class pF extends os{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new En(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const cH=new ar,g5=new G2,V_=new dp,z_=new ve;class oBe extends ji{constructor(e=new ei,n=new pF){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),V_.copy(r.boundingSphere),V_.applyMatrix4(i),V_.radius+=o,e.ray.intersectsSphere(V_)===!1)return;cH.copy(i).invert(),g5.copy(e.ray).applyMatrix4(cH);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,a.start),h=Math.min(c.count,a.start+a.count);for(let p=f,x=h;p<x;p++){const b=c.getX(p);z_.fromBufferAttribute(d,b),uH(z_,b,l,i,e,n,this)}}else{const f=Math.max(0,a.start),h=Math.min(d.count,a.start+a.count);for(let p=f,x=h;p<x;p++)z_.fromBufferAttribute(d,p),uH(z_,p,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function uH(t,e,n,r,i,o,a){const s=g5.distanceSqToPoint(t);if(s<n){const l=new ve;g5.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class mF extends Uo{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=ci,this.minFilter=ci,this.generateMipmaps=!1,this.needsUpdate=!0}}class ts extends Uo{constructor(e,n,r=li,i,o,a,s=ci,l=ci,c,u=Na,d=1){if(u!==Na&&u!==Ss)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const f={width:e,height:n,depth:d};super(f,i,o,a,s,l,u,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new oF(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class gie extends ts{constructor(e,n=li,r=hu,i,o,a=ci,s=ci,l,c=Na){const u={width:e,height:e,depth:1},d=[u,u,u,u,u,u];super(e,e,n,r,i,o,a,s,l,c),this.image=d,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class Aie extends Uo{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class BM extends ei{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],c=new ve,u=new Ft;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const h=r+d/n*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),a.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(a[f]/e+1)/2,u.y=(a[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new Gr(a,3)),this.setAttribute("normal",new Gr(s,3)),this.setAttribute("uv",new Gr(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class FM extends ei{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],d=[],f=[],h=[];let p=0;const x=[],b=r/2;let y=0;_(),a===!1&&(e>0&&C(!0),n>0&&C(!1)),this.setIndex(u),this.setAttribute("position",new Gr(d,3)),this.setAttribute("normal",new Gr(f,3)),this.setAttribute("uv",new Gr(h,2));function _(){const E=new ve,M=new ve;let R=0;const N=(n-e)/r;for(let O=0;O<=o;O++){const I=[],L=O/o,F=L*(n-e)+e;for(let $=0;$<=i;$++){const V=$/i,U=V*l+s,k=Math.sin(U),z=Math.cos(U);M.x=F*k,M.y=-L*r+b,M.z=F*z,d.push(M.x,M.y,M.z),E.set(k,N,z).normalize(),f.push(E.x,E.y,E.z),h.push(V,1-L),I.push(p++)}x.push(I)}for(let O=0;O<i;O++)for(let I=0;I<o;I++){const L=x[I][O],F=x[I+1][O],$=x[I+1][O+1],V=x[I][O+1];(e>0||I!==0)&&(u.push(L,F,V),R+=3),(n>0||I!==o-1)&&(u.push(F,$,V),R+=3)}c.addGroup(y,R,0),y+=R}function C(E){const M=p,R=new Ft,N=new ve;let O=0;const I=E===!0?e:n,L=E===!0?1:-1;for(let $=1;$<=i;$++)d.push(0,b*L,0),f.push(0,L,0),h.push(.5,.5),p++;const F=p;for(let $=0;$<=i;$++){const U=$/i*l+s,k=Math.cos(U),z=Math.sin(U);N.x=I*z,N.y=b*L,N.z=I*k,d.push(N.x,N.y,N.z),f.push(0,L,0),R.x=k*.5+.5,R.y=z*.5*L+.5,h.push(R.x,R.y),p++}for(let $=0;$<i;$++){const V=M+$,U=F+$;E===!0?u.push(U,U+1,V):u.push(U+1,U,V),O+=3}c.addGroup(y,O,E===!0?1:2),y+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new FM(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class wu{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Pt("Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-a,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const u=r[i],f=r[i+1]-u,h=(a-u)/f;return(i+h)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new Ft:new ve);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new ve,i=[],o=[],a=[],s=new ve,l=new ar;for(let h=0;h<=e;h++){const p=h/e;i[h]=this.getTangentAt(p,new ve)}o[0]=new ve,a[0]=new ve;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let h=1;h<=e;h++){if(o[h]=o[h-1].clone(),a[h]=a[h-1].clone(),s.crossVectors(i[h-1],i[h]),s.length()>Number.EPSILON){s.normalize();const p=Math.acos(hr(i[h-1].dot(i[h]),-1,1));o[h].applyMatrix4(l.makeRotationAxis(s,p))}a[h].crossVectors(i[h],o[h])}if(n===!0){let h=Math.acos(hr(o[0].dot(o[e]),-1,1));h/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(h=-h);for(let p=1;p<=e;p++)o[p].applyMatrix4(l.makeRotationAxis(i[p],h*p)),a[p].crossVectors(i[p],o[p])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class gF extends wu{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new Ft){const r=n,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*u-h*d+this.aX,c=f*d+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class aBe extends gF{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function AF(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){i(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,u,d){let f=(a-o)/c-(s-o)/(c+u)+(s-a)/u,h=(s-a)/u-(l-a)/(u+d)+(l-s)/d;f*=u,h*=u,i(a,s,f,h)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const G_=new ve,hN=new AF,pN=new AF,mN=new AF;class sBe extends wu{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ve){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,u;this.closed||s>0?c=i[(s-1)%o]:(G_.subVectors(i[0],i[1]).add(i[0]),c=G_);const d=i[s%o],f=i[(s+1)%o];if(this.closed||s+2<o?u=i[(s+2)%o]:(G_.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=G_),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(d),h),x=Math.pow(d.distanceToSquared(f),h),b=Math.pow(f.distanceToSquared(u),h);x<1e-4&&(x=1),p<1e-4&&(p=x),b<1e-4&&(b=x),hN.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,p,x,b),pN.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,p,x,b),mN.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,p,x,b)}else this.curveType==="catmullrom"&&(hN.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),pN.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),mN.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(hN.calc(l),pN.calc(l),mN.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ve().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function dH(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function lBe(t,e){const n=1-t;return n*n*e}function cBe(t,e){return 2*(1-t)*t*e}function uBe(t,e){return t*t*e}function Sb(t,e,n,r){return lBe(t,e)+cBe(t,n)+uBe(t,r)}function dBe(t,e){const n=1-t;return n*n*n*e}function fBe(t,e){const n=1-t;return 3*n*n*t*e}function hBe(t,e){return 3*(1-t)*t*t*e}function pBe(t,e){return t*t*t*e}function _b(t,e,n,r,i){return dBe(t,e)+fBe(t,n)+hBe(t,r)+pBe(t,i)}class vie extends wu{constructor(e=new Ft,n=new Ft,r=new Ft,i=new Ft){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ft){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(_b(e,i.x,o.x,a.x,s.x),_b(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class yie extends wu{constructor(e=new ve,n=new ve,r=new ve,i=new ve){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ve){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(_b(e,i.x,o.x,a.x,s.x),_b(e,i.y,o.y,a.y,s.y),_b(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bie extends wu{constructor(e=new Ft,n=new Ft){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ft){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ft){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mBe extends wu{constructor(e=new ve,n=new ve){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ve){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ve){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xie extends wu{constructor(e=new Ft,n=new Ft,r=new Ft){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ft){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Sb(e,i.x,o.x,a.x),Sb(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Sie extends wu{constructor(e=new ve,n=new ve,r=new ve){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ve){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Sb(e,i.x,o.x,a.x),Sb(e,i.y,o.y,a.y),Sb(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _ie extends wu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ft){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],d=i[a>i.length-3?i.length-1:a+2];return r.set(dH(s,l.x,c.x,u.x,d.x),dH(s,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ft().fromArray(i))}return this}}var XT=Object.freeze({__proto__:null,ArcCurve:aBe,CatmullRomCurve3:sBe,CubicBezierCurve:vie,CubicBezierCurve3:yie,EllipseCurve:gF,LineCurve:bie,LineCurve3:mBe,QuadraticBezierCurve:xie,QuadraticBezierCurve3:Sie,SplineCurve:_ie});class gBe extends wu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new XT[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new XT[i.type]().fromJSON(i))}return this}}let A5=class extends gBe{constructor(e){super(),this.type="Path",this.currentPoint=new Ft,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new bie(this.currentPoint.clone(),new Ft(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new xie(this.currentPoint.clone(),new Ft(e,n),new Ft(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new vie(this.currentPoint.clone(),new Ft(e,n),new Ft(r,i),new Ft(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new _ie(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const c=new gF(e,n,r,i,o,a,s,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class MC extends A5{constructor(e){super(e),this.uuid=nd(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new A5().fromJSON(i))}return this}}function ABe(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=wie(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c;if(r&&(o=SBe(t,e,o,n)),t.length>80*n){s=t[0],l=t[1];let u=s,d=l;for(let f=n;f<i;f+=n){const h=t[f],p=t[f+1];h<s&&(s=h),p<l&&(l=p),h>u&&(u=h),p>d&&(d=p)}c=Math.max(u-s,d-l),c=c!==0?32767/c:0}return Ox(o,a,n,s,l,c,0),a}function wie(t,e,n,r,i){let o;if(i===DBe(t,e,n,r)>0)for(let a=e;a<n;a+=r)o=fH(a/r|0,t[a],t[a+1],o);else for(let a=n-r;a>=e;a-=r)o=fH(a/r|0,t[a],t[a+1],o);return o&&Cv(o,o.next)&&(Bx(o),o=o.next),o}function e0(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Cv(n,n.next)||co(n.prev,n,n.next)===0)){if(Bx(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Ox(t,e,n,r,i,o,a){if(!t)return;!a&&o&&EBe(t,r,i,o);let s=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(o?yBe(t,r,i,o):vBe(t)){e.push(l.i,t.i,c.i),Bx(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=bBe(e0(t),e),Ox(t,e,n,r,i,o,2)):a===2&&xBe(t,e,n,r,i,o):Ox(e0(t),e,n,r,i,o,1);break}}}function vBe(t){const e=t.prev,n=t,r=t.next;if(co(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,u=Math.min(i,o,a),d=Math.min(s,l,c),f=Math.max(i,o,a),h=Math.max(s,l,c);let p=r.next;for(;p!==e;){if(p.x>=u&&p.x<=f&&p.y>=d&&p.y<=h&&j1(i,s,o,l,a,c,p.x,p.y)&&co(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function yBe(t,e,n,r){const i=t.prev,o=t,a=t.next;if(co(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,d=o.y,f=a.y,h=Math.min(s,l,c),p=Math.min(u,d,f),x=Math.max(s,l,c),b=Math.max(u,d,f),y=v5(h,p,e,n,r),_=v5(x,b,e,n,r);let C=t.prevZ,E=t.nextZ;for(;C&&C.z>=y&&E&&E.z<=_;){if(C.x>=h&&C.x<=x&&C.y>=p&&C.y<=b&&C!==i&&C!==a&&j1(s,u,l,d,c,f,C.x,C.y)&&co(C.prev,C,C.next)>=0||(C=C.prevZ,E.x>=h&&E.x<=x&&E.y>=p&&E.y<=b&&E!==i&&E!==a&&j1(s,u,l,d,c,f,E.x,E.y)&&co(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;C&&C.z>=y;){if(C.x>=h&&C.x<=x&&C.y>=p&&C.y<=b&&C!==i&&C!==a&&j1(s,u,l,d,c,f,C.x,C.y)&&co(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;E&&E.z<=_;){if(E.x>=h&&E.x<=x&&E.y>=p&&E.y<=b&&E!==i&&E!==a&&j1(s,u,l,d,c,f,E.x,E.y)&&co(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function bBe(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Cv(r,i)&&Tie(r,n,n.next,i)&&Lx(r,i)&&Lx(i,r)&&(e.push(r.i,n.i,i.i),Bx(n),Bx(n.next),n=t=i),n=n.next}while(n!==t);return e0(n)}function xBe(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&PBe(a,s)){let l=Eie(a,s);a=e0(a,a.next),l=e0(l,l.next),Ox(a,e,n,r,i,o,0),Ox(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function SBe(t,e,n,r){const i=[];for(let o=0,a=e.length;o<a;o++){const s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=wie(t,s,l,r,!1);c===c.next&&(c.steiner=!0),i.push(RBe(c))}i.sort(_Be);for(let o=0;o<i.length;o++)n=wBe(i[o],n);return n}function _Be(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function wBe(t,e){const n=CBe(t,e);if(!n)return e;const r=Eie(n,t);return e0(r,r.next),e0(n,n.next)}function CBe(t,e){let n=e;const r=t.x,i=t.y;let o=-1/0,a;if(Cv(t,n))return n;do{if(Cv(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const d=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=r&&d>o&&(o=d,a=n.x<n.next.x?n:n.next,d===r))return a}n=n.next}while(n!==e);if(!a)return null;const s=a,l=a.x,c=a.y;let u=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Cie(i<c?r:o,i,l,c,i<c?o:r,i,n.x,n.y)){const d=Math.abs(i-n.y)/(r-n.x);Lx(n,t)&&(d<u||d===u&&(n.x>a.x||n.x===a.x&&TBe(a,n)))&&(a=n,u=d)}n=n.next}while(n!==s);return a}function TBe(t,e){return co(t.prev,t,e.prev)<0&&co(e.next,t,t.next)<0}function EBe(t,e,n,r){let i=t;do i.z===0&&(i.z=v5(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,MBe(i)}function MBe(t){let e,n=1;do{let r=t,i;t=null;let o=null;for(e=0;r;){e++;let a=r,s=0;for(let c=0;c<n&&(s++,a=a.nextZ,!!a);c++);let l=n;for(;s>0||l>0&&a;)s!==0&&(l===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,s--):(i=a,a=a.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=a}o.nextZ=null,n*=2}while(e>1);return t}function v5(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function RBe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Cie(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function j1(t,e,n,r,i,o,a,s){return!(t===a&&e===s)&&Cie(t,e,n,r,i,o,a,s)}function PBe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!NBe(t,e)&&(Lx(t,e)&&Lx(e,t)&&IBe(t,e)&&(co(t.prev,t,e.prev)||co(t,e.prev,e))||Cv(t,e)&&co(t.prev,t,t.next)>0&&co(e.prev,e,e.next)>0)}function co(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Cv(t,e){return t.x===e.x&&t.y===e.y}function Tie(t,e,n,r){const i=j_(co(t,e,n)),o=j_(co(t,e,r)),a=j_(co(n,r,t)),s=j_(co(n,r,e));return!!(i!==o&&a!==s||i===0&&H_(t,n,e)||o===0&&H_(t,r,e)||a===0&&H_(n,t,r)||s===0&&H_(n,e,r))}function H_(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function j_(t){return t>0?1:t<0?-1:0}function NBe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Tie(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Lx(t,e){return co(t.prev,t,t.next)<0?co(t,e,t.next)>=0&&co(t,t.prev,e)>=0:co(t,e,t.prev)<0||co(t,t.next,e)<0}function IBe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Eie(t,e){const n=y5(t.i,t.x,t.y),r=y5(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function fH(t,e,n,r){const i=y5(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Bx(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function y5(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function DBe(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class OBe{static triangulate(e,n,r=2){return ABe(e,n,r)}}class Am{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Am.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];hH(e),pH(r,e);let a=e.length;n.forEach(hH);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,pH(r,n[l]);const s=OBe.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function hH(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function pH(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class vF extends ei{constructor(e=new MC([new Ft(.5,.5),new Ft(-.5,.5),new Ft(-.5,-.5),new Ft(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new Gr(i,3)),this.setAttribute("uv",new Gr(o,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,p=n.bevelSize!==void 0?n.bevelSize:h-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,b=n.bevelSegments!==void 0?n.bevelSegments:3;const y=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:LBe;let C,E=!1,M,R,N,O;if(y){C=y.getSpacedPoints(u),E=!0,f=!1;const Ae=y.isCatmullRomCurve3?y.closed:!1;M=y.computeFrenetFrames(u,Ae),R=new ve,N=new ve,O=new ve}f||(b=0,h=0,p=0,x=0);const I=s.extractPoints(c);let L=I.shape;const F=I.holes;if(!Am.isClockWise(L)){L=L.reverse();for(let Ae=0,me=F.length;Ae<me;Ae++){const de=F[Ae];Am.isClockWise(de)&&(F[Ae]=de.reverse())}}function V(Ae){const de=10000000000000001e-36;let Be=Ae[0];for(let ne=1;ne<=Ae.length;ne++){const Je=ne%Ae.length,Ye=Ae[Je],rt=Ye.x-Be.x,qe=Ye.y-Be.y,se=rt*rt+qe*qe,K=Math.max(Math.abs(Ye.x),Math.abs(Ye.y),Math.abs(Be.x),Math.abs(Be.y)),_e=de*K*K;if(se<=_e){Ae.splice(Je,1),ne--;continue}Be=Ye}}V(L),F.forEach(V);const U=F.length,k=L;for(let Ae=0;Ae<U;Ae++){const me=F[Ae];L=L.concat(me)}function z(Ae,me,de){return me||$t("ExtrudeGeometry: vec does not exist"),Ae.clone().addScaledVector(me,de)}const H=L.length;function j(Ae,me,de){let Be,ne,Je;const Ye=Ae.x-me.x,rt=Ae.y-me.y,qe=de.x-Ae.x,se=de.y-Ae.y,K=Ye*Ye+rt*rt,_e=Ye*se-rt*qe;if(Math.abs(_e)>Number.EPSILON){const Ue=Math.sqrt(K),lt=Math.sqrt(qe*qe+se*se),We=me.x-rt/Ue,pt=me.y+Ye/Ue,mt=de.x-se/lt,vt=de.y+qe/lt,At=((mt-We)*se-(vt-pt)*qe)/(Ye*se-rt*qe);Be=We+Ye*At-Ae.x,ne=pt+rt*At-Ae.y;const ot=Be*Be+ne*ne;if(ot<=2)return new Ft(Be,ne);Je=Math.sqrt(ot/2)}else{let Ue=!1;Ye>Number.EPSILON?qe>Number.EPSILON&&(Ue=!0):Ye<-Number.EPSILON?qe<-Number.EPSILON&&(Ue=!0):Math.sign(rt)===Math.sign(se)&&(Ue=!0),Ue?(Be=-rt,ne=Ye,Je=Math.sqrt(K)):(Be=Ye,ne=rt,Je=Math.sqrt(K/2))}return new Ft(Be/Je,ne/Je)}const X=[];for(let Ae=0,me=k.length,de=me-1,Be=Ae+1;Ae<me;Ae++,de++,Be++)de===me&&(de=0),Be===me&&(Be=0),X[Ae]=j(k[Ae],k[de],k[Be]);const Y=[];let J,ee=X.concat();for(let Ae=0,me=U;Ae<me;Ae++){const de=F[Ae];J=[];for(let Be=0,ne=de.length,Je=ne-1,Ye=Be+1;Be<ne;Be++,Je++,Ye++)Je===ne&&(Je=0),Ye===ne&&(Ye=0),J[Be]=j(de[Be],de[Je],de[Ye]);Y.push(J),ee=ee.concat(J)}let re;if(b===0)re=Am.triangulateShape(k,F);else{const Ae=[],me=[];for(let de=0;de<b;de++){const Be=de/b,ne=h*Math.cos(Be*Math.PI/2),Je=p*Math.sin(Be*Math.PI/2)+x;for(let Ye=0,rt=k.length;Ye<rt;Ye++){const qe=z(k[Ye],X[Ye],Je);ye(qe.x,qe.y,-ne),Be===0&&Ae.push(qe)}for(let Ye=0,rt=U;Ye<rt;Ye++){const qe=F[Ye];J=Y[Ye];const se=[];for(let K=0,_e=qe.length;K<_e;K++){const Ue=z(qe[K],J[K],Je);ye(Ue.x,Ue.y,-ne),Be===0&&se.push(Ue)}Be===0&&me.push(se)}}re=Am.triangulateShape(Ae,me)}const ue=re.length,fe=p+x;for(let Ae=0;Ae<H;Ae++){const me=f?z(L[Ae],ee[Ae],fe):L[Ae];E?(N.copy(M.normals[0]).multiplyScalar(me.x),R.copy(M.binormals[0]).multiplyScalar(me.y),O.copy(C[0]).add(N).add(R),ye(O.x,O.y,O.z)):ye(me.x,me.y,0)}for(let Ae=1;Ae<=u;Ae++)for(let me=0;me<H;me++){const de=f?z(L[me],ee[me],fe):L[me];E?(N.copy(M.normals[Ae]).multiplyScalar(de.x),R.copy(M.binormals[Ae]).multiplyScalar(de.y),O.copy(C[Ae]).add(N).add(R),ye(O.x,O.y,O.z)):ye(de.x,de.y,d/u*Ae)}for(let Ae=b-1;Ae>=0;Ae--){const me=Ae/b,de=h*Math.cos(me*Math.PI/2),Be=p*Math.sin(me*Math.PI/2)+x;for(let ne=0,Je=k.length;ne<Je;ne++){const Ye=z(k[ne],X[ne],Be);ye(Ye.x,Ye.y,d+de)}for(let ne=0,Je=F.length;ne<Je;ne++){const Ye=F[ne];J=Y[ne];for(let rt=0,qe=Ye.length;rt<qe;rt++){const se=z(Ye[rt],J[rt],Be);E?ye(se.x,se.y+C[u-1].y,C[u-1].x+de):ye(se.x,se.y,d+de)}}}oe(),ce();function oe(){const Ae=i.length/3;if(f){let me=0,de=H*me;for(let Be=0;Be<ue;Be++){const ne=re[Be];xe(ne[2]+de,ne[1]+de,ne[0]+de)}me=u+b*2,de=H*me;for(let Be=0;Be<ue;Be++){const ne=re[Be];xe(ne[0]+de,ne[1]+de,ne[2]+de)}}else{for(let me=0;me<ue;me++){const de=re[me];xe(de[2],de[1],de[0])}for(let me=0;me<ue;me++){const de=re[me];xe(de[0]+H*u,de[1]+H*u,de[2]+H*u)}}r.addGroup(Ae,i.length/3-Ae,0)}function ce(){const Ae=i.length/3;let me=0;pe(k,me),me+=k.length;for(let de=0,Be=F.length;de<Be;de++){const ne=F[de];pe(ne,me),me+=ne.length}r.addGroup(Ae,i.length/3-Ae,1)}function pe(Ae,me){let de=Ae.length;for(;--de>=0;){const Be=de;let ne=de-1;ne<0&&(ne=Ae.length-1);for(let Je=0,Ye=u+b*2;Je<Ye;Je++){const rt=H*Je,qe=H*(Je+1),se=me+Be+rt,K=me+ne+rt,_e=me+ne+qe,Ue=me+Be+qe;be(se,K,_e,Ue)}}}function ye(Ae,me,de){l.push(Ae),l.push(me),l.push(de)}function xe(Ae,me,de){Ce(Ae),Ce(me),Ce(de);const Be=i.length/3,ne=_.generateTopUV(r,i,Be-3,Be-2,Be-1);Ne(ne[0]),Ne(ne[1]),Ne(ne[2])}function be(Ae,me,de,Be){Ce(Ae),Ce(me),Ce(Be),Ce(me),Ce(de),Ce(Be);const ne=i.length/3,Je=_.generateSideWallUV(r,i,ne-6,ne-3,ne-2,ne-1);Ne(Je[0]),Ne(Je[1]),Ne(Je[3]),Ne(Je[1]),Ne(Je[2]),Ne(Je[3])}function Ce(Ae){i.push(l[Ae*3+0]),i.push(l[Ae*3+1]),i.push(l[Ae*3+2])}function Ne(Ae){o.push(Ae.x),o.push(Ae.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return BBe(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new XT[i.type]().fromJSON(i)),new vF(r,e.options)}}const LBe={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Ft(o,a),new Ft(s,l),new Ft(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],h=e[i*3+1],p=e[i*3+2],x=e[o*3],b=e[o*3+1],y=e[o*3+2];return Math.abs(s-u)<Math.abs(a-c)?[new Ft(a,1-l),new Ft(c,1-d),new Ft(f,1-p),new Ft(x,1-y)]:[new Ft(s,1-l),new Ft(u,1-d),new Ft(h,1-p),new Ft(b,1-y)]}};function BBe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class q2 extends ei{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),c=s+1,u=l+1,d=e/s,f=n/l,h=[],p=[],x=[],b=[];for(let y=0;y<u;y++){const _=y*f-a;for(let C=0;C<c;C++){const E=C*d-o;p.push(E,-_,0),x.push(0,0,1),b.push(C/s),b.push(1-y/l)}}for(let y=0;y<l;y++)for(let _=0;_<s;_++){const C=_+c*y,E=_+c*(y+1),M=_+1+c*(y+1),R=_+1+c*y;h.push(C,E,R),h.push(E,M,R)}this.setIndex(h),this.setAttribute("position",new Gr(p,3)),this.setAttribute("normal",new Gr(x,3)),this.setAttribute("uv",new Gr(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q2(e.width,e.height,e.widthSegments,e.heightSegments)}}class Sd extends ei{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let c=0;const u=[],d=new ve,f=new ve,h=[],p=[],x=[],b=[];for(let y=0;y<=r;y++){const _=[],C=y/r;let E=0;y===0&&a===0?E=.5/n:y===r&&l===Math.PI&&(E=-.5/n);for(let M=0;M<=n;M++){const R=M/n;d.x=-e*Math.cos(i+R*o)*Math.sin(a+C*s),d.y=e*Math.cos(a+C*s),d.z=e*Math.sin(i+R*o)*Math.sin(a+C*s),p.push(d.x,d.y,d.z),f.copy(d).normalize(),x.push(f.x,f.y,f.z),b.push(R+E,1-C),_.push(c++)}u.push(_)}for(let y=0;y<r;y++)for(let _=0;_<n;_++){const C=u[y][_+1],E=u[y][_],M=u[y+1][_],R=u[y+1][_+1];(y!==0||a>0)&&h.push(C,E,R),(y!==r-1||l<Math.PI)&&h.push(E,M,R)}this.setIndex(h),this.setAttribute("position",new Gr(p,3)),this.setAttribute("normal",new Gr(x,3)),this.setAttribute("uv",new Gr(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class yF extends ei{constructor(e=new Sie(new ve(-1,-1,0),new ve(-1,1,0),new ve(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new ve,l=new ve,c=new Ft;let u=new ve;const d=[],f=[],h=[],p=[];x(),this.setIndex(p),this.setAttribute("position",new Gr(d,3)),this.setAttribute("normal",new Gr(f,3)),this.setAttribute("uv",new Gr(h,2));function x(){for(let C=0;C<n;C++)b(C);b(o===!1?n:0),_(),y()}function b(C){u=e.getPointAt(C/n,u);const E=a.normals[C],M=a.binormals[C];for(let R=0;R<=i;R++){const N=R/i*Math.PI*2,O=Math.sin(N),I=-Math.cos(N);l.x=I*E.x+O*M.x,l.y=I*E.y+O*M.y,l.z=I*E.z+O*M.z,l.normalize(),f.push(l.x,l.y,l.z),s.x=u.x+r*l.x,s.y=u.y+r*l.y,s.z=u.z+r*l.z,d.push(s.x,s.y,s.z)}}function y(){for(let C=1;C<=n;C++)for(let E=1;E<=i;E++){const M=(i+1)*(C-1)+(E-1),R=(i+1)*C+(E-1),N=(i+1)*C+E,O=(i+1)*(C-1)+E;p.push(M,R,O),p.push(R,N,O)}}function _(){for(let C=0;C<=n;C++)for(let E=0;E<=i;E++)c.x=C/n,c.y=E/i,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new yF(new XT[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class FBe extends ei{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ve,o=new ve;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,h=d.count;for(let p=f,x=f+h;p<x;p+=3)for(let b=0;b<3;b++){const y=s.getX(p+b),_=s.getX(p+(b+1)%3);i.fromBufferAttribute(a,y),o.fromBufferAttribute(a,_),mH(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const u=3*s+c,d=3*s+(c+1)%3;i.fromBufferAttribute(a,u),o.fromBufferAttribute(a,d),mH(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new Gr(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function mH(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}class $Be extends os{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new En(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class UBe extends as{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Mie extends os{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new En(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new En(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=td,this.normalScale=new Ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Oa,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kBe extends Mie{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ft(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return hr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new En(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new En(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new En(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Rie extends os{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new En(16777215),this.specular=new En(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new En(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=td,this.normalScale=new Ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Oa,this.combine=F2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VBe extends os{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new En(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new En(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=td,this.normalScale=new Ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class zBe extends os{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=td,this.normalScale=new Ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Mf extends os{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new En(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new En(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=td,this.normalScale=new Ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Oa,this.combine=F2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GBe extends os{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=tLe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class HBe extends os{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class jBe extends os{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new En(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=td,this.normalScale=new Ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class qBe extends fy{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}const gN={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class WBe{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this._abortController=null,this.itemStart=function(u){s++,o===!1&&i.onStart!==void 0&&i.onStart(u,a,s),o=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],p=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const XBe=new WBe;class bF{constructor(e){this.manager=e!==void 0?e:XBe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}bF.DEFAULT_MATERIAL_NAME="__DEFAULT";const ag=new WeakMap;class YBe extends bF{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=gN.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0);else{let d=ag.get(a);d===void 0&&(d=[],ag.set(a,d)),d.push({onLoad:n,onError:i})}return a}const s=Ix("img");function l(){u(),n&&n(this);const d=ag.get(this)||[];for(let f=0;f<d.length;f++){const h=d[f];h.onLoad&&h.onLoad(this)}ag.delete(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),gN.remove(`image:${e}`);const f=ag.get(this)||[];for(let h=0;h<f.length;h++){const p=f[h];p.onError&&p.onError(d)}ag.delete(this),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),gN.add(`image:${e}`,s),o.manager.itemStart(e),s.src=e,s}}class xF extends bF{constructor(e){super(e)}load(e,n,r,i){const o=new Uo,a=new YBe(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class y0 extends ji{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new En(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class KBe extends y0{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ji.DEFAULT_UP),this.updateMatrix(),this.groundColor=new En(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const AN=new ar,gH=new ve,AH=new ve;class SF{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ft(512,512),this.mapType=Fi,this.map=null,this.mapPass=null,this.matrix=new ar,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dy,this._frameExtents=new Ft(1,1),this._viewportCount=1,this._viewports=[new nr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;gH.setFromMatrixPosition(e.matrixWorld),n.position.copy(gH),AH.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(AH),n.updateMatrixWorld(),AN.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(AN,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(AN)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class QBe extends SF{constructor(){super(new la(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=Jm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class _F extends y0{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ji.DEFAULT_UP),this.updateMatrix(),this.target=new ji,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new QBe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class ZBe extends SF{constructor(){super(new la(90,1,.5,500)),this.isPointLightShadow=!0}}class JBe extends y0{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new ZBe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class hy extends H2{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class eFe extends SF{constructor(){super(new hy(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Pie extends y0{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ji.DEFAULT_UP),this.updateMatrix(),this.target=new ji,this.shadow=new eFe}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class Nie extends y0{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class tFe extends y0{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class nFe{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ve)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class rFe extends y0{constructor(e=new nFe,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class iFe extends ei{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Iie extends la{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class Die{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}class YT extends dF{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}const vH=new ar;class oFe{constructor(e,n,r=0,i=1/0){this.ray=new G2(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new sF,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):$t("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return vH.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(vH),this}intersectObject(e,n=!0,r=[]){return b5(e,this,r,n),r.sort(yH),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)b5(e[i],this,r,n);return r.sort(yH),r}}function yH(t,e){return t.distance-e.distance}function b5(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const o=t.children;for(let a=0,s=o.length;a<s;a++)b5(o[a],e,n,!0)}}class bH{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=hr(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(hr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class $M{constructor(e,n,r,i){$M.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const o=this.elements;return o[0]=e,o[2]=n,o[1]=r,o[3]=i,this}}const xH=new ve,q_=new ve,sg=new ve,lg=new ve,vN=new ve,aFe=new ve,sFe=new ve;class lFe{constructor(e=new ve,n=new ve){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){xH.subVectors(e,this.start),q_.subVectors(this.end,this.start);const r=q_.dot(q_);let o=q_.dot(xH)/r;return n&&(o=hr(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=aFe,r=sFe){const i=10000000000000001e-32;let o,a;const s=this.start,l=e.start,c=this.end,u=e.end;sg.subVectors(c,s),lg.subVectors(u,l),vN.subVectors(s,l);const d=sg.dot(sg),f=lg.dot(lg),h=lg.dot(vN);if(d<=i&&f<=i)return n.copy(s),r.copy(l),n.sub(r),n.dot(n);if(d<=i)o=0,a=h/f,a=hr(a,0,1);else{const p=sg.dot(vN);if(f<=i)a=0,o=hr(-p/d,0,1);else{const x=sg.dot(lg),b=d*f-x*x;b!==0?o=hr((x*h-p*f)/b,0,1):o=0,a=(x*o+h)/f,a<0?(a=0,o=hr(-p/d,0,1)):a>1&&(a=1,o=hr((x-p)/d,0,1))}}return n.copy(s).add(sg.multiplyScalar(o)),r.copy(l).add(lg.multiplyScalar(a)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}class cFe{constructor(){this.type="ShapePath",this.color=new En,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new A5,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(y){const _=[];for(let C=0,E=y.length;C<E;C++){const M=y[C],R=new MC;R.curves=M.curves,_.push(R)}return _}function r(y,_){const C=_.length;let E=!1;for(let M=C-1,R=0;R<C;M=R++){let N=_[M],O=_[R],I=O.x-N.x,L=O.y-N.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(N=_[R],I=-I,O=_[M],L=-L),y.y<N.y||y.y>O.y)continue;if(y.y===N.y){if(y.x===N.x)return!0}else{const F=L*(y.x-N.x)-I*(y.y-N.y);if(F===0)return!0;if(F<0)continue;E=!E}}else{if(y.y!==N.y)continue;if(O.x<=y.x&&y.x<=N.x||N.x<=y.x&&y.x<=O.x)return!0}}return E}const i=Am.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const c=[];if(o.length===1)return s=o[0],l=new MC,l.curves=s.curves,c.push(l),c;let u=!i(o[0].getPoints());u=e?!u:u;const d=[],f=[];let h=[],p=0,x;f[p]=void 0,h[p]=[];for(let y=0,_=o.length;y<_;y++)s=o[y],x=s.getPoints(),a=i(x),a=e?!a:a,a?(!u&&f[p]&&p++,f[p]={s:new MC,p:x},f[p].s.curves=s.curves,u&&p++,h[p]=[]):h[p].push({h:s,p:x[0]});if(!f[0])return n(o);if(f.length>1){let y=!1,_=0;for(let C=0,E=f.length;C<E;C++)d[C]=[];for(let C=0,E=f.length;C<E;C++){const M=h[C];for(let R=0;R<M.length;R++){const N=M[R];let O=!0;for(let I=0;I<f.length;I++)r(N.p,f[I].p)&&(C!==I&&_++,O?(O=!1,d[I].push(N)):y=!0);O&&d[C].push(N)}}_>0&&y===!1&&(h=d)}let b;for(let y=0,_=f.length;y<_;y++){l=f[y].s,c.push(l),b=h[y];for(let C=0,E=b.length;C<E;C++)l.holes.push(b[C].h)}return c}}class wF extends _u{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Pt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function x5(t,e,n,r){const i=uFe(r);switch(n){case QB:return t*e;case U2:return t*e/i.components*i.byteLength;case ly:return t*e/i.components*i.byteLength;case _s:return t*e*2/i.components*i.byteLength;case cy:return t*e*2/i.components*i.byteLength;case $2:return t*e*3/i.components*i.byteLength;case _o:return t*e*4/i.components*i.byteLength;case uy:return t*e*4/i.components*i.byteLength;case Lh:case Bh:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Fh:case $h:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Rx:case Nx:return Math.max(t,16)*Math.max(e,8)/4;case Mx:case Px:return Math.max(t,8)*Math.max(e,8)/2;case QA:case ZA:case ev:case tv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case JA:case Qm:case nv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case rv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case iv:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case ov:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case av:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case sv:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case lv:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case cv:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case uv:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case dv:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case fv:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case hv:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case pv:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case mv:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case gv:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Av:case h5:case p5:return Math.ceil(t/4)*Math.ceil(e/4)*16;case vv:case yv:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Zm:case bv:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function uFe(t){switch(t){case Fi:case Rm:return{byteLength:1,components:1};case eu:case Pm:case Ui:return{byteLength:2,components:1};case RM:case PM:return{byteLength:2,components:4};case li:case sa:case xo:return{byteLength:4,components:1};case NM:case IM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:v0}}));typeof window<"u"&&(window.__THREE__?Pt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=v0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Oie(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function dFe(t){const e=new WeakMap;function n(s,l){const c=s.array,u=s.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),s.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)h=t.HALF_FLOAT;else if(c instanceof Uint16Array)s.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:s.version,size:d}}function r(s,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,s),d.length===0)t.bufferSubData(c,0,u);else{d.sort((h,p)=>h.start-p.start);let f=0;for(let h=1;h<d.length;h++){const p=d[f],x=d[h];x.start<=p.start+p.count+1?p.count=Math.max(p.count,x.start+x.count-p.start):(++f,d[f]=x)}d.length=f+1;for(let h=0,p=d.length;h<p;h++){const x=d[h];t.bufferSubData(c,x.start*u.BYTES_PER_ELEMENT,u,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function a(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const u=e.get(s);(!u||u.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const c=e.get(s);if(c===void 0)e.set(s,n(s,l));else if(c.version<s.version){if(c.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,s,l),c.version=s.version}}return{get:i,remove:o,update:a}}var fFe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,hFe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,pFe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,mFe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,gFe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,AFe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,vFe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,yFe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,bFe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,xFe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,SFe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,_Fe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,wFe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,CFe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,TFe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,EFe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,MFe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,RFe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,PFe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,NFe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,IFe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,DFe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,OFe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,LFe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,BFe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,FFe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,$Fe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,UFe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,kFe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,VFe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,zFe="gl_FragColor = linearToOutputTexel( gl_FragColor );",GFe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,HFe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,jFe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,qFe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,WFe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,XFe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,YFe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,KFe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,QFe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ZFe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,JFe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,e$e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,t$e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,n$e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,r$e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,i$e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,o$e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,a$e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,s$e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,l$e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,c$e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,u$e=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,d$e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,f$e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,h$e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,p$e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,m$e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,g$e=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,A$e=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,v$e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,y$e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,b$e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,x$e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,S$e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,_$e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,w$e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,C$e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,T$e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,E$e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,M$e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,R$e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,P$e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,N$e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,I$e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,D$e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,O$e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,L$e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,B$e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,F$e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,$$e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,U$e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,k$e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,V$e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,z$e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,G$e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,H$e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,j$e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,q$e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,W$e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,X$e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Y$e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,K$e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Q$e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Z$e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,J$e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,e7e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,t7e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,n7e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,r7e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,i7e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,o7e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,a7e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,s7e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,l7e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,c7e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,u7e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const d7e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,f7e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,h7e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,p7e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,m7e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,g7e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,A7e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,v7e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,y7e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,b7e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,x7e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,S7e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_7e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,w7e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,C7e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,T7e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,E7e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,M7e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,R7e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,P7e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,N7e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,I7e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,D7e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,O7e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,L7e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,B7e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,F7e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$7e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,U7e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,k7e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,V7e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,z7e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,G7e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,H7e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,br={alphahash_fragment:fFe,alphahash_pars_fragment:hFe,alphamap_fragment:pFe,alphamap_pars_fragment:mFe,alphatest_fragment:gFe,alphatest_pars_fragment:AFe,aomap_fragment:vFe,aomap_pars_fragment:yFe,batching_pars_vertex:bFe,batching_vertex:xFe,begin_vertex:SFe,beginnormal_vertex:_Fe,bsdfs:wFe,iridescence_fragment:CFe,bumpmap_pars_fragment:TFe,clipping_planes_fragment:EFe,clipping_planes_pars_fragment:MFe,clipping_planes_pars_vertex:RFe,clipping_planes_vertex:PFe,color_fragment:NFe,color_pars_fragment:IFe,color_pars_vertex:DFe,color_vertex:OFe,common:LFe,cube_uv_reflection_fragment:BFe,defaultnormal_vertex:FFe,displacementmap_pars_vertex:$Fe,displacementmap_vertex:UFe,emissivemap_fragment:kFe,emissivemap_pars_fragment:VFe,colorspace_fragment:zFe,colorspace_pars_fragment:GFe,envmap_fragment:HFe,envmap_common_pars_fragment:jFe,envmap_pars_fragment:qFe,envmap_pars_vertex:WFe,envmap_physical_pars_fragment:i$e,envmap_vertex:XFe,fog_vertex:YFe,fog_pars_vertex:KFe,fog_fragment:QFe,fog_pars_fragment:ZFe,gradientmap_pars_fragment:JFe,lightmap_pars_fragment:e$e,lights_lambert_fragment:t$e,lights_lambert_pars_fragment:n$e,lights_pars_begin:r$e,lights_toon_fragment:o$e,lights_toon_pars_fragment:a$e,lights_phong_fragment:s$e,lights_phong_pars_fragment:l$e,lights_physical_fragment:c$e,lights_physical_pars_fragment:u$e,lights_fragment_begin:d$e,lights_fragment_maps:f$e,lights_fragment_end:h$e,logdepthbuf_fragment:p$e,logdepthbuf_pars_fragment:m$e,logdepthbuf_pars_vertex:g$e,logdepthbuf_vertex:A$e,map_fragment:v$e,map_pars_fragment:y$e,map_particle_fragment:b$e,map_particle_pars_fragment:x$e,metalnessmap_fragment:S$e,metalnessmap_pars_fragment:_$e,morphinstance_vertex:w$e,morphcolor_vertex:C$e,morphnormal_vertex:T$e,morphtarget_pars_vertex:E$e,morphtarget_vertex:M$e,normal_fragment_begin:R$e,normal_fragment_maps:P$e,normal_pars_fragment:N$e,normal_pars_vertex:I$e,normal_vertex:D$e,normalmap_pars_fragment:O$e,clearcoat_normal_fragment_begin:L$e,clearcoat_normal_fragment_maps:B$e,clearcoat_pars_fragment:F$e,iridescence_pars_fragment:$$e,opaque_fragment:U$e,packing:k$e,premultiplied_alpha_fragment:V$e,project_vertex:z$e,dithering_fragment:G$e,dithering_pars_fragment:H$e,roughnessmap_fragment:j$e,roughnessmap_pars_fragment:q$e,shadowmap_pars_fragment:W$e,shadowmap_pars_vertex:X$e,shadowmap_vertex:Y$e,shadowmask_pars_fragment:K$e,skinbase_vertex:Q$e,skinning_pars_vertex:Z$e,skinning_vertex:J$e,skinnormal_vertex:e7e,specularmap_fragment:t7e,specularmap_pars_fragment:n7e,tonemapping_fragment:r7e,tonemapping_pars_fragment:i7e,transmission_fragment:o7e,transmission_pars_fragment:a7e,uv_pars_fragment:s7e,uv_pars_vertex:l7e,uv_vertex:c7e,worldpos_vertex:u7e,background_vert:d7e,background_frag:f7e,backgroundCube_vert:h7e,backgroundCube_frag:p7e,cube_vert:m7e,cube_frag:g7e,depth_vert:A7e,depth_frag:v7e,distance_vert:y7e,distance_frag:b7e,equirect_vert:x7e,equirect_frag:S7e,linedashed_vert:_7e,linedashed_frag:w7e,meshbasic_vert:C7e,meshbasic_frag:T7e,meshlambert_vert:E7e,meshlambert_frag:M7e,meshmatcap_vert:R7e,meshmatcap_frag:P7e,meshnormal_vert:N7e,meshnormal_frag:I7e,meshphong_vert:D7e,meshphong_frag:O7e,meshphysical_vert:L7e,meshphysical_frag:B7e,meshtoon_vert:F7e,meshtoon_frag:$7e,points_vert:U7e,points_frag:k7e,shadow_vert:V7e,shadow_frag:z7e,sprite_vert:G7e,sprite_frag:H7e},un={common:{diffuse:{value:new En(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ar},alphaMap:{value:null},alphaMapTransform:{value:new Ar},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ar}},envmap:{envMap:{value:null},envMapRotation:{value:new Ar},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ar}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ar}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ar},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ar},normalScale:{value:new Ft(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ar},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ar}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ar}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ar}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new En(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new En(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ar},alphaTest:{value:0},uvTransform:{value:new Ar}},sprite:{diffuse:{value:new En(16777215)},opacity:{value:1},center:{value:new Ft(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ar},alphaMap:{value:null},alphaMapTransform:{value:new Ar},alphaTest:{value:0}}},zs={basic:{uniforms:hs([un.common,un.specularmap,un.envmap,un.aomap,un.lightmap,un.fog]),vertexShader:br.meshbasic_vert,fragmentShader:br.meshbasic_frag},lambert:{uniforms:hs([un.common,un.specularmap,un.envmap,un.aomap,un.lightmap,un.emissivemap,un.bumpmap,un.normalmap,un.displacementmap,un.fog,un.lights,{emissive:{value:new En(0)}}]),vertexShader:br.meshlambert_vert,fragmentShader:br.meshlambert_frag},phong:{uniforms:hs([un.common,un.specularmap,un.envmap,un.aomap,un.lightmap,un.emissivemap,un.bumpmap,un.normalmap,un.displacementmap,un.fog,un.lights,{emissive:{value:new En(0)},specular:{value:new En(1118481)},shininess:{value:30}}]),vertexShader:br.meshphong_vert,fragmentShader:br.meshphong_frag},standard:{uniforms:hs([un.common,un.envmap,un.aomap,un.lightmap,un.emissivemap,un.bumpmap,un.normalmap,un.displacementmap,un.roughnessmap,un.metalnessmap,un.fog,un.lights,{emissive:{value:new En(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:br.meshphysical_vert,fragmentShader:br.meshphysical_frag},toon:{uniforms:hs([un.common,un.aomap,un.lightmap,un.emissivemap,un.bumpmap,un.normalmap,un.displacementmap,un.gradientmap,un.fog,un.lights,{emissive:{value:new En(0)}}]),vertexShader:br.meshtoon_vert,fragmentShader:br.meshtoon_frag},matcap:{uniforms:hs([un.common,un.bumpmap,un.normalmap,un.displacementmap,un.fog,{matcap:{value:null}}]),vertexShader:br.meshmatcap_vert,fragmentShader:br.meshmatcap_frag},points:{uniforms:hs([un.points,un.fog]),vertexShader:br.points_vert,fragmentShader:br.points_frag},dashed:{uniforms:hs([un.common,un.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:br.linedashed_vert,fragmentShader:br.linedashed_frag},depth:{uniforms:hs([un.common,un.displacementmap]),vertexShader:br.depth_vert,fragmentShader:br.depth_frag},normal:{uniforms:hs([un.common,un.bumpmap,un.normalmap,un.displacementmap,{opacity:{value:1}}]),vertexShader:br.meshnormal_vert,fragmentShader:br.meshnormal_frag},sprite:{uniforms:hs([un.sprite,un.fog]),vertexShader:br.sprite_vert,fragmentShader:br.sprite_frag},background:{uniforms:{uvTransform:{value:new Ar},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:br.background_vert,fragmentShader:br.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ar}},vertexShader:br.backgroundCube_vert,fragmentShader:br.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:br.cube_vert,fragmentShader:br.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:br.equirect_vert,fragmentShader:br.equirect_frag},distance:{uniforms:hs([un.common,un.displacementmap,{referencePosition:{value:new ve},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:br.distance_vert,fragmentShader:br.distance_frag},shadow:{uniforms:hs([un.lights,un.fog,{color:{value:new En(0)},opacity:{value:1}}]),vertexShader:br.shadow_vert,fragmentShader:br.shadow_frag}};zs.physical={uniforms:hs([zs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ar},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ar},clearcoatNormalScale:{value:new Ft(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ar},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ar},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ar},sheen:{value:0},sheenColor:{value:new En(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ar},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ar},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ar},transmissionSamplerSize:{value:new Ft},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ar},attenuationDistance:{value:0},attenuationColor:{value:new En(0)},specularColor:{value:new En(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ar},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ar},anisotropyVector:{value:new Ft},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ar}}]),vertexShader:br.meshphysical_vert,fragmentShader:br.meshphysical_frag};const W_={r:0,b:0,g:0},Op=new Oa,j7e=new ar;function q7e(t,e,n,r,i,o,a){const s=new En(0);let l=o===!0?0:1,c,u,d=null,f=0,h=null;function p(C){let E=C.isScene===!0?C.background:null;return E&&E.isTexture&&(E=(C.backgroundBlurriness>0?n:e).get(E)),E}function x(C){let E=!1;const M=p(C);M===null?y(s,l):M&&M.isColor&&(y(M,1),E=!0);const R=t.xr.getEnvironmentBlendMode();R==="additive"?r.buffers.color.setClear(0,0,0,1,a):R==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||E)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function b(C,E){const M=p(E);M&&(M.isCubeTexture||M.mapping===Xm)?(u===void 0&&(u=new Qr(new fp(1,1,1),new as({name:"BackgroundCubeMaterial",uniforms:wv(zs.backgroundCube.uniforms),vertexShader:zs.backgroundCube.vertexShader,fragmentShader:zs.backgroundCube.fragmentShader,side:ui,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(R,N,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Op.copy(E.backgroundRotation),Op.x*=-1,Op.y*=-1,Op.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(Op.y*=-1,Op.z*=-1),u.material.uniforms.envMap.value=M,u.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(j7e.makeRotationFromEuler(Op)),u.material.toneMapped=Xn.getTransfer(M.colorSpace)!==gn,(d!==M||f!==M.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,d=M,f=M.version,h=t.toneMapping),u.layers.enableAll(),C.unshift(u,u.geometry,u.material,0,0,null)):M&&M.isTexture&&(c===void 0&&(c=new Qr(new q2(2,2),new as({name:"BackgroundMaterial",uniforms:wv(zs.background.uniforms),vertexShader:zs.background.vertexShader,fragmentShader:zs.background.fragmentShader,side:Nl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=M,c.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,c.material.toneMapped=Xn.getTransfer(M.colorSpace)!==gn,M.matrixAutoUpdate===!0&&M.updateMatrix(),c.material.uniforms.uvTransform.value.copy(M.matrix),(d!==M||f!==M.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,d=M,f=M.version,h=t.toneMapping),c.layers.enableAll(),C.unshift(c,c.geometry,c.material,0,0,null))}function y(C,E){C.getRGB(W_,hie(t)),r.buffers.color.setClear(W_.r,W_.g,W_.b,E,a)}function _(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return s},setClearColor:function(C,E=1){s.set(C),l=E,y(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(C){l=C,y(s,l)},render:x,addToRenderList:b,dispose:_}}function W7e(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let o=i,a=!1;function s(L,F,$,V,U){let k=!1;const z=d(V,$,F);o!==z&&(o=z,c(o.object)),k=h(L,V,$,U),k&&p(L,V,$,U),U!==null&&e.update(U,t.ELEMENT_ARRAY_BUFFER),(k||a)&&(a=!1,E(L,F,$,V),U!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(U).buffer))}function l(){return t.createVertexArray()}function c(L){return t.bindVertexArray(L)}function u(L){return t.deleteVertexArray(L)}function d(L,F,$){const V=$.wireframe===!0;let U=r[L.id];U===void 0&&(U={},r[L.id]=U);let k=U[F.id];k===void 0&&(k={},U[F.id]=k);let z=k[V];return z===void 0&&(z=f(l()),k[V]=z),z}function f(L){const F=[],$=[],V=[];for(let U=0;U<n;U++)F[U]=0,$[U]=0,V[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:$,attributeDivisors:V,object:L,attributes:{},index:null}}function h(L,F,$,V){const U=o.attributes,k=F.attributes;let z=0;const H=$.getAttributes();for(const j in H)if(H[j].location>=0){const Y=U[j];let J=k[j];if(J===void 0&&(j==="instanceMatrix"&&L.instanceMatrix&&(J=L.instanceMatrix),j==="instanceColor"&&L.instanceColor&&(J=L.instanceColor)),Y===void 0||Y.attribute!==J||J&&Y.data!==J.data)return!0;z++}return o.attributesNum!==z||o.index!==V}function p(L,F,$,V){const U={},k=F.attributes;let z=0;const H=$.getAttributes();for(const j in H)if(H[j].location>=0){let Y=k[j];Y===void 0&&(j==="instanceMatrix"&&L.instanceMatrix&&(Y=L.instanceMatrix),j==="instanceColor"&&L.instanceColor&&(Y=L.instanceColor));const J={};J.attribute=Y,Y&&Y.data&&(J.data=Y.data),U[j]=J,z++}o.attributes=U,o.attributesNum=z,o.index=V}function x(){const L=o.newAttributes;for(let F=0,$=L.length;F<$;F++)L[F]=0}function b(L){y(L,0)}function y(L,F){const $=o.newAttributes,V=o.enabledAttributes,U=o.attributeDivisors;$[L]=1,V[L]===0&&(t.enableVertexAttribArray(L),V[L]=1),U[L]!==F&&(t.vertexAttribDivisor(L,F),U[L]=F)}function _(){const L=o.newAttributes,F=o.enabledAttributes;for(let $=0,V=F.length;$<V;$++)F[$]!==L[$]&&(t.disableVertexAttribArray($),F[$]=0)}function C(L,F,$,V,U,k,z){z===!0?t.vertexAttribIPointer(L,F,$,U,k):t.vertexAttribPointer(L,F,$,V,U,k)}function E(L,F,$,V){x();const U=V.attributes,k=$.getAttributes(),z=F.defaultAttributeValues;for(const H in k){const j=k[H];if(j.location>=0){let X=U[H];if(X===void 0&&(H==="instanceMatrix"&&L.instanceMatrix&&(X=L.instanceMatrix),H==="instanceColor"&&L.instanceColor&&(X=L.instanceColor)),X!==void 0){const Y=X.normalized,J=X.itemSize,ee=e.get(X);if(ee===void 0)continue;const re=ee.buffer,ue=ee.type,fe=ee.bytesPerElement,oe=ue===t.INT||ue===t.UNSIGNED_INT||X.gpuType===sa;if(X.isInterleavedBufferAttribute){const ce=X.data,pe=ce.stride,ye=X.offset;if(ce.isInstancedInterleavedBuffer){for(let xe=0;xe<j.locationSize;xe++)y(j.location+xe,ce.meshPerAttribute);L.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let xe=0;xe<j.locationSize;xe++)b(j.location+xe);t.bindBuffer(t.ARRAY_BUFFER,re);for(let xe=0;xe<j.locationSize;xe++)C(j.location+xe,J/j.locationSize,ue,Y,pe*fe,(ye+J/j.locationSize*xe)*fe,oe)}else{if(X.isInstancedBufferAttribute){for(let ce=0;ce<j.locationSize;ce++)y(j.location+ce,X.meshPerAttribute);L.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let ce=0;ce<j.locationSize;ce++)b(j.location+ce);t.bindBuffer(t.ARRAY_BUFFER,re);for(let ce=0;ce<j.locationSize;ce++)C(j.location+ce,J/j.locationSize,ue,Y,J*fe,J/j.locationSize*ce*fe,oe)}}else if(z!==void 0){const Y=z[H];if(Y!==void 0)switch(Y.length){case 2:t.vertexAttrib2fv(j.location,Y);break;case 3:t.vertexAttrib3fv(j.location,Y);break;case 4:t.vertexAttrib4fv(j.location,Y);break;default:t.vertexAttrib1fv(j.location,Y)}}}}_()}function M(){O();for(const L in r){const F=r[L];for(const $ in F){const V=F[$];for(const U in V)u(V[U].object),delete V[U];delete F[$]}delete r[L]}}function R(L){if(r[L.id]===void 0)return;const F=r[L.id];for(const $ in F){const V=F[$];for(const U in V)u(V[U].object),delete V[U];delete F[$]}delete r[L.id]}function N(L){for(const F in r){const $=r[F];if($[L.id]===void 0)continue;const V=$[L.id];for(const U in V)u(V[U].object),delete V[U];delete $[L.id]}}function O(){I(),a=!0,o!==i&&(o=i,c(o.object))}function I(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:O,resetDefaultState:I,dispose:M,releaseStatesOfGeometry:R,releaseStatesOfProgram:N,initAttributes:x,enableAttribute:b,disableUnusedAttributes:_}}function X7e(t,e,n){let r;function i(c){r=c}function o(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function a(c,u,d){d!==0&&(t.drawArraysInstanced(r,c,u,d),n.update(u,r,d))}function s(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let h=0;for(let p=0;p<d;p++)h+=u[p];n.update(h,r,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<c.length;p++)a(c[p],u[p],f[p]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let p=0;for(let x=0;x<d;x++)p+=u[x]*f[x];n.update(p,r,1)}}this.setMode=i,this.render=o,this.renderInstances=a,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function Y7e(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(N){return!(N!==_o&&r.convert(N)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(N){const O=N===Ui&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(N!==Fi&&r.convert(N)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&N!==xo&&!O)}function l(N){if(N==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(Pt("WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),b=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),C=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),M=t.getParameter(t.MAX_SAMPLES),R=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:s,precision:c,logarithmicDepthBuffer:d,reversedDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:x,maxCubemapSize:b,maxAttributes:y,maxVertexUniforms:_,maxVaryings:C,maxFragmentUniforms:E,maxSamples:M,samples:R}}function K7e(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new Gu,s=new Ar,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||r!==0||i;return i=f,r=d.length,h},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,h){const p=d.clippingPlanes,x=d.clipIntersection,b=d.clipShadows,y=t.get(d);if(!i||p===null||p.length===0||o&&!b)o?u(null):c();else{const _=o?0:r,C=_*4;let E=y.clippingState||null;l.value=E,E=u(p,f,C,h);for(let M=0;M!==C;++M)E[M]=n[M];y.clippingState=E,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,p){const x=d!==null?d.length:0;let b=null;if(x!==0){if(b=l.value,p!==!0||b===null){const y=h+x*4,_=f.matrixWorldInverse;s.getNormalMatrix(_),(b===null||b.length<y)&&(b=new Float32Array(y));for(let C=0,E=h;C!==x;++C,E+=4)a.copy(d[C]).applyMatrix4(_,s),a.normal.toArray(b,E),b[E+3]=a.constant}l.value=b,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,b}}function Q7e(t){let e=new WeakMap;function n(a,s){return s===YA?a.mapping=hu:s===KA&&(a.mapping=md),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===YA||s===KA)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new uF(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}const xh=4,SH=[.125,.215,.35,.446,.526,.582],im=20,Z7e=256,o1=new hy,_H=new En;let yN=null,bN=0,xN=0,SN=!1;const J7e=new ve;let wH=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,o={}){const{size:a=256,position:s=J7e}=o;yN=this._renderer.getRenderTarget(),bN=this._renderer.getActiveCubeFace(),xN=this._renderer.getActiveMipmapLevel(),SN=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,s),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=EH(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=TH(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(yN,bN,xN),this._renderer.xr.enabled=SN,e.scissorTest=!1,cg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===hu||e.mapping===md?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),yN=this._renderer.getRenderTarget(),bN=this._renderer.getActiveCubeFace(),xN=this._renderer.getActiveMipmapLevel(),SN=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Di,minFilter:Di,generateMipmaps:!1,type:Ui,format:_o,colorSpace:Kh,depthBuffer:!1},i=CH(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=CH(e,n,r);const{_lodMax:o}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=e9e(o)),this._blurMaterial=n9e(o,e,n),this._ggxMaterial=t9e(o,e,n)}return i}_compileMaterial(e){const n=new Qr(new ei,e);this._renderer.compile(n,o1)}_sceneToCubeUV(e,n,r,i,o){const l=new la(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,h=d.toneMapping;d.getClearColor(_H),d.toneMapping=Ca,d.autoClear=!1,d.state.buffers.depth.getReversed()&&(d.setRenderTarget(i),d.clearDepth(),d.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Qr(new fp,new oc({name:"PMREM.Background",side:ui,depthWrite:!1,depthTest:!1})));const x=this._backgroundBox,b=x.material;let y=!1;const _=e.background;_?_.isColor&&(b.color.copy(_),e.background=null,y=!0):(b.color.copy(_H),y=!0);for(let C=0;C<6;C++){const E=C%3;E===0?(l.up.set(0,c[C],0),l.position.set(o.x,o.y,o.z),l.lookAt(o.x+u[C],o.y,o.z)):E===1?(l.up.set(0,0,c[C]),l.position.set(o.x,o.y,o.z),l.lookAt(o.x,o.y+u[C],o.z)):(l.up.set(0,c[C],0),l.position.set(o.x,o.y,o.z),l.lookAt(o.x,o.y,o.z+u[C]));const M=this._cubeSize;cg(i,E*M,C>2?M:0,M,M),d.setRenderTarget(i),y&&d.render(x,l),d.render(e,l)}d.toneMapping=h,d.autoClear=f,e.background=_}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===hu||e.mapping===md;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=EH()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=TH());const o=i?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=o;const s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;cg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,o1)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let o=1;o<i;o++)this._applyGGXFilter(e,o-1,o);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,o=this._pingPongRenderTarget,a=this._ggxMaterial,s=this._lodMeshes[r];s.material=a;const l=a.uniforms,c=r/(this._lodMeshes.length-1),u=n/(this._lodMeshes.length-1),d=Math.sqrt(c*c-u*u),f=0+c*1.25,h=d*f,{_lodMax:p}=this,x=this._sizeLods[r],b=3*x*(r>p-xh?r-p+xh:0),y=4*(this._cubeSize-x);l.envMap.value=e.texture,l.roughness.value=h,l.mipInt.value=p-n,cg(o,b,y,3*x,2*x),i.setRenderTarget(o),i.render(s,o1),l.envMap.value=o.texture,l.roughness.value=0,l.mipInt.value=p-r,cg(e,b,y,3*x,2*x),i.setRenderTarget(e),i.render(s,o1)}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&$t("blur direction must be either latitudinal or longitudinal!");const u=3,d=this._lodMeshes[i];d.material=c;const f=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*im-1),x=o/p,b=isFinite(o)?1+Math.floor(u*x):im;b>im&&Pt(`sigmaRadians, ${o}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${im}`);const y=[];let _=0;for(let N=0;N<im;++N){const O=N/x,I=Math.exp(-O*O/2);y.push(I),N===0?_+=I:N<b&&(_+=2*I)}for(let N=0;N<y.length;N++)y[N]=y[N]/_;f.envMap.value=e.texture,f.samples.value=b,f.weights.value=y,f.latitudinal.value=a==="latitudinal",s&&(f.poleAxis.value=s);const{_lodMax:C}=this;f.dTheta.value=p,f.mipInt.value=C-r;const E=this._sizeLods[i],M=3*E*(i>C-xh?i-C+xh:0),R=4*(this._cubeSize-E);cg(n,M,R,3*E,2*E),l.setRenderTarget(n),l.render(d,o1)}};function e9e(t){const e=[],n=[],r=[];let i=t;const o=t-xh+1+SH.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);e.push(s);let l=1/s;a>t-xh?l=SH[a-t+xh-1]:a===0&&(l=0),n.push(l);const c=1/(s-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,x=3,b=2,y=1,_=new Float32Array(x*p*h),C=new Float32Array(b*p*h),E=new Float32Array(y*p*h);for(let R=0;R<h;R++){const N=R%3*2/3-1,O=R>2?0:-1,I=[N,O,0,N+2/3,O,0,N+2/3,O+1,0,N,O,0,N+2/3,O+1,0,N,O+1,0];_.set(I,x*p*R),C.set(f,b*p*R);const L=[R,R,R,R,R,R];E.set(L,y*p*R)}const M=new ei;M.setAttribute("position",new Zi(_,x)),M.setAttribute("uv",new Zi(C,b)),M.setAttribute("faceIndex",new Zi(E,y)),r.push(new Qr(M,null)),i>xh&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function CH(t,e,n){const r=new cu(t,e,n);return r.texture.mapping=Xm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function cg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function t9e(t,e,n){return new as({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Z7e,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:UM(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Ms,depthTest:!1,depthWrite:!1})}function n9e(t,e,n){const r=new Float32Array(im),i=new ve(0,1,0);return new as({name:"SphericalGaussianBlur",defines:{n:im,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:UM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ms,depthTest:!1,depthWrite:!1})}function TH(){return new as({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:UM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ms,depthTest:!1,depthWrite:!1})}function EH(){return new as({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:UM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ms,depthTest:!1,depthWrite:!1})}function UM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function r9e(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===YA||l===KA,u=l===hu||l===md;if(c||u){let d=e.get(s);const f=d!==void 0?d.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==f)return n===null&&(n=new wH(t)),d=c?n.fromEquirectangular(s,d):n.fromCubemap(s,d),d.texture.pmremVersion=s.pmremVersion,e.set(s,d),d.texture;if(d!==void 0)return d.texture;{const h=s.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new wH(t)),d=c?n.fromEquirectangular(s):n.fromCubemap(s),d.texture.pmremVersion=s.pmremVersion,e.set(s,d),s.addEventListener("dispose",o),d.texture):null}}}return s}function i(s){let l=0;const c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function i9e(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Ai("WebGLRenderer: "+r+" extension not supported."),i}}}function o9e(t,e,n,r){const i={},o=new WeakMap;function a(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);f.removeEventListener("dispose",a),delete i[f.id];const h=o.get(f);h&&(e.remove(h),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function s(d,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const h in f)e.update(f[h],t.ARRAY_BUFFER)}function c(d){const f=[],h=d.index,p=d.attributes.position;let x=0;if(h!==null){const _=h.array;x=h.version;for(let C=0,E=_.length;C<E;C+=3){const M=_[C+0],R=_[C+1],N=_[C+2];f.push(M,R,R,N,N,M)}}else if(p!==void 0){const _=p.array;x=p.version;for(let C=0,E=_.length/3-1;C<E;C+=3){const M=C+0,R=C+1,N=C+2;f.push(M,R,R,N,N,M)}}else return;const b=new(rF(f)?cF:lF)(f,1);b.version=x;const y=o.get(d);y&&e.remove(y),o.set(d,b)}function u(d){const f=o.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return o.get(d)}return{get:s,update:l,getWireframeAttribute:u}}function a9e(t,e,n){let r;function i(f){r=f}let o,a;function s(f){o=f.type,a=f.bytesPerElement}function l(f,h){t.drawElements(r,h,o,f*a),n.update(h,r,1)}function c(f,h,p){p!==0&&(t.drawElementsInstanced(r,h,o,f*a,p),n.update(h,r,p))}function u(f,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,o,f,0,p);let b=0;for(let y=0;y<p;y++)b+=h[y];n.update(b,r,1)}function d(f,h,p,x){if(p===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let y=0;y<f.length;y++)c(f[y]/a,h[y],x[y]);else{b.multiDrawElementsInstancedWEBGL(r,h,0,o,f,0,x,0,p);let y=0;for(let _=0;_<p;_++)y+=h[_]*x[_];n.update(y,r,1)}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function s9e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:$t("WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function l9e(t,e,n){const r=new WeakMap,i=new nr;function o(a,s,l){const c=a.morphTargetInfluences,u=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(s);if(f===void 0||f.count!==d){let L=function(){O.dispose(),r.delete(s),s.removeEventListener("dispose",L)};var h=L;f!==void 0&&f.texture.dispose();const p=s.morphAttributes.position!==void 0,x=s.morphAttributes.normal!==void 0,b=s.morphAttributes.color!==void 0,y=s.morphAttributes.position||[],_=s.morphAttributes.normal||[],C=s.morphAttributes.color||[];let E=0;p===!0&&(E=1),x===!0&&(E=2),b===!0&&(E=3);let M=s.attributes.position.count*E,R=1;M>e.maxTextureSize&&(R=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const N=new Float32Array(M*R*4*d),O=new aF(N,M,R,d);O.type=xo,O.needsUpdate=!0;const I=E*4;for(let F=0;F<d;F++){const $=y[F],V=_[F],U=C[F],k=M*R*4*F;for(let z=0;z<$.count;z++){const H=z*I;p===!0&&(i.fromBufferAttribute($,z),N[k+H+0]=i.x,N[k+H+1]=i.y,N[k+H+2]=i.z,N[k+H+3]=0),x===!0&&(i.fromBufferAttribute(V,z),N[k+H+4]=i.x,N[k+H+5]=i.y,N[k+H+6]=i.z,N[k+H+7]=0),b===!0&&(i.fromBufferAttribute(U,z),N[k+H+8]=i.x,N[k+H+9]=i.y,N[k+H+10]=i.z,N[k+H+11]=U.itemSize===4?i.w:1)}}f={count:d,texture:O,size:new Ft(M,R)},r.set(s,f),s.addEventListener("dispose",L)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let p=0;for(let b=0;b<c.length;b++)p+=c[b];const x=s.morphTargetsRelative?1:1-p;l.getUniforms().setValue(t,"morphTargetBaseInfluence",x),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:o}}function c9e(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function a(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}const u9e={[GB]:"LINEAR_TONE_MAPPING",[HB]:"REINHARD_TONE_MAPPING",[jB]:"CINEON_TONE_MAPPING",[qB]:"ACES_FILMIC_TONE_MAPPING",[WB]:"AGX_TONE_MAPPING",[XB]:"NEUTRAL_TONE_MAPPING",[sie]:"CUSTOM_TONE_MAPPING"};function d9e(t,e,n,r,i){const o=new cu(e,n,{type:t,depthBuffer:r,stencilBuffer:i}),a=new cu(e,n,{type:Ui,depthBuffer:!1,stencilBuffer:!1}),s=new ei;s.setAttribute("position",new Gr([-1,3,0,-1,-1,0,3,-1,0],3)),s.setAttribute("uv",new Gr([0,2,0,0,2,0],2));const l=new UBe({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),c=new Qr(s,l),u=new hy(-1,1,1,-1,0,1);let d=null,f=null,h=!1,p,x=null,b=[],y=!1;this.setSize=function(_,C){o.setSize(_,C),a.setSize(_,C);for(let E=0;E<b.length;E++){const M=b[E];M.setSize&&M.setSize(_,C)}},this.setEffects=function(_){b=_,y=b.length>0&&b[0].isRenderPass===!0;const C=o.width,E=o.height;for(let M=0;M<b.length;M++){const R=b[M];R.setSize&&R.setSize(C,E)}},this.begin=function(_,C){if(h||_.toneMapping===Ca&&b.length===0)return!1;if(x=C,C!==null){const E=C.width,M=C.height;(o.width!==E||o.height!==M)&&this.setSize(E,M)}return y===!1&&_.setRenderTarget(o),p=_.toneMapping,_.toneMapping=Ca,!0},this.hasRenderPass=function(){return y},this.end=function(_,C){_.toneMapping=p,h=!0;let E=o,M=a;for(let R=0;R<b.length;R++){const N=b[R];if(N.enabled!==!1&&(N.render(_,M,E,C),N.needsSwap!==!1)){const O=E;E=M,M=O}}if(d!==_.outputColorSpace||f!==_.toneMapping){d=_.outputColorSpace,f=_.toneMapping,l.defines={},Xn.getTransfer(d)===gn&&(l.defines.SRGB_TRANSFER="");const R=u9e[f];R&&(l.defines[R]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=E.texture,_.setRenderTarget(x),_.render(c,u),x=null,h=!1},this.isCompositing=function(){return h},this.dispose=function(){o.dispose(),a.dispose(),s.dispose(),l.dispose()}}const Lie=new Uo,S5=new ts(1,1),Bie=new aF,Fie=new $Le,$ie=new j2,MH=[],RH=[],PH=new Float32Array(16),NH=new Float32Array(9),IH=new Float32Array(4);function py(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=MH[i];if(o===void 0&&(o=new Float32Array(i),MH[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function Xo(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Yo(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function kM(t,e){let n=RH[e];n===void 0&&(n=new Int32Array(e),RH[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function f9e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function h9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Xo(n,e))return;t.uniform2fv(this.addr,e),Yo(n,e)}}function p9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Xo(n,e))return;t.uniform3fv(this.addr,e),Yo(n,e)}}function m9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Xo(n,e))return;t.uniform4fv(this.addr,e),Yo(n,e)}}function g9e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Xo(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Yo(n,e)}else{if(Xo(n,r))return;IH.set(r),t.uniformMatrix2fv(this.addr,!1,IH),Yo(n,r)}}function A9e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Xo(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Yo(n,e)}else{if(Xo(n,r))return;NH.set(r),t.uniformMatrix3fv(this.addr,!1,NH),Yo(n,r)}}function v9e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Xo(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Yo(n,e)}else{if(Xo(n,r))return;PH.set(r),t.uniformMatrix4fv(this.addr,!1,PH),Yo(n,r)}}function y9e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function b9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Xo(n,e))return;t.uniform2iv(this.addr,e),Yo(n,e)}}function x9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Xo(n,e))return;t.uniform3iv(this.addr,e),Yo(n,e)}}function S9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Xo(n,e))return;t.uniform4iv(this.addr,e),Yo(n,e)}}function _9e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function w9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Xo(n,e))return;t.uniform2uiv(this.addr,e),Yo(n,e)}}function C9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Xo(n,e))return;t.uniform3uiv(this.addr,e),Yo(n,e)}}function T9e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Xo(n,e))return;t.uniform4uiv(this.addr,e),Yo(n,e)}}function E9e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(S5.compareFunction=n.isReversedDepthBuffer()?z2:V2,o=S5):o=Lie,n.setTexture2D(e||o,i)}function M9e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Fie,i)}function R9e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||$ie,i)}function P9e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Bie,i)}function N9e(t){switch(t){case 5126:return f9e;case 35664:return h9e;case 35665:return p9e;case 35666:return m9e;case 35674:return g9e;case 35675:return A9e;case 35676:return v9e;case 5124:case 35670:return y9e;case 35667:case 35671:return b9e;case 35668:case 35672:return x9e;case 35669:case 35673:return S9e;case 5125:return _9e;case 36294:return w9e;case 36295:return C9e;case 36296:return T9e;case 35678:case 36198:case 36298:case 36306:case 35682:return E9e;case 35679:case 36299:case 36307:return M9e;case 35680:case 36300:case 36308:case 36293:return R9e;case 36289:case 36303:case 36311:case 36292:return P9e}}function I9e(t,e){t.uniform1fv(this.addr,e)}function D9e(t,e){const n=py(e,this.size,2);t.uniform2fv(this.addr,n)}function O9e(t,e){const n=py(e,this.size,3);t.uniform3fv(this.addr,n)}function L9e(t,e){const n=py(e,this.size,4);t.uniform4fv(this.addr,n)}function B9e(t,e){const n=py(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function F9e(t,e){const n=py(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function $9e(t,e){const n=py(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function U9e(t,e){t.uniform1iv(this.addr,e)}function k9e(t,e){t.uniform2iv(this.addr,e)}function V9e(t,e){t.uniform3iv(this.addr,e)}function z9e(t,e){t.uniform4iv(this.addr,e)}function G9e(t,e){t.uniform1uiv(this.addr,e)}function H9e(t,e){t.uniform2uiv(this.addr,e)}function j9e(t,e){t.uniform3uiv(this.addr,e)}function q9e(t,e){t.uniform4uiv(this.addr,e)}function W9e(t,e,n){const r=this.cache,i=e.length,o=kM(n,i);Xo(r,o)||(t.uniform1iv(this.addr,o),Yo(r,o));let a;this.type===t.SAMPLER_2D_SHADOW?a=S5:a=Lie;for(let s=0;s!==i;++s)n.setTexture2D(e[s]||a,o[s])}function X9e(t,e,n){const r=this.cache,i=e.length,o=kM(n,i);Xo(r,o)||(t.uniform1iv(this.addr,o),Yo(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||Fie,o[a])}function Y9e(t,e,n){const r=this.cache,i=e.length,o=kM(n,i);Xo(r,o)||(t.uniform1iv(this.addr,o),Yo(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||$ie,o[a])}function K9e(t,e,n){const r=this.cache,i=e.length,o=kM(n,i);Xo(r,o)||(t.uniform1iv(this.addr,o),Yo(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||Bie,o[a])}function Q9e(t){switch(t){case 5126:return I9e;case 35664:return D9e;case 35665:return O9e;case 35666:return L9e;case 35674:return B9e;case 35675:return F9e;case 35676:return $9e;case 5124:case 35670:return U9e;case 35667:case 35671:return k9e;case 35668:case 35672:return V9e;case 35669:case 35673:return z9e;case 5125:return G9e;case 36294:return H9e;case 36295:return j9e;case 36296:return q9e;case 35678:case 36198:case 36298:case 36306:case 35682:return W9e;case 35679:case 36299:case 36307:return X9e;case 35680:case 36300:case 36308:case 36293:return Y9e;case 36289:case 36303:case 36311:case 36292:return K9e}}class Z9e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=N9e(n.type)}}class J9e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Q9e(n.type)}}class eUe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const _N=/(\w+)(\])?(\[|\.)?/g;function DH(t,e){t.seq.push(e),t.map[e.id]=e}function tUe(t,e,n){const r=t.name,i=r.length;for(_N.lastIndex=0;;){const o=_N.exec(r),a=_N.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===i){DH(n,c===void 0?new Z9e(s,t,e):new J9e(s,t,e));break}else{let d=n.map[s];d===void 0&&(d=new eUe(s),DH(n,d)),n=d}}}class RC{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const s=e.getActiveUniform(n,a),l=e.getUniformLocation(n,s.name);tUe(s,l,this)}const i=[],o=[];for(const a of this.seq)a.type===e.SAMPLER_2D_SHADOW||a.type===e.SAMPLER_CUBE_SHADOW||a.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(a):o.push(a);i.length>0&&(this.seq=i.concat(o))}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function OH(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const nUe=37297;let rUe=0;function iUe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}const LH=new Ar;function oUe(t){Xn._getMatrix(LH,Xn.workingColorSpace,t);const e=`mat3( ${LH.elements.map(n=>n.toFixed(4))} )`;switch(Xn.getTransfer(t)){case xv:return[e,"LinearTransferOETF"];case gn:return[e,"sRGBTransferOETF"];default:return Pt("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function BH(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),o=(t.getShaderInfoLog(e)||"").trim();if(r&&o==="")return"";const a=/ERROR: 0:(\d+)/.exec(o);if(a){const s=parseInt(a[1]);return n.toUpperCase()+`

`+o+`

`+iUe(t.getShaderSource(e),s)}else return o}function aUe(t,e){const n=oUe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const sUe={[GB]:"Linear",[HB]:"Reinhard",[jB]:"Cineon",[qB]:"ACESFilmic",[WB]:"AgX",[XB]:"Neutral",[sie]:"Custom"};function lUe(t,e){const n=sUe[e];return n===void 0?(Pt("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const X_=new ve;function cUe(){Xn.getLuminanceCoefficients(X_);const t=X_.x.toFixed(4),e=X_.y.toFixed(4),n=X_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function uUe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(q1).join(`
`)}function dUe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function fUe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function q1(t){return t!==""}function FH(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function $H(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const hUe=/^[ \t]*#include +<([\w\d./]+)>/gm;function _5(t){return t.replace(hUe,mUe)}const pUe=new Map;function mUe(t,e){let n=br[e];if(n===void 0){const r=pUe.get(e);if(r!==void 0)n=br[r],Pt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return _5(n)}const gUe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function UH(t){return t.replace(gUe,AUe)}function AUe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function kH(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const vUe={[yb]:"SHADOWMAP_TYPE_PCF",[qd]:"SHADOWMAP_TYPE_VSM"};function yUe(t){return vUe[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const bUe={[hu]:"ENVMAP_TYPE_CUBE",[md]:"ENVMAP_TYPE_CUBE",[Xm]:"ENVMAP_TYPE_CUBE_UV"};function xUe(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":bUe[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const SUe={[md]:"ENVMAP_MODE_REFRACTION"};function _Ue(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":SUe[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const wUe={[F2]:"ENVMAP_BLENDING_MULTIPLY",[oie]:"ENVMAP_BLENDING_MIX",[aie]:"ENVMAP_BLENDING_ADD"};function CUe(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":wUe[t.combine]||"ENVMAP_BLENDING_NONE"}function TUe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function EUe(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=yUe(n),c=xUe(n),u=_Ue(n),d=CUe(n),f=TUe(n),h=uUe(n),p=dUe(o),x=i.createProgram();let b,y,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(q1).join(`
`),b.length>0&&(b+=`
`),y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(q1).join(`
`),y.length>0&&(y+=`
`)):(b=[kH(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(q1).join(`
`),y=[kH(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ca?"#define TONE_MAPPING":"",n.toneMapping!==Ca?br.tonemapping_pars_fragment:"",n.toneMapping!==Ca?lUe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",br.colorspace_pars_fragment,aUe("linearToOutputTexel",n.outputColorSpace),cUe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(q1).join(`
`)),a=_5(a),a=FH(a,n),a=$H(a,n),s=_5(s),s=FH(s,n),s=$H(s,n),a=UH(a),s=UH(s),n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,b=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,y=["#define varying in",n.glslVersion===kG?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===kG?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const C=_+b+a,E=_+y+s,M=OH(i,i.VERTEX_SHADER,C),R=OH(i,i.FRAGMENT_SHADER,E);i.attachShader(x,M),i.attachShader(x,R),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function N(F){if(t.debug.checkShaderErrors){const $=i.getProgramInfoLog(x)||"",V=i.getShaderInfoLog(M)||"",U=i.getShaderInfoLog(R)||"",k=$.trim(),z=V.trim(),H=U.trim();let j=!0,X=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(j=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,M,R);else{const Y=BH(i,M,"vertex"),J=BH(i,R,"fragment");$t("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+k+`
`+Y+`
`+J)}else k!==""?Pt("WebGLProgram: Program Info Log:",k):(z===""||H==="")&&(X=!1);X&&(F.diagnostics={runnable:j,programLog:k,vertexShader:{log:z,prefix:b},fragmentShader:{log:H,prefix:y}})}i.deleteShader(M),i.deleteShader(R),O=new RC(i,x),I=fUe(i,x)}let O;this.getUniforms=function(){return O===void 0&&N(this),O};let I;this.getAttributes=function(){return I===void 0&&N(this),I};let L=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=i.getProgramParameter(x,nUe)),L},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=rUe++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=M,this.fragmentShader=R,this}let MUe=0;class RUe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new PUe(e),n.set(e,r)),r}}class PUe{constructor(e){this.id=MUe++,this.code=e,this.usedTimes=0}}function NUe(t,e,n,r,i,o,a){const s=new sF,l=new RUe,c=new Set,u=[],d=new Map,f=i.logarithmicDepthBuffer;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(I){return c.add(I),I===0?"uv":`uv${I}`}function b(I,L,F,$,V){const U=$.fog,k=V.geometry,z=I.isMeshStandardMaterial?$.environment:null,H=(I.isMeshStandardMaterial?n:e).get(I.envMap||z),j=H&&H.mapping===Xm?H.image.height:null,X=p[I.type];I.precision!==null&&(h=i.getMaxPrecision(I.precision),h!==I.precision&&Pt("WebGLProgram.getParameters:",I.precision,"not supported, using",h,"instead."));const Y=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,J=Y!==void 0?Y.length:0;let ee=0;k.morphAttributes.position!==void 0&&(ee=1),k.morphAttributes.normal!==void 0&&(ee=2),k.morphAttributes.color!==void 0&&(ee=3);let re,ue,fe,oe;if(X){const dn=zs[X];re=dn.vertexShader,ue=dn.fragmentShader}else re=I.vertexShader,ue=I.fragmentShader,l.update(I),fe=l.getVertexShaderID(I),oe=l.getFragmentShaderID(I);const ce=t.getRenderTarget(),pe=t.state.buffers.depth.getReversed(),ye=V.isInstancedMesh===!0,xe=V.isBatchedMesh===!0,be=!!I.map,Ce=!!I.matcap,Ne=!!H,Ae=!!I.aoMap,me=!!I.lightMap,de=!!I.bumpMap,Be=!!I.normalMap,ne=!!I.displacementMap,Je=!!I.emissiveMap,Ye=!!I.metalnessMap,rt=!!I.roughnessMap,qe=I.anisotropy>0,se=I.clearcoat>0,K=I.dispersion>0,_e=I.iridescence>0,Ue=I.sheen>0,lt=I.transmission>0,We=qe&&!!I.anisotropyMap,pt=se&&!!I.clearcoatMap,mt=se&&!!I.clearcoatNormalMap,vt=se&&!!I.clearcoatRoughnessMap,At=_e&&!!I.iridescenceMap,ot=_e&&!!I.iridescenceThicknessMap,Ve=Ue&&!!I.sheenColorMap,at=Ue&&!!I.sheenRoughnessMap,tt=!!I.specularMap,ze=!!I.specularColorMap,bt=!!I.specularIntensityMap,Pe=lt&&!!I.transmissionMap,Mt=lt&&!!I.thicknessMap,Ct=!!I.gradientMap,qt=!!I.alphaMap,Ge=I.alphaTest>0,yt=!!I.alphaHash,Tt=!!I.extensions;let Ut=Ca;I.toneMapped&&(ce===null||ce.isXRRenderTarget===!0)&&(Ut=t.toneMapping);const mn={shaderID:X,shaderType:I.type,shaderName:I.name,vertexShader:re,fragmentShader:ue,defines:I.defines,customVertexShaderID:fe,customFragmentShaderID:oe,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:h,batching:xe,batchingColor:xe&&V._colorsTexture!==null,instancing:ye,instancingColor:ye&&V.instanceColor!==null,instancingMorph:ye&&V.morphTexture!==null,outputColorSpace:ce===null?t.outputColorSpace:ce.isXRRenderTarget===!0?ce.texture.colorSpace:Kh,alphaToCoverage:!!I.alphaToCoverage,map:be,matcap:Ce,envMap:Ne,envMapMode:Ne&&H.mapping,envMapCubeUVHeight:j,aoMap:Ae,lightMap:me,bumpMap:de,normalMap:Be,displacementMap:ne,emissiveMap:Je,normalMapObjectSpace:Be&&I.normalMapType===lie,normalMapTangentSpace:Be&&I.normalMapType===td,metalnessMap:Ye,roughnessMap:rt,anisotropy:qe,anisotropyMap:We,clearcoat:se,clearcoatMap:pt,clearcoatNormalMap:mt,clearcoatRoughnessMap:vt,dispersion:K,iridescence:_e,iridescenceMap:At,iridescenceThicknessMap:ot,sheen:Ue,sheenColorMap:Ve,sheenRoughnessMap:at,specularMap:tt,specularColorMap:ze,specularIntensityMap:bt,transmission:lt,transmissionMap:Pe,thicknessMap:Mt,gradientMap:Ct,opaque:I.transparent===!1&&I.blending===Rs&&I.alphaToCoverage===!1,alphaMap:qt,alphaTest:Ge,alphaHash:yt,combine:I.combine,mapUv:be&&x(I.map.channel),aoMapUv:Ae&&x(I.aoMap.channel),lightMapUv:me&&x(I.lightMap.channel),bumpMapUv:de&&x(I.bumpMap.channel),normalMapUv:Be&&x(I.normalMap.channel),displacementMapUv:ne&&x(I.displacementMap.channel),emissiveMapUv:Je&&x(I.emissiveMap.channel),metalnessMapUv:Ye&&x(I.metalnessMap.channel),roughnessMapUv:rt&&x(I.roughnessMap.channel),anisotropyMapUv:We&&x(I.anisotropyMap.channel),clearcoatMapUv:pt&&x(I.clearcoatMap.channel),clearcoatNormalMapUv:mt&&x(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:vt&&x(I.clearcoatRoughnessMap.channel),iridescenceMapUv:At&&x(I.iridescenceMap.channel),iridescenceThicknessMapUv:ot&&x(I.iridescenceThicknessMap.channel),sheenColorMapUv:Ve&&x(I.sheenColorMap.channel),sheenRoughnessMapUv:at&&x(I.sheenRoughnessMap.channel),specularMapUv:tt&&x(I.specularMap.channel),specularColorMapUv:ze&&x(I.specularColorMap.channel),specularIntensityMapUv:bt&&x(I.specularIntensityMap.channel),transmissionMapUv:Pe&&x(I.transmissionMap.channel),thicknessMapUv:Mt&&x(I.thicknessMap.channel),alphaMapUv:qt&&x(I.alphaMap.channel),vertexTangents:!!k.attributes.tangent&&(Be||qe),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!k.attributes.color&&k.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!k.attributes.uv&&(be||qt),fog:!!U,useFog:I.fog===!0,fogExp2:!!U&&U.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:pe,skinning:V.isSkinnedMesh===!0,morphTargets:k.morphAttributes.position!==void 0,morphNormals:k.morphAttributes.normal!==void 0,morphColors:k.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:ee,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:I.dithering,shadowMapEnabled:t.shadowMap.enabled&&F.length>0,shadowMapType:t.shadowMap.type,toneMapping:Ut,decodeVideoTexture:be&&I.map.isVideoTexture===!0&&Xn.getTransfer(I.map.colorSpace)===gn,decodeVideoTextureEmissive:Je&&I.emissiveMap.isVideoTexture===!0&&Xn.getTransfer(I.emissiveMap.colorSpace)===gn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===To,flipSided:I.side===ui,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:Tt&&I.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Tt&&I.extensions.multiDraw===!0||xe)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return mn.vertexUv1s=c.has(1),mn.vertexUv2s=c.has(2),mn.vertexUv3s=c.has(3),c.clear(),mn}function y(I){const L=[];if(I.shaderID?L.push(I.shaderID):(L.push(I.customVertexShaderID),L.push(I.customFragmentShaderID)),I.defines!==void 0)for(const F in I.defines)L.push(F),L.push(I.defines[F]);return I.isRawShaderMaterial===!1&&(_(L,I),C(L,I),L.push(t.outputColorSpace)),L.push(I.customProgramCacheKey),L.join()}function _(I,L){I.push(L.precision),I.push(L.outputColorSpace),I.push(L.envMapMode),I.push(L.envMapCubeUVHeight),I.push(L.mapUv),I.push(L.alphaMapUv),I.push(L.lightMapUv),I.push(L.aoMapUv),I.push(L.bumpMapUv),I.push(L.normalMapUv),I.push(L.displacementMapUv),I.push(L.emissiveMapUv),I.push(L.metalnessMapUv),I.push(L.roughnessMapUv),I.push(L.anisotropyMapUv),I.push(L.clearcoatMapUv),I.push(L.clearcoatNormalMapUv),I.push(L.clearcoatRoughnessMapUv),I.push(L.iridescenceMapUv),I.push(L.iridescenceThicknessMapUv),I.push(L.sheenColorMapUv),I.push(L.sheenRoughnessMapUv),I.push(L.specularMapUv),I.push(L.specularColorMapUv),I.push(L.specularIntensityMapUv),I.push(L.transmissionMapUv),I.push(L.thicknessMapUv),I.push(L.combine),I.push(L.fogExp2),I.push(L.sizeAttenuation),I.push(L.morphTargetsCount),I.push(L.morphAttributeCount),I.push(L.numDirLights),I.push(L.numPointLights),I.push(L.numSpotLights),I.push(L.numSpotLightMaps),I.push(L.numHemiLights),I.push(L.numRectAreaLights),I.push(L.numDirLightShadows),I.push(L.numPointLightShadows),I.push(L.numSpotLightShadows),I.push(L.numSpotLightShadowsWithMaps),I.push(L.numLightProbes),I.push(L.shadowMapType),I.push(L.toneMapping),I.push(L.numClippingPlanes),I.push(L.numClipIntersection),I.push(L.depthPacking)}function C(I,L){s.disableAll(),L.instancing&&s.enable(0),L.instancingColor&&s.enable(1),L.instancingMorph&&s.enable(2),L.matcap&&s.enable(3),L.envMap&&s.enable(4),L.normalMapObjectSpace&&s.enable(5),L.normalMapTangentSpace&&s.enable(6),L.clearcoat&&s.enable(7),L.iridescence&&s.enable(8),L.alphaTest&&s.enable(9),L.vertexColors&&s.enable(10),L.vertexAlphas&&s.enable(11),L.vertexUv1s&&s.enable(12),L.vertexUv2s&&s.enable(13),L.vertexUv3s&&s.enable(14),L.vertexTangents&&s.enable(15),L.anisotropy&&s.enable(16),L.alphaHash&&s.enable(17),L.batching&&s.enable(18),L.dispersion&&s.enable(19),L.batchingColor&&s.enable(20),L.gradientMap&&s.enable(21),I.push(s.mask),s.disableAll(),L.fog&&s.enable(0),L.useFog&&s.enable(1),L.flatShading&&s.enable(2),L.logarithmicDepthBuffer&&s.enable(3),L.reversedDepthBuffer&&s.enable(4),L.skinning&&s.enable(5),L.morphTargets&&s.enable(6),L.morphNormals&&s.enable(7),L.morphColors&&s.enable(8),L.premultipliedAlpha&&s.enable(9),L.shadowMapEnabled&&s.enable(10),L.doubleSided&&s.enable(11),L.flipSided&&s.enable(12),L.useDepthPacking&&s.enable(13),L.dithering&&s.enable(14),L.transmission&&s.enable(15),L.sheen&&s.enable(16),L.opaque&&s.enable(17),L.pointsUvs&&s.enable(18),L.decodeVideoTexture&&s.enable(19),L.decodeVideoTextureEmissive&&s.enable(20),L.alphaToCoverage&&s.enable(21),I.push(s.mask)}function E(I){const L=p[I.type];let F;if(L){const $=zs[L];F=DM.clone($.uniforms)}else F=I.uniforms;return F}function M(I,L){let F=d.get(L);return F!==void 0?++F.usedTimes:(F=new EUe(t,L,I,o),u.push(F),d.set(L,F)),F}function R(I){if(--I.usedTimes===0){const L=u.indexOf(I);u[L]=u[u.length-1],u.pop(),d.delete(I.cacheKey),I.destroy()}}function N(I){l.remove(I)}function O(){l.dispose()}return{getParameters:b,getProgramCacheKey:y,getUniforms:E,acquireProgram:M,releaseProgram:R,releaseShaderCache:N,programs:u,dispose:O}}function IUe(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let s=t.get(a);return s===void 0&&(s={},t.set(a,s)),s}function r(a){t.delete(a)}function i(a,s,l){t.get(a)[s]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function DUe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function VH(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function zH(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(d,f,h,p,x,b){let y=t[e];return y===void 0?(y={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:x,group:b},t[e]=y):(y.id=d.id,y.object=d,y.geometry=f,y.material=h,y.groupOrder=p,y.renderOrder=d.renderOrder,y.z=x,y.group=b),e++,y}function s(d,f,h,p,x,b){const y=a(d,f,h,p,x,b);h.transmission>0?r.push(y):h.transparent===!0?i.push(y):n.push(y)}function l(d,f,h,p,x,b){const y=a(d,f,h,p,x,b);h.transmission>0?r.unshift(y):h.transparent===!0?i.unshift(y):n.unshift(y)}function c(d,f){n.length>1&&n.sort(d||DUe),r.length>1&&r.sort(f||VH),i.length>1&&i.sort(f||VH)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:u,sort:c}}function OUe(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new zH,t.set(r,[a])):i>=o.length?(a=new zH,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function LUe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ve,color:new En};break;case"SpotLight":n={position:new ve,direction:new ve,color:new En,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ve,color:new En,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ve,skyColor:new En,groundColor:new En};break;case"RectAreaLight":n={color:new En,position:new ve,halfWidth:new ve,halfHeight:new ve};break}return t[e.id]=n,n}}}function BUe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ft};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ft};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ft,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let FUe=0;function $Ue(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function UUe(t){const e=new LUe,n=BUe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new ve);const i=new ve,o=new ar,a=new ar;function s(c){let u=0,d=0,f=0;for(let I=0;I<9;I++)r.probe[I].set(0,0,0);let h=0,p=0,x=0,b=0,y=0,_=0,C=0,E=0,M=0,R=0,N=0;c.sort($Ue);for(let I=0,L=c.length;I<L;I++){const F=c[I],$=F.color,V=F.intensity,U=F.distance;let k=null;if(F.shadow&&F.shadow.map&&(F.shadow.map.texture.format===_s?k=F.shadow.map.texture:k=F.shadow.map.depthTexture||F.shadow.map.texture),F.isAmbientLight)u+=$.r*V,d+=$.g*V,f+=$.b*V;else if(F.isLightProbe){for(let z=0;z<9;z++)r.probe[z].addScaledVector(F.sh.coefficients[z],V);N++}else if(F.isDirectionalLight){const z=e.get(F);if(z.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const H=F.shadow,j=n.get(F);j.shadowIntensity=H.intensity,j.shadowBias=H.bias,j.shadowNormalBias=H.normalBias,j.shadowRadius=H.radius,j.shadowMapSize=H.mapSize,r.directionalShadow[h]=j,r.directionalShadowMap[h]=k,r.directionalShadowMatrix[h]=F.shadow.matrix,_++}r.directional[h]=z,h++}else if(F.isSpotLight){const z=e.get(F);z.position.setFromMatrixPosition(F.matrixWorld),z.color.copy($).multiplyScalar(V),z.distance=U,z.coneCos=Math.cos(F.angle),z.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),z.decay=F.decay,r.spot[x]=z;const H=F.shadow;if(F.map&&(r.spotLightMap[M]=F.map,M++,H.updateMatrices(F),F.castShadow&&R++),r.spotLightMatrix[x]=H.matrix,F.castShadow){const j=n.get(F);j.shadowIntensity=H.intensity,j.shadowBias=H.bias,j.shadowNormalBias=H.normalBias,j.shadowRadius=H.radius,j.shadowMapSize=H.mapSize,r.spotShadow[x]=j,r.spotShadowMap[x]=k,E++}x++}else if(F.isRectAreaLight){const z=e.get(F);z.color.copy($).multiplyScalar(V),z.halfWidth.set(F.width*.5,0,0),z.halfHeight.set(0,F.height*.5,0),r.rectArea[b]=z,b++}else if(F.isPointLight){const z=e.get(F);if(z.color.copy(F.color).multiplyScalar(F.intensity),z.distance=F.distance,z.decay=F.decay,F.castShadow){const H=F.shadow,j=n.get(F);j.shadowIntensity=H.intensity,j.shadowBias=H.bias,j.shadowNormalBias=H.normalBias,j.shadowRadius=H.radius,j.shadowMapSize=H.mapSize,j.shadowCameraNear=H.camera.near,j.shadowCameraFar=H.camera.far,r.pointShadow[p]=j,r.pointShadowMap[p]=k,r.pointShadowMatrix[p]=F.shadow.matrix,C++}r.point[p]=z,p++}else if(F.isHemisphereLight){const z=e.get(F);z.skyColor.copy(F.color).multiplyScalar(V),z.groundColor.copy(F.groundColor).multiplyScalar(V),r.hemi[y]=z,y++}}b>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=un.LTC_FLOAT_1,r.rectAreaLTC2=un.LTC_FLOAT_2):(r.rectAreaLTC1=un.LTC_HALF_1,r.rectAreaLTC2=un.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=f;const O=r.hash;(O.directionalLength!==h||O.pointLength!==p||O.spotLength!==x||O.rectAreaLength!==b||O.hemiLength!==y||O.numDirectionalShadows!==_||O.numPointShadows!==C||O.numSpotShadows!==E||O.numSpotMaps!==M||O.numLightProbes!==N)&&(r.directional.length=h,r.spot.length=x,r.rectArea.length=b,r.point.length=p,r.hemi.length=y,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=E+M-R,r.spotLightMap.length=M,r.numSpotLightShadowsWithMaps=R,r.numLightProbes=N,O.directionalLength=h,O.pointLength=p,O.spotLength=x,O.rectAreaLength=b,O.hemiLength=y,O.numDirectionalShadows=_,O.numPointShadows=C,O.numSpotShadows=E,O.numSpotMaps=M,O.numLightProbes=N,r.version=FUe++)}function l(c,u){let d=0,f=0,h=0,p=0,x=0;const b=u.matrixWorldInverse;for(let y=0,_=c.length;y<_;y++){const C=c[y];if(C.isDirectionalLight){const E=r.directional[d];E.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(b),d++}else if(C.isSpotLight){const E=r.spot[h];E.position.setFromMatrixPosition(C.matrixWorld),E.position.applyMatrix4(b),E.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(b),h++}else if(C.isRectAreaLight){const E=r.rectArea[p];E.position.setFromMatrixPosition(C.matrixWorld),E.position.applyMatrix4(b),a.identity(),o.copy(C.matrixWorld),o.premultiply(b),a.extractRotation(o),E.halfWidth.set(C.width*.5,0,0),E.halfHeight.set(0,C.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),p++}else if(C.isPointLight){const E=r.point[f];E.position.setFromMatrixPosition(C.matrixWorld),E.position.applyMatrix4(b),f++}else if(C.isHemisphereLight){const E=r.hemi[x];E.direction.setFromMatrixPosition(C.matrixWorld),E.direction.transformDirection(b),x++}}}return{setup:s,setupView:l,state:r}}function GH(t){const e=new UUe(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function o(u){n.push(u)}function a(u){r.push(u)}function s(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:s,setupLightsView:l,pushLight:o,pushShadow:a}}function kUe(t){let e=new WeakMap;function n(i,o=0){const a=e.get(i);let s;return a===void 0?(s=new GH(t),e.set(i,[s])):o>=a.length?(s=new GH(t),a.push(s)):s=a[o],s}function r(){e=new WeakMap}return{get:n,dispose:r}}const VUe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,zUe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,GUe=[new ve(1,0,0),new ve(-1,0,0),new ve(0,1,0),new ve(0,-1,0),new ve(0,0,1),new ve(0,0,-1)],HUe=[new ve(0,-1,0),new ve(0,-1,0),new ve(0,0,1),new ve(0,0,-1),new ve(0,-1,0),new ve(0,-1,0)],HH=new ar,a1=new ve,wN=new ve;function jUe(t,e,n){let r=new dy;const i=new Ft,o=new Ft,a=new nr,s=new GBe,l=new HBe,c={},u=n.maxTextureSize,d={[Nl]:ui,[ui]:Nl,[To]:To},f=new as({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ft},radius:{value:4}},vertexShader:VUe,fragmentShader:zUe}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new ei;p.setAttribute("position",new Zi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Qr(p,f),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=yb;let y=this.type;this.render=function(R,N,O){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||R.length===0)return;R.type===q8e&&(Pt("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),R.type=yb);const I=t.getRenderTarget(),L=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),$=t.state;$.setBlending(Ms),$.buffers.depth.getReversed()===!0?$.buffers.color.setClear(0,0,0,0):$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const V=y!==this.type;V&&N.traverse(function(U){U.material&&(Array.isArray(U.material)?U.material.forEach(k=>k.needsUpdate=!0):U.material.needsUpdate=!0)});for(let U=0,k=R.length;U<k;U++){const z=R[U],H=z.shadow;if(H===void 0){Pt("WebGLShadowMap:",z,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;i.copy(H.mapSize);const j=H.getFrameExtents();if(i.multiply(j),o.copy(H.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/j.x),i.x=o.x*j.x,H.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/j.y),i.y=o.y*j.y,H.mapSize.y=o.y)),H.map===null||V===!0){if(H.map!==null&&(H.map.depthTexture!==null&&(H.map.depthTexture.dispose(),H.map.depthTexture=null),H.map.dispose()),this.type===qd){if(z.isPointLight){Pt("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}H.map=new cu(i.x,i.y,{format:_s,type:Ui,minFilter:Di,magFilter:Di,generateMipmaps:!1}),H.map.texture.name=z.name+".shadowMap",H.map.depthTexture=new ts(i.x,i.y,xo),H.map.depthTexture.name=z.name+".shadowMapDepth",H.map.depthTexture.format=Na,H.map.depthTexture.compareFunction=null,H.map.depthTexture.minFilter=ci,H.map.depthTexture.magFilter=ci}else{z.isPointLight?(H.map=new uF(i.x),H.map.depthTexture=new gie(i.x,li)):(H.map=new cu(i.x,i.y),H.map.depthTexture=new ts(i.x,i.y,li)),H.map.depthTexture.name=z.name+".shadowMap",H.map.depthTexture.format=Na;const Y=t.state.buffers.depth.getReversed();this.type===yb?(H.map.depthTexture.compareFunction=Y?z2:V2,H.map.depthTexture.minFilter=Di,H.map.depthTexture.magFilter=Di):(H.map.depthTexture.compareFunction=null,H.map.depthTexture.minFilter=ci,H.map.depthTexture.magFilter=ci)}H.camera.updateProjectionMatrix()}const X=H.map.isWebGLCubeRenderTarget?6:1;for(let Y=0;Y<X;Y++){if(H.map.isWebGLCubeRenderTarget)t.setRenderTarget(H.map,Y),t.clear();else{Y===0&&(t.setRenderTarget(H.map),t.clear());const J=H.getViewport(Y);a.set(o.x*J.x,o.y*J.y,o.x*J.z,o.y*J.w),$.viewport(a)}if(z.isPointLight){const J=H.camera,ee=H.matrix,re=z.distance||J.far;re!==J.far&&(J.far=re,J.updateProjectionMatrix()),a1.setFromMatrixPosition(z.matrixWorld),J.position.copy(a1),wN.copy(J.position),wN.add(GUe[Y]),J.up.copy(HUe[Y]),J.lookAt(wN),J.updateMatrixWorld(),ee.makeTranslation(-a1.x,-a1.y,-a1.z),HH.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),H._frustum.setFromProjectionMatrix(HH,J.coordinateSystem,J.reversedDepth)}else H.updateMatrices(z);r=H.getFrustum(),E(N,O,H.camera,z,this.type)}H.isPointLightShadow!==!0&&this.type===qd&&_(H,O),H.needsUpdate=!1}y=this.type,b.needsUpdate=!1,t.setRenderTarget(I,L,F)};function _(R,N){const O=e.update(x);f.defines.VSM_SAMPLES!==R.blurSamples&&(f.defines.VSM_SAMPLES=R.blurSamples,h.defines.VSM_SAMPLES=R.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new cu(i.x,i.y,{format:_s,type:Ui})),f.uniforms.shadow_pass.value=R.map.depthTexture,f.uniforms.resolution.value=R.mapSize,f.uniforms.radius.value=R.radius,t.setRenderTarget(R.mapPass),t.clear(),t.renderBufferDirect(N,null,O,f,x,null),h.uniforms.shadow_pass.value=R.mapPass.texture,h.uniforms.resolution.value=R.mapSize,h.uniforms.radius.value=R.radius,t.setRenderTarget(R.map),t.clear(),t.renderBufferDirect(N,null,O,h,x,null)}function C(R,N,O,I){let L=null;const F=O.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(F!==void 0)L=F;else if(L=O.isPointLight===!0?l:s,t.localClippingEnabled&&N.clipShadows===!0&&Array.isArray(N.clippingPlanes)&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0||N.alphaToCoverage===!0){const $=L.uuid,V=N.uuid;let U=c[$];U===void 0&&(U={},c[$]=U);let k=U[V];k===void 0&&(k=L.clone(),U[V]=k,N.addEventListener("dispose",M)),L=k}if(L.visible=N.visible,L.wireframe=N.wireframe,I===qd?L.side=N.shadowSide!==null?N.shadowSide:N.side:L.side=N.shadowSide!==null?N.shadowSide:d[N.side],L.alphaMap=N.alphaMap,L.alphaTest=N.alphaToCoverage===!0?.5:N.alphaTest,L.map=N.map,L.clipShadows=N.clipShadows,L.clippingPlanes=N.clippingPlanes,L.clipIntersection=N.clipIntersection,L.displacementMap=N.displacementMap,L.displacementScale=N.displacementScale,L.displacementBias=N.displacementBias,L.wireframeLinewidth=N.wireframeLinewidth,L.linewidth=N.linewidth,O.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const $=t.properties.get(L);$.light=O}return L}function E(R,N,O,I,L){if(R.visible===!1)return;if(R.layers.test(N.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&L===qd)&&(!R.frustumCulled||r.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,R.matrixWorld);const V=e.update(R),U=R.material;if(Array.isArray(U)){const k=V.groups;for(let z=0,H=k.length;z<H;z++){const j=k[z],X=U[j.materialIndex];if(X&&X.visible){const Y=C(R,X,I,L);R.onBeforeShadow(t,R,N,O,V,Y,j),t.renderBufferDirect(O,null,V,Y,R,j),R.onAfterShadow(t,R,N,O,V,Y,j)}}}else if(U.visible){const k=C(R,U,I,L);R.onBeforeShadow(t,R,N,O,V,k,null),t.renderBufferDirect(O,null,V,k,R,null),R.onAfterShadow(t,R,N,O,V,k,null)}}const $=R.children;for(let V=0,U=$.length;V<U;V++)E($[V],N,O,I,L)}function M(R){R.target.removeEventListener("dispose",M);for(const O in c){const I=c[O],L=R.target.uuid;L in I&&(I[L].dispose(),delete I[L])}}}const qUe={[xx]:Sx,[_x]:Tx,[wx]:Ex,[Yh]:Cx,[Sx]:xx,[Tx]:_x,[Ex]:wx,[Cx]:Yh};function WUe(t,e){function n(){let Pe=!1;const Mt=new nr;let Ct=null;const qt=new nr(0,0,0,0);return{setMask:function(Ge){Ct!==Ge&&!Pe&&(t.colorMask(Ge,Ge,Ge,Ge),Ct=Ge)},setLocked:function(Ge){Pe=Ge},setClear:function(Ge,yt,Tt,Ut,mn){mn===!0&&(Ge*=Ut,yt*=Ut,Tt*=Ut),Mt.set(Ge,yt,Tt,Ut),qt.equals(Mt)===!1&&(t.clearColor(Ge,yt,Tt,Ut),qt.copy(Mt))},reset:function(){Pe=!1,Ct=null,qt.set(-1,0,0,0)}}}function r(){let Pe=!1,Mt=!1,Ct=null,qt=null,Ge=null;return{setReversed:function(yt){if(Mt!==yt){const Tt=e.get("EXT_clip_control");yt?Tt.clipControlEXT(Tt.LOWER_LEFT_EXT,Tt.ZERO_TO_ONE_EXT):Tt.clipControlEXT(Tt.LOWER_LEFT_EXT,Tt.NEGATIVE_ONE_TO_ONE_EXT),Mt=yt;const Ut=Ge;Ge=null,this.setClear(Ut)}},getReversed:function(){return Mt},setTest:function(yt){yt?ce(t.DEPTH_TEST):pe(t.DEPTH_TEST)},setMask:function(yt){Ct!==yt&&!Pe&&(t.depthMask(yt),Ct=yt)},setFunc:function(yt){if(Mt&&(yt=qUe[yt]),qt!==yt){switch(yt){case xx:t.depthFunc(t.NEVER);break;case Sx:t.depthFunc(t.ALWAYS);break;case _x:t.depthFunc(t.LESS);break;case Yh:t.depthFunc(t.LEQUAL);break;case wx:t.depthFunc(t.EQUAL);break;case Cx:t.depthFunc(t.GEQUAL);break;case Tx:t.depthFunc(t.GREATER);break;case Ex:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}qt=yt}},setLocked:function(yt){Pe=yt},setClear:function(yt){Ge!==yt&&(Mt&&(yt=1-yt),t.clearDepth(yt),Ge=yt)},reset:function(){Pe=!1,Ct=null,qt=null,Ge=null,Mt=!1}}}function i(){let Pe=!1,Mt=null,Ct=null,qt=null,Ge=null,yt=null,Tt=null,Ut=null,mn=null;return{setTest:function(dn){Pe||(dn?ce(t.STENCIL_TEST):pe(t.STENCIL_TEST))},setMask:function(dn){Mt!==dn&&!Pe&&(t.stencilMask(dn),Mt=dn)},setFunc:function(dn,tn,pn){(Ct!==dn||qt!==tn||Ge!==pn)&&(t.stencilFunc(dn,tn,pn),Ct=dn,qt=tn,Ge=pn)},setOp:function(dn,tn,pn){(yt!==dn||Tt!==tn||Ut!==pn)&&(t.stencilOp(dn,tn,pn),yt=dn,Tt=tn,Ut=pn)},setLocked:function(dn){Pe=dn},setClear:function(dn){mn!==dn&&(t.clearStencil(dn),mn=dn)},reset:function(){Pe=!1,Mt=null,Ct=null,qt=null,Ge=null,yt=null,Tt=null,Ut=null,mn=null}}}const o=new n,a=new r,s=new i,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],p=null,x=!1,b=null,y=null,_=null,C=null,E=null,M=null,R=null,N=new En(0,0,0),O=0,I=!1,L=null,F=null,$=null,V=null,U=null;const k=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,H=0;const j=t.getParameter(t.VERSION);j.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(j)[1]),z=H>=1):j.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),z=H>=2);let X=null,Y={};const J=t.getParameter(t.SCISSOR_BOX),ee=t.getParameter(t.VIEWPORT),re=new nr().fromArray(J),ue=new nr().fromArray(ee);function fe(Pe,Mt,Ct,qt){const Ge=new Uint8Array(4),yt=t.createTexture();t.bindTexture(Pe,yt),t.texParameteri(Pe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Pe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Tt=0;Tt<Ct;Tt++)Pe===t.TEXTURE_3D||Pe===t.TEXTURE_2D_ARRAY?t.texImage3D(Mt,0,t.RGBA,1,1,qt,0,t.RGBA,t.UNSIGNED_BYTE,Ge):t.texImage2D(Mt+Tt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ge);return yt}const oe={};oe[t.TEXTURE_2D]=fe(t.TEXTURE_2D,t.TEXTURE_2D,1),oe[t.TEXTURE_CUBE_MAP]=fe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),oe[t.TEXTURE_2D_ARRAY]=fe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),oe[t.TEXTURE_3D]=fe(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),a.setClear(1),s.setClear(0),ce(t.DEPTH_TEST),a.setFunc(Yh),de(!1),Be(f5),ce(t.CULL_FACE),Ae(Ms);function ce(Pe){u[Pe]!==!0&&(t.enable(Pe),u[Pe]=!0)}function pe(Pe){u[Pe]!==!1&&(t.disable(Pe),u[Pe]=!1)}function ye(Pe,Mt){return d[Pe]!==Mt?(t.bindFramebuffer(Pe,Mt),d[Pe]=Mt,Pe===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Mt),Pe===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Mt),!0):!1}function xe(Pe,Mt){let Ct=h,qt=!1;if(Pe){Ct=f.get(Mt),Ct===void 0&&(Ct=[],f.set(Mt,Ct));const Ge=Pe.textures;if(Ct.length!==Ge.length||Ct[0]!==t.COLOR_ATTACHMENT0){for(let yt=0,Tt=Ge.length;yt<Tt;yt++)Ct[yt]=t.COLOR_ATTACHMENT0+yt;Ct.length=Ge.length,qt=!0}}else Ct[0]!==t.BACK&&(Ct[0]=t.BACK,qt=!0);qt&&t.drawBuffers(Ct)}function be(Pe){return p!==Pe?(t.useProgram(Pe),p=Pe,!0):!1}const Ce={[Ya]:t.FUNC_ADD,[DB]:t.FUNC_SUBTRACT,[OB]:t.FUNC_REVERSE_SUBTRACT};Ce[rie]=t.MIN,Ce[iie]=t.MAX;const Ne={[Fd]:t.ZERO,[LB]:t.ONE,[BB]:t.SRC_COLOR,[yx]:t.SRC_ALPHA,[zB]:t.SRC_ALPHA_SATURATE,[kB]:t.DST_COLOR,[$B]:t.DST_ALPHA,[FB]:t.ONE_MINUS_SRC_COLOR,[bx]:t.ONE_MINUS_SRC_ALPHA,[VB]:t.ONE_MINUS_DST_COLOR,[UB]:t.ONE_MINUS_DST_ALPHA,[W8e]:t.CONSTANT_COLOR,[X8e]:t.ONE_MINUS_CONSTANT_COLOR,[Y8e]:t.CONSTANT_ALPHA,[K8e]:t.ONE_MINUS_CONSTANT_ALPHA};function Ae(Pe,Mt,Ct,qt,Ge,yt,Tt,Ut,mn,dn){if(Pe===Ms){x===!0&&(pe(t.BLEND),x=!1);return}if(x===!1&&(ce(t.BLEND),x=!0),Pe!==vA){if(Pe!==b||dn!==I){if((y!==Ya||E!==Ya)&&(t.blendEquation(t.FUNC_ADD),y=Ya,E=Ya),dn)switch(Pe){case Rs:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case qA:t.blendFunc(t.ONE,t.ONE);break;case WA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case XA:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:$t("WebGLState: Invalid blending: ",Pe);break}else switch(Pe){case Rs:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case qA:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case WA:$t("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case XA:$t("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:$t("WebGLState: Invalid blending: ",Pe);break}_=null,C=null,M=null,R=null,N.set(0,0,0),O=0,b=Pe,I=dn}return}Ge=Ge||Mt,yt=yt||Ct,Tt=Tt||qt,(Mt!==y||Ge!==E)&&(t.blendEquationSeparate(Ce[Mt],Ce[Ge]),y=Mt,E=Ge),(Ct!==_||qt!==C||yt!==M||Tt!==R)&&(t.blendFuncSeparate(Ne[Ct],Ne[qt],Ne[yt],Ne[Tt]),_=Ct,C=qt,M=yt,R=Tt),(Ut.equals(N)===!1||mn!==O)&&(t.blendColor(Ut.r,Ut.g,Ut.b,mn),N.copy(Ut),O=mn),b=Pe,I=!1}function me(Pe,Mt){Pe.side===To?pe(t.CULL_FACE):ce(t.CULL_FACE);let Ct=Pe.side===ui;Mt&&(Ct=!Ct),de(Ct),Pe.blending===Rs&&Pe.transparent===!1?Ae(Ms):Ae(Pe.blending,Pe.blendEquation,Pe.blendSrc,Pe.blendDst,Pe.blendEquationAlpha,Pe.blendSrcAlpha,Pe.blendDstAlpha,Pe.blendColor,Pe.blendAlpha,Pe.premultipliedAlpha),a.setFunc(Pe.depthFunc),a.setTest(Pe.depthTest),a.setMask(Pe.depthWrite),o.setMask(Pe.colorWrite);const qt=Pe.stencilWrite;s.setTest(qt),qt&&(s.setMask(Pe.stencilWriteMask),s.setFunc(Pe.stencilFunc,Pe.stencilRef,Pe.stencilFuncMask),s.setOp(Pe.stencilFail,Pe.stencilZFail,Pe.stencilZPass)),Je(Pe.polygonOffset,Pe.polygonOffsetFactor,Pe.polygonOffsetUnits),Pe.alphaToCoverage===!0?ce(t.SAMPLE_ALPHA_TO_COVERAGE):pe(t.SAMPLE_ALPHA_TO_COVERAGE)}function de(Pe){L!==Pe&&(Pe?t.frontFace(t.CW):t.frontFace(t.CCW),L=Pe)}function Be(Pe){Pe!==tie?(ce(t.CULL_FACE),Pe!==F&&(Pe===f5?t.cullFace(t.BACK):Pe===nie?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):pe(t.CULL_FACE),F=Pe}function ne(Pe){Pe!==$&&(z&&t.lineWidth(Pe),$=Pe)}function Je(Pe,Mt,Ct){Pe?(ce(t.POLYGON_OFFSET_FILL),(V!==Mt||U!==Ct)&&(t.polygonOffset(Mt,Ct),V=Mt,U=Ct)):pe(t.POLYGON_OFFSET_FILL)}function Ye(Pe){Pe?ce(t.SCISSOR_TEST):pe(t.SCISSOR_TEST)}function rt(Pe){Pe===void 0&&(Pe=t.TEXTURE0+k-1),X!==Pe&&(t.activeTexture(Pe),X=Pe)}function qe(Pe,Mt,Ct){Ct===void 0&&(X===null?Ct=t.TEXTURE0+k-1:Ct=X);let qt=Y[Ct];qt===void 0&&(qt={type:void 0,texture:void 0},Y[Ct]=qt),(qt.type!==Pe||qt.texture!==Mt)&&(X!==Ct&&(t.activeTexture(Ct),X=Ct),t.bindTexture(Pe,Mt||oe[Pe]),qt.type=Pe,qt.texture=Mt)}function se(){const Pe=Y[X];Pe!==void 0&&Pe.type!==void 0&&(t.bindTexture(Pe.type,null),Pe.type=void 0,Pe.texture=void 0)}function K(){try{t.compressedTexImage2D(...arguments)}catch(Pe){$t("WebGLState:",Pe)}}function _e(){try{t.compressedTexImage3D(...arguments)}catch(Pe){$t("WebGLState:",Pe)}}function Ue(){try{t.texSubImage2D(...arguments)}catch(Pe){$t("WebGLState:",Pe)}}function lt(){try{t.texSubImage3D(...arguments)}catch(Pe){$t("WebGLState:",Pe)}}function We(){try{t.compressedTexSubImage2D(...arguments)}catch(Pe){$t("WebGLState:",Pe)}}function pt(){try{t.compressedTexSubImage3D(...arguments)}catch(Pe){$t("WebGLState:",Pe)}}function mt(){try{t.texStorage2D(...arguments)}catch(Pe){$t("WebGLState:",Pe)}}function vt(){try{t.texStorage3D(...arguments)}catch(Pe){$t("WebGLState:",Pe)}}function At(){try{t.texImage2D(...arguments)}catch(Pe){$t("WebGLState:",Pe)}}function ot(){try{t.texImage3D(...arguments)}catch(Pe){$t("WebGLState:",Pe)}}function Ve(Pe){re.equals(Pe)===!1&&(t.scissor(Pe.x,Pe.y,Pe.z,Pe.w),re.copy(Pe))}function at(Pe){ue.equals(Pe)===!1&&(t.viewport(Pe.x,Pe.y,Pe.z,Pe.w),ue.copy(Pe))}function tt(Pe,Mt){let Ct=c.get(Mt);Ct===void 0&&(Ct=new WeakMap,c.set(Mt,Ct));let qt=Ct.get(Pe);qt===void 0&&(qt=t.getUniformBlockIndex(Mt,Pe.name),Ct.set(Pe,qt))}function ze(Pe,Mt){const qt=c.get(Mt).get(Pe);l.get(Mt)!==qt&&(t.uniformBlockBinding(Mt,qt,Pe.__bindingPointIndex),l.set(Mt,qt))}function bt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},X=null,Y={},d={},f=new WeakMap,h=[],p=null,x=!1,b=null,y=null,_=null,C=null,E=null,M=null,R=null,N=new En(0,0,0),O=0,I=!1,L=null,F=null,$=null,V=null,U=null,re.set(0,0,t.canvas.width,t.canvas.height),ue.set(0,0,t.canvas.width,t.canvas.height),o.reset(),a.reset(),s.reset()}return{buffers:{color:o,depth:a,stencil:s},enable:ce,disable:pe,bindFramebuffer:ye,drawBuffers:xe,useProgram:be,setBlending:Ae,setMaterial:me,setFlipSided:de,setCullFace:Be,setLineWidth:ne,setPolygonOffset:Je,setScissorTest:Ye,activeTexture:rt,bindTexture:qe,unbindTexture:se,compressedTexImage2D:K,compressedTexImage3D:_e,texImage2D:At,texImage3D:ot,updateUBOMapping:tt,uniformBlockBinding:ze,texStorage2D:mt,texStorage3D:vt,texSubImage2D:Ue,texSubImage3D:lt,compressedTexSubImage2D:We,compressedTexSubImage3D:pt,scissor:Ve,viewport:at,reset:bt}}function XUe(t,e,n,r,i,o,a){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Ft,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(se,K){return h?new OffscreenCanvas(se,K):Ix("canvas")}function x(se,K,_e){let Ue=1;const lt=qe(se);if((lt.width>_e||lt.height>_e)&&(Ue=_e/Math.max(lt.width,lt.height)),Ue<1)if(typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&se instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&se instanceof ImageBitmap||typeof VideoFrame<"u"&&se instanceof VideoFrame){const We=Math.floor(Ue*lt.width),pt=Math.floor(Ue*lt.height);d===void 0&&(d=p(We,pt));const mt=K?p(We,pt):d;return mt.width=We,mt.height=pt,mt.getContext("2d").drawImage(se,0,0,We,pt),Pt("WebGLRenderer: Texture has been resized from ("+lt.width+"x"+lt.height+") to ("+We+"x"+pt+")."),mt}else return"data"in se&&Pt("WebGLRenderer: Image in DataTexture is too big ("+lt.width+"x"+lt.height+")."),se;return se}function b(se){return se.generateMipmaps}function y(se){t.generateMipmap(se)}function _(se){return se.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:se.isWebGL3DRenderTarget?t.TEXTURE_3D:se.isWebGLArrayRenderTarget||se.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function C(se,K,_e,Ue,lt=!1){if(se!==null){if(t[se]!==void 0)return t[se];Pt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+se+"'")}let We=K;if(K===t.RED&&(_e===t.FLOAT&&(We=t.R32F),_e===t.HALF_FLOAT&&(We=t.R16F),_e===t.UNSIGNED_BYTE&&(We=t.R8)),K===t.RED_INTEGER&&(_e===t.UNSIGNED_BYTE&&(We=t.R8UI),_e===t.UNSIGNED_SHORT&&(We=t.R16UI),_e===t.UNSIGNED_INT&&(We=t.R32UI),_e===t.BYTE&&(We=t.R8I),_e===t.SHORT&&(We=t.R16I),_e===t.INT&&(We=t.R32I)),K===t.RG&&(_e===t.FLOAT&&(We=t.RG32F),_e===t.HALF_FLOAT&&(We=t.RG16F),_e===t.UNSIGNED_BYTE&&(We=t.RG8)),K===t.RG_INTEGER&&(_e===t.UNSIGNED_BYTE&&(We=t.RG8UI),_e===t.UNSIGNED_SHORT&&(We=t.RG16UI),_e===t.UNSIGNED_INT&&(We=t.RG32UI),_e===t.BYTE&&(We=t.RG8I),_e===t.SHORT&&(We=t.RG16I),_e===t.INT&&(We=t.RG32I)),K===t.RGB_INTEGER&&(_e===t.UNSIGNED_BYTE&&(We=t.RGB8UI),_e===t.UNSIGNED_SHORT&&(We=t.RGB16UI),_e===t.UNSIGNED_INT&&(We=t.RGB32UI),_e===t.BYTE&&(We=t.RGB8I),_e===t.SHORT&&(We=t.RGB16I),_e===t.INT&&(We=t.RGB32I)),K===t.RGBA_INTEGER&&(_e===t.UNSIGNED_BYTE&&(We=t.RGBA8UI),_e===t.UNSIGNED_SHORT&&(We=t.RGBA16UI),_e===t.UNSIGNED_INT&&(We=t.RGBA32UI),_e===t.BYTE&&(We=t.RGBA8I),_e===t.SHORT&&(We=t.RGBA16I),_e===t.INT&&(We=t.RGBA32I)),K===t.RGB&&(_e===t.UNSIGNED_INT_5_9_9_9_REV&&(We=t.RGB9_E5),_e===t.UNSIGNED_INT_10F_11F_11F_REV&&(We=t.R11F_G11F_B10F)),K===t.RGBA){const pt=lt?xv:Xn.getTransfer(Ue);_e===t.FLOAT&&(We=t.RGBA32F),_e===t.HALF_FLOAT&&(We=t.RGBA16F),_e===t.UNSIGNED_BYTE&&(We=pt===gn?t.SRGB8_ALPHA8:t.RGBA8),_e===t.UNSIGNED_SHORT_4_4_4_4&&(We=t.RGBA4),_e===t.UNSIGNED_SHORT_5_5_5_1&&(We=t.RGB5_A1)}return(We===t.R16F||We===t.R32F||We===t.RG16F||We===t.RG32F||We===t.RGBA16F||We===t.RGBA32F)&&e.get("EXT_color_buffer_float"),We}function E(se,K){let _e;return se?K===null||K===li||K===Il?_e=t.DEPTH24_STENCIL8:K===xo?_e=t.DEPTH32F_STENCIL8:K===eu&&(_e=t.DEPTH24_STENCIL8,Pt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):K===null||K===li||K===Il?_e=t.DEPTH_COMPONENT24:K===xo?_e=t.DEPTH_COMPONENT32F:K===eu&&(_e=t.DEPTH_COMPONENT16),_e}function M(se,K){return b(se)===!0||se.isFramebufferTexture&&se.minFilter!==ci&&se.minFilter!==Di?Math.log2(Math.max(K.width,K.height))+1:se.mipmaps!==void 0&&se.mipmaps.length>0?se.mipmaps.length:se.isCompressedTexture&&Array.isArray(se.image)?K.mipmaps.length:1}function R(se){const K=se.target;K.removeEventListener("dispose",R),O(K),K.isVideoTexture&&u.delete(K)}function N(se){const K=se.target;K.removeEventListener("dispose",N),L(K)}function O(se){const K=r.get(se);if(K.__webglInit===void 0)return;const _e=se.source,Ue=f.get(_e);if(Ue){const lt=Ue[K.__cacheKey];lt.usedTimes--,lt.usedTimes===0&&I(se),Object.keys(Ue).length===0&&f.delete(_e)}r.remove(se)}function I(se){const K=r.get(se);t.deleteTexture(K.__webglTexture);const _e=se.source,Ue=f.get(_e);delete Ue[K.__cacheKey],a.memory.textures--}function L(se){const K=r.get(se);if(se.depthTexture&&(se.depthTexture.dispose(),r.remove(se.depthTexture)),se.isWebGLCubeRenderTarget)for(let Ue=0;Ue<6;Ue++){if(Array.isArray(K.__webglFramebuffer[Ue]))for(let lt=0;lt<K.__webglFramebuffer[Ue].length;lt++)t.deleteFramebuffer(K.__webglFramebuffer[Ue][lt]);else t.deleteFramebuffer(K.__webglFramebuffer[Ue]);K.__webglDepthbuffer&&t.deleteRenderbuffer(K.__webglDepthbuffer[Ue])}else{if(Array.isArray(K.__webglFramebuffer))for(let Ue=0;Ue<K.__webglFramebuffer.length;Ue++)t.deleteFramebuffer(K.__webglFramebuffer[Ue]);else t.deleteFramebuffer(K.__webglFramebuffer);if(K.__webglDepthbuffer&&t.deleteRenderbuffer(K.__webglDepthbuffer),K.__webglMultisampledFramebuffer&&t.deleteFramebuffer(K.__webglMultisampledFramebuffer),K.__webglColorRenderbuffer)for(let Ue=0;Ue<K.__webglColorRenderbuffer.length;Ue++)K.__webglColorRenderbuffer[Ue]&&t.deleteRenderbuffer(K.__webglColorRenderbuffer[Ue]);K.__webglDepthRenderbuffer&&t.deleteRenderbuffer(K.__webglDepthRenderbuffer)}const _e=se.textures;for(let Ue=0,lt=_e.length;Ue<lt;Ue++){const We=r.get(_e[Ue]);We.__webglTexture&&(t.deleteTexture(We.__webglTexture),a.memory.textures--),r.remove(_e[Ue])}r.remove(se)}let F=0;function $(){F=0}function V(){const se=F;return se>=i.maxTextures&&Pt("WebGLTextures: Trying to use "+se+" texture units while this GPU supports only "+i.maxTextures),F+=1,se}function U(se){const K=[];return K.push(se.wrapS),K.push(se.wrapT),K.push(se.wrapR||0),K.push(se.magFilter),K.push(se.minFilter),K.push(se.anisotropy),K.push(se.internalFormat),K.push(se.format),K.push(se.type),K.push(se.generateMipmaps),K.push(se.premultiplyAlpha),K.push(se.flipY),K.push(se.unpackAlignment),K.push(se.colorSpace),K.join()}function k(se,K){const _e=r.get(se);if(se.isVideoTexture&&Ye(se),se.isRenderTargetTexture===!1&&se.isExternalTexture!==!0&&se.version>0&&_e.__version!==se.version){const Ue=se.image;if(Ue===null)Pt("WebGLRenderer: Texture marked for update but no image data found.");else if(Ue.complete===!1)Pt("WebGLRenderer: Texture marked for update but image is incomplete");else{oe(_e,se,K);return}}else se.isExternalTexture&&(_e.__webglTexture=se.sourceTexture?se.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,_e.__webglTexture,t.TEXTURE0+K)}function z(se,K){const _e=r.get(se);if(se.isRenderTargetTexture===!1&&se.version>0&&_e.__version!==se.version){oe(_e,se,K);return}else se.isExternalTexture&&(_e.__webglTexture=se.sourceTexture?se.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,_e.__webglTexture,t.TEXTURE0+K)}function H(se,K){const _e=r.get(se);if(se.isRenderTargetTexture===!1&&se.version>0&&_e.__version!==se.version){oe(_e,se,K);return}n.bindTexture(t.TEXTURE_3D,_e.__webglTexture,t.TEXTURE0+K)}function j(se,K){const _e=r.get(se);if(se.isCubeDepthTexture!==!0&&se.version>0&&_e.__version!==se.version){ce(_e,se,K);return}n.bindTexture(t.TEXTURE_CUBE_MAP,_e.__webglTexture,t.TEXTURE0+K)}const X={[Ym]:t.REPEAT,[qs]:t.CLAMP_TO_EDGE,[Km]:t.MIRRORED_REPEAT},Y={[ci]:t.NEAREST,[KB]:t.NEAREST_MIPMAP_NEAREST,[Wd]:t.NEAREST_MIPMAP_LINEAR,[Di]:t.LINEAR,[yA]:t.LINEAR_MIPMAP_NEAREST,[Ws]:t.LINEAR_MIPMAP_LINEAR},J={[ZB]:t.NEVER,[nF]:t.ALWAYS,[k2]:t.LESS,[V2]:t.LEQUAL,[JB]:t.EQUAL,[z2]:t.GEQUAL,[eF]:t.GREATER,[tF]:t.NOTEQUAL};function ee(se,K){if(K.type===xo&&e.has("OES_texture_float_linear")===!1&&(K.magFilter===Di||K.magFilter===yA||K.magFilter===Wd||K.magFilter===Ws||K.minFilter===Di||K.minFilter===yA||K.minFilter===Wd||K.minFilter===Ws)&&Pt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(se,t.TEXTURE_WRAP_S,X[K.wrapS]),t.texParameteri(se,t.TEXTURE_WRAP_T,X[K.wrapT]),(se===t.TEXTURE_3D||se===t.TEXTURE_2D_ARRAY)&&t.texParameteri(se,t.TEXTURE_WRAP_R,X[K.wrapR]),t.texParameteri(se,t.TEXTURE_MAG_FILTER,Y[K.magFilter]),t.texParameteri(se,t.TEXTURE_MIN_FILTER,Y[K.minFilter]),K.compareFunction&&(t.texParameteri(se,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(se,t.TEXTURE_COMPARE_FUNC,J[K.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(K.magFilter===ci||K.minFilter!==Wd&&K.minFilter!==Ws||K.type===xo&&e.has("OES_texture_float_linear")===!1)return;if(K.anisotropy>1||r.get(K).__currentAnisotropy){const _e=e.get("EXT_texture_filter_anisotropic");t.texParameterf(se,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(K.anisotropy,i.getMaxAnisotropy())),r.get(K).__currentAnisotropy=K.anisotropy}}}function re(se,K){let _e=!1;se.__webglInit===void 0&&(se.__webglInit=!0,K.addEventListener("dispose",R));const Ue=K.source;let lt=f.get(Ue);lt===void 0&&(lt={},f.set(Ue,lt));const We=U(K);if(We!==se.__cacheKey){lt[We]===void 0&&(lt[We]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,_e=!0),lt[We].usedTimes++;const pt=lt[se.__cacheKey];pt!==void 0&&(lt[se.__cacheKey].usedTimes--,pt.usedTimes===0&&I(K)),se.__cacheKey=We,se.__webglTexture=lt[We].texture}return _e}function ue(se,K,_e){return Math.floor(Math.floor(se/_e)/K)}function fe(se,K,_e,Ue){const We=se.updateRanges;if(We.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,K.width,K.height,_e,Ue,K.data);else{We.sort((ot,Ve)=>ot.start-Ve.start);let pt=0;for(let ot=1;ot<We.length;ot++){const Ve=We[pt],at=We[ot],tt=Ve.start+Ve.count,ze=ue(at.start,K.width,4),bt=ue(Ve.start,K.width,4);at.start<=tt+1&&ze===bt&&ue(at.start+at.count-1,K.width,4)===ze?Ve.count=Math.max(Ve.count,at.start+at.count-Ve.start):(++pt,We[pt]=at)}We.length=pt+1;const mt=t.getParameter(t.UNPACK_ROW_LENGTH),vt=t.getParameter(t.UNPACK_SKIP_PIXELS),At=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,K.width);for(let ot=0,Ve=We.length;ot<Ve;ot++){const at=We[ot],tt=Math.floor(at.start/4),ze=Math.ceil(at.count/4),bt=tt%K.width,Pe=Math.floor(tt/K.width),Mt=ze,Ct=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,bt),t.pixelStorei(t.UNPACK_SKIP_ROWS,Pe),n.texSubImage2D(t.TEXTURE_2D,0,bt,Pe,Mt,Ct,_e,Ue,K.data)}se.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,mt),t.pixelStorei(t.UNPACK_SKIP_PIXELS,vt),t.pixelStorei(t.UNPACK_SKIP_ROWS,At)}}function oe(se,K,_e){let Ue=t.TEXTURE_2D;(K.isDataArrayTexture||K.isCompressedArrayTexture)&&(Ue=t.TEXTURE_2D_ARRAY),K.isData3DTexture&&(Ue=t.TEXTURE_3D);const lt=re(se,K),We=K.source;n.bindTexture(Ue,se.__webglTexture,t.TEXTURE0+_e);const pt=r.get(We);if(We.version!==pt.__version||lt===!0){n.activeTexture(t.TEXTURE0+_e);const mt=Xn.getPrimaries(Xn.workingColorSpace),vt=K.colorSpace===Hs?null:Xn.getPrimaries(K.colorSpace),At=K.colorSpace===Hs||mt===vt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,K.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,K.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,At);let ot=x(K.image,!1,i.maxTextureSize);ot=rt(K,ot);const Ve=o.convert(K.format,K.colorSpace),at=o.convert(K.type);let tt=C(K.internalFormat,Ve,at,K.colorSpace,K.isVideoTexture);ee(Ue,K);let ze;const bt=K.mipmaps,Pe=K.isVideoTexture!==!0,Mt=pt.__version===void 0||lt===!0,Ct=We.dataReady,qt=M(K,ot);if(K.isDepthTexture)tt=E(K.format===Ss,K.type),Mt&&(Pe?n.texStorage2D(t.TEXTURE_2D,1,tt,ot.width,ot.height):n.texImage2D(t.TEXTURE_2D,0,tt,ot.width,ot.height,0,Ve,at,null));else if(K.isDataTexture)if(bt.length>0){Pe&&Mt&&n.texStorage2D(t.TEXTURE_2D,qt,tt,bt[0].width,bt[0].height);for(let Ge=0,yt=bt.length;Ge<yt;Ge++)ze=bt[Ge],Pe?Ct&&n.texSubImage2D(t.TEXTURE_2D,Ge,0,0,ze.width,ze.height,Ve,at,ze.data):n.texImage2D(t.TEXTURE_2D,Ge,tt,ze.width,ze.height,0,Ve,at,ze.data);K.generateMipmaps=!1}else Pe?(Mt&&n.texStorage2D(t.TEXTURE_2D,qt,tt,ot.width,ot.height),Ct&&fe(K,ot,Ve,at)):n.texImage2D(t.TEXTURE_2D,0,tt,ot.width,ot.height,0,Ve,at,ot.data);else if(K.isCompressedTexture)if(K.isCompressedArrayTexture){Pe&&Mt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,qt,tt,bt[0].width,bt[0].height,ot.depth);for(let Ge=0,yt=bt.length;Ge<yt;Ge++)if(ze=bt[Ge],K.format!==_o)if(Ve!==null)if(Pe){if(Ct)if(K.layerUpdates.size>0){const Tt=x5(ze.width,ze.height,K.format,K.type);for(const Ut of K.layerUpdates){const mn=ze.data.subarray(Ut*Tt/ze.data.BYTES_PER_ELEMENT,(Ut+1)*Tt/ze.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ge,0,0,Ut,ze.width,ze.height,1,Ve,mn)}K.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ge,0,0,0,ze.width,ze.height,ot.depth,Ve,ze.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ge,tt,ze.width,ze.height,ot.depth,0,ze.data,0,0);else Pt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Pe?Ct&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ge,0,0,0,ze.width,ze.height,ot.depth,Ve,at,ze.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ge,tt,ze.width,ze.height,ot.depth,0,Ve,at,ze.data)}else{Pe&&Mt&&n.texStorage2D(t.TEXTURE_2D,qt,tt,bt[0].width,bt[0].height);for(let Ge=0,yt=bt.length;Ge<yt;Ge++)ze=bt[Ge],K.format!==_o?Ve!==null?Pe?Ct&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ge,0,0,ze.width,ze.height,Ve,ze.data):n.compressedTexImage2D(t.TEXTURE_2D,Ge,tt,ze.width,ze.height,0,ze.data):Pt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pe?Ct&&n.texSubImage2D(t.TEXTURE_2D,Ge,0,0,ze.width,ze.height,Ve,at,ze.data):n.texImage2D(t.TEXTURE_2D,Ge,tt,ze.width,ze.height,0,Ve,at,ze.data)}else if(K.isDataArrayTexture)if(Pe){if(Mt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,qt,tt,ot.width,ot.height,ot.depth),Ct)if(K.layerUpdates.size>0){const Ge=x5(ot.width,ot.height,K.format,K.type);for(const yt of K.layerUpdates){const Tt=ot.data.subarray(yt*Ge/ot.data.BYTES_PER_ELEMENT,(yt+1)*Ge/ot.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,yt,ot.width,ot.height,1,Ve,at,Tt)}K.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ot.width,ot.height,ot.depth,Ve,at,ot.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,tt,ot.width,ot.height,ot.depth,0,Ve,at,ot.data);else if(K.isData3DTexture)Pe?(Mt&&n.texStorage3D(t.TEXTURE_3D,qt,tt,ot.width,ot.height,ot.depth),Ct&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ot.width,ot.height,ot.depth,Ve,at,ot.data)):n.texImage3D(t.TEXTURE_3D,0,tt,ot.width,ot.height,ot.depth,0,Ve,at,ot.data);else if(K.isFramebufferTexture){if(Mt)if(Pe)n.texStorage2D(t.TEXTURE_2D,qt,tt,ot.width,ot.height);else{let Ge=ot.width,yt=ot.height;for(let Tt=0;Tt<qt;Tt++)n.texImage2D(t.TEXTURE_2D,Tt,tt,Ge,yt,0,Ve,at,null),Ge>>=1,yt>>=1}}else if(bt.length>0){if(Pe&&Mt){const Ge=qe(bt[0]);n.texStorage2D(t.TEXTURE_2D,qt,tt,Ge.width,Ge.height)}for(let Ge=0,yt=bt.length;Ge<yt;Ge++)ze=bt[Ge],Pe?Ct&&n.texSubImage2D(t.TEXTURE_2D,Ge,0,0,Ve,at,ze):n.texImage2D(t.TEXTURE_2D,Ge,tt,Ve,at,ze);K.generateMipmaps=!1}else if(Pe){if(Mt){const Ge=qe(ot);n.texStorage2D(t.TEXTURE_2D,qt,tt,Ge.width,Ge.height)}Ct&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ve,at,ot)}else n.texImage2D(t.TEXTURE_2D,0,tt,Ve,at,ot);b(K)&&y(Ue),pt.__version=We.version,K.onUpdate&&K.onUpdate(K)}se.__version=K.version}function ce(se,K,_e){if(K.image.length!==6)return;const Ue=re(se,K),lt=K.source;n.bindTexture(t.TEXTURE_CUBE_MAP,se.__webglTexture,t.TEXTURE0+_e);const We=r.get(lt);if(lt.version!==We.__version||Ue===!0){n.activeTexture(t.TEXTURE0+_e);const pt=Xn.getPrimaries(Xn.workingColorSpace),mt=K.colorSpace===Hs?null:Xn.getPrimaries(K.colorSpace),vt=K.colorSpace===Hs||pt===mt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,K.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,K.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,vt);const At=K.isCompressedTexture||K.image[0].isCompressedTexture,ot=K.image[0]&&K.image[0].isDataTexture,Ve=[];for(let yt=0;yt<6;yt++)!At&&!ot?Ve[yt]=x(K.image[yt],!0,i.maxCubemapSize):Ve[yt]=ot?K.image[yt].image:K.image[yt],Ve[yt]=rt(K,Ve[yt]);const at=Ve[0],tt=o.convert(K.format,K.colorSpace),ze=o.convert(K.type),bt=C(K.internalFormat,tt,ze,K.colorSpace),Pe=K.isVideoTexture!==!0,Mt=We.__version===void 0||Ue===!0,Ct=lt.dataReady;let qt=M(K,at);ee(t.TEXTURE_CUBE_MAP,K);let Ge;if(At){Pe&&Mt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,qt,bt,at.width,at.height);for(let yt=0;yt<6;yt++){Ge=Ve[yt].mipmaps;for(let Tt=0;Tt<Ge.length;Tt++){const Ut=Ge[Tt];K.format!==_o?tt!==null?Pe?Ct&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Tt,0,0,Ut.width,Ut.height,tt,Ut.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Tt,bt,Ut.width,Ut.height,0,Ut.data):Pt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Pe?Ct&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Tt,0,0,Ut.width,Ut.height,tt,ze,Ut.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Tt,bt,Ut.width,Ut.height,0,tt,ze,Ut.data)}}}else{if(Ge=K.mipmaps,Pe&&Mt){Ge.length>0&&qt++;const yt=qe(Ve[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,qt,bt,yt.width,yt.height)}for(let yt=0;yt<6;yt++)if(ot){Pe?Ct&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0,0,0,Ve[yt].width,Ve[yt].height,tt,ze,Ve[yt].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0,bt,Ve[yt].width,Ve[yt].height,0,tt,ze,Ve[yt].data);for(let Tt=0;Tt<Ge.length;Tt++){const mn=Ge[Tt].image[yt].image;Pe?Ct&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Tt+1,0,0,mn.width,mn.height,tt,ze,mn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Tt+1,bt,mn.width,mn.height,0,tt,ze,mn.data)}}else{Pe?Ct&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0,0,0,tt,ze,Ve[yt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0,bt,tt,ze,Ve[yt]);for(let Tt=0;Tt<Ge.length;Tt++){const Ut=Ge[Tt];Pe?Ct&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Tt+1,0,0,tt,ze,Ut.image[yt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Tt+1,bt,tt,ze,Ut.image[yt])}}}b(K)&&y(t.TEXTURE_CUBE_MAP),We.__version=lt.version,K.onUpdate&&K.onUpdate(K)}se.__version=K.version}function pe(se,K,_e,Ue,lt,We){const pt=o.convert(_e.format,_e.colorSpace),mt=o.convert(_e.type),vt=C(_e.internalFormat,pt,mt,_e.colorSpace),At=r.get(K),ot=r.get(_e);if(ot.__renderTarget=K,!At.__hasExternalTextures){const Ve=Math.max(1,K.width>>We),at=Math.max(1,K.height>>We);lt===t.TEXTURE_3D||lt===t.TEXTURE_2D_ARRAY?n.texImage3D(lt,We,vt,Ve,at,K.depth,0,pt,mt,null):n.texImage2D(lt,We,vt,Ve,at,0,pt,mt,null)}n.bindFramebuffer(t.FRAMEBUFFER,se),Je(K)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ue,lt,ot.__webglTexture,0,ne(K)):(lt===t.TEXTURE_2D||lt>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&lt<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ue,lt,ot.__webglTexture,We),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ye(se,K,_e){if(t.bindRenderbuffer(t.RENDERBUFFER,se),K.depthBuffer){const Ue=K.depthTexture,lt=Ue&&Ue.isDepthTexture?Ue.type:null,We=E(K.stencilBuffer,lt),pt=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;Je(K)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ne(K),We,K.width,K.height):_e?t.renderbufferStorageMultisample(t.RENDERBUFFER,ne(K),We,K.width,K.height):t.renderbufferStorage(t.RENDERBUFFER,We,K.width,K.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,pt,t.RENDERBUFFER,se)}else{const Ue=K.textures;for(let lt=0;lt<Ue.length;lt++){const We=Ue[lt],pt=o.convert(We.format,We.colorSpace),mt=o.convert(We.type),vt=C(We.internalFormat,pt,mt,We.colorSpace);Je(K)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ne(K),vt,K.width,K.height):_e?t.renderbufferStorageMultisample(t.RENDERBUFFER,ne(K),vt,K.width,K.height):t.renderbufferStorage(t.RENDERBUFFER,vt,K.width,K.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function xe(se,K,_e){const Ue=K.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,se),!(K.depthTexture&&K.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const lt=r.get(K.depthTexture);if(lt.__renderTarget=K,(!lt.__webglTexture||K.depthTexture.image.width!==K.width||K.depthTexture.image.height!==K.height)&&(K.depthTexture.image.width=K.width,K.depthTexture.image.height=K.height,K.depthTexture.needsUpdate=!0),Ue){if(lt.__webglInit===void 0&&(lt.__webglInit=!0,K.depthTexture.addEventListener("dispose",R)),lt.__webglTexture===void 0){lt.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,lt.__webglTexture),ee(t.TEXTURE_CUBE_MAP,K.depthTexture);const At=o.convert(K.depthTexture.format),ot=o.convert(K.depthTexture.type);let Ve;K.depthTexture.format===Na?Ve=t.DEPTH_COMPONENT24:K.depthTexture.format===Ss&&(Ve=t.DEPTH24_STENCIL8);for(let at=0;at<6;at++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,0,Ve,K.width,K.height,0,At,ot,null)}}else k(K.depthTexture,0);const We=lt.__webglTexture,pt=ne(K),mt=Ue?t.TEXTURE_CUBE_MAP_POSITIVE_X+_e:t.TEXTURE_2D,vt=K.depthTexture.format===Ss?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(K.depthTexture.format===Na)Je(K)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,vt,mt,We,0,pt):t.framebufferTexture2D(t.FRAMEBUFFER,vt,mt,We,0);else if(K.depthTexture.format===Ss)Je(K)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,vt,mt,We,0,pt):t.framebufferTexture2D(t.FRAMEBUFFER,vt,mt,We,0);else throw new Error("Unknown depthTexture format")}function be(se){const K=r.get(se),_e=se.isWebGLCubeRenderTarget===!0;if(K.__boundDepthTexture!==se.depthTexture){const Ue=se.depthTexture;if(K.__depthDisposeCallback&&K.__depthDisposeCallback(),Ue){const lt=()=>{delete K.__boundDepthTexture,delete K.__depthDisposeCallback,Ue.removeEventListener("dispose",lt)};Ue.addEventListener("dispose",lt),K.__depthDisposeCallback=lt}K.__boundDepthTexture=Ue}if(se.depthTexture&&!K.__autoAllocateDepthBuffer)if(_e)for(let Ue=0;Ue<6;Ue++)xe(K.__webglFramebuffer[Ue],se,Ue);else{const Ue=se.texture.mipmaps;Ue&&Ue.length>0?xe(K.__webglFramebuffer[0],se,0):xe(K.__webglFramebuffer,se,0)}else if(_e){K.__webglDepthbuffer=[];for(let Ue=0;Ue<6;Ue++)if(n.bindFramebuffer(t.FRAMEBUFFER,K.__webglFramebuffer[Ue]),K.__webglDepthbuffer[Ue]===void 0)K.__webglDepthbuffer[Ue]=t.createRenderbuffer(),ye(K.__webglDepthbuffer[Ue],se,!1);else{const lt=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,We=K.__webglDepthbuffer[Ue];t.bindRenderbuffer(t.RENDERBUFFER,We),t.framebufferRenderbuffer(t.FRAMEBUFFER,lt,t.RENDERBUFFER,We)}}else{const Ue=se.texture.mipmaps;if(Ue&&Ue.length>0?n.bindFramebuffer(t.FRAMEBUFFER,K.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,K.__webglFramebuffer),K.__webglDepthbuffer===void 0)K.__webglDepthbuffer=t.createRenderbuffer(),ye(K.__webglDepthbuffer,se,!1);else{const lt=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,We=K.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,We),t.framebufferRenderbuffer(t.FRAMEBUFFER,lt,t.RENDERBUFFER,We)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ce(se,K,_e){const Ue=r.get(se);K!==void 0&&pe(Ue.__webglFramebuffer,se,se.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),_e!==void 0&&be(se)}function Ne(se){const K=se.texture,_e=r.get(se),Ue=r.get(K);se.addEventListener("dispose",N);const lt=se.textures,We=se.isWebGLCubeRenderTarget===!0,pt=lt.length>1;if(pt||(Ue.__webglTexture===void 0&&(Ue.__webglTexture=t.createTexture()),Ue.__version=K.version,a.memory.textures++),We){_e.__webglFramebuffer=[];for(let mt=0;mt<6;mt++)if(K.mipmaps&&K.mipmaps.length>0){_e.__webglFramebuffer[mt]=[];for(let vt=0;vt<K.mipmaps.length;vt++)_e.__webglFramebuffer[mt][vt]=t.createFramebuffer()}else _e.__webglFramebuffer[mt]=t.createFramebuffer()}else{if(K.mipmaps&&K.mipmaps.length>0){_e.__webglFramebuffer=[];for(let mt=0;mt<K.mipmaps.length;mt++)_e.__webglFramebuffer[mt]=t.createFramebuffer()}else _e.__webglFramebuffer=t.createFramebuffer();if(pt)for(let mt=0,vt=lt.length;mt<vt;mt++){const At=r.get(lt[mt]);At.__webglTexture===void 0&&(At.__webglTexture=t.createTexture(),a.memory.textures++)}if(se.samples>0&&Je(se)===!1){_e.__webglMultisampledFramebuffer=t.createFramebuffer(),_e.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,_e.__webglMultisampledFramebuffer);for(let mt=0;mt<lt.length;mt++){const vt=lt[mt];_e.__webglColorRenderbuffer[mt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,_e.__webglColorRenderbuffer[mt]);const At=o.convert(vt.format,vt.colorSpace),ot=o.convert(vt.type),Ve=C(vt.internalFormat,At,ot,vt.colorSpace,se.isXRRenderTarget===!0),at=ne(se);t.renderbufferStorageMultisample(t.RENDERBUFFER,at,Ve,se.width,se.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+mt,t.RENDERBUFFER,_e.__webglColorRenderbuffer[mt])}t.bindRenderbuffer(t.RENDERBUFFER,null),se.depthBuffer&&(_e.__webglDepthRenderbuffer=t.createRenderbuffer(),ye(_e.__webglDepthRenderbuffer,se,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(We){n.bindTexture(t.TEXTURE_CUBE_MAP,Ue.__webglTexture),ee(t.TEXTURE_CUBE_MAP,K);for(let mt=0;mt<6;mt++)if(K.mipmaps&&K.mipmaps.length>0)for(let vt=0;vt<K.mipmaps.length;vt++)pe(_e.__webglFramebuffer[mt][vt],se,K,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,vt);else pe(_e.__webglFramebuffer[mt],se,K,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0);b(K)&&y(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(pt){for(let mt=0,vt=lt.length;mt<vt;mt++){const At=lt[mt],ot=r.get(At);let Ve=t.TEXTURE_2D;(se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&(Ve=se.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ve,ot.__webglTexture),ee(Ve,At),pe(_e.__webglFramebuffer,se,At,t.COLOR_ATTACHMENT0+mt,Ve,0),b(At)&&y(Ve)}n.unbindTexture()}else{let mt=t.TEXTURE_2D;if((se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&(mt=se.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(mt,Ue.__webglTexture),ee(mt,K),K.mipmaps&&K.mipmaps.length>0)for(let vt=0;vt<K.mipmaps.length;vt++)pe(_e.__webglFramebuffer[vt],se,K,t.COLOR_ATTACHMENT0,mt,vt);else pe(_e.__webglFramebuffer,se,K,t.COLOR_ATTACHMENT0,mt,0);b(K)&&y(mt),n.unbindTexture()}se.depthBuffer&&be(se)}function Ae(se){const K=se.textures;for(let _e=0,Ue=K.length;_e<Ue;_e++){const lt=K[_e];if(b(lt)){const We=_(se),pt=r.get(lt).__webglTexture;n.bindTexture(We,pt),y(We),n.unbindTexture()}}}const me=[],de=[];function Be(se){if(se.samples>0){if(Je(se)===!1){const K=se.textures,_e=se.width,Ue=se.height;let lt=t.COLOR_BUFFER_BIT;const We=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,pt=r.get(se),mt=K.length>1;if(mt)for(let At=0;At<K.length;At++)n.bindFramebuffer(t.FRAMEBUFFER,pt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+At,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,pt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+At,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,pt.__webglMultisampledFramebuffer);const vt=se.texture.mipmaps;vt&&vt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,pt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,pt.__webglFramebuffer);for(let At=0;At<K.length;At++){if(se.resolveDepthBuffer&&(se.depthBuffer&&(lt|=t.DEPTH_BUFFER_BIT),se.stencilBuffer&&se.resolveStencilBuffer&&(lt|=t.STENCIL_BUFFER_BIT)),mt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,pt.__webglColorRenderbuffer[At]);const ot=r.get(K[At]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ot,0)}t.blitFramebuffer(0,0,_e,Ue,0,0,_e,Ue,lt,t.NEAREST),l===!0&&(me.length=0,de.length=0,me.push(t.COLOR_ATTACHMENT0+At),se.depthBuffer&&se.resolveDepthBuffer===!1&&(me.push(We),de.push(We),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,de)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,me))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),mt)for(let At=0;At<K.length;At++){n.bindFramebuffer(t.FRAMEBUFFER,pt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+At,t.RENDERBUFFER,pt.__webglColorRenderbuffer[At]);const ot=r.get(K[At]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,pt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+At,t.TEXTURE_2D,ot,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,pt.__webglMultisampledFramebuffer)}else if(se.depthBuffer&&se.resolveDepthBuffer===!1&&l){const K=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[K])}}}function ne(se){return Math.min(i.maxSamples,se.samples)}function Je(se){const K=r.get(se);return se.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&K.__useRenderToTexture!==!1}function Ye(se){const K=a.render.frame;u.get(se)!==K&&(u.set(se,K),se.update())}function rt(se,K){const _e=se.colorSpace,Ue=se.format,lt=se.type;return se.isCompressedTexture===!0||se.isVideoTexture===!0||_e!==Kh&&_e!==Hs&&(Xn.getTransfer(_e)===gn?(Ue!==_o||lt!==Fi)&&Pt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):$t("WebGLTextures: Unsupported texture color space:",_e)),K}function qe(se){return typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement?(c.width=se.naturalWidth||se.width,c.height=se.naturalHeight||se.height):typeof VideoFrame<"u"&&se instanceof VideoFrame?(c.width=se.displayWidth,c.height=se.displayHeight):(c.width=se.width,c.height=se.height),c}this.allocateTextureUnit=V,this.resetTextureUnits=$,this.setTexture2D=k,this.setTexture2DArray=z,this.setTexture3D=H,this.setTextureCube=j,this.rebindTextures=Ce,this.setupRenderTarget=Ne,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=Be,this.setupDepthRenderbuffer=be,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=Je,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function YUe(t,e){function n(r,i=Hs){let o;const a=Xn.getTransfer(i);if(r===Fi)return t.UNSIGNED_BYTE;if(r===RM)return t.UNSIGNED_SHORT_4_4_4_4;if(r===PM)return t.UNSIGNED_SHORT_5_5_5_1;if(r===NM)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===IM)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===Rm)return t.BYTE;if(r===Pm)return t.SHORT;if(r===eu)return t.UNSIGNED_SHORT;if(r===sa)return t.INT;if(r===li)return t.UNSIGNED_INT;if(r===xo)return t.FLOAT;if(r===Ui)return t.HALF_FLOAT;if(r===QB)return t.ALPHA;if(r===$2)return t.RGB;if(r===_o)return t.RGBA;if(r===Na)return t.DEPTH_COMPONENT;if(r===Ss)return t.DEPTH_STENCIL;if(r===U2)return t.RED;if(r===ly)return t.RED_INTEGER;if(r===_s)return t.RG;if(r===cy)return t.RG_INTEGER;if(r===uy)return t.RGBA_INTEGER;if(r===Lh||r===Bh||r===Fh||r===$h)if(a===gn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Lh)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Bh)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Fh)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===$h)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Lh)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Bh)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Fh)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===$h)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Mx||r===Rx||r===Px||r===Nx)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===Mx)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Rx)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Px)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Nx)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===QA||r===ZA||r===JA||r===ev||r===tv||r===Qm||r===nv)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===QA||r===ZA)return a===gn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===JA)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC;if(r===ev)return o.COMPRESSED_R11_EAC;if(r===tv)return o.COMPRESSED_SIGNED_R11_EAC;if(r===Qm)return o.COMPRESSED_RG11_EAC;if(r===nv)return o.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===rv||r===iv||r===ov||r===av||r===sv||r===lv||r===cv||r===uv||r===dv||r===fv||r===hv||r===pv||r===mv||r===gv)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===rv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===iv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===ov)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===av)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===sv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===lv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===cv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===uv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===dv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===fv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===hv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===pv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===mv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===gv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Av||r===h5||r===p5)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===Av)return a===gn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===h5)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===p5)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===vv||r===yv||r===Zm||r===bv)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===vv)return o.COMPRESSED_RED_RGTC1_EXT;if(r===yv)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Zm)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===bv)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Il?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const KUe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,QUe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class ZUe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new Aie(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new as({vertexShader:KUe,fragmentShader:QUe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Qr(new q2(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class JUe extends _u{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,p=null;const x=typeof XRWebGLBinding<"u",b=new ZUe,y={},_=n.getContextAttributes();let C=null,E=null;const M=[],R=[],N=new Ft;let O=null;const I=new la;I.viewport=new nr;const L=new la;L.viewport=new nr;const F=[I,L],$=new Iie;let V=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(oe){let ce=M[oe];return ce===void 0&&(ce=new EC,M[oe]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(oe){let ce=M[oe];return ce===void 0&&(ce=new EC,M[oe]=ce),ce.getGripSpace()},this.getHand=function(oe){let ce=M[oe];return ce===void 0&&(ce=new EC,M[oe]=ce),ce.getHandSpace()};function k(oe){const ce=R.indexOf(oe.inputSource);if(ce===-1)return;const pe=M[ce];pe!==void 0&&(pe.update(oe.inputSource,oe.frame,c||a),pe.dispatchEvent({type:oe.type,data:oe.inputSource}))}function z(){i.removeEventListener("select",k),i.removeEventListener("selectstart",k),i.removeEventListener("selectend",k),i.removeEventListener("squeeze",k),i.removeEventListener("squeezestart",k),i.removeEventListener("squeezeend",k),i.removeEventListener("end",z),i.removeEventListener("inputsourceschange",H);for(let oe=0;oe<M.length;oe++){const ce=R[oe];ce!==null&&(R[oe]=null,M[oe].disconnect(ce))}V=null,U=null,b.reset();for(const oe in y)delete y[oe];e.setRenderTarget(C),h=null,f=null,d=null,i=null,E=null,fe.stop(),r.isPresenting=!1,e.setPixelRatio(O),e.setSize(N.width,N.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(oe){o=oe,r.isPresenting===!0&&Pt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(oe){s=oe,r.isPresenting===!0&&Pt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(oe){c=oe},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d===null&&x&&(d=new XRWebGLBinding(i,n)),d},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(oe){if(i=oe,i!==null){if(C=e.getRenderTarget(),i.addEventListener("select",k),i.addEventListener("selectstart",k),i.addEventListener("selectend",k),i.addEventListener("squeeze",k),i.addEventListener("squeezestart",k),i.addEventListener("squeezeend",k),i.addEventListener("end",z),i.addEventListener("inputsourceschange",H),_.xrCompatible!==!0&&await n.makeXRCompatible(),O=e.getPixelRatio(),e.getSize(N),x&&"createProjectionLayer"in XRWebGLBinding.prototype){let pe=null,ye=null,xe=null;_.depth&&(xe=_.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,pe=_.stencil?Ss:Na,ye=_.stencil?Il:li);const be={colorFormat:n.RGBA8,depthFormat:xe,scaleFactor:o};d=this.getBinding(),f=d.createProjectionLayer(be),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),E=new cu(f.textureWidth,f.textureHeight,{format:_o,type:Fi,depthTexture:new ts(f.textureWidth,f.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,pe),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}else{const pe={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,pe),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),E=new cu(h.framebufferWidth,h.framebufferHeight,{format:_o,type:Fi,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}E.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(s),fe.setContext(i),fe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return b.getDepthTexture()};function H(oe){for(let ce=0;ce<oe.removed.length;ce++){const pe=oe.removed[ce],ye=R.indexOf(pe);ye>=0&&(R[ye]=null,M[ye].disconnect(pe))}for(let ce=0;ce<oe.added.length;ce++){const pe=oe.added[ce];let ye=R.indexOf(pe);if(ye===-1){for(let be=0;be<M.length;be++)if(be>=R.length){R.push(pe),ye=be;break}else if(R[be]===null){R[be]=pe,ye=be;break}if(ye===-1)break}const xe=M[ye];xe&&xe.connect(pe)}}const j=new ve,X=new ve;function Y(oe,ce,pe){j.setFromMatrixPosition(ce.matrixWorld),X.setFromMatrixPosition(pe.matrixWorld);const ye=j.distanceTo(X),xe=ce.projectionMatrix.elements,be=pe.projectionMatrix.elements,Ce=xe[14]/(xe[10]-1),Ne=xe[14]/(xe[10]+1),Ae=(xe[9]+1)/xe[5],me=(xe[9]-1)/xe[5],de=(xe[8]-1)/xe[0],Be=(be[8]+1)/be[0],ne=Ce*de,Je=Ce*Be,Ye=ye/(-de+Be),rt=Ye*-de;if(ce.matrixWorld.decompose(oe.position,oe.quaternion,oe.scale),oe.translateX(rt),oe.translateZ(Ye),oe.matrixWorld.compose(oe.position,oe.quaternion,oe.scale),oe.matrixWorldInverse.copy(oe.matrixWorld).invert(),xe[10]===-1)oe.projectionMatrix.copy(ce.projectionMatrix),oe.projectionMatrixInverse.copy(ce.projectionMatrixInverse);else{const qe=Ce+Ye,se=Ne+Ye,K=ne-rt,_e=Je+(ye-rt),Ue=Ae*Ne/se*qe,lt=me*Ne/se*qe;oe.projectionMatrix.makePerspective(K,_e,Ue,lt,qe,se),oe.projectionMatrixInverse.copy(oe.projectionMatrix).invert()}}function J(oe,ce){ce===null?oe.matrixWorld.copy(oe.matrix):oe.matrixWorld.multiplyMatrices(ce.matrixWorld,oe.matrix),oe.matrixWorldInverse.copy(oe.matrixWorld).invert()}this.updateCamera=function(oe){if(i===null)return;let ce=oe.near,pe=oe.far;b.texture!==null&&(b.depthNear>0&&(ce=b.depthNear),b.depthFar>0&&(pe=b.depthFar)),$.near=L.near=I.near=ce,$.far=L.far=I.far=pe,(V!==$.near||U!==$.far)&&(i.updateRenderState({depthNear:$.near,depthFar:$.far}),V=$.near,U=$.far),$.layers.mask=oe.layers.mask|6,I.layers.mask=$.layers.mask&3,L.layers.mask=$.layers.mask&5;const ye=oe.parent,xe=$.cameras;J($,ye);for(let be=0;be<xe.length;be++)J(xe[be],ye);xe.length===2?Y($,I,L):$.projectionMatrix.copy(I.projectionMatrix),ee(oe,$,ye)};function ee(oe,ce,pe){pe===null?oe.matrix.copy(ce.matrixWorld):(oe.matrix.copy(pe.matrixWorld),oe.matrix.invert(),oe.matrix.multiply(ce.matrixWorld)),oe.matrix.decompose(oe.position,oe.quaternion,oe.scale),oe.updateMatrixWorld(!0),oe.projectionMatrix.copy(ce.projectionMatrix),oe.projectionMatrixInverse.copy(ce.projectionMatrixInverse),oe.isPerspectiveCamera&&(oe.fov=Jm*2*Math.atan(1/oe.projectionMatrix.elements[5]),oe.zoom=1)}this.getCamera=function(){return $},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(oe){l=oe,f!==null&&(f.fixedFoveation=oe),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=oe)},this.hasDepthSensing=function(){return b.texture!==null},this.getDepthSensingMesh=function(){return b.getMesh($)},this.getCameraTexture=function(oe){return y[oe]};let re=null;function ue(oe,ce){if(u=ce.getViewerPose(c||a),p=ce,u!==null){const pe=u.views;h!==null&&(e.setRenderTargetFramebuffer(E,h.framebuffer),e.setRenderTarget(E));let ye=!1;pe.length!==$.cameras.length&&($.cameras.length=0,ye=!0);for(let Ne=0;Ne<pe.length;Ne++){const Ae=pe[Ne];let me=null;if(h!==null)me=h.getViewport(Ae);else{const Be=d.getViewSubImage(f,Ae);me=Be.viewport,Ne===0&&(e.setRenderTargetTextures(E,Be.colorTexture,Be.depthStencilTexture),e.setRenderTarget(E))}let de=F[Ne];de===void 0&&(de=new la,de.layers.enable(Ne),de.viewport=new nr,F[Ne]=de),de.matrix.fromArray(Ae.transform.matrix),de.matrix.decompose(de.position,de.quaternion,de.scale),de.projectionMatrix.fromArray(Ae.projectionMatrix),de.projectionMatrixInverse.copy(de.projectionMatrix).invert(),de.viewport.set(me.x,me.y,me.width,me.height),Ne===0&&($.matrix.copy(de.matrix),$.matrix.decompose($.position,$.quaternion,$.scale)),ye===!0&&$.cameras.push(de)}const xe=i.enabledFeatures;if(xe&&xe.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&x){d=r.getBinding();const Ne=d.getDepthInformation(pe[0]);Ne&&Ne.isValid&&Ne.texture&&b.init(Ne,i.renderState)}if(xe&&xe.includes("camera-access")&&x){e.state.unbindTexture(),d=r.getBinding();for(let Ne=0;Ne<pe.length;Ne++){const Ae=pe[Ne].camera;if(Ae){let me=y[Ae];me||(me=new Aie,y[Ae]=me);const de=d.getCameraImage(Ae);me.sourceTexture=de}}}}for(let pe=0;pe<M.length;pe++){const ye=R[pe],xe=M[pe];ye!==null&&xe!==void 0&&xe.update(ye,ce,c||a)}re&&re(oe,ce),ce.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ce}),p=null}const fe=new Oie;fe.setAnimationLoop(ue),this.setAnimationLoop=function(oe){re=oe},this.dispose=function(){}}}const Lp=new Oa,eke=new ar;function tke(t,e){function n(b,y){b.matrixAutoUpdate===!0&&b.updateMatrix(),y.value.copy(b.matrix)}function r(b,y){y.color.getRGB(b.fogColor.value,hie(t)),y.isFog?(b.fogNear.value=y.near,b.fogFar.value=y.far):y.isFogExp2&&(b.fogDensity.value=y.density)}function i(b,y,_,C,E){y.isMeshBasicMaterial||y.isMeshLambertMaterial?o(b,y):y.isMeshToonMaterial?(o(b,y),d(b,y)):y.isMeshPhongMaterial?(o(b,y),u(b,y)):y.isMeshStandardMaterial?(o(b,y),f(b,y),y.isMeshPhysicalMaterial&&h(b,y,E)):y.isMeshMatcapMaterial?(o(b,y),p(b,y)):y.isMeshDepthMaterial?o(b,y):y.isMeshDistanceMaterial?(o(b,y),x(b,y)):y.isMeshNormalMaterial?o(b,y):y.isLineBasicMaterial?(a(b,y),y.isLineDashedMaterial&&s(b,y)):y.isPointsMaterial?l(b,y,_,C):y.isSpriteMaterial?c(b,y):y.isShadowMaterial?(b.color.value.copy(y.color),b.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function o(b,y){b.opacity.value=y.opacity,y.color&&b.diffuse.value.copy(y.color),y.emissive&&b.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(b.map.value=y.map,n(y.map,b.mapTransform)),y.alphaMap&&(b.alphaMap.value=y.alphaMap,n(y.alphaMap,b.alphaMapTransform)),y.bumpMap&&(b.bumpMap.value=y.bumpMap,n(y.bumpMap,b.bumpMapTransform),b.bumpScale.value=y.bumpScale,y.side===ui&&(b.bumpScale.value*=-1)),y.normalMap&&(b.normalMap.value=y.normalMap,n(y.normalMap,b.normalMapTransform),b.normalScale.value.copy(y.normalScale),y.side===ui&&b.normalScale.value.negate()),y.displacementMap&&(b.displacementMap.value=y.displacementMap,n(y.displacementMap,b.displacementMapTransform),b.displacementScale.value=y.displacementScale,b.displacementBias.value=y.displacementBias),y.emissiveMap&&(b.emissiveMap.value=y.emissiveMap,n(y.emissiveMap,b.emissiveMapTransform)),y.specularMap&&(b.specularMap.value=y.specularMap,n(y.specularMap,b.specularMapTransform)),y.alphaTest>0&&(b.alphaTest.value=y.alphaTest);const _=e.get(y),C=_.envMap,E=_.envMapRotation;C&&(b.envMap.value=C,Lp.copy(E),Lp.x*=-1,Lp.y*=-1,Lp.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Lp.y*=-1,Lp.z*=-1),b.envMapRotation.value.setFromMatrix4(eke.makeRotationFromEuler(Lp)),b.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=y.reflectivity,b.ior.value=y.ior,b.refractionRatio.value=y.refractionRatio),y.lightMap&&(b.lightMap.value=y.lightMap,b.lightMapIntensity.value=y.lightMapIntensity,n(y.lightMap,b.lightMapTransform)),y.aoMap&&(b.aoMap.value=y.aoMap,b.aoMapIntensity.value=y.aoMapIntensity,n(y.aoMap,b.aoMapTransform))}function a(b,y){b.diffuse.value.copy(y.color),b.opacity.value=y.opacity,y.map&&(b.map.value=y.map,n(y.map,b.mapTransform))}function s(b,y){b.dashSize.value=y.dashSize,b.totalSize.value=y.dashSize+y.gapSize,b.scale.value=y.scale}function l(b,y,_,C){b.diffuse.value.copy(y.color),b.opacity.value=y.opacity,b.size.value=y.size*_,b.scale.value=C*.5,y.map&&(b.map.value=y.map,n(y.map,b.uvTransform)),y.alphaMap&&(b.alphaMap.value=y.alphaMap,n(y.alphaMap,b.alphaMapTransform)),y.alphaTest>0&&(b.alphaTest.value=y.alphaTest)}function c(b,y){b.diffuse.value.copy(y.color),b.opacity.value=y.opacity,b.rotation.value=y.rotation,y.map&&(b.map.value=y.map,n(y.map,b.mapTransform)),y.alphaMap&&(b.alphaMap.value=y.alphaMap,n(y.alphaMap,b.alphaMapTransform)),y.alphaTest>0&&(b.alphaTest.value=y.alphaTest)}function u(b,y){b.specular.value.copy(y.specular),b.shininess.value=Math.max(y.shininess,1e-4)}function d(b,y){y.gradientMap&&(b.gradientMap.value=y.gradientMap)}function f(b,y){b.metalness.value=y.metalness,y.metalnessMap&&(b.metalnessMap.value=y.metalnessMap,n(y.metalnessMap,b.metalnessMapTransform)),b.roughness.value=y.roughness,y.roughnessMap&&(b.roughnessMap.value=y.roughnessMap,n(y.roughnessMap,b.roughnessMapTransform)),y.envMap&&(b.envMapIntensity.value=y.envMapIntensity)}function h(b,y,_){b.ior.value=y.ior,y.sheen>0&&(b.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),b.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(b.sheenColorMap.value=y.sheenColorMap,n(y.sheenColorMap,b.sheenColorMapTransform)),y.sheenRoughnessMap&&(b.sheenRoughnessMap.value=y.sheenRoughnessMap,n(y.sheenRoughnessMap,b.sheenRoughnessMapTransform))),y.clearcoat>0&&(b.clearcoat.value=y.clearcoat,b.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(b.clearcoatMap.value=y.clearcoatMap,n(y.clearcoatMap,b.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,n(y.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(b.clearcoatNormalMap.value=y.clearcoatNormalMap,n(y.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===ui&&b.clearcoatNormalScale.value.negate())),y.dispersion>0&&(b.dispersion.value=y.dispersion),y.iridescence>0&&(b.iridescence.value=y.iridescence,b.iridescenceIOR.value=y.iridescenceIOR,b.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(b.iridescenceMap.value=y.iridescenceMap,n(y.iridescenceMap,b.iridescenceMapTransform)),y.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=y.iridescenceThicknessMap,n(y.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),y.transmission>0&&(b.transmission.value=y.transmission,b.transmissionSamplerMap.value=_.texture,b.transmissionSamplerSize.value.set(_.width,_.height),y.transmissionMap&&(b.transmissionMap.value=y.transmissionMap,n(y.transmissionMap,b.transmissionMapTransform)),b.thickness.value=y.thickness,y.thicknessMap&&(b.thicknessMap.value=y.thicknessMap,n(y.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=y.attenuationDistance,b.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(b.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(b.anisotropyMap.value=y.anisotropyMap,n(y.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=y.specularIntensity,b.specularColor.value.copy(y.specularColor),y.specularColorMap&&(b.specularColorMap.value=y.specularColorMap,n(y.specularColorMap,b.specularColorMapTransform)),y.specularIntensityMap&&(b.specularIntensityMap.value=y.specularIntensityMap,n(y.specularIntensityMap,b.specularIntensityMapTransform))}function p(b,y){y.matcap&&(b.matcap.value=y.matcap)}function x(b,y){const _=e.get(y).light;b.referencePosition.value.setFromMatrixPosition(_.matrixWorld),b.nearDistance.value=_.shadow.camera.near,b.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function nke(t,e,n,r){let i={},o={},a=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,C){const E=C.program;r.uniformBlockBinding(_,E)}function c(_,C){let E=i[_.id];E===void 0&&(p(_),E=u(_),i[_.id]=E,_.addEventListener("dispose",b));const M=C.program;r.updateUBOMapping(_,M);const R=e.render.frame;o[_.id]!==R&&(f(_),o[_.id]=R)}function u(_){const C=d();_.__bindingPointIndex=C;const E=t.createBuffer(),M=_.__size,R=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,M,R),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,C,E),E}function d(){for(let _=0;_<s;_++)if(a.indexOf(_)===-1)return a.push(_),_;return $t("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(_){const C=i[_.id],E=_.uniforms,M=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,C);for(let R=0,N=E.length;R<N;R++){const O=Array.isArray(E[R])?E[R]:[E[R]];for(let I=0,L=O.length;I<L;I++){const F=O[I];if(h(F,R,I,M)===!0){const $=F.__offset,V=Array.isArray(F.value)?F.value:[F.value];let U=0;for(let k=0;k<V.length;k++){const z=V[k],H=x(z);typeof z=="number"||typeof z=="boolean"?(F.__data[0]=z,t.bufferSubData(t.UNIFORM_BUFFER,$+U,F.__data)):z.isMatrix3?(F.__data[0]=z.elements[0],F.__data[1]=z.elements[1],F.__data[2]=z.elements[2],F.__data[3]=0,F.__data[4]=z.elements[3],F.__data[5]=z.elements[4],F.__data[6]=z.elements[5],F.__data[7]=0,F.__data[8]=z.elements[6],F.__data[9]=z.elements[7],F.__data[10]=z.elements[8],F.__data[11]=0):(z.toArray(F.__data,U),U+=H.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,$,F.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(_,C,E,M){const R=_.value,N=C+"_"+E;if(M[N]===void 0)return typeof R=="number"||typeof R=="boolean"?M[N]=R:M[N]=R.clone(),!0;{const O=M[N];if(typeof R=="number"||typeof R=="boolean"){if(O!==R)return M[N]=R,!0}else if(O.equals(R)===!1)return O.copy(R),!0}return!1}function p(_){const C=_.uniforms;let E=0;const M=16;for(let N=0,O=C.length;N<O;N++){const I=Array.isArray(C[N])?C[N]:[C[N]];for(let L=0,F=I.length;L<F;L++){const $=I[L],V=Array.isArray($.value)?$.value:[$.value];for(let U=0,k=V.length;U<k;U++){const z=V[U],H=x(z),j=E%M,X=j%H.boundary,Y=j+X;E+=X,Y!==0&&M-Y<H.storage&&(E+=M-Y),$.__data=new Float32Array(H.storage/Float32Array.BYTES_PER_ELEMENT),$.__offset=E,E+=H.storage}}}const R=E%M;return R>0&&(E+=M-R),_.__size=E,_.__cache={},this}function x(_){const C={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(C.boundary=4,C.storage=4):_.isVector2?(C.boundary=8,C.storage=8):_.isVector3||_.isColor?(C.boundary=16,C.storage=12):_.isVector4?(C.boundary=16,C.storage=16):_.isMatrix3?(C.boundary=48,C.storage=48):_.isMatrix4?(C.boundary=64,C.storage=64):_.isTexture?Pt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Pt("WebGLRenderer: Unsupported uniform value type.",_),C}function b(_){const C=_.target;C.removeEventListener("dispose",b);const E=a.indexOf(C.__bindingPointIndex);a.splice(E,1),t.deleteBuffer(i[C.id]),delete i[C.id],delete o[C.id]}function y(){for(const _ in i)t.deleteBuffer(i[_]);a=[],i={},o={}}return{bind:l,update:c,dispose:y}}const rke=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Nu=null;function ike(){return Nu===null&&(Nu=new fF(rke,16,16,_s,Ui),Nu.name="DFG_LUT",Nu.minFilter=Di,Nu.magFilter=Di,Nu.wrapS=qs,Nu.wrapT=qs,Nu.generateMipmaps=!1,Nu.needsUpdate=!0),Nu}class oke{constructor(e={}){const{canvas:n=uie(),context:r=null,depth:i=!0,stencil:o=!1,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reversedDepthBuffer:f=!1,outputBufferType:h=Fi}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=a;const x=h,b=new Set([uy,cy,ly]),y=new Set([Fi,li,eu,Il,RM,PM]),_=new Uint32Array(4),C=new Int32Array(4);let E=null,M=null;const R=[],N=[];let O=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ca,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const I=this;let L=!1;this._outputColorSpace=wa;let F=0,$=0,V=null,U=-1,k=null;const z=new nr,H=new nr;let j=null;const X=new En(0);let Y=0,J=n.width,ee=n.height,re=1,ue=null,fe=null;const oe=new nr(0,0,J,ee),ce=new nr(0,0,J,ee);let pe=!1;const ye=new dy;let xe=!1,be=!1;const Ce=new ar,Ne=new ve,Ae=new nr,me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let de=!1;function Be(){return V===null?re:1}let ne=r;function Je(le,Ie){return n.getContext(le,Ie)}try{const le={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${v0}`),n.addEventListener("webglcontextlost",Ut,!1),n.addEventListener("webglcontextrestored",mn,!1),n.addEventListener("webglcontextcreationerror",dn,!1),ne===null){const Ie="webgl2";if(ne=Je(Ie,le),ne===null)throw Je(Ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(le){throw $t("WebGLRenderer: "+le.message),le}let Ye,rt,qe,se,K,_e,Ue,lt,We,pt,mt,vt,At,ot,Ve,at,tt,ze,bt,Pe,Mt,Ct,qt,Ge;function yt(){Ye=new i9e(ne),Ye.init(),Ct=new YUe(ne,Ye),rt=new Y7e(ne,Ye,e,Ct),qe=new WUe(ne,Ye),rt.reversedDepthBuffer&&f&&qe.buffers.depth.setReversed(!0),se=new s9e(ne),K=new IUe,_e=new XUe(ne,Ye,qe,K,rt,Ct,se),Ue=new Q7e(I),lt=new r9e(I),We=new dFe(ne),qt=new W7e(ne,We),pt=new o9e(ne,We,se,qt),mt=new c9e(ne,pt,We,se),bt=new l9e(ne,rt,_e),at=new K7e(K),vt=new NUe(I,Ue,lt,Ye,rt,qt,at),At=new tke(I,K),ot=new OUe,Ve=new kUe(Ye),ze=new q7e(I,Ue,lt,qe,mt,p,l),tt=new jUe(I,mt,rt),Ge=new nke(ne,se,rt,qe),Pe=new X7e(ne,Ye,se),Mt=new a9e(ne,Ye,se),se.programs=vt.programs,I.capabilities=rt,I.extensions=Ye,I.properties=K,I.renderLists=ot,I.shadowMap=tt,I.state=qe,I.info=se}yt(),x!==Fi&&(O=new d9e(x,n.width,n.height,i,o));const Tt=new JUe(I,ne);this.xr=Tt,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const le=Ye.get("WEBGL_lose_context");le&&le.loseContext()},this.forceContextRestore=function(){const le=Ye.get("WEBGL_lose_context");le&&le.restoreContext()},this.getPixelRatio=function(){return re},this.setPixelRatio=function(le){le!==void 0&&(re=le,this.setSize(J,ee,!1))},this.getSize=function(le){return le.set(J,ee)},this.setSize=function(le,Ie,et=!0){if(Tt.isPresenting){Pt("WebGLRenderer: Can't change size while VR device is presenting.");return}J=le,ee=Ie,n.width=Math.floor(le*re),n.height=Math.floor(Ie*re),et===!0&&(n.style.width=le+"px",n.style.height=Ie+"px"),O!==null&&O.setSize(n.width,n.height),this.setViewport(0,0,le,Ie)},this.getDrawingBufferSize=function(le){return le.set(J*re,ee*re).floor()},this.setDrawingBufferSize=function(le,Ie,et){J=le,ee=Ie,re=et,n.width=Math.floor(le*et),n.height=Math.floor(Ie*et),this.setViewport(0,0,le,Ie)},this.setEffects=function(le){if(x===Fi){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(le){for(let Ie=0;Ie<le.length;Ie++)if(le[Ie].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}O.setEffects(le||[])},this.getCurrentViewport=function(le){return le.copy(z)},this.getViewport=function(le){return le.copy(oe)},this.setViewport=function(le,Ie,et,nt){le.isVector4?oe.set(le.x,le.y,le.z,le.w):oe.set(le,Ie,et,nt),qe.viewport(z.copy(oe).multiplyScalar(re).round())},this.getScissor=function(le){return le.copy(ce)},this.setScissor=function(le,Ie,et,nt){le.isVector4?ce.set(le.x,le.y,le.z,le.w):ce.set(le,Ie,et,nt),qe.scissor(H.copy(ce).multiplyScalar(re).round())},this.getScissorTest=function(){return pe},this.setScissorTest=function(le){qe.setScissorTest(pe=le)},this.setOpaqueSort=function(le){ue=le},this.setTransparentSort=function(le){fe=le},this.getClearColor=function(le){return le.copy(ze.getClearColor())},this.setClearColor=function(){ze.setClearColor(...arguments)},this.getClearAlpha=function(){return ze.getClearAlpha()},this.setClearAlpha=function(){ze.setClearAlpha(...arguments)},this.clear=function(le=!0,Ie=!0,et=!0){let nt=0;if(le){let Fe=!1;if(V!==null){const St=V.texture.format;Fe=b.has(St)}if(Fe){const St=V.texture.type,Dt=y.has(St),_t=ze.getClearColor(),ie=ze.getClearAlpha(),Ot=_t.r,_n=_t.g,hn=_t.b;Dt?(_[0]=Ot,_[1]=_n,_[2]=hn,_[3]=ie,ne.clearBufferuiv(ne.COLOR,0,_)):(C[0]=Ot,C[1]=_n,C[2]=hn,C[3]=ie,ne.clearBufferiv(ne.COLOR,0,C))}else nt|=ne.COLOR_BUFFER_BIT}Ie&&(nt|=ne.DEPTH_BUFFER_BIT),et&&(nt|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(nt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ut,!1),n.removeEventListener("webglcontextrestored",mn,!1),n.removeEventListener("webglcontextcreationerror",dn,!1),ze.dispose(),ot.dispose(),Ve.dispose(),K.dispose(),Ue.dispose(),lt.dispose(),mt.dispose(),qt.dispose(),Ge.dispose(),vt.dispose(),Tt.dispose(),Tt.removeEventListener("sessionstart",Le),Tt.removeEventListener("sessionend",st),gt.stop()};function Ut(le){le.preventDefault(),Dx("WebGLRenderer: Context Lost."),L=!0}function mn(){Dx("WebGLRenderer: Context Restored."),L=!1;const le=se.autoReset,Ie=tt.enabled,et=tt.autoUpdate,nt=tt.needsUpdate,Fe=tt.type;yt(),se.autoReset=le,tt.enabled=Ie,tt.autoUpdate=et,tt.needsUpdate=nt,tt.type=Fe}function dn(le){$t("WebGLRenderer: A WebGL context could not be created. Reason: ",le.statusMessage)}function tn(le){const Ie=le.target;Ie.removeEventListener("dispose",tn),pn(Ie)}function pn(le){fn(le),K.remove(le)}function fn(le){const Ie=K.get(le).programs;Ie!==void 0&&(Ie.forEach(function(et){vt.releaseProgram(et)}),le.isShaderMaterial&&vt.releaseShaderCache(le))}this.renderBufferDirect=function(le,Ie,et,nt,Fe,St){Ie===null&&(Ie=me);const Dt=Fe.isMesh&&Fe.matrixWorld.determinant()<0,_t=dr(le,Ie,et,nt,Fe);qe.setMaterial(nt,Dt);let ie=et.index,Ot=1;if(nt.wireframe===!0){if(ie=pt.getWireframeAttribute(et),ie===void 0)return;Ot=2}const _n=et.drawRange,hn=et.attributes.position;let Vn=_n.start*Ot,fr=(_n.start+_n.count)*Ot;St!==null&&(Vn=Math.max(Vn,St.start*Ot),fr=Math.min(fr,(St.start+St.count)*Ot)),ie!==null?(Vn=Math.max(Vn,0),fr=Math.min(fr,ie.count)):hn!=null&&(Vn=Math.max(Vn,0),fr=Math.min(fr,hn.count));const Tr=fr-Vn;if(Tr<0||Tr===1/0)return;qt.setup(Fe,nt,_t,et,ie);let ae,Dn=Pe;if(ie!==null&&(ae=We.get(ie),Dn=Mt,Dn.setIndex(ae)),Fe.isMesh)nt.wireframe===!0?(qe.setLineWidth(nt.wireframeLinewidth*Be()),Dn.setMode(ne.LINES)):Dn.setMode(ne.TRIANGLES);else if(Fe.isLine){let Lt=nt.linewidth;Lt===void 0&&(Lt=1),qe.setLineWidth(Lt*Be()),Fe.isLineSegments?Dn.setMode(ne.LINES):Fe.isLineLoop?Dn.setMode(ne.LINE_LOOP):Dn.setMode(ne.LINE_STRIP)}else Fe.isPoints?Dn.setMode(ne.POINTS):Fe.isSprite&&Dn.setMode(ne.TRIANGLES);if(Fe.isBatchedMesh)if(Fe._multiDrawInstances!==null)Ai("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Dn.renderMultiDrawInstances(Fe._multiDrawStarts,Fe._multiDrawCounts,Fe._multiDrawCount,Fe._multiDrawInstances);else if(Ye.get("WEBGL_multi_draw"))Dn.renderMultiDraw(Fe._multiDrawStarts,Fe._multiDrawCounts,Fe._multiDrawCount);else{const Lt=Fe._multiDrawStarts,Wt=Fe._multiDrawCounts,vn=Fe._multiDrawCount,nn=ie?We.get(ie).bytesPerElement:1,an=K.get(nt).currentProgram.getUniforms();for(let Hn=0;Hn<vn;Hn++)an.setValue(ne,"_gl_DrawID",Hn),Dn.render(Lt[Hn]/nn,Wt[Hn])}else if(Fe.isInstancedMesh)Dn.renderInstances(Vn,Tr,Fe.count);else if(et.isInstancedBufferGeometry){const Lt=et._maxInstanceCount!==void 0?et._maxInstanceCount:1/0,Wt=Math.min(et.instanceCount,Lt);Dn.renderInstances(Vn,Tr,Wt)}else Dn.render(Vn,Tr)};function kt(le,Ie,et){le.transparent===!0&&le.side===To&&le.forceSinglePass===!1?(le.side=ui,le.needsUpdate=!0,Gn(le,Ie,et),le.side=Nl,le.needsUpdate=!0,Gn(le,Ie,et),le.side=To):Gn(le,Ie,et)}this.compile=function(le,Ie,et=null){et===null&&(et=le),M=Ve.get(et),M.init(Ie),N.push(M),et.traverseVisible(function(Fe){Fe.isLight&&Fe.layers.test(Ie.layers)&&(M.pushLight(Fe),Fe.castShadow&&M.pushShadow(Fe))}),le!==et&&le.traverseVisible(function(Fe){Fe.isLight&&Fe.layers.test(Ie.layers)&&(M.pushLight(Fe),Fe.castShadow&&M.pushShadow(Fe))}),M.setupLights();const nt=new Set;return le.traverse(function(Fe){if(!(Fe.isMesh||Fe.isPoints||Fe.isLine||Fe.isSprite))return;const St=Fe.material;if(St)if(Array.isArray(St))for(let Dt=0;Dt<St.length;Dt++){const _t=St[Dt];kt(_t,et,Fe),nt.add(_t)}else kt(St,et,Fe),nt.add(St)}),M=N.pop(),nt},this.compileAsync=function(le,Ie,et=null){const nt=this.compile(le,Ie,et);return new Promise(Fe=>{function St(){if(nt.forEach(function(Dt){K.get(Dt).currentProgram.isReady()&&nt.delete(Dt)}),nt.size===0){Fe(le);return}setTimeout(St,10)}Ye.get("KHR_parallel_shader_compile")!==null?St():setTimeout(St,10)})};let Nt=null;function It(le){Nt&&Nt(le)}function Le(){gt.stop()}function st(){gt.start()}const gt=new Oie;gt.setAnimationLoop(It),typeof self<"u"&&gt.setContext(self),this.setAnimationLoop=function(le){Nt=le,Tt.setAnimationLoop(le),le===null?gt.stop():gt.start()},Tt.addEventListener("sessionstart",Le),Tt.addEventListener("sessionend",st),this.render=function(le,Ie){if(Ie!==void 0&&Ie.isCamera!==!0){$t("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;const et=Tt.enabled===!0&&Tt.isPresenting===!0,nt=O!==null&&(V===null||et)&&O.begin(I,V);if(le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Ie.parent===null&&Ie.matrixWorldAutoUpdate===!0&&Ie.updateMatrixWorld(),Tt.enabled===!0&&Tt.isPresenting===!0&&(O===null||O.isCompositing()===!1)&&(Tt.cameraAutoUpdate===!0&&Tt.updateCamera(Ie),Ie=Tt.getCamera()),le.isScene===!0&&le.onBeforeRender(I,le,Ie,V),M=Ve.get(le,N.length),M.init(Ie),N.push(M),Ce.multiplyMatrices(Ie.projectionMatrix,Ie.matrixWorldInverse),ye.setFromProjectionMatrix(Ce,ws,Ie.reversedDepth),be=this.localClippingEnabled,xe=at.init(this.clippingPlanes,be),E=ot.get(le,R.length),E.init(),R.push(E),Tt.enabled===!0&&Tt.isPresenting===!0){const Dt=I.xr.getDepthSensingMesh();Dt!==null&&ht(Dt,Ie,-1/0,I.sortObjects)}ht(le,Ie,0,I.sortObjects),E.finish(),I.sortObjects===!0&&E.sort(ue,fe),de=Tt.enabled===!1||Tt.isPresenting===!1||Tt.hasDepthSensing()===!1,de&&ze.addToRenderList(E,le),this.info.render.frame++,xe===!0&&at.beginShadows();const Fe=M.state.shadowsArray;if(tt.render(Fe,le,Ie),xe===!0&&at.endShadows(),this.info.autoReset===!0&&this.info.reset(),(nt&&O.hasRenderPass())===!1){const Dt=E.opaque,_t=E.transmissive;if(M.setupLights(),Ie.isArrayCamera){const ie=Ie.cameras;if(_t.length>0)for(let Ot=0,_n=ie.length;Ot<_n;Ot++){const hn=ie[Ot];te(Dt,_t,le,hn)}de&&ze.render(le);for(let Ot=0,_n=ie.length;Ot<_n;Ot++){const hn=ie[Ot];m(E,le,hn,hn.viewport)}}else _t.length>0&&te(Dt,_t,le,Ie),de&&ze.render(le),m(E,le,Ie)}V!==null&&$===0&&(_e.updateMultisampleRenderTarget(V),_e.updateRenderTargetMipmap(V)),nt&&O.end(I),le.isScene===!0&&le.onAfterRender(I,le,Ie),qt.resetDefaultState(),U=-1,k=null,N.pop(),N.length>0?(M=N[N.length-1],xe===!0&&at.setGlobalState(I.clippingPlanes,M.state.camera)):M=null,R.pop(),R.length>0?E=R[R.length-1]:E=null};function ht(le,Ie,et,nt){if(le.visible===!1)return;if(le.layers.test(Ie.layers)){if(le.isGroup)et=le.renderOrder;else if(le.isLOD)le.autoUpdate===!0&&le.update(Ie);else if(le.isLight)M.pushLight(le),le.castShadow&&M.pushShadow(le);else if(le.isSprite){if(!le.frustumCulled||ye.intersectsSprite(le)){nt&&Ae.setFromMatrixPosition(le.matrixWorld).applyMatrix4(Ce);const Dt=mt.update(le),_t=le.material;_t.visible&&E.push(le,Dt,_t,et,Ae.z,null)}}else if((le.isMesh||le.isLine||le.isPoints)&&(!le.frustumCulled||ye.intersectsObject(le))){const Dt=mt.update(le),_t=le.material;if(nt&&(le.boundingSphere!==void 0?(le.boundingSphere===null&&le.computeBoundingSphere(),Ae.copy(le.boundingSphere.center)):(Dt.boundingSphere===null&&Dt.computeBoundingSphere(),Ae.copy(Dt.boundingSphere.center)),Ae.applyMatrix4(le.matrixWorld).applyMatrix4(Ce)),Array.isArray(_t)){const ie=Dt.groups;for(let Ot=0,_n=ie.length;Ot<_n;Ot++){const hn=ie[Ot],Vn=_t[hn.materialIndex];Vn&&Vn.visible&&E.push(le,Dt,Vn,et,Ae.z,hn)}}else _t.visible&&E.push(le,Dt,_t,et,Ae.z,null)}}const St=le.children;for(let Dt=0,_t=St.length;Dt<_t;Dt++)ht(St[Dt],Ie,et,nt)}function m(le,Ie,et,nt){const{opaque:Fe,transmissive:St,transparent:Dt}=le;M.setupLightsView(et),xe===!0&&at.setGlobalState(I.clippingPlanes,et),nt&&qe.viewport(z.copy(nt)),Fe.length>0&&on(Fe,Ie,et),St.length>0&&on(St,Ie,et),Dt.length>0&&on(Dt,Ie,et),qe.buffers.depth.setTest(!0),qe.buffers.depth.setMask(!0),qe.buffers.color.setMask(!0),qe.setPolygonOffset(!1)}function te(le,Ie,et,nt){if((et.isScene===!0?et.overrideMaterial:null)!==null)return;if(M.state.transmissionRenderTarget[nt.id]===void 0){const Vn=Ye.has("EXT_color_buffer_half_float")||Ye.has("EXT_color_buffer_float");M.state.transmissionRenderTarget[nt.id]=new cu(1,1,{generateMipmaps:!0,type:Vn?Ui:Fi,minFilter:Ws,samples:rt.samples,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Xn.workingColorSpace})}const St=M.state.transmissionRenderTarget[nt.id],Dt=nt.viewport||z;St.setSize(Dt.z*I.transmissionResolutionScale,Dt.w*I.transmissionResolutionScale);const _t=I.getRenderTarget(),ie=I.getActiveCubeFace(),Ot=I.getActiveMipmapLevel();I.setRenderTarget(St),I.getClearColor(X),Y=I.getClearAlpha(),Y<1&&I.setClearColor(16777215,.5),I.clear(),de&&ze.render(et);const _n=I.toneMapping;I.toneMapping=Ca;const hn=nt.viewport;if(nt.viewport!==void 0&&(nt.viewport=void 0),M.setupLightsView(nt),xe===!0&&at.setGlobalState(I.clippingPlanes,nt),on(le,et,nt),_e.updateMultisampleRenderTarget(St),_e.updateRenderTargetMipmap(St),Ye.has("WEBGL_multisampled_render_to_texture")===!1){let Vn=!1;for(let fr=0,Tr=Ie.length;fr<Tr;fr++){const ae=Ie[fr],{object:Dn,geometry:Lt,material:Wt,group:vn}=ae;if(Wt.side===To&&Dn.layers.test(nt.layers)){const nn=Wt.side;Wt.side=ui,Wt.needsUpdate=!0,xn(Dn,et,nt,Lt,Wt,vn),Wt.side=nn,Wt.needsUpdate=!0,Vn=!0}}Vn===!0&&(_e.updateMultisampleRenderTarget(St),_e.updateRenderTargetMipmap(St))}I.setRenderTarget(_t,ie,Ot),I.setClearColor(X,Y),hn!==void 0&&(nt.viewport=hn),I.toneMapping=_n}function on(le,Ie,et){const nt=Ie.isScene===!0?Ie.overrideMaterial:null;for(let Fe=0,St=le.length;Fe<St;Fe++){const Dt=le[Fe],{object:_t,geometry:ie,group:Ot}=Dt;let _n=Dt.material;_n.allowOverride===!0&&nt!==null&&(_n=nt),_t.layers.test(et.layers)&&xn(_t,Ie,et,ie,_n,Ot)}}function xn(le,Ie,et,nt,Fe,St){le.onBeforeRender(I,Ie,et,nt,Fe,St),le.modelViewMatrix.multiplyMatrices(et.matrixWorldInverse,le.matrixWorld),le.normalMatrix.getNormalMatrix(le.modelViewMatrix),Fe.onBeforeRender(I,Ie,et,nt,le,St),Fe.transparent===!0&&Fe.side===To&&Fe.forceSinglePass===!1?(Fe.side=ui,Fe.needsUpdate=!0,I.renderBufferDirect(et,Ie,nt,Fe,le,St),Fe.side=Nl,Fe.needsUpdate=!0,I.renderBufferDirect(et,Ie,nt,Fe,le,St),Fe.side=To):I.renderBufferDirect(et,Ie,nt,Fe,le,St),le.onAfterRender(I,Ie,et,nt,Fe,St)}function Gn(le,Ie,et){Ie.isScene!==!0&&(Ie=me);const nt=K.get(le),Fe=M.state.lights,St=M.state.shadowsArray,Dt=Fe.state.version,_t=vt.getParameters(le,Fe.state,St,Ie,et),ie=vt.getProgramCacheKey(_t);let Ot=nt.programs;nt.environment=le.isMeshStandardMaterial?Ie.environment:null,nt.fog=Ie.fog,nt.envMap=(le.isMeshStandardMaterial?lt:Ue).get(le.envMap||nt.environment),nt.envMapRotation=nt.environment!==null&&le.envMap===null?Ie.environmentRotation:le.envMapRotation,Ot===void 0&&(le.addEventListener("dispose",tn),Ot=new Map,nt.programs=Ot);let _n=Ot.get(ie);if(_n!==void 0){if(nt.currentProgram===_n&&nt.lightsStateVersion===Dt)return In(le,_t),_n}else _t.uniforms=vt.getUniforms(le),le.onBeforeCompile(_t,I),_n=vt.acquireProgram(_t,ie),Ot.set(ie,_n),nt.uniforms=_t.uniforms;const hn=nt.uniforms;return(!le.isShaderMaterial&&!le.isRawShaderMaterial||le.clipping===!0)&&(hn.clippingPlanes=at.uniform),In(le,_t),nt.needsLights=wt(le),nt.lightsStateVersion=Dt,nt.needsLights&&(hn.ambientLightColor.value=Fe.state.ambient,hn.lightProbe.value=Fe.state.probe,hn.directionalLights.value=Fe.state.directional,hn.directionalLightShadows.value=Fe.state.directionalShadow,hn.spotLights.value=Fe.state.spot,hn.spotLightShadows.value=Fe.state.spotShadow,hn.rectAreaLights.value=Fe.state.rectArea,hn.ltc_1.value=Fe.state.rectAreaLTC1,hn.ltc_2.value=Fe.state.rectAreaLTC2,hn.pointLights.value=Fe.state.point,hn.pointLightShadows.value=Fe.state.pointShadow,hn.hemisphereLights.value=Fe.state.hemi,hn.directionalShadowMap.value=Fe.state.directionalShadowMap,hn.directionalShadowMatrix.value=Fe.state.directionalShadowMatrix,hn.spotShadowMap.value=Fe.state.spotShadowMap,hn.spotLightMatrix.value=Fe.state.spotLightMatrix,hn.spotLightMap.value=Fe.state.spotLightMap,hn.pointShadowMap.value=Fe.state.pointShadowMap,hn.pointShadowMatrix.value=Fe.state.pointShadowMatrix),nt.currentProgram=_n,nt.uniformsList=null,_n}function cn(le){if(le.uniformsList===null){const Ie=le.currentProgram.getUniforms();le.uniformsList=RC.seqWithValue(Ie.seq,le.uniforms)}return le.uniformsList}function In(le,Ie){const et=K.get(le);et.outputColorSpace=Ie.outputColorSpace,et.batching=Ie.batching,et.batchingColor=Ie.batchingColor,et.instancing=Ie.instancing,et.instancingColor=Ie.instancingColor,et.instancingMorph=Ie.instancingMorph,et.skinning=Ie.skinning,et.morphTargets=Ie.morphTargets,et.morphNormals=Ie.morphNormals,et.morphColors=Ie.morphColors,et.morphTargetsCount=Ie.morphTargetsCount,et.numClippingPlanes=Ie.numClippingPlanes,et.numIntersection=Ie.numClipIntersection,et.vertexAlphas=Ie.vertexAlphas,et.vertexTangents=Ie.vertexTangents,et.toneMapping=Ie.toneMapping}function dr(le,Ie,et,nt,Fe){Ie.isScene!==!0&&(Ie=me),_e.resetTextureUnits();const St=Ie.fog,Dt=nt.isMeshStandardMaterial?Ie.environment:null,_t=V===null?I.outputColorSpace:V.isXRRenderTarget===!0?V.texture.colorSpace:Kh,ie=(nt.isMeshStandardMaterial?lt:Ue).get(nt.envMap||Dt),Ot=nt.vertexColors===!0&&!!et.attributes.color&&et.attributes.color.itemSize===4,_n=!!et.attributes.tangent&&(!!nt.normalMap||nt.anisotropy>0),hn=!!et.morphAttributes.position,Vn=!!et.morphAttributes.normal,fr=!!et.morphAttributes.color;let Tr=Ca;nt.toneMapped&&(V===null||V.isXRRenderTarget===!0)&&(Tr=I.toneMapping);const ae=et.morphAttributes.position||et.morphAttributes.normal||et.morphAttributes.color,Dn=ae!==void 0?ae.length:0,Lt=K.get(nt),Wt=M.state.lights;if(xe===!0&&(be===!0||le!==k)){const jr=le===k&&nt.id===U;at.setState(nt,le,jr)}let vn=!1;nt.version===Lt.__version?(Lt.needsLights&&Lt.lightsStateVersion!==Wt.state.version||Lt.outputColorSpace!==_t||Fe.isBatchedMesh&&Lt.batching===!1||!Fe.isBatchedMesh&&Lt.batching===!0||Fe.isBatchedMesh&&Lt.batchingColor===!0&&Fe.colorTexture===null||Fe.isBatchedMesh&&Lt.batchingColor===!1&&Fe.colorTexture!==null||Fe.isInstancedMesh&&Lt.instancing===!1||!Fe.isInstancedMesh&&Lt.instancing===!0||Fe.isSkinnedMesh&&Lt.skinning===!1||!Fe.isSkinnedMesh&&Lt.skinning===!0||Fe.isInstancedMesh&&Lt.instancingColor===!0&&Fe.instanceColor===null||Fe.isInstancedMesh&&Lt.instancingColor===!1&&Fe.instanceColor!==null||Fe.isInstancedMesh&&Lt.instancingMorph===!0&&Fe.morphTexture===null||Fe.isInstancedMesh&&Lt.instancingMorph===!1&&Fe.morphTexture!==null||Lt.envMap!==ie||nt.fog===!0&&Lt.fog!==St||Lt.numClippingPlanes!==void 0&&(Lt.numClippingPlanes!==at.numPlanes||Lt.numIntersection!==at.numIntersection)||Lt.vertexAlphas!==Ot||Lt.vertexTangents!==_n||Lt.morphTargets!==hn||Lt.morphNormals!==Vn||Lt.morphColors!==fr||Lt.toneMapping!==Tr||Lt.morphTargetsCount!==Dn)&&(vn=!0):(vn=!0,Lt.__version=nt.version);let nn=Lt.currentProgram;vn===!0&&(nn=Gn(nt,Ie,Fe));let an=!1,Hn=!1,Hr=!1;const Jn=nn.getUniforms(),Sr=Lt.uniforms;if(qe.useProgram(nn.program)&&(an=!0,Hn=!0,Hr=!0),nt.id!==U&&(U=nt.id,Hn=!0),an||k!==le){qe.buffers.depth.getReversed()&&le.reversedDepth!==!0&&(le._reversedDepth=!0,le.updateProjectionMatrix()),Jn.setValue(ne,"projectionMatrix",le.projectionMatrix),Jn.setValue(ne,"viewMatrix",le.matrixWorldInverse);const Bn=Jn.map.cameraPosition;Bn!==void 0&&Bn.setValue(ne,Ne.setFromMatrixPosition(le.matrixWorld)),rt.logarithmicDepthBuffer&&Jn.setValue(ne,"logDepthBufFC",2/(Math.log(le.far+1)/Math.LN2)),(nt.isMeshPhongMaterial||nt.isMeshToonMaterial||nt.isMeshLambertMaterial||nt.isMeshBasicMaterial||nt.isMeshStandardMaterial||nt.isShaderMaterial)&&Jn.setValue(ne,"isOrthographic",le.isOrthographicCamera===!0),k!==le&&(k=le,Hn=!0,Hr=!0)}if(Lt.needsLights&&(Wt.state.directionalShadowMap.length>0&&Jn.setValue(ne,"directionalShadowMap",Wt.state.directionalShadowMap,_e),Wt.state.spotShadowMap.length>0&&Jn.setValue(ne,"spotShadowMap",Wt.state.spotShadowMap,_e),Wt.state.pointShadowMap.length>0&&Jn.setValue(ne,"pointShadowMap",Wt.state.pointShadowMap,_e)),Fe.isSkinnedMesh){Jn.setOptional(ne,Fe,"bindMatrix"),Jn.setOptional(ne,Fe,"bindMatrixInverse");const jr=Fe.skeleton;jr&&(jr.boneTexture===null&&jr.computeBoneTexture(),Jn.setValue(ne,"boneTexture",jr.boneTexture,_e))}Fe.isBatchedMesh&&(Jn.setOptional(ne,Fe,"batchingTexture"),Jn.setValue(ne,"batchingTexture",Fe._matricesTexture,_e),Jn.setOptional(ne,Fe,"batchingIdTexture"),Jn.setValue(ne,"batchingIdTexture",Fe._indirectTexture,_e),Jn.setOptional(ne,Fe,"batchingColorTexture"),Fe._colorsTexture!==null&&Jn.setValue(ne,"batchingColorTexture",Fe._colorsTexture,_e));const sr=et.morphAttributes;if((sr.position!==void 0||sr.normal!==void 0||sr.color!==void 0)&&bt.update(Fe,et,nn),(Hn||Lt.receiveShadow!==Fe.receiveShadow)&&(Lt.receiveShadow=Fe.receiveShadow,Jn.setValue(ne,"receiveShadow",Fe.receiveShadow)),nt.isMeshGouraudMaterial&&nt.envMap!==null&&(Sr.envMap.value=ie,Sr.flipEnvMap.value=ie.isCubeTexture&&ie.isRenderTargetTexture===!1?-1:1),nt.isMeshStandardMaterial&&nt.envMap===null&&Ie.environment!==null&&(Sr.envMapIntensity.value=Ie.environmentIntensity),Sr.dfgLUT!==void 0&&(Sr.dfgLUT.value=ike()),Hn&&(Jn.setValue(ne,"toneMappingExposure",I.toneMappingExposure),Lt.needsLights&&Sn(Sr,Hr),St&&nt.fog===!0&&At.refreshFogUniforms(Sr,St),At.refreshMaterialUniforms(Sr,nt,re,ee,M.state.transmissionRenderTarget[le.id]),RC.upload(ne,cn(Lt),Sr,_e)),nt.isShaderMaterial&&nt.uniformsNeedUpdate===!0&&(RC.upload(ne,cn(Lt),Sr,_e),nt.uniformsNeedUpdate=!1),nt.isSpriteMaterial&&Jn.setValue(ne,"center",Fe.center),Jn.setValue(ne,"modelViewMatrix",Fe.modelViewMatrix),Jn.setValue(ne,"normalMatrix",Fe.normalMatrix),Jn.setValue(ne,"modelMatrix",Fe.matrixWorld),nt.isShaderMaterial||nt.isRawShaderMaterial){const jr=nt.uniformsGroups;for(let Bn=0,Cn=jr.length;Bn<Cn;Bn++){const Wn=jr[Bn];Ge.update(Wn,nn),Ge.bind(Wn,nn)}}return nn}function Sn(le,Ie){le.ambientLightColor.needsUpdate=Ie,le.lightProbe.needsUpdate=Ie,le.directionalLights.needsUpdate=Ie,le.directionalLightShadows.needsUpdate=Ie,le.pointLights.needsUpdate=Ie,le.pointLightShadows.needsUpdate=Ie,le.spotLights.needsUpdate=Ie,le.spotLightShadows.needsUpdate=Ie,le.rectAreaLights.needsUpdate=Ie,le.hemisphereLights.needsUpdate=Ie}function wt(le){return le.isMeshLambertMaterial||le.isMeshToonMaterial||le.isMeshPhongMaterial||le.isMeshStandardMaterial||le.isShadowMaterial||le.isShaderMaterial&&le.lights===!0}this.getActiveCubeFace=function(){return F},this.getActiveMipmapLevel=function(){return $},this.getRenderTarget=function(){return V},this.setRenderTargetTextures=function(le,Ie,et){const nt=K.get(le);nt.__autoAllocateDepthBuffer=le.resolveDepthBuffer===!1,nt.__autoAllocateDepthBuffer===!1&&(nt.__useRenderToTexture=!1),K.get(le.texture).__webglTexture=Ie,K.get(le.depthTexture).__webglTexture=nt.__autoAllocateDepthBuffer?void 0:et,nt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(le,Ie){const et=K.get(le);et.__webglFramebuffer=Ie,et.__useDefaultFramebuffer=Ie===void 0};const Zt=ne.createFramebuffer();this.setRenderTarget=function(le,Ie=0,et=0){V=le,F=Ie,$=et;let nt=null,Fe=!1,St=!1;if(le){const _t=K.get(le);if(_t.__useDefaultFramebuffer!==void 0){qe.bindFramebuffer(ne.FRAMEBUFFER,_t.__webglFramebuffer),z.copy(le.viewport),H.copy(le.scissor),j=le.scissorTest,qe.viewport(z),qe.scissor(H),qe.setScissorTest(j),U=-1;return}else if(_t.__webglFramebuffer===void 0)_e.setupRenderTarget(le);else if(_t.__hasExternalTextures)_e.rebindTextures(le,K.get(le.texture).__webglTexture,K.get(le.depthTexture).__webglTexture);else if(le.depthBuffer){const _n=le.depthTexture;if(_t.__boundDepthTexture!==_n){if(_n!==null&&K.has(_n)&&(le.width!==_n.image.width||le.height!==_n.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");_e.setupDepthRenderbuffer(le)}}const ie=le.texture;(ie.isData3DTexture||ie.isDataArrayTexture||ie.isCompressedArrayTexture)&&(St=!0);const Ot=K.get(le).__webglFramebuffer;le.isWebGLCubeRenderTarget?(Array.isArray(Ot[Ie])?nt=Ot[Ie][et]:nt=Ot[Ie],Fe=!0):le.samples>0&&_e.useMultisampledRTT(le)===!1?nt=K.get(le).__webglMultisampledFramebuffer:Array.isArray(Ot)?nt=Ot[et]:nt=Ot,z.copy(le.viewport),H.copy(le.scissor),j=le.scissorTest}else z.copy(oe).multiplyScalar(re).floor(),H.copy(ce).multiplyScalar(re).floor(),j=pe;if(et!==0&&(nt=Zt),qe.bindFramebuffer(ne.FRAMEBUFFER,nt)&&qe.drawBuffers(le,nt),qe.viewport(z),qe.scissor(H),qe.setScissorTest(j),Fe){const _t=K.get(le.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,_t.__webglTexture,et)}else if(St){const _t=Ie;for(let ie=0;ie<le.textures.length;ie++){const Ot=K.get(le.textures[ie]);ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0+ie,Ot.__webglTexture,et,_t)}}else if(le!==null&&et!==0){const _t=K.get(le.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,_t.__webglTexture,et)}U=-1},this.readRenderTargetPixels=function(le,Ie,et,nt,Fe,St,Dt,_t=0){if(!(le&&le.isWebGLRenderTarget)){$t("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ie=K.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&Dt!==void 0&&(ie=ie[Dt]),ie){qe.bindFramebuffer(ne.FRAMEBUFFER,ie);try{const Ot=le.textures[_t],_n=Ot.format,hn=Ot.type;if(!rt.textureFormatReadable(_n)){$t("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!rt.textureTypeReadable(hn)){$t("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ie>=0&&Ie<=le.width-nt&&et>=0&&et<=le.height-Fe&&(le.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+_t),ne.readPixels(Ie,et,nt,Fe,Ct.convert(_n),Ct.convert(hn),St))}finally{const Ot=V!==null?K.get(V).__webglFramebuffer:null;qe.bindFramebuffer(ne.FRAMEBUFFER,Ot)}}},this.readRenderTargetPixelsAsync=async function(le,Ie,et,nt,Fe,St,Dt,_t=0){if(!(le&&le.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ie=K.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&Dt!==void 0&&(ie=ie[Dt]),ie)if(Ie>=0&&Ie<=le.width-nt&&et>=0&&et<=le.height-Fe){qe.bindFramebuffer(ne.FRAMEBUFFER,ie);const Ot=le.textures[_t],_n=Ot.format,hn=Ot.type;if(!rt.textureFormatReadable(_n))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!rt.textureTypeReadable(hn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Vn=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,Vn),ne.bufferData(ne.PIXEL_PACK_BUFFER,St.byteLength,ne.STREAM_READ),le.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+_t),ne.readPixels(Ie,et,nt,Fe,Ct.convert(_n),Ct.convert(hn),0);const fr=V!==null?K.get(V).__webglFramebuffer:null;qe.bindFramebuffer(ne.FRAMEBUFFER,fr);const Tr=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),await ALe(ne,Tr,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,Vn),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,St),ne.deleteBuffer(Vn),ne.deleteSync(Tr),St}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(le,Ie=null,et=0){const nt=Math.pow(2,-et),Fe=Math.floor(le.image.width*nt),St=Math.floor(le.image.height*nt),Dt=Ie!==null?Ie.x:0,_t=Ie!==null?Ie.y:0;_e.setTexture2D(le,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,et,0,0,Dt,_t,Fe,St),qe.unbindTexture()};const Mn=ne.createFramebuffer(),kn=ne.createFramebuffer();this.copyTextureToTexture=function(le,Ie,et=null,nt=null,Fe=0,St=null){St===null&&(Fe!==0?(Ai("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),St=Fe,Fe=0):St=0);let Dt,_t,ie,Ot,_n,hn,Vn,fr,Tr;const ae=le.isCompressedTexture?le.mipmaps[St]:le.image;if(et!==null)Dt=et.max.x-et.min.x,_t=et.max.y-et.min.y,ie=et.isBox3?et.max.z-et.min.z:1,Ot=et.min.x,_n=et.min.y,hn=et.isBox3?et.min.z:0;else{const sr=Math.pow(2,-Fe);Dt=Math.floor(ae.width*sr),_t=Math.floor(ae.height*sr),le.isDataArrayTexture?ie=ae.depth:le.isData3DTexture?ie=Math.floor(ae.depth*sr):ie=1,Ot=0,_n=0,hn=0}nt!==null?(Vn=nt.x,fr=nt.y,Tr=nt.z):(Vn=0,fr=0,Tr=0);const Dn=Ct.convert(Ie.format),Lt=Ct.convert(Ie.type);let Wt;Ie.isData3DTexture?(_e.setTexture3D(Ie,0),Wt=ne.TEXTURE_3D):Ie.isDataArrayTexture||Ie.isCompressedArrayTexture?(_e.setTexture2DArray(Ie,0),Wt=ne.TEXTURE_2D_ARRAY):(_e.setTexture2D(Ie,0),Wt=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,Ie.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ie.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,Ie.unpackAlignment);const vn=ne.getParameter(ne.UNPACK_ROW_LENGTH),nn=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),an=ne.getParameter(ne.UNPACK_SKIP_PIXELS),Hn=ne.getParameter(ne.UNPACK_SKIP_ROWS),Hr=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,ae.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,ae.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,Ot),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,_n),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,hn);const Jn=le.isDataArrayTexture||le.isData3DTexture,Sr=Ie.isDataArrayTexture||Ie.isData3DTexture;if(le.isDepthTexture){const sr=K.get(le),jr=K.get(Ie),Bn=K.get(sr.__renderTarget),Cn=K.get(jr.__renderTarget);qe.bindFramebuffer(ne.READ_FRAMEBUFFER,Bn.__webglFramebuffer),qe.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Cn.__webglFramebuffer);for(let Wn=0;Wn<ie;Wn++)Jn&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,K.get(le).__webglTexture,Fe,hn+Wn),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,K.get(Ie).__webglTexture,St,Tr+Wn)),ne.blitFramebuffer(Ot,_n,Dt,_t,Vn,fr,Dt,_t,ne.DEPTH_BUFFER_BIT,ne.NEAREST);qe.bindFramebuffer(ne.READ_FRAMEBUFFER,null),qe.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(Fe!==0||le.isRenderTargetTexture||K.has(le)){const sr=K.get(le),jr=K.get(Ie);qe.bindFramebuffer(ne.READ_FRAMEBUFFER,Mn),qe.bindFramebuffer(ne.DRAW_FRAMEBUFFER,kn);for(let Bn=0;Bn<ie;Bn++)Jn?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,sr.__webglTexture,Fe,hn+Bn):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,sr.__webglTexture,Fe),Sr?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,jr.__webglTexture,St,Tr+Bn):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,jr.__webglTexture,St),Fe!==0?ne.blitFramebuffer(Ot,_n,Dt,_t,Vn,fr,Dt,_t,ne.COLOR_BUFFER_BIT,ne.NEAREST):Sr?ne.copyTexSubImage3D(Wt,St,Vn,fr,Tr+Bn,Ot,_n,Dt,_t):ne.copyTexSubImage2D(Wt,St,Vn,fr,Ot,_n,Dt,_t);qe.bindFramebuffer(ne.READ_FRAMEBUFFER,null),qe.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else Sr?le.isDataTexture||le.isData3DTexture?ne.texSubImage3D(Wt,St,Vn,fr,Tr,Dt,_t,ie,Dn,Lt,ae.data):Ie.isCompressedArrayTexture?ne.compressedTexSubImage3D(Wt,St,Vn,fr,Tr,Dt,_t,ie,Dn,ae.data):ne.texSubImage3D(Wt,St,Vn,fr,Tr,Dt,_t,ie,Dn,Lt,ae):le.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,St,Vn,fr,Dt,_t,Dn,Lt,ae.data):le.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,St,Vn,fr,ae.width,ae.height,Dn,ae.data):ne.texSubImage2D(ne.TEXTURE_2D,St,Vn,fr,Dt,_t,Dn,Lt,ae);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,vn),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,nn),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,an),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Hn),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Hr),St===0&&Ie.generateMipmaps&&ne.generateMipmap(Wt),qe.unbindTexture()},this.initRenderTarget=function(le){K.get(le).__webglFramebuffer===void 0&&_e.setupRenderTarget(le)},this.initTexture=function(le){le.isCubeTexture?_e.setTextureCube(le,0):le.isData3DTexture?_e.setTexture3D(le,0):le.isDataArrayTexture||le.isCompressedArrayTexture?_e.setTexture2DArray(le,0):_e.setTexture2D(le,0),qe.unbindTexture()},this.resetState=function(){F=0,$=0,V=null,qe.reset(),qt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ws}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Xn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Xn._getUnpackColorSpace()}}class ake extends ji{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new Ft(.5,.5),this.addEventListener("removed",function(){this.traverse(function(n){n.element&&n.element instanceof n.element.ownerDocument.defaultView.Element&&n.element.parentNode!==null&&n.element.remove()})})}copy(e,n){return super.copy(e,n),this.element=e.element.cloneNode(!0),this.center=e.center,this}}const ug=new ve,jH=new ar,qH=new ar,WH=new ve,XH=new ve;class ske{constructor(e={}){const n=this;let r,i,o,a;const s={objects:new WeakMap},l=e.element!==void 0?e.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l,this.sortObjects=!0,this.getSize=function(){return{width:r,height:i}},this.render=function(p,x){p.matrixWorldAutoUpdate===!0&&p.updateMatrixWorld(),x.parent===null&&x.matrixWorldAutoUpdate===!0&&x.updateMatrixWorld(),jH.copy(x.matrixWorldInverse),qH.multiplyMatrices(x.projectionMatrix,jH),u(p,p,x),this.sortObjects&&h(p)},this.setSize=function(p,x){r=p,i=x,o=r/2,a=i/2,l.style.width=p+"px",l.style.height=x+"px"};function c(p){p.isCSS2DObject&&(p.element.style.display="none");for(let x=0,b=p.children.length;x<b;x++)c(p.children[x])}function u(p,x,b){if(p.visible===!1){c(p);return}if(p.isCSS2DObject){ug.setFromMatrixPosition(p.matrixWorld),ug.applyMatrix4(qH);const y=ug.z>=-1&&ug.z<=1&&p.layers.test(b.layers)===!0,_=p.element;_.style.display=y===!0?"":"none",y===!0&&(p.onBeforeRender(n,x,b),_.style.transform="translate("+-100*p.center.x+"%,"+-100*p.center.y+"%)translate("+(ug.x*o+o)+"px,"+(-ug.y*a+a)+"px)",_.parentNode!==l&&l.appendChild(_),p.onAfterRender(n,x,b));const C={distanceToCameraSquared:d(b,p)};s.objects.set(p,C)}for(let y=0,_=p.children.length;y<_;y++)u(p.children[y],x,b)}function d(p,x){return WH.setFromMatrixPosition(p.matrixWorld),XH.setFromMatrixPosition(x.matrixWorld),WH.distanceToSquared(XH)}function f(p){const x=[];return p.traverseVisible(function(b){b.isCSS2DObject&&x.push(b)}),x}function h(p){const x=f(p).sort(function(y,_){if(y.renderOrder!==_.renderOrder)return _.renderOrder-y.renderOrder;const C=s.objects.get(y).distanceToCameraSquared,E=s.objects.get(_).distanceToCameraSquared;return C-E}),b=x.length;for(let y=0,_=x.length;y<_;y++)x[y].element.style.zIndex=b-y}}}function w5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var lke=typeof global=="object"&&global&&global.Object===Object&&global;const cke=lke;var uke=typeof self=="object"&&self&&self.Object===Object&&self,dke=cke||uke||Function("return this")();const Uie=dke;var fke=function(){return Uie.Date.now()};const CN=fke;var hke=/\s/;function pke(t){for(var e=t.length;e--&&hke.test(t.charAt(e)););return e}var mke=/^\s+/;function gke(t){return t&&t.slice(0,pke(t)+1).replace(mke,"")}var Ake=Uie.Symbol;const KT=Ake;var kie=Object.prototype,vke=kie.hasOwnProperty,yke=kie.toString,s1=KT?KT.toStringTag:void 0;function bke(t){var e=vke.call(t,s1),n=t[s1];try{t[s1]=void 0;var r=!0}catch{}var i=yke.call(t);return r&&(e?t[s1]=n:delete t[s1]),i}var xke=Object.prototype,Ske=xke.toString;function _ke(t){return Ske.call(t)}var wke="[object Null]",Cke="[object Undefined]",YH=KT?KT.toStringTag:void 0;function Tke(t){return t==null?t===void 0?Cke:wke:YH&&YH in Object(t)?bke(t):_ke(t)}function Eke(t){return t!=null&&typeof t=="object"}var Mke="[object Symbol]";function Rke(t){return typeof t=="symbol"||Eke(t)&&Tke(t)==Mke}var KH=0/0,Pke=/^[-+]0x[0-9a-f]+$/i,Nke=/^0b[01]+$/i,Ike=/^0o[0-7]+$/i,Dke=parseInt;function QH(t){if(typeof t=="number")return t;if(Rke(t))return KH;if(w5(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=w5(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=gke(t);var n=Nke.test(t);return n||Ike.test(t)?Dke(t.slice(2),n?2:8):Pke.test(t)?KH:+t}var Oke="Expected a function",Lke=Math.max,Bke=Math.min;function Fke(t,e,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Oke);e=QH(e)||0,w5(n)&&(u=!!n.leading,d="maxWait"in n,o=d?Lke(QH(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(R){var N=r,O=i;return r=i=void 0,c=R,a=t.apply(O,N),a}function p(R){return c=R,s=setTimeout(y,e),u?h(R):a}function x(R){var N=R-l,O=R-c,I=e-N;return d?Bke(I,o-O):I}function b(R){var N=R-l,O=R-c;return l===void 0||N>=e||N<0||d&&O>=o}function y(){var R=CN();if(b(R))return _(R);s=setTimeout(y,x(R))}function _(R){return s=void 0,f&&r?h(R):(r=i=void 0,a)}function C(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function E(){return s===void 0?a:_(CN())}function M(){var R=CN(),N=b(R);if(r=arguments,i=this,l=R,N){if(s===void 0)return p(l);if(d)return clearTimeout(s),s=setTimeout(y,e),h(l)}return s===void 0&&(s=setTimeout(y,e)),a}return M.cancel=C,M.flush=E,M}function ZH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $ke(t){if(Array.isArray(t))return t}function Uke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kke(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Vke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function zke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gke(t,e){return $ke(t)||Vke(t,e)||Hke(t,e)||zke()}function Hke(t,e){if(t){if(typeof t=="string")return ZH(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZH(t,e):void 0}}var jke=kke(function t(e,n){var r=n.default,i=r===void 0?null:r,o=n.triggerUpdate,a=o===void 0?!0:o,s=n.onChange,l=s===void 0?function(c,u){}:s;Uke(this,t),this.name=e,this.defaultVal=i,this.triggerUpdate=a,this.onChange=l});function Ko(t){var e=t.stateInit,n=e===void 0?function(){return{}}:e,r=t.props,i=r===void 0?{}:r,o=t.methods,a=o===void 0?{}:o,s=t.aliases,l=s===void 0?{}:s,c=t.init,u=c===void 0?function(){}:c,d=t.update,f=d===void 0?function(){}:d,h=Object.keys(i).map(function(p){return new jke(p,i[p])});return function p(){for(var x=arguments.length,b=new Array(x),y=0;y<x;y++)b[y]=arguments[y];var _=!!(this instanceof p&&this.constructor),C=_?b.shift():void 0,E=b[0],M=E===void 0?{}:E,R=Object.assign({},n instanceof Function?n(M):n,{initialised:!1}),N={};function O(F){return I(F,M),L(),O}var I=function($,V){u.call(O,$,R,V),R.initialised=!0},L=Fke(function(){R.initialised&&(f.call(O,R,N),N={})},1);return h.forEach(function(F){O[F.name]=$(F);function $(V){var U=V.name,k=V.triggerUpdate,z=k===void 0?!1:k,H=V.onChange,j=H===void 0?function(J,ee){}:H,X=V.defaultVal,Y=X===void 0?null:X;return function(J){var ee=R[U];if(!arguments.length)return ee;var re=J===void 0?Y:J;return R[U]=re,j.call(O,re,R,ee),!N.hasOwnProperty(U)&&(N[U]=ee),z&&L(),O}}}),Object.keys(a).forEach(function(F){O[F]=function(){for(var $,V=arguments.length,U=new Array(V),k=0;k<V;k++)U[k]=arguments[k];return($=a[F]).call.apply($,[O,R].concat(U))}}),Object.entries(l).forEach(function(F){var $=Gke(F,2),V=$[0],U=$[1];return O[V]=O[U]}),O.resetProps=function(){return h.forEach(function(F){O[F.name](F.defaultVal)}),O},O.resetProps(),R._rerender=L,_&&C&&O(C),O}}var ko=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return t},Out:function(t){return t},InOut:function(t){return t}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-ko.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?ko.Bounce.In(t*2)*.5:ko.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),W1=function(){return performance.now()},VM=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(n){return e._tweens[n]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];(e=a._group)===null||e===void 0||e.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},t.prototype.remove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},t.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},t.prototype.update=function(e,n){e===void 0&&(e=W1()),n===void 0&&(n=!0);var r=Object.keys(this._tweens);if(r.length!==0)for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var o=this._tweens[r[i]],a=!n;o&&o.update(e,a)===!1&&!n&&this.remove(o)}r=Object.keys(this._tweensAddedDuringUpdate)}},t}(),Qg={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=Qg.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=Qg.Utils.Bernstein,a=0;a<=r;a++)n+=i(1-e,r-a)*i(e,a)*t[a]*o(r,a);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=Qg.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=Qg.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var o=(n-t)*.5,a=(r-e)*.5,s=i*i,l=i*s;return(2*e-2*n+o+a)*l+(-3*e+3*n-2*o-a)*s+o*i+e}}},qke=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),C5=new VM,ss=function(){function t(e,n){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ko.Linear.None,this._interpolationFunction=Qg.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=qke.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof n=="object"?(this._group=n,n.add(this)):n===!0&&(this._group=C5,C5.add(this))}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.getDuration=function(){return this._duration},t.prototype.to=function(e,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,n){if(e===void 0&&(e=W1()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var o in this._valuesEnd)i[o]=this._valuesEnd[o];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,n,r,i,o){for(var a in r){var s=e[a],l=Array.isArray(s),c=l?"array":typeof s,u=!l&&Array.isArray(r[a]);if(!(c==="undefined"||c==="function")){if(u){var d=r[a];if(d.length===0)continue;for(var f=[s],h=0,p=d.length;h<p;h+=1){var x=this._handleRelativeValue(s,d[h]);if(isNaN(x)){u=!1,console.warn("Found invalid interpolation list. Skipping.");break}f.push(x)}u&&(r[a]=f)}if((c==="object"||l)&&s&&!u){n[a]=l?[]:{};var b=s;for(var y in b)n[a][y]=b[y];i[a]=l?[]:{};var d=r[a];if(!this._isDynamic){var _={};for(var y in d)_[y]=d[y];r[a]=d=_}this._setupProperties(b,n[a],d,i[a],o)}else(typeof n[a]>"u"||o)&&(n[a]=s),l||(n[a]*=1),u?i[a]=r[a].slice().reverse():i[a]=n[a]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},t.prototype.pause=function(e){return e===void 0&&(e=W1()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},t.prototype.resume=function(e){return e===void 0&&(e=W1()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},t.prototype.stopChainedTweens=function(){for(var e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},t.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=ko.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=Qg.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,n){var r=this,i;if(e===void 0&&(e=W1()),n===void 0&&(n=t.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(n)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=e-this._startTime,s=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),l=this._duration+this._repeat*s,c=function(){if(r._duration===0||a>l)return 1;var x=Math.trunc(a/s),b=a-x*s,y=Math.min(b/r._duration,1);return y===0&&a===r._duration?1:y},u=c(),d=this._easingFunction(u);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,d),this._onUpdateCallback&&this._onUpdateCallback(this._object,u),this._duration===0||a>=this._duration)if(this._repeat>0){var f=Math.min(Math.trunc((a-this._duration)/s)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=f);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=s*f,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var h=0,p=this._chainedTweens.length;h<p;h++)this._chainedTweens[h].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,n,r,i){for(var o in r)if(n[o]!==void 0){var a=n[o]||0,s=r[o],l=Array.isArray(e[o]),c=Array.isArray(s),u=!l&&c;u?e[o]=this._interpolationFunction(s,i):typeof s=="object"&&s?this._updateProperties(e[o],a,s,i):(s=this._handleRelativeValue(a,s),typeof s=="number"&&(e[o]=a+(s-a)*i))}},t.prototype._handleRelativeValue=function(e,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?e+parseFloat(n):parseFloat(n)},t.prototype._swapEndStartRepeatValues=function(e){var n=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=n},t.autoStartOnUpdate=!1,t}(),gd=C5;gd.getAll.bind(gd);gd.removeAll.bind(gd);gd.add.bind(gd);gd.remove.bind(gd);gd.update.bind(gd);function Wke(t){const e=+this._x.call(null,t),n=+this._y.call(null,t),r=+this._z.call(null,t);return Vie(this.cover(e,n,r),e,n,r,t)}function Vie(t,e,n,r,i){if(isNaN(e)||isNaN(n)||isNaN(r))return t;var o,a=t._root,s={data:i},l=t._x0,c=t._y0,u=t._z0,d=t._x1,f=t._y1,h=t._z1,p,x,b,y,_,C,E,M,R,N,O;if(!a)return t._root=s,t;for(;a.length;)if((E=e>=(p=(l+d)/2))?l=p:d=p,(M=n>=(x=(c+f)/2))?c=x:f=x,(R=r>=(b=(u+h)/2))?u=b:h=b,o=a,!(a=a[N=R<<2|M<<1|E]))return o[N]=s,t;if(y=+t._x.call(null,a.data),_=+t._y.call(null,a.data),C=+t._z.call(null,a.data),e===y&&n===_&&r===C)return s.next=a,o?o[N]=s:t._root=s,t;do o=o?o[N]=new Array(8):t._root=new Array(8),(E=e>=(p=(l+d)/2))?l=p:d=p,(M=n>=(x=(c+f)/2))?c=x:f=x,(R=r>=(b=(u+h)/2))?u=b:h=b;while((N=R<<2|M<<1|E)===(O=(C>=b)<<2|(_>=x)<<1|y>=p));return o[O]=a,o[N]=s,t}function Xke(t){Array.isArray(t)||(t=Array.from(t));const e=t.length,n=new Float64Array(e),r=new Float64Array(e),i=new Float64Array(e);let o=1/0,a=1/0,s=1/0,l=-1/0,c=-1/0,u=-1/0;for(let d=0,f,h,p,x;d<e;++d)isNaN(h=+this._x.call(null,f=t[d]))||isNaN(p=+this._y.call(null,f))||isNaN(x=+this._z.call(null,f))||(n[d]=h,r[d]=p,i[d]=x,h<o&&(o=h),h>l&&(l=h),p<a&&(a=p),p>c&&(c=p),x<s&&(s=x),x>u&&(u=x));if(o>l||a>c||s>u)return this;this.cover(o,a,s).cover(l,c,u);for(let d=0;d<e;++d)Vie(this,n[d],r[d],i[d],t[d]);return this}function Yke(t,e,n){if(isNaN(t=+t)||isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,l=this._z1;if(isNaN(r))a=(r=Math.floor(t))+1,s=(i=Math.floor(e))+1,l=(o=Math.floor(n))+1;else{for(var c=a-r||1,u=this._root,d,f;r>t||t>=a||i>e||e>=s||o>n||n>=l;)switch(f=(n<o)<<2|(e<i)<<1|t<r,d=new Array(8),d[f]=u,u=d,c*=2,f){case 0:a=r+c,s=i+c,l=o+c;break;case 1:r=a-c,s=i+c,l=o+c;break;case 2:a=r+c,i=s-c,l=o+c;break;case 3:r=a-c,i=s-c,l=o+c;break;case 4:a=r+c,s=i+c,o=l-c;break;case 5:r=a-c,s=i+c,o=l-c;break;case 6:a=r+c,i=s-c,o=l-c;break;case 7:r=a-c,i=s-c,o=l-c;break}this._root&&this._root.length&&(this._root=u)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this}function Kke(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Qke(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Ii(t,e,n,r,i,o,a){this.node=t,this.x0=e,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a}function Zke(t,e,n,r){var i,o=this._x0,a=this._y0,s=this._z0,l,c,u,d,f,h,p=this._x1,x=this._y1,b=this._z1,y=[],_=this._root,C,E;for(_&&y.push(new Ii(_,o,a,s,p,x,b)),r==null?r=1/0:(o=t-r,a=e-r,s=n-r,p=t+r,x=e+r,b=n+r,r*=r);C=y.pop();)if(!(!(_=C.node)||(l=C.x0)>p||(c=C.y0)>x||(u=C.z0)>b||(d=C.x1)<o||(f=C.y1)<a||(h=C.z1)<s))if(_.length){var M=(l+d)/2,R=(c+f)/2,N=(u+h)/2;y.push(new Ii(_[7],M,R,N,d,f,h),new Ii(_[6],l,R,N,M,f,h),new Ii(_[5],M,c,N,d,R,h),new Ii(_[4],l,c,N,M,R,h),new Ii(_[3],M,R,u,d,f,N),new Ii(_[2],l,R,u,M,f,N),new Ii(_[1],M,c,u,d,R,N),new Ii(_[0],l,c,u,M,R,N)),(E=(n>=N)<<2|(e>=R)<<1|t>=M)&&(C=y[y.length-1],y[y.length-1]=y[y.length-1-E],y[y.length-1-E]=C)}else{var O=t-+this._x.call(null,_.data),I=e-+this._y.call(null,_.data),L=n-+this._z.call(null,_.data),F=O*O+I*I+L*L;if(F<r){var $=Math.sqrt(r=F);o=t-$,a=e-$,s=n-$,p=t+$,x=e+$,b=n+$,i=_.data}}return i}const Jke=(t,e,n,r,i,o)=>Math.sqrt((t-r)**2+(e-i)**2+(n-o)**2);function eVe(t,e,n,r){const i=[],o=t-r,a=e-r,s=n-r,l=t+r,c=e+r,u=n+r;return this.visit((d,f,h,p,x,b,y)=>{if(!d.length)do{const _=d.data;Jke(t,e,n,this._x(_),this._y(_),this._z(_))<=r&&i.push(_)}while(d=d.next);return f>l||h>c||p>u||x<o||b<a||y<s}),i}function tVe(t){if(isNaN(f=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t))||isNaN(p=+this._z.call(null,t)))return this;var e,n=this._root,r,i,o,a=this._x0,s=this._y0,l=this._z0,c=this._x1,u=this._y1,d=this._z1,f,h,p,x,b,y,_,C,E,M,R;if(!n)return this;if(n.length)for(;;){if((_=f>=(x=(a+c)/2))?a=x:c=x,(C=h>=(b=(s+u)/2))?s=b:u=b,(E=p>=(y=(l+d)/2))?l=y:d=y,e=n,!(n=n[M=E<<2|C<<1|_]))return this;if(!n.length)break;(e[M+1&7]||e[M+2&7]||e[M+3&7]||e[M+4&7]||e[M+5&7]||e[M+6&7]||e[M+7&7])&&(r=e,R=M)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[M]=o:delete e[M],(n=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&n===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[R]=n:this._root=n),this):(this._root=o,this)}function nVe(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function rVe(){return this._root}function iVe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function oVe(t){var e=[],n,r=this._root,i,o,a,s,l,c,u;for(r&&e.push(new Ii(r,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=e.pop();)if(!t(r=n.node,o=n.x0,a=n.y0,s=n.z0,l=n.x1,c=n.y1,u=n.z1)&&r.length){var d=(o+l)/2,f=(a+c)/2,h=(s+u)/2;(i=r[7])&&e.push(new Ii(i,d,f,h,l,c,u)),(i=r[6])&&e.push(new Ii(i,o,f,h,d,c,u)),(i=r[5])&&e.push(new Ii(i,d,a,h,l,f,u)),(i=r[4])&&e.push(new Ii(i,o,a,h,d,f,u)),(i=r[3])&&e.push(new Ii(i,d,f,s,l,c,h)),(i=r[2])&&e.push(new Ii(i,o,f,s,d,c,h)),(i=r[1])&&e.push(new Ii(i,d,a,s,l,f,h)),(i=r[0])&&e.push(new Ii(i,o,a,s,d,f,h))}return this}function aVe(t){var e=[],n=[],r;for(this._root&&e.push(new Ii(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,l=r.z0,c=r.x1,u=r.y1,d=r.z1,f=(a+c)/2,h=(s+u)/2,p=(l+d)/2;(o=i[0])&&e.push(new Ii(o,a,s,l,f,h,p)),(o=i[1])&&e.push(new Ii(o,f,s,l,c,h,p)),(o=i[2])&&e.push(new Ii(o,a,h,l,f,u,p)),(o=i[3])&&e.push(new Ii(o,f,h,l,c,u,p)),(o=i[4])&&e.push(new Ii(o,a,s,p,f,h,d)),(o=i[5])&&e.push(new Ii(o,f,s,p,c,h,d)),(o=i[6])&&e.push(new Ii(o,a,h,p,f,u,d)),(o=i[7])&&e.push(new Ii(o,f,h,p,c,u,d))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.z0,r.x1,r.y1,r.z1);return this}function sVe(t){return t[0]}function lVe(t){return arguments.length?(this._x=t,this):this._x}function cVe(t){return t[1]}function uVe(t){return arguments.length?(this._y=t,this):this._y}function dVe(t){return t[2]}function fVe(t){return arguments.length?(this._z=t,this):this._z}function zie(t,e,n,r){var i=new CF(e??sVe,n??cVe,r??dVe,NaN,NaN,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function CF(t,e,n,r,i,o,a,s,l){this._x=t,this._y=e,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this._root=void 0}function JH(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ba=zie.prototype=CF.prototype;Ba.copy=function(){var t=new CF(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=JH(e),t;for(n=[{source:e,target:t._root=new Array(8)}];e=n.pop();)for(var i=0;i<8;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(8)}):e.target[i]=JH(r));return t};Ba.add=Wke;Ba.addAll=Xke;Ba.cover=Yke;Ba.data=Kke;Ba.extent=Qke;Ba.find=Zke;Ba.findAllWithinRadius=eVe;Ba.remove=tVe;Ba.removeAll=nVe;Ba.root=rVe;Ba.size=iVe;Ba.visit=oVe;Ba.visitAfter=aVe;Ba.x=lVe;Ba.y=uVe;Ba.z=fVe;function PC(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hVe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gie(t){let e,n,r;t.length!==2?(e=PC,n=(s,l)=>PC(t(s),l),r=(s,l)=>t(s)-l):(e=t===PC||t===hVe?t:pVe,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function pVe(){return 0}function mVe(t){return t===null?NaN:+t}const gVe=Gie(PC),AVe=gVe.right;Gie(mVe).center;const Hie=AVe;function QT(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Zd{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,s=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);s&&(n[r++]=s),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}const vVe=Math.sqrt(50),yVe=Math.sqrt(10),bVe=Math.sqrt(2);function ZT(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=vVe?10:o>=yVe?5:o>=bVe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?ZT(t,e,n*2):[s,l,c]}function xVe(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?ZT(e,t,n):ZT(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function T5(t,e,n){return e=+e,t=+t,n=+n,ZT(t,e,n)[2]}function SVe(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?T5(e,t,n):T5(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function _Ve(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function wVe(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function*CVe(t){for(const e of t)yield*e}function Fx(t){return Array.from(CVe(t))}function Zg(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function TVe(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function jie(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function TF(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qie(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function W2(){}var $x=.7,JT=1/$x,xA="\\s*([+-]?\\d+)\\s*",Ux="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EVe=/^#([0-9a-f]{3,8})$/,MVe=new RegExp(`^rgb\\(${xA},${xA},${xA}\\)$`),RVe=new RegExp(`^rgb\\(${rd},${rd},${rd}\\)$`),PVe=new RegExp(`^rgba\\(${xA},${xA},${xA},${Ux}\\)$`),NVe=new RegExp(`^rgba\\(${rd},${rd},${rd},${Ux}\\)$`),IVe=new RegExp(`^hsl\\(${Ux},${rd},${rd}\\)$`),DVe=new RegExp(`^hsla\\(${Ux},${rd},${rd},${Ux}\\)$`),ej={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TF(W2,t0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tj,formatHex:tj,formatHex8:OVe,formatHsl:LVe,formatRgb:nj,toString:nj});function tj(){return this.rgb().formatHex()}function OVe(){return this.rgb().formatHex8()}function LVe(){return Wie(this).formatHsl()}function nj(){return this.rgb().formatRgb()}function t0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=EVe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rj(e):n===3?new Ys(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Y_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Y_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=MVe.exec(t))?new Ys(e[1],e[2],e[3],1):(e=RVe.exec(t))?new Ys(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=PVe.exec(t))?Y_(e[1],e[2],e[3],e[4]):(e=NVe.exec(t))?Y_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IVe.exec(t))?aj(e[1],e[2]/100,e[3]/100,1):(e=DVe.exec(t))?aj(e[1],e[2]/100,e[3]/100,e[4]):ej.hasOwnProperty(t)?rj(ej[t]):t==="transparent"?new Ys(NaN,NaN,NaN,0):null}function rj(t){return new Ys(t>>16&255,t>>8&255,t&255,1)}function Y_(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ys(t,e,n,r)}function BVe(t){return t instanceof W2||(t=t0(t)),t?(t=t.rgb(),new Ys(t.r,t.g,t.b,t.opacity)):new Ys}function E5(t,e,n,r){return arguments.length===1?BVe(t):new Ys(t,e,n,r??1)}function Ys(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}TF(Ys,E5,qie(W2,{brighter(t){return t=t==null?JT:Math.pow(JT,t),new Ys(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$x:Math.pow($x,t),new Ys(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ys(Nm(this.r),Nm(this.g),Nm(this.b),eE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ij,formatHex:ij,formatHex8:FVe,formatRgb:oj,toString:oj}));function ij(){return`#${vm(this.r)}${vm(this.g)}${vm(this.b)}`}function FVe(){return`#${vm(this.r)}${vm(this.g)}${vm(this.b)}${vm((isNaN(this.opacity)?1:this.opacity)*255)}`}function oj(){const t=eE(this.opacity);return`${t===1?"rgb(":"rgba("}${Nm(this.r)}, ${Nm(this.g)}, ${Nm(this.b)}${t===1?")":`, ${t})`}`}function eE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vm(t){return t=Nm(t),(t<16?"0":"")+t.toString(16)}function aj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qc(t,e,n,r)}function Wie(t){if(t instanceof Qc)return new Qc(t.h,t.s,t.l,t.opacity);if(t instanceof W2||(t=t0(t)),!t)return new Qc;if(t instanceof Qc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Qc(a,s,l,t.opacity)}function $Ve(t,e,n,r){return arguments.length===1?Wie(t):new Qc(t,e,n,r??1)}function Qc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}TF(Qc,$Ve,qie(W2,{brighter(t){return t=t==null?JT:Math.pow(JT,t),new Qc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$x:Math.pow($x,t),new Qc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ys(TN(t>=240?t-240:t+120,i,r),TN(t,i,r),TN(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Qc(sj(this.h),K_(this.s),K_(this.l),eE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=eE(this.opacity);return`${t===1?"hsl(":"hsla("}${sj(this.h)}, ${K_(this.s)*100}%, ${K_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sj(t){return t=(t||0)%360,t<0?t+360:t}function K_(t){return Math.max(0,Math.min(1,t||0))}function TN(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const EF=t=>()=>t;function UVe(t,e){return function(n){return t+n*e}}function kVe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function VVe(t){return(t=+t)==1?Xie:function(e,n){return n-e?kVe(e,n,t):EF(isNaN(e)?n:e)}}function Xie(t,e){var n=e-t;return n?UVe(t,n):EF(isNaN(t)?e:t)}const lj=function t(e){var n=VVe(e);function r(i,o){var a=n((i=E5(i)).r,(o=E5(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=Xie(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Yie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Kie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zVe(t,e){return(Kie(e)?Yie:Qie)(t,e)}function Qie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=MF(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function GVe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function kx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function HVe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=MF(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var M5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,EN=new RegExp(M5.source,"g");function jVe(t){return function(){return t}}function qVe(t){return function(e){return t(e)+""}}function WVe(t,e){var n=M5.lastIndex=EN.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=M5.exec(t))&&(i=EN.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:kx(r,i)})),n=EN.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?qVe(l[0].x):jVe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function MF(t,e){var n=typeof e,r;return e==null||n==="boolean"?EF(e):(n==="number"?kx:n==="string"?(r=t0(e))?(e=r,lj):WVe:e instanceof t0?lj:e instanceof Date?GVe:Kie(e)?Yie:Array.isArray(e)?Qie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?HVe:kx)(t,e)}function XVe(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function YVe(t){return function(){return t}}function KVe(t){return+t}var cj=[0,1];function Jg(t){return t}function R5(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:YVe(isNaN(e)?NaN:.5)}function QVe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ZVe(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=R5(i,r),o=n(a,o)):(r=R5(r,i),o=n(o,a)),function(s){return o(r(s))}}function JVe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=R5(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Hie(t,s,1,r)-1;return o[l](i[l](s))}}function eze(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function tze(){var t=cj,e=cj,n=MF,r,i,o,a=Jg,s,l,c;function u(){var f=Math.min(t.length,e.length);return a!==Jg&&(a=QVe(t[0],t[f-1])),s=f>2?JVe:ZVe,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(r),e,n)))(r(a(f)))}return d.invert=function(f){return a(i((c||(c=s(e,t.map(r),kx)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,KVe),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=XVe,u()},d.clamp=function(f){return arguments.length?(a=f?!0:Jg,u()):a!==Jg},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,u()}}function nze(){return tze()(Jg,Jg)}function rze(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tE(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Tv(t){return t=tE(Math.abs(t)),t?t[1]:NaN}function ize(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function oze(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var aze=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nE(t){if(!(e=aze.exec(t)))throw new Error("invalid format: "+t);var e;return new RF({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nE.prototype=RF.prototype;function RF(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}RF.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sze(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var rE;function lze(t,e){var n=tE(t,e);if(!n)return rE=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(rE=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+tE(t,Math.max(0,e+o-1))[0]}function uj(t,e){var n=tE(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rze,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uj(t*100,e),r:uj,s:lze,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fj(t){return t}var hj=Array.prototype.map,pj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cze(t){var e=t.grouping===void 0||t.thousands===void 0?fj:ize(hj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?fj:oze(hj.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,f){d=nE(d);var h=d.fill,p=d.align,x=d.sign,b=d.symbol,y=d.zero,_=d.width,C=d.comma,E=d.precision,M=d.trim,R=d.type;R==="n"?(C=!0,R="g"):dj[R]||(E===void 0&&(E=12),M=!0,R="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var N=(f&&f.prefix!==void 0?f.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():""),O=(b==="$"?r:/[%p]/.test(R)?a:"")+(f&&f.suffix!==void 0?f.suffix:""),I=dj[R],L=/[defgprs%]/.test(R);E=E===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function F($){var V=N,U=O,k,z,H;if(R==="c")U=I($)+U,$="";else{$=+$;var j=$<0||1/$<0;if($=isNaN($)?l:I(Math.abs($),E),M&&($=sze($)),j&&+$==0&&x!=="+"&&(j=!1),V=(j?x==="("?x:s:x==="-"||x==="("?"":x)+V,U=(R==="s"&&!isNaN($)&&rE!==void 0?pj[8+rE/3]:"")+U+(j&&x==="("?")":""),L){for(k=-1,z=$.length;++k<z;)if(H=$.charCodeAt(k),48>H||H>57){U=(H===46?i+$.slice(k+1):$.slice(k))+U,$=$.slice(0,k);break}}}C&&!y&&($=e($,1/0));var X=V.length+$.length+U.length,Y=X<_?new Array(_-X+1).join(h):"";switch(C&&y&&($=e(Y+$,Y.length?_-U.length:1/0),Y=""),p){case"<":$=V+$+U+Y;break;case"=":$=V+Y+$+U;break;case"^":$=Y.slice(0,X=Y.length>>1)+V+$+U+Y.slice(X);break;default:$=Y+V+$+U;break}return o($)}return F.toString=function(){return d+""},F}function u(d,f){var h=Math.max(-8,Math.min(8,Math.floor(Tv(f)/3)))*3,p=Math.pow(10,-h),x=c((d=nE(d),d.type="f",d),{suffix:pj[8+h/3]});return function(b){return x(p*b)}}return{format:c,formatPrefix:u}}var Q_,Zie,Jie;uze({thousands:",",grouping:[3],currency:["$",""]});function uze(t){return Q_=cze(t),Zie=Q_.format,Jie=Q_.formatPrefix,Q_}function dze(t){return Math.max(0,-Tv(Math.abs(t)))}function fze(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tv(e)/3)))*3-Tv(Math.abs(t)))}function hze(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Tv(e)-Tv(t))+1}function pze(t,e,n,r){var i=SVe(t,e,n),o;switch(r=nE(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=fze(i,a))&&(r.precision=o),Jie(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=hze(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=dze(i))&&(r.precision=o-(r.type==="%")*2);break}}return Zie(r)}function eoe(t){var e=t.domain;return t.ticks=function(n){var r=e();return xVe(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return pze(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=T5(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function ff(){var t=nze();return t.copy=function(){return eze(t,ff())},jie.apply(t,arguments),eoe(t)}function toe(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Hie(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return toe().domain([t,e]).range(i).unknown(o)},jie.apply(eoe(a),arguments)}var Lr=1e-6,iE=1e-12,Wr=Math.PI,Ks=Wr/2,oE=Wr/4,Fl=Wr*2,yo=180/Wr,vr=Wr/180,Pi=Math.abs,PF=Math.atan,Cc=Math.atan2,xr=Math.cos,Z_=Math.ceil,mze=Math.exp,P5=Math.hypot,gze=Math.log,pr=Math.sin,Aze=Math.sign||function(t){return t>0?1:t<0?-1:0},hf=Math.sqrt,vze=Math.tan;function yze(t){return t>1?0:t<-1?Wr:Math.acos(t)}function pf(t){return t>1?Ks:t<-1?-Ks:Math.asin(t)}function mj(t){return(t=pr(t/2))*t}function Ka(){}function aE(t,e){t&&Aj.hasOwnProperty(t.type)&&Aj[t.type](t,e)}var gj={Feature:function(t,e){aE(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)aE(n[r].geometry,e)}},Aj={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){N5(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)N5(n[r],e,0)},Polygon:function(t,e){vj(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)vj(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)aE(n[r],e)}};function N5(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function vj(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)N5(t[n],e,1);e.polygonEnd()}function zM(t,e){t&&gj.hasOwnProperty(t.type)?gj[t.type](t,e):aE(t,e)}var sE=new Zd,yj=new Zd,noe,roe,I5,D5,O5,mf={point:Ka,lineStart:Ka,lineEnd:Ka,polygonStart:function(){sE=new Zd,mf.lineStart=bze,mf.lineEnd=xze},polygonEnd:function(){var t=+sE;yj.add(t<0?Fl+t:t),this.lineStart=this.lineEnd=this.point=Ka},sphere:function(){yj.add(Fl)}};function bze(){mf.point=Sze}function xze(){ioe(noe,roe)}function Sze(t,e){mf.point=ioe,noe=t,roe=e,t*=vr,e*=vr,I5=t,D5=xr(e=e/2+oE),O5=pr(e)}function ioe(t,e){t*=vr,e*=vr,e=e/2+oE;var n=t-I5,r=n>=0?1:-1,i=r*n,o=xr(e),a=pr(e),s=O5*a,l=D5*o+s*xr(i),c=s*r*pr(i);sE.add(Cc(c,l)),I5=t,D5=o,O5=a}function lE(t){return[Cc(t[1],t[0]),pf(t[2])]}function n0(t){var e=t[0],n=t[1],r=xr(n);return[r*xr(e),r*pr(e),pr(n)]}function J_(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ev(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function MN(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ew(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function cE(t){var e=hf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var oo,Gs,Ao,Tl,Qp,ooe,aoe,SA,wb,sh,gf,$d={point:L5,lineStart:bj,lineEnd:xj,polygonStart:function(){$d.point=loe,$d.lineStart=_ze,$d.lineEnd=wze,wb=new Zd,mf.polygonStart()},polygonEnd:function(){mf.polygonEnd(),$d.point=L5,$d.lineStart=bj,$d.lineEnd=xj,sE<0?(oo=-(Ao=180),Gs=-(Tl=90)):wb>Lr?Tl=90:wb<-Lr&&(Gs=-90),gf[0]=oo,gf[1]=Ao},sphere:function(){oo=-(Ao=180),Gs=-(Tl=90)}};function L5(t,e){sh.push(gf=[oo=t,Ao=t]),e<Gs&&(Gs=e),e>Tl&&(Tl=e)}function soe(t,e){var n=n0([t*vr,e*vr]);if(SA){var r=Ev(SA,n),i=[r[1],-r[0],0],o=Ev(i,r);cE(o),o=lE(o);var a=t-Qp,s=a>0?1:-1,l=o[0]*yo*s,c,u=Pi(a)>180;u^(s*Qp<l&&l<s*t)?(c=o[1]*yo,c>Tl&&(Tl=c)):(l=(l+360)%360-180,u^(s*Qp<l&&l<s*t)?(c=-o[1]*yo,c<Gs&&(Gs=c)):(e<Gs&&(Gs=e),e>Tl&&(Tl=e))),u?t<Qp?_l(oo,t)>_l(oo,Ao)&&(Ao=t):_l(t,Ao)>_l(oo,Ao)&&(oo=t):Ao>=oo?(t<oo&&(oo=t),t>Ao&&(Ao=t)):t>Qp?_l(oo,t)>_l(oo,Ao)&&(Ao=t):_l(t,Ao)>_l(oo,Ao)&&(oo=t)}else sh.push(gf=[oo=t,Ao=t]);e<Gs&&(Gs=e),e>Tl&&(Tl=e),SA=n,Qp=t}function bj(){$d.point=soe}function xj(){gf[0]=oo,gf[1]=Ao,$d.point=L5,SA=null}function loe(t,e){if(SA){var n=t-Qp;wb.add(Pi(n)>180?n+(n>0?360:-360):n)}else ooe=t,aoe=e;mf.point(t,e),soe(t,e)}function _ze(){mf.lineStart()}function wze(){loe(ooe,aoe),mf.lineEnd(),Pi(wb)>Lr&&(oo=-(Ao=180)),gf[0]=oo,gf[1]=Ao,SA=null}function _l(t,e){return(e-=t)<0?e+360:e}function Cze(t,e){return t[0]-e[0]}function Sj(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function coe(t){var e,n,r,i,o,a,s;if(Tl=Ao=-(oo=Gs=1/0),sh=[],zM(t,$d),n=sh.length){for(sh.sort(Cze),e=1,r=sh[0],o=[r];e<n;++e)i=sh[e],Sj(r,i[0])||Sj(r,i[1])?(_l(r[0],i[1])>_l(r[0],r[1])&&(r[1]=i[1]),_l(i[0],r[1])>_l(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(s=_l(r[1],i[0]))>a&&(a=s,oo=i[0],Ao=r[1])}return sh=gf=null,oo===1/0||Gs===1/0?[[NaN,NaN],[NaN,NaN]]:[[oo,Gs],[Ao,Tl]]}var X1,uE,dE,fE,hE,pE,mE,gE,B5,F5,$5,uoe,doe,gs,As,vs,tu={sphere:Ka,point:NF,lineStart:_j,lineEnd:wj,polygonStart:function(){tu.lineStart=Mze,tu.lineEnd=Rze},polygonEnd:function(){tu.lineStart=_j,tu.lineEnd=wj}};function NF(t,e){t*=vr,e*=vr;var n=xr(e);X2(n*xr(t),n*pr(t),pr(e))}function X2(t,e,n){++X1,dE+=(t-dE)/X1,fE+=(e-fE)/X1,hE+=(n-hE)/X1}function _j(){tu.point=Tze}function Tze(t,e){t*=vr,e*=vr;var n=xr(e);gs=n*xr(t),As=n*pr(t),vs=pr(e),tu.point=Eze,X2(gs,As,vs)}function Eze(t,e){t*=vr,e*=vr;var n=xr(e),r=n*xr(t),i=n*pr(t),o=pr(e),a=Cc(hf((a=As*o-vs*i)*a+(a=vs*r-gs*o)*a+(a=gs*i-As*r)*a),gs*r+As*i+vs*o);uE+=a,pE+=a*(gs+(gs=r)),mE+=a*(As+(As=i)),gE+=a*(vs+(vs=o)),X2(gs,As,vs)}function wj(){tu.point=NF}function Mze(){tu.point=Pze}function Rze(){foe(uoe,doe),tu.point=NF}function Pze(t,e){uoe=t,doe=e,t*=vr,e*=vr,tu.point=foe;var n=xr(e);gs=n*xr(t),As=n*pr(t),vs=pr(e),X2(gs,As,vs)}function foe(t,e){t*=vr,e*=vr;var n=xr(e),r=n*xr(t),i=n*pr(t),o=pr(e),a=As*o-vs*i,s=vs*r-gs*o,l=gs*i-As*r,c=P5(a,s,l),u=pf(c),d=c&&-u/c;B5.add(d*a),F5.add(d*s),$5.add(d*l),uE+=u,pE+=u*(gs+(gs=r)),mE+=u*(As+(As=i)),gE+=u*(vs+(vs=o)),X2(gs,As,vs)}function Cj(t){X1=uE=dE=fE=hE=pE=mE=gE=0,B5=new Zd,F5=new Zd,$5=new Zd,zM(t,tu);var e=+B5,n=+F5,r=+$5,i=P5(e,n,r);return i<iE&&(e=pE,n=mE,r=gE,uE<Lr&&(e=dE,n=fE,r=hE),i=P5(e,n,r),i<iE)?[NaN,NaN]:[Cc(n,e)*yo,pf(r/i)*yo]}function U5(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function k5(t,e){return Pi(t)>Wr&&(t-=Math.round(t/Fl)*Fl),[t,e]}k5.invert=k5;function hoe(t,e,n){return(t%=Fl)?e||n?U5(Ej(t),Mj(e,n)):Ej(t):e||n?Mj(e,n):k5}function Tj(t){return function(e,n){return e+=t,Pi(e)>Wr&&(e-=Math.round(e/Fl)*Fl),[e,n]}}function Ej(t){var e=Tj(t);return e.invert=Tj(-t),e}function Mj(t,e){var n=xr(t),r=pr(t),i=xr(e),o=pr(e);function a(s,l){var c=xr(l),u=xr(s)*c,d=pr(s)*c,f=pr(l),h=f*n+u*r;return[Cc(d*i-h*o,u*n-f*r),pf(h*i+d*o)]}return a.invert=function(s,l){var c=xr(l),u=xr(s)*c,d=pr(s)*c,f=pr(l),h=f*i-d*o;return[Cc(d*i+f*o,u*n+h*r),pf(h*n-u*r)]},a}function Nze(t){t=hoe(t[0]*vr,t[1]*vr,t.length>2?t[2]*vr:0);function e(n){return n=t(n[0]*vr,n[1]*vr),n[0]*=yo,n[1]*=yo,n}return e.invert=function(n){return n=t.invert(n[0]*vr,n[1]*vr),n[0]*=yo,n[1]*=yo,n},e}function Ize(t,e,n,r,i,o){if(n){var a=xr(e),s=pr(e),l=r*n;i==null?(i=e+r*Fl,o=e-l/2):(i=Rj(a,i),o=Rj(a,o),(r>0?i<o:i>o)&&(i+=r*Fl));for(var c,u=i;r>0?u>o:u<o;u-=l)c=lE([a,-s*xr(u),-s*pr(u)]),t.point(c[0],c[1])}}function Rj(t,e){e=n0(e),e[0]-=t,cE(e);var n=yze(-e[1]);return((-e[2]<0?-n:n)+Fl-Lr)%Fl}function poe(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Ka,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function NC(t,e){return Pi(t[0]-e[0])<Lr&&Pi(t[1]-e[1])<Lr}function tw(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function moe(t,e,n,r,i){var o=[],a=[],s,l;if(t.forEach(function(p){if(!((x=p.length-1)<=0)){var x,b=p[0],y=p[x],_;if(NC(b,y)){if(!b[2]&&!y[2]){for(i.lineStart(),s=0;s<x;++s)i.point((b=p[s])[0],b[1]);i.lineEnd();return}y[0]+=2*Lr}o.push(_=new tw(b,p,null,!0)),a.push(_.o=new tw(b,null,_,!1)),o.push(_=new tw(y,p,null,!1)),a.push(_.o=new tw(y,null,_,!0))}}),!!o.length){for(a.sort(e),Pj(o),Pj(a),s=0,l=a.length;s<l;++s)a[s].e=n=!n;for(var c=o[0],u,d;;){for(var f=c,h=!0;f.v;)if((f=f.n)===c)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(s=0,l=u.length;s<l;++s)i.point((d=u[s])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(u=f.p.z,s=u.length-1;s>=0;--s)i.point((d=u[s])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,h=!h}while(!f.v);i.lineEnd()}}}function Pj(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function RN(t){return Pi(t[0])<=Wr?t[0]:Aze(t[0])*((Pi(t[0])+Wr)%Fl-Wr)}function goe(t,e){var n=RN(e),r=e[1],i=pr(r),o=[pr(n),-xr(n),0],a=0,s=0,l=new Zd;i===1?r=Ks+Lr:i===-1&&(r=-Ks-Lr);for(var c=0,u=t.length;c<u;++c)if(f=(d=t[c]).length)for(var d,f,h=d[f-1],p=RN(h),x=h[1]/2+oE,b=pr(x),y=xr(x),_=0;_<f;++_,p=E,b=R,y=N,h=C){var C=d[_],E=RN(C),M=C[1]/2+oE,R=pr(M),N=xr(M),O=E-p,I=O>=0?1:-1,L=I*O,F=L>Wr,$=b*R;if(l.add(Cc($*I*pr(L),y*N+$*xr(L))),a+=F?O+I*Fl:O,F^p>=n^E>=n){var V=Ev(n0(h),n0(C));cE(V);var U=Ev(o,V);cE(U);var k=(F^O>=0?-1:1)*pf(U[2]);(r>k||r===k&&(V[0]||V[1]))&&(s+=F^O>=0?1:-1)}}return(a<-Lr||a<Lr&&l<-iE)^s&1}function Aoe(t,e,n,r){return function(i){var o=e(i),a=poe(),s=e(a),l=!1,c,u,d,f={point:h,lineStart:x,lineEnd:b,polygonStart:function(){f.point=y,f.lineStart=_,f.lineEnd=C,u=[],c=[]},polygonEnd:function(){f.point=h,f.lineStart=x,f.lineEnd=b,u=Fx(u);var E=goe(c,r);u.length?(l||(i.polygonStart(),l=!0),moe(u,Oze,E,n,i)):E&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(E,M){t(E,M)&&i.point(E,M)}function p(E,M){o.point(E,M)}function x(){f.point=p,o.lineStart()}function b(){f.point=h,o.lineEnd()}function y(E,M){d.push([E,M]),s.point(E,M)}function _(){s.lineStart(),d=[]}function C(){y(d[0][0],d[0][1]),s.lineEnd();var E=s.clean(),M=a.result(),R,N=M.length,O,I,L;if(d.pop(),c.push(d),d=null,!!N){if(E&1){if(I=M[0],(O=I.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),R=0;R<O;++R)i.point((L=I[R])[0],L[1]);i.lineEnd()}return}N>1&&E&2&&M.push(M.pop().concat(M.shift())),u.push(M.filter(Dze))}}return f}}function Dze(t){return t.length>1}function Oze(t,e){return((t=t.x)[0]<0?t[1]-Ks-Lr:Ks-t[1])-((e=e.x)[0]<0?e[1]-Ks-Lr:Ks-e[1])}const Nj=Aoe(function(){return!0},Lze,Fze,[-Wr,-Ks]);function Lze(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var s=o>0?Wr:-Wr,l=Pi(o-e);Pi(l-Wr)<Lr?(t.point(e,n=(n+a)/2>0?Ks:-Ks),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),i=0):r!==s&&l>=Wr&&(Pi(e-r)<Lr&&(e-=r*Lr),Pi(o-s)<Lr&&(o-=s*Lr),n=Bze(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=o,n=a),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Bze(t,e,n,r){var i,o,a=pr(t-n);return Pi(a)>Lr?PF((pr(e)*(o=xr(r))*pr(n)-pr(r)*(i=xr(e))*pr(t))/(i*o*a)):(e+r)/2}function Fze(t,e,n,r){var i;if(t==null)i=n*Ks,r.point(-Wr,i),r.point(0,i),r.point(Wr,i),r.point(Wr,0),r.point(Wr,-i),r.point(0,-i),r.point(-Wr,-i),r.point(-Wr,0),r.point(-Wr,i);else if(Pi(t[0]-e[0])>Lr){var o=t[0]<e[0]?Wr:-Wr;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function $ze(t){var e=xr(t),n=2*vr,r=e>0,i=Pi(e)>Lr;function o(u,d,f,h){Ize(h,t,n,f,u,d)}function a(u,d){return xr(u)*xr(d)>e}function s(u){var d,f,h,p,x;return{lineStart:function(){p=h=!1,x=1},point:function(b,y){var _=[b,y],C,E=a(b,y),M=r?E?0:c(b,y):E?c(b+(b<0?Wr:-Wr),y):0;if(!d&&(p=h=E)&&u.lineStart(),E!==h&&(C=l(d,_),(!C||NC(d,C)||NC(_,C))&&(_[2]=1)),E!==h)x=0,E?(u.lineStart(),C=l(_,d),u.point(C[0],C[1])):(C=l(d,_),u.point(C[0],C[1],2),u.lineEnd()),d=C;else if(i&&d&&r^E){var R;!(M&f)&&(R=l(_,d,!0))&&(x=0,r?(u.lineStart(),u.point(R[0][0],R[0][1]),u.point(R[1][0],R[1][1]),u.lineEnd()):(u.point(R[1][0],R[1][1]),u.lineEnd(),u.lineStart(),u.point(R[0][0],R[0][1],3)))}E&&(!d||!NC(d,_))&&u.point(_[0],_[1]),d=_,h=E,f=M},lineEnd:function(){h&&u.lineEnd(),d=null},clean:function(){return x|(p&&h)<<1}}}function l(u,d,f){var h=n0(u),p=n0(d),x=[1,0,0],b=Ev(h,p),y=J_(b,b),_=b[0],C=y-_*_;if(!C)return!f&&u;var E=e*y/C,M=-e*_/C,R=Ev(x,b),N=ew(x,E),O=ew(b,M);MN(N,O);var I=R,L=J_(N,I),F=J_(I,I),$=L*L-F*(J_(N,N)-1);if(!($<0)){var V=hf($),U=ew(I,(-L-V)/F);if(MN(U,N),U=lE(U),!f)return U;var k=u[0],z=d[0],H=u[1],j=d[1],X;z<k&&(X=k,k=z,z=X);var Y=z-k,J=Pi(Y-Wr)<Lr,ee=J||Y<Lr;if(!J&&j<H&&(X=H,H=j,j=X),ee?J?H+j>0^U[1]<(Pi(U[0]-k)<Lr?H:j):H<=U[1]&&U[1]<=j:Y>Wr^(k<=U[0]&&U[0]<=z)){var re=ew(I,(-L+V)/F);return MN(re,N),[U,lE(re)]}}}function c(u,d){var f=r?t:Wr-t,h=0;return u<-f?h|=1:u>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return Aoe(a,s,o,r?[0,-t]:[-Wr,t-Wr])}function Uze(t,e,n,r,i,o){var a=t[0],s=t[1],l=e[0],c=e[1],u=0,d=1,f=l-a,h=c-s,p;if(p=n-a,!(!f&&p>0)){if(p/=f,f<0){if(p<u)return;p<d&&(d=p)}else if(f>0){if(p>d)return;p>u&&(u=p)}if(p=i-a,!(!f&&p<0)){if(p/=f,f<0){if(p>d)return;p>u&&(u=p)}else if(f>0){if(p<u)return;p<d&&(d=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>u&&(u=p)}if(p=o-s,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<d&&(d=p)}return u>0&&(t[0]=a+u*f,t[1]=s+u*h),d<1&&(e[0]=a+d*f,e[1]=s+d*h),!0}}}}}var Y1=1e9,nw=-Y1;function kze(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function o(c,u,d,f){var h=0,p=0;if(c==null||(h=a(c,d))!==(p=a(u,d))||l(c,u)<0^d>0)do f.point(h===0||h===3?t:n,h>1?r:e);while((h=(h+d+4)%4)!==p);else f.point(u[0],u[1])}function a(c,u){return Pi(c[0]-t)<Lr?u>0?0:3:Pi(c[0]-n)<Lr?u>0?2:1:Pi(c[1]-e)<Lr?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var d=a(c,1),f=a(u,1);return d!==f?d-f:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=poe(),f,h,p,x,b,y,_,C,E,M,R,N={point:O,lineStart:$,lineEnd:V,polygonStart:L,polygonEnd:F};function O(k,z){i(k,z)&&u.point(k,z)}function I(){for(var k=0,z=0,H=h.length;z<H;++z)for(var j=h[z],X=1,Y=j.length,J=j[0],ee,re,ue=J[0],fe=J[1];X<Y;++X)ee=ue,re=fe,J=j[X],ue=J[0],fe=J[1],re<=r?fe>r&&(ue-ee)*(r-re)>(fe-re)*(t-ee)&&++k:fe<=r&&(ue-ee)*(r-re)<(fe-re)*(t-ee)&&--k;return k}function L(){u=d,f=[],h=[],R=!0}function F(){var k=I(),z=R&&k,H=(f=Fx(f)).length;(z||H)&&(c.polygonStart(),z&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),H&&moe(f,s,k,o,c),c.polygonEnd()),u=c,f=h=p=null}function $(){N.point=U,h&&h.push(p=[]),M=!0,E=!1,_=C=NaN}function V(){f&&(U(x,b),y&&E&&d.rejoin(),f.push(d.result())),N.point=O,E&&u.lineEnd()}function U(k,z){var H=i(k,z);if(h&&p.push([k,z]),M)x=k,b=z,y=H,M=!1,H&&(u.lineStart(),u.point(k,z));else if(H&&E)u.point(k,z);else{var j=[_=Math.max(nw,Math.min(Y1,_)),C=Math.max(nw,Math.min(Y1,C))],X=[k=Math.max(nw,Math.min(Y1,k)),z=Math.max(nw,Math.min(Y1,z))];Uze(j,X,t,e,n,r)?(E||(u.lineStart(),u.point(j[0],j[1])),u.point(X[0],X[1]),H||u.lineEnd(),R=!1):H&&(u.lineStart(),u.point(k,z),R=!1)}_=k,C=z,E=H}return N}}var V5,z5,IC,DC,Mv={sphere:Ka,point:Ka,lineStart:Vze,lineEnd:Ka,polygonStart:Ka,polygonEnd:Ka};function Vze(){Mv.point=Gze,Mv.lineEnd=zze}function zze(){Mv.point=Mv.lineEnd=Ka}function Gze(t,e){t*=vr,e*=vr,z5=t,IC=pr(e),DC=xr(e),Mv.point=Hze}function Hze(t,e){t*=vr,e*=vr;var n=pr(e),r=xr(e),i=Pi(t-z5),o=xr(i),a=pr(i),s=r*a,l=DC*n-IC*r*o,c=IC*n+DC*r*o;V5.add(Cc(hf(s*s+l*l),c)),z5=t,IC=n,DC=r}function jze(t){return V5=new Zd,zM(t,Mv),+V5}var G5=[null,null],qze={type:"LineString",coordinates:G5};function Qh(t,e){return G5[0]=t,G5[1]=e,jze(qze)}var Ij={Feature:function(t,e){return AE(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(AE(n[r].geometry,e))return!0;return!1}},Dj={Sphere:function(){return!0},Point:function(t,e){return Oj(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Oj(n[r],e))return!0;return!1},LineString:function(t,e){return Lj(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Lj(n[r],e))return!0;return!1},Polygon:function(t,e){return Bj(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Bj(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(AE(n[r],e))return!0;return!1}};function AE(t,e){return t&&Dj.hasOwnProperty(t.type)?Dj[t.type](t,e):!1}function Oj(t,e){return Qh(t,e)===0}function Lj(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(r=Qh(t[o],e),r===0||o>0&&(i=Qh(t[o],t[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<iE*i))return!0;n=r}return!1}function Bj(t,e){return!!goe(t.map(Wze),voe(e))}function Wze(t){return t=t.map(voe),t.pop(),t}function voe(t){return[t[0]*vr,t[1]*vr]}function Xze(t,e){return(t&&Ij.hasOwnProperty(t.type)?Ij[t.type]:AE)(t,e)}function Fj(t,e,n){var r=Zg(t,e-Lr,n).concat(e);return function(i){return r.map(function(o){return[i,o]})}}function $j(t,e,n){var r=Zg(t,e-Lr,n).concat(e);return function(i){return r.map(function(o){return[o,i]})}}function Yze(){var t,e,n,r,i,o,a,s,l=10,c=l,u=90,d=360,f,h,p,x,b=2.5;function y(){return{type:"MultiLineString",coordinates:_()}}function _(){return Zg(Z_(r/u)*u,n,u).map(p).concat(Zg(Z_(s/d)*d,a,d).map(x)).concat(Zg(Z_(e/l)*l,t,l).filter(function(C){return Pi(C%u)>Lr}).map(f)).concat(Zg(Z_(o/c)*c,i,c).filter(function(C){return Pi(C%d)>Lr}).map(h))}return y.lines=function(){return _().map(function(C){return{type:"LineString",coordinates:C}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(x(a).slice(1),p(n).reverse().slice(1),x(s).reverse().slice(1))]}},y.extent=function(C){return arguments.length?y.extentMajor(C).extentMinor(C):y.extentMinor()},y.extentMajor=function(C){return arguments.length?(r=+C[0][0],n=+C[1][0],s=+C[0][1],a=+C[1][1],r>n&&(C=r,r=n,n=C),s>a&&(C=s,s=a,a=C),y.precision(b)):[[r,s],[n,a]]},y.extentMinor=function(C){return arguments.length?(e=+C[0][0],t=+C[1][0],o=+C[0][1],i=+C[1][1],e>t&&(C=e,e=t,t=C),o>i&&(C=o,o=i,i=C),y.precision(b)):[[e,o],[t,i]]},y.step=function(C){return arguments.length?y.stepMajor(C).stepMinor(C):y.stepMinor()},y.stepMajor=function(C){return arguments.length?(u=+C[0],d=+C[1],y):[u,d]},y.stepMinor=function(C){return arguments.length?(l=+C[0],c=+C[1],y):[l,c]},y.precision=function(C){return arguments.length?(b=+C,f=Fj(o,i,90),h=$j(e,t,b),p=Fj(s,a,90),x=$j(r,n,b),y):b},y.extentMajor([[-180,-90+Lr],[180,90-Lr]]).extentMinor([[-180,-80-Lr],[180,80+Lr]])}function Kze(){return Yze()()}function IF(t,e){var n=t[0]*vr,r=t[1]*vr,i=e[0]*vr,o=e[1]*vr,a=xr(r),s=pr(r),l=xr(o),c=pr(o),u=a*xr(n),d=a*pr(n),f=l*xr(i),h=l*pr(i),p=2*pf(hf(mj(o-r)+a*l*mj(i-n))),x=pr(p),b=p?function(y){var _=pr(y*=p)/x,C=pr(p-y)/x,E=C*u+_*f,M=C*d+_*h,R=C*s+_*c;return[Cc(M,E)*yo,Cc(R,hf(E*E+M*M))*yo]}:function(){return[n*yo,r*yo]};return b.distance=p,b}const Uj=t=>t;var Rv=1/0,vE=Rv,Vx=-Rv,yE=Vx,Qze={point:Zze,lineStart:Ka,lineEnd:Ka,polygonStart:Ka,polygonEnd:Ka,result:function(){var t=[[Rv,vE],[Vx,yE]];return Vx=yE=-(vE=Rv=1/0),t}};function Zze(t,e){t<Rv&&(Rv=t),t>Vx&&(Vx=t),e<vE&&(vE=e),e>yE&&(yE=e)}const kj=Qze;function DF(t){return function(e){var n=new H5;for(var r in t)n[r]=t[r];return n.stream=e,n}}function H5(){}H5.prototype={constructor:H5,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function OF(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),zM(n,t.stream(kj)),e(kj.result()),r!=null&&t.clipExtent(r),t}function yoe(t,e,n){return OF(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,l])},n)}function Jze(t,e,n){return yoe(t,[[0,0],e],n)}function eGe(t,e,n){return OF(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];t.scale(150*o).translate([a,s])},n)}function tGe(t,e,n){return OF(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,s])},n)}var Vj=16,nGe=xr(30*vr);function zj(t,e){return+e?iGe(t,e):rGe(t)}function rGe(t){return DF({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function iGe(t,e){function n(r,i,o,a,s,l,c,u,d,f,h,p,x,b){var y=c-r,_=u-i,C=y*y+_*_;if(C>4*e&&x--){var E=a+f,M=s+h,R=l+p,N=hf(E*E+M*M+R*R),O=pf(R/=N),I=Pi(Pi(R)-1)<Lr||Pi(o-d)<Lr?(o+d)/2:Cc(M,E),L=t(I,O),F=L[0],$=L[1],V=F-r,U=$-i,k=_*V-y*U;(k*k/C>e||Pi((y*V+_*U)/C-.5)>.3||a*f+s*h+l*p<nGe)&&(n(r,i,o,a,s,l,F,$,I,E/=N,M/=N,R,x,b),b.point(F,$),n(F,$,I,E,M,R,c,u,d,f,h,p,x,b))}}return function(r){var i,o,a,s,l,c,u,d,f,h,p,x,b={point:y,lineStart:_,lineEnd:E,polygonStart:function(){r.polygonStart(),b.lineStart=M},polygonEnd:function(){r.polygonEnd(),b.lineStart=_}};function y(O,I){O=t(O,I),r.point(O[0],O[1])}function _(){d=NaN,b.point=C,r.lineStart()}function C(O,I){var L=n0([O,I]),F=t(O,I);n(d,f,u,h,p,x,d=F[0],f=F[1],u=O,h=L[0],p=L[1],x=L[2],Vj,r),r.point(d,f)}function E(){b.point=y,r.lineEnd()}function M(){_(),b.point=R,b.lineEnd=N}function R(O,I){C(i=O,I),o=d,a=f,s=h,l=p,c=x,b.point=C}function N(){n(d,f,u,h,p,x,o,a,i,s,l,c,Vj,r),b.lineEnd=E,E()}return b}}var oGe=DF({point:function(t,e){this.stream.point(t*vr,e*vr)}});function aGe(t){return DF({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function sGe(t,e,n,r,i){function o(a,s){return a*=r,s*=i,[e+t*a,n-t*s]}return o.invert=function(a,s){return[(a-e)/t*r,(n-s)/t*i]},o}function Gj(t,e,n,r,i,o){if(!o)return sGe(t,e,n,r,i);var a=xr(o),s=pr(o),l=a*t,c=s*t,u=a/t,d=s/t,f=(s*n-a*e)/t,h=(s*e+a*n)/t;function p(x,b){return x*=r,b*=i,[l*x-c*b+e,n-c*x-l*b]}return p.invert=function(x,b){return[r*(u*x-d*b+f),i*(h-d*x-u*b)]},p}function lGe(t){return cGe(function(){return t})()}function cGe(t){var e,n=150,r=480,i=250,o=0,a=0,s=0,l=0,c=0,u,d=0,f=1,h=1,p=null,x=Nj,b=null,y,_,C,E=Uj,M=.5,R,N,O,I,L;function F(k){return O(k[0]*vr,k[1]*vr)}function $(k){return k=O.invert(k[0],k[1]),k&&[k[0]*yo,k[1]*yo]}F.stream=function(k){return I&&L===k?I:I=oGe(aGe(u)(x(R(E(L=k)))))},F.preclip=function(k){return arguments.length?(x=k,p=void 0,U()):x},F.postclip=function(k){return arguments.length?(E=k,b=y=_=C=null,U()):E},F.clipAngle=function(k){return arguments.length?(x=+k?$ze(p=k*vr):(p=null,Nj),U()):p*yo},F.clipExtent=function(k){return arguments.length?(E=k==null?(b=y=_=C=null,Uj):kze(b=+k[0][0],y=+k[0][1],_=+k[1][0],C=+k[1][1]),U()):b==null?null:[[b,y],[_,C]]},F.scale=function(k){return arguments.length?(n=+k,V()):n},F.translate=function(k){return arguments.length?(r=+k[0],i=+k[1],V()):[r,i]},F.center=function(k){return arguments.length?(o=k[0]%360*vr,a=k[1]%360*vr,V()):[o*yo,a*yo]},F.rotate=function(k){return arguments.length?(s=k[0]%360*vr,l=k[1]%360*vr,c=k.length>2?k[2]%360*vr:0,V()):[s*yo,l*yo,c*yo]},F.angle=function(k){return arguments.length?(d=k%360*vr,V()):d*yo},F.reflectX=function(k){return arguments.length?(f=k?-1:1,V()):f<0},F.reflectY=function(k){return arguments.length?(h=k?-1:1,V()):h<0},F.precision=function(k){return arguments.length?(R=zj(N,M=k*k),U()):hf(M)},F.fitExtent=function(k,z){return yoe(F,k,z)},F.fitSize=function(k,z){return Jze(F,k,z)},F.fitWidth=function(k,z){return eGe(F,k,z)},F.fitHeight=function(k,z){return tGe(F,k,z)};function V(){var k=Gj(n,0,0,f,h,d).apply(null,e(o,a)),z=Gj(n,r-k[0],i-k[1],f,h,d);return u=hoe(s,l,c),N=U5(e,z),O=U5(u,N),R=zj(N,M),U()}function U(){return I=L=null,F}return function(){return e=t.apply(this,arguments),F.invert=e.invert&&$,V()}}function uGe(t){return function(e,n){var r=hf(e*e+n*n),i=t(r),o=pr(i),a=xr(i);return[Cc(e*o,r*a),pf(r&&n*o/r)]}}function LF(t,e){return[t,gze(vze((Ks+e)/2))]}LF.invert=function(t,e){return[t,2*PF(mze(e))-Ks]};function boe(t,e){var n=xr(e),r=1+xr(t)*n;return[n*pr(t)/r,pr(e)/r]}boe.invert=uGe(function(t){return 2*PF(t)});function dGe(){return lGe(boe).scale(250).clipAngle(142)}function j5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function fGe(t){if(Array.isArray(t))return t}function hGe(t){if(Array.isArray(t))return j5(t)}function Cb(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function pGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mGe(t,e,n){return e=bE(e),CGe(t,Soe()?Reflect.construct(e,[],bE(t).constructor):e.apply(t,n))}function xoe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nr(t,e){return t.get(Cb(t,e))}function Xf(t,e,n){xoe(t,e),e.set(t,n)}function Yf(t,e,n){return t.set(Cb(t,e),n),n}function AGe(t,e){xoe(t,e),e.add(t)}function vGe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,woe(r.key),r)}}function yGe(t,e,n){return e&&vGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dg(t,e,n){return(e=woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bE(t){return bE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bE(t)}function bGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q5(t,e)}function Soe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Soe=function(){return!!t})()}function xGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SGe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function _Ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CGe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pGe(t)}function q5(t,e){return q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},q5(t,e)}function OC(t,e){return fGe(t)||SGe(t,e)||Coe(t,e)||_Ge()}function _oe(t){return hGe(t)||xGe(t)||Coe(t)||wGe()}function TGe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function woe(t){var e=TGe(t,"string");return typeof e=="symbol"?e:e+""}function Coe(t,e){if(t){if(typeof t=="string")return j5(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j5(t,e):void 0}}var Toe=function(e){e instanceof Array?e.forEach(Toe):(e.map&&e.map.dispose(),e.dispose())},Eoe=function(e){e.geometry&&e.geometry.dispose(),e.material&&Toe(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(Eoe)},Hj=function(e){if(e&&e.children)for(;e.children.length;){var n=e.children[0];e.remove(n),Eoe(n)}};function Moe(t,e,n){var r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180;return{x:n*Math.sin(r)*Math.cos(i),y:n*Math.cos(r),z:n*Math.sin(r)*Math.sin(i)}}function EGe(t){var e=t.x,n=t.y,r=t.z,i=Math.sqrt(e*e+n*n+r*r),o=Math.acos(n/i),a=Math.atan2(r,e);return{lat:90-o*180/Math.PI,lng:90-a*180/Math.PI-(a<-Math.PI/2?360:0),r:i}}function Bp(t){return t*Math.PI/180}var Roe=function(e){return 1-(LF(0,(.5-e)*Math.PI)[1]/Math.PI+1)/2},PN=function(e){return Math.max(0,Math.min(1,Roe(e)))},jj=function(e){return .5-LF.invert(0,(2*(1-e)-1)*Math.PI)[1]/Math.PI},MGe=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=ff().domain([1,0]).range([n,r]).clamp(!0),o=ff().domain([PN(n),PN(r)]).range([1,0]).clamp(!0),a=function(d){return o(PN(i(d)))},s=e.array,l=0,c=s.length;l<c;l+=2)s[l+1]=a(s[l+1]);e.needsUpdate=!0},qj=function(e,n,r,i){var o=Math.pow(2,e),a=Math.max(0,Math.min(o-1,Math.floor((r+180)*o/360))),s=(90-i)/180;n&&(s=Math.max(0,Math.min(1,Roe(s))));var l=Math.floor(s*o);return[a,l]},W5=function(e,n){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,s=[],l=Math.pow(2,e),c=360/l,u=180/l,d=o===void 0?l-1:o,f=a===void 0?l-1:a,h=r,p=Math.min(l-1,d);h<=p;h++)for(var x=i,b=Math.min(l-1,f);x<=b;x++){var y=x,_=u;if(n){y=x===0?x:jj(x/l)*l;var C=x+1===l?x+1:jj((x+1)/l)*l;_=(C-y)*180/l}var E=-180+(h+.5)*c,M=90-(y*180/l+_/2),R=_;s.push({x:h,y:x,lng:E,lat:M,latLen:R})}return s},RGe=6,PGe=7,NGe=3,IGe=90,Hu=new WeakMap,dh=new WeakMap,NN=new WeakMap,rw=new WeakMap,Jl=new WeakMap,xE=new WeakMap,_A=new WeakMap,Fp=new WeakMap,iw=new WeakSet,DGe=function(t){function e(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.tileUrl,a=i.minLevel,s=a===void 0?0:a,l=i.maxLevel,c=l===void 0?17:l,u=i.mercatorProjection,d=u===void 0?!0:u;return gGe(this,e),r=mGe(this,e),AGe(r,iw),Xf(r,Hu,void 0),Xf(r,dh,void 0),Xf(r,NN,void 0),Xf(r,rw,void 0),Xf(r,Jl,{}),Xf(r,xE,void 0),Xf(r,_A,void 0),Xf(r,Fp,void 0),dg(r,"minLevel",void 0),dg(r,"maxLevel",void 0),dg(r,"thresholds",_oe(new Array(30)).map(function(f,h){return 8/Math.pow(2,h)})),dg(r,"curvatureResolution",5),dg(r,"tileMargin",0),dg(r,"clearTiles",function(){Object.values(Nr(Jl,r)).forEach(function(f){f.forEach(function(h){h.obj&&(r.remove(h.obj),Hj(h.obj),delete h.obj)})}),Yf(Jl,r,{})}),Yf(Hu,r,n),r.tileUrl=o,Yf(dh,r,d),r.minLevel=s,r.maxLevel=c,r.level=0,r.add(Yf(Fp,r,new Qr(new Sd(Nr(Hu,r)*.99,180,90),new oc({color:0})))),Nr(Fp,r).visible=!1,Nr(Fp,r).material.polygonOffset=!0,Nr(Fp,r).material.polygonOffsetUnits=3,Nr(Fp,r).material.polygonOffsetFactor=1,r}return bGe(e,t),yGe(e,[{key:"tileUrl",get:function(){return Nr(NN,this)},set:function(r){Yf(NN,this,r),this.updatePov(Nr(_A,this))}},{key:"level",get:function(){return Nr(rw,this)},set:function(r){var i,o=this;Nr(Jl,this)[r]||Cb(iw,this,OGe).call(this,r);var a=Nr(rw,this);if(Yf(rw,this,r),!(r===a||a===void 0)){if(Nr(Fp,this).visible=r>0,Nr(Jl,this)[r].forEach(function(l){return l.obj&&(l.obj.material.depthWrite=!0)}),a<r&&((i=Nr(Jl,this)[a])===null||i===void 0||i.forEach(function(l){return l.obj&&(l.obj.material.depthWrite=!1)})),a>r)for(var s=r+1;s<=a;s++)Nr(Jl,this)[s]&&Nr(Jl,this)[s].forEach(function(l){l.obj&&(o.remove(l.obj),Hj(l.obj),delete l.obj)});Cb(iw,this,Wj).call(this)}}},{key:"updatePov",value:function(r){var i=this;if(!(!r||!(r instanceof H2))){Yf(_A,this,r);var o;if(Yf(xE,this,function(u){if(!u.hullPnts){var d=360/Math.pow(2,i.level),f=u.lng,h=u.lat,p=u.latLen,x=f-d/2,b=f+d/2,y=h-p/2,_=h+p/2;u.hullPnts=[[h,f],[y,x],[_,x],[y,b],[_,b]].map(function(C){var E=OC(C,2),M=E[0],R=E[1];return Moe(M,R,Nr(Hu,i))}).map(function(C){var E=C.x,M=C.y,R=C.z;return new ve(E,M,R)})}return o||(o=new dy,r.updateMatrix(),r.updateMatrixWorld(),o.setFromProjectionMatrix(new ar().multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse))),u.hullPnts.some(function(C){return o.containsPoint(C.clone().applyMatrix4(i.matrixWorld))})}),this.tileUrl){var a=r.position.clone(),s=a.distanceTo(this.getWorldPosition(new ve)),l=(s-Nr(Hu,this))/Nr(Hu,this),c=this.thresholds.findIndex(function(u){return u&&u<=l});this.level=Math.min(this.maxLevel,Math.max(this.minLevel,c<0?this.thresholds.length:c)),Cb(iw,this,Wj).call(this)}}}}])}(Xs);function OGe(t){var e=this;if(t>PGe){Nr(Jl,this)[t]=[];return}var n=Nr(Jl,this)[t]=W5(t,Nr(dh,this));n.forEach(function(r){return r.centroid=Moe(r.lat,r.lng,Nr(Hu,e))}),n.octree=zie().x(function(r){return r.centroid.x}).y(function(r){return r.centroid.y}).z(function(r){return r.centroid.z}).addAll(n)}function Wj(){var t=this;if(!(!this.tileUrl||this.level===void 0||!Nr(Jl,this).hasOwnProperty(this.level))&&!(!Nr(xE,this)&&this.level>RGe)){var e=Nr(Jl,this)[this.level];if(Nr(_A,this)){var n=this.worldToLocal(Nr(_A,this).position.clone());if(e.octree){var r,i=this.worldToLocal(Nr(_A,this).position.clone()),o=(i.length()-Nr(Hu,this))*NGe;e=(r=e.octree).findAllWithinRadius.apply(r,_oe(i).concat([o]))}else{var a=EGe(n),s=(a.r/Nr(Hu,this)-1)*IGe,l=s/Math.cos(Bp(a.lat)),c=[a.lng-l,a.lng+l],u=[a.lat+s,a.lat-s],d=qj(this.level,Nr(dh,this),c[0],u[0]),f=OC(d,2),h=f[0],p=f[1],x=qj(this.level,Nr(dh,this),c[1],u[1]),b=OC(x,2),y=b[0],_=b[1];!e.record&&(e.record={});var C=e.record;if(!C.hasOwnProperty("".concat(Math.round((h+y)/2),"_").concat(Math.round((p+_)/2))))e=W5(this.level,Nr(dh,this),h,p,y,_).map(function(O){var I="".concat(O.x,"_").concat(O.y);return C.hasOwnProperty(I)?C[I]:(C[I]=O,e.push(O),O)});else{for(var E=[],M=h;M<=y;M++)for(var R=p;R<=_;R++){var N="".concat(M,"_").concat(R);C.hasOwnProperty(N)||(C[N]=W5(this.level,Nr(dh,this),M,R,M,R)[0],e.push(C[N])),E.push(C[N])}e=E}}}e.filter(function(O){return!O.obj}).filter(Nr(xE,this)||function(){return!0}).forEach(function(O){var I=O.x,L=O.y,F=O.lng,$=O.lat,V=O.latLen,U=360/Math.pow(2,t.level);if(!O.obj){var k=U*(1-t.tileMargin),z=V*(1-t.tileMargin),H=Bp(F),j=Bp(-$),X=new Qr(new Sd(Nr(Hu,t),Math.ceil(k/t.curvatureResolution),Math.ceil(z/t.curvatureResolution),Bp(90-k/2)+H,Bp(k),Bp(90-z/2)+j,Bp(z)),new Mf);if(Nr(dh,t)){var Y=[$+V/2,$-V/2].map(function(ue){return .5-ue/180}),J=OC(Y,2),ee=J[0],re=J[1];MGe(X.geometry.attributes.uv,ee,re)}O.obj=X}O.loading||(O.loading=!0,new xF().load(t.tileUrl(I,L,t.level),function(ue){var fe=O.obj;fe&&(ue.colorSpace=wa,fe.material.map=ue,fe.material.color=null,fe.material.needsUpdate=!0,t.add(fe)),O.loading=!1}))})}}function LGe(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=Poe(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c;if(r&&(o=kGe(t,e,o,n)),t.length>80*n){s=t[0],l=t[1];let u=s,d=l;for(let f=n;f<i;f+=n){const h=t[f],p=t[f+1];h<s&&(s=h),p<l&&(l=p),h>u&&(u=h),p>d&&(d=p)}c=Math.max(u-s,d-l),c=c!==0?32767/c:0}return zx(o,a,n,s,l,c,0),a}function Poe(t,e,n,r,i){let o;if(i===QGe(t,e,n,r)>0)for(let a=e;a<n;a+=r)o=Xj(a/r|0,t[a],t[a+1],o);else for(let a=n-r;a>=e;a-=r)o=Xj(a/r|0,t[a],t[a+1],o);return o&&Pv(o,o.next)&&(Hx(o),o=o.next),o}function r0(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Pv(n,n.next)||uo(n.prev,n,n.next)===0)){if(Hx(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function zx(t,e,n,r,i,o,a){if(!t)return;!a&&o&&jGe(t,r,i,o);let s=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(o?FGe(t,r,i,o):BGe(t)){e.push(l.i,t.i,c.i),Hx(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=$Ge(r0(t),e),zx(t,e,n,r,i,o,2)):a===2&&UGe(t,e,n,r,i,o):zx(r0(t),e,n,r,i,o,1);break}}}function BGe(t){const e=t.prev,n=t,r=t.next;if(uo(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,u=Math.min(i,o,a),d=Math.min(s,l,c),f=Math.max(i,o,a),h=Math.max(s,l,c);let p=r.next;for(;p!==e;){if(p.x>=u&&p.x<=f&&p.y>=d&&p.y<=h&&K1(i,s,o,l,a,c,p.x,p.y)&&uo(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function FGe(t,e,n,r){const i=t.prev,o=t,a=t.next;if(uo(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,d=o.y,f=a.y,h=Math.min(s,l,c),p=Math.min(u,d,f),x=Math.max(s,l,c),b=Math.max(u,d,f),y=X5(h,p,e,n,r),_=X5(x,b,e,n,r);let C=t.prevZ,E=t.nextZ;for(;C&&C.z>=y&&E&&E.z<=_;){if(C.x>=h&&C.x<=x&&C.y>=p&&C.y<=b&&C!==i&&C!==a&&K1(s,u,l,d,c,f,C.x,C.y)&&uo(C.prev,C,C.next)>=0||(C=C.prevZ,E.x>=h&&E.x<=x&&E.y>=p&&E.y<=b&&E!==i&&E!==a&&K1(s,u,l,d,c,f,E.x,E.y)&&uo(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;C&&C.z>=y;){if(C.x>=h&&C.x<=x&&C.y>=p&&C.y<=b&&C!==i&&C!==a&&K1(s,u,l,d,c,f,C.x,C.y)&&uo(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;E&&E.z<=_;){if(E.x>=h&&E.x<=x&&E.y>=p&&E.y<=b&&E!==i&&E!==a&&K1(s,u,l,d,c,f,E.x,E.y)&&uo(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function $Ge(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Pv(r,i)&&Ioe(r,n,n.next,i)&&Gx(r,i)&&Gx(i,r)&&(e.push(r.i,n.i,i.i),Hx(n),Hx(n.next),n=t=i),n=n.next}while(n!==t);return r0(n)}function UGe(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&XGe(a,s)){let l=Doe(a,s);a=r0(a,a.next),l=r0(l,l.next),zx(a,e,n,r,i,o,0),zx(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function kGe(t,e,n,r){const i=[];for(let o=0,a=e.length;o<a;o++){const s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=Poe(t,s,l,r,!1);c===c.next&&(c.steiner=!0),i.push(WGe(c))}i.sort(VGe);for(let o=0;o<i.length;o++)n=zGe(i[o],n);return n}function VGe(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function zGe(t,e){const n=GGe(t,e);if(!n)return e;const r=Doe(n,t);return r0(r,r.next),r0(n,n.next)}function GGe(t,e){let n=e;const r=t.x,i=t.y;let o=-1/0,a;if(Pv(t,n))return n;do{if(Pv(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const d=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=r&&d>o&&(o=d,a=n.x<n.next.x?n:n.next,d===r))return a}n=n.next}while(n!==e);if(!a)return null;const s=a,l=a.x,c=a.y;let u=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Noe(i<c?r:o,i,l,c,i<c?o:r,i,n.x,n.y)){const d=Math.abs(i-n.y)/(r-n.x);Gx(n,t)&&(d<u||d===u&&(n.x>a.x||n.x===a.x&&HGe(a,n)))&&(a=n,u=d)}n=n.next}while(n!==s);return a}function HGe(t,e){return uo(t.prev,t,e.prev)<0&&uo(e.next,t,t.next)<0}function jGe(t,e,n,r){let i=t;do i.z===0&&(i.z=X5(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,qGe(i)}function qGe(t){let e,n=1;do{let r=t,i;t=null;let o=null;for(e=0;r;){e++;let a=r,s=0;for(let c=0;c<n&&(s++,a=a.nextZ,!!a);c++);let l=n;for(;s>0||l>0&&a;)s!==0&&(l===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,s--):(i=a,a=a.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=a}o.nextZ=null,n*=2}while(e>1);return t}function X5(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function WGe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Noe(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function K1(t,e,n,r,i,o,a,s){return!(t===a&&e===s)&&Noe(t,e,n,r,i,o,a,s)}function XGe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!YGe(t,e)&&(Gx(t,e)&&Gx(e,t)&&KGe(t,e)&&(uo(t.prev,t,e.prev)||uo(t,e.prev,e))||Pv(t,e)&&uo(t.prev,t,t.next)>0&&uo(e.prev,e,e.next)>0)}function uo(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Pv(t,e){return t.x===e.x&&t.y===e.y}function Ioe(t,e,n,r){const i=aw(uo(t,e,n)),o=aw(uo(t,e,r)),a=aw(uo(n,r,t)),s=aw(uo(n,r,e));return!!(i!==o&&a!==s||i===0&&ow(t,n,e)||o===0&&ow(t,r,e)||a===0&&ow(n,t,r)||s===0&&ow(n,e,r))}function ow(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function aw(t){return t>0?1:t<0?-1:0}function YGe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ioe(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Gx(t,e){return uo(t.prev,t,t.next)<0?uo(t,e,t.next)>=0&&uo(t,t.prev,e)>=0:uo(t,e,t.prev)<0||uo(t,t.next,e)<0}function KGe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Doe(t,e){const n=Y5(t.i,t.x,t.y),r=Y5(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Xj(t,e,n,r){const i=Y5(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Hx(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Y5(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function QGe(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function SE(t){const e=[],n=[],r=t[0][0].length;let i=0,o=0;for(const a of t){for(const s of a)for(let l=0;l<r;l++)e.push(s[l]);o&&(i+=o,n.push(i)),o=a.length}return{vertices:e,holes:n,dimensions:r}}function K5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ZGe(t){if(Array.isArray(t))return t}function JGe(t){if(Array.isArray(t))return K5(t)}function eHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tHe(t,e,n){return e=_E(e),uHe(t,Ooe()?Reflect.construct(e,[],_E(t).constructor):e.apply(t,n))}function nHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rHe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function iHe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=BF(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{a||n.return==null||n.return()}finally{if(s)throw o}}}}function _E(t){return _E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_E(t)}function oHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q5(t,e)}function Ooe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ooe=function(){return!!t})()}function aHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sHe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function lHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uHe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eHe(t)}function Q5(t,e){return Q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Q5(t,e)}function l1(t,e){return ZGe(t)||sHe(t,e)||BF(t,e)||lHe()}function dHe(t){return JGe(t)||aHe(t)||BF(t)||cHe()}function BF(t,e){if(t){if(typeof t=="string")return K5(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K5(t,e):void 0}}var Yj=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=[],i=null;return e.forEach(function(o){if(i){var a=Qh(o,i)*180/Math.PI;if(a>n)for(var s=IF(i,o),l=i.length>2||o.length>2?kx(i[2]||0,o[2]||0):null,c=l?function(f){return[].concat(dHe(s(f)),[l(f)])}:s,u=1/Math.ceil(a/n),d=u;d<1;)r.push(c(d)),d+=u}r.push(i=o)}),r},Z5=typeof window<"u"&&window.THREE?window.THREE:{BufferGeometry:ei,Float32BufferAttribute:Gr},fHe=new Z5.BufferGeometry().setAttribute?"setAttribute":"addAttribute",Loe=function(t){function e(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;nHe(this,e),r=tHe(this,e),r.type="GeoJsonGeometry",r.parameters={geoJson:n,radius:i,resolution:o};var a=({Point:u,MultiPoint:d,LineString:f,MultiLineString:h,Polygon:p,MultiPolygon:x}[n.type]||function(){return[]})(n.coordinates,i),s=[],l=[],c=0;a.forEach(function(b){var y=s.length;c1({indices:s,vertices:l},b),r.addGroup(y,s.length-y,c++)}),s.length&&r.setIndex(s),l.length&&r[fHe]("position",new Z5.Float32BufferAttribute(l,3));function u(b,y){var _=IN(b[1],b[0],y+(b[2]||0)),C=[];return[{vertices:_,indices:C}]}function d(b,y){var _={vertices:[],indices:[]};return b.map(function(C){return u(C,y)}).forEach(function(C){var E=l1(C,1),M=E[0];c1(_,M)}),[_]}function f(b,y){for(var _=Yj(b,o).map(function(O){var I=l1(O,3),L=I[0],F=I[1],$=I[2],V=$===void 0?0:$;return IN(F,L,y+V)}),C=SE([_]),E=C.vertices,M=Math.round(E.length/3),R=[],N=1;N<M;N++)R.push(N-1,N);return[{vertices:E,indices:R}]}function h(b,y){var _={vertices:[],indices:[]};return b.map(function(C){return f(C,y)}).forEach(function(C){var E=l1(C,1),M=E[0];c1(_,M)}),[_]}function p(b,y){for(var _=b.map(function(k){return Yj(k,o).map(function(z){var H=l1(z,3),j=H[0],X=H[1],Y=H[2],J=Y===void 0?0:Y;return IN(X,j,y+J)})}),C=SE(_),E=C.vertices,M=C.holes,R=M[0]||1/0,N=E.slice(0,R*3),O=E.slice(R*3),I=new Set(M),L=Math.round(E.length/3),F=[],$=[],V=1;V<L;V++)I.has(V)||(V<R?F.push(V-1,V):$.push(V-1-R,V-R));var U=[{indices:F,vertices:N}];return M.length&&U.push({indices:$,vertices:O}),U}function x(b,y){var _={vertices:[],indices:[]},C={vertices:[],indices:[]};b.map(function(M){return p(M,y)}).forEach(function(M){var R=l1(M,2),N=R[0],O=R[1];c1(_,N),O&&c1(C,O)});var E=[_];return C.vertices.length&&E.push(C),E}return r}return oHe(e,t),rHe(e)}(Z5.BufferGeometry);function c1(t,e){var n=Math.round(t.vertices.length/3);Kj(t.vertices,e.vertices),Kj(t.indices,e.indices.map(function(r){return r+n}))}function Kj(t,e){var n=iHe(e),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;t.push(i)}}catch(o){n.e(o)}finally{n.f()}}function IN(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180;return[n*Math.sin(r)*Math.cos(i),n*Math.cos(r),n*Math.sin(r)*Math.sin(i)]}function hHe(t,e,n=!0){if(!e||!e.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!t.hasAttribute("position")||!t.hasAttribute("normal")||!t.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function r(a){if(a.normalized||a.isInterleavedBufferAttribute){const s=new Float32Array(a.count*a.itemSize);for(let l=0,c=0;l<a.count;l++)s[c++]=a.getX(l),s[c++]=a.getY(l),a.itemSize>2&&(s[c++]=a.getZ(l));return s}return a.array instanceof Float32Array?a.array:new Float32Array(a.array)}const i=t.index?t.toNonIndexed():t,o=e.generateTangents(r(i.attributes.position),r(i.attributes.normal),r(i.attributes.uv));if(n)for(let a=3;a<o.length;a+=4)o[a]*=-1;return i.setAttribute("tangent",new Zi(o,4)),t!==i&&t.copy(i),t}function pHe(t,e=!1){const n=t[0].index!==null,r=new Set(Object.keys(t[0].attributes)),i=new Set(Object.keys(t[0].morphAttributes)),o={},a={},s=t[0].morphTargetsRelative,l=new ei;let c=0;for(let u=0;u<t.length;++u){const d=t[u];let f=0;if(n!==(d.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const h in d.attributes){if(!r.has(h))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+h+'" attribute exists among all geometries, or in none of them.'),null;o[h]===void 0&&(o[h]=[]),o[h].push(d.attributes[h]),f++}if(f!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(s!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const h in d.morphAttributes){if(!i.has(h))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;a[h]===void 0&&(a[h]=[]),a[h].push(d.morphAttributes[h])}if(e){let h;if(n)h=d.index.count;else if(d.attributes.position!==void 0)h=d.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;l.addGroup(c,h,u),c+=h}}if(n){let u=0;const d=[];for(let f=0;f<t.length;++f){const h=t[f].index;for(let p=0;p<h.count;++p)d.push(h.getX(p)+u);u+=t[f].attributes.position.count}l.setIndex(d)}for(const u in o){const d=J5(o[u]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+u+" attribute."),null;l.setAttribute(u,d)}for(const u in a){const d=a[u][0].length;if(d===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[u]=[];for(let f=0;f<d;++f){const h=[];for(let x=0;x<a[u].length;++x)h.push(a[u][x][f]);const p=J5(h);if(!p)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+u+" morphAttribute."),null;l.morphAttributes[u].push(p)}}return l}function J5(t){let e,n,r,i=-1,o=0;for(let c=0;c<t.length;++c){const u=t[c];if(e===void 0&&(e=u.array.constructor),e!==u.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=u.itemSize),n!==u.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(r===void 0&&(r=u.normalized),r!==u.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(i===-1&&(i=u.gpuType),i!==u.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;o+=u.count*n}const a=new e(o),s=new Zi(a,n,r);let l=0;for(let c=0;c<t.length;++c){const u=t[c];if(u.isInterleavedBufferAttribute){const d=l/n;for(let f=0,h=u.count;f<h;f++)for(let p=0;p<n;p++){const x=u.getComponent(f,p);s.setComponent(f+d,p,x)}}else a.set(u.array,l);l+=u.count*n}return i!==void 0&&(s.gpuType=i),s}function mHe(t){return t.isInstancedInterleavedBufferAttribute||t.isInterleavedBufferAttribute?wE(t):t.isInstancedBufferAttribute?new Uh().copy(t):new Zi().copy(t)}function gHe(t){let e,n=0,r=0;for(let c=0,u=t.length;c<u;++c){const d=t[c];if(e===void 0&&(e=d.array.constructor),e!==d.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=d.array.length,r+=d.itemSize}const i=new dF(new e(n),r);let o=0;const a=[],s=["getX","getY","getZ","getW"],l=["setX","setY","setZ","setW"];for(let c=0,u=t.length;c<u;c++){const d=t[c],f=d.itemSize,h=d.count,p=new Ku(i,f,o,d.normalized);a.push(p),o+=f;for(let x=0;x<h;x++)for(let b=0;b<f;b++)p[l[b]](x,d[s[b]](x))}return a}function wE(t){const e=t.data.array.constructor,n=t.count,r=t.itemSize,i=t.normalized,o=new e(n*r);let a;t.isInstancedInterleavedBufferAttribute?a=new Uh(o,r,i,t.meshPerAttribute):a=new Zi(o,r,i);for(let s=0;s<n;s++)a.setX(s,t.getX(s)),r>=2&&a.setY(s,t.getY(s)),r>=3&&a.setZ(s,t.getZ(s)),r>=4&&a.setW(s,t.getW(s));return a}function AHe(t){const e=t.attributes,n=t.morphTargets,r=new Map;for(const i in e){const o=e[i];o.isInterleavedBufferAttribute&&(r.has(o)||r.set(o,wE(o)),e[i]=r.get(o))}for(const i in n){const o=n[i];o.isInterleavedBufferAttribute&&(r.has(o)||r.set(o,wE(o)),n[i]=r.get(o))}}function vHe(t){let e=0;for(const r in t.attributes){const i=t.getAttribute(r);e+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}const n=t.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,e}function yHe(t,e=1e-4){e=Math.max(e,Number.EPSILON);const n={},r=t.getIndex(),i=t.getAttribute("position"),o=r?r.count:i.count;let a=0;const s=Object.keys(t.attributes),l={},c={},u=[],d=["getX","getY","getZ","getW"],f=["setX","setY","setZ","setW"];for(let _=0,C=s.length;_<C;_++){const E=s[_],M=t.attributes[E];l[E]=new M.constructor(new M.array.constructor(M.count*M.itemSize),M.itemSize,M.normalized);const R=t.morphAttributes[E];R&&(c[E]||(c[E]=[]),R.forEach((N,O)=>{const I=new N.array.constructor(N.count*N.itemSize);c[E][O]=new N.constructor(I,N.itemSize,N.normalized)}))}const h=e*.5,p=Math.log10(1/e),x=Math.pow(10,p),b=h*x;for(let _=0;_<o;_++){const C=r?r.getX(_):_;let E="";for(let M=0,R=s.length;M<R;M++){const N=s[M],O=t.getAttribute(N),I=O.itemSize;for(let L=0;L<I;L++)E+=`${~~(O[d[L]](C)*x+b)},`}if(E in n)u.push(n[E]);else{for(let M=0,R=s.length;M<R;M++){const N=s[M],O=t.getAttribute(N),I=t.morphAttributes[N],L=O.itemSize,F=l[N],$=c[N];for(let V=0;V<L;V++){const U=d[V],k=f[V];if(F[k](a,O[U](C)),I)for(let z=0,H=I.length;z<H;z++)$[z][k](a,I[z][U](C))}}n[E]=a,u.push(a),a++}}const y=t.clone();for(const _ in t.attributes){const C=l[_];if(y.setAttribute(_,new C.constructor(C.array.slice(0,a*C.itemSize),C.itemSize,C.normalized)),_ in c)for(let E=0;E<c[_].length;E++){const M=c[_][E];y.morphAttributes[_][E]=new M.constructor(M.array.slice(0,a*M.itemSize),M.itemSize,M.normalized)}}return y.setIndex(u),y}function bHe(t,e){if(e===J8e)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===UG||e===eLe){let n=t.getIndex();if(n===null){const a=[],s=t.getAttribute("position");if(s!==void 0){for(let l=0;l<s.count;l++)a.push(l);t.setIndex(a),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(e===UG)for(let a=1;a<=r;a++)i.push(n.getX(0)),i.push(n.getX(a)),i.push(n.getX(a+1));else for(let a=0;a<r;a++)a%2===0?(i.push(n.getX(a)),i.push(n.getX(a+1)),i.push(n.getX(a+2))):(i.push(n.getX(a+2)),i.push(n.getX(a+1)),i.push(n.getX(a)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=t.clone();return o.setIndex(i),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}function xHe(t){const e=new ve,n=new ve,r=new ve,i=new ve,o=new ve,a=new ve,s=new ve,l=new ve,c=new ve;function u(X,Y,J,ee,re,ue,fe,oe){e.fromBufferAttribute(Y,re),n.fromBufferAttribute(Y,ue),r.fromBufferAttribute(Y,fe);const ce=X.morphTargetInfluences;if(J&&ce){s.set(0,0,0),l.set(0,0,0),c.set(0,0,0);for(let pe=0,ye=J.length;pe<ye;pe++){const xe=ce[pe],be=J[pe];xe!==0&&(i.fromBufferAttribute(be,re),o.fromBufferAttribute(be,ue),a.fromBufferAttribute(be,fe),ee?(s.addScaledVector(i,xe),l.addScaledVector(o,xe),c.addScaledVector(a,xe)):(s.addScaledVector(i.sub(e),xe),l.addScaledVector(o.sub(n),xe),c.addScaledVector(a.sub(r),xe)))}e.add(s),n.add(l),r.add(c)}X.isSkinnedMesh&&(X.applyBoneTransform(re,e),X.applyBoneTransform(ue,n),X.applyBoneTransform(fe,r)),oe[re*3+0]=e.x,oe[re*3+1]=e.y,oe[re*3+2]=e.z,oe[ue*3+0]=n.x,oe[ue*3+1]=n.y,oe[ue*3+2]=n.z,oe[fe*3+0]=r.x,oe[fe*3+1]=r.y,oe[fe*3+2]=r.z}const d=t.geometry,f=t.material;let h,p,x;const b=d.index,y=d.attributes.position,_=d.morphAttributes.position,C=d.morphTargetsRelative,E=d.attributes.normal,M=d.morphAttributes.position,R=d.groups,N=d.drawRange;let O,I,L,F,$,V,U;const k=new Float32Array(y.count*y.itemSize),z=new Float32Array(E.count*E.itemSize);if(b!==null)if(Array.isArray(f))for(O=0,L=R.length;O<L;O++)for($=R[O],V=Math.max($.start,N.start),U=Math.min($.start+$.count,N.start+N.count),I=V,F=U;I<F;I+=3)h=b.getX(I),p=b.getX(I+1),x=b.getX(I+2),u(t,y,_,C,h,p,x,k),u(t,E,M,C,h,p,x,z);else for(V=Math.max(0,N.start),U=Math.min(b.count,N.start+N.count),O=V,L=U;O<L;O+=3)h=b.getX(O),p=b.getX(O+1),x=b.getX(O+2),u(t,y,_,C,h,p,x,k),u(t,E,M,C,h,p,x,z);else if(Array.isArray(f))for(O=0,L=R.length;O<L;O++)for($=R[O],V=Math.max($.start,N.start),U=Math.min($.start+$.count,N.start+N.count),I=V,F=U;I<F;I+=3)h=I,p=I+1,x=I+2,u(t,y,_,C,h,p,x,k),u(t,E,M,C,h,p,x,z);else for(V=Math.max(0,N.start),U=Math.min(y.count,N.start+N.count),O=V,L=U;O<L;O+=3)h=O,p=O+1,x=O+2,u(t,y,_,C,h,p,x,k),u(t,E,M,C,h,p,x,z);const H=new Gr(k,3),j=new Gr(z,3);return{positionAttribute:y,normalAttribute:E,morphedPositionAttribute:H,morphedNormalAttribute:j}}function SHe(t){if(t.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),t;let e=t.groups;if(e=e.sort((a,s)=>a.materialIndex!==s.materialIndex?a.materialIndex-s.materialIndex:a.start-s.start),t.getIndex()===null){const a=t.getAttribute("position"),s=[];for(let l=0;l<a.count;l+=3)s.push(l,l+1,l+2);t.setIndex(s)}const n=t.getIndex(),r=[];for(let a=0;a<e.length;a++){const s=e[a],l=s.start,c=l+s.count;for(let u=l;u<c;u++)r.push(n.getX(u))}t.dispose(),t.setIndex(r);let i=0;for(let a=0;a<e.length;a++){const s=e[a];s.start=i,i+=s.count}let o=e[0];t.groups=[o];for(let a=1;a<e.length;a++){const s=e[a];o.materialIndex===s.materialIndex?o.count+=s.count:(o=s,t.groups.push(o))}return t}function _He(t,e=Math.PI/3){const n=Math.cos(e),r=(1+1e-10)*100,i=[new ve,new ve,new ve],o=new ve,a=new ve,s=new ve,l=new ve;function c(x){const b=~~(x.x*r),y=~~(x.y*r),_=~~(x.z*r);return`${b},${y},${_}`}const u=t.index?t.toNonIndexed():t,d=u.attributes.position,f={};for(let x=0,b=d.count/3;x<b;x++){const y=3*x,_=i[0].fromBufferAttribute(d,y+0),C=i[1].fromBufferAttribute(d,y+1),E=i[2].fromBufferAttribute(d,y+2);o.subVectors(E,C),a.subVectors(_,C);const M=new ve().crossVectors(o,a).normalize();for(let R=0;R<3;R++){const N=i[R],O=c(N);O in f||(f[O]=[]),f[O].push(M)}}const h=new Float32Array(d.count*3),p=new Zi(h,3,!1);for(let x=0,b=d.count/3;x<b;x++){const y=3*x,_=i[0].fromBufferAttribute(d,y+0),C=i[1].fromBufferAttribute(d,y+1),E=i[2].fromBufferAttribute(d,y+2);o.subVectors(E,C),a.subVectors(_,C),s.crossVectors(o,a).normalize();for(let M=0;M<3;M++){const R=i[M],N=c(R),O=f[N];l.set(0,0,0);for(let I=0,L=O.length;I<L;I++){const F=O[I];s.dot(F)>n&&l.add(F)}l.normalize(),p.setXYZ(y+M,l.x,l.y,l.z)}}return u.setAttribute("normal",p),u}const FF=Object.freeze(Object.defineProperty({__proto__:null,computeMikkTSpaceTangents:hHe,computeMorphedAttributes:xHe,deepCloneAttribute:mHe,deinterleaveAttribute:wE,deinterleaveGeometry:AHe,estimateBytesUsed:vHe,interleaveAttributes:gHe,mergeAttributes:J5,mergeGeometries:pHe,mergeGroups:SHe,mergeVertices:yHe,toCreasedNormals:_He,toTrianglesDrawMode:bHe},Symbol.toStringTag,{value:"Module"}));var Ht=function(t){return typeof t=="function"?t:typeof t=="string"?function(e){return e[t]}:function(e){return t}};function CE(t){"@babel/helpers - typeof";return CE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CE(t)}var wHe=/^\s+/,CHe=/\s+$/;function qn(t,e){if(t=t||"",e=e||{},t instanceof qn)return t;if(!(this instanceof qn))return new qn(t,e);var n=THe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}qn.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,a,s;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*a+.0722*s},setAlpha:function(e){return this._a=Boe(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Zj(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Zj(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Qj(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Qj(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Jj(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return PHe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Xi(this._r,255)*100)+"%",g:Math.round(Xi(this._g,255)*100)+"%",b:Math.round(Xi(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Xi(this._r,255)*100)+"%, "+Math.round(Xi(this._g,255)*100)+"%, "+Math.round(Xi(this._b,255)*100)+"%)":"rgba("+Math.round(Xi(this._r,255)*100)+"%, "+Math.round(Xi(this._g,255)*100)+"%, "+Math.round(Xi(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:zHe[Jj(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+eq(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=qn(e);r="#"+eq(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return qn(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(OHe,arguments)},brighten:function(){return this._applyModification(LHe,arguments)},darken:function(){return this._applyModification(BHe,arguments)},desaturate:function(){return this._applyModification(NHe,arguments)},saturate:function(){return this._applyModification(IHe,arguments)},greyscale:function(){return this._applyModification(DHe,arguments)},spin:function(){return this._applyModification(FHe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(kHe,arguments)},complement:function(){return this._applyCombination($He,arguments)},monochromatic:function(){return this._applyCombination(VHe,arguments)},splitcomplement:function(){return this._applyCombination(UHe,arguments)},triad:function(){return this._applyCombination(tq,[3])},tetrad:function(){return this._applyCombination(tq,[4])}};qn.fromRatio=function(t,e){if(CE(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Q1(t[r]));t=n}return qn(t,e)};function THe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return typeof t=="string"&&(t=qHe(t)),CE(t)=="object"&&(Dd(t.r)&&Dd(t.g)&&Dd(t.b)?(e=EHe(t.r,t.g,t.b),a=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Dd(t.h)&&Dd(t.s)&&Dd(t.v)?(r=Q1(t.s),i=Q1(t.v),e=RHe(t.h,r,i),a=!0,s="hsv"):Dd(t.h)&&Dd(t.s)&&Dd(t.l)&&(r=Q1(t.s),o=Q1(t.l),e=MHe(t.h,r,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=Boe(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function EHe(t,e,n){return{r:Xi(t,255)*255,g:Xi(e,255)*255,b:Xi(n,255)*255}}function Qj(t,e,n){t=Xi(t,255),e=Xi(e,255),n=Xi(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,a,s=(r+i)/2;if(r==i)o=a=0;else{var l=r-i;switch(a=s>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,l:s}}function MHe(t,e,n){var r,i,o;t=Xi(t,360),e=Xi(e,100),n=Xi(n,100);function a(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(e===0)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function Zj(t,e,n){t=Xi(t,255),e=Xi(e,255),n=Xi(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,a,s=r,l=r-i;if(a=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,v:s}}function RHe(t,e,n){t=Xi(t,360)*6,e=Xi(e,100),n=Xi(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],d=[o,o,s,n,n,a][l];return{r:c*255,g:u*255,b:d*255}}function Jj(t,e,n,r){var i=[nu(Math.round(t).toString(16)),nu(Math.round(e).toString(16)),nu(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function PHe(t,e,n,r,i){var o=[nu(Math.round(t).toString(16)),nu(Math.round(e).toString(16)),nu(Math.round(n).toString(16)),nu(Foe(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function eq(t,e,n,r){var i=[nu(Foe(r)),nu(Math.round(t).toString(16)),nu(Math.round(e).toString(16)),nu(Math.round(n).toString(16))];return i.join("")}qn.equals=function(t,e){return!t||!e?!1:qn(t).toRgbString()==qn(e).toRgbString()};qn.random=function(){return qn.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function NHe(t,e){e=e===0?0:e||10;var n=qn(t).toHsl();return n.s-=e/100,n.s=GM(n.s),qn(n)}function IHe(t,e){e=e===0?0:e||10;var n=qn(t).toHsl();return n.s+=e/100,n.s=GM(n.s),qn(n)}function DHe(t){return qn(t).desaturate(100)}function OHe(t,e){e=e===0?0:e||10;var n=qn(t).toHsl();return n.l+=e/100,n.l=GM(n.l),qn(n)}function LHe(t,e){e=e===0?0:e||10;var n=qn(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),qn(n)}function BHe(t,e){e=e===0?0:e||10;var n=qn(t).toHsl();return n.l-=e/100,n.l=GM(n.l),qn(n)}function FHe(t,e){var n=qn(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,qn(n)}function $He(t){var e=qn(t).toHsl();return e.h=(e.h+180)%360,qn(e)}function tq(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=qn(t).toHsl(),r=[qn(t)],i=360/e,o=1;o<e;o++)r.push(qn({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function UHe(t){var e=qn(t).toHsl(),n=e.h;return[qn(t),qn({h:(n+72)%360,s:e.s,l:e.l}),qn({h:(n+216)%360,s:e.s,l:e.l})]}function kHe(t,e,n){e=e||6,n=n||30;var r=qn(t).toHsl(),i=360/n,o=[qn(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(qn(r));return o}function VHe(t,e){e=e||6;for(var n=qn(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(qn({h:r,s:i,v:o})),o=(o+s)%1;return a}qn.mix=function(t,e,n){n=n===0?0:n||50;var r=qn(t).toRgb(),i=qn(e).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return qn(a)};qn.readability=function(t,e){var n=qn(t),r=qn(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};qn.isReadable=function(t,e,n){var r=qn.readability(t,e),i,o;switch(o=!1,i=WHe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};qn.mostReadable=function(t,e,n){var r=null,i=0,o,a,s,l;n=n||{},a=n.includeFallbackColors,s=n.level,l=n.size;for(var c=0;c<e.length;c++)o=qn.readability(t,e[c]),o>i&&(i=o,r=qn(e[c]));return qn.isReadable(t,r,{level:s,size:l})||!a?r:(n.includeFallbackColors=!1,qn.mostReadable(t,["#fff","#000"],n))};var e6=qn.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},zHe=qn.hexNames=GHe(e6);function GHe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Boe(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Xi(t,e){HHe(t)&&(t="100%");var n=jHe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function GM(t){return Math.min(1,Math.max(0,t))}function yl(t){return parseInt(t,16)}function HHe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function jHe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function nu(t){return t.length==1?"0"+t:""+t}function Q1(t){return t<=1&&(t=t*100+"%"),t}function Foe(t){return Math.round(parseFloat(t)*255).toString(16)}function nq(t){return yl(t)/255}var Gc=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Dd(t){return!!Gc.CSS_UNIT.exec(t)}function qHe(t){t=t.replace(wHe,"").replace(CHe,"").toLowerCase();var e=!1;if(e6[t])t=e6[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Gc.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Gc.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Gc.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Gc.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Gc.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Gc.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Gc.hex8.exec(t))?{r:yl(n[1]),g:yl(n[2]),b:yl(n[3]),a:nq(n[4]),format:e?"name":"hex8"}:(n=Gc.hex6.exec(t))?{r:yl(n[1]),g:yl(n[2]),b:yl(n[3]),format:e?"name":"hex"}:(n=Gc.hex4.exec(t))?{r:yl(n[1]+""+n[1]),g:yl(n[2]+""+n[2]),b:yl(n[3]+""+n[3]),a:nq(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Gc.hex3.exec(t))?{r:yl(n[1]+""+n[1]),g:yl(n[2]+""+n[2]),b:yl(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function WHe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function t6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function XHe(t){if(Array.isArray(t))return t}function YHe(t){if(Array.isArray(t))return t6(t)}function $oe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function KHe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function QHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ha(t,e){return t.get($oe(t,e))}function fg(t,e,n){KHe(t,e),e.set(t,n)}function sw(t,e,n){return t.set($oe(t,e),n),n}function ZHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sje(r.key),r)}}function JHe(t,e,n){return e&&ZHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function nje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ije(t,e){return XHe(t)||tje(t,e)||Uoe(t,e)||nje()}function oje(t){return YHe(t)||eje(t)||Uoe(t)||rje()}function aje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sje(t){var e=aje(t,"string");return typeof e=="symbol"?e:e+""}function Uoe(t,e){if(t){if(typeof t=="string")return t6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t6(t,e):void 0}}var hg=new WeakMap,u1=new WeakMap,pg=new WeakMap,DN=new WeakMap,ON=new WeakMap,LN=new WeakMap,lje=function(){function t(){QHe(this,t),fg(this,hg,new Map),fg(this,u1,new Map),fg(this,pg,function(e){return e}),fg(this,DN,function(){return{}}),fg(this,ON,function(){}),fg(this,LN,function(){})}return JHe(t,[{key:"getObj",value:function(n){return Ha(hg,this).get(Ha(pg,this).call(this,n))}},{key:"getData",value:function(n){return Ha(u1,this).get(n)}},{key:"entries",value:function(){return oje(Ha(u1,this).entries()).map(function(n){var r=ije(n,2),i=r[0],o=r[1];return[o,i]})}},{key:"id",value:function(n){return sw(pg,this,Ht(n)),this}},{key:"onCreateObj",value:function(n){return sw(DN,this,n),this}},{key:"onUpdateObj",value:function(n){return sw(ON,this,n),this}},{key:"onRemoveObj",value:function(n){return sw(LN,this,n),this}},{key:"digest",value:function(n){var r=this;n.filter(function(o){return!Ha(hg,r).has(Ha(pg,r).call(r,o))}).forEach(function(o){var a=Ha(DN,r).call(r,o);Ha(hg,r).set(Ha(pg,r).call(r,o),a),Ha(u1,r).set(a,o)});var i=new Map(n.map(function(o){return[Ha(pg,r).call(r,o),o]}));return Ha(hg,this).forEach(function(o,a){i.has(a)?Ha(ON,r).call(r,o,i.get(a)):(Ha(LN,r).call(r,o,a),Ha(hg,r).delete(a),Ha(u1,r).delete(o))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])}(),koe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ip,function(){return function(n){function r(o){if(i[o])return i[o].exports;var a=i[o]={exports:{},id:o,loaded:!1};return n[o].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(n,r,i){var o=i(1),a=function(){function s(l,c,u){l===void 0&&(l=NaN),c===void 0&&(c=NaN),u===void 0&&(u=!1),this._minFPS=c,this._maxFPS=l,this._timeScale=1,this._currentTick=0,this._currentTime=0,this._tickDeltaTime=0,this._isRunning=!1,this._maxInterval=isNaN(this._minFPS)?NaN:1e3/this._minFPS,this._minInterval=isNaN(this._maxFPS)?NaN:1e3/this._maxFPS,this._onResume=new o.default,this._onPause=new o.default,this._onTick=new o.default,this._onTickOncePerFrame=new o.default,u||this.resume()}return s.prototype.updateOnce=function(l){l(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},s.prototype.resume=function(){this._isRunning||(this._isRunning=!0,this._lastTimeUpdated=this.getTimer(),this._onResume.dispatch(),this.animateOnce())},s.prototype.pause=function(){this._isRunning&&(this._isRunning=!1,this._onPause.dispatch(),window.cancelAnimationFrame(this._animationFrameHandle))},s.prototype.dispose=function(){this.pause(),this._onResume.removeAll(),this._onPause.removeAll(),this._onTick.removeAll()},Object.defineProperty(s.prototype,"currentTick",{get:function(){return this._currentTick},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"currentTimeSeconds",{get:function(){return this._currentTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tickDeltaTimeSeconds",{get:function(){return this._tickDeltaTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"timeScale",{get:function(){return this._timeScale},set:function(l){this._timeScale!==l&&(this._timeScale=l)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"onResume",{get:function(){return this._onResume},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"onPause",{get:function(){return this._onPause},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"onTick",{get:function(){return this._onTick},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"onTickOncePerFrame",{get:function(){return this._onTickOncePerFrame},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!0,configurable:!0}),s.prototype.animateOnce=function(){var l=this;this._animationFrameHandle=window.requestAnimationFrame(function(){return l.onFrame()})},s.prototype.onFrame=function(){if(this._now=this.getTimer(),this._frameDeltaTime=this._now-this._lastTimeUpdated,isNaN(this._minInterval)||this._frameDeltaTime>=this._minInterval)if(isNaN(this._maxInterval))this.update(this._frameDeltaTime*this._timeScale,!0),this._lastTimeUpdated=this._now;else for(this._interval=Math.min(this._frameDeltaTime,this._maxInterval);this._now>=this._lastTimeUpdated+this._interval;)this.update(this._interval*this._timeScale,this._now<=this._lastTimeUpdated+2*this._maxInterval),this._lastTimeUpdated+=this._interval;this._isRunning&&this.animateOnce()},s.prototype.update=function(l,c){c===void 0&&(c=!0),this._currentTick++,this._currentTime+=l,this._tickDeltaTime=l,this._onTick.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick),c&&this._onTickOncePerFrame.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},s.prototype.getTimer=function(){return Date.now()},s}();Object.defineProperty(r,"__esModule",{value:!0}),r.default=a},function(n,r,i){(function(o,a){n.exports=a()})(this,function(){return function(o){function a(l){if(s[l])return s[l].exports;var c=s[l]={exports:{},id:l,loaded:!1};return o[l].call(c.exports,c,c.exports,a),c.loaded=!0,c.exports}var s={};return a.m=o,a.c=s,a.p="",a(0)}([function(o,a){var s=function(){function l(){this.functions=[]}return l.prototype.add=function(c){return this.functions.indexOf(c)===-1&&(this.functions.push(c),!0)},l.prototype.remove=function(c){var u=this.functions.indexOf(c);return u>-1&&(this.functions.splice(u,1),!0)},l.prototype.removeAll=function(){return this.functions.length>0&&(this.functions.length=0,!0)},l.prototype.dispatch=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=this.functions.concat();d.forEach(function(f){f.apply(void 0,c)})},Object.defineProperty(l.prototype,"numItems",{get:function(){return this.functions.length},enumerable:!0,configurable:!0}),l}();Object.defineProperty(a,"__esModule",{value:!0}),a.default=s}])})}])})})(koe);var cje=koe.exports;const Nv=sl(cje),Jd=11102230246251565e-32,ja=134217729,uje=(3+8*Jd)*Jd;function BN(t,e,n,r,i){let o,a,s,l,c=e[0],u=r[0],d=0,f=0;u>c==u>-c?(o=c,c=e[++d]):(o=u,u=r[++f]);let h=0;if(d<t&&f<n)for(u>c==u>-c?(a=c+o,s=o-(a-c),c=e[++d]):(a=u+o,s=o-(a-u),u=r[++f]),o=a,s!==0&&(i[h++]=s);d<t&&f<n;)u>c==u>-c?(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++d]):(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++f]),o=a,s!==0&&(i[h++]=s);for(;d<t;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++d],o=a,s!==0&&(i[h++]=s);for(;f<n;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++f],o=a,s!==0&&(i[h++]=s);return(o!==0||h===0)&&(i[h++]=o),h}function dje(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function Y2(t){return new Float64Array(t)}const fje=(3+16*Jd)*Jd,hje=(2+12*Jd)*Jd,pje=(9+64*Jd)*Jd*Jd,mg=Y2(4),rq=Y2(8),iq=Y2(12),oq=Y2(16),ds=Y2(4);function mje(t,e,n,r,i,o,a){let s,l,c,u,d,f,h,p,x,b,y,_,C,E,M,R,N,O;const I=t-i,L=n-i,F=e-o,$=r-o;E=I*$,f=ja*I,h=f-(f-I),p=I-h,f=ja*$,x=f-(f-$),b=$-x,M=p*b-(E-h*x-p*x-h*b),R=F*L,f=ja*F,h=f-(f-F),p=F-h,f=ja*L,x=f-(f-L),b=L-x,N=p*b-(R-h*x-p*x-h*b),y=M-N,d=M-y,mg[0]=M-(y+d)+(d-N),_=E+y,d=_-E,C=E-(_-d)+(y-d),y=C-R,d=C-y,mg[1]=C-(y+d)+(d-R),O=_+y,d=O-_,mg[2]=_-(O-d)+(y-d),mg[3]=O;let V=dje(4,mg),U=hje*a;if(V>=U||-V>=U||(d=t-I,s=t-(I+d)+(d-i),d=n-L,c=n-(L+d)+(d-i),d=e-F,l=e-(F+d)+(d-o),d=r-$,u=r-($+d)+(d-o),s===0&&l===0&&c===0&&u===0)||(U=pje*a+uje*Math.abs(V),V+=I*u+$*s-(F*c+L*l),V>=U||-V>=U))return V;E=s*$,f=ja*s,h=f-(f-s),p=s-h,f=ja*$,x=f-(f-$),b=$-x,M=p*b-(E-h*x-p*x-h*b),R=l*L,f=ja*l,h=f-(f-l),p=l-h,f=ja*L,x=f-(f-L),b=L-x,N=p*b-(R-h*x-p*x-h*b),y=M-N,d=M-y,ds[0]=M-(y+d)+(d-N),_=E+y,d=_-E,C=E-(_-d)+(y-d),y=C-R,d=C-y,ds[1]=C-(y+d)+(d-R),O=_+y,d=O-_,ds[2]=_-(O-d)+(y-d),ds[3]=O;const k=BN(4,mg,4,ds,rq);E=I*u,f=ja*I,h=f-(f-I),p=I-h,f=ja*u,x=f-(f-u),b=u-x,M=p*b-(E-h*x-p*x-h*b),R=F*c,f=ja*F,h=f-(f-F),p=F-h,f=ja*c,x=f-(f-c),b=c-x,N=p*b-(R-h*x-p*x-h*b),y=M-N,d=M-y,ds[0]=M-(y+d)+(d-N),_=E+y,d=_-E,C=E-(_-d)+(y-d),y=C-R,d=C-y,ds[1]=C-(y+d)+(d-R),O=_+y,d=O-_,ds[2]=_-(O-d)+(y-d),ds[3]=O;const z=BN(k,rq,4,ds,iq);E=s*u,f=ja*s,h=f-(f-s),p=s-h,f=ja*u,x=f-(f-u),b=u-x,M=p*b-(E-h*x-p*x-h*b),R=l*c,f=ja*l,h=f-(f-l),p=l-h,f=ja*c,x=f-(f-c),b=c-x,N=p*b-(R-h*x-p*x-h*b),y=M-N,d=M-y,ds[0]=M-(y+d)+(d-N),_=E+y,d=_-E,C=E-(_-d)+(y-d),y=C-R,d=C-y,ds[1]=C-(y+d)+(d-R),O=_+y,d=O-_,ds[2]=_-(O-d)+(y-d),ds[3]=O;const H=BN(z,iq,4,ds,oq);return oq[H-1]}function Z1(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),l=a-s,c=Math.abs(a+s);return Math.abs(l)>=fje*c?l:-mje(t,e,n,r,i,o,c)}const aq=Math.pow(2,-52),lw=new Uint32Array(512);class jx{static from(e,n=bje,r=xje){const i=e.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const s=e[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new jx(o)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=e.length>>1;let s=1/0,l=1/0,c=-1/0,u=-1/0;for(let I=0;I<a;I++){const L=e[2*I],F=e[2*I+1];L<s&&(s=L),F<l&&(l=F),L>c&&(c=L),F>u&&(u=F),this._ids[I]=I}const d=(s+c)/2,f=(l+u)/2;let h,p,x;for(let I=0,L=1/0;I<a;I++){const F=FN(d,f,e[2*I],e[2*I+1]);F<L&&(h=I,L=F)}const b=e[2*h],y=e[2*h+1];for(let I=0,L=1/0;I<a;I++){if(I===h)continue;const F=FN(b,y,e[2*I],e[2*I+1]);F<L&&F>0&&(p=I,L=F)}let _=e[2*p],C=e[2*p+1],E=1/0;for(let I=0;I<a;I++){if(I===h||I===p)continue;const L=vje(b,y,_,C,e[2*I],e[2*I+1]);L<E&&(x=I,E=L)}let M=e[2*x],R=e[2*x+1];if(E===1/0){for(let F=0;F<a;F++)this._dists[F]=e[2*F]-e[0]||e[2*F+1]-e[1];eA(this._ids,this._dists,0,a-1);const I=new Uint32Array(a);let L=0;for(let F=0,$=-1/0;F<a;F++){const V=this._ids[F],U=this._dists[V];U>$&&(I[L++]=V,$=U)}this.hull=I.subarray(0,L),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Z1(b,y,_,C,M,R)<0){const I=p,L=_,F=C;p=x,_=M,C=R,x=I,M=L,R=F}const N=yje(b,y,_,C,M,R);this._cx=N.x,this._cy=N.y;for(let I=0;I<a;I++)this._dists[I]=FN(e[2*I],e[2*I+1],N.x,N.y);eA(this._ids,this._dists,0,a-1),this._hullStart=h;let O=3;r[h]=n[x]=p,r[p]=n[h]=x,r[x]=n[p]=h,i[h]=0,i[p]=1,i[x]=2,o.fill(-1),o[this._hashKey(b,y)]=h,o[this._hashKey(_,C)]=p,o[this._hashKey(M,R)]=x,this.trianglesLen=0,this._addTriangle(h,p,x,-1,-1,-1);for(let I=0,L,F;I<this._ids.length;I++){const $=this._ids[I],V=e[2*$],U=e[2*$+1];if(I>0&&Math.abs(V-L)<=aq&&Math.abs(U-F)<=aq||(L=V,F=U,$===h||$===p||$===x))continue;let k=0;for(let Y=0,J=this._hashKey(V,U);Y<this._hashSize&&(k=o[(J+Y)%this._hashSize],!(k!==-1&&k!==r[k]));Y++);k=n[k];let z=k,H;for(;H=r[z],Z1(V,U,e[2*z],e[2*z+1],e[2*H],e[2*H+1])>=0;)if(z=H,z===k){z=-1;break}if(z===-1)continue;let j=this._addTriangle(z,$,r[z],-1,-1,i[z]);i[$]=this._legalize(j+2),i[z]=j,O++;let X=r[z];for(;H=r[X],Z1(V,U,e[2*X],e[2*X+1],e[2*H],e[2*H+1])<0;)j=this._addTriangle(X,$,H,i[$],-1,i[X]),i[$]=this._legalize(j+2),r[X]=X,O--,X=H;if(z===k)for(;H=n[z],Z1(V,U,e[2*H],e[2*H+1],e[2*z],e[2*z+1])<0;)j=this._addTriangle(H,$,z,-1,i[z],i[H]),this._legalize(j+2),i[H]=j,r[z]=z,O--,z=H;this._hullStart=n[$]=z,r[z]=n[X]=$,r[$]=X,o[this._hashKey(V,U)]=$,o[this._hashKey(e[2*z],e[2*z+1])]=z}this.hull=new Uint32Array(O);for(let I=0,L=this._hullStart;I<O;I++)this.hull[I]=L,L=r[L];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(gje(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const s=r[e],l=e-e%3;if(a=l+(e+2)%3,s===-1){if(o===0)break;e=lw[--o];continue}const c=s-s%3,u=l+(e+1)%3,d=c+(s+2)%3,f=n[a],h=n[e],p=n[u],x=n[d];if(Aje(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*x],i[2*x+1])){n[e]=x,n[s]=f;const y=r[d];if(y===-1){let C=this._hullStart;do{if(this._hullTri[C]===d){this._hullTri[C]=e;break}C=this._hullPrev[C]}while(C!==this._hullStart)}this._link(e,y),this._link(s,r[a]),this._link(a,d);const _=c+(s+1)%3;o<lw.length&&(lw[o++]=_)}else{if(o===0)break;e=lw[--o]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,o,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function gje(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function FN(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function Aje(t,e,n,r,i,o,a,s){const l=t-a,c=e-s,u=n-a,d=r-s,f=i-a,h=o-s,p=l*l+c*c,x=u*u+d*d,b=f*f+h*h;return l*(d*b-x*h)-c*(u*b-x*f)+p*(u*h-d*f)<0}function vje(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,d=l*l+c*c,f=.5/(a*c-s*l),h=(c*u-s*d)*f,p=(a*d-l*u)*f;return h*h+p*p}function yje(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,d=l*l+c*c,f=.5/(a*c-s*l),h=t+(c*u-s*d)*f,p=e+(a*d-l*u)*f;return{x:h,y:p}}function eA(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=t[i],a=e[o];let s=i-1;for(;s>=n&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{const i=n+r>>1;let o=n+1,a=r;d1(t,i,o),e[t[n]]>e[t[r]]&&d1(t,n,r),e[t[o]]>e[t[r]]&&d1(t,o,r),e[t[n]]>e[t[o]]&&d1(t,n,o);const s=t[o],l=e[s];for(;;){do o++;while(e[t[o]]<l);do a--;while(e[t[a]]>l);if(a<o)break;d1(t,o,a)}t[n+1]=t[a],t[a]=s,r-o+1>=a-n?(eA(t,e,o,r),eA(t,e,n,a-1)):(eA(t,e,n,a-1),eA(t,e,o,r))}}function d1(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function bje(t){return t[0]}function xje(t){return t[1]}function Sje(t,e){var n,r,i=0,o,a,s,l,c,u,d,f=t[0],h=t[1],p=e.length;for(n=0;n<p;n++){r=0;var x=e[n],b=x.length-1;if(u=x[0],u[0]!==x[b][0]&&u[1]!==x[b][1])throw new Error("First and last coordinates in a ring must be the same");for(a=u[0]-f,s=u[1]-h,r;r<b;r++){if(d=x[r+1],l=d[0]-f,c=d[1]-h,s===0&&c===0){if(l<=0&&a>=0||a<=0&&l>=0)return 0}else if(c>=0&&s<=0||c<=0&&s>=0){if(o=Z1(a,l,s,c,0,0),o===0)return 0;(o>0&&c>0&&s<=0||o<0&&c<=0&&s>0)&&i++}u=d,s=c,a=l}}return i%2!==0}function _je(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function wje(t){return t.type==="Feature"?t.geometry:t}function Cje(t,e,n={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const r=_je(t),i=wje(e),o=i.type,a=e.bbox;let s=i.coordinates;if(a&&Tje(r,a)===!1)return!1;o==="Polygon"&&(s=[s]);let l=!1;for(var c=0;c<s.length;++c){const u=Sje(r,s[c]);if(u===0)return!n.ignoreBoundary;u&&(l=!0)}return l}function Tje(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}var Eje=Cje;const sq=1e-6;class ym{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;const i=e+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>sq||Math.abs(this._y1-o)>sq)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class n6{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class Mje{constructor(e,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let x=0,b=0,y=r.length,_,C;x<y;x+=3,b+=2){const E=r[x]*2,M=r[x+1]*2,R=r[x+2]*2,N=e[E],O=e[E+1],I=e[M],L=e[M+1],F=e[R],$=e[R+1],V=I-N,U=L-O,k=F-N,z=$-O,H=(V*z-U*k)*2;if(Math.abs(H)<1e-9){if(o===void 0){o=a=0;for(const X of n)o+=e[X*2],a+=e[X*2+1];o/=n.length,a/=n.length}const j=1e9*Math.sign((o-N)*z-(a-O)*k);_=(N+F)/2-j*z,C=(O+$)/2+j*k}else{const j=1/H,X=V*V+U*U,Y=k*k+z*z;_=N+(z*X-U*Y)*j,C=O+(V*Y-k*X)*j}s[b]=_,s[b+1]=C}let l=n[n.length-1],c,u=l*4,d,f=e[2*l],h,p=e[2*l+1];i.fill(0);for(let x=0;x<n.length;++x)l=n[x],c=u,d=f,h=p,u=l*4,f=e[2*l],p=e[2*l+1],i[c+2]=i[u]=h-p,i[c+3]=i[u+1]=f-d}render(e){const n=e==null?e=new ym:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let u=0,d=r.length;u<d;++u){const f=r[u];if(f<u)continue;const h=Math.floor(u/3)*2,p=Math.floor(f/3)*2,x=a[h],b=a[h+1],y=a[p],_=a[p+1];this._renderSegment(x,b,y,_,e)}let l,c=o[o.length-1];for(let u=0;u<o.length;++u){l=c,c=o[u];const d=Math.floor(i[c]/3)*2,f=a[d],h=a[d+1],p=l*4,x=this._project(f,h,s[p+2],s[p+3]);x&&this._renderSegment(f,h,x[0],x[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new ym:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const r=n==null?n=new ym:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){const n=new n6;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,o){let a;const s=this._regioncode(e,n),l=this._regioncode(r,i);s===0&&l===0?(o.moveTo(e,n),o.lineTo(r,i)):(a=this._clipSegment(e,n,r,i,s,l))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){const n=this._clip(e);if(n)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){e:for(let o=0,a=n.length;o<a;o+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[o]===i[s]&&n[o+1]===i[s+1]&&n[(o+2)%a]===i[(s+l-2)%l]&&n[(o+3)%a]===i[(s+l-1)%l]){yield r;break e}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[e];if(a===-1)return null;const s=[];let l=a;do{const c=Math.floor(l/3);if(s.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==e)break;l=i[l]}while(l!==a&&l!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){const r=n.length;let i=null,o,a,s=n[r-2],l=n[r-1],c,u=this._regioncode(s,l),d,f=0;for(let h=0;h<r;h+=2)if(o=s,a=l,s=n[h],l=n[h+1],c=u,u=this._regioncode(s,l),c===0&&u===0)d=f,f=0,i?i.push(s,l):i=[s,l];else{let p,x,b,y,_;if(c===0){if((p=this._clipSegment(o,a,s,l,c,u))===null)continue;[x,b,y,_]=p}else{if((p=this._clipSegment(s,l,o,a,u,c))===null)continue;[y,_,x,b]=p,d=f,f=this._edgecode(x,b),d&&f&&this._edge(e,d,f,i,i.length),i?i.push(x,b):i=[x,b]}d=f,f=this._edgecode(y,_),d&&f&&this._edge(e,d,f,i,i.length),i?i.push(y,_):i=[y,_]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(e,d,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,o,a){const s=o<a;for(s&&([e,n,r,i,o,a]=[r,i,e,n,a,o]);;){if(o===0&&a===0)return s?[r,i,e,n]:[e,n,r,i];if(o&a)return null;let l,c,u=o||a;u&8?(l=e+(r-e)*(this.ymax-n)/(i-n),c=this.ymax):u&4?(l=e+(r-e)*(this.ymin-n)/(i-n),c=this.ymin):u&2?(c=n+(i-n)*(this.xmax-e)/(r-e),l=this.xmax):(c=n+(i-n)*(this.xmin-e)/(r-e),l=this.xmin),o?(e=l,n=c,o=this._regioncode(e,n)):(r=l,i=c,a=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,o,a){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(l[0],l[1]),s=this._clipFinite(e,s))for(let c=0,u=s.length,d,f=this._edgecode(s[u-2],s[u-1]);c<u;c+=2)d=f,f=this._edgecode(s[c],s[c+1]),d&&f&&(c=this._edge(e,d,f,s,c),u=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,n,r,i,o){for(;n!==r;){let a,s;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,s=this.ymin;break}(i[o]!==a||i[o+1]!==s)&&this.contains(e,a,s)&&(i.splice(o,0,a,s),o+=2)}return o}_project(e,n,r,i){let o=1/0,a,s,l;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<o&&(l=this.ymin,s=e+(o=a)*r)}else if(i>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<o&&(l=this.ymax,s=e+(o=a)*r)}if(r>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/r)<o&&(s=this.xmax,l=n+(o=a)*i)}else if(r<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/r)<o&&(s=this.xmin,l=n+(o=a)*i)}return[s,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}}const Rje=2*Math.PI,gg=Math.pow;function Pje(t){return t[0]}function Nje(t){return t[1]}function Ije(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const i=2*e[r],o=2*e[r+1],a=2*e[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}function Dje(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class $F{static from(e,n=Pje,r=Nje,i){return new $F("length"in e?Oje(e,n,r,i):Float64Array.from(Lje(e,n,r,i)))}constructor(e){this._delaunator=new jx(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&Ije(e)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],d=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let f=0,h=n.length/2;f<h;++f){const p=Dje(n[2*f],n[2*f+1],d);n[2*f]=p[0],n[2*f+1]=p[1]}this._delaunator=new jx(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const u=o[l%3===2?l-2:l+1];(r[l]===-1||a[u]===-1)&&(a[u]=l)}for(let l=0,c=i.length;l<c;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new Mje(this,e)}*neighbors(e){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:s}=this;if(s){const d=s.indexOf(e);d>0&&(yield s[d-1]),d<s.length-1&&(yield s[d+1]);return}const l=n[e];if(l===-1)return;let c=l,u=-1;do{if(yield u=a[c],c=c%3===2?c-2:c+1,a[c]!==e)return;if(c=o[c],c===-1){const d=r[(i[e]+1)%r.length];d!==u&&(yield d);return}}while(c!==l)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,e,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(e,n,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:s,triangles:l,points:c}=this;if(i[e]===-1||!c.length)return(e+1)%(c.length>>1);let u=e,d=gg(n-c[e*2],2)+gg(r-c[e*2+1],2);const f=i[e];let h=f;do{let p=l[h];const x=gg(n-c[p*2],2)+gg(r-c[p*2+1],2);if(x<d&&(d=x,u=p),h=h%3===2?h-2:h+1,l[h]!==e)break;if(h=s[h],h===-1){if(h=o[(a[e]+1)%o.length],h!==p&&gg(n-c[h*2],2)+gg(r-c[h*2+1],2)<d)return h;break}}while(h!==f);return u}render(e){const n=e==null?e=new ym:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,s=i.length;a<s;++a){const l=i[a];if(l<a)continue;const c=o[a]*2,u=o[l]*2;e.moveTo(r[c],r[c+1]),e.lineTo(r[u],r[u+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const r=e==null?e=new ym:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const s=i[o],l=i[o+1];e.moveTo(s+n,l),e.arc(s,l,n,0,Rje)}return r&&r.value()}renderHull(e){const n=e==null?e=new ym:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;e.moveTo(i[o],i[o+1]);for(let s=1;s<a;++s){const l=2*r[s];e.lineTo(i[l],i[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new n6;return this.renderHull(e),e.value()}renderTriangle(e,n){const r=n==null?n=new ym:void 0,{points:i,triangles:o}=this,a=o[e*=3]*2,s=o[e+1]*2,l=o[e+2]*2;return n.moveTo(i[a],i[a+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new n6;return this.renderTriangle(e,n),n.value()}}function Oje(t,e,n,r){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const s=t[a];o[a*2]=e.call(r,s,a,t),o[a*2+1]=n.call(r,s,a,t)}return o}function*Lje(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}const UF=Math.PI,lq=UF/2,cq=180/UF,uq=UF/180,Bje=Math.atan2,dq=Math.cos,Fje=Math.max,$je=Math.min,fq=Math.sin,Uje=Math.sign||function(t){return t>0?1:t<0?-1:0},Voe=Math.sqrt;function kje(t){return t>1?lq:t<-1?-lq:Math.asin(t)}function zoe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function wl(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function TE(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]}function EE(t){var e=Voe(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[t[0]/e,t[1]/e,t[2]/e]}function kF(t){return[Bje(t[1],t[0])*cq,kje(Fje(-1,$je(1,t[2])))*cq]}function id(t){const e=t[0]*uq,n=t[1]*uq,r=dq(n);return[r*dq(e),r*fq(e),fq(n)]}function VF(t){return t=t.map(e=>id(e)),zoe(t[0],wl(t[2],t[1]))}function Vje(t){const e=Gje(t),n=jje(e),r=Hje(n,t),i=Wje(n,t.length),o=zje(i,t),a=qje(n,t),{polygons:s,centers:l}=Xje(a,n,t),c=Yje(s),u=Qje(n,t),d=Kje(r,n);return{delaunay:e,edges:r,triangles:n,centers:l,neighbors:i,polygons:s,mesh:c,hull:u,urquhart:d,find:o}}function zje(t,e){function n(r,i){let o=r[0]-i[0],a=r[1]-i[1],s=r[2]-i[2];return o*o+a*a+s*s}return function(i,o,a){a===void 0&&(a=0);let s,l,c=a;const u=id([i,o]);do s=a,a=null,l=n(u,id(e[s])),t[s].forEach(d=>{let f=n(u,id(e[d]));if(f<l){l=f,a=d,c=d;return}});while(a!==null);return c}}function Gje(t){if(t.length<2)return{};let e=0;for(;isNaN(t[e][0]+t[e][1])&&e++<t.length;);const n=Nze(t[e]),r=dGe().translate([0,0]).scale(1).rotate(n.invert([180,0]));t=t.map(r);const i=[];let o=1;for(let d=0,f=t.length;d<f;d++){let h=t[d][0]**2+t[d][1]**2;!isFinite(h)||h>1e32?i.push(d):h>o&&(o=h)}const a=1e6*Voe(o);i.forEach(d=>t[d]=[a,0]),t.push([0,a]),t.push([-a,0]),t.push([0,-a]);const s=$F.from(t);s.projection=r;const{triangles:l,halfedges:c,inedges:u}=s;for(let d=0,f=c.length;d<f;d++)if(c[d]<0){const h=d%3==2?d-2:d+1,p=d%3==0?d+2:d-1,x=c[h],b=c[p];c[x]=b,c[b]=x,c[h]=c[p]=-1,l[d]=l[h]=l[p]=e,u[l[x]]=x%3==0?x+2:x-1,u[l[b]]=b%3==0?b+2:b-1,d+=2-d%3}else l[d]>t.length-3-1&&(l[d]=e);return s}function Hje(t,e){const n=new Set;return e.length===2?[[0,1]]:(t.forEach(r=>{if(r[0]!==r[1]&&!(VF(r.map(i=>e[i]))<0))for(let i=0,o;i<3;i++)o=(i+1)%3,n.add(QT([r[i],r[o]]).join("-"))}),Array.from(n,r=>r.split("-").map(Number)))}function jje(t){const{triangles:e}=t;if(!e)return[];const n=[];for(let r=0,i=e.length/3;r<i;r++){const o=e[3*r],a=e[3*r+1],s=e[3*r+2];o!==a&&a!==s&&n.push([o,s,a])}return n}function qje(t,e){return t.map(n=>{const r=n.map(o=>e[o]).map(id),i=TE(TE(wl(r[1],r[0]),wl(r[2],r[1])),wl(r[0],r[2]));return kF(EE(i))})}function Wje(t,e){const n=[];return t.forEach(r=>{for(let i=0;i<3;i++){const o=r[i],a=r[(i+1)%3];n[o]=n[o]||[],n[o].push(a)}}),t.length===0&&(e===2?(n[0]=[1],n[1]=[0]):e===1&&(n[0]=[])),n}function Xje(t,e,n){const r=[],i=t.slice();if(e.length===0){if(n.length<2)return{polygons:r,centers:i};if(n.length===2){const s=id(n[0]),l=id(n[1]),c=EE(TE(s,l)),u=EE(wl(s,l)),d=wl(c,u),f=[c,wl(c,d),wl(wl(c,d),d),wl(wl(wl(c,d),d),d)].map(kF).map(a);return r.push(f),r.push(f.slice().reverse()),{polygons:r,centers:i}}}e.forEach((s,l)=>{for(let c=0;c<3;c++){const u=s[c],d=s[(c+1)%3],f=s[(c+2)%3];r[u]=r[u]||[],r[u].push([d,f,l,[u,d,f]])}});const o=r.map(s=>{const l=[s[0][2]];let c=s[0][1];for(let u=1;u<s.length;u++)for(let d=0;d<s.length;d++)if(s[d][0]==c){c=s[d][1],l.push(s[d][2]);break}if(l.length>2)return l;if(l.length==2){const u=hq(n[s[0][3][0]],n[s[0][3][1]],i[l[0]]),d=hq(n[s[0][3][2]],n[s[0][3][0]],i[l[0]]),f=a(u),h=a(d);return[l[0],h,l[1],f]}});function a(s){let l=-1;return i.slice(e.length,1/0).forEach((c,u)=>{c[0]===s[0]&&c[1]===s[1]&&(l=u+e.length)}),l<0&&(l=i.length,i.push(s)),l}return{polygons:o,centers:i}}function hq(t,e,n){t=id(t),e=id(e),n=id(n);const r=Uje(zoe(wl(e,t),n));return kF(EE(TE(t,e)).map(i=>r*i))}function Yje(t){const e=[];return t.forEach(n=>{if(!n)return;let r=n[n.length-1];for(let i of n)i>r&&e.push([r,i]),r=i}),e}function Kje(t,e){return function(n){const r=new Map,i=new Map;return t.forEach((o,a)=>{const s=o.join("-");r.set(s,n[a]),i.set(s,!0)}),e.forEach(o=>{let a=0,s=-1;for(let l=0;l<3;l++){let c=QT([o[l],o[(l+1)%3]]).join("-");r.get(c)>a&&(a=r.get(c),s=c)}i.set(s,!1)}),t.map(o=>i.get(o.join("-")))}}function Qje(t,e){const n=new Set,r=[];t.map(s=>{if(!(VF(s.map(l=>e[l>e.length?0:l]))>1e-12))for(let l=0;l<3;l++){let c=[s[l],s[(l+1)%3]],u=`${c[0]}-${c[1]}`;n.has(u)?n.delete(u):n.add(`${c[1]}-${c[0]}`)}});const i=new Map;let o;if(n.forEach(s=>{s=s.split("-").map(Number),i.set(s[0],s[1]),o=s[0]}),o===void 0)return r;let a=o;do{r.push(a);let s=i.get(a);i.set(a,-1),a=s}while(a>-1&&a!==o);return r}function Zje(t){const e=function(n){if(e.delaunay=null,e._data=n,typeof e._data=="object"&&e._data.type==="FeatureCollection"&&(e._data=e._data.features),typeof e._data=="object"){const r=e._data.map(i=>[e._vx(i),e._vy(i),i]).filter(i=>isFinite(i[0]+i[1]));e.points=r.map(i=>[i[0],i[1]]),e.valid=r.map(i=>i[2]),e.delaunay=Vje(e.points)}return e};return e._vx=function(n){if(typeof n=="object"&&"type"in n)return Cj(n)[0];if(0 in n)return n[0]},e._vy=function(n){if(typeof n=="object"&&"type"in n)return Cj(n)[1];if(1 in n)return n[1]},e.x=function(n){return n?(e._vx=n,e):e._vx},e.y=function(n){return n?(e._vy=n,e):e._vy},e.polygons=function(n){if(n!==void 0&&e(n),!e.delaunay)return!1;const r={type:"FeatureCollection",features:[]};return e.valid.length===0||(e.delaunay.polygons.forEach((i,o)=>r.features.push({type:"Feature",geometry:i?{type:"Polygon",coordinates:[[...i,i[0]].map(a=>e.delaunay.centers[a])]}:null,properties:{site:e.valid[o],sitecoordinates:e.points[o],neighbours:e.delaunay.neighbors[o]}})),e.valid.length===1&&r.features.push({type:"Feature",geometry:{type:"Sphere"},properties:{site:e.valid[0],sitecoordinates:e.points[0],neighbours:[]}})),r},e.triangles=function(n){return n!==void 0&&e(n),e.delaunay?{type:"FeatureCollection",features:e.delaunay.triangles.map((r,i)=>(r=r.map(o=>e.points[o]),r.center=e.delaunay.centers[i],r)).filter(r=>VF(r)>0).map(r=>({type:"Feature",properties:{circumcenter:r.center},geometry:{type:"Polygon",coordinates:[[...r,r[0]]]}}))}:!1},e.links=function(n){if(n!==void 0&&e(n),!e.delaunay)return!1;const r=e.delaunay.edges.map(o=>Qh(e.points[o[0]],e.points[o[1]])),i=e.delaunay.urquhart(r);return{type:"FeatureCollection",features:e.delaunay.edges.map((o,a)=>({type:"Feature",properties:{source:e.valid[o[0]],target:e.valid[o[1]],length:r[a],urquhart:!!i[a]},geometry:{type:"LineString",coordinates:[e.points[o[0]],e.points[o[1]]]}}))}},e.mesh=function(n){return n!==void 0&&e(n),e.delaunay?{type:"MultiLineString",coordinates:e.delaunay.edges.map(r=>[e.points[r[0]],e.points[r[1]]])}:!1},e.cellMesh=function(n){if(n!==void 0&&e(n),!e.delaunay)return!1;const{centers:r,polygons:i}=e.delaunay,o=[];for(const a of i)if(a)for(let s=a.length,l=a[s-1],c=a[0],u=0;u<s;l=c,c=a[++u])c>l&&o.push([r[l],r[c]]);return{type:"MultiLineString",coordinates:o}},e._found=void 0,e.find=function(n,r,i){if(e._found=e.delaunay.find(n,r,e._found),!i||Qh([n,r],e.points[e._found])<i)return e._found},e.hull=function(n){n!==void 0&&e(n);const r=e.delaunay.hull,i=e.points;return r.length===0?null:{type:"Polygon",coordinates:[[...r.map(o=>i[o]),i[r[0]]]]}},t?e(t):e}function r6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Jje(t){if(Array.isArray(t))return t}function eqe(t){if(Array.isArray(t))return r6(t)}function tqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nqe(t,e,n){return e=ME(e),uqe(t,Goe()?Reflect.construct(e,[],ME(t).constructor):e.apply(t,n))}function rqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iqe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function ME(t){return ME=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ME(t)}function oqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i6(t,e)}function Goe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Goe=function(){return!!t})()}function aqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sqe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function lqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uqe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tqe(t)}function i6(t,e){return i6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},i6(t,e)}function ju(t,e){return Jje(t)||sqe(t,e)||Hoe(t,e)||lqe()}function $N(t){return eqe(t)||aqe(t)||Hoe(t)||cqe()}function Hoe(t,e){if(t){if(typeof t=="string")return r6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r6(t,e):void 0}}function dqe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.resolution,r=n===void 0?1/0:n,i=fqe(t,r),o=Fx(i),a=hqe(t,r),s=[].concat($N(o),$N(a)),l={type:"Polygon",coordinates:t},c=coe(l),u=ju(c,2),d=ju(u[0],2),f=d[0],h=d[1],p=ju(u[1],2),x=p[0],b=p[1],y=f>x||b>=89||h<=-89,_=[];if(y){var C=Zje(s).triangles(),E=new Map(s.map(function(H,j){var X=ju(H,2),Y=X[0],J=X[1];return["".concat(Y,"-").concat(J),j]}));C.features.forEach(function(H){var j,X=H.geometry.coordinates[0].slice(0,3).reverse(),Y=[];if(X.forEach(function(ee){var re=ju(ee,2),ue=re[0],fe=re[1],oe="".concat(ue,"-").concat(fe);E.has(oe)&&Y.push(E.get(oe))}),Y.length===3){if(Y.some(function(ee){return ee<o.length})){var J=H.properties.circumcenter;if(!o6(J,l,y))return}(j=_).push.apply(j,Y)}})}else if(a.length)for(var I=jx.from(s),L=function(j){var X,Y=[2,1,0].map(function(re){return I.triangles[j+re]}),J=Y.map(function(re){return s[re]});if(Y.some(function(re){return re<o.length})){var ee=[0,1].map(function(re){return wVe(J,function(ue){return ue[re]})});if(!o6(ee,l,y))return 1}(X=_).push.apply(X,$N(Y))},F=0,$=I.triangles.length;F<$;F+=3)L(F);else{var M=SE(i),R=M.vertices,N=M.holes,O=N===void 0?[]:N;_=LGe(R,O,2)}var V=ff(QT(s,function(H){return H[0]}),[0,1]),U=ff(QT(s,function(H){return H[1]}),[0,1]),k=s.map(function(H){var j=ju(H,2),X=j[0],Y=j[1];return[V(X),U(Y)]}),z={points:s,indices:_,uvs:k};return{contour:i,triangles:z}}function fqe(t,e){return t.map(function(n){var r=[],i;return n.forEach(function(o){if(i){var a=Qh(o,i)*180/Math.PI;if(a>e)for(var s=IF(i,o),l=1/Math.ceil(a/e),c=l;c<1;)r.push(s(c)),c+=l}r.push(i=o)}),r})}function hqe(t,e){var n={type:"Polygon",coordinates:t},r=coe(n),i=ju(r,2),o=ju(i[0],2),a=o[0],s=o[1],l=ju(i[1],2),c=l[0],u=l[1];if(Math.min(Math.abs(c-a),Math.abs(u-s))<e)return[];var d=a>c||u>=89||s<=-89;return pqe(e,{minLng:a,maxLng:c,minLat:s,maxLat:u}).filter(function(f){return o6(f,n,d)})}function pqe(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minLng,r=e.maxLng,i=e.minLat,o=e.maxLat,a=Math.round(Math.pow(360/t,2)/Math.PI),s=(1+Math.sqrt(5))/2,l=function(y){return y/s*360%360-180},c=function(y){return Math.acos(2*y/a-1)/Math.PI*180-90},u=function(y){return a*(Math.cos((y+90)*Math.PI/180)+1)/2},d=[o!==void 0?Math.ceil(u(o)):0,i!==void 0?Math.floor(u(i)):a-1],f=n===void 0&&r===void 0?function(){return!0}:n===void 0?function(b){return b<=r}:r===void 0?function(b){return b>=n}:r>=n?function(b){return b>=n&&b<=r}:function(b){return b>=n||b<=r},h=[],p=d[0];p<=d[1];p++){var x=l(p);f(x)&&h.push([x,c(p)])}return h}function o6(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n?Xze(e,t):Eje(t,e)}var LC=window.THREE?window.THREE:{BufferGeometry:ei,Float32BufferAttribute:Gr},pq=new LC.BufferGeometry().setAttribute?"setAttribute":"addAttribute",zF=function(t){function e(n,r,i,o,a,s,l){var c;rqe(this,e),c=nqe(this,e),c.type="ConicPolygonGeometry",c.parameters={polygonGeoJson:n,bottomHeight:r,topHeight:i,closedBottom:o,closedTop:a,includeSides:s,curvatureResolution:l},r=r||0,i=i||1,o=o!==void 0?o:!0,a=a!==void 0?a:!0,s=s!==void 0?s:!0,l=l||5;var u=dqe(n,{resolution:l}),d=u.contour,f=u.triangles,h=Fx(f.uvs),p=[],x=[],b=[],y=0,_=function(N){var O=Math.round(p.length/3),I=b.length;p=p.concat(N.vertices),x=x.concat(N.uvs),b=b.concat(O?N.indices.map(function(L){return L+O}):N.indices),c.addGroup(I,b.length-I,y++)};s&&_(E()),o&&_(M(r,!1)),a&&_(M(i,!0)),c.setIndex(b),c[pq]("position",new LC.Float32BufferAttribute(p,3)),c[pq]("uv",new LC.Float32BufferAttribute(x,2)),c.computeVertexNormals();function C(R,N){var O=typeof N=="function"?N:function(){return N},I=R.map(function(L){return L.map(function(F){var $=ju(F,2),V=$[0],U=$[1];return mqe(U,V,O(V,U))})});return SE(I)}function E(){for(var R=C(d,r),N=R.vertices,O=R.holes,I=C(d,i),L=I.vertices,F=Fx([L,N]),$=Math.round(L.length/3),V=new Set(O),U=0,k=[],z=0;z<$;z++){var H=z+1;if(H===$)H=U;else if(V.has(H)){var j=H;H=U,U=j}k.push(z,z+$,H+$),k.push(H+$,H,z)}for(var X=[],Y=1;Y>=0;Y--)for(var J=0;J<$;J+=1)X.push(J/($-1),Y);return{indices:k,vertices:F,uvs:X}}function M(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{indices:N?f.indices:f.indices.slice().reverse(),vertices:C([f.points],R).vertices,uvs:h}}return c}return oqe(e,t),iqe(e)}(LC.BufferGeometry);function mqe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180;return[n*Math.sin(r)*Math.cos(i),n*Math.cos(r),n*Math.sin(r)*Math.sin(i)]}function a6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function gqe(t){if(Array.isArray(t))return t}function Aqe(t){if(Array.isArray(t))return a6(t)}function vqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yqe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function bqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sqe(t,e){if(t==null)return{};var n,r,i=_qe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _qe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function wqe(t,e){return gqe(t)||yqe(t,e)||joe(t,e)||bqe()}function Cqe(t){return Aqe(t)||vqe(t)||joe(t)||xqe()}function Tqe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Eqe(t){var e=Tqe(t,"string");return typeof e=="symbol"?e:e+""}function joe(t,e){if(t){if(typeof t=="string")return a6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a6(t,e):void 0}}var Mqe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(s){return{keyAccessor:s,isProp:!(s instanceof Function)}}),o=t.reduce(function(s,l){var c=s,u=l;return i.forEach(function(d,f){var h=d.keyAccessor,p=d.isProp,x;if(p){var b=u,y=b[h],_=Sqe(b,[h].map(Eqe));x=y,u=_}else x=h(u,f);f+1<i.length?(c.hasOwnProperty(x)||(c[x]={}),c=c[x]):n?(c.hasOwnProperty(x)||(c[x]=[]),c[x].push(u)):c[x]=u}),s},{});n instanceof Function&&function s(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;c===i.length?Object.keys(l).forEach(function(u){return l[u]=n(l[u])}):Object.values(l).forEach(function(u){return s(u,c+1)})}(o);var a=o;return r&&(a=[],function s(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];c.length===i.length?a.push({keys:c,vals:l}):Object.entries(l).forEach(function(u){var d=wqe(u,2),f=d[0],h=d[1];return s(h,[].concat(Cqe(c),[f]))})}(o),e instanceof Array&&e.length===0&&a.length===1&&(a[0].keys=[])),a},Vr=function(t){t=t||{};var e=typeof t<"u"?t:{},n={},r;for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);var i="";function o(Le){return e.locateFile?e.locateFile(Le,i):i+Le}var a;typeof document<"u"&&document.currentScript&&(i=document.currentScript.src),i.indexOf("blob:")!==0?i=i.substr(0,i.lastIndexOf("/")+1):i="",a=function(st,gt,ht){var m=new XMLHttpRequest;m.open("GET",st,!0),m.responseType="arraybuffer",m.onload=function(){if(m.status==200||m.status==0&&m.response){gt(m.response);return}var on=Mt(st);if(on){gt(on.buffer);return}ht()},m.onerror=ht,m.send(null)};var s=e.print||console.log.bind(console),l=e.printErr||console.warn.bind(console);for(r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);n=null,e.arguments&&e.arguments;var c=0,u=function(Le){c=Le},d=function(){return c},f=8;function h(Le,st,gt,ht){switch(gt=gt||"i8",gt.charAt(gt.length-1)==="*"&&(gt="i32"),gt){case"i1":$[Le>>0]=st;break;case"i8":$[Le>>0]=st;break;case"i16":U[Le>>1]=st;break;case"i32":k[Le>>2]=st;break;case"i64":_e=[st>>>0,(K=st,+Ne(K)>=1?K>0?(de(+me(K/4294967296),4294967295)|0)>>>0:~~+Ae((K-+(~~K>>>0))/4294967296)>>>0:0)],k[Le>>2]=_e[0],k[Le+4>>2]=_e[1];break;case"float":z[Le>>2]=st;break;case"double":H[Le>>3]=st;break;default:It("invalid type for setValue: "+gt)}}function p(Le,st,gt){switch(st=st||"i8",st.charAt(st.length-1)==="*"&&(st="i32"),st){case"i1":return $[Le>>0];case"i8":return $[Le>>0];case"i16":return U[Le>>1];case"i32":return k[Le>>2];case"i64":return k[Le>>2];case"float":return z[Le>>2];case"double":return H[Le>>3];default:It("invalid type for getValue: "+st)}return null}var x=!1;function b(Le,st){Le||It("Assertion failed: "+st)}function y(Le){var st=e["_"+Le];return b(st,"Cannot call unknown function "+Le+", make sure it is exported"),st}function _(Le,st,gt,ht,m){var te={string:function(wt){var Zt=0;if(wt!=null&&wt!==0){var Mn=(wt.length<<2)+1;Zt=Tt(Mn),O(wt,Zt,Mn)}return Zt},array:function(wt){var Zt=Tt(wt.length);return I(wt,Zt),Zt}};function on(wt){return st==="string"?R(wt):st==="boolean"?!!wt:wt}var xn=y(Le),Gn=[],cn=0;if(ht)for(var In=0;In<ht.length;In++){var dr=te[gt[In]];dr?(cn===0&&(cn=mn()),Gn[In]=dr(ht[In])):Gn[In]=ht[In]}var Sn=xn.apply(null,Gn);return Sn=on(Sn),cn!==0&&Ut(cn),Sn}function C(Le,st,gt,ht){gt=gt||[];var m=gt.every(function(on){return on==="number"}),te=st!=="string";return te&&m&&!ht?y(Le):function(){return _(Le,st,gt,arguments)}}var E=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function M(Le,st,gt){for(var ht=st+gt,m=st;Le[m]&&!(m>=ht);)++m;if(m-st>16&&Le.subarray&&E)return E.decode(Le.subarray(st,m));for(var te="";st<m;){var on=Le[st++];if(!(on&128)){te+=String.fromCharCode(on);continue}var xn=Le[st++]&63;if((on&224)==192){te+=String.fromCharCode((on&31)<<6|xn);continue}var Gn=Le[st++]&63;if((on&240)==224?on=(on&15)<<12|xn<<6|Gn:on=(on&7)<<18|xn<<12|Gn<<6|Le[st++]&63,on<65536)te+=String.fromCharCode(on);else{var cn=on-65536;te+=String.fromCharCode(55296|cn>>10,56320|cn&1023)}}return te}function R(Le,st){return Le?M(V,Le,st):""}function N(Le,st,gt,ht){if(!(ht>0))return 0;for(var m=gt,te=gt+ht-1,on=0;on<Le.length;++on){var xn=Le.charCodeAt(on);if(xn>=55296&&xn<=57343){var Gn=Le.charCodeAt(++on);xn=65536+((xn&1023)<<10)|Gn&1023}if(xn<=127){if(gt>=te)break;st[gt++]=xn}else if(xn<=2047){if(gt+1>=te)break;st[gt++]=192|xn>>6,st[gt++]=128|xn&63}else if(xn<=65535){if(gt+2>=te)break;st[gt++]=224|xn>>12,st[gt++]=128|xn>>6&63,st[gt++]=128|xn&63}else{if(gt+3>=te)break;st[gt++]=240|xn>>18,st[gt++]=128|xn>>12&63,st[gt++]=128|xn>>6&63,st[gt++]=128|xn&63}}return st[gt]=0,gt-m}function O(Le,st,gt){return N(Le,V,st,gt)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function I(Le,st){$.set(Le,st)}function L(Le,st){return Le%st>0&&(Le+=st-Le%st),Le}var F,$,V,U,k,z,H;function j(Le){F=Le,e.HEAP8=$=new Int8Array(Le),e.HEAP16=U=new Int16Array(Le),e.HEAP32=k=new Int32Array(Le),e.HEAPU8=V=new Uint8Array(Le),e.HEAPU16=new Uint16Array(Le),e.HEAPU32=new Uint32Array(Le),e.HEAPF32=z=new Float32Array(Le),e.HEAPF64=H=new Float64Array(Le)}var X=5271536,Y=28624,J=e.TOTAL_MEMORY||33554432;e.buffer?F=e.buffer:F=new ArrayBuffer(J),J=F.byteLength,j(F),k[Y>>2]=X;function ee(Le){for(;Le.length>0;){var st=Le.shift();if(typeof st=="function"){st();continue}var gt=st.func;typeof gt=="number"?st.arg===void 0?e.dynCall_v(gt):e.dynCall_vi(gt,st.arg):gt(st.arg===void 0?null:st.arg)}}var re=[],ue=[],fe=[],oe=[];function ce(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)be(e.preRun.shift());ee(re)}function pe(){ee(ue)}function ye(){ee(fe)}function xe(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Ce(e.postRun.shift());ee(oe)}function be(Le){re.unshift(Le)}function Ce(Le){oe.unshift(Le)}var Ne=Math.abs,Ae=Math.ceil,me=Math.floor,de=Math.min,Be=0,ne=null;function Je(Le){Be++,e.monitorRunDependencies&&e.monitorRunDependencies(Be)}function Ye(Le){if(Be--,e.monitorRunDependencies&&e.monitorRunDependencies(Be),Be==0&&ne){var st=ne;ne=null,st()}}e.preloadedImages={},e.preloadedAudios={};var rt=null,qe="data:application/octet-stream;base64,";function se(Le){return String.prototype.startsWith?Le.startsWith(qe):Le.indexOf(qe)===0}var K,_e;rt="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAEAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAQAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAA6B6FaUp9QQTPXMuL4myJBraiDfBwx9UBYJseitzTIQOL5if9jqZtAnXX+Z+ycb0C3pucbhRBCQG8wJBYqpRRAlWbDCzCY5z/eFWBUEve6P/+qo4Q50Y4/D9YM3iCcYT8fcA2QJSA0P4ADxu0qAAc/BNcGolVJ2j5d9FACqwquPh9z7MthtI9CSUSYJke/YUJQ/64OyjU0Qpi0+HCmFQdCm3GfIVdh2kHsJ11kAyauQYC3UDFJOoFBSJsFV1OwU0FK5fcxX4AmQWhy/zZIt/lACqaCPsBjzUDbdUNIScugQMYQlVJ4MXNANiuq8GTvRUDxTXnulxEZQFZ8QX5kpuw/qmG/JwYFlEAluh3Q6DB+QKn4vyNq0GZAKOXekas+UUB8xabXXhI6QG63C2pLtSNAdDBtyNfLDUDyOcu67ID2P0rCMvRXAeE/Ki2TSVyzyT9Dk+8Sz2uzP5J+w5ARWp0/NQAoOiMuhj9YnP+RyMJwPxgW7TvQVFk/KgsLYF0kQz9g5dAC6IwzQcgHPVvDex1B1XjppodHBkHJq3OMM9fwQNvcmJ7wddlAInGPpQs/w0BRobq5EBmtQJZ2ai7n+ZVAtv2G5E+bgECG+gIfKBlpQK5f8jdI91JAL39sL/WpPEB8rGxhDqklQK6yUf43XhBAxL9y/tK8+D86XyZpgrHiPwAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAP////8AAAAAAAAAAAAAAAABAAAAAAAAAAAAAAD/////AAAAAAAAAAABAAAAAQAAAAAAAAAAAAAA/////wAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8FAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAAAAQABAAABAQAAAAAAAQAAAAEAAAABAAEAAAAAAAAAAAAAAAAAAAAAquJYWJZl+D9jaeZNtj/zPwwdI9KqaeO/qGefXwdHdz+q4lhYlmX4P+OrlPMN3PI/DB0j0qpp47+7SQLV4VIEQKriWFiWZfg/r2kma3tz8T82eQmLqNIGwMRIWXMqSvo/fcCszPux9j+jara6ozTwP6hnn18HR3c/MSoKLequ8r+SabgA2nj0P7jBLbDOHO8/1Ym/ICfH4T+6lxjvlFXHv73m373LRPU/0vXyDVxo7T+ToKRHJXMAQF/33578aPE/pAyy64tD9T8+U/hCvyruPwxv8Y7YYwLAuXYr8NAiCEB4+LDK0Sn0P1Qeuy4j+eo/OMx50n7K7L+TrGB/nyf8v5ehC2fbYPM/aXMKexiT6z8mFRIMjg/zP7yUVwGGBNw/E6opHERf8z/z0wR2g9DqPw4pBpcOhvu/NbA29uWAA8DMaTExyXzyP02biiQ+Ruk/S8jz2/FKBEB1pzZnpbb9P7pQU4wLfPI//7ZcQXeG6D9CqEQvAYoIwDB2VB6sSgRAVyv8H5We8T+EHWF8XNPmPzB2wT8Nrrg/SEi+cX+w4L8of+GtdSDxP1sjk5AdouU/6ZjOVru13r8K0obqI6bxvwVbdNXyhfA/w5GG024n5z+rwmtMzP8BwLw9pSX49QXABe/2uQxP8D+b6wCzCvXkP7uGT87fK+Q/pz/JWw4coj+qoBf2J0nwP/yE3PUo0+I/vFJeHcaC+D96luSIqvntP/bf8sHUYu8/gZNN41mL4z9bhOqVOF4FwO6lmAh1hQhAbCVxbdhk7z+1C8NdDcfiPwG36x/0OQBAx0WJ76c2+D9nlSHXANfuP2HlfZ3gqOE/EwnVlVPg9r96+oHzEH//v5bXzdT1Auw/DM3GwLsA4D9p/8uoKcr+v+U9x5DQVAPAehjSdghb7D9sc1IetODgP8MVwwB1pu6/azPk6OGe978W8t/TUc3rP+0QMvYfP+A/RsG/QpSE8D+l3uwScxzgPwQaifgujuw/k1Vti1I43z8MAwLnSh0GQH5nYnwwZgJAiGUzWC5s6j8WyyI/BbLgPw4iUapGeQJAB3W+imnp/j9BLWR4ssrpP2t+gG5Pstk/cpBsfm6DCMCOpU9dOZsFQEv8nFypHeo/ehJ6i+6S2D9jqlGEmarLv7STC5TRiOa/bC+x8WZD6D9H3yUkWpDZP8gZvmCMuQLAreY19/eRBsCoPOc8UzzpP6KI/QV+y9g/t/MoboyWzT+Hv5q3Zu3Mvy2xROCT4uY/9gQitMMg1T9abAqhWMDkv1oLTavoUfG/PMUJP9CD5j+fHRX3t6fSPz7W2gk6bvs/WRnuHwqN9D8YFturGCTmP1EZczv0b9I/5t4exabB5D/1ESLh5fTEP9X2z6SYweQ/6lv3I2zT0D9zkRGNUNMAQKoSvc4EIfs/Xggt8wQI5T+mJHHg/w/SP4lhT/9t8vQ/DrZ/DbwH7D+XlhbYZrjkP34LIpFt6c4/lwfp8fLX9L+j96CTTf76v3WdNhEv9uM/d8c3o4lV0D/vFdCHVcsFwAHeDq0F1QhApbYqcZiN5D9KoilqByXLPwX0/diA0vq/0fo0GxnxAMBbaTkvlCzjP/RrFrWXrMs/UYTrky7jA0DB9f4FiZYAQEGAk/3QzeE/r/TeqE8t0D/OqjlsnPbvvz8RKU8JOfW/smSEbK/O4T8MzuyPm3DDP/rFtctq9gZAfb1EVEaSA0Dts5dVInnhP18SFMc79MM/7y34cw6LAMDFrRJsZO0DwC2KLvLSYuA/hx5wcUHewz+49SnK/4ruPyeS0PX9a+E/ZxaaLvvZ3z8WPu5T2QS8Pygo4RIvMqa/BJ0Kqsd0279cKW4ay8jdP3b05bmZ364/10/qtdxk2r+Bcz6CDMvpv54qOw+Amdw/qLV71pW7sT/YKc80nIPUP8OfIaBJ77G/LyTuD1un2z+diYu8efWzP1wU7ACkfwjAZroyPL1yBkAmv3lKJJbbPysKSE4W+p0/dIgqY79TA8ATLTOQ3tsGwJ2zweD/Xdg/XO/jXeFUaL8VW2qLFKfov1cA9Aa6XfK/tIa7YGgI2T+f3hu/sxqPv2nXdPpf3Pc/jkw8Jbda8j+tT/z8tGPVP1yBHpJd35k/KYvYOy1s8j/yz+kCQjPrP9+agH7x59g/PZfJ9aBhpr/rDKzvYBb+PwtkiaGCt/c/vb1mVr+f1T/JIHwHc8Govw7aeF6+9vG/Xv7kD6fp979isYioQYHVP7AIQZuSFrG/3z1AdUTnAUDN3XY9O7f9P0AdQ9ljYNQ/dJANJPTOrb8kLECUiiPlP4yF7UgmStA/9xGmXxCG1T9qZzix4W2zv2SGJRJVrPe/Fh9a2M/B/b8IexzFCoPSP9y1QFD2bLe/Q86cWLJe/b+mOOfYm78BwOTjkPAGE9E/8aPCUKu/ub9pPZyLCiUGwBA7Mev/BQlALOmrlRi+0j+AMJ/dKULBv7iLtL6a6QRAEMDV/yajAUDa62dE3crJP1P70RgBUbq/38hVnR6esT/s1tG10Z/Ov/zLwalHPss/dTS9NKTXx78nMcRzCIEHQAabxDsAmQRA0tyLK3gSyT+Aui7nOhDGv5Gs58z3WgHATN3forJuBMCAui7nOhDGP9Lciyt4Esm/WAJyHQ4c7z8UP5HFIs3iP3U0vTSk18c//MvBqUc+y7+cvv8HLg/Kvy1I/mHsI+K/U/vRGAFRuj/a62dE3crJv8p+WV8KlQjAuQ/nOP43B0CAMJ/dKULBPyzpq5UYvtK/ZoU+VoLh4L9etLlRUfvtv/GjwlCrv7k/5OOQ8AYT0b9DfT9FhufXPwUX8hJp+4u/3LVAUPZstz8IexzFCoPSv9+L609E5fQ/q9Fz7X2J7T9qZzix4W2zP/cRpl8QhtW/vtNilqGX+j8MOy7QJoL0P3SQDST0zq0/QB1D2WNg1L8IIjSvGNkDwGB8Jou2GAfAsAhBm5IWsT9isYioQYHVvyS9D3zb6uy/gnwRa7uM9L/JIHwHc8GoP729Zla/n9W/CsAHJZwmAEDEW6OYT1r6Pz2XyfWgYaY/35qAfvHn2L83Tdy4lS30vxf2/gZ0jPq/XIEekl3fmb+tT/z8tGPVvybPr2zJ1/+/K7mJ0ypVAsCf3hu/sxqPPwCGu2BoCNm/5oITrpZn+r+UDUyDP+n/v1zv413hVGg/nbPB4P9d2L9MlmkxNvgCQMtZlKE85v8/KwpIThb6nb8mv3lKJJbbv8+SZsTvOOc/pQCIIOYw0j+diYu8efWzvy8k7g9bp9u/kxYDa+pKtD9XlYvA8HnVv6i1e9aVu7G/nio7D4CZ3L/WR6rNh5EGwCkgQweBkghAdvTluZnfrr9cKW4ay8jdvxbjhr1f1QVAR5C0MzivAkAWPu5T2QS8v2cWmi772d+/cKj4lzLJCEBx2QJfYrMFQIcecHFB3sO/LYou8tJi4L+jr7lhO38BwIcI0Nb7xgTAXxIUxzv0w7/ts5dVInnhv0T+l8DZLfE/MP3FoFvS5D8MzuyPm3DDv7JkhGyvzuG/tzhzRIRc0b9Ovv3/0z7mv6/03qhPLdC/m4CT/dDN4b9dwjU5VCQBQBBJX1ntCv0/9GsWtZesy79baTkvlCzjv1mjYgEz++S/oW6KnOQW8b9KoilqByXLv6W2KnGYjeS/SmaKz3Vx9z+BZB5yxGHwP3fHN6OJVdC/dZ02ES/2478PuaBjLrXaP4/JU81pPaO/fgsikW3pzr+XlhbYZrjkv4tSn7YDbP0/f2LnFKlF9z+mJHHg/w/Sv14ILfMECOW/mfg4qYhR/b+OP+RQDCACwOpb9yNs09C/1fbPpJjB5L9pN2WOVZ3wv3hHy9nxIve/URlzO/Rv0r8YFturGCTmv1d1/KKR8QPA8gsy9qzSB8CfHRX3t6fSvzzFCT/Qg+a/EYStnrzV9r/2QJqI7Lb9v/YEIrTDINW/LbFE4JPi5r/7kQEs5fEDQHunnf4GeQBAooj9BX7L2L+oPOc8Uzzpv+ydYY2SSAfAL4HK6CRTB0BH3yUkWpDZv2wvsfFmQ+i/Ik0Yzruh6T8fM3LoGoDUP3oSeovukti/S/ycXKkd6r9rEv+7UWcHQCRIQe/GfwNAa36Abk+y2b9BLWR4ssrpv9KT87qa0bM/FTyktw823L8WyyI/BbLgv4hlM1gubOq/DizMp9Ki6r8b5ckdjVrzv5NVbYtSON+/BBqJ+C6O7L/dUBFqgyXYv00Wh18r7+q/7RAy9h8/4L8W8t/TUc3rv4RM5DKx3wDAfvWIj94aBcBsc1IetODgv3oY0nYIW+y/oGcTFF54AUDkJqS/FKX6PwzNxsC7AOC/ltfN1PUC7L+5Wrz/zHnzP6688w2rNOc/YeV9neCo4b9nlSHXANfuvw9RsxKjY/s/1V8GteXE8j+1C8NdDcfiv2wlcW3YZO+/IOywaA7Q8b9bFP+4Tg36v4GTTeNZi+O/9t/ywdRi77+tRc3yFR7eP2bkcHXJkLO//ITc9SjT4r+qoBf2J0nwv2YHKoswwfm/iQcLspCjAcCb6wCzCvXkvwXv9rkMT/C/YkuwYAMXBMApCNUai9kIwMORhtNuJ+e/BVt01fKF8L+ZqWEfvIjsP6h693QZYNk/WyOTkB2i5b8of+GtdSDxvwpaaulDSwVADMQAX+lOAECEHWF8XNPmv1cr/B+VnvG/XyFG6opcCMD/mtR32/UEQP+2XEF3hui/ulBTjAt88r/imfCfRP+yP9zbvtc8XeO/TZuKJD5G6b/MaTExyXzyvxiTQeElXOO/rbJRQVGN9L/z0wR2g9DqvxOqKRxEX/O/FDGCEei99j9x8zV4VYTmP2lzCnsYk+u/l6ELZ9tg878pRXacaDT/v3k6GZRqoQXAVB67LiP56r94+LDK0Sn0vwO6pZ9b7wFAvK0nKVcc9j8+U/hCvyruv6QMsuuLQ/W/FPhKFYv46j8MyxaDTOW/v9L18g1caO2/vebfvctE9b/7GD8ZrF3xv3gx1AR9bQDAuMEtsM4c77+SabgA2nj0v5xKFIwxsATArKNSBaKsB0Cjara6ozTwv33ArMz7sfa/dF2U0FcWCcDxL357DJX/P69pJmt7c/G/quJYWJZl+L/YntVJlnrSP4sRLzXM+fe/46uU8w3c8r+q4lhYlmX4v85lu5+QRwRAsI0H/WU8479jaeZNtj/zv6riWFiWZfi/sI0H/WU847/OZbufkEcEQHAoPUBrnss/9exKzDtFtT88wM8kax+gP9OqeKeAYog/MW0ItiZvcj+ph+smvt5bP2lCaV5dEUU/StaUmQDaLz+kK9y22BMYP0O3whZuMwI/IIbgZGWE6z7UkjYaEM3UPuezxwa9cr8+LybxRMnFpz6E1N8DbPiRPsYjySMvK3s+//////8fAAj//////zMQCP////9/MiAI/////28yMAj/////YzJACP///z9iMlAI////N2IyYAj///8zYjJwCP//vzNiMoAI//+rM2IykAj/f6szYjKgCP8PqzNiMrAI/wOrM2IywAi/A6szYjLQCJ8DqzNiMuAImQOrM2Iy8Aj//////z8PCP//////Kx8I/////38pLwj/////Pyk/CP////85KU8I////PzgpXwj///8POClvCP///w44KX8I//8fDjgpjwj//w8OOCmfCP9/DQ44Ka8I/w8NDjgpvwj/DQ0OOCnPCP8MDQ44Kd8IxwwNDjgp7wjEDA0OOCn/CAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAABgtRFT7Ifk/GC1EVPsh+b8YLURU+yEJQBgtRFT7IQnAYWxnb3MuYwBoM05laWdoYm9yUm90YXRpb25zAGNvb3JkaWprLmMAX3VwQXA3Q2hlY2tlZABfdXBBcDdyQ2hlY2tlZABkaXJlY3RlZEVkZ2UuYwBkaXJlY3RlZEVkZ2VUb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpclt0bXBGaWprLmZhY2VdW2ZpamsuZmFjZV0gPT0gS0kAZmFjZWlqay5jAF9mYWNlSWprUGVudFRvQ2VsbEJvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9DZWxsQm91bmRhcnkAaDNJbmRleC5jAGNvbXBhY3RDZWxscwBsYXRMbmdUb0NlbGwAY2VsbFRvQ2hpbGRQb3MAdmFsaWRhdGVDaGlsZFBvcwBsYXRMbmcuYwBjZWxsQXJlYVJhZHMyAHBvbHlnb24tPm5leHQgPT0gTlVMTABsaW5rZWRHZW8uYwBhZGROZXdMaW5rZWRQb2x5Z29uAG5leHQgIT0gTlVMTABsb29wICE9IE5VTEwAYWRkTmV3TGlua2VkTG9vcABwb2x5Z29uLT5maXJzdCA9PSBOVUxMAGFkZExpbmtlZExvb3AAY29vcmQgIT0gTlVMTABhZGRMaW5rZWRDb29yZABsb29wLT5maXJzdCA9PSBOVUxMAGlubmVyTG9vcHMgIT0gTlVMTABub3JtYWxpemVNdWx0aVBvbHlnb24AYmJveGVzICE9IE5VTEwAY2FuZGlkYXRlcyAhPSBOVUxMAGZpbmRQb2x5Z29uRm9ySG9sZQBjYW5kaWRhdGVCQm94ZXMgIT0gTlVMTAByZXZEaXIgIT0gSU5WQUxJRF9ESUdJVABsb2NhbGlqLmMAY2VsbFRvTG9jYWxJamsAYmFzZUNlbGwgIT0gb3JpZ2luQmFzZUNlbGwAIShvcmlnaW5PblBlbnQgJiYgaW5kZXhPblBlbnQpAGJhc2VDZWxsID09IG9yaWdpbkJhc2VDZWxsAGJhc2VDZWxsICE9IElOVkFMSURfQkFTRV9DRUxMAGxvY2FsSWprVG9DZWxsACFfaXNCYXNlQ2VsbFBlbnRhZ29uKGJhc2VDZWxsKQBiYXNlQ2VsbFJvdGF0aW9ucyA+PSAwAGdyaWRQYXRoQ2VsbHMAcG9seWZpbGwuYwBpdGVyU3RlcFBvbHlnb25Db21wYWN0ADAAdmVydGV4LmMAdmVydGV4Um90YXRpb25zAGNlbGxUb1ZlcnRleABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";var Ue=28640;function lt(Le){return Le}function We(Le){var st=/\b__Z[\w\d_]+/g;return Le.replace(st,function(gt){var ht=gt;return gt===ht?gt:ht+" ["+gt+"]"})}function pt(){var Le=new Error;if(!Le.stack){try{throw new Error(0)}catch(st){Le=st}if(!Le.stack)return"(no stack trace available)"}return Le.stack.toString()}function mt(){var Le=pt();return e.extraStackTrace&&(Le+=`
`+e.extraStackTrace()),We(Le)}function vt(Le,st,gt,ht){It("Assertion failed: "+R(Le)+", at: "+[st?R(st):"unknown filename",gt,ht?R(ht):"unknown function"])}function At(){return $.length}function ot(Le,st,gt){V.set(V.subarray(st,st+gt),Le)}function Ve(Le){return e.___errno_location&&(k[e.___errno_location()>>2]=Le),Le}function at(Le){It("OOM")}function tt(Le){try{var st=new ArrayBuffer(Le);return st.byteLength!=Le?void 0:(new Int8Array(st).set($),yt(st),j(st),1)}catch{}}function ze(Le){var st=At(),gt=16777216,ht=2147483648-gt;if(Le>ht)return!1;for(var m=16777216,te=Math.max(st,m);te<Le;)te<=536870912?te=L(2*te,gt):te=Math.min(L((3*te+2147483648)/4,gt),ht);var on=tt(te);return!!on}var bt=typeof atob=="function"?atob:function(Le){var st="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",gt="",ht,m,te,on,xn,Gn,cn,In=0;Le=Le.replace(/[^A-Za-z0-9\+\/\=]/g,"");do on=st.indexOf(Le.charAt(In++)),xn=st.indexOf(Le.charAt(In++)),Gn=st.indexOf(Le.charAt(In++)),cn=st.indexOf(Le.charAt(In++)),ht=on<<2|xn>>4,m=(xn&15)<<4|Gn>>2,te=(Gn&3)<<6|cn,gt=gt+String.fromCharCode(ht),Gn!==64&&(gt=gt+String.fromCharCode(m)),cn!==64&&(gt=gt+String.fromCharCode(te));while(In<Le.length);return gt};function Pe(Le){try{for(var st=bt(Le),gt=new Uint8Array(st.length),ht=0;ht<st.length;++ht)gt[ht]=st.charCodeAt(ht);return gt}catch{throw new Error("Converting base64 string to bytes failed.")}}function Mt(Le){if(se(Le))return Pe(Le.slice(qe.length))}var Ct={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},qt={a:It,b:u,c:d,d:vt,e:Ve,f:At,g:ot,h:ze,i:at,j:lt,k:We,l:tt,m:pt,n:mt,o:Ue,p:Y},Ge=function(Le,st,gt){"almost asm";var ht=new Le.Int8Array(gt),m=new Le.Int32Array(gt);new Le.Uint8Array(gt),new Le.Float32Array(gt);var te=new Le.Float64Array(gt),on=st.o|0,xn=st.p|0,Gn=Le.Math.floor,cn=Le.Math.abs,In=Le.Math.sqrt,dr=Le.Math.pow,Sn=Le.Math.cos,wt=Le.Math.sin,Zt=Le.Math.tan,Mn=Le.Math.acos,kn=Le.Math.asin,le=Le.Math.atan,Ie=Le.Math.atan2,et=Le.Math.ceil,nt=Le.Math.imul,Fe=Le.Math.min,St=Le.Math.max,Dt=Le.Math.clz32,_t=st.b,ie=st.c,Ot=st.d,_n=st.e,hn=st.f,Vn=st.g,fr=st.h,Tr=st.i,ae=28656;function Dn(A){return ht=new Int8Array(A),m=new Int32Array(A),te=new Float64Array(A),gt=A,!0}function Lt(A){A=A|0;var g=0;return g=ae,ae=ae+A|0,ae=ae+15&-16,g|0}function Wt(){return ae|0}function vn(A){A=A|0,ae=A}function nn(A,g){A=A|0,ae=A}function an(A,g){A=A|0,g=g|0;var v=0,w=0,T=0;return(A|0)<0?(g=2,g|0):(A|0)>13780509?(g=PS(15,g)|0,g|0):(v=((A|0)<0)<<31>>31,T=Jo(A|0,v|0,3,0)|0,w=ie()|0,v=zn(A|0,v|0,1,0)|0,v=Jo(T|0,w|0,v|0,ie()|0)|0,v=zn(v|0,ie()|0,1,0)|0,A=ie()|0,m[g>>2]=v,m[g+4>>2]=A,g=0,g|0)}function Hn(A,g,v,w){return A=A|0,g=g|0,v=v|0,w=w|0,Hr(A,g,v,w,0)|0}function Hr(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0,q=0;if(G=ae,ae=ae+16|0,D=G,!(Jn(A,g,v,w,T)|0))return w=0,ae=G,w|0;do if((v|0)>=0){if((v|0)>13780509){if(P=PS(15,D)|0,P|0)break;B=D,D=m[B>>2]|0,B=m[B+4>>2]|0}else P=((v|0)<0)<<31>>31,q=Jo(v|0,P|0,3,0)|0,B=ie()|0,P=zn(v|0,P|0,1,0)|0,P=Jo(q|0,B|0,P|0,ie()|0)|0,P=zn(P|0,ie()|0,1,0)|0,B=ie()|0,m[D>>2]=P,m[D+4>>2]=B,D=P;if(Ff(w|0,0,D<<3|0)|0,T|0){Ff(T|0,0,D<<2|0)|0,P=Sr(A,g,v,w,T,D,B,0)|0;break}P=Fs(D,4)|0,P?(q=Sr(A,g,v,w,P,D,B,0)|0,jn(P),P=q):P=13}else P=2;while(0);return q=P,ae=G,q|0}function Jn(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0;if(Ke=ae,ae=ae+16|0,Ee=Ke,Me=Ke+8|0,Te=Ee,m[Te>>2]=A,m[Te+4>>2]=g,(v|0)<0)return Me=2,ae=Ke,Me|0;if(P=w,m[P>>2]=A,m[P+4>>2]=g,P=(T|0)!=0,P&&(m[T>>2]=0),Ci(A,g)|0)return Me=9,ae=Ke,Me|0;m[Me>>2]=0;e:do if((v|0)>=1)if(P)for(Q=1,q=0,he=0,Te=1,P=A;;){if(!(q|he)){if(P=sr(P,g,4,Me,Ee)|0,P|0)break e;if(g=Ee,P=m[g>>2]|0,g=m[g+4>>2]|0,Ci(P,g)|0){P=9;break e}}if(P=sr(P,g,m[26800+(he<<2)>>2]|0,Me,Ee)|0,P|0)break e;if(g=Ee,P=m[g>>2]|0,g=m[g+4>>2]|0,A=w+(Q<<3)|0,m[A>>2]=P,m[A+4>>2]=g,m[T+(Q<<2)>>2]=Te,A=q+1|0,D=(A|0)==(Te|0),B=he+1|0,G=(B|0)==6,Ci(P,g)|0){P=9;break e}if(Te=Te+(G&D&1)|0,(Te|0)>(v|0)){P=0;break}else Q=Q+1|0,q=D?0:A,he=D?G?0:B:he}else for(Q=1,q=0,he=0,Te=1,P=A;;){if(!(q|he)){if(P=sr(P,g,4,Me,Ee)|0,P|0)break e;if(g=Ee,P=m[g>>2]|0,g=m[g+4>>2]|0,Ci(P,g)|0){P=9;break e}}if(P=sr(P,g,m[26800+(he<<2)>>2]|0,Me,Ee)|0,P|0)break e;if(g=Ee,P=m[g>>2]|0,g=m[g+4>>2]|0,A=w+(Q<<3)|0,m[A>>2]=P,m[A+4>>2]=g,A=q+1|0,D=(A|0)==(Te|0),B=he+1|0,G=(B|0)==6,Ci(P,g)|0){P=9;break e}if(Te=Te+(G&D&1)|0,(Te|0)>(v|0)){P=0;break}else Q=Q+1|0,q=D?0:A,he=D?G?0:B:he}else P=0;while(0);return Me=P,ae=Ke,Me|0}function Sr(A,g,v,w,T,P,D,B){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0,P=P|0,D=D|0,B=B|0;var G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0;if(Ke=ae,ae=ae+16|0,Ee=Ke+8|0,Me=Ke,G=O0(A|0,g|0,P|0,D|0)|0,Q=ie()|0,he=w+(G<<3)|0,ct=he,xt=m[ct>>2]|0,ct=m[ct+4>>2]|0,q=(xt|0)==(A|0)&(ct|0)==(g|0),!((xt|0)==0&(ct|0)==0|q))do G=zn(G|0,Q|0,1,0)|0,G=D0(G|0,ie()|0,P|0,D|0)|0,Q=ie()|0,he=w+(G<<3)|0,xt=he,ct=m[xt>>2]|0,xt=m[xt+4>>2]|0,q=(ct|0)==(A|0)&(xt|0)==(g|0);while(!((ct|0)==0&(xt|0)==0|q));if(G=T+(G<<2)|0,q&&(m[G>>2]|0)<=(B|0)||(xt=he,m[xt>>2]=A,m[xt+4>>2]=g,m[G>>2]=B,(B|0)>=(v|0)))return xt=0,ae=Ke,xt|0;switch(q=B+1|0,m[Ee>>2]=0,G=sr(A,g,2,Ee,Me)|0,G|0){case 9:{Te=9;break}case 0:{G=Me,G=Sr(m[G>>2]|0,m[G+4>>2]|0,v,w,T,P,D,q)|0,G||(Te=9);break}}e:do if((Te|0)==9){switch(m[Ee>>2]=0,G=sr(A,g,3,Ee,Me)|0,G|0){case 9:break;case 0:{if(G=Me,G=Sr(m[G>>2]|0,m[G+4>>2]|0,v,w,T,P,D,q)|0,G|0)break e;break}default:break e}switch(m[Ee>>2]=0,G=sr(A,g,1,Ee,Me)|0,G|0){case 9:break;case 0:{if(G=Me,G=Sr(m[G>>2]|0,m[G+4>>2]|0,v,w,T,P,D,q)|0,G|0)break e;break}default:break e}switch(m[Ee>>2]=0,G=sr(A,g,5,Ee,Me)|0,G|0){case 9:break;case 0:{if(G=Me,G=Sr(m[G>>2]|0,m[G+4>>2]|0,v,w,T,P,D,q)|0,G|0)break e;break}default:break e}switch(m[Ee>>2]=0,G=sr(A,g,4,Ee,Me)|0,G|0){case 9:break;case 0:{if(G=Me,G=Sr(m[G>>2]|0,m[G+4>>2]|0,v,w,T,P,D,q)|0,G|0)break e;break}default:break e}switch(m[Ee>>2]=0,G=sr(A,g,6,Ee,Me)|0,G|0){case 9:break;case 0:{if(G=Me,G=Sr(m[G>>2]|0,m[G+4>>2]|0,v,w,T,P,D,q)|0,G|0)break e;break}default:break e}return xt=0,ae=Ke,xt|0}while(0);return xt=G,ae=Ke,xt|0}function sr(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0;if(v>>>0>6)return T=1,T|0;if(he=(m[w>>2]|0)%6|0,m[w>>2]=he,(he|0)>0){P=0;do v=wp(v)|0,P=P+1|0;while((P|0)<(m[w>>2]|0))}if(he=Gt(A|0,g|0,45)|0,ie()|0,Q=he&127,Q>>>0>121)return T=5,T|0;G=Bs(A,g)|0,P=Gt(A|0,g|0,52)|0,ie()|0,P=P&15;e:do if(!P)q=8;else{for(;;){if(D=(15-P|0)*3|0,B=Gt(A|0,g|0,D|0)|0,ie()|0,B=B&7,(B|0)==7){g=5;break}if(Me=(jl(P)|0)==0,P=P+-1|0,Te=Yt(7,0,D|0)|0,g=g&~(ie()|0),Ee=Yt(m[(Me?432:16)+(B*28|0)+(v<<2)>>2]|0,0,D|0)|0,D=ie()|0,v=m[(Me?640:224)+(B*28|0)+(v<<2)>>2]|0,A=Ee|A&~Te,g=D|g,!v){v=0;break e}if(!P){q=8;break e}}return g|0}while(0);(q|0)==8&&(Me=m[848+(Q*28|0)+(v<<2)>>2]|0,Ee=Yt(Me|0,0,45)|0,A=Ee|A,g=ie()|0|g&-1040385,v=m[4272+(Q*28|0)+(v<<2)>>2]|0,(Me&127|0)==127&&(Me=Yt(m[848+(Q*28|0)+20>>2]|0,0,45)|0,g=ie()|0|g&-1040385,v=m[4272+(Q*28|0)+20>>2]|0,A=Cp(Me|A,g)|0,g=ie()|0,m[w>>2]=(m[w>>2]|0)+1)),B=Gt(A|0,g|0,45)|0,ie()|0,B=B&127;e:do if(Jr(B)|0){t:do if((Bs(A,g)|0)==1){if((Q|0)!=(B|0))if(Tn(B,m[7696+(Q*28|0)>>2]|0)|0){A=dP(A,g)|0,D=1,g=ie()|0;break}else Ot(27795,26864,533,26872);switch(G|0){case 3:{A=Cp(A,g)|0,g=ie()|0,m[w>>2]=(m[w>>2]|0)+1,D=0;break t}case 5:{A=dP(A,g)|0,g=ie()|0,m[w>>2]=(m[w>>2]|0)+5,D=0;break t}case 0:return Me=9,Me|0;default:return Me=1,Me|0}}else D=0;while(0);if((v|0)>0){P=0;do A=uP(A,g)|0,g=ie()|0,P=P+1|0;while((P|0)!=(v|0))}if((Q|0)!=(B|0)){if(!(Hl(B)|0)){if((D|0)!=0|(Bs(A,g)|0)!=5)break;m[w>>2]=(m[w>>2]|0)+1;break}switch(he&127){case 8:case 118:break e}(Bs(A,g)|0)!=3&&(m[w>>2]=(m[w>>2]|0)+1)}}else if((v|0)>0){P=0;do A=Cp(A,g)|0,g=ie()|0,P=P+1|0;while((P|0)!=(v|0))}while(0);return m[w>>2]=((m[w>>2]|0)+v|0)%6|0,Me=T,m[Me>>2]=A,m[Me+4>>2]=g,Me=0,Me|0}function jr(A,g,v,w){return A=A|0,g=g|0,v=v|0,w=w|0,Bn(A,g,v,w)|0?(Ff(w|0,0,v*48|0)|0,w=Cn(A,g,v,w)|0,w|0):(w=0,w|0)}function Bn(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0;if(Me=ae,ae=ae+16|0,Te=Me,Ee=Me+8|0,he=Te,m[he>>2]=A,m[he+4>>2]=g,(v|0)<0)return Ee=2,ae=Me,Ee|0;if(!v)return Ee=w,m[Ee>>2]=A,m[Ee+4>>2]=g,Ee=0,ae=Me,Ee|0;m[Ee>>2]=0;e:do if(Ci(A,g)|0)A=9;else{T=0,he=A;do{if(A=sr(he,g,4,Ee,Te)|0,A|0)break e;if(g=Te,he=m[g>>2]|0,g=m[g+4>>2]|0,T=T+1|0,Ci(he,g)|0){A=9;break e}}while((T|0)<(v|0));Q=w,m[Q>>2]=he,m[Q+4>>2]=g,Q=v+-1|0,q=0,A=1;do{if(T=26800+(q<<2)|0,(q|0)==5)for(D=m[T>>2]|0,P=0,T=A;;){if(A=Te,A=sr(m[A>>2]|0,m[A+4>>2]|0,D,Ee,Te)|0,A|0)break e;if((P|0)!=(Q|0))if(G=Te,B=m[G>>2]|0,G=m[G+4>>2]|0,A=w+(T<<3)|0,m[A>>2]=B,m[A+4>>2]=G,!(Ci(B,G)|0))A=T+1|0;else{A=9;break e}else A=T;if(P=P+1|0,(P|0)>=(v|0))break;T=A}else for(D=Te,G=m[T>>2]|0,B=0,T=A,P=m[D>>2]|0,D=m[D+4>>2]|0;;){if(A=sr(P,D,G,Ee,Te)|0,A|0)break e;if(D=Te,P=m[D>>2]|0,D=m[D+4>>2]|0,A=w+(T<<3)|0,m[A>>2]=P,m[A+4>>2]=D,A=T+1|0,Ci(P,D)|0){A=9;break e}if(B=B+1|0,(B|0)>=(v|0))break;T=A}q=q+1|0}while(q>>>0<6);A=Te,A=(he|0)==(m[A>>2]|0)&&(g|0)==(m[A+4>>2]|0)?0:9}while(0);return Ee=A,ae=Me,Ee|0}function Cn(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0;if(he=ae,ae=ae+16|0,D=he,!v)return m[w>>2]=A,m[w+4>>2]=g,w=0,ae=he,w|0;do if((v|0)>=0){if((v|0)>13780509){if(T=PS(15,D)|0,T|0)break;P=D,T=m[P>>2]|0,P=m[P+4>>2]|0}else T=((v|0)<0)<<31>>31,Q=Jo(v|0,T|0,3,0)|0,P=ie()|0,T=zn(v|0,T|0,1,0)|0,T=Jo(Q|0,P|0,T|0,ie()|0)|0,T=zn(T|0,ie()|0,1,0)|0,P=ie()|0,Q=D,m[Q>>2]=T,m[Q+4>>2]=P;if(q=Fs(T,8)|0,!q)T=13;else{if(Q=Fs(T,4)|0,!Q){jn(q),T=13;break}if(T=Sr(A,g,v,q,Q,T,P,0)|0,T|0){jn(q),jn(Q);break}if(g=m[D>>2]|0,D=m[D+4>>2]|0,(D|0)>0|(D|0)==0&g>>>0>0){T=0,B=0,G=0;do A=q+(B<<3)|0,P=m[A>>2]|0,A=m[A+4>>2]|0,!((P|0)==0&(A|0)==0)&&(m[Q+(B<<2)>>2]|0)==(v|0)&&(Te=w+(T<<3)|0,m[Te>>2]=P,m[Te+4>>2]=A,T=T+1|0),B=zn(B|0,G|0,1,0)|0,G=ie()|0;while((G|0)<(D|0)|(G|0)==(D|0)&B>>>0<g>>>0)}jn(q),jn(Q),T=0}}else T=2;while(0);return Te=T,ae=he,Te|0}function Wn(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0;for(B=ae,ae=ae+16|0,P=B,D=B+8|0,T=(Ci(A,g)|0)==0,T=T?1:2;;){if(m[D>>2]=0,q=(sr(A,g,T,D,P)|0)==0,G=P,q&((m[G>>2]|0)==(v|0)?(m[G+4>>2]|0)==(w|0):0)){A=4;break}if(T=T+1|0,T>>>0>=7){T=7,A=4;break}}return(A|0)==4?(ae=B,T|0):0}function hi(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0;if(B=ae,ae=ae+48|0,T=B+16|0,P=B+8|0,D=B,v=Oy(v)|0,v|0)return D=v,ae=B,D|0;if(q=A,G=m[q+4>>2]|0,v=P,m[v>>2]=m[q>>2],m[v+4>>2]=G,fU(P,T),v=H9(T,g,D)|0,!v){if(g=m[P>>2]|0,P=m[A+8>>2]|0,(P|0)>0){T=m[A+12>>2]|0,v=0;do g=(m[T+(v<<3)>>2]|0)+g|0,v=v+1|0;while((v|0)<(P|0))}v=D,T=m[v>>2]|0,v=m[v+4>>2]|0,P=((g|0)<0)<<31>>31,(v|0)<(P|0)|(v|0)==(P|0)&T>>>0<g>>>0?(v=D,m[v>>2]=g,m[v+4>>2]=P,v=P):g=T,G=zn(g|0,v|0,12,0)|0,q=ie()|0,v=D,m[v>>2]=G,m[v+4>>2]=q,v=w,m[v>>2]=G,m[v+4>>2]=q,v=0}return q=v,ae=B,q|0}function ro(A,g,v,w,T,P,D){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0,P=P|0,D=D|0;var B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0,Ze=0,Qt=0,$n=0,wn=0,mr=0,gr=0,Er=0,or=0,Un=0,Kt=0,_r=0,pi=0,yr=0,mi=0,cs=0,TU=0;if(pi=ae,ae=ae+64|0,or=pi+48|0,Un=pi+32|0,Kt=pi+24|0,Qt=pi+8|0,$n=pi,G=m[A>>2]|0,(G|0)<=0)return _r=0,ae=pi,_r|0;for(wn=A+4|0,mr=or+8|0,gr=Un+8|0,Er=Qt+8|0,B=0,ut=0;;){q=m[wn>>2]|0,ft=q+(ut<<4)|0,m[or>>2]=m[ft>>2],m[or+4>>2]=m[ft+4>>2],m[or+8>>2]=m[ft+8>>2],m[or+12>>2]=m[ft+12>>2],(ut|0)==(G+-1|0)?(m[Un>>2]=m[q>>2],m[Un+4>>2]=m[q+4>>2],m[Un+8>>2]=m[q+8>>2],m[Un+12>>2]=m[q+12>>2]):(ft=q+(ut+1<<4)|0,m[Un>>2]=m[ft>>2],m[Un+4>>2]=m[ft+4>>2],m[Un+8>>2]=m[ft+8>>2],m[Un+12>>2]=m[ft+12>>2]),G=eme(or,Un,w,Kt)|0;e:do if(G)q=0,B=G;else if(G=Kt,q=m[G>>2]|0,G=m[G+4>>2]|0,(G|0)>0|(G|0)==0&q>>>0>0){xt=0,ft=0;t:for(;;){if(mi=1/(+(q>>>0)+4294967296*+(G|0)),TU=+te[or>>3],G=Zo(q|0,G|0,xt|0,ft|0)|0,cs=+(G>>>0)+4294967296*+(ie()|0),yr=+(xt>>>0)+4294967296*+(ft|0),te[Qt>>3]=mi*(TU*cs)+mi*(+te[Un>>3]*yr),te[Er>>3]=mi*(+te[mr>>3]*cs)+mi*(+te[gr>>3]*yr),G=fP(Qt,w,$n)|0,G|0){B=G;break}ct=$n,Ke=m[ct>>2]|0,ct=m[ct+4>>2]|0,Te=O0(Ke|0,ct|0,g|0,v|0)|0,Q=ie()|0,G=D+(Te<<3)|0,he=G,q=m[he>>2]|0,he=m[he+4>>2]|0;n:do if((q|0)==0&(he|0)==0)Ze=G,_r=16;else for(Ee=0,Me=0;;){if((Ee|0)>(v|0)|(Ee|0)==(v|0)&Me>>>0>g>>>0){B=1;break t}if((q|0)==(Ke|0)&(he|0)==(ct|0))break n;if(G=zn(Te|0,Q|0,1,0)|0,Te=D0(G|0,ie()|0,g|0,v|0)|0,Q=ie()|0,Me=zn(Me|0,Ee|0,1,0)|0,Ee=ie()|0,G=D+(Te<<3)|0,he=G,q=m[he>>2]|0,he=m[he+4>>2]|0,(q|0)==0&(he|0)==0){Ze=G,_r=16;break}}while(0);if((_r|0)==16&&(_r=0,!((Ke|0)==0&(ct|0)==0))&&(Me=Ze,m[Me>>2]=Ke,m[Me+4>>2]=ct,Me=P+(m[T>>2]<<3)|0,m[Me>>2]=Ke,m[Me+4>>2]=ct,Me=T,Me=zn(m[Me>>2]|0,m[Me+4>>2]|0,1,0)|0,Ke=ie()|0,ct=T,m[ct>>2]=Me,m[ct+4>>2]=Ke),xt=zn(xt|0,ft|0,1,0)|0,ft=ie()|0,G=Kt,q=m[G>>2]|0,G=m[G+4>>2]|0,!((G|0)>(ft|0)|(G|0)==(ft|0)&q>>>0>xt>>>0)){q=1;break e}}q=0}else q=1;while(0);if(ut=ut+1|0,!q){_r=21;break}if(G=m[A>>2]|0,(ut|0)>=(G|0)){B=0,_r=21;break}}return(_r|0)==21?(ae=pi,B|0):0}function Nf(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0,Ze=0,Qt=0,$n=0,wn=0,mr=0,gr=0,Er=0,or=0,Un=0,Kt=0,_r=0,pi=0,yr=0,mi=0,cs=0;if(cs=ae,ae=ae+112|0,_r=cs+80|0,G=cs+72|0,pi=cs,yr=cs+56|0,T=Oy(v)|0,T|0)return mi=T,ae=cs,mi|0;if(q=A+8|0,mi=Tu((m[q>>2]<<5)+32|0)|0,!mi)return mi=13,ae=cs,mi|0;if(yP(A,mi),T=Oy(v)|0,!T){if(Un=A,Kt=m[Un+4>>2]|0,T=G,m[T>>2]=m[Un>>2],m[T+4>>2]=Kt,fU(G,_r),T=H9(_r,g,pi)|0,T)Un=0,Kt=0;else{if(T=m[G>>2]|0,P=m[q>>2]|0,(P|0)>0){D=m[A+12>>2]|0,v=0;do T=(m[D+(v<<3)>>2]|0)+T|0,v=v+1|0;while((v|0)!=(P|0));v=T}else v=T;T=pi,P=m[T>>2]|0,T=m[T+4>>2]|0,D=((v|0)<0)<<31>>31,(T|0)<(D|0)|(T|0)==(D|0)&P>>>0<v>>>0?(T=pi,m[T>>2]=v,m[T+4>>2]=D,T=D):v=P,Un=zn(v|0,T|0,12,0)|0,Kt=ie()|0,T=pi,m[T>>2]=Un,m[T+4>>2]=Kt,T=0}if(!T){if(v=Fs(Un,8)|0,!v)return jn(mi),mi=13,ae=cs,mi|0;if(B=Fs(Un,8)|0,!B)return jn(mi),jn(v),mi=13,ae=cs,mi|0;Er=_r,m[Er>>2]=0,m[Er+4>>2]=0,Er=A,or=m[Er+4>>2]|0,T=G,m[T>>2]=m[Er>>2],m[T+4>>2]=or,T=ro(G,Un,Kt,g,_r,v,B)|0;e:do if(T)jn(v),jn(B),jn(mi);else{t:do if((m[q>>2]|0)>0){for(D=A+12|0,P=0;T=ro((m[D>>2]|0)+(P<<3)|0,Un,Kt,g,_r,v,B)|0,P=P+1|0,!(T|0);)if((P|0)>=(m[q>>2]|0))break t;jn(v),jn(B),jn(mi);break e}while(0);(Kt|0)>0|(Kt|0)==0&Un>>>0>0&&Ff(B|0,0,Un<<3|0)|0,or=_r,Er=m[or+4>>2]|0;t:do if((Er|0)>0|(Er|0)==0&(m[or>>2]|0)>>>0>0){wn=v,mr=B,gr=v,Er=B,or=v,T=v,Ze=v,Qt=B,$n=B,v=B;n:for(;;){for(ct=0,xt=0,ft=0,ut=0,P=0,D=0;;){B=pi,G=B+56|0;do m[B>>2]=0,B=B+4|0;while((B|0)<(G|0));if(g=wn+(ct<<3)|0,q=m[g>>2]|0,g=m[g+4>>2]|0,Jn(q,g,1,pi,0)|0){B=pi,G=B+56|0;do m[B>>2]=0,B=B+4|0;while((B|0)<(G|0));B=Fs(7,4)|0,B|0&&(Sr(q,g,1,pi,B,7,0,0)|0,jn(B))}for(Ke=0;;){Me=pi+(Ke<<3)|0,Ee=m[Me>>2]|0,Me=m[Me+4>>2]|0;r:do if((Ee|0)==0&(Me|0)==0)B=P,G=D;else{if(Q=O0(Ee|0,Me|0,Un|0,Kt|0)|0,q=ie()|0,B=w+(Q<<3)|0,g=B,G=m[g>>2]|0,g=m[g+4>>2]|0,!((G|0)==0&(g|0)==0)){he=0,Te=0;do{if((he|0)>(Kt|0)|(he|0)==(Kt|0)&Te>>>0>Un>>>0)break n;if((G|0)==(Ee|0)&(g|0)==(Me|0)){B=P,G=D;break r}B=zn(Q|0,q|0,1,0)|0,Q=D0(B|0,ie()|0,Un|0,Kt|0)|0,q=ie()|0,Te=zn(Te|0,he|0,1,0)|0,he=ie()|0,B=w+(Q<<3)|0,g=B,G=m[g>>2]|0,g=m[g+4>>2]|0}while(!((G|0)==0&(g|0)==0))}if((Ee|0)==0&(Me|0)==0){B=P,G=D;break}Tp(Ee,Me,yr)|0,bP(A,mi,yr)|0&&(Te=zn(P|0,D|0,1,0)|0,D=ie()|0,he=B,m[he>>2]=Ee,m[he+4>>2]=Me,P=mr+(P<<3)|0,m[P>>2]=Ee,m[P+4>>2]=Me,P=Te),B=P,G=D}while(0);if(Ke=Ke+1|0,Ke>>>0>=7)break;P=B,D=G}if(ct=zn(ct|0,xt|0,1,0)|0,xt=ie()|0,ft=zn(ft|0,ut|0,1,0)|0,ut=ie()|0,D=_r,P=m[D>>2]|0,D=m[D+4>>2]|0,(ut|0)<(D|0)|(ut|0)==(D|0)&ft>>>0<P>>>0)P=B,D=G;else break}if((D|0)>0|(D|0)==0&P>>>0>0){P=0,D=0;do ut=wn+(P<<3)|0,m[ut>>2]=0,m[ut+4>>2]=0,P=zn(P|0,D|0,1,0)|0,D=ie()|0,ut=_r,ft=m[ut+4>>2]|0;while((D|0)<(ft|0)|((D|0)==(ft|0)?P>>>0<(m[ut>>2]|0)>>>0:0))}if(ut=_r,m[ut>>2]=B,m[ut+4>>2]=G,(G|0)>0|(G|0)==0&B>>>0>0)Ke=v,ct=$n,xt=or,ft=Qt,ut=mr,v=Ze,$n=T,Qt=gr,Ze=Ke,T=ct,or=Er,Er=xt,gr=ft,mr=wn,wn=ut;else break t}jn(gr),jn(Er),jn(mi),T=1;break e}else T=B;while(0);jn(mi),jn(v),jn(T),T=0}while(0);return mi=T,ae=cs,mi|0}}return jn(mi),mi=T,ae=cs,mi|0}function $a(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0;if(Q=ae,ae=ae+176|0,G=Q,(g|0)<1)return vU(v,0,0),q=0,ae=Q,q|0;for(B=A,B=Gt(m[B>>2]|0,m[B+4>>2]|0,52)|0,ie()|0,vU(v,(g|0)>6?g:6,B&15),B=0;w=A+(B<<3)|0,w=N0(m[w>>2]|0,m[w+4>>2]|0,G)|0,!(w|0);){if(w=m[G>>2]|0,(w|0)>0){D=0;do P=G+8+(D<<4)|0,D=D+1|0,w=G+8+(((D|0)%(w|0)|0)<<4)|0,T=y0e(v,w,P)|0,T?xU(v,T)|0:v0e(v,P,w)|0,w=m[G>>2]|0;while((D|0)<(w|0))}if(B=B+1|0,(B|0)>=(g|0)){w=0,q=13;break}}return(q|0)==13?(ae=Q,w|0):(yU(v),q=w,ae=Q,q|0)}function Cd(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0;if(P=ae,ae=ae+32|0,w=P,T=P+16|0,A=$a(A,g,T)|0,A|0)return v=A,ae=P,v|0;if(m[v>>2]=0,m[v+4>>2]=0,m[v+8>>2]=0,A=bU(T)|0,A|0)do{g=Xme(v)|0;do Yme(g,A)|0,D=A+16|0,m[w>>2]=m[D>>2],m[w+4>>2]=m[D+4>>2],m[w+8>>2]=m[D+8>>2],m[w+12>>2]=m[D+12>>2],xU(T,A)|0,A=b0e(T,w)|0;while(A|0);A=bU(T)|0}while(A|0);return yU(T),A=Kme(v)|0,A?(lU(v),D=A,ae=P,D|0):(D=0,ae=P,D|0)}function Jr(A){return A=A|0,A>>>0>121?(A=0,A|0):(A=m[7696+(A*28|0)+16>>2]|0,A|0)}function Hl(A){return A=A|0,(A|0)==4|(A|0)==117|0}function Td(A){return A=A|0,m[11120+((m[A>>2]|0)*216|0)+((m[A+4>>2]|0)*72|0)+((m[A+8>>2]|0)*24|0)+(m[A+12>>2]<<3)>>2]|0}function C0(A){return A=A|0,m[11120+((m[A>>2]|0)*216|0)+((m[A+4>>2]|0)*72|0)+((m[A+8>>2]|0)*24|0)+(m[A+12>>2]<<3)+4>>2]|0}function T0(A,g){A=A|0,g=g|0,A=7696+(A*28|0)|0,m[g>>2]=m[A>>2],m[g+4>>2]=m[A+4>>2],m[g+8>>2]=m[A+8>>2],m[g+12>>2]=m[A+12>>2]}function My(A,g){A=A|0,g=g|0;var v=0,w=0;if(g>>>0>20)return g=-1,g|0;do if((m[11120+(g*216|0)>>2]|0)!=(A|0))if((m[11120+(g*216|0)+8>>2]|0)!=(A|0))if((m[11120+(g*216|0)+16>>2]|0)!=(A|0))if((m[11120+(g*216|0)+24>>2]|0)!=(A|0))if((m[11120+(g*216|0)+32>>2]|0)!=(A|0))if((m[11120+(g*216|0)+40>>2]|0)!=(A|0))if((m[11120+(g*216|0)+48>>2]|0)!=(A|0))if((m[11120+(g*216|0)+56>>2]|0)!=(A|0))if((m[11120+(g*216|0)+64>>2]|0)!=(A|0))if((m[11120+(g*216|0)+72>>2]|0)!=(A|0))if((m[11120+(g*216|0)+80>>2]|0)!=(A|0))if((m[11120+(g*216|0)+88>>2]|0)!=(A|0))if((m[11120+(g*216|0)+96>>2]|0)!=(A|0))if((m[11120+(g*216|0)+104>>2]|0)!=(A|0))if((m[11120+(g*216|0)+112>>2]|0)!=(A|0))if((m[11120+(g*216|0)+120>>2]|0)!=(A|0))if((m[11120+(g*216|0)+128>>2]|0)!=(A|0))if((m[11120+(g*216|0)+136>>2]|0)==(A|0))A=2,v=1,w=2;else{if((m[11120+(g*216|0)+144>>2]|0)==(A|0)){A=0,v=2,w=0;break}if((m[11120+(g*216|0)+152>>2]|0)==(A|0)){A=0,v=2,w=1;break}if((m[11120+(g*216|0)+160>>2]|0)==(A|0)){A=0,v=2,w=2;break}if((m[11120+(g*216|0)+168>>2]|0)==(A|0)){A=1,v=2,w=0;break}if((m[11120+(g*216|0)+176>>2]|0)==(A|0)){A=1,v=2,w=1;break}if((m[11120+(g*216|0)+184>>2]|0)==(A|0)){A=1,v=2,w=2;break}if((m[11120+(g*216|0)+192>>2]|0)==(A|0)){A=2,v=2,w=0;break}if((m[11120+(g*216|0)+200>>2]|0)==(A|0)){A=2,v=2,w=1;break}if((m[11120+(g*216|0)+208>>2]|0)==(A|0)){A=2,v=2,w=2;break}else A=-1;return A|0}else A=2,v=1,w=1;else A=2,v=1,w=0;else A=1,v=1,w=2;else A=1,v=1,w=1;else A=1,v=1,w=0;else A=0,v=1,w=2;else A=0,v=1,w=1;else A=0,v=1,w=0;else A=2,v=0,w=2;else A=2,v=0,w=1;else A=2,v=0,w=0;else A=1,v=0,w=2;else A=1,v=0,w=1;else A=1,v=0,w=0;else A=0,v=0,w=2;else A=0,v=0,w=1;else A=0,v=0,w=0;while(0);return g=m[11120+(g*216|0)+(v*72|0)+(A*24|0)+(w<<3)+4>>2]|0,g|0}function Tn(A,g){return A=A|0,g=g|0,(m[7696+(A*28|0)+20>>2]|0)==(g|0)?(g=1,g|0):(g=(m[7696+(A*28|0)+24>>2]|0)==(g|0),g|0)}function er(A,g){return A=A|0,g=g|0,m[848+(A*28|0)+(g<<2)>>2]|0}function wi(A,g){return A=A|0,g=g|0,(m[848+(A*28|0)>>2]|0)==(g|0)?(g=0,g|0):(m[848+(A*28|0)+4>>2]|0)==(g|0)?(g=1,g|0):(m[848+(A*28|0)+8>>2]|0)==(g|0)?(g=2,g|0):(m[848+(A*28|0)+12>>2]|0)==(g|0)?(g=3,g|0):(m[848+(A*28|0)+16>>2]|0)==(g|0)?(g=4,g|0):(m[848+(A*28|0)+20>>2]|0)==(g|0)?(g=5,g|0):((m[848+(A*28|0)+24>>2]|0)==(g|0)?6:7)|0}function io(){return 122}function Li(A){A=A|0;var g=0,v=0,w=0;g=0;do Yt(g|0,0,45)|0,w=ie()|0|134225919,v=A+(g<<3)|0,m[v>>2]=-1,m[v+4>>2]=w,g=g+1|0;while((g|0)!=122);return 0}function E0(A){A=A|0;var g=0,v=0,w=0;return w=+te[A+16>>3],v=+te[A+24>>3],g=w-v,+(w<v?g+6.283185307179586:g)}function M0(A){return A=A|0,+te[A+16>>3]<+te[A+24>>3]|0}function CS(A){return A=A|0,+(+te[A>>3]-+te[A+8>>3])}function If(A,g){A=A|0,g=g|0;var v=0,w=0,T=0;return v=+te[g>>3],!(v>=+te[A+8>>3])||!(v<=+te[A>>3])?(g=0,g|0):(w=+te[A+16>>3],v=+te[A+24>>3],T=+te[g+8>>3],g=T>=v,A=T<=w&1,w<v?g&&(A=1):g||(A=0),g=(A|0)!=0,g|0)}function nP(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0;return+te[A>>3]<+te[g+8>>3]||+te[A+8>>3]>+te[g>>3]?(w=0,w|0):(P=+te[A+16>>3],v=A+24|0,Q=+te[v>>3],D=P<Q,w=g+16|0,q=+te[w>>3],T=g+24|0,G=+te[T>>3],B=q<G,g=Q-q<G-P,A=D?B|g?1:2:0,g=B?D?1:g?2:1:0,P=+dl(P,A),P<+dl(+te[T>>3],g)||(Q=+dl(+te[v>>3],A),Q>+dl(+te[w>>3],g))?(B=0,B|0):(B=1,B|0))}function Jpe(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0;P=+te[A+16>>3],G=+te[A+24>>3],A=P<G,B=+te[g+16>>3],D=+te[g+24>>3],T=B<D,g=G-B<D-P,m[v>>2]=A?T|g?1:2:0,m[w>>2]=T?A?1:g?2:1:0}function z9(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0;return+te[A>>3]<+te[g>>3]||+te[A+8>>3]>+te[g+8>>3]?(w=0,w|0):(w=A+16|0,G=+te[w>>3],P=+te[A+24>>3],D=G<P,v=g+16|0,Q=+te[v>>3],T=g+24|0,q=+te[T>>3],B=Q<q,g=P-Q<q-G,A=D?B|g?1:2:0,g=B?D?1:g?2:1:0,P=+dl(P,A),P<=+dl(+te[T>>3],g)?(Q=+dl(+te[w>>3],A),B=Q>=+dl(+te[v>>3],g),B|0):(B=0,B|0))}function G9(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0;T=ae,ae=ae+176|0,w=T,m[w>>2]=4,B=+te[g>>3],te[w+8>>3]=B,P=+te[g+16>>3],te[w+16>>3]=P,te[w+24>>3]=B,B=+te[g+24>>3],te[w+32>>3]=B,D=+te[g+8>>3],te[w+40>>3]=D,te[w+48>>3]=B,te[w+56>>3]=D,te[w+64>>3]=P,g=w+72|0,v=g+96|0;do m[g>>2]=0,g=g+4|0;while((g|0)<(v|0));L0(A|0,w|0,168)|0,ae=T}function H9(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0;Me=ae,ae=ae+288|0,Q=Me+264|0,he=Me+96|0,q=Me,B=q,G=B+96|0;do m[B>>2]=0,B=B+4|0;while((B|0)<(G|0));return g=pP(g,q)|0,g|0?(Ee=g,ae=Me,Ee|0):(G=q,q=m[G>>2]|0,G=m[G+4>>2]|0,Tp(q,G,Q)|0,N0(q,G,he)|0,D=+Iy(Q,he+8|0),te[Q>>3]=+te[A>>3],G=Q+8|0,te[G>>3]=+te[A+16>>3],te[he>>3]=+te[A+8>>3],q=he+8|0,te[q>>3]=+te[A+24>>3],T=+Iy(Q,he),ct=+te[G>>3]-+te[q>>3],P=+cn(+ct),Ke=+te[Q>>3]-+te[he>>3],w=+cn(+Ke),!(ct==0|Ke==0)&&(ct=+wU(+P,+w),ct=+et(+(T*T/+DS(+(ct/+DS(+P,+w)),3)/(D*(D*2.59807621135)*.8))),te[on>>3]=ct,Te=~~ct>>>0,Ee=+cn(ct)>=1?ct>0?~~+Fe(+Gn(ct/4294967296),4294967295)>>>0:~~+et((ct-+(~~ct>>>0))/4294967296)>>>0:0,(m[on+4>>2]&2146435072|0)!=2146435072)?(he=(Te|0)==0&(Ee|0)==0,g=v,m[g>>2]=he?1:Te,m[g+4>>2]=he?0:Ee,g=0):g=1,Ee=g,ae=Me,Ee|0)}function eme(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0;q=ae,ae=ae+288|0,D=q+264|0,B=q+96|0,G=q,T=G,P=T+96|0;do m[T>>2]=0,T=T+4|0;while((T|0)<(P|0));return v=pP(v,G)|0,v|0?(w=v,ae=q,w|0):(v=G,T=m[v>>2]|0,v=m[v+4>>2]|0,Tp(T,v,D)|0,N0(T,v,B)|0,Q=+Iy(D,B+8|0),Q=+et(+(+Iy(A,g)/(Q*2))),te[on>>3]=Q,v=~~Q>>>0,T=+cn(Q)>=1?Q>0?~~+Fe(+Gn(Q/4294967296),4294967295)>>>0:~~+et((Q-+(~~Q>>>0))/4294967296)>>>0:0,(m[on+4>>2]&2146435072|0)==2146435072?(w=1,ae=q,w|0):(G=(v|0)==0&(T|0)==0,m[w>>2]=G?1:v,m[w+4>>2]=G?0:T,w=0,ae=q,w|0))}function tme(A,g){A=A|0,g=+g;var v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0;P=A+16|0,D=+te[P>>3],v=A+24|0,T=+te[v>>3],w=D-T,w=D<T?w+6.283185307179586:w,q=+te[A>>3],B=A+8|0,G=+te[B>>3],Q=q-G,w=(w*g-w)*.5,g=(Q*g-Q)*.5,q=q+g,te[A>>3]=q>1.5707963267948966?1.5707963267948966:q,g=G-g,te[B>>3]=g<-1.5707963267948966?-1.5707963267948966:g,g=D+w,g=g>3.141592653589793?g+-6.283185307179586:g,te[P>>3]=g<-3.141592653589793?g+6.283185307179586:g,g=T-w,g=g>3.141592653589793?g+-6.283185307179586:g,te[v>>3]=g<-3.141592653589793?g+6.283185307179586:g}function nme(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0,m[A>>2]=g,m[A+4>>2]=v,m[A+8>>2]=w}function rme(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0;he=g+8|0,m[he>>2]=0,G=+te[A>>3],D=+cn(+G),q=+te[A+8>>3],B=+cn(+q)*1.1547005383792515,D=D+B*.5,v=~~D,A=~~B,D=D-+(v|0),B=B-+(A|0);do if(D<.5)if(D<.3333333333333333)if(m[g>>2]=v,B<(D+1)*.5){m[g+4>>2]=A;break}else{A=A+1|0,m[g+4>>2]=A;break}else if(Te=1-D,A=(!(B<Te)&1)+A|0,m[g+4>>2]=A,Te<=B&B<D*2){v=v+1|0,m[g>>2]=v;break}else{m[g>>2]=v;break}else{if(!(D<.6666666666666666))if(v=v+1|0,m[g>>2]=v,B<D*.5){m[g+4>>2]=A;break}else{A=A+1|0,m[g+4>>2]=A;break}if(B<1-D){if(m[g+4>>2]=A,D*2+-1<B){m[g>>2]=v;break}}else A=A+1|0,m[g+4>>2]=A;v=v+1|0,m[g>>2]=v}while(0);do if(G<0)if(A&1){Q=(A+1|0)/2|0,Q=Zo(v|0,((v|0)<0)<<31>>31|0,Q|0,((Q|0)<0)<<31>>31|0)|0,v=~~(+(v|0)-((+(Q>>>0)+4294967296*+(ie()|0))*2+1)),m[g>>2]=v;break}else{Q=(A|0)/2|0,Q=Zo(v|0,((v|0)<0)<<31>>31|0,Q|0,((Q|0)<0)<<31>>31|0)|0,v=~~(+(v|0)-(+(Q>>>0)+4294967296*+(ie()|0))*2),m[g>>2]=v;break}while(0);Q=g+4|0,q<0&&(v=v-((A<<1|1|0)/2|0)|0,m[g>>2]=v,A=0-A|0,m[Q>>2]=A),w=A-v|0,(v|0)<0?(T=0-v|0,m[Q>>2]=w,m[he>>2]=T,m[g>>2]=0,A=w,v=0):T=0,(A|0)<0&&(v=v-A|0,m[g>>2]=v,T=T-A|0,m[he>>2]=T,m[Q>>2]=0,A=0),P=v-T|0,w=A-T|0,(T|0)<0&&(m[g>>2]=P,m[Q>>2]=w,m[he>>2]=0,A=w,v=P,T=0),w=(A|0)<(v|0)?A:v,w=(T|0)<(w|0)?T:w,!((w|0)<=0)&&(m[g>>2]=v-w,m[Q>>2]=A-w,m[he>>2]=T-w)}function Ua(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0;g=m[A>>2]|0,D=A+4|0,v=m[D>>2]|0,(g|0)<0&&(v=v-g|0,m[D>>2]=v,P=A+8|0,m[P>>2]=(m[P>>2]|0)-g,m[A>>2]=0,g=0),(v|0)<0?(g=g-v|0,m[A>>2]=g,P=A+8|0,T=(m[P>>2]|0)-v|0,m[P>>2]=T,m[D>>2]=0,v=0):(T=A+8|0,P=T,T=m[T>>2]|0),(T|0)<0&&(g=g-T|0,m[A>>2]=g,v=v-T|0,m[D>>2]=v,m[P>>2]=0,T=0),w=(v|0)<(g|0)?v:g,w=(T|0)<(w|0)?T:w,!((w|0)<=0)&&(m[A>>2]=g-w,m[D>>2]=v-w,m[P>>2]=T-w)}function Sp(A,g){A=A|0,g=g|0;var v=0,w=0;w=m[A+8>>2]|0,v=+((m[A+4>>2]|0)-w|0),te[g>>3]=+((m[A>>2]|0)-w|0)-v*.5,te[g+8>>3]=v*.8660254037844386}function ls(A,g,v){A=A|0,g=g|0,v=v|0,m[v>>2]=(m[g>>2]|0)+(m[A>>2]|0),m[v+4>>2]=(m[g+4>>2]|0)+(m[A+4>>2]|0),m[v+8>>2]=(m[g+8>>2]|0)+(m[A+8>>2]|0)}function rP(A,g,v){A=A|0,g=g|0,v=v|0,m[v>>2]=(m[A>>2]|0)-(m[g>>2]|0),m[v+4>>2]=(m[A+4>>2]|0)-(m[g+4>>2]|0),m[v+8>>2]=(m[A+8>>2]|0)-(m[g+8>>2]|0)}function j9(A,g){A=A|0,g=g|0;var v=0,w=0;v=nt(m[A>>2]|0,g)|0,m[A>>2]=v,v=A+4|0,w=nt(m[v>>2]|0,g)|0,m[v>>2]=w,A=A+8|0,g=nt(m[A>>2]|0,g)|0,m[A>>2]=g}function TS(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0;D=m[A>>2]|0,B=(D|0)<0,w=(m[A+4>>2]|0)-(B?D:0)|0,P=(w|0)<0,T=(P?0-w|0:0)+((m[A+8>>2]|0)-(B?D:0))|0,v=(T|0)<0,A=v?0:T,g=(P?0:w)-(v?T:0)|0,T=(B?0:D)-(P?w:0)-(v?T:0)|0,v=(g|0)<(T|0)?g:T,v=(A|0)<(v|0)?A:v,w=(v|0)>0,A=A-(w?v:0)|0,g=g-(w?v:0)|0;e:do switch(T-(w?v:0)|0){case 0:switch(g|0){case 0:return B=A|0?(A|0)==1?1:7:0,B|0;case 1:return B=A|0?(A|0)==1?3:7:2,B|0;default:break e}case 1:switch(g|0){case 0:return B=A|0?(A|0)==1?5:7:4,B|0;case 1:{if(!A)A=6;else break e;return A|0}default:break e}}while(0);return B=7,B|0}function ime(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0;if(G=A+8|0,D=m[G>>2]|0,B=(m[A>>2]|0)-D|0,q=A+4|0,D=(m[q>>2]|0)-D|0,B>>>0>715827881|D>>>0>715827881){if(w=(B|0)>0,T=2147483647-B|0,P=-2147483648-B|0,(w?(T|0)<(B|0):(P|0)>(B|0))||(v=B<<1,w?(2147483647-v|0)<(B|0):(-2147483648-v|0)>(B|0))||((D|0)>0?(2147483647-D|0)<(D|0):(-2147483648-D|0)>(D|0))||(g=B*3|0,v=D<<1,(w?(T|0)<(v|0):(P|0)>(v|0))||((B|0)>-1?(g|-2147483648|0)>=(D|0):(g^-2147483648|0)<(D|0))))return q=1,q|0}else v=D<<1,g=B*3|0;return w=Lf(+(g-D|0)*.14285714285714285)|0,m[A>>2]=w,T=Lf(+(v+B|0)*.14285714285714285)|0,m[q>>2]=T,m[G>>2]=0,v=(T|0)<(w|0),g=v?w:T,v=v?T:w,(v|0)<0&&(((v|0)==-2147483648||((g|0)>0?(2147483647-g|0)<(v|0):(-2147483648-g|0)>(v|0)))&&Ot(27795,26892,354,26903),((g|0)>-1?(g|-2147483648|0)>=(v|0):(g^-2147483648|0)<(v|0))&&Ot(27795,26892,354,26903)),g=T-w|0,(w|0)<0?(v=0-w|0,m[q>>2]=g,m[G>>2]=v,m[A>>2]=0,w=0):(g=T,v=0),(g|0)<0&&(w=w-g|0,m[A>>2]=w,v=v-g|0,m[G>>2]=v,m[q>>2]=0,g=0),P=w-v|0,T=g-v|0,(v|0)<0?(m[A>>2]=P,m[q>>2]=T,m[G>>2]=0,g=T,T=P,v=0):T=w,w=(g|0)<(T|0)?g:T,w=(v|0)<(w|0)?v:w,(w|0)<=0?(q=0,q|0):(m[A>>2]=T-w,m[q>>2]=g-w,m[G>>2]=v-w,q=0,q|0)}function ome(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0,G=0;if(D=A+8|0,T=m[D>>2]|0,P=(m[A>>2]|0)-T|0,B=A+4|0,T=(m[B>>2]|0)-T|0,P>>>0>715827881|T>>>0>715827881){if(v=(P|0)>0,(v?(2147483647-P|0)<(P|0):(-2147483648-P|0)>(P|0))||(g=P<<1,w=(T|0)>0,w?(2147483647-T|0)<(T|0):(-2147483648-T|0)>(T|0)))return B=1,B|0;if(G=T<<1,(w?(2147483647-G|0)<(T|0):(-2147483648-G|0)>(T|0))||(v?(2147483647-g|0)<(T|0):(-2147483648-g|0)>(T|0))||(v=T*3|0,(T|0)>-1?(v|-2147483648|0)>=(P|0):(v^-2147483648|0)<(P|0)))return G=1,G|0}else v=T*3|0,g=P<<1;return w=Lf(+(g+T|0)*.14285714285714285)|0,m[A>>2]=w,T=Lf(+(v-P|0)*.14285714285714285)|0,m[B>>2]=T,m[D>>2]=0,v=(T|0)<(w|0),g=v?w:T,v=v?T:w,(v|0)<0&&(((v|0)==-2147483648||((g|0)>0?(2147483647-g|0)<(v|0):(-2147483648-g|0)>(v|0)))&&Ot(27795,26892,402,26917),((g|0)>-1?(g|-2147483648|0)>=(v|0):(g^-2147483648|0)<(v|0))&&Ot(27795,26892,402,26917)),g=T-w|0,(w|0)<0?(v=0-w|0,m[B>>2]=g,m[D>>2]=v,m[A>>2]=0,w=0):(g=T,v=0),(g|0)<0&&(w=w-g|0,m[A>>2]=w,v=v-g|0,m[D>>2]=v,m[B>>2]=0,g=0),P=w-v|0,T=g-v|0,(v|0)<0?(m[A>>2]=P,m[B>>2]=T,m[D>>2]=0,g=T,T=P,v=0):T=w,w=(g|0)<(T|0)?g:T,w=(v|0)<(w|0)?v:w,(w|0)<=0?(G=0,G|0):(m[A>>2]=T-w,m[B>>2]=g-w,m[D>>2]=v-w,G=0,G|0)}function ame(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0;D=A+8|0,v=m[D>>2]|0,g=(m[A>>2]|0)-v|0,B=A+4|0,v=(m[B>>2]|0)-v|0,w=Lf(+((g*3|0)-v|0)*.14285714285714285)|0,m[A>>2]=w,g=Lf(+((v<<1)+g|0)*.14285714285714285)|0,m[B>>2]=g,m[D>>2]=0,v=g-w|0,(w|0)<0?(P=0-w|0,m[B>>2]=v,m[D>>2]=P,m[A>>2]=0,g=v,w=0,v=P):v=0,(g|0)<0&&(w=w-g|0,m[A>>2]=w,v=v-g|0,m[D>>2]=v,m[B>>2]=0,g=0),P=w-v|0,T=g-v|0,(v|0)<0?(m[A>>2]=P,m[B>>2]=T,m[D>>2]=0,g=T,T=P,v=0):T=w,w=(g|0)<(T|0)?g:T,w=(v|0)<(w|0)?v:w,!((w|0)<=0)&&(m[A>>2]=T-w,m[B>>2]=g-w,m[D>>2]=v-w)}function q9(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0;D=A+8|0,v=m[D>>2]|0,g=(m[A>>2]|0)-v|0,B=A+4|0,v=(m[B>>2]|0)-v|0,w=Lf(+((g<<1)+v|0)*.14285714285714285)|0,m[A>>2]=w,g=Lf(+((v*3|0)-g|0)*.14285714285714285)|0,m[B>>2]=g,m[D>>2]=0,v=g-w|0,(w|0)<0?(P=0-w|0,m[B>>2]=v,m[D>>2]=P,m[A>>2]=0,g=v,w=0,v=P):v=0,(g|0)<0&&(w=w-g|0,m[A>>2]=w,v=v-g|0,m[D>>2]=v,m[B>>2]=0,g=0),P=w-v|0,T=g-v|0,(v|0)<0?(m[A>>2]=P,m[B>>2]=T,m[D>>2]=0,g=T,T=P,v=0):T=w,w=(g|0)<(T|0)?g:T,w=(v|0)<(w|0)?v:w,!((w|0)<=0)&&(m[A>>2]=T-w,m[B>>2]=g-w,m[D>>2]=v-w)}function ES(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0;g=m[A>>2]|0,D=A+4|0,v=m[D>>2]|0,B=A+8|0,w=m[B>>2]|0,T=v+(g*3|0)|0,m[A>>2]=T,v=w+(v*3|0)|0,m[D>>2]=v,g=(w*3|0)+g|0,m[B>>2]=g,w=v-T|0,(T|0)<0?(g=g-T|0,m[D>>2]=w,m[B>>2]=g,m[A>>2]=0,v=w,w=0):w=T,(v|0)<0&&(w=w-v|0,m[A>>2]=w,g=g-v|0,m[B>>2]=g,m[D>>2]=0,v=0),P=w-g|0,T=v-g|0,(g|0)<0?(m[A>>2]=P,m[D>>2]=T,m[B>>2]=0,w=P,g=0):T=v,v=(T|0)<(w|0)?T:w,v=(g|0)<(v|0)?g:v,!((v|0)<=0)&&(m[A>>2]=w-v,m[D>>2]=T-v,m[B>>2]=g-v)}function _p(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0;T=m[A>>2]|0,D=A+4|0,g=m[D>>2]|0,B=A+8|0,v=m[B>>2]|0,w=(g*3|0)+T|0,T=v+(T*3|0)|0,m[A>>2]=T,m[D>>2]=w,g=(v*3|0)+g|0,m[B>>2]=g,v=w-T|0,(T|0)<0?(g=g-T|0,m[D>>2]=v,m[B>>2]=g,m[A>>2]=0,T=0):v=w,(v|0)<0&&(T=T-v|0,m[A>>2]=T,g=g-v|0,m[B>>2]=g,m[D>>2]=0,v=0),P=T-g|0,w=v-g|0,(g|0)<0?(m[A>>2]=P,m[D>>2]=w,m[B>>2]=0,T=P,g=0):w=v,v=(w|0)<(T|0)?w:T,v=(g|0)<(v|0)?g:v,!((v|0)<=0)&&(m[A>>2]=T-v,m[D>>2]=w-v,m[B>>2]=g-v)}function W9(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0;(g+-1|0)>>>0>=6||(T=(m[15440+(g*12|0)>>2]|0)+(m[A>>2]|0)|0,m[A>>2]=T,B=A+4|0,w=(m[15440+(g*12|0)+4>>2]|0)+(m[B>>2]|0)|0,m[B>>2]=w,D=A+8|0,g=(m[15440+(g*12|0)+8>>2]|0)+(m[D>>2]|0)|0,m[D>>2]=g,v=w-T|0,(T|0)<0?(g=g-T|0,m[B>>2]=v,m[D>>2]=g,m[A>>2]=0,w=0):(v=w,w=T),(v|0)<0&&(w=w-v|0,m[A>>2]=w,g=g-v|0,m[D>>2]=g,m[B>>2]=0,v=0),P=w-g|0,T=v-g|0,(g|0)<0?(m[A>>2]=P,m[B>>2]=T,m[D>>2]=0,w=P,g=0):T=v,v=(T|0)<(w|0)?T:w,v=(g|0)<(v|0)?g:v,!((v|0)<=0)&&(m[A>>2]=w-v,m[B>>2]=T-v,m[D>>2]=g-v))}function X9(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0;T=m[A>>2]|0,D=A+4|0,g=m[D>>2]|0,B=A+8|0,v=m[B>>2]|0,w=g+T|0,T=v+T|0,m[A>>2]=T,m[D>>2]=w,g=v+g|0,m[B>>2]=g,v=w-T|0,(T|0)<0?(g=g-T|0,m[D>>2]=v,m[B>>2]=g,m[A>>2]=0,w=0):(v=w,w=T),(v|0)<0&&(w=w-v|0,m[A>>2]=w,g=g-v|0,m[B>>2]=g,m[D>>2]=0,v=0),P=w-g|0,T=v-g|0,(g|0)<0?(m[A>>2]=P,m[D>>2]=T,m[B>>2]=0,w=P,g=0):T=v,v=(T|0)<(w|0)?T:w,v=(g|0)<(v|0)?g:v,!((v|0)<=0)&&(m[A>>2]=w-v,m[D>>2]=T-v,m[B>>2]=g-v)}function MS(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0;g=m[A>>2]|0,D=A+4|0,w=m[D>>2]|0,B=A+8|0,v=m[B>>2]|0,T=w+g|0,m[A>>2]=T,w=v+w|0,m[D>>2]=w,g=v+g|0,m[B>>2]=g,v=w-T|0,(T|0)<0?(g=g-T|0,m[D>>2]=v,m[B>>2]=g,m[A>>2]=0,w=0):(v=w,w=T),(v|0)<0&&(w=w-v|0,m[A>>2]=w,g=g-v|0,m[B>>2]=g,m[D>>2]=0,v=0),P=w-g|0,T=v-g|0,(g|0)<0?(m[A>>2]=P,m[D>>2]=T,m[B>>2]=0,w=P,g=0):T=v,v=(T|0)<(w|0)?T:w,v=(g|0)<(v|0)?g:v,!((v|0)<=0)&&(m[A>>2]=w-v,m[D>>2]=T-v,m[B>>2]=g-v)}function wp(A){switch(A=A|0,A|0){case 1:{A=5;break}case 5:{A=4;break}case 4:{A=6;break}case 6:{A=2;break}case 2:{A=3;break}case 3:{A=1;break}}return A|0}function Df(A){switch(A=A|0,A|0){case 1:{A=3;break}case 3:{A=2;break}case 2:{A=6;break}case 6:{A=4;break}case 4:{A=5;break}case 5:{A=1;break}}return A|0}function Y9(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0;g=m[A>>2]|0,D=A+4|0,v=m[D>>2]|0,B=A+8|0,w=m[B>>2]|0,T=v+(g<<1)|0,m[A>>2]=T,v=w+(v<<1)|0,m[D>>2]=v,g=(w<<1)+g|0,m[B>>2]=g,w=v-T|0,(T|0)<0?(g=g-T|0,m[D>>2]=w,m[B>>2]=g,m[A>>2]=0,v=w,w=0):w=T,(v|0)<0&&(w=w-v|0,m[A>>2]=w,g=g-v|0,m[B>>2]=g,m[D>>2]=0,v=0),P=w-g|0,T=v-g|0,(g|0)<0?(m[A>>2]=P,m[D>>2]=T,m[B>>2]=0,w=P,g=0):T=v,v=(T|0)<(w|0)?T:w,v=(g|0)<(v|0)?g:v,!((v|0)<=0)&&(m[A>>2]=w-v,m[D>>2]=T-v,m[B>>2]=g-v)}function K9(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0;T=m[A>>2]|0,D=A+4|0,g=m[D>>2]|0,B=A+8|0,v=m[B>>2]|0,w=(g<<1)+T|0,T=v+(T<<1)|0,m[A>>2]=T,m[D>>2]=w,g=(v<<1)+g|0,m[B>>2]=g,v=w-T|0,(T|0)<0?(g=g-T|0,m[D>>2]=v,m[B>>2]=g,m[A>>2]=0,T=0):v=w,(v|0)<0&&(T=T-v|0,m[A>>2]=T,g=g-v|0,m[B>>2]=g,m[D>>2]=0,v=0),P=T-g|0,w=v-g|0,(g|0)<0?(m[A>>2]=P,m[D>>2]=w,m[B>>2]=0,T=P,g=0):w=v,v=(w|0)<(T|0)?w:T,v=(g|0)<(v|0)?g:v,!((v|0)<=0)&&(m[A>>2]=T-v,m[D>>2]=w-v,m[B>>2]=g-v)}function iP(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0;return D=(m[A>>2]|0)-(m[g>>2]|0)|0,B=(D|0)<0,w=(m[A+4>>2]|0)-(m[g+4>>2]|0)-(B?D:0)|0,P=(w|0)<0,T=(B?0-D|0:0)+(m[A+8>>2]|0)-(m[g+8>>2]|0)+(P?0-w|0:0)|0,A=(T|0)<0,g=A?0:T,v=(P?0:w)-(A?T:0)|0,T=(B?0:D)-(P?w:0)-(A?T:0)|0,A=(v|0)<(T|0)?v:T,A=(g|0)<(A|0)?g:A,w=(A|0)>0,g=g-(w?A:0)|0,v=v-(w?A:0)|0,A=T-(w?A:0)|0,A=(A|0)>-1?A:0-A|0,v=(v|0)>-1?v:0-v|0,g=(g|0)>-1?g:0-g|0,g=(v|0)>(g|0)?v:g,((A|0)>(g|0)?A:g)|0}function sme(A,g){A=A|0,g=g|0;var v=0;v=m[A+8>>2]|0,m[g>>2]=(m[A>>2]|0)-v,m[g+4>>2]=(m[A+4>>2]|0)-v}function lme(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0;return w=m[A>>2]|0,m[g>>2]=w,T=m[A+4>>2]|0,D=g+4|0,m[D>>2]=T,B=g+8|0,m[B>>2]=0,v=(T|0)<(w|0),A=v?w:T,v=v?T:w,(v|0)<0&&((v|0)==-2147483648||((A|0)>0?(2147483647-A|0)<(v|0):(-2147483648-A|0)>(v|0))||((A|0)>-1?(A|-2147483648|0)>=(v|0):(A^-2147483648|0)<(v|0)))?(g=1,g|0):(A=T-w|0,(w|0)<0?(v=0-w|0,m[D>>2]=A,m[B>>2]=v,m[g>>2]=0,w=0):(A=T,v=0),(A|0)<0&&(w=w-A|0,m[g>>2]=w,v=v-A|0,m[B>>2]=v,m[D>>2]=0,A=0),P=w-v|0,T=A-v|0,(v|0)<0?(m[g>>2]=P,m[D>>2]=T,m[B>>2]=0,A=T,T=P,v=0):T=w,w=(A|0)<(T|0)?A:T,w=(v|0)<(w|0)?v:w,(w|0)<=0?(g=0,g|0):(m[g>>2]=T-w,m[D>>2]=A-w,m[B>>2]=v-w,g=0,g|0))}function Q9(A){A=A|0;var g=0,v=0,w=0,T=0;g=A+8|0,T=m[g>>2]|0,v=T-(m[A>>2]|0)|0,m[A>>2]=v,w=A+4|0,A=(m[w>>2]|0)-T|0,m[w>>2]=A,m[g>>2]=0-(A+v)}function cme(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0;v=m[A>>2]|0,g=0-v|0,m[A>>2]=g,D=A+8|0,m[D>>2]=0,B=A+4|0,w=m[B>>2]|0,T=w+v|0,(v|0)>0?(m[B>>2]=T,m[D>>2]=v,m[A>>2]=0,g=0,w=T):v=0,(w|0)<0?(P=g-w|0,m[A>>2]=P,v=v-w|0,m[D>>2]=v,m[B>>2]=0,T=P-v|0,g=0-v|0,(v|0)<0?(m[A>>2]=T,m[B>>2]=g,m[D>>2]=0,w=g,v=0):(w=0,T=P)):T=g,g=(w|0)<(T|0)?w:T,g=(v|0)<(g|0)?v:g,!((g|0)<=0)&&(m[A>>2]=T-g,m[B>>2]=w-g,m[D>>2]=v-g)}function ume(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0,q=0,Q=0,he=0;if(he=ae,ae=ae+64|0,Q=he,B=he+56|0,!(!0&(g&2013265920|0)==134217728&(!0&(w&2013265920|0)==134217728)))return T=5,ae=he,T|0;if((A|0)==(v|0)&(g|0)==(w|0))return m[T>>2]=0,T=0,ae=he,T|0;if(D=Gt(A|0,g|0,52)|0,ie()|0,D=D&15,q=Gt(v|0,w|0,52)|0,ie()|0,(D|0)!=(q&15|0))return T=12,ae=he,T|0;if(P=D+-1|0,D>>>0>1){cP(A,g,P,Q)|0,cP(v,w,P,B)|0,q=Q,G=m[q>>2]|0,q=m[q+4>>2]|0;e:do if((G|0)==(m[B>>2]|0)&&(q|0)==(m[B+4>>2]|0)){D=(D^15)*3|0,P=Gt(A|0,g|0,D|0)|0,ie()|0,P=P&7,D=Gt(v|0,w|0,D|0)|0,ie()|0,D=D&7;do if((P|0)==0|(D|0)==0)m[T>>2]=1,P=0;else if((P|0)==7)P=5;else{if((P|0)==1|(D|0)==1&&Ci(G,q)|0){P=5;break}if((m[15536+(P<<2)>>2]|0)!=(D|0)&&(m[15568+(P<<2)>>2]|0)!=(D|0))break e;m[T>>2]=1,P=0}while(0);return T=P,ae=he,T|0}while(0)}P=Q,D=P+56|0;do m[P>>2]=0,P=P+4|0;while((P|0)<(D|0));return Hn(A,g,1,Q)|0,g=Q,!((m[g>>2]|0)==(v|0)&&(m[g+4>>2]|0)==(w|0))&&(g=Q+8|0,!((m[g>>2]|0)==(v|0)&&(m[g+4>>2]|0)==(w|0)))&&(g=Q+16|0,!((m[g>>2]|0)==(v|0)&&(m[g+4>>2]|0)==(w|0)))&&(g=Q+24|0,!((m[g>>2]|0)==(v|0)&&(m[g+4>>2]|0)==(w|0)))&&(g=Q+32|0,!((m[g>>2]|0)==(v|0)&&(m[g+4>>2]|0)==(w|0)))&&(g=Q+40|0,!((m[g>>2]|0)==(v|0)&&(m[g+4>>2]|0)==(w|0)))?(P=Q+48|0,P=((m[P>>2]|0)==(v|0)?(m[P+4>>2]|0)==(w|0):0)&1):P=1,m[T>>2]=P,T=0,ae=he,T|0}function dme(A,g,v,w,T){return A=A|0,g=g|0,v=v|0,w=w|0,T=T|0,v=Wn(A,g,v,w)|0,(v|0)==7?(T=11,T|0):(w=Yt(v|0,0,56)|0,g=g&-2130706433|(ie()|0)|268435456,m[T>>2]=A|w,m[T+4>>2]=g,T=0,T|0)}function fme(A,g,v){return A=A|0,g=g|0,v=v|0,!0&(g&2013265920|0)==268435456?(m[v>>2]=A,m[v+4>>2]=g&-2130706433|134217728,v=0,v|0):(v=6,v|0)}function hme(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0;return T=ae,ae=ae+16|0,w=T,m[w>>2]=0,!0&(g&2013265920|0)==268435456?(P=Gt(A|0,g|0,56)|0,ie()|0,w=sr(A,g&-2130706433|134217728,P&7,w,v)|0,ae=T,w|0):(w=6,ae=T,w|0)}function Z9(A,g){A=A|0,g=g|0;var v=0;switch(v=Gt(A|0,g|0,56)|0,ie()|0,v&7){case 0:case 7:return v=0,v|0}return v=g&-2130706433|134217728,!(!0&(g&2013265920|0)==268435456)||!0&(g&117440512|0)==16777216&(Ci(A,v)|0)!=0?(v=0,v|0):(v=sP(A,v)|0,v|0)}function pme(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0;return T=ae,ae=ae+16|0,w=T,!0&(g&2013265920|0)==268435456?(P=g&-2130706433|134217728,D=v,m[D>>2]=A,m[D+4>>2]=P,m[w>>2]=0,g=Gt(A|0,g|0,56)|0,ie()|0,w=sr(A,P,g&7,w,v+8|0)|0,ae=T,w|0):(w=6,ae=T,w|0)}function mme(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0;return T=(Ci(A,g)|0)==0,g=g&-2130706433,w=v,m[w>>2]=T?A:0,m[w+4>>2]=T?g|285212672:0,w=v+8|0,m[w>>2]=A,m[w+4>>2]=g|301989888,w=v+16|0,m[w>>2]=A,m[w+4>>2]=g|318767104,w=v+24|0,m[w>>2]=A,m[w+4>>2]=g|335544320,w=v+32|0,m[w>>2]=A,m[w+4>>2]=g|352321536,v=v+40|0,m[v>>2]=A,m[v+4>>2]=g|369098752,0}function RS(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0;return D=ae,ae=ae+16|0,T=D,P=g&-2130706433|134217728,!0&(g&2013265920|0)==268435456?(w=Gt(A|0,g|0,56)|0,ie()|0,w=m0e(A,P,w&7)|0,(w|0)==-1?(m[v>>2]=0,P=6,ae=D,P|0):(P0(A,P,T)|0&&Ot(27795,26932,282,26947),g=Gt(A|0,g|0,52)|0,ie()|0,g=g&15,Ci(A,P)|0?oP(T,g,w,2,v):aP(T,g,w,2,v),P=0,ae=D,P|0)):(P=6,ae=D,P|0)}function gme(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0;w=ae,ae=ae+16|0,T=w,Ame(A,g,v,T),rme(T,v+4|0),ae=w}function Ame(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0;if(B=ae,ae=ae+16|0,G=B,vme(A,v,G),P=+Mn(+(1-+te[G>>3]*.5)),P<1e-16){m[w>>2]=0,m[w+4>>2]=0,m[w+8>>2]=0,m[w+12>>2]=0,ae=B;return}if(G=m[v>>2]|0,T=+te[15920+(G*24|0)>>3],T=+Ny(T-+Ny(+$me(15600+(G<<4)|0,A))),jl(g)|0?D=+Ny(T+-.3334731722518321):D=T,T=+Zt(+P)*2.618033988749896,(g|0)>0){A=0;do T=T*2.6457513110645907,A=A+1|0;while((A|0)!=(g|0))}P=+Sn(+D)*T,te[w>>3]=P,D=+wt(+D)*T,te[w+8>>3]=D,ae=B}function vme(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0;if(P=ae,ae=ae+32|0,T=P,p0e(A,T),m[g>>2]=0,te[v>>3]=5,w=+Io(16400,T),w<+te[v>>3]&&(m[g>>2]=0,te[v>>3]=w),w=+Io(16424,T),w<+te[v>>3]&&(m[g>>2]=1,te[v>>3]=w),w=+Io(16448,T),w<+te[v>>3]&&(m[g>>2]=2,te[v>>3]=w),w=+Io(16472,T),w<+te[v>>3]&&(m[g>>2]=3,te[v>>3]=w),w=+Io(16496,T),w<+te[v>>3]&&(m[g>>2]=4,te[v>>3]=w),w=+Io(16520,T),w<+te[v>>3]&&(m[g>>2]=5,te[v>>3]=w),w=+Io(16544,T),w<+te[v>>3]&&(m[g>>2]=6,te[v>>3]=w),w=+Io(16568,T),w<+te[v>>3]&&(m[g>>2]=7,te[v>>3]=w),w=+Io(16592,T),w<+te[v>>3]&&(m[g>>2]=8,te[v>>3]=w),w=+Io(16616,T),w<+te[v>>3]&&(m[g>>2]=9,te[v>>3]=w),w=+Io(16640,T),w<+te[v>>3]&&(m[g>>2]=10,te[v>>3]=w),w=+Io(16664,T),w<+te[v>>3]&&(m[g>>2]=11,te[v>>3]=w),w=+Io(16688,T),w<+te[v>>3]&&(m[g>>2]=12,te[v>>3]=w),w=+Io(16712,T),w<+te[v>>3]&&(m[g>>2]=13,te[v>>3]=w),w=+Io(16736,T),w<+te[v>>3]&&(m[g>>2]=14,te[v>>3]=w),w=+Io(16760,T),w<+te[v>>3]&&(m[g>>2]=15,te[v>>3]=w),w=+Io(16784,T),w<+te[v>>3]&&(m[g>>2]=16,te[v>>3]=w),w=+Io(16808,T),w<+te[v>>3]&&(m[g>>2]=17,te[v>>3]=w),w=+Io(16832,T),w<+te[v>>3]&&(m[g>>2]=18,te[v>>3]=w),w=+Io(16856,T),!(w<+te[v>>3])){ae=P;return}m[g>>2]=19,te[v>>3]=w,ae=P}function Ry(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0;if(P=+h0e(A),P<1e-16){g=15600+(g<<4)|0,m[T>>2]=m[g>>2],m[T+4>>2]=m[g+4>>2],m[T+8>>2]=m[g+8>>2],m[T+12>>2]=m[g+12>>2];return}if(D=+Ie(+ +te[A+8>>3],+ +te[A>>3]),(v|0)>0){A=0;do P=P*.37796447300922725,A=A+1|0;while((A|0)!=(v|0))}B=P*.3333333333333333,w?(v=(jl(v)|0)==0,P=+le(+((v?B:B*.37796447300922725)*.381966011250105))):(P=+le(+(P*.381966011250105)),jl(v)|0&&(D=+Ny(D+.3334731722518321))),Ume(15600+(g<<4)|0,+Ny(+te[15920+(g*24|0)>>3]-D),P,T)}function yme(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0;w=ae,ae=ae+16|0,T=w,Sp(A+4|0,T),Ry(T,m[A>>2]|0,g,0,v),ae=w}function oP(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0,Ze=0,Qt=0,$n=0,wn=0,mr=0,gr=0,Er=0,or=0,Un=0,Kt=0,_r=0,pi=0,yr=0;if(_r=ae,ae=ae+272|0,P=_r+256|0,ft=_r+240|0,or=_r,Un=_r+224|0,Kt=_r+208|0,ut=_r+176|0,Ze=_r+160|0,Qt=_r+192|0,$n=_r+144|0,wn=_r+128|0,mr=_r+112|0,gr=_r+96|0,Er=_r+80|0,m[P>>2]=g,m[ft>>2]=m[A>>2],m[ft+4>>2]=m[A+4>>2],m[ft+8>>2]=m[A+8>>2],m[ft+12>>2]=m[A+12>>2],J9(ft,P,or),m[T>>2]=0,ft=w+v+((w|0)==5&1)|0,(ft|0)<=(v|0)){ae=_r;return}G=m[P>>2]|0,q=Un+4|0,Q=ut+4|0,he=v+5|0,Te=16880+(G<<2)|0,Ee=16960+(G<<2)|0,Me=wn+8|0,Ke=mr+8|0,ct=gr+8|0,xt=Kt+4|0,B=v;e:for(;;){D=or+(((B|0)%5|0)<<4)|0,m[Kt>>2]=m[D>>2],m[Kt+4>>2]=m[D+4>>2],m[Kt+8>>2]=m[D+8>>2],m[Kt+12>>2]=m[D+12>>2];do;while((R0(Kt,G,0,1)|0)==2);if((B|0)>(v|0)&(jl(g)|0)!=0){if(m[ut>>2]=m[Kt>>2],m[ut+4>>2]=m[Kt+4>>2],m[ut+8>>2]=m[Kt+8>>2],m[ut+12>>2]=m[Kt+12>>2],Sp(q,Ze),w=m[ut>>2]|0,P=m[17040+(w*80|0)+(m[Un>>2]<<2)>>2]|0,m[ut>>2]=m[18640+(w*80|0)+(P*20|0)>>2],D=m[18640+(w*80|0)+(P*20|0)+16>>2]|0,(D|0)>0){A=0;do X9(Q),A=A+1|0;while((A|0)<(D|0))}switch(D=18640+(w*80|0)+(P*20|0)+4|0,m[Qt>>2]=m[D>>2],m[Qt+4>>2]=m[D+4>>2],m[Qt+8>>2]=m[D+8>>2],j9(Qt,(m[Te>>2]|0)*3|0),ls(Q,Qt,Q),Ua(Q),Sp(Q,$n),pi=+(m[Ee>>2]|0),te[wn>>3]=pi*3,te[Me>>3]=0,yr=pi*-1.5,te[mr>>3]=yr,te[Ke>>3]=pi*2.598076211353316,te[gr>>3]=yr,te[ct>>3]=pi*-2.598076211353316,m[17040+((m[ut>>2]|0)*80|0)+(m[Kt>>2]<<2)>>2]|0){case 1:{A=mr,w=wn;break}case 3:{A=gr,w=mr;break}case 2:{A=wn,w=gr;break}default:{A=12;break e}}mU(Ze,$n,w,A,Er),Ry(Er,m[ut>>2]|0,G,1,T+8+(m[T>>2]<<4)|0),m[T>>2]=(m[T>>2]|0)+1}if((B|0)<(he|0)&&(Sp(xt,ut),Ry(ut,m[Kt>>2]|0,G,1,T+8+(m[T>>2]<<4)|0),m[T>>2]=(m[T>>2]|0)+1),m[Un>>2]=m[Kt>>2],m[Un+4>>2]=m[Kt+4>>2],m[Un+8>>2]=m[Kt+8>>2],m[Un+12>>2]=m[Kt+12>>2],B=B+1|0,(B|0)>=(ft|0)){A=3;break}}if((A|0)==3){ae=_r;return}else(A|0)==12&&Ot(26970,27017,572,27027)}function J9(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0;G=ae,ae=ae+128|0,w=G+64|0,T=G,P=w,D=20240,B=P+60|0;do m[P>>2]=m[D>>2],P=P+4|0,D=D+4|0;while((P|0)<(B|0));P=T,D=20304,B=P+60|0;do m[P>>2]=m[D>>2],P=P+4|0,D=D+4|0;while((P|0)<(B|0));B=(jl(m[g>>2]|0)|0)==0,w=B?w:T,T=A+4|0,Y9(T),K9(T),jl(m[g>>2]|0)|0&&(_p(T),m[g>>2]=(m[g>>2]|0)+1),m[v>>2]=m[A>>2],g=v+4|0,ls(T,w,g),Ua(g),m[v+16>>2]=m[A>>2],g=v+20|0,ls(T,w+12|0,g),Ua(g),m[v+32>>2]=m[A>>2],g=v+36|0,ls(T,w+24|0,g),Ua(g),m[v+48>>2]=m[A>>2],g=v+52|0,ls(T,w+36|0,g),Ua(g),m[v+64>>2]=m[A>>2],v=v+68|0,ls(T,w+48|0,v),Ua(v),ae=G}function R0(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0;if(Me=ae,ae=ae+32|0,Te=Me+12|0,B=Me,Ee=A+4|0,he=m[16960+(g<<2)>>2]|0,Q=(w|0)!=0,he=Q?he*3|0:he,T=m[Ee>>2]|0,q=A+8|0,D=m[q>>2]|0,Q){if(P=A+12|0,w=m[P>>2]|0,T=D+T+w|0,(T|0)==(he|0))return Ee=1,ae=Me,Ee|0;G=P}else G=A+12|0,w=m[G>>2]|0,T=D+T+w|0;if((T|0)<=(he|0))return Ee=0,ae=Me,Ee|0;do if((w|0)>0){if(w=m[A>>2]|0,(D|0)>0){P=18640+(w*80|0)+60|0,w=A;break}w=18640+(w*80|0)+40|0,v?(nme(Te,he,0,0),rP(Ee,Te,B),MS(B),ls(B,Te,Ee),P=w,w=A):(P=w,w=A)}else P=18640+((m[A>>2]|0)*80|0)+20|0,w=A;while(0);if(m[w>>2]=m[P>>2],T=P+16|0,(m[T>>2]|0)>0){w=0;do X9(Ee),w=w+1|0;while((w|0)<(m[T>>2]|0))}return A=P+4|0,m[Te>>2]=m[A>>2],m[Te+4>>2]=m[A+4>>2],m[Te+8>>2]=m[A+8>>2],g=m[16880+(g<<2)>>2]|0,j9(Te,Q?g*3|0:g),ls(Ee,Te,Ee),Ua(Ee),Q?w=((m[q>>2]|0)+(m[Ee>>2]|0)+(m[G>>2]|0)|0)==(he|0)?1:2:w=2,Ee=w,ae=Me,Ee|0}function bme(A,g){A=A|0,g=g|0;var v=0;do v=R0(A,g,0,1)|0;while((v|0)==2);return v|0}function aP(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0,Ze=0,Qt=0,$n=0,wn=0,mr=0,gr=0,Er=0,or=0;if(gr=ae,ae=ae+240|0,P=gr+224|0,Qt=gr+208|0,$n=gr,wn=gr+192|0,mr=gr+176|0,ct=gr+160|0,xt=gr+144|0,ft=gr+128|0,ut=gr+112|0,Ze=gr+96|0,m[P>>2]=g,m[Qt>>2]=m[A>>2],m[Qt+4>>2]=m[A+4>>2],m[Qt+8>>2]=m[A+8>>2],m[Qt+12>>2]=m[A+12>>2],eU(Qt,P,$n),m[T>>2]=0,Ke=w+v+((w|0)==6&1)|0,(Ke|0)<=(v|0)){ae=gr;return}G=m[P>>2]|0,q=v+6|0,Q=16960+(G<<2)|0,he=xt+8|0,Te=ft+8|0,Ee=ut+8|0,Me=wn+4|0,D=0,B=v,w=-1;e:for(;;){if(P=(B|0)%6|0,A=$n+(P<<4)|0,m[wn>>2]=m[A>>2],m[wn+4>>2]=m[A+4>>2],m[wn+8>>2]=m[A+8>>2],m[wn+12>>2]=m[A+12>>2],A=D,D=R0(wn,G,0,1)|0,(B|0)>(v|0)&(jl(g)|0)!=0&&(A|0)!=1&&(m[wn>>2]|0)!=(w|0)){switch(Sp($n+(((P+5|0)%6|0)<<4)+4|0,mr),Sp($n+(P<<4)+4|0,ct),Er=+(m[Q>>2]|0),te[xt>>3]=Er*3,te[he>>3]=0,or=Er*-1.5,te[ft>>3]=or,te[Te>>3]=Er*2.598076211353316,te[ut>>3]=or,te[Ee>>3]=Er*-2.598076211353316,P=m[Qt>>2]|0,m[17040+(P*80|0)+(((w|0)==(P|0)?m[wn>>2]|0:w)<<2)>>2]|0){case 1:{A=ft,w=xt;break}case 3:{A=ut,w=ft;break}case 2:{A=xt,w=ut;break}default:{A=8;break e}}mU(mr,ct,w,A,Ze),!(gU(mr,Ze)|0)&&!(gU(ct,Ze)|0)&&(Ry(Ze,m[Qt>>2]|0,G,1,T+8+(m[T>>2]<<4)|0),m[T>>2]=(m[T>>2]|0)+1)}if((B|0)<(q|0)&&(Sp(Me,mr),Ry(mr,m[wn>>2]|0,G,1,T+8+(m[T>>2]<<4)|0),m[T>>2]=(m[T>>2]|0)+1),B=B+1|0,(B|0)>=(Ke|0)){A=3;break}else w=m[wn>>2]|0}if((A|0)==3){ae=gr;return}else(A|0)==8&&Ot(27054,27017,737,27099)}function eU(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0;G=ae,ae=ae+160|0,w=G+80|0,T=G,P=w,D=20368,B=P+72|0;do m[P>>2]=m[D>>2],P=P+4|0,D=D+4|0;while((P|0)<(B|0));P=T,D=20448,B=P+72|0;do m[P>>2]=m[D>>2],P=P+4|0,D=D+4|0;while((P|0)<(B|0));B=(jl(m[g>>2]|0)|0)==0,w=B?w:T,T=A+4|0,Y9(T),K9(T),jl(m[g>>2]|0)|0&&(_p(T),m[g>>2]=(m[g>>2]|0)+1),m[v>>2]=m[A>>2],g=v+4|0,ls(T,w,g),Ua(g),m[v+16>>2]=m[A>>2],g=v+20|0,ls(T,w+12|0,g),Ua(g),m[v+32>>2]=m[A>>2],g=v+36|0,ls(T,w+24|0,g),Ua(g),m[v+48>>2]=m[A>>2],g=v+52|0,ls(T,w+36|0,g),Ua(g),m[v+64>>2]=m[A>>2],g=v+68|0,ls(T,w+48|0,g),Ua(g),m[v+80>>2]=m[A>>2],v=v+84|0,ls(T,w+60|0,v),Ua(v),ae=G}function xme(A,g){return A=A|0,g=g|0,g=Gt(A|0,g|0,52)|0,ie()|0,g&15|0}function tU(A,g){return A=A|0,g=g|0,g=Gt(A|0,g|0,45)|0,ie()|0,g&127|0}function Sme(A,g,v,w){return A=A|0,g=g|0,v=v|0,w=w|0,(v+-1|0)>>>0>14?(w=4,w|0):(v=Gt(A|0,g|0,(15-v|0)*3|0)|0,ie()|0,m[w>>2]=v&7,w=0,w|0)}function _me(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0;if(A>>>0>15)return w=4,w|0;if(g>>>0>121)return w=17,w|0;D=Yt(A|0,0,52)|0,T=ie()|0,B=Yt(g|0,0,45)|0,T=T|(ie()|0)|134225919;e:do if((A|0)>=1){for(B=1,D=(ht[20528+g>>0]|0)!=0,P=-1;;){if(g=m[v+(B+-1<<2)>>2]|0,g>>>0>6){T=18,g=10;break}if(!((g|0)==0|D^1))if((g|0)==1){T=19,g=10;break}else D=0;if(q=(15-B|0)*3|0,G=Yt(7,0,q|0)|0,T=T&~(ie()|0),g=Yt(g|0,((g|0)<0)<<31>>31|0,q|0)|0,P=g|P&~G,T=ie()|0|T,(B|0)<(A|0))B=B+1|0;else break e}if((g|0)==10)return T|0}else P=-1;while(0);return q=w,m[q>>2]=P,m[q+4>>2]=T,q=0,q|0}function sP(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0;return!(!0&(g&-16777216|0)==134217728)||(w=Gt(A|0,g|0,52)|0,ie()|0,w=w&15,v=Gt(A|0,g|0,45)|0,ie()|0,v=v&127,v>>>0>121)?(A=0,A|0):(D=(w^15)*3|0,T=Gt(A|0,g|0,D|0)|0,D=Yt(T|0,ie()|0,D|0)|0,T=ie()|0,P=Zo(-1227133514,-1171,D|0,T|0)|0,!((D&613566756&P|0)==0&(T&4681&(ie()|0)|0)==0)||(D=(w*3|0)+19|0,P=Yt(~A|0,~g|0,D|0)|0,D=Gt(P|0,ie()|0,D|0)|0,!((w|0)==15|(D|0)==0&(ie()|0)==0))?(D=0,D|0):!(ht[20528+v>>0]|0)||(g=g&8191,(A|0)==0&(g|0)==0)?(D=1,D|0):(D=SP(A|0,g|0)|0,ie()|0,((63-D|0)%3|0|0)!=0|0))}function wme(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0;return!0&(g&-16777216|0)==134217728&&(w=Gt(A|0,g|0,52)|0,ie()|0,w=w&15,v=Gt(A|0,g|0,45)|0,ie()|0,v=v&127,v>>>0<=121)&&(D=(w^15)*3|0,T=Gt(A|0,g|0,D|0)|0,D=Yt(T|0,ie()|0,D|0)|0,T=ie()|0,P=Zo(-1227133514,-1171,D|0,T|0)|0,(D&613566756&P|0)==0&(T&4681&(ie()|0)|0)==0)&&(D=(w*3|0)+19|0,P=Yt(~A|0,~g|0,D|0)|0,D=Gt(P|0,ie()|0,D|0)|0,(w|0)==15|(D|0)==0&(ie()|0)==0)&&(!(ht[20528+v>>0]|0)||(v=g&8191,(A|0)==0&(v|0)==0)||(D=SP(A|0,v|0)|0,ie()|0,(63-D|0)%3|0|0))||Z9(A,g)|0?(D=1,D|0):(D=(AU(A,g)|0)!=0&1,D|0)}function lP(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0;if(T=Yt(g|0,0,52)|0,P=ie()|0,v=Yt(v|0,0,45)|0,v=P|(ie()|0)|134225919,(g|0)<1){P=-1,w=v,g=A,m[g>>2]=P,A=A+4|0,m[A>>2]=w;return}for(P=1,T=-1;D=(15-P|0)*3|0,B=Yt(7,0,D|0)|0,v=v&~(ie()|0),D=Yt(w|0,0,D|0)|0,T=T&~B|D,v=v|(ie()|0),(P|0)!=(g|0);)P=P+1|0;B=A,D=B,m[D>>2]=T,B=B+4|0,m[B>>2]=v}function cP(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0;if(P=Gt(A|0,g|0,52)|0,ie()|0,P=P&15,v>>>0>15)return w=4,w|0;if((P|0)<(v|0))return w=12,w|0;if((P|0)==(v|0))return m[w>>2]=A,m[w+4>>2]=g,w=0,w|0;if(T=Yt(v|0,0,52)|0,T=T|A,A=ie()|0|g&-15728641,(P|0)>(v|0))do g=Yt(7,0,(14-v|0)*3|0)|0,v=v+1|0,T=g|T,A=ie()|0|A;while((v|0)<(P|0));return m[w>>2]=T,m[w+4>>2]=A,w=0,w|0}function Py(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0;if(P=Gt(A|0,g|0,52)|0,ie()|0,P=P&15,!((v|0)<16&(P|0)<=(v|0)))return w=4,w|0;T=v-P|0,v=Gt(A|0,g|0,45)|0,ie()|0;e:do if(!(Jr(v&127)|0))v=Of(7,0,T,((T|0)<0)<<31>>31)|0,T=ie()|0;else{t:do if(P|0){for(v=1;D=Yt(7,0,(15-v|0)*3|0)|0,!!((D&A|0)==0&((ie()|0)&g|0)==0);)if(v>>>0<P>>>0)v=v+1|0;else break t;v=Of(7,0,T,((T|0)<0)<<31>>31)|0,T=ie()|0;break e}while(0);v=Of(7,0,T,((T|0)<0)<<31>>31)|0,v=Jo(v|0,ie()|0,5,0)|0,v=zn(v|0,ie()|0,-5,-1)|0,v=Bf(v|0,ie()|0,6,0)|0,v=zn(v|0,ie()|0,1,0)|0,T=ie()|0}while(0);return D=w,m[D>>2]=v,m[D+4>>2]=T,D=0,D|0}function Ci(A,g){A=A|0,g=g|0;var v=0,w=0,T=0;if(T=Gt(A|0,g|0,45)|0,ie()|0,!(Jr(T&127)|0))return T=0,T|0;T=Gt(A|0,g|0,52)|0,ie()|0,T=T&15;e:do if(!T)v=0;else for(w=1;;){if(v=Gt(A|0,g|0,(15-w|0)*3|0)|0,ie()|0,v=v&7,v|0)break e;if(w>>>0<T>>>0)w=w+1|0;else{v=0;break}}while(0);return T=(v|0)==0&1,T|0}function Cme(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0;if(D=ae,ae=ae+16|0,P=D,mP(P,A,g,v),g=P,A=m[g>>2]|0,g=m[g+4>>2]|0,(A|0)==0&(g|0)==0)return ae=D,0;T=0,v=0;do B=w+(T<<3)|0,m[B>>2]=A,m[B+4>>2]=g,T=zn(T|0,v|0,1,0)|0,v=ie()|0,gP(P),B=P,A=m[B>>2]|0,g=m[B+4>>2]|0;while(!((A|0)==0&(g|0)==0));return ae=D,0}function nU(A,g,v,w){return A=A|0,g=g|0,v=v|0,w=w|0,(w|0)<(v|0)?(v=g,w=A,_t(v|0),w|0):(v=Yt(-1,-1,((w-v|0)*3|0)+3|0)|0,w=Yt(~v|0,~(ie()|0)|0,(15-w|0)*3|0)|0,v=~(ie()|0)&g,w=~w&A,_t(v|0),w|0)}function rU(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0;return T=Gt(A|0,g|0,52)|0,ie()|0,T=T&15,(v|0)<16&(T|0)<=(v|0)?((T|0)<(v|0)&&(T=Yt(-1,-1,((v+-1-T|0)*3|0)+3|0)|0,T=Yt(~T|0,~(ie()|0)|0,(15-v|0)*3|0)|0,g=~(ie()|0)&g,A=~T&A),T=Yt(v|0,0,52)|0,v=g&-15728641|(ie()|0),m[w>>2]=A|T,m[w+4>>2]=v,w=0,w|0):(w=4,w|0)}function Tme(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0,Ze=0,Qt=0,$n=0,wn=0,mr=0,gr=0,Er=0,or=0,Un=0,Kt=0;if((v|0)==0&(w|0)==0)return Kt=0,Kt|0;if(T=A,P=m[T>>2]|0,T=m[T+4>>2]|0,!0&(T&15728640|0)==0){if(!((w|0)>0|(w|0)==0&v>>>0>0)||(Kt=g,m[Kt>>2]=P,m[Kt+4>>2]=T,(v|0)==1&(w|0)==0))return Kt=0,Kt|0;T=1,P=0;do or=A+(T<<3)|0,Un=m[or+4>>2]|0,Kt=g+(T<<3)|0,m[Kt>>2]=m[or>>2],m[Kt+4>>2]=Un,T=zn(T|0,P|0,1,0)|0,P=ie()|0;while((P|0)<(w|0)|(P|0)==(w|0)&T>>>0<v>>>0);return T=0,T|0}if(Er=v<<3,Un=Tu(Er)|0,!Un)return Kt=13,Kt|0;if(L0(Un|0,A|0,Er|0)|0,or=Fs(v,8)|0,!or)return jn(Un),Kt=13,Kt|0;e:for(;;){T=Un,q=m[T>>2]|0,T=m[T+4>>2]|0,mr=Gt(q|0,T|0,52)|0,ie()|0,mr=mr&15,gr=mr+-1|0,wn=(mr|0)!=0,$n=(w|0)>0|(w|0)==0&v>>>0>0;t:do if(wn&$n){if(ft=Yt(gr|0,0,52)|0,ut=ie()|0,gr>>>0>15){if(!((q|0)==0&(T|0)==0)){Kt=16;break e}for(P=0,A=0;;){if(P=zn(P|0,A|0,1,0)|0,A=ie()|0,!((A|0)<(w|0)|(A|0)==(w|0)&P>>>0<v>>>0))break t;if(D=Un+(P<<3)|0,Qt=m[D>>2]|0,D=m[D+4>>2]|0,!((Qt|0)==0&(D|0)==0)){T=D,Kt=16;break e}}}for(B=q,A=T,P=0,D=0;;){if(!((B|0)==0&(A|0)==0)){if(!(!0&(A&117440512|0)==0)){Kt=21;break e}if(Q=Gt(B|0,A|0,52)|0,ie()|0,Q=Q&15,(Q|0)<(gr|0)){T=12,Kt=27;break e}if((Q|0)!=(gr|0)&&(B=B|ft,A=A&-15728641|ut,Q>>>0>=mr>>>0)){G=gr;do Qt=Yt(7,0,(14-G|0)*3|0)|0,G=G+1|0,B=Qt|B,A=ie()|0|A;while(G>>>0<Q>>>0)}if(Te=O0(B|0,A|0,v|0,w|0)|0,Ee=ie()|0,G=or+(Te<<3)|0,Q=G,he=m[Q>>2]|0,Q=m[Q+4>>2]|0,!((he|0)==0&(Q|0)==0)){ct=0,xt=0;do{if((ct|0)>(w|0)|(ct|0)==(w|0)&xt>>>0>v>>>0){Kt=31;break e}if((he|0)==(B|0)&(Q&-117440513|0)==(A|0)){Me=Gt(he|0,Q|0,56)|0,ie()|0,Me=Me&7,Ke=Me+1|0,Qt=Gt(he|0,Q|0,45)|0,ie()|0;n:do if(!(Jr(Qt&127)|0))Q=7;else{if(he=Gt(he|0,Q|0,52)|0,ie()|0,he=he&15,!he){Q=6;break}for(Q=1;;){if(Qt=Yt(7,0,(15-Q|0)*3|0)|0,!((Qt&B|0)==0&((ie()|0)&A|0)==0)){Q=7;break n}if(Q>>>0<he>>>0)Q=Q+1|0;else{Q=6;break}}}while(0);if((Me+2|0)>>>0>Q>>>0){Kt=41;break e}Qt=Yt(Ke|0,0,56)|0,A=ie()|0|A&-117440513,Ze=G,m[Ze>>2]=0,m[Ze+4>>2]=0,B=Qt|B}else Te=zn(Te|0,Ee|0,1,0)|0,Te=D0(Te|0,ie()|0,v|0,w|0)|0,Ee=ie()|0;xt=zn(xt|0,ct|0,1,0)|0,ct=ie()|0,G=or+(Te<<3)|0,Q=G,he=m[Q>>2]|0,Q=m[Q+4>>2]|0}while(!((he|0)==0&(Q|0)==0))}Qt=G,m[Qt>>2]=B,m[Qt+4>>2]=A}if(P=zn(P|0,D|0,1,0)|0,D=ie()|0,!((D|0)<(w|0)|(D|0)==(w|0)&P>>>0<v>>>0))break t;A=Un+(P<<3)|0,B=m[A>>2]|0,A=m[A+4>>2]|0}}while(0);if(Qt=zn(v|0,w|0,5,0)|0,Ze=ie()|0,Ze>>>0<0|(Ze|0)==0&Qt>>>0<11){Kt=85;break}if(Qt=Bf(v|0,w|0,6,0)|0,ie()|0,Qt=Fs(Qt,8)|0,!Qt){Kt=48;break}do if($n){for(Ke=0,A=0,Me=0,ct=0;;){if(Q=or+(Ke<<3)|0,D=Q,P=m[D>>2]|0,D=m[D+4>>2]|0,(P|0)==0&(D|0)==0)Ze=Me;else{he=Gt(P|0,D|0,56)|0,ie()|0,he=he&7,B=he+1|0,Te=D&-117440513,Ze=Gt(P|0,D|0,45)|0,ie()|0;t:do if(Jr(Ze&127)|0){if(Ee=Gt(P|0,D|0,52)|0,ie()|0,Ee=Ee&15,Ee|0)for(G=1;;){if(Ze=Yt(7,0,(15-G|0)*3|0)|0,!((P&Ze|0)==0&(Te&(ie()|0)|0)==0))break t;if(G>>>0<Ee>>>0)G=G+1|0;else break}D=Yt(B|0,0,56)|0,P=D|P,D=ie()|0|Te,B=Q,m[B>>2]=P,m[B+4>>2]=D,B=he+2|0}while(0);(B|0)==7?(Ze=Qt+(A<<3)|0,m[Ze>>2]=P,m[Ze+4>>2]=D&-117440513,A=zn(A|0,Me|0,1,0)|0,Ze=ie()|0):Ze=Me}if(Ke=zn(Ke|0,ct|0,1,0)|0,ct=ie()|0,(ct|0)<(w|0)|(ct|0)==(w|0)&Ke>>>0<v>>>0)Me=Ze;else break}if($n){if(xt=gr>>>0>15,ft=Yt(gr|0,0,52)|0,ut=ie()|0,!wn){for(P=0,G=0,B=0,D=0;(q|0)==0&(T|0)==0||(gr=g+(P<<3)|0,m[gr>>2]=q,m[gr+4>>2]=T,P=zn(P|0,G|0,1,0)|0,G=ie()|0),B=zn(B|0,D|0,1,0)|0,D=ie()|0,!!((D|0)<(w|0)|(D|0)==(w|0)&B>>>0<v>>>0);)T=Un+(B<<3)|0,q=m[T>>2]|0,T=m[T+4>>2]|0;T=Ze;break}for(P=0,G=0,D=0,B=0;;){do if(!((q|0)==0&(T|0)==0)){if(Ee=Gt(q|0,T|0,52)|0,ie()|0,Ee=Ee&15,xt|(Ee|0)<(gr|0)){Kt=80;break e}if((Ee|0)!=(gr|0)){if(Q=q|ft,he=T&-15728641|ut,Ee>>>0>=mr>>>0){Te=gr;do wn=Yt(7,0,(14-Te|0)*3|0)|0,Te=Te+1|0,Q=wn|Q,he=ie()|0|he;while(Te>>>0<Ee>>>0)}}else Q=q,he=T;Me=O0(Q|0,he|0,v|0,w|0)|0,Te=0,Ee=0,ct=ie()|0;do{if((Te|0)>(w|0)|(Te|0)==(w|0)&Ee>>>0>v>>>0){Kt=81;break e}if(wn=or+(Me<<3)|0,Ke=m[wn+4>>2]|0,(Ke&-117440513|0)==(he|0)&&(m[wn>>2]|0)==(Q|0)){Kt=65;break}wn=zn(Me|0,ct|0,1,0)|0,Me=D0(wn|0,ie()|0,v|0,w|0)|0,ct=ie()|0,Ee=zn(Ee|0,Te|0,1,0)|0,Te=ie()|0,wn=or+(Me<<3)|0}while(!((m[wn>>2]|0)==(Q|0)&&(m[wn+4>>2]|0)==(he|0)));if((Kt|0)==65&&(Kt=0,!0&(Ke&117440512|0)==100663296))break;wn=g+(P<<3)|0,m[wn>>2]=q,m[wn+4>>2]=T,P=zn(P|0,G|0,1,0)|0,G=ie()|0}while(0);if(D=zn(D|0,B|0,1,0)|0,B=ie()|0,!((B|0)<(w|0)|(B|0)==(w|0)&D>>>0<v>>>0))break;T=Un+(D<<3)|0,q=m[T>>2]|0,T=m[T+4>>2]|0}T=Ze}else P=0,T=Ze}else P=0,A=0,T=0;while(0);if(Ff(or|0,0,Er|0)|0,L0(Un|0,Qt|0,A<<3|0)|0,jn(Qt),(A|0)==0&(T|0)==0){Kt=89;break}else g=g+(P<<3)|0,w=T,v=A}if((Kt|0)==16)!0&(T&117440512|0)==0?(T=4,Kt=27):Kt=21;else if((Kt|0)==31)Ot(27795,27122,620,27132);else{if((Kt|0)==41)return jn(Un),jn(or),Kt=10,Kt|0;if((Kt|0)==48)return jn(Un),jn(or),Kt=13,Kt|0;(Kt|0)==80?Ot(27795,27122,711,27132):(Kt|0)==81?Ot(27795,27122,723,27132):(Kt|0)==85&&(L0(g|0,Un|0,v<<3|0)|0,Kt=89)}return(Kt|0)==21?(jn(Un),jn(or),Kt=5,Kt|0):(Kt|0)==27?(jn(Un),jn(or),Kt=T,Kt|0):(Kt|0)==89?(jn(Un),jn(or),Kt=0,Kt|0):0}function Eme(A,g,v,w,T,P,D){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0,P=P|0,D=D|0;var B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0;if(Ke=ae,ae=ae+16|0,Me=Ke,!((v|0)>0|(v|0)==0&g>>>0>0))return Me=0,ae=Ke,Me|0;if((D|0)>=16)return Me=12,ae=Ke,Me|0;Te=0,Ee=0,he=0,B=0;e:for(;;){if(q=A+(Te<<3)|0,G=m[q>>2]|0,q=m[q+4>>2]|0,Q=Gt(G|0,q|0,52)|0,ie()|0,(Q&15|0)>(D|0)){B=12,G=11;break}if(mP(Me,G,q,D),Q=Me,q=m[Q>>2]|0,Q=m[Q+4>>2]|0,(q|0)==0&(Q|0)==0)G=he;else{G=he;do{if(!((B|0)<(P|0)|(B|0)==(P|0)&G>>>0<T>>>0)){G=10;break e}he=w+(G<<3)|0,m[he>>2]=q,m[he+4>>2]=Q,G=zn(G|0,B|0,1,0)|0,B=ie()|0,gP(Me),he=Me,q=m[he>>2]|0,Q=m[he+4>>2]|0}while(!((q|0)==0&(Q|0)==0))}if(Te=zn(Te|0,Ee|0,1,0)|0,Ee=ie()|0,(Ee|0)<(v|0)|(Ee|0)==(v|0)&Te>>>0<g>>>0)he=G;else{B=0,G=11;break}}return(G|0)==10?(Me=14,ae=Ke,Me|0):(G|0)==11?(ae=Ke,B|0):0}function Mme(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0;Te=ae,ae=ae+16|0,he=Te;e:do if((v|0)>0|(v|0)==0&g>>>0>0){for(q=0,D=0,P=0,Q=0;;){if(G=A+(q<<3)|0,B=m[G>>2]|0,G=m[G+4>>2]|0,!((B|0)==0&(G|0)==0)&&(G=(Py(B,G,w,he)|0)==0,B=he,D=zn(m[B>>2]|0,m[B+4>>2]|0,D|0,P|0)|0,P=ie()|0,!G)){P=12;break}if(q=zn(q|0,Q|0,1,0)|0,Q=ie()|0,!((Q|0)<(v|0)|(Q|0)==(v|0)&q>>>0<g>>>0))break e}return ae=Te,P|0}else D=0,P=0;while(0);return m[T>>2]=D,m[T+4>>2]=P,T=0,ae=Te,T|0}function Rme(A,g){return A=A|0,g=g|0,g=Gt(A|0,g|0,52)|0,ie()|0,g&1|0}function Bs(A,g){A=A|0,g=g|0;var v=0,w=0,T=0;if(T=Gt(A|0,g|0,52)|0,ie()|0,T=T&15,!T)return T=0,T|0;for(w=1;;){if(v=Gt(A|0,g|0,(15-w|0)*3|0)|0,ie()|0,v=v&7,v|0){w=5;break}if(w>>>0<T>>>0)w=w+1|0;else{v=0,w=5;break}}return(w|0)==5?v|0:0}function uP(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0,G=0;if(G=Gt(A|0,g|0,52)|0,ie()|0,G=G&15,!G)return B=g,G=A,_t(B|0),G|0;for(B=1,v=0;;){P=(15-B|0)*3|0,w=Yt(7,0,P|0)|0,T=ie()|0,D=Gt(A|0,g|0,P|0)|0,ie()|0,P=Yt(wp(D&7)|0,0,P|0)|0,D=ie()|0,A=P|A&~w,g=D|g&~T;e:do if(!v)if((P&w|0)==0&(D&T|0)==0)v=0;else if(w=Gt(A|0,g|0,52)|0,ie()|0,w=w&15,!w)v=1;else{v=1;t:for(;;){switch(D=Gt(A|0,g|0,(15-v|0)*3|0)|0,ie()|0,D&7){case 1:break t;case 0:break;default:{v=1;break e}}if(v>>>0<w>>>0)v=v+1|0;else{v=1;break e}}for(v=1;;)if(D=(15-v|0)*3|0,T=Gt(A|0,g|0,D|0)|0,ie()|0,P=Yt(7,0,D|0)|0,g=g&~(ie()|0),D=Yt(wp(T&7)|0,0,D|0)|0,A=A&~P|D,g=g|(ie()|0),v>>>0<w>>>0)v=v+1|0;else{v=1;break}}while(0);if(B>>>0<G>>>0)B=B+1|0;else break}return _t(g|0),A|0}function Cp(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0;if(w=Gt(A|0,g|0,52)|0,ie()|0,w=w&15,!w)return v=g,w=A,_t(v|0),w|0;for(v=1;P=(15-v|0)*3|0,D=Gt(A|0,g|0,P|0)|0,ie()|0,T=Yt(7,0,P|0)|0,g=g&~(ie()|0),P=Yt(wp(D&7)|0,0,P|0)|0,A=P|A&~T,g=ie()|0|g,v>>>0<w>>>0;)v=v+1|0;return _t(g|0),A|0}function Pme(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0,G=0;if(G=Gt(A|0,g|0,52)|0,ie()|0,G=G&15,!G)return B=g,G=A,_t(B|0),G|0;for(B=1,v=0;;){P=(15-B|0)*3|0,w=Yt(7,0,P|0)|0,T=ie()|0,D=Gt(A|0,g|0,P|0)|0,ie()|0,P=Yt(Df(D&7)|0,0,P|0)|0,D=ie()|0,A=P|A&~w,g=D|g&~T;e:do if(!v)if((P&w|0)==0&(D&T|0)==0)v=0;else if(w=Gt(A|0,g|0,52)|0,ie()|0,w=w&15,!w)v=1;else{v=1;t:for(;;){switch(D=Gt(A|0,g|0,(15-v|0)*3|0)|0,ie()|0,D&7){case 1:break t;case 0:break;default:{v=1;break e}}if(v>>>0<w>>>0)v=v+1|0;else{v=1;break e}}for(v=1;;)if(T=(15-v|0)*3|0,P=Yt(7,0,T|0)|0,D=g&~(ie()|0),g=Gt(A|0,g|0,T|0)|0,ie()|0,g=Yt(Df(g&7)|0,0,T|0)|0,A=A&~P|g,g=D|(ie()|0),v>>>0<w>>>0)v=v+1|0;else{v=1;break}}while(0);if(B>>>0<G>>>0)B=B+1|0;else break}return _t(g|0),A|0}function dP(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0;if(w=Gt(A|0,g|0,52)|0,ie()|0,w=w&15,!w)return v=g,w=A,_t(v|0),w|0;for(v=1;D=(15-v|0)*3|0,P=Yt(7,0,D|0)|0,T=g&~(ie()|0),g=Gt(A|0,g|0,D|0)|0,ie()|0,g=Yt(Df(g&7)|0,0,D|0)|0,A=g|A&~P,g=ie()|0|T,v>>>0<w>>>0;)v=v+1|0;return _t(g|0),A|0}function Nme(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0;if(G=ae,ae=ae+64|0,B=G+40|0,w=G+24|0,T=G+12|0,P=G,Yt(g|0,0,52)|0,v=ie()|0|134225919,!g)return(m[A+4>>2]|0)>2||(m[A+8>>2]|0)>2||(m[A+12>>2]|0)>2?(D=0,B=0,_t(D|0),ae=G,B|0):(Yt(Td(A)|0,0,45)|0,D=ie()|0|v,B=-1,_t(D|0),ae=G,B|0);if(m[B>>2]=m[A>>2],m[B+4>>2]=m[A+4>>2],m[B+8>>2]=m[A+8>>2],m[B+12>>2]=m[A+12>>2],D=B+4|0,(g|0)>0)for(A=-1;m[w>>2]=m[D>>2],m[w+4>>2]=m[D+4>>2],m[w+8>>2]=m[D+8>>2],g&1?(ame(D),m[T>>2]=m[D>>2],m[T+4>>2]=m[D+4>>2],m[T+8>>2]=m[D+8>>2],ES(T)):(q9(D),m[T>>2]=m[D>>2],m[T+4>>2]=m[D+4>>2],m[T+8>>2]=m[D+8>>2],_p(T)),rP(w,T,P),Ua(P),Q=(15-g|0)*3|0,q=Yt(7,0,Q|0)|0,v=v&~(ie()|0),Q=Yt(TS(P)|0,0,Q|0)|0,A=Q|A&~q,v=ie()|0|v,(g|0)>1;)g=g+-1|0;else A=-1;e:do if((m[D>>2]|0)<=2&&(m[B+8>>2]|0)<=2&&(m[B+12>>2]|0)<=2){if(w=Td(B)|0,g=Yt(w|0,0,45)|0,g=g|A,A=ie()|0|v&-1040385,P=C0(B)|0,!(Jr(w)|0)){if((P|0)<=0)break;for(T=0;;){if(w=Gt(g|0,A|0,52)|0,ie()|0,w=w&15,w)for(v=1;Q=(15-v|0)*3|0,B=Gt(g|0,A|0,Q|0)|0,ie()|0,q=Yt(7,0,Q|0)|0,A=A&~(ie()|0),Q=Yt(wp(B&7)|0,0,Q|0)|0,g=g&~q|Q,A=A|(ie()|0),v>>>0<w>>>0;)v=v+1|0;if(T=T+1|0,(T|0)==(P|0))break e}}T=Gt(g|0,A|0,52)|0,ie()|0,T=T&15;t:do if(T){v=1;n:for(;;){switch(Q=Gt(g|0,A|0,(15-v|0)*3|0)|0,ie()|0,Q&7){case 1:break n;case 0:break;default:break t}if(v>>>0<T>>>0)v=v+1|0;else break t}if(Tn(w,m[B>>2]|0)|0)for(v=1;B=(15-v|0)*3|0,q=Yt(7,0,B|0)|0,Q=A&~(ie()|0),A=Gt(g|0,A|0,B|0)|0,ie()|0,A=Yt(Df(A&7)|0,0,B|0)|0,g=g&~q|A,A=Q|(ie()|0),v>>>0<T>>>0;)v=v+1|0;else for(v=1;Q=(15-v|0)*3|0,B=Gt(g|0,A|0,Q|0)|0,ie()|0,q=Yt(7,0,Q|0)|0,A=A&~(ie()|0),Q=Yt(wp(B&7)|0,0,Q|0)|0,g=g&~q|Q,A=A|(ie()|0),v>>>0<T>>>0;)v=v+1|0}while(0);if((P|0)>0){v=0;do g=uP(g,A)|0,A=ie()|0,v=v+1|0;while((v|0)!=(P|0))}}else g=0,A=0;while(0);return q=A,Q=g,_t(q|0),ae=G,Q|0}function jl(A){return A=A|0,(A|0)%2|0|0}function fP(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0;return T=ae,ae=ae+16|0,w=T,g>>>0>15?(w=4,ae=T,w|0):(m[A+4>>2]&2146435072|0)==2146435072||(m[A+8+4>>2]&2146435072|0)==2146435072?(w=3,ae=T,w|0):(gme(A,g,w),g=Nme(w,g)|0,w=ie()|0,m[v>>2]=g,m[v+4>>2]=w,(g|0)==0&(w|0)==0&&Ot(27795,27122,1050,27145),w=0,ae=T,w|0)}function hP(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0;if(T=v+4|0,P=Gt(A|0,g|0,52)|0,ie()|0,P=P&15,D=Gt(A|0,g|0,45)|0,ie()|0,w=(P|0)==0,Jr(D&127)|0){if(w)return D=1,D|0;w=1}else{if(w)return D=0,D|0;!(m[T>>2]|0)&&!(m[v+8>>2]|0)?w=(m[v+12>>2]|0)!=0&1:w=1}for(v=1;v&1?ES(T):_p(T),D=Gt(A|0,g|0,(15-v|0)*3|0)|0,ie()|0,W9(T,D&7),v>>>0<P>>>0;)v=v+1|0;return w|0}function P0(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0;if(Q=ae,ae=ae+16|0,G=Q,q=Gt(A|0,g|0,45)|0,ie()|0,q=q&127,q>>>0>121)return m[v>>2]=0,m[v+4>>2]=0,m[v+8>>2]=0,m[v+12>>2]=0,q=5,ae=Q,q|0;e:do if(Jr(q)|0&&(P=Gt(A|0,g|0,52)|0,ie()|0,P=P&15,(P|0)!=0)){w=1;t:for(;;){switch(B=Gt(A|0,g|0,(15-w|0)*3|0)|0,ie()|0,B&7){case 5:break t;case 0:break;default:{w=g;break e}}if(w>>>0<P>>>0)w=w+1|0;else{w=g;break e}}for(T=1,w=g;g=(15-T|0)*3|0,D=Yt(7,0,g|0)|0,B=w&~(ie()|0),w=Gt(A|0,w|0,g|0)|0,ie()|0,w=Yt(Df(w&7)|0,0,g|0)|0,A=A&~D|w,w=B|(ie()|0),T>>>0<P>>>0;)T=T+1|0}else w=g;while(0);if(B=7696+(q*28|0)|0,m[v>>2]=m[B>>2],m[v+4>>2]=m[B+4>>2],m[v+8>>2]=m[B+8>>2],m[v+12>>2]=m[B+12>>2],!(hP(A,w,v)|0))return q=0,ae=Q,q|0;if(D=v+4|0,m[G>>2]=m[D>>2],m[G+4>>2]=m[D+4>>2],m[G+8>>2]=m[D+8>>2],P=Gt(A|0,w|0,52)|0,ie()|0,B=P&15,P&1?(_p(D),P=B+1|0):P=B,!(Jr(q)|0))w=0;else{e:do if(!B)w=0;else for(g=1;;){if(T=Gt(A|0,w|0,(15-g|0)*3|0)|0,ie()|0,T=T&7,T|0){w=T;break e}if(g>>>0<B>>>0)g=g+1|0;else{w=0;break}}while(0);w=(w|0)==4&1}if(!(R0(v,P,w,0)|0))(P|0)!=(B|0)&&(m[D>>2]=m[G>>2],m[D+4>>2]=m[G+4>>2],m[D+8>>2]=m[G+8>>2]);else{if(Jr(q)|0)do;while(R0(v,P,0,0)|0);(P|0)!=(B|0)&&q9(D)}return q=0,ae=Q,q|0}function Tp(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0;return P=ae,ae=ae+16|0,w=P,T=P0(A,g,w)|0,T|0?(ae=P,T|0):(T=Gt(A|0,g|0,52)|0,ie()|0,yme(w,T&15,v),T=0,ae=P,T|0)}function N0(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0;if(D=ae,ae=ae+16|0,P=D,w=P0(A,g,P)|0,w|0)return P=w,ae=D,P|0;w=Gt(A|0,g|0,45)|0,ie()|0,w=(Jr(w&127)|0)==0,T=Gt(A|0,g|0,52)|0,ie()|0,T=T&15;e:do if(!w){if(T|0)for(w=1;;){if(B=Yt(7,0,(15-w|0)*3|0)|0,!((B&A|0)==0&((ie()|0)&g|0)==0))break e;if(w>>>0<T>>>0)w=w+1|0;else break}return oP(P,T,0,5,v),B=0,ae=D,B|0}while(0);return aP(P,T,0,6,v),B=0,ae=D,B|0}function Ime(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0;if(T=Gt(A|0,g|0,45)|0,ie()|0,!(Jr(T&127)|0))return T=2,m[v>>2]=T,0;if(T=Gt(A|0,g|0,52)|0,ie()|0,T=T&15,!T)return T=5,m[v>>2]=T,0;for(w=1;;){if(P=Yt(7,0,(15-w|0)*3|0)|0,!((P&A|0)==0&((ie()|0)&g|0)==0)){w=2,A=6;break}if(w>>>0<T>>>0)w=w+1|0;else{w=5,A=6;break}}return(A|0)==6&&(m[v>>2]=w),0}function iU(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0;he=ae,ae=ae+128|0,q=he+112|0,P=he+96|0,Q=he,T=Gt(A|0,g|0,52)|0,ie()|0,B=T&15,m[q>>2]=B,D=Gt(A|0,g|0,45)|0,ie()|0,D=D&127;e:do if(Jr(D)|0){if(B|0)for(w=1;;){if(G=Yt(7,0,(15-w|0)*3|0)|0,!((G&A|0)==0&((ie()|0)&g|0)==0)){T=0;break e}if(w>>>0<B>>>0)w=w+1|0;else break}if(T&1)T=1;else return G=Yt(B+1|0,0,52)|0,Q=ie()|0|g&-15728641,q=Yt(7,0,(14-B|0)*3|0)|0,Q=iU((G|A)&~q,Q&~(ie()|0),v)|0,ae=he,Q|0}else T=0;while(0);if(w=P0(A,g,P)|0,!w){T?(J9(P,q,Q),G=5):(eU(P,q,Q),G=6);e:do if(Jr(D)|0)if(!B)A=5;else for(w=1;;){if(D=Yt(7,0,(15-w|0)*3|0)|0,!((D&A|0)==0&((ie()|0)&g|0)==0)){A=2;break e}if(w>>>0<B>>>0)w=w+1|0;else{A=5;break}}else A=2;while(0);Ff(v|0,-1,A<<2|0)|0;e:do if(T)for(P=0;;){if(D=Q+(P<<4)|0,bme(D,m[q>>2]|0)|0,D=m[D>>2]|0,B=m[v>>2]|0,(B|0)==-1|(B|0)==(D|0))w=v;else{T=0;do{if(T=T+1|0,T>>>0>=A>>>0){w=1;break e}w=v+(T<<2)|0,B=m[w>>2]|0}while(!((B|0)==-1|(B|0)==(D|0)))}if(m[w>>2]=D,P=P+1|0,P>>>0>=G>>>0){w=0;break}}else for(P=0;;){if(D=Q+(P<<4)|0,R0(D,m[q>>2]|0,0,1)|0,D=m[D>>2]|0,B=m[v>>2]|0,(B|0)==-1|(B|0)==(D|0))w=v;else{T=0;do{if(T=T+1|0,T>>>0>=A>>>0){w=1;break e}w=v+(T<<2)|0,B=m[w>>2]|0}while(!((B|0)==-1|(B|0)==(D|0)))}if(m[w>>2]=D,P=P+1|0,P>>>0>=G>>>0){w=0;break}}while(0)}return Q=w,ae=he,Q|0}function Dme(){return 12}function pP(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0,G=0;if(A>>>0>15)return B=4,B|0;if(Yt(A|0,0,52)|0,B=ie()|0|134225919,!A){v=0,w=0;do Jr(w)|0&&(Yt(w|0,0,45)|0,D=B|(ie()|0),A=g+(v<<3)|0,m[A>>2]=-1,m[A+4>>2]=D,v=v+1|0),w=w+1|0;while((w|0)!=122);return v=0,v|0}v=0,D=0;do{if(Jr(D)|0){for(Yt(D|0,0,45)|0,w=1,T=-1,P=B|(ie()|0);G=Yt(7,0,(15-w|0)*3|0)|0,T=T&~G,P=P&~(ie()|0),(w|0)!=(A|0);)w=w+1|0;G=g+(v<<3)|0,m[G>>2]=T,m[G+4>>2]=P,v=v+1|0}D=D+1|0}while((D|0)!=122);return v=0,v|0}function Ome(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0;if(ft=ae,ae=ae+16|0,ct=ft,xt=Gt(A|0,g|0,52)|0,ie()|0,xt=xt&15,v>>>0>15)return xt=4,ae=ft,xt|0;if((xt|0)<(v|0))return xt=12,ae=ft,xt|0;if((xt|0)!=(v|0))if(P=Yt(v|0,0,52)|0,P=P|A,B=ie()|0|g&-15728641,(xt|0)>(v|0)){G=v;do Ke=Yt(7,0,(14-G|0)*3|0)|0,G=G+1|0,P=Ke|P,B=ie()|0|B;while((G|0)<(xt|0));Ke=P}else Ke=P;else Ke=A,B=g;Me=Gt(Ke|0,B|0,45)|0,ie()|0;e:do if(Jr(Me&127)|0){if(G=Gt(Ke|0,B|0,52)|0,ie()|0,G=G&15,G|0)for(P=1;;){if(Me=Yt(7,0,(15-P|0)*3|0)|0,!((Me&Ke|0)==0&((ie()|0)&B|0)==0)){q=33;break e}if(P>>>0<G>>>0)P=P+1|0;else break}if(Me=w,m[Me>>2]=0,m[Me+4>>2]=0,(xt|0)>(v|0)){for(Me=g&-15728641,Ee=xt;;){if(Te=Ee,Ee=Ee+-1|0,Ee>>>0>15|(xt|0)<(Ee|0)){q=19;break}if((xt|0)!=(Ee|0))if(P=Yt(Ee|0,0,52)|0,P=P|A,G=ie()|0|Me,(xt|0)<(Te|0))he=P;else{q=Ee;do he=Yt(7,0,(14-q|0)*3|0)|0,q=q+1|0,P=he|P,G=ie()|0|G;while((q|0)<(xt|0));he=P}else he=A,G=g;if(Q=Gt(he|0,G|0,45)|0,ie()|0,!(Jr(Q&127)|0))P=0;else{Q=Gt(he|0,G|0,52)|0,ie()|0,Q=Q&15;t:do if(!Q)P=0;else for(q=1;;){if(P=Gt(he|0,G|0,(15-q|0)*3|0)|0,ie()|0,P=P&7,P|0)break t;if(q>>>0<Q>>>0)q=q+1|0;else{P=0;break}}while(0);P=(P|0)==0&1}if(G=Gt(A|0,g|0,(15-Te|0)*3|0)|0,ie()|0,G=G&7,(G|0)==7){T=5,q=42;break}if(P=(P|0)!=0,(G|0)==1&P){T=5,q=42;break}if(he=G+(((G|0)!=0&P)<<31>>31)|0,he|0&&(q=xt-Te|0,q=Of(7,0,q,((q|0)<0)<<31>>31)|0,Q=ie()|0,P?(P=Jo(q|0,Q|0,5,0)|0,P=zn(P|0,ie()|0,-5,-1)|0,P=Bf(P|0,ie()|0,6,0)|0,P=zn(P|0,ie()|0,1,0)|0,G=ie()|0):(P=q,G=Q),Te=he+-1|0,Te=Jo(q|0,Q|0,Te|0,((Te|0)<0)<<31>>31|0)|0,Te=zn(P|0,G|0,Te|0,ie()|0)|0,he=ie()|0,Q=w,Q=zn(Te|0,he|0,m[Q>>2]|0,m[Q+4>>2]|0)|0,he=ie()|0,Te=w,m[Te>>2]=Q,m[Te+4>>2]=he),(Ee|0)<=(v|0)){q=37;break}}if((q|0)==19)Ot(27795,27122,1367,27158);else if((q|0)==37){D=w,T=m[D+4>>2]|0,D=m[D>>2]|0;break}else if((q|0)==42)return ae=ft,T|0}else T=0,D=0}else q=33;while(0);e:do if((q|0)==33)if(Me=w,m[Me>>2]=0,m[Me+4>>2]=0,(xt|0)>(v|0)){for(P=xt;;){if(T=Gt(A|0,g|0,(15-P|0)*3|0)|0,ie()|0,T=T&7,(T|0)==7){T=5;break}if(D=xt-P|0,D=Of(7,0,D,((D|0)<0)<<31>>31)|0,T=Jo(D|0,ie()|0,T|0,0)|0,D=ie()|0,Me=w,D=zn(m[Me>>2]|0,m[Me+4>>2]|0,T|0,D|0)|0,T=ie()|0,Me=w,m[Me>>2]=D,m[Me+4>>2]=T,P=P+-1|0,(P|0)<=(v|0))break e}return ae=ft,T|0}else T=0,D=0;while(0);return Py(Ke,B,xt,ct)|0&&Ot(27795,27122,1327,27173),xt=ct,ct=m[xt+4>>2]|0,((T|0)>-1|(T|0)==-1&D>>>0>4294967295)&((ct|0)>(T|0)|((ct|0)==(T|0)?(m[xt>>2]|0)>>>0>D>>>0:0))?(xt=0,ae=ft,xt|0):(Ot(27795,27122,1407,27158),0)}function Lme(A,g,v,w,T,P){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0,P=P|0;var D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0;if(he=ae,ae=ae+16|0,D=he,T>>>0>15)return P=4,ae=he,P|0;if(B=Gt(v|0,w|0,52)|0,ie()|0,B=B&15,(B|0)>(T|0))return P=12,ae=he,P|0;if(Py(v,w,T,D)|0&&Ot(27795,27122,1327,27173),Q=D,q=m[Q+4>>2]|0,!(((g|0)>-1|(g|0)==-1&A>>>0>4294967295)&((q|0)>(g|0)|((q|0)==(g|0)?(m[Q>>2]|0)>>>0>A>>>0:0))))return P=2,ae=he,P|0;Q=T-B|0,T=Yt(T|0,0,52)|0,G=ie()|0|w&-15728641,q=P,m[q>>2]=T|v,m[q+4>>2]=G,q=Gt(v|0,w|0,45)|0,ie()|0;e:do if(Jr(q&127)|0){if(B|0)for(D=1;;){if(q=Yt(7,0,(15-D|0)*3|0)|0,!((q&v|0)==0&((ie()|0)&w|0)==0))break e;if(D>>>0<B>>>0)D=D+1|0;else break}if((Q|0)<1)return P=0,ae=he,P|0;for(q=B^15,w=-1,G=1,D=1;;){B=Q-G|0,B=Of(7,0,B,((B|0)<0)<<31>>31)|0,v=ie()|0;do if(D)if(D=Jo(B|0,v|0,5,0)|0,D=zn(D|0,ie()|0,-5,-1)|0,D=Bf(D|0,ie()|0,6,0)|0,T=ie()|0,(g|0)>(T|0)|(g|0)==(T|0)&A>>>0>D>>>0){g=zn(A|0,g|0,-1,-1)|0,g=Zo(g|0,ie()|0,D|0,T|0)|0,D=ie()|0,Te=P,Me=m[Te>>2]|0,Te=m[Te+4>>2]|0,Ke=(q+w|0)*3|0,Ee=Yt(7,0,Ke|0)|0,Te=Te&~(ie()|0),w=Bf(g|0,D|0,B|0,v|0)|0,A=ie()|0,T=zn(w|0,A|0,2,0)|0,Ke=Yt(T|0,ie()|0,Ke|0)|0,Te=ie()|0|Te,T=P,m[T>>2]=Ke|Me&~Ee,m[T+4>>2]=Te,A=Jo(w|0,A|0,B|0,v|0)|0,A=Zo(g|0,D|0,A|0,ie()|0)|0,D=0,g=ie()|0;break}else{Ke=P,Ee=m[Ke>>2]|0,Ke=m[Ke+4>>2]|0,Me=Yt(7,0,(q+w|0)*3|0)|0,Ke=Ke&~(ie()|0),D=P,m[D>>2]=Ee&~Me,m[D+4>>2]=Ke,D=1;break}else Ee=P,T=m[Ee>>2]|0,Ee=m[Ee+4>>2]|0,w=(q+w|0)*3|0,Te=Yt(7,0,w|0)|0,Ee=Ee&~(ie()|0),Ke=Bf(A|0,g|0,B|0,v|0)|0,D=ie()|0,w=Yt(Ke|0,D|0,w|0)|0,Ee=ie()|0|Ee,Me=P,m[Me>>2]=w|T&~Te,m[Me+4>>2]=Ee,D=Jo(Ke|0,D|0,B|0,v|0)|0,A=Zo(A|0,g|0,D|0,ie()|0)|0,D=0,g=ie()|0;while(0);if((Q|0)>(G|0))w=~G,G=G+1|0;else{g=0;break}}return ae=he,g|0}while(0);if((Q|0)<1)return Ke=0,ae=he,Ke|0;for(T=B^15,D=1;;)if(Me=Q-D|0,Me=Of(7,0,Me,((Me|0)<0)<<31>>31)|0,Ke=ie()|0,G=P,v=m[G>>2]|0,G=m[G+4>>2]|0,B=(T-D|0)*3|0,w=Yt(7,0,B|0)|0,G=G&~(ie()|0),Te=Bf(A|0,g|0,Me|0,Ke|0)|0,Ee=ie()|0,B=Yt(Te|0,Ee|0,B|0)|0,G=ie()|0|G,q=P,m[q>>2]=B|v&~w,m[q+4>>2]=G,Ke=Jo(Te|0,Ee|0,Me|0,Ke|0)|0,A=Zo(A|0,g|0,Ke|0,ie()|0)|0,g=ie()|0,(Q|0)<=(D|0)){g=0;break}else D=D+1|0;return ae=he,g|0}function mP(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0;T=Gt(g|0,v|0,52)|0,ie()|0,T=T&15,(g|0)==0&(v|0)==0|((w|0)>15|(T|0)>(w|0))?(P=-1,g=-1,v=0,T=0):(g=nU(g,v,T+1|0,w)|0,D=(ie()|0)&-15728641,v=Yt(w|0,0,52)|0,v=g|v,D=D|(ie()|0),g=(Ci(v,D)|0)==0,P=T,g=g?-1:w,T=D),D=A,m[D>>2]=v,m[D+4>>2]=T,m[A+8>>2]=P,m[A+12>>2]=g}function oU(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0;if(T=Gt(A|0,g|0,52)|0,ie()|0,T=T&15,P=w+8|0,m[P>>2]=T,(A|0)==0&(g|0)==0|((v|0)>15|(T|0)>(v|0))){v=w,m[v>>2]=0,m[v+4>>2]=0,m[P>>2]=-1,m[w+12>>2]=-1;return}if(A=nU(A,g,T+1|0,v)|0,P=(ie()|0)&-15728641,T=Yt(v|0,0,52)|0,T=A|T,P=P|(ie()|0),A=w,m[A>>2]=T,m[A+4>>2]=P,A=w+12|0,Ci(T,P)|0){m[A>>2]=v;return}else{m[A>>2]=-1;return}}function gP(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0;if(v=A,g=m[v>>2]|0,v=m[v+4>>2]|0,!((g|0)==0&(v|0)==0)&&(w=Gt(g|0,v|0,52)|0,ie()|0,w=w&15,B=Yt(1,0,(w^15)*3|0)|0,g=zn(B|0,ie()|0,g|0,v|0)|0,v=ie()|0,B=A,m[B>>2]=g,m[B+4>>2]=v,B=A+8|0,D=m[B>>2]|0,!((w|0)<(D|0)))){for(G=A+12|0,P=w;;){if((P|0)==(D|0)){w=5;break}if(q=(P|0)==(m[G>>2]|0),T=(15-P|0)*3|0,w=Gt(g|0,v|0,T|0)|0,ie()|0,w=w&7,q&((w|0)==1&!0)){w=7;break}if(!((w|0)==7&!0)){w=10;break}if(q=Yt(1,0,T|0)|0,g=zn(g|0,v|0,q|0,ie()|0)|0,v=ie()|0,q=A,m[q>>2]=g,m[q+4>>2]=v,(P|0)>(D|0))P=P+-1|0;else{w=10;break}}if((w|0)==5){q=A,m[q>>2]=0,m[q+4>>2]=0,m[B>>2]=-1,m[G>>2]=-1;return}else if((w|0)==7){D=Yt(1,0,T|0)|0,D=zn(g|0,v|0,D|0,ie()|0)|0,B=ie()|0,q=A,m[q>>2]=D,m[q+4>>2]=B,m[G>>2]=P+-1;return}else if((w|0)==10)return}}function Ny(A){A=+A;var g=0;return g=A<0?A+6.283185307179586:A,+(A>=6.283185307179586?g+-6.283185307179586:g)}function I0(A,g){return A=A|0,g=g|0,+cn(+(+te[A>>3]-+te[g>>3]))<17453292519943298e-27?(g=+cn(+(+te[A+8>>3]-+te[g+8>>3]))<17453292519943298e-27,g|0):(g=0,g|0)}function dl(A,g){switch(A=+A,g=g|0,g|0){case 1:{A=A<0?A+6.283185307179586:A;break}case 2:{A=A>0?A+-6.283185307179586:A;break}}return+A}function Bme(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0;return T=+te[g>>3],w=+te[A>>3],P=+wt(+((T-w)*.5)),v=+wt(+((+te[g+8>>3]-+te[A+8>>3])*.5)),v=P*P+v*(+Sn(+T)*+Sn(+w)*v),+(+Ie(+ +In(+v),+ +In(+(1-v)))*2)}function Iy(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0;return T=+te[g>>3],w=+te[A>>3],P=+wt(+((T-w)*.5)),v=+wt(+((+te[g+8>>3]-+te[A+8>>3])*.5)),v=P*P+v*(+Sn(+T)*+Sn(+w)*v),+(+Ie(+ +In(+v),+ +In(+(1-v)))*2*6371.007180918475)}function Fme(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0;return T=+te[g>>3],w=+te[A>>3],P=+wt(+((T-w)*.5)),v=+wt(+((+te[g+8>>3]-+te[A+8>>3])*.5)),v=P*P+v*(+Sn(+T)*+Sn(+w)*v),+(+Ie(+ +In(+v),+ +In(+(1-v)))*2*6371.007180918475*1e3)}function $me(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0;return P=+te[g>>3],w=+Sn(+P),T=+te[g+8>>3]-+te[A+8>>3],D=w*+wt(+T),v=+te[A>>3],+ +Ie(+D,+(+wt(+P)*+Sn(+v)-+Sn(+T)*(w*+wt(+v))))}function Ume(A,g,v,w){A=A|0,g=+g,v=+v,w=w|0;var T=0,P=0,D=0,B=0;if(v<1e-16){m[w>>2]=m[A>>2],m[w+4>>2]=m[A+4>>2],m[w+8>>2]=m[A+8>>2],m[w+12>>2]=m[A+12>>2];return}P=g<0?g+6.283185307179586:g,P=g>=6.283185307179586?P+-6.283185307179586:P;do if(P<1e-16)g=+te[A>>3]+v,te[w>>3]=g,T=w;else{if(T=+cn(+(P+-3.141592653589793))<1e-16,g=+te[A>>3],T){g=g-v,te[w>>3]=g,T=w;break}if(D=+Sn(+v),v=+wt(+v),g=D*+wt(+g)+ +Sn(+P)*(v*+Sn(+g)),g=g>1?1:g,g=+kn(+(g<-1?-1:g)),te[w>>3]=g,+cn(+(g+-1.5707963267948966))<1e-16){te[w>>3]=1.5707963267948966,te[w+8>>3]=0;return}if(+cn(+(g+1.5707963267948966))<1e-16){te[w>>3]=-1.5707963267948966,te[w+8>>3]=0;return}if(B=1/+Sn(+g),P=v*+wt(+P)*B,v=+te[A>>3],g=B*((D-+wt(+g)*+wt(+v))/+Sn(+v)),D=P>1?1:P,g=g>1?1:g,g=+te[A+8>>3]+ +Ie(+(D<-1?-1:D),+(g<-1?-1:g)),g>3.141592653589793)do g=g+-6.283185307179586;while(g>3.141592653589793);if(g<-3.141592653589793)do g=g+6.283185307179586;while(g<-3.141592653589793);te[w+8>>3]=g;return}while(0);if(+cn(+(g+-1.5707963267948966))<1e-16){te[T>>3]=1.5707963267948966,te[w+8>>3]=0;return}if(+cn(+(g+1.5707963267948966))<1e-16){te[T>>3]=-1.5707963267948966,te[w+8>>3]=0;return}if(g=+te[A+8>>3],g>3.141592653589793)do g=g+-6.283185307179586;while(g>3.141592653589793);if(g<-3.141592653589793)do g=g+6.283185307179586;while(g<-3.141592653589793);te[w+8>>3]=g}function aU(A,g){return A=A|0,g=g|0,A>>>0>15?(g=4,g|0):(te[g>>3]=+te[20656+(A<<3)>>3],g=0,g|0)}function kme(A,g){return A=A|0,g=g|0,A>>>0>15?(g=4,g|0):(te[g>>3]=+te[20784+(A<<3)>>3],g=0,g|0)}function Vme(A,g){return A=A|0,g=g|0,A>>>0>15?(g=4,g|0):(te[g>>3]=+te[20912+(A<<3)>>3],g=0,g|0)}function zme(A,g){return A=A|0,g=g|0,A>>>0>15?(g=4,g|0):(te[g>>3]=+te[21040+(A<<3)>>3],g=0,g|0)}function PS(A,g){A=A|0,g=g|0;var v=0;return A>>>0>15?(g=4,g|0):(v=Of(7,0,A,((A|0)<0)<<31>>31)|0,v=Jo(v|0,ie()|0,120,0)|0,A=ie()|0,m[g>>2]=v|2,m[g+4>>2]=A,g=0,g|0)}function sU(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0;return Te=+te[g>>3],Q=+te[A>>3],G=+wt(+((Te-Q)*.5)),P=+te[g+8>>3],q=+te[A+8>>3],D=+wt(+((P-q)*.5)),B=+Sn(+Q),he=+Sn(+Te),D=G*G+D*(he*B*D),D=+Ie(+ +In(+D),+ +In(+(1-D)))*2,G=+te[v>>3],Te=+wt(+((G-Te)*.5)),w=+te[v+8>>3],P=+wt(+((w-P)*.5)),T=+Sn(+G),P=Te*Te+P*(he*T*P),P=+Ie(+ +In(+P),+ +In(+(1-P)))*2,G=+wt(+((Q-G)*.5)),w=+wt(+((q-w)*.5)),w=G*G+w*(B*T*w),w=+Ie(+ +In(+w),+ +In(+(1-w)))*2,T=(D+P+w)*.5,+(+le(+ +In(+(+Zt(+(T*.5))*+Zt(+((T-D)*.5))*+Zt(+((T-P)*.5))*+Zt(+((T-w)*.5)))))*4)}function AP(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0;if(B=ae,ae=ae+192|0,P=B+168|0,D=B,T=Tp(A,g,P)|0,T|0)return v=T,ae=B,v|0;if(N0(A,g,D)|0&&Ot(27795,27190,415,27199),g=m[D>>2]|0,(g|0)>0){if(w=+sU(D+8|0,D+8+(((g|0)!=1&1)<<4)|0,P)+0,(g|0)!=1){A=1;do T=A,A=A+1|0,w=w+ +sU(D+8+(T<<4)|0,D+8+(((A|0)%(g|0)|0)<<4)|0,P);while((A|0)<(g|0))}}else w=0;return te[v>>3]=w,v=0,ae=B,v|0}function Gme(A,g,v){return A=A|0,g=g|0,v=v|0,A=AP(A,g,v)|0,A|0||(te[v>>3]=+te[v>>3]*6371.007180918475*6371.007180918475),A|0}function Hme(A,g,v){return A=A|0,g=g|0,v=v|0,A=AP(A,g,v)|0,A|0||(te[v>>3]=+te[v>>3]*6371.007180918475*6371.007180918475*1e3*1e3),A|0}function jme(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0;if(B=ae,ae=ae+176|0,D=B,A=RS(A,g,D)|0,A|0)return D=A,ae=B,D|0;if(te[v>>3]=0,A=m[D>>2]|0,(A|0)<=1)return D=0,ae=B,D|0;g=A+-1|0,A=0,w=+te[D+8>>3],T=+te[D+16>>3],P=0;do A=A+1|0,q=w,w=+te[D+8+(A<<4)>>3],Q=+wt(+((w-q)*.5)),G=T,T=+te[D+8+(A<<4)+8>>3],G=+wt(+((T-G)*.5)),G=Q*Q+G*(+Sn(+w)*+Sn(+q)*G),P=P+ +Ie(+ +In(+G),+ +In(+(1-G)))*2;while((A|0)<(g|0));return te[v>>3]=P,D=0,ae=B,D|0}function qme(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0;if(B=ae,ae=ae+176|0,D=B,A=RS(A,g,D)|0,A|0)return D=A,P=+te[v>>3],P=P*6371.007180918475,te[v>>3]=P,ae=B,D|0;if(te[v>>3]=0,A=m[D>>2]|0,(A|0)<=1)return D=0,P=0,P=P*6371.007180918475,te[v>>3]=P,ae=B,D|0;g=A+-1|0,A=0,w=+te[D+8>>3],T=+te[D+16>>3],P=0;do A=A+1|0,q=w,w=+te[D+8+(A<<4)>>3],Q=+wt(+((w-q)*.5)),G=T,T=+te[D+8+(A<<4)+8>>3],G=+wt(+((T-G)*.5)),G=Q*Q+G*(+Sn(+q)*+Sn(+w)*G),P=P+ +Ie(+ +In(+G),+ +In(+(1-G)))*2;while((A|0)!=(g|0));return te[v>>3]=P,D=0,Q=P,Q=Q*6371.007180918475,te[v>>3]=Q,ae=B,D|0}function Wme(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0;if(B=ae,ae=ae+176|0,D=B,A=RS(A,g,D)|0,A|0)return D=A,P=+te[v>>3],P=P*6371.007180918475,P=P*1e3,te[v>>3]=P,ae=B,D|0;if(te[v>>3]=0,A=m[D>>2]|0,(A|0)<=1)return D=0,P=0,P=P*6371.007180918475,P=P*1e3,te[v>>3]=P,ae=B,D|0;g=A+-1|0,A=0,w=+te[D+8>>3],T=+te[D+16>>3],P=0;do A=A+1|0,q=w,w=+te[D+8+(A<<4)>>3],Q=+wt(+((w-q)*.5)),G=T,T=+te[D+8+(A<<4)+8>>3],G=+wt(+((T-G)*.5)),G=Q*Q+G*(+Sn(+q)*+Sn(+w)*G),P=P+ +Ie(+ +In(+G),+ +In(+(1-G)))*2;while((A|0)!=(g|0));return te[v>>3]=P,D=0,Q=P,Q=Q*6371.007180918475,Q=Q*1e3,te[v>>3]=Q,ae=B,D|0}function Xme(A){A=A|0;var g=0,v=0,w=0;return g=Fs(1,12)|0,g||Ot(27280,27235,49,27293),v=A+4|0,w=m[v>>2]|0,w|0?(w=w+8|0,m[w>>2]=g,m[v>>2]=g,g|0):(m[A>>2]|0&&Ot(27310,27235,61,27333),w=A,m[w>>2]=g,m[v>>2]=g,g|0)}function Yme(A,g){A=A|0,g=g|0;var v=0,w=0;return w=Tu(24)|0,w||Ot(27347,27235,78,27361),m[w>>2]=m[g>>2],m[w+4>>2]=m[g+4>>2],m[w+8>>2]=m[g+8>>2],m[w+12>>2]=m[g+12>>2],m[w+16>>2]=0,g=A+4|0,v=m[g>>2]|0,v|0?(m[v+16>>2]=w,m[g>>2]=w,w|0):(m[A>>2]|0&&Ot(27376,27235,82,27361),m[A>>2]=w,m[g>>2]=w,w|0)}function lU(A){A=A|0;var g=0,v=0,w=0,T=0;if(A)for(w=1;;){if(g=m[A>>2]|0,g|0)do{if(v=m[g>>2]|0,v|0)do T=v,v=m[v+16>>2]|0,jn(T);while(v|0);T=g,g=m[g+8>>2]|0,jn(T)}while(g|0);if(g=A,A=m[A+8>>2]|0,w||jn(g),A)w=0;else break}}function Kme(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0,Ze=0,Qt=0,$n=0,wn=0,mr=0,gr=0,Er=0,or=0,Un=0,Kt=0,_r=0,pi=0,yr=0;if(T=A+8|0,m[T>>2]|0)return yr=1,yr|0;if(w=m[A>>2]|0,!w)return yr=0,yr|0;g=w,v=0;do v=v+1|0,g=m[g+8>>2]|0;while(g|0);if(v>>>0<2)return yr=0,yr|0;_r=Tu(v<<2)|0,_r||Ot(27396,27235,317,27415),Kt=Tu(v<<5)|0,Kt||Ot(27437,27235,321,27415),m[A>>2]=0,$n=A+4|0,m[$n>>2]=0,m[T>>2]=0,v=0,Un=0,Qt=0,he=0;e:for(;;){if(Q=m[w>>2]|0,Q){P=0,D=Q;do{if(G=+te[D+8>>3],g=D,D=m[D+16>>2]|0,q=(D|0)==0,T=q?Q:D,B=+te[T+8>>3],+cn(+(G-B))>3.141592653589793){yr=14;break}P=P+(B-G)*(+te[g>>3]+ +te[T>>3])}while(!q);if((yr|0)==14){yr=0,P=0,g=Q;do Ze=+te[g+8>>3],or=g+16|0,Er=m[or>>2]|0,Er=Er|0?Er:Q,ut=+te[Er+8>>3],P=P+(+te[g>>3]+ +te[Er>>3])*((ut<0?ut+6.283185307179586:ut)-(Ze<0?Ze+6.283185307179586:Ze)),g=m[(g|0?or:w)>>2]|0;while(g|0)}P>0?(m[_r+(Un<<2)>>2]=w,Un=Un+1|0,T=Qt,g=he):yr=19}else yr=19;if((yr|0)==19){yr=0;do if(v){if(g=v+8|0,m[g>>2]|0){yr=21;break e}if(v=Fs(1,12)|0,!v){yr=23;break e}m[g>>2]=v,T=v+4|0,D=v,g=he}else if(he){T=$n,D=he+8|0,g=w,v=A;break}else if(m[A>>2]|0){yr=27;break e}else{T=$n,D=A,g=w,v=A;break}while(0);if(m[D>>2]=w,m[T>>2]=w,D=Kt+(Qt<<5)|0,q=m[w>>2]|0,q){for(Q=Kt+(Qt<<5)+8|0,te[Q>>3]=17976931348623157e292,he=Kt+(Qt<<5)+24|0,te[he>>3]=17976931348623157e292,te[D>>3]=-17976931348623157e292,Te=Kt+(Qt<<5)+16|0,te[Te>>3]=-17976931348623157e292,xt=17976931348623157e292,ft=-17976931348623157e292,T=0,Ee=q,G=17976931348623157e292,Ke=17976931348623157e292,ct=-17976931348623157e292,B=-17976931348623157e292;P=+te[Ee>>3],Ze=+te[Ee+8>>3],Ee=m[Ee+16>>2]|0,Me=(Ee|0)==0,ut=+te[(Me?q:Ee)+8>>3],P<G&&(te[Q>>3]=P,G=P),Ze<Ke&&(te[he>>3]=Ze,Ke=Ze),P>ct?te[D>>3]=P:P=ct,Ze>B&&(te[Te>>3]=Ze,B=Ze),xt=Ze>0&Ze<xt?Ze:xt,ft=Ze<0&Ze>ft?Ze:ft,T=T|+cn(+(Ze-ut))>3.141592653589793,!Me;)ct=P;T&&(te[Te>>3]=ft,te[he>>3]=xt)}else m[D>>2]=0,m[D+4>>2]=0,m[D+8>>2]=0,m[D+12>>2]=0,m[D+16>>2]=0,m[D+20>>2]=0,m[D+24>>2]=0,m[D+28>>2]=0;T=Qt+1|0}if(or=w+8|0,w=m[or>>2]|0,m[or>>2]=0,w)Qt=T,he=g;else{yr=45;break}}if((yr|0)==21)Ot(27213,27235,35,27247);else if((yr|0)==23)Ot(27267,27235,37,27247);else if((yr|0)==27)Ot(27310,27235,61,27333);else if((yr|0)==45){e:do if((Un|0)>0){for(or=(T|0)==0,gr=T<<2,Er=(A|0)==0,mr=0,g=0;;){if(wn=m[_r+(mr<<2)>>2]|0,or)yr=73;else{if(Qt=Tu(gr)|0,!Qt){yr=50;break}if($n=Tu(gr)|0,!$n){yr=52;break}t:do if(Er)v=0;else{for(T=0,v=0,D=A;w=Kt+(T<<5)|0,cU(m[D>>2]|0,w,m[wn>>2]|0)|0?(m[Qt+(v<<2)>>2]=D,m[$n+(v<<2)>>2]=w,Me=v+1|0):Me=v,D=m[D+8>>2]|0,D;)T=T+1|0,v=Me;if((Me|0)>0)if(w=m[Qt>>2]|0,(Me|0)==1)v=w;else for(Te=0,Ee=-1,v=w,he=w;;){for(q=m[he>>2]|0,w=0,D=0;T=m[m[Qt+(D<<2)>>2]>>2]|0,(T|0)==(q|0)?Q=w:Q=w+((cU(T,m[$n+(D<<2)>>2]|0,m[q>>2]|0)|0)&1)|0,D=D+1|0,(D|0)!=(Me|0);)w=Q;if(T=(Q|0)>(Ee|0),v=T?he:v,w=Te+1|0,(w|0)==(Me|0))break t;Te=w,Ee=T?Q:Ee,he=m[Qt+(w<<2)>>2]|0}else v=0}while(0);if(jn(Qt),jn($n),v){if(T=v+4|0,w=m[T>>2]|0,w)v=w+8|0;else if(m[v>>2]|0){yr=70;break}m[v>>2]=wn,m[T>>2]=wn}else yr=73}if((yr|0)==73){if(yr=0,g=m[wn>>2]|0,g|0)do $n=g,g=m[g+16>>2]|0,jn($n);while(g|0);jn(wn),g=1}if(mr=mr+1|0,(mr|0)>=(Un|0)){pi=g;break e}}(yr|0)==50?Ot(27452,27235,249,27471):(yr|0)==52?Ot(27490,27235,252,27471):(yr|0)==70&&Ot(27310,27235,61,27333)}else pi=0;while(0);return jn(_r),jn(Kt),yr=pi,yr|0}return 0}function cU(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0;if(!(If(g,v)|0)||(g=M0(g)|0,w=+te[v>>3],T=+te[v+8>>3],T=g&T<0?T+6.283185307179586:T,A=m[A>>2]|0,!A))return A=0,A|0;if(g){g=0,q=T,v=A;e:for(;;){for(;D=+te[v>>3],T=+te[v+8>>3],v=v+16|0,Q=m[v>>2]|0,Q=Q|0?Q:A,P=+te[Q>>3],B=+te[Q+8>>3],D>P?(G=D,D=B):(G=P,P=D,D=T,T=B),w=w==P|w==G?w+2220446049250313e-31:w,!!(w<P|w>G);)if(v=m[v>>2]|0,!v){v=22;break e}if(B=D<0?D+6.283185307179586:D,D=T<0?T+6.283185307179586:T,q=B==q|D==q?q+-2220446049250313e-31:q,G=B+(D-B)*((w-P)/(G-P)),(G<0?G+6.283185307179586:G)>q&&(g=g^1),v=m[v>>2]|0,!v){v=22;break}}if((v|0)==22)return g|0}else{g=0,q=T,v=A;e:for(;;){for(;D=+te[v>>3],T=+te[v+8>>3],v=v+16|0,Q=m[v>>2]|0,Q=Q|0?Q:A,P=+te[Q>>3],B=+te[Q+8>>3],D>P?(G=D,D=B):(G=P,P=D,D=T,T=B),w=w==P|w==G?w+2220446049250313e-31:w,!!(w<P|w>G);)if(v=m[v>>2]|0,!v){v=22;break e}if(q=D==q|T==q?q+-2220446049250313e-31:q,D+(T-D)*((w-P)/(G-P))>q&&(g=g^1),v=m[v>>2]|0,!v){v=22;break}}if((v|0)==22)return g|0}return 0}function Ed(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0;if(ft=ae,ae=ae+32|0,xt=ft+16|0,ct=ft,P=Gt(A|0,g|0,52)|0,ie()|0,P=P&15,Ee=Gt(v|0,w|0,52)|0,ie()|0,(P|0)!=(Ee&15|0))return xt=12,ae=ft,xt|0;if(q=Gt(A|0,g|0,45)|0,ie()|0,q=q&127,Q=Gt(v|0,w|0,45)|0,ie()|0,Q=Q&127,q>>>0>121|Q>>>0>121)return xt=5,ae=ft,xt|0;if(Ee=(q|0)!=(Q|0),Ee){if(B=wi(q,Q)|0,(B|0)==7)return xt=1,ae=ft,xt|0;G=wi(Q,q)|0,(G|0)==7?Ot(27514,27538,161,27548):(Me=B,D=G)}else Me=0,D=0;he=Jr(q)|0,Te=Jr(Q)|0,m[xt>>2]=0,m[xt+4>>2]=0,m[xt+8>>2]=0,m[xt+12>>2]=0;do if(Me){if(Q=m[4272+(q*28|0)+(Me<<2)>>2]|0,B=(Q|0)>0,Te)if(B){q=0,G=v,B=w;do G=Pme(G,B)|0,B=ie()|0,D=Df(D)|0,(D|0)==1&&(D=Df(1)|0),q=q+1|0;while((q|0)!=(Q|0));Q=D,q=G,G=B}else Q=D,q=v,G=w;else if(B){q=0,G=v,B=w;do G=dP(G,B)|0,B=ie()|0,D=Df(D)|0,q=q+1|0;while((q|0)!=(Q|0));Q=D,q=G,G=B}else Q=D,q=v,G=w;if(hP(q,G,xt)|0,Ee||Ot(27563,27538,191,27548),B=(he|0)!=0,D=(Te|0)!=0,B&D&&Ot(27590,27538,192,27548),B){if(D=Bs(A,g)|0,(D|0)==7){P=5;break}if(ht[22e3+(D*7|0)+Me>>0]|0){P=1;break}G=m[21168+(D*28|0)+(Me<<2)>>2]|0,q=G}else if(D){if(D=Bs(q,G)|0,(D|0)==7){P=5;break}if(ht[22e3+(D*7|0)+Q>>0]|0){P=1;break}q=0,G=m[21168+(Q*28|0)+(D<<2)>>2]|0}else q=0,G=0;if((q|G|0)<0)P=5;else{if((G|0)>0){B=xt+4|0,D=0;do MS(B),D=D+1|0;while((D|0)!=(G|0))}if(m[ct>>2]=0,m[ct+4>>2]=0,m[ct+8>>2]=0,W9(ct,Me),P|0)for(;jl(P)|0?ES(ct):_p(ct),(P|0)>1;)P=P+-1|0;if((q|0)>0){P=0;do MS(ct),P=P+1|0;while((P|0)!=(q|0))}Ke=xt+4|0,ls(Ke,ct,Ke),Ua(Ke),Ke=51}}else if(hP(v,w,xt)|0,(he|0)!=0&(Te|0)!=0)if((Q|0)!=(q|0)&&Ot(27621,27538,261,27548),D=Bs(A,g)|0,P=Bs(v,w)|0,(D|0)==7|(P|0)==7)P=5;else if(ht[22e3+(D*7|0)+P>>0]|0)P=1;else if(D=m[21168+(D*28|0)+(P<<2)>>2]|0,(D|0)>0){B=xt+4|0,P=0;do MS(B),P=P+1|0;while((P|0)!=(D|0));Ke=51}else Ke=51;else Ke=51;while(0);return(Ke|0)==51&&(P=xt+4|0,m[T>>2]=m[P>>2],m[T+4>>2]=m[P+4>>2],m[T+8>>2]=m[P+8>>2],P=0),xt=P,ae=ft,xt|0}function uU(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0;if(Ke=ae,ae=ae+48|0,q=Ke+36|0,D=Ke+24|0,B=Ke+12|0,G=Ke,T=Gt(A|0,g|0,52)|0,ie()|0,T=T&15,Te=Gt(A|0,g|0,45)|0,ie()|0,Te=Te&127,Te>>>0>121)return w=5,ae=Ke,w|0;if(Q=Jr(Te)|0,Yt(T|0,0,52)|0,ct=ie()|0|134225919,P=w,m[P>>2]=-1,m[P+4>>2]=ct,!T)return T=TS(v)|0,(T|0)==7||(T=er(Te,T)|0,(T|0)==127)?(ct=1,ae=Ke,ct|0):(Ee=Yt(T|0,0,45)|0,Me=ie()|0,Te=w,Me=m[Te+4>>2]&-1040385|Me,ct=w,m[ct>>2]=m[Te>>2]|Ee,m[ct+4>>2]=Me,ct=0,ae=Ke,ct|0);for(m[q>>2]=m[v>>2],m[q+4>>2]=m[v+4>>2],m[q+8>>2]=m[v+8>>2],v=T;;){if(P=v,v=v+-1|0,m[D>>2]=m[q>>2],m[D+4>>2]=m[q+4>>2],m[D+8>>2]=m[q+8>>2],jl(P)|0){if(T=ime(q)|0,T|0){v=13;break}m[B>>2]=m[q>>2],m[B+4>>2]=m[q+4>>2],m[B+8>>2]=m[q+8>>2],ES(B)}else{if(T=ome(q)|0,T|0){v=13;break}m[B>>2]=m[q>>2],m[B+4>>2]=m[q+4>>2],m[B+8>>2]=m[q+8>>2],_p(B)}if(rP(D,B,G),Ua(G),T=w,ft=m[T>>2]|0,T=m[T+4>>2]|0,ut=(15-P|0)*3|0,xt=Yt(7,0,ut|0)|0,T=T&~(ie()|0),ut=Yt(TS(G)|0,0,ut|0)|0,T=ie()|0|T,ct=w,m[ct>>2]=ut|ft&~xt,m[ct+4>>2]=T,(P|0)<=1){v=14;break}}e:do if((v|0)!=13&&(v|0)==14)if((m[q>>2]|0)<=1&&(m[q+4>>2]|0)<=1&&(m[q+8>>2]|0)<=1){v=TS(q)|0,T=er(Te,v)|0,(T|0)==127?G=0:G=Jr(T)|0;t:do if(v){if(Q){if(T=Bs(A,g)|0,(T|0)==7){T=5;break e}if(P=m[21376+(T*28|0)+(v<<2)>>2]|0,(P|0)>0){T=v,v=0;do T=wp(T)|0,v=v+1|0;while((v|0)!=(P|0))}else T=v;if((T|0)==1){T=9;break e}v=er(Te,T)|0,(v|0)==127&&Ot(27648,27538,411,27678),Jr(v)|0?Ot(27693,27538,412,27678):(Me=v,Ee=P,he=T)}else Me=T,Ee=0,he=v;if(B=m[4272+(Te*28|0)+(he<<2)>>2]|0,(B|0)<=-1&&Ot(27724,27538,419,27678),!G){if((Ee|0)<0){T=5;break e}if(Ee|0){P=w,T=0,v=m[P>>2]|0,P=m[P+4>>2]|0;do v=Cp(v,P)|0,P=ie()|0,ut=w,m[ut>>2]=v,m[ut+4>>2]=P,T=T+1|0;while((T|0)<(Ee|0))}if((B|0)<=0){T=Me,v=58;break}for(P=w,T=0,v=m[P>>2]|0,P=m[P+4>>2]|0;;)if(v=Cp(v,P)|0,P=ie()|0,ut=w,m[ut>>2]=v,m[ut+4>>2]=P,T=T+1|0,(T|0)==(B|0)){T=Me,v=58;break t}}if(D=wi(Me,Te)|0,(D|0)==7&&Ot(27514,27538,428,27678),T=w,v=m[T>>2]|0,T=m[T+4>>2]|0,(B|0)>0){P=0;do v=Cp(v,T)|0,T=ie()|0,ut=w,m[ut>>2]=v,m[ut+4>>2]=T,P=P+1|0;while((P|0)!=(B|0))}if(T=Bs(v,T)|0,(T|0)==7&&Ot(27795,27538,440,27678),v=Hl(Me)|0,v=m[(v?21792:21584)+(D*28|0)+(T<<2)>>2]|0,(v|0)<0&&Ot(27795,27538,454,27678),!v)T=Me,v=58;else{D=w,T=0,P=m[D>>2]|0,D=m[D+4>>2]|0;do P=uP(P,D)|0,D=ie()|0,ut=w,m[ut>>2]=P,m[ut+4>>2]=D,T=T+1|0;while((T|0)<(v|0));T=Me,v=58}}else if((Q|0)!=0&(G|0)!=0){if(v=Bs(A,g)|0,P=w,P=Bs(m[P>>2]|0,m[P+4>>2]|0)|0,(v|0)==7|(P|0)==7){T=5;break e}if(P=m[21376+(v*28|0)+(P<<2)>>2]|0,(P|0)<0){T=5;break e}if(!P)v=59;else{B=w,v=0,D=m[B>>2]|0,B=m[B+4>>2]|0;do D=Cp(D,B)|0,B=ie()|0,ut=w,m[ut>>2]=D,m[ut+4>>2]=B,v=v+1|0;while((v|0)<(P|0));v=58}}else v=58;while(0);if((v|0)==58&&G&&(v=59),(v|0)==59&&(ut=w,(Bs(m[ut>>2]|0,m[ut+4>>2]|0)|0)==1)){T=9;break}ut=w,xt=m[ut>>2]|0,ut=m[ut+4>>2]&-1040385,ft=Yt(T|0,0,45)|0,ut=ut|(ie()|0),T=w,m[T>>2]=xt|ft,m[T+4>>2]=ut,T=0}else T=1;while(0);return ut=T,ae=Ke,ut|0}function Qme(A,g,v,w,T,P){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0,P=P|0;var D=0,B=0;return B=ae,ae=ae+16|0,D=B,T?A=15:(A=Ed(A,g,v,w,D)|0,A||(sme(D,P),A=0)),ae=B,A|0}function Zme(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0;return D=ae,ae=ae+16|0,P=D,w?v=15:(v=lme(v,P)|0,v||(v=uU(A,g,P,T)|0)),ae=D,v|0}function Jme(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0;return G=ae,ae=ae+32|0,D=G+12|0,B=G,P=Ed(A,g,A,g,D)|0,P|0?(B=P,ae=G,B|0):(A=Ed(A,g,v,w,B)|0,A|0?(B=A,ae=G,B|0):(D=iP(D,B)|0,B=T,m[B>>2]=D,m[B+4>>2]=((D|0)<0)<<31>>31,B=0,ae=G,B|0))}function e0e(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0;return G=ae,ae=ae+32|0,D=G+12|0,B=G,P=Ed(A,g,A,g,D)|0,!P&&(P=Ed(A,g,v,w,B)|0,!P)?(w=iP(D,B)|0,w=zn(w|0,((w|0)<0)<<31>>31|0,1,0)|0,D=ie()|0,B=T,m[B>>2]=w,m[B+4>>2]=D,B=0,ae=G,B|0):(B=P,ae=G,B|0)}function t0e(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0,Ze=0,Qt=0,$n=0,wn=0,mr=0;if(wn=ae,ae=ae+48|0,Qt=wn+24|0,D=wn+12|0,$n=wn,P=Ed(A,g,A,g,Qt)|0,!P&&(P=Ed(A,g,v,w,D)|0,!P)){ut=iP(Qt,D)|0,Ze=((ut|0)<0)<<31>>31,m[Qt>>2]=0,m[Qt+4>>2]=0,m[Qt+8>>2]=0,m[D>>2]=0,m[D+4>>2]=0,m[D+8>>2]=0,Ed(A,g,A,g,Qt)|0&&Ot(27795,27538,692,27747),Ed(A,g,v,w,D)|0&&Ot(27795,27538,697,27747),Q9(Qt),Q9(D),Q=ut|0?1/+(ut|0):0,v=m[Qt>>2]|0,Ke=Q*+((m[D>>2]|0)-v|0),ct=Qt+4|0,w=m[ct>>2]|0,xt=Q*+((m[D+4>>2]|0)-w|0),ft=Qt+8|0,P=m[ft>>2]|0,Q=Q*+((m[D+8>>2]|0)-P|0),m[$n>>2]=v,he=$n+4|0,m[he>>2]=w,Te=$n+8|0,m[Te>>2]=P;e:do if((ut|0)<0)P=0;else for(Ee=0,Me=0;;){G=+(Me>>>0)+4294967296*+(Ee|0),mr=Ke*G+ +(v|0),B=xt*G+ +(w|0),G=Q*G+ +(P|0),v=~~+OS(+mr),D=~~+OS(+B),P=~~+OS(+G),mr=+cn(+(+(v|0)-mr)),B=+cn(+(+(D|0)-B)),G=+cn(+(+(P|0)-G));do if(mr>B&mr>G)v=0-(D+P)|0,w=D;else if(q=0-v|0,B>G){w=q-P|0;break}else{w=D,P=q-D|0;break}while(0);if(m[$n>>2]=v,m[he>>2]=w,m[Te>>2]=P,cme($n),P=uU(A,g,$n,T+(Me<<3)|0)|0,P|0)break e;if(!((Ee|0)<(Ze|0)|(Ee|0)==(Ze|0)&Me>>>0<ut>>>0)){P=0;break e}v=zn(Me|0,Ee|0,1,0)|0,w=ie()|0,Ee=w,Me=v,v=m[Qt>>2]|0,w=m[ct>>2]|0,P=m[ft>>2]|0}while(0);return $n=P,ae=wn,$n|0}return $n=P,ae=wn,$n|0}function Of(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0;if((v|0)==0&(w|0)==0)return T=0,P=1,_t(T|0),P|0;P=A,T=g,A=1,g=0;do D=(v&1|0)==0&!0,A=Jo((D?1:P)|0,(D?0:T)|0,A|0,g|0)|0,g=ie()|0,v=_U(v|0,w|0,1)|0,w=ie()|0,P=Jo(P|0,T|0,P|0,T|0)|0,T=ie()|0;while(!((v|0)==0&(w|0)==0));return _t(g|0),A|0}function vP(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0;B=ae,ae=ae+16|0,P=B,D=Gt(A|0,g|0,52)|0,ie()|0,D=D&15;do if(D){if(T=Tp(A,g,P)|0,!T){q=+te[P>>3],G=1/+Sn(+q),Q=+te[25968+(D<<3)>>3],te[v>>3]=q+Q,te[v+8>>3]=q-Q,q=+te[P+8>>3],G=Q*G,te[v+16>>3]=G+q,te[v+24>>3]=q-G;break}return D=T,ae=B,D|0}else{if(T=Gt(A|0,g|0,45)|0,ie()|0,T=T&127,T>>>0>121)return D=5,ae=B,D|0;P=22064+(T<<5)|0,m[v>>2]=m[P>>2],m[v+4>>2]=m[P+4>>2],m[v+8>>2]=m[P+8>>2],m[v+12>>2]=m[P+12>>2],m[v+16>>2]=m[P+16>>2],m[v+20>>2]=m[P+20>>2],m[v+24>>2]=m[P+24>>2],m[v+28>>2]=m[P+28>>2];break}while(0);return tme(v,w?1.4:1.1),w=26096+(D<<3)|0,(m[w>>2]|0)==(A|0)&&(m[w+4>>2]|0)==(g|0)&&(te[v>>3]=1.5707963267948966),D=26224+(D<<3)|0,(m[D>>2]|0)==(A|0)&&(m[D+4>>2]|0)==(g|0)&&(te[v+8>>3]=-1.5707963267948966),+te[v>>3]!=1.5707963267948966&&+te[v+8>>3]!=-1.5707963267948966?(D=0,ae=B,D|0):(te[v+16>>3]=3.141592653589793,te[v+24>>3]=-3.141592653589793,D=0,ae=B,D|0)}function n0e(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0;q=ae,ae=ae+48|0,D=q+32|0,P=q+40|0,B=q,lP(D,0,0,0),G=m[D>>2]|0,D=m[D+4>>2]|0;do if(v>>>0<=15){if(T=Oy(w)|0,T|0){w=B,m[w>>2]=0,m[w+4>>2]=0,m[B+8>>2]=T,m[B+12>>2]=-1,w=B+16|0,G=B+29|0,m[w>>2]=0,m[w+4>>2]=0,m[w+8>>2]=0,ht[w+12>>0]=0,ht[G>>0]=ht[P>>0]|0,ht[G+1>>0]=ht[P+1>>0]|0,ht[G+2>>0]=ht[P+2>>0]|0;break}if(T=Fs((m[g+8>>2]|0)+1|0,32)|0,T){yP(g,T),Q=B,m[Q>>2]=G,m[Q+4>>2]=D,m[B+8>>2]=0,m[B+12>>2]=v,m[B+16>>2]=w,m[B+20>>2]=g,m[B+24>>2]=T,ht[B+28>>0]=0,G=B+29|0,ht[G>>0]=ht[P>>0]|0,ht[G+1>>0]=ht[P+1>>0]|0,ht[G+2>>0]=ht[P+2>>0]|0;break}else{w=B,m[w>>2]=0,m[w+4>>2]=0,m[B+8>>2]=13,m[B+12>>2]=-1,w=B+16|0,G=B+29|0,m[w>>2]=0,m[w+4>>2]=0,m[w+8>>2]=0,ht[w+12>>0]=0,ht[G>>0]=ht[P>>0]|0,ht[G+1>>0]=ht[P+1>>0]|0,ht[G+2>>0]=ht[P+2>>0]|0;break}}else G=B,m[G>>2]=0,m[G+4>>2]=0,m[B+8>>2]=4,m[B+12>>2]=-1,G=B+16|0,Q=B+29|0,m[G>>2]=0,m[G+4>>2]=0,m[G+8>>2]=0,ht[G+12>>0]=0,ht[Q>>0]=ht[P>>0]|0,ht[Q+1>>0]=ht[P+1>>0]|0,ht[Q+2>>0]=ht[P+2>>0]|0;while(0);NS(B),m[A>>2]=m[B>>2],m[A+4>>2]=m[B+4>>2],m[A+8>>2]=m[B+8>>2],m[A+12>>2]=m[B+12>>2],m[A+16>>2]=m[B+16>>2],m[A+20>>2]=m[B+20>>2],m[A+24>>2]=m[B+24>>2],m[A+28>>2]=m[B+28>>2],ae=q}function NS(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0,Ze=0;if(Ze=ae,ae=ae+336|0,Ee=Ze+168|0,Me=Ze,w=A,v=m[w>>2]|0,w=m[w+4>>2]|0,(v|0)==0&(w|0)==0){ae=Ze;return}if(g=A+28|0,ht[g>>0]|0?(v=dU(v,w)|0,w=ie()|0):ht[g>>0]=1,ut=A+20|0,!(m[m[ut>>2]>>2]|0)){g=A+24|0,v=m[g>>2]|0,v|0&&jn(v),ft=A,m[ft>>2]=0,m[ft+4>>2]=0,m[A+8>>2]=0,m[ut>>2]=0,m[A+12>>2]=-1,m[A+16>>2]=0,m[g>>2]=0,ae=Ze;return}ft=A+16|0,g=m[ft>>2]|0,T=g&15;e:do if((v|0)==0&(w|0)==0)xt=A+24|0;else{Ke=A+12|0,he=(T|0)==3,Q=g&255,G=(T|1|0)==3,Te=A+24|0,q=(T+-1|0)>>>0<3,D=(T|2|0)==3,B=Me+8|0;t:for(;;){if(P=Gt(v|0,w|0,52)|0,ie()|0,P=P&15,(P|0)==(m[Ke>>2]|0)){switch(Q&15){case 0:case 2:case 3:{if(T=Tp(v,w,Ee)|0,T|0){ct=15;break t}if(bP(m[ut>>2]|0,m[Te>>2]|0,Ee)|0){ct=19;break t}break}}if(G&&(T=m[(m[ut>>2]|0)+4>>2]|0,m[Ee>>2]=m[T>>2],m[Ee+4>>2]=m[T+4>>2],m[Ee+8>>2]=m[T+8>>2],m[Ee+12>>2]=m[T+12>>2],If(26832,Ee)|0)){if(fP(m[(m[ut>>2]|0)+4>>2]|0,P,Me)|0){ct=25;break}if(T=Me,(m[T>>2]|0)==(v|0)&&(m[T+4>>2]|0)==(w|0)){ct=29;break}}if(q){if(T=N0(v,w,Ee)|0,T|0){ct=32;break}if(vP(v,w,Me,0)|0){ct=36;break}if(D&&hU(m[ut>>2]|0,m[Te>>2]|0,Ee,Me)|0){ct=42;break}if(G&&pU(m[ut>>2]|0,m[Te>>2]|0,Ee,Me)|0){ct=42;break}}if(he){if(g=vP(v,w,Ee,1)|0,T=m[Te>>2]|0,g|0){ct=45;break}if(nP(T,Ee)|0){if(G9(Me,Ee),z9(Ee,m[Te>>2]|0)|0){ct=53;break}if(bP(m[ut>>2]|0,m[Te>>2]|0,B)|0){ct=53;break}if(pU(m[ut>>2]|0,m[Te>>2]|0,Me,Ee)|0){ct=53;break}}}}do if((P|0)<(m[Ke>>2]|0)){if(g=vP(v,w,Ee,1)|0,T=m[Te>>2]|0,g|0){ct=58;break t}if(!(nP(T,Ee)|0)){ct=73;break}if(z9(m[Te>>2]|0,Ee)|0&&(G9(Me,Ee),hU(m[ut>>2]|0,m[Te>>2]|0,Me,Ee)|0)){ct=65;break t}if(v=rU(v,w,P+1|0,Me)|0,v|0){ct=67;break t}w=Me,v=m[w>>2]|0,w=m[w+4>>2]|0}else ct=73;while(0);if((ct|0)==73&&(ct=0,v=dU(v,w)|0,w=ie()|0),(v|0)==0&(w|0)==0){xt=Te;break e}}switch(ct|0){case 15:{g=m[Te>>2]|0,g|0&&jn(g),ct=A,m[ct>>2]=0,m[ct+4>>2]=0,m[ut>>2]=0,m[Ke>>2]=-1,m[ft>>2]=0,m[Te>>2]=0,m[A+8>>2]=T,ct=20;break}case 19:{m[A>>2]=v,m[A+4>>2]=w,ct=20;break}case 25:{Ot(27795,27761,470,27772);break}case 29:{m[A>>2]=v,m[A+4>>2]=w,ae=Ze;return}case 32:{g=m[Te>>2]|0,g|0&&jn(g),xt=A,m[xt>>2]=0,m[xt+4>>2]=0,m[ut>>2]=0,m[Ke>>2]=-1,m[ft>>2]=0,m[Te>>2]=0,m[A+8>>2]=T,ae=Ze;return}case 36:{Ot(27795,27761,493,27772);break}case 42:{m[A>>2]=v,m[A+4>>2]=w,ae=Ze;return}case 45:{T|0&&jn(T),ct=A,m[ct>>2]=0,m[ct+4>>2]=0,m[ut>>2]=0,m[Ke>>2]=-1,m[ft>>2]=0,m[Te>>2]=0,m[A+8>>2]=g,ct=55;break}case 53:{m[A>>2]=v,m[A+4>>2]=w,ct=55;break}case 58:{T|0&&jn(T),ct=A,m[ct>>2]=0,m[ct+4>>2]=0,m[ut>>2]=0,m[Ke>>2]=-1,m[ft>>2]=0,m[Te>>2]=0,m[A+8>>2]=g,ct=71;break}case 65:{m[A>>2]=v,m[A+4>>2]=w,ct=71;break}case 67:{g=m[Te>>2]|0,g|0&&jn(g),xt=A,m[xt>>2]=0,m[xt+4>>2]=0,m[ut>>2]=0,m[Ke>>2]=-1,m[ft>>2]=0,m[Te>>2]=0,m[A+8>>2]=v,ae=Ze;return}}if((ct|0)==20){ae=Ze;return}else if((ct|0)==55){ae=Ze;return}else if((ct|0)==71){ae=Ze;return}}while(0);g=m[xt>>2]|0,g|0&&jn(g),ct=A,m[ct>>2]=0,m[ct+4>>2]=0,m[A+8>>2]=0,m[ut>>2]=0,m[A+12>>2]=-1,m[ft>>2]=0,m[xt>>2]=0,ae=Ze}function dU(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0;he=ae,ae=ae+16|0,Q=he,w=Gt(A|0,g|0,52)|0,ie()|0,w=w&15,v=Gt(A|0,g|0,45)|0,ie()|0;do if(w){for(;v=Yt(w+4095|0,0,52)|0,T=ie()|0|g&-15728641,P=(15-w|0)*3|0,D=Yt(7,0,P|0)|0,B=ie()|0,v=v|A|D,T=T|B,G=Gt(A|0,g|0,P|0)|0,ie()|0,G=G&7,w=w+-1|0,!(G>>>0<6);)if(w)g=T,A=v;else{q=4;break}if((q|0)==4){v=Gt(v|0,T|0,45)|0,ie()|0;break}return Q=(G|0)==0&(Ci(v,T)|0)!=0,Q=Yt((Q?2:1)+G|0,0,P|0)|0,q=ie()|0|g&~B,Q=Q|A&~D,_t(q|0),ae=he,Q|0}while(0);return v=v&127,v>>>0>120?(q=0,Q=0,_t(q|0),ae=he,Q|0):(lP(Q,0,v+1|0,0),q=m[Q+4>>2]|0,Q=m[Q>>2]|0,_t(q|0),ae=he,Q|0)}function r0e(A,g,v,w,T,P){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0,P=P|0;var D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0;ct=ae,ae=ae+160|0,he=ct+80|0,B=ct+64|0,Te=ct+112|0,Ke=ct,n0e(he,A,g,v),q=he,mP(B,m[q>>2]|0,m[q+4>>2]|0,g),q=B,G=m[q>>2]|0,q=m[q+4>>2]|0,D=m[he+8>>2]|0,Ee=Te+4|0,m[Ee>>2]=m[he>>2],m[Ee+4>>2]=m[he+4>>2],m[Ee+8>>2]=m[he+8>>2],m[Ee+12>>2]=m[he+12>>2],m[Ee+16>>2]=m[he+16>>2],m[Ee+20>>2]=m[he+20>>2],m[Ee+24>>2]=m[he+24>>2],m[Ee+28>>2]=m[he+28>>2],Ee=Ke,m[Ee>>2]=G,m[Ee+4>>2]=q,Ee=Ke+8|0,m[Ee>>2]=D,A=Ke+12|0,g=Te,v=A+36|0;do m[A>>2]=m[g>>2],A=A+4|0,g=g+4|0;while((A|0)<(v|0));if(Te=Ke+48|0,m[Te>>2]=m[B>>2],m[Te+4>>2]=m[B+4>>2],m[Te+8>>2]=m[B+8>>2],m[Te+12>>2]=m[B+12>>2],(G|0)==0&(q|0)==0)return Ke=D,ae=ct,Ke|0;v=Ke+16|0,Q=Ke+24|0,he=Ke+28|0,D=0,B=0,g=G,A=q;do{if(!((D|0)<(T|0)|(D|0)==(T|0)&B>>>0<w>>>0)){Me=4;break}if(q=B,B=zn(B|0,D|0,1,0)|0,D=ie()|0,q=P+(q<<3)|0,m[q>>2]=g,m[q+4>>2]=A,gP(Te),A=Te,g=m[A>>2]|0,A=m[A+4>>2]|0,(g|0)==0&(A|0)==0){if(NS(v),g=v,A=m[g>>2]|0,g=m[g+4>>2]|0,(A|0)==0&(g|0)==0){Me=10;break}oU(A,g,m[he>>2]|0,Te),A=Te,g=m[A>>2]|0,A=m[A+4>>2]|0}q=Ke,m[q>>2]=g,m[q+4>>2]=A}while(!((g|0)==0&(A|0)==0));return(Me|0)==4?(A=Ke+40|0,g=m[A>>2]|0,g|0&&jn(g),Me=Ke+16|0,m[Me>>2]=0,m[Me+4>>2]=0,m[Q>>2]=0,m[Ke+36>>2]=0,m[he>>2]=-1,m[Ke+32>>2]=0,m[A>>2]=0,oU(0,0,0,Te),m[Ke>>2]=0,m[Ke+4>>2]=0,m[Ee>>2]=0,Ke=14,ae=ct,Ke|0):((Me|0)==10&&(m[Ke>>2]=0,m[Ke+4>>2]=0,m[Ee>>2]=m[Q>>2]),Ke=m[Ee>>2]|0,ae=ct,Ke|0)}function i0e(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0;if(he=ae,ae=ae+48|0,G=he+32|0,B=he+40|0,q=he,!(m[A>>2]|0))return Q=w,m[Q>>2]=0,m[Q+4>>2]=0,Q=0,ae=he,Q|0;lP(G,0,0,0),D=G,T=m[D>>2]|0,D=m[D+4>>2]|0;do if(g>>>0>15)Q=q,m[Q>>2]=0,m[Q+4>>2]=0,m[q+8>>2]=4,m[q+12>>2]=-1,Q=q+16|0,v=q+29|0,m[Q>>2]=0,m[Q+4>>2]=0,m[Q+8>>2]=0,ht[Q+12>>0]=0,ht[v>>0]=ht[B>>0]|0,ht[v+1>>0]=ht[B+1>>0]|0,ht[v+2>>0]=ht[B+2>>0]|0,v=4,Q=9;else{if(v=Oy(v)|0,v|0){G=q,m[G>>2]=0,m[G+4>>2]=0,m[q+8>>2]=v,m[q+12>>2]=-1,G=q+16|0,Q=q+29|0,m[G>>2]=0,m[G+4>>2]=0,m[G+8>>2]=0,ht[G+12>>0]=0,ht[Q>>0]=ht[B>>0]|0,ht[Q+1>>0]=ht[B+1>>0]|0,ht[Q+2>>0]=ht[B+2>>0]|0,Q=9;break}if(v=Fs((m[A+8>>2]|0)+1|0,32)|0,!v){Q=q,m[Q>>2]=0,m[Q+4>>2]=0,m[q+8>>2]=13,m[q+12>>2]=-1,Q=q+16|0,v=q+29|0,m[Q>>2]=0,m[Q+4>>2]=0,m[Q+8>>2]=0,ht[Q+12>>0]=0,ht[v>>0]=ht[B>>0]|0,ht[v+1>>0]=ht[B+1>>0]|0,ht[v+2>>0]=ht[B+2>>0]|0,v=13,Q=9;break}yP(A,v),Ee=q,m[Ee>>2]=T,m[Ee+4>>2]=D,D=q+8|0,m[D>>2]=0,m[q+12>>2]=g,m[q+20>>2]=A,m[q+24>>2]=v,ht[q+28>>0]=0,T=q+29|0,ht[T>>0]=ht[B>>0]|0,ht[T+1>>0]=ht[B+1>>0]|0,ht[T+2>>0]=ht[B+2>>0]|0,m[q+16>>2]=3,Te=+CS(v),Te=Te*+E0(v),P=+cn(+ +te[v>>3]),P=Te/+Sn(+ +DS(+P,+ +cn(+ +te[v+8>>3])))*6371.007180918475*6371.007180918475,T=q+12|0,v=m[T>>2]|0;e:do if((v|0)>0)do{if(aU(v+-1|0,G)|0,!(P/+te[G>>3]>10))break e;Ee=m[T>>2]|0,v=Ee+-1|0,m[T>>2]=v}while((Ee|0)>1);while(0);if(NS(q),T=w,m[T>>2]=0,m[T+4>>2]=0,T=q,v=m[T>>2]|0,T=m[T+4>>2]|0,!((v|0)==0&(T|0)==0))do Py(v,T,g,G)|0,B=G,A=w,B=zn(m[A>>2]|0,m[A+4>>2]|0,m[B>>2]|0,m[B+4>>2]|0)|0,A=ie()|0,Ee=w,m[Ee>>2]=B,m[Ee+4>>2]=A,NS(q),Ee=q,v=m[Ee>>2]|0,T=m[Ee+4>>2]|0;while(!((v|0)==0&(T|0)==0));v=m[D>>2]|0}while(0);return Ee=v,ae=he,Ee|0}function Dy(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0;if(!(If(g,v)|0)||(g=M0(g)|0,w=+te[v>>3],T=+te[v+8>>3],T=g&T<0?T+6.283185307179586:T,Te=m[A>>2]|0,(Te|0)<=0))return Te=0,Te|0;if(he=m[A+4>>2]|0,g){g=0,Q=T,v=-1,A=0;e:for(;;){for(q=A;D=+te[he+(q<<4)>>3],T=+te[he+(q<<4)+8>>3],A=(v+2|0)%(Te|0)|0,P=+te[he+(A<<4)>>3],B=+te[he+(A<<4)+8>>3],D>P?(G=D,D=B):(G=P,P=D,D=T,T=B),w=w==P|w==G?w+2220446049250313e-31:w,!!(w<P|w>G);)if(v=q+1|0,(v|0)>=(Te|0)){v=22;break e}else A=q,q=v,v=A;if(B=D<0?D+6.283185307179586:D,D=T<0?T+6.283185307179586:T,Q=B==Q|D==Q?Q+-2220446049250313e-31:Q,G=B+(D-B)*((w-P)/(G-P)),(G<0?G+6.283185307179586:G)>Q&&(g=g^1),A=q+1|0,(A|0)>=(Te|0)){v=22;break}else v=q}if((v|0)==22)return g|0}else{g=0,Q=T,v=-1,A=0;e:for(;;){for(q=A;D=+te[he+(q<<4)>>3],T=+te[he+(q<<4)+8>>3],A=(v+2|0)%(Te|0)|0,P=+te[he+(A<<4)>>3],B=+te[he+(A<<4)+8>>3],D>P?(G=D,D=B):(G=P,P=D,D=T,T=B),w=w==P|w==G?w+2220446049250313e-31:w,!!(w<P|w>G);)if(v=q+1|0,(v|0)>=(Te|0)){v=22;break e}else A=q,q=v,v=A;if(Q=D==Q|T==Q?Q+-2220446049250313e-31:Q,D+(T-D)*((w-P)/(G-P))>Q&&(g=g^1),A=q+1|0,(A|0)>=(Te|0)){v=22;break}else v=q}if((v|0)==22)return g|0}return 0}function fU(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0;if(Me=m[A>>2]|0,!Me){m[g>>2]=0,m[g+4>>2]=0,m[g+8>>2]=0,m[g+12>>2]=0,m[g+16>>2]=0,m[g+20>>2]=0,m[g+24>>2]=0,m[g+28>>2]=0;return}if(Ke=g+8|0,te[Ke>>3]=17976931348623157e292,ct=g+24|0,te[ct>>3]=17976931348623157e292,te[g>>3]=-17976931348623157e292,xt=g+16|0,te[xt>>3]=-17976931348623157e292,!((Me|0)<=0)){for(Te=m[A+4>>2]|0,q=17976931348623157e292,Q=-17976931348623157e292,he=0,A=-1,P=17976931348623157e292,D=17976931348623157e292,G=-17976931348623157e292,w=-17976931348623157e292,Ee=0;v=+te[Te+(Ee<<4)>>3],B=+te[Te+(Ee<<4)+8>>3],A=A+2|0,T=+te[Te+(((A|0)==(Me|0)?0:A)<<4)+8>>3],v<P&&(te[Ke>>3]=v,P=v),B<D&&(te[ct>>3]=B,D=B),v>G?te[g>>3]=v:v=G,B>w&&(te[xt>>3]=B,w=B),q=B>0&B<q?B:q,Q=B<0&B>Q?B:Q,he=he|+cn(+(B-T))>3.141592653589793,A=Ee+1|0,(A|0)!=(Me|0);)ft=Ee,G=v,Ee=A,A=ft;he&&(te[xt>>3]=Q,te[ct>>3]=q)}}function Oy(A){return A=A|0,(A>>>0<4?0:15)|0}function yP(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0,Ze=0,Qt=0,$n=0,wn=0;if(Me=m[A>>2]|0,Me){if(Ke=g+8|0,te[Ke>>3]=17976931348623157e292,ct=g+24|0,te[ct>>3]=17976931348623157e292,te[g>>3]=-17976931348623157e292,xt=g+16|0,te[xt>>3]=-17976931348623157e292,(Me|0)>0){for(T=m[A+4>>2]|0,Te=17976931348623157e292,Ee=-17976931348623157e292,w=0,v=-1,G=17976931348623157e292,q=17976931348623157e292,he=-17976931348623157e292,D=-17976931348623157e292,ft=0;P=+te[T+(ft<<4)>>3],Q=+te[T+(ft<<4)+8>>3],$n=v+2|0,B=+te[T+((($n|0)==(Me|0)?0:$n)<<4)+8>>3],P<G&&(te[Ke>>3]=P,G=P),Q<q&&(te[ct>>3]=Q,q=Q),P>he?te[g>>3]=P:P=he,Q>D&&(te[xt>>3]=Q,D=Q),Te=Q>0&Q<Te?Q:Te,Ee=Q<0&Q>Ee?Q:Ee,w=w|+cn(+(Q-B))>3.141592653589793,v=ft+1|0,(v|0)!=(Me|0);)$n=ft,he=P,ft=v,v=$n;w&&(te[xt>>3]=Ee,te[ct>>3]=Te)}}else m[g>>2]=0,m[g+4>>2]=0,m[g+8>>2]=0,m[g+12>>2]=0,m[g+16>>2]=0,m[g+20>>2]=0,m[g+24>>2]=0,m[g+28>>2]=0;if($n=A+8|0,v=m[$n>>2]|0,!((v|0)<=0)){Qt=A+12|0,Ze=0;do if(T=m[Qt>>2]|0,w=Ze,Ze=Ze+1|0,ct=g+(Ze<<5)|0,xt=m[T+(w<<3)>>2]|0,xt){if(ft=g+(Ze<<5)+8|0,te[ft>>3]=17976931348623157e292,A=g+(Ze<<5)+24|0,te[A>>3]=17976931348623157e292,te[ct>>3]=-17976931348623157e292,ut=g+(Ze<<5)+16|0,te[ut>>3]=-17976931348623157e292,(xt|0)>0){for(Me=m[T+(w<<3)+4>>2]|0,Te=17976931348623157e292,Ee=-17976931348623157e292,T=0,w=-1,Ke=0,G=17976931348623157e292,q=17976931348623157e292,Q=-17976931348623157e292,D=-17976931348623157e292;P=+te[Me+(Ke<<4)>>3],he=+te[Me+(Ke<<4)+8>>3],w=w+2|0,B=+te[Me+(((w|0)==(xt|0)?0:w)<<4)+8>>3],P<G&&(te[ft>>3]=P,G=P),he<q&&(te[A>>3]=he,q=he),P>Q?te[ct>>3]=P:P=Q,he>D&&(te[ut>>3]=he,D=he),Te=he>0&he<Te?he:Te,Ee=he<0&he>Ee?he:Ee,T=T|+cn(+(he-B))>3.141592653589793,w=Ke+1|0,(w|0)!=(xt|0);)wn=Ke,Ke=w,Q=P,w=wn;T&&(te[ut>>3]=Ee,te[A>>3]=Te)}}else m[ct>>2]=0,m[ct+4>>2]=0,m[ct+8>>2]=0,m[ct+12>>2]=0,m[ct+16>>2]=0,m[ct+20>>2]=0,m[ct+24>>2]=0,m[ct+28>>2]=0,v=m[$n>>2]|0;while((Ze|0)<(v|0))}}function bP(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0;if(!(Dy(A,g,v)|0))return T=0,T|0;if(T=A+8|0,(m[T>>2]|0)<=0)return T=1,T|0;for(w=A+12|0,A=0;;){if(P=A,A=A+1|0,Dy((m[w>>2]|0)+(P<<3)|0,g+(A<<5)|0,v)|0){A=0,w=6;break}if((A|0)>=(m[T>>2]|0)){A=1,w=6;break}}return(w|0)==6?A|0:0}function hU(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0;if(q=ae,ae=ae+16|0,B=q,D=v+8|0,!(Dy(A,g,D)|0))return G=0,ae=q,G|0;G=A+8|0;e:do if((m[G>>2]|0)>0){for(P=A+12|0,T=0;;){if(Q=T,T=T+1|0,Dy((m[P>>2]|0)+(Q<<3)|0,g+(T<<5)|0,D)|0){T=0;break}if((T|0)>=(m[G>>2]|0))break e}return ae=q,T|0}while(0);if(IS(A,g,v,w)|0)return Q=0,ae=q,Q|0;m[B>>2]=m[v>>2],m[B+4>>2]=D,T=m[G>>2]|0;e:do if((T|0)>0)for(A=A+12|0,D=0,P=T;;){if(T=m[A>>2]|0,(m[T+(D<<3)>>2]|0)>0){if(Dy(B,w,m[T+(D<<3)+4>>2]|0)|0){T=0;break e}if(T=D+1|0,IS((m[A>>2]|0)+(D<<3)|0,g+(T<<5)|0,v,w)|0){T=0;break e}P=m[G>>2]|0}else T=D+1|0;if((T|0)<(P|0))D=T;else{T=1;break}}else T=1;while(0);return Q=T,ae=q,Q|0}function IS(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0,Ze=0,Qt=0,$n=0,wn=0,mr=0;if($n=ae,ae=ae+176|0,ft=$n+172|0,T=$n+168|0,ut=$n,!(nP(g,w)|0))return A=0,ae=$n,A|0;if(Jpe(g,w,ft,T),L0(ut|0,v|0,168)|0,(m[v>>2]|0)>0){g=0;do wn=ut+8+(g<<4)+8|0,xt=+dl(+te[wn>>3],m[T>>2]|0),te[wn>>3]=xt,g=g+1|0;while((g|0)<(m[v>>2]|0))}Ke=+te[w>>3],ct=+te[w+8>>3],xt=+dl(+te[w+16>>3],m[T>>2]|0),Ee=+dl(+te[w+24>>3],m[T>>2]|0);e:do if((m[A>>2]|0)>0){if(w=A+4|0,T=m[ut>>2]|0,(T|0)<=0){for(g=0;;)if(g=g+1|0,(g|0)>=(m[A>>2]|0)){g=0;break e}}for(v=0;;){if(g=m[w>>2]|0,Te=+te[g+(v<<4)>>3],Me=+dl(+te[g+(v<<4)+8>>3],m[ft>>2]|0),g=m[w>>2]|0,v=v+1|0,wn=(v|0)%(m[A>>2]|0)|0,P=+te[g+(wn<<4)>>3],D=+dl(+te[g+(wn<<4)+8>>3],m[ft>>2]|0),!(Te>=Ke)|!(P>=Ke)&&!(Te<=ct)|!(P<=ct)&&!(Me<=Ee)|!(D<=Ee)&&!(Me>=xt)|!(D>=xt)){he=P-Te,q=D-Me,g=0;do if(mr=g,g=g+1|0,wn=(g|0)==(T|0)?0:g,P=+te[ut+8+(mr<<4)+8>>3],D=+te[ut+8+(wn<<4)+8>>3]-P,B=+te[ut+8+(mr<<4)>>3],G=+te[ut+8+(wn<<4)>>3]-B,Q=he*D-q*G,Q!=0&&(Ze=Me-P,Qt=Te-B,G=(Ze*G-D*Qt)/Q,!(G<0|G>1))&&(Q=(he*Ze-q*Qt)/Q,Q>=0&Q<=1)){g=1;break e}while((g|0)<(T|0))}if((v|0)>=(m[A>>2]|0)){g=0;break}}}else g=0;while(0);return mr=g,ae=$n,mr|0}function pU(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0;if(IS(A,g,v,w)|0)return P=1,P|0;if(P=A+8|0,(m[P>>2]|0)<=0)return P=0,P|0;for(T=A+12|0,A=0;;){if(D=A,A=A+1|0,IS((m[T>>2]|0)+(D<<3)|0,g+(A<<5)|0,v,w)|0){A=1,T=6;break}if((A|0)>=(m[P>>2]|0)){A=0,T=6;break}}return(T|0)==6?A|0:0}function o0e(){return 8}function a0e(){return 16}function s0e(){return 168}function l0e(){return 8}function c0e(){return 16}function u0e(){return 12}function d0e(){return 8}function f0e(A){return A=A|0,+(+((m[A>>2]|0)>>>0)+4294967296*+(m[A+4>>2]|0))}function h0e(A){A=A|0;var g=0,v=0;return v=+te[A>>3],g=+te[A+8>>3],+ +In(+(v*v+g*g))}function mU(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0;q=+te[A>>3],G=+te[g>>3]-q,B=+te[A+8>>3],D=+te[g+8>>3]-B,he=+te[v>>3],P=+te[w>>3]-he,Te=+te[v+8>>3],Q=+te[w+8>>3]-Te,P=(P*(B-Te)-(q-he)*Q)/(G*Q-D*P),te[T>>3]=q+G*P,te[T+8>>3]=B+D*P}function gU(A,g){return A=A|0,g=g|0,+cn(+(+te[A>>3]-+te[g>>3]))<11920928955078125e-23?(g=+cn(+(+te[A+8>>3]-+te[g+8>>3]))<11920928955078125e-23,g|0):(g=0,g|0)}function Io(A,g){A=A|0,g=g|0;var v=0,w=0,T=0;return T=+te[A>>3]-+te[g>>3],w=+te[A+8>>3]-+te[g+8>>3],v=+te[A+16>>3]-+te[g+16>>3],+(T*T+w*w+v*v)}function p0e(A,g){A=A|0,g=g|0;var v=0,w=0,T=0;v=+te[A>>3],w=+Sn(+v),v=+wt(+v),te[g+16>>3]=v,v=+te[A+8>>3],T=w*+Sn(+v),te[g>>3]=T,v=w*+wt(+v),te[g+8>>3]=v}function m0e(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0;if(P=ae,ae=ae+16|0,T=P,w=Ci(A,g)|0,(v+-1|0)>>>0>5||(w=(w|0)!=0,(v|0)==1&w))return T=-1,ae=P,T|0;do if(Ly(A,g,T)|0)w=-1;else if(w){w=((m[26352+(v<<2)>>2]|0)+5-(m[T>>2]|0)|0)%5|0;break}else{w=((m[26384+(v<<2)>>2]|0)+6-(m[T>>2]|0)|0)%6|0;break}while(0);return T=w,ae=P,T|0}function Ly(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0;if(Q=ae,ae=ae+32|0,B=Q+16|0,G=Q,w=P0(A,g,B)|0,w|0)return v=w,ae=Q,v|0;P=tU(A,g)|0,q=Bs(A,g)|0,T0(P,G),w=My(P,m[B>>2]|0)|0;do if(Jr(P)|0){do switch(P|0){case 4:{T=0;break}case 14:{T=1;break}case 24:{T=2;break}case 38:{T=3;break}case 49:{T=4;break}case 58:{T=5;break}case 63:{T=6;break}case 72:{T=7;break}case 83:{T=8;break}case 97:{T=9;break}case 107:{T=10;break}case 117:{T=11;break}default:Ot(27795,27797,75,27806)}while(0);if(D=m[26416+(T*24|0)+8>>2]|0,g=m[26416+(T*24|0)+16>>2]|0,A=m[B>>2]|0,(A|0)!=(m[G>>2]|0)&&(G=Hl(P)|0,A=m[B>>2]|0,G|(A|0)==(g|0)&&(w=(w+1|0)%6|0)),(q|0)==3&(A|0)==(g|0)){w=(w+5|0)%6|0;break}(q|0)==5&(A|0)==(D|0)&&(w=(w+1|0)%6|0)}while(0);return m[v>>2]=w,v=0,ae=Q,v|0}function ql(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0;if(ut=ae,ae=ae+32|0,ft=ut+24|0,ct=ut+20|0,Me=ut+8|0,Ee=ut+16|0,Te=ut,G=(Ci(A,g)|0)==0,G=G?6:5,Q=Gt(A|0,g|0,52)|0,ie()|0,Q=Q&15,G>>>0<=v>>>0)return w=2,ae=ut,w|0;he=(Q|0)==0,!he&&(Ke=Yt(7,0,(Q^15)*3|0)|0,(Ke&A|0)==0&((ie()|0)&g|0)==0)?T=v:P=4;e:do if((P|0)==4){if(T=(Ci(A,g)|0)!=0,((T?4:5)|0)<(v|0)||Ly(A,g,ft)|0||(P=(m[ft>>2]|0)+v|0,T?T=26704+(((P|0)%5|0)<<2)|0:T=26736+(((P|0)%6|0)<<2)|0,Ke=m[T>>2]|0,(Ke|0)==7))return w=1,ae=ut,w|0;m[ct>>2]=0,T=sr(A,g,Ke,ct,Me)|0;do if(!T){if(B=Me,q=m[B>>2]|0,B=m[B+4>>2]|0,D=B>>>0<g>>>0|(B|0)==(g|0)&q>>>0<A>>>0,P=D?q:A,D=D?B:g,!he&&(he=Yt(7,0,(Q^15)*3|0)|0,(q&he|0)==0&(B&(ie()|0)|0)==0))T=v;else{if(B=(v+-1+G|0)%(G|0)|0,T=Ci(A,g)|0,(B|0)<0&&Ot(27795,27797,248,27822),G=(T|0)!=0,((G?4:5)|0)<(B|0)&&Ot(27795,27797,248,27822),Ly(A,g,ft)|0&&Ot(27795,27797,248,27822),T=(m[ft>>2]|0)+B|0,G?T=26704+(((T|0)%5|0)<<2)|0:T=26736+(((T|0)%6|0)<<2)|0,B=m[T>>2]|0,(B|0)==7&&Ot(27795,27797,248,27822),m[Ee>>2]=0,T=sr(A,g,B,Ee,Te)|0,T|0)break;q=Te,G=m[q>>2]|0,q=m[q+4>>2]|0;do if(q>>>0<D>>>0|(q|0)==(D|0)&G>>>0<P>>>0){if(Ci(G,q)|0?P=Wn(G,q,A,g)|0:P=m[26800+((((m[Ee>>2]|0)+(m[26768+(B<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,T=Ci(G,q)|0,(P+-1|0)>>>0>5){T=-1,P=G,D=q;break}if(T=(T|0)!=0,(P|0)==1&T){T=-1,P=G,D=q;break}do if(Ly(G,q,ft)|0)T=-1;else if(T){T=((m[26352+(P<<2)>>2]|0)+5-(m[ft>>2]|0)|0)%5|0;break}else{T=((m[26384+(P<<2)>>2]|0)+6-(m[ft>>2]|0)|0)%6|0;break}while(0);P=G,D=q}else T=v;while(0);B=Me,q=m[B>>2]|0,B=m[B+4>>2]|0}if((P|0)==(q|0)&(D|0)==(B|0)){if(G=(Ci(q,B)|0)!=0,G?A=Wn(q,B,A,g)|0:A=m[26800+((((m[ct>>2]|0)+(m[26768+(Ke<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,T=Ci(q,B)|0,(A+-1|0)>>>0<=5&&(xt=(T|0)!=0,!((A|0)==1&xt)))do if(Ly(q,B,ft)|0)T=-1;else if(xt){T=((m[26352+(A<<2)>>2]|0)+5-(m[ft>>2]|0)|0)%5|0;break}else{T=((m[26384+(A<<2)>>2]|0)+6-(m[ft>>2]|0)|0)%6|0;break}while(0);else T=-1;T=T+1|0,T=(T|0)==6|G&(T|0)==5?0:T}g=D,A=P;break e}while(0);return w=T,ae=ut,w|0}while(0);return xt=Yt(T|0,0,56)|0,ft=ie()|0|g&-2130706433|536870912,m[w>>2]=xt|A,m[w+4>>2]=ft,w=0,ae=ut,w|0}function g0e(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0;return P=(Ci(A,g)|0)==0,w=ql(A,g,0,v)|0,T=(w|0)==0,P?!T||(w=ql(A,g,1,v+8|0)|0,w|0)||(w=ql(A,g,2,v+16|0)|0,w|0)||(w=ql(A,g,3,v+24|0)|0,w|0)||(w=ql(A,g,4,v+32|0)|0,w)?(P=w,P|0):ql(A,g,5,v+40|0)|0:!T||(w=ql(A,g,1,v+8|0)|0,w|0)||(w=ql(A,g,2,v+16|0)|0,w|0)||(w=ql(A,g,3,v+24|0)|0,w|0)||(w=ql(A,g,4,v+32|0)|0,w|0)?(P=w,P|0):(P=v+40|0,m[P>>2]=0,m[P+4>>2]=0,P=0,P|0)}function A0e(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0,B=0,G=0;return G=ae,ae=ae+192|0,T=G,P=G+168|0,D=Gt(A|0,g|0,56)|0,ie()|0,D=D&7,B=g&-2130706433|134217728,w=P0(A,B,P)|0,w|0?(B=w,ae=G,B|0):(g=Gt(A|0,g|0,52)|0,ie()|0,g=g&15,Ci(A,B)|0?oP(P,g,D,1,T):aP(P,g,D,1,T),B=T+8|0,m[v>>2]=m[B>>2],m[v+4>>2]=m[B+4>>2],m[v+8>>2]=m[B+8>>2],m[v+12>>2]=m[B+12>>2],B=0,ae=G,B|0)}function AU(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0;return T=ae,ae=ae+16|0,v=T,!(!0&(g&2013265920|0)==536870912)||(w=g&-2130706433|134217728,!(sP(A,w)|0))?(w=0,ae=T,w|0):(P=Gt(A|0,g|0,56)|0,ie()|0,P=(ql(A,w,P&7,v)|0)==0,w=v,w=P&((m[w>>2]|0)==(A|0)?(m[w+4>>2]|0)==(g|0):0)&1,ae=T,w|0)}function vU(A,g,v){A=A|0,g=g|0,v=v|0;var w=0;(g|0)>0?(w=Fs(g,4)|0,m[A>>2]=w,w||Ot(27835,27858,40,27872)):m[A>>2]=0,m[A+4>>2]=g,m[A+8>>2]=0,m[A+12>>2]=v}function yU(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0;T=A+4|0,P=A+12|0,D=A+8|0;e:for(;;){for(v=m[T>>2]|0,g=0;;){if((g|0)>=(v|0))break e;if(w=m[A>>2]|0,B=m[w+(g<<2)>>2]|0,!B)g=g+1|0;else break}g=w+(~~(+cn(+(+dr(10,+ +(15-(m[P>>2]|0)|0))*(+te[B>>3]+ +te[B+8>>3])))%+(v|0))>>>0<<2)|0,v=m[g>>2]|0;t:do if(v|0){if(w=B+32|0,(v|0)==(B|0))m[g>>2]=m[w>>2];else{if(v=v+32|0,g=m[v>>2]|0,!g)break;for(;(g|0)!=(B|0);)if(v=g+32|0,g=m[v>>2]|0,!g)break t;m[v>>2]=m[w>>2]}jn(B),m[D>>2]=(m[D>>2]|0)+-1}while(0)}jn(m[A>>2]|0)}function bU(A){A=A|0;var g=0,v=0,w=0;for(w=m[A+4>>2]|0,v=0;;){if((v|0)>=(w|0)){g=0,v=4;break}if(g=m[(m[A>>2]|0)+(v<<2)>>2]|0,!g)v=v+1|0;else{v=4;break}}return(v|0)==4?g|0:0}function xU(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0;if(v=~~(+cn(+(+dr(10,+ +(15-(m[A+12>>2]|0)|0))*(+te[g>>3]+ +te[g+8>>3])))%+(m[A+4>>2]|0))>>>0,v=(m[A>>2]|0)+(v<<2)|0,w=m[v>>2]|0,!w)return P=1,P|0;P=g+32|0;do if((w|0)!=(g|0)){if(v=m[w+32>>2]|0,!v)return P=1,P|0;for(T=v;;){if((T|0)==(g|0)){T=8;break}if(v=m[T+32>>2]|0,v)w=T,T=v;else{v=1,T=10;break}}if((T|0)==8){m[w+32>>2]=m[P>>2];break}else if((T|0)==10)return v|0}else m[v>>2]=m[P>>2];while(0);return jn(g),P=A+8|0,m[P>>2]=(m[P>>2]|0)+-1,P=0,P|0}function v0e(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0;P=Tu(40)|0,P||Ot(27888,27858,98,27901),m[P>>2]=m[g>>2],m[P+4>>2]=m[g+4>>2],m[P+8>>2]=m[g+8>>2],m[P+12>>2]=m[g+12>>2],T=P+16|0,m[T>>2]=m[v>>2],m[T+4>>2]=m[v+4>>2],m[T+8>>2]=m[v+8>>2],m[T+12>>2]=m[v+12>>2],m[P+32>>2]=0,T=~~(+cn(+(+dr(10,+ +(15-(m[A+12>>2]|0)|0))*(+te[g>>3]+ +te[g+8>>3])))%+(m[A+4>>2]|0))>>>0,T=(m[A>>2]|0)+(T<<2)|0,w=m[T>>2]|0;do if(!w)m[T>>2]=P;else{for(;!(I0(w,g)|0&&I0(w+16|0,v)|0);)if(T=m[w+32>>2]|0,w=T|0?T:w,!(m[w+32>>2]|0)){D=10;break}if((D|0)==10){m[w+32>>2]=P;break}return jn(P),D=w,D|0}while(0);return D=A+8|0,m[D>>2]=(m[D>>2]|0)+1,D=P,D|0}function y0e(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0;if(T=~~(+cn(+(+dr(10,+ +(15-(m[A+12>>2]|0)|0))*(+te[g>>3]+ +te[g+8>>3])))%+(m[A+4>>2]|0))>>>0,T=m[(m[A>>2]|0)+(T<<2)>>2]|0,!T)return v=0,v|0;if(!v){for(A=T;;){if(I0(A,g)|0){w=10;break}if(A=m[A+32>>2]|0,!A){A=0,w=10;break}}if((w|0)==10)return A|0}for(A=T;;){if(I0(A,g)|0&&I0(A+16|0,v)|0){w=10;break}if(A=m[A+32>>2]|0,!A){A=0,w=10;break}}return(w|0)==10?A|0:0}function b0e(A,g){A=A|0,g=g|0;var v=0;if(v=~~(+cn(+(+dr(10,+ +(15-(m[A+12>>2]|0)|0))*(+te[g>>3]+ +te[g+8>>3])))%+(m[A+4>>2]|0))>>>0,A=m[(m[A>>2]|0)+(v<<2)>>2]|0,!A)return v=0,v|0;for(;;){if(I0(A,g)|0){g=5;break}if(A=m[A+32>>2]|0,!A){A=0,g=5;break}}return(g|0)==5?A|0:0}function x0e(){return 27920}function Lf(A){return A=+A,~~+CU(+A)|0}function Tu(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0,Ke=0,ct=0,xt=0,ft=0,ut=0,Ze=0,Qt=0;Qt=ae,ae=ae+16|0,Te=Qt;do if(A>>>0<245){if(q=A>>>0<11?16:A+11&-8,A=q>>>3,he=m[6981]|0,v=he>>>A,v&3|0)return g=(v&1^1)+A|0,A=27964+(g<<1<<2)|0,v=A+8|0,w=m[v>>2]|0,T=w+8|0,P=m[T>>2]|0,(P|0)==(A|0)?m[6981]=he&~(1<<g):(m[P+12>>2]=A,m[v>>2]=P),Ze=g<<3,m[w+4>>2]=Ze|3,Ze=w+Ze+4|0,m[Ze>>2]=m[Ze>>2]|1,Ze=T,ae=Qt,Ze|0;if(Q=m[6983]|0,q>>>0>Q>>>0){if(v|0)return g=2<<A,g=v<<A&(g|0-g),g=(g&0-g)+-1|0,B=g>>>12&16,g=g>>>B,v=g>>>5&8,g=g>>>v,P=g>>>2&4,g=g>>>P,A=g>>>1&2,g=g>>>A,w=g>>>1&1,w=(v|B|P|A|w)+(g>>>w)|0,g=27964+(w<<1<<2)|0,A=g+8|0,P=m[A>>2]|0,B=P+8|0,v=m[B>>2]|0,(v|0)==(g|0)?(A=he&~(1<<w),m[6981]=A):(m[v+12>>2]=g,m[A>>2]=v,A=he),Ze=w<<3,D=Ze-q|0,m[P+4>>2]=q|3,T=P+q|0,m[T+4>>2]=D|1,m[P+Ze>>2]=D,Q|0&&(w=m[6986]|0,g=Q>>>3,v=27964+(g<<1<<2)|0,g=1<<g,A&g?(A=v+8|0,g=m[A>>2]|0):(m[6981]=A|g,g=v,A=v+8|0),m[A>>2]=w,m[g+12>>2]=w,m[w+8>>2]=g,m[w+12>>2]=v),m[6983]=D,m[6986]=T,Ze=B,ae=Qt,Ze|0;if(P=m[6982]|0,P){for(v=(P&0-P)+-1|0,T=v>>>12&16,v=v>>>T,w=v>>>5&8,v=v>>>w,D=v>>>2&4,v=v>>>D,B=v>>>1&2,v=v>>>B,G=v>>>1&1,G=m[28228+((w|T|D|B|G)+(v>>>G)<<2)>>2]|0,v=G,B=G,G=(m[G+4>>2]&-8)-q|0;A=m[v+16>>2]|0,!(!A&&(A=m[v+20>>2]|0,!A));)D=(m[A+4>>2]&-8)-q|0,T=D>>>0<G>>>0,v=A,B=T?A:B,G=T?D:G;if(D=B+q|0,D>>>0>B>>>0){T=m[B+24>>2]|0,g=m[B+12>>2]|0;do if((g|0)==(B|0)){if(A=B+20|0,g=m[A>>2]|0,!g&&(A=B+16|0,g=m[A>>2]|0,!g)){v=0;break}for(;;)if(w=g+20|0,v=m[w>>2]|0,v)g=v,A=w;else if(w=g+16|0,v=m[w>>2]|0,v)g=v,A=w;else break;m[A>>2]=0,v=g}else v=m[B+8>>2]|0,m[v+12>>2]=g,m[g+8>>2]=v,v=g;while(0);do if(T|0){if(g=m[B+28>>2]|0,A=28228+(g<<2)|0,(B|0)==(m[A>>2]|0)){if(m[A>>2]=v,!v){m[6982]=P&~(1<<g);break}}else if(Ze=T+16|0,m[((m[Ze>>2]|0)==(B|0)?Ze:T+20|0)>>2]=v,!v)break;m[v+24>>2]=T,g=m[B+16>>2]|0,g|0&&(m[v+16>>2]=g,m[g+24>>2]=v),g=m[B+20>>2]|0,g|0&&(m[v+20>>2]=g,m[g+24>>2]=v)}while(0);return G>>>0<16?(Ze=G+q|0,m[B+4>>2]=Ze|3,Ze=B+Ze+4|0,m[Ze>>2]=m[Ze>>2]|1):(m[B+4>>2]=q|3,m[D+4>>2]=G|1,m[D+G>>2]=G,Q|0&&(w=m[6986]|0,g=Q>>>3,v=27964+(g<<1<<2)|0,g=1<<g,g&he?(A=v+8|0,g=m[A>>2]|0):(m[6981]=g|he,g=v,A=v+8|0),m[A>>2]=w,m[g+12>>2]=w,m[w+8>>2]=g,m[w+12>>2]=v),m[6983]=G,m[6986]=D),Ze=B+8|0,ae=Qt,Ze|0}else he=q}else he=q}else he=q}else if(A>>>0<=4294967231)if(A=A+11|0,q=A&-8,w=m[6982]|0,w){T=0-q|0,A=A>>>8,A?q>>>0>16777215?G=31:(he=(A+1048320|0)>>>16&8,Ke=A<<he,B=(Ke+520192|0)>>>16&4,Ke=Ke<<B,G=(Ke+245760|0)>>>16&2,G=14-(B|he|G)+(Ke<<G>>>15)|0,G=q>>>(G+7|0)&1|G<<1):G=0,v=m[28228+(G<<2)>>2]|0;e:do if(!v)v=0,A=0,Ke=61;else for(A=0,B=q<<((G|0)==31?0:25-(G>>>1)|0),P=0;;){if(D=(m[v+4>>2]&-8)-q|0,D>>>0<T>>>0)if(D)A=v,T=D;else{A=v,T=0,Ke=65;break e}if(Ke=m[v+20>>2]|0,v=m[v+16+(B>>>31<<2)>>2]|0,P=(Ke|0)==0|(Ke|0)==(v|0)?P:Ke,v)B=B<<1;else{v=P,Ke=61;break}}while(0);if((Ke|0)==61){if((v|0)==0&(A|0)==0){if(A=2<<G,A=(A|0-A)&w,!A){he=q;break}he=(A&0-A)+-1|0,D=he>>>12&16,he=he>>>D,P=he>>>5&8,he=he>>>P,B=he>>>2&4,he=he>>>B,G=he>>>1&2,he=he>>>G,v=he>>>1&1,A=0,v=m[28228+((P|D|B|G|v)+(he>>>v)<<2)>>2]|0}v?Ke=65:(B=A,D=T)}if((Ke|0)==65)for(P=v;;)if(he=(m[P+4>>2]&-8)-q|0,v=he>>>0<T>>>0,T=v?he:T,A=v?P:A,v=m[P+16>>2]|0,v||(v=m[P+20>>2]|0),v)P=v;else{B=A,D=T;break}if(B|0&&D>>>0<((m[6983]|0)-q|0)>>>0&&(Q=B+q|0,Q>>>0>B>>>0)){P=m[B+24>>2]|0,g=m[B+12>>2]|0;do if((g|0)==(B|0)){if(A=B+20|0,g=m[A>>2]|0,!g&&(A=B+16|0,g=m[A>>2]|0,!g)){g=0;break}for(;;)if(T=g+20|0,v=m[T>>2]|0,v)g=v,A=T;else if(T=g+16|0,v=m[T>>2]|0,v)g=v,A=T;else break;m[A>>2]=0}else Ze=m[B+8>>2]|0,m[Ze+12>>2]=g,m[g+8>>2]=Ze;while(0);do if(P){if(A=m[B+28>>2]|0,v=28228+(A<<2)|0,(B|0)==(m[v>>2]|0)){if(m[v>>2]=g,!g){w=w&~(1<<A),m[6982]=w;break}}else if(Ze=P+16|0,m[((m[Ze>>2]|0)==(B|0)?Ze:P+20|0)>>2]=g,!g)break;m[g+24>>2]=P,A=m[B+16>>2]|0,A|0&&(m[g+16>>2]=A,m[A+24>>2]=g),A=m[B+20>>2]|0,A&&(m[g+20>>2]=A,m[A+24>>2]=g)}while(0);e:do if(D>>>0<16)Ze=D+q|0,m[B+4>>2]=Ze|3,Ze=B+Ze+4|0,m[Ze>>2]=m[Ze>>2]|1;else{if(m[B+4>>2]=q|3,m[Q+4>>2]=D|1,m[Q+D>>2]=D,g=D>>>3,D>>>0<256){v=27964+(g<<1<<2)|0,A=m[6981]|0,g=1<<g,A&g?(A=v+8|0,g=m[A>>2]|0):(m[6981]=A|g,g=v,A=v+8|0),m[A>>2]=Q,m[g+12>>2]=Q,m[Q+8>>2]=g,m[Q+12>>2]=v;break}if(g=D>>>8,g?D>>>0>16777215?v=31:(ut=(g+1048320|0)>>>16&8,Ze=g<<ut,ft=(Ze+520192|0)>>>16&4,Ze=Ze<<ft,v=(Ze+245760|0)>>>16&2,v=14-(ft|ut|v)+(Ze<<v>>>15)|0,v=D>>>(v+7|0)&1|v<<1):v=0,g=28228+(v<<2)|0,m[Q+28>>2]=v,A=Q+16|0,m[A+4>>2]=0,m[A>>2]=0,A=1<<v,!(w&A)){m[6982]=w|A,m[g>>2]=Q,m[Q+24>>2]=g,m[Q+12>>2]=Q,m[Q+8>>2]=Q;break}g=m[g>>2]|0;t:do if((m[g+4>>2]&-8|0)!=(D|0)){for(w=D<<((v|0)==31?0:25-(v>>>1)|0);v=g+16+(w>>>31<<2)|0,A=m[v>>2]|0,!!A;)if((m[A+4>>2]&-8|0)==(D|0)){g=A;break t}else w=w<<1,g=A;m[v>>2]=Q,m[Q+24>>2]=g,m[Q+12>>2]=Q,m[Q+8>>2]=Q;break e}while(0);ut=g+8|0,Ze=m[ut>>2]|0,m[Ze+12>>2]=Q,m[ut>>2]=Q,m[Q+8>>2]=Ze,m[Q+12>>2]=g,m[Q+24>>2]=0}while(0);return Ze=B+8|0,ae=Qt,Ze|0}else he=q}else he=q;else he=-1;while(0);if(v=m[6983]|0,v>>>0>=he>>>0)return g=v-he|0,A=m[6986]|0,g>>>0>15?(Ze=A+he|0,m[6986]=Ze,m[6983]=g,m[Ze+4>>2]=g|1,m[A+v>>2]=g,m[A+4>>2]=he|3):(m[6983]=0,m[6986]=0,m[A+4>>2]=v|3,Ze=A+v+4|0,m[Ze>>2]=m[Ze>>2]|1),Ze=A+8|0,ae=Qt,Ze|0;if(D=m[6984]|0,D>>>0>he>>>0)return ft=D-he|0,m[6984]=ft,Ze=m[6987]|0,ut=Ze+he|0,m[6987]=ut,m[ut+4>>2]=ft|1,m[Ze+4>>2]=he|3,Ze=Ze+8|0,ae=Qt,Ze|0;if(m[7099]|0?A=m[7101]|0:(m[7101]=4096,m[7100]=4096,m[7102]=-1,m[7103]=-1,m[7104]=0,m[7092]=0,m[7099]=Te&-16^1431655768,A=4096),B=he+48|0,G=he+47|0,P=A+G|0,T=0-A|0,q=P&T,q>>>0<=he>>>0||(A=m[7091]|0,A|0&&(Q=m[7089]|0,Te=Q+q|0,Te>>>0<=Q>>>0|Te>>>0>A>>>0)))return Ze=0,ae=Qt,Ze|0;e:do if(m[7092]&4)g=0,Ke=143;else{v=m[6987]|0;t:do if(v){for(w=28372;Te=m[w>>2]|0,!(Te>>>0<=v>>>0&&(Te+(m[w+4>>2]|0)|0)>>>0>v>>>0);)if(A=m[w+8>>2]|0,A)w=A;else{Ke=128;break t}if(g=P-D&T,g>>>0<2147483647)if(A=$f(g|0)|0,(A|0)==((m[w>>2]|0)+(m[w+4>>2]|0)|0)){if((A|0)!=-1){D=g,P=A,Ke=145;break e}}else w=A,Ke=136;else g=0}else Ke=128;while(0);do if((Ke|0)==128)if(v=$f(0)|0,(v|0)!=-1&&(g=v,Ee=m[7100]|0,Me=Ee+-1|0,g=(Me&g|0?(Me+g&0-Ee)-g|0:0)+q|0,Ee=m[7089]|0,Me=g+Ee|0,g>>>0>he>>>0&g>>>0<2147483647)){if(Te=m[7091]|0,Te|0&&Me>>>0<=Ee>>>0|Me>>>0>Te>>>0){g=0;break}if(A=$f(g|0)|0,(A|0)==(v|0)){D=g,P=v,Ke=145;break e}else w=A,Ke=136}else g=0;while(0);do if((Ke|0)==136){if(v=0-g|0,!(B>>>0>g>>>0&(g>>>0<2147483647&(w|0)!=-1)))if((w|0)==-1){g=0;break}else{D=g,P=w,Ke=145;break e}if(A=m[7101]|0,A=G-g+A&0-A,A>>>0>=2147483647){D=g,P=w,Ke=145;break e}if(($f(A|0)|0)==-1){$f(v|0)|0,g=0;break}else{D=A+g|0,P=w,Ke=145;break e}}while(0);m[7092]=m[7092]|4,Ke=143}while(0);if((Ke|0)==143&&q>>>0<2147483647&&(ft=$f(q|0)|0,Me=$f(0)|0,ct=Me-ft|0,xt=ct>>>0>(he+40|0)>>>0,!((ft|0)==-1|xt^1|ft>>>0<Me>>>0&((ft|0)!=-1&(Me|0)!=-1)^1))&&(D=xt?ct:g,P=ft,Ke=145),(Ke|0)==145){g=(m[7089]|0)+D|0,m[7089]=g,g>>>0>(m[7090]|0)>>>0&&(m[7090]=g),G=m[6987]|0;e:do if(G){for(g=28372;;){if(A=m[g>>2]|0,v=m[g+4>>2]|0,(P|0)==(A+v|0)){Ke=154;break}if(w=m[g+8>>2]|0,w)g=w;else break}if((Ke|0)==154&&(ut=g+4|0,(m[g+12>>2]&8|0)==0)&&P>>>0>G>>>0&A>>>0<=G>>>0){m[ut>>2]=v+D,Ze=(m[6984]|0)+D|0,ft=G+8|0,ft=ft&7|0?0-ft&7:0,ut=G+ft|0,ft=Ze-ft|0,m[6987]=ut,m[6984]=ft,m[ut+4>>2]=ft|1,m[G+Ze+4>>2]=40,m[6988]=m[7103];break}for(P>>>0<(m[6985]|0)>>>0&&(m[6985]=P),v=P+D|0,g=28372;;){if((m[g>>2]|0)==(v|0)){Ke=162;break}if(A=m[g+8>>2]|0,A)g=A;else break}if((Ke|0)==162&&!(m[g+12>>2]&8|0)){m[g>>2]=P,Q=g+4|0,m[Q>>2]=(m[Q>>2]|0)+D,Q=P+8|0,Q=P+(Q&7|0?0-Q&7:0)|0,g=v+8|0,g=v+(g&7|0?0-g&7:0)|0,q=Q+he|0,B=g-Q-he|0,m[Q+4>>2]=he|3;t:do if((G|0)==(g|0))Ze=(m[6984]|0)+B|0,m[6984]=Ze,m[6987]=q,m[q+4>>2]=Ze|1;else{if((m[6986]|0)==(g|0)){Ze=(m[6983]|0)+B|0,m[6983]=Ze,m[6986]=q,m[q+4>>2]=Ze|1,m[q+Ze>>2]=Ze;break}if(A=m[g+4>>2]|0,(A&3|0)==1){D=A&-8,w=A>>>3;n:do if(A>>>0<256)if(A=m[g+8>>2]|0,v=m[g+12>>2]|0,(v|0)==(A|0)){m[6981]=m[6981]&~(1<<w);break}else{m[A+12>>2]=v,m[v+8>>2]=A;break}else{P=m[g+24>>2]|0,A=m[g+12>>2]|0;do if((A|0)==(g|0)){if(v=g+16|0,w=v+4|0,A=m[w>>2]|0,A)v=w;else if(A=m[v>>2]|0,!A){A=0;break}for(;;)if(T=A+20|0,w=m[T>>2]|0,w)A=w,v=T;else if(T=A+16|0,w=m[T>>2]|0,w)A=w,v=T;else break;m[v>>2]=0}else Ze=m[g+8>>2]|0,m[Ze+12>>2]=A,m[A+8>>2]=Ze;while(0);if(!P)break;v=m[g+28>>2]|0,w=28228+(v<<2)|0;do if((m[w>>2]|0)!=(g|0)){if(Ze=P+16|0,m[((m[Ze>>2]|0)==(g|0)?Ze:P+20|0)>>2]=A,!A)break n}else{if(m[w>>2]=A,A|0)break;m[6982]=m[6982]&~(1<<v);break n}while(0);if(m[A+24>>2]=P,v=g+16|0,w=m[v>>2]|0,w|0&&(m[A+16>>2]=w,m[w+24>>2]=A),v=m[v+4>>2]|0,!v)break;m[A+20>>2]=v,m[v+24>>2]=A}while(0);g=g+D|0,T=D+B|0}else T=B;if(g=g+4|0,m[g>>2]=m[g>>2]&-2,m[q+4>>2]=T|1,m[q+T>>2]=T,g=T>>>3,T>>>0<256){v=27964+(g<<1<<2)|0,A=m[6981]|0,g=1<<g,A&g?(A=v+8|0,g=m[A>>2]|0):(m[6981]=A|g,g=v,A=v+8|0),m[A>>2]=q,m[g+12>>2]=q,m[q+8>>2]=g,m[q+12>>2]=v;break}g=T>>>8;do if(!g)w=0;else{if(T>>>0>16777215){w=31;break}ut=(g+1048320|0)>>>16&8,Ze=g<<ut,ft=(Ze+520192|0)>>>16&4,Ze=Ze<<ft,w=(Ze+245760|0)>>>16&2,w=14-(ft|ut|w)+(Ze<<w>>>15)|0,w=T>>>(w+7|0)&1|w<<1}while(0);if(g=28228+(w<<2)|0,m[q+28>>2]=w,A=q+16|0,m[A+4>>2]=0,m[A>>2]=0,A=m[6982]|0,v=1<<w,!(A&v)){m[6982]=A|v,m[g>>2]=q,m[q+24>>2]=g,m[q+12>>2]=q,m[q+8>>2]=q;break}g=m[g>>2]|0;n:do if((m[g+4>>2]&-8|0)!=(T|0)){for(w=T<<((w|0)==31?0:25-(w>>>1)|0);v=g+16+(w>>>31<<2)|0,A=m[v>>2]|0,!!A;)if((m[A+4>>2]&-8|0)==(T|0)){g=A;break n}else w=w<<1,g=A;m[v>>2]=q,m[q+24>>2]=g,m[q+12>>2]=q,m[q+8>>2]=q;break t}while(0);ut=g+8|0,Ze=m[ut>>2]|0,m[Ze+12>>2]=q,m[ut>>2]=q,m[q+8>>2]=Ze,m[q+12>>2]=g,m[q+24>>2]=0}while(0);return Ze=Q+8|0,ae=Qt,Ze|0}for(g=28372;A=m[g>>2]|0,!(A>>>0<=G>>>0&&(Ze=A+(m[g+4>>2]|0)|0,Ze>>>0>G>>>0));)g=m[g+8>>2]|0;T=Ze+-47|0,A=T+8|0,A=T+(A&7|0?0-A&7:0)|0,T=G+16|0,A=A>>>0<T>>>0?G:A,g=A+8|0,v=D+-40|0,ft=P+8|0,ft=ft&7|0?0-ft&7:0,ut=P+ft|0,ft=v-ft|0,m[6987]=ut,m[6984]=ft,m[ut+4>>2]=ft|1,m[P+v+4>>2]=40,m[6988]=m[7103],v=A+4|0,m[v>>2]=27,m[g>>2]=m[7093],m[g+4>>2]=m[7094],m[g+8>>2]=m[7095],m[g+12>>2]=m[7096],m[7093]=P,m[7094]=D,m[7096]=0,m[7095]=g,g=A+24|0;do ut=g,g=g+4|0,m[g>>2]=7;while((ut+8|0)>>>0<Ze>>>0);if((A|0)!=(G|0)){if(P=A-G|0,m[v>>2]=m[v>>2]&-2,m[G+4>>2]=P|1,m[A>>2]=P,g=P>>>3,P>>>0<256){v=27964+(g<<1<<2)|0,A=m[6981]|0,g=1<<g,A&g?(A=v+8|0,g=m[A>>2]|0):(m[6981]=A|g,g=v,A=v+8|0),m[A>>2]=G,m[g+12>>2]=G,m[G+8>>2]=g,m[G+12>>2]=v;break}if(g=P>>>8,g?P>>>0>16777215?w=31:(ut=(g+1048320|0)>>>16&8,Ze=g<<ut,ft=(Ze+520192|0)>>>16&4,Ze=Ze<<ft,w=(Ze+245760|0)>>>16&2,w=14-(ft|ut|w)+(Ze<<w>>>15)|0,w=P>>>(w+7|0)&1|w<<1):w=0,v=28228+(w<<2)|0,m[G+28>>2]=w,m[G+20>>2]=0,m[T>>2]=0,g=m[6982]|0,A=1<<w,!(g&A)){m[6982]=g|A,m[v>>2]=G,m[G+24>>2]=v,m[G+12>>2]=G,m[G+8>>2]=G;break}g=m[v>>2]|0;t:do if((m[g+4>>2]&-8|0)!=(P|0)){for(w=P<<((w|0)==31?0:25-(w>>>1)|0);v=g+16+(w>>>31<<2)|0,A=m[v>>2]|0,!!A;)if((m[A+4>>2]&-8|0)==(P|0)){g=A;break t}else w=w<<1,g=A;m[v>>2]=G,m[G+24>>2]=g,m[G+12>>2]=G,m[G+8>>2]=G;break e}while(0);ut=g+8|0,Ze=m[ut>>2]|0,m[Ze+12>>2]=G,m[ut>>2]=G,m[G+8>>2]=Ze,m[G+12>>2]=g,m[G+24>>2]=0}}else Ze=m[6985]|0,(Ze|0)==0|P>>>0<Ze>>>0&&(m[6985]=P),m[7093]=P,m[7094]=D,m[7096]=0,m[6990]=m[7099],m[6989]=-1,m[6994]=27964,m[6993]=27964,m[6996]=27972,m[6995]=27972,m[6998]=27980,m[6997]=27980,m[7e3]=27988,m[6999]=27988,m[7002]=27996,m[7001]=27996,m[7004]=28004,m[7003]=28004,m[7006]=28012,m[7005]=28012,m[7008]=28020,m[7007]=28020,m[7010]=28028,m[7009]=28028,m[7012]=28036,m[7011]=28036,m[7014]=28044,m[7013]=28044,m[7016]=28052,m[7015]=28052,m[7018]=28060,m[7017]=28060,m[7020]=28068,m[7019]=28068,m[7022]=28076,m[7021]=28076,m[7024]=28084,m[7023]=28084,m[7026]=28092,m[7025]=28092,m[7028]=28100,m[7027]=28100,m[7030]=28108,m[7029]=28108,m[7032]=28116,m[7031]=28116,m[7034]=28124,m[7033]=28124,m[7036]=28132,m[7035]=28132,m[7038]=28140,m[7037]=28140,m[7040]=28148,m[7039]=28148,m[7042]=28156,m[7041]=28156,m[7044]=28164,m[7043]=28164,m[7046]=28172,m[7045]=28172,m[7048]=28180,m[7047]=28180,m[7050]=28188,m[7049]=28188,m[7052]=28196,m[7051]=28196,m[7054]=28204,m[7053]=28204,m[7056]=28212,m[7055]=28212,Ze=D+-40|0,ft=P+8|0,ft=ft&7|0?0-ft&7:0,ut=P+ft|0,ft=Ze-ft|0,m[6987]=ut,m[6984]=ft,m[ut+4>>2]=ft|1,m[P+Ze+4>>2]=40,m[6988]=m[7103];while(0);if(g=m[6984]|0,g>>>0>he>>>0)return ft=g-he|0,m[6984]=ft,Ze=m[6987]|0,ut=Ze+he|0,m[6987]=ut,m[ut+4>>2]=ft|1,m[Ze+4>>2]=he|3,Ze=Ze+8|0,ae=Qt,Ze|0}return Ze=x0e()|0,m[Ze>>2]=12,Ze=0,ae=Qt,Ze|0}function jn(A){A=A|0;var g=0,v=0,w=0,T=0,P=0,D=0,B=0,G=0;if(A){v=A+-8|0,T=m[6985]|0,A=m[A+-4>>2]|0,g=A&-8,G=v+g|0;do if(A&1)B=v,D=v;else{if(w=m[v>>2]|0,!(A&3)||(D=v+(0-w)|0,P=w+g|0,D>>>0<T>>>0))return;if((m[6986]|0)==(D|0)){if(A=G+4|0,g=m[A>>2]|0,(g&3|0)!=3){B=D,g=P;break}m[6983]=P,m[A>>2]=g&-2,m[D+4>>2]=P|1,m[D+P>>2]=P;return}if(v=w>>>3,w>>>0<256)if(A=m[D+8>>2]|0,g=m[D+12>>2]|0,(g|0)==(A|0)){m[6981]=m[6981]&~(1<<v),B=D,g=P;break}else{m[A+12>>2]=g,m[g+8>>2]=A,B=D,g=P;break}T=m[D+24>>2]|0,A=m[D+12>>2]|0;do if((A|0)==(D|0)){if(g=D+16|0,v=g+4|0,A=m[v>>2]|0,A)g=v;else if(A=m[g>>2]|0,!A){A=0;break}for(;;)if(w=A+20|0,v=m[w>>2]|0,v)A=v,g=w;else if(w=A+16|0,v=m[w>>2]|0,v)A=v,g=w;else break;m[g>>2]=0}else B=m[D+8>>2]|0,m[B+12>>2]=A,m[A+8>>2]=B;while(0);if(T){if(g=m[D+28>>2]|0,v=28228+(g<<2)|0,(m[v>>2]|0)==(D|0)){if(m[v>>2]=A,!A){m[6982]=m[6982]&~(1<<g),B=D,g=P;break}}else if(B=T+16|0,m[((m[B>>2]|0)==(D|0)?B:T+20|0)>>2]=A,!A){B=D,g=P;break}m[A+24>>2]=T,g=D+16|0,v=m[g>>2]|0,v|0&&(m[A+16>>2]=v,m[v+24>>2]=A),g=m[g+4>>2]|0,g?(m[A+20>>2]=g,m[g+24>>2]=A,B=D,g=P):(B=D,g=P)}else B=D,g=P}while(0);if(!(D>>>0>=G>>>0)&&(A=G+4|0,w=m[A>>2]|0,!!(w&1))){if(w&2)m[A>>2]=w&-2,m[B+4>>2]=g|1,m[D+g>>2]=g,T=g;else{if((m[6987]|0)==(G|0)){if(G=(m[6984]|0)+g|0,m[6984]=G,m[6987]=B,m[B+4>>2]=G|1,(B|0)!=(m[6986]|0))return;m[6986]=0,m[6983]=0;return}if((m[6986]|0)==(G|0)){G=(m[6983]|0)+g|0,m[6983]=G,m[6986]=D,m[B+4>>2]=G|1,m[D+G>>2]=G;return}T=(w&-8)+g|0,v=w>>>3;do if(w>>>0<256)if(g=m[G+8>>2]|0,A=m[G+12>>2]|0,(A|0)==(g|0)){m[6981]=m[6981]&~(1<<v);break}else{m[g+12>>2]=A,m[A+8>>2]=g;break}else{P=m[G+24>>2]|0,A=m[G+12>>2]|0;do if((A|0)==(G|0)){if(g=G+16|0,v=g+4|0,A=m[v>>2]|0,A)g=v;else if(A=m[g>>2]|0,!A){v=0;break}for(;;)if(w=A+20|0,v=m[w>>2]|0,v)A=v,g=w;else if(w=A+16|0,v=m[w>>2]|0,v)A=v,g=w;else break;m[g>>2]=0,v=A}else v=m[G+8>>2]|0,m[v+12>>2]=A,m[A+8>>2]=v,v=A;while(0);if(P|0){if(A=m[G+28>>2]|0,g=28228+(A<<2)|0,(m[g>>2]|0)==(G|0)){if(m[g>>2]=v,!v){m[6982]=m[6982]&~(1<<A);break}}else if(w=P+16|0,m[((m[w>>2]|0)==(G|0)?w:P+20|0)>>2]=v,!v)break;m[v+24>>2]=P,A=G+16|0,g=m[A>>2]|0,g|0&&(m[v+16>>2]=g,m[g+24>>2]=v),A=m[A+4>>2]|0,A|0&&(m[v+20>>2]=A,m[A+24>>2]=v)}}while(0);if(m[B+4>>2]=T|1,m[D+T>>2]=T,(B|0)==(m[6986]|0)){m[6983]=T;return}}if(A=T>>>3,T>>>0<256){v=27964+(A<<1<<2)|0,g=m[6981]|0,A=1<<A,g&A?(g=v+8|0,A=m[g>>2]|0):(m[6981]=g|A,A=v,g=v+8|0),m[g>>2]=B,m[A+12>>2]=B,m[B+8>>2]=A,m[B+12>>2]=v;return}A=T>>>8,A?T>>>0>16777215?w=31:(D=(A+1048320|0)>>>16&8,G=A<<D,P=(G+520192|0)>>>16&4,G=G<<P,w=(G+245760|0)>>>16&2,w=14-(P|D|w)+(G<<w>>>15)|0,w=T>>>(w+7|0)&1|w<<1):w=0,A=28228+(w<<2)|0,m[B+28>>2]=w,m[B+20>>2]=0,m[B+16>>2]=0,g=m[6982]|0,v=1<<w;e:do if(!(g&v))m[6982]=g|v,m[A>>2]=B,m[B+24>>2]=A,m[B+12>>2]=B,m[B+8>>2]=B;else{A=m[A>>2]|0;t:do if((m[A+4>>2]&-8|0)!=(T|0)){for(w=T<<((w|0)==31?0:25-(w>>>1)|0);v=A+16+(w>>>31<<2)|0,g=m[v>>2]|0,!!g;)if((m[g+4>>2]&-8|0)==(T|0)){A=g;break t}else w=w<<1,A=g;m[v>>2]=B,m[B+24>>2]=A,m[B+12>>2]=B,m[B+8>>2]=B;break e}while(0);D=A+8|0,G=m[D>>2]|0,m[G+12>>2]=B,m[D>>2]=B,m[B+8>>2]=G,m[B+12>>2]=A,m[B+24>>2]=0}while(0);if(G=(m[6989]|0)+-1|0,m[6989]=G,!(G|0)){for(A=28380;A=m[A>>2]|0,A;)A=A+8|0;m[6989]=-1}}}}function Fs(A,g){A=A|0,g=g|0;var v=0;return A?(v=nt(g,A)|0,(g|A)>>>0>65535&&(v=((v>>>0)/(A>>>0)|0|0)==(g|0)?v:-1)):v=0,A=Tu(v)|0,!A||!(m[A+-4>>2]&3)||Ff(A|0,0,v|0)|0,A|0}function zn(A,g,v,w){return A=A|0,g=g|0,v=v|0,w=w|0,v=A+v>>>0,_t(g+w+(v>>>0<A>>>0|0)>>>0|0),v|0|0}function Zo(A,g,v,w){return A=A|0,g=g|0,v=v|0,w=w|0,w=g-w-(v>>>0>A>>>0|0)>>>0,_t(w|0),A-v>>>0|0|0}function SU(A){return A=A|0,(A?31-(Dt(A^A-1)|0)|0:32)|0}function xP(A,g,v,w,T){A=A|0,g=g|0,v=v|0,w=w|0,T=T|0;var P=0,D=0,B=0,G=0,q=0,Q=0,he=0,Te=0,Ee=0,Me=0;if(Q=A,G=g,q=G,D=v,Te=w,B=Te,!q)return P=(T|0)!=0,B?P?(m[T>>2]=A|0,m[T+4>>2]=g&0,Te=0,T=0,_t(Te|0),T|0):(Te=0,T=0,_t(Te|0),T|0):(P&&(m[T>>2]=(Q>>>0)%(D>>>0),m[T+4>>2]=0),Te=0,T=(Q>>>0)/(D>>>0)>>>0,_t(Te|0),T|0);P=(B|0)==0;do if(D){if(!P){if(P=(Dt(B|0)|0)-(Dt(q|0)|0)|0,P>>>0<=31){he=P+1|0,B=31-P|0,g=P-31>>31,D=he,A=Q>>>(he>>>0)&g|q<<B,g=q>>>(he>>>0)&g,P=0,B=Q<<B;break}return T?(m[T>>2]=A|0,m[T+4>>2]=G|g&0,Te=0,T=0,_t(Te|0),T|0):(Te=0,T=0,_t(Te|0),T|0)}if(P=D-1|0,P&D|0){B=(Dt(D|0)|0)+33-(Dt(q|0)|0)|0,Me=64-B|0,he=32-B|0,G=he>>31,Ee=B-32|0,g=Ee>>31,D=B,A=he-1>>31&q>>>(Ee>>>0)|(q<<he|Q>>>(B>>>0))&g,g=g&q>>>(B>>>0),P=Q<<Me&G,B=(q<<Me|Q>>>(Ee>>>0))&G|Q<<he&B-33>>31;break}return T|0&&(m[T>>2]=P&Q,m[T+4>>2]=0),(D|0)==1?(Ee=G|g&0,Me=A|0|0,_t(Ee|0),Me|0):(Me=SU(D|0)|0,Ee=q>>>(Me>>>0)|0,Me=q<<32-Me|Q>>>(Me>>>0)|0,_t(Ee|0),Me|0)}else{if(P)return T|0&&(m[T>>2]=(q>>>0)%(D>>>0),m[T+4>>2]=0),Ee=0,Me=(q>>>0)/(D>>>0)>>>0,_t(Ee|0),Me|0;if(!Q)return T|0&&(m[T>>2]=0,m[T+4>>2]=(q>>>0)%(B>>>0)),Ee=0,Me=(q>>>0)/(B>>>0)>>>0,_t(Ee|0),Me|0;if(P=B-1|0,!(P&B))return T|0&&(m[T>>2]=A|0,m[T+4>>2]=P&q|g&0),Ee=0,Me=q>>>((SU(B|0)|0)>>>0),_t(Ee|0),Me|0;if(P=(Dt(B|0)|0)-(Dt(q|0)|0)|0,P>>>0<=30){g=P+1|0,B=31-P|0,D=g,A=q<<B|Q>>>(g>>>0),g=q>>>(g>>>0),P=0,B=Q<<B;break}return T?(m[T>>2]=A|0,m[T+4>>2]=G|g&0,Ee=0,Me=0,_t(Ee|0),Me|0):(Ee=0,Me=0,_t(Ee|0),Me|0)}while(0);if(!D)q=B,G=0,B=0;else{he=v|0|0,Q=Te|w&0,q=zn(he|0,Q|0,-1,-1)|0,v=ie()|0,G=B,B=0;do w=G,G=P>>>31|G<<1,P=B|P<<1,w=A<<1|w>>>31|0,Te=A>>>31|g<<1|0,Zo(q|0,v|0,w|0,Te|0)|0,Me=ie()|0,Ee=Me>>31|((Me|0)<0?-1:0)<<1,B=Ee&1,A=Zo(w|0,Te|0,Ee&he|0,(((Me|0)<0?-1:0)>>31|((Me|0)<0?-1:0)<<1)&Q|0)|0,g=ie()|0,D=D-1|0;while(D|0);q=G,G=0}return D=0,T|0&&(m[T>>2]=A,m[T+4>>2]=g),Ee=(P|0)>>>31|(q|D)<<1|(D<<1|P>>>31)&0|G,Me=(P<<1|0)&-2|B,_t(Ee|0),Me|0}function Bf(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0;return q=g>>31|((g|0)<0?-1:0)<<1,G=((g|0)<0?-1:0)>>31|((g|0)<0?-1:0)<<1,P=w>>31|((w|0)<0?-1:0)<<1,T=((w|0)<0?-1:0)>>31|((w|0)<0?-1:0)<<1,B=Zo(q^A|0,G^g|0,q|0,G|0)|0,D=ie()|0,A=P^q,g=T^G,Zo((xP(B,D,Zo(P^v|0,T^w|0,P|0,T|0)|0,ie()|0,0)|0)^A|0,(ie()|0)^g|0,A|0,g|0)|0}function S0e(A,g){A=A|0,g=g|0;var v=0,w=0,T=0,P=0;return P=A&65535,T=g&65535,v=nt(T,P)|0,w=A>>>16,A=(v>>>16)+(nt(T,w)|0)|0,T=g>>>16,g=nt(T,P)|0,_t((A>>>16)+(nt(T,w)|0)+(((A&65535)+g|0)>>>16)|0),A+g<<16|v&65535|0|0}function Jo(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0;return T=A,P=v,v=S0e(T,P)|0,A=ie()|0,_t((nt(g,P)|0)+(nt(w,T)|0)+A|A&0|0),v|0|0|0}function D0(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0,D=0,B=0,G=0,q=0;return T=ae,ae=ae+16|0,B=T|0,D=g>>31|((g|0)<0?-1:0)<<1,P=((g|0)<0?-1:0)>>31|((g|0)<0?-1:0)<<1,q=w>>31|((w|0)<0?-1:0)<<1,G=((w|0)<0?-1:0)>>31|((w|0)<0?-1:0)<<1,A=Zo(D^A|0,P^g|0,D|0,P|0)|0,g=ie()|0,xP(A,g,Zo(q^v|0,G^w|0,q|0,G|0)|0,ie()|0,B)|0,w=Zo(m[B>>2]^D|0,m[B+4>>2]^P|0,D|0,P|0)|0,v=ie()|0,ae=T,_t(v|0),w|0}function O0(A,g,v,w){A=A|0,g=g|0,v=v|0,w=w|0;var T=0,P=0;return P=ae,ae=ae+16|0,T=P|0,xP(A,g,v,w,T)|0,ae=P,_t(m[T+4>>2]|0),m[T>>2]|0|0}function _U(A,g,v){return A=A|0,g=g|0,v=v|0,(v|0)<32?(_t(g>>v|0),A>>>v|(g&(1<<v)-1)<<32-v):(_t(((g|0)<0?-1:0)|0),g>>v-32|0)}function Gt(A,g,v){return A=A|0,g=g|0,v=v|0,(v|0)<32?(_t(g>>>v|0),A>>>v|(g&(1<<v)-1)<<32-v):(_t(0),g>>>v-32|0)}function Yt(A,g,v){return A=A|0,g=g|0,v=v|0,(v|0)<32?(_t(g<<v|(A&(1<<v)-1<<32-v)>>>32-v|0),A<<v):(_t(A<<v-32|0),0)}function SP(A,g,v){return A=A|0,g=g|0,g=Dt(g)|0,(g|0)==32&&(g=g+(Dt(A)|0)|0),_t(0),g|0}function wU(A,g){return A=+A,g=+g,A!=A?+g:g!=g?+A:+St(+A,+g)}function DS(A,g){return A=+A,g=+g,A!=A?+g:g!=g?+A:+Fe(+A,+g)}function OS(A){return A=+A,A>=0?+Gn(A+.5):+et(A-.5)}function L0(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0;if((v|0)>=8192)return Vn(A|0,g|0,v|0)|0,A|0;if(P=A|0,T=A+v|0,(A&3)==(g&3)){for(;A&3;){if(!v)return P|0;ht[A>>0]=ht[g>>0]|0,A=A+1|0,g=g+1|0,v=v-1|0}for(v=T&-4|0,w=v-64|0;(A|0)<=(w|0);)m[A>>2]=m[g>>2],m[A+4>>2]=m[g+4>>2],m[A+8>>2]=m[g+8>>2],m[A+12>>2]=m[g+12>>2],m[A+16>>2]=m[g+16>>2],m[A+20>>2]=m[g+20>>2],m[A+24>>2]=m[g+24>>2],m[A+28>>2]=m[g+28>>2],m[A+32>>2]=m[g+32>>2],m[A+36>>2]=m[g+36>>2],m[A+40>>2]=m[g+40>>2],m[A+44>>2]=m[g+44>>2],m[A+48>>2]=m[g+48>>2],m[A+52>>2]=m[g+52>>2],m[A+56>>2]=m[g+56>>2],m[A+60>>2]=m[g+60>>2],A=A+64|0,g=g+64|0;for(;(A|0)<(v|0);)m[A>>2]=m[g>>2],A=A+4|0,g=g+4|0}else for(v=T-4|0;(A|0)<(v|0);)ht[A>>0]=ht[g>>0]|0,ht[A+1>>0]=ht[g+1>>0]|0,ht[A+2>>0]=ht[g+2>>0]|0,ht[A+3>>0]=ht[g+3>>0]|0,A=A+4|0,g=g+4|0;for(;(A|0)<(T|0);)ht[A>>0]=ht[g>>0]|0,A=A+1|0,g=g+1|0;return P|0}function Ff(A,g,v){A=A|0,g=g|0,v=v|0;var w=0,T=0,P=0,D=0;if(P=A+v|0,g=g&255,(v|0)>=67){for(;A&3;)ht[A>>0]=g,A=A+1|0;for(w=P&-4|0,D=g|g<<8|g<<16|g<<24,T=w-64|0;(A|0)<=(T|0);)m[A>>2]=D,m[A+4>>2]=D,m[A+8>>2]=D,m[A+12>>2]=D,m[A+16>>2]=D,m[A+20>>2]=D,m[A+24>>2]=D,m[A+28>>2]=D,m[A+32>>2]=D,m[A+36>>2]=D,m[A+40>>2]=D,m[A+44>>2]=D,m[A+48>>2]=D,m[A+52>>2]=D,m[A+56>>2]=D,m[A+60>>2]=D,A=A+64|0;for(;(A|0)<(w|0);)m[A>>2]=D,A=A+4|0}for(;(A|0)<(P|0);)ht[A>>0]=g,A=A+1|0;return P-v|0}function CU(A){return A=+A,A>=0?+Gn(A+.5):+et(A-.5)}function $f(A){A=A|0;var g=0,v=0,w=0;return w=hn()|0,v=m[xn>>2]|0,g=v+A|0,(A|0)>0&(g|0)<(v|0)|(g|0)<0?(Tr(g|0)|0,_n(12),-1):(g|0)>(w|0)&&!(fr(g|0)|0)?(_n(12),-1):(m[xn>>2]=g,v|0)}return{___divdi3:Bf,___muldi3:Jo,___remdi3:D0,___uremdi3:O0,_areNeighborCells:ume,_bitshift64Ashr:_U,_bitshift64Lshr:Gt,_bitshift64Shl:Yt,_calloc:Fs,_cellAreaKm2:Gme,_cellAreaM2:Hme,_cellAreaRads2:AP,_cellToBoundary:N0,_cellToCenterChild:rU,_cellToChildPos:Ome,_cellToChildren:Cme,_cellToChildrenSize:Py,_cellToLatLng:Tp,_cellToLocalIj:Qme,_cellToParent:cP,_cellToVertex:ql,_cellToVertexes:g0e,_cellsToDirectedEdge:dme,_cellsToLinkedMultiPolygon:Cd,_childPosToCell:Lme,_compactCells:Tme,_constructCell:_me,_destroyLinkedMultiPolygon:lU,_directedEdgeToBoundary:RS,_directedEdgeToCells:pme,_edgeLengthKm:qme,_edgeLengthM:Wme,_edgeLengthRads:jme,_emscripten_replace_memory:Dn,_free:jn,_getBaseCellNumber:tU,_getDirectedEdgeDestination:hme,_getDirectedEdgeOrigin:fme,_getHexagonAreaAvgKm2:aU,_getHexagonAreaAvgM2:kme,_getHexagonEdgeLengthAvgKm:Vme,_getHexagonEdgeLengthAvgM:zme,_getIcosahedronFaces:iU,_getIndexDigit:Sme,_getNumCells:PS,_getPentagons:pP,_getRes0Cells:Li,_getResolution:xme,_greatCircleDistanceKm:Iy,_greatCircleDistanceM:Fme,_greatCircleDistanceRads:Bme,_gridDisk:Hn,_gridDiskDistances:Hr,_gridDistance:Jme,_gridPathCells:t0e,_gridPathCellsSize:e0e,_gridRing:jr,_gridRingUnsafe:Bn,_i64Add:zn,_i64Subtract:Zo,_isPentagon:Ci,_isResClassIII:Rme,_isValidCell:sP,_isValidDirectedEdge:Z9,_isValidIndex:wme,_isValidVertex:AU,_latLngToCell:fP,_llvm_ctlz_i64:SP,_llvm_maxnum_f64:wU,_llvm_minnum_f64:DS,_llvm_round_f64:OS,_localIjToCell:Zme,_malloc:Tu,_maxFaceCount:Ime,_maxGridDiskSize:an,_maxPolygonToCellsSize:hi,_maxPolygonToCellsSizeExperimental:i0e,_memcpy:L0,_memset:Ff,_originToDirectedEdges:mme,_pentagonCount:Dme,_polygonToCells:Nf,_polygonToCellsExperimental:r0e,_readInt64AsDoubleFromPointer:f0e,_res0CellCount:io,_round:CU,_sbrk:$f,_sizeOfCellBoundary:s0e,_sizeOfCoordIJ:d0e,_sizeOfGeoLoop:l0e,_sizeOfGeoPolygon:c0e,_sizeOfH3Index:o0e,_sizeOfLatLng:a0e,_sizeOfLinkedGeoPolygon:u0e,_uncompactCells:Eme,_uncompactCellsSize:Mme,_vertexToLatLng:A0e,establishStackSpace:nn,stackAlloc:Lt,stackRestore:vn,stackSave:Wt}}(Ct,qt,F);e.___divdi3=Ge.___divdi3,e.___muldi3=Ge.___muldi3,e.___remdi3=Ge.___remdi3,e.___uremdi3=Ge.___uremdi3,e._areNeighborCells=Ge._areNeighborCells,e._bitshift64Ashr=Ge._bitshift64Ashr,e._bitshift64Lshr=Ge._bitshift64Lshr,e._bitshift64Shl=Ge._bitshift64Shl,e._calloc=Ge._calloc,e._cellAreaKm2=Ge._cellAreaKm2,e._cellAreaM2=Ge._cellAreaM2,e._cellAreaRads2=Ge._cellAreaRads2,e._cellToBoundary=Ge._cellToBoundary,e._cellToCenterChild=Ge._cellToCenterChild,e._cellToChildPos=Ge._cellToChildPos,e._cellToChildren=Ge._cellToChildren,e._cellToChildrenSize=Ge._cellToChildrenSize,e._cellToLatLng=Ge._cellToLatLng,e._cellToLocalIj=Ge._cellToLocalIj,e._cellToParent=Ge._cellToParent,e._cellToVertex=Ge._cellToVertex,e._cellToVertexes=Ge._cellToVertexes,e._cellsToDirectedEdge=Ge._cellsToDirectedEdge,e._cellsToLinkedMultiPolygon=Ge._cellsToLinkedMultiPolygon,e._childPosToCell=Ge._childPosToCell,e._compactCells=Ge._compactCells,e._constructCell=Ge._constructCell,e._destroyLinkedMultiPolygon=Ge._destroyLinkedMultiPolygon,e._directedEdgeToBoundary=Ge._directedEdgeToBoundary,e._directedEdgeToCells=Ge._directedEdgeToCells,e._edgeLengthKm=Ge._edgeLengthKm,e._edgeLengthM=Ge._edgeLengthM,e._edgeLengthRads=Ge._edgeLengthRads;var yt=e._emscripten_replace_memory=Ge._emscripten_replace_memory;e._free=Ge._free,e._getBaseCellNumber=Ge._getBaseCellNumber,e._getDirectedEdgeDestination=Ge._getDirectedEdgeDestination,e._getDirectedEdgeOrigin=Ge._getDirectedEdgeOrigin,e._getHexagonAreaAvgKm2=Ge._getHexagonAreaAvgKm2,e._getHexagonAreaAvgM2=Ge._getHexagonAreaAvgM2,e._getHexagonEdgeLengthAvgKm=Ge._getHexagonEdgeLengthAvgKm,e._getHexagonEdgeLengthAvgM=Ge._getHexagonEdgeLengthAvgM,e._getIcosahedronFaces=Ge._getIcosahedronFaces,e._getIndexDigit=Ge._getIndexDigit,e._getNumCells=Ge._getNumCells,e._getPentagons=Ge._getPentagons,e._getRes0Cells=Ge._getRes0Cells,e._getResolution=Ge._getResolution,e._greatCircleDistanceKm=Ge._greatCircleDistanceKm,e._greatCircleDistanceM=Ge._greatCircleDistanceM,e._greatCircleDistanceRads=Ge._greatCircleDistanceRads,e._gridDisk=Ge._gridDisk,e._gridDiskDistances=Ge._gridDiskDistances,e._gridDistance=Ge._gridDistance,e._gridPathCells=Ge._gridPathCells,e._gridPathCellsSize=Ge._gridPathCellsSize,e._gridRing=Ge._gridRing,e._gridRingUnsafe=Ge._gridRingUnsafe,e._i64Add=Ge._i64Add,e._i64Subtract=Ge._i64Subtract,e._isPentagon=Ge._isPentagon,e._isResClassIII=Ge._isResClassIII,e._isValidCell=Ge._isValidCell,e._isValidDirectedEdge=Ge._isValidDirectedEdge,e._isValidIndex=Ge._isValidIndex,e._isValidVertex=Ge._isValidVertex,e._latLngToCell=Ge._latLngToCell,e._llvm_ctlz_i64=Ge._llvm_ctlz_i64,e._llvm_maxnum_f64=Ge._llvm_maxnum_f64,e._llvm_minnum_f64=Ge._llvm_minnum_f64,e._llvm_round_f64=Ge._llvm_round_f64,e._localIjToCell=Ge._localIjToCell,e._malloc=Ge._malloc,e._maxFaceCount=Ge._maxFaceCount,e._maxGridDiskSize=Ge._maxGridDiskSize,e._maxPolygonToCellsSize=Ge._maxPolygonToCellsSize,e._maxPolygonToCellsSizeExperimental=Ge._maxPolygonToCellsSizeExperimental,e._memcpy=Ge._memcpy,e._memset=Ge._memset,e._originToDirectedEdges=Ge._originToDirectedEdges,e._pentagonCount=Ge._pentagonCount,e._polygonToCells=Ge._polygonToCells,e._polygonToCellsExperimental=Ge._polygonToCellsExperimental,e._readInt64AsDoubleFromPointer=Ge._readInt64AsDoubleFromPointer,e._res0CellCount=Ge._res0CellCount,e._round=Ge._round,e._sbrk=Ge._sbrk,e._sizeOfCellBoundary=Ge._sizeOfCellBoundary,e._sizeOfCoordIJ=Ge._sizeOfCoordIJ,e._sizeOfGeoLoop=Ge._sizeOfGeoLoop,e._sizeOfGeoPolygon=Ge._sizeOfGeoPolygon,e._sizeOfH3Index=Ge._sizeOfH3Index,e._sizeOfLatLng=Ge._sizeOfLatLng,e._sizeOfLinkedGeoPolygon=Ge._sizeOfLinkedGeoPolygon,e._uncompactCells=Ge._uncompactCells,e._uncompactCellsSize=Ge._uncompactCellsSize,e._vertexToLatLng=Ge._vertexToLatLng,e.establishStackSpace=Ge.establishStackSpace;var Tt=e.stackAlloc=Ge.stackAlloc,Ut=e.stackRestore=Ge.stackRestore,mn=e.stackSave=Ge.stackSave;if(e.asm=Ge,e.cwrap=C,e.setValue=h,e.getValue=p,rt){se(rt)||(rt=o(rt));{Je();var dn=function(Le){Le.byteLength&&(Le=new Uint8Array(Le)),V.set(Le,f),e.memoryInitializerRequest&&delete e.memoryInitializerRequest.response,Ye()},tn=function(){a(rt,dn,function(){throw"could not load memory initializer "+rt})},pn=Mt(rt);if(pn)dn(pn.buffer);else if(e.memoryInitializerRequest){var fn=function(){var Le=e.memoryInitializerRequest,st=Le.response;if(Le.status!==200&&Le.status!==0){var gt=Mt(e.memoryInitializerRequestURL);if(gt)st=gt.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+Le.status+", retrying "+rt),tn();return}}dn(st)};e.memoryInitializerRequest.response?setTimeout(fn,0):e.memoryInitializerRequest.addEventListener("load",fn)}else tn()}}var kt;ne=function Le(){kt||Nt(),kt||(ne=Le)};function Nt(Le){if(Be>0||(ce(),Be>0))return;function st(){kt||(kt=!0,!x&&(pe(),ye(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),xe()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),st()},1)):st()}e.run=Nt;function It(Le){throw e.onAbort&&e.onAbort(Le),Le+="",s(Le),l(Le),x=!0,"abort("+Le+"). Build with -s ASSERTIONS=1 for more info."}if(e.abort=It,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Nt(),t}(typeof Vr=="object"?Vr:{}),tr="number",Zn=tr,Ag=tr,lr=tr,cr=tr,na=tr,bn=tr,Rqe=[["sizeOfH3Index",tr],["sizeOfLatLng",tr],["sizeOfCellBoundary",tr],["sizeOfGeoLoop",tr],["sizeOfGeoPolygon",tr],["sizeOfLinkedGeoPolygon",tr],["sizeOfCoordIJ",tr],["readInt64AsDoubleFromPointer",tr],["isValidCell",Ag,[lr,cr]],["isValidIndex",Ag,[lr,cr]],["latLngToCell",Zn,[tr,tr,na,bn]],["cellToLatLng",Zn,[lr,cr,bn]],["cellToBoundary",Zn,[lr,cr,bn]],["maxGridDiskSize",Zn,[tr,bn]],["gridDisk",Zn,[lr,cr,tr,bn]],["gridDiskDistances",Zn,[lr,cr,tr,bn,bn]],["gridRing",Zn,[lr,cr,tr,bn]],["gridRingUnsafe",Zn,[lr,cr,tr,bn]],["maxPolygonToCellsSize",Zn,[bn,na,tr,bn]],["polygonToCells",Zn,[bn,na,tr,bn]],["maxPolygonToCellsSizeExperimental",Zn,[bn,na,tr,bn]],["polygonToCellsExperimental",Zn,[bn,na,tr,tr,tr,bn]],["cellsToLinkedMultiPolygon",Zn,[bn,tr,bn]],["destroyLinkedMultiPolygon",null,[bn]],["compactCells",Zn,[bn,bn,tr,tr]],["uncompactCells",Zn,[bn,tr,tr,bn,tr,na]],["uncompactCellsSize",Zn,[bn,tr,tr,na,bn]],["isPentagon",Ag,[lr,cr]],["isResClassIII",Ag,[lr,cr]],["getBaseCellNumber",tr,[lr,cr]],["getResolution",tr,[lr,cr]],["getIndexDigit",tr,[lr,cr,tr]],["constructCell",Zn,[tr,tr,bn,bn]],["maxFaceCount",Zn,[lr,cr,bn]],["getIcosahedronFaces",Zn,[lr,cr,bn]],["cellToParent",Zn,[lr,cr,na,bn]],["cellToChildren",Zn,[lr,cr,na,bn]],["cellToCenterChild",Zn,[lr,cr,na,bn]],["cellToChildrenSize",Zn,[lr,cr,na,bn]],["cellToChildPos",Zn,[lr,cr,na,bn]],["childPosToCell",Zn,[tr,tr,lr,cr,na,bn]],["areNeighborCells",Zn,[lr,cr,lr,cr,bn]],["cellsToDirectedEdge",Zn,[lr,cr,lr,cr,bn]],["getDirectedEdgeOrigin",Zn,[lr,cr,bn]],["getDirectedEdgeDestination",Zn,[lr,cr,bn]],["isValidDirectedEdge",Ag,[lr,cr]],["directedEdgeToCells",Zn,[lr,cr,bn]],["originToDirectedEdges",Zn,[lr,cr,bn]],["directedEdgeToBoundary",Zn,[lr,cr,bn]],["gridDistance",Zn,[lr,cr,lr,cr,bn]],["gridPathCells",Zn,[lr,cr,lr,cr,bn]],["gridPathCellsSize",Zn,[lr,cr,lr,cr,bn]],["cellToLocalIj",Zn,[lr,cr,lr,cr,tr,bn]],["localIjToCell",Zn,[lr,cr,bn,tr,bn]],["getHexagonAreaAvgM2",Zn,[na,bn]],["getHexagonAreaAvgKm2",Zn,[na,bn]],["getHexagonEdgeLengthAvgM",Zn,[na,bn]],["getHexagonEdgeLengthAvgKm",Zn,[na,bn]],["greatCircleDistanceM",tr,[bn,bn]],["greatCircleDistanceKm",tr,[bn,bn]],["greatCircleDistanceRads",tr,[bn,bn]],["cellAreaM2",Zn,[lr,cr,bn]],["cellAreaKm2",Zn,[lr,cr,bn]],["cellAreaRads2",Zn,[lr,cr,bn]],["edgeLengthM",Zn,[lr,cr,bn]],["edgeLengthKm",Zn,[lr,cr,bn]],["edgeLengthRads",Zn,[lr,cr,bn]],["getNumCells",Zn,[na,bn]],["getRes0Cells",Zn,[bn]],["res0CellCount",tr],["getPentagons",Zn,[tr,bn]],["pentagonCount",tr],["cellToVertex",Zn,[lr,cr,tr,bn]],["cellToVertexes",Zn,[lr,cr,bn]],["vertexToLatLng",Zn,[lr,cr,bn]],["isValidVertex",Ag,[lr,cr]]],Pqe=0,Nqe=1,Iqe=2,Dqe=3,qoe=4,Oqe=5,Lqe=6,Bqe=7,Fqe=8,$qe=9,Uqe=10,kqe=11,Vqe=12,zqe=13,Gqe=14,Hqe=15,jqe=16,qqe=17,Wqe=18,Xqe=19,No={};No[Pqe]="Success";No[Nqe]="The operation failed but a more specific error is not available";No[Iqe]="Argument was outside of acceptable range";No[Dqe]="Latitude or longitude arguments were outside of acceptable range";No[qoe]="Resolution argument was outside of acceptable range";No[Oqe]="Cell argument was not valid";No[Lqe]="Directed edge argument was not valid";No[Bqe]="Undirected edge argument was not valid";No[Fqe]="Vertex argument was not valid";No[$qe]="Pentagon distortion was encountered";No[Uqe]="Duplicate input";No[kqe]="Cell arguments were not neighbors";No[Vqe]="Cell arguments had incompatible resolutions";No[zqe]="Memory allocation failed";No[Gqe]="Bounds of provided memory were insufficient";No[Hqe]="Mode or flags argument was not valid";No[jqe]="Index argument was not valid";No[qqe]="Base cell number was outside of acceptable range";No[Wqe]="Child indexing digits invalid";No[Xqe]="Child indexing digits refer to a deleted subsequence";var Yqe=1e3,Woe=1001,Xoe=1002,HM={};HM[Yqe]="Unknown unit";HM[Woe]="Array length out of bounds";HM[Xoe]="Got unexpected null value for H3 index";var Kqe="Unknown error";function Yoe(t,e,n){var r=n&&"value"in n,i=new Error((t[e]||Kqe)+" (code: "+e+(r?", value: "+n.value:"")+")");return i.code=e,i}function Koe(t,e){var n=arguments.length===2?{value:e}:{};return Yoe(No,t,n)}function Qoe(t,e){var n=arguments.length===2?{value:e}:{};return Yoe(HM,t,n)}function qx(t){if(t!==0)throw Koe(t)}var il={};Rqe.forEach(function(e){il[e[0]]=Vr.cwrap.apply(Vr,e)});var tA=16,Wx=4,Iv=8,Qqe=8,RE=il.sizeOfH3Index(),GF=il.sizeOfLatLng(),Zqe=il.sizeOfCellBoundary(),Jqe=il.sizeOfGeoPolygon(),Tb=il.sizeOfGeoLoop();il.sizeOfLinkedGeoPolygon();il.sizeOfCoordIJ();function eWe(t){if(typeof t!="number"||t<0||t>15||Math.floor(t)!==t)throw Koe(qoe,t);return t}function tWe(t){if(!t)throw Qoe(Xoe);return t}var nWe=Math.pow(2,32)-1;function rWe(t){if(t>nWe)throw Qoe(Woe,t);return t}var iWe=/[^0-9a-fA-F]/;function Zoe(t){if(Array.isArray(t)&&t.length===2&&Number.isInteger(t[0])&&Number.isInteger(t[1]))return t;if(typeof t!="string"||iWe.test(t))return[0,0];var e=parseInt(t.substring(0,t.length-8),tA),n=parseInt(t.substring(t.length-8),tA);return[n,e]}function mq(t){if(t>=0)return t.toString(tA);t=t&2147483647;var e=Joe(8,t.toString(tA)),n=(parseInt(e[0],tA)+8).toString(tA);return e=n+e.substring(1),e}function oWe(t,e){return mq(e)+Joe(8,mq(t))}function Joe(t,e){for(var n=t-e.length,r="",i=0;i<n;i++)r+="0";return r=r+e,r}function gq(t,e,n){for(var r=t.length,i=Vr._calloc(r,GF),o=n?1:0,a=n?0:1,s=0;s<r*2;s+=2)Vr.HEAPF64.set([t[s/2][o],t[s/2][a]].map(iae),i/Iv+s);return Vr.HEAPU32.set([r,i],e/Wx),e}function aWe(t,e){var n=t.length-1,r=Vr._calloc(Jqe),i=0,o=i+Tb,a=o+Wx;gq(t[0],r+i,e);var s;if(n>0){s=Vr._calloc(n,Tb);for(var l=0;l<n;l++)gq(t[l+1],s+Tb*l,e)}return Vr.setValue(r+o,n,"i32"),Vr.setValue(r+a,s,"i32"),r}function sWe(t){var e=0,n=e+Tb,r=n+Wx,i=Wx;Vr._free(Vr.getValue(t+e+i,"i8*"));var o=Vr.getValue(t+n,"i32");if(o>0){for(var a=Vr.getValue(t+r,"i32"),s=0;s<o;s++)Vr._free(Vr.getValue(a+Tb*s+i,"i8*"));Vr._free(a)}Vr._free(t)}function eae(t,e){e===void 0&&(e=0);var n=Vr.getValue(t+RE*e,"i32"),r=Vr.getValue(t+RE*e+Wx,"i32");return r?oWe(n,r):null}function lWe(t){return il.readInt64AsDoubleFromPointer(t)}function cWe(t,e){for(var n=[],r=0;r<e;r++){var i=eae(t,r);i!==null&&n.push(i)}return n}function PE(t){return hWe(Vr.getValue(t,"double"))}function tae(t){return[PE(t),PE(t+Iv)]}function uWe(t){return[PE(t+Iv),PE(t)]}function dWe(t,e,n){for(var r=Vr.getValue(t,"i32"),i=t+Iv,o=[],a=e?uWe:tae,s=0;s<r*2;s+=2)o.push(a(i+Iv*s));return n&&o.push(o[0]),o}function fWe(t,e,n){var r=Vr._malloc(GF);Vr.HEAPF64.set([t,e].map(iae),r/Iv);var i=Vr._malloc(RE);try{return qx(il.latLngToCell(r,n,i)),tWe(eae(i))}finally{Vr._free(i),Vr._free(r)}}function nae(t){var e=Vr._malloc(GF),n=Zoe(t),r=n[0],i=n[1];try{return qx(il.cellToLatLng(r,i,e)),tae(e)}finally{Vr._free(e)}}function rae(t,e){var n=Vr._malloc(Zqe),r=Zoe(t),i=r[0],o=r[1];try{return qx(il.cellToBoundary(i,o,n)),dWe(n,e,e)}finally{Vr._free(n)}}function Aq(t,e,n){if(eWe(e),n=!!n,t.length===0||t[0].length===0)return[];var r=typeof t[0][0]=="number"?[t]:t,i=aWe(r,n),o=Vr._malloc(Qqe);try{qx(il.maxPolygonToCellsSize(i,e,0,o));var a=rWe(lWe(o)),s=Vr._calloc(a,RE);try{return qx(il.polygonToCells(i,e,0,s)),cWe(s,a)}finally{Vr._free(s)}}finally{Vr._free(o),sWe(i)}}function iae(t){return t*Math.PI/180}function hWe(t){return t*180/Math.PI}function pWe(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const mWe=["alphaMap","alphaTest","anisotropy","anisotropyMap","anisotropyRotation","aoMap","aoMapIntensity","attenuationColor","attenuationDistance","bumpMap","clearcoat","clearcoatMap","clearcoatNormalMap","clearcoatNormalScale","clearcoatRoughness","color","dispersion","displacementMap","emissive","emissiveIntensity","emissiveMap","envMap","envMapIntensity","gradientMap","ior","iridescence","iridescenceIOR","iridescenceMap","iridescenceThicknessMap","lightMap","lightMapIntensity","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","sheen","sheenColor","sheenColorMap","sheenRoughnessMap","shininess","specular","specularColor","specularColorMap","specularIntensity","specularIntensityMap","specularMap","thickness","transmission","transmissionMap"],UN=new WeakMap;class gWe{constructor(e){this.renderObjects=new WeakMap,this.hasNode=this.containsNode(e),this.hasAnimation=e.object.isSkinnedMesh===!0,this.refreshUniforms=mWe,this.renderId=0}firstInitialization(e){return this.renderObjects.has(e)===!1?(this.getRenderObjectData(e),!0):!1}needsVelocity(e){const n=e.getMRT();return n!==null&&n.has("velocity")}getRenderObjectData(e){let n=this.renderObjects.get(e);if(n===void 0){const{geometry:r,material:i,object:o}=e;if(n={material:this.getMaterialData(i),geometry:{id:r.id,attributes:this.getAttributesData(r.attributes),indexVersion:r.index?r.index.version:null,drawRange:{start:r.drawRange.start,count:r.drawRange.count}},worldMatrix:o.matrixWorld.clone()},o.center&&(n.center=o.center.clone()),o.morphTargetInfluences&&(n.morphTargetInfluences=o.morphTargetInfluences.slice()),e.bundle!==null&&(n.version=e.bundle.version),n.material.transmission>0){const{width:a,height:s}=e.context;n.bufferWidth=a,n.bufferHeight=s}n.lights=this.getLightsData(e.lightsNode.getLights()),this.renderObjects.set(e,n)}return n}getAttributesData(e){const n={};for(const r in e){const i=e[r];n[r]={version:i.version}}return n}containsNode(e){const n=e.material;for(const r in n)if(n[r]&&n[r].isNode)return!0;return!!(e.context.modelViewMatrix||e.context.modelNormalViewMatrix||e.context.getAO||e.context.getShadow)}getMaterialData(e){const n={};for(const r of this.refreshUniforms){const i=e[r];i!=null&&(typeof i=="object"&&i.clone!==void 0?i.isTexture===!0?n[r]={id:i.id,version:i.version}:n[r]=i.clone():n[r]=i)}return n}equals(e,n){const{object:r,material:i,geometry:o}=e,a=this.getRenderObjectData(e);if(a.worldMatrix.equals(r.matrixWorld)!==!0)return a.worldMatrix.copy(r.matrixWorld),!1;const s=a.material;for(const b in s){const y=s[b],_=i[b];if(y.equals!==void 0){if(y.equals(_)===!1)return y.copy(_),!1}else if(_.isTexture===!0){if(y.id!==_.id||y.version!==_.version)return y.id=_.id,y.version=_.version,!1}else if(y!==_)return s[b]=_,!1}if(s.transmission>0){const{width:b,height:y}=e.context;if(a.bufferWidth!==b||a.bufferHeight!==y)return a.bufferWidth=b,a.bufferHeight=y,!1}const l=a.geometry,c=o.attributes,u=l.attributes,d=Object.keys(u),f=Object.keys(c);if(l.id!==o.id)return l.id=o.id,!1;if(d.length!==f.length)return a.geometry.attributes=this.getAttributesData(c),!1;for(const b of d){const y=u[b],_=c[b];if(_===void 0)return delete u[b],!1;if(y.version!==_.version)return y.version=_.version,!1}const h=o.index,p=l.indexVersion,x=h?h.version:null;if(p!==x)return l.indexVersion=x,!1;if(l.drawRange.start!==o.drawRange.start||l.drawRange.count!==o.drawRange.count)return l.drawRange.start=o.drawRange.start,l.drawRange.count=o.drawRange.count,!1;if(a.morphTargetInfluences){let b=!1;for(let y=0;y<a.morphTargetInfluences.length;y++)a.morphTargetInfluences[y]!==r.morphTargetInfluences[y]&&(a.morphTargetInfluences[y]=r.morphTargetInfluences[y],b=!0);if(b)return!1}if(a.lights){for(let b=0;b<n.length;b++)if(a.lights[b].map!==n[b].map)return!1}return a.center&&a.center.equals(r.center)===!1?(a.center.copy(r.center),!0):(e.bundle!==null&&(a.version=e.bundle.version),!0)}getLightsData(e){const n=[];for(const r of e)r.isSpotLight===!0&&r.map!==null&&n.push({map:r.map.version});return n}getLights(e,n){if(UN.has(e)){const i=UN.get(e);if(i.renderId===n)return i.lightsData}const r=this.getLightsData(e.getLights());return UN.set(e,{renderId:n,lightsData:r}),r}needsRefresh(e,n){if(this.hasNode||this.hasAnimation||this.firstInitialization(e)||this.needsVelocity(n.renderer))return!0;const{renderId:r}=n;if(this.renderId!==r)return this.renderId=r,!0;const i=e.object.static===!0,o=e.bundle!==null&&e.bundle.static===!0&&this.getRenderObjectData(e).version===e.bundle.version;if(i||o)return!1;const a=this.getLights(e.lightsNode,r);return this.equals(e,a)!==!0}}function HF(t,e=0){let n=3735928559^e,r=1103547991^e;if(t instanceof Array)for(let i=0,o;i<t.length;i++)o=t[i],n=Math.imul(n^o,2654435761),r=Math.imul(r^o,1597334677);else for(let i=0,o;i<t.length;i++)o=t.charCodeAt(i),n=Math.imul(n^o,2654435761),r=Math.imul(r^o,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)}const K2=t=>HF(t),my=t=>HF(t),Eb=(...t)=>HF(t),AWe=new Map([[1,"float"],[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),vq=new WeakMap;function oae(t){return AWe.get(t)}function NE(t){if(/[iu]?vec\d/.test(t))return t.startsWith("ivec")?Int32Array:t.startsWith("uvec")?Uint32Array:Float32Array;if(/mat\d/.test(t)||/float/.test(t))return Float32Array;if(/uint/.test(t))return Uint32Array;if(/int/.test(t))return Int32Array;throw new Error(`THREE.NodeUtils: Unsupported type: ${t}`)}function aae(t){if(/float|int|uint/.test(t))return 1;if(/vec2/.test(t))return 2;if(/vec3/.test(t))return 3;if(/vec4/.test(t)||/mat2/.test(t))return 4;if(/mat3/.test(t))return 9;if(/mat4/.test(t))return 16;$t("TSL: Unsupported type:",t)}function vWe(t){if(/float|int|uint/.test(t))return 1;if(/vec2/.test(t))return 2;if(/vec3/.test(t))return 3;if(/vec4/.test(t)||/mat2/.test(t))return 4;if(/mat3/.test(t))return 12;if(/mat4/.test(t))return 16;$t("TSL: Unsupported type:",t)}function yWe(t){if(/float|int|uint/.test(t))return 4;if(/vec2/.test(t))return 8;if(/vec3/.test(t)||/vec4/.test(t))return 16;if(/mat2/.test(t))return 8;if(/mat3/.test(t)||/mat4/.test(t))return 16;$t("TSL: Unsupported type:",t)}function Sh(t){if(t==null)return null;const e=typeof t;return t.isNode===!0?"node":e==="number"?"float":e==="boolean"?"bool":e==="string"?"string":e==="function"?"shader":t.isVector2===!0?"vec2":t.isVector3===!0?"vec3":t.isVector4===!0?"vec4":t.isMatrix2===!0?"mat2":t.isMatrix3===!0?"mat3":t.isMatrix4===!0?"mat4":t.isColor===!0?"color":t instanceof ArrayBuffer?"ArrayBuffer":null}function jF(t,...e){const n=t?t.slice(-4):void 0;return e.length===1&&(n==="vec2"?e=[e[0],e[0]]:n==="vec3"?e=[e[0],e[0],e[0]]:n==="vec4"&&(e=[e[0],e[0],e[0],e[0]])),t==="color"?new En(...e):n==="vec2"?new Ft(...e):n==="vec3"?new ve(...e):n==="vec4"?new nr(...e):n==="mat2"?new $M(...e):n==="mat3"?new Ar(...e):n==="mat4"?new ar(...e):t==="bool"?e[0]||!1:t==="float"||t==="int"||t==="uint"?e[0]||0:t==="string"?e[0]||"":t==="ArrayBuffer"?cae(e[0]):null}function sae(t){let e=vq.get(t);return e===void 0&&(e={},vq.set(t,e)),e}function lae(t){let e="";const n=new Uint8Array(t);for(let r=0;r<n.length;r++)e+=String.fromCharCode(n[r]);return btoa(e)}function cae(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0)).buffer}const J1={VERTEX:"vertex",FRAGMENT:"fragment"},ur={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},bWe={BOOLEAN:"bool",INTEGER:"int",FLOAT:"float",VECTOR2:"vec2",VECTOR3:"vec3",VECTOR4:"vec4",MATRIX2:"mat2",MATRIX3:"mat3",MATRIX4:"mat4"},Ta={READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"},uae=["fragment","vertex"],s6=["setup","analyze","generate"],l6=[...uae,"compute"],b0=["x","y","z","w"],xWe={analyze:"setup",generate:"analyze"};let SWe=0;class An extends _u{static get type(){return"Node"}constructor(e=null){super(),this.nodeType=e,this.updateType=ur.NONE,this.updateBeforeType=ur.NONE,this.updateAfterType=ur.NONE,this.uuid=_v.generateUUID(),this.version=0,this.name="",this.global=!1,this.parents=!1,this.isNode=!0,this._beforeNodes=null,this._cacheKey=null,this._cacheKeyVersion=0,Object.defineProperty(this,"id",{value:SWe++})}set needsUpdate(e){e===!0&&this.version++}get type(){return this.constructor.type}onUpdate(e,n){return this.updateType=n,this.update=e.bind(this),this}onFrameUpdate(e){return this.onUpdate(e,ur.FRAME)}onRenderUpdate(e){return this.onUpdate(e,ur.RENDER)}onObjectUpdate(e){return this.onUpdate(e,ur.OBJECT)}onReference(e){return this.updateReference=e.bind(this),this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:e}of this._getChildren())yield e}dispose(){this.dispatchEvent({type:"dispose"})}traverse(e){e(this);for(const n of this.getChildren())n.traverse(e)}_getChildren(e=new Set){const n=[];e.add(this);for(const r of Object.getOwnPropertyNames(this)){const i=this[r];if(!(r.startsWith("_")===!0||e.has(i))){if(Array.isArray(i)===!0)for(let o=0;o<i.length;o++){const a=i[o];a&&a.isNode===!0&&n.push({property:r,index:o,childNode:a})}else if(i&&i.isNode===!0)n.push({property:r,childNode:i});else if(i&&Object.getPrototypeOf(i)===Object.prototype)for(const o in i){if(o.startsWith("_")===!0)continue;const a=i[o];a&&a.isNode===!0&&n.push({property:r,index:o,childNode:a})}}}return n}getCacheKey(e=!1,n=null){if(e=e||this.version!==this._cacheKeyVersion,e===!0||this._cacheKey===null){n===null&&(n=new Set);const r=[];for(const{property:i,childNode:o}of this._getChildren(n))r.push(K2(i.slice(0,-4)),o.getCacheKey(e,n));this._cacheKey=Eb(my(r),this.customCacheKey()),this._cacheKeyVersion=this.version}return this._cacheKey}customCacheKey(){return this.id}getScope(){return this}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(e){const n=this.getNodeType(e);return e.getElementType(n)}getMemberType(){return"void"}getNodeType(e){const n=e.getNodeProperties(this);return n.outputNode?n.outputNode.getNodeType(e):this.nodeType}getShared(e){const n=this.getHash(e);return e.getNodeFromHash(n)||this}getArrayCount(){return null}setup(e){const n=e.getNodeProperties(this);let r=0;for(const i of this.getChildren())n["node"+r++]=i;return n.outputNode||null}analyze(e,n=null){const r=e.increaseUsage(this);if(this.parents===!0){const i=e.getDataFromNode(this,"any");i.stages=i.stages||{},i.stages[e.shaderStage]=i.stages[e.shaderStage]||[],i.stages[e.shaderStage].push(n)}if(r===1){const i=e.getNodeProperties(this);for(const o of Object.values(i))o&&o.isNode===!0&&o.build(e,this)}}generate(e,n){const{outputNode:r}=e.getNodeProperties(this);if(r&&r.isNode===!0)return r.build(e,n)}updateBefore(){Pt("Abstract function.")}updateAfter(){Pt("Abstract function.")}update(){Pt("Abstract function.")}before(e){return this._beforeNodes===null&&(this._beforeNodes=[]),this._beforeNodes.push(e),this}build(e,n=null){const r=this.getShared(e);if(this!==r)return r.build(e,n);if(this._beforeNodes!==null){const l=this._beforeNodes;this._beforeNodes=null;for(const c of l)c.build(e,n);this._beforeNodes=l}const i=e.getDataFromNode(this);i.buildStages=i.buildStages||{},i.buildStages[e.buildStage]=!0;const o=xWe[e.buildStage];if(o&&i.buildStages[o]!==!0){const l=e.getBuildStage();e.setBuildStage(o),this.build(e),e.setBuildStage(l)}e.addNode(this),e.addChain(this);let a=null;const s=e.getBuildStage();if(s==="setup"){this.updateReference(e);const l=e.getNodeProperties(this);if(l.initialized!==!0){l.initialized=!0,l.outputNode=this.setup(e)||l.outputNode||null;for(const c of Object.values(l))if(c&&c.isNode===!0){if(c.parents===!0){const u=e.getNodeProperties(c);u.parents=u.parents||[],u.parents.push(this)}c.build(e)}}a=l.outputNode}else if(s==="analyze")this.analyze(e,n);else if(s==="generate"){if(this.generate.length<2){const c=this.getNodeType(e),u=e.getDataFromNode(this);a=u.snippet,a===void 0?u.generated===void 0?(u.generated=!0,a=this.generate(e)||"",u.snippet=a):(Pt("Node: Recursion detected.",this),a="/* Recursion detected. */"):u.flowCodes!==void 0&&e.context.nodeBlock!==void 0&&e.addFlowCodeHierarchy(this,e.context.nodeBlock),a=e.format(a,c,n)}else a=this.generate(e,n)||"";a===""&&n!==null&&n!=="void"&&n!=="OutputType"&&($t(`TSL: Invalid generated code, expected a "${n}".`),a=e.generateConst(n))}return e.removeChain(this),e.addSequentialNode(this),a}getSerializeChildren(){return this._getChildren()}serialize(e){const n=this.getSerializeChildren(),r={};for(const{property:i,index:o,childNode:a}of n)o!==void 0?(r[i]===void 0&&(r[i]=Number.isInteger(o)?[]:{}),r[i][o]=a.toJSON(e.meta).uuid):r[i]=a.toJSON(e.meta).uuid;Object.keys(r).length>0&&(e.inputNodes=r)}deserialize(e){if(e.inputNodes!==void 0){const n=e.meta.nodes;for(const r in e.inputNodes)if(Array.isArray(e.inputNodes[r])){const i=[];for(const o of e.inputNodes[r])i.push(n[o]);this[r]=i}else if(typeof e.inputNodes[r]=="object"){const i={};for(const o in e.inputNodes[r]){const a=e.inputNodes[r][o];i[o]=n[a]}this[r]=i}else{const i=e.inputNodes[r];this[r]=n[i]}}}toJSON(e){const{uuid:n,type:r}=this,i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{},nodes:{}});let o=e.nodes[n];o===void 0&&(o={uuid:n,type:r,meta:e,metadata:{version:4.7,type:"Node",generator:"Node.toJSON"}},i!==!0&&(e.nodes[o.uuid]=o),this.serialize(o),delete o.meta);function a(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}if(i){const s=a(e.textures),l=a(e.images),c=a(e.nodes);s.length>0&&(o.textures=s),l.length>0&&(o.images=l),c.length>0&&(o.nodes=c)}return o}}class x0 extends An{static get type(){return"ArrayElementNode"}constructor(e,n){super(),this.node=e,this.indexNode=n,this.isArrayElementNode=!0}getNodeType(e){return this.node.getElementType(e)}getMemberType(e,n){return this.node.getMemberType(e,n)}generate(e){const n=this.indexNode.getNodeType(e),r=this.node.build(e),i=this.indexNode.build(e,!e.isVector(n)&&e.isInteger(n)?n:"uint");return`${r}[ ${i} ]`}}class dae extends An{static get type(){return"ConvertNode"}constructor(e,n){super(),this.node=e,this.convertTo=n}getNodeType(e){const n=this.node.getNodeType(e);let r=null;for(const i of this.convertTo.split("|"))(r===null||e.getTypeLength(n)===e.getTypeLength(i))&&(r=i);return r}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,n){const r=this.node,i=this.getNodeType(e),o=r.build(e,i);return e.format(o,i,n)}}class no extends An{static get type(){return"TempNode"}constructor(e=null){super(e),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).usageCount>1}build(e,n){if(e.getBuildStage()==="generate"){const i=e.getVectorType(this.getNodeType(e,n)),o=e.getDataFromNode(this);if(o.propertyName!==void 0)return e.format(o.propertyName,i,n);if(i!=="void"&&n!=="void"&&this.hasDependencies(e)){const a=super.build(e,i),s=e.getVarFromNode(this,null,i),l=e.getPropertyName(s);return e.addLineFlowCode(`${l} = ${a}`,this),o.snippet=a,o.propertyName=l,e.format(o.propertyName,i,n)}}return super.build(e,n)}}class _We extends no{static get type(){return"JoinNode"}constructor(e=[],n=null){super(n),this.nodes=e}getNodeType(e){return this.nodeType!==null?e.getVectorType(this.nodeType):e.getTypeFromLength(this.nodes.reduce((n,r)=>n+e.getTypeLength(r.getNodeType(e)),0))}generate(e,n){const r=this.getNodeType(e),i=e.getTypeLength(r),o=this.nodes,a=e.getComponentType(r),s=[];let l=0;for(const u of o){if(l>=i){$t(`TSL: Length of parameters exceeds maximum length of function '${r}()' type.`);break}let d=u.getNodeType(e),f=e.getTypeLength(d),h;if(l+f>i&&($t(`TSL: Length of '${r}()' data exceeds maximum length of output type.`),f=i-l,d=e.getTypeFromLength(f)),l+=f,h=u.build(e,d),e.getComponentType(d)!==a){const x=e.getTypeFromLength(f,a);h=e.format(h,d,x)}s.push(h)}const c=`${e.getType(r)}( ${s.join(", ")} )`;return e.format(c,r,n)}}const wWe=b0.join("");class fae extends An{static get type(){return"SplitNode"}constructor(e,n="x"){super(),this.node=e,this.components=n,this.isSplitNode=!0}getVectorLength(){let e=this.components.length;for(const n of this.components)e=Math.max(b0.indexOf(n)+1,e);return e}getComponentType(e){return e.getComponentType(this.node.getNodeType(e))}getNodeType(e){return e.getTypeFromLength(this.components.length,this.getComponentType(e))}getScope(){return this.node.getScope()}generate(e,n){const r=this.node,i=e.getTypeLength(r.getNodeType(e));let o=null;if(i>1){let a=null;this.getVectorLength()>=i&&(a=e.getTypeFromLength(this.getVectorLength(),this.getComponentType(e)));const l=r.build(e,a);this.components.length===i&&this.components===wWe.slice(0,this.components.length)?o=e.format(l,a,n):o=e.format(`${l}.${this.components}`,this.getNodeType(e),n)}else o=r.build(e,n);return o}serialize(e){super.serialize(e),e.components=this.components}deserialize(e){super.deserialize(e),this.components=e.components}}class CWe extends no{static get type(){return"SetNode"}constructor(e,n,r){super(),this.sourceNode=e,this.components=n,this.targetNode=r}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{sourceNode:n,components:r,targetNode:i}=this,o=this.getNodeType(e),a=e.getComponentType(i.getNodeType(e)),s=e.getTypeFromLength(r.length,a),l=i.build(e,s),c=n.build(e,o),u=e.getTypeLength(o),d=[];for(let f=0;f<u;f++){const h=b0[f];h===r[0]?(d.push(l),f+=r.length-1):d.push(c+"."+h)}return`${e.getType(o)}( ${d.join(", ")} )`}}class TWe extends no{static get type(){return"FlipNode"}constructor(e,n){super(),this.sourceNode=e,this.components=n}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{components:n,sourceNode:r}=this,i=this.getNodeType(e),o=r.build(e),a=e.getVarFromNode(this),s=e.getPropertyName(a);e.addLineFlowCode(s+" = "+o,this);const l=e.getTypeLength(i),c=[];let u=0;for(let d=0;d<l;d++){const f=b0[d];f===n[u]?(c.push("1.0 - "+(s+"."+f)),u++):c.push(s+"."+f)}return`${e.getType(i)}( ${c.join(", ")} )`}}class qF extends An{static get type(){return"InputNode"}constructor(e,n=null){super(n),this.isInputNode=!0,this.value=e,this.precision=null}getNodeType(){return this.nodeType===null?Sh(this.value):this.nodeType}getInputType(e){return this.getNodeType(e)}setPrecision(e){return this.precision=e,this}serialize(e){super.serialize(e),e.value=this.value,this.value&&this.value.toArray&&(e.value=this.value.toArray()),e.valueType=Sh(this.value),e.nodeType=this.nodeType,e.valueType==="ArrayBuffer"&&(e.value=lae(e.value)),e.precision=this.precision}deserialize(e){super.deserialize(e),this.nodeType=e.nodeType,this.value=Array.isArray(e.value)?jF(e.valueType,...e.value):e.value,this.precision=e.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(e.value))}generate(){Pt("Abstract function.")}}const yq=/float|u?int/;class Ic extends qF{static get type(){return"ConstNode"}constructor(e,n=null){super(e,n),this.isConstNode=!0}generateConst(e){return e.generateConst(this.getNodeType(e),this.value)}generate(e,n){const r=this.getNodeType(e);return yq.test(r)&&yq.test(n)?e.generateConst(n,this.value):e.format(this.generateConst(e),r,n)}}class EWe extends An{static get type(){return"MemberNode"}constructor(e,n){super(),this.structNode=e,this.property=n,this.isMemberNode=!0}hasMember(e){return this.structNode.isMemberNode&&this.structNode.hasMember(e)===!1?!1:this.structNode.getMemberType(e,this.property)!=="void"}getNodeType(e){return this.hasMember(e)===!1?"float":this.structNode.getMemberType(e,this.property)}getMemberType(e,n){if(this.hasMember(e)===!1)return"float";const r=this.getNodeType(e);return e.getStructTypeNode(r).getMemberType(e,n)}generate(e){if(this.hasMember(e)===!1){Pt(`TSL: Member "${this.property}" does not exist in struct.`);const r=this.getNodeType(e);return e.generateConst(r)}return this.structNode.build(e)+"."+this.property}}let Zh=null;const c6=new Map;function Et(t,e){if(c6.has(t)){Pt(`TSL: Redefinition of method chaining '${t}'.`);return}if(typeof e!="function")throw new Error(`THREE.TSL: Node element ${t} is not a function`);c6.set(t,e),t!=="assign"&&(An.prototype[t]=function(...n){return this.isStackNode?this.addToStack(e(...n)):e(this,...n)},An.prototype[t+"Assign"]=function(...n){return this.isStackNode?this.assign(n[0],e(...n)):this.assign(e(this,...n))})}const MWe=t=>t.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),bq=t=>MWe(t).split("").sort().join("");An.prototype.assign=function(...t){if(this.isStackNode!==!0)return Zh!==null?Zh.assign(this,...t):$t("TSL: No stack defined for assign operation. Make sure the assign is inside a Fn()."),this;{const e=c6.get("assign");return this.addToStack(e(...t))}};An.prototype.toVarIntent=function(){return this};An.prototype.get=function(t){return new EWe(this,t)};const Mb={};function cw(t,e,n){Mb[t]=Mb[e]=Mb[n]={get(){this._cache=this._cache||{};let a=this._cache[t];return a===void 0&&(a=new fae(this,t),this._cache[t]=a),a},set(a){this[t].assign(rn(a))}};const r=t.toUpperCase(),i=e.toUpperCase(),o=n.toUpperCase();An.prototype["set"+r]=An.prototype["set"+i]=An.prototype["set"+o]=function(a){const s=bq(t);return new CWe(this,s,rn(a))},An.prototype["flip"+r]=An.prototype["flip"+i]=An.prototype["flip"+o]=function(){const a=bq(t);return new TWe(this,a)}}const Iu=["x","y","z","w"],Du=["r","g","b","a"],Ou=["s","t","p","q"];for(let t=0;t<4;t++){let e=Iu[t],n=Du[t],r=Ou[t];cw(e,n,r);for(let i=0;i<4;i++){e=Iu[t]+Iu[i],n=Du[t]+Du[i],r=Ou[t]+Ou[i],cw(e,n,r);for(let o=0;o<4;o++){e=Iu[t]+Iu[i]+Iu[o],n=Du[t]+Du[i]+Du[o],r=Ou[t]+Ou[i]+Ou[o],cw(e,n,r);for(let a=0;a<4;a++)e=Iu[t]+Iu[i]+Iu[o]+Iu[a],n=Du[t]+Du[i]+Du[o]+Du[a],r=Ou[t]+Ou[i]+Ou[o]+Ou[a],cw(e,n,r)}}}for(let t=0;t<32;t++)Mb[t]={get(){this._cache=this._cache||{};let e=this._cache[t];return e===void 0&&(e=new x0(this,new Ic(t,"uint")),this._cache[t]=e),e},set(e){this[t].assign(rn(e))}};Object.defineProperties(An.prototype,Mb);const xq=new WeakMap,RWe=function(t,e=null){const n=Sh(t);return n==="node"?t:e===null&&(n==="float"||n==="boolean")||n&&n!=="shader"&&n!=="string"?rn(u6(t,e)):n==="shader"?t.isFn?t:Qe(t):t},PWe=function(t,e=null){for(const n in t)t[n]=rn(t[n],e);return t},NWe=function(t,e=null){const n=t.length;for(let r=0;r<n;r++)t[r]=rn(t[r],e);return t},hae=function(t,e=null,n=null,r=null){function i(u){return r!==null?(u=rn(Object.assign(u,r)),r.intent===!0&&(u=u.toVarIntent())):u=rn(u),u}let o,a=e,s,l;function c(u){let d;return a?d=/[a-z]/i.test(a)?a+"()":a:d=t.type,s!==void 0&&u.length<s?($t(`TSL: "${d}" parameter length is less than minimum required.`),u.concat(new Array(s-u.length).fill(0))):l!==void 0&&u.length>l?($t(`TSL: "${d}" parameter length exceeds limit.`),u.slice(0,l)):u}return e===null?o=(...u)=>i(new t(...Im(c(u)))):n!==null?(n=rn(n),o=(...u)=>i(new t(e,...Im(c(u)),n))):o=(...u)=>i(new t(e,...Im(c(u)))),o.setParameterLength=(...u)=>(u.length===1?s=l=u[0]:u.length===2&&([s,l]=u),o),o.setName=u=>(a=u,o),o},IWe=function(t,...e){return new t(...Im(e))};class DWe extends An{constructor(e,n){super(),this.shaderNode=e,this.rawInputs=n,this.isShaderCallNodeInternal=!0}getNodeType(e){return this.shaderNode.nodeType||this.getOutputNode(e).getNodeType(e)}getElementType(e){return this.getOutputNode(e).getElementType(e)}getMemberType(e,n){return this.getOutputNode(e).getMemberType(e,n)}call(e){const{shaderNode:n,rawInputs:r}=this,i=e.getNodeProperties(n),o=e.getClosestSubBuild(n.subBuilds)||"",a=o||"default";if(i[a])return i[a];const s=e.subBuildFn,l=e.fnCall;e.subBuildFn=o,e.fnCall=this;let c=null;if(n.layout){let u=xq.get(e.constructor);u===void 0&&(u=new WeakMap,xq.set(e.constructor,u));let d=u.get(n);d===void 0&&(d=rn(e.buildFunctionNode(n)),u.set(n,d)),e.addInclude(d);const f=r?OWe(r):null;c=rn(d.call(f))}else{const u=new Proxy(e,{get:(x,b,y)=>{let _;return Symbol.iterator===b?_=function*(){yield void 0}:_=Reflect.get(x,b,y),_}}),d=r?LWe(r):null,f=Array.isArray(r)?r.length>0:r!==null,h=n.jsFunc,p=f||h.length>1?h(d,u):h(u);c=rn(p)}return e.subBuildFn=s,e.fnCall=l,n.once&&(i[a]=c),c}setupOutput(e){return e.addStack(),e.stack.outputNode=this.call(e),e.removeStack()}getOutputNode(e){const n=e.getNodeProperties(this),r=e.getSubBuildOutput(this);return n[r]=n[r]||this.setupOutput(e),n[r].subBuild=e.getClosestSubBuild(this),n[r]}build(e,n=null){let r=null;const i=e.getBuildStage(),o=e.getNodeProperties(this),a=e.getSubBuildOutput(this),s=this.getOutputNode(e),l=e.fnCall;if(e.fnCall=this,i==="setup"){const c=e.getSubBuildProperty("initialized",this);if(o[c]!==!0&&(o[c]=!0,o[a]=this.getOutputNode(e),o[a].build(e),this.shaderNode.subBuilds))for(const u of e.chaining){const d=e.getDataFromNode(u,"any");d.subBuilds=d.subBuilds||new Set;for(const f of this.shaderNode.subBuilds)d.subBuilds.add(f)}r=o[a]}else i==="analyze"?s.build(e,n):i==="generate"&&(r=s.build(e,n)||"");return e.fnCall=l,r}}function OWe(t){let e;return WM(t),t[0]&&(t[0].isNode||Object.getPrototypeOf(t[0])!==Object.prototype)?e=[...t]:e=t[0],e}function LWe(t){let e=0;return WM(t),new Proxy(t,{get:(n,r,i)=>{let o;if(r==="length")return o=t.length,o;if(Symbol.iterator===r)o=function*(){for(const a of t)yield rn(a)};else{if(t.length>0)if(Object.getPrototypeOf(t[0])===Object.prototype){const a=t[0];a[r]===void 0?o=a[e++]:o=Reflect.get(a,r,i)}else t[0]instanceof An&&(t[r]===void 0?o=t[e++]:o=Reflect.get(t,r,i));else o=Reflect.get(n,r,i);o=rn(o)}return o}})}class BWe extends An{constructor(e,n){super(n),this.jsFunc=e,this.layout=null,this.global=!0,this.once=!1}setLayout(e){return this.layout=e,this}getLayout(){return this.layout}call(e=null){return new DWe(this,e)}setup(){return this.call()}}const FWe=[!1,!0],$We=[0,1,2,3],UWe=[-1,-2],pae=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],WF=new Map;for(const t of FWe)WF.set(t,new Ic(t));const XF=new Map;for(const t of $We)XF.set(t,new Ic(t,"uint"));const YF=new Map([...XF].map(t=>new Ic(t.value,"int")));for(const t of UWe)YF.set(t,new Ic(t,"int"));const jM=new Map([...YF].map(t=>new Ic(t.value)));for(const t of pae)jM.set(t,new Ic(t));for(const t of pae)jM.set(-t,new Ic(-t));const qM={bool:WF,uint:XF,ints:YF,float:jM},Sq=new Map([...WF,...jM]),u6=(t,e)=>Sq.has(t)?Sq.get(t):t.isNode===!0?t:new Ic(t,e),Vo=function(t,e=null){return(...n)=>{for(const i of n)if(i===void 0)return $t(`TSL: Invalid parameter for the type "${t}".`),new Ic(0,t);if((n.length===0||!["bool","float","int","uint"].includes(t)&&n.every(i=>{const o=typeof i;return o!=="object"&&o!=="function"}))&&(n=[jF(t,...n)]),n.length===1&&e!==null&&e.has(n[0]))return eb(e.get(n[0]));if(n.length===1){const i=u6(n[0],t);return i.nodeType===t?eb(i):eb(new dae(i,t))}const r=n.map(i=>u6(i));return eb(new _We(r,t))}},Xx=t=>typeof t=="object"&&t!==null?t.value:t,mae=t=>t!=null?t.nodeType||t.convertTo||(typeof t=="string"?t:null):null;function nA(t,e){return new BWe(t,e)}const rn=(t,e=null)=>RWe(t,e),eb=(t,e=null)=>rn(t,e).toVarIntent(),WM=(t,e=null)=>new PWe(t,e),Im=(t,e=null)=>new NWe(t,e),ir=(t,e=null,n=null,r=null)=>new hae(t,e,n,r),en=(t,...e)=>new IWe(t,...e),Xt=(t,e=null,n=null,r={})=>new hae(t,e,n,{...r,intent:!0});let kWe=0;class VWe extends An{constructor(e,n=null){super();let r=null;n!==null&&(typeof n=="object"?r=n.return:(typeof n=="string"?r=n:$t("TSL: Invalid layout type."),n=null)),this.shaderNode=new nA(e,r),n!==null&&this.setLayout(n),this.isFn=!0}setLayout(e){const n=this.shaderNode.nodeType;if(typeof e.inputs!="object"){const r={name:"fn"+kWe++,type:n,inputs:[]};for(const i in e)i!=="return"&&r.inputs.push({name:i,type:e[i]});e=r}return this.shaderNode.setLayout(e),this}getNodeType(e){return this.shaderNode.getNodeType(e)||"float"}call(...e){const n=this.shaderNode.call(e);return this.shaderNode.nodeType==="void"&&n.toStack(),n.toVarIntent()}once(e=null){return this.shaderNode.once=!0,this.shaderNode.subBuilds=e,this}generate(e){const n=this.getNodeType(e);return $t('TSL: "Fn()" was declared but not invoked. Try calling it like "Fn()( ...params )".'),e.generateConst(n)}}function Qe(t,e=null){const n=new VWe(t,e);return new Proxy(()=>{},{apply(r,i,o){return n.call(...o)},get(r,i,o){return Reflect.get(n,i,o)},set(r,i,o,a){return Reflect.set(n,i,o,a)}})}const Yx=t=>{Zh=t},KF=()=>Zh,Ln=(...t)=>Zh.If(...t),zWe=(...t)=>Zh.Switch(...t);function XM(t){return Zh&&Zh.addToStack(t),t}Et("toStack",XM);const gae=new Vo("color"),ge=new Vo("float",qM.float),$e=new Vo("int",qM.ints),Vt=new Vo("uint",qM.uint),Tc=new Vo("bool",qM.bool),jt=new Vo("vec2"),Lo=new Vo("ivec2"),QF=new Vo("uvec2"),Aae=new Vo("bvec2"),He=new Vo("vec3"),ZF=new Vo("ivec3"),S0=new Vo("uvec3"),JF=new Vo("bvec3"),Fn=new Vo("vec4"),e$=new Vo("ivec4"),t$=new Vo("uvec4"),vae=new Vo("bvec4"),YM=new Vo("mat2"),La=new Vo("mat3"),kh=new Vo("mat4"),GWe=(t="")=>new Ic(t,"string"),HWe=t=>new Ic(t,"ArrayBuffer");Et("toColor",gae);Et("toFloat",ge);Et("toInt",$e);Et("toUint",Vt);Et("toBool",Tc);Et("toVec2",jt);Et("toIVec2",Lo);Et("toUVec2",QF);Et("toBVec2",Aae);Et("toVec3",He);Et("toIVec3",ZF);Et("toUVec3",S0);Et("toBVec3",JF);Et("toVec4",Fn);Et("toIVec4",e$);Et("toUVec4",t$);Et("toBVec4",vae);Et("toMat2",YM);Et("toMat3",La);Et("toMat4",kh);const yae=ir(x0).setParameterLength(2),bae=(t,e)=>rn(new dae(rn(t),e)),jWe=(t,e)=>rn(new fae(rn(t),e));Et("element",yae);Et("convert",bae);const qWe=t=>(Pt("TSL: append() has been renamed to Stack()."),XM(t));Et("append",t=>(Pt("TSL: .append() has been renamed to .toStack()."),XM(t)));class Zr extends An{static get type(){return"PropertyNode"}constructor(e,n=null,r=!1){super(e),this.name=n,this.varying=r,this.isPropertyNode=!0,this.global=!0}customCacheKey(){return K2(this.type+":"+(this.name||"")+":"+(this.varying?"1":"0"))}getHash(e){return this.name||super.getHash(e)}generate(e){let n;return this.varying===!0?(n=e.getVaryingFromNode(this,this.name),n.needsInterpolation=!0):n=e.getVarFromNode(this,this.name),e.getPropertyName(n)}}const ef=(t,e)=>new Zr(t,e),Kx=(t,e)=>new Zr(t,e,!0),ni=en(Zr,"vec4","DiffuseColor"),om=en(Zr,"vec3","DiffuseContribution"),d6=en(Zr,"vec3","EmissiveColor"),Wu=en(Zr,"float","Roughness"),Xd=en(Zr,"float","Metalness"),IE=en(Zr,"float","Clearcoat"),Qx=en(Zr,"float","ClearcoatRoughness"),bl=en(Zr,"vec3","Sheen"),fh=en(Zr,"float","SheenRoughness"),KM=en(Zr,"float","Iridescence"),DE=en(Zr,"float","IridescenceIOR"),OE=en(Zr,"float","IridescenceThickness"),LE=en(Zr,"float","AlphaT"),lh=en(Zr,"float","Anisotropy"),Rb=en(Zr,"vec3","AnisotropyT"),Dm=en(Zr,"vec3","AnisotropyB"),Jh=en(Zr,"color","SpecularColor"),bm=en(Zr,"color","SpecularColorBlended"),wA=en(Zr,"float","SpecularF90"),BE=en(Zr,"float","Shininess"),CA=en(Zr,"vec4","Output"),BC=en(Zr,"float","dashSize"),f6=en(Zr,"float","gapSize"),WWe=en(Zr,"float","pointWidth"),Pb=en(Zr,"float","IOR"),FE=en(Zr,"float","Transmission"),n$=en(Zr,"float","Thickness"),r$=en(Zr,"float","AttenuationDistance"),i$=en(Zr,"color","AttenuationColor"),o$=en(Zr,"float","Dispersion");class xae extends An{static get type(){return"UniformGroupNode"}constructor(e,n=!1,r=1){super("string"),this.name=e,this.shared=n,this.order=r,this.isUniformGroup=!0}serialize(e){super.serialize(e),e.name=this.name,e.version=this.version,e.shared=this.shared}deserialize(e){super.deserialize(e),this.name=e.name,this.version=e.version,this.shared=e.shared}}const Sae=t=>new xae(t),QM=(t,e=0)=>new xae(t,!0,e),_ae=QM("frame"),Pn=QM("render"),a$=Sae("object");class Q2 extends qF{static get type(){return"UniformNode"}constructor(e,n=null){super(e,n),this.isUniformNode=!0,this.name="",this.groupNode=a$}setName(e){return this.name=e,this}label(e){return Pt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(e)}setGroup(e){return this.groupNode=e,this}getGroup(){return this.groupNode}getUniformHash(e){return this.getHash(e)}onUpdate(e,n){return e=e.bind(this),super.onUpdate(r=>{const i=e(r,this);i!==void 0&&(this.value=i)},n)}getInputType(e){let n=super.getInputType(e);return n==="bool"&&(n="uint"),n}generate(e,n){const r=this.getNodeType(e),i=this.getUniformHash(e);let o=e.getNodeFromHash(i);o===void 0&&(e.setHashNode(this,i),o=this);const a=o.getInputType(e),s=e.getUniformFromNode(o,a,e.shaderStage,this.name||e.context.nodeName),l=e.getPropertyName(s);e.context.nodeName!==void 0&&delete e.context.nodeName;let c=l;if(r==="bool"){const u=e.getDataFromNode(this);let d=u.propertyName;if(d===void 0){const f=e.getVarFromNode(this,null,"bool");d=e.getPropertyName(f),u.propertyName=d,c=e.format(l,a,r),e.addLineFlowCode(`${d} = ${c}`,this)}c=d}return e.format(c,r,n)}}const Nn=(t,e)=>{const n=mae(e||t);if(n===t&&(t=jF(n)),t&&t.isNode===!0){let r=t.value;t.traverse(i=>{i.isConstNode===!0&&(r=i.value)}),t=r}return new Q2(t,n)};class _q extends no{static get type(){return"ArrayNode"}constructor(e,n,r=null){super(e),this.count=n,this.values=r,this.isArrayNode=!0}getArrayCount(){return this.count}getNodeType(e){return this.nodeType===null?this.values[0].getNodeType(e):this.nodeType}getElementType(e){return this.getNodeType(e)}getMemberType(e,n){return this.nodeType===null?this.values[0].getMemberType(e,n):super.getMemberType(e,n)}generate(e){const n=this.getNodeType(e);return e.generateArray(n,this.count,this.values)}}const wae=(...t)=>{let e;if(t.length===1){const n=t[0];e=new _q(null,n.length,n)}else{const n=t[0],r=t[1];e=new _q(n,r)}return rn(e)};Et("toArray",(t,e)=>wae(Array(e).fill(t)));class XWe extends no{static get type(){return"AssignNode"}constructor(e,n){super(),this.targetNode=e,this.sourceNode=n,this.isAssignNode=!0}hasDependencies(){return!1}getNodeType(e,n){return n!=="void"?this.targetNode.getNodeType(e):"void"}needsSplitAssign(e){const{targetNode:n}=this;if(e.isAvailable("swizzleAssign")===!1&&n.isSplitNode&&n.components.length>1){const r=e.getTypeLength(n.node.getNodeType(e));return b0.join("").slice(0,r)!==n.components}return!1}setup(e){const{targetNode:n,sourceNode:r}=this,i=n.getScope(),o=e.getDataFromNode(i);o.assign=!0;const a=e.getNodeProperties(this);a.sourceNode=r,a.targetNode=n.context({assign:!0})}generate(e,n){const{targetNode:r,sourceNode:i}=e.getNodeProperties(this),o=this.needsSplitAssign(e),a=r.build(e),s=r.getNodeType(e),l=i.build(e,s),c=i.getNodeType(e),u=e.getDataFromNode(this);let d;if(u.initialized===!0)n!=="void"&&(d=a);else if(o){const f=e.getVarFromNode(this,null,s),h=e.getPropertyName(f);e.addLineFlowCode(`${h} = ${l}`,this);const p=r.node,b=p.node.context({assign:!0}).build(e);for(let y=0;y<p.components.length;y++){const _=p.components[y];e.addLineFlowCode(`${b}.${_} = ${h}[ ${y} ]`,this)}n!=="void"&&(d=a)}else d=`${a} = ${l}`,(n==="void"||c==="void")&&(e.addLineFlowCode(d,this),n!=="void"&&(d=a));return u.initialized=!0,e.format(d,s,n)}}const Cae=ir(XWe).setParameterLength(2);Et("assign",Cae);class YWe extends no{static get type(){return"FunctionCallNode"}constructor(e=null,n={}){super(),this.functionNode=e,this.parameters=n}setParameters(e){return this.parameters=e,this}getParameters(){return this.parameters}getNodeType(e){return this.functionNode.getNodeType(e)}getMemberType(e,n){return this.functionNode.getMemberType(e,n)}generate(e){const n=[],r=this.functionNode,i=r.getInputs(e),o=this.parameters,a=(l,c)=>{const u=c.type,d=u==="pointer";let f;return d?f="&"+l.build(e):f=l.build(e,u),f};if(Array.isArray(o)){if(o.length>i.length)$t("TSL: The number of provided parameters exceeds the expected number of inputs in 'Fn()'."),o.length=i.length;else if(o.length<i.length)for($t("TSL: The number of provided parameters is less than the expected number of inputs in 'Fn()'.");o.length<i.length;)o.push(ge(0));for(let l=0;l<o.length;l++)n.push(a(o[l],i[l]))}else for(const l of i){const c=o[l.name];c!==void 0?n.push(a(c,l)):($t(`TSL: Input '${l.name}' not found in 'Fn()'.`),n.push(a(ge(0),l)))}return`${r.build(e,"property")}( ${n.join(", ")} )`}}const Tae=(t,...e)=>(e=e.length>1||e[0]&&e[0].isNode===!0?Im(e):WM(e[0]),new YWe(rn(t),e));Et("call",Tae);const KWe={"==":"equal","!=":"notEqual","<":"lessThan",">":"greaterThan","<=":"lessThanEqual",">=":"greaterThanEqual","%":"mod"};class eo extends no{static get type(){return"OperatorNode"}constructor(e,n,r,...i){if(super(),i.length>0){let o=new eo(e,n,r);for(let a=0;a<i.length-1;a++)o=new eo(e,o,i[a]);n=o,r=i[i.length-1]}this.op=e,this.aNode=n,this.bNode=r,this.isOperatorNode=!0}getOperatorMethod(e,n){return e.getMethod(KWe[this.op],n)}getNodeType(e,n=null){const r=this.op,i=this.aNode,o=this.bNode,a=i.getNodeType(e),s=o?o.getNodeType(e):null;if(a==="void"||s==="void")return n||"void";if(r==="%")return a;if(r==="~"||r==="&"||r==="|"||r==="^"||r===">>"||r==="<<")return e.getIntegerType(a);if(r==="!"||r==="&&"||r==="||"||r==="^^")return"bool";if(r==="=="||r==="!="||r==="<"||r===">"||r==="<="||r===">="){const l=Math.max(e.getTypeLength(a),e.getTypeLength(s));return l>1?`bvec${l}`:"bool"}else{if(e.isMatrix(a)){if(s==="float")return a;if(e.isVector(s))return e.getVectorFromMatrix(a);if(e.isMatrix(s))return a}else if(e.isMatrix(s)){if(a==="float")return s;if(e.isVector(a))return e.getVectorFromMatrix(s)}return e.getTypeLength(s)>e.getTypeLength(a)?s:a}}generate(e,n){const r=this.op,{aNode:i,bNode:o}=this,a=this.getNodeType(e,n);let s=null,l=null;a!=="void"?(s=i.getNodeType(e),l=o?o.getNodeType(e):null,r==="<"||r===">"||r==="<="||r===">="||r==="=="||r==="!="?e.isVector(s)?l=s:e.isVector(l)?s=l:s!==l&&(s=l="float"):r===">>"||r==="<<"?(s=a,l=e.changeComponentType(l,"uint")):r==="%"?(s=a,l=e.isInteger(s)&&e.isInteger(l)?l:s):e.isMatrix(s)?l==="float"?l="float":e.isVector(l)?l=e.getVectorFromMatrix(s):e.isMatrix(l)||(s=l=a):e.isMatrix(l)?s==="float"?s="float":e.isVector(s)?s=e.getVectorFromMatrix(l):s=l=a:s=l=a):s=l=a;const c=i.build(e,s),u=o?o.build(e,l):null,d=e.getFunctionOperator(r);if(n!=="void"){const f=e.renderer.coordinateSystem===ws;if(r==="=="||r==="!="||r==="<"||r===">"||r==="<="||r===">=")return f?e.isVector(s)?e.format(`${this.getOperatorMethod(e,n)}( ${c}, ${u} )`,a,n):e.format(`( ${c} ${r} ${u} )`,a,n):e.format(`( ${c} ${r} ${u} )`,a,n);if(r==="%")return e.isInteger(l)?e.format(`( ${c} % ${u} )`,a,n):e.format(`${this.getOperatorMethod(e,a)}( ${c}, ${u} )`,a,n);if(r==="!"||r==="~")return e.format(`(${r}${c})`,s,n);if(d)return e.format(`${d}( ${c}, ${u} )`,a,n);if(e.isMatrix(s)&&l==="float")return e.format(`( ${u} ${r} ${c} )`,a,n);if(s==="float"&&e.isMatrix(l))return e.format(`${c} ${r} ${u}`,a,n);{let h=`( ${c} ${r} ${u} )`;return!f&&a==="bool"&&e.isVector(s)&&e.isVector(l)&&(h=`all${h}`),e.format(h,a,n)}}else if(s!=="void")return d?e.format(`${d}( ${c}, ${u} )`,a,n):e.isMatrix(s)&&l==="float"?e.format(`${u} ${r} ${c}`,a,n):e.format(`${c} ${r} ${u}`,a,n)}serialize(e){super.serialize(e),e.op=this.op}deserialize(e){super.deserialize(e),this.op=e.op}}const Mo=Xt(eo,"+").setParameterLength(2,1/0).setName("add"),Br=Xt(eo,"-").setParameterLength(2,1/0).setName("sub"),rr=Xt(eo,"*").setParameterLength(2,1/0).setName("mul"),$l=Xt(eo,"/").setParameterLength(2,1/0).setName("div"),Z2=Xt(eo,"%").setParameterLength(2).setName("mod"),s$=Xt(eo,"==").setParameterLength(2).setName("equal"),Eae=Xt(eo,"!=").setParameterLength(2).setName("notEqual"),Mae=Xt(eo,"<").setParameterLength(2).setName("lessThan"),l$=Xt(eo,">").setParameterLength(2).setName("greaterThan"),Rae=Xt(eo,"<=").setParameterLength(2).setName("lessThanEqual"),Pae=Xt(eo,">=").setParameterLength(2).setName("greaterThanEqual"),Nae=Xt(eo,"&&").setParameterLength(2,1/0).setName("and"),Iae=Xt(eo,"||").setParameterLength(2,1/0).setName("or"),Dae=Xt(eo,"!").setParameterLength(1).setName("not"),Oae=Xt(eo,"^^").setParameterLength(2).setName("xor"),Lae=Xt(eo,"&").setParameterLength(2).setName("bitAnd"),Bae=Xt(eo,"~").setParameterLength(1).setName("bitNot"),Fae=Xt(eo,"|").setParameterLength(2).setName("bitOr"),$ae=Xt(eo,"^").setParameterLength(2).setName("bitXor"),Uae=Xt(eo,"<<").setParameterLength(2).setName("shiftLeft"),kae=Xt(eo,">>").setParameterLength(2).setName("shiftRight"),Vae=Qe(([t])=>(t.addAssign(1),t)),zae=Qe(([t])=>(t.subAssign(1),t)),Gae=Qe(([t])=>{const e=$e(t).toConst();return t.addAssign(1),e}),Hae=Qe(([t])=>{const e=$e(t).toConst();return t.subAssign(1),e});Et("add",Mo);Et("sub",Br);Et("mul",rr);Et("div",$l);Et("mod",Z2);Et("equal",s$);Et("notEqual",Eae);Et("lessThan",Mae);Et("greaterThan",l$);Et("lessThanEqual",Rae);Et("greaterThanEqual",Pae);Et("and",Nae);Et("or",Iae);Et("not",Dae);Et("xor",Oae);Et("bitAnd",Lae);Et("bitNot",Bae);Et("bitOr",Fae);Et("bitXor",$ae);Et("shiftLeft",Uae);Et("shiftRight",kae);Et("incrementBefore",Vae);Et("decrementBefore",zae);Et("increment",Gae);Et("decrement",Hae);const jae=(t,e)=>(Pt('TSL: "modInt()" is deprecated. Use "mod( int( ... ) )" instead.'),Z2($e(t),$e(e)));Et("modInt",jae);class dt extends no{static get type(){return"MathNode"}constructor(e,n,r=null,i=null){if(super(),(e===dt.MAX||e===dt.MIN)&&arguments.length>3){let o=new dt(e,n,r);for(let a=2;a<arguments.length-1;a++)o=new dt(e,o,arguments[a]);n=o,r=arguments[arguments.length-1],i=null}this.method=e,this.aNode=n,this.bNode=r,this.cNode=i,this.isMathNode=!0}getInputType(e){const n=this.aNode.getNodeType(e),r=this.bNode?this.bNode.getNodeType(e):null,i=this.cNode?this.cNode.getNodeType(e):null,o=e.isMatrix(n)?0:e.getTypeLength(n),a=e.isMatrix(r)?0:e.getTypeLength(r),s=e.isMatrix(i)?0:e.getTypeLength(i);return o>a&&o>s?n:a>s?r:s>o?i:n}getNodeType(e){const n=this.method;return n===dt.LENGTH||n===dt.DISTANCE||n===dt.DOT?"float":n===dt.CROSS?"vec3":n===dt.ALL||n===dt.ANY?"bool":n===dt.EQUALS?e.changeComponentType(this.aNode.getNodeType(e),"bool"):this.getInputType(e)}setup(e){const{aNode:n,bNode:r,method:i}=this;let o=null;if(i===dt.ONE_MINUS)o=Br(1,n);else if(i===dt.RECIPROCAL)o=$l(1,n);else if(i===dt.DIFFERENCE)o=Mi(Br(n,r));else if(i===dt.TRANSFORM_DIRECTION){let a=n,s=r;e.isMatrix(a.getNodeType(e))?s=Fn(He(s),0):a=Fn(He(a),0);const l=rr(a,s).xyz;o=Ps(l)}return o!==null?o:super.setup(e)}generate(e,n){if(e.getNodeProperties(this).outputNode)return super.generate(e,n);let i=this.method;const o=this.getNodeType(e),a=this.getInputType(e),s=this.aNode,l=this.bNode,c=this.cNode,u=e.renderer.coordinateSystem;if(i===dt.NEGATE)return e.format("( - "+s.build(e,a)+" )",o,n);{const d=[];return i===dt.CROSS?d.push(s.build(e,o),l.build(e,o)):u===ws&&i===dt.STEP?d.push(s.build(e,e.getTypeLength(s.getNodeType(e))===1?"float":a),l.build(e,a)):u===ws&&(i===dt.MIN||i===dt.MAX)?d.push(s.build(e,a),l.build(e,e.getTypeLength(l.getNodeType(e))===1?"float":a)):i===dt.REFRACT?d.push(s.build(e,a),l.build(e,a),c.build(e,"float")):i===dt.MIX?d.push(s.build(e,a),l.build(e,a),c.build(e,e.getTypeLength(c.getNodeType(e))===1?"float":a)):(u===wc&&i===dt.ATAN&&l!==null&&(i="atan2"),e.shaderStage!=="fragment"&&(i===dt.DFDX||i===dt.DFDY)&&(Pt(`TSL: '${i}' is not supported in the ${e.shaderStage} stage.`),i="/*"+i+"*/"),d.push(s.build(e,a)),l!==null&&d.push(l.build(e,a)),c!==null&&d.push(c.build(e,a))),e.format(`${e.getMethod(i,o)}( ${d.join(", ")} )`,o,n)}}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}dt.ALL="all";dt.ANY="any";dt.RADIANS="radians";dt.DEGREES="degrees";dt.EXP="exp";dt.EXP2="exp2";dt.LOG="log";dt.LOG2="log2";dt.SQRT="sqrt";dt.INVERSE_SQRT="inversesqrt";dt.FLOOR="floor";dt.CEIL="ceil";dt.NORMALIZE="normalize";dt.FRACT="fract";dt.SIN="sin";dt.COS="cos";dt.TAN="tan";dt.ASIN="asin";dt.ACOS="acos";dt.ATAN="atan";dt.ABS="abs";dt.SIGN="sign";dt.LENGTH="length";dt.NEGATE="negate";dt.ONE_MINUS="oneMinus";dt.DFDX="dFdx";dt.DFDY="dFdy";dt.ROUND="round";dt.RECIPROCAL="reciprocal";dt.TRUNC="trunc";dt.FWIDTH="fwidth";dt.TRANSPOSE="transpose";dt.DETERMINANT="determinant";dt.INVERSE="inverse";dt.EQUALS="equals";dt.MIN="min";dt.MAX="max";dt.STEP="step";dt.REFLECT="reflect";dt.DISTANCE="distance";dt.DIFFERENCE="difference";dt.DOT="dot";dt.CROSS="cross";dt.POW="pow";dt.TRANSFORM_DIRECTION="transformDirection";dt.MIX="mix";dt.CLAMP="clamp";dt.REFRACT="refract";dt.SMOOTHSTEP="smoothstep";dt.FACEFORWARD="faceforward";const c$=ge(1e-6),QWe=ge(1e6),$E=ge(Math.PI),ZWe=ge(Math.PI*2),JWe=ge(Math.PI*2),eXe=ge(Math.PI*.5),qae=Xt(dt,dt.ALL).setParameterLength(1),Wae=Xt(dt,dt.ANY).setParameterLength(1),Xae=Xt(dt,dt.RADIANS).setParameterLength(1),Yae=Xt(dt,dt.DEGREES).setParameterLength(1),u$=Xt(dt,dt.EXP).setParameterLength(1),Dv=Xt(dt,dt.EXP2).setParameterLength(1),ZM=Xt(dt,dt.LOG).setParameterLength(1),od=Xt(dt,dt.LOG2).setParameterLength(1),Ja=Xt(dt,dt.SQRT).setParameterLength(1),d$=Xt(dt,dt.INVERSE_SQRT).setParameterLength(1),ad=Xt(dt,dt.FLOOR).setParameterLength(1),JM=Xt(dt,dt.CEIL).setParameterLength(1),Ps=Xt(dt,dt.NORMALIZE).setParameterLength(1),mu=Xt(dt,dt.FRACT).setParameterLength(1),ys=Xt(dt,dt.SIN).setParameterLength(1),Yc=Xt(dt,dt.COS).setParameterLength(1),Kae=Xt(dt,dt.TAN).setParameterLength(1),Qae=Xt(dt,dt.ASIN).setParameterLength(1),f$=Xt(dt,dt.ACOS).setParameterLength(1),eR=Xt(dt,dt.ATAN).setParameterLength(1,2),Mi=Xt(dt,dt.ABS).setParameterLength(1),h$=Xt(dt,dt.SIGN).setParameterLength(1),sd=Xt(dt,dt.LENGTH).setParameterLength(1),p$=Xt(dt,dt.NEGATE).setParameterLength(1),Zae=Xt(dt,dt.ONE_MINUS).setParameterLength(1),m$=Xt(dt,dt.DFDX).setParameterLength(1),g$=Xt(dt,dt.DFDY).setParameterLength(1),Jae=Xt(dt,dt.ROUND).setParameterLength(1),ese=Xt(dt,dt.RECIPROCAL).setParameterLength(1),A$=Xt(dt,dt.TRUNC).setParameterLength(1),v$=Xt(dt,dt.FWIDTH).setParameterLength(1),tse=Xt(dt,dt.TRANSPOSE).setParameterLength(1),nse=Xt(dt,dt.DETERMINANT).setParameterLength(1),rse=Xt(dt,dt.INVERSE).setParameterLength(1),ise=(t,e)=>(Pt('TSL: "equals" is deprecated. Use "equal" inside a vector instead, like: "bvec*( equal( ... ) )"'),s$(t,e)),ol=Xt(dt,dt.MIN).setParameterLength(2,1/0),to=Xt(dt,dt.MAX).setParameterLength(2,1/0),tR=Xt(dt,dt.STEP).setParameterLength(2),ose=Xt(dt,dt.REFLECT).setParameterLength(2),ase=Xt(dt,dt.DISTANCE).setParameterLength(2),sse=Xt(dt,dt.DIFFERENCE).setParameterLength(2),Ec=Xt(dt,dt.DOT).setParameterLength(2),Af=Xt(dt,dt.CROSS).setParameterLength(2),lc=Xt(dt,dt.POW).setParameterLength(2),y$=t=>rr(t,t),lse=t=>rr(t,t,t),b$=t=>rr(t,t,t,t),cse=Xt(dt,dt.TRANSFORM_DIRECTION).setParameterLength(2),use=t=>rr(h$(t),lc(Mi(t),1/3)),x$=t=>Ec(t,t),Dr=Xt(dt,dt.MIX).setParameterLength(3),gu=(t,e=0,n=1)=>rn(new dt(dt.CLAMP,rn(t),rn(e),rn(n))),nR=t=>gu(t),S$=Xt(dt,dt.REFRACT).setParameterLength(3),Au=Xt(dt,dt.SMOOTHSTEP).setParameterLength(3),_$=Xt(dt,dt.FACEFORWARD).setParameterLength(3),dse=Qe(([t])=>{const r=43758.5453,i=Ec(t.xy,jt(12.9898,78.233)),o=Z2(i,$E);return mu(ys(o).mul(r))}),fse=(t,e,n)=>Dr(e,n,t),hse=(t,e,n)=>Au(e,n,t),pse=(t,e)=>tR(e,t),mse=(t,e)=>(Pt('TSL: "atan2" is overloaded. Use "atan" instead.'),eR(t,e)),tXe=_$,nXe=d$;Et("all",qae);Et("any",Wae);Et("equals",ise);Et("radians",Xae);Et("degrees",Yae);Et("exp",u$);Et("exp2",Dv);Et("log",ZM);Et("log2",od);Et("sqrt",Ja);Et("inverseSqrt",d$);Et("floor",ad);Et("ceil",JM);Et("normalize",Ps);Et("fract",mu);Et("sin",ys);Et("cos",Yc);Et("tan",Kae);Et("asin",Qae);Et("acos",f$);Et("atan",eR);Et("abs",Mi);Et("sign",h$);Et("length",sd);Et("lengthSq",x$);Et("negate",p$);Et("oneMinus",Zae);Et("dFdx",m$);Et("dFdy",g$);Et("round",Jae);Et("reciprocal",ese);Et("trunc",A$);Et("fwidth",v$);Et("atan2",mse);Et("min",ol);Et("max",to);Et("step",pse);Et("reflect",ose);Et("distance",ase);Et("dot",Ec);Et("cross",Af);Et("pow",lc);Et("pow2",y$);Et("pow3",lse);Et("pow4",b$);Et("transformDirection",cse);Et("mix",fse);Et("clamp",gu);Et("refract",S$);Et("smoothstep",hse);Et("faceForward",_$);Et("difference",sse);Et("saturate",nR);Et("cbrt",use);Et("transpose",tse);Et("determinant",nse);Et("inverse",rse);Et("rand",dse);class rXe extends An{static get type(){return"ConditionalNode"}constructor(e,n,r=null){super(),this.condNode=e,this.ifNode=n,this.elseNode=r}getNodeType(e){const{ifNode:n,elseNode:r}=e.getNodeProperties(this);if(n===void 0)return e.flowBuildStage(this,"setup"),this.getNodeType(e);const i=n.getNodeType(e);if(r!==null){const o=r.getNodeType(e);if(e.getTypeLength(o)>e.getTypeLength(i))return o}return i}setup(e){const n=this.condNode,r=this.ifNode.isolate(),i=this.elseNode?this.elseNode.isolate():null,o=e.context.nodeBlock;e.getDataFromNode(r).parentNodeBlock=o,i!==null&&(e.getDataFromNode(i).parentNodeBlock=o);const a=e.context.uniformFlow,s=e.getNodeProperties(this);s.condNode=n,s.ifNode=a?r:r.context({nodeBlock:r}),s.elseNode=i?a?i:i.context({nodeBlock:i}):null}generate(e,n){const r=this.getNodeType(e),i=e.getDataFromNode(this);if(i.nodeProperty!==void 0)return i.nodeProperty;const{condNode:o,ifNode:a,elseNode:s}=e.getNodeProperties(this),l=e.currentFunctionNode,c=n!=="void",u=c?ef(r).build(e):"";i.nodeProperty=u;const d=o.build(e,"bool");if(e.context.uniformFlow&&s!==null){const p=a.build(e,r),x=s.build(e,r),b=e.getTernary(d,p,x);return e.format(b,r,n)}e.addFlowCode(`
${e.tab}if ( ${d} ) {

`).addFlowTab();let h=a.build(e,r);if(h&&(c?h=u+" = "+h+";":(h="return "+h+";",l===null&&(Pt("TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),h="// "+h))),e.removeFlowTab().addFlowCode(e.tab+"	"+h+`

`+e.tab+"}"),s!==null){e.addFlowCode(` else {

`).addFlowTab();let p=s.build(e,r);p&&(c?p=u+" = "+p+";":(p="return "+p+";",l===null&&(Pt("TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),p="// "+p))),e.removeFlowTab().addFlowCode(e.tab+"	"+p+`

`+e.tab+`}

`)}else e.addFlowCode(`

`);return e.format(u,r,n)}}const Ea=ir(rXe).setParameterLength(2,3);Et("select",Ea);class gse extends An{static get type(){return"ContextNode"}constructor(e=null,n={}){super(),this.isContextNode=!0,this.node=e,this.value=n}getScope(){return this.node.getScope()}getNodeType(e){return this.node.getNodeType(e)}getFlowContextData(){const e=[];return this.traverse(n=>{n.isContextNode===!0&&e.push(n.value)}),Object.assign({},...e)}getMemberType(e,n){return this.node.getMemberType(e,n)}analyze(e){const n=e.addContext(this.value);this.node.build(e),e.setContext(n)}setup(e){const n=e.addContext(this.value);this.node.build(e),e.setContext(n)}generate(e,n){const r=e.addContext(this.value),i=this.node.build(e,n);return e.setContext(r),i}}const Rf=(t=null,e={})=>{let n=t;return(n===null||n.isNode!==!0)&&(e=n||e,n=null),new gse(n,e)},Ase=t=>Rf(t,{uniformFlow:!0}),w$=(t,e)=>Rf(t,{nodeName:e});function vse(t,e,n=null){return Rf(n,{getShadow:({light:r,shadowColorNode:i})=>e===r?i.mul(t):i})}function yse(t,e=null){return Rf(e,{getAO:(n,{material:r})=>r.transparent===!0?n:n!==null?n.mul(t):t})}function bse(t,e){return Pt('TSL: "label()" has been deprecated. Use "setName()" instead.'),w$(t,e)}Et("context",Rf);Et("label",bse);Et("uniformFlow",Ase);Et("setName",w$);Et("builtinShadowContext",(t,e,n)=>vse(e,n,t));Et("builtinAOContext",(t,e)=>yse(e,t));class FC extends An{static get type(){return"VarNode"}constructor(e,n=null,r=!1){super(),this.node=e,this.name=n,this.global=!0,this.isVarNode=!0,this.readOnly=r,this.parents=!0,this.intent=!1}setIntent(e){return this.intent=e,this}isIntent(e){return e.getDataFromNode(this).forceDeclaration===!0?!1:this.intent}getIntent(){return this.intent}getMemberType(e,n){return this.node.getMemberType(e,n)}getElementType(e){return this.node.getElementType(e)}getNodeType(e){return this.node.getNodeType(e)}getArrayCount(e){return this.node.getArrayCount(e)}isAssign(e){return e.getDataFromNode(this).assign}build(...e){const n=e[0];if(this._hasStack(n)===!1&&n.buildStage==="setup"&&(n.context.nodeLoop||n.context.nodeBlock)){let r=!1;if(this.node.isShaderCallNodeInternal&&this.node.shaderNode.getLayout()===null&&n.fnCall&&n.fnCall.shaderNode&&n.getDataFromNode(this.node.shaderNode).hasLoop){const a=n.getDataFromNode(this);a.forceDeclaration=!0,r=!0}const i=n.getBaseStack();r?i.addToStackBefore(this):i.addToStack(this)}return this.isIntent(n)&&this.isAssign(n)!==!0?this.node.build(...e):super.build(...e)}generate(e){const{node:n,name:r,readOnly:i}=this,{renderer:o}=e,a=o.backend.isWebGPUBackend===!0;let s=!1,l=!1;i&&(s=e.isDeterministic(n),l=a?i:s);const c=this.getNodeType(e);if(c=="void")return this.isIntent(e)!==!0&&$t('TSL: ".toVar()" can not be used with void type.'),n.build(e);const u=e.getVectorType(c),d=n.build(e,u),f=e.getVarFromNode(this,r,u,void 0,l),h=e.getPropertyName(f);let p=h;if(l)if(a)p=s?`const ${h}`:`let ${h}`;else{const x=n.getArrayCount(e);p=`const ${e.getVar(f.type,h,x)}`}return e.addLineFlowCode(`${p} = ${d}`,this),h}_hasStack(e){return e.getDataFromNode(this).stack!==void 0}}const C$=ir(FC),xse=(t,e=null)=>C$(t,e).toStack(),Sse=(t,e=null)=>C$(t,e,!0).toStack(),_se=t=>C$(t).setIntent(!0).toStack();Et("toVar",xse);Et("toConst",Sse);Et("toVarIntent",_se);class iXe extends An{static get type(){return"SubBuild"}constructor(e,n,r=null){super(r),this.node=e,this.name=n,this.isSubBuildNode=!0}getNodeType(e){if(this.nodeType!==null)return this.nodeType;e.addSubBuild(this.name);const n=this.node.getNodeType(e);return e.removeSubBuild(),n}build(e,...n){e.addSubBuild(this.name);const r=this.node.build(e,...n);return e.removeSubBuild(),r}}const TA=(t,e,n=null)=>rn(new iXe(rn(t),e,n));class oXe extends An{static get type(){return"VaryingNode"}constructor(e,n=null){super(),this.node=e,this.name=n,this.isVaryingNode=!0,this.interpolationType=null,this.interpolationSampling=null,this.global=!0}setInterpolation(e,n=null){return this.interpolationType=e,this.interpolationSampling=n,this}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}setupVarying(e){const n=e.getNodeProperties(this);let r=n.varying;if(r===void 0){const i=this.name,o=this.getNodeType(e),a=this.interpolationType,s=this.interpolationSampling;n.varying=r=e.getVaryingFromNode(this,i,o,a,s),n.node=TA(this.node,"VERTEX")}return r.needsInterpolation||(r.needsInterpolation=e.shaderStage==="fragment"),r}setup(e){this.setupVarying(e),e.flowNodeFromShaderStage(J1.VERTEX,this.node)}analyze(e){this.setupVarying(e),e.flowNodeFromShaderStage(J1.VERTEX,this.node)}generate(e){const n=e.getSubBuildProperty("property",e.currentStack),r=e.getNodeProperties(this),i=this.setupVarying(e);if(r[n]===void 0){const o=this.getNodeType(e),a=e.getPropertyName(i,J1.VERTEX);e.flowNodeFromShaderStage(J1.VERTEX,r.node,o,a),r[n]=a}return e.getPropertyName(i)}}const _d=ir(oXe).setParameterLength(1,2),wse=t=>_d(t);Et("toVarying",_d);Et("toVertexStage",wse);Et("varying",(...t)=>(Pt("TSL: .varying() has been renamed to .toVarying()."),_d(...t)));Et("vertexStage",(...t)=>(Pt("TSL: .vertexStage() has been renamed to .toVertexStage()."),_d(...t)));const Cse=Qe(([t])=>{const e=t.mul(.9478672986).add(.0521327014).pow(2.4),n=t.mul(.0773993808),r=t.lessThanEqual(.04045);return Dr(e,n,r)}).setLayout({name:"sRGBTransferEOTF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),Tse=Qe(([t])=>{const e=t.pow(.41666).mul(1.055).sub(.055),n=t.mul(12.92),r=t.lessThanEqual(.0031308);return Dr(e,n,r)}).setLayout({name:"sRGBTransferOETF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),T$="WorkingColorSpace",aXe="OutputColorSpace";class E$ extends no{static get type(){return"ColorSpaceNode"}constructor(e,n,r){super("vec4"),this.colorNode=e,this.source=n,this.target=r}resolveColorSpace(e,n){return n===T$?Xn.workingColorSpace:n===aXe?e.context.outputColorSpace||e.renderer.outputColorSpace:n}setup(e){const{colorNode:n}=this,r=this.resolveColorSpace(e,this.source),i=this.resolveColorSpace(e,this.target);let o=n;return Xn.enabled===!1||r===i||!r||!i||(Xn.getTransfer(r)===gn&&(o=Fn(Cse(o.rgb),o.a)),Xn.getPrimaries(r)!==Xn.getPrimaries(i)&&(o=Fn(La(Xn._getMatrix(new Ar,r,i)).mul(o.rgb),o.a)),Xn.getTransfer(i)===gn&&(o=Fn(Tse(o.rgb),o.a))),o}}const Ese=(t,e)=>rn(new E$(rn(t),T$,e)),rR=(t,e)=>rn(new E$(rn(t),e,T$)),sXe=(t,e,n)=>rn(new E$(rn(t),e,n));Et("workingToColorSpace",Ese);Et("colorSpaceToWorking",rR);let lXe=class extends x0{static get type(){return"ReferenceElementNode"}constructor(e,n){super(e,n),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const n=super.generate(e),r=this.referenceNode.getNodeType(),i=this.getNodeType();return e.format(n,r,i)}};class Mse extends An{static get type(){return"ReferenceBaseNode"}constructor(e,n,r=null,i=null){super(),this.property=e,this.uniformType=n,this.object=r,this.count=i,this.properties=e.split("."),this.reference=r,this.node=null,this.group=null,this.updateType=ur.OBJECT}setGroup(e){return this.group=e,this}element(e){return new lXe(this,rn(e))}setNodeType(e){const n=Nn(null,e);this.group!==null&&n.setGroup(this.group),this.node=n}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:n}=this;let r=e[n[0]];for(let i=1;i<n.length;i++)r=r[n[i]];return r}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const cXe=(t,e,n)=>new Mse(t,e,n);class uXe extends Mse{static get type(){return"RendererReferenceNode"}constructor(e,n,r=null){super(e,n,r),this.renderer=r,this.setGroup(Pn)}updateReference(e){return this.reference=this.renderer!==null?this.renderer:e.renderer,this.reference}}const Rse=(t,e,n=null)=>new uXe(t,e,n);class dXe extends no{static get type(){return"ToneMappingNode"}constructor(e,n=Nse,r=null){super("vec3"),this._toneMapping=e,this.exposureNode=n,this.colorNode=r}customCacheKey(){return Eb(this._toneMapping)}setToneMapping(e){return this._toneMapping=e,this}getToneMapping(){return this._toneMapping}setup(e){const n=this.colorNode||e.context.color,r=this._toneMapping;if(r===Ca)return n;let i=null;const o=e.renderer.library.getToneMappingFunction(r);return o!==null?i=Fn(o(n.rgb,this.exposureNode),n.a):($t("ToneMappingNode: Unsupported Tone Mapping configuration.",r),i=n),i}}const Pse=(t,e,n)=>rn(new dXe(t,rn(e),rn(n))),Nse=Rse("toneMappingExposure","float");Et("toneMapping",(t,e,n)=>Pse(e,n,t));const wq=new WeakMap;function Cq(t,e){let n=wq.get(t);return n===void 0&&(n=new dF(t,e),wq.set(t,n)),n}class Kf extends qF{static get type(){return"BufferAttributeNode"}constructor(e,n=null,r=0,i=0){super(e,n),this.isBufferNode=!0,this.bufferType=n,this.bufferStride=r,this.bufferOffset=i,this.usage=Sv,this.instanced=!1,this.attribute=null,this.global=!0,e&&e.isBufferAttribute===!0&&e.itemSize<=4&&(this.attribute=e,this.usage=e.usage,this.instanced=e.isInstancedBufferAttribute)}getHash(e){if(this.bufferStride===0&&this.bufferOffset===0){let n=e.globalCache.getData(this.value);return n===void 0&&(n={node:this},e.globalCache.setData(this.value,n)),n.node.uuid}return this.uuid}getNodeType(e){return this.bufferType===null&&(this.bufferType=e.getTypeFromAttribute(this.attribute)),this.bufferType}setup(e){if(this.attribute!==null)return;const n=this.getNodeType(e),r=e.getTypeLength(n),i=this.value,o=this.bufferStride||r,a=this.bufferOffset;let s;i.isInterleavedBuffer===!0?s=i:i.isBufferAttribute===!0?s=Cq(i.array,o):s=Cq(i,o);const l=new Ku(s,r,a);s.setUsage(this.usage),this.attribute=l,this.attribute.isInstancedBufferAttribute=this.instanced}generate(e){const n=this.getNodeType(e),r=e.getBufferAttributeFromNode(this,n),i=e.getPropertyName(r);let o=null;return e.shaderStage==="vertex"||e.shaderStage==="compute"?(this.name=i,o=i):o=_d(this).build(e,n),o}getInputType(){return"bufferAttribute"}setUsage(e){return this.usage=e,this.attribute&&this.attribute.isBufferAttribute===!0&&(this.attribute.usage=e),this}setInstanced(e){return this.instanced=e,this}}function iR(t,e=null,n=0,r=0,i=Sv,o=!1){return e==="mat3"||e===null&&t.itemSize===9?La(new Kf(t,"vec3",9,0).setUsage(i).setInstanced(o),new Kf(t,"vec3",9,3).setUsage(i).setInstanced(o),new Kf(t,"vec3",9,6).setUsage(i).setInstanced(o)):e==="mat4"||e===null&&t.itemSize===16?kh(new Kf(t,"vec4",16,0).setUsage(i).setInstanced(o),new Kf(t,"vec4",16,4).setUsage(i).setInstanced(o),new Kf(t,"vec4",16,8).setUsage(i).setInstanced(o),new Kf(t,"vec4",16,12).setUsage(i).setInstanced(o)):new Kf(t,e,n,r)}const M$=(t,e=null,n=0,r=0)=>iR(t,e,n,r),fXe=(t,e=null,n=0,r=0)=>iR(t,e,n,r,gm),UE=(t,e=null,n=0,r=0)=>iR(t,e,n,r,Sv,!0),h6=(t,e=null,n=0,r=0)=>iR(t,e,n,r,gm,!0);Et("toAttribute",t=>M$(t.value));class hXe extends An{static get type(){return"ComputeNode"}constructor(e,n){super("void"),this.isComputeNode=!0,this.computeNode=e,this.workgroupSize=n,this.count=null,this.version=1,this.name="",this.updateBeforeType=ur.OBJECT,this.onInitFunction=null}setCount(e){return this.count=e,this}getCount(){return this.count}dispose(){this.dispatchEvent({type:"dispose"})}setName(e){return this.name=e,this}label(e){return Pt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(e)}onInit(e){return this.onInitFunction=e,this}updateBefore({renderer:e}){e.compute(this)}setup(e){const n=this.computeNode.build(e);if(n){const r=e.getNodeProperties(this);r.outputComputeNode=n.outputNode,n.outputNode=null}return n}generate(e,n){const{shaderStage:r}=e;if(r==="compute"){const i=this.computeNode.build(e,"void");i!==""&&e.addLineFlowCode(i,this)}else{const o=e.getNodeProperties(this).outputComputeNode;if(o)return o.build(e,n)}}}const R$=(t,e=[64])=>{(e.length===0||e.length>3)&&$t("TSL: compute() workgroupSize must have 1, 2, or 3 elements");for(let n=0;n<e.length;n++){const r=e[n];(typeof r!="number"||r<=0||!Number.isInteger(r))&&$t(`TSL: compute() workgroupSize element at index [ ${n} ] must be a positive integer`)}for(;e.length<3;)e.push(1);return rn(new hXe(rn(t),e))},Ise=(t,e,n)=>R$(t,n).setCount(e);Et("compute",Ise);Et("computeKernel",R$);class pXe extends An{static get type(){return"IsolateNode"}constructor(e,n=!0){super(),this.node=e,this.parent=n,this.isIsolateNode=!0}getNodeType(e){const n=e.getCache(),r=e.getCacheFromNode(this,this.parent);e.setCache(r);const i=this.node.getNodeType(e);return e.setCache(n),i}build(e,...n){const r=e.getCache(),i=e.getCacheFromNode(this,this.parent);e.setCache(i);const o=this.node.build(e,...n);return e.setCache(r),o}setParent(e){return this.parent=e,this}getParent(){return this.parent}}const EA=t=>new pXe(rn(t));function Dse(t,e=!0){return Pt('TSL: "cache()" has been deprecated. Use "isolate()" instead.'),EA(t).setParent(e)}Et("cache",Dse);Et("isolate",EA);class mXe extends An{static get type(){return"BypassNode"}constructor(e,n){super(),this.isBypassNode=!0,this.outputNode=e,this.callNode=n}getNodeType(e){return this.outputNode.getNodeType(e)}generate(e){const n=this.callNode.build(e,"void");return n!==""&&e.addLineFlowCode(n,this),this.outputNode.build(e)}}const Ose=ir(mXe).setParameterLength(2);Et("bypass",Ose);class Lse extends An{static get type(){return"RemapNode"}constructor(e,n,r,i=ge(0),o=ge(1)){super(),this.node=e,this.inLowNode=n,this.inHighNode=r,this.outLowNode=i,this.outHighNode=o,this.doClamp=!0}setup(){const{node:e,inLowNode:n,inHighNode:r,outLowNode:i,outHighNode:o,doClamp:a}=this;let s=e.sub(n).div(r.sub(n));return a===!0&&(s=s.clamp()),s.mul(o.sub(i)).add(i)}}const Bse=ir(Lse,null,null,{doClamp:!1}).setParameterLength(3,5),Fse=ir(Lse).setParameterLength(3,5);Et("remap",Bse);Et("remapClamp",Fse);class $C extends An{static get type(){return"ExpressionNode"}constructor(e="",n="void"){super(n),this.snippet=e}generate(e,n){const r=this.getNodeType(e),i=this.snippet;if(r==="void")e.addLineFlowCode(i,this);else return e.format(i,r,n)}}const vf=ir($C).setParameterLength(1,2),$se=t=>(t?Ea(t,vf("discard")):vf("discard")).toStack(),gXe=()=>vf("return").toStack();Et("discard",$se);class AXe extends no{static get type(){return"RenderOutputNode"}constructor(e,n,r){super("vec4"),this.colorNode=e,this._toneMapping=n,this.outputColorSpace=r,this.isRenderOutputNode=!0}setToneMapping(e){return this._toneMapping=e,this}getToneMapping(){return this._toneMapping}setup({context:e}){let n=this.colorNode||e.color;const r=(this._toneMapping!==null?this._toneMapping:e.toneMapping)||Ca,i=(this.outputColorSpace!==null?this.outputColorSpace:e.outputColorSpace)||Hs;return r!==Ca&&(n=n.toneMapping(r)),i!==Hs&&i!==Xn.workingColorSpace&&(n=n.workingToColorSpace(i)),n}}const Use=(t,e=null,n=null)=>rn(new AXe(rn(t),e,n));Et("renderOutput",Use);class vXe extends no{static get type(){return"DebugNode"}constructor(e,n=null){super(),this.node=e,this.callback=n}getNodeType(e){return this.node.getNodeType(e)}setup(e){return this.node.build(e)}analyze(e){return this.node.build(e)}generate(e){const n=this.callback,r=this.node.build(e),i="--- TSL debug - "+e.shaderStage+" shader ---",o="-".repeat(i.length);let a="";return a+="// #"+i+`#
`,a+=e.flow.code.replace(/^\t/mg,"")+`
`,a+="/* ... */ "+r+` /* ... */
`,a+="// #"+o+`#
`,n!==null?n(e,a):Dx(a),r}}const kse=(t,e=null)=>rn(new vXe(rn(t),e)).toStack();Et("debug",kse);class Vse{constructor(){this._renderer=null,this.currentFrame=null}get nodeFrame(){return this._renderer._nodes.nodeFrame}setRenderer(e){return this._renderer=e,this}getRenderer(){return this._renderer}init(){}begin(){}finish(){}inspect(){}computeAsync(){}beginCompute(){}finishCompute(){}beginRender(){}finishRender(){}copyTextureToTexture(){}copyFramebufferToTexture(){}}class yXe extends An{static get type(){return"InspectorNode"}constructor(e,n="",r=null){super(),this.node=e,this.name=n,this.callback=r,this.updateType=ur.FRAME,this.isInspectorNode=!0}getName(){return this.name||this.node.name}update(e){e.renderer.inspector.inspect(this)}getNodeType(e){return this.node.getNodeType(e)}setup(e){let n=this.node;return e.context.inspector===!0&&this.callback!==null&&(n=this.callback(n)),e.renderer.backend.isWebGPUBackend!==!0&&e.renderer.inspector.constructor!==Vse&&Ai('TSL: ".toInspector()" is only available with WebGPU.'),n}}function zse(t,e="",n=null){return t=rn(t),t.before(new yXe(t,e,n))}Et("toInspector",zse);function bXe(t){Pt("TSL: AddNodeElement has been removed in favor of tree-shaking. Trying add",t)}class Gse extends An{static get type(){return"AttributeNode"}constructor(e,n=null){super(n),this.global=!0,this._attributeName=e}getHash(e){return this.getAttributeName(e)}getNodeType(e){let n=this.nodeType;if(n===null){const r=this.getAttributeName(e);if(e.hasGeometryAttribute(r)){const i=e.geometry.getAttribute(r);n=e.getTypeFromAttribute(i)}else n="float"}return n}setAttributeName(e){return this._attributeName=e,this}getAttributeName(){return this._attributeName}generate(e){const n=this.getAttributeName(e),r=this.getNodeType(e);if(e.hasGeometryAttribute(n)===!0){const o=e.geometry.getAttribute(n),a=e.getTypeFromAttribute(o),s=e.getAttribute(n,a);return e.shaderStage==="vertex"?e.format(s.name,a,r):_d(this).build(e,r)}else return Pt(`AttributeNode: Vertex attribute "${n}" not found on geometry.`),e.generateConst(r)}serialize(e){super.serialize(e),e.global=this.global,e._attributeName=this._attributeName}deserialize(e){super.deserialize(e),this.global=e.global,this._attributeName=e._attributeName}}const yf=(t,e=null)=>new Gse(t,e),fi=(t=0)=>yf("uv"+(t>0?t:""),"vec2");class xXe extends An{static get type(){return"TextureSizeNode"}constructor(e,n=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=e,this.levelNode=n}generate(e,n){const r=this.textureNode.build(e,"property"),i=this.levelNode===null?"0":this.levelNode.build(e,"int");return e.format(`${e.getMethod("textureDimensions")}( ${r}, ${i} )`,this.getNodeType(e),n)}}const tf=ir(xXe).setParameterLength(1,2);class SXe extends Q2{static get type(){return"MaxMipLevelNode"}constructor(e){super(0),this._textureNode=e,this.updateType=ur.FRAME}get textureNode(){return this._textureNode}get texture(){return this._textureNode.value}update(){const e=this.texture,n=e.images,r=n&&n.length>0?n[0]&&n[0].image||n[0]:e.image;if(r&&r.width!==void 0){const{width:i,height:o}=r;this.value=Math.log2(Math.max(i,o))}}}const P$=ir(SXe).setParameterLength(1),N$=new Uo;class Ad extends Q2{static get type(){return"TextureNode"}constructor(e=N$,n=null,r=null,i=null){super(e),this.isTextureNode=!0,this.uvNode=n,this.levelNode=r,this.biasNode=i,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.offsetNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=ur.NONE,this.referenceNode=null,this._value=e,this._matrixUniform=null,this._flipYUniform=null,this.setUpdateMatrix(n===null)}set value(e){this.referenceNode?this.referenceNode.value=e:this._value=e}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":this.value.type===li?"uvec4":this.value.type===sa?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return fi(this.value.channel)}updateReference(){return this.value}getTransformedUV(e){return this._matrixUniform===null&&(this._matrixUniform=Nn(this.value.matrix)),this._matrixUniform.mul(He(e,1)).xy}setUpdateMatrix(e){return this.updateMatrix=e,this}setupUV(e,n){return e.isFlipY()&&(this._flipYUniform===null&&(this._flipYUniform=Nn(!1)),n=n.toVar(),this.sampler?n=this._flipYUniform.select(n.flipY(),n):n=this._flipYUniform.select(n.setY($e(tf(this,this.levelNode).y).sub(n.y).sub(1)),n)),n}setup(e){const n=e.getNodeProperties(this);n.referenceNode=this.referenceNode;const r=this.value;if(!r||r.isTexture!==!0)throw new Error("THREE.TSL: `texture( value )` function expects a valid instance of THREE.Texture().");const i=Qe(()=>{let a=this.uvNode;return(a===null||e.context.forceUVContext===!0)&&e.context.getUV&&(a=e.context.getUV(this,e)),a||(a=this.getDefaultUV()),this.updateMatrix===!0&&(a=this.getTransformedUV(a)),a=this.setupUV(e,a),this.updateType=this._matrixUniform!==null||this._flipYUniform!==null?ur.OBJECT:ur.NONE,a})();let o=this.levelNode;o===null&&e.context.getTextureLevel&&(o=e.context.getTextureLevel(this)),n.uvNode=i,n.levelNode=o,n.biasNode=this.biasNode,n.compareNode=this.compareNode,n.gradNode=this.gradNode,n.depthNode=this.depthNode,n.offsetNode=this.offsetNode}generateUV(e,n){return n.build(e,this.sampler===!0?"vec2":"ivec2")}generateOffset(e,n){return n.build(e,"ivec2")}generateSnippet(e,n,r,i,o,a,s,l,c){const u=this.value;let d;return o?d=e.generateTextureBias(u,n,r,o,a,c):l?d=e.generateTextureGrad(u,n,r,l,a,c):s?d=e.generateTextureCompare(u,n,r,s,a,c):this.sampler===!1?d=e.generateTextureLoad(u,n,r,i,a,c):i?d=e.generateTextureLevel(u,n,r,i,a,c):d=e.generateTexture(u,n,r,a,c),d}generate(e,n){const r=this.value,i=e.getNodeProperties(this),o=super.generate(e,"property");if(/^sampler/.test(n))return o+"_sampler";if(e.isReference(n))return o;{const a=e.getDataFromNode(this);let s=a.propertyName;if(s===void 0){const{uvNode:u,levelNode:d,biasNode:f,compareNode:h,depthNode:p,gradNode:x,offsetNode:b}=i,y=this.generateUV(e,u),_=d?d.build(e,"float"):null,C=f?f.build(e,"float"):null,E=p?p.build(e,"int"):null,M=h?h.build(e,"float"):null,R=x?[x[0].build(e,"vec2"),x[1].build(e,"vec2")]:null,N=b?this.generateOffset(e,b):null,O=e.getVarFromNode(this);s=e.getPropertyName(O);const I=this.generateSnippet(e,o,y,_,C,E,M,R,N);e.addLineFlowCode(`${s} = ${I}`,this),a.snippet=I,a.propertyName=s}let l=s;const c=this.getNodeType(e);return e.needsToWorkingColorSpace(r)&&(l=rR(vf(l,c),r.colorSpace).setup(e).build(e,c)),e.format(l,c,n)}}setSampler(e){return this.sampler=e,this}getSampler(){return this.sampler}uv(e){return Pt("TextureNode: .uv() has been renamed. Use .sample() instead."),this.sample(e)}sample(e){const n=this.clone();return n.uvNode=rn(e),n.referenceNode=this.getBase(),rn(n)}load(e){return this.sample(e).setSampler(!1)}blur(e){const n=this.clone();n.biasNode=rn(e).mul(P$(n)),n.referenceNode=this.getBase();const r=n.value;return n.generateMipmaps===!1&&(r&&r.generateMipmaps===!1||r.minFilter===ci||r.magFilter===ci)&&(Pt("TSL: texture().blur() requires mipmaps and sampling. Use .generateMipmaps=true and .minFilter/.magFilter=THREE.LinearFilter in the Texture."),n.biasNode=null),rn(n)}level(e){const n=this.clone();return n.levelNode=rn(e),n.referenceNode=this.getBase(),rn(n)}size(e){return tf(this,e)}bias(e){const n=this.clone();return n.biasNode=rn(e),n.referenceNode=this.getBase(),rn(n)}getBase(){return this.referenceNode?this.referenceNode.getBase():this}compare(e){const n=this.clone();return n.compareNode=rn(e),n.referenceNode=this.getBase(),rn(n)}grad(e,n){const r=this.clone();return r.gradNode=[rn(e),rn(n)],r.referenceNode=this.getBase(),rn(r)}depth(e){const n=this.clone();return n.depthNode=rn(e),n.referenceNode=this.getBase(),rn(n)}offset(e){const n=this.clone();return n.offsetNode=rn(e),n.referenceNode=this.getBase(),rn(n)}serialize(e){super.serialize(e),e.value=this.value.toJSON(e.meta).uuid,e.sampler=this.sampler,e.updateMatrix=this.updateMatrix,e.updateType=this.updateType}deserialize(e){super.deserialize(e),this.value=e.meta.textures[e.value],this.sampler=e.sampler,this.updateMatrix=e.updateMatrix,this.updateType=e.updateType}update(){const e=this.value,n=this._matrixUniform;n!==null&&(n.value=e.matrix),e.matrixAutoUpdate===!0&&e.updateMatrix();const r=this._flipYUniform;r!==null&&(r.value=e.image instanceof ImageBitmap&&e.flipY===!0||e.isRenderTargetTexture===!0||e.isFramebufferTexture===!0||e.isDepthTexture===!0)}clone(){const e=new this.constructor(this.value,this.uvNode,this.levelNode,this.biasNode);return e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e.offsetNode=this.offsetNode,e}}const _Xe=ir(Ad).setParameterLength(1,4).setName("texture"),qr=(t=N$,e=null,n=null,r=null)=>{let i;return t&&t.isTextureNode===!0?(i=rn(t.clone()),i.referenceNode=t.getBase(),e!==null&&(i.uvNode=rn(e)),n!==null&&(i.levelNode=rn(n)),r!==null&&(i.biasNode=rn(r))):i=_Xe(t,e,n,r),i},wXe=(t=N$)=>qr(t),so=(...t)=>qr(...t).setSampler(!1),CXe=(t,e,n)=>qr(t,e).level(n),TXe=t=>(t.isNode===!0?t:qr(t)).convert("sampler"),EXe=t=>(t.isNode===!0?t:qr(t)).convert("samplerComparison");class I$ extends Q2{static get type(){return"BufferNode"}constructor(e,n,r=0){super(e,n),this.isBufferNode=!0,this.bufferType=n,this.bufferCount=r,this.updateRanges=[]}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}getElementType(e){return this.getNodeType(e)}getInputType(){return"buffer"}}const J2=(t,e,n)=>new I$(t,e,n);class MXe extends x0{static get type(){return"UniformArrayElementNode"}constructor(e,n){super(e,n),this.isArrayBufferElementNode=!0}generate(e){const n=super.generate(e),r=this.getNodeType(),i=this.node.getPaddedType();return e.format(n,i,r)}}class RXe extends I${static get type(){return"UniformArrayNode"}constructor(e,n=null){super(null),this.array=e,this.elementType=n===null?Sh(e[0]):n,this.paddedType=this.getPaddedType(),this.updateType=ur.RENDER,this.isArrayBufferNode=!0}getNodeType(){return this.paddedType}getElementType(){return this.elementType}getPaddedType(){const e=this.elementType;let n="vec4";return e==="mat2"?n="mat2":/mat/.test(e)===!0?n="mat4":e.charAt(0)==="i"?n="ivec4":e.charAt(0)==="u"&&(n="uvec4"),n}update(){const{array:e,value:n}=this,r=this.elementType;if(r==="float"||r==="int"||r==="uint")for(let i=0;i<e.length;i++){const o=i*4;n[o]=e[i]}else if(r==="color")for(let i=0;i<e.length;i++){const o=i*4,a=e[i];n[o]=a.r,n[o+1]=a.g,n[o+2]=a.b||0}else if(r==="mat2")for(let i=0;i<e.length;i++){const o=i*4,a=e[i];n[o]=a.elements[0],n[o+1]=a.elements[1],n[o+2]=a.elements[2],n[o+3]=a.elements[3]}else if(r==="mat3")for(let i=0;i<e.length;i++){const o=i*16,a=e[i];n[o]=a.elements[0],n[o+1]=a.elements[1],n[o+2]=a.elements[2],n[o+4]=a.elements[3],n[o+5]=a.elements[4],n[o+6]=a.elements[5],n[o+8]=a.elements[6],n[o+9]=a.elements[7],n[o+10]=a.elements[8],n[o+15]=1}else if(r==="mat4")for(let i=0;i<e.length;i++){const o=i*16,a=e[i];for(let s=0;s<a.elements.length;s++)n[o+s]=a.elements[s]}else for(let i=0;i<e.length;i++){const o=i*4,a=e[i];n[o]=a.x,n[o+1]=a.y,n[o+2]=a.z||0,n[o+3]=a.w||0}}setup(e){const n=this.array.length,r=this.elementType;let i=Float32Array;const o=this.paddedType,a=e.getTypeLength(o);return r.charAt(0)==="i"&&(i=Int32Array),r.charAt(0)==="u"&&(i=Uint32Array),this.value=new i(n*a),this.bufferCount=n,this.bufferType=o,super.setup(e)}element(e){return new MXe(this,rn(e))}}const Qa=(t,e)=>new RXe(t,e);class PXe extends An{constructor(e){super("float"),this.name=e,this.isBuiltinNode=!0}generate(){return this.name}}const Pf=ir(PXe).setParameterLength(1);let f1,h1;class Ni extends An{static get type(){return"ScreenNode"}constructor(e){super(),this.scope=e,this._output=null,this.isViewportNode=!0}getNodeType(){return this.scope===Ni.DPR?"float":this.scope===Ni.VIEWPORT?"vec4":"vec2"}getUpdateType(){let e=ur.NONE;return(this.scope===Ni.SIZE||this.scope===Ni.VIEWPORT||this.scope===Ni.DPR)&&(e=ur.RENDER),this.updateType=e,e}update({renderer:e}){const n=e.getRenderTarget();this.scope===Ni.VIEWPORT?n!==null?h1.copy(n.viewport):(e.getViewport(h1),h1.multiplyScalar(e.getPixelRatio())):this.scope===Ni.DPR?this._output.value=e.getPixelRatio():n!==null?(f1.width=n.width,f1.height=n.height):e.getDrawingBufferSize(f1)}setup(){const e=this.scope;let n=null;return e===Ni.SIZE?n=Nn(f1||(f1=new Ft)):e===Ni.VIEWPORT?n=Nn(h1||(h1=new nr)):e===Ni.DPR?n=Nn(1):n=jt(_0.div(i0)),this._output=n,n}generate(e){if(this.scope===Ni.COORDINATE){let n=e.getFragCoord();if(e.isFlipY()){const r=e.getNodeProperties(i0).outputNode.build(e);n=`${e.getType("vec2")}( ${n}.x, ${r}.y - ${n}.y )`}return n}return super.generate(e)}}Ni.COORDINATE="coordinate";Ni.VIEWPORT="viewport";Ni.SIZE="size";Ni.UV="uv";Ni.DPR="dpr";const Hse=en(Ni,Ni.DPR),nf=en(Ni,Ni.UV),i0=en(Ni,Ni.SIZE),_0=en(Ni,Ni.COORDINATE),D$=en(Ni,Ni.VIEWPORT),O$=D$.zw,jse=_0.sub(D$.xy),NXe=jse.div(O$),IXe=Qe(()=>(Pt('TSL: "viewportResolution" is deprecated. Use "screenSize" instead.'),i0),"vec2").once()(),hp=Nn(0,"uint").setName("u_cameraIndex").setGroup(QM("cameraIndex")).toVarying("v_cameraIndex"),hh=Nn("float").setName("cameraNear").setGroup(Pn).onRenderUpdate(({camera:t})=>t.near),ph=Nn("float").setName("cameraFar").setGroup(Pn).onRenderUpdate(({camera:t})=>t.far),rf=Qe(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(const i of t.cameras)n.push(i.projectionMatrix);e=Qa(n).setGroup(Pn).setName("cameraProjectionMatrices").element(t.isMultiViewCamera?Pf("gl_ViewID_OVR"):hp).toConst("cameraProjectionMatrix")}else e=Nn("mat4").setName("cameraProjectionMatrix").setGroup(Pn).onRenderUpdate(({camera:n})=>n.projectionMatrix);return e}).once()(),DXe=Qe(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(const i of t.cameras)n.push(i.projectionMatrixInverse);e=Qa(n).setGroup(Pn).setName("cameraProjectionMatricesInverse").element(t.isMultiViewCamera?Pf("gl_ViewID_OVR"):hp).toConst("cameraProjectionMatrixInverse")}else e=Nn("mat4").setName("cameraProjectionMatrixInverse").setGroup(Pn).onRenderUpdate(({camera:n})=>n.projectionMatrixInverse);return e}).once()(),Dc=Qe(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(const i of t.cameras)n.push(i.matrixWorldInverse);e=Qa(n).setGroup(Pn).setName("cameraViewMatrices").element(t.isMultiViewCamera?Pf("gl_ViewID_OVR"):hp).toConst("cameraViewMatrix")}else e=Nn("mat4").setName("cameraViewMatrix").setGroup(Pn).onRenderUpdate(({camera:n})=>n.matrixWorldInverse);return e}).once()(),OXe=Qe(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(const i of t.cameras)n.push(i.matrixWorld);e=Qa(n).setGroup(Pn).setName("cameraWorldMatrices").element(t.isMultiViewCamera?Pf("gl_ViewID_OVR"):hp).toConst("cameraWorldMatrix")}else e=Nn("mat4").setName("cameraWorldMatrix").setGroup(Pn).onRenderUpdate(({camera:n})=>n.matrixWorld);return e}).once()(),LXe=Qe(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(const i of t.cameras)n.push(i.normalMatrix);e=Qa(n).setGroup(Pn).setName("cameraNormalMatrices").element(t.isMultiViewCamera?Pf("gl_ViewID_OVR"):hp).toConst("cameraNormalMatrix")}else e=Nn("mat3").setName("cameraNormalMatrix").setGroup(Pn).onRenderUpdate(({camera:n})=>n.normalMatrix);return e}).once()(),qse=Qe(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(let i=0,o=t.cameras.length;i<o;i++)n.push(new ve);e=Qa(n).setGroup(Pn).setName("cameraPositions").onRenderUpdate(({camera:i},o)=>{const a=i.cameras,s=o.array;for(let l=0,c=a.length;l<c;l++)s[l].setFromMatrixPosition(a[l].matrixWorld)}).element(t.isMultiViewCamera?Pf("gl_ViewID_OVR"):hp).toConst("cameraPosition")}else e=Nn(new ve).setName("cameraPosition").setGroup(Pn).onRenderUpdate(({camera:n},r)=>r.value.setFromMatrixPosition(n.matrixWorld));return e}).once()(),BXe=Qe(({camera:t})=>{let e;if(t.isArrayCamera&&t.cameras.length>0){const n=[];for(const i of t.cameras)n.push(i.viewport);e=Qa(n,"vec4").setGroup(Pn).setName("cameraViewports").element(hp).toConst("cameraViewport")}else e=Fn(0,0,i0.x,i0.y).toConst("cameraViewport");return e}).once()(),Tq=new dp;class Ir extends An{static get type(){return"Object3DNode"}constructor(e,n=null){super(),this.scope=e,this.object3d=n,this.updateType=ur.OBJECT,this.uniformNode=new Q2(null)}getNodeType(){const e=this.scope;if(e===Ir.WORLD_MATRIX)return"mat4";if(e===Ir.POSITION||e===Ir.VIEW_POSITION||e===Ir.DIRECTION||e===Ir.SCALE)return"vec3";if(e===Ir.RADIUS)return"float"}update(e){const n=this.object3d,r=this.uniformNode,i=this.scope;if(i===Ir.WORLD_MATRIX)r.value=n.matrixWorld;else if(i===Ir.POSITION)r.value=r.value||new ve,r.value.setFromMatrixPosition(n.matrixWorld);else if(i===Ir.SCALE)r.value=r.value||new ve,r.value.setFromMatrixScale(n.matrixWorld);else if(i===Ir.DIRECTION)r.value=r.value||new ve,n.getWorldDirection(r.value);else if(i===Ir.VIEW_POSITION){const o=e.camera;r.value=r.value||new ve,r.value.setFromMatrixPosition(n.matrixWorld),r.value.applyMatrix4(o.matrixWorldInverse)}else if(i===Ir.RADIUS){const o=e.object.geometry;o.boundingSphere===null&&o.computeBoundingSphere(),Tq.copy(o.boundingSphere).applyMatrix4(n.matrixWorld),r.value=Tq.radius}}generate(e){const n=this.scope;return n===Ir.WORLD_MATRIX?this.uniformNode.nodeType="mat4":n===Ir.POSITION||n===Ir.VIEW_POSITION||n===Ir.DIRECTION||n===Ir.SCALE?this.uniformNode.nodeType="vec3":n===Ir.RADIUS&&(this.uniformNode.nodeType="float"),this.uniformNode.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}Ir.WORLD_MATRIX="worldMatrix";Ir.POSITION="position";Ir.SCALE="scale";Ir.VIEW_POSITION="viewPosition";Ir.DIRECTION="direction";Ir.RADIUS="radius";const FXe=ir(Ir,Ir.DIRECTION).setParameterLength(1),$Xe=ir(Ir,Ir.WORLD_MATRIX).setParameterLength(1),Wse=ir(Ir,Ir.POSITION).setParameterLength(1),UXe=ir(Ir,Ir.SCALE).setParameterLength(1),kXe=ir(Ir,Ir.VIEW_POSITION).setParameterLength(1),VXe=ir(Ir,Ir.RADIUS).setParameterLength(1);class Mc extends Ir{static get type(){return"ModelNode"}constructor(e){super(e)}update(e){this.object3d=e.object,super.update(e)}}const zXe=en(Mc,Mc.DIRECTION),cc=en(Mc,Mc.WORLD_MATRIX),GXe=en(Mc,Mc.POSITION),HXe=en(Mc,Mc.SCALE),jXe=en(Mc,Mc.VIEW_POSITION),qXe=en(Mc,Mc.RADIUS),Xse=Nn(new Ar).onObjectUpdate(({object:t},e)=>e.value.getNormalMatrix(t.matrixWorld)),WXe=Nn(new ar).onObjectUpdate(({object:t},e)=>e.value.copy(t.matrixWorld).invert()),pp=Qe(t=>t.context.modelViewMatrix||Yse).once()().toVar("modelViewMatrix"),Yse=Dc.mul(cc),p6=Qe(t=>(t.context.isHighPrecisionModelViewMatrix=!0,Nn("mat4").onObjectUpdate(({object:e,camera:n})=>e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld)))).once()().toVar("highpModelViewMatrix"),m6=Qe(t=>{const e=t.context.isHighPrecisionModelViewMatrix;return Nn("mat3").onObjectUpdate(({object:n,camera:r})=>(e!==!0&&n.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,n.matrixWorld),n.normalMatrix.getNormalMatrix(n.modelViewMatrix)))}).once()().toVar("highpModelNormalViewMatrix"),eS=yf("position","vec3"),Ki=eS.toVarying("positionLocal"),kE=eS.toVarying("positionPrevious"),ld=Qe(t=>cc.mul(Ki).xyz.toVarying(t.getSubBuildProperty("v_positionWorld")),"vec3").once(["POSITION"])(),L$=Qe(()=>Ki.transformDirection(cc).toVarying("v_positionWorldDirection").normalize().toVar("positionWorldDirection"),"vec3").once(["POSITION"])(),So=Qe(t=>t.context.setupPositionView().toVarying("v_positionView"),"vec3").once(["POSITION"])(),gi=Qe(t=>{let e;return t.camera.isOrthographicCamera?e=He(0,0,1):e=So.negate().toVarying("v_positionViewDirection").normalize(),e.toVar("positionViewDirection")},"vec3").once(["POSITION"])();class XXe extends An{static get type(){return"FrontFacingNode"}constructor(){super("bool"),this.isFrontFacingNode=!0}generate(e){if(e.shaderStage!=="fragment")return"true";const{material:n}=e;return n.side===ui?"false":e.getFrontFacing()}}const Kse=en(XXe),B$=ge(Kse).mul(2).sub(1),gy=Qe(([t],{material:e})=>{const n=e.side;return n===ui?t=t.mul(-1):n===To&&(t=t.mul(B$)),t}),oR=yf("normal","vec3"),al=Qe(t=>t.geometry.hasAttribute("normal")===!1?(Pt('TSL: Vertex attribute "normal" not found on geometry.'),He(0,1,0)):oR,"vec3").once()().toVar("normalLocal"),Qse=So.dFdx().cross(So.dFdy()).normalize().toVar("normalFlat"),Ov=Qe(t=>{let e;return t.material.flatShading===!0?e=Qse:e=F$(al).toVarying("v_normalViewGeometry").normalize(),e},"vec3").once()().toVar("normalViewGeometry"),Zse=Qe(t=>{let e=Ov.transformDirection(Dc);return t.material.flatShading!==!0&&(e=e.toVarying("v_normalWorldGeometry")),e.normalize().toVar("normalWorldGeometry")},"vec3").once()(),kr=Qe(({subBuildFn:t,material:e,context:n})=>{let r;return t==="NORMAL"||t==="VERTEX"?(r=Ov,e.flatShading!==!0&&(r=gy(r))):r=n.setupNormal().context({getUV:null}),r},"vec3").once(["NORMAL","VERTEX"])().toVar("normalView"),mp=kr.transformDirection(Dc).toVar("normalWorld"),xm=Qe(({subBuildFn:t,context:e})=>{let n;return t==="NORMAL"||t==="VERTEX"?n=kr:n=e.setupClearcoatNormal().context({getUV:null}),n},"vec3").once(["NORMAL","VERTEX"])().toVar("clearcoatNormalView"),Jse=Qe(([t,e=cc])=>{const n=La(e),r=t.div(He(n[0].dot(n[0]),n[1].dot(n[1]),n[2].dot(n[2])));return n.mul(r).xyz}),F$=Qe(([t],e)=>{const n=e.context.modelNormalViewMatrix;if(n)return n.transformDirection(t);const r=Xse.mul(t);return Dc.transformDirection(r)}),YXe=Qe(()=>(Pt('TSL: "transformedNormalView" is deprecated. Use "normalView" instead.'),kr)).once(["NORMAL","VERTEX"])(),KXe=Qe(()=>(Pt('TSL: "transformedNormalWorld" is deprecated. Use "normalWorld" instead.'),mp)).once(["NORMAL","VERTEX"])(),QXe=Qe(()=>(Pt('TSL: "transformedClearcoatNormalView" is deprecated. Use "clearcoatNormalView" instead.'),xm)).once(["NORMAL","VERTEX"])(),Eq=new Oa,kN=new ar,ele=Nn(0).onReference(({material:t})=>t).onObjectUpdate(({material:t})=>t.refractionRatio),UC=Nn(1).onReference(({material:t})=>t).onObjectUpdate(function({material:t,scene:e}){return t.envMap?t.envMapIntensity:e.environmentIntensity}),$$=Nn(new ar).onReference(function(t){return t.material}).onObjectUpdate(function({material:t,scene:e}){const n=e.environment!==null&&t.envMap===null?e.environmentRotation:t.envMapRotation;return n?(Eq.copy(n),kN.makeRotationFromEuler(Eq)):kN.identity(),kN}),tle=gi.negate().reflect(kr),nle=gi.negate().refract(kr,ele),rle=tle.transformDirection(Dc).toVar("reflectVector"),ile=nle.transformDirection(Dc).toVar("reflectVector"),ole=new j2;class ZXe extends Ad{static get type(){return"CubeTextureNode"}constructor(e,n=null,r=null,i=null){super(e,n,r,i),this.isCubeTextureNode=!0}getInputType(){return this.value.isDepthTexture===!0?"cubeDepthTexture":"cubeTexture"}getDefaultUV(){const e=this.value;return e.mapping===hu?rle:e.mapping===md?ile:($t('CubeTextureNode: Mapping "%s" not supported.',e.mapping),He(0,0,0))}setUpdateMatrix(){}setupUV(e,n){const r=this.value;return r.isDepthTexture===!0?e.renderer.coordinateSystem===wc?He(n.x,n.y.negate(),n.z):n:((e.renderer.coordinateSystem===wc||!r.isRenderTargetTexture)&&(n=He(n.x.negate(),n.yz)),$$.mul(n))}generateUV(e,n){return n.build(e,this.sampler===!0?"vec3":"ivec3")}}const U$=ir(ZXe).setParameterLength(1,4).setName("cubeTexture"),xs=(t=ole,e=null,n=null,r=null)=>{let i;return t&&t.isCubeTextureNode===!0?(i=rn(t.clone()),i.referenceNode=t,e!==null&&(i.uvNode=rn(e)),n!==null&&(i.levelNode=rn(n)),r!==null&&(i.biasNode=rn(r))):i=U$(t,e,n,r),i},JXe=(t=ole)=>U$(t);class eYe extends x0{static get type(){return"ReferenceElementNode"}constructor(e,n){super(e,n),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const n=super.generate(e),r=this.referenceNode.getNodeType(),i=this.getNodeType();return e.format(n,r,i)}}class aR extends An{static get type(){return"ReferenceNode"}constructor(e,n,r=null,i=null){super(),this.property=e,this.uniformType=n,this.object=r,this.count=i,this.properties=e.split("."),this.reference=r,this.node=null,this.group=null,this.name=null,this.updateType=ur.OBJECT}element(e){return new eYe(this,rn(e))}setGroup(e){return this.group=e,this}setName(e){return this.name=e,this}label(e){return Pt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(e)}setNodeType(e){let n=null;this.count!==null?n=J2(null,e,this.count):Array.isArray(this.getValueFromReference())?n=Qa(null,e):e==="texture"?n=qr(null):e==="cubeTexture"?n=xs(null):n=Nn(null,e),this.group!==null&&n.setGroup(this.group),this.name!==null&&n.setName(this.name),this.node=n}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:n}=this;let r=e[n[0]];for(let i=1;i<n.length;i++)r=r[n[i]];return r}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const ai=(t,e,n)=>new aR(t,e,n),g6=(t,e,n,r)=>new aR(t,e,r,n);class tYe extends aR{static get type(){return"MaterialReferenceNode"}constructor(e,n,r=null){super(e,n,r),this.material=r,this.isMaterialReferenceNode=!0}updateReference(e){return this.reference=this.material!==null?this.material:e.material,this.reference}}const Vd=(t,e,n=null)=>new tYe(t,e,n),ale=fi(),nYe=So.dFdx(),rYe=So.dFdy(),sle=ale.dFdx(),lle=ale.dFdy(),cle=kr,ule=rYe.cross(cle),dle=cle.cross(nYe),A6=ule.mul(sle.x).add(dle.mul(lle.x)),v6=ule.mul(sle.y).add(dle.mul(lle.y)),Mq=A6.dot(A6).max(v6.dot(v6)),fle=Mq.equal(0).select(0,Mq.inverseSqrt()),iYe=A6.mul(fle).toVar("tangentViewFrame"),oYe=v6.mul(fle).toVar("bitangentViewFrame"),sR=yf("tangent","vec4"),tS=sR.xyz.toVar("tangentLocal"),lR=Qe(({subBuildFn:t,geometry:e,material:n})=>{let r;return t==="VERTEX"||e.hasAttribute("tangent")?r=pp.mul(Fn(tS,0)).xyz.toVarying("v_tangentView").normalize():r=iYe,n.flatShading!==!0&&(r=gy(r)),r},"vec3").once(["NORMAL","VERTEX"])().toVar("tangentView"),hle=lR.transformDirection(Dc).toVarying("v_tangentWorld").normalize().toVar("tangentWorld"),cR=Qe(([t,e],{subBuildFn:n,material:r})=>{let i=t.mul(sR.w).xyz;return n==="NORMAL"&&r.flatShading!==!0&&(i=i.toVarying(e)),i}).once(["NORMAL"]),aYe=cR(oR.cross(sR),"v_bitangentGeometry").normalize().toVar("bitangentGeometry"),sYe=cR(al.cross(tS),"v_bitangentLocal").normalize().toVar("bitangentLocal"),ple=Qe(({subBuildFn:t,geometry:e,material:n})=>{let r;return t==="VERTEX"||e.hasAttribute("tangent")?r=cR(kr.cross(lR),"v_bitangentView").normalize():r=oYe,n.flatShading!==!0&&(r=gy(r)),r},"vec3").once(["NORMAL","VERTEX"])().toVar("bitangentView"),lYe=cR(mp.cross(hle),"v_bitangentWorld").normalize().toVar("bitangentWorld"),Sm=La(lR,ple,kr).toVar("TBNViewMatrix"),mle=gi.mul(Sm),cYe=(t,e)=>t.sub(mle.mul(e)),gle=Qe(()=>{let t=Dm.cross(gi);return t=t.cross(Dm).normalize(),t=Dr(t,kr,lh.mul(Wu.oneMinus()).oneMinus().pow2().pow2()).normalize(),t}).once()(),Ale=t=>rn(t).mul(.5).add(.5),uYe=t=>rn(t).mul(2).sub(1),y6=t=>He(t,Ja(nR(ge(1).sub(Ec(t,t)))));class dYe extends no{static get type(){return"NormalMapNode"}constructor(e,n=null){super("vec3"),this.node=e,this.scaleNode=n,this.normalMapType=td,this.unpackNormalMode=H4}setup({material:e}){const{normalMapType:n,scaleNode:r,unpackNormalMode:i}=this;let o=this.node.mul(2).sub(1);if(n===td?i===cie?o=y6(o.xy):i===nLe?o=y6(o.yw):i!==H4&&console.error(`THREE.NodeMaterial: Unexpected unpack normal mode: ${i}`):i!==H4&&console.error(`THREE.NodeMaterial: Normal map type '${n}' is not compatible with unpack normal mode '${i}'`),r!==null){let s=r;e.flatShading===!0&&(s=gy(s)),o=He(o.xy.mul(s),o.z)}let a=null;return n===lie?a=F$(o):n===td?a=Sm.mul(o).normalize():($t(`NodeMaterial: Unsupported normal map type: ${n}`),a=kr),a}}const b6=ir(dYe).setParameterLength(1,2),fYe=Qe(({textureNode:t,bumpScale:e})=>{const n=i=>t.isolate().context({getUV:o=>i(o.uvNode||fi()),forceUVContext:!0}),r=ge(n(i=>i));return jt(ge(n(i=>i.add(i.dFdx()))).sub(r),ge(n(i=>i.add(i.dFdy()))).sub(r)).mul(e)}),hYe=Qe(t=>{const{surf_pos:e,surf_norm:n,dHdxy:r}=t,i=e.dFdx().normalize(),o=e.dFdy().normalize(),a=n,s=o.cross(a),l=a.cross(i),c=i.dot(s).mul(B$),u=c.sign().mul(r.x.mul(s).add(r.y.mul(l)));return c.abs().mul(n).sub(u).normalize()});class pYe extends no{static get type(){return"BumpMapNode"}constructor(e,n=null){super("vec3"),this.textureNode=e,this.scaleNode=n}setup(){const e=this.scaleNode!==null?this.scaleNode:1,n=fYe({textureNode:this.textureNode,bumpScale:e});return hYe({surf_pos:So,surf_norm:kr,dHdxy:n})}}const k$=ir(pYe).setParameterLength(1,2),Rq=new Map;class Rt extends An{static get type(){return"MaterialNode"}constructor(e){super(),this.scope=e}getCache(e,n){let r=Rq.get(e);return r===void 0&&(r=Vd(e,n),Rq.set(e,r)),r}getFloat(e){return this.getCache(e,"float")}getColor(e){return this.getCache(e,"color")}getTexture(e){return this.getCache(e==="map"?"map":e+"Map","texture")}setup(e){const n=e.context.material,r=this.scope;let i=null;if(r===Rt.COLOR){const o=n.color!==void 0?this.getColor(r):He();n.map&&n.map.isTexture===!0?i=o.mul(this.getTexture("map")):i=o}else if(r===Rt.OPACITY){const o=this.getFloat(r);n.alphaMap&&n.alphaMap.isTexture===!0?i=o.mul(this.getTexture("alpha")):i=o}else if(r===Rt.SPECULAR_STRENGTH)n.specularMap&&n.specularMap.isTexture===!0?i=this.getTexture("specular").r:i=ge(1);else if(r===Rt.SPECULAR_INTENSITY){const o=this.getFloat(r);n.specularIntensityMap&&n.specularIntensityMap.isTexture===!0?i=o.mul(this.getTexture(r).a):i=o}else if(r===Rt.SPECULAR_COLOR){const o=this.getColor(r);n.specularColorMap&&n.specularColorMap.isTexture===!0?i=o.mul(this.getTexture(r).rgb):i=o}else if(r===Rt.ROUGHNESS){const o=this.getFloat(r);n.roughnessMap&&n.roughnessMap.isTexture===!0?i=o.mul(this.getTexture(r).g):i=o}else if(r===Rt.METALNESS){const o=this.getFloat(r);n.metalnessMap&&n.metalnessMap.isTexture===!0?i=o.mul(this.getTexture(r).b):i=o}else if(r===Rt.EMISSIVE){const o=this.getFloat("emissiveIntensity"),a=this.getColor(r).mul(o);n.emissiveMap&&n.emissiveMap.isTexture===!0?i=a.mul(this.getTexture(r)):i=a}else if(r===Rt.NORMAL)n.normalMap?(i=b6(this.getTexture("normal"),this.getCache("normalScale","vec2")),i.normalMapType=n.normalMapType,(n.normalMap.format==_s||n.normalMap.format==Zm||n.normalMap.format==Qm)&&(i.unpackNormalMode=cie)):n.bumpMap?i=k$(this.getTexture("bump").r,this.getFloat("bumpScale")):i=kr;else if(r===Rt.CLEARCOAT){const o=this.getFloat(r);n.clearcoatMap&&n.clearcoatMap.isTexture===!0?i=o.mul(this.getTexture(r).r):i=o}else if(r===Rt.CLEARCOAT_ROUGHNESS){const o=this.getFloat(r);n.clearcoatRoughnessMap&&n.clearcoatRoughnessMap.isTexture===!0?i=o.mul(this.getTexture(r).r):i=o}else if(r===Rt.CLEARCOAT_NORMAL)n.clearcoatNormalMap?i=b6(this.getTexture(r),this.getCache(r+"Scale","vec2")):i=kr;else if(r===Rt.SHEEN){const o=this.getColor("sheenColor").mul(this.getFloat("sheen"));n.sheenColorMap&&n.sheenColorMap.isTexture===!0?i=o.mul(this.getTexture("sheenColor").rgb):i=o}else if(r===Rt.SHEEN_ROUGHNESS){const o=this.getFloat(r);n.sheenRoughnessMap&&n.sheenRoughnessMap.isTexture===!0?i=o.mul(this.getTexture(r).a):i=o,i=i.clamp(1e-4,1)}else if(r===Rt.ANISOTROPY)if(n.anisotropyMap&&n.anisotropyMap.isTexture===!0){const o=this.getTexture(r);i=YM(Ig.x,Ig.y,Ig.y.negate(),Ig.x).mul(o.rg.mul(2).sub(jt(1)).normalize().mul(o.b))}else i=Ig;else if(r===Rt.IRIDESCENCE_THICKNESS){const o=ai("1","float",n.iridescenceThicknessRange);if(n.iridescenceThicknessMap){const a=ai("0","float",n.iridescenceThicknessRange);i=o.sub(a).mul(this.getTexture(r).g).add(a)}else i=o}else if(r===Rt.TRANSMISSION){const o=this.getFloat(r);n.transmissionMap?i=o.mul(this.getTexture(r).r):i=o}else if(r===Rt.THICKNESS){const o=this.getFloat(r);n.thicknessMap?i=o.mul(this.getTexture(r).g):i=o}else if(r===Rt.IOR)i=this.getFloat(r);else if(r===Rt.LIGHT_MAP)i=this.getTexture(r).rgb.mul(this.getFloat("lightMapIntensity"));else if(r===Rt.AO)i=this.getTexture(r).r.sub(1).mul(this.getFloat("aoMapIntensity")).add(1);else if(r===Rt.LINE_DASH_OFFSET)i=n.dashOffset?this.getFloat(r):ge(0);else{const o=this.getNodeType(e);i=this.getCache(r,o)}return i}}Rt.ALPHA_TEST="alphaTest";Rt.COLOR="color";Rt.OPACITY="opacity";Rt.SHININESS="shininess";Rt.SPECULAR="specular";Rt.SPECULAR_STRENGTH="specularStrength";Rt.SPECULAR_INTENSITY="specularIntensity";Rt.SPECULAR_COLOR="specularColor";Rt.REFLECTIVITY="reflectivity";Rt.ROUGHNESS="roughness";Rt.METALNESS="metalness";Rt.NORMAL="normal";Rt.CLEARCOAT="clearcoat";Rt.CLEARCOAT_ROUGHNESS="clearcoatRoughness";Rt.CLEARCOAT_NORMAL="clearcoatNormal";Rt.EMISSIVE="emissive";Rt.ROTATION="rotation";Rt.SHEEN="sheen";Rt.SHEEN_ROUGHNESS="sheenRoughness";Rt.ANISOTROPY="anisotropy";Rt.IRIDESCENCE="iridescence";Rt.IRIDESCENCE_IOR="iridescenceIOR";Rt.IRIDESCENCE_THICKNESS="iridescenceThickness";Rt.IOR="ior";Rt.TRANSMISSION="transmission";Rt.THICKNESS="thickness";Rt.ATTENUATION_DISTANCE="attenuationDistance";Rt.ATTENUATION_COLOR="attenuationColor";Rt.LINE_SCALE="scale";Rt.LINE_DASH_SIZE="dashSize";Rt.LINE_GAP_SIZE="gapSize";Rt.LINE_WIDTH="linewidth";Rt.LINE_DASH_OFFSET="dashOffset";Rt.POINT_SIZE="size";Rt.DISPERSION="dispersion";Rt.LIGHT_MAP="light";Rt.AO="ao";const vle=en(Rt,Rt.ALPHA_TEST),yle=en(Rt,Rt.COLOR),ble=en(Rt,Rt.SHININESS),xle=en(Rt,Rt.EMISSIVE),V$=en(Rt,Rt.OPACITY),Sle=en(Rt,Rt.SPECULAR),x6=en(Rt,Rt.SPECULAR_INTENSITY),_le=en(Rt,Rt.SPECULAR_COLOR),Nb=en(Rt,Rt.SPECULAR_STRENGTH),kC=en(Rt,Rt.REFLECTIVITY),wle=en(Rt,Rt.ROUGHNESS),Cle=en(Rt,Rt.METALNESS),Tle=en(Rt,Rt.NORMAL),Ele=en(Rt,Rt.CLEARCOAT),Mle=en(Rt,Rt.CLEARCOAT_ROUGHNESS),Rle=en(Rt,Rt.CLEARCOAT_NORMAL),Ple=en(Rt,Rt.ROTATION),Nle=en(Rt,Rt.SHEEN),Ile=en(Rt,Rt.SHEEN_ROUGHNESS),Dle=en(Rt,Rt.ANISOTROPY),Ole=en(Rt,Rt.IRIDESCENCE),Lle=en(Rt,Rt.IRIDESCENCE_IOR),Ble=en(Rt,Rt.IRIDESCENCE_THICKNESS),Fle=en(Rt,Rt.TRANSMISSION),$le=en(Rt,Rt.THICKNESS),Ule=en(Rt,Rt.IOR),kle=en(Rt,Rt.ATTENUATION_DISTANCE),Vle=en(Rt,Rt.ATTENUATION_COLOR),zle=en(Rt,Rt.LINE_SCALE),Gle=en(Rt,Rt.LINE_DASH_SIZE),Hle=en(Rt,Rt.LINE_GAP_SIZE),mYe=en(Rt,Rt.LINE_WIDTH),jle=en(Rt,Rt.LINE_DASH_OFFSET),qle=en(Rt,Rt.POINT_SIZE),Wle=en(Rt,Rt.DISPERSION),z$=en(Rt,Rt.LIGHT_MAP),Xle=en(Rt,Rt.AO),Ig=Nn(new Ft).onReference(function(t){return t.material}).onRenderUpdate(function({material:t}){this.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation))}),Yle=Qe(t=>t.context.setupModelViewProjection(),"vec4").once()().toVarying("v_modelViewProjection");class gYe extends x0{static get type(){return"StorageArrayElementNode"}constructor(e,n){super(e,n),this.isStorageArrayElementNode=!0}set storageBufferNode(e){this.node=e}get storageBufferNode(){return this.node}getMemberType(e,n){const r=this.storageBufferNode.structTypeNode;return r?r.getMemberType(e,n):"void"}setup(e){return e.isAvailable("storageBuffer")===!1&&this.node.isPBO===!0&&e.setupPBO(this.node),super.setup(e)}generate(e,n){let r;const i=e.context.assign;if(e.isAvailable("storageBuffer")===!1?this.node.isPBO===!0&&i!==!0&&(this.node.value.isInstancedBufferAttribute||e.shaderStage!=="compute")?r=e.generatePBO(this):r=this.node.build(e):r=super.generate(e),i!==!0){const o=this.getNodeType(e);r=e.format(r,o,n)}return r}}const AYe=ir(gYe).setParameterLength(2);class vYe extends I${static get type(){return"StorageBufferNode"}constructor(e,n=null,r=0){let i,o=null;n&&n.isStruct?(i="struct",o=n.layout,(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)&&(r=e.count)):n===null&&(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)?(i=oae(e.itemSize),r=e.count):i=n,super(e,i,r),this.isStorageBufferNode=!0,this.structTypeNode=o,this.access=Ta.READ_WRITE,this.isAtomic=!1,this.isPBO=!1,this._attribute=null,this._varying=null,this.global=!0,e.isStorageBufferAttribute!==!0&&e.isStorageInstancedBufferAttribute!==!0&&(e.isInstancedBufferAttribute?e.isStorageInstancedBufferAttribute=!0:e.isStorageBufferAttribute=!0)}getHash(e){if(this.bufferCount===0){let n=e.globalCache.getData(this.value);return n===void 0&&(n={node:this},e.globalCache.setData(this.value,n)),n.node.uuid}return this.uuid}getInputType(){return this.value.isIndirectStorageBufferAttribute?"indirectStorageBuffer":"storageBuffer"}element(e){return AYe(this,e)}setPBO(e){return this.isPBO=e,this}getPBO(){return this.isPBO}setAccess(e){return this.access=e,this}toReadOnly(){return this.setAccess(Ta.READ_ONLY)}setAtomic(e){return this.isAtomic=e,this}toAtomic(){return this.setAtomic(!0)}getAttributeData(){return this._attribute===null&&(this._attribute=M$(this.value),this._varying=_d(this._attribute)),{attribute:this._attribute,varying:this._varying}}getNodeType(e){if(this.structTypeNode!==null)return this.structTypeNode.getNodeType(e);if(e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.getNodeType(e);const{attribute:n}=this.getAttributeData();return n.getNodeType(e)}getMemberType(e,n){return this.structTypeNode!==null?this.structTypeNode.getMemberType(e,n):"void"}generate(e){if(this.structTypeNode!==null&&this.structTypeNode.build(e),e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.generate(e);const{attribute:n,varying:r}=this.getAttributeData(),i=r.build(e);return e.registerTransform(i,n),i}}const of=(t,e=null,n=0)=>new vYe(t,e,n),yYe=(t,e,n)=>(Pt('TSL: "storageObject()" is deprecated. Use "storage().setPBO( true )" instead.'),of(t,e,n).setPBO(!0));class Vi extends An{static get type(){return"IndexNode"}constructor(e){super("uint"),this.scope=e,this.isIndexNode=!0}generate(e){const n=this.getNodeType(e),r=this.scope;let i;if(r===Vi.VERTEX)i=e.getVertexIndex();else if(r===Vi.INSTANCE)i=e.getInstanceIndex();else if(r===Vi.DRAW)i=e.getDrawIndex();else if(r===Vi.INVOCATION_LOCAL)i=e.getInvocationLocalIndex();else if(r===Vi.INVOCATION_SUBGROUP)i=e.getInvocationSubgroupIndex();else if(r===Vi.SUBGROUP)i=e.getSubgroupIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+r);let o;return e.shaderStage==="vertex"||e.shaderStage==="compute"?o=i:o=_d(this).build(e,n),o}}Vi.VERTEX="vertex";Vi.INSTANCE="instance";Vi.SUBGROUP="subgroup";Vi.INVOCATION_LOCAL="invocationLocal";Vi.INVOCATION_SUBGROUP="invocationSubgroup";Vi.DRAW="draw";const Kle=en(Vi,Vi.VERTEX),cd=en(Vi,Vi.INSTANCE),bYe=en(Vi,Vi.SUBGROUP),xYe=en(Vi,Vi.INVOCATION_SUBGROUP),SYe=en(Vi,Vi.INVOCATION_LOCAL),Qle=en(Vi,Vi.DRAW);class Zle extends An{static get type(){return"InstanceNode"}constructor(e,n,r=null){super("void"),this.count=e,this.instanceMatrix=n,this.instanceColor=r,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=ur.FRAME,this.buffer=null,this.bufferColor=null}get isStorageMatrix(){const{instanceMatrix:e}=this;return e&&e.isStorageInstancedBufferAttribute===!0}get isStorageColor(){const{instanceColor:e}=this;return e&&e.isStorageInstancedBufferAttribute===!0}setup(e){const{instanceMatrix:n,instanceColor:r,isStorageMatrix:i,isStorageColor:o}=this,{count:a}=n;let{instanceMatrixNode:s,instanceColorNode:l}=this;if(s===null){if(i)s=of(n,"mat4",Math.max(a,1)).element(cd);else if(a<=1e3)s=J2(n.array,"mat4",Math.max(a,1)).element(cd);else{const u=new YT(n.array,16,1);this.buffer=u;const d=n.usage===gm?h6:UE,f=[d(u,"vec4",16,0),d(u,"vec4",16,4),d(u,"vec4",16,8),d(u,"vec4",16,12)];s=kh(...f)}this.instanceMatrixNode=s}if(r&&l===null){if(o)l=of(r,"vec3",Math.max(r.count,1)).element(cd);else{const u=new Uh(r.array,3),d=r.usage===gm?h6:UE;this.bufferColor=u,l=He(d(u,"vec3",3,0))}this.instanceColorNode=l}const c=s.mul(Ki).xyz;if(Ki.assign(c),e.hasGeometryAttribute("normal")){const u=Jse(al,s);al.assign(u)}this.instanceColorNode!==null&&Kx("vec3","vInstanceColor").assign(this.instanceColorNode)}update(){this.buffer!==null&&this.isStorageMatrix!==!0&&(this.buffer.clearUpdateRanges(),this.buffer.updateRanges.push(...this.instanceMatrix.updateRanges),this.instanceMatrix.usage!==gm&&this.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMatrix.version)),this.instanceColor&&this.bufferColor!==null&&this.isStorageColor!==!0&&(this.bufferColor.clearUpdateRanges(),this.bufferColor.updateRanges.push(...this.instanceColor.updateRanges),this.instanceColor.usage!==gm&&this.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceColor.version))}}const _Ye=ir(Zle).setParameterLength(2,3);class wYe extends Zle{static get type(){return"InstancedMeshNode"}constructor(e){const{count:n,instanceMatrix:r,instanceColor:i}=e;super(n,r,i),this.instancedMesh=e}}const Jle=ir(wYe).setParameterLength(1);class CYe extends An{static get type(){return"BatchNode"}constructor(e){super("void"),this.batchMesh=e,this.batchingIdNode=null}setup(e){this.batchingIdNode===null&&(e.getDrawIndex()===null?this.batchingIdNode=cd:this.batchingIdNode=Qle);const r=Qe(([p])=>{const x=$e(tf(so(this.batchMesh._indirectTexture),0).x).toConst(),b=$e(p).mod(x).toConst(),y=$e(p).div(x).toConst();return so(this.batchMesh._indirectTexture,Lo(b,y)).x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]})($e(this.batchingIdNode)),i=this.batchMesh._matricesTexture,o=$e(tf(so(i),0).x).toConst(),a=ge(r).mul(4).toInt().toConst(),s=a.mod(o).toConst(),l=a.div(o).toConst(),c=kh(so(i,Lo(s,l)),so(i,Lo(s.add(1),l)),so(i,Lo(s.add(2),l)),so(i,Lo(s.add(3),l))),u=this.batchMesh._colorsTexture;if(u!==null){const x=Qe(([b])=>{const y=$e(tf(so(u),0).x).toConst(),_=b,C=_.mod(y).toConst(),E=_.div(y).toConst();return so(u,Lo(C,E)).rgb}).setLayout({name:"getBatchingColor",type:"vec3",inputs:[{name:"id",type:"int"}]})(r);Kx("vec3","vBatchColor").assign(x)}const d=La(c);Ki.assign(c.mul(Ki));const f=al.div(He(d[0].dot(d[0]),d[1].dot(d[1]),d[2].dot(d[2]))),h=d.mul(f).xyz;al.assign(h),e.hasGeometryAttribute("tangent")&&tS.mulAssign(d)}}const ece=ir(CYe).setParameterLength(1),Pq=new WeakMap;class tce extends An{static get type(){return"SkinningNode"}constructor(e){super("void"),this.skinnedMesh=e,this.updateType=ur.OBJECT,this.skinIndexNode=yf("skinIndex","uvec4"),this.skinWeightNode=yf("skinWeight","vec4"),this.bindMatrixNode=ai("bindMatrix","mat4"),this.bindMatrixInverseNode=ai("bindMatrixInverse","mat4"),this.boneMatricesNode=g6("skeleton.boneMatrices","mat4",e.skeleton.bones.length),this.positionNode=Ki,this.toPositionNode=Ki,this.previousBoneMatricesNode=null}getSkinnedPosition(e=this.boneMatricesNode,n=this.positionNode){const{skinIndexNode:r,skinWeightNode:i,bindMatrixNode:o,bindMatrixInverseNode:a}=this,s=e.element(r.x),l=e.element(r.y),c=e.element(r.z),u=e.element(r.w),d=o.mul(n),f=Mo(s.mul(i.x).mul(d),l.mul(i.y).mul(d),c.mul(i.z).mul(d),u.mul(i.w).mul(d));return a.mul(f).xyz}getSkinnedNormal(e=this.boneMatricesNode,n=al){const{skinIndexNode:r,skinWeightNode:i,bindMatrixNode:o,bindMatrixInverseNode:a}=this,s=e.element(r.x),l=e.element(r.y),c=e.element(r.z),u=e.element(r.w);let d=Mo(i.x.mul(s),i.y.mul(l),i.z.mul(c),i.w.mul(u));return d=a.mul(d).mul(o),d.transformDirection(n).xyz}getPreviousSkinnedPosition(e){const n=e.object;return this.previousBoneMatricesNode===null&&(n.skeleton.previousBoneMatrices=new Float32Array(n.skeleton.boneMatrices),this.previousBoneMatricesNode=g6("skeleton.previousBoneMatrices","mat4",n.skeleton.bones.length)),this.getSkinnedPosition(this.previousBoneMatricesNode,kE)}needsPreviousBoneMatrices(e){const n=e.renderer.getMRT();return n&&n.has("velocity")||sae(e.object).useVelocity===!0}setup(e){this.needsPreviousBoneMatrices(e)&&kE.assign(this.getPreviousSkinnedPosition(e));const n=this.getSkinnedPosition();if(this.toPositionNode&&this.toPositionNode.assign(n),e.hasGeometryAttribute("normal")){const r=this.getSkinnedNormal();al.assign(r),e.hasGeometryAttribute("tangent")&&tS.assign(r)}return n}generate(e,n){if(n!=="void")return super.generate(e,n)}update(e){const n=e.object&&e.object.skeleton?e.object.skeleton:this.skinnedMesh.skeleton;Pq.get(n)!==e.frameId&&(Pq.set(n,e.frameId),this.previousBoneMatricesNode!==null&&(n.previousBoneMatrices===null&&(n.previousBoneMatrices=new Float32Array(n.boneMatrices)),n.previousBoneMatrices.set(n.boneMatrices)),n.update())}}const nce=t=>new tce(t),TYe=(t,e=null)=>{const n=new tce(t);return n.positionNode=of(new Uh(t.geometry.getAttribute("position").array,3),"vec3").setPBO(!0).toReadOnly().element(cd).toVar(),n.skinIndexNode=of(new Uh(new Uint32Array(t.geometry.getAttribute("skinIndex").array),4),"uvec4").setPBO(!0).toReadOnly().element(cd).toVar(),n.skinWeightNode=of(new Uh(t.geometry.getAttribute("skinWeight").array,4),"vec4").setPBO(!0).toReadOnly().element(cd).toVar(),n.bindMatrixNode=Nn(t.bindMatrix,"mat4"),n.bindMatrixInverseNode=Nn(t.bindMatrixInverse,"mat4"),n.boneMatricesNode=J2(t.skeleton.boneMatrices,"mat4",t.skeleton.bones.length),n.toPositionNode=e,rn(n)};class EYe extends An{static get type(){return"LoopNode"}constructor(e=[]){super("void"),this.params=e}getVarName(e){return String.fromCharCode("i".charCodeAt(0)+e)}getProperties(e){const n=e.getNodeProperties(this);if(n.stackNode!==void 0)return n;const r={};for(let s=0,l=this.params.length-1;s<l;s++){const c=this.params[s],u=c.isNode!==!0&&c.name||this.getVarName(s),d=c.isNode!==!0&&c.type||"int";r[u]=vf(u,d)}const i=e.addStack(),o=this.params[this.params.length-1](r);n.returnsNode=o.context({nodeLoop:o}),n.stackNode=i;const a=this.params[0];if(a.isNode!==!0&&typeof a.update=="function"){const s=Qe(this.params[0].update)(r);n.updateNode=s.context({nodeLoop:s})}return e.removeStack(),n}setup(e){if(this.getProperties(e),e.fnCall){const n=e.getDataFromNode(e.fnCall.shaderNode);n.hasLoop=!0}}generate(e){const n=this.getProperties(e),r=this.params,i=n.stackNode;for(let a=0,s=r.length-1;a<s;a++){const l=r[a];let c=!1,u=null,d=null,f=null,h=null,p=null,x=null;l.isNode?l.getNodeType(e)==="bool"?(c=!0,h="bool",d=l.build(e,h)):(h="int",f=this.getVarName(a),u="0",d=l.build(e,h),p="<"):(h=l.type||"int",f=l.name||this.getVarName(a),u=l.start,d=l.end,p=l.condition,x=l.update,typeof u=="number"?u=e.generateConst(h,u):u&&u.isNode&&(u=u.build(e,h)),typeof d=="number"?d=e.generateConst(h,d):d&&d.isNode&&(d=d.build(e,h)),u!==void 0&&d===void 0?(u=u+" - 1",d="0",p=">="):d!==void 0&&u===void 0&&(u="0",p="<"),p===void 0&&(Number(u)>Number(d)?p=">=":p="<"));let b;if(c)b=`while ( ${d} )`;else{const y={start:u,end:d},_=y.start,C=y.end;let E;const M=()=>p.includes("<")?"+=":"-=";if(x!=null)switch(typeof x){case"function":E=e.flowStagesNode(n.updateNode,"void").code.replace(/\t|;/g,"");break;case"number":E=f+" "+M()+" "+e.generateConst(h,x);break;case"string":E=f+" "+x;break;default:x.isNode?E=f+" "+M()+" "+x.build(e):($t("TSL: 'Loop( { update: ... } )' is not a function, string or number."),E="break /* invalid update */")}else h==="int"||h==="uint"?x=p.includes("<")?"++":"--":x=M()+" 1.",E=f+" "+x;const R=e.getVar(h,f)+" = "+_,N=f+" "+p+" "+C;b=`for ( ${R}; ${N}; ${E} )`}e.addFlowCode((a===0?`
`:"")+e.tab+b+` {

`).addFlowTab()}const o=i.build(e,"void");n.returnsNode.build(e,"void"),e.removeFlowTab().addFlowCode(`
`+e.tab+o);for(let a=0,s=this.params.length-1;a<s;a++)e.addFlowCode((a===0?"":e.tab)+`}

`).removeFlowTab();e.addFlowTab()}}const ii=(...t)=>new EYe(Im(t,"int")).toStack(),MYe=()=>vf("continue").toStack(),rce=()=>vf("break").toStack(),VN=new WeakMap,vl=new nr,Nq=Qe(({bufferMap:t,influence:e,stride:n,width:r,depth:i,offset:o})=>{const a=$e(Kle).mul(n).add(o),s=a.div(r),l=a.sub(s.mul(r));return so(t,Lo(l,s)).depth(i).xyz.mul(e)});function RYe(t){const e=t.morphAttributes.position!==void 0,n=t.morphAttributes.normal!==void 0,r=t.morphAttributes.color!==void 0,i=t.morphAttributes.position||t.morphAttributes.normal||t.morphAttributes.color,o=i!==void 0?i.length:0;let a=VN.get(t);if(a===void 0||a.count!==o){let _=function(){b.dispose(),VN.delete(t),t.removeEventListener("dispose",_)};var s=_;a!==void 0&&a.texture.dispose();const l=t.morphAttributes.position||[],c=t.morphAttributes.normal||[],u=t.morphAttributes.color||[];let d=0;e===!0&&(d=1),n===!0&&(d=2),r===!0&&(d=3);let f=t.attributes.position.count*d,h=1;const p=4096;f>p&&(h=Math.ceil(f/p),f=p);const x=new Float32Array(f*h*4*o),b=new aF(x,f,h,o);b.type=xo,b.needsUpdate=!0;const y=d*4;for(let C=0;C<o;C++){const E=l[C],M=c[C],R=u[C],N=f*h*4*C;for(let O=0;O<E.count;O++){const I=O*y;e===!0&&(vl.fromBufferAttribute(E,O),x[N+I+0]=vl.x,x[N+I+1]=vl.y,x[N+I+2]=vl.z,x[N+I+3]=0),n===!0&&(vl.fromBufferAttribute(M,O),x[N+I+4]=vl.x,x[N+I+5]=vl.y,x[N+I+6]=vl.z,x[N+I+7]=0),r===!0&&(vl.fromBufferAttribute(R,O),x[N+I+8]=vl.x,x[N+I+9]=vl.y,x[N+I+10]=vl.z,x[N+I+11]=R.itemSize===4?vl.w:1)}}a={count:o,texture:b,stride:d,size:new Ft(f,h)},VN.set(t,a),t.addEventListener("dispose",_)}return a}class PYe extends An{static get type(){return"MorphNode"}constructor(e){super("void"),this.mesh=e,this.morphBaseInfluence=Nn(1),this.updateType=ur.OBJECT}setup(e){const{geometry:n}=e,r=n.morphAttributes.position!==void 0,i=n.hasAttribute("normal")&&n.morphAttributes.normal!==void 0,o=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,a=o!==void 0?o.length:0,{texture:s,stride:l,size:c}=RYe(n);r===!0&&Ki.mulAssign(this.morphBaseInfluence),i===!0&&al.mulAssign(this.morphBaseInfluence);const u=$e(c.width);ii(a,({i:d})=>{const f=ge(0).toVar();this.mesh.count>1&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?f.assign(so(this.mesh.morphTexture,Lo($e(d).add(1),$e(cd))).r):f.assign(ai("morphTargetInfluences","float").element(d).toVar()),Ln(f.notEqual(0),()=>{r===!0&&Ki.addAssign(Nq({bufferMap:s,influence:f,stride:l,width:u,depth:d,offset:$e(0)})),i===!0&&al.addAssign(Nq({bufferMap:s,influence:f,stride:l,width:u,depth:d,offset:$e(1)}))})})}update(){const e=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?e.value=1:e.value=1-this.mesh.morphTargetInfluences.reduce((n,r)=>n+r,0)}}const ice=ir(PYe).setParameterLength(1);class Ay extends An{static get type(){return"LightingNode"}constructor(){super("vec3"),this.isLightingNode=!0}}class NYe extends Ay{static get type(){return"AONode"}constructor(e=null){super(),this.aoNode=e}setup(e){e.context.ambientOcclusion.mulAssign(this.aoNode)}}class IYe extends gse{static get type(){return"LightingContextNode"}constructor(e,n=null,r=null,i=null){super(e),this.lightingModel=n,this.backdropNode=r,this.backdropAlphaNode=i,this._value=null}getContext(){const{backdropNode:e,backdropAlphaNode:n}=this,r=He().toVar("directDiffuse"),i=He().toVar("directSpecular"),o=He().toVar("indirectDiffuse"),a=He().toVar("indirectSpecular"),s={directDiffuse:r,directSpecular:i,indirectDiffuse:o,indirectSpecular:a};return{radiance:He().toVar("radiance"),irradiance:He().toVar("irradiance"),iblIrradiance:He().toVar("iblIrradiance"),ambientOcclusion:ge(1).toVar("ambientOcclusion"),reflectedLight:s,backdrop:e,backdropAlpha:n}}setup(e){return this.value=this._value||(this._value=this.getContext()),this.value.lightingModel=this.lightingModel||e.context.lightingModel,super.setup(e)}}const oce=ir(IYe);class DYe extends Ay{static get type(){return"IrradianceNode"}constructor(e){super(),this.node=e}setup(e){e.context.irradiance.addAssign(this.node)}}const vg=new Ft;class uR extends Ad{static get type(){return"ViewportTextureNode"}constructor(e=nf,n=null,r=null){let i=null;r===null?(i=new mF,i.minFilter=Ws,r=i):i=r,super(r,e,n),this.generateMipmaps=!1,this.defaultFramebuffer=i,this.isOutputTextureNode=!0,this.updateBeforeType=ur.FRAME,this._cacheTextures=new WeakMap}getTextureForReference(e=null){let n,r;if(this.referenceNode?(n=this.referenceNode.defaultFramebuffer,r=this.referenceNode._cacheTextures):(n=this.defaultFramebuffer,r=this._cacheTextures),e===null)return n;if(r.has(e)===!1){const i=n.clone();r.set(e,i)}return r.get(e)}updateReference(e){const n=e.renderer.getRenderTarget();return this.value=this.getTextureForReference(n),this.value}updateBefore(e){const n=e.renderer,r=n.getRenderTarget();r===null?n.getDrawingBufferSize(vg):vg.set(r.width,r.height);const i=this.getTextureForReference(r);(i.image.width!==vg.width||i.image.height!==vg.height)&&(i.image.width=vg.width,i.image.height=vg.height,i.needsUpdate=!0);const o=i.generateMipmaps;i.generateMipmaps=this.generateMipmaps,n.copyFramebufferToTexture(i),i.generateMipmaps=o}clone(){const e=new this.constructor(this.uvNode,this.levelNode,this.value);return e.generateMipmaps=this.generateMipmaps,e}}const OYe=ir(uR).setParameterLength(0,3),G$=ir(uR,null,null,{generateMipmaps:!0}).setParameterLength(0,3);let uw=null;class LYe extends uR{static get type(){return"ViewportDepthTextureNode"}constructor(e=nf,n=null){uw===null&&(uw=new ts),super(e,n,uw)}getTextureForReference(){return uw}}const H$=ir(LYe).setParameterLength(0,2);class Qs extends An{static get type(){return"ViewportDepthNode"}constructor(e,n=null){super("float"),this.scope=e,this.valueNode=n,this.isViewportDepthNode=!0}generate(e){const{scope:n}=this;return n===Qs.DEPTH_BASE?e.getFragDepth():super.generate(e)}setup({camera:e}){const{scope:n}=this,r=this.valueNode;let i=null;if(n===Qs.DEPTH_BASE)r!==null&&(i=sce().assign(r));else if(n===Qs.DEPTH)e.isPerspectiveCamera?i=ace(So.z,hh,ph):i=MA(So.z,hh,ph);else if(n===Qs.LINEAR_DEPTH)if(r!==null)if(e.isPerspectiveCamera){const o=j$(r,hh,ph);i=MA(o,hh,ph)}else i=r;else i=MA(So.z,hh,ph);return i}}Qs.DEPTH_BASE="depthBase";Qs.DEPTH="depth";Qs.LINEAR_DEPTH="linearDepth";const MA=(t,e,n)=>t.add(e).div(e.sub(n)),BYe=(t,e,n)=>e.sub(n).mul(t).sub(e),ace=(t,e,n)=>e.add(t).mul(n).div(n.sub(e).mul(t)),j$=(t,e,n)=>e.mul(n).div(n.sub(e).mul(t).sub(n)),q$=(t,e,n)=>{e=e.max(1e-6).toVar();const r=od(t.negate().div(e)),i=od(n.div(e));return r.div(i)},FYe=(t,e,n)=>{const r=t.mul(ZM(n.div(e)));return ge(Math.E).pow(r).mul(e).negate()},sce=ir(Qs,Qs.DEPTH_BASE),W$=en(Qs,Qs.DEPTH),VE=ir(Qs,Qs.LINEAR_DEPTH).setParameterLength(0,1),$Ye=VE(H$());W$.assign=t=>sce(t);class mc extends An{static get type(){return"ClippingNode"}constructor(e=mc.DEFAULT){super(),this.scope=e}setup(e){super.setup(e);const n=e.clippingContext,{intersectionPlanes:r,unionPlanes:i}=n;return this.hardwareClipping=e.material.hardwareClipping,this.scope===mc.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(r,i):this.scope===mc.HARDWARE?this.setupHardwareClipping(i,e):this.setupDefault(r,i)}setupAlphaToCoverage(e,n){return Qe(()=>{const r=ge().toVar("distanceToPlane"),i=ge().toVar("distanceToGradient"),o=ge(1).toVar("clipOpacity"),a=n.length;if(this.hardwareClipping===!1&&a>0){const l=Qa(n).setGroup(Pn);ii(a,({i:c})=>{const u=l.element(c);r.assign(So.dot(u.xyz).negate().add(u.w)),i.assign(r.fwidth().div(2)),o.mulAssign(Au(i.negate(),i,r))})}const s=e.length;if(s>0){const l=Qa(e).setGroup(Pn),c=ge(1).toVar("intersectionClipOpacity");ii(s,({i:u})=>{const d=l.element(u);r.assign(So.dot(d.xyz).negate().add(d.w)),i.assign(r.fwidth().div(2)),c.mulAssign(Au(i.negate(),i,r).oneMinus())}),o.mulAssign(c.oneMinus())}ni.a.mulAssign(o),ni.a.equal(0).discard()})()}setupDefault(e,n){return Qe(()=>{const r=n.length;if(this.hardwareClipping===!1&&r>0){const o=Qa(n).setGroup(Pn);ii(r,({i:a})=>{const s=o.element(a);So.dot(s.xyz).greaterThan(s.w).discard()})}const i=e.length;if(i>0){const o=Qa(e).setGroup(Pn),a=Tc(!0).toVar("clipped");ii(i,({i:s})=>{const l=o.element(s);a.assign(So.dot(l.xyz).greaterThan(l.w).and(a))}),a.discard()}})()}setupHardwareClipping(e,n){const r=e.length;return n.enableHardwareClipping(r),Qe(()=>{const i=Qa(e).setGroup(Pn),o=Pf(n.getClipDistance());ii(r,({i:a})=>{const s=i.element(a),l=So.dot(s.xyz).sub(s.w).negate();o.element(a).assign(l)})})()}}mc.ALPHA_TO_COVERAGE="alphaToCoverage";mc.DEFAULT="default";mc.HARDWARE="hardware";const UYe=()=>new mc,kYe=()=>new mc(mc.ALPHA_TO_COVERAGE),VYe=()=>new mc(mc.HARDWARE),zYe=.05,Iq=Qe(([t])=>mu(rr(1e4,ys(rr(17,t.x).add(rr(.1,t.y)))).mul(Mo(.1,Mi(ys(rr(13,t.y).add(t.x))))))),Dq=Qe(([t])=>Iq(jt(Iq(t.xy),t.z))),GYe=Qe(([t])=>{const e=to(sd(m$(t.xyz)),sd(g$(t.xyz))),n=ge(1).div(ge(zYe).mul(e)).toVar("pixScale"),r=jt(Dv(ad(od(n))),Dv(JM(od(n)))),i=jt(Dq(ad(r.x.mul(t.xyz))),Dq(ad(r.y.mul(t.xyz)))),o=mu(od(n)),a=Mo(rr(o.oneMinus(),i.x),rr(o,i.y)),s=ol(o,o.oneMinus()),l=He(a.mul(a).div(rr(2,s).mul(Br(1,s))),a.sub(rr(.5,s)).div(Br(1,s)),Br(1,Br(1,a).mul(Br(1,a)).div(rr(2,s).mul(Br(1,s))))),c=a.lessThan(s.oneMinus()).select(a.lessThan(s).select(l.x,l.y),l.z);return gu(c,1e-6,1)}).setLayout({name:"getAlphaHashThreshold",type:"float",inputs:[{name:"position",type:"vec3"}]});class HYe extends Gse{static get type(){return"VertexColorNode"}constructor(e){super(null,"vec4"),this.isVertexColorNode=!0,this.index=e}getAttributeName(){const e=this.index;return"color"+(e>0?e:"")}generate(e){const n=this.getAttributeName(e),r=e.hasGeometryAttribute(n);let i;return r===!0?i=super.generate(e):i=e.generateConst(this.nodeType,new nr(1,1,1,1)),i}serialize(e){super.serialize(e),e.index=this.index}deserialize(e){super.deserialize(e),this.index=e.index}}const lce=(t=0)=>new HYe(t),cce=Qe(([t,e])=>ol(1,t.oneMinus().div(e)).oneMinus()).setLayout({name:"blendBurn",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),uce=Qe(([t,e])=>ol(t.div(e.oneMinus()),1)).setLayout({name:"blendDodge",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),dce=Qe(([t,e])=>t.oneMinus().mul(e.oneMinus()).oneMinus()).setLayout({name:"blendScreen",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),fce=Qe(([t,e])=>Dr(t.mul(2).mul(e),t.oneMinus().mul(2).mul(e.oneMinus()).oneMinus(),tR(.5,t))).setLayout({name:"blendOverlay",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),jYe=Qe(([t,e])=>{const n=e.a.add(t.a.mul(e.a.oneMinus()));return Fn(e.rgb.mul(e.a).add(t.rgb.mul(t.a).mul(e.a.oneMinus())).div(n),n)}).setLayout({name:"blendColor",type:"vec4",inputs:[{name:"base",type:"vec4"},{name:"blend",type:"vec4"}]}),hce=Qe(([t])=>Fn(t.rgb.mul(t.a),t.a),{color:"vec4",return:"vec4"}),qYe=Qe(([t])=>(Ln(t.a.equal(0),()=>Fn(0)),Fn(t.rgb.div(t.a),t.a)),{color:"vec4",return:"vec4"}),WYe=(...t)=>(Pt('TSL: "burn" has been renamed. Use "blendBurn" instead.'),cce(t)),XYe=(...t)=>(Pt('TSL: "dodge" has been renamed. Use "blendDodge" instead.'),uce(t)),YYe=(...t)=>(Pt('TSL: "screen" has been renamed. Use "blendScreen" instead.'),dce(t)),KYe=(...t)=>(Pt('TSL: "overlay" has been renamed. Use "blendOverlay" instead.'),fce(t));class mo extends os{static get type(){return"NodeMaterial"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isNodeMaterial=!0,this.fog=!0,this.lights=!1,this.hardwareClipping=!1,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.maskNode=null,this.positionNode=null,this.geometryNode=null,this.depthNode=null,this.receivedShadowPositionNode=null,this.castShadowPositionNode=null,this.receivedShadowNode=null,this.castShadowNode=null,this.outputNode=null,this.mrtNode=null,this.fragmentNode=null,this.vertexNode=null,this.contextNode=null,Object.defineProperty(this,"shadowPositionNode",{get:()=>this.receivedShadowPositionNode,set:e=>{Pt('NodeMaterial: ".shadowPositionNode" was renamed to ".receivedShadowPositionNode".'),this.receivedShadowPositionNode=e}})}_getNodeChildren(){const e=[];for(const n of Object.getOwnPropertyNames(this)){if(n.startsWith("_")===!0)continue;const r=this[n];r&&r.isNode===!0&&e.push({property:n,childNode:r})}return e}customProgramCacheKey(){const e=[];for(const{property:n,childNode:r}of this._getNodeChildren())e.push(K2(n.slice(0,-4)),r.getCacheKey());return this.type+my(e)}build(e){this.setup(e)}setupObserver(e){return new gWe(e)}setup(e){e.context.setupNormal=()=>TA(this.setupNormal(e),"NORMAL","vec3"),e.context.setupPositionView=()=>this.setupPositionView(e),e.context.setupModelViewProjection=()=>this.setupModelViewProjection(e);const n=e.renderer,r=n.getRenderTarget();n.contextNode.isContextNode===!0?e.context={...e.context,...n.contextNode.getFlowContextData()}:$t('NodeMaterial: "renderer.contextNode" must be an instance of `context()`.'),this.contextNode!==null&&(this.contextNode.isContextNode===!0?e.context={...e.context,...this.contextNode.getFlowContextData()}:$t('NodeMaterial: "material.contextNode" must be an instance of `context()`.')),e.addStack();const i=TA(this.setupVertex(e),"VERTEX"),o=this.vertexNode||i;e.stack.outputNode=o,this.setupHardwareClipping(e),this.geometryNode!==null&&(e.stack.outputNode=e.stack.outputNode.bypass(this.geometryNode)),e.addFlow("vertex",e.removeStack()),e.addStack();let a;const s=this.setupClipping(e);if((this.depthWrite===!0||this.depthTest===!0)&&(r!==null?r.depthBuffer===!0&&this.setupDepth(e):n.depth===!0&&this.setupDepth(e)),this.fragmentNode===null){this.setupDiffuseColor(e),this.setupVariants(e);const l=this.setupLighting(e);s!==null&&e.stack.addToStack(s);const c=Fn(l,ni.a).max(0);a=this.setupOutput(e,c),CA.assign(a);const u=this.outputNode!==null;if(u&&(a=this.outputNode),e.context.getOutput&&(a=e.context.getOutput(a,e)),r!==null){const d=n.getMRT(),f=this.mrtNode;d!==null?(u&&CA.assign(a),a=d,f!==null&&(a=d.merge(f))):f!==null&&(a=f)}}else{let l=this.fragmentNode;l.isOutputStructNode!==!0&&(l=Fn(l)),a=this.setupOutput(e,l)}e.stack.outputNode=a,e.addFlow("fragment",e.removeStack()),e.observer=this.setupObserver(e)}setupClipping(e){if(e.clippingContext===null)return null;const{unionPlanes:n,intersectionPlanes:r}=e.clippingContext;let i=null;if(n.length>0||r.length>0){const o=e.renderer.currentSamples;this.alphaToCoverage&&o>1?i=kYe():e.stack.addToStack(UYe())}return i}setupHardwareClipping(e){if(this.hardwareClipping=!1,e.clippingContext===null)return;const n=e.clippingContext.unionPlanes.length;n>0&&n<=8&&e.isAvailable("clipDistance")&&(e.stack.addToStack(VYe()),this.hardwareClipping=!0)}setupDepth(e){const{renderer:n,camera:r}=e;let i=this.depthNode;if(i===null){const o=n.getMRT();o&&o.has("depth")?i=o.get("depth"):n.logarithmicDepthBuffer===!0&&(r.isPerspectiveCamera?i=q$(So.z,hh,ph):i=MA(So.z,hh,ph))}i!==null&&W$.assign(i).toStack()}setupPositionView(){return pp.mul(Ki).xyz}setupModelViewProjection(){return rf.mul(So)}setupVertex(e){return e.addStack(),this.setupPosition(e),e.context.vertex=e.removeStack(),Yle}setupPosition(e){const{object:n,geometry:r}=e;if((r.morphAttributes.position||r.morphAttributes.normal||r.morphAttributes.color)&&ice(n).toStack(),n.isSkinnedMesh===!0&&nce(n).toStack(),this.displacementMap){const i=Vd("displacementMap","texture"),o=Vd("displacementScale","float"),a=Vd("displacementBias","float");Ki.addAssign(al.normalize().mul(i.x.mul(o).add(a)))}return n.isBatchedMesh&&ece(n).toStack(),n.isInstancedMesh&&n.instanceMatrix&&n.instanceMatrix.isInstancedBufferAttribute===!0&&Jle(n).toStack(),this.positionNode!==null&&Ki.assign(TA(this.positionNode,"POSITION","vec3")),Ki}setupDiffuseColor(e){const{object:n,geometry:r}=e;this.maskNode!==null&&Tc(this.maskNode).not().discard();let i=this.colorNode?Fn(this.colorNode):yle;this.vertexColors===!0&&r.hasAttribute("color")&&(i=i.mul(lce())),n.instanceColor&&(i=Kx("vec3","vInstanceColor").mul(i)),n.isBatchedMesh&&n._colorsTexture&&(i=Kx("vec3","vBatchColor").mul(i)),ni.assign(i);const o=this.opacityNode?ge(this.opacityNode):V$;ni.a.assign(ni.a.mul(o));let a=null;(this.alphaTestNode!==null||this.alphaTest>0)&&(a=this.alphaTestNode!==null?ge(this.alphaTestNode):vle,this.alphaToCoverage===!0?(ni.a=Au(a,a.add(v$(ni.a)),ni.a),ni.a.lessThanEqual(0).discard()):ni.a.lessThanEqual(a).discard()),this.alphaHash===!0&&ni.a.lessThan(GYe(Ki)).discard(),e.isOpaque()&&ni.a.assign(1)}setupVariants(){}setupOutgoingLight(){return this.lights===!0?He(0):ni.rgb}setupNormal(){return this.normalNode?He(this.normalNode):Tle}setupEnvironment(){let e=null;return this.envNode?e=this.envNode:this.envMap&&(e=this.envMap.isCubeTexture?Vd("envMap","cubeTexture"):Vd("envMap","texture")),e}setupLightMap(e){let n=null;return e.material.lightMap&&(n=new DYe(z$)),n}setupLights(e){const n=[],r=this.setupEnvironment(e);r&&r.isLightingNode&&n.push(r);const i=this.setupLightMap(e);i&&i.isLightingNode&&n.push(i);let o=this.aoNode;o===null&&e.material.aoMap&&(o=Xle),e.context.getAO&&(o=e.context.getAO(o,e)),o&&n.push(new NYe(o));let a=this.lightsNode||e.lightsNode;return n.length>0&&(a=e.renderer.lighting.createNode([...a.getLights(),...n])),a}setupLightingModel(){}setupLighting(e){const{material:n}=e,{backdropNode:r,backdropAlphaNode:i,emissiveNode:o}=this,s=this.lights===!0||this.lightsNode!==null?this.setupLights(e):null;let l=this.setupOutgoingLight(e);if(s&&s.getScope().hasLights){const c=this.setupLightingModel(e)||null;l=oce(s,c,r,i)}else r!==null&&(l=He(i!==null?Dr(l,r,i):r));return(o&&o.isNode===!0||n.emissive&&n.emissive.isColor===!0)&&(d6.assign(He(o||xle)),l=l.add(d6)),l}setupFog(e,n){const r=e.fogNode;return r&&(CA.assign(n),n=Fn(r.toVar())),n}setupPremultipliedAlpha(e,n){return hce(n)}setupOutput(e,n){return this.fog===!0&&(n=this.setupFog(e,n)),this.premultipliedAlpha===!0&&(n=this.setupPremultipliedAlpha(e,n)),n}setDefaultValues(e){for(const r in e){const i=e[r];this[r]===void 0&&(this[r]=i,i&&i.clone&&(this[r]=i.clone()))}const n=Object.getOwnPropertyDescriptors(e.constructor.prototype);for(const r in n)Object.getOwnPropertyDescriptor(this.constructor.prototype,r)===void 0&&n[r].get!==void 0&&Object.defineProperty(this.constructor.prototype,r,n[r])}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{},nodes:{}});const r=os.prototype.toJSON.call(this,e);r.inputNodes={};for(const{property:o,childNode:a}of this._getNodeChildren())r.inputNodes[o]=a.toJSON(e).uuid;function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images),s=i(e.nodes);o.length>0&&(r.textures=o),a.length>0&&(r.images=a),s.length>0&&(r.nodes=s)}return r}copy(e){return this.lightsNode=e.lightsNode,this.envNode=e.envNode,this.aoNode=e.aoNode,this.colorNode=e.colorNode,this.normalNode=e.normalNode,this.opacityNode=e.opacityNode,this.backdropNode=e.backdropNode,this.backdropAlphaNode=e.backdropAlphaNode,this.alphaTestNode=e.alphaTestNode,this.maskNode=e.maskNode,this.positionNode=e.positionNode,this.geometryNode=e.geometryNode,this.depthNode=e.depthNode,this.receivedShadowPositionNode=e.receivedShadowPositionNode,this.castShadowPositionNode=e.castShadowPositionNode,this.receivedShadowNode=e.receivedShadowNode,this.castShadowNode=e.castShadowNode,this.outputNode=e.outputNode,this.mrtNode=e.mrtNode,this.fragmentNode=e.fragmentNode,this.vertexNode=e.vertexNode,this.contextNode=e.contextNode,super.copy(e)}}const QYe=new fy;class ZYe extends mo{static get type(){return"LineBasicNodeMaterial"}constructor(e){super(),this.isLineBasicNodeMaterial=!0,this.setDefaultValues(QYe),this.setValues(e)}}const JYe=new qBe;class eKe extends mo{static get type(){return"LineDashedNodeMaterial"}constructor(e){super(),this.isLineDashedNodeMaterial=!0,this.setDefaultValues(JYe),this.dashOffset=0,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(e)}setupVariants(){const e=this.offsetNode?ge(this.offsetNode):jle,n=this.dashScaleNode?ge(this.dashScaleNode):zle,r=this.dashSizeNode?ge(this.dashSizeNode):Gle,i=this.gapSizeNode?ge(this.gapSizeNode):Hle;BC.assign(r),f6.assign(i);const o=_d(yf("lineDistance").mul(n));(e?o.add(e):o).mod(BC.add(f6)).greaterThan(BC).discard()}}let dw=null;class tKe extends uR{static get type(){return"ViewportSharedTextureNode"}constructor(e=nf,n=null){dw===null&&(dw=new mF),super(e,n,dw)}getTextureForReference(){return dw}updateReference(){return this}}const nKe=ir(tKe).setParameterLength(0,2),rKe=new zBe;class iKe extends mo{static get type(){return"MeshNormalNodeMaterial"}constructor(e){super(),this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(rKe),this.setValues(e)}setupDiffuseColor(){const e=this.opacityNode?ge(this.opacityNode):V$;ni.assign(rR(Fn(Ale(kr),e),wa))}}const X$=Qe(([t=L$])=>{const e=t.z.atan(t.x).mul(1/(Math.PI*2)).add(.5),n=t.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return jt(e,n)});class pce extends uF{constructor(e=1,n={}){super(e,n),this.isCubeRenderTarget=!0}fromEquirectangularTexture(e,n){const r=n.minFilter,i=n.generateMipmaps;n.generateMipmaps=!0,this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const o=new fp(5,5,5),a=X$(L$),s=new mo;s.colorNode=qr(n,a,0),s.side=ui,s.blending=Ms;const l=new Qr(o,s),c=new OM;c.add(l),n.minFilter===Ws&&(n.minFilter=Di);const u=new pie(1,10,this),d=e.getMRT();return e.setMRT(null),u.update(e,c),e.setMRT(d),n.minFilter=r,n.currentGenerateMipmaps=i,l.geometry.dispose(),l.material.dispose(),this}}const Ib=new WeakMap;class oKe extends no{static get type(){return"CubeMapNode"}constructor(e){super("vec3"),this.envNode=e,this._cubeTexture=null,this._cubeTextureNode=xs(null);const n=new j2;n.isRenderTargetTexture=!0,this._defaultTexture=n,this.updateBeforeType=ur.RENDER}updateBefore(e){const{renderer:n,material:r}=e,i=this.envNode;if(i.isTextureNode||i.isMaterialReferenceNode){const o=i.isTextureNode?i.value:r[i.property];if(o&&o.isTexture){const a=o.mapping;if(a===YA||a===KA){if(Ib.has(o)){const s=Ib.get(o);Oq(s,o.mapping),this._cubeTexture=s}else{const s=o.image;if(aKe(s)){const l=new pce(s.height);l.fromEquirectangularTexture(n,o),Oq(l.texture,o.mapping),this._cubeTexture=l.texture,Ib.set(o,l.texture),o.addEventListener("dispose",mce)}else this._cubeTexture=this._defaultTexture}this._cubeTextureNode.value=this._cubeTexture}else this._cubeTextureNode=this.envNode}}}setup(e){return this.updateBefore(e),this._cubeTextureNode}}function aKe(t){return t==null?!1:t.height>0}function mce(t){const e=t.target;e.removeEventListener("dispose",mce);const n=Ib.get(e);n!==void 0&&(Ib.delete(e),n.dispose())}function Oq(t,e){e===YA?t.mapping=hu:e===KA&&(t.mapping=md)}const gce=ir(oKe).setParameterLength(1);class Y$ extends Ay{static get type(){return"BasicEnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){e.context.environment=gce(this.envNode)}}class sKe extends Ay{static get type(){return"BasicLightMapNode"}constructor(e=null){super(),this.lightMapNode=e}setup(e){const n=ge(1/Math.PI);e.context.irradianceLightMap=this.lightMapNode.mul(n)}}class dR{start(e){e.lightsNode.setupLights(e,e.lightsNode.getLightNodes(e)),this.indirect(e)}finish(){}direct(){}directRectArea(){}indirect(){}ambientOcclusion(){}}class Ace extends dR{constructor(){super()}indirect({context:e}){const n=e.ambientOcclusion,r=e.reflectedLight,i=e.irradianceLightMap;r.indirectDiffuse.assign(Fn(0)),i?r.indirectDiffuse.addAssign(i):r.indirectDiffuse.addAssign(Fn(1,1,1,0)),r.indirectDiffuse.mulAssign(n),r.indirectDiffuse.mulAssign(ni.rgb)}finish(e){const{material:n,context:r}=e,i=r.outgoingLight,o=e.context.environment;if(o)switch(n.combine){case F2:i.rgb.assign(Dr(i.rgb,i.rgb.mul(o.rgb),Nb.mul(kC)));break;case oie:i.rgb.assign(Dr(i.rgb,o.rgb,Nb.mul(kC)));break;case aie:i.rgb.addAssign(o.rgb.mul(Nb.mul(kC)));break;default:Pt("BasicLightingModel: Unsupported .combine value:",n.combine);break}}}const lKe=new oc;class cKe extends mo{static get type(){return"MeshBasicNodeMaterial"}constructor(e){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!0,this.setDefaultValues(lKe),this.setValues(e)}setupNormal(){return gy(Ov)}setupEnvironment(e){const n=super.setupEnvironment(e);return n?new Y$(n):null}setupLightMap(e){let n=null;return e.material.lightMap&&(n=new sKe(z$)),n}setupOutgoingLight(){return ni.rgb}setupLightingModel(){return new Ace}}const Lv=Qe(({f0:t,f90:e,dotVH:n})=>{const r=n.mul(-5.55473).sub(6.98316).mul(n).exp2();return t.mul(r.oneMinus()).add(e.mul(r))}),o0=Qe(t=>t.diffuseColor.mul(1/Math.PI)),uKe=()=>ge(.25),dKe=Qe(({dotNH:t})=>BE.mul(ge(.5)).add(1).mul(ge(1/Math.PI)).mul(t.pow(BE))),fKe=Qe(({lightDirection:t})=>{const e=t.add(gi).normalize(),n=kr.dot(e).clamp(),r=gi.dot(e).clamp(),i=Lv({f0:Jh,f90:1,dotVH:r}),o=uKe(),a=dKe({dotNH:n});return i.mul(o).mul(a)});class vce extends Ace{constructor(e=!0){super(),this.specular=e}direct({lightDirection:e,lightColor:n,reflectedLight:r}){const o=kr.dot(e).clamp().mul(n);r.directDiffuse.addAssign(o.mul(o0({diffuseColor:ni.rgb}))),this.specular===!0&&r.directSpecular.addAssign(o.mul(fKe({lightDirection:e})).mul(Nb))}indirect(e){const{ambientOcclusion:n,irradiance:r,reflectedLight:i}=e.context;i.indirectDiffuse.addAssign(r.mul(o0({diffuseColor:ni}))),i.indirectDiffuse.mulAssign(n)}}const hKe=new Mf;class pKe extends mo{static get type(){return"MeshLambertNodeMaterial"}constructor(e){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(hKe),this.setValues(e)}setupEnvironment(e){const n=super.setupEnvironment(e);return n?new Y$(n):null}setupLightingModel(){return new vce(!1)}}const mKe=new Rie;class gKe extends mo{static get type(){return"MeshPhongNodeMaterial"}constructor(e){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(mKe),this.setValues(e)}setupEnvironment(e){const n=super.setupEnvironment(e);return n?new Y$(n):null}setupLightingModel(){return new vce}setupVariants(){const e=(this.shininessNode?ge(this.shininessNode):ble).max(1e-4);BE.assign(e);const n=this.specularNode||Sle;Jh.assign(n)}copy(e){return this.shininessNode=e.shininessNode,this.specularNode=e.specularNode,super.copy(e)}}const yce=Qe(t=>{if(t.geometry.hasAttribute("normal")===!1)return ge(0);const e=Ov.dFdx().abs().max(Ov.dFdy().abs());return e.x.max(e.y).max(e.z)}),K$=Qe(t=>{const{roughness:e}=t,n=yce();let r=e.max(.0525);return r=r.add(n),r=r.min(1),r}),bce=Qe(({alpha:t,dotNL:e,dotNV:n})=>{const r=t.pow2(),i=e.mul(r.add(r.oneMinus().mul(n.pow2())).sqrt()),o=n.mul(r.add(r.oneMinus().mul(e.pow2())).sqrt());return $l(.5,i.add(o).max(c$))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),AKe=Qe(({alphaT:t,alphaB:e,dotTV:n,dotBV:r,dotTL:i,dotBL:o,dotNV:a,dotNL:s})=>{const l=s.mul(He(t.mul(n),e.mul(r),a).length()),c=a.mul(He(t.mul(i),e.mul(o),s).length());return $l(.5,l.add(c))}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),xce=Qe(({alpha:t,dotNH:e})=>{const n=t.pow2(),r=e.pow2().mul(n.oneMinus()).oneMinus();return n.div(r.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),vKe=ge(1/Math.PI),yKe=Qe(({alphaT:t,alphaB:e,dotNH:n,dotTH:r,dotBH:i})=>{const o=t.mul(e),a=He(e.mul(r),t.mul(i),o.mul(n)),s=a.dot(a),l=o.div(s);return vKe.mul(o.mul(l.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),Q$=Qe(({lightDirection:t,f0:e,f90:n,roughness:r,f:i,normalView:o=kr,USE_IRIDESCENCE:a,USE_ANISOTROPY:s})=>{const l=r.pow2(),c=t.add(gi).normalize(),u=o.dot(t).clamp(),d=o.dot(gi).clamp(),f=o.dot(c).clamp(),h=gi.dot(c).clamp();let p=Lv({f0:e,f90:n,dotVH:h}),x,b;if(Xx(a)&&(p=KM.mix(p,i)),Xx(s)){const y=Rb.dot(t),_=Rb.dot(gi),C=Rb.dot(c),E=Dm.dot(t),M=Dm.dot(gi),R=Dm.dot(c);x=AKe({alphaT:LE,alphaB:l,dotTV:_,dotBV:M,dotTL:y,dotBL:E,dotNV:d,dotNL:u}),b=yKe({alphaT:LE,alphaB:l,dotNH:f,dotTH:C,dotBH:R})}else x=bce({alpha:l,dotNL:u,dotNV:d}),b=xce({alpha:l,dotNH:f});return p.mul(x).mul(b)}),bKe=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Lu=null;const Zx=Qe(({roughness:t,dotNV:e})=>{Lu===null&&(Lu=new fF(bKe,16,16,_s,Ui),Lu.name="DFG_LUT",Lu.minFilter=Di,Lu.magFilter=Di,Lu.wrapS=qs,Lu.wrapT=qs,Lu.generateMipmaps=!1,Lu.needsUpdate=!0);const n=jt(t,e);return qr(Lu,n).rg}),xKe=Qe(({lightDirection:t,f0:e,f90:n,roughness:r,f:i,USE_IRIDESCENCE:o,USE_ANISOTROPY:a})=>{const s=Q$({lightDirection:t,f0:e,f90:n,roughness:r,f:i,USE_IRIDESCENCE:o,USE_ANISOTROPY:a}),l=kr.dot(t).clamp(),c=kr.dot(gi).clamp(),u=Zx({roughness:r,dotNV:c}),d=Zx({roughness:r,dotNV:l}),f=e.mul(u.x).add(n.mul(u.y)),h=e.mul(d.x).add(n.mul(d.y)),p=u.x.add(u.y),x=d.x.add(d.y),b=ge(1).sub(p),y=ge(1).sub(x),_=e.add(e.oneMinus().mul(.047619)),C=f.mul(h).mul(_).div(ge(1).sub(b.mul(y).mul(_).mul(_)).add(c$)),E=b.mul(y),M=C.mul(E);return s.add(M)}),Sce=Qe(t=>{const{dotNV:e,specularColor:n,specularF90:r,roughness:i}=t,o=Zx({dotNV:e,roughness:i});return n.mul(o.x).add(r.mul(o.y))}),S6=Qe(({f:t,f90:e,dotVH:n})=>{const r=n.oneMinus().saturate(),i=r.mul(r),o=r.mul(i,i).clamp(0,.9999);return t.sub(He(e).mul(o)).div(o.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),SKe=Qe(({roughness:t,dotNH:e})=>{const n=t.pow2(),r=ge(1).div(n),o=e.pow2().oneMinus().max(.0078125);return ge(2).add(r).mul(o.pow(r.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),_Ke=Qe(({dotNV:t,dotNL:e})=>ge(1).div(ge(4).mul(e.add(t).sub(e.mul(t))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),wKe=Qe(({lightDirection:t})=>{const e=t.add(gi).normalize(),n=kr.dot(t).clamp(),r=kr.dot(gi).clamp(),i=kr.dot(e).clamp(),o=SKe({roughness:fh,dotNH:i}),a=_Ke({dotNV:r,dotNL:n});return bl.mul(o).mul(a)}),CKe=Qe(({N:t,V:e,roughness:n})=>{const o=.0078125,a=t.dot(e).saturate(),s=jt(n,a.oneMinus().sqrt());return s.assign(s.mul(.984375).add(o)),s}).setLayout({name:"LTC_Uv",type:"vec2",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"roughness",type:"float"}]}),TKe=Qe(({f:t})=>{const e=t.length();return to(e.mul(e).add(t.z).div(e.add(1)),0)}).setLayout({name:"LTC_ClippedSphereFormFactor",type:"float",inputs:[{name:"f",type:"vec3"}]}),fw=Qe(({v1:t,v2:e})=>{const n=t.dot(e),r=n.abs().toVar(),i=r.mul(.0145206).add(.4965155).mul(r).add(.8543985).toVar(),o=r.add(4.1616724).mul(r).add(3.417594).toVar(),a=i.div(o),s=n.greaterThan(0).select(a,to(n.mul(n).oneMinus(),1e-7).inverseSqrt().mul(.5).sub(a));return t.cross(e).mul(s)}).setLayout({name:"LTC_EdgeVectorFormFactor",type:"vec3",inputs:[{name:"v1",type:"vec3"},{name:"v2",type:"vec3"}]}),Lq=Qe(({N:t,V:e,P:n,mInv:r,p0:i,p1:o,p2:a,p3:s})=>{const l=o.sub(i).toVar(),c=s.sub(i).toVar(),u=l.cross(c),d=He().toVar();return Ln(u.dot(n.sub(i)).greaterThanEqual(0),()=>{const f=e.sub(t.mul(e.dot(t))).normalize(),h=t.cross(f).negate(),p=r.mul(La(f,h,t).transpose()).toVar(),x=p.mul(i.sub(n)).normalize().toVar(),b=p.mul(o.sub(n)).normalize().toVar(),y=p.mul(a.sub(n)).normalize().toVar(),_=p.mul(s.sub(n)).normalize().toVar(),C=He(0).toVar();C.addAssign(fw({v1:x,v2:b})),C.addAssign(fw({v1:b,v2:y})),C.addAssign(fw({v1:y,v2:_})),C.addAssign(fw({v1:_,v2:x})),d.assign(He(TKe({f:C})))}),d}).setLayout({name:"LTC_Evaluate",type:"vec3",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"P",type:"vec3"},{name:"mInv",type:"mat3"},{name:"p0",type:"vec3"},{name:"p1",type:"vec3"},{name:"p2",type:"vec3"},{name:"p3",type:"vec3"}]}),fR=1/6,_ce=t=>rr(fR,rr(t,rr(t,t.negate().add(3)).sub(3)).add(1)),_6=t=>rr(fR,rr(t,rr(t,rr(3,t).sub(6))).add(4)),wce=t=>rr(fR,rr(t,rr(t,rr(-3,t).add(3)).add(3)).add(1)),w6=t=>rr(fR,lc(t,3)),Bq=t=>_ce(t).add(_6(t)),Fq=t=>wce(t).add(w6(t)),$q=t=>Mo(-1,_6(t).div(_ce(t).add(_6(t)))),Uq=t=>Mo(1,w6(t).div(wce(t).add(w6(t)))),kq=(t,e,n)=>{const r=t.uvNode,i=rr(r,e.zw).add(.5),o=ad(i),a=mu(i),s=Bq(a.x),l=Fq(a.x),c=$q(a.x),u=Uq(a.x),d=$q(a.y),f=Uq(a.y),h=jt(o.x.add(c),o.y.add(d)).sub(.5).mul(e.xy),p=jt(o.x.add(u),o.y.add(d)).sub(.5).mul(e.xy),x=jt(o.x.add(c),o.y.add(f)).sub(.5).mul(e.xy),b=jt(o.x.add(u),o.y.add(f)).sub(.5).mul(e.xy),y=Bq(a.y).mul(Mo(s.mul(t.sample(h).level(n)),l.mul(t.sample(p).level(n)))),_=Fq(a.y).mul(Mo(s.mul(t.sample(x).level(n)),l.mul(t.sample(b).level(n))));return y.add(_)},Z$=Qe(([t,e])=>{const n=jt(t.size($e(e))),r=jt(t.size($e(e.add(1)))),i=$l(1,n),o=$l(1,r),a=kq(t,Fn(i,n),ad(e)),s=kq(t,Fn(o,r),JM(e));return mu(e).mix(a,s)}),EKe=Qe(([t,e])=>{const n=e.mul(P$(t));return Z$(t,n)}),Vq=Qe(([t,e,n,r,i])=>{const o=He(S$(e.negate(),Ps(t),$l(1,r))),a=He(sd(i[0].xyz),sd(i[1].xyz),sd(i[2].xyz));return Ps(o).mul(n.mul(a))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),MKe=Qe(([t,e])=>t.mul(gu(e.mul(2).sub(2),0,1))).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),RKe=G$(),PKe=G$(),zq=Qe(([t,e,n],{material:r})=>{const o=(r.side===ui?RKe:PKe).sample(t),a=od(i0.x).mul(MKe(e,n));return Z$(o,a)}),Gq=Qe(([t,e,n])=>(Ln(n.notEqual(0),()=>{const r=ZM(e).negate().div(n);return u$(r.negate().mul(t))}),He(1))).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),NKe=Qe(([t,e,n,r,i,o,a,s,l,c,u,d,f,h,p])=>{let x,b;if(p){x=Fn().toVar(),b=He().toVar();const M=u.sub(1).mul(p.mul(.025)),R=He(u.sub(M),u,u.add(M));ii({start:0,end:3},({i:N})=>{const O=R.element(N),I=Vq(t,e,d,O,s),L=a.add(I),F=c.mul(l.mul(Fn(L,1))),$=jt(F.xy.div(F.w)).toVar();$.addAssign(1),$.divAssign(2),$.assign(jt($.x,$.y.oneMinus()));const V=zq($,n,O);x.element(N).assign(V.element(N)),x.a.addAssign(V.a),b.element(N).assign(r.element(N).mul(Gq(sd(I),f,h).element(N)))}),x.a.divAssign(3)}else{const M=Vq(t,e,d,u,s),R=a.add(M),N=c.mul(l.mul(Fn(R,1))),O=jt(N.xy.div(N.w)).toVar();O.addAssign(1),O.divAssign(2),O.assign(jt(O.x,O.y.oneMinus())),x=zq(O,n,u),b=r.mul(Gq(sd(M),f,h))}const y=b.rgb.mul(x.rgb),_=t.dot(e).clamp(),C=He(Sce({dotNV:_,specularColor:i,specularF90:o,roughness:n})),E=b.r.add(b.g,b.b).div(3);return Fn(C.oneMinus().mul(y),x.a.oneMinus().mul(E).oneMinus())}),IKe=La(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),DKe=t=>{const e=t.sqrt();return He(1).add(e).div(He(1).sub(e))},Hq=(t,e)=>t.sub(e).div(t.add(e)).pow2(),OKe=(t,e)=>{const n=t.mul(2*Math.PI*1e-9),r=He(54856e-17,44201e-17,52481e-17),i=He(1681e3,1795300,2208400),o=He(43278e5,93046e5,66121e5),a=ge(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(n.mul(2239900).add(e.x).cos()).mul(n.pow2().mul(-45282e5).exp());let s=r.mul(o.mul(2*Math.PI).sqrt()).mul(i.mul(n).add(e).cos()).mul(n.pow2().negate().mul(o).exp());return s=He(s.x.add(a),s.y,s.z).div(10685e-11),IKe.mul(s)},jq=Qe(({outsideIOR:t,eta2:e,cosTheta1:n,thinFilmThickness:r,baseF0:i})=>{const o=Dr(t,e,Au(0,.03,r)),s=t.div(o).pow2().mul(n.pow2().oneMinus()).oneMinus();Ln(s.lessThan(0),()=>He(1));const l=s.sqrt(),c=Hq(o,t),u=Lv({f0:c,f90:1,dotVH:n}),d=u.oneMinus(),f=o.lessThan(t).select(Math.PI,0),h=ge(Math.PI).sub(f),p=DKe(i.clamp(0,.9999)),x=Hq(p,o.toVec3()),b=Lv({f0:x,f90:1,dotVH:l}),y=He(p.x.lessThan(o).select(Math.PI,0),p.y.lessThan(o).select(Math.PI,0),p.z.lessThan(o).select(Math.PI,0)),_=o.mul(r,l,2),C=He(h).add(y),E=u.mul(b).clamp(1e-5,.9999),M=E.sqrt(),R=d.pow2().mul(b).div(He(1).sub(E)),O=u.add(R).toVar(),I=R.sub(d).toVar();return ii({start:1,end:2,condition:"<=",name:"m"},({m:L})=>{I.mulAssign(M);const F=OKe(ge(L).mul(_),ge(L).mul(C)).mul(2);O.addAssign(I.mul(F))}),O.max(He(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),p1=Qe(({normal:t,viewDir:e,roughness:n})=>{const r=t.dot(e).saturate(),i=n.mul(n),o=n.add(.1).reciprocal(),a=ge(-1.9362).add(n.mul(1.0678)).add(i.mul(.4573)).sub(o.mul(.8469)),s=ge(-.6014).add(n.mul(.5538)).sub(i.mul(.467)).sub(o.mul(.1255));return a.mul(r).add(s).exp().saturate()}),zN=He(.04),GN=ge(1);class Cce extends dR{constructor(e=!1,n=!1,r=!1,i=!1,o=!1,a=!1){super(),this.clearcoat=e,this.sheen=n,this.iridescence=r,this.anisotropy=i,this.transmission=o,this.dispersion=a,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null,this.iridescenceF0Dielectric=null,this.iridescenceF0Metallic=null}start(e){if(this.clearcoat===!0&&(this.clearcoatRadiance=He().toVar("clearcoatRadiance"),this.clearcoatSpecularDirect=He().toVar("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=He().toVar("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=He().toVar("sheenSpecularDirect"),this.sheenSpecularIndirect=He().toVar("sheenSpecularIndirect")),this.iridescence===!0){const n=kr.dot(gi).clamp(),r=jq({outsideIOR:ge(1),eta2:DE,cosTheta1:n,thinFilmThickness:OE,baseF0:Jh}),i=jq({outsideIOR:ge(1),eta2:DE,cosTheta1:n,thinFilmThickness:OE,baseF0:ni.rgb});this.iridescenceFresnel=Dr(r,i,Xd),this.iridescenceF0Dielectric=S6({f:r,f90:1,dotVH:n}),this.iridescenceF0Metallic=S6({f:i,f90:1,dotVH:n}),this.iridescenceF0=Dr(this.iridescenceF0Dielectric,this.iridescenceF0Metallic,Xd)}if(this.transmission===!0){const n=ld,r=qse.sub(ld).normalize(),i=mp,o=e.context;o.backdrop=NKe(i,r,Wu,om,bm,wA,n,cc,Dc,rf,Pb,n$,i$,r$,this.dispersion?o$:null),o.backdropAlpha=FE,ni.a.mulAssign(Dr(1,o.backdrop.a,FE))}super.start(e)}computeMultiscattering(e,n,r,i,o=null){const a=kr.dot(gi).clamp(),s=Zx({roughness:Wu,dotNV:a}),l=o?KM.mix(i,o):i,c=l.mul(s.x).add(r.mul(s.y)),d=s.x.add(s.y).oneMinus(),f=l.add(l.oneMinus().mul(.047619)),h=c.mul(f).div(d.mul(f).oneMinus());e.addAssign(c),n.addAssign(h.mul(d))}direct({lightDirection:e,lightColor:n,reflectedLight:r}){const o=kr.dot(e).clamp().mul(n).toVar();if(this.sheen===!0){this.sheenSpecularDirect.addAssign(o.mul(wKe({lightDirection:e})));const a=p1({normal:kr,viewDir:gi,roughness:fh}),s=p1({normal:kr,viewDir:e,roughness:fh}),l=bl.r.max(bl.g).max(bl.b).mul(a.max(s)).oneMinus();o.mulAssign(l)}if(this.clearcoat===!0){const s=xm.dot(e).clamp().mul(n);this.clearcoatSpecularDirect.addAssign(s.mul(Q$({lightDirection:e,f0:zN,f90:GN,roughness:Qx,normalView:xm})))}r.directDiffuse.addAssign(o.mul(o0({diffuseColor:om}))),r.directSpecular.addAssign(o.mul(xKe({lightDirection:e,f0:bm,f90:1,roughness:Wu,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}directRectArea({lightColor:e,lightPosition:n,halfWidth:r,halfHeight:i,reflectedLight:o,ltc_1:a,ltc_2:s}){const l=n.add(r).sub(i),c=n.sub(r).sub(i),u=n.sub(r).add(i),d=n.add(r).add(i),f=kr,h=gi,p=So.toVar(),x=CKe({N:f,V:h,roughness:Wu}),b=a.sample(x).toVar(),y=s.sample(x).toVar(),_=La(He(b.x,0,b.y),He(0,1,0),He(b.z,0,b.w)).toVar(),C=bm.mul(y.x).add(bm.oneMinus().mul(y.y)).toVar();o.directSpecular.addAssign(e.mul(C).mul(Lq({N:f,V:h,P:p,mInv:_,p0:l,p1:c,p2:u,p3:d}))),o.directDiffuse.addAssign(e.mul(om).mul(Lq({N:f,V:h,P:p,mInv:La(1,0,0,0,1,0,0,0,1),p0:l,p1:c,p2:u,p3:d})))}indirect(e){this.indirectDiffuse(e),this.indirectSpecular(e),this.ambientOcclusion(e)}indirectDiffuse(e){const{irradiance:n,reflectedLight:r}=e.context,i=n.mul(o0({diffuseColor:om})).toVar();if(this.sheen===!0){const o=p1({normal:kr,viewDir:gi,roughness:fh}),a=bl.r.max(bl.g).max(bl.b).mul(o).oneMinus();i.mulAssign(a)}r.indirectDiffuse.addAssign(i)}indirectSpecular(e){const{radiance:n,iblIrradiance:r,reflectedLight:i}=e.context;if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(r.mul(bl,p1({normal:kr,viewDir:gi,roughness:fh}))),this.clearcoat===!0){const b=xm.dot(gi).clamp(),y=Sce({dotNV:b,specularColor:zN,specularF90:GN,roughness:Qx});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(y))}const o=He().toVar("singleScatteringDielectric"),a=He().toVar("multiScatteringDielectric"),s=He().toVar("singleScatteringMetallic"),l=He().toVar("multiScatteringMetallic");this.computeMultiscattering(o,a,wA,Jh,this.iridescenceF0Dielectric),this.computeMultiscattering(s,l,wA,ni.rgb,this.iridescenceF0Metallic);const c=Dr(o,s,Xd),u=Dr(a,l,Xd),d=o.add(a),f=om.mul(d.oneMinus()),h=r.mul(1/Math.PI),p=n.mul(c).add(u.mul(h)).toVar(),x=f.mul(h).toVar();if(this.sheen===!0){const b=p1({normal:kr,viewDir:gi,roughness:fh}),y=bl.r.max(bl.g).max(bl.b).mul(b).oneMinus();p.mulAssign(y),x.mulAssign(y)}i.indirectSpecular.addAssign(p),i.indirectDiffuse.addAssign(x)}ambientOcclusion(e){const{ambientOcclusion:n,reflectedLight:r}=e.context,o=kr.dot(gi).clamp().add(n),a=Wu.mul(-16).oneMinus().negate().exp2(),s=n.sub(o.pow(a).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(n),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(n),r.indirectDiffuse.mulAssign(n),r.indirectSpecular.mulAssign(s)}finish({context:e}){const{outgoingLight:n}=e;if(this.clearcoat===!0){const r=xm.dot(gi).clamp(),i=Lv({dotVH:r,f0:zN,f90:GN}),o=n.mul(IE.mul(i).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(IE));n.assign(o)}if(this.sheen===!0){const r=n.add(this.sheenSpecularDirect,this.sheenSpecularIndirect.mul(1/Math.PI));n.assign(r)}}}const qq=ge(1),C6=ge(-2),hw=ge(.8),HN=ge(-1),pw=ge(.4),jN=ge(2),mw=ge(.305),qN=ge(3),Wq=ge(.21),LKe=ge(4),Xq=ge(4),BKe=ge(16),FKe=Qe(([t])=>{const e=He(Mi(t)).toVar(),n=ge(-1).toVar();return Ln(e.x.greaterThan(e.z),()=>{Ln(e.x.greaterThan(e.y),()=>{n.assign(Ea(t.x.greaterThan(0),0,3))}).Else(()=>{n.assign(Ea(t.y.greaterThan(0),1,4))})}).Else(()=>{Ln(e.z.greaterThan(e.y),()=>{n.assign(Ea(t.z.greaterThan(0),2,5))}).Else(()=>{n.assign(Ea(t.y.greaterThan(0),1,4))})}),n}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),$Ke=Qe(([t,e])=>{const n=jt().toVar();return Ln(e.equal(0),()=>{n.assign(jt(t.z,t.y).div(Mi(t.x)))}).ElseIf(e.equal(1),()=>{n.assign(jt(t.x.negate(),t.z.negate()).div(Mi(t.y)))}).ElseIf(e.equal(2),()=>{n.assign(jt(t.x.negate(),t.y).div(Mi(t.z)))}).ElseIf(e.equal(3),()=>{n.assign(jt(t.z.negate(),t.y).div(Mi(t.x)))}).ElseIf(e.equal(4),()=>{n.assign(jt(t.x.negate(),t.z).div(Mi(t.y)))}).Else(()=>{n.assign(jt(t.x,t.y).div(Mi(t.z)))}),rr(.5,n.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),UKe=Qe(([t])=>{const e=ge(0).toVar();return Ln(t.greaterThanEqual(hw),()=>{e.assign(qq.sub(t).mul(HN.sub(C6)).div(qq.sub(hw)).add(C6))}).ElseIf(t.greaterThanEqual(pw),()=>{e.assign(hw.sub(t).mul(jN.sub(HN)).div(hw.sub(pw)).add(HN))}).ElseIf(t.greaterThanEqual(mw),()=>{e.assign(pw.sub(t).mul(qN.sub(jN)).div(pw.sub(mw)).add(jN))}).ElseIf(t.greaterThanEqual(Wq),()=>{e.assign(mw.sub(t).mul(LKe.sub(qN)).div(mw.sub(Wq)).add(qN))}).Else(()=>{e.assign(ge(-2).mul(od(rr(1.16,t))))}),e}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]}),Tce=Qe(([t,e])=>{const n=t.toVar();n.assign(rr(2,n).sub(1));const r=He(n,1).toVar();return Ln(e.equal(0),()=>{r.assign(r.zyx)}).ElseIf(e.equal(1),()=>{r.assign(r.xzy),r.xz.mulAssign(-1)}).ElseIf(e.equal(2),()=>{r.x.mulAssign(-1)}).ElseIf(e.equal(3),()=>{r.assign(r.zyx),r.xz.mulAssign(-1)}).ElseIf(e.equal(4),()=>{r.assign(r.xzy),r.xy.mulAssign(-1)}).ElseIf(e.equal(5),()=>{r.z.mulAssign(-1)}),r}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]}),Ece=Qe(([t,e,n,r,i,o])=>{const a=ge(n),s=He(e),l=gu(UKe(a),C6,o),c=mu(l),u=ad(l),d=He(Jx(t,s,u,r,i,o)).toVar();return Ln(c.notEqual(0),()=>{const f=He(Jx(t,s,u.add(1),r,i,o)).toVar();d.assign(Dr(d,f,c))}),d}),Jx=Qe(([t,e,n,r,i,o])=>{const a=ge(n).toVar(),s=He(e),l=ge(FKe(s)).toVar(),c=ge(to(Xq.sub(a),0)).toVar();a.assign(to(a,Xq));const u=ge(Dv(a)).toVar(),d=jt($Ke(s,l).mul(u.sub(2)).add(1)).toVar();return Ln(l.greaterThan(2),()=>{d.y.addAssign(u),l.subAssign(3)}),d.x.addAssign(l.mul(u)),d.x.addAssign(c.mul(rr(3,BKe))),d.y.addAssign(rr(4,Dv(o).sub(u))),d.x.mulAssign(r),d.y.mulAssign(i),t.sample(d).grad(jt(),jt())}),WN=Qe(({envMap:t,mipInt:e,outputDirection:n,theta:r,axis:i,CUBEUV_TEXEL_WIDTH:o,CUBEUV_TEXEL_HEIGHT:a,CUBEUV_MAX_MIP:s})=>{const l=Yc(r),c=n.mul(l).add(i.cross(n).mul(ys(r))).add(i.mul(i.dot(n).mul(l.oneMinus())));return Jx(t,c,e,o,a,s)}),Mce=Qe(({n:t,latitudinal:e,poleAxis:n,outputDirection:r,weights:i,samples:o,dTheta:a,mipInt:s,envMap:l,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:u,CUBEUV_MAX_MIP:d})=>{const f=He(Ea(e,n,Af(n,r))).toVar();Ln(f.equal(He(0)),()=>{f.assign(He(r.z,0,r.x.negate()))}),f.assign(Ps(f));const h=He().toVar();return h.addAssign(i.element(0).mul(WN({theta:0,axis:f,outputDirection:r,mipInt:s,envMap:l,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:u,CUBEUV_MAX_MIP:d}))),ii({start:$e(1),end:t},({i:p})=>{Ln(p.greaterThanEqual(o),()=>{rce()});const x=ge(a.mul(ge(p))).toVar();h.addAssign(i.element(p).mul(WN({theta:x.mul(-1),axis:f,outputDirection:r,mipInt:s,envMap:l,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:u,CUBEUV_MAX_MIP:d}))),h.addAssign(i.element(p).mul(WN({theta:x,axis:f,outputDirection:r,mipInt:s,envMap:l,CUBEUV_TEXEL_WIDTH:c,CUBEUV_TEXEL_HEIGHT:u,CUBEUV_MAX_MIP:d})))}),Fn(h,1)}),kKe=Qe(([t])=>{const e=Vt(t).toVar();return e.assign(e.shiftLeft(Vt(16)).bitOr(e.shiftRight(Vt(16)))),e.assign(e.bitAnd(Vt(1431655765)).shiftLeft(Vt(1)).bitOr(e.bitAnd(Vt(2863311530)).shiftRight(Vt(1)))),e.assign(e.bitAnd(Vt(858993459)).shiftLeft(Vt(2)).bitOr(e.bitAnd(Vt(3435973836)).shiftRight(Vt(2)))),e.assign(e.bitAnd(Vt(252645135)).shiftLeft(Vt(4)).bitOr(e.bitAnd(Vt(4042322160)).shiftRight(Vt(4)))),e.assign(e.bitAnd(Vt(16711935)).shiftLeft(Vt(8)).bitOr(e.bitAnd(Vt(4278255360)).shiftRight(Vt(8)))),ge(e).mul(23283064365386963e-26)}),VKe=Qe(([t,e])=>jt(ge(t).div(ge(e)),kKe(t))),zKe=Qe(([t,e,n])=>{const r=He(e).toVar(),i=ge(n),o=i.mul(i).toVar(),a=Ps(He(o.mul(r.x),o.mul(r.y),r.z)).toVar(),s=a.x.mul(a.x).add(a.y.mul(a.y)),l=Ea(s.greaterThan(0),He(a.y.negate(),a.x,0).div(Ja(s)),He(1,0,0)).toVar(),c=Af(a,l).toVar(),u=Ja(t.x),d=rr(2,3.14159265359).mul(t.y),f=u.mul(Yc(d)).toVar(),h=u.mul(ys(d)).toVar(),p=rr(.5,a.z.add(1));h.assign(p.oneMinus().mul(Ja(f.mul(f).oneMinus())).add(p.mul(h)));const x=l.mul(f).add(c.mul(h)).add(a.mul(Ja(to(0,f.mul(f).add(h.mul(h)).oneMinus()))));return Ps(He(o.mul(x.x),o.mul(x.y),to(0,x.z)))}),Rce=Qe(({roughness:t,mipInt:e,envMap:n,N_immutable:r,GGX_SAMPLES:i,CUBEUV_TEXEL_WIDTH:o,CUBEUV_TEXEL_HEIGHT:a,CUBEUV_MAX_MIP:s})=>{const l=He(r).toVar(),c=He(0).toVar(),u=ge(0).toVar();return Ln(t.lessThan(.001),()=>{c.assign(Jx(n,l,e,o,a,s))}).Else(()=>{const d=Ea(Mi(l.z).lessThan(.999),He(0,0,1),He(1,0,0)),f=Ps(Af(d,l)).toVar(),h=Af(l,f).toVar();ii({start:Vt(0),end:i},({i:p})=>{const x=VKe(p,i),b=zKe(x,He(0,0,1),t),y=Ps(f.mul(b.x).add(h.mul(b.y)).add(l.mul(b.z))),_=Ps(y.mul(Ec(l,y).mul(2)).sub(l)),C=to(Ec(l,_),0);Ln(C.greaterThan(0),()=>{const E=Jx(n,_,e,o,a,s);c.addAssign(E.mul(C)),u.addAssign(C)})}),Ln(u.greaterThan(0),()=>{c.assign(c.div(u))})}),Fn(c,1)}),_h=4,Yq=[.125,.215,.35,.446,.526,.582],am=20,GKe=512,m1=new hy(-1,1,1,-1,0,1),HKe=new la(90,1),Kq=new En;let XN=null,YN=0,KN=0;const jKe=new ve,zE=new WeakMap,qKe=[3,1,5,0,4,2],QN=Tce(fi(),yf("faceIndex")).normalize(),hR=He(QN.x,QN.y,QN.z);class WKe{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._blurMaterial=null,this._ggxMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._backgroundBox=null}get _hasInitialized(){return this._renderer.hasInitialized()}fromScene(e,n=0,r=.1,i=100,o={}){const{size:a=256,position:s=jKe,renderTarget:l=null}=o;if(this._setSize(a),this._hasInitialized===!1){Pt('PMREMGenerator: ".fromScene()" called before the backend is initialized. Try using "await renderer.init()" instead.');const u=l||this._allocateTarget();return o.renderTarget=u,this.fromSceneAsync(e,n,r,i,o),u}XN=this._renderer.getRenderTarget(),YN=this._renderer.getActiveCubeFace(),KN=this._renderer.getActiveMipmapLevel();const c=l||this._allocateTarget();return c.depthBuffer=!0,this._init(c),this._sceneToCubeUV(e,r,i,c,s),n>0&&this._blur(c,0,0,n),this._applyPMREM(c),this._cleanup(c),c}async fromSceneAsync(e,n=0,r=.1,i=100,o={}){return Ai('PMREMGenerator: ".fromSceneAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this.fromScene(e,n,r,i,o)}fromEquirectangular(e,n=null){if(this._hasInitialized===!1){Pt('PMREMGenerator: .fromEquirectangular() called before the backend is initialized. Try using "await renderer.init()" instead.'),this._setSizeFromTexture(e);const r=n||this._allocateTarget();return this.fromEquirectangularAsync(e,r),r}return this._fromTexture(e,n)}async fromEquirectangularAsync(e,n=null){return Ai('PMREMGenerator: ".fromEquirectangularAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this._fromTexture(e,n)}fromCubemap(e,n=null){if(this._hasInitialized===!1){Pt("PMREMGenerator: .fromCubemap() called before the backend is initialized. Try using .fromCubemapAsync() instead."),this._setSizeFromTexture(e);const r=n||this._allocateTarget();return this.fromCubemapAsync(e,n),r}return this._fromTexture(e,n)}async fromCubemapAsync(e,n=null){return Ai('PMREMGenerator: ".fromCubemapAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this._fromTexture(e,n)}async compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Zq(),await this._compileMaterial(this._cubemapMaterial))}async compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Jq(),await this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSizeFromTexture(e){e.mapping===hu||e.mapping===md?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4)}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(XN,YN,KN),e.scissorTest=!1,yg(e,0,0,e.width,e.height)}_fromTexture(e,n){this._setSizeFromTexture(e),XN=this._renderer.getRenderTarget(),YN=this._renderer.getActiveCubeFace(),KN=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTarget();return this._init(r),this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTarget(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize;return Qq(e,n)}_init(e){if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e.width||this._pingPongRenderTarget.height!==e.height){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Qq(e.width,e.height);const{_lodMax:n}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=XKe(n)),this._blurMaterial=YKe(n,e.width,e.height),this._ggxMaterial=KKe(n,e.width,e.height)}}async _compileMaterial(e){const n=new Qr(new ei,e);await this._renderer.compile(n,m1)}_sceneToCubeUV(e,n,r,i,o){const a=HKe;a.near=n,a.far=r;const s=[1,1,1,1,-1,1],l=[1,-1,1,-1,1,-1],c=this._renderer,u=c.autoClear;c.getClearColor(Kq),c.autoClear=!1,this._backgroundBox===null&&(this._backgroundBox=new Qr(new fp,new oc({name:"PMREM.Background",side:ui,depthWrite:!1,depthTest:!1})));const d=this._backgroundBox,f=d.material;let h=!1;const p=e.background;p?p.isColor&&(f.color.copy(p),e.background=null,h=!0):(f.color.copy(Kq),h=!0),c.setRenderTarget(i),c.clear(),h&&c.render(d,a);for(let x=0;x<6;x++){const b=x%3;b===0?(a.up.set(0,s[x],0),a.position.set(o.x,o.y,o.z),a.lookAt(o.x+l[x],o.y,o.z)):b===1?(a.up.set(0,0,s[x]),a.position.set(o.x,o.y,o.z),a.lookAt(o.x,o.y+l[x],o.z)):(a.up.set(0,s[x],0),a.position.set(o.x,o.y,o.z),a.lookAt(o.x,o.y,o.z+l[x]));const y=this._cubeSize;yg(i,b*y,x>2?y:0,y,y),c.render(e,a)}c.autoClear=u,e.background=p}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===hu||e.mapping===md;i?this._cubemapMaterial===null&&(this._cubemapMaterial=Zq(e)):this._equirectMaterial===null&&(this._equirectMaterial=Jq(e));const o=i?this._cubemapMaterial:this._equirectMaterial;o.fragmentNode.value=e;const a=this._lodMeshes[0];a.material=o;const s=this._cubeSize;yg(n,0,0,3*s,2*s),r.setRenderTarget(n),r.render(a,m1)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let o=1;o<i;o++)this._applyGGXFilter(e,o-1,o);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,o=this._pingPongRenderTarget,a=this._ggxMaterial,s=this._lodMeshes[r];s.material=a;const l=zE.get(a),c=r/(this._lodMeshes.length-1),u=n/(this._lodMeshes.length-1),d=Math.sqrt(c*c-u*u),f=0+c*1.25,h=d*f,{_lodMax:p}=this,x=this._sizeLods[r],b=3*x*(r>p-_h?r-p+_h:0),y=4*(this._cubeSize-x);e.texture.frame=(e.texture.frame||0)+1,l.envMap.value=e.texture,l.roughness.value=h,l.mipInt.value=p-n,yg(o,b,y,3*x,2*x),i.setRenderTarget(o),i.render(s,m1),o.texture.frame=(o.texture.frame||0)+1,l.envMap.value=o.texture,l.roughness.value=0,l.mipInt.value=p-r,yg(e,b,y,3*x,2*x),i.setRenderTarget(e),i.render(s,m1)}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&$t("blur direction must be either latitudinal or longitudinal!");const u=3,d=this._lodMeshes[i];d.material=c;const f=zE.get(c),h=this._sizeLods[r]-1,p=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*am-1),x=o/p,b=isFinite(o)?1+Math.floor(u*x):am;b>am&&Pt(`sigmaRadians, ${o}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${am}`);const y=[];let _=0;for(let N=0;N<am;++N){const O=N/x,I=Math.exp(-O*O/2);y.push(I),N===0?_+=I:N<b&&(_+=2*I)}for(let N=0;N<y.length;N++)y[N]=y[N]/_;e.texture.frame=(e.texture.frame||0)+1,f.envMap.value=e.texture,f.samples.value=b,f.weights.array=y,f.latitudinal.value=a==="latitudinal"?1:0,s&&(f.poleAxis.value=s);const{_lodMax:C}=this;f.dTheta.value=p,f.mipInt.value=C-r;const E=this._sizeLods[i],M=3*E*(i>C-_h?i-C+_h:0),R=4*(this._cubeSize-E);yg(n,M,R,3*E,2*E),l.setRenderTarget(n),l.render(d,m1)}}function XKe(t){const e=[],n=[],r=[];let i=t;const o=t-_h+1+Yq.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);e.push(s);let l=1/s;a>t-_h?l=Yq[a-t+_h-1]:a===0&&(l=0),n.push(l);const c=1/(s-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,x=3,b=2,y=1,_=new Float32Array(x*p*h),C=new Float32Array(b*p*h),E=new Float32Array(y*p*h);for(let R=0;R<h;R++){const N=R%3*2/3-1,O=R>2?0:-1,I=[N,O,0,N+2/3,O,0,N+2/3,O+1,0,N,O,0,N+2/3,O+1,0,N,O+1,0],L=qKe[R];_.set(I,x*p*L),C.set(f,b*p*L);const F=[L,L,L,L,L,L];E.set(F,y*p*L)}const M=new ei;M.setAttribute("position",new Zi(_,x)),M.setAttribute("uv",new Zi(C,b)),M.setAttribute("faceIndex",new Zi(E,y)),r.push(new Qr(M,null)),i>_h&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function Qq(t,e){const n={magFilter:Di,minFilter:Di,generateMipmaps:!1,type:Ui,format:_o,colorSpace:Kh},r=new Tf(t,e,n);return r.texture.mapping=Xm,r.texture.name="PMREM.cubeUv",r.texture.isPMREMTexture=!0,r.scissorTest=!0,r}function yg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function pR(t){const e=new mo;return e.depthTest=!1,e.depthWrite=!1,e.blending=Ms,e.name=`PMREM_${t}`,e}function YKe(t,e,n){const r=Qa(new Array(am).fill(0)),i=Nn(new ve(0,1,0)),o=Nn(0),a=ge(am),s=Nn(0),l=Nn(1),c=qr(),u=Nn(0),d=ge(1/e),f=ge(1/n),h=ge(t),p={n:a,latitudinal:s,weights:r,poleAxis:i,outputDirection:hR,dTheta:o,samples:l,envMap:c,mipInt:u,CUBEUV_TEXEL_WIDTH:d,CUBEUV_TEXEL_HEIGHT:f,CUBEUV_MAX_MIP:h},x=pR("blur");return x.fragmentNode=Mce({...p,latitudinal:s.equal(1)}),zE.set(x,p),x}function KKe(t,e,n){const r=qr(),i=Nn(0),o=Nn(0),a=ge(1/e),s=ge(1/n),l=ge(t),c={envMap:r,roughness:i,mipInt:o,CUBEUV_TEXEL_WIDTH:a,CUBEUV_TEXEL_HEIGHT:s,CUBEUV_MAX_MIP:l},u=pR("ggx");return u.fragmentNode=Rce({...c,N_immutable:hR,GGX_SAMPLES:Vt(GKe)}),zE.set(u,c),u}function Zq(t){const e=pR("cubemap");return e.fragmentNode=xs(t,hR),e}function Jq(t){const e=pR("equirect");return e.fragmentNode=qr(t,X$(hR),0),e}const eW=new WeakMap;function QKe(t){const e=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:n,maxMip:e}}function ZKe(t,e,n){const r=JKe(e);let i=r.get(t);if((i!==void 0?i.pmremVersion:-1)!==t.pmremVersion){const a=t.image;if(t.isCubeTexture)if(tQe(a))i=n.fromCubemap(t,i);else return null;else if(nQe(a))i=n.fromEquirectangular(t,i);else return null;i.pmremVersion=t.pmremVersion,r.set(t,i)}return i.texture}function JKe(t){let e=eW.get(t);return e===void 0&&(e=new WeakMap,eW.set(t,e)),e}class eQe extends no{static get type(){return"PMREMNode"}constructor(e,n=null,r=null){super("vec3"),this._value=e,this._pmrem=null,this.uvNode=n,this.levelNode=r,this._generator=null;const i=new Uo;i.isRenderTargetTexture=!0,this._texture=qr(i),this._width=Nn(0),this._height=Nn(0),this._maxMip=Nn(0),this.updateBeforeType=ur.RENDER}set value(e){this._value=e,this._pmrem=null}get value(){return this._value}updateFromTexture(e){const n=QKe(e.image.height);this._texture.value=e,this._width.value=n.texelWidth,this._height.value=n.texelHeight,this._maxMip.value=n.maxMip}updateBefore(e){let n=this._pmrem;const r=n?n.pmremVersion:-1,i=this._value;r!==i.pmremVersion&&(i.isPMREMTexture===!0?n=i:n=ZKe(i,e.renderer,this._generator),n!==null&&(this._pmrem=n,this.updateFromTexture(n)))}setup(e){this._generator===null&&(this._generator=new WKe(e.renderer)),this.updateBefore(e);let n=this.uvNode;n===null&&e.context.getUV&&(n=e.context.getUV(this,e)),n=$$.mul(He(n.x,n.y.negate(),n.z));let r=this.levelNode;return r===null&&e.context.getTextureLevel&&(r=e.context.getTextureLevel(this)),Ece(this._texture,n,r,this._width,this._height,this._maxMip)}dispose(){super.dispose(),this._generator!==null&&this._generator.dispose()}}function tQe(t){if(t==null)return!1;let e=0;const n=6;for(let r=0;r<n;r++)t[r]!==void 0&&e++;return e===n}function nQe(t){return t==null?!1:t.height>0}const J$=ir(eQe).setParameterLength(1,3),tW=new WeakMap;class rQe extends Ay{static get type(){return"EnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){const{material:n}=e;let r=this.envNode;if(r.isTextureNode||r.isMaterialReferenceNode){const d=r.isTextureNode?r.value:n[r.property];let f=tW.get(d);f===void 0&&(f=J$(d),tW.set(d,f)),r=f}const o=n.useAnisotropy===!0||n.anisotropy>0?gle:kr,a=r.context(nW(Wu,o)).mul(UC),s=r.context(iQe(mp)).mul(Math.PI).mul(UC),l=EA(a),c=EA(s);e.context.radiance.addAssign(l),e.context.iblIrradiance.addAssign(c);const u=e.context.lightingModel.clearcoatRadiance;if(u){const d=r.context(nW(Qx,xm)).mul(UC),f=EA(d);u.addAssign(f)}}}const nW=(t,e)=>{let n=null;return{getUV:()=>(n===null&&(n=gi.negate().reflect(e),n=b$(t).mix(n,e).normalize(),n=n.transformDirection(Dc)),n),getTextureLevel:()=>t}},iQe=t=>({getUV:()=>t,getTextureLevel:()=>ge(1)}),oQe=new Mie;class Pce extends mo{static get type(){return"MeshStandardNodeMaterial"}constructor(e){super(),this.isMeshStandardNodeMaterial=!0,this.lights=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(oQe),this.setValues(e)}setupEnvironment(e){let n=super.setupEnvironment(e);return n===null&&e.environmentNode&&(n=e.environmentNode),n?new rQe(n):null}setupLightingModel(){return new Cce}setupSpecular(){const e=Dr(He(.04),ni.rgb,Xd);Jh.assign(He(.04)),bm.assign(e),wA.assign(1)}setupVariants(){const e=this.metalnessNode?ge(this.metalnessNode):Cle;Xd.assign(e);let n=this.roughnessNode?ge(this.roughnessNode):wle;n=K$({roughness:n}),Wu.assign(n),this.setupSpecular(),om.assign(ni.rgb.mul(e.oneMinus()))}copy(e){return this.emissiveNode=e.emissiveNode,this.metalnessNode=e.metalnessNode,this.roughnessNode=e.roughnessNode,super.copy(e)}}const aQe=new kBe;class sQe extends Pce{static get type(){return"MeshPhysicalNodeMaterial"}constructor(e){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.dispersionNode=null,this.anisotropyNode=null,this.setDefaultValues(aQe),this.setValues(e)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}get useAnisotropy(){return this.anisotropy>0||this.anisotropyNode!==null}get useTransmission(){return this.transmission>0||this.transmissionNode!==null}get useDispersion(){return this.dispersion>0||this.dispersionNode!==null}setupSpecular(){const e=this.iorNode?ge(this.iorNode):Ule;Pb.assign(e),Jh.assign(ol(y$(Pb.sub(1).div(Pb.add(1))).mul(_le),He(1)).mul(x6)),bm.assign(Dr(Jh,ni.rgb,Xd)),wA.assign(Dr(x6,1,Xd))}setupLightingModel(){return new Cce(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission,this.useDispersion)}setupVariants(e){if(super.setupVariants(e),this.useClearcoat){const n=this.clearcoatNode?ge(this.clearcoatNode):Ele,r=this.clearcoatRoughnessNode?ge(this.clearcoatRoughnessNode):Mle;IE.assign(n),Qx.assign(K$({roughness:r}))}if(this.useSheen){const n=this.sheenNode?He(this.sheenNode):Nle,r=this.sheenRoughnessNode?ge(this.sheenRoughnessNode):Ile;bl.assign(n),fh.assign(r)}if(this.useIridescence){const n=this.iridescenceNode?ge(this.iridescenceNode):Ole,r=this.iridescenceIORNode?ge(this.iridescenceIORNode):Lle,i=this.iridescenceThicknessNode?ge(this.iridescenceThicknessNode):Ble;KM.assign(n),DE.assign(r),OE.assign(i)}if(this.useAnisotropy){const n=(this.anisotropyNode?jt(this.anisotropyNode):Dle).toVar();lh.assign(n.length()),Ln(lh.equal(0),()=>{n.assign(jt(1,0))}).Else(()=>{n.divAssign(jt(lh)),lh.assign(lh.saturate())}),LE.assign(lh.pow2().mix(Wu.pow2(),1)),Rb.assign(Sm[0].mul(n.x).add(Sm[1].mul(n.y))),Dm.assign(Sm[1].mul(n.x).sub(Sm[0].mul(n.y)))}if(this.useTransmission){const n=this.transmissionNode?ge(this.transmissionNode):Fle,r=this.thicknessNode?ge(this.thicknessNode):$le,i=this.attenuationDistanceNode?ge(this.attenuationDistanceNode):kle,o=this.attenuationColorNode?He(this.attenuationColorNode):Vle;if(FE.assign(n),n$.assign(r),r$.assign(i),i$.assign(o),this.useDispersion){const a=this.dispersionNode?ge(this.dispersionNode):Wle;o$.assign(a)}}}setupClearcoatNormal(){return this.clearcoatNormalNode?He(this.clearcoatNormalNode):Rle}setup(e){e.context.setupClearcoatNormal=()=>TA(this.setupClearcoatNormal(e),"NORMAL","vec3"),super.setup(e)}copy(e){return this.clearcoatNode=e.clearcoatNode,this.clearcoatRoughnessNode=e.clearcoatRoughnessNode,this.clearcoatNormalNode=e.clearcoatNormalNode,this.sheenNode=e.sheenNode,this.sheenRoughnessNode=e.sheenRoughnessNode,this.iridescenceNode=e.iridescenceNode,this.iridescenceIORNode=e.iridescenceIORNode,this.iridescenceThicknessNode=e.iridescenceThicknessNode,this.specularIntensityNode=e.specularIntensityNode,this.specularColorNode=e.specularColorNode,this.transmissionNode=e.transmissionNode,this.thicknessNode=e.thicknessNode,this.attenuationDistanceNode=e.attenuationDistanceNode,this.attenuationColorNode=e.attenuationColorNode,this.dispersionNode=e.dispersionNode,this.anisotropyNode=e.anisotropyNode,super.copy(e)}}const lQe=Qe(({normal:t,lightDirection:e,builder:n})=>{const r=t.dot(e),i=jt(r.mul(.5).add(.5),0);if(n.material.gradientMap){const o=Vd("gradientMap","texture").context({getUV:()=>i});return He(o.r)}else{const o=i.fwidth().mul(.5);return Dr(He(.7),He(1),Au(ge(.7).sub(o.x),ge(.7).add(o.x),i.x))}});class cQe extends dR{direct({lightDirection:e,lightColor:n,reflectedLight:r},i){const o=lQe({normal:oR,lightDirection:e,builder:i}).mul(n);r.directDiffuse.addAssign(o.mul(o0({diffuseColor:ni.rgb})))}indirect(e){const{ambientOcclusion:n,irradiance:r,reflectedLight:i}=e.context;i.indirectDiffuse.addAssign(r.mul(o0({diffuseColor:ni}))),i.indirectDiffuse.mulAssign(n)}}const uQe=new VBe;class dQe extends mo{static get type(){return"MeshToonNodeMaterial"}constructor(e){super(),this.isMeshToonNodeMaterial=!0,this.lights=!0,this.setDefaultValues(uQe),this.setValues(e)}setupLightingModel(){return new cQe}}const Nce=Qe(()=>{const t=He(gi.z,0,gi.x.negate()).normalize(),e=gi.cross(t);return jt(t.dot(kr),e.dot(kr)).mul(.495).add(.5)}).once(["NORMAL","VERTEX"])().toVar("matcapUV"),fQe=new jBe;class hQe extends mo{static get type(){return"MeshMatcapNodeMaterial"}constructor(e){super(),this.isMeshMatcapNodeMaterial=!0,this.setDefaultValues(fQe),this.setValues(e)}setupVariants(e){const n=Nce;let r;e.material.matcap?r=Vd("matcap","texture").context({getUV:()=>n}):r=He(Dr(.2,.8,n.y)),ni.rgb.mulAssign(r.rgb)}}class pQe extends no{static get type(){return"RotateNode"}constructor(e,n){super(),this.positionNode=e,this.rotationNode=n}getNodeType(e){return this.positionNode.getNodeType(e)}setup(e){const{rotationNode:n,positionNode:r}=this;if(this.getNodeType(e)==="vec2"){const o=n.cos(),a=n.sin();return YM(o,a,a.negate(),o).mul(r)}else{const o=n,a=kh(Fn(1,0,0,0),Fn(0,Yc(o.x),ys(o.x).negate(),0),Fn(0,ys(o.x),Yc(o.x),0),Fn(0,0,0,1)),s=kh(Fn(Yc(o.y),0,ys(o.y),0),Fn(0,1,0,0),Fn(ys(o.y).negate(),0,Yc(o.y),0),Fn(0,0,0,1)),l=kh(Fn(Yc(o.z),ys(o.z).negate(),0,0),Fn(ys(o.z),Yc(o.z),0,0),Fn(0,0,1,0),Fn(0,0,0,1));return a.mul(s).mul(l).mul(Fn(r,1)).xyz}}}const nS=ir(pQe).setParameterLength(2),mQe=new tBe;class Ice extends mo{static get type(){return"SpriteNodeMaterial"}constructor(e){super(),this.isSpriteNodeMaterial=!0,this._useSizeAttenuation=!0,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.transparent=!0,this.setDefaultValues(mQe),this.setValues(e)}setupPositionView(e){const{object:n,camera:r}=e,{positionNode:i,rotationNode:o,scaleNode:a,sizeAttenuation:s}=this,l=pp.mul(He(i||0));let c=jt(cc[0].xyz.length(),cc[1].xyz.length());a!==null&&(c=c.mul(jt(a))),r.isPerspectiveCamera&&s===!1&&(c=c.mul(l.z.negate()));let u=eS.xy;if(n.center&&n.center.isVector2===!0){const h=cXe("center","vec2",n);u=u.sub(h.sub(.5))}u=u.mul(c);const d=ge(o||Ple),f=nS(u,d);return Fn(l.xy.add(f),l.zw)}copy(e){return this.positionNode=e.positionNode,this.rotationNode=e.rotationNode,this.scaleNode=e.scaleNode,super.copy(e)}get sizeAttenuation(){return this._useSizeAttenuation}set sizeAttenuation(e){this._useSizeAttenuation!==e&&(this._useSizeAttenuation=e,this.needsUpdate=!0)}}const gQe=new pF,AQe=new Ft;class vQe extends Ice{static get type(){return"PointsNodeMaterial"}constructor(e){super(),this.sizeNode=null,this.isPointsNodeMaterial=!0,this.setDefaultValues(gQe),this.setValues(e)}setupPositionView(){const{positionNode:e}=this;return pp.mul(He(e||Ki)).xyz}setupVertexSprite(e){const{material:n,camera:r}=e,{rotationNode:i,scaleNode:o,sizeNode:a,sizeAttenuation:s}=this;let l=super.setupVertex(e);if(n.isNodeMaterial!==!0)return l;let c=a!==null?jt(a):qle;c=c.mul(Hse),r.isPerspectiveCamera&&s===!0&&(c=c.mul(yQe.div(So.z.negate()))),o&&o.isNode&&(c=c.mul(jt(o)));let u=eS.xy;if(i&&i.isNode){const d=ge(i);u=nS(u,d)}return u=u.mul(c),u=u.div(O$.div(2)),u=u.mul(l.w),l=l.add(Fn(u,0,0)),l}setupVertex(e){return e.object.isPoints?super.setupVertex(e):this.setupVertexSprite(e)}get alphaToCoverage(){return this._useAlphaToCoverage}set alphaToCoverage(e){this._useAlphaToCoverage!==e&&(this._useAlphaToCoverage=e,this.needsUpdate=!0)}}const yQe=Nn(1).onFrameUpdate(function({renderer:t}){const e=t.getSize(AQe);this.value=.5*e.y});class bQe extends dR{constructor(){super(),this.shadowNode=ge(1).toVar("shadowMask")}direct({lightNode:e}){e.shadowNode!==null&&this.shadowNode.mulAssign(e.shadowNode)}finish({context:e}){ni.a.mulAssign(this.shadowNode.oneMinus()),e.outgoingLight.rgb.assign(ni.rgb)}}const xQe=new $Be;class SQe extends mo{static get type(){return"ShadowNodeMaterial"}constructor(e){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.transparent=!0,this.setDefaultValues(xQe),this.setValues(e)}setupLightingModel(){return new bQe}}ef("vec3");ef("vec3");ef("vec3");class _Qe{constructor(e,n,r){this.renderer=e,this.nodes=n,this.info=r,this._context=typeof self<"u"?self:null,this._animationLoop=null,this._requestId=null}start(){const e=(n,r)=>{this._requestId=this._context.requestAnimationFrame(e),this.info.autoReset===!0&&this.info.reset(),this.nodes.nodeFrame.update(),this.info.frame=this.nodes.nodeFrame.frameId,this.renderer._inspector.begin(),this._animationLoop!==null&&this._animationLoop(n,r),this.renderer._inspector.finish()};e()}stop(){this._context.cancelAnimationFrame(this._requestId),this._requestId=null}getAnimationLoop(){return this._animationLoop}setAnimationLoop(e){this._animationLoop=e}getContext(){return this._context}setContext(e){this._context=e}dispose(){this.stop()}}class vu{constructor(){this.weakMaps={}}_getWeakMap(e){const n=e.length;let r=this.weakMaps[n];return r===void 0&&(r=new WeakMap,this.weakMaps[n]=r),r}get(e){let n=this._getWeakMap(e);for(let r=0;r<e.length-1;r++)if(n=n.get(e[r]),n===void 0)return;return n.get(e[e.length-1])}set(e,n){let r=this._getWeakMap(e);for(let i=0;i<e.length-1;i++){const o=e[i];r.has(o)===!1&&r.set(o,new WeakMap),r=r.get(o)}return r.set(e[e.length-1],n),this}delete(e){let n=this._getWeakMap(e);for(let r=0;r<e.length-1;r++)if(n=n.get(e[r]),n===void 0)return!1;return n.delete(e[e.length-1])}}let wQe=0;function CQe(t){const e=Object.keys(t);let n=Object.getPrototypeOf(t);for(;n;){const r=Object.getOwnPropertyDescriptors(n);for(const i in r)if(r[i]!==void 0){const o=r[i];o&&typeof o.get=="function"&&e.push(i)}n=Object.getPrototypeOf(n)}return e}class TQe{constructor(e,n,r,i,o,a,s,l,c,u){this.id=wQe++,this._nodes=e,this._geometries=n,this.renderer=r,this.object=i,this.material=o,this.scene=a,this.camera=s,this.lightsNode=l,this.context=c,this.geometry=i.geometry,this.version=o.version,this.drawRange=null,this.attributes=null,this.attributesId=null,this.pipeline=null,this.group=null,this.vertexBuffers=null,this.drawParams=null,this.bundle=null,this.clippingContext=u,this.clippingContextCacheKey=u!==null?u.cacheKey:"",this.initialNodesCacheKey=this.getDynamicCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this._monitor=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.onGeometryDispose=()=>{this.attributes=null,this.attributesId=null},this.material.addEventListener("dispose",this.onMaterialDispose),this.geometry.addEventListener("dispose",this.onGeometryDispose)}updateClipping(e){this.clippingContext=e}get clippingNeedsUpdate(){return this.clippingContext===null||this.clippingContext.cacheKey===this.clippingContextCacheKey?!1:(this.clippingContextCacheKey=this.clippingContext.cacheKey,!0)}get hardwareClippingPlanes(){return this.material.hardwareClipping===!0?this.clippingContext.unionClippingCount:0}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getMonitor(){return this._monitor||(this._monitor=this.getNodeBuilderState().observer)}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getBindingGroup(e){for(const n of this.getBindings())if(n.name===e)return n}getIndex(){return this._geometries.getIndex(this)}getIndirect(){return this._geometries.getIndirect(this)}getIndirectOffset(){return this._geometries.getIndirectOffset(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}setGeometry(e){this.geometry=e,this.attributes=null,this.attributesId=null}getAttributes(){if(this.attributes!==null)return this.attributes;const e=this.getNodeBuilderState().nodeAttributes,n=this.geometry,r=[],i=new Set,o={};for(const a of e){let s;if(a.node&&a.node.attribute?s=a.node.attribute:(s=n.getAttribute(a.name),o[a.name]=s.version),s===void 0)continue;r.push(s);const l=s.isInterleavedBufferAttribute?s.data:s;i.add(l)}return this.attributes=r,this.attributesId=o,this.vertexBuffers=Array.from(i.values()),r}getVertexBuffers(){return this.vertexBuffers===null&&this.getAttributes(),this.vertexBuffers}getDrawParameters(){const{object:e,material:n,geometry:r,group:i,drawRange:o}=this,a=this.drawParams||(this.drawParams={vertexCount:0,firstVertex:0,instanceCount:0,firstInstance:0}),s=this.getIndex(),l=s!==null;let c=1;if(r.isInstancedBufferGeometry===!0?c=r.instanceCount:e.count!==void 0&&(c=Math.max(0,e.count)),c===0)return null;if(a.instanceCount=c,e.isBatchedMesh===!0)return a;let u=1;n.wireframe===!0&&!e.isPoints&&!e.isLineSegments&&!e.isLine&&!e.isLineLoop&&(u=2);let d=o.start*u,f=(o.start+o.count)*u;i!==null&&(d=Math.max(d,i.start*u),f=Math.min(f,(i.start+i.count)*u));const h=r.attributes.position;let p=1/0;l?p=s.count:h!=null&&(p=h.count),d=Math.max(d,0),f=Math.min(f,p);const x=f-d;return x<0||x===1/0?null:(a.vertexCount=x,a.firstVertex=d,a)}getGeometryCacheKey(){const{geometry:e}=this;let n="";for(const r of Object.keys(e.attributes).sort()){const i=e.attributes[r];n+=r+",",i.data&&(n+=i.data.stride+","),i.offset&&(n+=i.offset+","),i.itemSize&&(n+=i.itemSize+","),i.normalized&&(n+="n,")}for(const r of Object.keys(e.morphAttributes).sort()){const i=e.morphAttributes[r];n+="morph-"+r+",";for(let o=0,a=i.length;o<a;o++){const s=i[o];n+=s.id+","}}return e.index&&(n+="index,"),n}getMaterialCacheKey(){const{object:e,material:n,renderer:r}=this;let i=n.customProgramCacheKey();for(const o of CQe(n)){if(/^(is[A-Z]|_)|^(visible|version|uuid|name|opacity|userData)$/.test(o))continue;const a=n[o];let s;if(a!==null){const l=typeof a;l==="number"?s=a!==0?"1":"0":l==="object"?(s="{",a.isTexture&&(s+=a.mapping,r.backend.isWebGPUBackend===!0&&(s+=a.magFilter,s+=a.minFilter,s+=a.wrapS,s+=a.wrapT,s+=a.wrapR)),s+="}"):s=String(a)}else s=String(a);i+=s+","}return i+=this.clippingContextCacheKey+",",e.geometry&&(i+=this.getGeometryCacheKey()),e.skeleton&&(i+=e.skeleton.bones.length+","),e.isBatchedMesh&&(i+=e._matricesTexture.uuid+",",e._colorsTexture!==null&&(i+=e._colorsTexture.uuid+",")),(e.isInstancedMesh||e.count>1||Array.isArray(e.morphTargetInfluences))&&(i+=e.uuid+","),i+=this.context.id+",",i+=e.receiveShadow+",",K2(i)}get needsGeometryUpdate(){if(this.geometry.id!==this.object.geometry.id)return!0;if(this.attributes!==null){const e=this.attributesId;for(const n in e){const r=this.geometry.getAttribute(n);if(r===void 0||e[n]!==r.id)return!0}}return!1}get needsUpdate(){return this.initialNodesCacheKey!==this.getDynamicCacheKey()||this.clippingNeedsUpdate}getDynamicCacheKey(){let e=0;return this.material.isShadowPassMaterial!==!0&&(e=this._nodes.getCacheKey(this.scene,this.lightsNode)),this.camera.isArrayCamera&&(e=Eb(e,this.camera.cameras.length)),this.object.receiveShadow&&(e=Eb(e,1)),e=Eb(e,this.camera.id,this.renderer.contextNode.id,this.renderer.contextNode.version),e}getCacheKey(){return this.getMaterialCacheKey()+this.getDynamicCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.geometry.removeEventListener("dispose",this.onGeometryDispose),this.onDispose()}}const $p=[];class EQe{constructor(e,n,r,i,o,a){this.renderer=e,this.nodes=n,this.geometries=r,this.pipelines=i,this.bindings=o,this.info=a,this.chainMaps={}}get(e,n,r,i,o,a,s,l){const c=this.getChainMap(l);$p[0]=e,$p[1]=n,$p[2]=a,$p[3]=o;let u=c.get($p);return u===void 0?(u=this.createRenderObject(this.nodes,this.geometries,this.renderer,e,n,r,i,o,a,s,l),c.set($p,u)):(u.updateClipping(s),u.needsGeometryUpdate&&u.setGeometry(e.geometry),(u.version!==n.version||u.needsUpdate)&&(u.initialCacheKey!==u.getCacheKey()?(u.dispose(),u=this.get(e,n,r,i,o,a,s,l)):u.version=n.version)),$p.length=0,u}getChainMap(e="default"){return this.chainMaps[e]||(this.chainMaps[e]=new vu)}dispose(){this.chainMaps={}}createRenderObject(e,n,r,i,o,a,s,l,c,u,d){const f=this.getChainMap(d),h=new TQe(e,n,r,i,o,a,s,l,c,u);return h.onDispose=()=>{this.pipelines.delete(h),this.bindings.deleteForRender(h),this.nodes.delete(h),f.delete(h.getChainArray())},h}}class gp{constructor(){this.data=new WeakMap}get(e){let n=this.data.get(e);return n===void 0&&(n={},this.data.set(e,n)),n}delete(e){let n=null;return this.data.has(e)&&(n=this.data.get(e),this.data.delete(e)),n}has(e){return this.data.has(e)}dispose(){this.data=new WeakMap}}const uc={VERTEX:1,INDEX:2,STORAGE:3,INDIRECT:4},mh=16,MQe=211,RQe=212;class PQe extends gp{constructor(e){super(),this.backend=e}delete(e){const n=super.delete(e);return n!==null&&this.backend.destroyAttribute(e),n}update(e,n){const r=this.get(e);if(r.version===void 0)n===uc.VERTEX?this.backend.createAttribute(e):n===uc.INDEX?this.backend.createIndexAttribute(e):n===uc.STORAGE?this.backend.createStorageAttribute(e):n===uc.INDIRECT&&this.backend.createIndirectStorageAttribute(e),r.version=this._getBufferAttribute(e).version;else{const i=this._getBufferAttribute(e);(r.version<i.version||i.usage===gm)&&(this.backend.updateAttribute(e),r.version=i.version)}}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}function Dce(t){return t.index!==null?t.index.version:t.attributes.position.version}function rW(t){const e=[],n=t.index,r=t.attributes.position;if(n!==null){const o=n.array;for(let a=0,s=o.length;a<s;a+=3){const l=o[a+0],c=o[a+1],u=o[a+2];e.push(l,c,c,u,u,l)}}else{const o=r.array;for(let a=0,s=o.length/3-1;a<s;a+=3){const l=a+0,c=a+1,u=a+2;e.push(l,c,c,u,u,l)}}const i=new(rF(e)?cF:lF)(e,1);return i.version=Dce(t),i}class NQe extends gp{constructor(e,n){super(),this.attributes=e,this.info=n,this.wireframes=new WeakMap,this.attributeCall=new WeakMap,this._geometryDisposeListeners=new Map}has(e){const n=e.geometry;return super.has(n)&&this.get(n).initialized===!0}updateForRender(e){this.has(e)===!1&&this.initGeometry(e),this.updateAttributes(e)}initGeometry(e){const n=e.geometry,r=this.get(n);r.initialized=!0,this.info.memory.geometries++;const i=()=>{this.info.memory.geometries--;const o=n.index,a=e.getAttributes();o!==null&&this.attributes.delete(o);for(const l of a)this.attributes.delete(l);const s=this.wireframes.get(n);s!==void 0&&this.attributes.delete(s),n.removeEventListener("dispose",i),this._geometryDisposeListeners.delete(n)};n.addEventListener("dispose",i),this._geometryDisposeListeners.set(n,i)}updateAttributes(e){const n=e.getAttributes();for(const o of n)o.isStorageBufferAttribute||o.isStorageInstancedBufferAttribute?this.updateAttribute(o,uc.STORAGE):this.updateAttribute(o,uc.VERTEX);const r=this.getIndex(e);r!==null&&this.updateAttribute(r,uc.INDEX);const i=e.geometry.indirect;i!==null&&this.updateAttribute(i,uc.INDIRECT)}updateAttribute(e,n){const r=this.info.render.calls;e.isInterleavedBufferAttribute?this.attributeCall.get(e)===void 0?(this.attributes.update(e,n),this.attributeCall.set(e,r)):this.attributeCall.get(e.data)!==r&&(this.attributes.update(e,n),this.attributeCall.set(e.data,r),this.attributeCall.set(e,r)):this.attributeCall.get(e)!==r&&(this.attributes.update(e,n),this.attributeCall.set(e,r))}getIndirect(e){return e.geometry.indirect}getIndirectOffset(e){return e.geometry.indirectOffset}getIndex(e){const{geometry:n,material:r}=e;let i=n.index;if(r.wireframe===!0){const o=this.wireframes;let a=o.get(n);a===void 0?(a=rW(n),o.set(n,a)):a.version!==Dce(n)&&(this.attributes.delete(a),a=rW(n),o.set(n,a)),i=a}return i}dispose(){for(const[e,n]of this._geometryDisposeListeners.entries())e.removeEventListener("dispose",n);this._geometryDisposeListeners.clear()}}class IQe{constructor(){this.autoReset=!0,this.frame=0,this.calls=0,this.render={calls:0,frameCalls:0,drawCalls:0,triangles:0,points:0,lines:0,timestamp:0},this.compute={calls:0,frameCalls:0,timestamp:0},this.memory={geometries:0,textures:0}}update(e,n,r){this.render.drawCalls++,e.isMesh||e.isSprite?this.render.triangles+=r*(n/3):e.isPoints?this.render.points+=r*n:e.isLineSegments?this.render.lines+=r*(n/2):e.isLine?this.render.lines+=r*(n-1):$t("WebGPUInfo: Unknown object type.")}reset(){this.render.drawCalls=0,this.render.frameCalls=0,this.compute.frameCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.calls=0,this.render.calls=0,this.compute.calls=0,this.render.timestamp=0,this.compute.timestamp=0,this.memory.geometries=0,this.memory.textures=0}}class Oce{constructor(e){this.cacheKey=e,this.usedTimes=0}}class DQe extends Oce{constructor(e,n,r){super(e),this.vertexProgram=n,this.fragmentProgram=r}}class OQe extends Oce{constructor(e,n){super(e),this.computeProgram=n,this.isComputePipeline=!0}}let LQe=0;class ZN{constructor(e,n,r,i=null,o=null){this.id=LQe++,this.code=e,this.stage=n,this.name=r,this.transforms=i,this.attributes=o,this.usedTimes=0}}class BQe extends gp{constructor(e,n){super(),this.backend=e,this.nodes=n,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(e,n){const{backend:r}=this,i=this.get(e);if(this._needsComputeUpdate(e)){const o=i.pipeline;o&&(o.usedTimes--,o.computeProgram.usedTimes--);const a=this.nodes.getForCompute(e);let s=this.programs.compute.get(a.computeShader);s===void 0&&(o&&o.computeProgram.usedTimes===0&&this._releaseProgram(o.computeProgram),s=new ZN(a.computeShader,"compute",e.name,a.transforms,a.nodeAttributes),this.programs.compute.set(a.computeShader,s),r.createProgram(s));const l=this._getComputeCacheKey(e,s);let c=this.caches.get(l);c===void 0&&(o&&o.usedTimes===0&&this._releasePipeline(o),c=this._getComputePipeline(e,s,l,n)),c.usedTimes++,s.usedTimes++,i.version=e.version,i.pipeline=c}return i.pipeline}getForRender(e,n=null){const{backend:r}=this,i=this.get(e);if(this._needsRenderUpdate(e)){const o=i.pipeline;o&&(o.usedTimes--,o.vertexProgram.usedTimes--,o.fragmentProgram.usedTimes--);const a=e.getNodeBuilderState(),s=e.material?e.material.name:"";let l=this.programs.vertex.get(a.vertexShader);l===void 0&&(o&&o.vertexProgram.usedTimes===0&&this._releaseProgram(o.vertexProgram),l=new ZN(a.vertexShader,"vertex",s),this.programs.vertex.set(a.vertexShader,l),r.createProgram(l));let c=this.programs.fragment.get(a.fragmentShader);c===void 0&&(o&&o.fragmentProgram.usedTimes===0&&this._releaseProgram(o.fragmentProgram),c=new ZN(a.fragmentShader,"fragment",s),this.programs.fragment.set(a.fragmentShader,c),r.createProgram(c));const u=this._getRenderCacheKey(e,l,c);let d=this.caches.get(u);d===void 0?(o&&o.usedTimes===0&&this._releasePipeline(o),d=this._getRenderPipeline(e,l,c,u,n)):e.pipeline=d,d.usedTimes++,l.usedTimes++,c.usedTimes++,i.pipeline=d}return i.pipeline}delete(e){const n=this.get(e).pipeline;return n&&(n.usedTimes--,n.usedTimes===0&&this._releasePipeline(n),n.isComputePipeline?(n.computeProgram.usedTimes--,n.computeProgram.usedTimes===0&&this._releaseProgram(n.computeProgram)):(n.fragmentProgram.usedTimes--,n.vertexProgram.usedTimes--,n.vertexProgram.usedTimes===0&&this._releaseProgram(n.vertexProgram),n.fragmentProgram.usedTimes===0&&this._releaseProgram(n.fragmentProgram))),super.delete(e)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(e){this.getForRender(e)}_getComputePipeline(e,n,r,i){r=r||this._getComputeCacheKey(e,n);let o=this.caches.get(r);return o===void 0&&(o=new OQe(r,n),this.caches.set(r,o),this.backend.createComputePipeline(o,i)),o}_getRenderPipeline(e,n,r,i,o){i=i||this._getRenderCacheKey(e,n,r);let a=this.caches.get(i);return a===void 0&&(a=new DQe(i,n,r),this.caches.set(i,a),e.pipeline=a,this.backend.createRenderPipeline(e,o)),a}_getComputeCacheKey(e,n){return e.id+","+n.id}_getRenderCacheKey(e,n,r){return n.id+","+r.id+","+this.backend.getRenderCacheKey(e)}_releasePipeline(e){this.caches.delete(e.cacheKey)}_releaseProgram(e){const n=e.code,r=e.stage;this.programs[r].delete(n)}_needsComputeUpdate(e){const n=this.get(e);return n.pipeline===void 0||n.version!==e.version}_needsRenderUpdate(e){return this.get(e).pipeline===void 0||this.backend.needsRenderUpdate(e)}}class FQe extends gp{constructor(e,n,r,i,o,a){super(),this.backend=e,this.textures=r,this.pipelines=o,this.attributes=i,this.nodes=n,this.info=a,this.pipelines.bindings=this}getForRender(e){const n=e.getBindings();for(const r of n){const i=this.get(r);i.bindGroup===void 0&&(this._init(r),this.backend.createBindings(r,n,0),i.bindGroup=r)}return n}getForCompute(e){const n=this.nodes.getForCompute(e).bindings;for(const r of n){const i=this.get(r);i.bindGroup===void 0&&(this._init(r),this.backend.createBindings(r,n,0),i.bindGroup=r)}return n}updateForCompute(e){this._updateBindings(this.getForCompute(e))}updateForRender(e){this._updateBindings(this.getForRender(e))}deleteForCompute(e){const n=this.nodes.getForCompute(e).bindings;for(const r of n)this.backend.deleteBindGroupData(r),this.delete(r)}deleteForRender(e){const n=e.getBindings();for(const r of n)this.backend.deleteBindGroupData(r),this.delete(r)}_updateBindings(e){for(const n of e)this._update(n,e)}_init(e){for(const n of e.bindings)if(n.isSampledTexture)this.textures.updateTexture(n.texture);else if(n.isSampler)this.textures.updateSampler(n.texture);else if(n.isStorageBuffer){const r=n.attribute,i=r.isIndirectStorageBufferAttribute?uc.INDIRECT:uc.STORAGE;this.attributes.update(r,i)}}_update(e,n){const{backend:r}=this;let i=!1,o=!0,a=0,s=0;for(const l of e.bindings)if(this.nodes.updateGroup(l)!==!1){if(l.isStorageBuffer){const u=l.attribute,d=u.isIndirectStorageBufferAttribute?uc.INDIRECT:uc.STORAGE;this.attributes.update(u,d)}if(l.isUniformBuffer)l.update()&&r.updateBinding(l);else if(l.isSampledTexture){const u=l.update(),d=l.texture,f=this.textures.get(d);if(u&&(this.textures.updateTexture(d),l.generation!==f.generation&&(l.generation=f.generation,i=!0,o=!1)),r.get(d).externalTexture!==void 0||f.isDefaultTexture?o=!1:(a=a*10+d.id,s+=d.version),d.isStorageTexture===!0&&d.mipmapsAutoUpdate===!0){const p=this.get(d);l.store===!0?p.needsMipmap=!0:this.textures.needsMipmaps(d)&&p.needsMipmap===!0&&(this.backend.generateMipmaps(d),p.needsMipmap=!1)}}else if(l.isSampler&&l.update()){const d=this.textures.updateSampler(l.texture);l.samplerKey!==d&&(l.samplerKey=d,i=!0,o=!1)}}i===!0&&this.backend.updateBindings(e,n,o?a:0,s)}}function $Qe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?t.z-e.z:t.id-e.id}function iW(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function oW(t){return(t.transmission>0||t.transmissionNode&&t.transmissionNode.isNode)&&t.side===To&&t.forceSinglePass===!1}class UQe{constructor(e,n,r){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparentDoublePass=[],this.transparent=[],this.bundles=[],this.lightsNode=e.getNode(n,r),this.lightsArray=[],this.scene=n,this.camera=r,this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparentDoublePass.length=0,this.transparent.length=0,this.bundles.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(e,n,r,i,o,a,s){let l=this.renderItems[this.renderItemsIndex];return l===void 0?(l={id:e.id,object:e,geometry:n,material:r,groupOrder:i,renderOrder:e.renderOrder,z:o,group:a,clippingContext:s},this.renderItems[this.renderItemsIndex]=l):(l.id=e.id,l.object=e,l.geometry=n,l.material=r,l.groupOrder=i,l.renderOrder=e.renderOrder,l.z=o,l.group=a,l.clippingContext=s),this.renderItemsIndex++,l}push(e,n,r,i,o,a,s){const l=this.getNextRenderItem(e,n,r,i,o,a,s);e.occlusionTest===!0&&this.occlusionQueryCount++,r.transparent===!0||r.transmission>0||r.transmissionNode&&r.transmissionNode.isNode||r.backdropNode&&r.backdropNode.isNode?(oW(r)&&this.transparentDoublePass.push(l),this.transparent.push(l)):this.opaque.push(l)}unshift(e,n,r,i,o,a,s){const l=this.getNextRenderItem(e,n,r,i,o,a,s);r.transparent===!0||r.transmission>0||r.transmissionNode&&r.transmissionNode.isNode||r.backdropNode&&r.backdropNode.isNode?(oW(r)&&this.transparentDoublePass.unshift(l),this.transparent.unshift(l)):this.opaque.unshift(l)}pushBundle(e){this.bundles.push(e)}pushLight(e){this.lightsArray.push(e)}sort(e,n){this.opaque.length>1&&this.opaque.sort(e||$Qe),this.transparentDoublePass.length>1&&this.transparentDoublePass.sort(n||iW),this.transparent.length>1&&this.transparent.sort(n||iW)}finish(){this.lightsNode.setLights(this.lightsArray);for(let e=this.renderItemsIndex,n=this.renderItems.length;e<n;e++){const r=this.renderItems[e];if(r.id===null)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.groupOrder=null,r.renderOrder=null,r.z=null,r.group=null,r.clippingContext=null}}}const g1=[];class kQe{constructor(e){this.lighting=e,this.lists=new vu}get(e,n){const r=this.lists;g1[0]=e,g1[1]=n;let i=r.get(g1);return i===void 0&&(i=new UQe(this.lighting,e,n),r.set(g1,i)),g1.length=0,i}dispose(){this.lists=new vu}}let VQe=0;class zQe{constructor(){this.id=VQe++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!1,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new nr,this.scissor=!1,this.scissorValue=new nr,this.renderTarget=null,this.textures=null,this.depthTexture=null,this.activeCubeFace=0,this.activeMipmapLevel=0,this.sampleCount=1,this.width=0,this.height=0,this.occlusionQueryCount=0,this.clippingContext=null,this.isRenderContext=!0}getCacheKey(){return Lce(this)}}function Lce(t){const{textures:e,activeCubeFace:n,activeMipmapLevel:r}=t,i=[n,r];for(const o of e)i.push(o.id);return my(i)}const bg=[],GQe=new OM,HQe=new H2;class jQe{constructor(){this.chainMaps={}}get(e,n,r=null,i=null){bg[0]=e,bg[1]=n,i!==null&&(bg[2]=i);let o;if(r===null)o="default";else{const l=r.texture.format;o=`${r.textures.length}:${l}:${r.samples}:${r.depthBuffer}:${r.stencilBuffer}`}const a=this._getChainMap(o);let s=a.get(bg);return s===void 0&&(s=new zQe,a.set(bg,s)),bg.length=0,r!==null&&(s.sampleCount=r.samples===0?1:r.samples),s}getForClear(e=null){return this.get(GQe,HQe,e)}_getChainMap(e){return this.chainMaps[e]||(this.chainMaps[e]=new vu)}dispose(){this.chainMaps={}}}const qQe=new ve;class WQe extends gp{constructor(e,n,r){super(),this.renderer=e,this.backend=n,this.info=r}updateRenderTarget(e,n=0){const r=this.get(e),i=e.samples===0?1:e.samples,o=r.depthTextureMips||(r.depthTextureMips={}),a=e.textures,s=this.getSize(a[0]),l=s.width>>n,c=s.height>>n;let u=e.depthTexture||o[n];const d=e.depthBuffer===!0||e.stencilBuffer===!0;let f=!1;u===void 0&&d&&(u=new ts,u.format=e.stencilBuffer?Ss:Na,u.type=e.stencilBuffer?Il:li,u.image.width=l,u.image.height=c,u.image.depth=s.depth,u.renderTarget=e,u.isArrayTexture=e.multiview===!0&&s.depth>1,o[n]=u),(r.width!==s.width||s.height!==r.height)&&(f=!0,u&&(u.needsUpdate=!0,u.image.width=l,u.image.height=c,u.image.depth=u.isArrayTexture?u.image.depth:1)),r.width=s.width,r.height=s.height,r.textures=a,r.depthTexture=u||null,r.depth=e.depthBuffer,r.stencil=e.stencilBuffer,r.renderTarget=e,r.sampleCount!==i&&(f=!0,u&&(u.needsUpdate=!0),r.sampleCount=i);const h={sampleCount:i};if(e.isXRRenderTarget!==!0){for(let p=0;p<a.length;p++){const x=a[p];f&&(x.needsUpdate=!0),this.updateTexture(x,h)}u&&this.updateTexture(u,h)}r.initialized!==!0&&(r.initialized=!0,r.onDispose=()=>{this._destroyRenderTarget(e)},e.addEventListener("dispose",r.onDispose))}updateTexture(e,n={}){const r=this.get(e);if(r.initialized===!0&&r.version===e.version)return;const i=e.isRenderTargetTexture||e.isDepthTexture||e.isFramebufferTexture,o=this.backend;if(i&&r.initialized===!0&&o.destroyTexture(e),e.isFramebufferTexture){const c=this.renderer.getRenderTarget();c?e.type=c.texture.type:e.type=Fi}const{width:a,height:s,depth:l}=this.getSize(e);if(n.width=a,n.height=s,n.depth=l,n.needsMipmaps=this.needsMipmaps(e),n.levels=n.needsMipmaps?this.getMipLevels(e,a,s):1,e.isCubeTexture&&e.mipmaps.length>0&&n.levels++,i||e.isStorageTexture===!0||e.isExternalTexture===!0)o.createTexture(e,n),r.generation=e.version;else if(e.version>0){const c=e.image;if(c===void 0)Pt("Renderer: Texture marked for update but image is undefined.");else if(c.complete===!1)Pt("Renderer: Texture marked for update but image is incomplete.");else{if(e.images){const d=[];for(const f of e.images)d.push(f);n.images=d}else n.image=c;(r.isDefaultTexture===void 0||r.isDefaultTexture===!0)&&(o.createTexture(e,n),r.isDefaultTexture=!1,r.generation=e.version),e.source.dataReady===!0&&o.updateTexture(e,n);const u=e.isStorageTexture===!0&&e.mipmapsAutoUpdate===!1;n.needsMipmaps&&e.mipmaps.length===0&&!u&&o.generateMipmaps(e),e.onUpdate&&e.onUpdate(e)}}else o.createDefaultTexture(e),r.isDefaultTexture=!0,r.generation=e.version;r.initialized!==!0&&(r.initialized=!0,r.generation=e.version,this.info.memory.textures++,e.isVideoTexture&&Xn.enabled===!0&&Xn.getTransfer(e.colorSpace)!==gn&&Pt("WebGPURenderer: Video textures must use a color space with a sRGB transfer function, e.g. SRGBColorSpace."),r.onDispose=()=>{this._destroyTexture(e)},e.addEventListener("dispose",r.onDispose)),r.version=e.version}updateSampler(e){return this.backend.updateSampler(e)}getSize(e,n=qQe){let r=e.images?e.images[0]:e.image;return r?(r.image!==void 0&&(r=r.image),typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement?(n.width=r.videoWidth||1,n.height=r.videoHeight||1,n.depth=1):typeof VideoFrame<"u"&&r instanceof VideoFrame?(n.width=r.displayWidth||1,n.height=r.displayHeight||1,n.depth=1):(n.width=r.width||1,n.height=r.height||1,n.depth=e.isCubeTexture?6:r.depth||1)):n.width=n.height=n.depth=1,n}getMipLevels(e,n,r){let i;return e.mipmaps.length>0?i=e.mipmaps.length:e.isCompressedTexture===!0?i=1:i=Math.floor(Math.log2(Math.max(n,r)))+1,i}needsMipmaps(e){return e.generateMipmaps===!0||e.mipmaps.length>0}_destroyRenderTarget(e){if(this.has(e)===!0){const n=this.get(e),r=n.textures,i=n.depthTexture;e.removeEventListener("dispose",n.onDispose);for(let o=0;o<r.length;o++)this._destroyTexture(r[o]);i&&this._destroyTexture(i),this.delete(e),this.backend.delete(e)}}_destroyTexture(e){if(this.has(e)===!0){const n=this.get(e);e.removeEventListener("dispose",n.onDispose);const r=n.isDefaultTexture;this.backend.destroyTexture(e,r),this.delete(e),this.info.memory.textures--}}}class e7 extends En{constructor(e,n,r,i=1){super(e,n,r),this.a=i}set(e,n,r,i=1){return this.a=i,super.set(e,n,r)}copy(e){return e.a!==void 0&&(this.a=e.a),super.copy(e)}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}}class Bce extends Zr{static get type(){return"ParameterNode"}constructor(e,n=null){super(e,n),this.isParameterNode=!0}getMemberType(e,n){const r=this.getNodeType(e),i=e.getStructTypeNode(r);let o;return i!==null?o=i.getMemberType(e,n):($t(`TSL: Member "${n}" not found in struct "${r}".`),o="float"),o}getHash(){return this.uuid}generate(){return this.name}}const XQe=(t,e)=>new Bce(t,e);class YQe extends An{static get type(){return"StackNode"}constructor(e=null){super(),this.nodes=[],this.outputNode=null,this.parent=e,this._currentCond=null,this._expressionNode=null,this._currentNode=null,this.isStackNode=!0}getElementType(e){return this.hasOutput?this.outputNode.getElementType(e):"void"}getNodeType(e){return this.hasOutput?this.outputNode.getNodeType(e):"void"}getMemberType(e,n){return this.hasOutput?this.outputNode.getMemberType(e,n):"void"}addToStack(e,n=this.nodes.length){return e.isNode!==!0?($t("TSL: Invalid node added to stack."),this):(this.nodes.splice(n,0,e),this)}addToStackBefore(e){const n=this._currentNode?this.nodes.indexOf(this._currentNode):0;return this.addToStack(e,n)}If(e,n){const r=new nA(n);return this._currentCond=Ea(e,r),this.addToStack(this._currentCond)}ElseIf(e,n){const r=new nA(n),i=Ea(e,r);return this._currentCond.elseNode=i,this._currentCond=i,this}Else(e){return this._currentCond.elseNode=new nA(e),this}Switch(e){return this._expressionNode=rn(e),this}Case(...e){const n=[];if(e.length>=2)for(let s=0;s<e.length-1;s++)n.push(this._expressionNode.equal(rn(e[s])));else $t("TSL: Invalid parameter length. Case() requires at least two parameters.");const r=e[e.length-1],i=new nA(r);let o=n[0];for(let s=1;s<n.length;s++)o=o.or(n[s]);const a=Ea(o,i);return this._currentCond===null?(this._currentCond=a,this.addToStack(this._currentCond)):(this._currentCond.elseNode=a,this._currentCond=a,this)}Default(e){return this.Else(e),this}setup(e){const n=e.getNodeProperties(this);let r=0;for(const i of this.getChildren())i.isVarNode&&i.isIntent(e)&&i.isAssign(e)!==!0||(n["node"+r++]=i);return n.outputNode||null}get hasOutput(){return this.outputNode&&this.outputNode.isNode}build(e,...n){const r=KF(),i=e.buildStage;Yx(this),e.setActiveStack(this);const o=c=>{if(this._currentNode=c,!(c.isVarNode&&c.isIntent(e)&&c.isAssign(e)!==!0)){if(i==="setup")c.build(e);else if(i==="analyze")c.build(e,this);else if(i==="generate"){const u=e.getDataFromNode(c,"any").stages,d=u&&u[e.shaderStage];if(c.isVarNode&&d&&d.length===1&&d[0]&&d[0].isStackNode)return;c.build(e,"void")}}},a=[...this.nodes];for(const c of a)o(c);this._currentNode=null;const s=this.nodes.filter(c=>a.indexOf(c)===-1);for(const c of s)o(c);let l;return this.hasOutput?l=this.outputNode.build(e,...n):l=super.build(e,...n),Yx(r),e.removeActiveStack(this),l}}const VC=ir(YQe).setParameterLength(0,1);function KQe(t){return Object.entries(t).map(([e,n])=>typeof n=="string"?{name:e,type:n,atomic:!1}:{name:e,type:n.type,atomic:n.atomic||!1})}class QQe extends An{static get type(){return"StructTypeNode"}constructor(e,n=null){super("struct"),this.membersLayout=KQe(e),this.name=n,this.isStructLayoutNode=!0}getLength(){const e=Float32Array.BYTES_PER_ELEMENT;let n=1,r=0;for(const i of this.membersLayout){const o=i.type,a=vWe(o),s=yWe(o)/e;n=Math.max(n,s);const c=r%n%s;c!==0&&(r+=s-c),r+=a}return Math.ceil(r/n)*n}getMemberType(e,n){const r=this.membersLayout.find(i=>i.name===n);return r?r.type:"void"}getNodeType(e){return e.getStructTypeFromNode(this,this.membersLayout,this.name).name}setup(e){e.getStructTypeFromNode(this,this.membersLayout,this.name),e.addInclude(this)}generate(e){return this.getNodeType(e)}}class ZQe extends An{static get type(){return"StructNode"}constructor(e,n){super("vec3"),this.structTypeNode=e,this.values=n,this.isStructNode=!0}getNodeType(e){return this.structTypeNode.getNodeType(e)}getMemberType(e,n){return this.structTypeNode.getMemberType(e,n)}generate(e){const n=e.getVarFromNode(this),r=n.type,i=e.getPropertyName(n);return e.addLineFlowCode(`${i} = ${e.generateStruct(r,this.structTypeNode.membersLayout,this.values)}`,this),n.name}}const JQe=(t,e=null)=>{const n=new QQe(t,e),r=(...i)=>{let o=null;if(i.length>0)if(i[0].isNode){o={};const a=Object.keys(t);for(let s=0;s<i.length;s++)o[a[s]]=i[s]}else o=i[0];return new ZQe(n,o)};return r.layout=n,r.isStruct=!0,r};class Fce extends An{static get type(){return"OutputStructNode"}constructor(...e){super(),this.members=e,this.isOutputStructNode=!0}getNodeType(e){const n=e.getNodeProperties(this);if(n.membersLayout===void 0){const r=this.members,i=[];for(let o=0;o<r.length;o++){const a="m"+o,s=r[o].getNodeType(e);i.push({name:a,type:s,index:o})}n.membersLayout=i,n.structType=e.getOutputStructTypeFromNode(this,n.membersLayout)}return n.structType.name}generate(e){const n=e.getOutputStructName(),r=this.members,i=n!==""?n+".":"";for(let o=0;o<r.length;o++){const a=r[o].build(e);e.addLineFlowCode(`${i}m${o} = ${a}`,this)}return n}}const eZe=ir(Fce);function $ce(t,e){for(let n=0;n<t.length;n++)if(t[n].name===e)return n;return-1}class tZe extends Fce{static get type(){return"MRTNode"}constructor(e){super(),this.outputNodes=e,this.isMRTNode=!0}has(e){return this.outputNodes[e]!==void 0}get(e){return this.outputNodes[e]}merge(e){const n={...this.outputNodes,...e.outputNodes};return Uce(n)}setup(e){const n=this.outputNodes,r=e.renderer.getRenderTarget(),i=[],o=r.textures;for(const a in n){const s=$ce(o,a);i[s]=Fn(n[a])}return this.members=i,super.setup(e)}}const Uce=ir(tZe);class rS extends no{static get type(){return"BitcastNode"}constructor(e,n,r=null){super(),this.valueNode=e,this.conversionType=n,this.inputType=r,this.isBitcastNode=!0}getNodeType(e){if(this.inputType!==null){const n=this.valueNode.getNodeType(e),r=e.getTypeLength(n);return e.getTypeFromLength(r,this.conversionType)}return this.conversionType}generate(e){const n=this.getNodeType(e);let r="";if(this.inputType!==null){const i=this.valueNode.getNodeType(e);r=e.getTypeLength(i)===1?this.inputType:e.changeComponentType(i,this.inputType)}else r=this.valueNode.getNodeType(e);return`${e.getBitcastMethod(n,r)}( ${this.valueNode.build(e,r)} )`}}const kce=Xt(rS).setParameterLength(2),nZe=t=>new rS(t,"int","float"),Vce=t=>new rS(t,"uint","float"),rZe=t=>new rS(t,"float","int"),iZe=t=>new rS(t,"float","uint"),gw={};class Dl extends dt{static get type(){return"BitcountNode"}constructor(e,n){super(e,n),this.isBitcountNode=!0}_resolveElementType(e,n,r){r==="int"?n.assign(kce(e,"uint")):n.assign(e)}_returnDataNode(e){switch(e){case"uint":return Vt;case"int":return $e;case"uvec2":return QF;case"uvec3":return S0;case"uvec4":return t$;case"ivec2":return Lo;case"ivec3":return ZF;case"ivec4":return e$}}_createTrailingZerosBaseLayout(e,n){const r=this._returnDataNode(n);return Qe(([o])=>{const a=Vt(0);this._resolveElementType(o,a,n);const s=ge(a.bitAnd(p$(a))),c=Vce(s).shiftRight(23).sub(127);return r(c)}).setLayout({name:e,type:n,inputs:[{name:"value",type:n}]})}_createLeadingZerosBaseLayout(e,n){const r=this._returnDataNode(n);return Qe(([o])=>{Ln(o.equal(Vt(0)),()=>Vt(32));const a=Vt(0),s=Vt(0);return this._resolveElementType(o,a,n),Ln(a.shiftRight(16).equal(0),()=>{s.addAssign(16),a.shiftLeftAssign(16)}),Ln(a.shiftRight(24).equal(0),()=>{s.addAssign(8),a.shiftLeftAssign(8)}),Ln(a.shiftRight(28).equal(0),()=>{s.addAssign(4),a.shiftLeftAssign(4)}),Ln(a.shiftRight(30).equal(0),()=>{s.addAssign(2),a.shiftLeftAssign(2)}),Ln(a.shiftRight(31).equal(0),()=>{s.addAssign(1)}),r(s)}).setLayout({name:e,type:n,inputs:[{name:"value",type:n}]})}_createOneBitsBaseLayout(e,n){const r=this._returnDataNode(n);return Qe(([o])=>{const a=Vt(0);this._resolveElementType(o,a,n),a.assign(a.sub(a.shiftRight(Vt(1)).bitAnd(Vt(1431655765)))),a.assign(a.bitAnd(Vt(858993459)).add(a.shiftRight(Vt(2)).bitAnd(Vt(858993459))));const s=a.add(a.shiftRight(Vt(4))).bitAnd(Vt(252645135)).mul(Vt(16843009)).shiftRight(Vt(24));return r(s)}).setLayout({name:e,type:n,inputs:[{name:"value",type:n}]})}_createMainLayout(e,n,r,i){const o=this._returnDataNode(n);return Qe(([s])=>{if(r===1)return o(i(s));{const l=o(0),c=["x","y","z","w"];for(let u=0;u<r;u++){const d=c[u];l[d].assign(i(s[d]))}return l}}).setLayout({name:e,type:n,inputs:[{name:"value",type:n}]})}setup(e){const{method:n,aNode:r}=this,{renderer:i}=e;if(i.backend.isWebGPUBackend)return super.setup(e);const o=this.getInputType(e),a=e.getElementType(o),s=e.getTypeLength(o),l=`${n}_base_${a}`,c=`${n}_${o}`;let u=gw[l];if(u===void 0){switch(n){case Dl.COUNT_LEADING_ZEROS:{u=this._createLeadingZerosBaseLayout(l,a);break}case Dl.COUNT_TRAILING_ZEROS:{u=this._createTrailingZerosBaseLayout(l,a);break}case Dl.COUNT_ONE_BITS:{u=this._createOneBitsBaseLayout(l,a);break}}gw[l]=u}let d=gw[c];return d===void 0&&(d=this._createMainLayout(c,o,s,u),gw[c]=d),Qe(()=>d(r))()}}Dl.COUNT_TRAILING_ZEROS="countTrailingZeros";Dl.COUNT_LEADING_ZEROS="countLeadingZeros";Dl.COUNT_ONE_BITS="countOneBits";const oZe=Xt(Dl,Dl.COUNT_TRAILING_ZEROS).setParameterLength(1),aZe=Xt(Dl,Dl.COUNT_LEADING_ZEROS).setParameterLength(1),sZe=Xt(Dl,Dl.COUNT_ONE_BITS).setParameterLength(1),lZe=Qe(([t])=>{const e=t.toUint().mul(747796405).add(2891336453),n=e.shiftRight(e.shiftRight(28).add(4)).bitXor(e).mul(277803737);return n.shiftRight(22).bitXor(n).toFloat().mul(1/2**32)}),T6=(t,e)=>lc(rr(4,t.mul(Br(1,t))),e),cZe=(t,e)=>t.lessThan(.5)?T6(t.mul(2),e).div(2):Br(1,T6(rr(Br(1,t),2),e).div(2)),uZe=(t,e,n)=>lc($l(lc(t,e),Mo(lc(t,e),lc(Br(1,t),n))),1/e),dZe=(t,e)=>ys($E.mul(e.mul(t).sub(1))).div($E.mul(e.mul(t).sub(1)));class t7 extends no{static get type(){return"PackFloatNode"}constructor(e,n){super(),this.vectorNode=n,this.encoding=e,this.isPackFloatNode=!0}getNodeType(){return"uint"}generate(e){const n=this.vectorNode.getNodeType(e);return`${e.getFloatPackingMethod(this.encoding)}(${this.vectorNode.build(e,n)})`}}const fZe=Xt(t7,"snorm").setParameterLength(1),hZe=Xt(t7,"unorm").setParameterLength(1),pZe=Xt(t7,"float16").setParameterLength(1);class n7 extends no{static get type(){return"UnpackFloatNode"}constructor(e,n){super(),this.uintNode=n,this.encoding=e,this.isUnpackFloatNode=!0}getNodeType(){return"vec2"}generate(e){const n=this.uintNode.getNodeType(e);return`${e.getFloatUnpackingMethod(this.encoding)}(${this.uintNode.build(e,n)})`}}const mZe=Xt(n7,"snorm").setParameterLength(1),gZe=Xt(n7,"unorm").setParameterLength(1),AZe=Xt(n7,"float16").setParameterLength(1),Ud=Qe(([t])=>t.fract().sub(.5).abs()).setLayout({name:"tri",type:"float",inputs:[{name:"x",type:"float"}]}),vZe=Qe(([t])=>He(Ud(t.z.add(Ud(t.y.mul(1)))),Ud(t.z.add(Ud(t.x.mul(1)))),Ud(t.y.add(Ud(t.x.mul(1)))))).setLayout({name:"tri3",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),yZe=Qe(([t,e,n])=>{const r=He(t).toVar(),i=ge(1.4).toVar(),o=ge(0).toVar(),a=He(r).toVar();return ii({start:ge(0),end:ge(3),type:"float",condition:"<="},()=>{const s=He(vZe(a.mul(2))).toVar();r.addAssign(s.add(n.mul(ge(.1).mul(e)))),a.mulAssign(1.8),i.mulAssign(1.5),r.mulAssign(1.2);const l=ge(Ud(r.z.add(Ud(r.x.add(Ud(r.y)))))).toVar();o.addAssign(l.div(i)),a.addAssign(.14)}),o}).setLayout({name:"triNoise3D",type:"float",inputs:[{name:"position",type:"vec3"},{name:"speed",type:"float"},{name:"time",type:"float"}]});class bZe extends An{static get type(){return"FunctionOverloadingNode"}constructor(e=[],...n){super(),this.functionNodes=e,this.parametersNodes=n,this._candidateFn=null,this.global=!0}getNodeType(e){return this.getCandidateFn(e).shaderNode.layout.type}getCandidateFn(e){const n=this.parametersNodes;let r=this._candidateFn;if(r===null){let i=null,o=-1;for(const a of this.functionNodes){const l=a.shaderNode.layout;if(l===null)throw new Error("FunctionOverloadingNode: FunctionNode must be a layout.");const c=l.inputs;if(n.length===c.length){let u=0;for(let d=0;d<n.length;d++){const f=n[d],h=c[d];f.getNodeType(e)===h.type&&u++}u>o&&(i=a,o=u)}}this._candidateFn=r=i}return r}setup(e){return this.getCandidateFn(e)(...this.parametersNodes)}}const xZe=ir(bZe),Fa=t=>(...e)=>xZe(t,...e),vy=Nn(0).setGroup(Pn).onRenderUpdate(t=>t.time),SZe=Nn(0).setGroup(Pn).onRenderUpdate(t=>t.deltaTime),zce=Nn(0,"uint").setGroup(Pn).onRenderUpdate(t=>t.frameId),_Ze=(t=vy)=>t.add(.75).mul(Math.PI*2).sin().mul(.5).add(.5),wZe=(t=vy)=>t.fract().round(),CZe=(t=vy)=>t.add(.5).fract().mul(2).sub(1).abs(),TZe=(t=vy)=>t.fract();function EZe(t,e=null){return Rf(e,{getUV:t})}const MZe=Qe(([t,e,n=jt(.5)])=>nS(t.sub(n),e).add(n)),RZe=Qe(([t,e,n=jt(.5)])=>{const r=t.sub(n),i=r.dot(r),a=i.mul(i).mul(e);return t.add(r.mul(a))}),PZe=Qe(({position:t=null,horizontal:e=!0,vertical:n=!1})=>{let r;t!==null?(r=cc.toVar(),r[3][0]=t.x,r[3][1]=t.y,r[3][2]=t.z):r=cc;const i=Dc.mul(r);return Xx(e)&&(i[0][0]=cc[0].length(),i[0][1]=0,i[0][2]=0),Xx(n)&&(i[1][0]=0,i[1][1]=cc[1].length(),i[1][2]=0),i[2][0]=0,i[2][1]=0,i[2][2]=1,rf.mul(i).mul(Ki)}),NZe=Qe(([t=null])=>{const e=VE();return VE(H$(t)).sub(e).lessThan(0).select(nf,t)});class IZe extends An{static get type(){return"SpriteSheetUVNode"}constructor(e,n=fi(),r=ge(0)){super("vec2"),this.countNode=e,this.uvNode=n,this.frameNode=r}setup(){const{frameNode:e,uvNode:n,countNode:r}=this,{width:i,height:o}=r,a=e.mod(i.mul(o)).floor(),s=a.mod(i),l=o.sub(a.add(1).div(i).ceil()),c=r.reciprocal(),u=jt(s,l);return n.add(u).mul(c)}}const DZe=ir(IZe).setParameterLength(3),Gce=Qe(([t,e=null,n=null,r=ge(1),i=Ki,o=al])=>{let a=o.abs().normalize();a=a.div(a.dot(He(1)));const s=i.yz.mul(r),l=i.zx.mul(r),c=i.xy.mul(r),u=t.value,d=e!==null?e.value:u,f=n!==null?n.value:u,h=qr(u,s).mul(a.x),p=qr(d,l).mul(a.y),x=qr(f,c).mul(a.z);return Mo(h,p,x)}),OZe=(...t)=>Gce(...t),xg=new Gu,Up=new ve,Sg=new ve,JN=new ve,A1=new ar,Aw=new ve(0,0,-1),Bu=new nr,v1=new ve,vw=new ve,y1=new nr,yw=new Ft,GE=new Tf,LZe=nf.flipX();GE.depthTexture=new ts(1,1);let bw=!1;class r7 extends Ad{static get type(){return"ReflectorNode"}constructor(e={}){super(e.defaultTexture||GE.texture,LZe),this._reflectorBaseNode=e.reflector||new BZe(this,e),this._depthNode=null,this.setUpdateMatrix(!1)}get reflector(){return this._reflectorBaseNode}get target(){return this._reflectorBaseNode.target}getDepthNode(){if(this._depthNode===null){if(this._reflectorBaseNode.depth!==!0)throw new Error("THREE.ReflectorNode: Depth node can only be requested when the reflector is created with { depth: true }. ");this._depthNode=rn(new r7({defaultTexture:GE.depthTexture,reflector:this._reflectorBaseNode}))}return this._depthNode}setup(e){return e.object.isQuadMesh||this._reflectorBaseNode.build(e),super.setup(e)}clone(){const e=new this.constructor(this.reflectorNode);return e.uvNode=this.uvNode,e.levelNode=this.levelNode,e.biasNode=this.biasNode,e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e.offsetNode=this.offsetNode,e._reflectorBaseNode=this._reflectorBaseNode,e}dispose(){super.dispose(),this._reflectorBaseNode.dispose()}}class BZe extends An{static get type(){return"ReflectorBaseNode"}constructor(e,n={}){super();const{target:r=new ji,resolutionScale:i=1,generateMipmaps:o=!1,bounces:a=!0,depth:s=!1,samples:l=0}=n;this.textureNode=e,this.target=r,this.resolutionScale=i,n.resolution!==void 0&&(Ai('ReflectorNode: The "resolution" parameter has been renamed to "resolutionScale".'),this.resolutionScale=n.resolution),this.generateMipmaps=o,this.bounces=a,this.depth=s,this.samples=l,this.updateBeforeType=a?ur.RENDER:ur.FRAME,this.virtualCameras=new WeakMap,this.renderTargets=new Map,this.forceUpdate=!1,this.hasOutput=!1}_updateResolution(e,n){const r=this.resolutionScale;n.getDrawingBufferSize(yw),e.setSize(Math.round(yw.width*r),Math.round(yw.height*r))}setup(e){return this._updateResolution(GE,e.renderer),super.setup(e)}dispose(){super.dispose();for(const e of this.renderTargets.values())e.dispose()}getVirtualCamera(e){let n=this.virtualCameras.get(e);return n===void 0&&(n=e.clone(),this.virtualCameras.set(e,n)),n}getRenderTarget(e){let n=this.renderTargets.get(e);return n===void 0&&(n=new Tf(0,0,{type:Ui,samples:this.samples}),this.generateMipmaps===!0&&(n.texture.minFilter=Q8e,n.texture.generateMipmaps=!0),this.depth===!0&&(n.depthTexture=new ts),this.renderTargets.set(e,n)),n}updateBefore(e){if(this.bounces===!1&&bw)return!1;bw=!0;const{scene:n,camera:r,renderer:i,material:o}=e,{target:a}=this,s=this.getVirtualCamera(r),l=this.getRenderTarget(s);i.getDrawingBufferSize(yw),this._updateResolution(l,i),Sg.setFromMatrixPosition(a.matrixWorld),JN.setFromMatrixPosition(r.matrixWorld),A1.extractRotation(a.matrixWorld),Up.set(0,0,1),Up.applyMatrix4(A1),v1.subVectors(Sg,JN);const c=v1.dot(Up)>0;let u=!1;if(c===!0&&this.forceUpdate===!1){if(this.hasOutput===!1){bw=!1;return}u=!0}v1.reflect(Up).negate(),v1.add(Sg),A1.extractRotation(r.matrixWorld),Aw.set(0,0,-1),Aw.applyMatrix4(A1),Aw.add(JN),vw.subVectors(Sg,Aw),vw.reflect(Up).negate(),vw.add(Sg),s.coordinateSystem=r.coordinateSystem,s.position.copy(v1),s.up.set(0,1,0),s.up.applyMatrix4(A1),s.up.reflect(Up),s.lookAt(vw),s.near=r.near,s.far=r.far,s.updateMatrixWorld(),s.projectionMatrix.copy(r.projectionMatrix),xg.setFromNormalAndCoplanarPoint(Up,Sg),xg.applyMatrix4(s.matrixWorldInverse),Bu.set(xg.normal.x,xg.normal.y,xg.normal.z,xg.constant);const d=s.projectionMatrix;y1.x=(Math.sign(Bu.x)+d.elements[8])/d.elements[0],y1.y=(Math.sign(Bu.y)+d.elements[9])/d.elements[5],y1.z=-1,y1.w=(1+d.elements[10])/d.elements[14],Bu.multiplyScalar(1/Bu.dot(y1));const f=0;d.elements[2]=Bu.x,d.elements[6]=Bu.y,d.elements[10]=i.coordinateSystem===wc?Bu.z-f:Bu.z+1-f,d.elements[14]=Bu.w,this.textureNode.value=l.texture,this.depth===!0&&(this.textureNode.getDepthNode().value=l.depthTexture),o.visible=!1;const h=i.getRenderTarget(),p=i.getMRT(),x=i.autoClear;i.setMRT(null),i.setRenderTarget(l),i.autoClear=!0;const b=n.name;n.name=(n.name||"Scene")+" [ Reflector ]",u?(i.clear(),this.hasOutput=!1):(i.render(n,s),this.hasOutput=!0),n.name=b,i.setMRT(p),i.setRenderTarget(h),i.autoClear=x,o.visible=!0,bw=!1,this.forceUpdate=!1}get resolution(){return Ai('ReflectorNode: The "resolution" property has been renamed to "resolutionScale".'),this.resolutionScale}set resolution(e){Ai('ReflectorNode: The "resolution" property has been renamed to "resolutionScale".'),this.resolutionScale=e}}const FZe=t=>new r7(t),eI=new hy(-1,1,1,-1,0,1);class $Ze extends ei{constructor(e=!1){super();const n=e===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new Gr([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Gr(n,2))}}const UZe=new $Ze;class mR extends Qr{constructor(e=null){super(UZe,e),this.camera=eI,this.isQuadMesh=!0}async renderAsync(e){Ai('QuadMesh: "renderAsync()" has been deprecated. Use "render()" and "await renderer.init();" when creating the renderer.'),await e.init(),e.render(this,eI)}render(e){e.render(this,eI)}}const kZe=new Ft;class VZe extends Ad{static get type(){return"RTTNode"}constructor(e,n=null,r=null,i={type:Ui}){const o=new Tf(n,r,i);super(o.texture,fi()),this.isRTTNode=!0,this.node=e,this.width=n,this.height=r,this.pixelRatio=1,this.renderTarget=o,this.textureNeedsUpdate=!0,this.autoUpdate=!0,this._rttNode=null,this._quadMesh=new mR(new mo),this.updateBeforeType=ur.RENDER}get autoResize(){return this.width===null}setup(e){return this._rttNode=this.node.context(e.getSharedContext()),this._quadMesh.material.name="RTT",this._quadMesh.material.needsUpdate=!0,super.setup(e)}setSize(e,n){this.width=e,this.height=n;const r=e*this.pixelRatio,i=n*this.pixelRatio;this.renderTarget.setSize(r,i),this.textureNeedsUpdate=!0}setPixelRatio(e){this.pixelRatio=e,this.setSize(this.width,this.height)}updateBefore({renderer:e}){if(this.textureNeedsUpdate===!1&&this.autoUpdate===!1)return;if(this.textureNeedsUpdate=!1,this.autoResize===!0){const i=e.getPixelRatio(),o=e.getSize(kZe),a=Math.floor(o.width*i),s=Math.floor(o.height*i);(a!==this.renderTarget.width||s!==this.renderTarget.height)&&(this.renderTarget.setSize(a,s),this.textureNeedsUpdate=!0)}let n="RTT";this.node.name&&(n=this.node.name+" [ "+n+" ]"),this._quadMesh.material.fragmentNode=this._rttNode,this._quadMesh.name=n;const r=e.getRenderTarget();e.setRenderTarget(this.renderTarget),this._quadMesh.render(e),e.setRenderTarget(r)}clone(){const e=new Ad(this.value,this.uvNode,this.levelNode);return e.sampler=this.sampler,e.referenceNode=this,e}}const Hce=(t,...e)=>rn(new VZe(rn(t),...e)),zZe=(t,...e)=>t.isSampleNode||t.isTextureNode?t:t.isPassNode?t.getTextureNode():Hce(t,...e),Dg=Qe(([t,e,n],r)=>{let i;r.renderer.coordinateSystem===wc?(t=jt(t.x,t.y.oneMinus()).mul(2).sub(1),i=Fn(He(t,e),1)):i=Fn(He(t.x,t.y.oneMinus(),e).mul(2).sub(1),1);const o=Fn(n.mul(i));return o.xyz.div(o.w)}),GZe=Qe(([t,e])=>{const n=e.mul(Fn(t,1)),r=n.xy.div(n.w).mul(.5).add(.5).toVar();return jt(r.x,r.y.oneMinus())}),HZe=Qe(([t,e,n])=>{const r=tf(so(e)),i=Lo(t.mul(r)).toVar(),o=so(e,i).toVar(),a=so(e,i.sub(Lo(2,0))).toVar(),s=so(e,i.sub(Lo(1,0))).toVar(),l=so(e,i.add(Lo(1,0))).toVar(),c=so(e,i.add(Lo(2,0))).toVar(),u=so(e,i.add(Lo(0,2))).toVar(),d=so(e,i.add(Lo(0,1))).toVar(),f=so(e,i.sub(Lo(0,1))).toVar(),h=so(e,i.sub(Lo(0,2))).toVar(),p=Mi(Br(ge(2).mul(s).sub(a),o)).toVar(),x=Mi(Br(ge(2).mul(l).sub(c),o)).toVar(),b=Mi(Br(ge(2).mul(d).sub(u),o)).toVar(),y=Mi(Br(ge(2).mul(f).sub(h),o)).toVar(),_=Dg(t,o,n).toVar(),C=p.lessThan(x).select(_.sub(Dg(t.sub(jt(ge(1).div(r.x),0)),s,n)),_.negate().add(Dg(t.add(jt(ge(1).div(r.x),0)),l,n))),E=b.lessThan(y).select(_.sub(Dg(t.add(jt(0,ge(1).div(r.y))),d,n)),_.negate().add(Dg(t.sub(jt(0,ge(1).div(r.y))),f,n)));return Ps(Af(C,E))}),i7=Qe(([t])=>mu(ge(52.9829189).mul(mu(Ec(t,jt(.06711056,.00583715)))))).setLayout({name:"interleavedGradientNoise",type:"float",inputs:[{name:"position",type:"vec2"}]}),Zc=Qe(([t,e,n])=>{const r=ge(2.399963229728653),i=Ja(ge(t).add(.5).div(ge(e))),o=ge(t).mul(r).add(n);return jt(Yc(o),ys(o)).mul(i)}).setLayout({name:"vogelDiskSample",type:"vec2",inputs:[{name:"sampleIndex",type:"int"},{name:"samplesCount",type:"int"},{name:"phi",type:"float"}]});class jZe extends An{static get type(){return"SampleNode"}constructor(e,n=null){super(),this.callback=e,this.uvNode=n,this.isSampleNode=!0}setup(){return this.sample(fi())}sample(e){return this.callback(e)}}const qZe=(t,e=null)=>new jZe(t,rn(e));class Zs extends An{static get type(){return"EventNode"}constructor(e,n){super("void"),this.eventType=e,this.callback=n,e===Zs.OBJECT?this.updateType=ur.OBJECT:e===Zs.MATERIAL?this.updateType=ur.RENDER:e===Zs.BEFORE_OBJECT?this.updateBeforeType=ur.OBJECT:e===Zs.BEFORE_MATERIAL&&(this.updateBeforeType=ur.RENDER)}update(e){this.callback(e)}updateBefore(e){this.callback(e)}}Zs.OBJECT="object";Zs.MATERIAL="material";Zs.BEFORE_OBJECT="beforeObject";Zs.BEFORE_MATERIAL="beforeMaterial";const gR=(t,e)=>new Zs(t,e).toStack(),WZe=t=>gR(Zs.OBJECT,t),XZe=t=>gR(Zs.MATERIAL,t),YZe=t=>gR(Zs.BEFORE_OBJECT,t),KZe=t=>gR(Zs.BEFORE_MATERIAL,t);class zC extends Uh{constructor(e,n,r=Float32Array){const i=ArrayBuffer.isView(e)?e:new r(e*n);super(i,n),this.isStorageInstancedBufferAttribute=!0}}class QZe extends Zi{constructor(e,n,r=Float32Array){const i=ArrayBuffer.isView(e)?e:new r(e*n);super(i,n),this.isStorageBufferAttribute=!0}}const ZZe=(t,e="float")=>{let n,r;e.isStruct===!0?(n=e.layout.getLength(),r=NE("float")):(n=aae(e),r=NE(e));const i=new QZe(t,n,r);return of(i,e,t)},JZe=(t,e="float")=>{let n,r;e.isStruct===!0?(n=e.layout.getLength(),r=NE("float")):(n=aae(e),r=NE(e));const i=new zC(t,n,r);return of(i,e,t)};class eJe extends An{static get type(){return"PointUVNode"}constructor(){super("vec2"),this.isPointUVNode=!0}generate(){return"vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )"}}const tJe=en(eJe),b1=new Oa,tI=new ar;class Js extends An{static get type(){return"SceneNode"}constructor(e=Js.BACKGROUND_BLURRINESS,n=null){super(),this.scope=e,this.scene=n}setup(e){const n=this.scope,r=this.scene!==null?this.scene:e.scene;let i;return n===Js.BACKGROUND_BLURRINESS?i=ai("backgroundBlurriness","float",r):n===Js.BACKGROUND_INTENSITY?i=ai("backgroundIntensity","float",r):n===Js.BACKGROUND_ROTATION?i=Nn("mat4").setName("backgroundRotation").setGroup(Pn).onRenderUpdate(()=>{const o=r.background;return o!==null&&o.isTexture&&o.mapping!==YB?(b1.copy(r.backgroundRotation),b1.x*=-1,b1.y*=-1,b1.z*=-1,tI.makeRotationFromEuler(b1)):tI.identity(),tI}):$t("SceneNode: Unknown scope:",n),i}}Js.BACKGROUND_BLURRINESS="backgroundBlurriness";Js.BACKGROUND_INTENSITY="backgroundIntensity";Js.BACKGROUND_ROTATION="backgroundRotation";const jce=en(Js,Js.BACKGROUND_BLURRINESS),E6=en(Js,Js.BACKGROUND_INTENSITY),qce=en(Js,Js.BACKGROUND_ROTATION);class nJe extends Ad{static get type(){return"StorageTextureNode"}constructor(e,n,r=null){super(e,n),this.storeNode=r,this.mipLevel=0,this.isStorageTextureNode=!0,this.access=Ta.WRITE_ONLY}getInputType(){return"storageTexture"}setup(e){super.setup(e);const n=e.getNodeProperties(this);return n.storeNode=this.storeNode,n}setAccess(e){return this.access=e,this}setMipLevel(e){return this.mipLevel=e,this}generate(e,n){let r;return this.storeNode!==null?r=this.generateStore(e):r=super.generate(e,n),r}toReadWrite(){return this.setAccess(Ta.READ_WRITE)}toReadOnly(){return this.setAccess(Ta.READ_ONLY)}toWriteOnly(){return this.setAccess(Ta.WRITE_ONLY)}generateStore(e){const n=e.getNodeProperties(this),{uvNode:r,storeNode:i,depthNode:o}=n,a=super.generate(e,"property"),s=r.build(e,this.value.is3DTexture===!0?"uvec3":"uvec2"),l=i.build(e,"vec4"),c=o?o.build(e,"int"):null,u=e.generateTextureStore(e,a,s,c,l);e.addLineFlowCode(u,this)}clone(){const e=super.clone();return e.storeNode=this.storeNode,e.mipLevel=this.mipLevel,e}}const Wce=ir(nJe).setParameterLength(1,3),rJe=(t,e,n)=>{const r=Wce(t,e,n);return n!==null&&r.toStack(),r},iJe=Qe(({texture:t,uv:e})=>{const r=He().toVar();return Ln(e.x.lessThan(1e-4),()=>{r.assign(He(1,0,0))}).ElseIf(e.y.lessThan(1e-4),()=>{r.assign(He(0,1,0))}).ElseIf(e.z.lessThan(1e-4),()=>{r.assign(He(0,0,1))}).ElseIf(e.x.greaterThan(1-1e-4),()=>{r.assign(He(-1,0,0))}).ElseIf(e.y.greaterThan(1-1e-4),()=>{r.assign(He(0,-1,0))}).ElseIf(e.z.greaterThan(1-1e-4),()=>{r.assign(He(0,0,-1))}).Else(()=>{const o=t.sample(e.add(He(-.01,0,0))).r.sub(t.sample(e.add(He(.01,0,0))).r),a=t.sample(e.add(He(0,-.01,0))).r.sub(t.sample(e.add(He(0,.01,0))).r),s=t.sample(e.add(He(0,0,-.01))).r.sub(t.sample(e.add(He(0,0,.01))).r);r.assign(He(o,a,s))}),r.normalize()});class oJe extends Ad{static get type(){return"Texture3DNode"}constructor(e,n=null,r=null){super(e,n,r),this.isTexture3DNode=!0}getInputType(){return"texture3D"}getDefaultUV(){return He(.5,.5,.5)}setUpdateMatrix(){}setupUV(e,n){const r=this.value;return e.isFlipY()&&(r.isRenderTargetTexture===!0||r.isFramebufferTexture===!0)&&(this.sampler?n=n.flipY():n=n.setY($e(tf(this,this.levelNode).y).sub(n.y).sub(1))),n}generateUV(e,n){return n.build(e,this.sampler===!0?"vec3":"ivec3")}generateOffset(e,n){return n.build(e,"ivec3")}normal(e){return iJe({texture:this,uv:e})}}const AR=ir(oJe).setParameterLength(1,3),aJe=(...t)=>AR(...t).setSampler(!1),sJe=(t,e,n)=>AR(t,e).level(n);class lJe extends aR{static get type(){return"UserDataNode"}constructor(e,n,r=null){super(e,n,r),this.userData=r}updateReference(e){return this.reference=this.userData!==null?this.userData:e.object.userData,this.reference}}const cJe=(t,e,n)=>new lJe(t,e,n),aW=new WeakMap;class uJe extends no{static get type(){return"VelocityNode"}constructor(){super("vec2"),this.projectionMatrix=null,this.updateType=ur.OBJECT,this.updateAfterType=ur.OBJECT,this.previousModelWorldMatrix=Nn(new ar),this.previousProjectionMatrix=Nn(new ar).setGroup(Pn),this.previousCameraViewMatrix=Nn(new ar)}setProjectionMatrix(e){this.projectionMatrix=e}update({frameId:e,camera:n,object:r}){const i=sW(r);this.previousModelWorldMatrix.value.copy(i);const o=Xce(n);o.frameId!==e&&(o.frameId=e,o.previousProjectionMatrix===void 0?(o.previousProjectionMatrix=new ar,o.previousCameraViewMatrix=new ar,o.currentProjectionMatrix=new ar,o.currentCameraViewMatrix=new ar,o.previousProjectionMatrix.copy(this.projectionMatrix||n.projectionMatrix),o.previousCameraViewMatrix.copy(n.matrixWorldInverse)):(o.previousProjectionMatrix.copy(o.currentProjectionMatrix),o.previousCameraViewMatrix.copy(o.currentCameraViewMatrix)),o.currentProjectionMatrix.copy(this.projectionMatrix||n.projectionMatrix),o.currentCameraViewMatrix.copy(n.matrixWorldInverse),this.previousProjectionMatrix.value.copy(o.previousProjectionMatrix),this.previousCameraViewMatrix.value.copy(o.previousCameraViewMatrix))}updateAfter({object:e}){sW(e).copy(e.matrixWorld)}setup(){const e=this.projectionMatrix===null?rf:Nn(this.projectionMatrix),n=this.previousCameraViewMatrix.mul(this.previousModelWorldMatrix),r=e.mul(pp).mul(Ki),i=this.previousProjectionMatrix.mul(n).mul(kE),o=r.xy.div(r.w),a=i.xy.div(i.w);return Br(o,a)}}function Xce(t){let e=aW.get(t);return e===void 0&&(e={},aW.set(t,e)),e}function sW(t,e=0){const n=Xce(t);let r=n[e];return r===void 0&&(n[e]=r=new ar,n[e].copy(t.matrixWorld)),r}const dJe=en(uJe),fJe=Qe(([t])=>o7(t.rgb)),hJe=Qe(([t,e=ge(1)])=>e.mix(o7(t.rgb),t.rgb)),pJe=Qe(([t,e=ge(1)])=>{const n=Mo(t.r,t.g,t.b).div(3),r=t.r.max(t.g.max(t.b)),i=r.sub(n).mul(e).mul(-3);return Dr(t.rgb,r,i)}),mJe=Qe(([t,e=ge(1)])=>{const n=He(.57735,.57735,.57735),r=e.cos();return He(t.rgb.mul(r).add(n.cross(t.rgb).mul(e.sin()).add(n.mul(Ec(n,t.rgb).mul(r.oneMinus())))))}),o7=(t,e=He(Xn.getLuminanceCoefficients(new ve)))=>Ec(t,e),gJe=Qe(([t,e=He(1),n=He(0),r=He(1),i=ge(1),o=He(Xn.getLuminanceCoefficients(new ve,Kh))])=>{const a=t.rgb.dot(He(o)),s=to(t.rgb.mul(e).add(n),0).toVar(),l=s.pow(r).toVar();return Ln(s.r.greaterThan(0),()=>{s.r.assign(l.r)}),Ln(s.g.greaterThan(0),()=>{s.g.assign(l.g)}),Ln(s.b.greaterThan(0),()=>{s.b.assign(l.b)}),s.assign(a.add(s.sub(a).mul(i))),Fn(s.rgb,t.a)});class AJe extends no{static get type(){return"PosterizeNode"}constructor(e,n){super(),this.sourceNode=e,this.stepsNode=n}setup(){const{sourceNode:e,stepsNode:n}=this;return e.mul(n).floor().div(n)}}const vJe=ir(AJe).setParameterLength(2),xw=new Ft;class Yce extends Ad{static get type(){return"PassTextureNode"}constructor(e,n){super(n),this.passNode=e,this.setUpdateMatrix(!1)}setup(e){return this.passNode.build(e),super.setup(e)}clone(){return new this.constructor(this.passNode,this.value)}}class lW extends Yce{static get type(){return"PassMultipleTextureNode"}constructor(e,n,r=!1){super(e,null),this.textureName=n,this.previousTexture=r}updateTexture(){this.value=this.previousTexture?this.passNode.getPreviousTexture(this.textureName):this.passNode.getTexture(this.textureName)}setup(e){return this.updateTexture(),super.setup(e)}clone(){const e=new this.constructor(this.passNode,this.textureName,this.previousTexture);return e.uvNode=this.uvNode,e.levelNode=this.levelNode,e.biasNode=this.biasNode,e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e.offsetNode=this.offsetNode,e}}class vd extends no{static get type(){return"PassNode"}constructor(e,n,r,i={}){super("vec4"),this.scope=e,this.scene=n,this.camera=r,this.options=i,this._pixelRatio=1,this._width=1,this._height=1;const o=new ts;o.isRenderTargetTexture=!0,o.name="depth";const a=new Tf(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Ui,...i});a.texture.name="output",a.depthTexture=o,this.renderTarget=a,this.overrideMaterial=null,this.transparent=!0,this.opaque=!0,this.contextNode=null,this._contextNodeCache=null,this._textures={output:a.texture,depth:o},this._textureNodes={},this._linearDepthNodes={},this._viewZNodes={},this._previousTextures={},this._previousTextureNodes={},this._cameraNear=Nn(0),this._cameraFar=Nn(0),this._mrt=null,this._layers=null,this._resolutionScale=1,this._viewport=null,this._scissor=null,this.isPassNode=!0,this.updateBeforeType=ur.FRAME,this.global=!0}setResolutionScale(e){return this._resolutionScale=e,this}getResolutionScale(){return this._resolutionScale}setResolution(e){return Pt("PassNode: .setResolution() is deprecated. Use .setResolutionScale() instead."),this.setResolutionScale(e)}getResolution(){return Pt("PassNode: .getResolution() is deprecated. Use .getResolutionScale() instead."),this.getResolutionScale()}setLayers(e){return this._layers=e,this}getLayers(){return this._layers}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}getTexture(e){let n=this._textures[e];return n===void 0&&(n=this.renderTarget.texture.clone(),n.name=e,this._textures[e]=n,this.renderTarget.textures.push(n)),n}getPreviousTexture(e){let n=this._previousTextures[e];return n===void 0&&(n=this.getTexture(e).clone(),this._previousTextures[e]=n),n}toggleTexture(e){const n=this._previousTextures[e];if(n!==void 0){const r=this._textures[e],i=this.renderTarget.textures.indexOf(r);this.renderTarget.textures[i]=n,this._textures[e]=n,this._previousTextures[e]=r,this._textureNodes[e].updateTexture(),this._previousTextureNodes[e].updateTexture()}}getTextureNode(e="output"){let n=this._textureNodes[e];return n===void 0&&(n=new lW(this,e),n.updateTexture(),this._textureNodes[e]=n),n}getPreviousTextureNode(e="output"){let n=this._previousTextureNodes[e];return n===void 0&&(this._textureNodes[e]===void 0&&this.getTextureNode(e),n=new lW(this,e,!0),n.updateTexture(),this._previousTextureNodes[e]=n),n}getViewZNode(e="depth"){let n=this._viewZNodes[e];if(n===void 0){const r=this._cameraNear,i=this._cameraFar;this._viewZNodes[e]=n=j$(this.getTextureNode(e),r,i)}return n}getLinearDepthNode(e="depth"){let n=this._linearDepthNodes[e];if(n===void 0){const r=this._cameraNear,i=this._cameraFar,o=this.getViewZNode(e);this._linearDepthNodes[e]=n=MA(o,r,i)}return n}async compileAsync(e){const n=e.getRenderTarget(),r=e.getMRT();e.setRenderTarget(this.renderTarget),e.setMRT(this._mrt),await e.compileAsync(this.scene,this.camera),e.setRenderTarget(n),e.setMRT(r)}setup({renderer:e}){return this.renderTarget.samples=this.options.samples===void 0?e.samples:this.options.samples,this.renderTarget.texture.type=e.getOutputBufferType(),this.scope===vd.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(e){const{renderer:n}=e,{scene:r}=this;let i,o;const a=n.getOutputRenderTarget();a&&a.isXRRenderTarget===!0?(o=1,i=n.xr.getCamera(),n.xr.updateCamera(i),xw.set(a.width,a.height)):(i=this.camera,o=n.getPixelRatio(),n.getSize(xw)),this._pixelRatio=o,this.setSize(xw.width,xw.height);const s=n.getRenderTarget(),l=n.getMRT(),c=n.autoClear,u=n.transparent,d=n.opaque,f=i.layers.mask,h=n.contextNode,p=r.overrideMaterial;this._cameraNear.value=i.near,this._cameraFar.value=i.far,this._layers!==null&&(i.layers.mask=this._layers.mask);for(const b in this._previousTextures)this.toggleTexture(b);this.overrideMaterial!==null&&(r.overrideMaterial=this.overrideMaterial),n.setRenderTarget(this.renderTarget),n.setMRT(this._mrt),n.autoClear=!0,n.transparent=this.transparent,n.opaque=this.opaque,this.contextNode!==null&&((this._contextNodeCache===null||this._contextNodeCache.version!==this.version)&&(this._contextNodeCache={version:this.version,context:Rf({...n.contextNode.getFlowContextData(),...this.contextNode.getFlowContextData()})}),n.contextNode=this._contextNodeCache.context);const x=r.name;r.name=this.name?this.name:r.name,n.render(r,i),r.name=x,r.overrideMaterial=p,n.setRenderTarget(s),n.setMRT(l),n.autoClear=c,n.transparent=u,n.opaque=d,n.contextNode=h,i.layers.mask=f}setSize(e,n){this._width=e,this._height=n;const r=Math.floor(this._width*this._pixelRatio*this._resolutionScale),i=Math.floor(this._height*this._pixelRatio*this._resolutionScale);this.renderTarget.setSize(r,i),this._scissor!==null&&this.renderTarget.scissor.copy(this._scissor),this._viewport!==null&&this.renderTarget.viewport.copy(this._viewport)}setScissor(e,n,r,i){e===null?this._scissor=null:(this._scissor===null&&(this._scissor=new nr),e.isVector4?this._scissor.copy(e):this._scissor.set(e,n,r,i),this._scissor.multiplyScalar(this._pixelRatio*this._resolutionScale).floor())}setViewport(e,n,r,i){e===null?this._viewport=null:(this._viewport===null&&(this._viewport=new nr),e.isVector4?this._viewport.copy(e):this._viewport.set(e,n,r,i),this._viewport.multiplyScalar(this._pixelRatio*this._resolutionScale).floor())}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}vd.COLOR="color";vd.DEPTH="depth";const yJe=(t,e,n)=>new vd(vd.COLOR,t,e,n),bJe=(t,e)=>new Yce(t,e),xJe=(t,e,n)=>new vd(vd.DEPTH,t,e,n);class SJe extends vd{static get type(){return"ToonOutlinePassNode"}constructor(e,n,r,i,o){super(vd.COLOR,e,n),this.colorNode=r,this.thicknessNode=i,this.alphaNode=o,this._materialCache=new WeakMap,this.name="Outline Pass"}updateBefore(e){const{renderer:n}=e,r=n.getRenderObjectFunction();n.setRenderObjectFunction((i,o,a,s,l,c,u,d)=>{if((l.isMeshToonMaterial||l.isMeshToonNodeMaterial)&&l.wireframe===!1){const f=this._getOutlineMaterial(l);n.renderObject(i,o,a,s,f,c,u,d)}n.renderObject(i,o,a,s,l,c,u,d)}),super.updateBefore(e),n.setRenderObjectFunction(r)}_createMaterial(){const e=new mo;e.isMeshToonOutlineMaterial=!0,e.name="Toon_Outline",e.side=ui;const n=al.negate(),r=rf.mul(pp),i=ge(1),o=r.mul(Fn(Ki,1)),a=r.mul(Fn(Ki.add(n),1)),s=Ps(o.sub(a));return e.vertexNode=o.add(s.mul(this.thicknessNode).mul(o.w).mul(i)),e.colorNode=Fn(this.colorNode,this.alphaNode),e}_getOutlineMaterial(e){let n=this._materialCache.get(e);return n===void 0&&(n=this._createMaterial(),this._materialCache.set(e,n)),n}}const _Je=(t,e,n=new En(0,0,0),r=.003,i=1)=>rn(new SJe(t,e,rn(n),rn(r),rn(i))),Kce=Qe(([t,e])=>t.mul(e).clamp()).setLayout({name:"linearToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Qce=Qe(([t,e])=>(t=t.mul(e),t.div(t.add(1)).clamp())).setLayout({name:"reinhardToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Zce=Qe(([t,e])=>{t=t.mul(e),t=t.sub(.004).max(0);const n=t.mul(t.mul(6.2).add(.5)),r=t.mul(t.mul(6.2).add(1.7)).add(.06);return n.div(r).pow(2.2)}).setLayout({name:"cineonToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),wJe=Qe(([t])=>{const e=t.mul(t.add(.0245786)).sub(90537e-9),n=t.mul(t.add(.432951).mul(.983729)).add(.238081);return e.div(n)}),Jce=Qe(([t,e])=>{const n=La(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),r=La(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return t=t.mul(e).div(.6),t=n.mul(t),t=wJe(t),t=r.mul(t),t.clamp()}).setLayout({name:"acesFilmicToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),CJe=La(He(1.6605,-.1246,-.0182),He(-.5876,1.1329,-.1006),He(-.0728,-.0083,1.1187)),TJe=La(He(.6274,.0691,.0164),He(.3293,.9195,.088),He(.0433,.0113,.8956)),EJe=Qe(([t])=>{const e=He(t).toVar(),n=He(e.mul(e)).toVar(),r=He(n.mul(n)).toVar();return ge(15.5).mul(r.mul(n)).sub(rr(40.14,r.mul(e))).add(rr(31.96,r).sub(rr(6.868,n.mul(e))).add(rr(.4298,n).add(rr(.1191,e).sub(.00232))))}),eue=Qe(([t,e])=>{const n=He(t).toVar(),r=La(He(.856627153315983,.137318972929847,.11189821299995),He(.0951212405381588,.761241990602591,.0767994186031903),He(.0482516061458583,.101439036467562,.811302368396859)),i=La(He(1.1271005818144368,-.1413297634984383,-.14132976349843826),He(-.11060664309660323,1.157823702216272,-.11060664309660294),He(-.016493938717834573,-.016493938717834257,1.2519364065950405)),o=ge(-12.47393),a=ge(4.026069);return n.mulAssign(e),n.assign(TJe.mul(n)),n.assign(r.mul(n)),n.assign(to(n,1e-10)),n.assign(od(n)),n.assign(n.sub(o).div(a.sub(o))),n.assign(gu(n,0,1)),n.assign(EJe(n)),n.assign(i.mul(n)),n.assign(lc(to(He(0),n),He(2.2))),n.assign(CJe.mul(n)),n.assign(gu(n,0,1)),n}).setLayout({name:"agxToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),tue=Qe(([t,e])=>{const n=ge(.76),r=ge(.15);t=t.mul(e);const i=ol(t.r,ol(t.g,t.b)),o=Ea(i.lessThan(.08),i.sub(rr(6.25,i.mul(i))),.04);t.subAssign(o);const a=to(t.r,to(t.g,t.b));Ln(a.lessThan(n),()=>t);const s=Br(1,n),l=Br(1,s.mul(s).div(a.add(s.sub(n))));t.mulAssign(l.div(a));const c=Br(1,$l(1,r.mul(a.sub(l)).add(1)));return Dr(t,He(l),c)}).setLayout({name:"neutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]});class ia extends An{static get type(){return"CodeNode"}constructor(e="",n=[],r=""){super("code"),this.isCodeNode=!0,this.global=!0,this.code=e,this.includes=n,this.language=r}setIncludes(e){return this.includes=e,this}getIncludes(){return this.includes}generate(e){const n=this.getIncludes(e);for(const i of n)i.build(e);const r=e.getCodeFromNode(this,this.getNodeType(e));return r.code=this.code,r.code}serialize(e){super.serialize(e),e.code=this.code,e.language=this.language}deserialize(e){super.deserialize(e),this.code=e.code,this.language=e.language}}const vR=ir(ia).setParameterLength(1,3),MJe=(t,e)=>vR(t,e,"js"),RJe=(t,e)=>vR(t,e,"wgsl"),PJe=(t,e)=>vR(t,e,"glsl");class nue extends ia{static get type(){return"FunctionNode"}constructor(e="",n=[],r=""){super(e,n,r)}getNodeType(e){return this.getNodeFunction(e).type}getMemberType(e,n){const r=this.getNodeType(e);return e.getStructTypeNode(r).getMemberType(e,n)}getInputs(e){return this.getNodeFunction(e).inputs}getNodeFunction(e){const n=e.getDataFromNode(this);let r=n.nodeFunction;return r===void 0&&(r=e.parser.parseFunction(this.code),n.nodeFunction=r),r}generate(e,n){super.generate(e);const r=this.getNodeFunction(e),i=r.name,o=r.type,a=e.getCodeFromNode(this,o);i!==""&&(a.name=i);const s=e.getPropertyName(a),l=this.getNodeFunction(e).getCode(s);return a.code=l+`
`,n==="property"?s:e.format(`${s}()`,o,n)}}const rue=(t,e=[],n="")=>{for(let o=0;o<e.length;o++){const a=e[o];typeof a=="function"&&(e[o]=a.functionNode)}const r=new nue(t,e,n),i=(...o)=>r.call(...o);return i.functionNode=r,i},NJe=(t,e)=>rue(t,e,"glsl"),IJe=(t,e)=>rue(t,e,"wgsl");class DJe extends An{static get type(){return"ScriptableValueNode"}constructor(e=null){super(),this._value=e,this._cache=null,this.inputType=null,this.outputType=null,this.events=new _u,this.isScriptableValueNode=!0}get isScriptableOutputNode(){return this.outputType!==null}set value(e){this._value!==e&&(this._cache&&this.inputType==="URL"&&this.value.value instanceof ArrayBuffer&&(URL.revokeObjectURL(this._cache),this._cache=null),this._value=e,this.events.dispatchEvent({type:"change"}),this.refresh())}get value(){return this._value}refresh(){this.events.dispatchEvent({type:"refresh"})}getValue(){const e=this.value;if(e&&this._cache===null&&this.inputType==="URL"&&e.value instanceof ArrayBuffer)this._cache=URL.createObjectURL(new Blob([e.value]));else if(e&&e.value!==null&&e.value!==void 0&&((this.inputType==="URL"||this.inputType==="String")&&typeof e.value=="string"||this.inputType==="Number"&&typeof e.value=="number"||this.inputType==="Vector2"&&e.value.isVector2||this.inputType==="Vector3"&&e.value.isVector3||this.inputType==="Vector4"&&e.value.isVector4||this.inputType==="Color"&&e.value.isColor||this.inputType==="Matrix3"&&e.value.isMatrix3||this.inputType==="Matrix4"&&e.value.isMatrix4))return e.value;return this._cache||e}getNodeType(e){return this.value&&this.value.isNode?this.value.getNodeType(e):"float"}setup(){return this.value&&this.value.isNode?this.value:ge()}serialize(e){super.serialize(e),this.value!==null?this.inputType==="ArrayBuffer"?e.value=lae(this.value):e.value=this.value?this.value.toJSON(e.meta).uuid:null:e.value=null,e.inputType=this.inputType,e.outputType=this.outputType}deserialize(e){super.deserialize(e);let n=null;e.value!==null&&(e.inputType==="ArrayBuffer"?n=cae(e.value):e.inputType==="Texture"?n=e.meta.textures[e.value]:n=e.meta.nodes[e.value]||null),this.value=n,this.inputType=e.inputType,this.outputType=e.outputType}}const GC=ir(DJe).setParameterLength(1);class iue extends Map{get(e,n=null,...r){if(this.has(e))return super.get(e);if(n!==null){const i=n(...r);return this.set(e,i),i}}}class OJe{constructor(e){this.scriptableNode=e}get parameters(){return this.scriptableNode.parameters}get layout(){return this.scriptableNode.getLayout()}getInputLayout(e){return this.scriptableNode.getInputLayout(e)}get(e){const n=this.parameters[e];return n?n.getValue():null}}const HC=new iue;class LJe extends An{static get type(){return"ScriptableNode"}constructor(e=null,n={}){super(),this.codeNode=e,this.parameters=n,this._local=new iue,this._output=GC(null),this._outputs={},this._source=this.source,this._method=null,this._object=null,this._value=null,this._needsOutputUpdate=!0,this.onRefresh=this.onRefresh.bind(this),this.isScriptableNode=!0}get source(){return this.codeNode?this.codeNode.code:""}setLocal(e,n){return this._local.set(e,n)}getLocal(e){return this._local.get(e)}onRefresh(){this._refresh()}getInputLayout(e){for(const n of this.getLayout())if(n.inputType&&(n.id===e||n.name===e))return n}getOutputLayout(e){for(const n of this.getLayout())if(n.outputType&&(n.id===e||n.name===e))return n}setOutput(e,n){const r=this._outputs;return r[e]===void 0?r[e]=GC(n):r[e].value=n,this}getOutput(e){return this._outputs[e]}getParameter(e){return this.parameters[e]}setParameter(e,n){const r=this.parameters;return n&&n.isScriptableNode?(this.deleteParameter(e),r[e]=n,r[e].getDefaultOutput().events.addEventListener("refresh",this.onRefresh)):n&&n.isScriptableValueNode?(this.deleteParameter(e),r[e]=n,r[e].events.addEventListener("refresh",this.onRefresh)):r[e]===void 0?(r[e]=GC(n),r[e].events.addEventListener("refresh",this.onRefresh)):r[e].value=n,this}getValue(){return this.getDefaultOutput().getValue()}deleteParameter(e){let n=this.parameters[e];return n&&(n.isScriptableNode&&(n=n.getDefaultOutput()),n.events.removeEventListener("refresh",this.onRefresh)),this}clearParameters(){for(const e of Object.keys(this.parameters))this.deleteParameter(e);return this.needsUpdate=!0,this}call(e,...n){const i=this.getObject()[e];if(typeof i=="function")return i(...n)}async callAsync(e,...n){const i=this.getObject()[e];if(typeof i=="function")return i.constructor.name==="AsyncFunction"?await i(...n):i(...n)}getNodeType(e){return this.getDefaultOutputNode().getNodeType(e)}refresh(e=null){e!==null?this.getOutput(e).refresh():this._refresh()}getObject(){if(this.needsUpdate&&this.dispose(),this._object!==null)return this._object;const e=()=>this.refresh(),n=(c,u)=>this.setOutput(c,u),r=new OJe(this),i=HC.get("THREE"),o=HC.get("TSL"),a=this.getMethod(),s=[r,this._local,HC,e,n,i,o];this._object=a(...s);const l=this._object.layout;if(l&&(l.cache===!1&&this._local.clear(),this._output.outputType=l.outputType||null,Array.isArray(l.elements)))for(const c of l.elements){const u=c.id||c.name;c.inputType&&(this.getParameter(u)===void 0&&this.setParameter(u,null),this.getParameter(u).inputType=c.inputType),c.outputType&&(this.getOutput(u)===void 0&&this.setOutput(u,null),this.getOutput(u).outputType=c.outputType)}return this._object}deserialize(e){super.deserialize(e);for(const n in this.parameters){let r=this.parameters[n];r.isScriptableNode&&(r=r.getDefaultOutput()),r.events.addEventListener("refresh",this.onRefresh)}}getLayout(){return this.getObject().layout}getDefaultOutputNode(){const e=this.getDefaultOutput().value;return e&&e.isNode?e:ge()}getDefaultOutput(){return this._exec()._output}getMethod(){if(this.needsUpdate&&this.dispose(),this._method!==null)return this._method;const e=["parameters","local","global","refresh","setOutput","THREE","TSL"],r=["layout","init","main","dispose"].join(", "),i="var "+r+`; var output = {};
`,o=`
return { ...output, `+r+" };",a=i+this.codeNode.code+o;return this._method=new Function(...e,a),this._method}dispose(){this._method!==null&&(this._object&&typeof this._object.dispose=="function"&&this._object.dispose(),this._method=null,this._object=null,this._source=null,this._value=null,this._needsOutputUpdate=!0,this._output.value=null,this._outputs={})}setup(){return this.getDefaultOutputNode()}getCacheKey(e){const n=[K2(this.source),this.getDefaultOutputNode().getCacheKey(e)];for(const r in this.parameters)n.push(this.parameters[r].getCacheKey(e));return my(n)}set needsUpdate(e){e===!0&&this.dispose()}get needsUpdate(){return this.source!==this._source}_exec(){return this.codeNode===null?this:(this._needsOutputUpdate===!0&&(this._value=this.call("main"),this._needsOutputUpdate=!1),this._output.value=this._value,this)}_refresh(){this.needsUpdate=!0,this._exec(),this._output.refresh()}}const BJe=ir(LJe).setParameterLength(1,2);function oue(t){let e;const n=t.context.getViewZ;return n!==void 0&&(e=n(this)),(e||So.z).negate()}const a7=Qe(([t,e],n)=>{const r=oue(n);return Au(t,e,r)}),s7=Qe(([t],e)=>{const n=oue(e);return t.mul(t,n,n).negate().exp().oneMinus()}),e2=Qe(([t,e])=>Fn(e.toFloat().mix(CA.rgb,t.toVec3()),CA.a));function FJe(t,e,n){return Pt('TSL: "rangeFog( color, near, far )" is deprecated. Use "fog( color, rangeFogFactor( near, far ) )" instead.'),e2(t,a7(e,n))}function $Je(t,e){return Pt('TSL: "densityFog( color, density )" is deprecated. Use "fog( color, densityFogFactor( density ) )" instead.'),e2(t,s7(e))}let kp=null,Vp=null;class UJe extends An{static get type(){return"RangeNode"}constructor(e=ge(),n=ge()){super(),this.minNode=e,this.maxNode=n}getVectorLength(e){const n=this.getConstNode(this.minNode),r=this.getConstNode(this.maxNode),i=e.getTypeLength(Sh(n.value)),o=e.getTypeLength(Sh(r.value));return i>o?i:o}getNodeType(e){return e.object.count>1?e.getTypeFromLength(this.getVectorLength(e)):"float"}getConstNode(e){let n=null;if(e.traverse(r=>{r.isConstNode===!0&&(n=r)}),n===null)throw new Error('THREE.TSL: No "ConstNode" found in node graph.');return n}setup(e){const n=e.object;let r=null;if(n.count>1){const i=this.getConstNode(this.minNode),o=this.getConstNode(this.maxNode),a=i.value,s=o.value,l=e.getTypeLength(Sh(a)),c=e.getTypeLength(Sh(s));kp=kp||new nr,Vp=Vp||new nr,kp.setScalar(0),Vp.setScalar(0),l===1?kp.setScalar(a):a.isColor?kp.set(a.r,a.g,a.b,1):kp.set(a.x,a.y,a.z||0,a.w||0),c===1?Vp.setScalar(s):s.isColor?Vp.set(s.r,s.g,s.b,1):Vp.set(s.x,s.y,s.z||0,s.w||0);const u=4,d=u*n.count,f=new Float32Array(d);for(let p=0;p<d;p++){const x=p%u,b=kp.getComponent(x),y=Vp.getComponent(x);f[p]=_v.lerp(b,y,Math.random())}const h=this.getNodeType(e);if(n.count<=4096)r=J2(f,"vec4",n.count).element(cd).convert(h);else{const p=new Uh(f,4);e.geometry.setAttribute("__range"+this.id,p),r=UE(p).convert(h)}}else r=ge(0);return r}}const kJe=ir(UJe).setParameterLength(2);class VJe extends An{static get type(){return"ComputeBuiltinNode"}constructor(e,n){super(n),this._builtinName=e}getHash(e){return this.getBuiltinName(e)}getNodeType(){return this.nodeType}setBuiltinName(e){return this._builtinName=e,this}getBuiltinName(){return this._builtinName}hasBuiltin(e){return e.hasBuiltin(this._builtinName)}generate(e,n){const r=this.getBuiltinName(e),i=this.getNodeType(e);return e.shaderStage==="compute"?e.format(r,i,n):(Pt(`ComputeBuiltinNode: Compute built-in value ${r} can not be accessed in the ${e.shaderStage} stage`),e.generateConst(i))}serialize(e){super.serialize(e),e.global=this.global,e._builtinName=this._builtinName}deserialize(e){super.deserialize(e),this.global=e.global,this._builtinName=e._builtinName}}const iS=(t,e)=>new VJe(t,e),zJe=iS("numWorkgroups","uvec3"),GJe=iS("workgroupId","uvec3"),HJe=iS("globalId","uvec3"),jJe=iS("localId","uvec3"),qJe=iS("subgroupSize","uint");class WJe extends An{constructor(e){super(),this.scope=e}generate(e){const{scope:n}=this,{renderer:r}=e;r.backend.isWebGLBackend===!0?e.addFlowCode(`	// ${n}Barrier 
`):e.addLineFlowCode(`${n}Barrier()`,this)}}const l7=ir(WJe),XJe=()=>l7("workgroup").toStack(),YJe=()=>l7("storage").toStack(),KJe=()=>l7("texture").toStack();class QJe extends x0{constructor(e,n){super(e,n),this.isWorkgroupInfoElementNode=!0}generate(e,n){let r;const i=e.context.assign;if(r=super.generate(e),i!==!0){const o=this.getNodeType(e);r=e.format(r,o,n)}return r}}class ZJe extends An{constructor(e,n,r=0){super(n),this.bufferType=n,this.bufferCount=r,this.isWorkgroupInfoNode=!0,this.elementType=n,this.scope=e,this.name=""}setName(e){return this.name=e,this}label(e){return Pt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(e)}setScope(e){return this.scope=e,this}getElementType(){return this.elementType}getInputType(){return`${this.scope}Array`}element(e){return new QJe(this,e)}generate(e){const n=this.name!==""?this.name:`${this.scope}Array_${this.id}`;return e.getScopedArray(n,this.scope.toLowerCase(),this.bufferType,this.bufferCount)}}const JJe=(t,e)=>new ZJe("Workgroup",t,e);class Qo extends An{static get type(){return"AtomicFunctionNode"}constructor(e,n,r){super("uint"),this.method=e,this.pointerNode=n,this.valueNode=r,this.parents=!0}getInputType(e){return this.pointerNode.getNodeType(e)}getNodeType(e){return this.getInputType(e)}generate(e){const n=e.getNodeProperties(this),r=n.parents,i=this.method,o=this.getNodeType(e),a=this.getInputType(e),s=this.pointerNode,l=this.valueNode,c=[];c.push(`&${s.build(e,a)}`),l!==null&&c.push(l.build(e,a));const u=`${e.getMethod(i,o)}( ${c.join(", ")} )`;if(r?r.length===1&&r[0].isStackNode===!0:!1)e.addLineFlowCode(u,this);else return n.constNode===void 0&&(n.constNode=vf(u,o).toConst()),n.constNode.build(e)}}Qo.ATOMIC_LOAD="atomicLoad";Qo.ATOMIC_STORE="atomicStore";Qo.ATOMIC_ADD="atomicAdd";Qo.ATOMIC_SUB="atomicSub";Qo.ATOMIC_MAX="atomicMax";Qo.ATOMIC_MIN="atomicMin";Qo.ATOMIC_AND="atomicAnd";Qo.ATOMIC_OR="atomicOr";Qo.ATOMIC_XOR="atomicXor";const eet=ir(Qo),wd=(t,e,n)=>eet(t,e,n).toStack(),tet=t=>wd(Qo.ATOMIC_LOAD,t,null),net=(t,e)=>wd(Qo.ATOMIC_STORE,t,e),ret=(t,e)=>wd(Qo.ATOMIC_ADD,t,e),iet=(t,e)=>wd(Qo.ATOMIC_SUB,t,e),oet=(t,e)=>wd(Qo.ATOMIC_MAX,t,e),aet=(t,e)=>wd(Qo.ATOMIC_MIN,t,e),set=(t,e)=>wd(Qo.ATOMIC_AND,t,e),cet=(t,e)=>wd(Qo.ATOMIC_OR,t,e),uet=(t,e)=>wd(Qo.ATOMIC_XOR,t,e);class ln extends no{static get type(){return"SubgroupFunctionNode"}constructor(e,n=null,r=null){super(),this.method=e,this.aNode=n,this.bNode=r}getInputType(e){const n=this.aNode?this.aNode.getNodeType(e):null,r=this.bNode?this.bNode.getNodeType(e):null,i=e.isMatrix(n)?0:e.getTypeLength(n),o=e.isMatrix(r)?0:e.getTypeLength(r);return i>o?n:r}getNodeType(e){const n=this.method;return n===ln.SUBGROUP_ELECT?"bool":n===ln.SUBGROUP_BALLOT?"uvec4":this.getInputType(e)}generate(e,n){const r=this.method,i=this.getNodeType(e),o=this.getInputType(e),a=this.aNode,s=this.bNode,l=[];if(r===ln.SUBGROUP_BROADCAST||r===ln.SUBGROUP_SHUFFLE||r===ln.QUAD_BROADCAST){const u=s.getNodeType(e);l.push(a.build(e,i),s.build(e,u==="float"?"int":i))}else r===ln.SUBGROUP_SHUFFLE_XOR||r===ln.SUBGROUP_SHUFFLE_DOWN||r===ln.SUBGROUP_SHUFFLE_UP?l.push(a.build(e,i),s.build(e,"uint")):(a!==null&&l.push(a.build(e,o)),s!==null&&l.push(s.build(e,o)));const c=l.length===0?"()":`( ${l.join(", ")} )`;return e.format(`${e.getMethod(r,i)}${c}`,i,n)}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}ln.SUBGROUP_ELECT="subgroupElect";ln.SUBGROUP_BALLOT="subgroupBallot";ln.SUBGROUP_ADD="subgroupAdd";ln.SUBGROUP_INCLUSIVE_ADD="subgroupInclusiveAdd";ln.SUBGROUP_EXCLUSIVE_AND="subgroupExclusiveAdd";ln.SUBGROUP_MUL="subgroupMul";ln.SUBGROUP_INCLUSIVE_MUL="subgroupInclusiveMul";ln.SUBGROUP_EXCLUSIVE_MUL="subgroupExclusiveMul";ln.SUBGROUP_AND="subgroupAnd";ln.SUBGROUP_OR="subgroupOr";ln.SUBGROUP_XOR="subgroupXor";ln.SUBGROUP_MIN="subgroupMin";ln.SUBGROUP_MAX="subgroupMax";ln.SUBGROUP_ALL="subgroupAll";ln.SUBGROUP_ANY="subgroupAny";ln.SUBGROUP_BROADCAST_FIRST="subgroupBroadcastFirst";ln.QUAD_SWAP_X="quadSwapX";ln.QUAD_SWAP_Y="quadSwapY";ln.QUAD_SWAP_DIAGONAL="quadSwapDiagonal";ln.SUBGROUP_BROADCAST="subgroupBroadcast";ln.SUBGROUP_SHUFFLE="subgroupShuffle";ln.SUBGROUP_SHUFFLE_XOR="subgroupShuffleXor";ln.SUBGROUP_SHUFFLE_UP="subgroupShuffleUp";ln.SUBGROUP_SHUFFLE_DOWN="subgroupShuffleDown";ln.QUAD_BROADCAST="quadBroadcast";const det=Xt(ln,ln.SUBGROUP_ELECT).setParameterLength(0),fet=Xt(ln,ln.SUBGROUP_BALLOT).setParameterLength(1),het=Xt(ln,ln.SUBGROUP_ADD).setParameterLength(1),pet=Xt(ln,ln.SUBGROUP_INCLUSIVE_ADD).setParameterLength(1),met=Xt(ln,ln.SUBGROUP_EXCLUSIVE_AND).setParameterLength(1),get=Xt(ln,ln.SUBGROUP_MUL).setParameterLength(1),Aet=Xt(ln,ln.SUBGROUP_INCLUSIVE_MUL).setParameterLength(1),vet=Xt(ln,ln.SUBGROUP_EXCLUSIVE_MUL).setParameterLength(1),yet=Xt(ln,ln.SUBGROUP_AND).setParameterLength(1),bet=Xt(ln,ln.SUBGROUP_OR).setParameterLength(1),xet=Xt(ln,ln.SUBGROUP_XOR).setParameterLength(1),_et=Xt(ln,ln.SUBGROUP_MIN).setParameterLength(1),wet=Xt(ln,ln.SUBGROUP_MAX).setParameterLength(1),Cet=Xt(ln,ln.SUBGROUP_ALL).setParameterLength(0),Tet=Xt(ln,ln.SUBGROUP_ANY).setParameterLength(0),Eet=Xt(ln,ln.SUBGROUP_BROADCAST_FIRST).setParameterLength(2),Met=Xt(ln,ln.QUAD_SWAP_X).setParameterLength(1),Ret=Xt(ln,ln.QUAD_SWAP_Y).setParameterLength(1),Pet=Xt(ln,ln.QUAD_SWAP_DIAGONAL).setParameterLength(1),Net=Xt(ln,ln.SUBGROUP_BROADCAST).setParameterLength(2),Iet=Xt(ln,ln.SUBGROUP_SHUFFLE).setParameterLength(2),Det=Xt(ln,ln.SUBGROUP_SHUFFLE_XOR).setParameterLength(2),Oet=Xt(ln,ln.SUBGROUP_SHUFFLE_UP).setParameterLength(2),Let=Xt(ln,ln.SUBGROUP_SHUFFLE_DOWN).setParameterLength(2),Bet=Xt(ln,ln.QUAD_BROADCAST).setParameterLength(1);let Sw;function yR(t){Sw=Sw||new WeakMap;let e=Sw.get(t);return e===void 0&&Sw.set(t,e={}),e}function bR(t){const e=yR(t);return e.shadowMatrix||(e.shadowMatrix=Nn("mat4").setGroup(Pn).onRenderUpdate(n=>((t.castShadow!==!0||n.renderer.shadowMap.enabled===!1)&&(t.shadow.camera.coordinateSystem!==n.camera.coordinateSystem&&(t.shadow.camera.coordinateSystem=n.camera.coordinateSystem,t.shadow.camera.updateProjectionMatrix()),t.shadow.updateMatrices(t)),t.shadow.matrix)))}function aue(t,e=ld){const n=bR(t).mul(e);return n.xyz.div(n.w)}function c7(t){const e=yR(t);return e.position||(e.position=Nn(new ve).setGroup(Pn).onRenderUpdate((n,r)=>r.value.setFromMatrixPosition(t.matrixWorld)))}function sue(t){const e=yR(t);return e.targetPosition||(e.targetPosition=Nn(new ve).setGroup(Pn).onRenderUpdate((n,r)=>r.value.setFromMatrixPosition(t.target.matrixWorld)))}function u7(t){const e=yR(t);return e.viewPosition||(e.viewPosition=Nn(new ve).setGroup(Pn).onRenderUpdate(({camera:n},r)=>{r.value=r.value||new ve,r.value.setFromMatrixPosition(t.matrixWorld),r.value.applyMatrix4(n.matrixWorldInverse)}))}const d7=t=>Dc.transformDirection(c7(t).sub(sue(t))),Fet=t=>t.sort((e,n)=>e.id-n.id),$et=(t,e)=>{for(const n of e)if(n.isAnalyticLightNode&&n.light.id===t)return n;return null},nI=new WeakMap,x1=[];class f7 extends An{static get type(){return"LightsNode"}constructor(){super("vec3"),this.totalDiffuseNode=ef("vec3","totalDiffuse"),this.totalSpecularNode=ef("vec3","totalSpecular"),this.outgoingLightNode=ef("vec3","outgoingLight"),this._lights=[],this._lightNodes=null,this._lightNodesHash=null,this.global=!0}customCacheKey(){const e=this._lights;for(let r=0;r<e.length;r++){const i=e[r];if(x1.push(i.id),x1.push(i.castShadow?1:0),i.isSpotLight===!0){const o=i.map!==null?i.map.id:-1,a=i.colorNode?i.colorNode.getCacheKey():-1;x1.push(o,a)}}const n=my(x1);return x1.length=0,n}getHash(e){if(this._lightNodesHash===null){this._lightNodes===null&&this.setupLightsNode(e);const n=[];for(const r of this._lightNodes)n.push(r.getHash());this._lightNodesHash="lights-"+n.join(",")}return this._lightNodesHash}analyze(e){const n=e.getNodeProperties(this);for(const r of n.nodes)r.build(e);n.outputNode.build(e)}setupLightsNode(e){const n=[],r=this._lightNodes,i=Fet(this._lights),o=e.renderer.library;for(const a of i)if(a.isNode)n.push(rn(a));else{let s=null;if(r!==null&&(s=$et(a.id,r)),s===null){const l=o.getLightNodeClass(a.constructor);if(l===null){Pt(`LightsNode.setupNodeLights: Light node not found for ${a.constructor.name}`);continue}let c=null;nI.has(a)?c=nI.get(a):(c=new l(a),nI.set(a,c)),n.push(c)}}this._lightNodes=n}setupDirectLight(e,n,r){const{lightingModel:i,reflectedLight:o}=e.context;i.direct({...r,lightNode:n,reflectedLight:o},e)}setupDirectRectAreaLight(e,n,r){const{lightingModel:i,reflectedLight:o}=e.context;i.directRectArea({...r,lightNode:n,reflectedLight:o},e)}setupLights(e,n){for(const r of n)r.build(e)}getLightNodes(e){return this._lightNodes===null&&this.setupLightsNode(e),this._lightNodes}setup(e){const n=e.lightsNode;e.lightsNode=this;let r=this.outgoingLightNode;const i=e.context,o=i.lightingModel,a=e.getNodeProperties(this);if(o){const{totalDiffuseNode:s,totalSpecularNode:l}=this;i.outgoingLight=r;const c=e.addStack();a.nodes=c.nodes,o.start(e);const{backdrop:u,backdropAlpha:d}=i,{directDiffuse:f,directSpecular:h,indirectDiffuse:p,indirectSpecular:x}=i.reflectedLight;let b=f.add(p);u!==null&&(d!==null?b=He(d.mix(b,u)):b=He(u)),s.assign(b),l.assign(h.add(x)),r.assign(s.add(l)),o.finish(e),r=r.bypass(e.removeStack())}else a.nodes=[];return e.lightsNode=n,r}setLights(e){return this._lights=e,this._lightNodes=null,this._lightNodesHash=null,this}getLights(){return this._lights}get hasLights(){return this._lights.length>0}}const Uet=(t=[])=>new f7().setLights(t);class ket extends An{static get type(){return"ShadowBaseNode"}constructor(e){super(),this.light=e,this.updateBeforeType=ur.RENDER,this.isShadowBaseNode=!0}setupShadowPosition({context:e,material:n}){h7.assign(n.receivedShadowPositionNode||e.shadowPositionWorld||ld)}}const h7=ef("vec3","shadowPositionWorld");function Vet(t,e={}){return e.toneMapping=t.toneMapping,e.toneMappingExposure=t.toneMappingExposure,e.outputColorSpace=t.outputColorSpace,e.renderTarget=t.getRenderTarget(),e.activeCubeFace=t.getActiveCubeFace(),e.activeMipmapLevel=t.getActiveMipmapLevel(),e.renderObjectFunction=t.getRenderObjectFunction(),e.pixelRatio=t.getPixelRatio(),e.mrt=t.getMRT(),e.clearColor=t.getClearColor(e.clearColor||new En),e.clearAlpha=t.getClearAlpha(),e.autoClear=t.autoClear,e.scissorTest=t.getScissorTest(),e}function zet(t,e){return e=Vet(t,e),t.setMRT(null),t.setRenderObjectFunction(null),t.setClearColor(0,1),t.autoClear=!0,e}function Get(t,e){t.toneMapping=e.toneMapping,t.toneMappingExposure=e.toneMappingExposure,t.outputColorSpace=e.outputColorSpace,t.setRenderTarget(e.renderTarget,e.activeCubeFace,e.activeMipmapLevel),t.setRenderObjectFunction(e.renderObjectFunction),t.setPixelRatio(e.pixelRatio),t.setMRT(e.mrt),t.setClearColor(e.clearColor,e.clearAlpha),t.autoClear=e.autoClear,t.setScissorTest(e.scissorTest)}function Het(t,e={}){return e.background=t.background,e.backgroundNode=t.backgroundNode,e.overrideMaterial=t.overrideMaterial,e}function jet(t,e){return e=Het(t,e),t.background=null,t.backgroundNode=null,t.overrideMaterial=null,e}function qet(t,e){t.background=e.background,t.backgroundNode=e.backgroundNode,t.overrideMaterial=e.overrideMaterial}function Wet(t,e,n){return n=zet(t,n),n=jet(e,n),n}function Xet(t,e,n){Get(t,n),qet(e,n)}const HE=new WeakMap,lue=Qe(({depthTexture:t,shadowCoord:e,depthLayer:n})=>{let r=qr(t,e.xy).setName("t_basic");return t.isArrayTexture&&(r=r.depth(n)),r.compare(e.z)}),cue=Qe(({depthTexture:t,shadowCoord:e,shadow:n,depthLayer:r})=>{const i=(u,d)=>{let f=qr(t,u);return t.isArrayTexture&&(f=f.depth(r)),f.compare(d)},o=ai("mapSize","vec2",n).setGroup(Pn),a=ai("radius","float",n).setGroup(Pn),s=jt(1).div(o),l=a.mul(s.x),c=i7(_0.xy).mul(6.28318530718);return Mo(i(e.xy.add(Zc(0,5,c).mul(l)),e.z),i(e.xy.add(Zc(1,5,c).mul(l)),e.z),i(e.xy.add(Zc(2,5,c).mul(l)),e.z),i(e.xy.add(Zc(3,5,c).mul(l)),e.z),i(e.xy.add(Zc(4,5,c).mul(l)),e.z)).mul(1/5)}),uue=Qe(({depthTexture:t,shadowCoord:e,shadow:n,depthLayer:r})=>{const i=(d,f)=>{let h=qr(t,d);return t.isArrayTexture&&(h=h.depth(r)),h.compare(f)},o=ai("mapSize","vec2",n).setGroup(Pn),a=jt(1).div(o),s=a.x,l=a.y,c=e.xy,u=mu(c.mul(o).add(.5));return c.subAssign(u.mul(a)),Mo(i(c,e.z),i(c.add(jt(s,0)),e.z),i(c.add(jt(0,l)),e.z),i(c.add(a),e.z),Dr(i(c.add(jt(s.negate(),0)),e.z),i(c.add(jt(s.mul(2),0)),e.z),u.x),Dr(i(c.add(jt(s.negate(),l)),e.z),i(c.add(jt(s.mul(2),l)),e.z),u.x),Dr(i(c.add(jt(0,l.negate())),e.z),i(c.add(jt(0,l.mul(2))),e.z),u.y),Dr(i(c.add(jt(s,l.negate())),e.z),i(c.add(jt(s,l.mul(2))),e.z),u.y),Dr(Dr(i(c.add(jt(s.negate(),l.negate())),e.z),i(c.add(jt(s.mul(2),l.negate())),e.z),u.x),Dr(i(c.add(jt(s.negate(),l.mul(2))),e.z),i(c.add(jt(s.mul(2),l.mul(2))),e.z),u.x),u.y)).mul(1/9)}),due=Qe(({depthTexture:t,shadowCoord:e,depthLayer:n})=>{let r=qr(t).sample(e.xy);t.isArrayTexture&&(r=r.depth(n)),r=r.rg;const i=r.x,o=to(1e-7,r.y.mul(r.y)),a=tR(e.z,i);Ln(a.equal(1),()=>ge(1));const s=e.z.sub(i);let l=o.div(o.add(s.mul(s)));return l=gu(Br(l,.3).div(.65)),to(a,l)}),Yet=Qe(([t,e,n])=>{let r=ld.sub(t).length();return r=r.sub(e).div(n.sub(e)),r=r.saturate(),r}),Ket=t=>{const e=t.shadow.camera,n=ai("near","float",e).setGroup(Pn),r=ai("far","float",e).setGroup(Pn),i=Wse(t);return Yet(i,n,r)},fue=t=>{let e=HE.get(t);if(e===void 0){const n=t.isPointLight?Ket(t):null;e=new mo,e.colorNode=Fn(0,0,0,1),e.depthNode=n,e.isShadowPassMaterial=!0,e.name="ShadowMaterial",e.fog=!1,HE.set(t,e)}return e},hue=t=>{const e=HE.get(t);e!==void 0&&(e.dispose(),HE.delete(t))},cW=new vu,_g=[],pue=(t,e,n,r)=>{_g[0]=t,_g[1]=e;let i=cW.get(_g);return(i===void 0||i.shadowType!==n||i.useVelocity!==r)&&(i=(o,a,s,l,c,u,...d)=>{(o.castShadow===!0||o.receiveShadow&&n===qd)&&(r&&(sae(o).useVelocity=!0),o.onBeforeShadow(t,o,s,e.camera,l,a.overrideMaterial,u),t.renderObject(o,a,s,l,c,u,...d),o.onAfterShadow(t,o,s,e.camera,l,a.overrideMaterial,u))},i.shadowType=n,i.useVelocity=r,cW.set(_g,i)),_g[0]=null,_g[1]=null,i},Qet=Qe(({samples:t,radius:e,size:n,shadowPass:r,depthLayer:i})=>{const o=ge(0).toVar("meanVertical"),a=ge(0).toVar("squareMeanVertical"),s=t.lessThanEqual(ge(1)).select(ge(0),ge(2).div(t.sub(1))),l=t.lessThanEqual(ge(1)).select(ge(0),ge(-1));ii({start:$e(0),end:$e(t),type:"int",condition:"<"},({i:u})=>{const d=l.add(ge(u).mul(s));let f=r.sample(Mo(_0.xy,jt(0,d).mul(e)).div(n));r.value.isArrayTexture&&(f=f.depth(i)),f=f.x,o.addAssign(f),a.addAssign(f.mul(f))}),o.divAssign(t),a.divAssign(t);const c=Ja(a.sub(o.mul(o)).max(0));return jt(o,c)}),Zet=Qe(({samples:t,radius:e,size:n,shadowPass:r,depthLayer:i})=>{const o=ge(0).toVar("meanHorizontal"),a=ge(0).toVar("squareMeanHorizontal"),s=t.lessThanEqual(ge(1)).select(ge(0),ge(2).div(t.sub(1))),l=t.lessThanEqual(ge(1)).select(ge(0),ge(-1));ii({start:$e(0),end:$e(t),type:"int",condition:"<"},({i:u})=>{const d=l.add(ge(u).mul(s));let f=r.sample(Mo(_0.xy,jt(d,0).mul(e)).div(n));r.value.isArrayTexture&&(f=f.depth(i)),o.addAssign(f.x),a.addAssign(Mo(f.y.mul(f.y),f.x.mul(f.x)))}),o.divAssign(t),a.divAssign(t);const c=Ja(a.sub(o.mul(o)).max(0));return jt(o,c)}),Jet=[lue,cue,uue,due];let rI;const _w=new mR;class mue extends ket{static get type(){return"ShadowNode"}constructor(e,n=null){super(e),this.shadow=n||e.shadow,this.shadowMap=null,this.vsmShadowMapVertical=null,this.vsmShadowMapHorizontal=null,this.vsmMaterialVertical=null,this.vsmMaterialHorizontal=null,this._node=null,this._currentShadowType=null,this._cameraFrameId=new WeakMap,this.isShadowNode=!0,this.depthLayer=0}setupShadowFilter(e,{filterFn:n,depthTexture:r,shadowCoord:i,shadow:o,depthLayer:a}){const s=i.x.greaterThanEqual(0).and(i.x.lessThanEqual(1)).and(i.y.greaterThanEqual(0)).and(i.y.lessThanEqual(1)).and(i.z.lessThanEqual(1)),l=n({depthTexture:r,shadowCoord:i,shadow:o,depthLayer:a});return s.select(l,ge(1))}setupShadowCoord(e,n){const{shadow:r}=this,{renderer:i}=e,o=ai("bias","float",r).setGroup(Pn);let a=n,s;if(r.camera.isOrthographicCamera||i.logarithmicDepthBuffer!==!0)a=a.xyz.div(a.w),s=a.z,i.coordinateSystem===wc&&(s=s.mul(2).sub(1));else{const l=a.w;a=a.xy.div(l);const c=ai("near","float",r.camera).setGroup(Pn),u=ai("far","float",r.camera).setGroup(Pn);s=q$(l.negate(),c,u)}return a=He(a.x,a.y.oneMinus(),s.add(o)),a}getShadowFilterFn(e){return Jet[e]}setupRenderTarget(e,n){const r=new ts(e.mapSize.width,e.mapSize.height);r.name="ShadowDepthTexture",r.compareFunction=k2;const i=n.createRenderTarget(e.mapSize.width,e.mapSize.height);return i.texture.name="ShadowMap",i.texture.type=e.mapType,i.depthTexture=r,{shadowMap:i,depthTexture:r}}setupShadow(e){const{renderer:n,camera:r}=e,{light:i,shadow:o}=this,a=n.shadowMap.type,{depthTexture:s,shadowMap:l}=this.setupRenderTarget(o,e);if(o.camera.coordinateSystem=r.coordinateSystem,o.camera.updateProjectionMatrix(),a===qd&&o.isPointLightShadow!==!0){s.compareFunction=null,l.depth>1?(l._vsmShadowMapVertical||(l._vsmShadowMapVertical=e.createRenderTarget(o.mapSize.width,o.mapSize.height,{format:_s,type:Ui,depth:l.depth,depthBuffer:!1}),l._vsmShadowMapVertical.texture.name="VSMVertical"),this.vsmShadowMapVertical=l._vsmShadowMapVertical,l._vsmShadowMapHorizontal||(l._vsmShadowMapHorizontal=e.createRenderTarget(o.mapSize.width,o.mapSize.height,{format:_s,type:Ui,depth:l.depth,depthBuffer:!1}),l._vsmShadowMapHorizontal.texture.name="VSMHorizontal"),this.vsmShadowMapHorizontal=l._vsmShadowMapHorizontal):(this.vsmShadowMapVertical=e.createRenderTarget(o.mapSize.width,o.mapSize.height,{format:_s,type:Ui,depthBuffer:!1}),this.vsmShadowMapHorizontal=e.createRenderTarget(o.mapSize.width,o.mapSize.height,{format:_s,type:Ui,depthBuffer:!1}));let C=qr(s);s.isArrayTexture&&(C=C.depth(this.depthLayer));let E=qr(this.vsmShadowMapVertical.texture);s.isArrayTexture&&(E=E.depth(this.depthLayer));const M=ai("blurSamples","float",o).setGroup(Pn),R=ai("radius","float",o).setGroup(Pn),N=ai("mapSize","vec2",o).setGroup(Pn);let O=this.vsmMaterialVertical||(this.vsmMaterialVertical=new mo);O.fragmentNode=Qet({samples:M,radius:R,size:N,shadowPass:C,depthLayer:this.depthLayer}).context(e.getSharedContext()),O.name="VSMVertical",O=this.vsmMaterialHorizontal||(this.vsmMaterialHorizontal=new mo),O.fragmentNode=Zet({samples:M,radius:R,size:N,shadowPass:E,depthLayer:this.depthLayer}).context(e.getSharedContext()),O.name="VSMHorizontal"}const c=ai("intensity","float",o).setGroup(Pn),u=ai("normalBias","float",o).setGroup(Pn),d=bR(i).mul(h7.add(mp.mul(u))),f=this.setupShadowCoord(e,d),h=o.filterNode||this.getShadowFilterFn(n.shadowMap.type)||null;if(h===null)throw new Error("THREE.WebGPURenderer: Shadow map type not supported yet.");const p=a===qd&&o.isPointLightShadow!==!0?this.vsmShadowMapHorizontal.texture:s,x=this.setupShadowFilter(e,{filterFn:h,shadowTexture:l.texture,depthTexture:p,shadowCoord:f,shadow:o,depthLayer:this.depthLayer});let b;l.texture.isCubeTexture?b=xs(l.texture,f.xyz):(b=qr(l.texture,f),s.isArrayTexture&&(b=b.depth(this.depthLayer)));const y=Dr(1,x.rgb.mix(b,1),c.mul(b.a)).toVar();this.shadowMap=l,this.shadow.map=l;const _=`${this.light.type} Shadow [ ${this.light.name||"ID: "+this.light.id} ]`;return y.toInspector(`${_} / Color`,()=>this.shadowMap.texture.isCubeTexture?xs(this.shadowMap.texture):qr(this.shadowMap.texture)).toInspector(`${_} / Depth`,()=>this.shadowMap.texture.isCubeTexture?xs(this.shadowMap.texture).r.oneMinus():so(this.shadowMap.depthTexture,fi().mul(tf(qr(this.shadowMap.depthTexture)))).r.oneMinus())}setup(e){if(e.renderer.shadowMap.enabled!==!1)return Qe(()=>{const n=e.renderer.shadowMap.type;this._currentShadowType!==n&&(this._reset(),this._node=null);let r=this._node;return this.setupShadowPosition(e),r===null&&(this._node=r=this.setupShadow(e),this._currentShadowType=n),e.material.shadowNode&&Pt('NodeMaterial: ".shadowNode" is deprecated. Use ".castShadowNode" instead.'),e.material.receivedShadowNode&&(r=e.material.receivedShadowNode(r)),r})()}renderShadow(e){const{shadow:n,shadowMap:r,light:i}=this,{renderer:o,scene:a}=e;n.updateMatrices(i),r.setSize(n.mapSize.width,n.mapSize.height,r.depth);const s=a.name;a.name=`Shadow Map [ ${i.name||"ID: "+i.id} ]`,o.render(a,n.camera),a.name=s}updateShadow(e){const{shadowMap:n,light:r,shadow:i}=this,{renderer:o,scene:a,camera:s}=e,l=o.shadowMap.type,c=n.depthTexture.version;this._depthVersionCached=c;const u=i.camera.layers.mask;i.camera.layers.mask&4294967294||(i.camera.layers.mask=s.layers.mask);const d=o.getRenderObjectFunction(),f=o.getMRT(),h=f?f.has("velocity"):!1;rI=Wet(o,a,rI),a.overrideMaterial=fue(r),o.setRenderObjectFunction(pue(o,i,l,h)),o.setClearColor(0,0),o.setRenderTarget(n),this.renderShadow(e),o.setRenderObjectFunction(d),l===qd&&i.isPointLightShadow!==!0&&this.vsmPass(o),i.camera.layers.mask=u,Xet(o,a,rI)}vsmPass(e){const{shadow:n}=this,r=this.shadowMap.depth;this.vsmShadowMapVertical.setSize(n.mapSize.width,n.mapSize.height,r),this.vsmShadowMapHorizontal.setSize(n.mapSize.width,n.mapSize.height,r),e.setRenderTarget(this.vsmShadowMapVertical),_w.material=this.vsmMaterialVertical,_w.render(e),e.setRenderTarget(this.vsmShadowMapHorizontal),_w.material=this.vsmMaterialHorizontal,_w.render(e)}dispose(){this._reset(),super.dispose()}_reset(){this._currentShadowType=null,hue(this.light),this.shadowMap&&(this.shadowMap.dispose(),this.shadowMap=null),this.vsmShadowMapVertical!==null&&(this.vsmShadowMapVertical.dispose(),this.vsmShadowMapVertical=null,this.vsmMaterialVertical.dispose(),this.vsmMaterialVertical=null),this.vsmShadowMapHorizontal!==null&&(this.vsmShadowMapHorizontal.dispose(),this.vsmShadowMapHorizontal=null,this.vsmMaterialHorizontal.dispose(),this.vsmMaterialHorizontal=null)}updateBefore(e){const{shadow:n}=this;let r=n.needsUpdate||n.autoUpdate;r&&(this._cameraFrameId[e.camera]===e.frameId&&(r=!1),this._cameraFrameId[e.camera]=e.frameId),r&&(this.updateShadow(e),this.shadowMap.depthTexture.version===this._depthVersionCached&&(n.needsUpdate=!1))}}const gue=(t,e)=>new mue(t,e),ett=new En,uW=new ar,S1=new ve,iI=new ve,ttt=[new ve(1,0,0),new ve(-1,0,0),new ve(0,-1,0),new ve(0,1,0),new ve(0,0,1),new ve(0,0,-1)],ntt=[new ve(0,-1,0),new ve(0,-1,0),new ve(0,0,-1),new ve(0,0,1),new ve(0,-1,0),new ve(0,-1,0)],rtt=[new ve(1,0,0),new ve(-1,0,0),new ve(0,1,0),new ve(0,-1,0),new ve(0,0,1),new ve(0,0,-1)],itt=[new ve(0,-1,0),new ve(0,-1,0),new ve(0,0,1),new ve(0,0,-1),new ve(0,-1,0),new ve(0,-1,0)],Aue=Qe(({depthTexture:t,bd3D:e,dp:n})=>xs(t,e).compare(n)),vue=Qe(({depthTexture:t,bd3D:e,dp:n,shadow:r})=>{const i=ai("radius","float",r).setGroup(Pn),o=ai("mapSize","vec2",r).setGroup(Pn),a=i.div(o.x),s=Mi(e),l=Ps(Af(e,s.x.greaterThan(s.z).select(He(0,1,0),He(1,0,0)))),c=Af(e,l),u=i7(_0.xy).mul(6.28318530718),d=Zc(0,5,u),f=Zc(1,5,u),h=Zc(2,5,u),p=Zc(3,5,u),x=Zc(4,5,u);return xs(t,e.add(l.mul(d.x).add(c.mul(d.y)).mul(a))).compare(n).add(xs(t,e.add(l.mul(f.x).add(c.mul(f.y)).mul(a))).compare(n)).add(xs(t,e.add(l.mul(h.x).add(c.mul(h.y)).mul(a))).compare(n)).add(xs(t,e.add(l.mul(p.x).add(c.mul(p.y)).mul(a))).compare(n)).add(xs(t,e.add(l.mul(x.x).add(c.mul(x.y)).mul(a))).compare(n)).mul(1/5)}),ott=Qe(({filterFn:t,depthTexture:e,shadowCoord:n,shadow:r})=>{const i=n.xyz.toVar(),o=i.length(),a=Nn("float").setGroup(Pn).onRenderUpdate(()=>r.camera.near),s=Nn("float").setGroup(Pn).onRenderUpdate(()=>r.camera.far),l=ai("bias","float",r).setGroup(Pn),c=ge(1).toVar();return Ln(o.sub(s).lessThanEqual(0).and(o.sub(a).greaterThanEqual(0)),()=>{const u=o.sub(a).div(s.sub(a)).toVar();u.addAssign(l);const d=i.normalize();c.assign(t({depthTexture:e,bd3D:d,dp:u,shadow:r}))}),c});class att extends mue{static get type(){return"PointShadowNode"}constructor(e,n=null){super(e,n)}getShadowFilterFn(e){return e===j8e?Aue:vue}setupShadowCoord(e,n){return n}setupShadowFilter(e,{filterFn:n,depthTexture:r,shadowCoord:i,shadow:o}){return ott({filterFn:n,depthTexture:r,shadowCoord:i,shadow:o})}setupRenderTarget(e,n){const r=new gie(e.mapSize.width);r.name="PointShadowDepthTexture",r.compareFunction=k2;const i=n.createCubeRenderTarget(e.mapSize.width);return i.texture.name="PointShadowMap",i.depthTexture=r,{shadowMap:i,depthTexture:r}}renderShadow(e){const{shadow:n,shadowMap:r,light:i}=this,{renderer:o,scene:a}=e,s=n.camera,l=n.matrix,c=o.coordinateSystem===wc,u=c?ttt:rtt,d=c?ntt:itt;r.setSize(n.mapSize.width,n.mapSize.width);const f=o.autoClear,h=o.getClearColor(ett),p=o.getClearAlpha();o.autoClear=!1,o.setClearColor(n.clearColor,n.clearAlpha);for(let x=0;x<6;x++){o.setRenderTarget(r,x),o.clear();const b=i.distance||s.far;b!==s.far&&(s.far=b,s.updateProjectionMatrix()),S1.setFromMatrixPosition(i.matrixWorld),s.position.copy(S1),iI.copy(s.position),iI.add(u[x]),s.up.copy(d[x]),s.lookAt(iI),s.updateMatrixWorld(),l.makeTranslation(-S1.x,-S1.y,-S1.z),uW.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),n._frustum.setFromProjectionMatrix(uW,s.coordinateSystem,s.reversedDepth);const y=a.name;a.name=`Point Light Shadow [ ${i.name||"ID: "+i.id} ] - Face ${x+1}`,o.render(a,s),a.name=y}o.autoClear=f,o.setClearColor(h,p)}}const yue=(t,e)=>new att(t,e);class w0 extends Ay{static get type(){return"AnalyticLightNode"}constructor(e=null){super(),this.light=e,this.color=new En,this.colorNode=e&&e.colorNode||Nn(this.color).setGroup(Pn),this.baseColorNode=null,this.shadowNode=null,this.shadowColorNode=null,this.isAnalyticLightNode=!0,this.updateType=ur.FRAME,e&&e.shadow&&(this._shadowDisposeListener=()=>{this.disposeShadow()},e.addEventListener("dispose",this._shadowDisposeListener))}dispose(){this._shadowDisposeListener&&this.light.removeEventListener("dispose",this._shadowDisposeListener),super.dispose()}disposeShadow(){this.shadowNode!==null&&(this.shadowNode.dispose(),this.shadowNode=null),this.shadowColorNode=null,this.baseColorNode!==null&&(this.colorNode=this.baseColorNode,this.baseColorNode=null)}getHash(){return this.light.uuid}getLightVector(e){return u7(this.light).sub(e.context.positionView||So)}setupDirect(){}setupDirectRectArea(){}setupShadowNode(){return gue(this.light)}setupShadow(e){const{renderer:n}=e;if(n.shadowMap.enabled===!1)return;let r=this.shadowColorNode;if(r===null){const i=this.light.shadow.shadowNode;let o;i!==void 0?o=rn(i):o=this.setupShadowNode(),this.shadowNode=o,this.shadowColorNode=r=this.colorNode.mul(o),this.baseColorNode=this.colorNode}e.context.getShadow&&(r=e.context.getShadow(this,e)),this.colorNode=r}setup(e){this.colorNode=this.baseColorNode||this.colorNode,this.light.castShadow?e.object.receiveShadow&&this.setupShadow(e):this.shadowNode!==null&&(this.shadowNode.dispose(),this.shadowNode=null,this.shadowColorNode=null);const n=this.setupDirect(e),r=this.setupDirectRectArea(e);n&&e.lightsNode.setupDirectLight(e,this,n),r&&e.lightsNode.setupDirectRectAreaLight(e,this,r)}update(){const{light:e}=this;this.color.copy(e.color).multiplyScalar(e.intensity)}}const p7=Qe(({lightDistance:t,cutoffDistance:e,decayExponent:n})=>{const r=t.pow(n).max(.01).reciprocal();return e.greaterThan(0).select(r.mul(t.div(e).pow4().oneMinus().clamp().pow2()),r)}),bue=({color:t,lightVector:e,cutoffDistance:n,decayExponent:r})=>{const i=e.normalize(),o=e.length(),a=p7({lightDistance:o,cutoffDistance:n,decayExponent:r}),s=t.mul(a);return{lightDirection:i,lightColor:s}};class stt extends w0{static get type(){return"PointLightNode"}constructor(e=null){super(e),this.cutoffDistanceNode=Nn(0).setGroup(Pn),this.decayExponentNode=Nn(2).setGroup(Pn)}update(e){const{light:n}=this;super.update(e),this.cutoffDistanceNode.value=n.distance,this.decayExponentNode.value=n.decay}setupShadowNode(){return yue(this.light)}setupDirect(e){return bue({color:this.colorNode,lightVector:this.getLightVector(e),cutoffDistance:this.cutoffDistanceNode,decayExponent:this.decayExponentNode})}}const ltt=Qe(([t=fi()])=>{const e=t.mul(2),n=e.x.floor(),r=e.y.floor();return n.add(r).mod(2).sign()}),ctt=Qe(([t=fi()],{renderer:e,material:n})=>{const r=x$(t.mul(2).sub(1));let i;if(n.alphaToCoverage&&e.currentSamples>0){const o=ge(r.fwidth()).toVar();i=Au(o.oneMinus(),o.add(1),r).oneMinus()}else i=Ea(r.greaterThan(1),0,1);return i}),Db=Qe(([t,e,n])=>{const r=ge(n).toVar(),i=ge(e).toVar(),o=Tc(t).toVar();return Ea(o,i,r)}).setLayout({name:"mx_select",type:"float",inputs:[{name:"b",type:"bool"},{name:"t",type:"float"},{name:"f",type:"float"}]}),jE=Qe(([t,e])=>{const n=Tc(e).toVar(),r=ge(t).toVar();return Ea(n,r.negate(),r)}).setLayout({name:"mx_negate_if",type:"float",inputs:[{name:"val",type:"float"},{name:"b",type:"bool"}]}),Eo=Qe(([t])=>{const e=ge(t).toVar();return $e(ad(e))}).setLayout({name:"mx_floor",type:"int",inputs:[{name:"x",type:"float"}]}),qi=Qe(([t,e])=>{const n=ge(t).toVar();return e.assign(Eo(n)),n.sub(ge(e))}),utt=Qe(([t,e,n,r,i,o])=>{const a=ge(o).toVar(),s=ge(i).toVar(),l=ge(r).toVar(),c=ge(n).toVar(),u=ge(e).toVar(),d=ge(t).toVar(),f=ge(Br(1,s)).toVar();return Br(1,a).mul(d.mul(f).add(u.mul(s))).add(a.mul(c.mul(f).add(l.mul(s))))}).setLayout({name:"mx_bilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"}]}),dtt=Qe(([t,e,n,r,i,o])=>{const a=ge(o).toVar(),s=ge(i).toVar(),l=He(r).toVar(),c=He(n).toVar(),u=He(e).toVar(),d=He(t).toVar(),f=ge(Br(1,s)).toVar();return Br(1,a).mul(d.mul(f).add(u.mul(s))).add(a.mul(c.mul(f).add(l.mul(s))))}).setLayout({name:"mx_bilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"}]}),xue=Fa([utt,dtt]),ftt=Qe(([t,e,n,r,i,o,a,s,l,c,u])=>{const d=ge(u).toVar(),f=ge(c).toVar(),h=ge(l).toVar(),p=ge(s).toVar(),x=ge(a).toVar(),b=ge(o).toVar(),y=ge(i).toVar(),_=ge(r).toVar(),C=ge(n).toVar(),E=ge(e).toVar(),M=ge(t).toVar(),R=ge(Br(1,h)).toVar(),N=ge(Br(1,f)).toVar();return ge(Br(1,d)).toVar().mul(N.mul(M.mul(R).add(E.mul(h))).add(f.mul(C.mul(R).add(_.mul(h))))).add(d.mul(N.mul(y.mul(R).add(b.mul(h))).add(f.mul(x.mul(R).add(p.mul(h))))))}).setLayout({name:"mx_trilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"v4",type:"float"},{name:"v5",type:"float"},{name:"v6",type:"float"},{name:"v7",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),htt=Qe(([t,e,n,r,i,o,a,s,l,c,u])=>{const d=ge(u).toVar(),f=ge(c).toVar(),h=ge(l).toVar(),p=He(s).toVar(),x=He(a).toVar(),b=He(o).toVar(),y=He(i).toVar(),_=He(r).toVar(),C=He(n).toVar(),E=He(e).toVar(),M=He(t).toVar(),R=ge(Br(1,h)).toVar(),N=ge(Br(1,f)).toVar();return ge(Br(1,d)).toVar().mul(N.mul(M.mul(R).add(E.mul(h))).add(f.mul(C.mul(R).add(_.mul(h))))).add(d.mul(N.mul(y.mul(R).add(b.mul(h))).add(f.mul(x.mul(R).add(p.mul(h))))))}).setLayout({name:"mx_trilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"v4",type:"vec3"},{name:"v5",type:"vec3"},{name:"v6",type:"vec3"},{name:"v7",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),Sue=Fa([ftt,htt]),ptt=Qe(([t,e,n])=>{const r=ge(n).toVar(),i=ge(e).toVar(),o=Vt(t).toVar(),a=Vt(o.bitAnd(Vt(7))).toVar(),s=ge(Db(a.lessThan(Vt(4)),i,r)).toVar(),l=ge(rr(2,Db(a.lessThan(Vt(4)),r,i))).toVar();return jE(s,Tc(a.bitAnd(Vt(1)))).add(jE(l,Tc(a.bitAnd(Vt(2)))))}).setLayout({name:"mx_gradient_float_0",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"}]}),mtt=Qe(([t,e,n,r])=>{const i=ge(r).toVar(),o=ge(n).toVar(),a=ge(e).toVar(),s=Vt(t).toVar(),l=Vt(s.bitAnd(Vt(15))).toVar(),c=ge(Db(l.lessThan(Vt(8)),a,o)).toVar(),u=ge(Db(l.lessThan(Vt(4)),o,Db(l.equal(Vt(12)).or(l.equal(Vt(14))),a,i))).toVar();return jE(c,Tc(l.bitAnd(Vt(1)))).add(jE(u,Tc(l.bitAnd(Vt(2)))))}).setLayout({name:"mx_gradient_float_1",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),aa=Fa([ptt,mtt]),gtt=Qe(([t,e,n])=>{const r=ge(n).toVar(),i=ge(e).toVar(),o=S0(t).toVar();return He(aa(o.x,i,r),aa(o.y,i,r),aa(o.z,i,r))}).setLayout({name:"mx_gradient_vec3_0",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"}]}),Att=Qe(([t,e,n,r])=>{const i=ge(r).toVar(),o=ge(n).toVar(),a=ge(e).toVar(),s=S0(t).toVar();return He(aa(s.x,a,o,i),aa(s.y,a,o,i),aa(s.z,a,o,i))}).setLayout({name:"mx_gradient_vec3_1",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),ec=Fa([gtt,Att]),vtt=Qe(([t])=>{const e=ge(t).toVar();return rr(.6616,e)}).setLayout({name:"mx_gradient_scale2d_0",type:"float",inputs:[{name:"v",type:"float"}]}),ytt=Qe(([t])=>{const e=ge(t).toVar();return rr(.982,e)}).setLayout({name:"mx_gradient_scale3d_0",type:"float",inputs:[{name:"v",type:"float"}]}),btt=Qe(([t])=>{const e=He(t).toVar();return rr(.6616,e)}).setLayout({name:"mx_gradient_scale2d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),_ue=Fa([vtt,btt]),xtt=Qe(([t])=>{const e=He(t).toVar();return rr(.982,e)}).setLayout({name:"mx_gradient_scale3d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),wue=Fa([ytt,xtt]),Cl=Qe(([t,e])=>{const n=$e(e).toVar(),r=Vt(t).toVar();return r.shiftLeft(n).bitOr(r.shiftRight($e(32).sub(n)))}).setLayout({name:"mx_rotl32",type:"uint",inputs:[{name:"x",type:"uint"},{name:"k",type:"int"}]}),Cue=Qe(([t,e,n])=>{t.subAssign(n),t.bitXorAssign(Cl(n,$e(4))),n.addAssign(e),e.subAssign(t),e.bitXorAssign(Cl(t,$e(6))),t.addAssign(n),n.subAssign(e),n.bitXorAssign(Cl(e,$e(8))),e.addAssign(t),t.subAssign(n),t.bitXorAssign(Cl(n,$e(16))),n.addAssign(e),e.subAssign(t),e.bitXorAssign(Cl(t,$e(19))),t.addAssign(n),n.subAssign(e),n.bitXorAssign(Cl(e,$e(4))),e.addAssign(t)}),oS=Qe(([t,e,n])=>{const r=Vt(n).toVar(),i=Vt(e).toVar(),o=Vt(t).toVar();return r.bitXorAssign(i),r.subAssign(Cl(i,$e(14))),o.bitXorAssign(r),o.subAssign(Cl(r,$e(11))),i.bitXorAssign(o),i.subAssign(Cl(o,$e(25))),r.bitXorAssign(i),r.subAssign(Cl(i,$e(16))),o.bitXorAssign(r),o.subAssign(Cl(r,$e(4))),i.bitXorAssign(o),i.subAssign(Cl(o,$e(14))),r.bitXorAssign(i),r.subAssign(Cl(i,$e(24))),r}).setLayout({name:"mx_bjfinal",type:"uint",inputs:[{name:"a",type:"uint"},{name:"b",type:"uint"},{name:"c",type:"uint"}]}),ns=Qe(([t])=>{const e=Vt(t).toVar();return ge(e).div(ge(Vt($e(4294967295))))}).setLayout({name:"mx_bits_to_01",type:"float",inputs:[{name:"bits",type:"uint"}]}),ud=Qe(([t])=>{const e=ge(t).toVar();return e.mul(e).mul(e).mul(e.mul(e.mul(6).sub(15)).add(10))}).setLayout({name:"mx_fade",type:"float",inputs:[{name:"t",type:"float"}]}),Stt=Qe(([t])=>{const e=$e(t).toVar(),n=Vt(Vt(1)).toVar(),r=Vt(Vt($e(3735928559)).add(n.shiftLeft(Vt(2))).add(Vt(13))).toVar();return oS(r.add(Vt(e)),r,r)}).setLayout({name:"mx_hash_int_0",type:"uint",inputs:[{name:"x",type:"int"}]}),_tt=Qe(([t,e])=>{const n=$e(e).toVar(),r=$e(t).toVar(),i=Vt(Vt(2)).toVar(),o=Vt().toVar(),a=Vt().toVar(),s=Vt().toVar();return o.assign(a.assign(s.assign(Vt($e(3735928559)).add(i.shiftLeft(Vt(2))).add(Vt(13))))),o.addAssign(Vt(r)),a.addAssign(Vt(n)),oS(o,a,s)}).setLayout({name:"mx_hash_int_1",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),wtt=Qe(([t,e,n])=>{const r=$e(n).toVar(),i=$e(e).toVar(),o=$e(t).toVar(),a=Vt(Vt(3)).toVar(),s=Vt().toVar(),l=Vt().toVar(),c=Vt().toVar();return s.assign(l.assign(c.assign(Vt($e(3735928559)).add(a.shiftLeft(Vt(2))).add(Vt(13))))),s.addAssign(Vt(o)),l.addAssign(Vt(i)),c.addAssign(Vt(r)),oS(s,l,c)}).setLayout({name:"mx_hash_int_2",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),Ctt=Qe(([t,e,n,r])=>{const i=$e(r).toVar(),o=$e(n).toVar(),a=$e(e).toVar(),s=$e(t).toVar(),l=Vt(Vt(4)).toVar(),c=Vt().toVar(),u=Vt().toVar(),d=Vt().toVar();return c.assign(u.assign(d.assign(Vt($e(3735928559)).add(l.shiftLeft(Vt(2))).add(Vt(13))))),c.addAssign(Vt(s)),u.addAssign(Vt(a)),d.addAssign(Vt(o)),Cue(c,u,d),c.addAssign(Vt(i)),oS(c,u,d)}).setLayout({name:"mx_hash_int_3",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"}]}),Ttt=Qe(([t,e,n,r,i])=>{const o=$e(i).toVar(),a=$e(r).toVar(),s=$e(n).toVar(),l=$e(e).toVar(),c=$e(t).toVar(),u=Vt(Vt(5)).toVar(),d=Vt().toVar(),f=Vt().toVar(),h=Vt().toVar();return d.assign(f.assign(h.assign(Vt($e(3735928559)).add(u.shiftLeft(Vt(2))).add(Vt(13))))),d.addAssign(Vt(c)),f.addAssign(Vt(l)),h.addAssign(Vt(s)),Cue(d,f,h),d.addAssign(Vt(a)),f.addAssign(Vt(o)),oS(d,f,h)}).setLayout({name:"mx_hash_int_4",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"},{name:"yy",type:"int"}]}),si=Fa([Stt,_tt,wtt,Ctt,Ttt]),Ett=Qe(([t,e])=>{const n=$e(e).toVar(),r=$e(t).toVar(),i=Vt(si(r,n)).toVar(),o=S0().toVar();return o.x.assign(i.bitAnd($e(255))),o.y.assign(i.shiftRight($e(8)).bitAnd($e(255))),o.z.assign(i.shiftRight($e(16)).bitAnd($e(255))),o}).setLayout({name:"mx_hash_vec3_0",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),Mtt=Qe(([t,e,n])=>{const r=$e(n).toVar(),i=$e(e).toVar(),o=$e(t).toVar(),a=Vt(si(o,i,r)).toVar(),s=S0().toVar();return s.x.assign(a.bitAnd($e(255))),s.y.assign(a.shiftRight($e(8)).bitAnd($e(255))),s.z.assign(a.shiftRight($e(16)).bitAnd($e(255))),s}).setLayout({name:"mx_hash_vec3_1",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),tc=Fa([Ett,Mtt]),Rtt=Qe(([t])=>{const e=jt(t).toVar(),n=$e().toVar(),r=$e().toVar(),i=ge(qi(e.x,n)).toVar(),o=ge(qi(e.y,r)).toVar(),a=ge(ud(i)).toVar(),s=ge(ud(o)).toVar(),l=ge(xue(aa(si(n,r),i,o),aa(si(n.add($e(1)),r),i.sub(1),o),aa(si(n,r.add($e(1))),i,o.sub(1)),aa(si(n.add($e(1)),r.add($e(1))),i.sub(1),o.sub(1)),a,s)).toVar();return _ue(l)}).setLayout({name:"mx_perlin_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"}]}),Ptt=Qe(([t])=>{const e=He(t).toVar(),n=$e().toVar(),r=$e().toVar(),i=$e().toVar(),o=ge(qi(e.x,n)).toVar(),a=ge(qi(e.y,r)).toVar(),s=ge(qi(e.z,i)).toVar(),l=ge(ud(o)).toVar(),c=ge(ud(a)).toVar(),u=ge(ud(s)).toVar(),d=ge(Sue(aa(si(n,r,i),o,a,s),aa(si(n.add($e(1)),r,i),o.sub(1),a,s),aa(si(n,r.add($e(1)),i),o,a.sub(1),s),aa(si(n.add($e(1)),r.add($e(1)),i),o.sub(1),a.sub(1),s),aa(si(n,r,i.add($e(1))),o,a,s.sub(1)),aa(si(n.add($e(1)),r,i.add($e(1))),o.sub(1),a,s.sub(1)),aa(si(n,r.add($e(1)),i.add($e(1))),o,a.sub(1),s.sub(1)),aa(si(n.add($e(1)),r.add($e(1)),i.add($e(1))),o.sub(1),a.sub(1),s.sub(1)),l,c,u)).toVar();return wue(d)}).setLayout({name:"mx_perlin_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"}]}),m7=Fa([Rtt,Ptt]),Ntt=Qe(([t])=>{const e=jt(t).toVar(),n=$e().toVar(),r=$e().toVar(),i=ge(qi(e.x,n)).toVar(),o=ge(qi(e.y,r)).toVar(),a=ge(ud(i)).toVar(),s=ge(ud(o)).toVar(),l=He(xue(ec(tc(n,r),i,o),ec(tc(n.add($e(1)),r),i.sub(1),o),ec(tc(n,r.add($e(1))),i,o.sub(1)),ec(tc(n.add($e(1)),r.add($e(1))),i.sub(1),o.sub(1)),a,s)).toVar();return _ue(l)}).setLayout({name:"mx_perlin_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),Itt=Qe(([t])=>{const e=He(t).toVar(),n=$e().toVar(),r=$e().toVar(),i=$e().toVar(),o=ge(qi(e.x,n)).toVar(),a=ge(qi(e.y,r)).toVar(),s=ge(qi(e.z,i)).toVar(),l=ge(ud(o)).toVar(),c=ge(ud(a)).toVar(),u=ge(ud(s)).toVar(),d=He(Sue(ec(tc(n,r,i),o,a,s),ec(tc(n.add($e(1)),r,i),o.sub(1),a,s),ec(tc(n,r.add($e(1)),i),o,a.sub(1),s),ec(tc(n.add($e(1)),r.add($e(1)),i),o.sub(1),a.sub(1),s),ec(tc(n,r,i.add($e(1))),o,a,s.sub(1)),ec(tc(n.add($e(1)),r,i.add($e(1))),o.sub(1),a,s.sub(1)),ec(tc(n,r.add($e(1)),i.add($e(1))),o,a.sub(1),s.sub(1)),ec(tc(n.add($e(1)),r.add($e(1)),i.add($e(1))),o.sub(1),a.sub(1),s.sub(1)),l,c,u)).toVar();return wue(d)}).setLayout({name:"mx_perlin_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),aS=Fa([Ntt,Itt]),Dtt=Qe(([t])=>{const e=ge(t).toVar(),n=$e(Eo(e)).toVar();return ns(si(n))}).setLayout({name:"mx_cell_noise_float_0",type:"float",inputs:[{name:"p",type:"float"}]}),Ott=Qe(([t])=>{const e=jt(t).toVar(),n=$e(Eo(e.x)).toVar(),r=$e(Eo(e.y)).toVar();return ns(si(n,r))}).setLayout({name:"mx_cell_noise_float_1",type:"float",inputs:[{name:"p",type:"vec2"}]}),Ltt=Qe(([t])=>{const e=He(t).toVar(),n=$e(Eo(e.x)).toVar(),r=$e(Eo(e.y)).toVar(),i=$e(Eo(e.z)).toVar();return ns(si(n,r,i))}).setLayout({name:"mx_cell_noise_float_2",type:"float",inputs:[{name:"p",type:"vec3"}]}),Btt=Qe(([t])=>{const e=Fn(t).toVar(),n=$e(Eo(e.x)).toVar(),r=$e(Eo(e.y)).toVar(),i=$e(Eo(e.z)).toVar(),o=$e(Eo(e.w)).toVar();return ns(si(n,r,i,o))}).setLayout({name:"mx_cell_noise_float_3",type:"float",inputs:[{name:"p",type:"vec4"}]}),Ftt=Fa([Dtt,Ott,Ltt,Btt]),$tt=Qe(([t])=>{const e=ge(t).toVar(),n=$e(Eo(e)).toVar();return He(ns(si(n,$e(0))),ns(si(n,$e(1))),ns(si(n,$e(2))))}).setLayout({name:"mx_cell_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"float"}]}),Utt=Qe(([t])=>{const e=jt(t).toVar(),n=$e(Eo(e.x)).toVar(),r=$e(Eo(e.y)).toVar();return He(ns(si(n,r,$e(0))),ns(si(n,r,$e(1))),ns(si(n,r,$e(2))))}).setLayout({name:"mx_cell_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),ktt=Qe(([t])=>{const e=He(t).toVar(),n=$e(Eo(e.x)).toVar(),r=$e(Eo(e.y)).toVar(),i=$e(Eo(e.z)).toVar();return He(ns(si(n,r,i,$e(0))),ns(si(n,r,i,$e(1))),ns(si(n,r,i,$e(2))))}).setLayout({name:"mx_cell_noise_vec3_2",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),Vtt=Qe(([t])=>{const e=Fn(t).toVar(),n=$e(Eo(e.x)).toVar(),r=$e(Eo(e.y)).toVar(),i=$e(Eo(e.z)).toVar(),o=$e(Eo(e.w)).toVar();return He(ns(si(n,r,i,o,$e(0))),ns(si(n,r,i,o,$e(1))),ns(si(n,r,i,o,$e(2))))}).setLayout({name:"mx_cell_noise_vec3_3",type:"vec3",inputs:[{name:"p",type:"vec4"}]}),xR=Fa([$tt,Utt,ktt,Vtt]),qE=Qe(([t,e,n,r])=>{const i=ge(r).toVar(),o=ge(n).toVar(),a=$e(e).toVar(),s=He(t).toVar(),l=ge(0).toVar(),c=ge(1).toVar();return ii(a,()=>{l.addAssign(c.mul(m7(s))),c.mulAssign(i),s.mulAssign(o)}),l}).setLayout({name:"mx_fractal_noise_float",type:"float",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),SR=Qe(([t,e,n,r])=>{const i=ge(r).toVar(),o=ge(n).toVar(),a=$e(e).toVar(),s=He(t).toVar(),l=He(0).toVar(),c=ge(1).toVar();return ii(a,()=>{l.addAssign(c.mul(aS(s))),c.mulAssign(i),s.mulAssign(o)}),l}).setLayout({name:"mx_fractal_noise_vec3",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),ztt=Qe(([t,e,n,r])=>{const i=ge(r).toVar(),o=ge(n).toVar(),a=$e(e).toVar(),s=He(t).toVar();return jt(qE(s,a,o,i),qE(s.add(He($e(19),$e(193),$e(17))),a,o,i))}).setLayout({name:"mx_fractal_noise_vec2",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),Gtt=Qe(([t,e,n,r])=>{const i=ge(r).toVar(),o=ge(n).toVar(),a=$e(e).toVar(),s=He(t).toVar(),l=He(SR(s,a,o,i)).toVar(),c=ge(qE(s.add(He($e(19),$e(193),$e(17))),a,o,i)).toVar();return Fn(l,c)}).setLayout({name:"mx_fractal_noise_vec4",type:"vec4",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),Htt=Qe(([t,e,n,r,i,o,a])=>{const s=$e(a).toVar(),l=ge(o).toVar(),c=$e(i).toVar(),u=$e(r).toVar(),d=$e(n).toVar(),f=$e(e).toVar(),h=jt(t).toVar(),p=He(xR(jt(f.add(u),d.add(c)))).toVar(),x=jt(p.x,p.y).toVar();x.subAssign(.5),x.mulAssign(l),x.addAssign(.5);const b=jt(jt(ge(f),ge(d)).add(x)).toVar(),y=jt(b.sub(h)).toVar();return Ln(s.equal($e(2)),()=>Mi(y.x).add(Mi(y.y))),Ln(s.equal($e(3)),()=>to(Mi(y.x),Mi(y.y))),Ec(y,y)}).setLayout({name:"mx_worley_distance_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),jtt=Qe(([t,e,n,r,i,o,a,s,l])=>{const c=$e(l).toVar(),u=ge(s).toVar(),d=$e(a).toVar(),f=$e(o).toVar(),h=$e(i).toVar(),p=$e(r).toVar(),x=$e(n).toVar(),b=$e(e).toVar(),y=He(t).toVar(),_=He(xR(He(b.add(h),x.add(f),p.add(d)))).toVar();_.subAssign(.5),_.mulAssign(u),_.addAssign(.5);const C=He(He(ge(b),ge(x),ge(p)).add(_)).toVar(),E=He(C.sub(y)).toVar();return Ln(c.equal($e(2)),()=>Mi(E.x).add(Mi(E.y)).add(Mi(E.z))),Ln(c.equal($e(3)),()=>to(Mi(E.x),Mi(E.y),Mi(E.z))),Ec(E,E)}).setLayout({name:"mx_worley_distance_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"zoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),yy=Fa([Htt,jtt]),qtt=Qe(([t,e,n])=>{const r=$e(n).toVar(),i=ge(e).toVar(),o=jt(t).toVar(),a=$e().toVar(),s=$e().toVar(),l=jt(qi(o.x,a),qi(o.y,s)).toVar(),c=ge(1e6).toVar();return ii({start:-1,end:$e(1),name:"x",condition:"<="},({x:u})=>{ii({start:-1,end:$e(1),name:"y",condition:"<="},({y:d})=>{const f=ge(yy(l,u,d,a,s,i,r)).toVar();c.assign(ol(c,f))})}),Ln(r.equal($e(0)),()=>{c.assign(Ja(c))}),c}).setLayout({name:"mx_worley_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),Wtt=Qe(([t,e,n])=>{const r=$e(n).toVar(),i=ge(e).toVar(),o=jt(t).toVar(),a=$e().toVar(),s=$e().toVar(),l=jt(qi(o.x,a),qi(o.y,s)).toVar(),c=jt(1e6,1e6).toVar();return ii({start:-1,end:$e(1),name:"x",condition:"<="},({x:u})=>{ii({start:-1,end:$e(1),name:"y",condition:"<="},({y:d})=>{const f=ge(yy(l,u,d,a,s,i,r)).toVar();Ln(f.lessThan(c.x),()=>{c.y.assign(c.x),c.x.assign(f)}).ElseIf(f.lessThan(c.y),()=>{c.y.assign(f)})})}),Ln(r.equal($e(0)),()=>{c.assign(Ja(c))}),c}).setLayout({name:"mx_worley_noise_vec2_0",type:"vec2",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),Xtt=Qe(([t,e,n])=>{const r=$e(n).toVar(),i=ge(e).toVar(),o=jt(t).toVar(),a=$e().toVar(),s=$e().toVar(),l=jt(qi(o.x,a),qi(o.y,s)).toVar(),c=He(1e6,1e6,1e6).toVar();return ii({start:-1,end:$e(1),name:"x",condition:"<="},({x:u})=>{ii({start:-1,end:$e(1),name:"y",condition:"<="},({y:d})=>{const f=ge(yy(l,u,d,a,s,i,r)).toVar();Ln(f.lessThan(c.x),()=>{c.z.assign(c.y),c.y.assign(c.x),c.x.assign(f)}).ElseIf(f.lessThan(c.y),()=>{c.z.assign(c.y),c.y.assign(f)}).ElseIf(f.lessThan(c.z),()=>{c.z.assign(f)})})}),Ln(r.equal($e(0)),()=>{c.assign(Ja(c))}),c}).setLayout({name:"mx_worley_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),Ytt=Qe(([t,e,n])=>{const r=$e(n).toVar(),i=ge(e).toVar(),o=He(t).toVar(),a=$e().toVar(),s=$e().toVar(),l=$e().toVar(),c=He(qi(o.x,a),qi(o.y,s),qi(o.z,l)).toVar(),u=ge(1e6).toVar();return ii({start:-1,end:$e(1),name:"x",condition:"<="},({x:d})=>{ii({start:-1,end:$e(1),name:"y",condition:"<="},({y:f})=>{ii({start:-1,end:$e(1),name:"z",condition:"<="},({z:h})=>{const p=ge(yy(c,d,f,h,a,s,l,i,r)).toVar();u.assign(ol(u,p))})})}),Ln(r.equal($e(0)),()=>{u.assign(Ja(u))}),u}).setLayout({name:"mx_worley_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),Ktt=Fa([qtt,Ytt]),Qtt=Qe(([t,e,n])=>{const r=$e(n).toVar(),i=ge(e).toVar(),o=He(t).toVar(),a=$e().toVar(),s=$e().toVar(),l=$e().toVar(),c=He(qi(o.x,a),qi(o.y,s),qi(o.z,l)).toVar(),u=jt(1e6,1e6).toVar();return ii({start:-1,end:$e(1),name:"x",condition:"<="},({x:d})=>{ii({start:-1,end:$e(1),name:"y",condition:"<="},({y:f})=>{ii({start:-1,end:$e(1),name:"z",condition:"<="},({z:h})=>{const p=ge(yy(c,d,f,h,a,s,l,i,r)).toVar();Ln(p.lessThan(u.x),()=>{u.y.assign(u.x),u.x.assign(p)}).ElseIf(p.lessThan(u.y),()=>{u.y.assign(p)})})})}),Ln(r.equal($e(0)),()=>{u.assign(Ja(u))}),u}).setLayout({name:"mx_worley_noise_vec2_1",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),Ztt=Fa([Wtt,Qtt]),Jtt=Qe(([t,e,n])=>{const r=$e(n).toVar(),i=ge(e).toVar(),o=He(t).toVar(),a=$e().toVar(),s=$e().toVar(),l=$e().toVar(),c=He(qi(o.x,a),qi(o.y,s),qi(o.z,l)).toVar(),u=He(1e6,1e6,1e6).toVar();return ii({start:-1,end:$e(1),name:"x",condition:"<="},({x:d})=>{ii({start:-1,end:$e(1),name:"y",condition:"<="},({y:f})=>{ii({start:-1,end:$e(1),name:"z",condition:"<="},({z:h})=>{const p=ge(yy(c,d,f,h,a,s,l,i,r)).toVar();Ln(p.lessThan(u.x),()=>{u.z.assign(u.y),u.y.assign(u.x),u.x.assign(p)}).ElseIf(p.lessThan(u.y),()=>{u.z.assign(u.y),u.y.assign(p)}).ElseIf(p.lessThan(u.z),()=>{u.z.assign(p)})})})}),Ln(r.equal($e(0)),()=>{u.assign(Ja(u))}),u}).setLayout({name:"mx_worley_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),g7=Fa([Xtt,Jtt]),ent=Qe(([t,e,n,r,i,o,a,s,l,c,u])=>{const d=$e(t).toVar(),f=jt(e).toVar(),h=jt(n).toVar(),p=jt(r).toVar(),x=ge(i).toVar(),b=ge(o).toVar(),y=ge(a).toVar(),_=Tc(s).toVar(),C=$e(l).toVar(),E=ge(c).toVar(),M=ge(u).toVar(),R=f.mul(h).add(p),N=ge(0).toVar();return Ln(d.equal($e(0)),()=>{N.assign(aS(R))}),Ln(d.equal($e(1)),()=>{N.assign(xR(R))}),Ln(d.equal($e(2)),()=>{N.assign(g7(R,x,$e(0)))}),Ln(d.equal($e(3)),()=>{N.assign(SR(He(R,0),C,E,M))}),N.assign(N.mul(y.sub(b)).add(b)),Ln(_,()=>{N.assign(gu(N,b,y))}),N}).setLayout({name:"mx_unifiednoise2d",type:"float",inputs:[{name:"noiseType",type:"int"},{name:"texcoord",type:"vec2"},{name:"freq",type:"vec2"},{name:"offset",type:"vec2"},{name:"jitter",type:"float"},{name:"outmin",type:"float"},{name:"outmax",type:"float"},{name:"clampoutput",type:"bool"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),tnt=Qe(([t,e,n,r,i,o,a,s,l,c,u])=>{const d=$e(t).toVar(),f=He(e).toVar(),h=He(n).toVar(),p=He(r).toVar(),x=ge(i).toVar(),b=ge(o).toVar(),y=ge(a).toVar(),_=Tc(s).toVar(),C=$e(l).toVar(),E=ge(c).toVar(),M=ge(u).toVar(),R=f.mul(h).add(p),N=ge(0).toVar();return Ln(d.equal($e(0)),()=>{N.assign(aS(R))}),Ln(d.equal($e(1)),()=>{N.assign(xR(R))}),Ln(d.equal($e(2)),()=>{N.assign(g7(R,x,$e(0)))}),Ln(d.equal($e(3)),()=>{N.assign(SR(R,C,E,M))}),N.assign(N.mul(y.sub(b)).add(b)),Ln(_,()=>{N.assign(gu(N,b,y))}),N}).setLayout({name:"mx_unifiednoise3d",type:"float",inputs:[{name:"noiseType",type:"int"},{name:"position",type:"vec3"},{name:"freq",type:"vec3"},{name:"offset",type:"vec3"},{name:"jitter",type:"float"},{name:"outmin",type:"float"},{name:"outmax",type:"float"},{name:"clampoutput",type:"bool"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),nnt=Qe(([t])=>{const e=t.y,n=t.z,r=He().toVar();return Ln(e.lessThan(1e-4),()=>{r.assign(He(n,n,n))}).Else(()=>{let i=t.x;i=i.sub(ad(i)).mul(6).toVar();const o=$e(A$(i)),a=i.sub(ge(o)),s=n.mul(e.oneMinus()),l=n.mul(e.mul(a).oneMinus()),c=n.mul(e.mul(a.oneMinus()).oneMinus());Ln(o.equal($e(0)),()=>{r.assign(He(n,c,s))}).ElseIf(o.equal($e(1)),()=>{r.assign(He(l,n,s))}).ElseIf(o.equal($e(2)),()=>{r.assign(He(s,n,c))}).ElseIf(o.equal($e(3)),()=>{r.assign(He(s,l,n))}).ElseIf(o.equal($e(4)),()=>{r.assign(He(c,s,n))}).Else(()=>{r.assign(He(n,s,l))})}),r}).setLayout({name:"mx_hsvtorgb",type:"vec3",inputs:[{name:"hsv",type:"vec3"}]}),rnt=Qe(([t])=>{const e=He(t).toVar(),n=ge(e.x).toVar(),r=ge(e.y).toVar(),i=ge(e.z).toVar(),o=ge(ol(n,ol(r,i))).toVar(),a=ge(to(n,to(r,i))).toVar(),s=ge(a.sub(o)).toVar(),l=ge().toVar(),c=ge().toVar(),u=ge().toVar();return u.assign(a),Ln(a.greaterThan(0),()=>{c.assign(s.div(a))}).Else(()=>{c.assign(0)}),Ln(c.lessThanEqual(0),()=>{l.assign(0)}).Else(()=>{Ln(n.greaterThanEqual(a),()=>{l.assign(r.sub(i).div(s))}).ElseIf(r.greaterThanEqual(a),()=>{l.assign(Mo(2,i.sub(n).div(s)))}).Else(()=>{l.assign(Mo(4,n.sub(r).div(s)))}),l.mulAssign(1/6),Ln(l.lessThan(0),()=>{l.addAssign(1)})}),He(l,c,u)}).setLayout({name:"mx_rgbtohsv",type:"vec3",inputs:[{name:"c",type:"vec3"}]}),int=Qe(([t])=>{const e=He(t).toVar(),n=JF(l$(e,He(.04045))).toVar(),r=He(e.div(12.92)).toVar(),i=He(lc(to(e.add(He(.055)),He(0)).div(1.055),He(2.4))).toVar();return Dr(r,i,n)}).setLayout({name:"mx_srgb_texture_to_lin_rec709",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),Tue=(t,e)=>{t=ge(t),e=ge(e);const n=jt(e.dFdx(),e.dFdy()).length().mul(.7071067811865476);return Au(t.sub(n),t.add(n),e)},Eue=(t,e,n,r)=>Dr(t,e,n[r].clamp()),ont=(t,e,n=fi())=>Eue(t,e,n,"x"),ant=(t,e,n=fi())=>Eue(t,e,n,"y"),snt=(t,e,n,r,i=fi())=>{const o=i.x.clamp(),a=i.y.clamp(),s=Dr(t,e,o),l=Dr(n,r,o);return Dr(s,l,a)},Mue=(t,e,n,r,i)=>Dr(t,e,Tue(n,r[i])),lnt=(t,e,n,r=fi())=>Mue(t,e,n,r,"x"),cnt=(t,e,n,r=fi())=>Mue(t,e,n,r,"y"),unt=(t=1,e=0,n=fi())=>n.mul(t).add(e),dnt=(t,e=1)=>(t=ge(t),t.abs().pow(e).mul(t.sign())),fnt=(t,e=1,n=.5)=>ge(t).sub(n).mul(e).add(n),hnt=(t=fi(),e=1,n=0)=>m7(t.convert("vec2|vec3")).mul(e).add(n),pnt=(t=fi(),e=1,n=0)=>aS(t.convert("vec2|vec3")).mul(e).add(n),mnt=(t=fi(),e=1,n=0)=>(t=t.convert("vec2|vec3"),Fn(aS(t),m7(t.add(jt(19,73)))).mul(e).add(n)),gnt=(t,e=fi(),n=jt(1,1),r=jt(0,0),i=1,o=0,a=1,s=!1,l=1,c=2,u=.5)=>ent(t,e.convert("vec2|vec3"),n,r,i,o,a,s,l,c,u),Ant=(t,e=fi(),n=jt(1,1),r=jt(0,0),i=1,o=0,a=1,s=!1,l=1,c=2,u=.5)=>tnt(t,e.convert("vec2|vec3"),n,r,i,o,a,s,l,c,u),vnt=(t=fi(),e=1)=>Ktt(t.convert("vec2|vec3"),e,$e(1)),ynt=(t=fi(),e=1)=>Ztt(t.convert("vec2|vec3"),e,$e(1)),bnt=(t=fi(),e=1)=>g7(t.convert("vec2|vec3"),e,$e(1)),xnt=(t=fi())=>Ftt(t.convert("vec2|vec3")),Snt=(t=fi(),e=3,n=2,r=.5,i=1)=>qE(t,$e(e),n,r).mul(i),_nt=(t=fi(),e=3,n=2,r=.5,i=1)=>ztt(t,$e(e),n,r).mul(i),wnt=(t=fi(),e=3,n=2,r=.5,i=1)=>SR(t,$e(e),n,r).mul(i),Cnt=(t=fi(),e=3,n=2,r=.5,i=1)=>Gtt(t,$e(e),n,r).mul(i),Tnt=(t,e=ge(0))=>Mo(t,e),Ent=(t,e=ge(0))=>Br(t,e),Mnt=(t,e=ge(1))=>rr(t,e),Rnt=(t,e=ge(1))=>$l(t,e),Pnt=(t,e=ge(1))=>Z2(t,e),Nnt=(t,e=ge(1))=>lc(t,e),Int=(t=ge(0),e=ge(1))=>eR(t,e),Dnt=()=>vy,Ont=()=>zce,Lnt=(t,e=ge(1))=>Br(e,t),Bnt=(t,e,n,r)=>t.greaterThan(e).mix(n,r),Fnt=(t,e,n,r)=>t.greaterThanEqual(e).mix(n,r),$nt=(t,e,n,r)=>t.equal(e).mix(n,r),Unt=(t,e=null)=>{if(typeof e=="string"){const n={x:0,r:0,y:1,g:1,z:2,b:2,w:3,a:3},r=e.replace(/^out/,"").toLowerCase();if(n[r]!==void 0)return t.element(n[r])}if(typeof e=="number")return t.element(e);if(typeof e=="string"&&e.length===1){const n={x:0,r:0,y:1,g:1,z:2,b:2,w:3,a:3};if(n[e]!==void 0)return t.element(n[e])}return t},knt=(t,e=jt(.5,.5),n=jt(1,1),r=ge(0),i=jt(0,0))=>{let o=t;if(e&&(o=o.sub(e)),n&&(o=o.mul(n)),r){const a=r.mul(Math.PI/180),s=a.cos(),l=a.sin();o=jt(o.x.mul(s).sub(o.y.mul(l)),o.x.mul(l).add(o.y.mul(s)))}return e&&(o=o.add(e)),i&&(o=o.add(i)),o},Vnt=(t,e)=>{t=jt(t),e=ge(e);const n=e.mul(Math.PI/180);return nS(t,n)},znt=(t,e,n)=>{t=He(t),e=ge(e),n=He(n);const r=e.mul(Math.PI/180),i=n.normalize(),o=r.cos(),a=r.sin(),s=ge(1).sub(o);return t.mul(o).add(i.cross(t).mul(a)).add(i.mul(i.dot(t)).mul(s))},Gnt=(t,e)=>(t=He(t),e=ge(e),k$(t,e)),Hnt=Qe(([t,e,n])=>{const r=Ps(t).toVar(),i=Br(ge(.5).mul(e.sub(n)),ld).div(r).toVar(),o=Br(ge(-.5).mul(e.sub(n)),ld).div(r).toVar(),a=He().toVar();a.x=r.x.greaterThan(ge(0)).select(i.x,o.x),a.y=r.y.greaterThan(ge(0)).select(i.y,o.y),a.z=r.z.greaterThan(ge(0)).select(i.z,o.z);const s=ol(a.x,a.y,a.z).toVar();return ld.add(r.mul(s)).toVar().sub(n)}),Rue=Qe(([t,e])=>{const n=t.x,r=t.y,i=t.z;let o=e.element(0).mul(.886227);return o=o.add(e.element(1).mul(2*.511664).mul(r)),o=o.add(e.element(2).mul(2*.511664).mul(i)),o=o.add(e.element(3).mul(2*.511664).mul(n)),o=o.add(e.element(4).mul(2*.429043).mul(n).mul(r)),o=o.add(e.element(5).mul(2*.429043).mul(r).mul(i)),o=o.add(e.element(6).mul(i.mul(i).mul(.743125).sub(.247708))),o=o.add(e.element(7).mul(2*.429043).mul(n).mul(i)),o=o.add(e.element(8).mul(.429043).mul(rr(n,n).sub(rr(r,r)))),o});var W=Object.freeze({__proto__:null,BRDF_GGX:Q$,BRDF_Lambert:o0,BasicPointShadowFilter:Aue,BasicShadowFilter:lue,Break:rce,Const:Sse,Continue:MYe,DFGLUT:Zx,D_GGX:xce,Discard:$se,EPSILON:c$,F_Schlick:Lv,Fn:Qe,HALF_PI:eXe,INFINITY:QWe,If:Ln,Loop:ii,NodeAccess:Ta,NodeShaderStage:J1,NodeType:bWe,NodeUpdateType:ur,OnBeforeMaterialUpdate:KZe,OnBeforeObjectUpdate:YZe,OnMaterialUpdate:XZe,OnObjectUpdate:WZe,PCFShadowFilter:cue,PCFSoftShadowFilter:uue,PI:$E,PI2:ZWe,PointShadowFilter:vue,Return:gXe,Schlick_to_F0:S6,ScriptableNodeResources:HC,ShaderNode:nA,Stack:XM,Switch:zWe,TBNViewMatrix:Sm,TWO_PI:JWe,VSMShadowFilter:due,V_GGX_SmithCorrelated:bce,Var:xse,VarIntent:_se,abs:Mi,acesFilmicToneMapping:Jce,acos:f$,add:Mo,addMethodChaining:Et,addNodeElement:bXe,agxToneMapping:eue,all:qae,alphaT:LE,and:Nae,anisotropy:lh,anisotropyB:Dm,anisotropyT:Rb,any:Wae,append:qWe,array:wae,arrayBuffer:HWe,asin:Qae,assign:Cae,atan:eR,atan2:mse,atomicAdd:ret,atomicAnd:set,atomicFunc:wd,atomicLoad:tet,atomicMax:oet,atomicMin:aet,atomicOr:cet,atomicStore:net,atomicSub:iet,atomicXor:uet,attenuationColor:i$,attenuationDistance:r$,attribute:yf,attributeArray:ZZe,backgroundBlurriness:jce,backgroundIntensity:E6,backgroundRotation:qce,batch:ece,bentNormalView:gle,billboarding:PZe,bitAnd:Lae,bitNot:Bae,bitOr:Fae,bitXor:$ae,bitangentGeometry:aYe,bitangentLocal:sYe,bitangentView:ple,bitangentWorld:lYe,bitcast:kce,blendBurn:cce,blendColor:jYe,blendDodge:uce,blendOverlay:fce,blendScreen:dce,blur:Mce,bool:Tc,buffer:J2,bufferAttribute:M$,builtin:Pf,builtinAOContext:yse,builtinShadowContext:vse,bumpMap:k$,burn:WYe,bvec2:Aae,bvec3:JF,bvec4:vae,bypass:Ose,cache:Dse,call:Tae,cameraFar:ph,cameraIndex:hp,cameraNear:hh,cameraNormalMatrix:LXe,cameraPosition:qse,cameraProjectionMatrix:rf,cameraProjectionMatrixInverse:DXe,cameraViewMatrix:Dc,cameraViewport:BXe,cameraWorldMatrix:OXe,cbrt:use,cdl:gJe,ceil:JM,checker:ltt,cineonToneMapping:Zce,clamp:gu,clearcoat:IE,clearcoatNormalView:xm,clearcoatRoughness:Qx,code:vR,color:gae,colorSpaceToWorking:rR,colorToDirection:uYe,compute:Ise,computeKernel:R$,computeSkinning:TYe,context:Rf,convert:bae,convertColorSpace:sXe,convertToTexture:zZe,cos:Yc,countLeadingZeros:aZe,countOneBits:sZe,countTrailingZeros:oZe,cross:Af,cubeTexture:xs,cubeTextureBase:U$,dFdx:m$,dFdy:g$,dashSize:BC,debug:kse,decrement:Hae,decrementBefore:zae,defaultBuildStages:s6,defaultShaderStages:uae,defined:Xx,degrees:Yae,deltaTime:SZe,densityFog:$Je,densityFogFactor:s7,depth:W$,depthPass:xJe,determinant:nse,difference:sse,diffuseColor:ni,diffuseContribution:om,directPointLight:bue,directionToColor:Ale,directionToFaceDirection:gy,dispersion:o$,disposeShadowMaterial:hue,distance:ase,div:$l,dodge:XYe,dot:Ec,drawIndex:Qle,dynamicBufferAttribute:fXe,element:yae,emissive:d6,equal:s$,equals:ise,equirectUV:X$,exp:u$,exp2:Dv,expression:vf,faceDirection:B$,faceForward:_$,faceforward:tXe,float:ge,floatBitsToInt:nZe,floatBitsToUint:Vce,floor:ad,fog:e2,fract:mu,frameGroup:_ae,frameId:zce,frontFacing:Kse,fwidth:v$,gain:cZe,gapSize:f6,getConstNodeType:mae,getCurrentStack:KF,getDirection:Tce,getDistanceAttenuation:p7,getGeometryRoughness:yce,getNormalFromDepth:HZe,getParallaxCorrectNormal:Hnt,getRoughness:K$,getScreenPosition:GZe,getShIrradianceAt:Rue,getShadowMaterial:fue,getShadowRenderObjectFunction:pue,getTextureIndex:$ce,getViewPosition:Dg,ggxConvolution:Rce,globalId:HJe,glsl:PJe,glslFn:NJe,grayscale:fJe,greaterThan:l$,greaterThanEqual:Pae,hash:lZe,highpModelNormalViewMatrix:m6,highpModelViewMatrix:p6,hue:mJe,increment:Gae,incrementBefore:Vae,inspector:zse,instance:_Ye,instanceIndex:cd,instancedArray:JZe,instancedBufferAttribute:UE,instancedDynamicBufferAttribute:h6,instancedMesh:Jle,int:$e,intBitsToFloat:rZe,interleavedGradientNoise:i7,inverse:rse,inverseSqrt:d$,inversesqrt:nXe,invocationLocalIndex:SYe,invocationSubgroupIndex:xYe,ior:Pb,iridescence:KM,iridescenceIOR:DE,iridescenceThickness:OE,isolate:EA,ivec2:Lo,ivec3:ZF,ivec4:e$,js:MJe,label:bse,length:sd,lengthSq:x$,lessThan:Mae,lessThanEqual:Rae,lightPosition:c7,lightProjectionUV:aue,lightShadowMatrix:bR,lightTargetDirection:d7,lightTargetPosition:sue,lightViewPosition:u7,lightingContext:oce,lights:Uet,linearDepth:VE,linearToneMapping:Kce,localId:jJe,log:ZM,log2:od,logarithmicDepthToViewZ:FYe,luminance:o7,mat2:YM,mat3:La,mat4:kh,matcapUV:Nce,materialAO:Xle,materialAlphaTest:vle,materialAnisotropy:Dle,materialAnisotropyVector:Ig,materialAttenuationColor:Vle,materialAttenuationDistance:kle,materialClearcoat:Ele,materialClearcoatNormal:Rle,materialClearcoatRoughness:Mle,materialColor:yle,materialDispersion:Wle,materialEmissive:xle,materialEnvIntensity:UC,materialEnvRotation:$$,materialIOR:Ule,materialIridescence:Ole,materialIridescenceIOR:Lle,materialIridescenceThickness:Ble,materialLightMap:z$,materialLineDashOffset:jle,materialLineDashSize:Gle,materialLineGapSize:Hle,materialLineScale:zle,materialLineWidth:mYe,materialMetalness:Cle,materialNormal:Tle,materialOpacity:V$,materialPointSize:qle,materialReference:Vd,materialReflectivity:kC,materialRefractionRatio:ele,materialRotation:Ple,materialRoughness:wle,materialSheen:Nle,materialSheenRoughness:Ile,materialShininess:ble,materialSpecular:Sle,materialSpecularColor:_le,materialSpecularIntensity:x6,materialSpecularStrength:Nb,materialThickness:$le,materialTransmission:Fle,max:to,maxMipLevel:P$,mediumpModelViewMatrix:Yse,metalness:Xd,min:ol,mix:Dr,mixElement:fse,mod:Z2,modInt:jae,modelDirection:zXe,modelNormalMatrix:Xse,modelPosition:GXe,modelRadius:qXe,modelScale:HXe,modelViewMatrix:pp,modelViewPosition:jXe,modelViewProjection:Yle,modelWorldMatrix:cc,modelWorldMatrixInverse:WXe,morphReference:ice,mrt:Uce,mul:rr,mx_aastep:Tue,mx_add:Tnt,mx_atan2:Int,mx_cell_noise_float:xnt,mx_contrast:fnt,mx_divide:Rnt,mx_fractal_noise_float:Snt,mx_fractal_noise_vec2:_nt,mx_fractal_noise_vec3:wnt,mx_fractal_noise_vec4:Cnt,mx_frame:Ont,mx_heighttonormal:Gnt,mx_hsvtorgb:nnt,mx_ifequal:$nt,mx_ifgreater:Bnt,mx_ifgreatereq:Fnt,mx_invert:Lnt,mx_modulo:Pnt,mx_multiply:Mnt,mx_noise_float:hnt,mx_noise_vec3:pnt,mx_noise_vec4:mnt,mx_place2d:knt,mx_power:Nnt,mx_ramp4:snt,mx_ramplr:ont,mx_ramptb:ant,mx_rgbtohsv:rnt,mx_rotate2d:Vnt,mx_rotate3d:znt,mx_safepower:dnt,mx_separate:Unt,mx_splitlr:lnt,mx_splittb:cnt,mx_srgb_texture_to_lin_rec709:int,mx_subtract:Ent,mx_timer:Dnt,mx_transform_uv:unt,mx_unifiednoise2d:gnt,mx_unifiednoise3d:Ant,mx_worley_noise_float:vnt,mx_worley_noise_vec2:ynt,mx_worley_noise_vec3:bnt,negate:p$,neutralToneMapping:tue,nodeArray:Im,nodeImmutable:en,nodeObject:rn,nodeObjectIntent:eb,nodeObjects:WM,nodeProxy:ir,nodeProxyIntent:Xt,normalFlat:Qse,normalGeometry:oR,normalLocal:al,normalMap:b6,normalView:kr,normalViewGeometry:Ov,normalWorld:mp,normalWorldGeometry:Zse,normalize:Ps,not:Dae,notEqual:Eae,numWorkgroups:zJe,objectDirection:FXe,objectGroup:a$,objectPosition:Wse,objectRadius:VXe,objectScale:UXe,objectViewPosition:kXe,objectWorldMatrix:$Xe,oneMinus:Zae,or:Iae,orthographicDepthToViewZ:BYe,oscSawtooth:TZe,oscSine:_Ze,oscSquare:wZe,oscTriangle:CZe,output:CA,outputStruct:eZe,overlay:KYe,overloadingFn:Fa,packHalf2x16:pZe,packSnorm2x16:fZe,packUnorm2x16:hZe,parabola:T6,parallaxDirection:mle,parallaxUV:cYe,parameter:XQe,pass:yJe,passTexture:bJe,pcurve:uZe,perspectiveDepthToViewZ:j$,pmremTexture:J$,pointShadow:yue,pointUV:tJe,pointWidth:WWe,positionGeometry:eS,positionLocal:Ki,positionPrevious:kE,positionView:So,positionViewDirection:gi,positionWorld:ld,positionWorldDirection:L$,posterize:vJe,pow:lc,pow2:y$,pow3:lse,pow4:b$,premultiplyAlpha:hce,property:ef,quadBroadcast:Bet,quadSwapDiagonal:Pet,quadSwapX:Met,quadSwapY:Ret,radians:Xae,rand:dse,range:kJe,rangeFog:FJe,rangeFogFactor:a7,reciprocal:ese,reference:ai,referenceBuffer:g6,reflect:ose,reflectVector:rle,reflectView:tle,reflector:FZe,refract:S$,refractVector:ile,refractView:nle,reinhardToneMapping:Qce,remap:Bse,remapClamp:Fse,renderGroup:Pn,renderOutput:Use,rendererReference:Rse,replaceDefaultUV:EZe,rotate:nS,rotateUV:MZe,roughness:Wu,round:Jae,rtt:Hce,sRGBTransferEOTF:Cse,sRGBTransferOETF:Tse,sample:qZe,sampler:TXe,samplerComparison:EXe,saturate:nR,saturation:hJe,screen:YYe,screenCoordinate:_0,screenDPR:Hse,screenSize:i0,screenUV:nf,scriptable:BJe,scriptableValue:GC,select:Ea,setCurrentStack:Yx,setName:w$,shaderStages:l6,shadow:gue,shadowPositionWorld:h7,shapeCircle:ctt,sharedUniformGroup:QM,sheen:bl,sheenRoughness:fh,shiftLeft:Uae,shiftRight:kae,shininess:BE,sign:h$,sin:ys,sinc:dZe,skinning:nce,smoothstep:Au,smoothstepElement:hse,specularColor:Jh,specularColorBlended:bm,specularF90:wA,spherizeUV:RZe,split:jWe,spritesheetUV:DZe,sqrt:Ja,stack:VC,step:tR,stepElement:pse,storage:of,storageBarrier:YJe,storageObject:yYe,storageTexture:Wce,string:GWe,struct:JQe,sub:Br,subBuild:TA,subgroupAdd:het,subgroupAll:Cet,subgroupAnd:yet,subgroupAny:Tet,subgroupBallot:fet,subgroupBroadcast:Net,subgroupBroadcastFirst:Eet,subgroupElect:det,subgroupExclusiveAdd:met,subgroupExclusiveMul:vet,subgroupInclusiveAdd:pet,subgroupInclusiveMul:Aet,subgroupIndex:bYe,subgroupMax:wet,subgroupMin:_et,subgroupMul:get,subgroupOr:bet,subgroupShuffle:Iet,subgroupShuffleDown:Let,subgroupShuffleUp:Oet,subgroupShuffleXor:Det,subgroupSize:qJe,subgroupXor:xet,tan:Kae,tangentGeometry:sR,tangentLocal:tS,tangentView:lR,tangentWorld:hle,texture:qr,texture3D:AR,texture3DLevel:sJe,texture3DLoad:aJe,textureBarrier:KJe,textureBicubic:EKe,textureBicubicLevel:Z$,textureCubeUV:Ece,textureLevel:CXe,textureLoad:so,textureSize:tf,textureStore:rJe,thickness:n$,time:vy,toneMapping:Pse,toneMappingExposure:Nse,toonOutlinePass:_Je,transformDirection:cse,transformNormal:Jse,transformNormalToView:F$,transformedClearcoatNormalView:QXe,transformedNormalView:YXe,transformedNormalWorld:KXe,transmission:FE,transpose:tse,triNoise3D:yZe,triplanarTexture:OZe,triplanarTextures:Gce,trunc:A$,uint:Vt,uintBitsToFloat:iZe,uniform:Nn,uniformArray:Qa,uniformCubeTexture:JXe,uniformFlow:Ase,uniformGroup:Sae,uniformTexture:wXe,unpackHalf2x16:AZe,unpackNormal:y6,unpackSnorm2x16:mZe,unpackUnorm2x16:gZe,unpremultiplyAlpha:qYe,userData:cJe,uv:fi,uvec2:QF,uvec3:S0,uvec4:t$,varying:_d,varyingProperty:Kx,vec2:jt,vec3:He,vec4:Fn,vectorComponents:b0,velocity:dJe,vertexColor:lce,vertexIndex:Kle,vertexStage:wse,vibrance:pJe,viewZToLogarithmicDepth:q$,viewZToOrthographicDepth:MA,viewZToPerspectiveDepth:ace,viewport:D$,viewportCoordinate:jse,viewportDepthTexture:H$,viewportLinearDepth:$Ye,viewportMipTexture:G$,viewportResolution:IXe,viewportSafeUV:NZe,viewportSharedTexture:nKe,viewportSize:O$,viewportTexture:OYe,viewportUV:NXe,vogelDiskSample:Zc,wgsl:RJe,wgslFn:IJe,workgroupArray:JJe,workgroupBarrier:XJe,workgroupId:GJe,workingToColorSpace:Ese,xor:Oae});const $c=new e7;class jnt extends gp{constructor(e,n){super(),this.renderer=e,this.nodes=n}update(e,n,r){const i=this.renderer,o=this.nodes.getBackgroundNode(e)||e.background;let a=!1;if(o===null)i._clearColor.getRGB($c),$c.a=i._clearColor.a;else if(o.isColor===!0)o.getRGB($c),$c.a=1,a=!0;else if(o.isNode===!0){const c=this.get(e),u=o;$c.copy(i._clearColor);let d=c.backgroundMesh;if(d===void 0){let C=function(){o.removeEventListener("dispose",C),d.material.dispose(),d.geometry.dispose()};var l=C;const h=Fn(u).mul(E6).context({getUV:()=>qce.mul(Zse),getTextureLevel:()=>jce}),p=rf.element(3).element(3).equal(1),x=$l(1,rf.element(1).element(1)).mul(3),b=p.select(Ki.mul(x),Ki);let y=rf.mul(pp.mul(Fn(b,0)));y=y.setZ(y.w);const _=new mo;_.name="Background.material",_.side=ui,_.depthTest=!1,_.depthWrite=!1,_.allowOverride=!1,_.fog=!1,_.lights=!1,_.vertexNode=y,_.colorNode=h,c.backgroundMeshNode=h,c.backgroundMesh=d=new Qr(new Sd(1,32,32),_),d.frustumCulled=!1,d.name="Background.mesh",o.addEventListener("dispose",C)}const f=u.getCacheKey();c.backgroundCacheKey!==f&&(c.backgroundMeshNode.node=Fn(u).mul(E6),c.backgroundMeshNode.needsUpdate=!0,d.material.needsUpdate=!0,c.backgroundCacheKey=f),n.unshift(d,d.geometry,d.material,0,0,null,null)}else $t("Renderer: Unsupported background configuration.",o);const s=i.xr.getEnvironmentBlendMode();if(s==="additive"?$c.set(0,0,0,1):s==="alpha-blend"&&$c.set(0,0,0,0),i.autoClear===!0||a===!0){const c=r.clearColorValue;c.r=$c.r,c.g=$c.g,c.b=$c.b,c.a=$c.a,(i.backend.isWebGLBackend===!0||i.alpha===!0)&&(c.r*=c.a,c.g*=c.a,c.b*=c.a),r.depthClearValue=i._clearDepth,r.stencilClearValue=i._clearStencil,r.clearColor=i.autoClearColor===!0,r.clearDepth=i.autoClearDepth===!0,r.clearStencil=i.autoClearStencil===!0}else r.clearColor=!1,r.clearDepth=!1,r.clearStencil=!1}}let qnt=0;class M6{constructor(e="",n=[],r=0,i=[]){this.name=e,this.bindings=n,this.index=r,this.bindingsReference=i,this.id=qnt++}}class Wnt{constructor(e,n,r,i,o,a,s,l,c,u=[]){this.vertexShader=e,this.fragmentShader=n,this.computeShader=r,this.transforms=u,this.nodeAttributes=i,this.bindings=o,this.updateNodes=a,this.updateBeforeNodes=s,this.updateAfterNodes=l,this.observer=c,this.usedTimes=0}createBindings(){const e=[];for(const n of this.bindings)if(n.bindings[0].groupNode.shared!==!0){const i=new M6(n.name,[],n.index,n.bindingsReference);e.push(i);for(const o of n.bindings)i.bindings.push(o.clone())}else e.push(n);return e}}class dW{constructor(e,n,r=null){this.isNodeAttribute=!0,this.name=e,this.type=n,this.node=r}}class Xnt{constructor(e,n,r){this.isNodeUniform=!0,this.name=e,this.type=n,this.node=r}get value(){return this.node.value}set value(e){this.node.value=e}get id(){return this.node.id}get groupNode(){return this.node.groupNode}}class Pue{constructor(e,n,r=!1,i=null){this.isNodeVar=!0,this.name=e,this.type=n,this.readOnly=r,this.count=i}}class Ynt extends Pue{constructor(e,n,r=null,i=null){super(e,n),this.needsInterpolation=!1,this.isNodeVarying=!0,this.interpolationType=r,this.interpolationSampling=i}}class Knt{constructor(e,n,r=""){this.name=e,this.type=n,this.code=r,Object.defineProperty(this,"isNodeCode",{value:!0})}}let Qnt=0;class oI{constructor(e=null){this.id=Qnt++,this.nodesData=new WeakMap,this.parent=e}getData(e){let n=this.nodesData.get(e);return n===void 0&&this.parent!==null&&(n=this.parent.getData(e)),n}setData(e,n){this.nodesData.set(e,n)}}class Znt{constructor(e,n){this.name=e,this.members=n,this.output=!1}}class Ap{constructor(e,n){this.name=e,this.value=n,this.boundary=0,this.itemSize=0,this.offset=0}setValue(e){this.value=e}getValue(){return this.value}}class Jnt extends Ap{constructor(e,n=0){super(e,n),this.isNumberUniform=!0,this.boundary=4,this.itemSize=1}}class ert extends Ap{constructor(e,n=new Ft){super(e,n),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class trt extends Ap{constructor(e,n=new ve){super(e,n),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class nrt extends Ap{constructor(e,n=new nr){super(e,n),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class rrt extends Ap{constructor(e,n=new En){super(e,n),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class irt extends Ap{constructor(e,n=new $M){super(e,n),this.isMatrix2Uniform=!0,this.boundary=8,this.itemSize=4}}class ort extends Ap{constructor(e,n=new Ar){super(e,n),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class art extends Ap{constructor(e,n=new ar){super(e,n),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class srt extends Jnt{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class lrt extends ert{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class crt extends trt{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class urt extends nrt{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class drt extends rrt{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class frt extends irt{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class hrt extends ort{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class prt extends art{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}let mrt=0;const grt=new WeakMap,fW=new WeakMap,Art=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),ww=t=>/e/g.test(t)?String(t).replace(/\+/g,""):(t=Number(t),t+(t%1?"":".0"));class Nue{constructor(e,n,r){this.object=e,this.material=e&&e.material||null,this.geometry=e&&e.geometry||null,this.renderer=n,this.parser=r,this.scene=null,this.camera=null,this.nodes=[],this.sequentialNodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.updateAfterNodes=[],this.hashNodes={},this.observer=null,this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.clippingContext=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:""},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.types={vertex:[],fragment:[],compute:[],index:0},this.bindings={vertex:{},fragment:{},compute:{}},this.bindingsIndexes={},this.bindGroups=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.codes={},this.vars={},this.declarations={},this.flow={code:""},this.chaining=[],this.stack=VC(),this.stacks=[],this.tab="	",this.currentFunctionNode=null,this.context={material:this.material},this.cache=new oI,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null,this.subBuildLayers=[],this.activeStacks=[],this.subBuildFn=null,this.fnCall=null,Object.defineProperty(this,"id",{value:mrt++})}isOpaque(){const e=this.material;return e.transparent===!1&&e.blending===Rs&&e.alphaToCoverage===!1}getBindGroupsCache(){let e=fW.get(this.renderer);return e===void 0&&(e=new vu,fW.set(this.renderer,e)),e}createRenderTarget(e,n,r){return new Tf(e,n,r)}createCubeRenderTarget(e,n){return new pce(e,n)}includes(e){return this.nodes.includes(e)}getOutputStructName(){}_getBindGroup(e,n){const r=this.getBindGroupsCache(),i=[];let o=!0;for(const s of n)i.push(s),o=o&&s.groupNode.shared!==!0;let a;return o?(a=r.get(i),a===void 0&&(a=new M6(e,i,this.bindingsIndexes[e].group,i),r.set(i,a))):a=new M6(e,i,this.bindingsIndexes[e].group,i),a}getBindGroupArray(e,n){const r=this.bindings[n];let i=r[e];return i===void 0&&(this.bindingsIndexes[e]===void 0&&(this.bindingsIndexes[e]={binding:0,group:Object.keys(this.bindingsIndexes).length}),r[e]=i=[]),i}getBindings(){let e=this.bindGroups;if(e===null){const n={},r=this.bindings;for(const i of l6)for(const o in r[i]){const a=r[i][o];(n[o]||(n[o]=[])).push(...a)}e=[];for(const i in n){const o=n[i],a=this._getBindGroup(i,o);e.push(a)}this.bindGroups=e}return e}sortBindingGroups(){const e=this.getBindings();e.sort((n,r)=>n.bindings[0].groupNode.order-r.bindings[0].groupNode.order);for(let n=0;n<e.length;n++){const r=e[n];this.bindingsIndexes[r.name].group=n,r.index=n}}setHashNode(e,n){this.hashNodes[n]=e}addNode(e){this.nodes.includes(e)===!1&&(this.nodes.push(e),this.setHashNode(e,e.getHash(this)))}addSequentialNode(e){this.sequentialNodes.includes(e)===!1&&this.sequentialNodes.push(e)}buildUpdateNodes(){for(const e of this.nodes)e.getUpdateType()!==ur.NONE&&this.updateNodes.push(e);for(const e of this.sequentialNodes){const n=e.getUpdateBeforeType(),r=e.getUpdateAfterType();n!==ur.NONE&&this.updateBeforeNodes.push(e),r!==ur.NONE&&this.updateAfterNodes.push(e)}}get currentNode(){return this.chaining[this.chaining.length-1]}isFilteredTexture(e){return e.magFilter===Di||e.magFilter===yA||e.magFilter===Wd||e.magFilter===Ws||e.minFilter===Di||e.minFilter===yA||e.minFilter===Wd||e.minFilter===Ws}addChain(e){this.chaining.push(e)}removeChain(e){if(this.chaining.pop()!==e)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(e){return e}getTernary(){return null}getNodeFromHash(e){return this.hashNodes[e]}addFlow(e,n){return this.flowNodes[e].push(n),n}setContext(e){this.context=e}getContext(){return this.context}addContext(e){const n=this.getContext();return this.setContext({...this.context,...e}),n}getSharedContext(){const e={...this.context};return delete e.material,delete e.getUV,delete e.getOutput,delete e.getTextureLevel,delete e.getAO,delete e.getShadow,e}setCache(e){this.cache=e}getCache(){return this.cache}getCacheFromNode(e,n=!0){const r=this.getDataFromNode(e);return r.cache===void 0&&(r.cache=new oI(n?this.getCache():null)),r.cache}isAvailable(){return!1}getVertexIndex(){Pt("Abstract function.")}getInstanceIndex(){Pt("Abstract function.")}getDrawIndex(){Pt("Abstract function.")}getFrontFacing(){Pt("Abstract function.")}getFragCoord(){Pt("Abstract function.")}isFlipY(){return!1}increaseUsage(e){const n=this.getDataFromNode(e);return n.usageCount=n.usageCount===void 0?1:n.usageCount+1,n.usageCount}generateTexture(){Pt("Abstract function.")}generateTextureLod(){Pt("Abstract function.")}generateArrayDeclaration(e,n){return this.getType(e)+"[ "+n+" ]"}generateArray(e,n,r=null){let i=this.generateArrayDeclaration(e,n)+"( ";for(let o=0;o<n;o++){const a=r?r[o]:null;a!==null?i+=a.build(this,e):i+=this.generateConst(e),o<n-1&&(i+=", ")}return i+=" )",i}generateStruct(e,n,r=null){const i=[];for(const o of n){const{name:a,type:s}=o;r&&r[a]&&r[a].isNode?i.push(r[a].build(this,s)):i.push(this.generateConst(s))}return e+"( "+i.join(", ")+" )"}generateConst(e,n=null){if(n===null&&(e==="float"||e==="int"||e==="uint"?n=0:e==="bool"?n=!1:e==="color"?n=new En:e==="vec2"||e==="uvec2"||e==="ivec2"?n=new Ft:e==="vec3"||e==="uvec3"||e==="ivec3"?n=new ve:(e==="vec4"||e==="uvec4"||e==="ivec4")&&(n=new nr)),e==="float")return ww(n);if(e==="int")return`${Math.round(n)}`;if(e==="uint")return n>=0?`${Math.round(n)}u`:"0u";if(e==="bool")return n?"true":"false";if(e==="color")return`${this.getType("vec3")}( ${ww(n.r)}, ${ww(n.g)}, ${ww(n.b)} )`;const r=this.getTypeLength(e),i=this.getComponentType(e),o=a=>this.generateConst(i,a);if(r===2)return`${this.getType(e)}( ${o(n.x)}, ${o(n.y)} )`;if(r===3)return`${this.getType(e)}( ${o(n.x)}, ${o(n.y)}, ${o(n.z)} )`;if(r===4&&e!=="mat2")return`${this.getType(e)}( ${o(n.x)}, ${o(n.y)}, ${o(n.z)}, ${o(n.w)} )`;if(r>=4&&n&&(n.isMatrix2||n.isMatrix3||n.isMatrix4))return`${this.getType(e)}( ${n.elements.map(o).join(", ")} )`;if(r>4)return`${this.getType(e)}()`;throw new Error(`NodeBuilder: Type '${e}' not found in generate constant attempt.`)}getType(e){return e==="color"?"vec3":e}hasGeometryAttribute(e){return this.geometry&&this.geometry.getAttribute(e)!==void 0}getAttribute(e,n){const r=this.attributes;for(const o of r)if(o.name===e)return o;const i=new dW(e,n);return this.registerDeclaration(i),r.push(i),i}getPropertyName(e){return e.name}isVector(e){return/vec\d/.test(e)}isMatrix(e){return/mat\d/.test(e)}isReference(e){return e==="void"||e==="property"||e==="sampler"||e==="samplerComparison"||e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="depthTexture"||e==="texture3D"}needsToWorkingColorSpace(){return!1}getComponentTypeFromTexture(e){const n=e.type;if(e.isDataTexture){if(n===sa)return"int";if(n===li)return"uint"}return"float"}getElementType(e){return e==="mat2"?"vec2":e==="mat3"?"vec3":e==="mat4"?"vec4":this.getComponentType(e)}getComponentType(e){if(e=this.getVectorType(e),e==="float"||e==="bool"||e==="int"||e==="uint")return e;const n=/(b|i|u|)(vec|mat)([2-4])/.exec(e);return n===null?null:n[1]==="b"?"bool":n[1]==="i"?"int":n[1]==="u"?"uint":"float"}getVectorType(e){return e==="color"?"vec3":e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="texture3D"?"vec4":e}getTypeFromLength(e,n="float"){if(e===1)return n;let r=oae(e);const i=n==="float"?"":n[0];return/mat2/.test(n)===!0&&(r=r.replace("vec","mat")),i+r}getTypeFromArray(e){return Art.get(e.constructor)}isInteger(e){return/int|uint|(i|u)vec/.test(e)}getTypeFromAttribute(e){let n=e;e.isInterleavedBufferAttribute&&(n=e.data);const r=n.array,i=e.itemSize,o=e.normalized;let a;return!(e instanceof fie)&&o!==!0&&(a=this.getTypeFromArray(r)),this.getTypeFromLength(i,a)}getTypeLength(e){const n=this.getVectorType(e),r=/vec([2-4])/.exec(n);return r!==null?Number(r[1]):n==="float"||n==="bool"||n==="int"||n==="uint"?1:/mat2/.test(e)===!0?4:/mat3/.test(e)===!0?9:/mat4/.test(e)===!0?16:0}getVectorFromMatrix(e){return e.replace("mat","vec")}changeComponentType(e,n){return this.getTypeFromLength(this.getTypeLength(e),n)}getIntegerType(e){const n=this.getComponentType(e);return n==="int"||n==="uint"?e:this.changeComponentType(e,"int")}setActiveStack(e){this.activeStacks.push(e)}removeActiveStack(e){if(this.activeStacks[this.activeStacks.length-1]===e)this.activeStacks.pop();else throw new Error("NodeBuilder: Invalid active stack removal.")}getActiveStack(){return this.activeStacks[this.activeStacks.length-1]}getBaseStack(){return this.activeStacks[0]}addStack(){this.stack=VC(this.stack);const e=KF();return this.stacks.push(e),Yx(this.stack),this.stack}removeStack(){const e=this.stack;for(const n of e.nodes){const r=this.getDataFromNode(n);r.stack=e}return this.stack=e.parent,Yx(this.stacks.pop()),e}getDataFromNode(e,n=this.shaderStage,r=null){r=r===null?e.isGlobal(this)?this.globalCache:this.cache:r;let i=r.getData(e);i===void 0&&(i={},r.setData(e,i)),i[n]===void 0&&(i[n]={});let o=i[n];const a=i.any?i.any.subBuilds:null,s=this.getClosestSubBuild(a);return s&&(o.subBuildsCache===void 0&&(o.subBuildsCache={}),o=o.subBuildsCache[s]||(o.subBuildsCache[s]={}),o.subBuilds=a),o}getNodeProperties(e,n="any"){const r=this.getDataFromNode(e,n);return r.properties||(r.properties={outputNode:null})}getBufferAttributeFromNode(e,n){const r=this.getDataFromNode(e,"vertex");let i=r.bufferAttribute;if(i===void 0){const o=this.uniforms.index++;i=new dW("nodeAttribute"+o,n,e),this.bufferAttributes.push(i),r.bufferAttribute=i}return i}getStructTypeNode(e,n=this.shaderStage){return this.types[n][e]||null}getStructTypeFromNode(e,n,r=null,i=this.shaderStage){const o=this.getDataFromNode(e,i,this.globalCache);let a=o.structType;if(a===void 0){const s=this.structs.index++;r===null&&(r="StructType"+s),a=new Znt(r,n),this.structs[i].push(a),this.types[i][r]=e,o.structType=a}return a}getOutputStructTypeFromNode(e,n){const r=this.getStructTypeFromNode(e,n,"OutputType","fragment");return r.output=!0,r}getUniformFromNode(e,n,r=this.shaderStage,i=null){const o=this.getDataFromNode(e,r,this.globalCache);let a=o.uniform;if(a===void 0){const s=this.uniforms.index++;a=new Xnt(i||"nodeUniform"+s,n,e),this.uniforms[r].push(a),this.registerDeclaration(a),o.uniform=a}return a}getVarFromNode(e,n=null,r=e.getNodeType(this),i=this.shaderStage,o=!1){const a=this.getDataFromNode(e,i),s=this.getSubBuildProperty("variable",a.subBuilds);let l=a[s];if(l===void 0){const c=o?"_const":"_var",u=this.vars[i]||(this.vars[i]=[]),d=this.vars[c]||(this.vars[c]=0);n===null&&(n=(o?"nodeConst":"nodeVar")+d,this.vars[c]++),s!=="variable"&&(n=this.getSubBuildProperty(n,a.subBuilds));const f=e.getArrayCount(this);l=new Pue(n,r,o,f),o||u.push(l),this.registerDeclaration(l),a[s]=l}return l}isDeterministic(e){if(e.isMathNode)return this.isDeterministic(e.aNode)&&(e.bNode?this.isDeterministic(e.bNode):!0)&&(e.cNode?this.isDeterministic(e.cNode):!0);if(e.isOperatorNode)return this.isDeterministic(e.aNode)&&(e.bNode?this.isDeterministic(e.bNode):!0);if(e.isArrayNode){if(e.values!==null){for(const n of e.values)if(!this.isDeterministic(n))return!1}return!0}else if(e.isConstNode)return!0;return!1}getVaryingFromNode(e,n=null,r=e.getNodeType(this),i=null,o=null){const a=this.getDataFromNode(e,"any"),s=this.getSubBuildProperty("varying",a.subBuilds);let l=a[s];if(l===void 0){const c=this.varyings,u=c.length;n===null&&(n="nodeVarying"+u),s!=="varying"&&(n=this.getSubBuildProperty(n,a.subBuilds)),l=new Ynt(n,r,i,o),c.push(l),this.registerDeclaration(l),a[s]=l}return l}registerDeclaration(e){const n=this.shaderStage,r=this.declarations[n]||(this.declarations[n]={}),i=this.getPropertyName(e);let o=1,a=i;for(;r[a]!==void 0;)a=i+"_"+o++;o>1&&(e.name=a,Pt(`TSL: Declaration name '${i}' of '${e.type}' already in use. Renamed to '${a}'.`)),r[a]=e}getCodeFromNode(e,n,r=this.shaderStage){const i=this.getDataFromNode(e);let o=i.code;if(o===void 0){const a=this.codes[r]||(this.codes[r]=[]),s=a.length;o=new Knt("nodeCode"+s,n),a.push(o),i.code=o}return o}addFlowCodeHierarchy(e,n){const{flowCodes:r,flowCodeBlock:i}=this.getDataFromNode(e);let o=!0,a=n;for(;a;){if(i.get(a)===!0){o=!1;break}a=this.getDataFromNode(a).parentNodeBlock}if(o)for(const s of r)this.addLineFlowCode(s)}addLineFlowCodeBlock(e,n,r){const i=this.getDataFromNode(e),o=i.flowCodes||(i.flowCodes=[]),a=i.flowCodeBlock||(i.flowCodeBlock=new WeakMap);o.push(n),a.set(r,!0)}addLineFlowCode(e,n=null){return e===""?this:(n!==null&&this.context.nodeBlock&&this.addLineFlowCodeBlock(n,e,this.context.nodeBlock),e=this.tab+e,/;\s*$/.test(e)||(e=e+`;
`),this.flow.code+=e,this)}addFlowCode(e){return this.flow.code+=e,this}addFlowTab(){return this.tab+="	",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(e){return this.flowsData.get(e)}flowNode(e){const n=e.getNodeType(this),r=this.flowChildNode(e,n);return this.flowsData.set(e,r),r}addInclude(e){this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(e)}buildFunctionNode(e){const n=new nue,r=this.currentFunctionNode;return this.currentFunctionNode=n,n.code=this.buildFunctionCode(e),this.currentFunctionNode=r,n}flowShaderNode(e){const n=e.layout,r={[Symbol.iterator](){let a=0;const s=Object.values(this);return{next:()=>({value:s[a],done:a++>=s.length})}}};for(const a of n.inputs)r[a.name]=new Bce(a.type,a.name);e.layout=null;const i=e.call(r),o=this.flowStagesNode(i,n.type);return e.layout=n,o}flowBuildStage(e,n,r=null){const i=this.getBuildStage();this.setBuildStage(n);const o=e.build(this,r);return this.setBuildStage(i),o}flowStagesNode(e,n=null){const r=this.flow,i=this.vars,o=this.declarations,a=this.cache,s=this.buildStage,l=this.stack,c={code:""};this.flow=c,this.vars={},this.declarations={},this.cache=new oI,this.stack=VC();for(const u of s6)this.setBuildStage(u),c.result=e.build(this,n);return c.vars=this.getVars(this.shaderStage),this.flow=r,this.vars=i,this.declarations=o,this.cache=a,this.stack=l,this.setBuildStage(s),c}getFunctionOperator(){return null}buildFunctionCode(){Pt("Abstract function.")}flowChildNode(e,n=null){const r=this.flow,i={code:""};return this.flow=i,i.result=e.build(this,n),this.flow=r,i}flowNodeFromShaderStage(e,n,r=null,i=null){const o=this.tab,a=this.cache,s=this.shaderStage,l=this.context;this.setShaderStage(e);const c={...this.context};delete c.nodeBlock,this.cache=this.globalCache,this.tab="	",this.context=c;let u=null;if(this.buildStage==="generate"){const d=this.flowChildNode(n,r);i!==null&&(d.code+=`${this.tab+i} = ${d.result};
`),this.flowCode[e]=this.flowCode[e]+d.code,u=d}else u=n.build(this);return this.setShaderStage(s),this.cache=a,this.tab=o,this.context=l,u}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){Pt("Abstract function.")}getVaryings(){Pt("Abstract function.")}getVar(e,n,r=null){return`${r!==null?this.generateArrayDeclaration(e,r):this.getType(e)} ${n}`}getVars(e){let n="";const r=this.vars[e];if(r!==void 0)for(const i of r)n+=`${this.getVar(i.type,i.name)}; `;return n}getUniforms(){Pt("Abstract function.")}getCodes(e){const n=this.codes[e];let r="";if(n!==void 0)for(const i of n)r+=i.code+`
`;return r}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(e){this.shaderStage=e}getShaderStage(){return this.shaderStage}setBuildStage(e){this.buildStage=e}getBuildStage(){return this.buildStage}buildCode(){Pt("Abstract function.")}get subBuild(){return this.subBuildLayers[this.subBuildLayers.length-1]||null}addSubBuild(e){this.subBuildLayers.push(e)}removeSubBuild(){return this.subBuildLayers.pop()}getClosestSubBuild(e){let n;if(e&&e.isNode?e.isShaderCallNodeInternal?n=e.shaderNode.subBuilds:e.isStackNode?n=[e.subBuild]:n=this.getDataFromNode(e,"any").subBuilds:e instanceof Set?n=[...e]:n=e,!n)return null;const r=this.subBuildLayers;for(let i=n.length-1;i>=0;i--){const o=n[i];if(r.includes(o))return o}return null}getSubBuildOutput(e){return this.getSubBuildProperty("outputNode",e)}getSubBuildProperty(e="",n=null){let r;n!==null?r=this.getClosestSubBuild(n):r=this.subBuildFn;let i;return r?i=e?r+"_"+e:r:i=e,i}build(){const{object:e,material:n,renderer:r}=this;if(n!==null){let i=r.library.fromMaterial(n);i===null&&($t(`NodeMaterial: Material "${n.type}" is not compatible.`),i=new mo),i.build(this)}else this.addFlow("compute",e);for(const i of s6){this.setBuildStage(i),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const o of l6){this.setShaderStage(o);const a=this.flowNodes[o];for(const s of a)i==="generate"?this.flowNode(s):s.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getSharedDataFromNode(e){let n=grt.get(e);return n===void 0&&(n={}),n}getNodeUniform(e,n){const r=this.getSharedDataFromNode(e);let i=r.cache;if(i===void 0){if(n==="float"||n==="int"||n==="uint")i=new srt(e);else if(n==="vec2"||n==="ivec2"||n==="uvec2")i=new lrt(e);else if(n==="vec3"||n==="ivec3"||n==="uvec3")i=new crt(e);else if(n==="vec4"||n==="ivec4"||n==="uvec4")i=new urt(e);else if(n==="color")i=new drt(e);else if(n==="mat2")i=new frt(e);else if(n==="mat3")i=new hrt(e);else if(n==="mat4")i=new prt(e);else throw new Error(`Uniform "${n}" not implemented.`);r.cache=i}return i}format(e,n,r){if(n=this.getVectorType(n),r=this.getVectorType(r),n===r||r===null||this.isReference(r))return e;const i=this.getTypeLength(n),o=this.getTypeLength(r);return i===16&&o===9?`${this.getType(r)}( ${e}[ 0 ].xyz, ${e}[ 1 ].xyz, ${e}[ 2 ].xyz )`:i===9&&o===4?`${this.getType(r)}( ${e}[ 0 ].xy, ${e}[ 1 ].xy )`:i>4||o>4||o===0?e:i===o?`${this.getType(r)}( ${e} )`:i>o?(e=r==="bool"?`all( ${e} )`:`${e}.${"xyz".slice(0,o)}`,this.format(e,this.getTypeFromLength(o,this.getComponentType(n)),r)):o===4&&i>1?`${this.getType(r)}( ${this.format(e,n,"vec3")}, 1.0 )`:i===2?`${this.getType(r)}( ${this.format(e,n,"vec2")}, 0.0 )`:(i===1&&o>1&&n!==this.getComponentType(r)&&(e=`${this.getType(this.getComponentType(r))}( ${e} )`),`${this.getType(r)}( ${e} )`)}getSignature(){return`// Three.js r${v0} - Node System
`}}class hW{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.updateAfterMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(e,n){let r=e.get(n);return r===void 0&&(r={renderId:0,frameId:0},e.set(n,r)),r}updateBeforeNode(e){const n=e.getUpdateBeforeType(),r=e.updateReference(this);if(n===ur.FRAME){const i=this._getMaps(this.updateBeforeMap,r);if(i.frameId!==this.frameId){const o=i.frameId;i.frameId=this.frameId,e.updateBefore(this)===!1&&(i.frameId=o)}}else if(n===ur.RENDER){const i=this._getMaps(this.updateBeforeMap,r);if(i.renderId!==this.renderId){const o=i.renderId;i.renderId=this.renderId,e.updateBefore(this)===!1&&(i.renderId=o)}}else n===ur.OBJECT&&e.updateBefore(this)}updateAfterNode(e){const n=e.getUpdateAfterType(),r=e.updateReference(this);if(n===ur.FRAME){const i=this._getMaps(this.updateAfterMap,r);i.frameId!==this.frameId&&e.updateAfter(this)!==!1&&(i.frameId=this.frameId)}else if(n===ur.RENDER){const i=this._getMaps(this.updateAfterMap,r);i.renderId!==this.renderId&&e.updateAfter(this)!==!1&&(i.renderId=this.renderId)}else n===ur.OBJECT&&e.updateAfter(this)}updateNode(e){const n=e.getUpdateType(),r=e.updateReference(this);if(n===ur.FRAME){const i=this._getMaps(this.updateMap,r);i.frameId!==this.frameId&&e.update(this)!==!1&&(i.frameId=this.frameId)}else if(n===ur.RENDER){const i=this._getMaps(this.updateMap,r);i.renderId!==this.renderId&&e.update(this)!==!1&&(i.renderId=this.renderId)}else n===ur.OBJECT&&e.update(this)}update(){this.frameId++,this.lastTime===void 0&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}class A7{constructor(e,n,r=null,i="",o=!1){this.type=e,this.name=n,this.count=r,this.qualifier=i,this.isConst=o}}A7.isNodeFunctionInput=!0;class vrt extends w0{static get type(){return"DirectionalLightNode"}constructor(e=null){super(e)}setupDirect(){const e=this.colorNode;return{lightDirection:d7(this.light),lightColor:e}}}const aI=new ar,Cw=new ar;let _1=null;class yrt extends w0{static get type(){return"RectAreaLightNode"}constructor(e=null){super(e),this.halfHeight=Nn(new ve).setGroup(Pn),this.halfWidth=Nn(new ve).setGroup(Pn),this.updateType=ur.RENDER}update(e){super.update(e);const{light:n}=this,r=e.camera.matrixWorldInverse;Cw.identity(),aI.copy(n.matrixWorld),aI.premultiply(r),Cw.extractRotation(aI),this.halfWidth.value.set(n.width*.5,0,0),this.halfHeight.value.set(0,n.height*.5,0),this.halfWidth.value.applyMatrix4(Cw),this.halfHeight.value.applyMatrix4(Cw)}setupDirectRectArea(e){let n,r;e.isAvailable("float32Filterable")?(n=qr(_1.LTC_FLOAT_1),r=qr(_1.LTC_FLOAT_2)):(n=qr(_1.LTC_HALF_1),r=qr(_1.LTC_HALF_2));const{colorNode:i,light:o}=this,a=u7(o);return{lightColor:i,lightPosition:a,halfWidth:this.halfWidth,halfHeight:this.halfHeight,ltc_1:n,ltc_2:r}}static setLTC(e){_1=e}}class v7 extends w0{static get type(){return"SpotLightNode"}constructor(e=null){super(e),this.coneCosNode=Nn(0).setGroup(Pn),this.penumbraCosNode=Nn(0).setGroup(Pn),this.cutoffDistanceNode=Nn(0).setGroup(Pn),this.decayExponentNode=Nn(0).setGroup(Pn),this.colorNode=Nn(this.color).setGroup(Pn)}update(e){super.update(e);const{light:n}=this;this.coneCosNode.value=Math.cos(n.angle),this.penumbraCosNode.value=Math.cos(n.angle*(1-n.penumbra)),this.cutoffDistanceNode.value=n.distance,this.decayExponentNode.value=n.decay}getSpotAttenuation(e,n){const{coneCosNode:r,penumbraCosNode:i}=this;return Au(r,i,n)}getLightCoord(e){const n=e.getNodeProperties(this);let r=n.projectionUV;return r===void 0&&(r=aue(this.light,e.context.positionWorld),n.projectionUV=r),r}setupDirect(e){const{colorNode:n,cutoffDistanceNode:r,decayExponentNode:i,light:o}=this,a=this.getLightVector(e),s=a.normalize(),l=s.dot(d7(o)),c=this.getSpotAttenuation(e,l),u=a.length(),d=p7({lightDistance:u,cutoffDistance:r,decayExponent:i});let f=n.mul(c).mul(d),h,p;return o.colorNode?(p=this.getLightCoord(e),h=o.colorNode(p)):o.map&&(p=this.getLightCoord(e),h=qr(o.map,p.xy).onRenderUpdate(()=>o.map)),h&&(f=p.mul(2).sub(1).abs().lessThan(1).all().select(f.mul(h),f)),{lightColor:f,lightDirection:s}}}class brt extends v7{static get type(){return"IESSpotLightNode"}getSpotAttenuation(e,n){const r=this.light.iesMap;let i=null;if(r&&r.isTexture===!0){const o=n.acos().mul(1/Math.PI);i=qr(r,jt(o,0),0).r}else i=super.getSpotAttenuation(n);return i}}const xrt=Qe(([t,e])=>{const n=t.abs().sub(e);return sd(to(n,0)).add(ol(to(n.x,n.y),0))});class Srt extends v7{static get type(){return"ProjectorLightNode"}update(e){super.update(e);const n=this.light;if(this.penumbraCosNode.value=Math.min(Math.cos(n.angle*(1-n.penumbra)),.99999),n.aspect===null){let r=1;n.map!==null&&(r=n.map.width/n.map.height),n.shadow.aspect=r}else n.shadow.aspect=n.aspect}getSpotAttenuation(e){const n=ge(0),r=this.penumbraCosNode,i=bR(this.light).mul(e.context.positionWorld||ld);return Ln(i.w.greaterThan(0),()=>{const o=i.xyz.div(i.w),a=xrt(o.xy.sub(jt(.5)),jt(.5)),s=$l(-1,Br(1,f$(r)).sub(1));n.assign(nR(a.mul(-2).mul(s)))}),n}}class _rt extends w0{static get type(){return"AmbientLightNode"}constructor(e=null){super(e)}setup({context:e}){e.irradiance.addAssign(this.colorNode)}}class wrt extends w0{static get type(){return"HemisphereLightNode"}constructor(e=null){super(e),this.lightPositionNode=c7(e),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=Nn(new En).setGroup(Pn)}update(e){const{light:n}=this;super.update(e),this.lightPositionNode.object3d=n,this.groundColorNode.value.copy(n.groundColor).multiplyScalar(n.intensity)}setup(e){const{colorNode:n,groundColorNode:r,lightDirectionNode:i}=this,a=mp.dot(i).mul(.5).add(.5),s=Dr(r,n,a);e.context.irradiance.addAssign(s)}}class Crt extends w0{static get type(){return"LightProbeNode"}constructor(e=null){super(e);const n=[];for(let r=0;r<9;r++)n.push(new ve);this.lightProbe=Qa(n)}update(e){const{light:n}=this;super.update(e);for(let r=0;r<9;r++)this.lightProbe.array[r].copy(n.sh.coefficients[r]).multiplyScalar(n.intensity)}setup(e){const n=Rue(mp,this.lightProbe);e.context.irradiance.addAssign(n)}}class Iue{parseFunction(){Pt("Abstract function.")}}class y7{constructor(e,n,r="",i=""){this.type=e,this.inputs=n,this.name=r,this.precision=i}getCode(){Pt("Abstract function.")}}y7.isNodeFunction=!0;const Trt=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,Ert=/[a-z_0-9]+/ig,pW="#pragma main",Mrt=t=>{t=t.trim();const e=t.indexOf(pW),n=e!==-1?t.slice(e+pW.length):t,r=n.match(Trt);if(r!==null&&r.length===5){const i=r[4],o=[];let a=null;for(;(a=Ert.exec(i))!==null;)o.push(a);const s=[];let l=0;for(;l<o.length;){const p=o[l][0]==="const";p===!0&&l++;let x=o[l][0];x==="in"||x==="out"||x==="inout"?l++:x="";const b=o[l++][0];let y=Number.parseInt(o[l][0]);Number.isNaN(y)===!1?l++:y=null;const _=o[l++][0];s.push(new A7(b,_,y,x,p))}const c=n.substring(r[0].length),u=r[3]!==void 0?r[3]:"",d=r[2],f=r[1]!==void 0?r[1]:"",h=e!==-1?t.slice(0,e):"";return{type:d,inputs:s,name:u,precision:f,inputsCode:i,blockCode:c,headerCode:h}}else throw new Error("FunctionNode: Function is not a GLSL code.")};class Rrt extends y7{constructor(e){const{type:n,inputs:r,name:i,precision:o,inputsCode:a,blockCode:s,headerCode:l}=Mrt(e);super(n,r,i,o),this.inputsCode=a,this.blockCode=s,this.headerCode=l}getCode(e=this.name){let n;const r=this.blockCode;if(r!==""){const{type:i,inputsCode:o,headerCode:a,precision:s}=this;let l=`${i} ${e} ( ${o.trim()} )`;s!==""&&(l=`${s} ${l}`),n=a+l+r}else n="";return n}}class Prt extends Iue{parseFunction(e){return new Rrt(e)}}const mW=new WeakMap,Fu=[],Qf=[];class Nrt extends gp{constructor(e,n){super(),this.renderer=e,this.backend=n,this.nodeFrame=new hW,this.nodeBuilderCache=new Map,this.callHashCache=new vu,this.groupsData=new vu,this.cacheLib={}}updateGroup(e){const n=e.groupNode,r=n.name;if(r===a$.name)return!0;if(r===Pn.name){const o=this.get(e),a=this.nodeFrame.renderId;return o.renderId!==a?(o.renderId=a,!0):!1}if(r===_ae.name){const o=this.get(e),a=this.nodeFrame.frameId;return o.frameId!==a?(o.frameId=a,!0):!1}Fu[0]=n,Fu[1]=e;let i=this.groupsData.get(Fu);return i===void 0&&this.groupsData.set(Fu,i={}),Fu.length=0,i.version!==n.version?(i.version=n.version,!0):!1}getForRenderCacheKey(e){return e.initialCacheKey}getForRender(e){const n=this.get(e);let r=n.nodeBuilderState;if(r===void 0){const{nodeBuilderCache:i}=this,o=this.getForRenderCacheKey(e);if(r=i.get(o),r===void 0){const a=l=>{const c=this.backend.createNodeBuilder(e.object,this.renderer);return c.scene=e.scene,c.material=l,c.camera=e.camera,c.context.material=l,c.lightsNode=e.lightsNode,c.environmentNode=this.getEnvironmentNode(e.scene),c.fogNode=this.getFogNode(e.scene),c.clippingContext=e.clippingContext,this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview&&c.enableMultiview(),c};let s=a(e.material);try{s.build()}catch(l){s=a(new mo),s.build(),$t("TSL: "+l)}r=this._createNodeBuilderState(s),i.set(o,r)}r.usedTimes++,n.nodeBuilderState=r}return r}delete(e){if(e.isRenderObject){const n=this.get(e).nodeBuilderState;n.usedTimes--,n.usedTimes===0&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(e))}return super.delete(e)}getForCompute(e){const n=this.get(e);let r=n.nodeBuilderState;if(r===void 0){const i=this.backend.createNodeBuilder(e,this.renderer);i.build(),r=this._createNodeBuilderState(i),n.nodeBuilderState=r}return r}_createNodeBuilderState(e){return new Wnt(e.vertexShader,e.fragmentShader,e.computeShader,e.getAttributesArray(),e.getBindings(),e.updateNodes,e.updateBeforeNodes,e.updateAfterNodes,e.observer,e.transforms)}getEnvironmentNode(e){this.updateEnvironment(e);let n=null;if(e.environmentNode&&e.environmentNode.isNode)n=e.environmentNode;else{const r=this.get(e);r.environmentNode&&(n=r.environmentNode)}return n}getBackgroundNode(e){this.updateBackground(e);let n=null;if(e.backgroundNode&&e.backgroundNode.isNode)n=e.backgroundNode;else{const r=this.get(e);r.backgroundNode&&(n=r.backgroundNode)}return n}getFogNode(e){return this.updateFog(e),e.fogNode||this.get(e).fogNode||null}getCacheKey(e,n){Fu[0]=e,Fu[1]=n;const r=this.renderer.info.calls,i=this.callHashCache.get(Fu)||{};if(i.callId!==r){const o=this.getEnvironmentNode(e),a=this.getFogNode(e);n&&Qf.push(n.getCacheKey(!0)),o&&Qf.push(o.getCacheKey()),a&&Qf.push(a.getCacheKey()),Qf.push(this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview?1:0),Qf.push(this.renderer.shadowMap.enabled?1:0),Qf.push(this.renderer.shadowMap.type),i.callId=r,i.cacheKey=my(Qf),this.callHashCache.set(Fu,i),Qf.length=0}return Fu.length=0,i.cacheKey}get isToneMappingState(){return!this.renderer.getRenderTarget()}updateBackground(e){const n=this.get(e),r=e.background;if(r){const i=e.backgroundBlurriness===0&&n.backgroundBlurriness>0||e.backgroundBlurriness>0&&n.backgroundBlurriness===0;if(n.background!==r||i){const o=this.getCacheNode("background",r,()=>{if(r.isCubeTexture===!0||r.mapping===YA||r.mapping===KA||r.mapping===Xm){if(e.backgroundBlurriness>0||r.mapping===Xm)return J$(r);{let a;return r.isCubeTexture===!0?a=xs(r):a=qr(r),gce(a)}}else{if(r.isTexture===!0)return qr(r,nf.flipY()).setUpdateMatrix(!0);r.isColor!==!0&&$t("WebGPUNodes: Unsupported background configuration.",r)}},i);n.backgroundNode=o,n.background=r,n.backgroundBlurriness=e.backgroundBlurriness}}else n.backgroundNode&&(delete n.backgroundNode,delete n.background)}getCacheNode(e,n,r,i=!1){const o=this.cacheLib[e]||(this.cacheLib[e]=new WeakMap);let a=o.get(n);return(a===void 0||i)&&(a=r(),o.set(n,a)),a}updateFog(e){const n=this.get(e),r=e.fog;if(r){if(n.fog!==r){const i=this.getCacheNode("fog",r,()=>{if(r.isFogExp2){const o=ai("color","color",r).setGroup(Pn),a=ai("density","float",r).setGroup(Pn);return e2(o,s7(a))}else if(r.isFog){const o=ai("color","color",r).setGroup(Pn),a=ai("near","float",r).setGroup(Pn),s=ai("far","float",r).setGroup(Pn);return e2(o,a7(a,s))}else $t("Renderer: Unsupported fog configuration.",r)});n.fogNode=i,n.fog=r}}else delete n.fogNode,delete n.fog}updateEnvironment(e){const n=this.get(e),r=e.environment;if(r){if(n.environment!==r){const i=this.getCacheNode("environment",r,()=>{if(r.isCubeTexture===!0)return xs(r);if(r.isTexture===!0)return qr(r);$t("Nodes: Unsupported environment configuration.",r)});n.environmentNode=i,n.environment=r}}else n.environmentNode&&(delete n.environmentNode,delete n.environment)}getNodeFrame(e=this.renderer,n=null,r=null,i=null,o=null){const a=this.nodeFrame;return a.renderer=e,a.scene=n,a.object=r,a.camera=i,a.material=o,a}getNodeFrameForRender(e){return this.getNodeFrame(e.renderer,e.scene,e.object,e.camera,e.material)}getOutputCacheKey(){const e=this.renderer;return e.toneMapping+","+e.currentColorSpace+","+e.xr.isPresenting}hasOutputChange(e){return mW.get(e)!==this.getOutputCacheKey()}getOutputNode(e){const n=this.renderer,r=this.getOutputCacheKey(),i=e.isArrayTexture?AR(e,He(nf,Pf("gl_ViewID_OVR"))).renderOutput(n.toneMapping,n.currentColorSpace):qr(e,nf).renderOutput(n.toneMapping,n.currentColorSpace);return mW.set(e,r),i}updateBefore(e){const n=e.getNodeBuilderState();for(const r of n.updateBeforeNodes)this.getNodeFrameForRender(e).updateBeforeNode(r)}updateAfter(e){const n=e.getNodeBuilderState();for(const r of n.updateAfterNodes)this.getNodeFrameForRender(e).updateAfterNode(r)}updateForCompute(e){const n=this.getNodeFrame(),r=this.getForCompute(e);for(const i of r.updateNodes)n.updateNode(i)}updateForRender(e){const n=this.getNodeFrameForRender(e),r=e.getNodeBuilderState();for(const i of r.updateNodes)n.updateNode(i)}needsRefresh(e){const n=this.getNodeFrameForRender(e);return e.getMonitor().needsRefresh(e,n)}dispose(){super.dispose(),this.nodeFrame=new hW,this.nodeBuilderCache=new Map,this.cacheLib={}}}const sI=new Gu;class WE{constructor(e=null){this.version=0,this.clipIntersection=null,this.cacheKey="",this.shadowPass=!1,this.viewNormalMatrix=new Ar,this.clippingGroupContexts=new WeakMap,this.intersectionPlanes=[],this.unionPlanes=[],this.parentVersion=null,e!==null&&(this.viewNormalMatrix=e.viewNormalMatrix,this.clippingGroupContexts=e.clippingGroupContexts,this.shadowPass=e.shadowPass,this.viewMatrix=e.viewMatrix)}projectPlanes(e,n,r){const i=e.length;for(let o=0;o<i;o++){sI.copy(e[o]).applyMatrix4(this.viewMatrix,this.viewNormalMatrix);const a=n[r+o],s=sI.normal;a.x=-s.x,a.y=-s.y,a.z=-s.z,a.w=sI.constant}}updateGlobal(e,n){this.shadowPass=e.overrideMaterial!==null&&e.overrideMaterial.isShadowPassMaterial,this.viewMatrix=n.matrixWorldInverse,this.viewNormalMatrix.getNormalMatrix(this.viewMatrix)}update(e,n){let r=!1;e.version!==this.parentVersion&&(this.intersectionPlanes=Array.from(e.intersectionPlanes),this.unionPlanes=Array.from(e.unionPlanes),this.parentVersion=e.version),this.clipIntersection!==n.clipIntersection&&(this.clipIntersection=n.clipIntersection,this.clipIntersection?this.unionPlanes.length=e.unionPlanes.length:this.intersectionPlanes.length=e.intersectionPlanes.length);const i=n.clippingPlanes,o=i.length;let a,s;if(this.clipIntersection?(a=this.intersectionPlanes,s=e.intersectionPlanes.length):(a=this.unionPlanes,s=e.unionPlanes.length),a.length!==s+o){a.length=s+o;for(let l=0;l<o;l++)a[s+l]=new nr;r=!0}this.projectPlanes(i,a,s),r&&(this.version++,this.cacheKey=`${this.intersectionPlanes.length}:${this.unionPlanes.length}`)}getGroupContext(e){if(this.shadowPass&&!e.clipShadows)return this;let n=this.clippingGroupContexts.get(e);return n===void 0&&(n=new WE(this),this.clippingGroupContexts.set(e,n)),n.update(this,e),n}get unionClippingCount(){return this.unionPlanes.length}}class Irt{constructor(e,n){this.bundleGroup=e,this.camera=n}}const w1=[];class Drt{constructor(){this.bundles=new vu}get(e,n){const r=this.bundles;w1[0]=e,w1[1]=n;let i=r.get(w1);return i===void 0&&(i=new Irt(e,n),r.set(w1,i)),w1.length=0,i}dispose(){this.bundles=new vu}}class Due{constructor(){this.lightNodes=new WeakMap,this.materialNodes=new Map,this.toneMappingNodes=new Map}fromMaterial(e){if(e.isNodeMaterial)return e;let n=null;const r=this.getMaterialNodeClass(e.type);if(r!==null){n=new r;for(const i in e)n[i]=e[i]}return n}addToneMapping(e,n){this.addType(e,n,this.toneMappingNodes)}getToneMappingFunction(e){return this.toneMappingNodes.get(e)||null}getMaterialNodeClass(e){return this.materialNodes.get(e)||null}addMaterial(e,n){this.addType(e,n,this.materialNodes)}getLightNodeClass(e){return this.lightNodes.get(e)||null}addLight(e,n){this.addClass(e,n,this.lightNodes)}addType(e,n,r){if(r.has(n)){Pt(`Redefinition of node ${n}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof n=="function"||typeof n=="object")throw new Error(`Base class ${n} is not a class.`);r.set(n,e)}addClass(e,n,r){if(r.has(n)){Pt(`Redefinition of node ${n.name}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof n!="function")throw new Error(`Base class ${n.name} is not a class.`);r.set(n,e)}}const Ort=new f7,C1=[];class Lrt extends vu{constructor(){super()}createNode(e=[]){return new f7().setLights(e)}getNode(e,n){if(e.isQuadMesh)return Ort;C1[0]=e,C1[1]=n;let r=this.get(C1);return r===void 0&&(r=this.createNode(),this.set(C1,r)),C1.length=0,r}}class tb extends Tf{constructor(e=1,n=1,r={}){super(e,n,r),this.isXRRenderTarget=!0,this._hasExternalTextures=!1,this._autoAllocateDepthBuffer=!0,this._isOpaqueFramebuffer=!1}copy(e){return super.copy(e),this._hasExternalTextures=e._hasExternalTextures,this._autoAllocateDepthBuffer=e._autoAllocateDepthBuffer,this._isOpaqueFramebuffer=e._isOpaqueFramebuffer,this}}const gW=new ve,AW=new ve;class Brt extends _u{constructor(e,n=!1){super(),this.enabled=!1,this.isPresenting=!1,this.cameraAutoUpdate=!0,this._renderer=e,this._cameraL=new la,this._cameraL.viewport=new nr,this._cameraR=new la,this._cameraR.viewport=new nr,this._cameras=[this._cameraL,this._cameraR],this._cameraXR=new Iie,this._currentDepthNear=null,this._currentDepthFar=null,this._controllers=[],this._controllerInputSources=[],this._xrRenderTarget=null,this._layers=[],this._sessionUsesLayers=!1,this._supportsGlBinding=typeof XRWebGLBinding<"u",this._frameBufferTargets=null,this._createXRLayer=zrt.bind(this),this._gl=null,this._currentAnimationContext=null,this._currentAnimationLoop=null,this._currentPixelRatio=null,this._currentSize=new Ft,this._onSessionEvent=Urt.bind(this),this._onSessionEnd=krt.bind(this),this._onInputSourcesChange=Vrt.bind(this),this._onAnimationFrame=Grt.bind(this),this._referenceSpace=null,this._referenceSpaceType="local-floor",this._customReferenceSpace=null,this._framebufferScaleFactor=1,this._foveation=1,this._session=null,this._glBaseLayer=null,this._glBinding=null,this._glProjLayer=null,this._xrFrame=null,this._supportsLayers=this._supportsGlBinding&&"createProjectionLayer"in XRWebGLBinding.prototype,this._useMultiviewIfPossible=n,this._useMultiview=!1}getController(e){return this._getController(e).getTargetRaySpace()}getControllerGrip(e){return this._getController(e).getGripSpace()}getHand(e){return this._getController(e).getHandSpace()}getFoveation(){if(!(this._glProjLayer===null&&this._glBaseLayer===null))return this._foveation}setFoveation(e){this._foveation=e,this._glProjLayer!==null&&(this._glProjLayer.fixedFoveation=e),this._glBaseLayer!==null&&this._glBaseLayer.fixedFoveation!==void 0&&(this._glBaseLayer.fixedFoveation=e)}getFramebufferScaleFactor(){return this._framebufferScaleFactor}setFramebufferScaleFactor(e){this._framebufferScaleFactor=e,this.isPresenting===!0&&Pt("XRManager: Cannot change framebuffer scale while presenting.")}getReferenceSpaceType(){return this._referenceSpaceType}setReferenceSpaceType(e){this._referenceSpaceType=e,this.isPresenting===!0&&Pt("XRManager: Cannot change reference space type while presenting.")}getReferenceSpace(){return this._customReferenceSpace||this._referenceSpace}setReferenceSpace(e){this._customReferenceSpace=e}getCamera(){return this._cameraXR}getEnvironmentBlendMode(){if(this._session!==null)return this._session.environmentBlendMode}getBinding(){return this._glBinding===null&&this._supportsGlBinding&&(this._glBinding=new XRWebGLBinding(this._session,this._gl)),this._glBinding}getFrame(){return this._xrFrame}useMultiview(){return this._useMultiview}createQuadLayer(e,n,r,i,o,a,s,l={}){const c=new q2(e,n),u=new tb(o,a,{format:_o,type:Fi,depthTexture:new ts(o,a,l.stencil?Il:li,void 0,void 0,void 0,void 0,void 0,void 0,l.stencil?Ss:Na),stencilBuffer:l.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});u._autoAllocateDepthBuffer=!0;const d=new oc({color:16777215,side:Nl});d.map=u.texture,d.map.offset.y=1,d.map.repeat.y=-1;const f=new Qr(c,d);f.position.copy(r),f.quaternion.copy(i);const h={type:"quad",width:e,height:n,translation:r,quaternion:i,pixelwidth:o,pixelheight:a,plane:f,material:d,rendercall:s,renderTarget:u};if(this._layers.push(h),this._session!==null){h.plane.material=new oc({color:16777215,side:Nl}),h.plane.material.blending=vA,h.plane.material.blendEquation=Ya,h.plane.material.blendSrc=Fd,h.plane.material.blendDst=Fd,h.xrlayer=this._createXRLayer(h);const p=this._session.renderState.layers;p.unshift(h.xrlayer),this._session.updateRenderState({layers:p})}else u.isXRRenderTarget=!1;return f}createCylinderLayer(e,n,r,i,o,a,s,l,c={}){const u=new FM(e,e,e*n/r,64,64,!0,Math.PI-n/2,n),d=new tb(a,s,{format:_o,type:Fi,depthTexture:new ts(a,s,c.stencil?Il:li,void 0,void 0,void 0,void 0,void 0,void 0,c.stencil?Ss:Na),stencilBuffer:c.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});d._autoAllocateDepthBuffer=!0;const f=new oc({color:16777215,side:ui});f.map=d.texture,f.map.offset.y=1,f.map.repeat.y=-1;const h=new Qr(u,f);h.position.copy(i),h.quaternion.copy(o);const p={type:"cylinder",radius:e,centralAngle:n,aspectratio:r,translation:i,quaternion:o,pixelwidth:a,pixelheight:s,plane:h,material:f,rendercall:l,renderTarget:d};if(this._layers.push(p),this._session!==null){p.plane.material=new oc({color:16777215,side:ui}),p.plane.material.blending=vA,p.plane.material.blendEquation=Ya,p.plane.material.blendSrc=Fd,p.plane.material.blendDst=Fd,p.xrlayer=this._createXRLayer(p);const x=this._session.renderState.layers;x.unshift(p.xrlayer),this._session.updateRenderState({layers:x})}else d.isXRRenderTarget=!1;return h}renderLayers(){const e=new ve,n=new pu,r=this._renderer,i=this.isPresenting,o=r.getOutputRenderTarget(),a=r._frameBufferTarget;this.isPresenting=!1;const s=new Ft;r.getSize(s);const l=r._quad;for(const c of this._layers)if(c.renderTarget.isXRRenderTarget=this._session!==null,c.renderTarget._hasExternalTextures=c.renderTarget.isXRRenderTarget,c.renderTarget.isXRRenderTarget&&this._sessionUsesLayers){c.xrlayer.transform=new XRRigidTransform(c.plane.getWorldPosition(e),c.plane.getWorldQuaternion(n));const u=this._glBinding.getSubImage(c.xrlayer,this._xrFrame);r.backend.setXRRenderTargetTextures(c.renderTarget,u.colorTexture,void 0),r._setXRLayerSize(c.renderTarget.width,c.renderTarget.height),r.setOutputRenderTarget(c.renderTarget),r.setRenderTarget(null),r._frameBufferTarget=null,this._frameBufferTargets||(this._frameBufferTargets=new WeakMap);const{frameBufferTarget:d,quad:f}=this._frameBufferTargets.get(c.renderTarget)||{frameBufferTarget:null,quad:null};d?(r._frameBufferTarget=d,r._quad=f):(r._quad=new mR(new mo),this._frameBufferTargets.set(c.renderTarget,{frameBufferTarget:r._getFrameBufferTarget(),quad:r._quad})),c.rendercall(),r._frameBufferTarget=null}else r.setRenderTarget(c.renderTarget),c.rendercall();r.setRenderTarget(null),r.setOutputRenderTarget(o),r._frameBufferTarget=a,r._setXRLayerSize(s.x,s.y),r._quad=l,this.isPresenting=i}getSession(){return this._session}async setSession(e){const n=this._renderer,r=n.backend;this._gl=n.getContext();const i=this._gl,o=i.getContextAttributes();if(this._session=e,e!==null){if(r.isWebGPUBackend===!0)throw new Error('THREE.XRManager: XR is currently not supported with a WebGPU backend. Use WebGL by passing "{ forceWebGL: true }" to the constructor of the renderer.');if(e.addEventListener("select",this._onSessionEvent),e.addEventListener("selectstart",this._onSessionEvent),e.addEventListener("selectend",this._onSessionEvent),e.addEventListener("squeeze",this._onSessionEvent),e.addEventListener("squeezestart",this._onSessionEvent),e.addEventListener("squeezeend",this._onSessionEvent),e.addEventListener("end",this._onSessionEnd),e.addEventListener("inputsourceschange",this._onInputSourcesChange),await r.makeXRCompatible(),this._currentPixelRatio=n.getPixelRatio(),n.getSize(this._currentSize),this._currentAnimationContext=n._animation.getContext(),this._currentAnimationLoop=n._animation.getAnimationLoop(),n._animation.stop(),this._supportsLayers===!0){let a=null,s=null,l=null;n.depth&&(l=n.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,a=n.stencil?Ss:Na,s=n.stencil?Il:li);const c={colorFormat:i.RGBA8,depthFormat:l,scaleFactor:this._framebufferScaleFactor,clearOnAccess:!1};this._useMultiviewIfPossible&&n.hasFeature("OVR_multiview2")&&(c.textureType="texture-array",this._useMultiview=!0),this._glBinding=this.getBinding();const u=this._glBinding.createProjectionLayer(c),d=[u];this._glProjLayer=u,n.setPixelRatio(1),n._setXRLayerSize(u.textureWidth,u.textureHeight);const f=this._useMultiview?2:1,h=new ts(u.textureWidth,u.textureHeight,s,void 0,void 0,void 0,void 0,void 0,void 0,a,f);if(this._xrRenderTarget=new tb(u.textureWidth,u.textureHeight,{format:_o,type:Fi,colorSpace:n.outputColorSpace,depthTexture:h,stencilBuffer:n.stencil,samples:o.antialias?4:0,resolveDepthBuffer:u.ignoreDepthValues===!1,resolveStencilBuffer:u.ignoreDepthValues===!1,depth:this._useMultiview?2:1,multiview:this._useMultiview}),this._xrRenderTarget._hasExternalTextures=!0,this._xrRenderTarget.depth=this._useMultiview?2:1,this._sessionUsesLayers=e.enabledFeatures.includes("layers"),this._referenceSpace=await e.requestReferenceSpace(this.getReferenceSpaceType()),this._sessionUsesLayers)for(const p of this._layers)p.plane.material=new oc({color:16777215,side:p.type==="cylinder"?ui:Nl}),p.plane.material.blending=vA,p.plane.material.blendEquation=Ya,p.plane.material.blendSrc=Fd,p.plane.material.blendDst=Fd,p.xrlayer=this._createXRLayer(p),d.unshift(p.xrlayer);e.updateRenderState({layers:d})}else{const a={antialias:n.currentSamples>0,alpha:!0,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:this.getFramebufferScaleFactor()},s=new XRWebGLLayer(e,i,a);this._glBaseLayer=s,e.updateRenderState({baseLayer:s}),n.setPixelRatio(1),n._setXRLayerSize(s.framebufferWidth,s.framebufferHeight),this._xrRenderTarget=new tb(s.framebufferWidth,s.framebufferHeight,{format:_o,type:Fi,colorSpace:n.outputColorSpace,stencilBuffer:n.stencil,resolveDepthBuffer:s.ignoreDepthValues===!1,resolveStencilBuffer:s.ignoreDepthValues===!1}),this._xrRenderTarget._isOpaqueFramebuffer=!0,this._referenceSpace=await e.requestReferenceSpace(this.getReferenceSpaceType())}this.setFoveation(this.getFoveation()),n._animation.setAnimationLoop(this._onAnimationFrame),n._animation.setContext(e),n._animation.start(),this.isPresenting=!0,this.dispatchEvent({type:"sessionstart"})}}updateCamera(e){const n=this._session;if(n===null)return;const r=e.near,i=e.far,o=this._cameraXR,a=this._cameraL,s=this._cameraR;o.near=s.near=a.near=r,o.far=s.far=a.far=i,o.isMultiViewCamera=this._useMultiview,(this._currentDepthNear!==o.near||this._currentDepthFar!==o.far)&&(n.updateRenderState({depthNear:o.near,depthFar:o.far}),this._currentDepthNear=o.near,this._currentDepthFar=o.far),o.layers.mask=e.layers.mask|6,a.layers.mask=o.layers.mask&3,s.layers.mask=o.layers.mask&5;const l=e.parent,c=o.cameras;vW(o,l);for(let u=0;u<c.length;u++)vW(c[u],l);c.length===2?Frt(o,a,s):o.projectionMatrix.copy(a.projectionMatrix),$rt(e,o,l)}_getController(e){let n=this._controllers[e];return n===void 0&&(n=new EC,this._controllers[e]=n),n}}function Frt(t,e,n){gW.setFromMatrixPosition(e.matrixWorld),AW.setFromMatrixPosition(n.matrixWorld);const r=gW.distanceTo(AW),i=e.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(o[8]+1)/o[0],f=a*u,h=a*d,p=r/(-u+d),x=p*-u;if(e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(x),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert(),i[10]===-1)t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse);else{const b=a+p,y=s+p,_=f-x,C=h+(r-x),E=l*s/y*b,M=c*s/y*b;t.projectionMatrix.makePerspective(_,C,E,M,b,y),t.projectionMatrixInverse.copy(t.projectionMatrix).invert()}}function vW(t,e){e===null?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}function $rt(t,e,n){n===null?t.matrix.copy(e.matrixWorld):(t.matrix.copy(n.matrixWorld),t.matrix.invert(),t.matrix.multiply(e.matrixWorld)),t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0),t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=Jm*2*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)}function Urt(t){const e=this._controllerInputSources.indexOf(t.inputSource);if(e===-1)return;const n=this._controllers[e];if(n!==void 0){const r=this.getReferenceSpace();n.update(t.inputSource,t.frame,r),n.dispatchEvent({type:t.type,data:t.inputSource})}}function krt(){const t=this._session,e=this._renderer;t.removeEventListener("select",this._onSessionEvent),t.removeEventListener("selectstart",this._onSessionEvent),t.removeEventListener("selectend",this._onSessionEvent),t.removeEventListener("squeeze",this._onSessionEvent),t.removeEventListener("squeezestart",this._onSessionEvent),t.removeEventListener("squeezeend",this._onSessionEvent),t.removeEventListener("end",this._onSessionEnd),t.removeEventListener("inputsourceschange",this._onInputSourcesChange);for(let n=0;n<this._controllers.length;n++){const r=this._controllerInputSources[n];r!==null&&(this._controllerInputSources[n]=null,this._controllers[n].disconnect(r))}if(this._currentDepthNear=null,this._currentDepthFar=null,e._resetXRState(),this._session=null,this._xrRenderTarget=null,this._glBinding=null,this._glBaseLayer=null,this._glProjLayer=null,this._sessionUsesLayers===!0)for(const n of this._layers)n.renderTarget=new tb(n.pixelwidth,n.pixelheight,{format:_o,type:Fi,depthTexture:new ts(n.pixelwidth,n.pixelheight,n.stencilBuffer?Il:li,void 0,void 0,void 0,void 0,void 0,void 0,n.stencilBuffer?Ss:Na),stencilBuffer:n.stencilBuffer,resolveDepthBuffer:!1,resolveStencilBuffer:!1}),n.renderTarget.isXRRenderTarget=!1,n.plane.material=n.material,n.material.map=n.renderTarget.texture,n.material.map.offset.y=1,n.material.map.repeat.y=-1,delete n.xrlayer;this.isPresenting=!1,this._useMultiview=!1,e._animation.stop(),e._animation.setAnimationLoop(this._currentAnimationLoop),e._animation.setContext(this._currentAnimationContext),e._animation.start(),e.setPixelRatio(this._currentPixelRatio),e.setSize(this._currentSize.width,this._currentSize.height,!1),this.dispatchEvent({type:"sessionend"})}function Vrt(t){const e=this._controllers,n=this._controllerInputSources;for(let r=0;r<t.removed.length;r++){const i=t.removed[r],o=n.indexOf(i);o>=0&&(n[o]=null,e[o].disconnect(i))}for(let r=0;r<t.added.length;r++){const i=t.added[r];let o=n.indexOf(i);if(o===-1){for(let s=0;s<e.length;s++)if(s>=n.length){n.push(i),o=s;break}else if(n[s]===null){n[s]=i,o=s;break}if(o===-1)break}const a=e[o];a&&a.connect(i)}}function zrt(t){return t.type==="quad"?this._glBinding.createQuadLayer({transform:new XRRigidTransform(t.translation,t.quaternion),width:t.width/2,height:t.height/2,space:this._referenceSpace,viewPixelWidth:t.pixelwidth,viewPixelHeight:t.pixelheight,clearOnAccess:!1}):this._glBinding.createCylinderLayer({transform:new XRRigidTransform(t.translation,t.quaternion),radius:t.radius,centralAngle:t.centralAngle,aspectRatio:t.aspectRatio,space:this._referenceSpace,viewPixelWidth:t.pixelwidth,viewPixelHeight:t.pixelheight,clearOnAccess:!1})}function Grt(t,e){if(e===void 0)return;const n=this._cameraXR,r=this._renderer,i=r.backend,o=this._glBaseLayer,a=this.getReferenceSpace(),s=e.getViewerPose(a);if(this._xrFrame=e,s!==null){const l=s.views;this._glBaseLayer!==null&&i.setXRTarget(o.framebuffer);let c=!1;l.length!==n.cameras.length&&(n.cameras.length=0,c=!0);for(let u=0;u<l.length;u++){const d=l[u];let f;if(this._supportsLayers===!0){const p=this._glBinding.getViewSubImage(this._glProjLayer,d);f=p.viewport,u===0&&i.setXRRenderTargetTextures(this._xrRenderTarget,p.colorTexture,this._glProjLayer.ignoreDepthValues&&!this._useMultiview?void 0:p.depthStencilTexture)}else f=o.getViewport(d);let h=this._cameras[u];h===void 0&&(h=new la,h.layers.enable(u),h.viewport=new nr,this._cameras[u]=h),h.matrix.fromArray(d.transform.matrix),h.matrix.decompose(h.position,h.quaternion,h.scale),h.projectionMatrix.fromArray(d.projectionMatrix),h.projectionMatrixInverse.copy(h.projectionMatrix).invert(),h.viewport.set(f.x,f.y,f.width,f.height),u===0&&(n.matrix.copy(h.matrix),n.matrix.decompose(n.position,n.quaternion,n.scale)),c===!0&&n.cameras.push(h)}r.setOutputRenderTarget(this._xrRenderTarget)}for(let l=0;l<this._controllers.length;l++){const c=this._controllerInputSources[l],u=this._controllers[l];c!==null&&u!==void 0&&u.update(c,e,a)}this._currentAnimationLoop&&this._currentAnimationLoop(t,e),e.detectedPlanes&&this.dispatchEvent({type:"planesdetected",data:e}),this._xrFrame=null}class Hrt extends _u{constructor(e){super(),this.domElement=e,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new nr(0,0,this._width,this._height),this._scissor=new nr(0,0,this._width,this._height),this._scissorTest=!1,this.colorTexture=new mF,this.depthTexture=new ts}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(e){return e.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(e){return e.set(this._width,this._height)}setPixelRatio(e=1){this._pixelRatio!==e&&(this._pixelRatio=e,this.setSize(this._width,this._height,!1))}setDrawingBufferSize(e,n,r){this.xr&&this.xr.isPresenting||(this._width=e,this._height=n,this._pixelRatio=r,this.domElement.width=Math.floor(e*r),this.domElement.height=Math.floor(n*r),this.setViewport(0,0,e,n),this._dispatchResize())}setSize(e,n,r=!0){this.xr&&this.xr.isPresenting||(this._width=e,this._height=n,this.domElement.width=Math.floor(e*this._pixelRatio),this.domElement.height=Math.floor(n*this._pixelRatio),r===!0&&(this.domElement.style.width=e+"px",this.domElement.style.height=n+"px"),this.setViewport(0,0,e,n),this._dispatchResize())}getScissor(e){const n=this._scissor;return e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height,e}setScissor(e,n,r,i){const o=this._scissor;e.isVector4?o.copy(e):o.set(e,n,r,i)}getScissorTest(){return this._scissorTest}setScissorTest(e){this._scissorTest=e}getViewport(e){return e.copy(this._viewport)}setViewport(e,n,r,i,o=0,a=1){const s=this._viewport;e.isVector4?s.copy(e):s.set(e,n,r,i),s.minDepth=o,s.maxDepth=a}_dispatchResize(){this.dispatchEvent({type:"resize"})}dispose(){this.dispatchEvent({type:"dispose"})}}const yW=new OM,wg=new Ft,lI=new nr,cI=new dy,uI=new hF,Tw=new ar,Od=new nr;class jrt{constructor(e,n={}){this.isRenderer=!0;const{logarithmicDepthBuffer:r=!1,alpha:i=!0,depth:o=!0,stencil:a=!1,antialias:s=!1,samples:l=0,getFallback:c=null,outputBufferType:u=Ui,multiview:d=!1}=n;this.backend=e,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.alpha=i,this.logarithmicDepthBuffer=r,this.outputColorSpace=wa,this.toneMapping=Ca,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=o,this.stencil=a,this.info=new IQe,this.contextNode=Rf(),this.library=new Due,this.lighting=new Lrt,this._samples=l||s===!0?4:0,this._onCanvasTargetResize=this._onCanvasTargetResize.bind(this),this._canvasTarget=new Hrt(e.getDomElement()),this._canvasTarget.addEventListener("resize",this._onCanvasTargetResize),this._canvasTarget.isDefaultCanvasTarget=!0,this._inspector=new Vse,this._inspector.setRenderer(this),this._getFallback=c,this._attributes=null,this._geometries=null,this._nodes=null,this._animation=null,this._bindings=null,this._objects=null,this._pipelines=null,this._bundles=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._quad=new mR(new mo),this._quad.name="Output Color Transform",this._quad.material.name="outputColorTransform",this._currentRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._frameBufferTarget=null;const f=this.alpha===!0?0:1;this._clearColor=new e7(0,0,0,f),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._outputRenderTarget=null,this._mrt=null,this._renderObjectFunction=null,this._currentRenderObjectFunction=null,this._currentRenderBundle=null,this._handleObjectFunction=this._renderObjectDirect,this._isDeviceLost=!1,this.onDeviceLost=this._onDeviceLost,this._outputBufferType=u,this._cacheShadowNodes=new WeakMap,this._initialized=!1,this._initPromise=null,this._compilationPromises=null,this.transparent=!0,this.opaque=!0,this.shadowMap={enabled:!1,type:yb},this.xr=new Brt(this,d),this.debug={checkShaderErrors:!0,onShaderError:null,getShaderAsync:async(h,p,x)=>{await this.compileAsync(h,p);const b=this._renderLists.get(h,p),y=this._renderContexts.get(h,p,this._renderTarget,this._mrt),_=h.overrideMaterial||x.material,C=this._objects.get(x,_,h,p,b.lightsNode,y,y.clippingContext),{fragmentShader:E,vertexShader:M}=C.getNodeBuilderState();return{fragmentShader:E,vertexShader:M}}}}async init(){return this._initPromise!==null?this._initPromise:(this._initPromise=new Promise(async(e,n)=>{let r=this.backend;try{await r.init(this)}catch(i){if(this._getFallback!==null)try{this.backend=r=this._getFallback(i),await r.init(this)}catch(o){n(o);return}else{n(i);return}}this._nodes=new Nrt(this,r),this._animation=new _Qe(this,this._nodes,this.info),this._attributes=new PQe(r),this._background=new jnt(this,this._nodes),this._geometries=new NQe(this._attributes,this.info),this._textures=new WQe(this,r,this.info),this._pipelines=new BQe(r,this._nodes),this._bindings=new FQe(r,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new EQe(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new kQe(this.lighting),this._bundles=new Drt,this._renderContexts=new jQe,this._animation.start(),this._initialized=!0,this._inspector.init(),e(this)}),this._initPromise)}get domElement(){return this._canvasTarget.domElement}get coordinateSystem(){return this.backend.coordinateSystem}async compileAsync(e,n,r=null){if(this._isDeviceLost===!0)return;this._initialized===!1&&await this.init();const i=this._nodes.nodeFrame,o=i.renderId,a=this._currentRenderContext,s=this._currentRenderObjectFunction,l=this._compilationPromises,c=e.isScene===!0?e:yW;r===null&&(r=e);const u=this._renderTarget,d=this._renderContexts.get(r,n,u,this._mrt),f=this._activeMipmapLevel,h=[];this._currentRenderContext=d,this._currentRenderObjectFunction=this.renderObject,this._handleObjectFunction=this._createObjectPipeline,this._compilationPromises=h,i.renderId++,i.update(),d.depth=this.depth,d.stencil=this.stencil,d.clippingContext||(d.clippingContext=new WE),d.clippingContext.updateGlobal(c,n),c.onBeforeRender(this,e,n,u);const p=this._renderLists.get(e,n);if(p.begin(),this._projectObject(e,n,0,p,d.clippingContext),r!==e&&r.traverseVisible(function(C){C.isLight&&C.layers.test(n.layers)&&p.pushLight(C)}),p.finish(),u!==null){this._textures.updateRenderTarget(u,f);const C=this._textures.get(u);d.textures=C.textures,d.depthTexture=C.depthTexture}else d.textures=null,d.depthTexture=null;this._background.update(c,p,d);const x=p.opaque,b=p.transparent,y=p.transparentDoublePass,_=p.lightsNode;this.opaque===!0&&x.length>0&&this._renderObjects(x,n,c,_),this.transparent===!0&&b.length>0&&this._renderTransparents(b,y,n,c,_),i.renderId=o,this._currentRenderContext=a,this._currentRenderObjectFunction=s,this._compilationPromises=l,this._handleObjectFunction=this._renderObjectDirect,await Promise.all(h)}async renderAsync(e,n){Ai('Renderer: "renderAsync()" has been deprecated. Use "render()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.render(e,n)}async waitForGPU(){$t("Renderer: waitForGPU() has been removed. Read https://github.com/mrdoob/three.js/issues/32012 for more information.")}set inspector(e){this._inspector!==null&&this._inspector.setRenderer(null),this._inspector=e,this._inspector.setRenderer(this)}get inspector(){return this._inspector}set highPrecision(e){const n=this.contextNode.value;e===!0?(n.modelViewMatrix=p6,n.modelNormalViewMatrix=m6):this.highPrecision&&(delete n.modelViewMatrix,delete n.modelNormalViewMatrix)}get highPrecision(){const e=this.contextNode.value;return e.modelViewMatrix===p6&&e.modelNormalViewMatrix===m6}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}getOutputBufferType(){return this._outputBufferType}getColorBufferType(){return Ai('Renderer: ".getColorBufferType()" has been renamed to ".getOutputBufferType()".'),this.getOutputBufferType()}_onDeviceLost(e){let n=`THREE.WebGPURenderer: ${e.api} Device Lost:

Message: ${e.message}`;e.reason&&(n+=`
Reason: ${e.reason}`),$t(n),this._isDeviceLost=!0}_renderBundle(e,n,r){const{bundleGroup:i,camera:o,renderList:a}=e,s=this._currentRenderContext,l=this._bundles.get(i,o),c=this.backend.get(l);c.renderContexts===void 0&&(c.renderContexts=new Set);const u=i.version!==c.version,d=c.renderContexts.has(s)===!1||u;if(c.renderContexts.add(s),d){this.backend.beginBundle(s),(c.renderObjects===void 0||u)&&(c.renderObjects=[]),this._currentRenderBundle=l;const{transparentDoublePass:f,transparent:h,opaque:p}=a;this.opaque===!0&&p.length>0&&this._renderObjects(p,o,n,r),this.transparent===!0&&h.length>0&&this._renderTransparents(h,f,o,n,r),this._currentRenderBundle=null,this.backend.finishBundle(s,l),c.version=i.version}else{const{renderObjects:f}=c;for(let h=0,p=f.length;h<p;h++){const x=f[h];this._nodes.needsRefresh(x)&&(this._nodes.updateBefore(x),this._nodes.updateForRender(x),this._bindings.updateForRender(x),this._nodes.updateAfter(x))}}this.backend.addBundle(s,l)}render(e,n){if(this._initialized===!1)throw new Error('Renderer: .render() called before the backend is initialized. Use "await renderer.init();" before rendering.');this._renderScene(e,n)}get initialized(){return this._initialized}_getFrameBufferTarget(){const{currentToneMapping:e,currentColorSpace:n}=this,r=e!==Ca,i=n!==Xn.workingColorSpace;if(r===!1&&i===!1)return null;const{width:o,height:a}=this.getDrawingBufferSize(wg),{depth:s,stencil:l}=this;let c=this._frameBufferTarget;c===null&&(c=new Tf(o,a,{depthBuffer:s,stencilBuffer:l,type:this._outputBufferType,format:_o,colorSpace:Xn.workingColorSpace,generateMipmaps:!1,minFilter:Di,magFilter:Di,samples:this.samples}),c.isPostProcessingRenderTarget=!0,this._frameBufferTarget=c);const u=this.getOutputRenderTarget();c.depthBuffer=s,c.stencilBuffer=l,u!==null?c.setSize(u.width,u.height,u.depth):c.setSize(o,a,1);const d=this._canvasTarget;return c.viewport.copy(d._viewport),c.scissor.copy(d._scissor),c.viewport.multiplyScalar(d._pixelRatio),c.scissor.multiplyScalar(d._pixelRatio),c.scissorTest=d._scissorTest,c.multiview=u!==null?u.multiview:!1,c.resolveDepthBuffer=u!==null?u.resolveDepthBuffer:!0,c._autoAllocateDepthBuffer=u!==null?u._autoAllocateDepthBuffer:!1,c}_renderScene(e,n,r=!0){if(this._isDeviceLost===!0)return;const i=r?this._getFrameBufferTarget():null,o=this._nodes.nodeFrame,a=o.renderId,s=this._currentRenderContext,l=this._currentRenderObjectFunction,c=e.isScene===!0?e:yW,u=this._renderTarget||this._outputRenderTarget,d=this._activeCubeFace,f=this._activeMipmapLevel;let h;i!==null?(h=i,this.setRenderTarget(h)):h=u;const p=this._renderContexts.get(e,n,h,this._mrt);this._currentRenderContext=p,this._currentRenderObjectFunction=this._renderObjectFunction||this.renderObject,this.info.calls++,this.info.render.calls++,this.info.render.frameCalls++,o.renderId=this.info.calls,this.backend.updateTimeStampUID(p),this.inspector.beginRender(this.backend.getTimestampUID(p),e,n,h);const x=this.coordinateSystem,b=this.xr;if(n.coordinateSystem!==x&&b.isPresenting===!1&&(n.coordinateSystem=x,n.updateProjectionMatrix(),n.isArrayCamera))for(const U of n.cameras)U.coordinateSystem=x,U.updateProjectionMatrix();e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld(),n.parent===null&&n.matrixWorldAutoUpdate===!0&&n.updateMatrixWorld(),b.enabled===!0&&b.isPresenting===!0&&(b.cameraAutoUpdate===!0&&b.updateCamera(n),n=b.getCamera());const y=this._canvasTarget;let _=y._viewport,C=y._scissor,E=y._pixelRatio;h!==null&&(_=h.viewport,C=h.scissor,E=1),this.getDrawingBufferSize(wg),lI.set(0,0,wg.width,wg.height);const M=_.minDepth===void 0?0:_.minDepth,R=_.maxDepth===void 0?1:_.maxDepth;p.viewportValue.copy(_).multiplyScalar(E).floor(),p.viewportValue.width>>=f,p.viewportValue.height>>=f,p.viewportValue.minDepth=M,p.viewportValue.maxDepth=R,p.viewport=p.viewportValue.equals(lI)===!1,p.scissorValue.copy(C).multiplyScalar(E).floor(),p.scissor=y._scissorTest&&p.scissorValue.equals(lI)===!1,p.scissorValue.width>>=f,p.scissorValue.height>>=f,p.clippingContext||(p.clippingContext=new WE),p.clippingContext.updateGlobal(c,n),c.onBeforeRender(this,e,n,h);const N=n.isArrayCamera?uI:cI;n.isArrayCamera||(Tw.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),N.setFromProjectionMatrix(Tw,n.coordinateSystem,n.reversedDepth));const O=this._renderLists.get(e,n);if(O.begin(),this._projectObject(e,n,0,O,p.clippingContext),O.finish(),this.sortObjects===!0&&O.sort(this._opaqueSort,this._transparentSort),h!==null){this._textures.updateRenderTarget(h,f);const U=this._textures.get(h);p.textures=U.textures,p.depthTexture=U.depthTexture,p.width=U.width,p.height=U.height,p.renderTarget=h,p.depth=h.depthBuffer,p.stencil=h.stencilBuffer}else p.textures=null,p.depthTexture=null,p.width=wg.width,p.height=wg.height,p.depth=this.depth,p.stencil=this.stencil;p.width>>=f,p.height>>=f,p.activeCubeFace=d,p.activeMipmapLevel=f,p.occlusionQueryCount=O.occlusionQueryCount,p.scissorValue.max(Od.set(0,0,0,0)),p.scissorValue.x+p.scissorValue.width>p.width&&(p.scissorValue.width=Math.max(p.width-p.scissorValue.x,0)),p.scissorValue.y+p.scissorValue.height>p.height&&(p.scissorValue.height=Math.max(p.height-p.scissorValue.y,0)),this._background.update(c,O,p),p.camera=n,this.backend.beginRender(p);const{bundles:I,lightsNode:L,transparentDoublePass:F,transparent:$,opaque:V}=O;return I.length>0&&this._renderBundles(I,c,L),this.opaque===!0&&V.length>0&&this._renderObjects(V,n,c,L),this.transparent===!0&&$.length>0&&this._renderTransparents($,F,n,c,L),this.backend.finishRender(p),o.renderId=a,this._currentRenderContext=s,this._currentRenderObjectFunction=l,i!==null&&(this.setRenderTarget(u,d,f),this._renderOutput(h)),c.onAfterRender(this,e,n,h),this.inspector.finishRender(this.backend.getTimestampUID(p)),p}_setXRLayerSize(e,n){this._canvasTarget._width=e,this._canvasTarget._height=n,this.setViewport(0,0,e,n)}_renderOutput(e){const n=this._quad;this._nodes.hasOutputChange(e.texture)&&(n.material.fragmentNode=this._nodes.getOutputNode(e.texture),n.material.needsUpdate=!0);const r=this.autoClear,i=this.xr.enabled;this.autoClear=!1,this.xr.enabled=!1,this._renderScene(n,n.camera,!1),this.autoClear=r,this.xr.enabled=i}getMaxAnisotropy(){return this.backend.getMaxAnisotropy()}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}async setAnimationLoop(e){this._initialized===!1&&await this.init(),this._animation.setAnimationLoop(e)}getAnimationLoop(){return this._animation.getAnimationLoop()}async getArrayBufferAsync(e){return await this.backend.getArrayBufferAsync(e)}getContext(){return this.backend.getContext()}getPixelRatio(){return this._canvasTarget.getPixelRatio()}getDrawingBufferSize(e){return this._canvasTarget.getDrawingBufferSize(e)}getSize(e){return this._canvasTarget.getSize(e)}setPixelRatio(e=1){this._canvasTarget.setPixelRatio(e)}setDrawingBufferSize(e,n,r){this.xr&&this.xr.isPresenting||this._canvasTarget.setDrawingBufferSize(e,n,r)}setSize(e,n,r=!0){this.xr&&this.xr.isPresenting||this._canvasTarget.setSize(e,n,r)}setOpaqueSort(e){this._opaqueSort=e}setTransparentSort(e){this._transparentSort=e}getScissor(e){return this._canvasTarget.getScissor(e)}setScissor(e,n,r,i){this._canvasTarget.setScissor(e,n,r,i)}getScissorTest(){return this._canvasTarget.getScissorTest()}setScissorTest(e){this._canvasTarget.setScissorTest(e),this.backend.setScissorTest(e)}getViewport(e){return this._canvasTarget.getViewport(e)}setViewport(e,n,r,i,o=0,a=1){this._canvasTarget.setViewport(e,n,r,i,o,a)}getClearColor(e){return e.copy(this._clearColor)}setClearColor(e,n=1){this._clearColor.set(e),this._clearColor.a=n}getClearAlpha(){return this._clearColor.a}setClearAlpha(e){this._clearColor.a=e}getClearDepth(){return this._clearDepth}setClearDepth(e){this._clearDepth=e}getClearStencil(){return this._clearStencil}setClearStencil(e){this._clearStencil=e}isOccluded(e){const n=this._currentRenderContext;return n&&this.backend.isOccluded(n,e)}clear(e=!0,n=!0,r=!0){if(this._initialized===!1)throw new Error('Renderer: .clear() called before the backend is initialized. Use "await renderer.init();" before before using this method.');const i=this._renderTarget||this._getFrameBufferTarget();let o=null;if(i!==null){this._textures.updateRenderTarget(i);const a=this._textures.get(i);o=this._renderContexts.getForClear(i),o.textures=a.textures,o.depthTexture=a.depthTexture,o.width=a.width,o.height=a.height,o.renderTarget=i,o.depth=i.depthBuffer,o.stencil=i.stencilBuffer,o.clearColorValue=this.backend.getClearColor(),o.activeCubeFace=this.getActiveCubeFace(),o.activeMipmapLevel=this.getActiveMipmapLevel()}this.backend.clear(e,n,r,o),i!==null&&this._renderTarget===null&&this._renderOutput(i)}clearColor(){this.clear(!0,!1,!1)}clearDepth(){this.clear(!1,!0,!1)}clearStencil(){this.clear(!1,!1,!0)}async clearAsync(e=!0,n=!0,r=!0){Ai('Renderer: "clearAsync()" has been deprecated. Use "clear()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.clear(e,n,r)}async clearColorAsync(){Ai('Renderer: "clearColorAsync()" has been deprecated. Use "clearColor()" and "await renderer.init();" when creating the renderer.'),this.clear(!0,!1,!1)}async clearDepthAsync(){Ai('Renderer: "clearDepthAsync()" has been deprecated. Use "clearDepth()" and "await renderer.init();" when creating the renderer.'),this.clear(!1,!0,!1)}async clearStencilAsync(){Ai('Renderer: "clearStencilAsync()" has been deprecated. Use "clearStencil()" and "await renderer.init();" when creating the renderer.'),this.clear(!1,!1,!0)}get needsFrameBufferTarget(){const e=this.currentToneMapping!==Ca,n=this.currentColorSpace!==Xn.workingColorSpace;return e||n}get samples(){return this._samples}get currentSamples(){let e=this._samples;return this._renderTarget!==null?e=this._renderTarget.samples:this.needsFrameBufferTarget&&(e=0),e}get currentToneMapping(){return this.isOutputTarget?this.toneMapping:Ca}get currentColorSpace(){return this.isOutputTarget?this.outputColorSpace:Xn.workingColorSpace}get isOutputTarget(){return this._renderTarget===this._outputRenderTarget||this._renderTarget===null}dispose(){this._initialized===!0&&(this.info.dispose(),this.backend.dispose(),this._animation.dispose(),this._objects.dispose(),this._geometries.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),this._frameBufferTarget!==null&&this._frameBufferTarget.dispose(),Object.values(this.backend.timestampQueryPool).forEach(e=>{e!==null&&e.dispose()})),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(e,n=0,r=0){this._renderTarget=e,this._activeCubeFace=n,this._activeMipmapLevel=r}getRenderTarget(){return this._renderTarget}setOutputRenderTarget(e){this._outputRenderTarget=e}getOutputRenderTarget(){return this._outputRenderTarget}setCanvasTarget(e){this._canvasTarget.removeEventListener("resize",this._onCanvasTargetResize),this._canvasTarget=e,this._canvasTarget.addEventListener("resize",this._onCanvasTargetResize)}getCanvasTarget(){return this._canvasTarget}_resetXRState(){this.backend.setXRTarget(null),this.setOutputRenderTarget(null),this.setRenderTarget(null),this._frameBufferTarget.dispose(),this._frameBufferTarget=null}setRenderObjectFunction(e){this._renderObjectFunction=e}getRenderObjectFunction(){return this._renderObjectFunction}compute(e,n=null){if(this._isDeviceLost===!0)return;if(this._initialized===!1)return Pt("Renderer: .compute() called before the backend is initialized. Try using .computeAsync() instead."),this.computeAsync(e,n);const r=this._nodes.nodeFrame,i=r.renderId;this.info.calls++,this.info.compute.calls++,this.info.compute.frameCalls++,r.renderId=this.info.calls,this.backend.updateTimeStampUID(e),this.inspector.beginCompute(this.backend.getTimestampUID(e),e);const o=this.backend,a=this._pipelines,s=this._bindings,l=this._nodes,c=Array.isArray(e)?e:[e];if(c[0]===void 0||c[0].isComputeNode!==!0)throw new Error("THREE.Renderer: .compute() expects a ComputeNode.");o.beginCompute(e);for(const u of c){if(a.has(u)===!1){const h=()=>{u.removeEventListener("dispose",h),a.delete(u),s.deleteForCompute(u),l.delete(u)};u.addEventListener("dispose",h);const p=u.onInitFunction;p!==null&&p.call(u,{renderer:this})}l.updateForCompute(u),s.updateForCompute(u);const d=s.getForCompute(u),f=a.getForCompute(u,d);o.compute(e,u,d,f,n)}o.finishCompute(e),r.renderId=i,this.inspector.finishCompute(this.backend.getTimestampUID(e))}async computeAsync(e,n=null){this._initialized===!1&&await this.init(),this.compute(e,n)}async hasFeatureAsync(e){return Ai('Renderer: "hasFeatureAsync()" has been deprecated. Use "hasFeature()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.hasFeature(e)}async resolveTimestampsAsync(e="render"){return this._initialized===!1&&await this.init(),this.backend.resolveTimestampsAsync(e)}hasFeature(e){if(this._initialized===!1)throw new Error('Renderer: .hasFeature() called before the backend is initialized. Use "await renderer.init();" before before using this method.');return this.backend.hasFeature(e)}hasInitialized(){return this._initialized}async initTextureAsync(e){Ai('Renderer: "initTextureAsync()" has been deprecated. Use "initTexture()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.initTexture(e)}initTexture(e){if(this._initialized===!1)throw new Error('Renderer: .initTexture() called before the backend is initialized. Use "await renderer.init();" before before using this method.');this._textures.updateTexture(e)}copyFramebufferToTexture(e,n=null){if(n!==null)if(n.isVector2)n=Od.set(n.x,n.y,e.image.width,e.image.height).floor();else if(n.isVector4)n=Od.copy(n).floor();else{$t("Renderer.copyFramebufferToTexture: Invalid rectangle.");return}else n=Od.set(0,0,e.image.width,e.image.height);let r=this._currentRenderContext,i;r!==null?i=r.renderTarget:(i=this._renderTarget||this._getFrameBufferTarget(),i!==null&&(this._textures.updateRenderTarget(i),r=this._textures.get(i))),this._textures.updateTexture(e,{renderTarget:i}),this.backend.copyFramebufferToTexture(e,r,n),this._inspector.copyFramebufferToTexture(e)}copyTextureToTexture(e,n,r=null,i=null,o=0,a=0){this._textures.updateTexture(e),this._textures.updateTexture(n),this.backend.copyTextureToTexture(e,n,r,i,o,a),this._inspector.copyTextureToTexture(e,n)}async readRenderTargetPixelsAsync(e,n,r,i,o,a=0,s=0){return this.backend.copyTextureToBuffer(e.textures[a],n,r,i,o,s)}_projectObject(e,n,r,i,o){if(e.visible===!1)return;if(e.layers.test(n.layers)){if(e.isGroup)r=e.renderOrder,e.isClippingGroup&&e.enabled&&(o=o.getGroupContext(e));else if(e.isLOD)e.autoUpdate===!0&&e.update(n);else if(e.isLight)i.pushLight(e);else if(e.isSprite){const l=n.isArrayCamera?uI:cI;if(!e.frustumCulled||l.intersectsSprite(e,n)){this.sortObjects===!0&&Od.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Tw);const{geometry:c,material:u}=e;u.visible&&i.push(e,c,u,r,Od.z,null,o)}}else if(e.isLineLoop)$t("Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if(e.isMesh||e.isLine||e.isPoints){const l=n.isArrayCamera?uI:cI;if(!e.frustumCulled||l.intersectsObject(e,n)){const{geometry:c,material:u}=e;if(this.sortObjects===!0&&(c.boundingSphere===null&&c.computeBoundingSphere(),Od.copy(c.boundingSphere.center).applyMatrix4(e.matrixWorld).applyMatrix4(Tw)),Array.isArray(u)){const d=c.groups;for(let f=0,h=d.length;f<h;f++){const p=d[f],x=u[p.materialIndex];x&&x.visible&&i.push(e,c,x,r,Od.z,p,o)}}else u.visible&&i.push(e,c,u,r,Od.z,null,o)}}}if(e.isBundleGroup===!0&&this.backend.beginBundle!==void 0){const l=i;i=this._renderLists.get(e,n),i.begin(),l.pushBundle({bundleGroup:e,camera:n,renderList:i}),i.finish()}const s=e.children;for(let l=0,c=s.length;l<c;l++)this._projectObject(s[l],n,r,i,o)}_renderBundles(e,n,r){for(const i of e)this._renderBundle(i,n,r)}_renderTransparents(e,n,r,i,o){if(n.length>0){for(const{material:a}of n)a.side=ui;this._renderObjects(n,r,i,o,"backSide");for(const{material:a}of n)a.side=Nl;this._renderObjects(e,r,i,o);for(const{material:a}of n)a.side=To}else this._renderObjects(e,r,i,o)}_renderObjects(e,n,r,i,o=null){for(let a=0,s=e.length;a<s;a++){const{object:l,geometry:c,material:u,group:d,clippingContext:f}=e[a];this._currentRenderObjectFunction(l,r,n,c,u,d,i,f,o)}}_getShadowNodes(e){const n=e.version;let r=this._cacheShadowNodes.get(e);if(r===void 0||r.version!==n){const i=e.map!==null,o=e.colorNode&&e.colorNode.isNode,a=e.castShadowNode&&e.castShadowNode.isNode;let s=null,l=null,c=null;if(i||o||a){let u,d;a?(u=e.castShadowNode.rgb,d=e.castShadowNode.a):(u=He(0),d=ge(1)),i&&(d=d.mul(ai("map","texture",e).a)),o&&(d=d.mul(e.colorNode.a)),l=Fn(u,d)}e.depthNode&&e.depthNode.isNode&&(c=e.depthNode),e.castShadowPositionNode&&e.castShadowPositionNode.isNode?s=e.castShadowPositionNode:e.positionNode&&e.positionNode.isNode&&(s=e.positionNode),r={version:n,colorNode:l,depthNode:c,positionNode:s},this._cacheShadowNodes.set(e,r)}return r}renderObject(e,n,r,i,o,a,s,l=null,c=null){let u=!1,d,f,h,p;if(e.onBeforeRender(this,n,r,i,o,a),o.allowOverride===!0&&n.overrideMaterial!==null){const x=n.overrideMaterial;if(u=!0,d=n.overrideMaterial.colorNode,f=n.overrideMaterial.depthNode,h=n.overrideMaterial.positionNode,p=n.overrideMaterial.side,o.positionNode&&o.positionNode.isNode&&(x.positionNode=o.positionNode),x.alphaTest=o.alphaTest,x.alphaMap=o.alphaMap,x.transparent=o.transparent||o.transmission>0||o.transmissionNode&&o.transmissionNode.isNode||o.backdropNode&&o.backdropNode.isNode,x.isShadowPassMaterial){const{colorNode:b,depthNode:y,positionNode:_}=this._getShadowNodes(o);x.side=o.shadowSide===null?o.side:o.shadowSide,b!==null&&(x.colorNode=b),y!==null&&(x.depthNode=y),_!==null&&(x.positionNode=_)}o=x}o.transparent===!0&&o.side===To&&o.forceSinglePass===!1?(o.side=ui,this._handleObjectFunction(e,o,n,r,s,a,l,"backSide"),o.side=Nl,this._handleObjectFunction(e,o,n,r,s,a,l,c),o.side=To):this._handleObjectFunction(e,o,n,r,s,a,l,c),u&&(n.overrideMaterial.colorNode=d,n.overrideMaterial.depthNode=f,n.overrideMaterial.positionNode=h,n.overrideMaterial.side=p),e.onAfterRender(this,n,r,i,o,a)}_renderObjectDirect(e,n,r,i,o,a,s,l){const c=this._objects.get(e,n,r,i,o,this._currentRenderContext,s,l);c.drawRange=e.geometry.drawRange,c.group=a;const u=this._nodes.needsRefresh(c);u&&(this._nodes.updateBefore(c),this._geometries.updateForRender(c),this._nodes.updateForRender(c),this._bindings.updateForRender(c)),this._pipelines.updateForRender(c),this._currentRenderBundle!==null&&(this.backend.get(this._currentRenderBundle).renderObjects.push(c),c.bundle=this._currentRenderBundle.bundleGroup),this.backend.draw(c,this.info),u&&this._nodes.updateAfter(c)}_createObjectPipeline(e,n,r,i,o,a,s,l){const c=this._objects.get(e,n,r,i,o,this._currentRenderContext,s,l);c.drawRange=e.geometry.drawRange,c.group=a,this._nodes.updateBefore(c),this._geometries.updateForRender(c),this._nodes.updateForRender(c),this._bindings.updateForRender(c),this._pipelines.getForRender(c,this._compilationPromises),this._nodes.updateAfter(c)}_onCanvasTargetResize(){this._initialized&&this.backend.updateSize()}get compile(){return this.compileAsync}}class Oue{constructor(e=""){this.name=e,this.visibility=0}setVisibility(e){this.visibility|=e}getVisibility(){return this.visibility}clone(){return Object.assign(new this.constructor,this)}}function qrt(t){return t+(mh-t%mh)%mh}class Lue extends Oue{constructor(e,n=null){super(e),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=n,this._updateRanges=[]}get updateRanges(){return this._updateRanges}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}get byteLength(){return qrt(this._buffer.byteLength)}get buffer(){return this._buffer}update(){return!0}}class Bue extends Lue{constructor(e,n=null){super(e,n),this.isUniformBuffer=!0}}let Wrt=0;class Fue extends Bue{constructor(e,n){super("UniformBuffer_"+Wrt++,e?e.value:null),this.nodeUniform=e,this.groupNode=n,this.isNodeUniformBuffer=!0}set updateRanges(e){this.nodeUniform.updateRanges=e}get updateRanges(){return this.nodeUniform.updateRanges}addUpdateRange(e,n){this.nodeUniform.addUpdateRange(e,n)}clearUpdateRanges(){this.nodeUniform.clearUpdateRanges()}get buffer(){return this.nodeUniform.value}}class Xrt extends Bue{constructor(e){super(e),this.isUniformsGroup=!0,this._values=null,this.uniforms=[]}addUniform(e){return this.uniforms.push(e),this}removeUniform(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}get values(){return this._values===null&&(this._values=Array.from(this.buffer)),this._values}get buffer(){let e=this._buffer;if(e===null){const n=this.byteLength;e=new Float32Array(new ArrayBuffer(n)),this._buffer=e}return e}get byteLength(){const e=this.bytesPerElement;let n=0;for(let r=0,i=this.uniforms.length;r<i;r++){const o=this.uniforms[r],a=o.boundary,s=o.itemSize*e,l=n%mh,c=l%a,u=l+c;n+=c,u!==0&&mh-u<s&&(n+=mh-u),o.offset=n/e,n+=s}return Math.ceil(n/mh)*mh}update(){let e=!1;for(const n of this.uniforms)this.updateByType(n)===!0&&(e=!0);return e}updateByType(e){if(e.isNumberUniform)return this.updateNumber(e);if(e.isVector2Uniform)return this.updateVector2(e);if(e.isVector3Uniform)return this.updateVector3(e);if(e.isVector4Uniform)return this.updateVector4(e);if(e.isColorUniform)return this.updateColor(e);if(e.isMatrix3Uniform)return this.updateMatrix3(e);if(e.isMatrix4Uniform)return this.updateMatrix4(e);$t("WebGPUUniformsGroup: Unsupported uniform type.",e)}updateNumber(e){let n=!1;const r=this.values,i=e.getValue(),o=e.offset,a=e.getType();if(r[o]!==i){const s=this._getBufferForType(a);s[o]=r[o]=i,n=!0}return n}updateVector2(e){let n=!1;const r=this.values,i=e.getValue(),o=e.offset,a=e.getType();if(r[o+0]!==i.x||r[o+1]!==i.y){const s=this._getBufferForType(a);s[o+0]=r[o+0]=i.x,s[o+1]=r[o+1]=i.y,n=!0}return n}updateVector3(e){let n=!1;const r=this.values,i=e.getValue(),o=e.offset,a=e.getType();if(r[o+0]!==i.x||r[o+1]!==i.y||r[o+2]!==i.z){const s=this._getBufferForType(a);s[o+0]=r[o+0]=i.x,s[o+1]=r[o+1]=i.y,s[o+2]=r[o+2]=i.z,n=!0}return n}updateVector4(e){let n=!1;const r=this.values,i=e.getValue(),o=e.offset,a=e.getType();if(r[o+0]!==i.x||r[o+1]!==i.y||r[o+2]!==i.z||r[o+4]!==i.w){const s=this._getBufferForType(a);s[o+0]=r[o+0]=i.x,s[o+1]=r[o+1]=i.y,s[o+2]=r[o+2]=i.z,s[o+3]=r[o+3]=i.w,n=!0}return n}updateColor(e){let n=!1;const r=this.values,i=e.getValue(),o=e.offset;if(r[o+0]!==i.r||r[o+1]!==i.g||r[o+2]!==i.b){const a=this.buffer;a[o+0]=r[o+0]=i.r,a[o+1]=r[o+1]=i.g,a[o+2]=r[o+2]=i.b,n=!0}return n}updateMatrix3(e){let n=!1;const r=this.values,i=e.getValue().elements,o=e.offset;if(r[o+0]!==i[0]||r[o+1]!==i[1]||r[o+2]!==i[2]||r[o+4]!==i[3]||r[o+5]!==i[4]||r[o+6]!==i[5]||r[o+8]!==i[6]||r[o+9]!==i[7]||r[o+10]!==i[8]){const a=this.buffer;a[o+0]=r[o+0]=i[0],a[o+1]=r[o+1]=i[1],a[o+2]=r[o+2]=i[2],a[o+4]=r[o+4]=i[3],a[o+5]=r[o+5]=i[4],a[o+6]=r[o+6]=i[5],a[o+8]=r[o+8]=i[6],a[o+9]=r[o+9]=i[7],a[o+10]=r[o+10]=i[8],n=!0}return n}updateMatrix4(e){let n=!1;const r=this.values,i=e.getValue().elements,o=e.offset;return Krt(r,i,o)===!1&&(this.buffer.set(i,o),Yrt(r,i,o),n=!0),n}_getBufferForType(e){return e==="int"||e==="ivec2"||e==="ivec3"||e==="ivec4"?new Int32Array(this.buffer.buffer):e==="uint"||e==="uvec2"||e==="uvec3"||e==="uvec4"?new Uint32Array(this.buffer.buffer):this.buffer}}function Yrt(t,e,n){for(let r=0,i=e.length;r<i;r++)t[n+r]=e[r]}function Krt(t,e,n){for(let r=0,i=e.length;r<i;r++)if(t[n+r]!==e[r])return!1;return!0}let Qrt=0;class $ue extends Xrt{constructor(e,n){super(e),this.id=Qrt++,this.groupNode=n,this.isNodeUniformsGroup=!0}}class Uue extends Oue{constructor(e,n){super(e),this._texture=null,this._onTextureDispose=()=>{this.generation=null,this.version=0},this.texture=n,this.version=n?n.version:0,this.generation=null,this.samplerKey="",this.isSampler=!0}set texture(e){this._texture!==e&&(this._texture&&this._texture.removeEventListener("dispose",this._onTextureDispose),this._texture=e,this.generation=null,this.version=0,this._texture&&this._texture.addEventListener("dispose",this._onTextureDispose))}get texture(){return this._texture}update(){const{texture:e,version:n}=this;return n!==e.version?(this.version=e.version,!0):!1}clone(){const e=super.clone();return e._texture=null,e._onTextureDispose=()=>{e.generation=null,e.version=0},e.texture=this.texture,e}}let Zrt=0;class Jrt extends Uue{constructor(e,n){super(e,n),this.id=Zrt++,this.store=!1,this.mipLevel=0,this.isSampledTexture=!0}}class _R extends Jrt{constructor(e,n,r,i=null){super(e,n?n.value:null),this.textureNode=n,this.groupNode=r,this.access=i}update(){const{textureNode:e}=this;return this.texture!==e.value?(this.texture=e.value,!0):super.update()}}class kue extends _R{constructor(e,n,r,i=null){super(e,n,r,i),this.isSampledCubeTexture=!0}}class R6 extends _R{constructor(e,n,r,i=null){super(e,n,r,i),this.isSampledTexture3D=!0}}const bW={bitcast_int_uint:new ia("uint tsl_bitcast_int_to_uint ( int x ) { return floatBitsToUint( intBitsToFloat ( x ) ); }"),bitcast_uint_int:new ia("uint tsl_bitcast_uint_to_int ( uint x ) { return floatBitsToInt( uintBitsToFloat ( x ) ); }")},eit={textureDimensions:"textureSize",equals:"equal",bitcast_float_int:"floatBitsToInt",bitcast_int_float:"intBitsToFloat",bitcast_uint_float:"uintBitsToFloat",bitcast_float_uint:"floatBitsToUint",bitcast_uint_int:"tsl_bitcast_uint_to_int",bitcast_int_uint:"tsl_bitcast_int_to_uint",floatpack_snorm_2x16:"packSnorm2x16",floatpack_unorm_2x16:"packUnorm2x16",floatpack_float16_2x16:"packHalf2x16",floatunpack_snorm_2x16:"unpackSnorm2x16",floatunpack_unorm_2x16:"unpackUnorm2x16",floatunpack_float16_2x16:"unpackHalf2x16"},tit={low:"lowp",medium:"mediump",high:"highp"},xW={swizzleAssign:!0,storageBuffer:!1},SW={perspective:"smooth",linear:"noperspective"},_W={centroid:"centroid"},wW=`
precision highp float;
precision highp int;
precision highp sampler2D;
precision highp sampler3D;
precision highp samplerCube;
precision highp sampler2DArray;

precision highp usampler2D;
precision highp usampler3D;
precision highp usamplerCube;
precision highp usampler2DArray;

precision highp isampler2D;
precision highp isampler3D;
precision highp isamplerCube;
precision highp isampler2DArray;

precision lowp sampler2DShadow;
precision lowp sampler2DArrayShadow;
precision lowp samplerCubeShadow;
`;class nit extends Nue{constructor(e,n){super(e,n,new Prt),this.uniformGroups={},this.transforms=[],this.extensions={},this.builtins={vertex:[],fragment:[],compute:[]}}needsToWorkingColorSpace(e){return e.isVideoTexture===!0&&e.colorSpace!==Hs}_include(e){const n=bW[e];return n.build(this),this.addInclude(n),n}getMethod(e){return bW[e]!==void 0&&this._include(e),eit[e]||e}getBitcastMethod(e,n){return this.getMethod(`bitcast_${n}_${e}`)}getFloatPackingMethod(e){return this.getMethod(`floatpack_${e}_2x16`)}getFloatUnpackingMethod(e){return this.getMethod(`floatunpack_${e}_2x16`)}getTernary(e,n,r){return`${e} ? ${n} : ${r}`}getOutputStructName(){return""}buildFunctionCode(e){const n=e.layout,r=this.flowShaderNode(e),i=[];for(const a of n.inputs)i.push(this.getType(a.type)+" "+a.name);return`${this.getType(n.type)} ${n.name}( ${i.join(", ")} ) {

	${r.vars}

${r.code}
	return ${r.result};

}`}setupPBO(e){const n=e.value;if(n.pbo===void 0){const r=n.array,i=n.count*n.itemSize,{itemSize:o}=n,a=n.array.constructor.name.toLowerCase().includes("int");let s=a?ly:U2;o===2?s=a?cy:_s:o===3?s=a?Z8e:$2:o===4&&(s=a?uy:_o);const l={Float32Array:xo,Uint8Array:Fi,Uint16Array:eu,Uint32Array:li,Int8Array:Rm,Int16Array:Pm,Int32Array:sa,Uint8ClampedArray:Fi},c=Math.pow(2,Math.ceil(Math.log2(Math.sqrt(i/o))));let u=Math.ceil(i/o/c);c*u*o<i&&u++;const d=c*u*o,f=new r.constructor(d);f.set(r,0),n.array=f;const h=new fF(n.array,c,u,s,l[n.array.constructor.name]||xo);h.needsUpdate=!0,h.isPBOTexture=!0;const p=new Ad(h,null,null);p.setPrecision("high"),n.pboNode=p,n.pbo=p.value,this.getUniformFromNode(n.pboNode,"texture",this.shaderStage,this.context.nodeName)}}getPropertyName(e,n=this.shaderStage){return e.isNodeUniform&&e.node.isTextureNode!==!0&&e.node.isBufferNode!==!0?n.charAt(0)+"_"+e.name:super.getPropertyName(e,n)}generatePBO(e){const{node:n,indexNode:r}=e,i=n.value;if(this.renderer.backend.has(i)){const u=this.renderer.backend.get(i);u.pbo=i.pbo}const o=this.getUniformFromNode(i.pboNode,"texture",this.shaderStage,this.context.nodeName),a=this.getPropertyName(o);this.increaseUsage(r);const s=r.build(this,"uint"),l=this.getDataFromNode(e);let c=l.propertyName;if(c===void 0){const u=this.getVarFromNode(e);c=this.getPropertyName(u);const d=this.getDataFromNode(n);let f=d.propertySizeName;f===void 0&&(f=c+"Size",this.getVarFromNode(n,f,"uint"),this.addLineFlowCode(`${f} = uint( textureSize( ${a}, 0 ).x )`,e),d.propertySizeName=f);const{itemSize:h}=i,p="."+b0.join("").slice(0,h),x=`ivec2(${s} % ${f}, ${s} / ${f})`,b=this.generateTextureLoad(null,a,x,"0",null,null);let y="vec4";i.pbo.type===li?y="uvec4":i.pbo.type===sa&&(y="ivec4"),this.addLineFlowCode(`${c} = ${y}(${b})${p}`,e),l.propertyName=c}return c}generateTextureLoad(e,n,r,i,o,a){i===null&&(i="0");let s;return o?a?s=`texelFetchOffset( ${n}, ivec3( ${r}, ${o} ), ${i}, ${a} )`:s=`texelFetch( ${n}, ivec3( ${r}, ${o} ), ${i} )`:a?s=`texelFetchOffset( ${n}, ${r}, ${i}, ${a} )`:s=`texelFetch( ${n}, ${r}, ${i} )`,e!==null&&e.isDepthTexture&&(s+=".x"),s}generateTexture(e,n,r,i,o){return i&&(r=`vec3( ${r}, ${i} )`),e.isDepthTexture?o?`textureOffset( ${n}, ${r}, ${o} ).x`:`texture( ${n}, ${r} ).x`:o?`textureOffset( ${n}, ${r}, ${o} )`:`texture( ${n}, ${r} )`}generateTextureLevel(e,n,r,i,o){return o?`textureLodOffset( ${n}, ${r}, ${i}, ${o} )`:`textureLod( ${n}, ${r}, ${i} )`}generateTextureBias(e,n,r,i,o){return o?`textureOffset( ${n}, ${r}, ${o}, ${i} )`:`texture( ${n}, ${r}, ${i} )`}generateTextureGrad(e,n,r,i,o){return o?`textureGradOffset( ${n}, ${r}, ${i[0]}, ${i[1]}, ${o} )`:`textureGrad( ${n}, ${r}, ${i[0]}, ${i[1]} )`}generateTextureCompare(e,n,r,i,o,a,s=this.shaderStage){if(s==="fragment")return e.isCubeTexture?`texture( ${n}, vec4( ${r}, ${i} ) )`:o?a?`textureOffset( ${n}, vec4( ${r}, ${o}, ${i} ), ${a} )`:`texture( ${n}, vec4( ${r}, ${o}, ${i} ) )`:a?`textureOffset( ${n}, vec3( ${r}, ${i} ), ${a} )`:`texture( ${n}, vec3( ${r}, ${i} ) )`;$t(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${s} shader.`)}getVars(e){const n=[],r=this.vars[e];if(r!==void 0)for(const i of r)n.push(`${this.getVar(i.type,i.name,i.count)};`);return n.join(`
	`)}getUniforms(e){const n=this.uniforms[e],r=[],i={};for(const a of n){let s=null,l=!1;if(a.type==="texture"||a.type==="texture3D"){const u=a.node.value;let d="";(u.isDataTexture===!0||u.isData3DTexture===!0)&&(u.type===li?d="u":u.type===sa&&(d="i")),a.type==="texture3D"&&u.isArrayTexture===!1?s=`${d}sampler3D ${a.name};`:u.compareFunction?u.isArrayTexture===!0?s=`sampler2DArrayShadow ${a.name};`:s=`sampler2DShadow ${a.name};`:u.isArrayTexture===!0||u.isDataArrayTexture===!0||u.isCompressedArrayTexture===!0?s=`${d}sampler2DArray ${a.name};`:s=`${d}sampler2D ${a.name};`}else if(a.type==="cubeTexture")s=`samplerCube ${a.name};`;else if(a.type==="cubeDepthTexture")s=`samplerCubeShadow ${a.name};`;else if(a.type==="buffer"){const u=a.node,d=this.getType(u.bufferType),f=u.bufferCount,h=f>0?f:"";s=`${u.name} {
	${d} ${a.name}[${h}];
};
`}else s=`${this.getVectorType(a.type)} ${this.getPropertyName(a,e)};`,l=!0;const c=a.node.precision;if(c!==null&&(s=tit[c]+" "+s),l){s="	"+s;const u=a.groupNode.name;(i[u]||(i[u]=[])).push(s)}else s="uniform "+s,r.push(s)}let o="";for(const a in i){const s=i[a];o+=this._getGLSLUniformStruct(e+"_"+a,s.join(`
`))+`
`}return o+=r.join(`
`),o}getTypeFromAttribute(e){let n=super.getTypeFromAttribute(e);if(/^[iu]/.test(n)&&e.gpuType!==sa){let r=e;e.isInterleavedBufferAttribute&&(r=e.data);const i=r.array;i instanceof Uint32Array||i instanceof Int32Array||(n=n.slice(1))}return n}getAttributes(e){let n="";if(e==="vertex"||e==="compute"){const r=this.getAttributesArray();let i=0;for(const o of r)n+=`layout( location = ${i++} ) in ${o.type} ${o.name};
`}return n}getStructMembers(e){const n=[];for(const r of e.members)n.push(`	${r.type} ${r.name};`);return n.join(`
`)}getStructs(e){const n=[],r=this.structs[e],i=[];for(const o of r)if(o.output)for(const a of o.members)i.push(`layout( location = ${a.index} ) out ${a.type} ${a.name};`);else{let a="struct "+o.name+` {
`;a+=this.getStructMembers(o),a+=`
};
`,n.push(a)}return i.length===0&&i.push("layout( location = 0 ) out vec4 fragColor;"),`
`+i.join(`
`)+`

`+n.join(`
`)}getVaryings(e){let n="";const r=this.varyings;if(e==="vertex"||e==="compute")for(const i of r){e==="compute"&&(i.needsInterpolation=!0);const o=this.getType(i.type);if(i.needsInterpolation)if(i.interpolationType){const a=SW[i.interpolationType]||i.interpolationType,s=_W[i.interpolationSampling]||"";n+=`${a} ${s} out ${o} ${i.name};
`}else{const a=o.includes("int")||o.includes("uv")||o.includes("iv")?"flat ":"";n+=`${a}out ${o} ${i.name};
`}else n+=`${o} ${i.name};
`}else if(e==="fragment"){for(const i of r)if(i.needsInterpolation){const o=this.getType(i.type);if(i.interpolationType){const a=SW[i.interpolationType]||i.interpolationType,s=_W[i.interpolationSampling]||"";n+=`${a} ${s} in ${o} ${i.name};
`}else{const a=o.includes("int")||o.includes("uv")||o.includes("iv")?"flat ":"";n+=`${a}in ${o} ${i.name};
`}}}for(const i of this.builtins[e])n+=`${i};
`;return n}getVertexIndex(){return"uint( gl_VertexID )"}getInstanceIndex(){return"uint( gl_InstanceID )"}getInvocationLocalIndex(){return`uint( gl_InstanceID ) % ${this.object.workgroupSize.reduce((r,i)=>r*i,1)}u`}getSubgroupSize(){$t("GLSLNodeBuilder: WebGLBackend does not support the subgroupSize node")}getInvocationSubgroupIndex(){$t("GLSLNodeBuilder: WebGLBackend does not support the invocationSubgroupIndex node")}getSubgroupIndex(){$t("GLSLNodeBuilder: WebGLBackend does not support the subgroupIndex node")}getDrawIndex(){return this.renderer.backend.extensions.has("WEBGL_multi_draw")?"uint( gl_DrawID )":null}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord.xy"}getFragDepth(){return"gl_FragDepth"}enableExtension(e,n,r=this.shaderStage){const i=this.extensions[r]||(this.extensions[r]=new Map);i.has(e)===!1&&i.set(e,{name:e,behavior:n})}getExtensions(e){const n=[];if(e==="vertex"){const i=this.renderer.backend.extensions;this.object.isBatchedMesh&&i.has("WEBGL_multi_draw")&&this.enableExtension("GL_ANGLE_multi_draw","require",e)}const r=this.extensions[e];if(r!==void 0)for(const{name:i,behavior:o}of r.values())n.push(`#extension ${i} : ${o}`);return n.join(`
`)}getClipDistance(){return"gl_ClipDistance"}isAvailable(e){let n=xW[e];if(n===void 0){let r;switch(n=!1,e){case"float32Filterable":r="OES_texture_float_linear";break;case"clipDistance":r="WEBGL_clip_cull_distance";break}if(r!==void 0){const i=this.renderer.backend.extensions;i.has(r)&&(i.get(r),n=!0)}xW[e]=n}return n}isFlipY(){return!0}enableHardwareClipping(e){this.enableExtension("GL_ANGLE_clip_cull_distance","require"),this.builtins.vertex.push(`out float gl_ClipDistance[ ${e} ]`)}enableMultiview(){this.enableExtension("GL_OVR_multiview2","require","fragment"),this.enableExtension("GL_OVR_multiview2","require","vertex"),this.builtins.vertex.push("layout(num_views = 2) in")}registerTransform(e,n){this.transforms.push({varyingName:e,attributeNode:n})}getTransforms(){const e=this.transforms;let n="";for(let r=0;r<e.length;r++){const i=e[r],o=this.getPropertyName(i.attributeNode);o&&(n+=`${i.varyingName} = ${o};
	`)}return n}_getGLSLUniformStruct(e,n){return`
layout( std140 ) uniform ${e} {
${n}
};`}_getGLSLVertexCode(e){return`#version 300 es

${this.getSignature()}

// extensions
${e.extensions}

// precision
${wW}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// attributes
${e.attributes}

// codes
${e.codes}

void main() {

	// vars
	${e.vars}

	// transforms
	${e.transforms}

	// flow
	${e.flow}

	gl_PointSize = 1.0;

}
`}_getGLSLFragmentCode(e){return`#version 300 es

${this.getSignature()}

// extensions
${e.extensions}

// precision
${wW}

// structs
${e.structs}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// codes
${e.codes}

void main() {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const n in e){let r=`// code

`;r+=this.flowCode[n];const i=this.flowNodes[n],o=i[i.length-1];for(const s of i){const l=this.getFlowData(s),c=s.name;c&&(r.length>0&&(r+=`
`),r+=`	// flow -> ${c}
	`),r+=`${l.code}
	`,s===o&&n!=="compute"&&(r+=`// result
	`,n==="vertex"?(r+="gl_Position = ",r+=`${l.result};`):n==="fragment"&&(s.outputNode.isOutputStructNode||(r+="fragColor = ",r+=`${l.result};`)))}const a=e[n];a.extensions=this.getExtensions(n),a.uniforms=this.getUniforms(n),a.attributes=this.getAttributes(n),a.varyings=this.getVaryings(n),a.vars=this.getVars(n),a.structs=this.getStructs(n),a.codes=this.getCodes(n),a.transforms=this.getTransforms(n),a.flow=r}this.material!==null?(this.vertexShader=this._getGLSLVertexCode(e.vertex),this.fragmentShader=this._getGLSLFragmentCode(e.fragment)):this.computeShader=this._getGLSLVertexCode(e.compute)}getUniformFromNode(e,n,r,i=null){const o=super.getUniformFromNode(e,n,r,i),a=this.getDataFromNode(e,r,this.globalCache);let s=a.uniformGPU;if(s===void 0){const l=e.groupNode,c=l.name,u=this.getBindGroupArray(c,r);if(n==="texture")s=new _R(o.name,o.node,l),u.push(s);else if(n==="cubeTexture"||n==="cubeDepthTexture")s=new kue(o.name,o.node,l),u.push(s);else if(n==="texture3D")s=new R6(o.name,o.node,l),u.push(s);else if(n==="buffer"){o.name=`buffer${e.id}`;const d=this.getSharedDataFromNode(e);let f=d.buffer;f===void 0&&(e.name=`NodeBuffer_${e.id}`,f=new Fue(e,l),f.name=e.name,d.buffer=f),u.push(f),s=f}else{const d=this.uniformGroups[r]||(this.uniformGroups[r]={});let f=d[c];f===void 0&&(f=new $ue(r+"_"+c,l),d[c]=f,u.push(f)),s=this.getNodeUniform(o,n),f.addUniform(s)}a.uniformGPU=s}return o}}let dI=null,Cg=null;class Vue{constructor(e={}){this.parameters=Object.assign({},e),this.data=new WeakMap,this.renderer=null,this.domElement=null,this.timestampQueryPool={[Yu.RENDER]:null,[Yu.COMPUTE]:null},this.trackTimestamp=e.trackTimestamp===!0}async init(e){this.renderer=e}get coordinateSystem(){}beginRender(){}finishRender(){}beginCompute(){}finishCompute(){}draw(){}compute(){}createProgram(){}destroyProgram(){}createBindings(){}updateBindings(){}updateBinding(){}createRenderPipeline(){}createComputePipeline(){}needsRenderUpdate(){}getRenderCacheKey(){}createNodeBuilder(){}updateSampler(){}createDefaultTexture(){}createTexture(){}updateTexture(){}generateMipmaps(){}destroyTexture(){}async copyTextureToBuffer(){}copyTextureToTexture(){}copyFramebufferToTexture(){}createAttribute(){}createIndexAttribute(){}createStorageAttribute(){}updateAttribute(){}destroyAttribute(){}getContext(){}updateSize(){}updateViewport(){}updateTimeStampUID(e){const n=this.get(e),r=this.renderer.info.frame;let i;e.isComputeNode===!0?i="c:"+this.renderer.info.compute.frameCalls:i="r:"+this.renderer.info.render.frameCalls,n.timestampUID=i+":"+e.id+":f"+r}getTimestampUID(e){return this.get(e).timestampUID}getTimestampFrames(e){const n=this.timestampQueryPool[e];return n?n.getTimestampFrames():[]}_getQueryPool(e){const n=e.startsWith("c:")?Yu.COMPUTE:Yu.RENDER;return this.timestampQueryPool[n]}getTimestamp(e){return this._getQueryPool(e).getTimestamp(e)}hasTimestamp(e){return this._getQueryPool(e).hasTimestamp(e)}isOccluded(){}async resolveTimestampsAsync(e="render"){if(!this.trackTimestamp){Ai("WebGPURenderer: Timestamp tracking is disabled.");return}const n=this.timestampQueryPool[e];if(!n)return;const r=await n.resolveQueriesAsync();return this.renderer.info[e].timestamp=r,r}async getArrayBufferAsync(){}async hasFeatureAsync(){}hasFeature(){}getMaxAnisotropy(){}getDrawingBufferSize(){return dI=dI||new Ft,this.renderer.getDrawingBufferSize(dI)}setScissorTest(){}getClearColor(){const e=this.renderer;return Cg=Cg||new e7,e.getClearColor(Cg),Cg.getRGB(Cg),Cg}getDomElement(){let e=this.domElement;return e===null&&(e=this.parameters.canvas!==void 0?this.parameters.canvas:uie(),"setAttribute"in e&&e.setAttribute("data-engine",`three.js r${v0} webgpu`),this.domElement=e),e}set(e,n){this.data.set(e,n)}get(e){let n=this.data.get(e);return n===void 0&&(n={},this.data.set(e,n)),n}has(e){return this.data.has(e)}delete(e){this.data.delete(e)}deleteBindGroupData(){}dispose(){}}let rit=0;class iit{constructor(e,n){this.buffers=[e.bufferGPU,n],this.type=e.type,this.bufferType=e.bufferType,this.pbo=e.pbo,this.byteLength=e.byteLength,this.bytesPerElement=e.BYTES_PER_ELEMENT,this.version=e.version,this.isInteger=e.isInteger,this.activeBufferIndex=0,this.baseId=e.id}get id(){return`${this.baseId}|${this.activeBufferIndex}`}get bufferGPU(){return this.buffers[this.activeBufferIndex]}get transformBuffer(){return this.buffers[this.activeBufferIndex^1]}switchBuffers(){this.activeBufferIndex^=1}}class oit{constructor(e){this.backend=e}createAttribute(e,n){const r=this.backend,{gl:i}=r,o=e.array,a=e.usage||i.STATIC_DRAW,s=e.isInterleavedBufferAttribute?e.data:e,l=r.get(s);let c=l.bufferGPU;c===void 0&&(c=this._createBuffer(i,n,o,a),l.bufferGPU=c,l.bufferType=n,l.version=s.version);let u;if(o instanceof Float32Array)u=i.FLOAT;else if(typeof Float16Array<"u"&&o instanceof Float16Array)u=i.HALF_FLOAT;else if(o instanceof Uint16Array)e.isFloat16BufferAttribute?u=i.HALF_FLOAT:u=i.UNSIGNED_SHORT;else if(o instanceof Int16Array)u=i.SHORT;else if(o instanceof Uint32Array)u=i.UNSIGNED_INT;else if(o instanceof Int32Array)u=i.INT;else if(o instanceof Int8Array)u=i.BYTE;else if(o instanceof Uint8Array)u=i.UNSIGNED_BYTE;else if(o instanceof Uint8ClampedArray)u=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+o);let d={bufferGPU:c,bufferType:n,type:u,byteLength:o.byteLength,bytesPerElement:o.BYTES_PER_ELEMENT,version:e.version,pbo:e.pbo,isInteger:u===i.INT||u===i.UNSIGNED_INT||e.gpuType===sa,id:rit++};if(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute){const f=this._createBuffer(i,n,o,a);d=new iit(d,f)}r.set(e,d)}updateAttribute(e){const n=this.backend,{gl:r}=n,i=e.array,o=e.isInterleavedBufferAttribute?e.data:e,a=n.get(o),s=a.bufferType,l=e.isInterleavedBufferAttribute?e.data.updateRanges:e.updateRanges;if(r.bindBuffer(s,a.bufferGPU),l.length===0)r.bufferSubData(s,0,i);else{for(let c=0,u=l.length;c<u;c++){const d=l[c];r.bufferSubData(s,d.start*i.BYTES_PER_ELEMENT,i,d.start,d.count)}o.clearUpdateRanges()}r.bindBuffer(s,null),a.version=o.version}destroyAttribute(e){const n=this.backend,{gl:r}=n;e.isInterleavedBufferAttribute&&n.delete(e.data);const i=n.get(e);r.deleteBuffer(i.bufferGPU),n.delete(e)}async getArrayBufferAsync(e){const n=this.backend,{gl:r}=n,i=e.isInterleavedBufferAttribute?e.data:e,{bufferGPU:o}=n.get(i),a=e.array,s=a.byteLength;r.bindBuffer(r.COPY_READ_BUFFER,o);const l=r.createBuffer();r.bindBuffer(r.COPY_WRITE_BUFFER,l),r.bufferData(r.COPY_WRITE_BUFFER,s,r.STREAM_READ),r.copyBufferSubData(r.COPY_READ_BUFFER,r.COPY_WRITE_BUFFER,0,0,s),await n.utils._clientWaitAsync();const c=new e.array.constructor(a.length);return r.bindBuffer(r.COPY_WRITE_BUFFER,l),r.getBufferSubData(r.COPY_WRITE_BUFFER,0,c),r.deleteBuffer(l),r.bindBuffer(r.COPY_READ_BUFFER,null),r.bindBuffer(r.COPY_WRITE_BUFFER,null),c.buffer}_createBuffer(e,n,r,i){const o=e.createBuffer();return e.bindBuffer(n,o),e.bufferData(n,r,i),e.bindBuffer(n,null),o}}let fI,T1;class ait{constructor(e){this.backend=e,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=!1,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentColorMask=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,this.currentLineWidth=null,this.currentClippingPlanes=0,this.currentVAO=null,this.currentIndex=null,this.currentBoundFramebuffers={},this.currentDrawbuffers=new WeakMap,this.maxTextures=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),this.currentTextureSlot=null,this.currentBoundTextures={},this.currentBoundBufferBases={},this._init()}_init(){const e=this.gl;fI={[Ya]:e.FUNC_ADD,[DB]:e.FUNC_SUBTRACT,[OB]:e.FUNC_REVERSE_SUBTRACT},T1={[Fd]:e.ZERO,[LB]:e.ONE,[BB]:e.SRC_COLOR,[yx]:e.SRC_ALPHA,[zB]:e.SRC_ALPHA_SATURATE,[kB]:e.DST_COLOR,[$B]:e.DST_ALPHA,[FB]:e.ONE_MINUS_SRC_COLOR,[bx]:e.ONE_MINUS_SRC_ALPHA,[VB]:e.ONE_MINUS_DST_COLOR,[UB]:e.ONE_MINUS_DST_ALPHA};const n=e.getParameter(e.SCISSOR_BOX),r=e.getParameter(e.VIEWPORT);this.currentScissor=new nr().fromArray(n),this.currentViewport=new nr().fromArray(r),this._tempVec4=new nr}enable(e){const{enabled:n}=this;n[e]!==!0&&(this.gl.enable(e),n[e]=!0)}disable(e){const{enabled:n}=this;n[e]!==!1&&(this.gl.disable(e),n[e]=!1)}setFlipSided(e){if(this.currentFlipSided!==e){const{gl:n}=this;e?n.frontFace(n.CW):n.frontFace(n.CCW),this.currentFlipSided=e}}setCullFace(e){const{gl:n}=this;e!==tie?(this.enable(n.CULL_FACE),e!==this.currentCullFace&&(e===f5?n.cullFace(n.BACK):e===nie?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):this.disable(n.CULL_FACE),this.currentCullFace=e}setLineWidth(e){const{currentLineWidth:n,gl:r}=this;e!==n&&(r.lineWidth(e),this.currentLineWidth=e)}setMRTBlending(e){const n=this.gl,r=this.backend.drawBuffersIndexedExt;if(r)for(let i=1;i<e.length;i++)r.blendFuncSeparateiOES(i,n.ONE,n.ZERO,n.ONE,n.ZERO)}setBlending(e,n,r,i,o,a,s,l){const{gl:c}=this;if(e===Ms){this.currentBlendingEnabled===!0&&(this.disable(c.BLEND),this.currentBlendingEnabled=!1);return}if(this.currentBlendingEnabled===!1&&(this.enable(c.BLEND),this.currentBlendingEnabled=!0),e!==vA){if(e!==this.currentBlending||l!==this.currentPremultipledAlpha){if((this.currentBlendEquation!==Ya||this.currentBlendEquationAlpha!==Ya)&&(c.blendEquation(c.FUNC_ADD),this.currentBlendEquation=Ya,this.currentBlendEquationAlpha=Ya),l)switch(e){case Rs:c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case qA:c.blendFunc(c.ONE,c.ONE);break;case WA:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case XA:c.blendFuncSeparate(c.DST_COLOR,c.ONE_MINUS_SRC_ALPHA,c.ZERO,c.ONE);break;default:$t("WebGLState: Invalid blending: ",e);break}else switch(e){case Rs:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case qA:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE,c.ONE,c.ONE);break;case WA:$t("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case XA:$t("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:$t("WebGLState: Invalid blending: ",e);break}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=e,this.currentPremultipledAlpha=l}return}o=o||n,a=a||r,s=s||i,(n!==this.currentBlendEquation||o!==this.currentBlendEquationAlpha)&&(c.blendEquationSeparate(fI[n],fI[o]),this.currentBlendEquation=n,this.currentBlendEquationAlpha=o),(r!==this.currentBlendSrc||i!==this.currentBlendDst||a!==this.currentBlendSrcAlpha||s!==this.currentBlendDstAlpha)&&(c.blendFuncSeparate(T1[r],T1[i],T1[a],T1[s]),this.currentBlendSrc=r,this.currentBlendDst=i,this.currentBlendSrcAlpha=a,this.currentBlendDstAlpha=s),this.currentBlending=e,this.currentPremultipledAlpha=!1}setColorMask(e){this.currentColorMask!==e&&(this.gl.colorMask(e,e,e,e),this.currentColorMask=e)}setDepthTest(e){const{gl:n}=this;e?this.enable(n.DEPTH_TEST):this.disable(n.DEPTH_TEST)}setDepthMask(e){this.currentDepthMask!==e&&(this.gl.depthMask(e),this.currentDepthMask=e)}setDepthFunc(e){if(this.currentDepthFunc!==e){const{gl:n}=this;switch(e){case xx:n.depthFunc(n.NEVER);break;case Sx:n.depthFunc(n.ALWAYS);break;case _x:n.depthFunc(n.LESS);break;case Yh:n.depthFunc(n.LEQUAL);break;case wx:n.depthFunc(n.EQUAL);break;case Cx:n.depthFunc(n.GEQUAL);break;case Tx:n.depthFunc(n.GREATER);break;case Ex:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}this.currentDepthFunc=e}}scissor(e,n,r,i){const o=this._tempVec4.set(e,n,r,i);if(this.currentScissor.equals(o)===!1){const{gl:a}=this;a.scissor(o.x,o.y,o.z,o.w),this.currentScissor.copy(o)}}viewport(e,n,r,i){const o=this._tempVec4.set(e,n,r,i);if(this.currentViewport.equals(o)===!1){const{gl:a}=this;a.viewport(o.x,o.y,o.z,o.w),this.currentViewport.copy(o)}}setScissorTest(e){const n=this.gl;e?this.enable(n.SCISSOR_TEST):this.disable(n.SCISSOR_TEST)}setStencilTest(e){const{gl:n}=this;e?this.enable(n.STENCIL_TEST):this.disable(n.STENCIL_TEST)}setStencilMask(e){this.currentStencilMask!==e&&(this.gl.stencilMask(e),this.currentStencilMask=e)}setStencilFunc(e,n,r){(this.currentStencilFunc!==e||this.currentStencilRef!==n||this.currentStencilFuncMask!==r)&&(this.gl.stencilFunc(e,n,r),this.currentStencilFunc=e,this.currentStencilRef=n,this.currentStencilFuncMask=r)}setStencilOp(e,n,r){(this.currentStencilFail!==e||this.currentStencilZFail!==n||this.currentStencilZPass!==r)&&(this.gl.stencilOp(e,n,r),this.currentStencilFail=e,this.currentStencilZFail=n,this.currentStencilZPass=r)}setMaterial(e,n,r){const{gl:i}=this;e.side===To?this.disable(i.CULL_FACE):this.enable(i.CULL_FACE);let o=e.side===ui;n&&(o=!o),this.setFlipSided(o),e.blending===Rs&&e.transparent===!1?this.setBlending(Ms):this.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),this.setDepthFunc(e.depthFunc),this.setDepthTest(e.depthTest),this.setDepthMask(e.depthWrite),this.setColorMask(e.colorWrite);const a=e.stencilWrite;if(this.setStencilTest(a),a&&(this.setStencilMask(e.stencilWriteMask),this.setStencilFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),this.setStencilOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),this.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),e.alphaToCoverage===!0&&this.backend.renderer.currentSamples>0?this.enable(i.SAMPLE_ALPHA_TO_COVERAGE):this.disable(i.SAMPLE_ALPHA_TO_COVERAGE),r>0&&this.currentClippingPlanes!==r)for(let l=0;l<8;l++)l<r?this.enable(12288+l):this.disable(12288+l)}setPolygonOffset(e,n,r){const{gl:i}=this;e?(this.enable(i.POLYGON_OFFSET_FILL),(this.currentPolygonOffsetFactor!==n||this.currentPolygonOffsetUnits!==r)&&(i.polygonOffset(n,r),this.currentPolygonOffsetFactor=n,this.currentPolygonOffsetUnits=r)):this.disable(i.POLYGON_OFFSET_FILL)}useProgram(e){return this.currentProgram!==e?(this.gl.useProgram(e),this.currentProgram=e,!0):!1}setVertexState(e,n=null){const r=this.gl;return this.currentVAO!==e||this.currentIndex!==n?(r.bindVertexArray(e),n!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,n),this.currentVAO=e,this.currentIndex=n,!0):!1}resetVertexState(){const e=this.gl;e.bindVertexArray(null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),this.currentVAO=null,this.currentIndex=null}bindFramebuffer(e,n){const{gl:r,currentBoundFramebuffers:i}=this;return i[e]!==n?(r.bindFramebuffer(e,n),i[e]=n,e===r.DRAW_FRAMEBUFFER&&(i[r.FRAMEBUFFER]=n),e===r.FRAMEBUFFER&&(i[r.DRAW_FRAMEBUFFER]=n),!0):!1}drawBuffers(e,n){const{gl:r}=this;let i=[],o=!1;if(e.textures!==null){i=this.currentDrawbuffers.get(n),i===void 0&&(i=[],this.currentDrawbuffers.set(n,i));const a=e.textures;if(i.length!==a.length||i[0]!==r.COLOR_ATTACHMENT0){for(let s=0,l=a.length;s<l;s++)i[s]=r.COLOR_ATTACHMENT0+s;i.length=a.length,o=!0}}else i[0]!==r.BACK&&(i[0]=r.BACK,o=!0);o&&r.drawBuffers(i)}activeTexture(e){const{gl:n,currentTextureSlot:r,maxTextures:i}=this;e===void 0&&(e=n.TEXTURE0+i-1),r!==e&&(n.activeTexture(e),this.currentTextureSlot=e)}bindTexture(e,n,r){const{gl:i,currentTextureSlot:o,currentBoundTextures:a,maxTextures:s}=this;r===void 0&&(o===null?r=i.TEXTURE0+s-1:r=o);let l=a[r];l===void 0&&(l={type:void 0,texture:void 0},a[r]=l),(l.type!==e||l.texture!==n)&&(o!==r&&(i.activeTexture(r),this.currentTextureSlot=r),i.bindTexture(e,n),l.type=e,l.texture=n)}bindBufferBase(e,n,r){const{gl:i}=this,o=`${e}-${n}`;return this.currentBoundBufferBases[o]!==r?(i.bindBufferBase(e,n,r),this.currentBoundBufferBases[o]=r,!0):!1}unbindTexture(){const{gl:e,currentTextureSlot:n,currentBoundTextures:r}=this,i=r[n];i!==void 0&&i.type!==void 0&&(e.bindTexture(i.type,null),i.type=void 0,i.texture=void 0)}}class sit{constructor(e){this.backend=e,this.gl=this.backend.gl,this.extensions=e.extensions}convert(e,n=Hs){const{gl:r,extensions:i}=this;let o;const a=Xn.getTransfer(n);if(e===Fi)return r.UNSIGNED_BYTE;if(e===RM)return r.UNSIGNED_SHORT_4_4_4_4;if(e===PM)return r.UNSIGNED_SHORT_5_5_5_1;if(e===NM)return r.UNSIGNED_INT_5_9_9_9_REV;if(e===IM)return r.UNSIGNED_INT_10F_11F_11F_REV;if(e===Rm)return r.BYTE;if(e===Pm)return r.SHORT;if(e===eu)return r.UNSIGNED_SHORT;if(e===sa)return r.INT;if(e===li)return r.UNSIGNED_INT;if(e===xo)return r.FLOAT;if(e===Ui)return r.HALF_FLOAT;if(e===QB)return r.ALPHA;if(e===$2)return r.RGB;if(e===_o)return r.RGBA;if(e===Na)return r.DEPTH_COMPONENT;if(e===Ss)return r.DEPTH_STENCIL;if(e===U2)return r.RED;if(e===ly)return r.RED_INTEGER;if(e===_s)return r.RG;if(e===cy)return r.RG_INTEGER;if(e===uy)return r.RGBA_INTEGER;if(e===Lh||e===Bh||e===Fh||e===$h)if(a===gn)if(o=i.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(e===Lh)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===Bh)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===Fh)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===$h)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=i.get("WEBGL_compressed_texture_s3tc"),o!==null){if(e===Lh)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Bh)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Fh)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===$h)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(e===Mx||e===Rx||e===Px||e===Nx)if(o=i.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(e===Mx)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Rx)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Px)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Nx)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(e===QA||e===ZA||e===JA||e===ev||e===tv||e===Qm||e===nv)if(o=i.get("WEBGL_compressed_texture_etc"),o!==null){if(e===QA||e===ZA)return a===gn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(e===JA)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC;if(e===ev)return o.COMPRESSED_R11_EAC;if(e===tv)return o.COMPRESSED_SIGNED_R11_EAC;if(e===Qm)return o.COMPRESSED_RG11_EAC;if(e===nv)return o.COMPRESSED_SIGNED_RG11_EAC}else return null;if(e===rv||e===iv||e===ov||e===av||e===sv||e===lv||e===cv||e===uv||e===dv||e===fv||e===hv||e===pv||e===mv||e===gv)if(o=i.get("WEBGL_compressed_texture_astc"),o!==null){if(e===rv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===iv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===ov)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===av)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===sv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===lv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===cv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===uv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===dv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===fv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===hv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===pv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===mv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===gv)return a===gn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(e===Av)if(o=i.get("EXT_texture_compression_bptc"),o!==null){if(e===Av)return a===gn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(e===vv||e===yv||e===Zm||e===bv)if(o=i.get("EXT_texture_compression_rgtc"),o!==null){if(e===vv)return o.COMPRESSED_RED_RGTC1_EXT;if(e===yv)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(e===Zm)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(e===bv)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return e===Il?r.UNSIGNED_INT_24_8:r[e]!==void 0?r[e]:null}_clientWaitAsync(){const{gl:e}=this,n=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),new Promise((r,i)=>{function o(){const a=e.clientWaitSync(n,e.SYNC_FLUSH_COMMANDS_BIT,0);if(a===e.WAIT_FAILED){e.deleteSync(n),i();return}if(a===e.TIMEOUT_EXPIRED){requestAnimationFrame(o);return}e.deleteSync(n),r()}o()})}}let CW=!1,Ew,hI,TW;class lit{constructor(e){this.backend=e,this.gl=e.gl,this.extensions=e.extensions,this.defaultTextures={},this._srcFramebuffer=null,this._dstFramebuffer=null,CW===!1&&(this._init(),CW=!0)}_init(){const e=this.gl;Ew={[Ym]:e.REPEAT,[qs]:e.CLAMP_TO_EDGE,[Km]:e.MIRRORED_REPEAT},hI={[ci]:e.NEAREST,[KB]:e.NEAREST_MIPMAP_NEAREST,[Wd]:e.NEAREST_MIPMAP_LINEAR,[Di]:e.LINEAR,[yA]:e.LINEAR_MIPMAP_NEAREST,[Ws]:e.LINEAR_MIPMAP_LINEAR},TW={[ZB]:e.NEVER,[nF]:e.ALWAYS,[k2]:e.LESS,[V2]:e.LEQUAL,[JB]:e.EQUAL,[z2]:e.GEQUAL,[eF]:e.GREATER,[tF]:e.NOTEQUAL}}getGLTextureType(e){const{gl:n}=this;let r;return e.isCubeTexture===!0?r=n.TEXTURE_CUBE_MAP:e.isArrayTexture===!0||e.isDataArrayTexture===!0||e.isCompressedArrayTexture===!0?r=n.TEXTURE_2D_ARRAY:e.isData3DTexture===!0?r=n.TEXTURE_3D:r=n.TEXTURE_2D,r}getInternalFormat(e,n,r,i,o=!1){const{gl:a,extensions:s}=this;if(e!==null){if(a[e]!==void 0)return a[e];Pt("WebGLBackend: Attempt to use non-existing WebGL internal format '"+e+"'")}let l=n;if(n===a.RED&&(r===a.FLOAT&&(l=a.R32F),r===a.HALF_FLOAT&&(l=a.R16F),r===a.UNSIGNED_BYTE&&(l=a.R8),r===a.UNSIGNED_SHORT&&(l=a.R16),r===a.UNSIGNED_INT&&(l=a.R32UI),r===a.BYTE&&(l=a.R8I),r===a.SHORT&&(l=a.R16I),r===a.INT&&(l=a.R32I)),n===a.RED_INTEGER&&(r===a.UNSIGNED_BYTE&&(l=a.R8UI),r===a.UNSIGNED_SHORT&&(l=a.R16UI),r===a.UNSIGNED_INT&&(l=a.R32UI),r===a.BYTE&&(l=a.R8I),r===a.SHORT&&(l=a.R16I),r===a.INT&&(l=a.R32I)),n===a.RG&&(r===a.FLOAT&&(l=a.RG32F),r===a.HALF_FLOAT&&(l=a.RG16F),r===a.UNSIGNED_BYTE&&(l=a.RG8),r===a.UNSIGNED_SHORT&&(l=a.RG16),r===a.UNSIGNED_INT&&(l=a.RG32UI),r===a.BYTE&&(l=a.RG8I),r===a.SHORT&&(l=a.RG16I),r===a.INT&&(l=a.RG32I)),n===a.RG_INTEGER&&(r===a.UNSIGNED_BYTE&&(l=a.RG8UI),r===a.UNSIGNED_SHORT&&(l=a.RG16UI),r===a.UNSIGNED_INT&&(l=a.RG32UI),r===a.BYTE&&(l=a.RG8I),r===a.SHORT&&(l=a.RG16I),r===a.INT&&(l=a.RG32I)),n===a.RGB){const c=o?xv:Xn.getTransfer(i);r===a.FLOAT&&(l=a.RGB32F),r===a.HALF_FLOAT&&(l=a.RGB16F),r===a.UNSIGNED_BYTE&&(l=a.RGB8),r===a.UNSIGNED_SHORT&&(l=a.RGB16),r===a.UNSIGNED_INT&&(l=a.RGB32UI),r===a.BYTE&&(l=a.RGB8I),r===a.SHORT&&(l=a.RGB16I),r===a.INT&&(l=a.RGB32I),r===a.UNSIGNED_BYTE&&(l=c===gn?a.SRGB8:a.RGB8),r===a.UNSIGNED_SHORT_5_6_5&&(l=a.RGB565),r===a.UNSIGNED_SHORT_5_5_5_1&&(l=a.RGB5_A1),r===a.UNSIGNED_SHORT_4_4_4_4&&(l=a.RGB4),r===a.UNSIGNED_INT_5_9_9_9_REV&&(l=a.RGB9_E5),r===a.UNSIGNED_INT_10F_11F_11F_REV&&(l=a.R11F_G11F_B10F)}if(n===a.RGB_INTEGER&&(r===a.UNSIGNED_BYTE&&(l=a.RGB8UI),r===a.UNSIGNED_SHORT&&(l=a.RGB16UI),r===a.UNSIGNED_INT&&(l=a.RGB32UI),r===a.BYTE&&(l=a.RGB8I),r===a.SHORT&&(l=a.RGB16I),r===a.INT&&(l=a.RGB32I)),n===a.RGBA){const c=o?xv:Xn.getTransfer(i);r===a.FLOAT&&(l=a.RGBA32F),r===a.HALF_FLOAT&&(l=a.RGBA16F),r===a.UNSIGNED_BYTE&&(l=a.RGBA8),r===a.UNSIGNED_SHORT&&(l=a.RGBA16),r===a.UNSIGNED_INT&&(l=a.RGBA32UI),r===a.BYTE&&(l=a.RGBA8I),r===a.SHORT&&(l=a.RGBA16I),r===a.INT&&(l=a.RGBA32I),r===a.UNSIGNED_BYTE&&(l=c===gn?a.SRGB8_ALPHA8:a.RGBA8),r===a.UNSIGNED_SHORT_4_4_4_4&&(l=a.RGBA4),r===a.UNSIGNED_SHORT_5_5_5_1&&(l=a.RGB5_A1)}return n===a.RGBA_INTEGER&&(r===a.UNSIGNED_BYTE&&(l=a.RGBA8UI),r===a.UNSIGNED_SHORT&&(l=a.RGBA16UI),r===a.UNSIGNED_INT&&(l=a.RGBA32UI),r===a.BYTE&&(l=a.RGBA8I),r===a.SHORT&&(l=a.RGBA16I),r===a.INT&&(l=a.RGBA32I)),n===a.DEPTH_COMPONENT&&(r===a.UNSIGNED_SHORT&&(l=a.DEPTH_COMPONENT16),r===a.UNSIGNED_INT&&(l=a.DEPTH_COMPONENT24),r===a.FLOAT&&(l=a.DEPTH_COMPONENT32F)),n===a.DEPTH_STENCIL&&r===a.UNSIGNED_INT_24_8&&(l=a.DEPTH24_STENCIL8),(l===a.R16F||l===a.R32F||l===a.RG16F||l===a.RG32F||l===a.RGBA16F||l===a.RGBA32F)&&s.get("EXT_color_buffer_float"),l}setTextureParameters(e,n){const{gl:r,extensions:i,backend:o}=this,a=Xn.getPrimaries(Xn.workingColorSpace),s=n.colorSpace===Hs?null:Xn.getPrimaries(n.colorSpace),l=n.colorSpace===Hs||a===s?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,n.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,n.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,l),r.texParameteri(e,r.TEXTURE_WRAP_S,Ew[n.wrapS]),r.texParameteri(e,r.TEXTURE_WRAP_T,Ew[n.wrapT]),(e===r.TEXTURE_3D||e===r.TEXTURE_2D_ARRAY)&&(n.isArrayTexture||r.texParameteri(e,r.TEXTURE_WRAP_R,Ew[n.wrapR])),r.texParameteri(e,r.TEXTURE_MAG_FILTER,hI[n.magFilter]);const c=n.mipmaps!==void 0&&n.mipmaps.length>0,u=n.minFilter===Di&&c?Ws:n.minFilter;if(r.texParameteri(e,r.TEXTURE_MIN_FILTER,hI[u]),n.compareFunction&&(r.texParameteri(e,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(e,r.TEXTURE_COMPARE_FUNC,TW[n.compareFunction])),i.has("EXT_texture_filter_anisotropic")===!0){if(n.magFilter===ci||n.minFilter!==Wd&&n.minFilter!==Ws||n.type===xo&&i.has("OES_texture_float_linear")===!1)return;if(n.anisotropy>1){const d=i.get("EXT_texture_filter_anisotropic");r.texParameterf(e,d.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(n.anisotropy,o.getMaxAnisotropy()))}}}createDefaultTexture(e){const{gl:n,backend:r,defaultTextures:i}=this,o=this.getGLTextureType(e);let a=i[o];a===void 0&&(a=n.createTexture(),r.state.bindTexture(o,a),n.texParameteri(o,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(o,n.TEXTURE_MAG_FILTER,n.NEAREST),i[o]=a),r.set(e,{textureGPU:a,glTextureType:o})}createTexture(e,n){const{gl:r,backend:i}=this,{levels:o,width:a,height:s,depth:l}=n,c=i.utils.convert(e.format,e.colorSpace),u=i.utils.convert(e.type),d=this.getInternalFormat(e.internalFormat,c,u,e.colorSpace,e.isVideoTexture),f=r.createTexture(),h=this.getGLTextureType(e);i.state.bindTexture(h,f),this.setTextureParameters(h,e),e.isArrayTexture||e.isDataArrayTexture||e.isCompressedArrayTexture?r.texStorage3D(r.TEXTURE_2D_ARRAY,o,d,a,s,l):e.isData3DTexture?r.texStorage3D(r.TEXTURE_3D,o,d,a,s,l):e.isVideoTexture||r.texStorage2D(h,o,d,a,s),i.set(e,{textureGPU:f,glTextureType:h,glFormat:c,glType:u,glInternalFormat:d})}copyBufferToTexture(e,n){const{gl:r,backend:i}=this,{textureGPU:o,glTextureType:a,glFormat:s,glType:l}=i.get(n),{width:c,height:u}=n.source.data;r.bindBuffer(r.PIXEL_UNPACK_BUFFER,e),i.state.bindTexture(a,o),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.texSubImage2D(a,0,0,0,c,u,s,l,0),r.bindBuffer(r.PIXEL_UNPACK_BUFFER,null),i.state.unbindTexture()}updateTexture(e,n){const{gl:r}=this,{width:i,height:o}=n,{textureGPU:a,glTextureType:s,glFormat:l,glType:c,glInternalFormat:u}=this.backend.get(e);if(!(e.isRenderTargetTexture||a===void 0))if(this.backend.state.bindTexture(s,a),this.setTextureParameters(s,e),e.isCompressedTexture){const d=e.mipmaps,f=n.image;for(let h=0;h<d.length;h++){const p=d[h];e.isCompressedArrayTexture?e.format!==r.RGBA?l!==null?r.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,h,0,0,0,p.width,p.height,f.depth,l,p.data):Pt("WebGLBackend: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texSubImage3D(r.TEXTURE_2D_ARRAY,h,0,0,0,p.width,p.height,f.depth,l,c,p.data):l!==null?r.compressedTexSubImage2D(r.TEXTURE_2D,h,0,0,p.width,p.height,l,p.data):Pt("WebGLBackend: Unsupported compressed texture format")}}else if(e.isCubeTexture){const d=n.images,f=e.mipmaps;for(let h=0;h<6;h++){const p=Mw(d[h]);r.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,0,0,i,o,l,c,p);for(let x=0;x<f.length;x++){const b=f[x],y=Mw(b.images[h]);r.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+h,x+1,0,0,y.width,y.height,l,c,y)}}}else if(e.isDataArrayTexture||e.isArrayTexture){const d=n.image;if(e.layerUpdates.size>0){const f=x5(d.width,d.height,e.format,e.type);for(const h of e.layerUpdates){const p=d.data.subarray(h*f/d.data.BYTES_PER_ELEMENT,(h+1)*f/d.data.BYTES_PER_ELEMENT);r.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,h,d.width,d.height,1,l,c,p)}e.clearLayerUpdates()}else r.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,d.width,d.height,d.depth,l,c,d.data)}else if(e.isData3DTexture){const d=n.image;r.texSubImage3D(r.TEXTURE_3D,0,0,0,0,d.width,d.height,d.depth,l,c,d.data)}else if(e.isVideoTexture)e.update(),r.texImage2D(s,0,u,l,c,n.image);else{const d=e.mipmaps;if(d.length>0)for(let f=0,h=d.length;f<h;f++){const p=d[f],x=Mw(p);r.texSubImage2D(s,f,0,0,p.width,p.height,l,c,x)}else{const f=Mw(n.image);r.texSubImage2D(s,0,0,0,i,o,l,c,f)}}}generateMipmaps(e){const{gl:n,backend:r}=this,{textureGPU:i,glTextureType:o}=r.get(e);r.state.bindTexture(o,i),n.generateMipmap(o)}deallocateRenderBuffers(e){const{gl:n,backend:r}=this;if(e){const i=r.get(e);if(i.renderBufferStorageSetup=void 0,i.framebuffers){for(const o in i.framebuffers)n.deleteFramebuffer(i.framebuffers[o]);delete i.framebuffers}if(i.depthRenderbuffer&&(n.deleteRenderbuffer(i.depthRenderbuffer),delete i.depthRenderbuffer),i.stencilRenderbuffer&&(n.deleteRenderbuffer(i.stencilRenderbuffer),delete i.stencilRenderbuffer),i.msaaFrameBuffer&&(n.deleteFramebuffer(i.msaaFrameBuffer),delete i.msaaFrameBuffer),i.msaaRenderbuffers){for(let o=0;o<i.msaaRenderbuffers.length;o++)n.deleteRenderbuffer(i.msaaRenderbuffers[o]);delete i.msaaRenderbuffers}}}destroyTexture(e,n=!1){const{gl:r,backend:i}=this,{textureGPU:o,renderTarget:a}=i.get(e);this.deallocateRenderBuffers(a),n===!1&&r.deleteTexture(o),i.delete(e)}copyTextureToTexture(e,n,r=null,i=null,o=0,a=0){const{gl:s,backend:l}=this,{state:c}=this.backend,{textureGPU:u,glTextureType:d,glType:f,glFormat:h}=l.get(n);c.bindTexture(d,u);let p,x,b,y,_,C,E,M,R;const N=e.isCompressedTexture?e.mipmaps[a]:e.image;if(r!==null)p=r.max.x-r.min.x,x=r.max.y-r.min.y,b=r.isBox3?r.max.z-r.min.z:1,y=r.min.x,_=r.min.y,C=r.isBox3?r.min.z:0;else{const k=Math.pow(2,-o);p=Math.floor(N.width*k),x=Math.floor(N.height*k),e.isDataArrayTexture||e.isArrayTexture?b=N.depth:e.isData3DTexture?b=Math.floor(N.depth*k):b=1,y=0,_=0,C=0}i!==null?(E=i.x,M=i.y,R=i.z):(E=0,M=0,R=0),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,n.flipY),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),s.pixelStorei(s.UNPACK_ALIGNMENT,n.unpackAlignment);const O=s.getParameter(s.UNPACK_ROW_LENGTH),I=s.getParameter(s.UNPACK_IMAGE_HEIGHT),L=s.getParameter(s.UNPACK_SKIP_PIXELS),F=s.getParameter(s.UNPACK_SKIP_ROWS),$=s.getParameter(s.UNPACK_SKIP_IMAGES);s.pixelStorei(s.UNPACK_ROW_LENGTH,N.width),s.pixelStorei(s.UNPACK_IMAGE_HEIGHT,N.height),s.pixelStorei(s.UNPACK_SKIP_PIXELS,y),s.pixelStorei(s.UNPACK_SKIP_ROWS,_),s.pixelStorei(s.UNPACK_SKIP_IMAGES,C);const V=e.isDataArrayTexture||e.isData3DTexture||n.isArrayTexture,U=n.isDataArrayTexture||n.isData3DTexture||n.isArrayTexture;if(e.isDepthTexture){const k=l.get(e),z=l.get(n),H=l.get(k.renderTarget),j=l.get(z.renderTarget),X=H.framebuffers[k.cacheKey],Y=j.framebuffers[z.cacheKey];c.bindFramebuffer(s.READ_FRAMEBUFFER,X),c.bindFramebuffer(s.DRAW_FRAMEBUFFER,Y);for(let J=0;J<b;J++)V&&(s.framebufferTextureLayer(s.READ_FRAMEBUFFER,s.COLOR_ATTACHMENT0,k.textureGPU,o,C+J),s.framebufferTextureLayer(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0,u,a,R+J)),s.blitFramebuffer(y,_,p,x,E,M,p,x,s.DEPTH_BUFFER_BIT,s.NEAREST);c.bindFramebuffer(s.READ_FRAMEBUFFER,null),c.bindFramebuffer(s.DRAW_FRAMEBUFFER,null)}else if(o!==0||e.isRenderTargetTexture||l.has(e)){const k=l.get(e);this._srcFramebuffer===null&&(this._srcFramebuffer=s.createFramebuffer()),this._dstFramebuffer===null&&(this._dstFramebuffer=s.createFramebuffer()),c.bindFramebuffer(s.READ_FRAMEBUFFER,this._srcFramebuffer),c.bindFramebuffer(s.DRAW_FRAMEBUFFER,this._dstFramebuffer);for(let z=0;z<b;z++)V?s.framebufferTextureLayer(s.READ_FRAMEBUFFER,s.COLOR_ATTACHMENT0,k.textureGPU,o,C+z):s.framebufferTexture2D(s.READ_FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,k.textureGPU,o),U?s.framebufferTextureLayer(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0,u,a,R+z):s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,u,a),o!==0?s.blitFramebuffer(y,_,p,x,E,M,p,x,s.COLOR_BUFFER_BIT,s.NEAREST):U?s.copyTexSubImage3D(d,a,E,M,R+z,y,_,p,x):s.copyTexSubImage2D(d,a,E,M,y,_,p,x);c.bindFramebuffer(s.READ_FRAMEBUFFER,null),c.bindFramebuffer(s.DRAW_FRAMEBUFFER,null)}else U?e.isDataTexture||e.isData3DTexture?s.texSubImage3D(d,a,E,M,R,p,x,b,h,f,N.data):n.isCompressedArrayTexture?s.compressedTexSubImage3D(d,a,E,M,R,p,x,b,h,N.data):s.texSubImage3D(d,a,E,M,R,p,x,b,h,f,N):e.isDataTexture?s.texSubImage2D(s.TEXTURE_2D,a,E,M,p,x,h,f,N.data):e.isCompressedTexture?s.compressedTexSubImage2D(s.TEXTURE_2D,a,E,M,N.width,N.height,h,N.data):s.texSubImage2D(s.TEXTURE_2D,a,E,M,p,x,h,f,N);s.pixelStorei(s.UNPACK_ROW_LENGTH,O),s.pixelStorei(s.UNPACK_IMAGE_HEIGHT,I),s.pixelStorei(s.UNPACK_SKIP_PIXELS,L),s.pixelStorei(s.UNPACK_SKIP_ROWS,F),s.pixelStorei(s.UNPACK_SKIP_IMAGES,$),a===0&&n.generateMipmaps&&s.generateMipmap(d),c.unbindTexture()}copyFramebufferToTexture(e,n,r){const{gl:i}=this,{state:o}=this.backend,{textureGPU:a}=this.backend.get(e),{x:s,y:l,z:c,w:u}=r,d=e.isDepthTexture===!0||n.renderTarget&&n.renderTarget.samples>0,f=n.renderTarget?n.renderTarget.height:this.backend.getDrawingBufferSize().y;if(d){const h=s!==0||l!==0;let p,x;if(e.isDepthTexture===!0?(p=i.DEPTH_BUFFER_BIT,x=i.DEPTH_ATTACHMENT,n.stencil&&(p|=i.STENCIL_BUFFER_BIT)):(p=i.COLOR_BUFFER_BIT,x=i.COLOR_ATTACHMENT0),h){const b=this.backend.get(n.renderTarget),y=b.framebuffers[n.getCacheKey()],_=b.msaaFrameBuffer;o.bindFramebuffer(i.DRAW_FRAMEBUFFER,y),o.bindFramebuffer(i.READ_FRAMEBUFFER,_);const C=f-l-u;i.blitFramebuffer(s,C,s+c,C+u,s,C,s+c,C+u,p,i.NEAREST),o.bindFramebuffer(i.READ_FRAMEBUFFER,y),o.bindTexture(i.TEXTURE_2D,a),i.copyTexSubImage2D(i.TEXTURE_2D,0,0,0,s,C,c,u),o.unbindTexture()}else{const b=i.createFramebuffer();o.bindFramebuffer(i.DRAW_FRAMEBUFFER,b),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,x,i.TEXTURE_2D,a,0),i.blitFramebuffer(0,0,c,u,0,0,c,u,p,i.NEAREST),i.deleteFramebuffer(b)}}else o.bindTexture(i.TEXTURE_2D,a),i.copyTexSubImage2D(i.TEXTURE_2D,0,0,0,s,f-u-l,c,u),o.unbindTexture();e.generateMipmaps&&this.generateMipmaps(e),this.backend._setFramebuffer(n)}setupRenderBufferStorage(e,n,r,i=!1){const{gl:o}=this,a=n.renderTarget,{depthTexture:s,depthBuffer:l,stencilBuffer:c,width:u,height:d}=a;if(o.bindRenderbuffer(o.RENDERBUFFER,e),l&&!c){let f=o.DEPTH_COMPONENT24;i===!0?this.extensions.get("WEBGL_multisampled_render_to_texture").renderbufferStorageMultisampleEXT(o.RENDERBUFFER,a.samples,f,u,d):r>0?(s&&s.isDepthTexture&&s.type===o.FLOAT&&(f=o.DEPTH_COMPONENT32F),o.renderbufferStorageMultisample(o.RENDERBUFFER,r,f,u,d)):o.renderbufferStorage(o.RENDERBUFFER,f,u,d),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,e)}else l&&c&&(r>0?o.renderbufferStorageMultisample(o.RENDERBUFFER,r,o.DEPTH24_STENCIL8,u,d):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,u,d),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,e));o.bindRenderbuffer(o.RENDERBUFFER,null)}async copyTextureToBuffer(e,n,r,i,o,a){const{backend:s,gl:l}=this,{textureGPU:c,glFormat:u,glType:d}=this.backend.get(e),f=l.createFramebuffer();s.state.bindFramebuffer(l.READ_FRAMEBUFFER,f);const h=e.isCubeTexture?l.TEXTURE_CUBE_MAP_POSITIVE_X+a:l.TEXTURE_2D;l.framebufferTexture2D(l.READ_FRAMEBUFFER,l.COLOR_ATTACHMENT0,h,c,0);const p=this._getTypedArrayType(d),x=this._getBytesPerTexel(d,u),y=i*o*x,_=l.createBuffer();l.bindBuffer(l.PIXEL_PACK_BUFFER,_),l.bufferData(l.PIXEL_PACK_BUFFER,y,l.STREAM_READ),l.readPixels(n,r,i,o,u,d,0),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),await s.utils._clientWaitAsync();const C=new p(y/p.BYTES_PER_ELEMENT);return l.bindBuffer(l.PIXEL_PACK_BUFFER,_),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,C),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),s.state.bindFramebuffer(l.READ_FRAMEBUFFER,null),l.deleteFramebuffer(f),C}_getTypedArrayType(e){const{gl:n}=this;if(e===n.UNSIGNED_BYTE)return Uint8Array;if(e===n.UNSIGNED_SHORT_4_4_4_4||e===n.UNSIGNED_SHORT_5_5_5_1||e===n.UNSIGNED_SHORT_5_6_5||e===n.UNSIGNED_SHORT)return Uint16Array;if(e===n.UNSIGNED_INT)return Uint32Array;if(e===n.HALF_FLOAT)return Uint16Array;if(e===n.FLOAT)return Float32Array;throw new Error(`Unsupported WebGL type: ${e}`)}_getBytesPerTexel(e,n){const{gl:r}=this;let i=0;if(e===r.UNSIGNED_BYTE&&(i=1),(e===r.UNSIGNED_SHORT_4_4_4_4||e===r.UNSIGNED_SHORT_5_5_5_1||e===r.UNSIGNED_SHORT_5_6_5||e===r.UNSIGNED_SHORT||e===r.HALF_FLOAT)&&(i=2),(e===r.UNSIGNED_INT||e===r.FLOAT)&&(i=4),n===r.RGBA)return i*4;if(n===r.RGB)return i*3;if(n===r.ALPHA)return i}dispose(){const{gl:e}=this;this._srcFramebuffer!==null&&e.deleteFramebuffer(this._srcFramebuffer),this._dstFramebuffer!==null&&e.deleteFramebuffer(this._dstFramebuffer)}}function Mw(t){return t.isDataTexture?t.image.data:typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?t:t.data}class cit{constructor(e){this.backend=e,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions(),this.extensions={}}get(e){let n=this.extensions[e];return n===void 0&&(n=this.gl.getExtension(e),this.extensions[e]=n),n}has(e){return this.availableExtensions.includes(e)}}class uit{constructor(e){this.backend=e,this.maxAnisotropy=null}getMaxAnisotropy(){if(this.maxAnisotropy!==null)return this.maxAnisotropy;const e=this.backend.gl,n=this.backend.extensions;if(n.has("EXT_texture_filter_anisotropic")===!0){const r=n.get("EXT_texture_filter_anisotropic");this.maxAnisotropy=e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else this.maxAnisotropy=0;return this.maxAnisotropy}}const EW={WEBGL_multi_draw:"WEBGL_multi_draw",WEBGL_compressed_texture_astc:"texture-compression-astc",WEBGL_compressed_texture_etc:"texture-compression-etc2",WEBGL_compressed_texture_etc1:"texture-compression-etc1",WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBGL_compressed_texture_s3tc:"texture-compression-s3tc",EXT_texture_compression_bptc:"texture-compression-bc",EXT_disjoint_timer_query_webgl2:"timestamp-query",OVR_multiview2:"OVR_multiview2"};class dit{constructor(e){this.gl=e.gl,this.extensions=e.extensions,this.info=e.renderer.info,this.mode=null,this.index=0,this.type=null,this.object=null}render(e,n){const{gl:r,mode:i,object:o,type:a,info:s,index:l}=this;l!==0?r.drawElements(i,n,a,e):r.drawArrays(i,e,n),s.update(o,n,1)}renderInstances(e,n,r){const{gl:i,mode:o,type:a,index:s,object:l,info:c}=this;r!==0&&(s!==0?i.drawElementsInstanced(o,n,a,e,r):i.drawArraysInstanced(o,e,n,r),c.update(l,n,r))}renderMultiDraw(e,n,r){const{extensions:i,mode:o,object:a,info:s}=this;if(r===0)return;const l=i.get("WEBGL_multi_draw");if(l===null)for(let c=0;c<r;c++)this.render(e[c],n[c]);else{this.index!==0?l.multiDrawElementsWEBGL(o,n,0,this.type,e,0,r):l.multiDrawArraysWEBGL(o,e,0,n,0,r);let c=0;for(let u=0;u<r;u++)c+=n[u];s.update(a,c,1)}}renderMultiDrawInstances(e,n,r,i){const{extensions:o,mode:a,object:s,info:l}=this;if(r===0)return;const c=o.get("WEBGL_multi_draw");if(c===null)for(let u=0;u<r;u++)this.renderInstances(e[u],n[u],i[u]);else{this.index!==0?c.multiDrawElementsInstancedWEBGL(a,n,0,this.type,e,0,i,0,r):c.multiDrawArraysInstancedWEBGL(a,e,0,n,0,i,0,r);let u=0;for(let d=0;d<r;d++)u+=n[d]*i[d];l.update(s,u,1)}}}class zue{constructor(e=256){this.trackTimestamp=!0,this.maxQueries=e,this.currentQueryIndex=0,this.queryOffsets=new Map,this.isDisposed=!1,this.lastValue=0,this.frames=[],this.pendingResolve=!1,this.timestamps=new Map}getTimestampFrames(){return this.frames}getTimestamp(e){let n=this.timestamps.get(e);return n===void 0&&(Pt(`TimestampQueryPool: No timestamp available for uid ${e}.`),n=0),n}hasTimestamp(e){return this.timestamps.has(e)}allocateQueriesForContext(){}async resolveQueriesAsync(){}dispose(){}}class fit extends zue{constructor(e,n,r=2048){if(super(r),this.gl=e,this.type=n,this.ext=e.getExtension("EXT_disjoint_timer_query_webgl2")||e.getExtension("EXT_disjoint_timer_query"),!this.ext){Pt("EXT_disjoint_timer_query not supported; timestamps will be disabled."),this.trackTimestamp=!1;return}this.queries=[];for(let i=0;i<this.maxQueries;i++)this.queries.push(e.createQuery());this.activeQuery=null,this.queryStates=new Map}allocateQueriesForContext(e){if(!this.trackTimestamp)return null;if(this.currentQueryIndex+2>this.maxQueries)return Ai(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const n=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryStates.set(n,"inactive"),this.queryOffsets.set(e,n),n}beginQuery(e){if(!this.trackTimestamp||this.isDisposed)return;const n=this.queryOffsets.get(e);if(n==null||this.activeQuery!==null)return;const r=this.queries[n];if(r)try{this.queryStates.get(n)==="inactive"&&(this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT,r),this.activeQuery=n,this.queryStates.set(n,"started"))}catch(i){$t("Error in beginQuery:",i),this.activeQuery=null,this.queryStates.set(n,"inactive")}}endQuery(e){if(!this.trackTimestamp||this.isDisposed)return;const n=this.queryOffsets.get(e);if(n!=null&&this.activeQuery===n)try{this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.queryStates.set(n,"ended"),this.activeQuery=null}catch(r){$t("Error in endQuery:",r),this.queryStates.set(n,"inactive"),this.activeQuery=null}}async resolveQueriesAsync(){if(!this.trackTimestamp||this.pendingResolve)return this.lastValue;this.pendingResolve=!0;try{const e=new Map;for(const[o,a]of this.queryOffsets)if(this.queryStates.get(a)==="ended"){const l=this.queries[a];e.set(o,this.resolveQuery(l))}if(e.size===0)return this.lastValue;const n={},r=[];for(const[o,a]of e){const s=o.match(/^(.*):f(\d+)$/),l=parseInt(s[2]);r.includes(l)===!1&&r.push(l),n[l]===void 0&&(n[l]=0);const c=await a;this.timestamps.set(o,c),n[l]+=c}const i=n[r[r.length-1]];return this.lastValue=i,this.frames=r,this.currentQueryIndex=0,this.queryOffsets.clear(),this.queryStates.clear(),this.activeQuery=null,i}catch(e){return $t("Error resolving queries:",e),this.lastValue}finally{this.pendingResolve=!1}}async resolveQuery(e){return new Promise(n=>{if(this.isDisposed){n(this.lastValue);return}let r,i=!1;const o=()=>{r&&(clearTimeout(r),r=null)},a=l=>{i||(i=!0,o(),n(l))},s=()=>{if(this.isDisposed){a(this.lastValue);return}try{if(this.gl.getParameter(this.ext.GPU_DISJOINT_EXT)){a(this.lastValue);return}if(!this.gl.getQueryParameter(e,this.gl.QUERY_RESULT_AVAILABLE)){r=setTimeout(s,1);return}const u=this.gl.getQueryParameter(e,this.gl.QUERY_RESULT);n(Number(u)/1e6)}catch(l){$t("Error checking query:",l),n(this.lastValue)}};s()})}dispose(){if(!this.isDisposed&&(this.isDisposed=!0,!!this.trackTimestamp)){for(const e of this.queries)this.gl.deleteQuery(e);this.queries=[],this.queryStates.clear(),this.queryOffsets.clear(),this.lastValue=0,this.activeQuery=null}}}class MW extends Vue{constructor(e={}){super(e),this.isWebGLBackend=!0,this.attributeUtils=null,this.extensions=null,this.capabilities=null,this.textureUtils=null,this.bufferRenderer=null,this.gl=null,this.state=null,this.utils=null,this.vaoCache={},this.transformFeedbackCache={},this.discard=!1,this.disjoint=null,this.parallel=null,this._currentContext=null,this._knownBindings=new WeakSet,this._supportsInvalidateFramebuffer=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),this._xrFramebuffer=null}init(e){super.init(e);const n=this.parameters,r={antialias:e.currentSamples>0,alpha:!0,depth:e.depth,stencil:e.stencil},i=n.context!==void 0?n.context:e.domElement.getContext("webgl2",r);function o(a){a.preventDefault();const s={api:"WebGL",message:a.statusMessage||"Unknown reason",reason:null,originalEvent:a};e.onDeviceLost(s)}this._onContextLost=o,e.domElement.addEventListener("webglcontextlost",o,!1),this.gl=i,this.extensions=new cit(this),this.capabilities=new uit(this),this.attributeUtils=new oit(this),this.textureUtils=new lit(this),this.bufferRenderer=new dit(this),this.state=new ait(this),this.utils=new sit(this),this.extensions.get("EXT_color_buffer_float"),this.extensions.get("WEBGL_clip_cull_distance"),this.extensions.get("OES_texture_float_linear"),this.extensions.get("EXT_color_buffer_half_float"),this.extensions.get("WEBGL_multisampled_render_to_texture"),this.extensions.get("WEBGL_render_shared_exponent"),this.extensions.get("WEBGL_multi_draw"),this.extensions.get("OVR_multiview2"),this.disjoint=this.extensions.get("EXT_disjoint_timer_query_webgl2"),this.parallel=this.extensions.get("KHR_parallel_shader_compile"),this.drawBuffersIndexedExt=this.extensions.get("OES_draw_buffers_indexed")}get coordinateSystem(){return ws}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}async makeXRCompatible(){this.gl.getContextAttributes().xrCompatible!==!0&&await this.gl.makeXRCompatible()}setXRTarget(e){this._xrFramebuffer=e}setXRRenderTargetTextures(e,n,r=null){const i=this.gl;if(this.set(e.texture,{textureGPU:n,glInternalFormat:i.RGBA8}),r!==null){const o=e.stencilBuffer?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24;this.set(e.depthTexture,{textureGPU:r,glInternalFormat:o}),this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&e._autoAllocateDepthBuffer===!0&&e.multiview===!1&&Pt("WebGLBackend: Render-to-texture extension was disabled because an external texture was provided"),e._autoAllocateDepthBuffer=!1}}initTimestampQuery(e,n){if(!this.disjoint||!this.trackTimestamp)return;this.timestampQueryPool[e]||(this.timestampQueryPool[e]=new fit(this.gl,e,2048));const r=this.timestampQueryPool[e];r.allocateQueriesForContext(n)!==null&&r.beginQuery(n)}prepareTimestampBuffer(e,n){if(!this.disjoint||!this.trackTimestamp)return;this.timestampQueryPool[e].endQuery(n)}getContext(){return this.gl}beginRender(e){const{state:n}=this,r=this.get(e);if(e.viewport)this.updateViewport(e);else{const{width:o,height:a}=this.getDrawingBufferSize();n.viewport(0,0,o,a)}if(e.scissor){const{x:o,y:a,width:s,height:l}=e.scissorValue;n.scissor(o,e.height-l-a,s,l)}this.initTimestampQuery(Yu.RENDER,this.getTimestampUID(e)),r.previousContext=this._currentContext,this._currentContext=e,this._setFramebuffer(e),this.clear(e.clearColor,e.clearDepth,e.clearStencil,e,!1);const i=e.occlusionQueryCount;i>0&&(r.currentOcclusionQueries=r.occlusionQueries,r.currentOcclusionQueryObjects=r.occlusionQueryObjects,r.lastOcclusionObject=null,r.occlusionQueries=new Array(i),r.occlusionQueryObjects=new Array(i),r.occlusionQueryIndex=0)}finishRender(e){const{gl:n,state:r}=this,i=this.get(e),o=i.previousContext;r.resetVertexState();const a=e.occlusionQueryCount;a>0&&(a>i.occlusionQueryIndex&&n.endQuery(n.ANY_SAMPLES_PASSED),this.resolveOccludedAsync(e));const s=e.textures;if(s!==null)for(let l=0;l<s.length;l++){const c=s[l];c.generateMipmaps&&this.generateMipmaps(c)}if(this._currentContext=o,this._resolveRenderTarget(e),o!==null)if(this._setFramebuffer(o),o.viewport)this.updateViewport(o);else{const{width:l,height:c}=this.getDrawingBufferSize();r.viewport(0,0,l,c)}this.prepareTimestampBuffer(Yu.RENDER,this.getTimestampUID(e))}resolveOccludedAsync(e){const n=this.get(e),{currentOcclusionQueries:r,currentOcclusionQueryObjects:i}=n;if(r&&i){const o=new WeakSet,{gl:a}=this;n.currentOcclusionQueryObjects=null,n.currentOcclusionQueries=null;const s=()=>{let l=0;for(let c=0;c<r.length;c++){const u=r[c];u!==null&&a.getQueryParameter(u,a.QUERY_RESULT_AVAILABLE)&&(a.getQueryParameter(u,a.QUERY_RESULT)===0&&o.add(i[c]),r[c]=null,a.deleteQuery(u),l++)}l<r.length?requestAnimationFrame(s):n.occluded=o};s()}}isOccluded(e,n){const r=this.get(e);return r.occluded&&r.occluded.has(n)}updateViewport(e){const{state:n}=this,{x:r,y:i,width:o,height:a}=e.viewportValue;n.viewport(r,e.height-a-i,o,a)}setScissorTest(e){this.state.setScissorTest(e)}getClearColor(){const e=super.getClearColor();return e.r*=e.a,e.g*=e.a,e.b*=e.a,e}clear(e,n,r,i=null,o=!0,a=!0){const{gl:s,renderer:l}=this;i===null&&(i={textures:null,clearColorValue:this.getClearColor()});let c=0;if(e&&(c|=s.COLOR_BUFFER_BIT),n&&(c|=s.DEPTH_BUFFER_BIT),r&&(c|=s.STENCIL_BUFFER_BIT),c!==0){let u;i.clearColorValue?u=i.clearColorValue:u=this.getClearColor();const d=l.getClearDepth(),f=l.getClearStencil();if(n&&this.state.setDepthMask(!0),i.textures===null)s.clearColor(u.r,u.g,u.b,u.a),s.clear(c);else{if(o&&this._setFramebuffer(i),e)for(let h=0;h<i.textures.length;h++)h===0?s.clearBufferfv(s.COLOR,h,[u.r,u.g,u.b,u.a]):s.clearBufferfv(s.COLOR,h,[0,0,0,1]);n&&r?s.clearBufferfi(s.DEPTH_STENCIL,0,d,f):n?s.clearBufferfv(s.DEPTH,0,[d]):r&&s.clearBufferiv(s.STENCIL,0,[f]),o&&a&&this._resolveRenderTarget(i)}}}beginCompute(e){const{state:n,gl:r}=this;n.bindFramebuffer(r.FRAMEBUFFER,null),this.initTimestampQuery(Yu.COMPUTE,this.getTimestampUID(e))}compute(e,n,r,i,o=null){const{state:a,gl:s}=this;this.discard===!1&&(a.enable(s.RASTERIZER_DISCARD),this.discard=!0);const{programGPU:l,transformBuffers:c,attributes:u}=this.get(i),d=this._getVaoKey(u),f=this.vaoCache[d];f===void 0?this.vaoCache[d]=this._createVao(u):a.setVertexState(f),a.useProgram(l),this._bindUniforms(r);const h=this._getTransformFeedback(c);s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,h),s.beginTransformFeedback(s.POINTS),o=o!==null?o:n.count,Array.isArray(o)?(Ai("WebGLBackend.compute(): The count parameter must be a single number, not an array."),o=o[0]):o&&typeof o=="object"&&o.isIndirectStorageBufferAttribute&&(Ai("WebGLBackend.compute(): The count parameter must be a single number, not IndirectStorageBufferAttribute"),o=n.count),u[0].isStorageInstancedBufferAttribute?s.drawArraysInstanced(s.POINTS,0,1,o):s.drawArrays(s.POINTS,0,o),s.endTransformFeedback(),s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,null);for(let p=0;p<c.length;p++){const x=c[p];x.pbo&&this.has(x.pbo)&&this.textureUtils.copyBufferToTexture(x.transformBuffer,x.pbo),x.switchBuffers()}}finishCompute(e){const{state:n,gl:r}=this;this.discard=!1,n.disable(r.RASTERIZER_DISCARD),this.prepareTimestampBuffer(Yu.COMPUTE,this.getTimestampUID(e)),this._currentContext&&this._setFramebuffer(this._currentContext)}_isRenderCameraDepthArray(e){return e.depthTexture&&e.depthTexture.isArrayTexture&&e.camera.isArrayCamera}draw(e){const{object:n,pipeline:r,material:i,context:o,hardwareClippingPlanes:a}=e,{programGPU:s}=this.get(r),{gl:l,state:c}=this,u=this.get(o),d=e.getDrawParameters();if(d===null)return;this._bindUniforms(e.getBindings());const f=n.isMesh&&n.matrixWorld.determinant()<0;c.setMaterial(i,f,a),o.textures!==null&&o.textures.length>1&&c.setMRTBlending(o.textures),c.useProgram(s);const h=e.getAttributes(),p=this.get(h);let x=p.vaoGPU;if(x===void 0){const O=this._getVaoKey(h);x=this.vaoCache[O],x===void 0&&(x=this._createVao(h),this.vaoCache[O]=x,p.vaoGPU=x)}const b=e.getIndex(),y=b!==null?this.get(b).bufferGPU:null;c.setVertexState(x,y);const _=u.lastOcclusionObject;if(_!==n&&_!==void 0){if(_!==null&&_.occlusionTest===!0&&(l.endQuery(l.ANY_SAMPLES_PASSED),u.occlusionQueryIndex++),n.occlusionTest===!0){const O=l.createQuery();l.beginQuery(l.ANY_SAMPLES_PASSED,O),u.occlusionQueries[u.occlusionQueryIndex]=O,u.occlusionQueryObjects[u.occlusionQueryIndex]=n}u.lastOcclusionObject=n}const C=this.bufferRenderer;n.isPoints?C.mode=l.POINTS:n.isLineSegments?C.mode=l.LINES:n.isLine?C.mode=l.LINE_STRIP:n.isLineLoop?C.mode=l.LINE_LOOP:i.wireframe===!0?(c.setLineWidth(i.wireframeLinewidth*this.renderer.getPixelRatio()),C.mode=l.LINES):C.mode=l.TRIANGLES;const{vertexCount:E,instanceCount:M}=d;let{firstVertex:R}=d;if(C.object=n,b!==null){R*=b.array.BYTES_PER_ELEMENT;const O=this.get(b);C.index=b.count,C.type=O.type}else C.index=0;const N=()=>{n.isBatchedMesh?n._multiDrawInstances!==null?(Ai("WebGLBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),C.renderMultiDrawInstances(n._multiDrawStarts,n._multiDrawCounts,n._multiDrawCount,n._multiDrawInstances)):this.hasFeature("WEBGL_multi_draw")?C.renderMultiDraw(n._multiDrawStarts,n._multiDrawCounts,n._multiDrawCount):Ai("WebGLBackend: WEBGL_multi_draw not supported."):M>1?C.renderInstances(R,E,M):C.render(R,E)};if(e.camera.isArrayCamera===!0&&e.camera.cameras.length>0&&e.camera.isMultiViewCamera===!1){const O=this.get(e.camera),I=e.camera.cameras,L=e.getBindingGroup("cameraIndex").bindings[0];if(O.indexesGPU===void 0||O.indexesGPU.length!==I.length){const z=new Uint32Array([0,0,0,0]),H=[];for(let j=0,X=I.length;j<X;j++){const Y=l.createBuffer();z[0]=j,l.bindBuffer(l.UNIFORM_BUFFER,Y),l.bufferData(l.UNIFORM_BUFFER,z,l.STATIC_DRAW),H.push(Y)}O.indexesGPU=H}const F=this.get(L),$=this.renderer.getPixelRatio(),V=this._currentContext.renderTarget,U=this._isRenderCameraDepthArray(this._currentContext),k=this._currentContext.activeCubeFace;if(U){const z=this.get(V.depthTexture);if(z.clearedRenderId!==this.renderer._nodes.nodeFrame.renderId){z.clearedRenderId=this.renderer._nodes.nodeFrame.renderId;const{stencilBuffer:H}=V;for(let j=0,X=I.length;j<X;j++)this.renderer._activeCubeFace=j,this._currentContext.activeCubeFace=j,this._setFramebuffer(this._currentContext),this.clear(!1,!0,H,this._currentContext,!1,!1);this.renderer._activeCubeFace=k,this._currentContext.activeCubeFace=k}}for(let z=0,H=I.length;z<H;z++){const j=I[z];if(n.layers.test(j.layers)){U&&(this.renderer._activeCubeFace=z,this._currentContext.activeCubeFace=z,this._setFramebuffer(this._currentContext));const X=j.viewport;if(X!==void 0){const Y=X.x*$,J=X.y*$,ee=X.width*$,re=X.height*$;c.viewport(Math.floor(Y),Math.floor(e.context.height-re-J),Math.floor(ee),Math.floor(re))}c.bindBufferBase(l.UNIFORM_BUFFER,F.index,O.indexesGPU[z]),N()}this._currentContext.activeCubeFace=k,this.renderer._activeCubeFace=k}}else N()}needsRenderUpdate(){return!1}getRenderCacheKey(){return""}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,n){this.textureUtils.createTexture(e,n)}updateTexture(e,n){this.textureUtils.updateTexture(e,n)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e,n=!1){this.textureUtils.destroyTexture(e,n)}async copyTextureToBuffer(e,n,r,i,o,a){return this.textureUtils.copyTextureToBuffer(e,n,r,i,o,a)}updateSampler(){return""}createNodeBuilder(e,n){return new nit(e,n)}createProgram(e){const n=this.gl,{stage:r,code:i}=e,o=r==="fragment"?n.createShader(n.FRAGMENT_SHADER):n.createShader(n.VERTEX_SHADER);n.shaderSource(o,i),n.compileShader(o),this.set(e,{shaderGPU:o})}destroyProgram(e){this.delete(e)}createRenderPipeline(e,n){const r=this.gl,i=e.pipeline,{fragmentProgram:o,vertexProgram:a}=i,s=r.createProgram(),l=this.get(o).shaderGPU,c=this.get(a).shaderGPU;if(r.attachShader(s,l),r.attachShader(s,c),r.linkProgram(s),this.set(i,{programGPU:s,fragmentShader:l,vertexShader:c}),n!==null&&this.parallel){const u=new Promise(d=>{const f=this.parallel,h=()=>{r.getProgramParameter(s,f.COMPLETION_STATUS_KHR)?(this._completeCompile(e,i),d()):requestAnimationFrame(h)};h()});n.push(u);return}this._completeCompile(e,i)}_handleSource(e,n){const r=e.split(`
`),i=[],o=Math.max(n-6,0),a=Math.min(n+6,r.length);for(let s=o;s<a;s++){const l=s+1;i.push(`${l===n?">":" "} ${l}: ${r[s]}`)}return i.join(`
`)}_getShaderErrors(e,n,r){const i=e.getShaderParameter(n,e.COMPILE_STATUS),a=(e.getShaderInfoLog(n)||"").trim();if(i&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const l=parseInt(s[1]);return r.toUpperCase()+`

`+a+`

`+this._handleSource(e.getShaderSource(n),l)}else return a}_logProgramError(e,n,r){if(this.renderer.debug.checkShaderErrors){const i=this.gl,a=(i.getProgramInfoLog(e)||"").trim();if(i.getProgramParameter(e,i.LINK_STATUS)===!1)if(typeof this.renderer.debug.onShaderError=="function")this.renderer.debug.onShaderError(i,e,r,n);else{const s=this._getShaderErrors(i,r,"vertex"),l=this._getShaderErrors(i,n,"fragment");$t("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(e,i.VALIDATE_STATUS)+`

Program Info Log: `+a+`
`+s+`
`+l)}else a!==""&&Pt("WebGLProgram: Program Info Log:",a)}}_completeCompile(e,n){const{state:r,gl:i}=this,o=this.get(n),{programGPU:a,fragmentShader:s,vertexShader:l}=o;i.getProgramParameter(a,i.LINK_STATUS)===!1&&this._logProgramError(a,s,l),r.useProgram(a);const c=e.getBindings();this._setupBindings(c,a),this.set(n,{programGPU:a})}createComputePipeline(e,n){const{state:r,gl:i}=this,o={stage:"fragment",code:`#version 300 es
precision highp float;
void main() {}`};this.createProgram(o);const{computeProgram:a}=e,s=i.createProgram(),l=this.get(o).shaderGPU,c=this.get(a).shaderGPU,u=a.transforms,d=[],f=[];for(let b=0;b<u.length;b++){const y=u[b];d.push(y.varyingName),f.push(y.attributeNode)}i.attachShader(s,l),i.attachShader(s,c),i.transformFeedbackVaryings(s,d,i.SEPARATE_ATTRIBS),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)===!1&&this._logProgramError(s,l,c),r.useProgram(s),this._setupBindings(n,s);const h=a.attributes,p=[],x=[];for(let b=0;b<h.length;b++){const y=h[b].node.attribute;p.push(y),this.has(y)||this.attributeUtils.createAttribute(y,i.ARRAY_BUFFER)}for(let b=0;b<f.length;b++){const y=f[b].attribute;this.has(y)||this.attributeUtils.createAttribute(y,i.ARRAY_BUFFER);const _=this.get(y);x.push(_)}this.set(e,{programGPU:s,transformBuffers:x,attributes:p})}createBindings(e,n){if(this._knownBindings.has(n)===!1){this._knownBindings.add(n);let r=0,i=0;for(const o of n){this.set(o,{textures:i,uniformBuffers:r});for(const a of o.bindings)a.isUniformBuffer&&r++,a.isSampledTexture&&i++}}this.updateBindings(e,n)}updateBindings(e){const{gl:n}=this,r=this.get(e);let i=r.uniformBuffers,o=r.textures;for(const a of e.bindings){const s=this.get(a);if(a.isUniformsGroup||a.isUniformBuffer){const l=a.buffer;let{bufferGPU:c}=this.get(l);c===void 0?(c=n.createBuffer(),n.bindBuffer(n.UNIFORM_BUFFER,c),n.bufferData(n.UNIFORM_BUFFER,l.byteLength,n.DYNAMIC_DRAW),this.set(l,{bufferGPU:c})):n.bindBuffer(n.UNIFORM_BUFFER,c);const u=a.updateRanges;if(n.bindBuffer(n.UNIFORM_BUFFER,c),u.length===0)n.bufferData(n.UNIFORM_BUFFER,l,n.DYNAMIC_DRAW);else{const d=jT(l),f=d?1:l.BYTES_PER_ELEMENT;for(let h=0,p=u.length;h<p;h++){const x=u[h],b=x.start*f,y=x.count*f,_=b*(d?l.BYTES_PER_ELEMENT:1);n.bufferSubData(n.UNIFORM_BUFFER,_,l,b,y)}}s.index=i++,s.bufferGPU=c,this.set(a,s)}else if(a.isSampledTexture){const{textureGPU:l,glTextureType:c}=this.get(a.texture);s.index=o++,s.textureGPU=l,s.glTextureType=c,this.set(a,s)}}}updateBinding(e){const n=this.gl;if(e.isUniformsGroup||e.isUniformBuffer){const i=this.get(e).bufferGPU,o=e.buffer,a=e.updateRanges;if(n.bindBuffer(n.UNIFORM_BUFFER,i),a.length===0)n.bufferData(n.UNIFORM_BUFFER,o,n.DYNAMIC_DRAW);else{const s=jT(o),l=s?1:o.BYTES_PER_ELEMENT;for(let c=0,u=a.length;c<u;c++){const d=a[c],f=d.start*l,h=d.count*l,p=f*(s?o.BYTES_PER_ELEMENT:1);n.bufferSubData(n.UNIFORM_BUFFER,p,o,f,h)}}}}createIndexAttribute(e){const n=this.gl;this.attributeUtils.createAttribute(e,n.ELEMENT_ARRAY_BUFFER)}createAttribute(e){if(this.has(e))return;const n=this.gl;this.attributeUtils.createAttribute(e,n.ARRAY_BUFFER)}createStorageAttribute(e){if(this.has(e))return;const n=this.gl;this.attributeUtils.createAttribute(e,n.ARRAY_BUFFER)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}hasFeature(e){const n=Object.keys(EW).filter(i=>EW[i]===e),r=this.extensions;for(let i=0;i<n.length;i++)if(r.has(n[i]))return!0;return!1}getMaxAnisotropy(){return this.capabilities.getMaxAnisotropy()}copyTextureToTexture(e,n,r=null,i=null,o=0,a=0){this.textureUtils.copyTextureToTexture(e,n,r,i,o,a)}copyFramebufferToTexture(e,n,r){this.textureUtils.copyFramebufferToTexture(e,n,r)}_setFramebuffer(e){const{gl:n,state:r}=this;let i=null;if(e.textures!==null){const o=e.renderTarget,a=this.get(o),{samples:s,depthBuffer:l,stencilBuffer:c}=o,u=o.isWebGLCubeRenderTarget===!0,d=o.isRenderTarget3D===!0,f=o.depth>1,h=o.isXRRenderTarget===!0,p=h===!0&&o._hasExternalTextures===!0;let x=a.msaaFrameBuffer,b=a.depthRenderbuffer;const y=this.extensions.get("WEBGL_multisampled_render_to_texture"),_=this.extensions.get("OVR_multiview2"),C=this._useMultisampledExtension(o),E=Lce(e);let M;if(u?(a.cubeFramebuffers||(a.cubeFramebuffers={}),M=a.cubeFramebuffers[E]):h&&p===!1?M=this._xrFramebuffer:(a.framebuffers||(a.framebuffers={}),M=a.framebuffers[E]),M===void 0){M=n.createFramebuffer(),r.bindFramebuffer(n.FRAMEBUFFER,M);const R=e.textures,N=[];if(u){a.cubeFramebuffers[E]=M;const{textureGPU:I}=this.get(R[0]),L=this.renderer._activeCubeFace,F=this.renderer._activeMipmapLevel;n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+L,I,F)}else{a.framebuffers[E]=M;for(let I=0;I<R.length;I++){const L=R[I],F=this.get(L);F.renderTarget=e.renderTarget,F.cacheKey=E;const $=n.COLOR_ATTACHMENT0+I;if(o.multiview)_.framebufferTextureMultisampleMultiviewOVR(n.FRAMEBUFFER,$,F.textureGPU,0,s,0,2);else if(d||f){const V=this.renderer._activeCubeFace,U=this.renderer._activeMipmapLevel;n.framebufferTextureLayer(n.FRAMEBUFFER,$,F.textureGPU,U,V)}else if(C)y.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,$,n.TEXTURE_2D,F.textureGPU,0,s);else{const V=this.renderer._activeMipmapLevel;n.framebufferTexture2D(n.FRAMEBUFFER,$,n.TEXTURE_2D,F.textureGPU,V)}}}const O=c?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;if(o._autoAllocateDepthBuffer===!0){const I=n.createRenderbuffer();this.textureUtils.setupRenderBufferStorage(I,e,0,C),a.xrDepthRenderbuffer=I,N.push(c?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT),n.bindRenderbuffer(n.RENDERBUFFER,I),n.framebufferRenderbuffer(n.FRAMEBUFFER,O,n.RENDERBUFFER,I)}else if(e.depthTexture!==null){N.push(c?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT);const I=this.get(e.depthTexture);if(I.renderTarget=e.renderTarget,I.cacheKey=E,o.multiview)_.framebufferTextureMultisampleMultiviewOVR(n.FRAMEBUFFER,O,I.textureGPU,0,s,0,2);else if(p&&C)y.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,O,n.TEXTURE_2D,I.textureGPU,0,s);else if(e.depthTexture.isArrayTexture){const L=this.renderer._activeCubeFace;n.framebufferTextureLayer(n.FRAMEBUFFER,O,I.textureGPU,0,L)}else if(e.depthTexture.isCubeTexture){const L=this.renderer._activeCubeFace;n.framebufferTexture2D(n.FRAMEBUFFER,O,n.TEXTURE_CUBE_MAP_POSITIVE_X+L,I.textureGPU,0)}else n.framebufferTexture2D(n.FRAMEBUFFER,O,n.TEXTURE_2D,I.textureGPU,0)}a.depthInvalidationArray=N}else{if(this._isRenderCameraDepthArray(e)){r.bindFramebuffer(n.FRAMEBUFFER,M);const N=this.renderer._activeCubeFace,O=this.get(e.depthTexture),I=c?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.framebufferTextureLayer(n.FRAMEBUFFER,I,O.textureGPU,0,N)}if((h||C||o.multiview)&&o._isOpaqueFramebuffer!==!0){r.bindFramebuffer(n.FRAMEBUFFER,M);const N=this.get(e.textures[0]);o.multiview?_.framebufferTextureMultisampleMultiviewOVR(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,N.textureGPU,0,s,0,2):C?y.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,N.textureGPU,0,s):n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,N.textureGPU,0);const O=c?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;if(o._autoAllocateDepthBuffer===!0){const I=a.xrDepthRenderbuffer;n.bindRenderbuffer(n.RENDERBUFFER,I),n.framebufferRenderbuffer(n.FRAMEBUFFER,O,n.RENDERBUFFER,I)}else{const I=this.get(e.depthTexture);o.multiview?_.framebufferTextureMultisampleMultiviewOVR(n.FRAMEBUFFER,O,I.textureGPU,0,s,0,2):C?y.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,O,n.TEXTURE_2D,I.textureGPU,0,s):n.framebufferTexture2D(n.FRAMEBUFFER,O,n.TEXTURE_2D,I.textureGPU,0)}}}if(s>0&&C===!1&&!o.multiview){if(x===void 0){const R=[];x=n.createFramebuffer(),r.bindFramebuffer(n.FRAMEBUFFER,x);const N=[],O=e.textures;for(let I=0;I<O.length;I++){N[I]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,N[I]),R.push(n.COLOR_ATTACHMENT0+I);const L=e.textures[I],F=this.get(L);n.renderbufferStorageMultisample(n.RENDERBUFFER,s,F.glInternalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+I,n.RENDERBUFFER,N[I])}if(n.bindRenderbuffer(n.RENDERBUFFER,null),a.msaaFrameBuffer=x,a.msaaRenderbuffers=N,l&&b===void 0){b=n.createRenderbuffer(),this.textureUtils.setupRenderBufferStorage(b,e,s),a.depthRenderbuffer=b;const I=c?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;R.push(I)}a.invalidationArray=R}i=a.msaaFrameBuffer}else i=M;r.drawBuffers(e,M)}r.bindFramebuffer(n.FRAMEBUFFER,i)}_getVaoKey(e){let n="";for(let r=0;r<e.length;r++){const i=this.get(e[r]);n+=":"+i.id}return n}_createVao(e){const{gl:n}=this,r=n.createVertexArray();n.bindVertexArray(r);for(let i=0;i<e.length;i++){const o=e[i],a=this.get(o);n.bindBuffer(n.ARRAY_BUFFER,a.bufferGPU),n.enableVertexAttribArray(i);let s,l;o.isInterleavedBufferAttribute===!0?(s=o.data.stride*a.bytesPerElement,l=o.offset*a.bytesPerElement):(s=0,l=0),a.isInteger?n.vertexAttribIPointer(i,o.itemSize,a.type,s,l):n.vertexAttribPointer(i,o.itemSize,a.type,o.normalized,s,l),o.isInstancedBufferAttribute&&!o.isInterleavedBufferAttribute?n.vertexAttribDivisor(i,o.meshPerAttribute):o.isInterleavedBufferAttribute&&o.data.isInstancedInterleavedBuffer&&n.vertexAttribDivisor(i,o.data.meshPerAttribute)}return n.bindBuffer(n.ARRAY_BUFFER,null),r}_getTransformFeedback(e){let n="";for(let o=0;o<e.length;o++)n+=":"+e[o].id;let r=this.transformFeedbackCache[n];if(r!==void 0)return r;const{gl:i}=this;r=i.createTransformFeedback(),i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,r);for(let o=0;o<e.length;o++){const a=e[o];i.bindBufferBase(i.TRANSFORM_FEEDBACK_BUFFER,o,a.transformBuffer)}return i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,null),this.transformFeedbackCache[n]=r,r}_setupBindings(e,n){const r=this.gl;for(const i of e)for(const o of i.bindings){const s=this.get(o).index;if(o.isUniformsGroup||o.isUniformBuffer){const l=r.getUniformBlockIndex(n,o.name);r.uniformBlockBinding(n,l,s)}else if(o.isSampledTexture){const l=r.getUniformLocation(n,o.name);r.uniform1i(l,s)}}}_bindUniforms(e){const{gl:n,state:r}=this;for(const i of e)for(const o of i.bindings){const a=this.get(o),s=a.index;o.isUniformsGroup||o.isUniformBuffer?r.bindBufferBase(n.UNIFORM_BUFFER,s,a.bufferGPU):o.isSampledTexture&&r.bindTexture(a.glTextureType,a.textureGPU,n.TEXTURE0+s)}}_resolveRenderTarget(e){const{gl:n,state:r}=this,i=e.renderTarget;if(e.textures!==null&&i){const o=this.get(i);if(i.samples>0&&this._useMultisampledExtension(i)===!1){const a=o.framebuffers[e.getCacheKey()];let s=n.COLOR_BUFFER_BIT;i.resolveDepthBuffer&&(i.depthBuffer&&(s|=n.DEPTH_BUFFER_BIT),i.stencilBuffer&&i.resolveStencilBuffer&&(s|=n.STENCIL_BUFFER_BIT));const l=o.msaaFrameBuffer,c=o.msaaRenderbuffers,u=e.textures,d=u.length>1;if(r.bindFramebuffer(n.READ_FRAMEBUFFER,l),r.bindFramebuffer(n.DRAW_FRAMEBUFFER,a),d)for(let f=0;f<u.length;f++)n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,n.RENDERBUFFER,null),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,n.TEXTURE_2D,null,0);for(let f=0;f<u.length;f++){if(d){const{textureGPU:h}=this.get(u[f]);n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,c[f]),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,h,0)}if(e.scissor){const{x:h,y:p,width:x,height:b}=e.scissorValue,y=e.height-b-p;n.blitFramebuffer(h,y,h+x,y+b,h,y,h+x,y+b,s,n.NEAREST)}else n.blitFramebuffer(0,0,e.width,e.height,0,0,e.width,e.height,s,n.NEAREST)}if(d)for(let f=0;f<u.length;f++){const{textureGPU:h}=this.get(u[f]);n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,n.RENDERBUFFER,c[f]),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,n.TEXTURE_2D,h,0)}this._supportsInvalidateFramebuffer===!0&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,o.invalidationArray)}else if(i.resolveDepthBuffer===!1&&o.framebuffers){const a=o.framebuffers[e.getCacheKey()];r.bindFramebuffer(n.DRAW_FRAMEBUFFER,a),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,o.depthInvalidationArray)}}}_useMultisampledExtension(e){return e.multiview===!0?!0:e.samples>0&&this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&e._autoAllocateDepthBuffer!==!1}dispose(){this.textureUtils!==null&&this.textureUtils.dispose();const e=this.extensions.get("WEBGL_lose_context");e&&e.loseContext(),this.renderer.domElement.removeEventListener("webglcontextlost",this._onContextLost)}}const rA={PointList:"point-list",LineList:"line-list",LineStrip:"line-strip",TriangleList:"triangle-list",TriangleStrip:"triangle-strip"},_m=typeof self<"u"?self.GPUShaderStage:{VERTEX:1,FRAGMENT:2,COMPUTE:4},ma={Never:"never",Less:"less",Equal:"equal",LessEqual:"less-equal",Greater:"greater",NotEqual:"not-equal",GreaterEqual:"greater-equal",Always:"always"},ps={Store:"store"},ti={Load:"load",Clear:"clear"},RW={CCW:"ccw",CW:"cw"},PW={None:"none",Back:"back"},Bv={Uint16:"uint16",Uint32:"uint32"},Xe={R8Unorm:"r8unorm",R8Snorm:"r8snorm",R8Uint:"r8uint",R8Sint:"r8sint",R16Uint:"r16uint",R16Sint:"r16sint",R16Float:"r16float",RG8Unorm:"rg8unorm",RG8Snorm:"rg8snorm",RG8Uint:"rg8uint",RG8Sint:"rg8sint",R32Uint:"r32uint",R32Sint:"r32sint",R32Float:"r32float",RG16Uint:"rg16uint",RG16Sint:"rg16sint",RG16Float:"rg16float",RGBA8Unorm:"rgba8unorm",RGBA8UnormSRGB:"rgba8unorm-srgb",RGBA8Snorm:"rgba8snorm",RGBA8Uint:"rgba8uint",RGBA8Sint:"rgba8sint",BGRA8Unorm:"bgra8unorm",BGRA8UnormSRGB:"bgra8unorm-srgb",RGB9E5UFloat:"rgb9e5ufloat",RGB10A2Unorm:"rgb10a2unorm",RG11B10UFloat:"rg11b10ufloat",RG32Uint:"rg32uint",RG32Sint:"rg32sint",RG32Float:"rg32float",RGBA16Uint:"rgba16uint",RGBA16Sint:"rgba16sint",RGBA16Float:"rgba16float",RGBA32Uint:"rgba32uint",RGBA32Sint:"rgba32sint",RGBA32Float:"rgba32float",Depth16Unorm:"depth16unorm",Depth24Plus:"depth24plus",Depth24PlusStencil8:"depth24plus-stencil8",Depth32Float:"depth32float",Depth32FloatStencil8:"depth32float-stencil8",BC1RGBAUnorm:"bc1-rgba-unorm",BC1RGBAUnormSRGB:"bc1-rgba-unorm-srgb",BC2RGBAUnorm:"bc2-rgba-unorm",BC2RGBAUnormSRGB:"bc2-rgba-unorm-srgb",BC3RGBAUnorm:"bc3-rgba-unorm",BC3RGBAUnormSRGB:"bc3-rgba-unorm-srgb",BC4RUnorm:"bc4-r-unorm",BC4RSnorm:"bc4-r-snorm",BC5RGUnorm:"bc5-rg-unorm",BC5RGSnorm:"bc5-rg-snorm",BC6HRGBUFloat:"bc6h-rgb-ufloat",BC6HRGBFloat:"bc6h-rgb-float",BC7RGBAUnorm:"bc7-rgba-unorm",BC7RGBAUnormSRGB:"bc7-rgba-unorm-srgb",ETC2RGB8Unorm:"etc2-rgb8unorm",ETC2RGB8UnormSRGB:"etc2-rgb8unorm-srgb",ETC2RGB8A1Unorm:"etc2-rgb8a1unorm",ETC2RGB8A1UnormSRGB:"etc2-rgb8a1unorm-srgb",ETC2RGBA8Unorm:"etc2-rgba8unorm",ETC2RGBA8UnormSRGB:"etc2-rgba8unorm-srgb",EACR11Unorm:"eac-r11unorm",EACR11Snorm:"eac-r11snorm",EACRG11Unorm:"eac-rg11unorm",EACRG11Snorm:"eac-rg11snorm",ASTC4x4Unorm:"astc-4x4-unorm",ASTC4x4UnormSRGB:"astc-4x4-unorm-srgb",ASTC5x4Unorm:"astc-5x4-unorm",ASTC5x4UnormSRGB:"astc-5x4-unorm-srgb",ASTC5x5Unorm:"astc-5x5-unorm",ASTC5x5UnormSRGB:"astc-5x5-unorm-srgb",ASTC6x5Unorm:"astc-6x5-unorm",ASTC6x5UnormSRGB:"astc-6x5-unorm-srgb",ASTC6x6Unorm:"astc-6x6-unorm",ASTC6x6UnormSRGB:"astc-6x6-unorm-srgb",ASTC8x5Unorm:"astc-8x5-unorm",ASTC8x5UnormSRGB:"astc-8x5-unorm-srgb",ASTC8x6Unorm:"astc-8x6-unorm",ASTC8x6UnormSRGB:"astc-8x6-unorm-srgb",ASTC8x8Unorm:"astc-8x8-unorm",ASTC8x8UnormSRGB:"astc-8x8-unorm-srgb",ASTC10x5Unorm:"astc-10x5-unorm",ASTC10x5UnormSRGB:"astc-10x5-unorm-srgb",ASTC10x6Unorm:"astc-10x6-unorm",ASTC10x6UnormSRGB:"astc-10x6-unorm-srgb",ASTC10x8Unorm:"astc-10x8-unorm",ASTC10x8UnormSRGB:"astc-10x8-unorm-srgb",ASTC10x10Unorm:"astc-10x10-unorm",ASTC10x10UnormSRGB:"astc-10x10-unorm-srgb",ASTC12x10Unorm:"astc-12x10-unorm",ASTC12x10UnormSRGB:"astc-12x10-unorm-srgb",ASTC12x12Unorm:"astc-12x12-unorm",ASTC12x12UnormSRGB:"astc-12x12-unorm-srgb"},pI={ClampToEdge:"clamp-to-edge",Repeat:"repeat",MirrorRepeat:"mirror-repeat"},sm={Linear:"linear",Nearest:"nearest"},$r={Zero:"zero",One:"one",Src:"src",OneMinusSrc:"one-minus-src",SrcAlpha:"src-alpha",OneMinusSrcAlpha:"one-minus-src-alpha",Dst:"dst",OneMinusDst:"one-minus-dst",DstAlpha:"dst-alpha",OneMinusDstAlpha:"one-minus-dst-alpha",SrcAlphaSaturated:"src-alpha-saturated",Constant:"constant",OneMinusConstant:"one-minus-constant"},zp={Add:"add",Subtract:"subtract",ReverseSubtract:"reverse-subtract",Min:"min",Max:"max"},NW={None:0,All:15},Zf={Keep:"keep",Zero:"zero",Replace:"replace",Invert:"invert",IncrementClamp:"increment-clamp",DecrementClamp:"decrement-clamp",IncrementWrap:"increment-wrap",DecrementWrap:"decrement-wrap"},mI={Storage:"storage",ReadOnlyStorage:"read-only-storage"},gI={WriteOnly:"write-only",ReadOnly:"read-only",ReadWrite:"read-write"},IW={NonFiltering:"non-filtering",Comparison:"comparison"},Gp={Float:"float",UnfilterableFloat:"unfilterable-float",Depth:"depth",SInt:"sint",UInt:"uint"},DW={TwoD:"2d",ThreeD:"3d"},Bo={TwoD:"2d",TwoDArray:"2d-array",Cube:"cube",ThreeD:"3d"},hit={All:"all"},Rw={Vertex:"vertex",Instance:"instance"},P6={CoreFeaturesAndLimits:"core-features-and-limits",DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionBCSliced3D:"texture-compression-bc-sliced-3d",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TextureCompressionASTCSliced3D:"texture-compression-astc-sliced-3d",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable",Float32Blendable:"float32-blendable",ClipDistances:"clip-distances",DualSourceBlending:"dual-source-blending",Subgroups:"subgroups",TextureFormatsTier1:"texture-formats-tier1",TextureFormatsTier2:"texture-formats-tier2"},OW={"texture-compression-s3tc":"texture-compression-bc","texture-compression-etc1":"texture-compression-etc2"};class pit extends Uue{constructor(e,n,r){super(e,n?n.value:null),this.textureNode=n,this.groupNode=r}update(){const{textureNode:e}=this;return this.texture!==e.value?(this.texture=e.value,!0):super.update()}}class mit extends Lue{constructor(e,n){super(e,n?n.array:null),this.attribute=n,this.isStorageBuffer=!0}}let git=0;class Ait extends mit{constructor(e,n){super("StorageBuffer_"+git++,e?e.value:null),this.nodeUniform=e,this.access=e?e.access:Ta.READ_WRITE,this.groupNode=n}get buffer(){return this.nodeUniform.value}}class vit extends gp{constructor(e){super(),this.device=e;const n=`
struct VarysStruct {
	@builtin( position ) Position: vec4<f32>,
	@location( 0 ) vTex : vec2<f32>
};

@vertex
fn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {

	var Varys : VarysStruct;

	var pos = array< vec2<f32>, 4 >(
		vec2<f32>( -1.0,  1.0 ),
		vec2<f32>(  1.0,  1.0 ),
		vec2<f32>( -1.0, -1.0 ),
		vec2<f32>(  1.0, -1.0 )
	);

	var tex = array< vec2<f32>, 4 >(
		vec2<f32>( 0.0, 0.0 ),
		vec2<f32>( 1.0, 0.0 ),
		vec2<f32>( 0.0, 1.0 ),
		vec2<f32>( 1.0, 1.0 )
	);

	Varys.vTex = tex[ vertexIndex ];
	Varys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );

	return Varys;

}
`,r=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vTex );

}
`,i=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );

}
`;this.mipmapSampler=e.createSampler({minFilter:sm.Linear}),this.flipYSampler=e.createSampler({minFilter:sm.Nearest}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=e.createShaderModule({label:"mipmapVertex",code:n}),this.mipmapFragmentShaderModule=e.createShaderModule({label:"mipmapFragment",code:r}),this.flipYFragmentShaderModule=e.createShaderModule({label:"flipYFragment",code:i})}getTransferPipeline(e){let n=this.transferPipelines[e];return n===void 0&&(n=this.device.createRenderPipeline({label:`mipmap-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:rA.TriangleStrip,stripIndexFormat:Bv.Uint32},layout:"auto"}),this.transferPipelines[e]=n),n}getFlipYPipeline(e){let n=this.flipYPipelines[e];return n===void 0&&(n=this.device.createRenderPipeline({label:`flipY-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:rA.TriangleStrip,stripIndexFormat:Bv.Uint32},layout:"auto"}),this.flipYPipelines[e]=n),n}flipY(e,n,r=0){const i=n.format,{width:o,height:a}=n.size,s=this.getTransferPipeline(i),l=this.getFlipYPipeline(i),c=this.device.createTexture({size:{width:o,height:a,depthOrArrayLayers:1},format:i,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),u=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Bo.TwoD,baseArrayLayer:r}),d=c.createView({baseMipLevel:0,mipLevelCount:1,dimension:Bo.TwoD,baseArrayLayer:0}),f=this.device.createCommandEncoder({}),h=(p,x,b)=>{const y=p.getBindGroupLayout(0),_=this.device.createBindGroup({layout:y,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:x}]}),C=f.beginRenderPass({colorAttachments:[{view:b,loadOp:ti.Clear,storeOp:ps.Store,clearValue:[0,0,0,0]}]});C.setPipeline(p),C.setBindGroup(0,_),C.draw(4,1,0,0),C.end()};h(s,u,d),h(l,d,u),this.device.queue.submit([f.finish()]),c.destroy()}generateMipmaps(e,n,r=0,i=null){const o=this.get(e);o.layers===void 0&&(o.layers=[]);const a=o.layers[r]||this._mipmapCreateBundles(e,n,r),s=i||this.device.createCommandEncoder({label:"mipmapEncoder"});this._mipmapRunBundles(s,a),i===null&&this.device.queue.submit([s.finish()]),o.layers[r]=a}_mipmapCreateBundles(e,n,r){const i=this.getTransferPipeline(n.format),o=i.getBindGroupLayout(0);let a=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Bo.TwoD,baseArrayLayer:r});const s=[];for(let l=1;l<n.mipLevelCount;l++){const c=this.device.createBindGroup({layout:o,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:a}]}),u=e.createView({baseMipLevel:l,mipLevelCount:1,dimension:Bo.TwoD,baseArrayLayer:r}),d={colorAttachments:[{view:u,loadOp:ti.Clear,storeOp:ps.Store,clearValue:[0,0,0,0]}]},f=this.device.createRenderBundleEncoder({colorFormats:[n.format]});f.setPipeline(i),f.setBindGroup(0,c),f.draw(4,1,0,0),s.push({renderBundles:[f.finish()],passDescriptor:d}),a=u}return s}_mipmapRunBundles(e,n){const r=n.length;for(let i=0;i<r;i++){const o=n[i],a=e.beginRenderPass(o.passDescriptor);a.executeBundles(o.renderBundles),a.end()}}}const yit={[ZB]:"never",[k2]:"less",[JB]:"equal",[V2]:"less-equal",[eF]:"greater",[z2]:"greater-equal",[nF]:"always",[tF]:"not-equal"},bit=[0,1,3,2,4,5];class xit{constructor(e){this.backend=e,this._passUtils=null,this.defaultTexture={},this.defaultCubeTexture={},this.defaultVideoFrame=null,this._samplerCache=new Map}updateSampler(e){const n=this.backend,r=e.minFilter+"-"+e.magFilter+"-"+e.wrapS+"-"+e.wrapT+"-"+(e.wrapR||"0")+"-"+e.anisotropy+"-"+(e.compareFunction||0);let i=this._samplerCache.get(r);if(i===void 0){const a={addressModeU:this._convertAddressMode(e.wrapS),addressModeV:this._convertAddressMode(e.wrapT),addressModeW:this._convertAddressMode(e.wrapR),magFilter:this._convertFilterMode(e.magFilter),minFilter:this._convertFilterMode(e.minFilter),mipmapFilter:this._convertFilterMode(e.minFilter),maxAnisotropy:1};a.magFilter===sm.Linear&&a.minFilter===sm.Linear&&a.mipmapFilter===sm.Linear&&(a.maxAnisotropy=e.anisotropy),e.isDepthTexture&&e.compareFunction!==null&&(a.compare=yit[e.compareFunction]),i={sampler:n.device.createSampler(a),usedTimes:0},this._samplerCache.set(r,i)}const o=n.get(e);if(o.sampler!==i.sampler){if(o.sampler!==void 0){const a=this._samplerCache.get(o.samplerKey);a.usedTimes--,a.usedTimes===0&&this._samplerCache.delete(o.samplerKey)}o.samplerKey=r,o.sampler=i.sampler,i.usedTimes++}return r}createDefaultTexture(e){let n;const r=N6(e);e.isCubeTexture?n=this._getDefaultCubeTextureGPU(r):n=this._getDefaultTextureGPU(r),this.backend.get(e).texture=n}createTexture(e,n={}){const r=this.backend,i=r.get(e);if(i.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");if(e.isExternalTexture){i.texture=e.sourceTexture,i.initialized=!0;return}n.needsMipmaps===void 0&&(n.needsMipmaps=!1),n.levels===void 0&&(n.levels=1),n.depth===void 0&&(n.depth=1);const{width:o,height:a,depth:s,levels:l}=n;e.isFramebufferTexture&&(n.renderTarget?n.format=this.backend.utils.getCurrentColorFormat(n.renderTarget):n.format=this.backend.utils.getPreferredCanvasFormat());const c=this._getDimension(e),u=e.internalFormat||n.format||N6(e,r.device);i.format=u;const{samples:d,primarySamples:f,isMSAA:h}=r.utils.getTextureSampleData(e);let p=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;e.isStorageTexture===!0&&(p|=GPUTextureUsage.STORAGE_BINDING),e.isCompressedTexture!==!0&&e.isCompressedArrayTexture!==!0&&u!==Xe.RGB9E5UFloat&&(p|=GPUTextureUsage.RENDER_ATTACHMENT);const x={label:e.name,size:{width:o,height:a,depthOrArrayLayers:s},mipLevelCount:l,sampleCount:f,dimension:c,format:u,usage:p};if(u===void 0){Pt("WebGPURenderer: Texture format not supported."),this.createDefaultTexture(e);return}if(e.isCubeTexture&&(x.textureBindingViewDimension=Bo.Cube),i.texture=r.device.createTexture(x),h){const b=Object.assign({},x);b.label=b.label+"-msaa",b.sampleCount=d,b.mipLevelCount=1,i.msaaTexture=r.device.createTexture(b)}i.initialized=!0,i.textureDescriptorGPU=x}destroyTexture(e,n=!1){const r=this.backend,i=r.get(e);i.texture!==void 0&&n===!1&&i.texture.destroy(),i.msaaTexture!==void 0&&i.msaaTexture.destroy(),r.delete(e)}generateMipmaps(e,n=null){const r=this.backend.get(e);if(e.isCubeTexture)for(let i=0;i<6;i++)this._generateMipmaps(r.texture,r.textureDescriptorGPU,i,n);else{const i=e.image.depth||1;for(let o=0;o<i;o++)this._generateMipmaps(r.texture,r.textureDescriptorGPU,o,n)}}getColorBuffer(){const e=this.backend,n=e.renderer.getCanvasTarget(),{width:r,height:i}=e.getDrawingBufferSize(),o=e.renderer.currentSamples,a=n.colorTexture,s=e.get(a);if(a.width===r&&a.height===i&&a.samples===o)return s.texture;let l=s.texture;return l&&l.destroy(),l=e.device.createTexture({label:"colorBuffer",size:{width:r,height:i,depthOrArrayLayers:1},sampleCount:e.utils.getSampleCount(e.renderer.currentSamples),format:e.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),a.source.width=r,a.source.height=i,a.samples=o,s.texture=l,l}getDepthBuffer(e=!0,n=!1){const r=this.backend,i=r.renderer.getCanvasTarget(),{width:o,height:a}=r.getDrawingBufferSize(),s=r.renderer.currentSamples,l=i.depthTexture;if(l.width===o&&l.height===a&&l.samples===s&&l.depth===e&&l.stencil===n)return r.get(l).texture;const c=r.get(l).texture;let u,d;if(n?(u=Ss,d=Il):e&&(u=Na,d=li),c!==void 0){if(l.image.width===o&&l.image.height===a&&l.format===u&&l.type===d&&l.samples===s)return c;this.destroyTexture(l)}return l.name="depthBuffer",l.format=u,l.type=d,l.image.width=o,l.image.height=a,l.samples=s,this.createTexture(l,{width:o,height:a}),r.get(l).texture}updateTexture(e,n){const r=this.backend.get(e),i=e.mipmaps,{textureDescriptorGPU:o}=r;if(!(e.isRenderTargetTexture||o===void 0)){if(e.isDataTexture)if(i.length>0)for(let a=0,s=i.length;a<s;a++){const l=i[a];this._copyBufferToTexture(l,r.texture,o,0,e.flipY,0,a)}else this._copyBufferToTexture(n.image,r.texture,o,0,e.flipY);else if(e.isArrayTexture||e.isDataArrayTexture||e.isData3DTexture)for(let a=0;a<n.image.depth;a++)this._copyBufferToTexture(n.image,r.texture,o,a,e.flipY,a);else if(e.isCompressedTexture||e.isCompressedArrayTexture)this._copyCompressedBufferToTexture(e.mipmaps,r.texture,o);else if(e.isCubeTexture)this._copyCubeMapToTexture(e,r.texture,o);else if(i.length>0)for(let a=0,s=i.length;a<s;a++){const l=i[a];this._copyImageToTexture(l,r.texture,o,0,e.flipY,e.premultiplyAlpha,a)}else this._copyImageToTexture(n.image,r.texture,o,0,e.flipY,e.premultiplyAlpha);r.version=e.version}}async copyTextureToBuffer(e,n,r,i,o,a){const s=this.backend.device,l=this.backend.get(e),c=l.texture,u=l.textureDescriptorGPU.format,d=this._getBytesPerTexel(u);let f=i*d;f=Math.ceil(f/256)*256;const h=s.createBuffer({size:(o-1)*f+i*d,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),p=s.createCommandEncoder();p.copyTextureToBuffer({texture:c,origin:{x:n,y:r,z:a}},{buffer:h,bytesPerRow:f},{width:i,height:o});const x=this._getTypedArrayType(u);s.queue.submit([p.finish()]),await h.mapAsync(GPUMapMode.READ);const b=h.getMappedRange();return new x(b)}dispose(){this._samplerCache.clear()}_getDefaultTextureGPU(e){let n=this.defaultTexture[e];if(n===void 0){const r=new Uo;r.minFilter=ci,r.magFilter=ci,this.createTexture(r,{width:1,height:1,format:e}),this.defaultTexture[e]=n=r}return this.backend.get(n).texture}_getDefaultCubeTextureGPU(e){let n=this.defaultCubeTexture[e];if(n===void 0){const r=new j2;r.minFilter=ci,r.magFilter=ci,this.createTexture(r,{width:1,height:1,depth:6}),this.defaultCubeTexture[e]=n=r}return this.backend.get(n).texture}_copyCubeMapToTexture(e,n,r){const i=e.images,o=e.mipmaps;for(let a=0;a<6;a++){const s=i[a],l=e.flipY===!0?bit[a]:a;s.isDataTexture?this._copyBufferToTexture(s.image,n,r,l,e.flipY):this._copyImageToTexture(s,n,r,l,e.flipY,e.premultiplyAlpha);for(let c=0;c<o.length;c++){const d=o[c].images[a];d.isDataTexture?this._copyBufferToTexture(d.image,n,r,l,e.flipY,0,c+1):this._copyImageToTexture(d,n,r,l,e.flipY,e.premultiplyAlpha,c+1)}}}_copyImageToTexture(e,n,r,i,o,a,s=0){const l=this.backend.device,c=s>0?e.width:r.size.width,u=s>0?e.height:r.size.height;try{l.queue.copyExternalImageToTexture({source:e,flipY:o},{texture:n,mipLevel:s,origin:{x:0,y:0,z:i},premultipliedAlpha:a},{width:c,height:u,depthOrArrayLayers:1})}catch{}}_getPassUtils(){let e=this._passUtils;return e===null&&(this._passUtils=e=new vit(this.backend.device)),e}_generateMipmaps(e,n,r=0,i=null){this._getPassUtils().generateMipmaps(e,n,r,i)}_flipY(e,n,r=0){this._getPassUtils().flipY(e,n,r)}_copyBufferToTexture(e,n,r,i,o,a=0,s=0){const l=this.backend.device,c=e.data,u=this._getBytesPerTexel(r.format),d=e.width*u;l.queue.writeTexture({texture:n,mipLevel:s,origin:{x:0,y:0,z:i}},c,{offset:e.width*e.height*u*a,bytesPerRow:d},{width:e.width,height:e.height,depthOrArrayLayers:1}),o===!0&&this._flipY(n,r,i)}_copyCompressedBufferToTexture(e,n,r){const i=this.backend.device,o=this._getBlockData(r.format),a=r.size.depthOrArrayLayers>1;for(let s=0;s<e.length;s++){const l=e[s],c=l.width,u=l.height,d=a?r.size.depthOrArrayLayers:1,f=Math.ceil(c/o.width)*o.byteLength,h=f*Math.ceil(u/o.height);for(let p=0;p<d;p++)i.queue.writeTexture({texture:n,mipLevel:s,origin:{x:0,y:0,z:p}},l.data,{offset:p*h,bytesPerRow:f,rowsPerImage:Math.ceil(u/o.height)},{width:Math.ceil(c/o.width)*o.width,height:Math.ceil(u/o.height)*o.height,depthOrArrayLayers:1})}}_getBlockData(e){if(e===Xe.BC1RGBAUnorm||e===Xe.BC1RGBAUnormSRGB)return{byteLength:8,width:4,height:4};if(e===Xe.BC2RGBAUnorm||e===Xe.BC2RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Xe.BC3RGBAUnorm||e===Xe.BC3RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Xe.BC4RUnorm||e===Xe.BC4RSnorm)return{byteLength:8,width:4,height:4};if(e===Xe.BC5RGUnorm||e===Xe.BC5RGSnorm)return{byteLength:16,width:4,height:4};if(e===Xe.BC6HRGBUFloat||e===Xe.BC6HRGBFloat)return{byteLength:16,width:4,height:4};if(e===Xe.BC7RGBAUnorm||e===Xe.BC7RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Xe.ETC2RGB8Unorm||e===Xe.ETC2RGB8UnormSRGB)return{byteLength:8,width:4,height:4};if(e===Xe.ETC2RGB8A1Unorm||e===Xe.ETC2RGB8A1UnormSRGB)return{byteLength:8,width:4,height:4};if(e===Xe.ETC2RGBA8Unorm||e===Xe.ETC2RGBA8UnormSRGB)return{byteLength:16,width:4,height:4};if(e===Xe.EACR11Unorm)return{byteLength:8,width:4,height:4};if(e===Xe.EACR11Snorm)return{byteLength:8,width:4,height:4};if(e===Xe.EACRG11Unorm)return{byteLength:16,width:4,height:4};if(e===Xe.EACRG11Snorm)return{byteLength:16,width:4,height:4};if(e===Xe.ASTC4x4Unorm||e===Xe.ASTC4x4UnormSRGB)return{byteLength:16,width:4,height:4};if(e===Xe.ASTC5x4Unorm||e===Xe.ASTC5x4UnormSRGB)return{byteLength:16,width:5,height:4};if(e===Xe.ASTC5x5Unorm||e===Xe.ASTC5x5UnormSRGB)return{byteLength:16,width:5,height:5};if(e===Xe.ASTC6x5Unorm||e===Xe.ASTC6x5UnormSRGB)return{byteLength:16,width:6,height:5};if(e===Xe.ASTC6x6Unorm||e===Xe.ASTC6x6UnormSRGB)return{byteLength:16,width:6,height:6};if(e===Xe.ASTC8x5Unorm||e===Xe.ASTC8x5UnormSRGB)return{byteLength:16,width:8,height:5};if(e===Xe.ASTC8x6Unorm||e===Xe.ASTC8x6UnormSRGB)return{byteLength:16,width:8,height:6};if(e===Xe.ASTC8x8Unorm||e===Xe.ASTC8x8UnormSRGB)return{byteLength:16,width:8,height:8};if(e===Xe.ASTC10x5Unorm||e===Xe.ASTC10x5UnormSRGB)return{byteLength:16,width:10,height:5};if(e===Xe.ASTC10x6Unorm||e===Xe.ASTC10x6UnormSRGB)return{byteLength:16,width:10,height:6};if(e===Xe.ASTC10x8Unorm||e===Xe.ASTC10x8UnormSRGB)return{byteLength:16,width:10,height:8};if(e===Xe.ASTC10x10Unorm||e===Xe.ASTC10x10UnormSRGB)return{byteLength:16,width:10,height:10};if(e===Xe.ASTC12x10Unorm||e===Xe.ASTC12x10UnormSRGB)return{byteLength:16,width:12,height:10};if(e===Xe.ASTC12x12Unorm||e===Xe.ASTC12x12UnormSRGB)return{byteLength:16,width:12,height:12}}_convertAddressMode(e){let n=pI.ClampToEdge;return e===Ym?n=pI.Repeat:e===Km&&(n=pI.MirrorRepeat),n}_convertFilterMode(e){let n=sm.Linear;return(e===ci||e===KB||e===Wd)&&(n=sm.Nearest),n}_getBytesPerTexel(e){if(e===Xe.R8Unorm||e===Xe.R8Snorm||e===Xe.R8Uint||e===Xe.R8Sint)return 1;if(e===Xe.R16Uint||e===Xe.R16Sint||e===Xe.R16Float||e===Xe.RG8Unorm||e===Xe.RG8Snorm||e===Xe.RG8Uint||e===Xe.RG8Sint)return 2;if(e===Xe.R32Uint||e===Xe.R32Sint||e===Xe.R32Float||e===Xe.RG16Uint||e===Xe.RG16Sint||e===Xe.RG16Float||e===Xe.RGBA8Unorm||e===Xe.RGBA8UnormSRGB||e===Xe.RGBA8Snorm||e===Xe.RGBA8Uint||e===Xe.RGBA8Sint||e===Xe.BGRA8Unorm||e===Xe.BGRA8UnormSRGB||e===Xe.RGB9E5UFloat||e===Xe.RGB10A2Unorm||e===Xe.RG11B10UFloat||e===Xe.Depth32Float||e===Xe.Depth24Plus||e===Xe.Depth24PlusStencil8||e===Xe.Depth32FloatStencil8)return 4;if(e===Xe.RG32Uint||e===Xe.RG32Sint||e===Xe.RG32Float||e===Xe.RGBA16Uint||e===Xe.RGBA16Sint||e===Xe.RGBA16Float)return 8;if(e===Xe.RGBA32Uint||e===Xe.RGBA32Sint||e===Xe.RGBA32Float)return 16}_getTypedArrayType(e){if(e===Xe.R8Uint)return Uint8Array;if(e===Xe.R8Sint)return Int8Array;if(e===Xe.R8Unorm)return Uint8Array;if(e===Xe.R8Snorm)return Int8Array;if(e===Xe.RG8Uint)return Uint8Array;if(e===Xe.RG8Sint)return Int8Array;if(e===Xe.RG8Unorm)return Uint8Array;if(e===Xe.RG8Snorm)return Int8Array;if(e===Xe.RGBA8Uint)return Uint8Array;if(e===Xe.RGBA8Sint)return Int8Array;if(e===Xe.RGBA8Unorm||e===Xe.RGBA8UnormSRGB)return Uint8Array;if(e===Xe.RGBA8Snorm)return Int8Array;if(e===Xe.R16Uint)return Uint16Array;if(e===Xe.R16Sint)return Int16Array;if(e===Xe.RG16Uint)return Uint16Array;if(e===Xe.RG16Sint)return Int16Array;if(e===Xe.RGBA16Uint)return Uint16Array;if(e===Xe.RGBA16Sint)return Int16Array;if(e===Xe.R16Float||e===Xe.RG16Float||e===Xe.RGBA16Float)return Uint16Array;if(e===Xe.R32Uint)return Uint32Array;if(e===Xe.R32Sint)return Int32Array;if(e===Xe.R32Float)return Float32Array;if(e===Xe.RG32Uint)return Uint32Array;if(e===Xe.RG32Sint)return Int32Array;if(e===Xe.RG32Float)return Float32Array;if(e===Xe.RGBA32Uint)return Uint32Array;if(e===Xe.RGBA32Sint)return Int32Array;if(e===Xe.RGBA32Float)return Float32Array;if(e===Xe.BGRA8Unorm||e===Xe.BGRA8UnormSRGB)return Uint8Array;if(e===Xe.RGB10A2Unorm||e===Xe.RGB9E5UFloat||e===Xe.RG11B10UFloat)return Uint32Array;if(e===Xe.Depth32Float)return Float32Array;if(e===Xe.Depth24Plus||e===Xe.Depth24PlusStencil8)return Uint32Array;if(e===Xe.Depth32FloatStencil8)return Float32Array}_getDimension(e){let n;return e.is3DTexture||e.isData3DTexture?n=DW.ThreeD:n=DW.TwoD,n}}function N6(t,e=null){const n=t.format,r=t.type,i=t.colorSpace,o=Xn.getTransfer(i);let a;if(t.isCompressedTexture===!0||t.isCompressedArrayTexture===!0)switch(n){case Lh:case Bh:a=o===gn?Xe.BC1RGBAUnormSRGB:Xe.BC1RGBAUnorm;break;case Fh:a=o===gn?Xe.BC2RGBAUnormSRGB:Xe.BC2RGBAUnorm;break;case $h:a=o===gn?Xe.BC3RGBAUnormSRGB:Xe.BC3RGBAUnorm;break;case vv:a=Xe.BC4RUnorm;break;case yv:a=Xe.BC4RSnorm;break;case Zm:a=Xe.BC5RGUnorm;break;case bv:a=Xe.BC5RGSnorm;break;case Av:a=o===gn?Xe.BC7RGBAUnormSRGB:Xe.BC7RGBAUnorm;break;case ZA:case QA:a=o===gn?Xe.ETC2RGB8UnormSRGB:Xe.ETC2RGB8Unorm;break;case JA:a=o===gn?Xe.ETC2RGBA8UnormSRGB:Xe.ETC2RGBA8Unorm;break;case ev:a=Xe.EACR11Unorm;break;case tv:a=Xe.EACR11Snorm;break;case Qm:a=Xe.EACRG11Unorm;break;case nv:a=Xe.EACRG11Snorm;break;case rv:a=o===gn?Xe.ASTC4x4UnormSRGB:Xe.ASTC4x4Unorm;break;case iv:a=o===gn?Xe.ASTC5x4UnormSRGB:Xe.ASTC5x4Unorm;break;case ov:a=o===gn?Xe.ASTC5x5UnormSRGB:Xe.ASTC5x5Unorm;break;case av:a=o===gn?Xe.ASTC6x5UnormSRGB:Xe.ASTC6x5Unorm;break;case sv:a=o===gn?Xe.ASTC6x6UnormSRGB:Xe.ASTC6x6Unorm;break;case lv:a=o===gn?Xe.ASTC8x5UnormSRGB:Xe.ASTC8x5Unorm;break;case cv:a=o===gn?Xe.ASTC8x6UnormSRGB:Xe.ASTC8x6Unorm;break;case uv:a=o===gn?Xe.ASTC8x8UnormSRGB:Xe.ASTC8x8Unorm;break;case dv:a=o===gn?Xe.ASTC10x5UnormSRGB:Xe.ASTC10x5Unorm;break;case fv:a=o===gn?Xe.ASTC10x6UnormSRGB:Xe.ASTC10x6Unorm;break;case hv:a=o===gn?Xe.ASTC10x8UnormSRGB:Xe.ASTC10x8Unorm;break;case pv:a=o===gn?Xe.ASTC10x10UnormSRGB:Xe.ASTC10x10Unorm;break;case mv:a=o===gn?Xe.ASTC12x10UnormSRGB:Xe.ASTC12x10Unorm;break;case gv:a=o===gn?Xe.ASTC12x12UnormSRGB:Xe.ASTC12x12Unorm;break;case _o:a=o===gn?Xe.RGBA8UnormSRGB:Xe.RGBA8Unorm;break;default:$t("WebGPURenderer: Unsupported texture format.",n)}else switch(n){case _o:switch(r){case Rm:a=Xe.RGBA8Snorm;break;case Pm:a=Xe.RGBA16Sint;break;case eu:a=Xe.RGBA16Uint;break;case li:a=Xe.RGBA32Uint;break;case sa:a=Xe.RGBA32Sint;break;case Fi:a=o===gn?Xe.RGBA8UnormSRGB:Xe.RGBA8Unorm;break;case Ui:a=Xe.RGBA16Float;break;case xo:a=Xe.RGBA32Float;break;default:$t("WebGPURenderer: Unsupported texture type with RGBAFormat.",r)}break;case $2:switch(r){case NM:a=Xe.RGB9E5UFloat;break;case IM:a=Xe.RG11B10UFloat;break;default:$t("WebGPURenderer: Unsupported texture type with RGBFormat.",r)}break;case U2:switch(r){case Rm:a=Xe.R8Snorm;break;case Pm:a=Xe.R16Sint;break;case eu:a=Xe.R16Uint;break;case li:a=Xe.R32Uint;break;case sa:a=Xe.R32Sint;break;case Fi:a=Xe.R8Unorm;break;case Ui:a=Xe.R16Float;break;case xo:a=Xe.R32Float;break;default:$t("WebGPURenderer: Unsupported texture type with RedFormat.",r)}break;case _s:switch(r){case Rm:a=Xe.RG8Snorm;break;case Pm:a=Xe.RG16Sint;break;case eu:a=Xe.RG16Uint;break;case li:a=Xe.RG32Uint;break;case sa:a=Xe.RG32Sint;break;case Fi:a=Xe.RG8Unorm;break;case Ui:a=Xe.RG16Float;break;case xo:a=Xe.RG32Float;break;default:$t("WebGPURenderer: Unsupported texture type with RGFormat.",r)}break;case Na:switch(r){case eu:a=Xe.Depth16Unorm;break;case li:a=Xe.Depth24Plus;break;case xo:a=Xe.Depth32Float;break;default:$t("WebGPURenderer: Unsupported texture type with DepthFormat.",r)}break;case Ss:switch(r){case Il:a=Xe.Depth24PlusStencil8;break;case xo:e&&e.features.has(P6.Depth32FloatStencil8)===!1&&$t('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),a=Xe.Depth32FloatStencil8;break;default:$t("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",r)}break;case ly:switch(r){case sa:a=Xe.R32Sint;break;case li:a=Xe.R32Uint;break;default:$t("WebGPURenderer: Unsupported texture type with RedIntegerFormat.",r)}break;case cy:switch(r){case sa:a=Xe.RG32Sint;break;case li:a=Xe.RG32Uint;break;default:$t("WebGPURenderer: Unsupported texture type with RGIntegerFormat.",r)}break;case uy:switch(r){case sa:a=Xe.RGBA32Sint;break;case li:a=Xe.RGBA32Uint;break;default:$t("WebGPURenderer: Unsupported texture type with RGBAIntegerFormat.",r)}break;default:$t("WebGPURenderer: Unsupported texture format.",n)}return a}const Sit=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/i,_it=/([a-z_0-9]+)\s*:\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/ig,LW={f32:"float",i32:"int",u32:"uint",bool:"bool","vec2<f32>":"vec2","vec2<i32>":"ivec2","vec2<u32>":"uvec2","vec2<bool>":"bvec2",vec2f:"vec2",vec2i:"ivec2",vec2u:"uvec2",vec2b:"bvec2","vec3<f32>":"vec3","vec3<i32>":"ivec3","vec3<u32>":"uvec3","vec3<bool>":"bvec3",vec3f:"vec3",vec3i:"ivec3",vec3u:"uvec3",vec3b:"bvec3","vec4<f32>":"vec4","vec4<i32>":"ivec4","vec4<u32>":"uvec4","vec4<bool>":"bvec4",vec4f:"vec4",vec4i:"ivec4",vec4u:"uvec4",vec4b:"bvec4","mat2x2<f32>":"mat2",mat2x2f:"mat2","mat3x3<f32>":"mat3",mat3x3f:"mat3","mat4x4<f32>":"mat4",mat4x4f:"mat4",sampler:"sampler",texture_1d:"texture",texture_2d:"texture",texture_2d_array:"texture",texture_multisampled_2d:"cubeTexture",texture_depth_2d:"depthTexture",texture_depth_2d_array:"depthTexture",texture_depth_multisampled_2d:"depthTexture",texture_depth_cube:"depthTexture",texture_depth_cube_array:"depthTexture",texture_3d:"texture3D",texture_cube:"cubeTexture",texture_cube_array:"cubeTexture",texture_storage_1d:"storageTexture",texture_storage_2d:"storageTexture",texture_storage_2d_array:"storageTexture",texture_storage_3d:"storageTexture"},wit=t=>{t=t.trim();const e=t.match(Sit);if(e!==null&&e.length===4){const n=e[2],r=[];let i=null;for(;(i=_it.exec(n))!==null;)r.push({name:i[1],type:i[2]});const o=[];for(let u=0;u<r.length;u++){const{name:d,type:f}=r[u];let h=f;h.startsWith("ptr")?h="pointer":(h.startsWith("texture")&&(h=f.split("<")[0]),h=LW[h]),o.push(new A7(h,d))}const a=t.substring(e[0].length),s=e[3]||"void",l=e[1]!==void 0?e[1]:"";return{type:LW[s]||s,inputs:o,name:l,inputsCode:n,blockCode:a,outputType:s}}else throw new Error("FunctionNode: Function is not a WGSL code.")};class Cit extends y7{constructor(e){const{type:n,inputs:r,name:i,inputsCode:o,blockCode:a,outputType:s}=wit(e);super(n,r,i),this.inputsCode=o,this.blockCode=a,this.outputType=s}getCode(e=this.name){const n=this.outputType!=="void"?"-> "+this.outputType:"";return`fn ${e} ( ${this.inputsCode.trim()} ) ${n}`+this.blockCode}}class Tit extends Iue{parseFunction(e){return new Cit(e)}}const Eit={[Ta.READ_ONLY]:"read",[Ta.WRITE_ONLY]:"write",[Ta.READ_WRITE]:"read_write"},BW={[Ym]:"repeat",[qs]:"clamp",[Km]:"mirror"},Pw={vertex:_m.VERTEX,fragment:_m.FRAGMENT,compute:_m.COMPUTE},FW={instance:!0,swizzleAssign:!1,storageBuffer:!0},Mit={"^^":"tsl_xor"},Rit={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat2:"mat2x2<f32>",mat3:"mat3x3<f32>",mat4:"mat4x4<f32>"},$W={},E1={tsl_xor:new ia("fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }"),mod_float:new ia("fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }"),mod_vec2:new ia("fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }"),mod_vec3:new ia("fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }"),mod_vec4:new ia("fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }"),equals_bool:new ia("fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }"),equals_bvec2:new ia("fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }"),equals_bvec3:new ia("fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }"),equals_bvec4:new ia("fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }"),repeatWrapping_float:new ia("fn tsl_repeatWrapping_float( coord: f32 ) -> f32 { return fract( coord ); }"),mirrorWrapping_float:new ia("fn tsl_mirrorWrapping_float( coord: f32 ) -> f32 { let mirrored = fract( coord * 0.5 ) * 2.0; return 1.0 - abs( 1.0 - mirrored ); }"),clampWrapping_float:new ia("fn tsl_clampWrapping_float( coord: f32 ) -> f32 { return clamp( coord, 0.0, 1.0 ); }"),biquadraticTexture:new ia(`
fn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, iRes : vec2u, level : u32 ) -> vec4f {

	let res = vec2f( iRes );

	let uvScaled = coord * res;
	let uvWrapping = ( ( uvScaled % res ) + res ) % res;

	// https://www.shadertoy.com/view/WtyXRy

	let uv = uvWrapping - 0.5;
	let iuv = floor( uv );
	let f = fract( uv );

	let rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );
	let rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );
	let rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );
	let rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );

	return mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );

}
`)},Pit={dFdx:"dpdx",dFdy:"- dpdy",mod_float:"tsl_mod_float",mod_vec2:"tsl_mod_vec2",mod_vec3:"tsl_mod_vec3",mod_vec4:"tsl_mod_vec4",equals_bool:"tsl_equals_bool",equals_bvec2:"tsl_equals_bvec2",equals_bvec3:"tsl_equals_bvec3",equals_bvec4:"tsl_equals_bvec4",inversesqrt:"inverseSqrt",bitcast:"bitcast<f32>",floatpack_snorm_2x16:"pack2x16snorm",floatpack_unorm_2x16:"pack2x16unorm",floatpack_float16_2x16:"pack2x16float",floatunpack_snorm_2x16:"unpack2x16snorm",floatunpack_unorm_2x16:"unpack2x16unorm",floatunpack_float16_2x16:"unpack2x16float"};let Gue="";(typeof navigator<"u"&&/Firefox|Deno/g.test(navigator.userAgent))!==!0&&(Gue+=`diagnostic( off, derivative_uniformity );
`);class Nit extends Nue{constructor(e,n){super(e,n,new Tit),this.uniformGroups={},this.builtins={},this.directives={},this.scopedArrays=new Map}_generateTextureSample(e,n,r,i,o,a=this.shaderStage){return a==="fragment"?i?o?`textureSample( ${n}, ${n}_sampler, ${r}, ${i}, ${o} )`:`textureSample( ${n}, ${n}_sampler, ${r}, ${i} )`:o?`textureSample( ${n}, ${n}_sampler, ${r}, ${o} )`:`textureSample( ${n}, ${n}_sampler, ${r} )`:this.generateTextureSampleLevel(e,n,r,"0",i)}generateTextureSampleLevel(e,n,r,i,o,a){return this.isUnfilterable(e)===!1?a?`textureSampleLevel( ${n}, ${n}_sampler, ${r}, ${i}, ${a} )`:`textureSampleLevel( ${n}, ${n}_sampler, ${r}, ${i} )`:this.isFilteredTexture(e)?this.generateFilteredTexture(e,n,r,a,i):this.generateTextureLod(e,n,r,o,a,i)}generateWrapFunction(e){const n=`tsl_coord_${BW[e.wrapS]}S_${BW[e.wrapT]}_${e.is3DTexture||e.isData3DTexture?"3d":"2d"}T`;let r=$W[n];if(r===void 0){const i=[],o=e.is3DTexture||e.isData3DTexture?"vec3f":"vec2f";let a=`fn ${n}( coord : ${o} ) -> ${o} {

	return ${o}(
`;const s=(l,c)=>{l===Ym?(i.push(E1.repeatWrapping_float),a+=`		tsl_repeatWrapping_float( coord.${c} )`):l===qs?(i.push(E1.clampWrapping_float),a+=`		tsl_clampWrapping_float( coord.${c} )`):l===Km?(i.push(E1.mirrorWrapping_float),a+=`		tsl_mirrorWrapping_float( coord.${c} )`):(a+=`		coord.${c}`,Pt(`WebGPURenderer: Unsupported texture wrap type "${l}" for vertex shader.`))};s(e.wrapS,"x"),a+=`,
`,s(e.wrapT,"y"),(e.is3DTexture||e.isData3DTexture)&&(a+=`,
`,s(e.wrapR,"z")),a+=`
	);

}
`,$W[n]=r=new ia(a,i)}return r.build(this),n}generateArrayDeclaration(e,n){return`array< ${this.getType(e)}, ${n} >`}generateTextureDimension(e,n,r){const i=this.getDataFromNode(e,this.shaderStage,this.globalCache);i.dimensionsSnippet===void 0&&(i.dimensionsSnippet={});let o=i.dimensionsSnippet[r];if(i.dimensionsSnippet[r]===void 0){let a,s;const{primarySamples:l}=this.renderer.backend.utils.getTextureSampleData(e),c=l>1;e.is3DTexture||e.isData3DTexture?s="vec3<u32>":s="vec2<u32>",c||e.isStorageTexture?a=n:a=`${n}${r?`, u32( ${r} )`:""}`,o=new FC(new $C(`textureDimensions( ${a} )`,s)),i.dimensionsSnippet[r]=o,(e.isArrayTexture||e.isDataArrayTexture||e.is3DTexture||e.isData3DTexture)&&(i.arrayLayerCount=new FC(new $C(`textureNumLayers(${n})`,"u32"))),e.isTextureCube&&(i.cubeFaceCount=new FC(new $C("6u","u32")))}return o.build(this)}generateFilteredTexture(e,n,r,i,o="0u"){this._include("biquadraticTexture");const a=this.generateWrapFunction(e),s=this.generateTextureDimension(e,n,o);return i&&(r=`${r} + vec2<f32>(${i}) / ${s}`),`tsl_biquadraticTexture( ${n}, ${a}( ${r} ), ${s}, u32( ${o} ) )`}generateTextureLod(e,n,r,i,o,a="0u"){const s=this.generateWrapFunction(e),l=this.generateTextureDimension(e,n,a),c=e.is3DTexture||e.isData3DTexture?"vec3":"vec2";o&&(r=`${r} + ${c}<f32>(${o}) / ${c}<f32>( ${l} )`);const u=`${c}<u32>( ${s}( ${r} ) * ${c}<f32>( ${l} ) )`;return this.generateTextureLoad(e,n,u,a,i,null)}generateTextureLoad(e,n,r,i,o,a){i===null&&(i="0u"),a&&(r=`${r} + ${a}`);let s;return o?s=`textureLoad( ${n}, ${r}, ${o}, u32( ${i} ) )`:(s=`textureLoad( ${n}, ${r}, u32( ${i} ) )`,this.renderer.backend.compatibilityMode&&e.isDepthTexture&&(s+=".x")),s}generateTextureStore(e,n,r,i,o){let a;return i?a=`textureStore( ${n}, ${r}, ${i}, ${o} )`:a=`textureStore( ${n}, ${r}, ${o} )`,a}isSampleCompare(e){return e.isDepthTexture===!0&&e.compareFunction!==null}isUnfilterable(e){return this.getComponentTypeFromTexture(e)!=="float"||!this.isAvailable("float32Filterable")&&e.isDataTexture===!0&&e.type===xo||this.isSampleCompare(e)===!1&&e.minFilter===ci&&e.magFilter===ci||this.renderer.backend.utils.getTextureSampleData(e).primarySamples>1}generateTexture(e,n,r,i,o,a=this.shaderStage){let s=null;return this.isUnfilterable(e)?s=this.generateTextureLod(e,n,r,i,o,"0",a):s=this._generateTextureSample(e,n,r,i,o,a),s}generateTextureGrad(e,n,r,i,o,a,s=this.shaderStage){if(s==="fragment")return a?`textureSampleGrad( ${n}, ${n}_sampler, ${r},  ${i[0]}, ${i[1]}, ${a} )`:`textureSampleGrad( ${n}, ${n}_sampler, ${r},  ${i[0]}, ${i[1]} )`;$t(`WebGPURenderer: THREE.TextureNode.gradient() does not support ${s} shader.`)}generateTextureCompare(e,n,r,i,o,a,s=this.shaderStage){if(s==="fragment")return e.isDepthTexture===!0&&e.isArrayTexture===!0?a?`textureSampleCompare( ${n}, ${n}_sampler, ${r}, ${o}, ${i}, ${a} )`:`textureSampleCompare( ${n}, ${n}_sampler, ${r}, ${o}, ${i} )`:a?`textureSampleCompare( ${n}, ${n}_sampler, ${r}, ${i}, ${a} )`:`textureSampleCompare( ${n}, ${n}_sampler, ${r}, ${i} )`;$t(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${s} shader.`)}generateTextureLevel(e,n,r,i,o,a){return this.isUnfilterable(e)===!1?a?`textureSampleLevel( ${n}, ${n}_sampler, ${r}, ${i}, ${a} )`:`textureSampleLevel( ${n}, ${n}_sampler, ${r}, ${i} )`:this.isFilteredTexture(e)?this.generateFilteredTexture(e,n,r,a,i):this.generateTextureLod(e,n,r,o,a,i)}generateTextureBias(e,n,r,i,o,a,s=this.shaderStage){if(s==="fragment")return a?`textureSampleBias( ${n}, ${n}_sampler, ${r}, ${i}, ${a} )`:`textureSampleBias( ${n}, ${n}_sampler, ${r}, ${i} )`;$t(`WebGPURenderer: THREE.TextureNode.biasNode does not support ${s} shader.`)}getPropertyName(e,n=this.shaderStage){if(e.isNodeVarying===!0&&e.needsInterpolation===!0){if(n==="vertex")return`varyings.${e.name}`}else if(e.isNodeUniform===!0){const r=e.name,i=e.type;return i==="texture"||i==="cubeTexture"||i==="cubeDepthTexture"||i==="storageTexture"||i==="texture3D"?r:i==="buffer"||i==="storageBuffer"||i==="indirectStorageBuffer"?this.isCustomStruct(e)?r:r+".value":e.groupNode.name+"."+r}return super.getPropertyName(e)}getOutputStructName(){return"output"}getFunctionOperator(e){const n=Mit[e];return n!==void 0?(this._include(n),n):null}getNodeAccess(e,n){return n!=="compute"?e.isAtomic===!0?(Pt("WebGPURenderer: Atomic operations are only supported in compute shaders."),Ta.READ_WRITE):Ta.READ_ONLY:e.access}getStorageAccess(e,n){return Eit[this.getNodeAccess(e,n)]}getUniformFromNode(e,n,r,i=null){const o=super.getUniformFromNode(e,n,r,i),a=this.getDataFromNode(e,r,this.globalCache);if(a.uniformGPU===void 0){let s;const l=e.groupNode,c=l.name,u=this.getBindGroupArray(c,r);if(n==="texture"||n==="cubeTexture"||n==="cubeDepthTexture"||n==="storageTexture"||n==="texture3D"){let d=null;const f=this.getNodeAccess(e,r);if(n==="texture"||n==="storageTexture"?e.value.is3DTexture===!0?d=new R6(o.name,o.node,l,f):d=new _R(o.name,o.node,l,f):n==="cubeTexture"||n==="cubeDepthTexture"?d=new kue(o.name,o.node,l,f):n==="texture3D"&&(d=new R6(o.name,o.node,l,f)),d.store=e.isStorageTextureNode===!0,d.mipLevel=d.store?e.mipLevel:0,d.setVisibility(Pw[r]),this.isUnfilterable(e.value)===!1&&d.store===!1){const h=new pit(`${o.name}_sampler`,o.node,l);h.setVisibility(Pw[r]),u.push(h,d),s=[h,d]}else u.push(d),s=[d]}else if(n==="buffer"||n==="storageBuffer"||n==="indirectStorageBuffer"){const d=this.getSharedDataFromNode(e);let f=d.buffer;if(f===void 0){const h=n==="buffer"?Fue:Ait;f=new h(e,l),d.buffer=f}f.setVisibility(f.getVisibility()|Pw[r]),u.push(f),s=f,o.name=i||"NodeBuffer_"+o.id}else{const d=this.uniformGroups[r]||(this.uniformGroups[r]={});let f=d[c];f===void 0&&(f=new $ue(c,l),f.setVisibility(Pw[r]),d[c]=f,u.push(f)),s=this.getNodeUniform(o,n),f.addUniform(s)}a.uniformGPU=s}return o}getBuiltin(e,n,r,i=this.shaderStage){const o=this.builtins[i]||(this.builtins[i]=new Map);return o.has(e)===!1&&o.set(e,{name:e,property:n,type:r}),n}hasBuiltin(e,n=this.shaderStage){return this.builtins[n]!==void 0&&this.builtins[n].has(e)}getVertexIndex(){return this.shaderStage==="vertex"?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}buildFunctionCode(e){const n=e.layout,r=this.flowShaderNode(e),i=[];for(const a of n.inputs)i.push(a.name+" : "+this.getType(a.type));let o=`fn ${n.name}( ${i.join(", ")} ) -> ${this.getType(n.type)} {
${r.vars}
${r.code}
`;return r.result&&(o+=`	return ${r.result};
`),o+=`
}
`,o}getInstanceIndex(){return this.shaderStage==="vertex"?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getInvocationLocalIndex(){return this.getBuiltin("local_invocation_index","invocationLocalIndex","u32","attribute")}getSubgroupSize(){return this.enableSubGroups(),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute")}getInvocationSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_invocation_id","invocationSubgroupIndex","u32","attribute")}getSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_id","subgroupIndex","u32","attribute")}getDrawIndex(){return null}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>")+".xy"}getFragDepth(){return"output."+this.getBuiltin("frag_depth","depth","f32","output")}getClipDistance(){return"varyings.hw_clip_distances"}isFlipY(){return!1}enableDirective(e,n=this.shaderStage){(this.directives[n]||(this.directives[n]=new Set)).add(e)}getDirectives(e){const n=[],r=this.directives[e];if(r!==void 0)for(const i of r)n.push(`enable ${i};`);return n.join(`
`)}enableSubGroups(){this.enableDirective("subgroups")}enableSubgroupsF16(){this.enableDirective("subgroups-f16")}enableClipDistances(){this.enableDirective("clip_distances")}enableShaderF16(){this.enableDirective("f16")}enableDualSourceBlending(){this.enableDirective("dual_source_blending")}enableHardwareClipping(e){this.enableClipDistances(),this.getBuiltin("clip_distances","hw_clip_distances",`array<f32, ${e} >`,"vertex")}getBuiltins(e){const n=[],r=this.builtins[e];if(r!==void 0)for(const{name:i,property:o,type:a}of r.values())n.push(`@builtin( ${i} ) ${o} : ${a}`);return n.join(`,
	`)}getScopedArray(e,n,r,i){return this.scopedArrays.has(e)===!1&&this.scopedArrays.set(e,{name:e,scope:n,bufferType:r,bufferCount:i}),e}getScopedArrays(e){if(e!=="compute")return;const n=[];for(const{name:r,scope:i,bufferType:o,bufferCount:a}of this.scopedArrays.values()){const s=this.getType(o);n.push(`var<${i}> ${r}: array< ${s}, ${a} >;`)}return n.join(`
`)}getAttributes(e){const n=[];if(e==="compute"&&(this.getBuiltin("global_invocation_id","globalId","vec3<u32>","attribute"),this.getBuiltin("workgroup_id","workgroupId","vec3<u32>","attribute"),this.getBuiltin("local_invocation_id","localId","vec3<u32>","attribute"),this.getBuiltin("num_workgroups","numWorkgroups","vec3<u32>","attribute"),this.renderer.hasFeature("subgroups")&&(this.enableDirective("subgroups",e),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute"))),e==="vertex"||e==="compute"){const r=this.getBuiltins("attribute");r&&n.push(r);const i=this.getAttributesArray();for(let o=0,a=i.length;o<a;o++){const s=i[o],l=s.name,c=this.getType(s.type);n.push(`@location( ${o} ) ${l} : ${c}`)}}return n.join(`,
	`)}getStructMembers(e){const n=[];for(const r of e.members){const i=e.output?"@location( "+r.index+" ) ":"";let o=this.getType(r.type);r.atomic&&(o="atomic< "+o+" >"),n.push(`	${i+r.name} : ${o}`)}return e.output&&n.push(`	${this.getBuiltins("output")}`),n.join(`,
`)}getStructs(e){let n="";const r=this.structs[e];if(r.length>0){const i=[];for(const o of r){let a=`struct ${o.name} {
`;a+=this.getStructMembers(o),a+=`
};`,i.push(a)}n=`
`+i.join(`

`)+`
`}return n}getVar(e,n,r=null){let i=`var ${n} : `;return r!==null?i+=this.generateArrayDeclaration(e,r):i+=this.getType(e),i}getVars(e){const n=[],r=this.vars[e];if(r!==void 0)for(const i of r)n.push(`	${this.getVar(i.type,i.name,i.count)};`);return`
${n.join(`
`)}
`}getVaryings(e){const n=[];if(e==="vertex"&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),e==="vertex"||e==="fragment"){const o=this.varyings,a=this.vars[e];for(let s=0;s<o.length;s++){const l=o[s];if(l.needsInterpolation){let c=`@location( ${s} )`;if(l.interpolationType){const u=l.interpolationSampling!==null?`, ${l.interpolationSampling} )`:" )";c+=` @interpolate( ${l.interpolationType}${u}`}else/^(int|uint|ivec|uvec)/.test(l.type)&&(c+=` @interpolate( ${this.renderer.backend.compatibilityMode?"flat, either":"flat"} )`);n.push(`${c} ${l.name} : ${this.getType(l.type)}`)}else e==="vertex"&&a.includes(l)===!1&&a.push(l)}}const r=this.getBuiltins(e);r&&n.push(r);const i=n.join(`,
	`);return e==="vertex"?this._getWGSLStruct("VaryingsStruct","	"+i):i}isCustomStruct(e){const n=e.value,r=e.node,i=(n.isBufferAttribute||n.isInstancedBufferAttribute)&&r.structTypeNode!==null,o=r.value&&r.value.array&&typeof r.value.itemSize=="number"&&r.value.array.length>r.value.itemSize;return i&&!o}getUniforms(e){const n=this.uniforms[e],r=[],i=[],o=[],a={};for(const l of n){const c=l.groupNode.name,u=this.bindingsIndexes[c];if(l.type==="texture"||l.type==="cubeTexture"||l.type==="cubeDepthTexture"||l.type==="storageTexture"||l.type==="texture3D"){const d=l.node.value;this.isUnfilterable(d)===!1&&l.node.isStorageTextureNode!==!0&&(this.isSampleCompare(d)?r.push(`@binding( ${u.binding++} ) @group( ${u.group} ) var ${l.name}_sampler : sampler_comparison;`):r.push(`@binding( ${u.binding++} ) @group( ${u.group} ) var ${l.name}_sampler : sampler;`));let f,h="";const{primarySamples:p}=this.renderer.backend.utils.getTextureSampleData(d);if(p>1&&(h="_multisampled"),d.isCubeTexture===!0&&d.isDepthTexture===!0)f="texture_depth_cube";else if(d.isCubeTexture===!0)f="texture_cube<f32>";else if(d.isDepthTexture===!0)this.renderer.backend.compatibilityMode&&d.compareFunction===null?f=`texture${h}_2d<f32>`:f=`texture_depth${h}_2d${d.isArrayTexture===!0?"_array":""}`;else if(l.node.isStorageTextureNode===!0){const x=N6(d),b=this.getStorageAccess(l.node,e),y=l.node.value.is3DTexture,_=l.node.value.isArrayTexture;f=`texture_storage_${y?"3d":`2d${_?"_array":""}`}<${x}, ${b}>`}else if(d.isArrayTexture===!0||d.isDataArrayTexture===!0||d.isCompressedArrayTexture===!0)f="texture_2d_array<f32>";else if(d.is3DTexture===!0||d.isData3DTexture===!0)f="texture_3d<f32>";else{const x=this.getComponentTypeFromTexture(d).charAt(0);f=`texture${h}_2d<${x}32>`}r.push(`@binding( ${u.binding++} ) @group( ${u.group} ) var ${l.name} : ${f};`)}else if(l.type==="buffer"||l.type==="storageBuffer"||l.type==="indirectStorageBuffer"){const d=l.node,f=this.getType(d.getNodeType(this)),h=d.bufferCount,p=h>0&&l.type==="buffer"?", "+h:"",x=d.isStorageBufferNode?`storage, ${this.getStorageAccess(d,e)}`:"uniform";if(this.isCustomStruct(l))i.push(`@binding( ${u.binding++} ) @group( ${u.group} ) var<${x}> ${l.name} : ${f};`);else{const y=`	value : array< ${d.isAtomic?`atomic<${f}>`:`${f}`}${p} >`;i.push(this._getWGSLStructBinding(l.name,y,x,u.binding++,u.group))}}else{const d=this.getType(this.getVectorType(l.type)),f=l.groupNode.name;(a[f]||(a[f]={index:u.binding++,id:u.group,snippets:[]})).snippets.push(`	${l.name} : ${d}`)}}for(const l in a){const c=a[l];o.push(this._getWGSLStructBinding(l,c.snippets.join(`,
`),"uniform",c.index,c.id))}return[...r,...i,...o].join(`
`)}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const n in e){this.shaderStage=n;const r=e[n];r.uniforms=this.getUniforms(n),r.attributes=this.getAttributes(n),r.varyings=this.getVaryings(n),r.structs=this.getStructs(n),r.vars=this.getVars(n),r.codes=this.getCodes(n),r.directives=this.getDirectives(n),r.scopedArrays=this.getScopedArrays(n);let i=`// code

`;i+=this.flowCode[n];const o=this.flowNodes[n],a=o[o.length-1],s=a.outputNode,l=s!==void 0&&s.isOutputStructNode===!0;for(const c of o){const u=this.getFlowData(c),d=c.name;if(d&&(i.length>0&&(i+=`
`),i+=`	// flow -> ${d}
`),i+=`${u.code}
	`,c===a&&n!=="compute"){if(i+=`// result

	`,n==="vertex")i+=`varyings.Vertex = ${u.result};`;else if(n==="fragment")if(l)r.returnType=s.getNodeType(this),r.structs+="var<private> output : "+r.returnType+";",i+=`return ${u.result};`;else{let f="	@location(0) color: vec4<f32>";const h=this.getBuiltins("output");h&&(f+=`,
	`+h),r.returnType="OutputStruct",r.structs+=this._getWGSLStruct("OutputStruct",f),r.structs+=`
var<private> output : OutputStruct;`,i+=`output.color = ${u.result};

	return output;`}}}r.flow=i}if(this.shaderStage=null,this.material!==null)this.vertexShader=this._getWGSLVertexCode(e.vertex),this.fragmentShader=this._getWGSLFragmentCode(e.fragment);else{const n=this.object.workgroupSize;this.computeShader=this._getWGSLComputeCode(e.compute,n)}}getMethod(e,n=null){let r;return n!==null&&(r=this._getWGSLMethod(e+"_"+n)),r===void 0&&(r=this._getWGSLMethod(e)),r||e}getBitcastMethod(e){return`bitcast<${this.getType(e)}>`}getFloatPackingMethod(e){return this.getMethod(`floatpack_${e}_2x16`)}getFloatUnpackingMethod(e){return this.getMethod(`floatunpack_${e}_2x16`)}getTernary(e,n,r){return`select( ${r}, ${n}, ${e} )`}getType(e){return Rit[e]||e}isAvailable(e){let n=FW[e];return n===void 0&&(e==="float32Filterable"?n=this.renderer.hasFeature("float32-filterable"):e==="clipDistance"&&(n=this.renderer.hasFeature("clip-distances")),FW[e]=n),n}_getWGSLMethod(e){return E1[e]!==void 0&&this._include(e),Pit[e]}_include(e){const n=E1[e];return n.build(this),this.addInclude(n),n}_getWGSLVertexCode(e){return`${this.getSignature()}
// directives
${e.directives}

// structs
${e.structs}

// uniforms
${e.uniforms}

// varyings
${e.varyings}
var<private> varyings : VaryingsStruct;

// codes
${e.codes}

@vertex
fn main( ${e.attributes} ) -> VaryingsStruct {

	// vars
	${e.vars}

	// flow
	${e.flow}

	return varyings;

}
`}_getWGSLFragmentCode(e){return`${this.getSignature()}
// global
${Gue}

// structs
${e.structs}

// uniforms
${e.uniforms}

// codes
${e.codes}

@fragment
fn main( ${e.varyings} ) -> ${e.returnType} {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLComputeCode(e,n){const[r,i,o]=n;return`${this.getSignature()}
// directives
${e.directives}

// system
var<private> instanceIndex : u32;

// locals
${e.scopedArrays}

// structs
${e.structs}

// uniforms
${e.uniforms}

// codes
${e.codes}

@compute @workgroup_size( ${r}, ${i}, ${o} )
fn main( ${e.attributes} ) {

	// system
	instanceIndex = globalId.x
		+ globalId.y * ( ${r} * numWorkgroups.x )
		+ globalId.z * ( ${r} * numWorkgroups.x ) * ( ${i} * numWorkgroups.y );

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLStruct(e,n){return`
struct ${e} {
${n}
};`}_getWGSLStructBinding(e,n,r,i=0,o=0){const a=e+"Struct";return`${this._getWGSLStruct(a,n)}
@binding( ${i} ) @group( ${o} )
var<${r}> ${e} : ${a};`}}class Iit{constructor(e){this.backend=e}getCurrentDepthStencilFormat(e){let n;return e.depthTexture!==null?n=this.getTextureFormatGPU(e.depthTexture):e.depth&&e.stencil?n=Xe.Depth24PlusStencil8:e.depth&&(n=Xe.Depth24Plus),n}getTextureFormatGPU(e){return this.backend.get(e).format}getTextureSampleData(e){let n;if(e.isFramebufferTexture)n=1;else if(e.isDepthTexture&&!e.renderTarget){const o=this.backend.renderer,a=o.getRenderTarget();n=a?a.samples:o.currentSamples}else e.renderTarget&&(n=e.renderTarget.samples);n=n||1;const r=n>1&&e.renderTarget!==null&&e.isDepthTexture!==!0&&e.isFramebufferTexture!==!0;return{samples:n,primarySamples:r?1:n,isMSAA:r}}getCurrentColorFormat(e){let n;return e.textures!==null?n=this.getTextureFormatGPU(e.textures[0]):n=this.getPreferredCanvasFormat(),n}getCurrentColorFormats(e){return e.textures!==null?e.textures.map(n=>this.getTextureFormatGPU(n)):[this.getPreferredCanvasFormat()]}getCurrentColorSpace(e){return e.textures!==null?e.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(e,n){if(e.isPoints)return rA.PointList;if(e.isLineSegments||e.isMesh&&n.wireframe===!0)return rA.LineList;if(e.isLine)return rA.LineStrip;if(e.isMesh)return rA.TriangleList}getSampleCount(e){return e>=4?4:1}getSampleCountRenderContext(e){return e.textures!==null?this.getSampleCount(e.sampleCount):this.getSampleCount(this.backend.renderer.currentSamples)}getPreferredCanvasFormat(){const n=this.backend.parameters.outputType;if(n===void 0)return navigator.gpu.getPreferredCanvasFormat();if(n===Fi)return Xe.BGRA8Unorm;if(n===Ui)return Xe.RGBA16Float;throw new Error("Unsupported output buffer type.")}}const Hue=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]);typeof Float16Array<"u"&&Hue.set(Float16Array,["float16"]);const Dit=new Map([[fie,["float16"]]]),Oit=new Map([[Int32Array,"sint32"],[Int16Array,"sint32"],[Uint32Array,"uint32"],[Uint16Array,"uint32"],[Float32Array,"float32"]]);class Lit{constructor(e){this.backend=e}createAttribute(e,n){const r=this._getBufferAttribute(e),i=this.backend,o=i.get(r);let a=o.buffer;if(a===void 0){const s=i.device;let l=r.array;if(e.normalized===!1){if(l.constructor===Int16Array||l.constructor===Int8Array)l=new Int32Array(l);else if((l.constructor===Uint16Array||l.constructor===Uint8Array)&&(l=new Uint32Array(l),n&GPUBufferUsage.INDEX))for(let d=0;d<l.length;d++)l[d]===65535&&(l[d]=4294967295)}if(r.array=l,(r.isStorageBufferAttribute||r.isStorageInstancedBufferAttribute)&&r.itemSize===3){l=new l.constructor(r.count*4);for(let d=0;d<r.count;d++)l.set(r.array.subarray(d*3,d*3+3),d*4);r.itemSize=4,r.array=l,o._force3to4BytesAlignment=!0}const c=l.byteLength,u=c+(4-c%4)%4;a=s.createBuffer({label:r.name,size:u,usage:n,mappedAtCreation:!0}),new l.constructor(a.getMappedRange()).set(l),a.unmap(),o.buffer=a}}updateAttribute(e){const n=this._getBufferAttribute(e),r=this.backend,i=r.device,o=r.get(n),a=r.get(n).buffer;let s=n.array;if(o._force3to4BytesAlignment===!0){s=new s.constructor(n.count*4);for(let c=0;c<n.count;c++)s.set(n.array.subarray(c*3,c*3+3),c*4);n.array=s}const l=n.updateRanges;if(l.length===0)i.queue.writeBuffer(a,0,s,0);else{const c=jT(s),u=c?1:s.BYTES_PER_ELEMENT;for(let d=0,f=l.length;d<f;d++){const h=l[d];let p,x;if(o._force3to4BytesAlignment===!0){const y=Math.floor(h.start/3),_=Math.ceil(h.count/3);p=y*4*u,x=_*4*u}else p=h.start*u,x=h.count*u;const b=p*(c?s.BYTES_PER_ELEMENT:1);i.queue.writeBuffer(a,b,s,p,x)}n.clearUpdateRanges()}}createShaderVertexBuffers(e){const n=e.getAttributes(),r=new Map;for(let i=0;i<n.length;i++){const o=n[i],a=o.array.BYTES_PER_ELEMENT,s=this._getBufferAttribute(o);let l=r.get(s);if(l===void 0){let d,f;o.isInterleavedBufferAttribute===!0?(d=o.data.stride*a,f=o.data.isInstancedInterleavedBuffer?Rw.Instance:Rw.Vertex):(d=o.itemSize*a,f=o.isInstancedBufferAttribute?Rw.Instance:Rw.Vertex),o.normalized===!1&&(o.array.constructor===Int16Array||o.array.constructor===Uint16Array)&&(d=4),l={arrayStride:d,attributes:[],stepMode:f},r.set(s,l)}const c=this._getVertexFormat(o),u=o.isInterleavedBufferAttribute===!0?o.offset*a:0;l.attributes.push({shaderLocation:i,offset:u,format:c})}return Array.from(r.values())}destroyAttribute(e){const n=this.backend;n.get(this._getBufferAttribute(e)).buffer.destroy(),n.delete(e)}async getArrayBufferAsync(e){const n=this.backend,r=n.device,o=n.get(this._getBufferAttribute(e)).buffer,a=o.size,s=r.createBuffer({label:`${e.name}_readback`,size:a,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),l=r.createCommandEncoder({label:`readback_encoder_${e.name}`});l.copyBufferToBuffer(o,0,s,0,a);const c=l.finish();r.queue.submit([c]),await s.mapAsync(GPUMapMode.READ);const u=s.getMappedRange(),d=new e.array.constructor(u.slice(0));return s.unmap(),d.buffer}_getVertexFormat(e){const{itemSize:n,normalized:r}=e,i=e.array.constructor,o=e.constructor;let a;if(n===1)a=Oit.get(i);else{const l=(Dit.get(o)||Hue.get(i))[r?1:0];if(l){const c=i.BYTES_PER_ELEMENT*n,d=Math.floor((c+3)/4)*4/i.BYTES_PER_ELEMENT;if(d%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");a=`${l}x${d}`}}return a||$t("WebGPUAttributeUtils: Vertex format not supported yet."),a}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}class Bit{constructor(e){this.layoutGPU=e,this.usedTimes=0}}class Fit{constructor(e){this.backend=e,this._bindGroupLayoutCache=new Map}createBindingsLayout(e){const n=this.backend,r=n.device,i=n.get(e);if(i.layout)return i.layout.layoutGPU;const o=this._createLayoutEntries(e),a=JSON.stringify(o);let s=this._bindGroupLayoutCache.get(a);return s===void 0&&(s=new Bit(r.createBindGroupLayout({entries:o})),this._bindGroupLayoutCache.set(a,s)),s.usedTimes++,i.layout=s,i.layoutKey=a,s.layoutGPU}createBindings(e,n,r,i=0){const{backend:o}=this,a=o.get(e),s=this.createBindingsLayout(e);let l;r>0&&(a.groups===void 0&&(a.groups=[],a.versions=[]),a.versions[r]===i&&(l=a.groups[r])),l===void 0&&(l=this.createBindGroup(e,s),r>0&&(a.groups[r]=l,a.versions[r]=i)),a.group=l}updateBinding(e){const n=this.backend,r=n.device,i=e.buffer,o=n.get(e).buffer,a=e.updateRanges;if(a.length===0)r.queue.writeBuffer(o,0,i,0);else{const s=jT(i),l=s?1:i.BYTES_PER_ELEMENT;for(let c=0,u=a.length;c<u;c++){const d=a[c],f=d.start*l,h=d.count*l,p=f*(s?i.BYTES_PER_ELEMENT:1);r.queue.writeBuffer(o,p,i,f,h)}e.clearUpdateRanges()}}createBindGroupIndex(e,n){const i=this.backend.device,o=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,a=e[0],s=i.createBuffer({label:"bindingCameraIndex_"+a,size:16,usage:o});i.queue.writeBuffer(s,0,e,0);const l=[{binding:0,resource:{buffer:s}}];return i.createBindGroup({label:"bindGroupCameraIndex_"+a,layout:n,entries:l})}createBindGroup(e,n){const r=this.backend,i=r.device;let o=0;const a=[];for(const s of e.bindings){if(s.isUniformBuffer){const l=r.get(s);if(l.buffer===void 0){const c=s.byteLength,u=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,d=[];s.visibility&_m.VERTEX&&d.push("vertex"),s.visibility&_m.FRAGMENT&&d.push("fragment"),s.visibility&_m.COMPUTE&&d.push("compute");const f=`(${d.join(",")})`,h=i.createBuffer({label:`bindingBuffer${s.id}_${s.name}_${f}`,size:c,usage:u});l.buffer=h}a.push({binding:o,resource:{buffer:l.buffer}})}else if(s.isStorageBuffer){const l=r.get(s);if(l.buffer===void 0){const c=s.attribute;l.buffer=r.get(c).buffer}a.push({binding:o,resource:{buffer:l.buffer}})}else if(s.isSampledTexture){const l=r.get(s.texture);let c;if(l.externalTexture!==void 0)c=i.importExternalTexture({source:l.externalTexture});else{const u=s.store?1:l.texture.mipLevelCount,d=s.store?s.mipLevel:0;let f=`view-${l.texture.width}-${l.texture.height}`;if(l.texture.depthOrArrayLayers>1&&(f+=`-${l.texture.depthOrArrayLayers}`),f+=`-${u}-${d}`,c=l[f],c===void 0){const h=hit.All;let p;s.isSampledCubeTexture?p=Bo.Cube:s.isSampledTexture3D?p=Bo.ThreeD:s.texture.isArrayTexture||s.texture.isDataArrayTexture||s.texture.isCompressedArrayTexture?p=Bo.TwoDArray:p=Bo.TwoD,c=l[f]=l.texture.createView({aspect:h,dimension:p,mipLevelCount:u,baseMipLevel:d})}}a.push({binding:o,resource:c})}else if(s.isSampler){const l=r.get(s.texture);a.push({binding:o,resource:l.sampler})}o++}return i.createBindGroup({label:"bindGroup_"+e.name,layout:n,entries:a})}_createLayoutEntries(e){const n=[];let r=0;for(const i of e.bindings){const o=this.backend,a={binding:r,visibility:i.visibility};if(i.isUniformBuffer||i.isStorageBuffer){const s={};i.isStorageBuffer&&(i.visibility&_m.COMPUTE&&(i.access===Ta.READ_WRITE||i.access===Ta.WRITE_ONLY)?s.type=mI.Storage:s.type=mI.ReadOnlyStorage),a.buffer=s}else if(i.isSampledTexture&&i.store){const s={};s.format=this.backend.get(i.texture).texture.format;const l=i.access;l===Ta.READ_WRITE?s.access=gI.ReadWrite:l===Ta.WRITE_ONLY?s.access=gI.WriteOnly:s.access=gI.ReadOnly,i.texture.isArrayTexture?s.viewDimension=Bo.TwoDArray:i.texture.is3DTexture&&(s.viewDimension=Bo.ThreeD),a.storageTexture=s}else if(i.isSampledTexture){const s={},{primarySamples:l}=o.utils.getTextureSampleData(i.texture);if(l>1&&(s.multisampled=!0,i.texture.isDepthTexture||(s.sampleType=Gp.UnfilterableFloat)),i.texture.isDepthTexture)o.compatibilityMode&&i.texture.compareFunction===null?s.sampleType=Gp.UnfilterableFloat:s.sampleType=Gp.Depth;else if(i.texture.isDataTexture||i.texture.isDataArrayTexture||i.texture.isData3DTexture){const c=i.texture.type;c===sa?s.sampleType=Gp.SInt:c===li?s.sampleType=Gp.UInt:c===xo&&(this.backend.hasFeature("float32-filterable")?s.sampleType=Gp.Float:s.sampleType=Gp.UnfilterableFloat)}i.isSampledCubeTexture?s.viewDimension=Bo.Cube:i.texture.isArrayTexture||i.texture.isDataArrayTexture||i.texture.isCompressedArrayTexture?s.viewDimension=Bo.TwoDArray:i.isSampledTexture3D&&(s.viewDimension=Bo.ThreeD),a.texture=s}else if(i.isSampler){const s={};i.texture.isDepthTexture&&(i.texture.compareFunction!==null?s.type=IW.Comparison:o.compatibilityMode&&(s.type=IW.NonFiltering)),a.sampler=s}else $t(`WebGPUBindingUtils: Unsupported binding "${i}".`);n.push(a),r++}return n}deleteBindGroupData(e){const{backend:n}=this,r=n.get(e);r.layout&&(r.layout.usedTimes--,r.layout.usedTimes===0&&this._bindGroupLayoutCache.delete(r.layoutKey),r.layout=void 0,r.layoutKey=void 0)}dispose(){this._bindGroupLayoutCache.clear()}}class $it{constructor(e){this.backend=e,this._activePipelines=new WeakMap}setPipeline(e,n){this._activePipelines.get(e)!==n&&(e.setPipeline(n),this._activePipelines.set(e,n))}_getSampleCount(e){return this.backend.utils.getSampleCountRenderContext(e)}createRenderPipeline(e,n){const{object:r,material:i,geometry:o,pipeline:a}=e,{vertexProgram:s,fragmentProgram:l}=a,c=this.backend,u=c.device,d=c.utils,f=c.get(a),h=[];for(const V of e.getBindings()){const U=c.get(V),{layoutGPU:k}=U.layout;h.push(k)}const p=c.attributeUtils.createShaderVertexBuffers(e);let x;i.blending!==Ms&&(i.blending!==Rs||i.transparent!==!1)&&(x=this._getBlending(i));let b={};i.stencilWrite===!0&&(b={compare:this._getStencilCompare(i),failOp:this._getStencilOperation(i.stencilFail),depthFailOp:this._getStencilOperation(i.stencilZFail),passOp:this._getStencilOperation(i.stencilZPass)});const y=this._getColorWriteMask(i),_=[];if(e.context.textures!==null){const V=e.context.textures;for(let U=0;U<V.length;U++){const k=d.getTextureFormatGPU(V[U]);U===0?_.push({format:k,blend:x,writeMask:y}):_.push({format:k,writeMask:y})}}else{const V=d.getCurrentColorFormat(e.context);_.push({format:V,blend:x,writeMask:y})}const C=c.get(s).module,E=c.get(l).module,M=this._getPrimitiveState(r,o,i),R=this._getDepthCompare(i),N=d.getCurrentDepthStencilFormat(e.context),O=this._getSampleCount(e.context),I={label:`renderPipeline_${i.name||i.type}_${i.id}`,vertex:Object.assign({},C,{buffers:p}),fragment:Object.assign({},E,{targets:_}),primitive:M,multisample:{count:O,alphaToCoverageEnabled:i.alphaToCoverage&&O>1},layout:u.createPipelineLayout({bindGroupLayouts:h})},L={},F=e.context.depth,$=e.context.stencil;if((F===!0||$===!0)&&(F===!0&&(L.format=N,L.depthWriteEnabled=i.depthWrite,L.depthCompare=R),$===!0&&(L.stencilFront=b,L.stencilBack={},L.stencilReadMask=i.stencilFuncMask,L.stencilWriteMask=i.stencilWriteMask),i.polygonOffset===!0&&(L.depthBias=i.polygonOffsetUnits,L.depthBiasSlopeScale=i.polygonOffsetFactor,L.depthBiasClamp=0),I.depthStencil=L),u.pushErrorScope("validation"),n===null)f.pipeline=u.createRenderPipeline(I),u.popErrorScope().then(V=>{V!==null&&(f.error=!0,$t(V.message))});else{const V=new Promise(async U=>{try{f.pipeline=await u.createRenderPipelineAsync(I)}catch{}const k=await u.popErrorScope();k!==null&&(f.error=!0,$t(k.message)),U()});n.push(V)}}createBundleEncoder(e,n="renderBundleEncoder"){const r=this.backend,{utils:i,device:o}=r,a=i.getCurrentDepthStencilFormat(e),s=i.getCurrentColorFormats(e),l=this._getSampleCount(e),c={label:n,colorFormats:s,depthStencilFormat:a,sampleCount:l};return o.createRenderBundleEncoder(c)}createComputePipeline(e,n){const r=this.backend,i=r.device,o=r.get(e.computeProgram).module,a=r.get(e),s=[];for(const l of n){const c=r.get(l),{layoutGPU:u}=c.layout;s.push(u)}a.pipeline=i.createComputePipeline({compute:o,layout:i.createPipelineLayout({bindGroupLayouts:s})})}_getBlending(e){let n,r;const i=e.blending,o=e.blendSrc,a=e.blendDst,s=e.blendEquation;if(i===vA){const l=e.blendSrcAlpha!==null?e.blendSrcAlpha:o,c=e.blendDstAlpha!==null?e.blendDstAlpha:a,u=e.blendEquationAlpha!==null?e.blendEquationAlpha:s;n={srcFactor:this._getBlendFactor(o),dstFactor:this._getBlendFactor(a),operation:this._getBlendOperation(s)},r={srcFactor:this._getBlendFactor(l),dstFactor:this._getBlendFactor(c),operation:this._getBlendOperation(u)}}else{const l=e.premultipliedAlpha,c=(u,d,f,h)=>{n={srcFactor:u,dstFactor:d,operation:zp.Add},r={srcFactor:f,dstFactor:h,operation:zp.Add}};if(l)switch(i){case Rs:c($r.One,$r.OneMinusSrcAlpha,$r.One,$r.OneMinusSrcAlpha);break;case qA:c($r.One,$r.One,$r.One,$r.One);break;case WA:c($r.Zero,$r.OneMinusSrc,$r.Zero,$r.One);break;case XA:c($r.Dst,$r.OneMinusSrcAlpha,$r.Zero,$r.One);break}else switch(i){case Rs:c($r.SrcAlpha,$r.OneMinusSrcAlpha,$r.One,$r.OneMinusSrcAlpha);break;case qA:c($r.SrcAlpha,$r.One,$r.One,$r.One);break;case WA:$t("WebGPURenderer: SubtractiveBlending requires material.premultipliedAlpha = true");break;case XA:$t("WebGPURenderer: MultiplyBlending requires material.premultipliedAlpha = true");break}}if(n!==void 0&&r!==void 0)return{color:n,alpha:r};$t("WebGPURenderer: Invalid blending: ",i)}_getBlendFactor(e){let n;switch(e){case Fd:n=$r.Zero;break;case LB:n=$r.One;break;case BB:n=$r.Src;break;case FB:n=$r.OneMinusSrc;break;case yx:n=$r.SrcAlpha;break;case bx:n=$r.OneMinusSrcAlpha;break;case kB:n=$r.Dst;break;case VB:n=$r.OneMinusDst;break;case $B:n=$r.DstAlpha;break;case UB:n=$r.OneMinusDstAlpha;break;case zB:n=$r.SrcAlphaSaturated;break;case MQe:n=$r.Constant;break;case RQe:n=$r.OneMinusConstant;break;default:$t("WebGPURenderer: Blend factor not supported.",e)}return n}_getStencilCompare(e){let n;const r=e.stencilFunc;switch(r){case uLe:n=ma.Never;break;case m5:n=ma.Always;break;case dLe:n=ma.Less;break;case hLe:n=ma.LessEqual;break;case fLe:n=ma.Equal;break;case gLe:n=ma.GreaterEqual;break;case pLe:n=ma.Greater;break;case mLe:n=ma.NotEqual;break;default:$t("WebGPURenderer: Invalid stencil function.",r)}return n}_getStencilOperation(e){let n;switch(e){case Kp:n=Zf.Keep;break;case rLe:n=Zf.Zero;break;case iLe:n=Zf.Replace;break;case cLe:n=Zf.Invert;break;case oLe:n=Zf.IncrementClamp;break;case aLe:n=Zf.DecrementClamp;break;case sLe:n=Zf.IncrementWrap;break;case lLe:n=Zf.DecrementWrap;break;default:$t("WebGPURenderer: Invalid stencil operation.",n)}return n}_getBlendOperation(e){let n;switch(e){case Ya:n=zp.Add;break;case DB:n=zp.Subtract;break;case OB:n=zp.ReverseSubtract;break;case rie:n=zp.Min;break;case iie:n=zp.Max;break;default:$t("WebGPUPipelineUtils: Blend equation not supported.",e)}return n}_getPrimitiveState(e,n,r){const i={},o=this.backend.utils;i.topology=o.getPrimitiveTopology(e,r),n.index!==null&&e.isLine===!0&&e.isLineSegments!==!0&&(i.stripIndexFormat=n.index.array instanceof Uint16Array?Bv.Uint16:Bv.Uint32);let a=r.side===ui;return e.isMesh&&e.matrixWorld.determinant()<0&&(a=!a),i.frontFace=a===!0?RW.CW:RW.CCW,i.cullMode=r.side===To?PW.None:PW.Back,i}_getColorWriteMask(e){return e.colorWrite===!0?NW.All:NW.None}_getDepthCompare(e){let n;if(e.depthTest===!1)n=ma.Always;else{const r=e.depthFunc;switch(r){case xx:n=ma.Never;break;case Sx:n=ma.Always;break;case _x:n=ma.Less;break;case Yh:n=ma.LessEqual;break;case wx:n=ma.Equal;break;case Cx:n=ma.GreaterEqual;break;case Tx:n=ma.Greater;break;case Ex:n=ma.NotEqual;break;default:$t("WebGPUPipelineUtils: Invalid depth function.",r)}}return n}}class Uit extends zue{constructor(e,n,r=2048){super(r),this.device=e,this.type=n,this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxQueries,label:`queryset_global_timestamp_${n}`});const i=this.maxQueries*8;this.resolveBuffer=this.device.createBuffer({label:`buffer_timestamp_resolve_${n}`,size:i,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.resultBuffer=this.device.createBuffer({label:`buffer_timestamp_result_${n}`,size:i,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ})}allocateQueriesForContext(e){if(!this.trackTimestamp||this.isDisposed)return null;if(this.currentQueryIndex+2>this.maxQueries)return Ai(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const n=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryOffsets.set(e,n),n}async resolveQueriesAsync(){if(!this.trackTimestamp||this.currentQueryIndex===0||this.isDisposed)return this.lastValue;if(this.pendingResolve)return this.pendingResolve;this.pendingResolve=this._resolveQueries();try{return await this.pendingResolve}finally{this.pendingResolve=null}}async _resolveQueries(){if(this.isDisposed)return this.lastValue;try{if(this.resultBuffer.mapState!=="unmapped")return this.lastValue;const e=new Map(this.queryOffsets),n=this.currentQueryIndex,r=n*8;this.currentQueryIndex=0,this.queryOffsets.clear();const i=this.device.createCommandEncoder();i.resolveQuerySet(this.querySet,0,n,this.resolveBuffer,0),i.copyBufferToBuffer(this.resolveBuffer,0,this.resultBuffer,0,r);const o=i.finish();if(this.device.queue.submit([o]),this.resultBuffer.mapState!=="unmapped")return this.lastValue;if(await this.resultBuffer.mapAsync(GPUMapMode.READ,0,r),this.isDisposed)return this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue;const a=new BigUint64Array(this.resultBuffer.getMappedRange(0,r)),s={},l=[];for(const[u,d]of e){const f=u.match(/^(.*):f(\d+)$/),h=parseInt(f[2]);l.includes(h)===!1&&l.push(h),s[h]===void 0&&(s[h]=0);const p=a[d],x=a[d+1],b=Number(x-p)/1e6;this.timestamps.set(u,b),s[h]+=b}const c=s[l[l.length-1]];return this.resultBuffer.unmap(),this.lastValue=c,this.frames=l,c}catch(e){return $t("Error resolving queries:",e),this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue}}async dispose(){if(!this.isDisposed){if(this.isDisposed=!0,this.pendingResolve)try{await this.pendingResolve}catch(e){$t("Error waiting for pending resolve:",e)}if(this.resultBuffer&&this.resultBuffer.mapState==="mapped")try{this.resultBuffer.unmap()}catch(e){$t("Error unmapping buffer:",e)}this.querySet&&(this.querySet.destroy(),this.querySet=null),this.resolveBuffer&&(this.resolveBuffer.destroy(),this.resolveBuffer=null),this.resultBuffer&&(this.resultBuffer.destroy(),this.resultBuffer=null),this.queryOffsets.clear(),this.pendingResolve=null}}}class kit extends Vue{constructor(e={}){super(e),this.isWebGPUBackend=!0,this.parameters.alpha=e.alpha===void 0?!0:e.alpha,this.parameters.compatibilityMode=e.compatibilityMode===void 0?!1:e.compatibilityMode,this.parameters.requiredLimits=e.requiredLimits===void 0?{}:e.requiredLimits,this.compatibilityMode=this.parameters.compatibilityMode,this.device=null,this.defaultRenderPassdescriptor=null,this.utils=new Iit(this),this.attributeUtils=new Lit(this),this.bindingUtils=new Fit(this),this.pipelineUtils=new $it(this),this.textureUtils=new xit(this),this.occludedResolveCache=new Map}async init(e){await super.init(e);const n=this.parameters;let r;if(n.device===void 0){const i={powerPreference:n.powerPreference,featureLevel:n.compatibilityMode?"compatibility":void 0},o=typeof navigator<"u"?await navigator.gpu.requestAdapter(i):null;if(o===null)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const a=Object.values(P6),s=[];for(const c of a)o.features.has(c)&&s.push(c);const l={requiredFeatures:s,requiredLimits:n.requiredLimits};r=await o.requestDevice(l)}else r=n.device;r.lost.then(i=>{if(i.reason==="destroyed")return;const o={api:"WebGPU",message:i.message||"Unknown reason",reason:i.reason||null,originalEvent:i};e.onDeviceLost(o)}),this.device=r,this.trackTimestamp=this.trackTimestamp&&this.hasFeature(P6.TimestampQuery),this.updateSize()}get context(){const e=this.renderer.getCanvasTarget(),n=this.get(e);let r=n.context;if(r===void 0){const i=this.parameters;e.isDefaultCanvasTarget===!0&&i.context!==void 0?r=i.context:r=e.domElement.getContext("webgpu"),"setAttribute"in e.domElement&&e.domElement.setAttribute("data-engine",`three.js r${v0} webgpu`);const o=i.alpha?"premultiplied":"opaque",a=i.outputType===Ui?"extended":"standard";r.configure({device:this.device,format:this.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:o,toneMapping:{mode:a}}),n.context=r}return r}get coordinateSystem(){return wc}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}getContext(){return this.context}_getDefaultRenderPassDescriptor(){const e=this.renderer,n=e.getCanvasTarget(),r=this.get(n),i=e.currentSamples;let o=r.descriptor;if(o===void 0||r.samples!==i){o={colorAttachments:[{view:null}]},(e.depth===!0||e.stencil===!0)&&(o.depthStencilAttachment={view:this.textureUtils.getDepthBuffer(e.depth,e.stencil).createView()});const s=o.colorAttachments[0];i>0?s.view=this.textureUtils.getColorBuffer().createView():s.resolveTarget=void 0,r.descriptor=o,r.samples=i}const a=o.colorAttachments[0];return i>0?a.resolveTarget=this.context.getCurrentTexture().createView():a.view=this.context.getCurrentTexture().createView(),o}_isRenderCameraDepthArray(e){return e.depthTexture&&e.depthTexture.image.depth>1&&e.camera.isArrayCamera}_getRenderPassDescriptor(e,n={}){const r=e.renderTarget,i=this.get(r);let o=i.descriptors;(o===void 0||i.width!==r.width||i.height!==r.height||i.samples!==r.samples)&&(o={},i.descriptors=o);const a=e.getCacheKey();let s=o[a];if(s===void 0){const c=e.textures,u=[];let d;const f=this._isRenderCameraDepthArray(e);for(let h=0;h<c.length;h++){const p=this.get(c[h]),x={label:`colorAttachment_${h}`,baseMipLevel:e.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:e.activeCubeFace,arrayLayerCount:1,dimension:Bo.TwoD};if(r.isRenderTarget3D)d=e.activeCubeFace,x.baseArrayLayer=0,x.dimension=Bo.ThreeD,x.depthOrArrayLayers=c[h].image.depth;else if(r.isRenderTarget&&c[h].image.depth>1)if(f===!0){const b=e.camera.cameras;for(let y=0;y<b.length;y++){const _={...x,baseArrayLayer:y,arrayLayerCount:1,dimension:Bo.TwoD},C=p.texture.createView(_);u.push({view:C,resolveTarget:void 0,depthSlice:void 0})}}else x.dimension=Bo.TwoDArray,x.depthOrArrayLayers=c[h].image.depth;if(f!==!0){const b=p.texture.createView(x);let y,_;p.msaaTexture!==void 0?(y=p.msaaTexture.createView(),_=b):(y=b,_=void 0),u.push({view:y,resolveTarget:_,depthSlice:d})}}if(s={textureViews:u},e.depth){const h=this.get(e.depthTexture),p={};(e.depthTexture.isArrayTexture||e.depthTexture.isCubeTexture)&&(p.dimension=Bo.TwoD,p.arrayLayerCount=1,p.baseArrayLayer=e.activeCubeFace),s.depthStencilView=h.texture.createView(p)}o[a]=s,i.width=r.width,i.height=r.height,i.samples=r.samples,i.activeMipmapLevel=e.activeMipmapLevel,i.activeCubeFace=e.activeCubeFace}const l={colorAttachments:[]};for(let c=0;c<s.textureViews.length;c++){const u=s.textureViews[c];let d={r:0,g:0,b:0,a:1};c===0&&n.clearValue&&(d=n.clearValue),l.colorAttachments.push({view:u.view,depthSlice:u.depthSlice,resolveTarget:u.resolveTarget,loadOp:n.loadOp||ti.Load,storeOp:n.storeOp||ps.Store,clearValue:d})}return s.depthStencilView&&(l.depthStencilAttachment={view:s.depthStencilView}),l}beginRender(e){const n=this.get(e),r=this.device,i=e.occlusionQueryCount;let o;i>0&&(n.currentOcclusionQuerySet&&n.currentOcclusionQuerySet.destroy(),n.currentOcclusionQueryBuffer&&n.currentOcclusionQueryBuffer.destroy(),n.currentOcclusionQuerySet=n.occlusionQuerySet,n.currentOcclusionQueryBuffer=n.occlusionQueryBuffer,n.currentOcclusionQueryObjects=n.occlusionQueryObjects,o=r.createQuerySet({type:"occlusion",count:i,label:`occlusionQuerySet_${e.id}`}),n.occlusionQuerySet=o,n.occlusionQueryIndex=0,n.occlusionQueryObjects=new Array(i),n.lastOcclusionObject=null);let a;e.textures===null?a=this._getDefaultRenderPassDescriptor():a=this._getRenderPassDescriptor(e,{loadOp:ti.Load}),this.initTimestampQuery(Yu.RENDER,this.getTimestampUID(e),a),a.occlusionQuerySet=o;const s=a.depthStencilAttachment;if(e.textures!==null){const c=a.colorAttachments;for(let u=0;u<c.length;u++){const d=c[u];e.clearColor?(d.clearValue=u===0?e.clearColorValue:{r:0,g:0,b:0,a:1},d.loadOp=ti.Clear):d.loadOp=ti.Load,d.storeOp=ps.Store}}else{const c=a.colorAttachments[0];e.clearColor?(c.clearValue=e.clearColorValue,c.loadOp=ti.Clear):c.loadOp=ti.Load,c.storeOp=ps.Store}e.depth&&(e.clearDepth?(s.depthClearValue=e.clearDepthValue,s.depthLoadOp=ti.Clear):s.depthLoadOp=ti.Load,s.depthStoreOp=ps.Store),e.stencil&&(e.clearStencil?(s.stencilClearValue=e.clearStencilValue,s.stencilLoadOp=ti.Clear):s.stencilLoadOp=ti.Load,s.stencilStoreOp=ps.Store);const l=r.createCommandEncoder({label:"renderContext_"+e.id});if(this._isRenderCameraDepthArray(e)===!0){const c=e.camera.cameras;!n.layerDescriptors||n.layerDescriptors.length!==c.length?this._createDepthLayerDescriptors(e,n,a,c):this._updateDepthLayerDescriptors(e,n,c),n.bundleEncoders=[],n.bundleSets=[];for(let u=0;u<c.length;u++){const d=this.pipelineUtils.createBundleEncoder(e,"renderBundleArrayCamera_"+u),f={attributes:{},bindingGroups:[],pipeline:null,index:null};n.bundleEncoders.push(d),n.bundleSets.push(f)}n.currentPass=null}else{const c=l.beginRenderPass(a);n.currentPass=c,e.viewport&&this.updateViewport(e),e.scissor&&this.updateScissor(e)}n.descriptor=a,n.encoder=l,n.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},n.renderBundles=[]}_createDepthLayerDescriptors(e,n,r,i){const o=r.depthStencilAttachment;n.layerDescriptors=[];const a=this.get(e.depthTexture);a.viewCache||(a.viewCache=[]);for(let s=0;s<i.length;s++){const l={...r,colorAttachments:[{...r.colorAttachments[0],view:r.colorAttachments[s].view}]};if(r.depthStencilAttachment){const c=s;a.viewCache[c]||(a.viewCache[c]=a.texture.createView({dimension:Bo.TwoD,baseArrayLayer:s,arrayLayerCount:1})),l.depthStencilAttachment={view:a.viewCache[c],depthLoadOp:o.depthLoadOp||ti.Clear,depthStoreOp:o.depthStoreOp||ps.Store,depthClearValue:o.depthClearValue||1},e.stencil&&(l.depthStencilAttachment.stencilLoadOp=o.stencilLoadOp,l.depthStencilAttachment.stencilStoreOp=o.stencilStoreOp,l.depthStencilAttachment.stencilClearValue=o.stencilClearValue)}else l.depthStencilAttachment={...o};n.layerDescriptors.push(l)}}_updateDepthLayerDescriptors(e,n,r){for(let i=0;i<r.length;i++){const o=n.layerDescriptors[i];if(o.depthStencilAttachment){const a=o.depthStencilAttachment;e.depth&&(e.clearDepth?(a.depthClearValue=e.clearDepthValue,a.depthLoadOp=ti.Clear):a.depthLoadOp=ti.Load),e.stencil&&(e.clearStencil?(a.stencilClearValue=e.clearStencilValue,a.stencilLoadOp=ti.Clear):a.stencilLoadOp=ti.Load)}}}finishRender(e){const n=this.get(e),r=e.occlusionQueryCount;n.renderBundles.length>0&&n.currentPass.executeBundles(n.renderBundles),r>n.occlusionQueryIndex&&n.currentPass.endOcclusionQuery();const i=n.encoder;if(this._isRenderCameraDepthArray(e)===!0){const o=[];for(let a=0;a<n.bundleEncoders.length;a++){const s=n.bundleEncoders[a];o.push(s.finish())}for(let a=0;a<n.layerDescriptors.length;a++)if(a<o.length){const s=n.layerDescriptors[a],l=i.beginRenderPass(s);if(e.viewport){const{x:c,y:u,width:d,height:f,minDepth:h,maxDepth:p}=e.viewportValue;l.setViewport(c,u,d,f,h,p)}if(e.scissor){const{x:c,y:u,width:d,height:f}=e.scissorValue;l.setScissorRect(c,u,d,f)}l.executeBundles([o[a]]),l.end()}}else n.currentPass&&n.currentPass.end();if(r>0){const o=r*8;let a=this.occludedResolveCache.get(o);a===void 0&&(a=this.device.createBuffer({size:o,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(o,a));const s=this.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});n.encoder.resolveQuerySet(n.occlusionQuerySet,0,r,a,0),n.encoder.copyBufferToBuffer(a,0,s,0,o),n.occlusionQueryBuffer=s,this.resolveOccludedAsync(e)}if(this.device.queue.submit([n.encoder.finish()]),e.textures!==null){const o=e.textures;for(let a=0;a<o.length;a++){const s=o[a];s.generateMipmaps===!0&&this.textureUtils.generateMipmaps(s)}}}isOccluded(e,n){const r=this.get(e);return r.occluded&&r.occluded.has(n)}async resolveOccludedAsync(e){const n=this.get(e),{currentOcclusionQueryBuffer:r,currentOcclusionQueryObjects:i}=n;if(r&&i){const o=new WeakSet;n.currentOcclusionQueryObjects=null,n.currentOcclusionQueryBuffer=null,await r.mapAsync(GPUMapMode.READ);const a=r.getMappedRange(),s=new BigUint64Array(a);for(let l=0;l<i.length;l++)s[l]===BigInt(0)&&o.add(i[l]);r.destroy(),n.occluded=o}}updateViewport(e){const{currentPass:n}=this.get(e),{x:r,y:i,width:o,height:a,minDepth:s,maxDepth:l}=e.viewportValue;n.setViewport(r,i,o,a,s,l)}updateScissor(e){const{currentPass:n}=this.get(e),{x:r,y:i,width:o,height:a}=e.scissorValue;n.setScissorRect(r,i,o,a)}getClearColor(){const e=super.getClearColor();return this.renderer.alpha===!0&&(e.r*=e.a,e.g*=e.a,e.b*=e.a),e}clear(e,n,r,i=null){const o=this.device,a=this.renderer;let s=[],l,c,u,d;if(e){const p=this.getClearColor();c={r:p.r,g:p.g,b:p.b,a:p.a}}if(i===null){u=a.depth,d=a.stencil;const p=this._getDefaultRenderPassDescriptor();if(e){s=p.colorAttachments;const x=s[0];x.clearValue=c,x.loadOp=ti.Clear,x.storeOp=ps.Store}(u||d)&&(l=p.depthStencilAttachment)}else{u=i.depth,d=i.stencil;const p={loadOp:e?ti.Clear:ti.Load,clearValue:e?c:void 0};u&&(p.depthLoadOp=n?ti.Clear:ti.Load,p.depthClearValue=n?a.getClearDepth():void 0,p.depthStoreOp=ps.Store),d&&(p.stencilLoadOp=r?ti.Clear:ti.Load,p.stencilClearValue=r?a.getClearStencil():void 0,p.stencilStoreOp=ps.Store);const x=this._getRenderPassDescriptor(i,p);s=x.colorAttachments,l=x.depthStencilAttachment}u&&l&&(n?(l.depthLoadOp=ti.Clear,l.depthClearValue=a.getClearDepth(),l.depthStoreOp=ps.Store):(l.depthLoadOp=ti.Load,l.depthStoreOp=ps.Store)),d&&l&&(r?(l.stencilLoadOp=ti.Clear,l.stencilClearValue=a.getClearStencil(),l.stencilStoreOp=ps.Store):(l.stencilLoadOp=ti.Load,l.stencilStoreOp=ps.Store));const f=o.createCommandEncoder({label:"clear"});f.beginRenderPass({colorAttachments:s,depthStencilAttachment:l}).end(),o.queue.submit([f.finish()])}beginCompute(e){const n=this.get(e),r={label:"computeGroup_"+e.id};this.initTimestampQuery(Yu.COMPUTE,this.getTimestampUID(e),r),n.cmdEncoderGPU=this.device.createCommandEncoder({label:"computeGroup_"+e.id}),n.passEncoderGPU=n.cmdEncoderGPU.beginComputePass(r)}compute(e,n,r,i,o=null){const a=this.get(n),{passEncoderGPU:s}=this.get(e),l=this.get(i).pipeline;this.pipelineUtils.setPipeline(s,l);for(let c=0,u=r.length;c<u;c++){const d=r[c],f=this.get(d);s.setBindGroup(c,f.group)}if(o===null&&(o=n.count),o&&typeof o=="object"&&o.isIndirectStorageBufferAttribute){const c=this.get(o).buffer;s.dispatchWorkgroupsIndirect(c,0);return}if(typeof o=="number"){const c=o;if(a.dispatchSize===void 0||a.count!==c){a.dispatchSize=[0,1,1],a.count=c;const u=n.workgroupSize;let d=u[0];for(let p=1;p<u.length;p++)d*=u[p];const f=Math.ceil(c/d),h=this.device.limits.maxComputeWorkgroupsPerDimension;o=[f,1,1],f>h&&(o[0]=Math.min(f,h),o[1]=Math.ceil(f/h)),a.dispatchSize=o}o=a.dispatchSize}s.dispatchWorkgroups(o[0],o[1]||1,o[2]||1)}finishCompute(e){const n=this.get(e);n.passEncoderGPU.end(),this.device.queue.submit([n.cmdEncoderGPU.finish()])}draw(e,n){const{object:r,material:i,context:o,pipeline:a}=e,s=e.getBindings(),l=this.get(o),c=this.get(a),u=c.pipeline;if(c.error===!0)return;const d=e.getIndex(),f=d!==null,h=e.getDrawParameters();if(h===null)return;const p=(b,y)=>{this.pipelineUtils.setPipeline(b,u),y.pipeline=u;const _=y.bindingGroups;for(let E=0,M=s.length;E<M;E++){const R=s[E],N=this.get(R);_[R.index]!==R.id&&(b.setBindGroup(R.index,N.group),_[R.index]=R.id)}if(f===!0&&y.index!==d){const E=this.get(d).buffer,M=d.array instanceof Uint16Array?Bv.Uint16:Bv.Uint32;b.setIndexBuffer(E,M),y.index=d}const C=e.getVertexBuffers();for(let E=0,M=C.length;E<M;E++){const R=C[E];if(y.attributes[E]!==R){const N=this.get(R).buffer;b.setVertexBuffer(E,N),y.attributes[E]=R}}o.stencil===!0&&i.stencilWrite===!0&&l.currentStencilRef!==i.stencilRef&&(b.setStencilReference(i.stencilRef),l.currentStencilRef=i.stencilRef)},x=(b,y)=>{if(p(b,y),r.isBatchedMesh===!0){const _=r._multiDrawStarts,C=r._multiDrawCounts,E=r._multiDrawCount,M=r._multiDrawInstances;M!==null&&Ai("WebGPUBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection.");for(let R=0;R<E;R++){const N=M?M[R]:1,O=N>1?0:R;f===!0?b.drawIndexed(C[R],N,_[R]/d.array.BYTES_PER_ELEMENT,0,O):b.draw(C[R],N,_[R],O),n.update(r,C[R],N)}}else if(f===!0){const{vertexCount:_,instanceCount:C,firstVertex:E}=h,M=e.getIndirect();if(M!==null){const R=this.get(M).buffer,N=e.getIndirectOffset(),O=Array.isArray(N)?N:[N];for(let I=0;I<O.length;I++)b.drawIndexedIndirect(R,O[I])}else b.drawIndexed(_,C,E,0,0);n.update(r,_,C)}else{const{vertexCount:_,instanceCount:C,firstVertex:E}=h,M=e.getIndirect();if(M!==null){const R=this.get(M).buffer,N=e.getIndirectOffset(),O=Array.isArray(N)?N:[N];for(let I=0;I<O.length;I++)b.drawIndirect(R,O[I])}else b.draw(_,C,E,0);n.update(r,_,C)}};if(e.camera.isArrayCamera&&e.camera.cameras.length>0){const b=this.get(e.camera),y=e.camera.cameras,_=e.getBindingGroup("cameraIndex");if(b.indexesGPU===void 0||b.indexesGPU.length!==y.length){const E=this.get(_),M=[],R=new Uint32Array([0,0,0,0]);for(let N=0,O=y.length;N<O;N++){R[0]=N;const{layoutGPU:I}=E.layout,L=this.bindingUtils.createBindGroupIndex(R,I);M.push(L)}b.indexesGPU=M}const C=this.renderer.getPixelRatio();for(let E=0,M=y.length;E<M;E++){const R=y[E];if(r.layers.test(R.layers)){const N=R.viewport;let O=l.currentPass,I=l.currentSets;if(l.bundleEncoders){const L=l.bundleEncoders[E],F=l.bundleSets[E];O=L,I=F}N&&O.setViewport(Math.floor(N.x*C),Math.floor(N.y*C),Math.floor(N.width*C),Math.floor(N.height*C),o.viewportValue.minDepth,o.viewportValue.maxDepth),_&&b.indexesGPU&&(O.setBindGroup(_.index,b.indexesGPU[E]),I.bindingGroups[_.index]=_.id),x(O,I)}}}else if(l.currentPass){if(l.occlusionQuerySet!==void 0){const b=l.lastOcclusionObject;b!==r&&(b!==null&&b.occlusionTest===!0&&(l.currentPass.endOcclusionQuery(),l.occlusionQueryIndex++),r.occlusionTest===!0&&(l.currentPass.beginOcclusionQuery(l.occlusionQueryIndex),l.occlusionQueryObjects[l.occlusionQueryIndex]=r),l.lastOcclusionObject=r)}x(l.currentPass,l.currentSets)}}needsRenderUpdate(e){const n=this.get(e),{object:r,material:i}=e,o=this.utils,a=o.getSampleCountRenderContext(e.context),s=o.getCurrentColorSpace(e.context),l=o.getCurrentColorFormat(e.context),c=o.getCurrentDepthStencilFormat(e.context),u=o.getPrimitiveTopology(r,i);let d=!1;return(n.material!==i||n.materialVersion!==i.version||n.transparent!==i.transparent||n.blending!==i.blending||n.premultipliedAlpha!==i.premultipliedAlpha||n.blendSrc!==i.blendSrc||n.blendDst!==i.blendDst||n.blendEquation!==i.blendEquation||n.blendSrcAlpha!==i.blendSrcAlpha||n.blendDstAlpha!==i.blendDstAlpha||n.blendEquationAlpha!==i.blendEquationAlpha||n.colorWrite!==i.colorWrite||n.depthWrite!==i.depthWrite||n.depthTest!==i.depthTest||n.depthFunc!==i.depthFunc||n.stencilWrite!==i.stencilWrite||n.stencilFunc!==i.stencilFunc||n.stencilFail!==i.stencilFail||n.stencilZFail!==i.stencilZFail||n.stencilZPass!==i.stencilZPass||n.stencilFuncMask!==i.stencilFuncMask||n.stencilWriteMask!==i.stencilWriteMask||n.side!==i.side||n.alphaToCoverage!==i.alphaToCoverage||n.sampleCount!==a||n.colorSpace!==s||n.colorFormat!==l||n.depthStencilFormat!==c||n.primitiveTopology!==u||n.clippingContextCacheKey!==e.clippingContextCacheKey)&&(n.material=i,n.materialVersion=i.version,n.transparent=i.transparent,n.blending=i.blending,n.premultipliedAlpha=i.premultipliedAlpha,n.blendSrc=i.blendSrc,n.blendDst=i.blendDst,n.blendEquation=i.blendEquation,n.blendSrcAlpha=i.blendSrcAlpha,n.blendDstAlpha=i.blendDstAlpha,n.blendEquationAlpha=i.blendEquationAlpha,n.colorWrite=i.colorWrite,n.depthWrite=i.depthWrite,n.depthTest=i.depthTest,n.depthFunc=i.depthFunc,n.stencilWrite=i.stencilWrite,n.stencilFunc=i.stencilFunc,n.stencilFail=i.stencilFail,n.stencilZFail=i.stencilZFail,n.stencilZPass=i.stencilZPass,n.stencilFuncMask=i.stencilFuncMask,n.stencilWriteMask=i.stencilWriteMask,n.side=i.side,n.alphaToCoverage=i.alphaToCoverage,n.sampleCount=a,n.colorSpace=s,n.colorFormat=l,n.depthStencilFormat=c,n.primitiveTopology=u,n.clippingContextCacheKey=e.clippingContextCacheKey,d=!0),d}getRenderCacheKey(e){const{object:n,material:r}=e,i=this.utils,o=e.context,a=n.isMesh&&n.matrixWorld.determinant()<0;return[r.transparent,r.blending,r.premultipliedAlpha,r.blendSrc,r.blendDst,r.blendEquation,r.blendSrcAlpha,r.blendDstAlpha,r.blendEquationAlpha,r.colorWrite,r.depthWrite,r.depthTest,r.depthFunc,r.stencilWrite,r.stencilFunc,r.stencilFail,r.stencilZFail,r.stencilZPass,r.stencilFuncMask,r.stencilWriteMask,r.side,a,i.getSampleCountRenderContext(o),i.getCurrentColorSpace(o),i.getCurrentColorFormat(o),i.getCurrentDepthStencilFormat(o),i.getPrimitiveTopology(n,r),e.getGeometryCacheKey(),e.clippingContextCacheKey].join()}updateSampler(e){return this.textureUtils.updateSampler(e)}createDefaultTexture(e){return this.textureUtils.createDefaultTexture(e)}createTexture(e,n){this.textureUtils.createTexture(e,n)}updateTexture(e,n){this.textureUtils.updateTexture(e,n)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e,n=!1){this.textureUtils.destroyTexture(e,n)}async copyTextureToBuffer(e,n,r,i,o,a){return this.textureUtils.copyTextureToBuffer(e,n,r,i,o,a)}initTimestampQuery(e,n,r){if(!this.trackTimestamp)return;this.timestampQueryPool[e]||(this.timestampQueryPool[e]=new Uit(this.device,e,2048));const i=this.timestampQueryPool[e],o=i.allocateQueriesForContext(n);r.timestampWrites={querySet:i.querySet,beginningOfPassWriteIndex:o,endOfPassWriteIndex:o+1}}createNodeBuilder(e,n){return new Nit(e,n)}createProgram(e){const n=this.get(e);n.module={module:this.device.createShaderModule({code:e.code,label:e.stage+(e.name!==""?`_${e.name}`:"")}),entryPoint:"main"}}destroyProgram(e){this.delete(e)}createRenderPipeline(e,n){this.pipelineUtils.createRenderPipeline(e,n)}createComputePipeline(e,n){this.pipelineUtils.createComputePipeline(e,n)}beginBundle(e){const n=this.get(e);n._currentPass=n.currentPass,n._currentSets=n.currentSets,n.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},n.currentPass=this.pipelineUtils.createBundleEncoder(e)}finishBundle(e,n){const r=this.get(e),o=r.currentPass.finish();this.get(n).bundleGPU=o,r.currentSets=r._currentSets,r.currentPass=r._currentPass}addBundle(e,n){this.get(e).renderBundles.push(this.get(n).bundleGPU)}createBindings(e,n,r,i){this.bindingUtils.createBindings(e,n,r,i)}updateBindings(e,n,r,i){this.bindingUtils.createBindings(e,n,r,i)}updateBinding(e){this.bindingUtils.updateBinding(e)}deleteBindGroupData(e){this.bindingUtils.deleteBindGroupData(e)}createIndexAttribute(e){let n=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST;(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)&&(n|=GPUBufferUsage.STORAGE),this.attributeUtils.createAttribute(e,n)}createAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createIndirectStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.INDIRECT|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}updateSize(){this.delete(this.renderer.getCanvasTarget())}getMaxAnisotropy(){return 16}hasFeature(e){return OW[e]!==void 0&&(e=OW[e]),this.device.features.has(e)}copyTextureToTexture(e,n,r=null,i=null,o=0,a=0){let s=0,l=0,c=0,u=0,d=0,f=0,h=e.image.width,p=e.image.height,x=1;r!==null&&(r.isBox3===!0?(u=r.min.x,d=r.min.y,f=r.min.z,h=r.max.x-r.min.x,p=r.max.y-r.min.y,x=r.max.z-r.min.z):(u=r.min.x,d=r.min.y,h=r.max.x-r.min.x,p=r.max.y-r.min.y,x=1)),i!==null&&(s=i.x,l=i.y,c=i.z||0);const b=this.device.createCommandEncoder({label:"copyTextureToTexture_"+e.id+"_"+n.id}),y=this.get(e).texture,_=this.get(n).texture;b.copyTextureToTexture({texture:y,mipLevel:o,origin:{x:u,y:d,z:f}},{texture:_,mipLevel:a,origin:{x:s,y:l,z:c}},[h,p,x]),this.device.queue.submit([b.finish()]),a===0&&n.generateMipmaps&&this.textureUtils.generateMipmaps(n)}copyFramebufferToTexture(e,n,r){const i=this.get(n);let o=null;n.renderTarget?e.isDepthTexture?o=this.get(n.depthTexture).texture:o=this.get(n.textures[0]).texture:e.isDepthTexture?o=this.textureUtils.getDepthBuffer(n.depth,n.stencil):o=this.context.getCurrentTexture();const a=this.get(e).texture;if(o.format!==a.format){$t("WebGPUBackend: copyFramebufferToTexture: Source and destination formats do not match.",o.format,a.format);return}let s;if(i.currentPass?(i.currentPass.end(),s=i.encoder):s=this.device.createCommandEncoder({label:"copyFramebufferToTexture_"+e.id}),s.copyTextureToTexture({texture:o,origin:[r.x,r.y,0]},{texture:a},[r.z,r.w]),e.generateMipmaps&&this.textureUtils.generateMipmaps(e,s),i.currentPass){const{descriptor:l}=i;for(let c=0;c<l.colorAttachments.length;c++)l.colorAttachments[c].loadOp=ti.Load;n.depth&&(l.depthStencilAttachment.depthLoadOp=ti.Load),n.stencil&&(l.depthStencilAttachment.stencilLoadOp=ti.Load),i.currentPass=s.beginRenderPass(l),i.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},n.viewport&&this.updateViewport(n),n.scissor&&this.updateScissor(n)}else this.device.queue.submit([s.finish()])}dispose(){if(this.bindingUtils.dispose(),this.textureUtils.dispose(),this.occludedResolveCache){for(const e of this.occludedResolveCache.values())e.destroy();this.occludedResolveCache.clear()}if(this.timestampQueryPool)for(const e of Object.values(this.timestampQueryPool))e!==null&&e.dispose();this.parameters.device===void 0&&this.device!==null&&this.device.destroy()}}class Vit extends _F{constructor(e,n,r,i,o,a){super(e,n,r,i,o,a),this.iesMap=null}copy(e,n){return super.copy(e,n),this.iesMap=e.iesMap,this}}class zit extends _F{constructor(e,n,r,i,o,a){super(e,n,r,i,o,a),this.aspect=null}copy(e,n){return super.copy(e,n),this.aspect=e.aspect,this}}class Git extends Due{constructor(){super(),this.addMaterial(gKe,"MeshPhongMaterial"),this.addMaterial(Pce,"MeshStandardMaterial"),this.addMaterial(sQe,"MeshPhysicalMaterial"),this.addMaterial(dQe,"MeshToonMaterial"),this.addMaterial(cKe,"MeshBasicMaterial"),this.addMaterial(pKe,"MeshLambertMaterial"),this.addMaterial(iKe,"MeshNormalMaterial"),this.addMaterial(hQe,"MeshMatcapMaterial"),this.addMaterial(ZYe,"LineBasicMaterial"),this.addMaterial(eKe,"LineDashedMaterial"),this.addMaterial(vQe,"PointsMaterial"),this.addMaterial(Ice,"SpriteMaterial"),this.addMaterial(SQe,"ShadowMaterial"),this.addLight(stt,JBe),this.addLight(vrt,Pie),this.addLight(yrt,tFe),this.addLight(v7,_F),this.addLight(_rt,Nie),this.addLight(wrt,KBe),this.addLight(Crt,rFe),this.addLight(brt,Vit),this.addLight(Srt,zit),this.addToneMapping(Kce,GB),this.addToneMapping(Qce,HB),this.addToneMapping(Zce,jB),this.addToneMapping(Jce,qB),this.addToneMapping(eue,WB),this.addToneMapping(tue,XB)}}class jue extends jrt{constructor(e={}){let n;e.forceWebGL?n=MW:(n=kit,e.getFallback=()=>(Pt("WebGPURenderer: WebGPU is not available, running under WebGL2 backend."),new MW(e)));const r=new n(e);super(r,e),this.library=new Git,this.isWebGPURenderer=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */W.BRDF_GGX;W.BRDF_Lambert;W.BasicPointShadowFilter;W.BasicShadowFilter;W.Break;W.Const;W.Continue;W.DFGLUT;W.D_GGX;W.Discard;W.EPSILON;W.F_Schlick;const Hit=W.Fn;W.INFINITY;const jit=W.If,qit=W.Loop;W.NodeAccess;W.NodeShaderStage;W.NodeType;W.NodeUpdateType;W.PCFShadowFilter;W.PCFSoftShadowFilter;W.PI;W.PI2;W.TWO_PI;W.HALF_PI;W.PointShadowFilter;W.Return;W.Schlick_to_F0;W.ScriptableNodeResources;W.ShaderNode;W.Stack;W.Switch;W.TBNViewMatrix;W.VSMShadowFilter;W.V_GGX_SmithCorrelated;W.Var;W.VarIntent;W.abs;W.acesFilmicToneMapping;W.acos;W.add;W.addMethodChaining;W.addNodeElement;W.agxToneMapping;W.all;W.alphaT;W.and;W.anisotropy;W.anisotropyB;W.anisotropyT;W.any;W.append;W.array;W.arrayBuffer;const Wit=W.asin;W.assign;W.atan;W.atan2;W.atomicAdd;W.atomicAnd;W.atomicFunc;W.atomicLoad;W.atomicMax;W.atomicMin;W.atomicOr;W.atomicStore;W.atomicSub;W.atomicXor;W.attenuationColor;W.attenuationDistance;W.attribute;W.attributeArray;W.backgroundBlurriness;W.backgroundIntensity;W.backgroundRotation;W.batch;W.bentNormalView;W.billboarding;W.bitAnd;W.bitNot;W.bitOr;W.bitXor;W.bitangentGeometry;W.bitangentLocal;W.bitangentView;W.bitangentWorld;W.bitcast;W.blendBurn;W.blendColor;W.blendDodge;W.blendOverlay;W.blendScreen;W.blur;W.bool;W.buffer;W.bufferAttribute;W.bumpMap;W.burn;W.builtin;W.builtinAOContext;W.builtinShadowContext;W.bvec2;W.bvec3;W.bvec4;W.bypass;W.cache;W.call;W.cameraFar;W.cameraIndex;W.cameraNear;W.cameraNormalMatrix;W.cameraPosition;W.cameraProjectionMatrix;W.cameraProjectionMatrixInverse;W.cameraViewMatrix;W.cameraViewport;W.cameraWorldMatrix;W.cbrt;W.cdl;W.ceil;W.checker;W.cineonToneMapping;W.clamp;W.clearcoat;W.clearcoatNormalView;W.clearcoatRoughness;W.code;W.color;W.colorSpaceToWorking;W.colorToDirection;W.compute;W.computeKernel;W.computeSkinning;W.context;W.convert;W.convertColorSpace;W.convertToTexture;W.countLeadingZeros;W.countOneBits;W.countTrailingZeros;const Xit=W.cos;W.cross;W.cubeTexture;W.cubeTextureBase;W.dFdx;W.dFdy;W.dashSize;W.debug;W.decrement;W.decrementBefore;W.defaultBuildStages;W.defaultShaderStages;W.defined;W.degrees;W.deltaTime;W.densityFog;W.densityFogFactor;W.depth;W.depthPass;W.determinant;W.difference;W.diffuseColor;W.directPointLight;W.directionToColor;W.directionToFaceDirection;W.dispersion;W.distance;W.div;W.dodge;W.dot;W.drawIndex;W.dynamicBufferAttribute;W.element;W.emissive;W.equal;W.equals;W.equirectUV;const Yit=W.exp;W.exp2;W.expression;W.faceDirection;W.faceForward;W.faceforward;const Kit=W.float;W.floatBitsToInt;W.floatBitsToUint;W.floor;W.fog;W.fract;W.frameGroup;W.frameId;W.frontFacing;W.fwidth;W.gain;W.gapSize;W.getConstNodeType;W.getCurrentStack;W.getDirection;W.getDistanceAttenuation;W.getGeometryRoughness;W.getNormalFromDepth;W.interleavedGradientNoise;W.vogelDiskSample;W.getParallaxCorrectNormal;W.getRoughness;W.getScreenPosition;W.getShIrradianceAt;W.getShadowMaterial;W.getShadowRenderObjectFunction;W.getTextureIndex;W.getViewPosition;W.globalId;W.glsl;W.glslFn;W.grayscale;W.greaterThan;W.greaterThanEqual;W.hash;W.highpModelNormalViewMatrix;W.highpModelViewMatrix;W.hue;W.increment;W.incrementBefore;W.instance;const Qit=W.instanceIndex;W.instancedArray;W.instancedBufferAttribute;W.instancedDynamicBufferAttribute;W.instancedMesh;W.int;W.intBitsToFloat;W.inverse;W.inverseSqrt;W.inversesqrt;W.invocationLocalIndex;W.invocationSubgroupIndex;W.ior;W.iridescence;W.iridescenceIOR;W.iridescenceThickness;W.ivec2;W.ivec3;W.ivec4;W.js;W.label;W.length;W.lengthSq;W.lessThan;W.lessThanEqual;W.lightPosition;W.lightProjectionUV;W.lightShadowMatrix;W.lightTargetDirection;W.lightTargetPosition;W.lightViewPosition;W.lightingContext;W.lights;W.linearDepth;W.linearToneMapping;W.localId;W.log;W.log2;W.logarithmicDepthToViewZ;W.luminance;W.mat2;W.mat3;W.mat4;W.matcapUV;W.materialAO;W.materialAlphaTest;W.materialAnisotropy;W.materialAnisotropyVector;W.materialAttenuationColor;W.materialAttenuationDistance;W.materialClearcoat;W.materialClearcoatNormal;W.materialClearcoatRoughness;W.materialColor;W.materialDispersion;W.materialEmissive;W.materialEnvIntensity;W.materialEnvRotation;W.materialIOR;W.materialIridescence;W.materialIridescenceIOR;W.materialIridescenceThickness;W.materialLightMap;W.materialLineDashOffset;W.materialLineDashSize;W.materialLineGapSize;W.materialLineScale;W.materialLineWidth;W.materialMetalness;W.materialNormal;W.materialOpacity;W.materialPointSize;W.materialReference;W.materialReflectivity;W.materialRefractionRatio;W.materialRotation;W.materialRoughness;W.materialSheen;W.materialSheenRoughness;W.materialShininess;W.materialSpecular;W.materialSpecularColor;W.materialSpecularIntensity;W.materialSpecularStrength;W.materialThickness;W.materialTransmission;W.max;W.maxMipLevel;W.mediumpModelViewMatrix;W.metalness;W.min;W.mix;W.mixElement;W.mod;W.modInt;W.modelDirection;W.modelNormalMatrix;W.modelPosition;W.modelRadius;W.modelScale;W.modelViewMatrix;W.modelViewPosition;W.modelViewProjection;W.modelWorldMatrix;W.modelWorldMatrixInverse;W.morphReference;W.mrt;W.mul;W.mx_aastep;W.mx_add;W.mx_atan2;W.mx_cell_noise_float;W.mx_contrast;W.mx_divide;W.mx_fractal_noise_float;W.mx_fractal_noise_vec2;W.mx_fractal_noise_vec3;W.mx_fractal_noise_vec4;W.mx_frame;W.mx_heighttonormal;W.mx_hsvtorgb;W.mx_ifequal;W.mx_ifgreater;W.mx_ifgreatereq;W.mx_invert;W.mx_modulo;W.mx_multiply;W.mx_noise_float;W.mx_noise_vec3;W.mx_noise_vec4;W.mx_place2d;W.mx_power;W.mx_ramp4;W.mx_ramplr;W.mx_ramptb;W.mx_rgbtohsv;W.mx_rotate2d;W.mx_rotate3d;W.mx_safepower;W.mx_separate;W.mx_splitlr;W.mx_splittb;W.mx_srgb_texture_to_lin_rec709;W.mx_subtract;W.mx_timer;W.mx_transform_uv;W.mx_unifiednoise2d;W.mx_unifiednoise3d;W.mx_worley_noise_float;W.mx_worley_noise_vec2;W.mx_worley_noise_vec3;const Zit=W.negate;W.neutralToneMapping;W.nodeArray;W.nodeImmutable;W.nodeObject;W.nodeObjectIntent;W.nodeObjects;W.nodeProxy;W.nodeProxyIntent;W.normalFlat;W.normalGeometry;W.normalLocal;W.normalMap;W.normalView;W.normalViewGeometry;W.normalWorld;W.normalWorldGeometry;W.normalize;W.not;W.notEqual;W.numWorkgroups;W.objectDirection;W.objectGroup;W.objectPosition;W.objectRadius;W.objectScale;W.objectViewPosition;W.objectWorldMatrix;W.OnBeforeObjectUpdate;W.OnBeforeMaterialUpdate;W.OnObjectUpdate;W.OnMaterialUpdate;W.oneMinus;W.or;W.orthographicDepthToViewZ;W.oscSawtooth;W.oscSine;W.oscSquare;W.oscTriangle;W.output;W.outputStruct;W.overlay;W.overloadingFn;W.packHalf2x16;W.packSnorm2x16;W.packUnorm2x16;W.parabola;W.parallaxDirection;W.parallaxUV;W.parameter;W.pass;W.passTexture;W.pcurve;W.perspectiveDepthToViewZ;W.pmremTexture;W.pointShadow;W.pointUV;W.pointWidth;W.positionGeometry;W.positionLocal;W.positionPrevious;W.positionView;W.positionViewDirection;W.positionWorld;W.positionWorldDirection;W.posterize;W.pow;W.pow2;W.pow3;W.pow4;W.premultiplyAlpha;W.property;W.radians;W.rand;W.range;W.rangeFog;W.rangeFogFactor;W.reciprocal;W.reference;W.referenceBuffer;W.reflect;W.reflectVector;W.reflectView;W.reflector;W.refract;W.refractVector;W.refractView;W.reinhardToneMapping;W.remap;W.remapClamp;W.renderGroup;W.renderOutput;W.rendererReference;W.replaceDefaultUV;W.rotate;W.rotateUV;W.roughness;W.round;W.rtt;W.sRGBTransferEOTF;W.sRGBTransferOETF;W.sample;W.sampler;W.samplerComparison;W.saturate;W.saturation;W.screen;W.screenCoordinate;W.screenDPR;W.screenSize;W.screenUV;W.scriptable;W.scriptableValue;W.select;W.setCurrentStack;W.setName;W.shaderStages;W.shadow;W.shadowPositionWorld;W.shapeCircle;W.sharedUniformGroup;W.sheen;W.sheenRoughness;W.shiftLeft;W.shiftRight;W.shininess;W.sign;const Jit=W.sin;W.sinc;W.skinning;W.smoothstep;W.smoothstepElement;W.specularColor;W.specularF90;W.spherizeUV;W.split;W.spritesheetUV;const eot=W.sqrt;W.stack;W.step;W.stepElement;const tot=W.storage;W.storageBarrier;W.storageObject;W.storageTexture;W.string;W.struct;W.sub;W.subgroupAdd;W.subgroupAll;W.subgroupAnd;W.subgroupAny;W.subgroupBallot;W.subgroupBroadcast;W.subgroupBroadcastFirst;W.subBuild;W.subgroupElect;W.subgroupExclusiveAdd;W.subgroupExclusiveMul;W.subgroupInclusiveAdd;W.subgroupInclusiveMul;W.subgroupIndex;W.subgroupMax;W.subgroupMin;W.subgroupMul;W.subgroupOr;W.subgroupShuffle;W.subgroupShuffleDown;W.subgroupShuffleUp;W.subgroupShuffleXor;W.subgroupSize;W.subgroupXor;W.tan;W.tangentGeometry;W.tangentLocal;W.tangentView;W.tangentWorld;W.texture;W.texture3D;W.textureBarrier;W.textureBicubic;W.textureBicubicLevel;W.textureCubeUV;W.textureLoad;W.textureSize;W.textureLevel;W.textureStore;W.thickness;W.time;W.toneMapping;W.toneMappingExposure;W.toonOutlinePass;W.transformDirection;W.transformNormal;W.transformNormalToView;W.transformedClearcoatNormalView;W.transformedNormalView;W.transformedNormalWorld;W.transmission;W.transpose;W.triNoise3D;W.triplanarTexture;W.triplanarTextures;W.trunc;W.uint;W.uintBitsToFloat;const not=W.uniform;W.uniformArray;W.uniformCubeTexture;W.uniformGroup;W.uniformFlow;W.uniformTexture;W.unpackHalf2x16;W.unpackSnorm2x16;W.unpackUnorm2x16;W.unpremultiplyAlpha;W.userData;W.uv;W.uvec2;W.uvec3;W.uvec4;W.varying;W.varyingProperty;W.vec2;W.vec3;W.vec4;W.vectorComponents;W.velocity;W.vertexColor;W.vertexIndex;W.vertexStage;W.vibrance;W.viewZToLogarithmicDepth;W.viewZToOrthographicDepth;W.viewZToPerspectiveDepth;W.viewport;W.viewportCoordinate;W.viewportDepthTexture;W.viewportLinearDepth;W.viewportMipTexture;W.viewportResolution;W.viewportSafeUV;W.viewportSharedTexture;W.viewportSize;W.viewportTexture;W.viewportUV;W.wgsl;W.wgslFn;W.workgroupArray;W.workgroupBarrier;W.workgroupId;W.workingToColorSpace;W.xor;const UW=new Ef,Nw=new ve;class que extends iFe{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new Gr(e,3)),this.setAttribute("uv",new Gr(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,r=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),r.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new YT(n,6,1);return this.setAttribute("instanceStart",new Ku(r,3,0)),this.setAttribute("instanceEnd",new Ku(r,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new YT(n,6,1);return this.setAttribute("instanceColorStart",new Ku(r,3,0)),this.setAttribute("instanceColorEnd",new Ku(r,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new FBe(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ef);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),UW.setFromBufferAttribute(n),this.boundingBox.union(UW))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new dp),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)Nw.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Nw)),Nw.fromBufferAttribute(n,o),i=Math.max(i,r.distanceToSquared(Nw));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}}un.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Ft(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};zs.line={uniforms:DM.merge([un.common,un.fog,un.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			float alpha = opacity;
			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class b7 extends as{constructor(e){super({type:"LineMaterial",uniforms:DM.clone(zs.line.uniforms),vertexShader:zs.line.vertexShader,fragmentShader:zs.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(e){e===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){e===!0!==this.dashed&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(e){this.uniforms.dashScale.value=e}get dashSize(){return this.uniforms.dashSize.value}set dashSize(e){this.uniforms.dashSize.value=e}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(e){this.uniforms.dashOffset.value=e}get gapSize(){return this.uniforms.gapSize.value}set gapSize(e){this.uniforms.gapSize.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get resolution(){return this.uniforms.resolution.value}set resolution(e){this.uniforms.resolution.value.copy(e)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(e){this.defines&&(e===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),e===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}const AI=new nr,kW=new ve,VW=new ve,ga=new nr,Aa=new nr,$u=new nr,vI=new ve,yI=new ar,xa=new lFe,zW=new ve,Iw=new Ef,Dw=new dp,Uu=new nr;let Xu,Om;function GW(t,e,n){return Uu.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),Uu.multiplyScalar(1/Uu.w),Uu.x=Om/n.width,Uu.y=Om/n.height,Uu.applyMatrix4(t.projectionMatrixInverse),Uu.multiplyScalar(1/Uu.w),Math.abs(Math.max(Uu.x,Uu.y))}function rot(t,e){const n=t.matrixWorld,r=t.geometry,i=r.attributes.instanceStart,o=r.attributes.instanceEnd,a=Math.min(r.instanceCount,i.count);for(let s=0,l=a;s<l;s++){xa.start.fromBufferAttribute(i,s),xa.end.fromBufferAttribute(o,s),xa.applyMatrix4(n);const c=new ve,u=new ve;Xu.distanceSqToSegment(xa.start,xa.end,u,c),u.distanceTo(c)<Om*.5&&e.push({point:u,pointOnLine:c,distance:Xu.origin.distanceTo(u),object:t,face:null,faceIndex:s,uv:null,uv1:null})}}function iot(t,e,n){const r=e.projectionMatrix,o=t.material.resolution,a=t.matrixWorld,s=t.geometry,l=s.attributes.instanceStart,c=s.attributes.instanceEnd,u=Math.min(s.instanceCount,l.count),d=-e.near;Xu.at(1,$u),$u.w=1,$u.applyMatrix4(e.matrixWorldInverse),$u.applyMatrix4(r),$u.multiplyScalar(1/$u.w),$u.x*=o.x/2,$u.y*=o.y/2,$u.z=0,vI.copy($u),yI.multiplyMatrices(e.matrixWorldInverse,a);for(let f=0,h=u;f<h;f++){if(ga.fromBufferAttribute(l,f),Aa.fromBufferAttribute(c,f),ga.w=1,Aa.w=1,ga.applyMatrix4(yI),Aa.applyMatrix4(yI),ga.z>d&&Aa.z>d)continue;if(ga.z>d){const C=ga.z-Aa.z,E=(ga.z-d)/C;ga.lerp(Aa,E)}else if(Aa.z>d){const C=Aa.z-ga.z,E=(Aa.z-d)/C;Aa.lerp(ga,E)}ga.applyMatrix4(r),Aa.applyMatrix4(r),ga.multiplyScalar(1/ga.w),Aa.multiplyScalar(1/Aa.w),ga.x*=o.x/2,ga.y*=o.y/2,Aa.x*=o.x/2,Aa.y*=o.y/2,xa.start.copy(ga),xa.start.z=0,xa.end.copy(Aa),xa.end.z=0;const x=xa.closestPointToPointParameter(vI,!0);xa.at(x,zW);const b=_v.lerp(ga.z,Aa.z,x),y=b>=-1&&b<=1,_=vI.distanceTo(zW)<Om*.5;if(y&&_){xa.start.fromBufferAttribute(l,f),xa.end.fromBufferAttribute(c,f),xa.start.applyMatrix4(a),xa.end.applyMatrix4(a);const C=new ve,E=new ve;Xu.distanceSqToSegment(xa.start,xa.end,E,C),n.push({point:E,pointOnLine:C,distance:Xu.origin.distanceTo(E),object:t,face:null,faceIndex:f,uv:null,uv1:null})}}}class oot extends Qr{constructor(e=new que,n=new b7({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*n.count);for(let a=0,s=0,l=n.count;a<l;a++,s+=2)kW.fromBufferAttribute(n,a),VW.fromBufferAttribute(r,a),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+kW.distanceTo(VW);const o=new YT(i,2,1);return e.setAttribute("instanceDistanceStart",new Ku(o,1,0)),e.setAttribute("instanceDistanceEnd",new Ku(o,1,1)),this}raycast(e,n){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const o=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Xu=e.ray;const a=this.matrixWorld,s=this.geometry,l=this.material;Om=l.linewidth+o,s.boundingSphere===null&&s.computeBoundingSphere(),Dw.copy(s.boundingSphere).applyMatrix4(a);let c;if(r)c=Om*.5;else{const d=Math.max(i.near,Dw.distanceToPoint(Xu.origin));c=GW(i,d,l.resolution)}if(Dw.radius+=c,Xu.intersectsSphere(Dw)===!1)return;s.boundingBox===null&&s.computeBoundingBox(),Iw.copy(s.boundingBox).applyMatrix4(a);let u;if(r)u=Om*.5;else{const d=Math.max(i.near,Iw.distanceToPoint(Xu.origin));u=GW(i,d,l.resolution)}Iw.expandByScalar(u),Xu.intersectsBox(Iw)!==!1&&(r?rot(this,n):iot(this,i,n))}onBeforeRender(e){const n=this.material.uniforms;n&&n.resolution&&(e.getViewport(AI),this.material.uniforms.resolution.value.set(AI.z,AI.w))}}class Wue extends que{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setColors(r),this}setFromPoints(e){const n=e.length-1,r=new Float32Array(6*n);for(let i=0;i<n;i++)r[6*i]=e[i].x,r[6*i+1]=e[i].y,r[6*i+2]=e[i].z||0,r[6*i+3]=e[i+1].x,r[6*i+4]=e[i+1].y,r[6*i+5]=e[i+1].z||0;return super.setPositions(r),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class aot extends oot{constructor(e=new Wue,n=new b7({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}class HW extends vF{constructor(e,n={}){const r=n.font;if(r===void 0)super();else{const i=r.generateShapes(e,n.size,n.direction);n.depth===void 0&&(n.depth=50),n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(i,n)}this.type="TextGeometry"}}class sot{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,n=100,r="ltr"){const i=[],o=lot(e,n,this.data,r);for(let a=0,s=o.length;a<s;a++)i.push(...o[a].toShapes());return i}}function lot(t,e,n,r){const i=Array.from(t),o=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*o,s=[];let l=0,c=0;(r=="rtl"||r=="tb")&&i.reverse();for(let u=0;u<i.length;u++){const d=i[u];if(d===`
`)l=0,c-=a;else{const f=cot(d,o,l,c,n);r=="tb"?(l=0,c+=n.ascender*o):l+=f.offsetX,s.push(f.path)}}return s}function cot(t,e,n,r,i){const o=i.glyphs[t]||i.glyphs["?"];if(!o){console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");return}const a=new cFe;let s,l,c,u,d,f,h,p;if(o.o){const x=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let b=0,y=x.length;b<y;)switch(x[b++]){case"m":s=x[b++]*e+n,l=x[b++]*e+r,a.moveTo(s,l);break;case"l":s=x[b++]*e+n,l=x[b++]*e+r,a.lineTo(s,l);break;case"q":c=x[b++]*e+n,u=x[b++]*e+r,d=x[b++]*e+n,f=x[b++]*e+r,a.quadraticCurveTo(d,f,c,u);break;case"b":c=x[b++]*e+n,u=x[b++]*e+r,d=x[b++]*e+n,f=x[b++]*e+r,h=x[b++]*e+n,p=x[b++]*e+r,a.bezierCurveTo(d,f,h,p,c,u);break}}return{offsetX:o.ha*e,path:a}}function I6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function uot(t){if(Array.isArray(t))return t}function dot(t){if(Array.isArray(t))return I6(t)}function Xue(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function fot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jW(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function hot(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(l){jW(o,r,i,a,s,"next",l)}function s(l){jW(o,r,i,a,s,"throw",l)}a(void 0)})}}function wR(t,e,n){return e=Fv(e),Sot(t,S7()?Reflect.construct(e,n||[],Fv(t).constructor):e.apply(t,n))}function pot(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function CR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M1(t,e){return t.get(Xue(t,e))}function bI(t,e,n){pot(t,e),e.set(t,n)}function xI(t,e,n){return t.set(Xue(t,e),n),n}function x7(t,e,n){if(S7())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return i}function mot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yue(r.key),r)}}function TR(t,e,n){return e&&mot(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ha(t,e,n){return(e=Yue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D6(){return D6=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=_ot(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},D6.apply(null,arguments)}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fv(t)}function ER(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L6(t,e)}function S7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S7=function(){return!!t})()}function got(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aot(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function vot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qW(Object(n),!0).forEach(function(r){ha(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bot(t,e){if(t==null)return{};var n,r,i=xot(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xot(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sot(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fot(t)}function O6(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n=typeof Symbol=="function"?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(h,p,x,b){var y=p&&p.prototype instanceof s?p:s,_=Object.create(y.prototype);return xl(_,"_invoke",function(C,E,M){var R,N,O,I=0,L=M||[],F=!1,$={p:0,n:0,v:t,a:V,f:V.bind(t,4),d:function(U,k){return R=U,N=0,O=t,$.n=k,a}};function V(U,k){for(N=U,O=k,e=0;!F&&I&&!z&&e<L.length;e++){var z,H=L[e],j=$.p,X=H[2];U>3?(z=X===k)&&(O=H[(N=H[4])?5:(N=3,3)],H[4]=H[5]=t):H[0]<=j&&((z=U<2&&j<H[1])?(N=0,$.v=k,$.n=H[1]):j<X&&(z=U<3||H[0]>k||k>X)&&(H[4]=U,H[5]=k,$.n=X,N=0))}if(z||U>1)return a;throw F=!0,k}return function(U,k,z){if(I>1)throw TypeError("Generator is already running");for(F&&k===1&&V(k,z),N=k,O=z;(e=N<2?t:O)||!F;){R||(N?N<3?(N>1&&($.n=-1),V(N,O)):$.n=O:$.v=O);try{if(I=2,R){if(N||(U="next"),e=R[U]){if(!(e=e.call(R,O)))throw TypeError("iterator result is not an object");if(!e.done)return e;O=e.value,N<2&&(N=0)}else N===1&&(e=R.return)&&e.call(R),N<2&&(O=TypeError("The iterator does not provide a '"+U+"' method"),N=1);R=t}else if((e=(F=$.n<0)?O:C.call(E,$))!==a)break}catch(H){R=t,N=1,O=H}finally{I=1}}return{value:e,done:F}}}(h,x,b),!0),_}var a={};function s(){}function l(){}function c(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(xl(e={},r,function(){return this}),e),d=c.prototype=s.prototype=Object.create(u);function f(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,c):(h.__proto__=c,xl(h,i,"GeneratorFunction")),h.prototype=Object.create(d),h}return l.prototype=c,xl(d,"constructor",c),xl(c,"constructor",l),l.displayName="GeneratorFunction",xl(c,i,"GeneratorFunction"),xl(d),xl(d,i,"Generator"),xl(d,r,function(){return this}),xl(d,"toString",function(){return"[object Generator]"}),(O6=function(){return{w:o,m:f}})()}function xl(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}xl=function(o,a,s,l){function c(u,d){xl(o,u,function(f){return this._invoke(u,d,f)})}a?i?i(o,a,{value:s,enumerable:!l,configurable:!l,writable:!l}):o[a]=s:(c("next",0),c("throw",1),c("return",2))},xl(t,e,n,r)}function L6(t,e){return L6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},L6(t,e)}function Gi(t,e){return uot(t)||Aot(t,e)||Kue(t,e)||vot()}function _ot(t,e){for(;!{}.hasOwnProperty.call(t,e)&&(t=Fv(t))!==null;);return t}function SI(t,e,n,r){var i=D6(Fv(t.prototype),e,n);return typeof i=="function"?function(o){return i.apply(n,o)}:i}function bi(t){return dot(t)||got(t)||Kue(t)||yot()}function wot(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yue(t){var e=wot(t,"string");return typeof e=="symbol"?e:e+""}function Kue(t,e){if(t){if(typeof t=="string")return I6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I6(t,e):void 0}}var Que=function(e){e instanceof Array?e.forEach(Que):(e.map&&e.map.dispose(),e.dispose())},_7=function(e){e.geometry&&e.geometry.dispose(),e.material&&Que(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(_7)},Ri=function(e){if(e&&e.children)for(;e.children.length;){var n=e.children[0];e.remove(n),_7(n)}};function Ls(t,e){var n=new e;return{linkProp:function(i){return{default:n[i](),onChange:function(a,s){s[t][i](a)},triggerUpdate:!1}},linkMethod:function(i){return function(o){for(var a=o[t],s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];var u=a[i].apply(a,l);return u===a?this:u}}}}var $i=100;function WW(){return $i}function Rc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180,o=$i*(1+n),a=Math.sin(r);return{x:o*a*Math.cos(i),y:o*Math.cos(r),z:o*a*Math.sin(i)}}function Zue(t){var e=t.x,n=t.y,r=t.z,i=Math.sqrt(e*e+n*n+r*r),o=Math.acos(n/i),a=Math.atan2(r,e);return{lat:90-o*180/Math.PI,lng:90-a*180/Math.PI-(a<-Math.PI/2?360:0),altitude:i/$i-1}}function lm(t){return t*Math.PI/180}var t2=window.THREE?window.THREE:{BackSide:ui,BufferAttribute:Zi,Color:En,Mesh:Qr,ShaderMaterial:as},Cot=`
uniform float hollowRadius;

varying vec3 vVertexWorldPosition;
varying vec3 vVertexNormal;
varying float vCameraDistanceToObjCenter;
varying float vVertexAngularDistanceToHollowRadius;

void main() {    
  vVertexNormal	= normalize(normalMatrix * normal);
  vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;
  
  vec4 objCenterViewPosition = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);
  vCameraDistanceToObjCenter = length(objCenterViewPosition);
  
  float edgeAngle = atan(hollowRadius / vCameraDistanceToObjCenter);
  float vertexAngle = acos(dot(normalize(modelViewMatrix * vec4(position, 1.0)), normalize(objCenterViewPosition)));
  vVertexAngularDistanceToHollowRadius = vertexAngle - edgeAngle;

  gl_Position	= projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`,Tot=`
uniform vec3 color;
uniform float coefficient;
uniform float power;
uniform float hollowRadius;

varying vec3 vVertexNormal;
varying vec3 vVertexWorldPosition;
varying float vCameraDistanceToObjCenter;
varying float vVertexAngularDistanceToHollowRadius;

void main() {
  if (vCameraDistanceToObjCenter < hollowRadius) discard; // inside the hollowRadius
  if (vVertexAngularDistanceToHollowRadius < 0.0) discard; // frag position is within the hollow radius

  vec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;
  vec3 viewCameraToVertex	= (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;
  viewCameraToVertex = normalize(viewCameraToVertex);
  float intensity	= pow(
    coefficient + dot(vVertexNormal, viewCameraToVertex),
    power
  );
  gl_FragColor = vec4(color, intensity);
}`;function Eot(t,e,n,r){return new t2.ShaderMaterial({depthWrite:!1,transparent:!0,vertexShader:Cot,fragmentShader:Tot,uniforms:{coefficient:{value:t},color:{value:new t2.Color(e)},power:{value:n},hollowRadius:{value:r}}})}function Mot(t,e){for(var n=t.clone(),r=new Float32Array(t.attributes.position.count*3),i=0,o=r.length;i<o;i++){var a=t.attributes.normal.array[i],s=t.attributes.position.array[i];r[i]=s+a*e}return n.setAttribute("position",new t2.BufferAttribute(r,3)),n}var Rot=function(t){function e(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.color,a=o===void 0?"gold":o,s=i.size,l=s===void 0?2:s,c=i.coefficient,u=c===void 0?.5:c,d=i.power,f=d===void 0?1:d,h=i.hollowRadius,p=h===void 0?0:h,x=i.backside,b=x===void 0?!0:x;CR(this,e),r=wR(this,e);var y=Mot(n,l),_=Eot(u,a,f,p);return b&&(_.side=t2.BackSide),r.geometry=y,r.material=_,r}return ER(e,t),TR(e)}(t2.Mesh),ku=window.THREE?window.THREE:{Color:En,Group:Xs,LineBasicMaterial:fy,LineSegments:mie,Mesh:Qr,MeshPhongMaterial:Rie,SphereGeometry:Sd,SRGBColorSpace:wa,TextureLoader:xF},Jue=Ko({props:{globeImageUrl:{},bumpImageUrl:{},showGlobe:{default:!0,onChange:function(e,n){n.globeGroup.visible=!!e},triggerUpdate:!1},showGraticules:{default:!1,onChange:function(e,n){n.graticulesObj.visible=!!e},triggerUpdate:!1},showAtmosphere:{default:!0,onChange:function(e,n){n.atmosphereObj&&(n.atmosphereObj.visible=!!e)},triggerUpdate:!1},atmosphereColor:{default:"lightskyblue"},atmosphereAltitude:{default:.15},globeCurvatureResolution:{default:4},globeTileEngineUrl:{onChange:function(e,n){n.tileEngine.tileUrl=e}},globeTileEngineMaxLevel:{default:17,onChange:function(e,n){n.tileEngine.maxLevel=e},triggerUpdate:!1},updatePov:{onChange:function(e,n){n.tileEngine.updatePov(e)},triggerUpdate:!1},onReady:{default:function(){},triggerUpdate:!1}},methods:{globeMaterial:function(e,n){return n!==void 0?(e.globeObj.material=n||e.defaultGlobeMaterial,this):e.globeObj.material},globeTileEngineClearCache:function(e){e.tileEngine.clearTiles()},_destructor:function(e){Ri(e.globeObj),Ri(e.tileEngine),Ri(e.graticulesObj)}},stateInit:function(){var e=new ku.MeshPhongMaterial({color:0}),n=new ku.Mesh(void 0,e);n.rotation.y=-Math.PI/2;var r=new DGe($i),i=new ku.Group;i.__globeObjType="globe",i.add(n),i.add(r);var o=new ku.LineSegments(new Loe(Kze(),$i,2),new ku.LineBasicMaterial({color:"lightgrey",transparent:!0,opacity:.1}));return{globeGroup:i,globeObj:n,graticulesObj:o,defaultGlobeMaterial:e,tileEngine:r}},init:function(e,n){Ri(e),n.scene=e,n.scene.add(n.globeGroup),n.scene.add(n.graticulesObj),n.ready=!1},update:function(e,n){var r=e.globeObj.material;if(e.tileEngine.visible=!(e.globeObj.visible=!e.globeTileEngineUrl),n.hasOwnProperty("globeCurvatureResolution")){var i;(i=e.globeObj.geometry)===null||i===void 0||i.dispose();var o=Math.max(4,Math.round(360/e.globeCurvatureResolution));e.globeObj.geometry=new ku.SphereGeometry($i,o,o/2),e.tileEngine.curvatureResolution=e.globeCurvatureResolution}if(n.hasOwnProperty("globeImageUrl")&&(e.globeImageUrl?new ku.TextureLoader().load(e.globeImageUrl,function(s){s.colorSpace=ku.SRGBColorSpace,r.map=s,r.color=null,r.needsUpdate=!0,!e.ready&&(e.ready=!0)&&setTimeout(e.onReady)}):!r.color&&(r.color=new ku.Color(0))),n.hasOwnProperty("bumpImageUrl")&&(e.bumpImageUrl?e.bumpImageUrl&&new ku.TextureLoader().load(e.bumpImageUrl,function(s){r.bumpMap=s,r.needsUpdate=!0}):(r.bumpMap=null,r.needsUpdate=!0)),(n.hasOwnProperty("atmosphereColor")||n.hasOwnProperty("atmosphereAltitude"))&&(e.atmosphereObj&&(e.scene.remove(e.atmosphereObj),Ri(e.atmosphereObj)),e.atmosphereColor&&e.atmosphereAltitude)){var a=e.atmosphereObj=new Rot(e.globeObj.geometry,{color:e.atmosphereColor,size:$i*e.atmosphereAltitude,hollowRadius:$i,coefficient:.1,power:3.5});a.visible=!!e.showAtmosphere,a.__globeObjType="atmosphere",e.scene.add(a)}!e.ready&&(!e.globeImageUrl||e.globeTileEngineUrl)&&(e.ready=!0,e.onReady())}}),yd=function(e){return isNaN(e)?parseInt(qn(e).toHex(),16):e},uu=function(e){return e&&isNaN(e)?t0(e).opacity:1},ep=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i,o=1,a=/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.eE+-]+)\s*\)$/.exec(e.trim().toLowerCase());if(a){var s=a.slice(1),l=Gi(s,4),c=l[0],u=l[1],d=l[2],f=l[3];i=new En("rgb(".concat(+c,",").concat(+u,",").concat(+d,")")),o=Math.min(+f,1)}else i=new En(e);r&&i.convertLinearToSRGB();var h=i.toArray();return n?[].concat(bi(h),[o]):h};function Pot(t,e,n){return t.opacity=e,t.transparent=e<1,t.depthWrite=e>=1,t}var XW=window.THREE?window.THREE:{BufferAttribute:Zi};function bd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float32Array;if(e===1)return new XW.BufferAttribute(new n(t),e);for(var r=new XW.BufferAttribute(new n(t.length*e),e),i=0,o=t.length;i<o;i++)r.set(t[i],i*e);return r}function Not(t){for(var e=t.itemSize,n=[],r=0;r<t.count;r++)n.push(t.array.slice(r*e,(r+1)*e));return n}var _I=new WeakMap,Ow=new WeakMap,Lw=new WeakMap,ul=function(t){function e(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.dataBindAttr,a=o===void 0?"__data":o,s=i.objBindAttr,l=s===void 0?"__threeObj":s,c=i.removeDelay,u=c===void 0?0:c;return CR(this,e),r=wR(this,e),ha(r,"scene",void 0),bI(r,_I,void 0),bI(r,Ow,void 0),bI(r,Lw,void 0),r.scene=n,xI(_I,r,a),xI(Ow,r,l),xI(Lw,r,u),r.onRemoveObj(function(){}),r}return ER(e,t),TR(e,[{key:"onCreateObj",value:function(r){var i=this;return SI(e,"onCreateObj",this)([function(o){var a=r(o);return o[M1(Ow,i)]=a,a[M1(_I,i)]=o,i.scene.add(a),a}]),this}},{key:"onRemoveObj",value:function(r){var i=this;return SI(e,"onRemoveObj",this)([function(o,a){var s=SI(e,"getData",i)([o]);r(o,a);var l=function(){i.scene.remove(o),Ri(o),delete s[M1(Ow,i)]};M1(Lw,i)?setTimeout(l,M1(Lw,i)):l()}]),this}}])}(lje),Uc=window.THREE?window.THREE:{BufferGeometry:ei,CylinderGeometry:FM,Matrix4:ar,Mesh:Qr,MeshLambertMaterial:Mf,Object3D:ji,Vector3:ve},YW=Object.assign({},FF),KW=YW.BufferGeometryUtils||YW,ede=Ko({props:{pointsData:{default:[]},pointLat:{default:"lat"},pointLng:{default:"lng"},pointColor:{default:function(){return"#ffffaa"}},pointAltitude:{default:.1},pointRadius:{default:.25},pointResolution:{default:12,triggerUpdate:!1},pointsMerge:{default:!1},pointsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Ri(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new ul(e,{objBindAttr:"__threeObjPoint"})},update:function(e,n){var r=Ht(e.pointLat),i=Ht(e.pointLng),o=Ht(e.pointAltitude),a=Ht(e.pointRadius),s=Ht(e.pointColor),l=new Uc.CylinderGeometry(1,1,1,e.pointResolution);l.applyMatrix4(new Uc.Matrix4().makeRotationX(Math.PI/2)),l.applyMatrix4(new Uc.Matrix4().makeTranslation(0,0,-.5));var c=2*Math.PI*$i/360,u={};if(!e.pointsMerge&&n.hasOwnProperty("pointsMerge")&&Ri(e.scene),e.dataMapper.scene=e.pointsMerge?new Uc.Object3D:e.scene,e.dataMapper.onCreateObj(h).onUpdateObj(p).digest(e.pointsData),e.pointsMerge){var d=e.pointsData.length?(KW.mergeGeometries||KW.mergeBufferGeometries)(e.pointsData.map(function(x){var b=e.dataMapper.getObj(x),y=b.geometry.clone();b.updateMatrix(),y.applyMatrix4(b.matrix);var _=ep(s(x));return y.setAttribute("color",bd(Array(y.getAttribute("position").count).fill(_),4)),y})):new Uc.BufferGeometry,f=new Uc.Mesh(d,new Uc.MeshLambertMaterial({color:16777215,transparent:!0,vertexColors:!0}));f.__globeObjType="points",f.__data=e.pointsData,e.dataMapper.clear(),Ri(e.scene),e.scene.add(f)}function h(){var x=new Uc.Mesh(l);return x.__globeObjType="point",x}function p(x,b){var y=function(O){var I=x.__currentTargetD=O,L=I.r,F=I.alt,$=I.lat,V=I.lng;Object.assign(x.position,Rc($,V));var U=e.pointsMerge?new Uc.Vector3(0,0,0):e.scene.localToWorld(new Uc.Vector3(0,0,0));x.lookAt(U),x.scale.x=x.scale.y=Math.min(30,L)*c,x.scale.z=Math.max(F*$i,.1)},_={alt:+o(b),r:+a(b),lat:+r(b),lng:+i(b)},C=x.__currentTargetD||Object.assign({},_,{alt:-.001});if(Object.keys(_).some(function(N){return C[N]!==_[N]})&&(e.pointsMerge||!e.pointsTransitionDuration||e.pointsTransitionDuration<0?y(_):e.tweenGroup.add(new ss(C).to(_,e.pointsTransitionDuration).easing(ko.Quadratic.InOut).onUpdate(y).start())),!e.pointsMerge){var E=s(b),M=E?uu(E):0,R=!!M;x.visible=R,R&&(u.hasOwnProperty(E)||(u[E]=new Uc.MeshLambertMaterial({color:yd(E),transparent:M<1,opacity:M})),x.material=u[E])}}}}),tde=function(){return{uniforms:{dashOffset:{value:0},dashSize:{value:1},gapSize:{value:0},dashTranslate:{value:0}},vertexShader:`
    `.concat(br.common,`
    `).concat(br.logdepthbuf_pars_vertex,`
  
    uniform float dashTranslate; 

    attribute vec4 color;
    varying vec4 vColor;
    
    attribute float relDistance;
    varying float vRelDistance;

    void main() {
      // pass through colors and distances
      vColor = color;
      vRelDistance = relDistance + dashTranslate;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  
      `).concat(br.logdepthbuf_vertex,`
    }
  `),fragmentShader:`
    `.concat(br.logdepthbuf_pars_fragment,`

    uniform float dashOffset; 
    uniform float dashSize;
    uniform float gapSize; 
    
    varying vec4 vColor;
    varying float vRelDistance;
    
    void main() {
      // ignore pixels in the gap
      if (vRelDistance < dashOffset) discard;
      if (mod(vRelDistance - dashOffset, dashSize + gapSize) > dashSize) discard;
    
      // set px color: [r, g, b, a], interpolated between vertices 
      gl_FragColor = vColor; 
  
      `).concat(br.logdepthbuf_fragment,`
    }
  `)}},B6=function(e){return e.uniforms.uSurfaceRadius={type:"float",value:0},e.vertexShader=(`attribute float surfaceRadius;
varying float vSurfaceRadius;
varying vec3 vPos;
`+e.vertexShader).replace("void main() {",["void main() {","vSurfaceRadius = surfaceRadius;","vPos = position;"].join(`
`)),e.fragmentShader=(`uniform float uSurfaceRadius;
varying float vSurfaceRadius;
varying vec3 vPos;
`+e.fragmentShader).replace("void main() {",["void main() {","if (length(vPos) < max(uSurfaceRadius, vSurfaceRadius)) discard;"].join(`
`)),e},Iot=function(e){return e.vertexShader=`
    attribute float r;
    
    const float PI = 3.1415926535897932384626433832795;
    float toRad(in float a) {
      return a * PI / 180.0;
    }
    
    vec3 Polar2Cartesian(in vec3 c) { // [lat, lng, r]
      float phi = toRad(90.0 - c.x);
      float theta = toRad(90.0 - c.y);
      float r = c.z;
      return vec3( // x,y,z
        r * sin(phi) * cos(theta),
        r * cos(phi),
        r * sin(phi) * sin(theta)
      );
    }
    
    vec2 Cartesian2Polar(in vec3 p) {
      float r = sqrt(p.x * p.x + p.y * p.y + p.z * p.z);
      float phi = acos(p.y / r);
      float theta = atan(p.z, p.x);
      return vec2( // lat,lng
        90.0 - phi * 180.0 / PI,
        90.0 - theta * 180.0 / PI - (theta < -PI / 2.0 ? 360.0 : 0.0)
      );
    }
    `.concat(e.vertexShader.replace("}",`                  
        vec3 pos = Polar2Cartesian(vec3(Cartesian2Polar(position), r));
        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
      }
    `),`
  `),e},w7=function(e,n){return e.onBeforeCompile=function(r){e.userData.shader=n(r)},e},Dot=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(i){return i};if(e.userData.shader)n(e.userData.shader.uniforms);else{var r=e.onBeforeCompile;e.onBeforeCompile=function(i){r(i),n(i.uniforms)}}},Oot=["stroke"],kc=window.THREE?window.THREE:{BufferGeometry:ei,CubicBezierCurve3:yie,Curve:wu,Group:Xs,Line:LM,Mesh:Qr,NormalBlending:Rs,ShaderMaterial:as,TubeGeometry:yF,Vector3:ve},Lot=Nv.default||Nv,nde=Ko({props:{arcsData:{default:[]},arcStartLat:{default:"startLat"},arcStartLng:{default:"startLng"},arcStartAltitude:{default:0},arcEndLat:{default:"endLat"},arcEndLng:{default:"endLng"},arcEndAltitude:{default:0},arcColor:{default:function(){return"#ffffaa"}},arcAltitude:{},arcAltitudeAutoScale:{default:.5},arcStroke:{},arcCurveResolution:{default:64,triggerUpdate:!1},arcCircularResolution:{default:6,triggerUpdate:!1},arcDashLength:{default:1},arcDashGap:{default:0},arcDashInitialGap:{default:0},arcDashAnimateTime:{default:0},arcsTransitionDuration:{default:1e3,triggerUpdate:!1}},methods:{pauseAnimation:function(e){var n;(n=e.ticker)===null||n===void 0||n.pause()},resumeAnimation:function(e){var n;(n=e.ticker)===null||n===void 0||n.resume()},_destructor:function(e){var n;e.sharedMaterial.dispose(),(n=e.ticker)===null||n===void 0||n.dispose()}},stateInit:function(e){var n=e.tweenGroup;return{tweenGroup:n,ticker:new Lot,sharedMaterial:new kc.ShaderMaterial(oi(oi({},tde()),{},{transparent:!0,blending:kc.NormalBlending}))}},init:function(e,n){Ri(e),n.scene=e,n.dataMapper=new ul(e,{objBindAttr:"__threeObjArc"}).onCreateObj(function(){var r=new kc.Group;return r.__globeObjType="arc",r}),n.ticker.onTick.add(function(r,i){n.dataMapper.entries().map(function(o){var a=Gi(o,2),s=a[1];return s}).filter(function(o){return o.children.length&&o.children[0].material&&o.children[0].__dashAnimateStep}).forEach(function(o){var a=o.children[0],s=a.__dashAnimateStep*i,l=a.material.uniforms.dashTranslate.value%1e9;a.material.uniforms.dashTranslate.value=l+s})})},update:function(e){var n=Ht(e.arcStartLat),r=Ht(e.arcStartLng),i=Ht(e.arcStartAltitude),o=Ht(e.arcEndLat),a=Ht(e.arcEndLng),s=Ht(e.arcEndAltitude),l=Ht(e.arcAltitude),c=Ht(e.arcAltitudeAutoScale),u=Ht(e.arcStroke),d=Ht(e.arcColor),f=Ht(e.arcDashLength),h=Ht(e.arcDashGap),p=Ht(e.arcDashInitialGap),x=Ht(e.arcDashAnimateTime);e.dataMapper.onUpdateObj(function(C,E){var M=u(E),R=M!=null;if(!C.children.length||R!==(C.children[0].type==="Mesh")){Ri(C);var N=R?new kc.Mesh:new kc.Line(new kc.BufferGeometry);N.material=e.sharedMaterial.clone(),C.add(N)}var O=C.children[0];Object.assign(O.material.uniforms,{dashSize:{value:f(E)},gapSize:{value:h(E)},dashOffset:{value:p(E)}});var I=x(E);O.__dashAnimateStep=I>0?1e3/I:0;var L=y(d(E),e.arcCurveResolution,R?e.arcCircularResolution+1:1),F=_(e.arcCurveResolution,R?e.arcCircularResolution+1:1,!0);O.geometry.setAttribute("color",L),O.geometry.setAttribute("relDistance",F);var $=function(z){var H=C.__currentTargetD=z,j=H.stroke,X=bot(H,Oot),Y=b(X);R?(O.geometry&&O.geometry.dispose(),O.geometry=new kc.TubeGeometry(Y,e.arcCurveResolution,j/2,e.arcCircularResolution),O.geometry.setAttribute("color",L),O.geometry.setAttribute("relDistance",F)):O.geometry.setFromPoints(Y.getPoints(e.arcCurveResolution))},V={stroke:M,alt:l(E),altAutoScale:+c(E),startLat:+n(E),startLng:+r(E),startAlt:+i(E),endLat:+o(E),endLng:+a(E),endAlt:+s(E)},U=C.__currentTargetD||Object.assign({},V,{altAutoScale:-.001});Object.keys(V).some(function(k){return U[k]!==V[k]})&&(!e.arcsTransitionDuration||e.arcsTransitionDuration<0?$(V):e.tweenGroup.add(new ss(U).to(V,e.arcsTransitionDuration).easing(ko.Quadratic.InOut).onUpdate($).start()))}).digest(e.arcsData);function b(C){var E=C.alt,M=C.altAutoScale,R=C.startLat,N=C.startLng,O=C.startAlt,I=C.endLat,L=C.endLng,F=C.endAlt,$=function(oe){var ce=Gi(oe,3),pe=ce[0],ye=ce[1],xe=ce[2],be=Rc(ye,pe,xe),Ce=be.x,Ne=be.y,Ae=be.z;return new kc.Vector3(Ce,Ne,Ae)},V=[N,R],U=[L,I],k=E;if(k==null&&(k=Qh(V,U)/2*M+Math.max(O,F)),k||O||F){var z=IF(V,U),H=function(oe,ce){return ce+(ce-oe)*(oe<ce?.5:.25)},j=[.25,.75].map(function(fe){return[].concat(bi(z(fe)),[H(fe<.5?O:F,k)])}),X=Gi(j,2),Y=X[0],J=X[1],ee=x7(kc.CubicBezierCurve3,bi([[].concat(V,[O]),Y,J,[].concat(U,[F])].map($)));return ee}else{var re=.001;return ue.apply(void 0,bi([[].concat(V,[re]),[].concat(U,[re])].map($)))}function ue(fe,oe){var ce=fe.angleTo(oe),pe=ce===0?function(){return fe.clone()}:function(xe){return new kc.Vector3().addVectors(fe.clone().multiplyScalar(Math.sin((1-xe)*ce)),oe.clone().multiplyScalar(Math.sin(xe*ce))).divideScalar(Math.sin(ce))},ye=new kc.Curve;return ye.getPoint=pe,ye}}function y(C,E){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=E+1,N;if(C instanceof Array||C instanceof Function){var O=C instanceof Array?ff().domain(C.map(function(k,z){return z/(C.length-1)})).range(C):C;N=function(z){return ep(O(z),!0,!0)}}else{var I=ep(C,!0,!0);N=function(){return I}}for(var L=[],F=0,$=R;F<$;F++)for(var V=N(F/($-1)),U=0;U<M;U++)L.push(V);return bd(L,4)}function _(C){for(var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,R=C+1,N=[],O=0,I=R;O<I;O++)for(var L=O/(I-1),F=0;F<E;F++)N.push(L);return M&&N.reverse(),bd(N,1)}}}),Jf=window.THREE?window.THREE:{BufferGeometry:ei,DoubleSide:To,Mesh:Qr,MeshLambertMaterial:Mf,Object3D:ji},QW=Object.assign({},FF),ZW=QW.BufferGeometryUtils||QW,rde=Ko({props:{hexBinPointsData:{default:[]},hexBinPointLat:{default:"lat"},hexBinPointLng:{default:"lng"},hexBinPointWeight:{default:1},hexBinResolution:{default:4},hexMargin:{default:.2},hexTopCurvatureResolution:{default:5},hexTopColor:{default:function(){return"#ffffaa"}},hexSideColor:{default:function(){return"#ffffaa"}},hexAltitude:{default:function(e){var n=e.sumWeight;return n*.01}},hexBinMerge:{default:!1},hexTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Ri(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new ul(e,{objBindAttr:"__threeObjHexbin"})},update:function(e,n){var r=Ht(e.hexBinPointLat),i=Ht(e.hexBinPointLng),o=Ht(e.hexBinPointWeight),a=Ht(e.hexAltitude),s=Ht(e.hexTopColor),l=Ht(e.hexSideColor),c=Ht(e.hexMargin),u=Mqe(e.hexBinPointsData.map(function(_){return oi(oi({},_),{},{h3Idx:fWe(r(_),i(_),e.hexBinResolution)})}),"h3Idx"),d=Object.entries(u).map(function(_){var C=Gi(_,2),E=C[0],M=C[1];return{h3Idx:E,points:M,sumWeight:M.reduce(function(R,N){return R+ +o(N)},0)}}),f={};if(!e.hexBinMerge&&n.hasOwnProperty("hexBinMerge")&&Ri(e.scene),e.dataMapper.scene=e.hexBinMerge?new Jf.Object3D:e.scene,e.dataMapper.id(function(_){return _.h3Idx}).onCreateObj(b).onUpdateObj(y).digest(d),e.hexBinMerge){var h=d.length?(ZW.mergeGeometries||ZW.mergeBufferGeometries)(d.map(function(_){var C=e.dataMapper.getObj(_),E=C.geometry.toNonIndexed();C.updateMatrix(),E.applyMatrix4(C.matrix);var M=ep(s(_)),R=ep(l(_)),N=E.getAttribute("position").count,O=E.groups[0].count;return E.setAttribute("color",bd(bi(new Array(N)).map(function(I,L){return L>=O?M:R}),4)),E})):new Jf.BufferGeometry,p=new Jf.MeshLambertMaterial({color:16777215,transparent:!0,vertexColors:!0,side:Jf.DoubleSide});p.onBeforeCompile=function(_){p.userData.shader=B6(_)};var x=new Jf.Mesh(h,p);x.__globeObjType="hexBinPoints",x.__data=d,e.dataMapper.clear(),Ri(e.scene),e.scene.add(x)}function b(_){var C=new Jf.Mesh;C.__hexCenter=nae(_.h3Idx),C.__hexGeoJson=rae(_.h3Idx,!0).reverse();var E=C.__hexCenter[1];return C.__hexGeoJson.forEach(function(M){var R=M[0];Math.abs(E-R)>170&&(M[0]+=E>R?360:-360)}),C.__globeObjType="hexbin",C}function y(_,C){var E=function(H,j,X){return H-(H-j)*X},M=Math.max(0,Math.min(1,+c(C))),R=Gi(_.__hexCenter,2),N=R[0],O=R[1],I=M===0?_.__hexGeoJson:_.__hexGeoJson.map(function(z){var H=Gi(z,2),j=H[0],X=H[1];return[[j,O],[X,N]].map(function(Y){var J=Gi(Y,2),ee=J[0],re=J[1];return E(ee,re,M)})}),L=e.hexTopCurvatureResolution;_.geometry&&_.geometry.dispose(),_.geometry=new zF([I],0,$i,!1,!0,!0,L);var F={alt:+a(C)},$=function(H){var j=_.__currentTargetD=H,X=j.alt;_.scale.x=_.scale.y=_.scale.z=1+X;var Y=$i/(X+1);_.geometry.setAttribute("surfaceRadius",bd(Array(_.geometry.getAttribute("position").count).fill(Y),1))},V=_.__currentTargetD||Object.assign({},F,{alt:-.001});if(Object.keys(F).some(function(z){return V[z]!==F[z]})&&(e.hexBinMerge||!e.hexTransitionDuration||e.hexTransitionDuration<0?$(F):e.tweenGroup.add(new ss(V).to(F,e.hexTransitionDuration).easing(ko.Quadratic.InOut).onUpdate($).start())),!e.hexBinMerge){var U=l(C),k=s(C);[U,k].forEach(function(z){if(!f.hasOwnProperty(z)){var H=uu(z);f[z]=w7(new Jf.MeshLambertMaterial({color:yd(z),transparent:H<1,opacity:H,side:Jf.DoubleSide}),B6)}}),_.material=[U,k].map(function(z){return f[z]})}}}}),ide=function(e){return e*e},zd=function(e){return e*Math.PI/180};function Bot(t,e){var n=Math.sqrt,r=Math.cos,i=function(u){return ide(Math.sin(u/2))},o=zd(t[1]),a=zd(e[1]),s=zd(t[0]),l=zd(e[0]);return 2*Math.asin(n(i(a-o)+r(o)*r(a)*i(l-s)))}var Fot=Math.sqrt(2*Math.PI);function $ot(t,e){return Math.exp(-ide(t/e)/2)/(e*Fot)}var Uot=function(e){var n=Gi(e,2),r=n[0],i=n[1],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=a.lngAccessor,l=s===void 0?function(b){return b[0]}:s,c=a.latAccessor,u=c===void 0?function(b){return b[1]}:c,d=a.weightAccessor,f=d===void 0?function(){return 1}:d,h=a.bandwidth,p=[r,i],x=h*Math.PI/180;return TVe(o.map(function(b){var y=f(b);if(!y)return 0;var _=Bot(p,[l(b),u(b)]);return $ot(_,x)*y}))},kot=function(){var t=hot(O6().m(function e(n){var r,i,o,a,s,l,c,u,d,f,h,p,x,b,y,_,C,E,M,R,N,O,I,L,F,$,V,U,k,z,H,j,X,Y,J,ee,re,ue,fe,oe,ce=arguments,pe,ye,xe;return O6().w(function(be){for(;;)switch(be.n){case 0:if(i=ce.length>1&&ce[1]!==void 0?ce[1]:[],o=ce.length>2&&ce[2]!==void 0?ce[2]:{},a=o.lngAccessor,s=a===void 0?function(Ce){return Ce[0]}:a,l=o.latAccessor,c=l===void 0?function(Ce){return Ce[1]}:l,u=o.weightAccessor,d=u===void 0?function(){return 1}:u,f=o.bandwidth,(r=navigator)!==null&&r!==void 0&&r.gpu){be.n=1;break}return console.warn("WebGPU not enabled in browser. Please consider enabling it to improve performance."),be.a(2,n.map(function(Ce){return Uot(Ce,i,{lngAccessor:s,latAccessor:c,weightAccessor:d,bandwidth:f})}));case 1:return h=4,p=Hit,x=jit,b=not,y=tot,_=Kit,C=Qit,E=qit,M=eot,R=Jit,N=Xit,O=Wit,I=Yit,L=Zit,F=y(new zC(new Float32Array(n.flat().map(zd)),2),"vec2",n.length),$=y(new zC(new Float32Array(i.map(function(Ce){return[zd(s(Ce)),zd(c(Ce)),d(Ce)]}).flat()),3),"vec3",i.length),V=new zC(n.length,1),U=y(V,"float",n.length),k=_(Math.PI),z=M(k.mul(2)),H=function(Ne){return Ne.mul(Ne)},j=function(Ne){return H(R(Ne.div(2)))},X=function(Ne,Ae){var me=_(Ne[1]),de=_(Ae[1]),Be=_(Ne[0]),ne=_(Ae[0]);return _(2).mul(O(M(j(de.sub(me)).add(N(me).mul(N(de)).mul(j(ne.sub(Be)))))))},Y=function(Ne,Ae){return I(L(H(Ne.div(Ae)).div(2))).div(Ae.mul(z))},J=b(zd(f)),ee=b(zd(f*h)),re=b(i.length),ue=p(function(){var Ce=F.element(C),Ne=U.element(C);Ne.assign(0),E(re,function(Ae){var me=Ae.i,de=$.element(me),Be=de.z;x(Be,function(){var ne=X(de.xy,Ce.xy);x(ne&&ne.lessThan(ee),function(){Ne.addAssign(Y(ne,J).mul(Be))})})})}),fe=ue().compute(n.length),oe=new jue,be.n=2,oe.computeAsync(fe);case 2:return pe=Array,ye=Float32Array,be.n=3,oe.getArrayBufferAsync(V);case 3:return xe=be.v,be.a(2,pe.from.call(pe,new ye(xe)))}},e)}));return function(n){return t.apply(this,arguments)}}(),Bw=window.THREE?window.THREE:{Mesh:Qr,MeshLambertMaterial:Mf,SphereGeometry:Sd},Vot=3.5,zot=.1,JW=100,Got=function(e){var n=t0(pWe(e));return n.opacity=Math.cbrt(e),n.formatRgb()},ode=Ko({props:{heatmapsData:{default:[]},heatmapPoints:{default:function(e){return e}},heatmapPointLat:{default:function(e){return e[0]}},heatmapPointLng:{default:function(e){return e[1]}},heatmapPointWeight:{default:1},heatmapBandwidth:{default:2.5},heatmapColorFn:{default:function(){return Got}},heatmapColorSaturation:{default:1.5},heatmapBaseAltitude:{default:.01},heatmapTopAltitude:{},heatmapsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Ri(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new ul(e,{objBindAttr:"__threeObjHeatmap"}).onCreateObj(function(){var o=new Bw.Mesh(new Bw.SphereGeometry($i),w7(new Bw.MeshLambertMaterial({vertexColors:!0,transparent:!0}),Iot));return o.__globeObjType="heatmap",o})},update:function(e){var n=Ht(e.heatmapPoints),r=Ht(e.heatmapPointLat),i=Ht(e.heatmapPointLng),o=Ht(e.heatmapPointWeight),a=Ht(e.heatmapBandwidth),s=Ht(e.heatmapColorFn),l=Ht(e.heatmapColorSaturation),c=Ht(e.heatmapBaseAltitude),u=Ht(e.heatmapTopAltitude);e.dataMapper.onUpdateObj(function(d,f){var h=a(f),p=s(f),x=l(f),b=c(f),y=u(f),_=n(f).map(function(N){var O=r(N),I=i(N),L=Rc(O,I),F=L.x,$=L.y,V=L.z;return{x:F,y:$,z:V,lat:O,lng:I,weight:o(N)}}),C=Math.max(zot,h/Vot),E=Math.ceil(360/(C||-1));d.geometry.parameters.widthSegments!==E&&(d.geometry.dispose(),d.geometry=new Bw.SphereGeometry($i,E,E/2));var M=Not(d.geometry.getAttribute("position")),R=M.map(function(N){var O=Gi(N,3),I=O[0],L=O[1],F=O[2],$=Zue({x:I,y:L,z:F}),V=$.lng,U=$.lat;return[V,U]});kot(R,_,{latAccessor:function(O){return O.lat},lngAccessor:function(O){return O.lng},weightAccessor:function(O){return O.weight},bandwidth:h}).then(function(N){var O=bi(new Array(JW)).map(function($,V){return ep(p(V/(JW-1)))}),I=function(V){var U=d.__currentTargetD=V,k=U.kdeVals,z=U.topAlt,H=U.saturation,j=_Ve(k.map(Math.abs))||1e-15,X=toe([0,j/H],O);d.geometry.setAttribute("color",bd(k.map(function(J){return X(Math.abs(J))}),4));var Y=ff([0,j],[$i*(1+b),$i*(1+(z||b))]);d.geometry.setAttribute("r",bd(k.map(Y)))},L={kdeVals:N,topAlt:y,saturation:x},F=d.__currentTargetD||Object.assign({},L,{kdeVals:N.map(function(){return 0}),topAlt:y&&b,saturation:.5});F.kdeVals.length!==N.length&&(F.kdeVals=N.slice()),Object.keys(L).some(function($){return F[$]!==L[$]})&&(!e.heatmapsTransitionDuration||e.heatmapsTransitionDuration<0?I(L):e.tweenGroup.add(new ss(F).to(L,e.heatmapsTransitionDuration).easing(ko.Quadratic.InOut).onUpdate(I).start()))})}).digest(e.heatmapsData)}}),eh=window.THREE?window.THREE:{DoubleSide:To,Group:Xs,LineBasicMaterial:fy,LineSegments:mie,Mesh:Qr,MeshBasicMaterial:oc},ade=Ko({props:{polygonsData:{default:[]},polygonGeoJsonGeometry:{default:"geometry"},polygonSideColor:{default:function(){return"#ffffaa"}},polygonSideMaterial:{},polygonCapColor:{default:function(){return"#ffffaa"}},polygonCapMaterial:{},polygonStrokeColor:{},polygonAltitude:{default:.01},polygonCapCurvatureResolution:{default:5},polygonsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Ri(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new ul(e,{objBindAttr:"__threeObjPolygon"}).id(function(o){return o.id}).onCreateObj(function(){var o=new eh.Group;return o.__defaultSideMaterial=w7(new eh.MeshBasicMaterial({side:eh.DoubleSide,depthWrite:!0}),B6),o.__defaultCapMaterial=new eh.MeshBasicMaterial({side:eh.DoubleSide,depthWrite:!0}),o.add(new eh.Mesh(void 0,[o.__defaultSideMaterial,o.__defaultCapMaterial])),o.add(new eh.LineSegments(void 0,new eh.LineBasicMaterial)),o.__globeObjType="polygon",o})},update:function(e){var n=Ht(e.polygonGeoJsonGeometry),r=Ht(e.polygonAltitude),i=Ht(e.polygonCapCurvatureResolution),o=Ht(e.polygonCapColor),a=Ht(e.polygonCapMaterial),s=Ht(e.polygonSideColor),l=Ht(e.polygonSideMaterial),c=Ht(e.polygonStrokeColor),u=[];e.polygonsData.forEach(function(d){var f={data:d,capColor:o(d),capMaterial:a(d),sideColor:s(d),sideMaterial:l(d),strokeColor:c(d),altitude:+r(d),capCurvatureResolution:+i(d)},h=n(d),p=d.__id||"".concat(Math.round(Math.random()*1e9));d.__id=p,h.type==="Polygon"?u.push(oi({id:"".concat(p,"_0"),coords:h.coordinates},f)):h.type==="MultiPolygon"?u.push.apply(u,bi(h.coordinates.map(function(x,b){return oi({id:"".concat(p,"_").concat(b),coords:x},f)}))):console.warn("Unsupported GeoJson geometry type: ".concat(h.type,". Skipping geometry..."))}),e.dataMapper.onUpdateObj(function(d,f){var h=f.coords,p=f.capColor,x=f.capMaterial,b=f.sideColor,y=f.sideMaterial,_=f.strokeColor,C=f.altitude,E=f.capCurvatureResolution,M=Gi(d.children,2),R=M[0],N=M[1],O=!!_;N.visible=O;var I=!!(p||x),L=!!(b||y);Hot(R.geometry.parameters||{},{polygonGeoJson:h,curvatureResolution:E,closedTop:I,includeSides:L})||(R.geometry&&R.geometry.dispose(),R.geometry=new zF(h,0,$i,!1,I,L,E)),O&&(!N.geometry.parameters||N.geometry.parameters.geoJson.coordinates!==h||N.geometry.parameters.resolution!==E)&&(N.geometry&&N.geometry.dispose(),N.geometry=new Loe({type:"Polygon",coordinates:h},$i,E));var F=L?0:-1,$=I?L?1:0:-1;if(F>=0&&(R.material[F]=y||d.__defaultSideMaterial),$>=0&&(R.material[$]=x||d.__defaultCapMaterial),[[!y&&b,F],[!x&&p,$]].forEach(function(j){var X=Gi(j,2),Y=X[0],J=X[1];if(!(!Y||J<0)){var ee=R.material[J],re=uu(Y);ee.color.set(yd(Y)),ee.transparent=re<1,ee.opacity=re}}),O){var V=N.material,U=uu(_);V.color.set(yd(_)),V.transparent=U<1,V.opacity=U}var k={alt:C},z=function(X){var Y=d.__currentTargetD=X,J=Y.alt;R.scale.x=R.scale.y=R.scale.z=1+J,O&&(N.scale.x=N.scale.y=N.scale.z=1+J+1e-4),Dot(d.__defaultSideMaterial,function(ee){return ee.uSurfaceRadius.value=$i/(J+1)})},H=d.__currentTargetD||Object.assign({},k,{alt:-.001});Object.keys(k).some(function(j){return H[j]!==k[j]})&&(!e.polygonsTransitionDuration||e.polygonsTransitionDuration<0||H.alt===k.alt?z(k):e.tweenGroup.add(new ss(H).to(k,e.polygonsTransitionDuration).easing(ko.Quadratic.InOut).onUpdate(z).start()))}).digest(u)}});function Hot(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return function(r,i){return r===i}};return Object.entries(e).every(function(r){var i=Gi(r,2),o=i[0],a=i[1];return t.hasOwnProperty(o)&&n(o)(t[o],a)})}var Tg=window.THREE?window.THREE:{BufferGeometry:ei,DoubleSide:To,Mesh:Qr,MeshLambertMaterial:Mf,Vector3:ve},eX=Object.assign({},FF),tX=eX.BufferGeometryUtils||eX,sde=Ko({props:{hexPolygonsData:{default:[]},hexPolygonGeoJsonGeometry:{default:"geometry"},hexPolygonColor:{default:function(){return"#ffffaa"}},hexPolygonAltitude:{default:.001},hexPolygonResolution:{default:3},hexPolygonMargin:{default:.2},hexPolygonUseDots:{default:!1},hexPolygonCurvatureResolution:{default:5},hexPolygonDotResolution:{default:12},hexPolygonsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Ri(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new ul(e,{objBindAttr:"__threeObjHexPolygon"}).onCreateObj(function(){var o=new Tg.Mesh(void 0,new Tg.MeshLambertMaterial({side:Tg.DoubleSide}));return o.__globeObjType="hexPolygon",o})},update:function(e){var n=Ht(e.hexPolygonGeoJsonGeometry),r=Ht(e.hexPolygonColor),i=Ht(e.hexPolygonAltitude),o=Ht(e.hexPolygonResolution),a=Ht(e.hexPolygonMargin),s=Ht(e.hexPolygonUseDots),l=Ht(e.hexPolygonCurvatureResolution),c=Ht(e.hexPolygonDotResolution);e.dataMapper.onUpdateObj(function(u,d){var f=n(d),h=o(d),p=i(d),x=Math.max(0,Math.min(1,+a(d))),b=s(d),y=l(d),_=c(d),C=r(d),E=uu(C);u.material.color.set(yd(C)),u.material.transparent=E<1,u.material.opacity=E;var M={alt:p,margin:x,curvatureResolution:y},R={geoJson:f,h3Res:h},N=u.__currentTargetD||Object.assign({},M,{alt:-.001}),O=u.__currentMemD||R;if(Object.keys(M).some(function($){return N[$]!==M[$]})||Object.keys(R).some(function($){return O[$]!==R[$]})){u.__currentMemD=R;var I=[];f.type==="Polygon"?Aq(f.coordinates,h,!0).forEach(function($){return I.push($)}):f.type==="MultiPolygon"?f.coordinates.forEach(function($){return Aq($,h,!0).forEach(function(V){return I.push(V)})}):console.warn("Unsupported GeoJson geometry type: ".concat(f.type,". Skipping geometry..."));var L=I.map(function($){var V=nae($),U=rae($,!0).reverse(),k=V[1];return U.forEach(function(z){var H=z[0];Math.abs(k-H)>170&&(z[0]+=k>H?360:-360)}),{h3Idx:$,hexCenter:V,hexGeoJson:U}}),F=function(V){var U=u.__currentTargetD=V,k=U.alt,z=U.margin,H=U.curvatureResolution;u.geometry&&u.geometry.dispose(),u.geometry=L.length?(tX.mergeGeometries||tX.mergeBufferGeometries)(L.map(function(j){var X=Gi(j.hexCenter,2),Y=X[0],J=X[1];if(b){var ee=Rc(Y,J,k),re=Rc(j.hexGeoJson[0][1],j.hexGeoJson[0][0],k),ue=.85*(1-z)*new Tg.Vector3(ee.x,ee.y,ee.z).distanceTo(new Tg.Vector3(re.x,re.y,re.z)),fe=new BM(ue,_);return fe.rotateX(lm(-Y)),fe.rotateY(lm(J)),fe.translate(ee.x,ee.y,ee.z),fe}else{var oe=function(ye,xe,be){return ye-(ye-xe)*be},ce=z===0?j.hexGeoJson:j.hexGeoJson.map(function(pe){var ye=Gi(pe,2),xe=ye[0],be=ye[1];return[[xe,J],[be,Y]].map(function(Ce){var Ne=Gi(Ce,2),Ae=Ne[0],me=Ne[1];return oe(Ae,me,z)})});return new zF([ce],$i,$i*(1+k),!1,!0,!1,H)}})):new Tg.BufferGeometry};!e.hexPolygonsTransitionDuration||e.hexPolygonsTransitionDuration<0?F(M):e.tweenGroup.add(new ss(N).to(M,e.hexPolygonsTransitionDuration).easing(ko.Quadratic.InOut).onUpdate(F).start())}}).digest(e.hexPolygonsData)}}),jot=window.THREE?window.THREE:{Vector3:ve};function qot(t,e){var n=function(a,s){var l=a[a.length-1];return[].concat(bi(a),bi(Array(s-a.length).fill(l)))},r=Math.max(t.length,e.length),i=zVe.apply(void 0,bi([t,e].map(function(o){return o.map(function(a){var s=a.x,l=a.y,c=a.z;return[s,l,c]})}).map(function(o){return n(o,r)})));return function(o){return o===0?t:o===1?e:i(o).map(function(a){var s=Gi(a,3),l=s[0],c=s[1],u=s[2];return new jot.Vector3(l,c,u)})}}var Hp=window.THREE?window.THREE:{BufferGeometry:ei,Color:En,Group:Xs,Line:LM,NormalBlending:Rs,ShaderMaterial:as,Vector3:ve},Wot=Nv.default||Nv,lde=Ko({props:{pathsData:{default:[]},pathPoints:{default:function(e){return e}},pathPointLat:{default:function(e){return e[0]}},pathPointLng:{default:function(e){return e[1]}},pathPointAlt:{default:.001},pathResolution:{default:2},pathColor:{default:function(){return"#ffffaa"}},pathStroke:{},pathDashLength:{default:1},pathDashGap:{default:0},pathDashInitialGap:{default:0},pathDashAnimateTime:{default:0},pathTransitionDuration:{default:1e3,triggerUpdate:!1},rendererSize:{}},methods:{pauseAnimation:function(e){var n;(n=e.ticker)===null||n===void 0||n.pause()},resumeAnimation:function(e){var n;(n=e.ticker)===null||n===void 0||n.resume()},_destructor:function(e){var n;(n=e.ticker)===null||n===void 0||n.dispose()}},stateInit:function(e){var n=e.tweenGroup;return{tweenGroup:n,ticker:new Wot,sharedMaterial:new Hp.ShaderMaterial(oi(oi({},tde()),{},{transparent:!0,blending:Hp.NormalBlending}))}},init:function(e,n){Ri(e),n.scene=e,n.dataMapper=new ul(e,{objBindAttr:"__threeObjPath"}).onCreateObj(function(){var r=new Hp.Group;return r.__globeObjType="path",r}),n.ticker.onTick.add(function(r,i){n.dataMapper.entries().map(function(o){var a=Gi(o,2),s=a[1];return s}).filter(function(o){return o.children.length&&o.children[0].material&&o.children[0].__dashAnimateStep}).forEach(function(o){var a=o.children[0],s=a.__dashAnimateStep*i;if(a.type==="Line"){var l=a.material.uniforms.dashTranslate.value%1e9;a.material.uniforms.dashTranslate.value=l+s}else if(a.type==="Line2"){for(var c=a.material.dashOffset-s,u=a.material.dashSize+a.material.gapSize;c<=-u;)c+=u;a.material.dashOffset=c}})})},update:function(e){var n=Ht(e.pathPoints),r=Ht(e.pathPointLat),i=Ht(e.pathPointLng),o=Ht(e.pathPointAlt),a=Ht(e.pathStroke),s=Ht(e.pathColor),l=Ht(e.pathDashLength),c=Ht(e.pathDashGap),u=Ht(e.pathDashInitialGap),d=Ht(e.pathDashAnimateTime);e.dataMapper.onUpdateObj(function(b,y){var _=a(y),C=_!=null;if(!b.children.length||C===(b.children[0].type==="Line")){Ri(b);var E=C?new aot(new Wue,new b7):new Hp.Line(new Hp.BufferGeometry,e.sharedMaterial.clone());b.add(E)}var M=b.children[0],R=h(n(y),r,i,o,e.pathResolution),N=d(y);if(M.__dashAnimateStep=N>0?1e3/N:0,C){M.material.resolution=e.rendererSize;{var L=l(y),F=c(y),$=u(y);M.material.dashed=F>0,M.material.dashed?M.material.defines.USE_DASH="":delete M.material.defines.USE_DASH,M.material.dashed&&(M.material.dashScale=1/f(R),M.material.dashSize=L,M.material.gapSize=F,M.material.dashOffset=-$)}{var V=s(y);if(V instanceof Array){var U=p(s(y),R.length-1,1,!1);M.geometry.setColors(U.array),M.material.vertexColors=!0}else{var k=V,z=uu(k);M.material.color=new Hp.Color(yd(k)),M.material.transparent=z<1,M.material.opacity=z,M.material.vertexColors=!1}}M.material.needsUpdate=!0}else{Object.assign(M.material.uniforms,{dashSize:{value:l(y)},gapSize:{value:c(y)},dashOffset:{value:u(y)}});var O=p(s(y),R.length),I=x(R.length,1,!0);M.geometry.setAttribute("color",O),M.geometry.setAttribute("relDistance",I)}var H=qot(b.__currentTargetD&&b.__currentTargetD.points||[R[0]],R),j=function(ee){var re=b.__currentTargetD=ee,ue=re.stroke,fe=re.interpolK,oe=b.__currentTargetD.points=H(fe);if(C){var ce;M.geometry.setPositions((ce=[]).concat.apply(ce,bi(oe.map(function(pe){var ye=pe.x,xe=pe.y,be=pe.z;return[ye,xe,be]})))),M.material.linewidth=ue,M.material.dashed&&M.computeLineDistances()}else M.geometry.setFromPoints(oe),M.geometry.computeBoundingSphere()},X={stroke:_,interpolK:1},Y=Object.assign({},b.__currentTargetD||X,{interpolK:0});Object.keys(X).some(function(J){return Y[J]!==X[J]})&&(!e.pathTransitionDuration||e.pathTransitionDuration<0?j(X):e.tweenGroup.add(new ss(Y).to(X,e.pathTransitionDuration).easing(ko.Quadratic.InOut).onUpdate(j).start()))}).digest(e.pathsData);function f(b){var y=0,_;return b.forEach(function(C){_&&(y+=_.distanceTo(C)),_=C}),y}function h(b,y,_,C,E){var M=function(I,L,F){for(var $=[],V=1;V<=F;V++)$.push(I+(L-I)*V/(F+1));return $},R=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,F=[],$=null;return I.forEach(function(V){if($){for(;Math.abs($[1]-V[1])>180;)$[1]+=360*($[1]<V[1]?1:-1);var U=Math.sqrt(Math.pow(V[0]-$[0],2)+Math.pow(V[1]-$[1],2));if(U>L)for(var k=Math.floor(U/L),z=M($[0],V[0],k),H=M($[1],V[1],k),j=M($[2],V[2],k),X=0,Y=z.length;X<Y;X++)F.push([z[X],H[X],j[X]])}F.push($=V)}),F},N=function(I){var L=Gi(I,3),F=L[0],$=L[1],V=L[2],U=Rc(F,$,V),k=U.x,z=U.y,H=U.z;return new Hp.Vector3(k,z,H)};return R(b.map(function(O){return[y(O),_(O),C(O)]}),E).map(N)}function p(b,y){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,E=y+1,M;if(b instanceof Array||b instanceof Function){var R=b instanceof Array?ff().domain(b.map(function(V,U){return U/(b.length-1)})).range(b):b;M=function(U){return ep(R(U),C,!0)}}else{var N=ep(b,C,!0);M=function(){return N}}for(var O=[],I=0,L=E;I<L;I++)for(var F=M(I/(L-1)),$=0;$<_;$++)O.push(F);return bd(O,C?4:3)}function x(b){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,C=b+1,E=[],M=0,R=C;M<R;M++)for(var N=M/(R-1),O=0;O<y;O++)E.push(N);return _&&E.reverse(),bd(E,1)}}}),Fw=window.THREE?window.THREE:{Euler:Oa,Mesh:Qr,MeshLambertMaterial:Mf,SphereGeometry:Sd},cde=Ko({props:{tilesData:{default:[]},tileLat:{default:"lat"},tileLng:{default:"lng"},tileAltitude:{default:.01},tileWidth:{default:1},tileHeight:{default:1},tileUseGlobeProjection:{default:!0},tileMaterial:{default:function(){return new Fw.MeshLambertMaterial({color:"#ffbb88",opacity:.4,transparent:!0})}},tileCurvatureResolution:{default:5},tilesTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Ri(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new ul(e,{objBindAttr:"__threeObjTile"}).onCreateObj(function(){var o=new Fw.Mesh;return o.__globeObjType="tile",o})},update:function(e){var n=Ht(e.tileLat),r=Ht(e.tileLng),i=Ht(e.tileAltitude),o=Ht(e.tileWidth),a=Ht(e.tileHeight),s=Ht(e.tileUseGlobeProjection),l=Ht(e.tileMaterial),c=Ht(e.tileCurvatureResolution);e.dataMapper.onUpdateObj(function(u,d){u.material=l(d);var f=s(d),h=c(d),p=function(_){var C=u.__currentTargetD=_,E=C.lat,M=C.lng,R=C.alt,N=C.width,O=C.height,I=Eg(M),L=Eg(-E);u.geometry&&u.geometry.dispose(),u.geometry=new Fw.SphereGeometry($i*(1+R),Math.ceil(N/(h||-1)),Math.ceil(O/(h||-1)),Eg(90-N/2)+(f?I:0),Eg(N),Eg(90-O/2)+(f?L:0),Eg(O)),f||u.setRotationFromEuler(new Fw.Euler(L,I,0,"YXZ"))},x={lat:+n(d),lng:+r(d),alt:+i(d),width:+o(d),height:+a(d)},b=u.__currentTargetD||Object.assign({},x,{width:0,height:0});Object.keys(x).some(function(y){return b[y]!==x[y]})&&(!e.tilesTransitionDuration||e.tilesTransitionDuration<0?p(x):e.tweenGroup.add(new ss(b).to(x,e.tilesTransitionDuration).easing(ko.Quadratic.InOut).onUpdate(p).start()))}).digest(e.tilesData)}}),Eg=function(e){return e*Math.PI/180},R1=window.THREE?window.THREE:{BufferGeometry:ei,Color:En,Points:oBe,PointsMaterial:pF},ude=Ko({props:{particlesData:{default:[]},particlesList:{default:function(e){return e}},particleLat:{default:"lat"},particleLng:{default:"lng"},particleAltitude:{default:.01},particlesSize:{default:.5},particlesSizeAttenuation:{default:!0},particlesColor:{default:function(){return"white"}},particlesTexture:{}},init:function(e,n){Ri(e),n.scene=e,n.dataMapper=new ul(e,{objBindAttr:"__threeObjParticles"}).onCreateObj(function(){var r=new R1.Points(new R1.BufferGeometry,new R1.PointsMaterial);return r.__globeObjType="particles",r}).onUpdateObj(function(r,i){var o=Ht(n.particlesList),a=Ht(n.particleLat),s=Ht(n.particleLng),l=Ht(n.particleAltitude);r.geometry.setAttribute("position",bd(o(i).map(function(c){return Object.values(Rc(a(c),s(c),l(c)))}),3))})},update:function(e,n){["particlesData","particlesList","particleLat","particleLng","particleAltitude"].some(function(s){return n.hasOwnProperty(s)})&&e.dataMapper.digest(e.particlesData);var r=Ht(e.particlesColor),i=Ht(e.particlesSize),o=Ht(e.particlesSizeAttenuation),a=Ht(e.particlesTexture);e.dataMapper.entries().forEach(function(s){var l=Gi(s,2),c=l[0],u=l[1];if(u.material.size=i(c),u.material.sizeAttenuation=o(c),e.particlesTexture)u.material.color=new R1.Color(16777215),u.material.transparent=!1,u.material.alphaTest=.5,u.material.map=a(c);else{var d=r(c),f=uu(d);u.material.color=new R1.Color(yd(d)),u.material.transparent=f<1,u.material.opacity=f,u.material.alphaTest=0}})}}),Xot=window.THREE?window.THREE:{BufferGeometry:ei},Yot=function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:32;CR(this,e),n=wR(this,e),n.type="CircleLineGeometry",n.parameters={radius:r,segmentCount:i};for(var o=[],a=0;a<=i;a++){var s=(a/i-.25)*Math.PI*2;o.push({x:Math.cos(s)*r,y:Math.sin(s)*r,z:0})}return n.setFromPoints(o),n}return ER(e,t),TR(e)}(Xot.BufferGeometry),Mg=window.THREE?window.THREE:{Color:En,Group:Xs,Line:LM,LineBasicMaterial:fy,Vector3:ve},Kot=Nv.default||Nv,dde=Ko({props:{ringsData:{default:[]},ringLat:{default:"lat"},ringLng:{default:"lng"},ringAltitude:{default:.0015},ringColor:{default:function(){return"#ffffaa"},triggerUpdate:!1},ringResolution:{default:64,triggerUpdate:!1},ringMaxRadius:{default:2,triggerUpdate:!1},ringPropagationSpeed:{default:1,triggerUpdate:!1},ringRepeatPeriod:{default:700,triggerUpdate:!1}},methods:{pauseAnimation:function(e){var n;(n=e.ticker)===null||n===void 0||n.pause()},resumeAnimation:function(e){var n;(n=e.ticker)===null||n===void 0||n.resume()},_destructor:function(e){var n;(n=e.ticker)===null||n===void 0||n.dispose()}},init:function(e,n,r){var i=r.tweenGroup;Ri(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new ul(e,{objBindAttr:"__threeObjRing",removeDelay:3e4}).onCreateObj(function(){var o=new Mg.Group;return o.__globeObjType="ring",o}),n.ticker=new Kot,n.ticker.onTick.add(function(o){if(n.ringsData.length){var a=Ht(n.ringColor),s=Ht(n.ringAltitude),l=Ht(n.ringMaxRadius),c=Ht(n.ringPropagationSpeed),u=Ht(n.ringRepeatPeriod);n.dataMapper.entries().filter(function(d){var f=Gi(d,2),h=f[1];return h}).forEach(function(d){var f=Gi(d,2),h=f[0],p=f[1];if((p.__nextRingTime||0)<=o){var x=u(h)/1e3;p.__nextRingTime=o+(x<=0?1/0:x);var b=new Mg.Line(new Yot(1,n.ringResolution),new Mg.LineBasicMaterial),y=a(h),_=y instanceof Array||y instanceof Function,C;_?y instanceof Array?(C=ff().domain(y.map(function(F,$){return $/(y.length-1)})).range(y),b.material.transparent=y.some(function(F){return uu(F)<1})):(C=y,b.material.transparent=!0):(b.material.color=new Mg.Color(yd(y)),Pot(b.material,uu(y)));var E=$i*(1+s(h)),M=l(h),R=M*Math.PI/180,N=c(h),O=N<=0,I=function($){var V=$.t,U=(O?1-V:V)*R;if(b.scale.x=b.scale.y=E*Math.sin(U),b.position.z=E*(1-Math.cos(U)),_){var k=C(V);b.material.color=new Mg.Color(yd(k)),b.material.transparent&&(b.material.opacity=uu(k))}};if(N===0)I({t:0}),p.add(b);else{var L=Math.abs(M/N)*1e3;n.tweenGroup.add(new ss({t:0}).to({t:1},L).onUpdate(I).onStart(function(){return p.add(b)}).onComplete(function(){p.remove(b),_7(b)}).start())}}})}})},update:function(e){var n=Ht(e.ringLat),r=Ht(e.ringLng),i=Ht(e.ringAltitude),o=e.scene.localToWorld(new Mg.Vector3(0,0,0));e.dataMapper.onUpdateObj(function(a,s){var l=n(s),c=r(s),u=i(s);Object.assign(a.position,Rc(l,c,u)),a.lookAt(o)}).digest(e.ringsData)}}),Qot={0:{x_min:73,x_max:715,ha:792,o:"m 394 -29 q 153 129 242 -29 q 73 479 73 272 q 152 829 73 687 q 394 989 241 989 q 634 829 545 989 q 715 479 715 684 q 635 129 715 270 q 394 -29 546 -29 m 394 89 q 546 211 489 89 q 598 479 598 322 q 548 748 598 640 q 394 871 491 871 q 241 748 298 871 q 190 479 190 637 q 239 211 190 319 q 394 89 296 89 "},1:{x_min:215.671875,x_max:574,ha:792,o:"m 574 0 l 442 0 l 442 697 l 215 697 l 215 796 q 386 833 330 796 q 475 986 447 875 l 574 986 l 574 0 "},2:{x_min:59,x_max:731,ha:792,o:"m 731 0 l 59 0 q 197 314 59 188 q 457 487 199 315 q 598 691 598 580 q 543 819 598 772 q 411 867 488 867 q 272 811 328 867 q 209 630 209 747 l 81 630 q 182 901 81 805 q 408 986 271 986 q 629 909 536 986 q 731 694 731 826 q 613 449 731 541 q 378 316 495 383 q 201 122 235 234 l 731 122 l 731 0 "},3:{x_min:54,x_max:737,ha:792,o:"m 737 284 q 635 55 737 141 q 399 -25 541 -25 q 156 52 248 -25 q 54 308 54 140 l 185 308 q 245 147 185 202 q 395 96 302 96 q 539 140 484 96 q 602 280 602 190 q 510 429 602 390 q 324 454 451 454 l 324 565 q 487 584 441 565 q 565 719 565 617 q 515 835 565 791 q 395 879 466 879 q 255 824 307 879 q 203 661 203 769 l 78 661 q 166 909 78 822 q 387 992 250 992 q 603 921 513 992 q 701 723 701 844 q 669 607 701 656 q 578 524 637 558 q 696 434 655 499 q 737 284 737 369 "},4:{x_min:48,x_max:742.453125,ha:792,o:"m 742 243 l 602 243 l 602 0 l 476 0 l 476 243 l 48 243 l 48 368 l 476 958 l 602 958 l 602 354 l 742 354 l 742 243 m 476 354 l 476 792 l 162 354 l 476 354 "},5:{x_min:54.171875,x_max:738,ha:792,o:"m 738 314 q 626 60 738 153 q 382 -23 526 -23 q 155 47 248 -23 q 54 256 54 125 l 183 256 q 259 132 204 174 q 382 91 314 91 q 533 149 471 91 q 602 314 602 213 q 538 469 602 411 q 386 528 475 528 q 284 506 332 528 q 197 439 237 484 l 81 439 l 159 958 l 684 958 l 684 840 l 254 840 l 214 579 q 306 627 258 612 q 407 643 354 643 q 636 552 540 643 q 738 314 738 457 "},6:{x_min:53,x_max:739,ha:792,o:"m 739 312 q 633 62 739 162 q 400 -31 534 -31 q 162 78 257 -31 q 53 439 53 206 q 178 859 53 712 q 441 986 284 986 q 643 912 559 986 q 732 713 732 833 l 601 713 q 544 830 594 786 q 426 875 494 875 q 268 793 331 875 q 193 517 193 697 q 301 597 240 570 q 427 624 362 624 q 643 540 552 624 q 739 312 739 451 m 603 298 q 540 461 603 400 q 404 516 484 516 q 268 461 323 516 q 207 300 207 401 q 269 137 207 198 q 405 83 325 83 q 541 137 486 83 q 603 298 603 197 "},7:{x_min:58.71875,x_max:730.953125,ha:792,o:"m 730 839 q 469 448 560 641 q 335 0 378 255 l 192 0 q 328 441 235 252 q 593 830 421 630 l 58 830 l 58 958 l 730 958 l 730 839 "},8:{x_min:55,x_max:736,ha:792,o:"m 571 527 q 694 424 652 491 q 736 280 736 358 q 648 71 736 158 q 395 -26 551 -26 q 142 69 238 -26 q 55 279 55 157 q 96 425 55 359 q 220 527 138 491 q 120 615 153 562 q 88 726 88 668 q 171 904 88 827 q 395 986 261 986 q 618 905 529 986 q 702 727 702 830 q 670 616 702 667 q 571 527 638 565 m 394 565 q 519 610 475 565 q 563 717 563 655 q 521 823 563 781 q 392 872 474 872 q 265 824 312 872 q 224 720 224 783 q 265 613 224 656 q 394 565 312 565 m 395 91 q 545 150 488 91 q 597 280 597 204 q 546 408 597 355 q 395 465 492 465 q 244 408 299 465 q 194 280 194 356 q 244 150 194 203 q 395 91 299 91 "},9:{x_min:53,x_max:739,ha:792,o:"m 739 524 q 619 94 739 241 q 362 -32 516 -32 q 150 47 242 -32 q 59 244 59 126 l 191 244 q 246 129 191 176 q 373 82 301 82 q 526 161 466 82 q 597 440 597 255 q 363 334 501 334 q 130 432 216 334 q 53 650 53 521 q 134 880 53 786 q 383 986 226 986 q 659 841 566 986 q 739 524 739 719 m 388 449 q 535 514 480 449 q 585 658 585 573 q 535 805 585 744 q 388 873 480 873 q 242 809 294 873 q 191 658 191 745 q 239 514 191 572 q 388 449 292 449 "},:{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 96 88 192 -25 q 0 368 0 201 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 "},S:{x_min:0,x_max:788,ha:890,o:"m 788 291 q 662 54 788 144 q 397 -26 550 -26 q 116 68 226 -26 q 0 337 0 168 l 131 337 q 200 152 131 220 q 384 85 269 85 q 557 129 479 85 q 650 270 650 183 q 490 429 650 379 q 194 513 341 470 q 33 739 33 584 q 142 964 33 881 q 388 1041 242 1041 q 644 957 543 1041 q 756 716 756 867 l 625 716 q 561 874 625 816 q 395 933 497 933 q 243 891 309 933 q 164 759 164 841 q 325 609 164 656 q 625 526 475 568 q 788 291 788 454 "},"":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},"/":{x_min:183.25,x_max:608.328125,ha:792,o:"m 608 1041 l 266 -129 l 183 -129 l 520 1041 l 608 1041 "},:{x_min:-.4375,x_max:777.453125,ha:839,o:"m 777 893 l 458 893 l 458 0 l 319 0 l 319 892 l 0 892 l 0 1013 l 777 1013 l 777 893 "},y:{x_min:0,x_max:684.78125,ha:771,o:"m 684 738 l 388 -83 q 311 -216 356 -167 q 173 -279 252 -279 q 97 -266 133 -279 l 97 -149 q 132 -155 109 -151 q 168 -160 155 -160 q 240 -114 213 -160 q 274 -26 248 -98 l 0 738 l 137 737 l 341 139 l 548 737 l 684 738 "},:{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 803 1012 l 803 0 "},:{x_min:-111,x_max:339,ha:361,o:"m 339 800 l 229 800 l 229 925 l 339 925 l 339 800 m -1 800 l -111 800 l -111 925 l -1 925 l -1 800 m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 m 302 1040 l 113 819 l 30 819 l 165 1040 l 302 1040 "},g:{x_min:0,x_max:686,ha:838,o:"m 686 34 q 586 -213 686 -121 q 331 -306 487 -306 q 131 -252 216 -306 q 31 -84 31 -190 l 155 -84 q 228 -174 166 -138 q 345 -207 284 -207 q 514 -109 454 -207 q 564 89 564 -27 q 461 6 521 36 q 335 -23 401 -23 q 88 100 184 -23 q 0 370 0 215 q 87 634 0 522 q 330 758 183 758 q 457 728 398 758 q 564 644 515 699 l 564 737 l 686 737 l 686 34 m 582 367 q 529 560 582 481 q 358 652 468 652 q 189 561 250 652 q 135 369 135 482 q 189 176 135 255 q 361 85 251 85 q 529 176 468 85 q 582 367 582 255 "},"":{x_min:0,x_max:442,ha:539,o:"m 442 383 l 0 383 q 91 566 0 492 q 260 668 176 617 q 354 798 354 727 q 315 875 354 845 q 227 905 277 905 q 136 869 173 905 q 99 761 99 833 l 14 761 q 82 922 14 864 q 232 974 141 974 q 379 926 316 974 q 442 797 442 878 q 351 635 442 704 q 183 539 321 611 q 92 455 92 491 l 442 455 l 442 383 "},"":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},:{x_min:0,x_max:819.5625,ha:893,o:"m 819 0 l 650 0 l 294 509 l 139 356 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},:{x_min:-46.265625,x_max:392,ha:513,o:"m 392 651 l 259 651 l 79 -279 l -46 -278 l 134 651 l 14 651 l 14 751 l 135 751 q 151 948 135 900 q 304 1041 185 1041 q 334 1040 319 1041 q 392 1034 348 1039 l 392 922 q 337 931 360 931 q 271 883 287 931 q 260 793 260 853 l 260 751 l 392 751 l 392 651 "},e:{x_min:0,x_max:714,ha:813,o:"m 714 326 l 140 326 q 200 157 140 227 q 359 87 260 87 q 488 130 431 87 q 561 245 545 174 l 697 245 q 577 48 670 123 q 358 -26 484 -26 q 97 85 195 -26 q 0 363 0 197 q 94 642 0 529 q 358 765 195 765 q 626 627 529 765 q 714 326 714 503 m 576 429 q 507 583 564 522 q 355 650 445 650 q 206 583 266 650 q 140 429 152 522 l 576 429 "},:{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 94 91 194 -25 q 0 368 0 202 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 m 576 1040 l 387 819 l 303 819 l 438 1040 l 576 1040 "},J:{x_min:0,x_max:588,ha:699,o:"m 588 279 q 287 -26 588 -26 q 58 73 126 -26 q 0 327 0 158 l 133 327 q 160 172 133 227 q 288 96 198 96 q 426 171 391 96 q 449 336 449 219 l 449 1013 l 588 1013 l 588 279 "},"":{x_min:-1,x_max:503,ha:601,o:"m 503 302 l 280 136 l 281 256 l 429 373 l 281 486 l 280 608 l 503 440 l 503 302 m 221 302 l 0 136 l 0 255 l 145 372 l 0 486 l -1 608 l 221 440 l 221 302 "},"":{x_min:-3,x_max:1008,ha:1106,o:"m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 741 394 q 661 246 731 302 q 496 190 591 190 q 294 285 369 190 q 228 497 228 370 q 295 714 228 625 q 499 813 370 813 q 656 762 588 813 q 733 625 724 711 l 634 625 q 589 704 629 673 q 498 735 550 735 q 377 666 421 735 q 334 504 334 597 q 374 340 334 408 q 490 272 415 272 q 589 304 549 272 q 638 394 628 337 l 741 394 "},:{x_min:0,x_max:922,ha:1030,o:"m 687 1040 l 498 819 l 415 819 l 549 1040 l 687 1040 m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 338 0 202 q 45 551 0 444 q 161 737 84 643 l 302 737 q 175 552 219 647 q 124 336 124 446 q 155 179 124 248 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 341 797 257 q 745 555 797 450 q 619 737 705 637 l 760 737 q 874 551 835 640 q 922 339 922 444 "},"^":{x_min:193.0625,x_max:598.609375,ha:792,o:"m 598 772 l 515 772 l 395 931 l 277 772 l 193 772 l 326 1013 l 462 1013 l 598 772 "},"":{x_min:0,x_max:507.203125,ha:604,o:"m 506 136 l 284 302 l 284 440 l 506 608 l 507 485 l 360 371 l 506 255 l 506 136 m 222 136 l 0 302 l 0 440 l 222 608 l 221 486 l 73 373 l 222 256 l 222 136 "},D:{x_min:0,x_max:828,ha:935,o:"m 389 1013 q 714 867 593 1013 q 828 521 828 729 q 712 161 828 309 q 382 0 587 0 l 0 0 l 0 1013 l 389 1013 m 376 124 q 607 247 523 124 q 681 510 681 355 q 607 771 681 662 q 376 896 522 896 l 139 896 l 139 124 l 376 124 "},"":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},:{x_min:0,x_max:47,ha:125,o:"m 47 3 q 37 -7 47 -7 q 28 0 30 -7 q 39 -4 32 -4 q 45 3 45 -1 l 37 0 q 28 9 28 0 q 39 19 28 19 l 47 16 l 47 19 l 47 3 m 37 1 q 44 8 44 1 q 37 16 44 16 q 30 8 30 16 q 37 1 30 1 m 26 1 l 23 22 l 14 0 l 3 22 l 3 3 l 0 25 l 13 1 l 22 25 l 26 1 "},w:{x_min:0,x_max:1009.71875,ha:1100,o:"m 1009 738 l 783 0 l 658 0 l 501 567 l 345 0 l 222 0 l 0 738 l 130 738 l 284 174 l 432 737 l 576 738 l 721 173 l 881 737 l 1009 738 "},$:{x_min:0,x_max:700,ha:793,o:"m 664 717 l 542 717 q 490 825 531 785 q 381 872 450 865 l 381 551 q 620 446 540 522 q 700 241 700 370 q 618 45 700 116 q 381 -25 536 -25 l 381 -152 l 307 -152 l 307 -25 q 81 62 162 -25 q 0 297 0 149 l 124 297 q 169 146 124 204 q 307 81 215 89 l 307 441 q 80 536 148 469 q 13 725 13 603 q 96 910 13 839 q 307 982 180 982 l 307 1077 l 381 1077 l 381 982 q 574 917 494 982 q 664 717 664 845 m 307 565 l 307 872 q 187 831 233 872 q 142 724 142 791 q 180 618 142 656 q 307 565 218 580 m 381 76 q 562 237 562 96 q 517 361 562 313 q 381 423 472 409 l 381 76 "},"\\":{x_min:-.015625,x_max:425.0625,ha:522,o:"m 425 -129 l 337 -129 l 0 1041 l 83 1041 l 425 -129 "},:{x_min:0,x_max:697.21875,ha:747,o:"m 697 -4 q 629 -14 658 -14 q 498 97 513 -14 q 422 9 470 41 q 313 -23 374 -23 q 207 4 258 -23 q 119 81 156 32 l 119 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 173 124 246 q 308 83 216 83 q 452 178 402 83 q 493 359 493 255 l 493 738 l 617 738 l 617 214 q 623 136 617 160 q 673 92 637 92 q 697 96 684 92 l 697 -4 "},:{x_min:42,x_max:181,ha:297,o:"m 181 0 l 42 0 l 42 1013 l 181 1013 l 181 0 "},:{x_min:0,x_max:1144.5,ha:1214,o:"m 1144 1012 l 807 416 l 807 0 l 667 0 l 667 416 l 325 1012 l 465 1012 l 736 533 l 1004 1012 l 1144 1012 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},:{x_min:0,x_max:801,ha:915,o:"m 801 0 l 651 0 l 131 822 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 191 l 670 1013 l 801 1013 l 801 0 "},"-":{x_min:8.71875,x_max:350.390625,ha:478,o:"m 350 317 l 8 317 l 8 428 l 350 428 l 350 317 "},Q:{x_min:0,x_max:968,ha:1072,o:"m 954 5 l 887 -79 l 744 35 q 622 -11 687 2 q 483 -26 556 -26 q 127 130 262 -26 q 0 504 0 279 q 127 880 0 728 q 484 1041 262 1041 q 841 884 708 1041 q 968 507 968 735 q 933 293 968 398 q 832 104 899 188 l 954 5 m 723 191 q 802 330 777 248 q 828 499 828 412 q 744 790 828 673 q 483 922 650 922 q 228 791 322 922 q 142 505 142 673 q 227 221 142 337 q 487 91 323 91 q 632 123 566 91 l 520 215 l 587 301 l 723 191 "},:{x_min:1,x_max:676.28125,ha:740,o:"m 676 460 l 551 460 q 498 595 542 546 q 365 651 448 651 q 199 578 263 651 q 136 401 136 505 q 266 178 136 241 q 508 106 387 142 q 640 -50 640 62 q 625 -158 640 -105 q 583 -278 611 -211 l 465 -278 q 498 -182 490 -211 q 515 -80 515 -126 q 381 12 515 -15 q 134 91 197 51 q 1 388 1 179 q 100 651 1 542 q 354 761 199 761 q 587 680 498 761 q 676 460 676 599 "},M:{x_min:0,x_max:954,ha:1067,o:"m 954 0 l 819 0 l 819 869 l 537 0 l 405 0 l 128 866 l 128 0 l 0 0 l 0 1013 l 200 1013 l 472 160 l 757 1013 l 954 1013 l 954 0 "},:{x_min:0,x_max:1006,ha:1094,o:"m 1006 678 q 914 319 1006 429 q 571 200 814 200 l 571 0 l 433 0 l 433 200 q 92 319 194 200 q 0 678 0 429 l 0 1013 l 139 1013 l 139 679 q 191 417 139 492 q 433 326 255 326 l 433 1013 l 571 1013 l 571 326 l 580 326 q 813 423 747 326 q 868 679 868 502 l 868 1013 l 1006 1013 l 1006 678 "},C:{x_min:0,x_max:886,ha:944,o:"m 886 379 q 760 87 886 201 q 455 -26 634 -26 q 112 136 236 -26 q 0 509 0 283 q 118 882 0 737 q 469 1041 245 1041 q 748 955 630 1041 q 879 708 879 859 l 745 708 q 649 862 724 805 q 473 920 573 920 q 219 791 312 920 q 136 509 136 675 q 217 229 136 344 q 470 99 311 99 q 672 179 591 99 q 753 379 753 259 l 886 379 "},"!":{x_min:0,x_max:138,ha:236,o:"m 138 684 q 116 409 138 629 q 105 244 105 299 l 33 244 q 16 465 33 313 q 0 684 0 616 l 0 1013 l 138 1013 l 138 684 m 138 0 l 0 0 l 0 151 l 138 151 l 138 0 "},"{":{x_min:0,x_max:480.5625,ha:578,o:"m 480 -286 q 237 -213 303 -286 q 187 -45 187 -159 q 194 48 187 -15 q 201 141 201 112 q 164 264 201 225 q 0 314 118 314 l 0 417 q 164 471 119 417 q 201 605 201 514 q 199 665 201 644 q 193 772 193 769 q 241 941 193 887 q 480 1015 308 1015 l 480 915 q 336 866 375 915 q 306 742 306 828 q 310 662 306 717 q 314 577 314 606 q 288 452 314 500 q 176 365 256 391 q 289 275 257 337 q 314 143 314 226 q 313 84 314 107 q 310 -11 310 -5 q 339 -131 310 -94 q 480 -182 377 -182 l 480 -286 "},X:{x_min:-.015625,x_max:854.15625,ha:940,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 428 637 l 675 1013 l 836 1013 l 504 520 l 854 0 "},"#":{x_min:0,x_max:963.890625,ha:1061,o:"m 963 690 l 927 590 l 719 590 l 655 410 l 876 410 l 840 310 l 618 310 l 508 -3 l 393 -2 l 506 309 l 329 310 l 215 -2 l 102 -3 l 212 310 l 0 310 l 36 410 l 248 409 l 312 590 l 86 590 l 120 690 l 347 690 l 459 1006 l 573 1006 l 462 690 l 640 690 l 751 1006 l 865 1006 l 754 690 l 963 690 m 606 590 l 425 590 l 362 410 l 543 410 l 606 590 "},:{x_min:42,x_max:284,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 738 l 167 738 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 "},:{x_min:0,x_max:906.953125,ha:982,o:"m 283 1040 l 88 799 l 5 799 l 145 1040 l 283 1040 m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1012 l 529 1012 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},")":{x_min:0,x_max:318,ha:415,o:"m 318 365 q 257 25 318 191 q 87 -290 197 -141 l 0 -290 q 140 21 93 -128 q 193 360 193 189 q 141 704 193 537 q 0 1024 97 850 l 87 1024 q 257 706 197 871 q 318 365 318 542 "},:{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 314 0 265 q 128 390 67 353 q 56 460 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 "},:{x_min:0,x_max:952.78125,ha:1028,o:"m 952 0 l 0 0 l 400 1013 l 551 1013 l 952 0 m 762 124 l 476 867 l 187 124 l 762 124 "},"}":{x_min:0,x_max:481,ha:578,o:"m 481 314 q 318 262 364 314 q 282 136 282 222 q 284 65 282 97 q 293 -58 293 -48 q 241 -217 293 -166 q 0 -286 174 -286 l 0 -182 q 143 -130 105 -182 q 171 -2 171 -93 q 168 81 171 22 q 165 144 165 140 q 188 275 165 229 q 306 365 220 339 q 191 455 224 391 q 165 588 165 505 q 168 681 165 624 q 171 742 171 737 q 141 865 171 827 q 0 915 102 915 l 0 1015 q 243 942 176 1015 q 293 773 293 888 q 287 675 293 741 q 282 590 282 608 q 318 466 282 505 q 481 417 364 417 l 481 314 "},"":{x_min:-3,x_max:1672,ha:1821,o:"m 846 0 q 664 76 732 0 q 603 244 603 145 q 662 412 603 344 q 846 489 729 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 846 0 962 0 m 845 103 q 945 143 910 103 q 981 243 981 184 q 947 340 981 301 q 845 385 910 385 q 745 342 782 385 q 709 243 709 300 q 742 147 709 186 q 845 103 781 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 m 1428 0 q 1246 76 1314 0 q 1185 244 1185 145 q 1244 412 1185 344 q 1428 489 1311 489 q 1610 412 1542 489 q 1672 244 1672 343 q 1612 76 1672 144 q 1428 0 1545 0 m 1427 103 q 1528 143 1492 103 q 1564 243 1564 184 q 1530 340 1564 301 q 1427 385 1492 385 q 1327 342 1364 385 q 1291 243 1291 300 q 1324 147 1291 186 q 1427 103 1363 103 "},a:{x_min:0,x_max:698.609375,ha:794,o:"m 698 0 q 661 -12 679 -7 q 615 -17 643 -17 q 536 12 564 -17 q 500 96 508 41 q 384 6 456 37 q 236 -25 312 -25 q 65 31 130 -25 q 0 194 0 88 q 118 390 0 334 q 328 435 180 420 q 488 483 476 451 q 495 523 495 504 q 442 619 495 584 q 325 654 389 654 q 209 617 257 654 q 152 513 161 580 l 33 513 q 123 705 33 633 q 332 772 207 772 q 528 712 448 772 q 617 531 617 645 l 617 163 q 624 108 617 126 q 664 90 632 90 l 698 94 l 698 0 m 491 262 l 491 372 q 272 329 350 347 q 128 201 128 294 q 166 113 128 144 q 264 83 205 83 q 414 130 346 83 q 491 262 491 183 "},"":{x_min:0,x_max:941.671875,ha:1039,o:"m 941 334 l 0 334 l 0 410 l 941 410 l 941 334 "},"=":{x_min:8.71875,x_max:780.953125,ha:792,o:"m 780 510 l 8 510 l 8 606 l 780 606 l 780 510 m 780 235 l 8 235 l 8 332 l 780 332 l 780 235 "},N:{x_min:0,x_max:801,ha:914,o:"m 801 0 l 651 0 l 131 823 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 193 l 670 1013 l 801 1013 l 801 0 "},:{x_min:0,x_max:712,ha:797,o:"m 712 369 q 620 94 712 207 q 362 -26 521 -26 q 230 2 292 -26 q 119 83 167 30 l 119 -278 l 0 -278 l 0 362 q 91 643 0 531 q 355 764 190 764 q 617 647 517 764 q 712 369 712 536 m 583 366 q 530 559 583 480 q 359 651 469 651 q 190 562 252 651 q 135 370 135 483 q 189 176 135 257 q 359 85 250 85 q 528 175 466 85 q 583 366 583 254 "},"":{x_min:0,x_max:941.671875,ha:938,o:"m 941 1033 l 0 1033 l 0 1109 l 941 1109 l 941 1033 "},Z:{x_min:0,x_max:779,ha:849,o:"m 779 0 l 0 0 l 0 113 l 621 896 l 40 896 l 40 1013 l 779 1013 l 778 887 l 171 124 l 779 124 l 779 0 "},u:{x_min:0,x_max:617,ha:729,o:"m 617 0 l 499 0 l 499 110 q 391 10 460 45 q 246 -25 322 -25 q 61 58 127 -25 q 0 258 0 136 l 0 738 l 125 738 l 125 284 q 156 148 125 202 q 273 82 197 82 q 433 165 369 82 q 493 340 493 243 l 493 738 l 617 738 l 617 0 "},k:{x_min:0,x_max:612.484375,ha:697,o:"m 612 738 l 338 465 l 608 0 l 469 0 l 251 382 l 121 251 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 402 l 456 738 l 612 738 "},:{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},:{x_min:0,x_max:906.953125,ha:985,o:"m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},s:{x_min:0,x_max:604,ha:697,o:"m 604 217 q 501 36 604 104 q 292 -23 411 -23 q 86 43 166 -23 q 0 238 0 114 l 121 237 q 175 122 121 164 q 300 85 223 85 q 415 112 363 85 q 479 207 479 147 q 361 309 479 276 q 140 372 141 370 q 21 544 21 426 q 111 708 21 647 q 298 761 190 761 q 492 705 413 761 q 583 531 583 643 l 462 531 q 412 625 462 594 q 298 657 363 657 q 199 636 242 657 q 143 558 143 608 q 262 454 143 486 q 484 394 479 397 q 604 217 604 341 "},B:{x_min:0,x_max:778,ha:876,o:"m 580 546 q 724 469 670 535 q 778 311 778 403 q 673 83 778 171 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 892 q 691 633 732 693 q 580 546 650 572 m 393 899 l 139 899 l 139 588 l 379 588 q 521 624 462 588 q 592 744 592 667 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 303 635 219 q 559 436 635 389 q 402 477 494 477 l 139 477 l 139 124 l 419 124 "},"":{x_min:0,x_max:614,ha:708,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 m 378 0 l 236 0 l 236 151 l 378 151 l 378 0 m 614 0 l 472 0 l 472 151 l 614 151 l 614 0 "},"?":{x_min:0,x_max:607,ha:704,o:"m 607 777 q 543 599 607 674 q 422 474 482 537 q 357 272 357 391 l 236 272 q 297 487 236 395 q 411 619 298 490 q 474 762 474 691 q 422 885 474 838 q 301 933 371 933 q 179 880 228 933 q 124 706 124 819 l 0 706 q 94 963 0 872 q 302 1044 177 1044 q 511 973 423 1044 q 607 777 607 895 m 370 0 l 230 0 l 230 151 l 370 151 l 370 0 "},H:{x_min:0,x_max:803,ha:915,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},:{x_min:0,x_max:675,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 738 l 340 147 l 541 738 l 675 738 "},c:{x_min:1,x_max:701.390625,ha:775,o:"m 701 264 q 584 53 681 133 q 353 -26 487 -26 q 91 91 188 -26 q 1 370 1 201 q 92 645 1 537 q 353 761 190 761 q 572 688 479 761 q 690 493 666 615 l 556 493 q 487 606 545 562 q 356 650 428 650 q 186 563 246 650 q 134 372 134 487 q 188 179 134 258 q 359 88 250 88 q 492 136 437 88 q 566 264 548 185 l 701 264 "},"":{x_min:0,x_max:566.671875,ha:678,o:"m 21 892 l 52 892 l 98 761 l 145 892 l 176 892 l 178 741 l 157 741 l 157 867 l 108 741 l 88 741 l 40 871 l 40 741 l 21 741 l 21 892 m 308 854 l 308 731 q 252 691 308 691 q 227 691 240 691 q 207 696 213 695 l 207 712 l 253 706 q 288 733 288 706 l 288 763 q 244 741 279 741 q 193 797 193 741 q 261 860 193 860 q 287 860 273 860 q 308 854 302 855 m 288 842 l 263 843 q 213 796 213 843 q 248 756 213 756 q 288 796 288 756 l 288 842 m 566 988 l 502 988 l 502 -1 l 439 -1 l 439 988 l 317 988 l 317 -1 l 252 -1 l 252 602 q 81 653 155 602 q 0 805 0 711 q 101 989 0 918 q 309 1053 194 1053 l 566 1053 l 566 988 "},:{x_min:0,x_max:660,ha:745,o:"m 471 550 q 610 450 561 522 q 660 280 660 378 q 578 64 660 151 q 367 -22 497 -22 q 239 5 299 -22 q 126 82 178 32 l 126 -278 l 0 -278 l 0 593 q 54 903 0 801 q 318 1042 127 1042 q 519 964 436 1042 q 603 771 603 887 q 567 644 603 701 q 471 550 532 586 m 337 79 q 476 138 418 79 q 535 279 535 198 q 427 437 535 386 q 226 477 344 477 l 226 583 q 398 620 329 583 q 486 762 486 668 q 435 884 486 833 q 312 935 384 935 q 169 861 219 935 q 126 698 126 797 l 126 362 q 170 169 126 242 q 337 79 224 79 "},:{x_min:0,x_max:954,ha:1068,o:"m 954 0 l 819 0 l 819 868 l 537 0 l 405 0 l 128 865 l 128 0 l 0 0 l 0 1013 l 199 1013 l 472 158 l 758 1013 l 954 1013 l 954 0 "},:{x_min:.109375,x_max:1120,ha:1217,o:"m 1120 505 q 994 132 1120 282 q 642 -29 861 -29 q 290 130 422 -29 q 167 505 167 280 q 294 883 167 730 q 650 1046 430 1046 q 999 882 868 1046 q 1120 505 1120 730 m 977 504 q 896 784 977 669 q 644 915 804 915 q 391 785 484 915 q 307 504 307 669 q 391 224 307 339 q 644 95 486 95 q 894 224 803 95 q 977 504 977 339 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},:{x_min:0,x_max:1158,ha:1275,o:"m 1158 0 l 1022 0 l 1022 475 l 496 475 l 496 0 l 356 0 l 356 1012 l 496 1012 l 496 599 l 1022 599 l 1022 1012 l 1158 1012 l 1158 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"":{x_min:0,x_max:663.890625,ha:775,o:"m 663 529 q 566 293 663 391 q 331 196 469 196 q 97 294 194 196 q 0 529 0 393 q 96 763 0 665 q 331 861 193 861 q 566 763 469 861 q 663 529 663 665 "},"":{x_min:.1875,x_max:819.546875,ha:886,o:"m 563 561 l 697 561 l 696 487 l 520 487 l 482 416 l 482 380 l 697 380 l 695 308 l 482 308 l 482 0 l 342 0 l 342 308 l 125 308 l 125 380 l 342 380 l 342 417 l 303 487 l 125 487 l 125 561 l 258 561 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 l 563 561 "},"(":{x_min:0,x_max:318.0625,ha:415,o:"m 318 -290 l 230 -290 q 61 23 122 -142 q 0 365 0 190 q 62 712 0 540 q 230 1024 119 869 l 318 1024 q 175 705 219 853 q 125 360 125 542 q 176 22 125 187 q 318 -290 223 -127 "},U:{x_min:0,x_max:796,ha:904,o:"m 796 393 q 681 93 796 212 q 386 -25 566 -25 q 101 95 208 -25 q 0 393 0 211 l 0 1013 l 138 1013 l 138 391 q 204 191 138 270 q 394 107 276 107 q 586 191 512 107 q 656 391 656 270 l 656 1013 l 796 1013 l 796 393 "},:{x_min:.5,x_max:744.953125,ha:822,o:"m 744 737 l 463 54 l 463 -278 l 338 -278 l 338 54 l 154 495 q 104 597 124 569 q 13 651 67 651 l 0 651 l 0 751 l 39 753 q 168 711 121 753 q 242 594 207 676 l 403 208 l 617 737 l 744 737 "},:{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 728 407 760 q 563 637 524 696 l 563 739 l 685 739 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 96 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 "},F:{x_min:0,x_max:683.328125,ha:717,o:"m 683 888 l 140 888 l 140 583 l 613 583 l 613 458 l 140 458 l 140 0 l 0 0 l 0 1013 l 683 1013 l 683 888 "},"":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},":":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},:{x_min:0,x_max:854.171875,ha:935,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 427 637 l 675 1013 l 836 1013 l 504 521 l 854 0 "},"*":{x_min:116,x_max:674,ha:792,o:"m 674 768 l 475 713 l 610 544 l 517 477 l 394 652 l 272 478 l 178 544 l 314 713 l 116 766 l 153 876 l 341 812 l 342 1013 l 446 1013 l 446 811 l 635 874 l 674 768 "},"":{x_min:0,x_max:777,ha:835,o:"m 458 804 l 777 804 l 777 683 l 458 683 l 458 0 l 319 0 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 "},"":{x_min:0,x_max:347,ha:444,o:"m 173 802 q 43 856 91 802 q 0 977 0 905 q 45 1101 0 1049 q 173 1153 90 1153 q 303 1098 255 1153 q 347 977 347 1049 q 303 856 347 905 q 173 802 256 802 m 173 884 q 238 910 214 884 q 262 973 262 937 q 239 1038 262 1012 q 173 1064 217 1064 q 108 1037 132 1064 q 85 973 85 1010 q 108 910 85 937 q 173 884 132 884 "},V:{x_min:0,x_max:862.71875,ha:940,o:"m 862 1013 l 505 0 l 361 0 l 0 1013 l 143 1013 l 434 165 l 718 1012 l 862 1013 "},:{x_min:0,x_max:734.71875,ha:763,o:"m 723 889 l 9 889 l 9 1013 l 723 1013 l 723 889 m 673 463 l 61 463 l 61 589 l 673 589 l 673 463 m 734 0 l 0 0 l 0 124 l 734 124 l 734 0 "},"":{x_min:0,x_max:0,ha:853},:{x_min:.328125,x_max:819.515625,ha:889,o:"m 588 1046 l 460 1046 l 460 1189 l 588 1189 l 588 1046 m 360 1046 l 232 1046 l 232 1189 l 360 1189 l 360 1046 m 819 1012 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1012 l 140 1012 l 411 533 l 679 1012 l 819 1012 "},"":{x_min:0,x_max:347,ha:454,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 m 347 851 q 310 737 347 784 q 208 669 273 690 l 208 734 q 267 787 250 741 q 280 873 280 821 l 208 873 l 208 1013 l 347 1013 l 347 851 "},"@":{x_min:0,x_max:1260,ha:1357,o:"m 1098 -45 q 877 -160 1001 -117 q 633 -203 752 -203 q 155 -29 327 -203 q 0 360 0 127 q 176 802 0 616 q 687 1008 372 1008 q 1123 854 969 1008 q 1260 517 1260 718 q 1155 216 1260 341 q 868 82 1044 82 q 772 106 801 82 q 737 202 737 135 q 647 113 700 144 q 527 82 594 82 q 367 147 420 82 q 314 312 314 212 q 401 565 314 452 q 639 690 498 690 q 810 588 760 690 l 849 668 l 938 668 q 877 441 900 532 q 833 226 833 268 q 853 182 833 198 q 902 167 873 167 q 1088 272 1012 167 q 1159 512 1159 372 q 1051 793 1159 681 q 687 925 925 925 q 248 747 415 925 q 97 361 97 586 q 226 26 97 159 q 627 -122 370 -122 q 856 -87 737 -122 q 1061 8 976 -53 l 1098 -45 m 786 488 q 738 580 777 545 q 643 615 700 615 q 483 517 548 615 q 425 322 425 430 q 457 203 425 250 q 552 156 490 156 q 722 273 665 156 q 786 488 738 309 "},:{x_min:0,x_max:499,ha:613,o:"m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 m 499 0 l 360 0 l 360 1012 l 499 1012 l 499 0 "},i:{x_min:14,x_max:136,ha:275,o:"m 136 873 l 14 873 l 14 1013 l 136 1013 l 136 873 m 136 0 l 14 0 l 14 737 l 136 737 l 136 0 "},:{x_min:0,x_max:778,ha:877,o:"m 580 545 q 724 468 671 534 q 778 310 778 402 q 673 83 778 170 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 891 q 691 632 732 692 q 580 545 650 571 m 393 899 l 139 899 l 139 587 l 379 587 q 521 623 462 587 q 592 744 592 666 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 302 635 219 q 559 435 635 388 q 402 476 494 476 l 139 476 l 139 124 l 419 124 "},:{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 94 617 199 q 308 -24 455 -24 q 76 94 161 -24 q 0 352 0 199 l 0 739 l 126 739 l 126 355 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 355 492 257 l 492 739 l 617 739 l 617 352 "},"]":{x_min:0,x_max:275,ha:372,o:"m 275 -281 l 0 -281 l 0 -187 l 151 -187 l 151 920 l 0 920 l 0 1013 l 275 1013 l 275 -281 "},m:{x_min:0,x_max:1019,ha:1128,o:"m 1019 0 l 897 0 l 897 454 q 860 591 897 536 q 739 660 816 660 q 613 586 659 660 q 573 436 573 522 l 573 0 l 447 0 l 447 455 q 412 591 447 535 q 294 657 372 657 q 165 586 213 657 q 122 437 122 521 l 122 0 l 0 0 l 0 738 l 117 738 l 117 640 q 202 730 150 697 q 316 763 254 763 q 437 730 381 763 q 525 642 494 697 q 621 731 559 700 q 753 763 682 763 q 943 694 867 763 q 1019 512 1019 625 l 1019 0 "},:{x_min:8.328125,x_max:780.5625,ha:815,o:"m 780 -278 q 715 -294 747 -294 q 616 -257 663 -294 q 548 -175 576 -227 l 379 133 l 143 -277 l 9 -277 l 313 254 l 163 522 q 127 586 131 580 q 36 640 91 640 q 8 637 27 640 l 8 752 l 52 757 q 162 719 113 757 q 236 627 200 690 l 383 372 l 594 737 l 726 737 l 448 250 l 625 -69 q 670 -153 647 -110 q 743 -188 695 -188 q 780 -184 759 -188 l 780 -278 "},:{x_min:42,x_max:326.71875,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 102 239 101 q 284 112 257 104 l 284 3 m 326 1040 l 137 819 l 54 819 l 189 1040 l 326 1040 "},:{x_min:0,x_max:779.171875,ha:850,o:"m 779 0 l 0 0 l 0 113 l 620 896 l 40 896 l 40 1013 l 779 1013 l 779 887 l 170 124 l 779 124 l 779 0 "},R:{x_min:0,x_max:781.953125,ha:907,o:"m 781 0 l 623 0 q 587 242 590 52 q 407 433 585 433 l 138 433 l 138 0 l 0 0 l 0 1013 l 396 1013 q 636 946 539 1013 q 749 731 749 868 q 711 597 749 659 q 608 502 674 534 q 718 370 696 474 q 729 207 722 352 q 781 26 736 62 l 781 0 m 373 551 q 533 594 465 551 q 614 731 614 645 q 532 859 614 815 q 373 896 465 896 l 138 896 l 138 551 l 373 551 "},o:{x_min:0,x_max:713,ha:821,o:"m 357 -25 q 94 91 194 -25 q 0 368 0 202 q 93 642 0 533 q 357 761 193 761 q 618 644 518 761 q 713 368 713 533 q 619 91 713 201 q 357 -25 521 -25 m 357 85 q 528 175 465 85 q 584 369 584 255 q 529 562 584 484 q 357 651 467 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 357 85 250 85 "},K:{x_min:0,x_max:819.46875,ha:906,o:"m 819 0 l 649 0 l 294 509 l 139 355 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},",":{x_min:0,x_max:142,ha:239,o:"m 142 -12 q 105 -132 142 -82 q 0 -205 68 -182 l 0 -138 q 57 -82 40 -124 q 70 0 70 -51 l 0 0 l 0 151 l 142 151 l 142 -12 "},d:{x_min:0,x_max:683,ha:796,o:"m 683 0 l 564 0 l 564 93 q 456 6 516 38 q 327 -25 395 -25 q 87 100 181 -25 q 0 365 0 215 q 90 639 0 525 q 343 763 187 763 q 564 647 486 763 l 564 1013 l 683 1013 l 683 0 m 582 373 q 529 562 582 484 q 361 653 468 653 q 190 561 253 653 q 135 365 135 479 q 189 175 135 254 q 358 85 251 85 q 529 178 468 85 q 582 373 582 258 "},"":{x_min:-109,x_max:247,ha:232,o:"m 247 1046 l 119 1046 l 119 1189 l 247 1189 l 247 1046 m 19 1046 l -109 1046 l -109 1189 l 19 1189 l 19 1046 "},E:{x_min:0,x_max:736.109375,ha:789,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},Y:{x_min:0,x_max:820,ha:886,o:"m 820 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 534 l 679 1012 l 820 1013 "},'"':{x_min:0,x_max:299,ha:396,o:"m 299 606 l 203 606 l 203 988 l 299 988 l 299 606 m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"":{x_min:0,x_max:364,ha:467,o:"m 141 -12 q 104 -132 141 -82 q 0 -205 67 -182 l 0 -138 q 56 -82 40 -124 q 69 0 69 -51 l 0 0 l 0 151 l 141 151 l 141 -12 m 364 -12 q 327 -132 364 -82 q 222 -205 290 -182 l 222 -138 q 279 -82 262 -124 q 292 0 292 -51 l 222 0 l 222 151 l 364 151 l 364 -12 "},:{x_min:1,x_max:710,ha:810,o:"m 710 360 q 616 87 710 196 q 356 -28 518 -28 q 99 82 197 -28 q 1 356 1 192 q 100 606 1 509 q 355 703 199 703 q 180 829 288 754 q 70 903 124 866 l 70 1012 l 643 1012 l 643 901 l 258 901 q 462 763 422 794 q 636 592 577 677 q 710 360 710 485 m 584 365 q 552 501 584 447 q 451 602 521 555 q 372 611 411 611 q 197 541 258 611 q 136 355 136 472 q 190 171 136 245 q 358 85 252 85 q 528 173 465 85 q 584 365 584 252 "},:{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 313 0 265 q 128 390 67 352 q 56 459 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 m 520 1040 l 331 819 l 248 819 l 383 1040 l 520 1040 "},:{x_min:0,x_max:922,ha:1031,o:"m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 339 0 203 q 45 551 0 444 q 161 738 84 643 l 302 738 q 175 553 219 647 q 124 336 124 446 q 155 179 124 249 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 342 797 257 q 745 556 797 450 q 619 738 705 638 l 760 738 q 874 551 835 640 q 922 339 922 444 "},"":{x_min:0,x_max:96,ha:251,o:"m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"":{x_min:11,x_max:781,ha:792,o:"m 781 490 l 446 490 l 446 255 l 349 255 l 349 490 l 11 490 l 11 586 l 349 586 l 349 819 l 446 819 l 446 586 l 781 586 l 781 490 m 781 21 l 11 21 l 11 115 l 781 115 l 781 21 "},"|":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},:{x_min:0,x_max:617,ha:725,o:"m 482 800 l 372 800 l 372 925 l 482 925 l 482 800 m 239 800 l 129 800 l 129 925 l 239 925 l 239 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 "},"":{x_min:0,x_max:593,ha:690,o:"m 593 425 q 554 312 593 369 q 467 233 516 254 q 537 83 537 172 q 459 -74 537 -12 q 288 -133 387 -133 q 115 -69 184 -133 q 47 96 47 -6 l 166 96 q 199 7 166 40 q 288 -26 232 -26 q 371 -5 332 -26 q 420 60 420 21 q 311 201 420 139 q 108 309 210 255 q 0 490 0 383 q 33 602 0 551 q 124 687 66 654 q 75 743 93 712 q 58 812 58 773 q 133 984 58 920 q 300 1043 201 1043 q 458 987 394 1043 q 529 814 529 925 l 411 814 q 370 908 404 877 q 289 939 336 939 q 213 911 246 939 q 180 841 180 883 q 286 720 180 779 q 484 612 480 615 q 593 425 593 534 m 467 409 q 355 544 467 473 q 196 630 228 612 q 146 587 162 609 q 124 525 124 558 q 239 387 124 462 q 398 298 369 315 q 448 345 429 316 q 467 409 467 375 "},b:{x_min:0,x_max:685,ha:783,o:"m 685 372 q 597 99 685 213 q 347 -25 501 -25 q 219 5 277 -25 q 121 93 161 36 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 634 q 214 723 157 692 q 341 754 272 754 q 591 637 493 754 q 685 372 685 526 m 554 356 q 499 550 554 470 q 328 644 437 644 q 162 556 223 644 q 108 369 108 478 q 160 176 108 256 q 330 83 221 83 q 498 169 435 83 q 554 356 554 245 "},q:{x_min:0,x_max:683,ha:876,o:"m 683 -278 l 564 -278 l 564 97 q 474 8 533 39 q 345 -23 415 -23 q 91 93 188 -23 q 0 364 0 203 q 87 635 0 522 q 337 760 184 760 q 466 727 408 760 q 564 637 523 695 l 564 737 l 683 737 l 683 -278 m 582 375 q 527 564 582 488 q 358 652 466 652 q 190 565 253 652 q 135 377 135 488 q 189 179 135 261 q 361 84 251 84 q 530 179 469 84 q 582 375 582 260 "},:{x_min:-.171875,x_max:969.5625,ha:1068,o:"m 969 0 l 555 0 l 555 123 q 744 308 675 194 q 814 558 814 423 q 726 812 814 709 q 484 922 633 922 q 244 820 334 922 q 154 567 154 719 q 223 316 154 433 q 412 123 292 199 l 412 0 l 0 0 l 0 124 l 217 124 q 68 327 122 210 q 15 572 15 444 q 144 911 15 781 q 484 1041 274 1041 q 822 909 691 1041 q 953 569 953 777 q 899 326 953 443 q 750 124 846 210 l 969 124 l 969 0 "},:{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 535 1040 l 346 819 l 262 819 l 397 1040 l 535 1040 "},z:{x_min:-.015625,x_max:613.890625,ha:697,o:"m 613 0 l 0 0 l 0 100 l 433 630 l 20 630 l 20 738 l 594 738 l 593 636 l 163 110 l 613 110 l 613 0 "},"":{x_min:0,x_max:894,ha:1e3,o:"m 389 951 l 229 951 l 229 503 l 160 503 l 160 951 l 0 951 l 0 1011 l 389 1011 l 389 951 m 894 503 l 827 503 l 827 939 l 685 503 l 620 503 l 481 937 l 481 503 l 417 503 l 417 1011 l 517 1011 l 653 580 l 796 1010 l 894 1011 l 894 503 "},:{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 721 124 755 q 200 630 193 687 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 m 479 1040 l 290 819 l 207 819 l 341 1040 l 479 1040 "},:{x_min:0,x_max:960,ha:1056,o:"m 960 507 q 833 129 960 280 q 476 -32 698 -32 q 123 129 255 -32 q 0 507 0 280 q 123 883 0 732 q 476 1045 255 1045 q 832 883 696 1045 q 960 507 960 732 m 817 500 q 733 789 817 669 q 476 924 639 924 q 223 792 317 924 q 142 507 142 675 q 222 222 142 339 q 476 89 315 89 q 730 218 636 89 q 817 500 817 334 m 716 449 l 243 449 l 243 571 l 716 571 l 716 449 "},"":{x_min:-3,x_max:1008,ha:1106,o:"m 503 532 q 614 562 566 532 q 672 658 672 598 q 614 747 672 716 q 503 772 569 772 l 338 772 l 338 532 l 503 532 m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 788 146 l 678 146 q 653 316 655 183 q 527 449 652 449 l 338 449 l 338 146 l 241 146 l 241 854 l 518 854 q 688 808 621 854 q 766 658 766 755 q 739 563 766 607 q 668 497 713 519 q 751 331 747 472 q 788 164 756 190 l 788 146 "},"~":{x_min:0,x_max:833,ha:931,o:"m 833 958 q 778 753 833 831 q 594 665 716 665 q 402 761 502 665 q 240 857 302 857 q 131 795 166 857 q 104 665 104 745 l 0 665 q 54 867 0 789 q 237 958 116 958 q 429 861 331 958 q 594 765 527 765 q 704 827 670 765 q 729 958 729 874 l 833 958 "},:{x_min:0,x_max:736.21875,ha:778,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},"":{x_min:0,x_max:450,ha:547,o:"m 450 552 q 379 413 450 464 q 220 366 313 366 q 69 414 130 366 q 0 567 0 470 l 85 567 q 126 470 85 504 q 225 437 168 437 q 320 467 280 437 q 360 552 360 498 q 318 632 360 608 q 213 657 276 657 q 195 657 203 657 q 176 657 181 657 l 176 722 q 279 733 249 722 q 334 815 334 752 q 300 881 334 856 q 220 907 267 907 q 133 875 169 907 q 97 781 97 844 l 15 781 q 78 926 15 875 q 220 972 135 972 q 364 930 303 972 q 426 817 426 888 q 344 697 426 733 q 421 642 392 681 q 450 552 450 603 "},"[":{x_min:0,x_max:273.609375,ha:371,o:"m 273 -281 l 0 -281 l 0 1013 l 273 1013 l 273 920 l 124 920 l 124 -187 l 273 -187 l 273 -281 "},L:{x_min:0,x_max:645.828125,ha:696,o:"m 645 0 l 0 0 l 0 1013 l 140 1013 l 140 126 l 645 126 l 645 0 "},:{x_min:0,x_max:803.390625,ha:894,o:"m 803 628 l 633 628 q 713 368 713 512 q 618 93 713 204 q 357 -25 518 -25 q 94 91 194 -25 q 0 368 0 201 q 94 644 0 533 q 356 761 194 761 q 481 750 398 761 q 608 739 564 739 l 803 739 l 803 628 m 360 85 q 529 180 467 85 q 584 374 584 262 q 527 566 584 490 q 352 651 463 651 q 187 559 247 651 q 135 368 135 478 q 189 175 135 254 q 360 85 251 85 "},:{x_min:0,x_max:573,ha:642,o:"m 573 -40 q 553 -162 573 -97 q 510 -278 543 -193 l 400 -278 q 441 -187 428 -219 q 462 -90 462 -132 q 378 -14 462 -14 q 108 45 197 -14 q 0 290 0 117 q 108 631 0 462 q 353 901 194 767 l 55 901 l 55 1012 l 561 1012 l 561 924 q 261 669 382 831 q 128 301 128 489 q 243 117 128 149 q 458 98 350 108 q 573 -40 573 80 "},:{x_min:0,x_max:674,ha:778,o:"m 674 496 q 601 160 674 304 q 336 -26 508 -26 q 73 153 165 -26 q 0 485 0 296 q 72 840 0 683 q 343 1045 166 1045 q 605 844 516 1045 q 674 496 674 692 m 546 579 q 498 798 546 691 q 336 935 437 935 q 178 798 237 935 q 126 579 137 701 l 546 579 m 546 475 l 126 475 q 170 233 126 348 q 338 80 230 80 q 504 233 447 80 q 546 475 546 346 "},:{x_min:0,x_max:958,ha:1054,o:"m 485 1042 q 834 883 703 1042 q 958 511 958 735 q 834 136 958 287 q 481 -26 701 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 729 q 485 1042 263 1042 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 670 q 480 913 640 913 q 226 785 321 913 q 142 504 142 671 q 226 224 142 339 q 480 98 319 98 "},:{x_min:0,x_max:705.28125,ha:749,o:"m 705 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 705 1012 l 705 886 "}," ":{x_min:0,x_max:0,ha:375},"%":{x_min:-3,x_max:1089,ha:1186,o:"m 845 0 q 663 76 731 0 q 602 244 602 145 q 661 412 602 344 q 845 489 728 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 845 0 962 0 m 844 103 q 945 143 909 103 q 981 243 981 184 q 947 340 981 301 q 844 385 909 385 q 744 342 781 385 q 708 243 708 300 q 741 147 708 186 q 844 103 780 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 "},P:{x_min:0,x_max:726,ha:806,o:"m 424 1013 q 640 931 555 1013 q 726 719 726 850 q 637 506 726 587 q 413 426 548 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 379 889 l 140 889 l 140 548 l 372 548 q 522 589 459 548 q 593 720 593 637 q 528 845 593 801 q 379 889 463 889 "},:{x_min:0,x_max:1078.21875,ha:1118,o:"m 1078 0 l 342 0 l 342 1013 l 1067 1013 l 1067 889 l 481 889 l 481 585 l 1019 585 l 1019 467 l 481 467 l 481 125 l 1078 125 l 1078 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},:{x_min:.125,x_max:1136.546875,ha:1235,o:"m 1136 0 l 722 0 l 722 123 q 911 309 842 194 q 981 558 981 423 q 893 813 981 710 q 651 923 800 923 q 411 821 501 923 q 321 568 321 720 q 390 316 321 433 q 579 123 459 200 l 579 0 l 166 0 l 166 124 l 384 124 q 235 327 289 210 q 182 572 182 444 q 311 912 182 782 q 651 1042 441 1042 q 989 910 858 1042 q 1120 569 1120 778 q 1066 326 1120 443 q 917 124 1013 210 l 1136 124 l 1136 0 m 277 1040 l 83 800 l 0 800 l 140 1041 l 277 1040 "},_:{x_min:0,x_max:705.5625,ha:803,o:"m 705 -334 l 0 -334 l 0 -234 l 705 -234 l 705 -334 "},:{x_min:-110,x_max:246,ha:275,o:"m 246 1046 l 118 1046 l 118 1189 l 246 1189 l 246 1046 m 18 1046 l -110 1046 l -110 1189 l 18 1189 l 18 1046 m 136 0 l 0 0 l 0 1012 l 136 1012 l 136 0 "},"+":{x_min:23,x_max:768,ha:792,o:"m 768 372 l 444 372 l 444 0 l 347 0 l 347 372 l 23 372 l 23 468 l 347 468 l 347 840 l 444 840 l 444 468 l 768 468 l 768 372 "},"":{x_min:0,x_max:1050,ha:1149,o:"m 1050 0 l 625 0 q 712 178 625 108 q 878 277 722 187 q 967 385 967 328 q 932 456 967 429 q 850 484 897 484 q 759 450 798 484 q 721 352 721 416 l 640 352 q 706 502 640 448 q 851 551 766 551 q 987 509 931 551 q 1050 385 1050 462 q 976 251 1050 301 q 829 179 902 215 q 717 68 740 133 l 1050 68 l 1050 0 m 834 985 l 215 -28 l 130 -28 l 750 984 l 834 985 m 224 422 l 142 422 l 142 811 l 0 811 l 0 867 q 104 889 62 867 q 164 973 157 916 l 224 973 l 224 422 "},:{x_min:0,x_max:720,ha:783,o:"m 424 1013 q 637 933 554 1013 q 720 723 720 853 q 633 508 720 591 q 413 426 546 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 378 889 l 140 889 l 140 548 l 371 548 q 521 589 458 548 q 592 720 592 637 q 527 845 592 801 q 378 889 463 889 "},"'":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},:{x_min:0,x_max:350,ha:397,o:"m 350 625 q 307 616 328 616 q 266 631 281 616 q 247 673 251 645 q 190 628 225 644 q 116 613 156 613 q 32 641 64 613 q 0 722 0 669 q 72 826 0 800 q 247 866 159 846 l 247 887 q 220 934 247 916 q 162 953 194 953 q 104 934 129 953 q 76 882 80 915 l 16 882 q 60 976 16 941 q 166 1011 104 1011 q 266 979 224 1011 q 308 891 308 948 l 308 706 q 311 679 308 688 q 331 670 315 670 l 350 672 l 350 625 m 247 757 l 247 811 q 136 790 175 798 q 64 726 64 773 q 83 682 64 697 q 132 667 103 667 q 207 690 174 667 q 247 757 247 718 "},"":{x_min:0,x_max:450,ha:553,o:"m 450 800 l 340 800 l 340 925 l 450 925 l 450 800 m 406 1040 l 212 800 l 129 800 l 269 1040 l 406 1040 m 110 800 l 0 800 l 0 925 l 110 925 l 110 800 "},T:{x_min:0,x_max:777,ha:835,o:"m 777 894 l 458 894 l 458 0 l 319 0 l 319 894 l 0 894 l 0 1013 l 777 1013 l 777 894 "},:{x_min:0,x_max:915,ha:997,o:"m 527 0 l 389 0 l 389 122 q 110 231 220 122 q 0 509 0 340 q 110 785 0 677 q 389 893 220 893 l 389 1013 l 527 1013 l 527 893 q 804 786 693 893 q 915 509 915 679 q 805 231 915 341 q 527 122 696 122 l 527 0 m 527 226 q 712 310 641 226 q 779 507 779 389 q 712 705 779 627 q 527 787 641 787 l 527 226 m 389 226 l 389 787 q 205 698 275 775 q 136 505 136 620 q 206 308 136 391 q 389 226 276 226 "},"":{x_min:0,x_max:0,ha:694},j:{x_min:-77.78125,x_max:167,ha:349,o:"m 167 871 l 42 871 l 42 1013 l 167 1013 l 167 871 m 167 -80 q 121 -231 167 -184 q -26 -278 76 -278 l -77 -278 l -77 -164 l -41 -164 q 26 -143 11 -164 q 42 -65 42 -122 l 42 737 l 167 737 l 167 -80 "},:{x_min:0,x_max:756.953125,ha:819,o:"m 756 0 l 0 0 l 0 107 l 395 523 l 22 904 l 22 1013 l 745 1013 l 745 889 l 209 889 l 566 523 l 187 125 l 756 125 l 756 0 "},"":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},"<":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"":{x_min:0,x_max:704.484375,ha:801,o:"m 704 41 q 623 -10 664 5 q 543 -26 583 -26 q 359 15 501 -26 q 243 36 288 36 q 158 23 197 36 q 73 -21 119 10 l 6 76 q 125 195 90 150 q 175 331 175 262 q 147 443 175 383 l 0 443 l 0 512 l 108 512 q 43 734 43 623 q 120 929 43 854 q 358 1010 204 1010 q 579 936 487 1010 q 678 729 678 857 l 678 684 l 552 684 q 504 838 552 780 q 362 896 457 896 q 216 852 263 896 q 176 747 176 815 q 199 627 176 697 q 248 512 217 574 l 468 512 l 468 443 l 279 443 q 297 356 297 398 q 230 194 297 279 q 153 107 211 170 q 227 133 190 125 q 293 142 264 142 q 410 119 339 142 q 516 96 482 96 q 579 105 550 96 q 648 142 608 115 l 704 41 "},t:{x_min:0,x_max:367,ha:458,o:"m 367 0 q 312 -5 339 -2 q 262 -8 284 -8 q 145 28 183 -8 q 108 143 108 64 l 108 638 l 0 638 l 0 738 l 108 738 l 108 944 l 232 944 l 232 738 l 367 738 l 367 638 l 232 638 l 232 185 q 248 121 232 140 q 307 102 264 102 q 345 104 330 102 q 367 107 360 107 l 367 0 "},"":{x_min:0,x_max:706,ha:803,o:"m 706 411 l 706 158 l 630 158 l 630 335 l 0 335 l 0 411 l 706 411 "},:{x_min:0,x_max:750,ha:803,o:"m 750 -7 q 679 -15 716 -15 q 538 59 591 -15 q 466 214 512 97 l 336 551 l 126 0 l 0 0 l 270 705 q 223 837 247 770 q 116 899 190 899 q 90 898 100 899 l 90 1004 q 152 1011 125 1011 q 298 938 244 1011 q 373 783 326 901 l 605 192 q 649 115 629 136 q 716 95 669 95 l 736 95 q 750 97 745 97 l 750 -7 "},W:{x_min:0,x_max:1263.890625,ha:1351,o:"m 1263 1013 l 995 0 l 859 0 l 627 837 l 405 0 l 265 0 l 0 1013 l 136 1013 l 342 202 l 556 1013 l 701 1013 l 921 207 l 1133 1012 l 1263 1013 "},">":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},v:{x_min:0,x_max:675.15625,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 737 l 340 147 l 541 737 l 675 738 "},:{x_min:.28125,x_max:644.5,ha:703,o:"m 644 628 l 382 628 l 382 179 q 388 120 382 137 q 436 91 401 91 q 474 94 447 91 q 504 97 501 97 l 504 0 q 454 -9 482 -5 q 401 -14 426 -14 q 278 67 308 -14 q 260 233 260 118 l 260 628 l 0 628 l 0 739 l 644 739 l 644 628 "},:{x_min:0,x_max:624.9375,ha:699,o:"m 624 -37 q 608 -153 624 -96 q 563 -278 593 -211 l 454 -278 q 491 -183 486 -200 q 511 -83 511 -126 q 484 -23 511 -44 q 370 1 452 1 q 323 0 354 1 q 283 -1 293 -1 q 84 76 169 -1 q 0 266 0 154 q 56 431 0 358 q 197 538 108 498 q 94 613 134 562 q 54 730 54 665 q 77 823 54 780 q 143 901 101 867 l 27 901 l 27 1012 l 576 1012 l 576 901 l 380 901 q 244 863 303 901 q 178 745 178 820 q 312 600 178 636 q 532 582 380 582 l 532 479 q 276 455 361 479 q 118 281 118 410 q 165 173 118 217 q 274 120 208 133 q 494 101 384 110 q 624 -37 624 76 "},"&":{x_min:-3,x_max:894.25,ha:992,o:"m 894 0 l 725 0 l 624 123 q 471 0 553 40 q 306 -41 390 -41 q 168 -7 231 -41 q 62 92 105 26 q 14 187 31 139 q -3 276 -3 235 q 55 433 -3 358 q 248 581 114 508 q 170 689 196 640 q 137 817 137 751 q 214 985 137 922 q 384 1041 284 1041 q 548 988 483 1041 q 622 824 622 928 q 563 666 622 739 q 431 556 516 608 l 621 326 q 649 407 639 361 q 663 493 653 426 l 781 493 q 703 229 781 352 l 894 0 m 504 818 q 468 908 504 877 q 384 940 433 940 q 293 907 331 940 q 255 818 255 875 q 289 714 255 767 q 363 628 313 678 q 477 729 446 682 q 504 818 504 771 m 556 209 l 314 499 q 179 395 223 449 q 135 283 135 341 q 146 222 135 253 q 183 158 158 192 q 333 80 241 80 q 556 209 448 80 "},:{x_min:0,x_max:862.5,ha:942,o:"m 862 0 l 719 0 l 426 847 l 143 0 l 0 0 l 356 1013 l 501 1013 l 862 0 "},I:{x_min:41,x_max:180,ha:293,o:"m 180 0 l 41 0 l 41 1013 l 180 1013 l 180 0 "},G:{x_min:0,x_max:921,ha:1011,o:"m 921 0 l 832 0 l 801 136 q 655 15 741 58 q 470 -28 568 -28 q 126 133 259 -28 q 0 499 0 284 q 125 881 0 731 q 486 1043 259 1043 q 763 957 647 1043 q 905 709 890 864 l 772 709 q 668 866 747 807 q 486 926 589 926 q 228 795 322 926 q 142 507 142 677 q 228 224 142 342 q 483 94 323 94 q 712 195 625 94 q 796 435 796 291 l 477 435 l 477 549 l 921 549 l 921 0 "},:{x_min:0,x_max:617,ha:725,o:"m 524 800 l 414 800 l 414 925 l 524 925 l 524 800 m 183 800 l 73 800 l 73 925 l 183 925 l 183 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 489 1040 l 300 819 l 216 819 l 351 1040 l 489 1040 "},"`":{x_min:0,x_max:138.890625,ha:236,o:"m 138 699 l 0 699 l 0 861 q 36 974 0 929 q 138 1041 72 1020 l 138 977 q 82 931 95 969 q 69 839 69 893 l 138 839 l 138 699 "},"":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},:{x_min:.328125,x_max:819.515625,ha:889,o:"m 819 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 "},r:{x_min:0,x_max:355.5625,ha:432,o:"m 355 621 l 343 621 q 179 569 236 621 q 122 411 122 518 l 122 0 l 0 0 l 0 737 l 117 737 l 117 604 q 204 719 146 686 q 355 753 262 753 l 355 621 "},x:{x_min:0,x_max:675,ha:764,o:"m 675 0 l 525 0 l 331 286 l 144 0 l 0 0 l 256 379 l 12 738 l 157 737 l 336 473 l 516 738 l 661 738 l 412 380 l 675 0 "},:{x_min:0,x_max:696.609375,ha:747,o:"m 696 -4 q 628 -14 657 -14 q 498 97 513 -14 q 422 8 470 41 q 313 -24 374 -24 q 207 3 258 -24 q 120 80 157 31 l 120 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 172 124 246 q 308 82 216 82 q 451 177 402 82 q 492 358 492 254 l 492 738 l 616 738 l 616 214 q 623 136 616 160 q 673 92 636 92 q 696 95 684 92 l 696 -4 "},h:{x_min:0,x_max:615,ha:724,o:"m 615 472 l 615 0 l 490 0 l 490 454 q 456 590 490 535 q 338 654 416 654 q 186 588 251 654 q 122 436 122 522 l 122 0 l 0 0 l 0 1013 l 122 1013 l 122 633 q 218 727 149 694 q 362 760 287 760 q 552 676 484 760 q 615 472 615 600 "},".":{x_min:0,x_max:142,ha:239,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},:{x_min:-2,x_max:878,ha:974,o:"m 496 -279 l 378 -279 l 378 -17 q 101 88 204 -17 q -2 367 -2 194 q 68 626 -2 510 q 283 758 151 758 l 283 646 q 167 537 209 626 q 133 373 133 462 q 192 177 133 254 q 378 93 259 93 l 378 758 q 445 764 426 763 q 476 765 464 765 q 765 659 653 765 q 878 377 878 553 q 771 96 878 209 q 496 -17 665 -17 l 496 -279 m 496 93 l 514 93 q 687 183 623 93 q 746 380 746 265 q 691 569 746 491 q 522 658 629 658 l 496 656 l 496 93 "},";":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 -12 q 105 -132 142 -82 q 0 -206 68 -182 l 0 -138 q 58 -82 43 -123 q 68 0 68 -56 l 0 0 l 0 151 l 142 151 l 142 -12 "},f:{x_min:0,x_max:378,ha:472,o:"m 378 638 l 246 638 l 246 0 l 121 0 l 121 638 l 0 638 l 0 738 l 121 738 q 137 935 121 887 q 290 1028 171 1028 q 320 1027 305 1028 q 378 1021 334 1026 l 378 908 q 323 918 346 918 q 257 870 273 918 q 246 780 246 840 l 246 738 l 378 738 l 378 638 "},"":{x_min:1,x_max:348.21875,ha:454,o:"m 140 670 l 1 670 l 1 830 q 37 943 1 897 q 140 1011 74 990 l 140 947 q 82 900 97 940 q 68 810 68 861 l 140 810 l 140 670 m 348 670 l 209 670 l 209 830 q 245 943 209 897 q 348 1011 282 990 l 348 947 q 290 900 305 940 q 276 810 276 861 l 348 810 l 348 670 "},A:{x_min:.03125,x_max:906.953125,ha:1008,o:"m 906 0 l 756 0 l 648 303 l 251 303 l 142 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 610 421 l 452 867 l 293 421 l 610 421 "},"":{x_min:1,x_max:139.890625,ha:236,o:"m 139 670 l 1 670 l 1 830 q 37 943 1 897 q 139 1011 74 990 l 139 947 q 82 900 97 940 q 68 810 68 861 l 139 810 l 139 670 "},:{x_min:-70,x_max:283,ha:361,o:"m 283 800 l 173 800 l 173 925 l 283 925 l 283 800 m 40 800 l -70 800 l -70 925 l 40 925 l 40 800 m 283 3 q 232 -10 257 -5 q 181 -15 206 -15 q 84 26 118 -15 q 41 200 41 79 l 41 737 l 166 737 l 167 215 q 171 141 167 157 q 225 101 182 101 q 247 103 238 101 q 283 112 256 104 l 283 3 "},:{x_min:-.21875,x_max:773.21875,ha:857,o:"m 773 -7 l 707 -11 q 575 40 607 -11 q 552 174 552 77 l 552 226 l 552 626 l 222 626 l 222 0 l 97 0 l 97 626 l 0 626 l 0 737 l 773 737 l 773 626 l 676 626 l 676 171 q 695 103 676 117 q 773 90 714 90 l 773 -7 "},:{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 727 407 760 q 563 637 524 695 l 563 738 l 685 738 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 95 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 m 604 1040 l 415 819 l 332 819 l 466 1040 l 604 1040 "},O:{x_min:0,x_max:958,ha:1057,o:"m 485 1041 q 834 882 702 1041 q 958 512 958 734 q 834 136 958 287 q 481 -26 702 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 728 q 485 1041 263 1041 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 669 q 480 912 640 912 q 226 784 321 912 q 142 504 142 670 q 226 224 142 339 q 480 98 319 98 "},n:{x_min:0,x_max:615,ha:724,o:"m 615 463 l 615 0 l 490 0 l 490 454 q 453 592 490 537 q 331 656 410 656 q 178 585 240 656 q 117 421 117 514 l 117 0 l 0 0 l 0 738 l 117 738 l 117 630 q 218 728 150 693 q 359 764 286 764 q 552 675 484 764 q 615 463 615 593 "},l:{x_min:41,x_max:166,ha:279,o:"m 166 0 l 41 0 l 41 1013 l 166 1013 l 166 0 "},"":{x_min:40.09375,x_max:728.796875,ha:825,o:"m 728 304 l 649 224 l 512 363 q 383 331 458 331 q 256 363 310 331 l 119 224 l 40 304 l 177 441 q 150 553 150 493 q 184 673 150 621 l 40 818 l 119 898 l 267 749 q 321 766 291 759 q 384 773 351 773 q 447 766 417 773 q 501 749 477 759 l 649 898 l 728 818 l 585 675 q 612 618 604 648 q 621 553 621 587 q 591 441 621 491 l 728 304 m 384 682 q 280 643 318 682 q 243 551 243 604 q 279 461 243 499 q 383 423 316 423 q 487 461 449 423 q 525 553 525 500 q 490 641 525 605 q 384 682 451 682 "},:{x_min:0,x_max:632.328125,ha:679,o:"m 632 0 l 482 0 l 225 384 l 124 288 l 124 0 l 0 0 l 0 738 l 124 738 l 124 446 l 433 738 l 596 738 l 312 466 l 632 0 "},p:{x_min:0,x_max:685,ha:786,o:"m 685 364 q 598 96 685 205 q 350 -23 504 -23 q 121 89 205 -23 l 121 -278 l 0 -278 l 0 738 l 121 738 l 121 633 q 220 726 159 691 q 351 761 280 761 q 598 636 504 761 q 685 364 685 522 m 557 371 q 501 560 557 481 q 330 651 437 651 q 162 559 223 651 q 108 366 108 479 q 162 177 108 254 q 333 87 224 87 q 502 178 441 87 q 557 371 557 258 "},"":{x_min:0,x_max:777,ha:835,o:"m 458 238 l 458 0 l 319 0 l 319 238 l 0 238 l 0 360 l 319 360 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 l 777 804 l 777 683 l 458 683 l 458 360 l 777 360 l 777 238 l 458 238 "},:{x_min:0,x_max:808,ha:907,o:"m 465 -278 l 341 -278 l 341 -15 q 87 102 180 -15 q 0 378 0 210 l 0 739 l 133 739 l 133 379 q 182 195 133 275 q 341 98 242 98 l 341 922 l 465 922 l 465 98 q 623 195 563 98 q 675 382 675 278 l 675 742 l 808 742 l 808 381 q 720 104 808 213 q 466 -13 627 -13 l 465 -278 "},:{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 720 124 755 q 200 630 193 686 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 "}},Zot="normal",Jot=1189,eat=-100,tat="normal",nat={yMin:-334,xMin:-111,yMax:1189,xMax:1672},rat=1e3,iat={postscript_name:"Helvetiker-Regular",version_string:"Version 1.00 2004 initial release",vendor_url:"http://www.magenta.gr/",full_font_name:"Helvetiker",font_family_name:"Helvetiker",copyright:"Copyright (c) agenta ltd, 2004",description:"",trademark:"",designer:"",designer_url:"",unique_font_identifier:"agenta ltd:Helvetiker:22-10-104",license_url:"http://www.ellak.gr/fonts/MgOpen/license.html",license_description:`Copyright (c) 2004 by MAGENTA Ltd. All Rights Reserved.\r
\r
Permission is hereby granted, free of charge, to any person obtaining a copy of the fonts accompanying this license ("Fonts") and associated documentation files (the "Font Software"), to reproduce and distribute the Font Software, including without limitation the rights to use, copy, merge, publish, distribute, and/or sell copies of the Font Software, and to permit persons to whom the Font Software is furnished to do so, subject to the following conditions: \r
\r
The above copyright and this permission notice shall be included in all copies of one or more of the Font Software typefaces.\r
\r
The Font Software may be modified, altered, or added to, and in particular the designs of glyphs or characters in the Fonts may be modified and additional glyphs or characters may be added to the Fonts, only if the fonts are renamed to names not containing the word "MgOpen", or if the modifications are accepted for inclusion in the Font Software itself by the each appointed Administrator.\r
\r
This License becomes null and void to the extent applicable to Fonts or Font Software that has been modified and is distributed under the "MgOpen" name.\r
\r
The Font Software may be sold as part of a larger software package but no copy of one or more of the Font Software typefaces may be sold by itself. \r
\r
THE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL MAGENTA OR PERSONS OR BODIES IN CHARGE OF ADMINISTRATION AND MAINTENANCE OF THE FONT SOFTWARE BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE FONT SOFTWARE.`,manufacturer_name:"agenta ltd",font_sub_family_name:"Regular"},oat=-334,aat="Helvetiker",sat=1522,lat=50,cat={glyphs:Qot,cssFontWeight:Zot,ascender:Jot,underlinePosition:eat,cssFontStyle:tat,boundingBox:nat,resolution:rat,original_font_information:iat,descender:oat,familyName:aat,lineHeight:sat,underlineThickness:lat},Vc=oi(oi({},window.THREE?window.THREE:{BoxGeometry:fp,CircleGeometry:BM,DoubleSide:To,Group:Xs,Mesh:Qr,MeshLambertMaterial:Mf,TextGeometry:HW,Vector3:ve}),{},{Font:sot,TextGeometry:HW}),fde=Ko({props:{labelsData:{default:[]},labelLat:{default:"lat"},labelLng:{default:"lng"},labelAltitude:{default:.002},labelText:{default:"text"},labelSize:{default:.5},labelTypeFace:{default:cat,onChange:function(e,n){n.font=new Vc.Font(e)}},labelColor:{default:function(){return"lightgrey"}},labelRotation:{default:0},labelResolution:{default:3},labelIncludeDot:{default:!0},labelDotRadius:{default:.1},labelDotOrientation:{default:function(){return"bottom"}},labelsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,n,r){var i=r.tweenGroup;Ri(e),n.scene=e,n.tweenGroup=i;var o=new Vc.CircleGeometry(1,32);n.dataMapper=new ul(e,{objBindAttr:"__threeObjLabel"}).onCreateObj(function(){var a=new Vc.MeshLambertMaterial;a.side=To;var s=new Vc.Group;s.add(new Vc.Mesh(o,a));var l=new Vc.Mesh(void 0,a);s.add(l);var c=new Vc.Mesh;return c.visible=!1,l.add(c),s.__globeObjType="label",s})},update:function(e){var n=Ht(e.labelLat),r=Ht(e.labelLng),i=Ht(e.labelAltitude),o=Ht(e.labelText),a=Ht(e.labelSize),s=Ht(e.labelRotation),l=Ht(e.labelColor),c=Ht(e.labelIncludeDot),u=Ht(e.labelDotRadius),d=Ht(e.labelDotOrientation),f=new Set(["right","top","bottom"]),h=2*Math.PI*$i/360;e.dataMapper.onUpdateObj(function(p,x){var b=Gi(p.children,2),y=b[0],_=b[1],C=Gi(_.children,1),E=C[0],M=l(x),R=uu(M);_.material.color.set(yd(M)),_.material.transparent=R<1,_.material.opacity=R;var N=c(x),O=d(x);!N||!f.has(O)&&(O="bottom");var I=N?+u(x)*h:1e-12;y.scale.x=y.scale.y=I;var L=+a(x)*h;if(_.geometry&&_.geometry.dispose(),_.geometry=new Vc.TextGeometry(o(x),{font:e.font,size:L,depth:0,bevelEnabled:!0,bevelThickness:0,bevelSize:0,curveSegments:e.labelResolution}),E.geometry&&E.geometry.dispose(),_.geometry.computeBoundingBox(),E.geometry=x7(Vc.BoxGeometry,bi(new Vc.Vector3().subVectors(_.geometry.boundingBox.max,_.geometry.boundingBox.min).clampScalar(0,1/0).toArray())),O!=="right"&&_.geometry.center(),N){var F=I+L/2;O==="right"&&(_.position.x=F),_.position.y={right:-L/2,top:F+L/2,bottom:-F-L/2}[O]}var $=function(z){var H=p.__currentTargetD=z,j=H.lat,X=H.lng,Y=H.alt,J=H.rot,ee=H.scale;Object.assign(p.position,Rc(j,X,Y)),p.lookAt(e.scene.localToWorld(new Vc.Vector3(0,0,0))),p.rotateY(Math.PI),p.rotateZ(-J*Math.PI/180),p.scale.x=p.scale.y=p.scale.z=ee},V={lat:+n(x),lng:+r(x),alt:+i(x),rot:+s(x),scale:1},U=p.__currentTargetD||Object.assign({},V,{scale:1e-12});Object.keys(V).some(function(k){return U[k]!==V[k]})&&(!e.labelsTransitionDuration||e.labelsTransitionDuration<0?$(V):e.tweenGroup.add(new ss(U).to(V,e.labelsTransitionDuration).easing(ko.Quadratic.InOut).onUpdate($).start()))}).digest(e.labelsData)}}),uat=oi(oi({},window.THREE?window.THREE:{}),{},{CSS2DObject:ake}),hde=Ko({props:{htmlElementsData:{default:[]},htmlLat:{default:"lat"},htmlLng:{default:"lng"},htmlAltitude:{default:0},htmlElement:{},htmlElementVisibilityModifier:{triggerUpdate:!1},htmlTransitionDuration:{default:1e3,triggerUpdate:!1},isBehindGlobe:{onChange:function(){this.updateObjVisibility()},triggerUpdate:!1}},methods:{updateObjVisibility:function(e,n){if(e.dataMapper){var r=n?[n]:e.dataMapper.entries().map(function(i){var o=Gi(i,2),a=o[1];return a}).filter(function(i){return i});r.forEach(function(i){var o=!e.isBehindGlobe||!e.isBehindGlobe(i.position);e.htmlElementVisibilityModifier?(i.visible=!0,e.htmlElementVisibilityModifier(i.element,o)):i.visible=o})}}},init:function(e,n,r){var i=r.tweenGroup;Ri(e),n.scene=e,n.tweenGroup=i,n.dataMapper=new ul(e,{objBindAttr:"__threeObjHtml"}).onCreateObj(function(o){var a=Ht(n.htmlElement)(o),s=new uat.CSS2DObject(a);return s.__globeObjType="html",s})},update:function(e,n){var r=this,i=Ht(e.htmlLat),o=Ht(e.htmlLng),a=Ht(e.htmlAltitude);n.hasOwnProperty("htmlElement")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(s,l){var c=function(f){var h=s.__currentTargetD=f,p=h.alt,x=h.lat,b=h.lng;Object.assign(s.position,Rc(x,b,p)),r.updateObjVisibility(s)},u={lat:+i(l),lng:+o(l),alt:+a(l)};!e.htmlTransitionDuration||e.htmlTransitionDuration<0||!s.__currentTargetD?c(u):e.tweenGroup.add(new ss(s.__currentTargetD).to(u,e.htmlTransitionDuration).easing(ko.Quadratic.InOut).onUpdate(c).start())}).digest(e.htmlElementsData)}}),$w=window.THREE?window.THREE:{Group:Xs,Mesh:Qr,MeshLambertMaterial:Mf,SphereGeometry:Sd},pde=Ko({props:{objectsData:{default:[]},objectLat:{default:"lat"},objectLng:{default:"lng"},objectAltitude:{default:.01},objectFacesSurface:{default:!0},objectRotation:{},objectThreeObject:{default:new $w.Mesh(new $w.SphereGeometry(1,16,8),new $w.MeshLambertMaterial({color:"#ffffaa",transparent:!0,opacity:.7}))}},init:function(e,n){Ri(e),n.scene=e,n.dataMapper=new ul(e,{objBindAttr:"__threeObjObject"}).onCreateObj(function(r){var i=Ht(n.objectThreeObject)(r);n.objectThreeObject===i&&(i=i.clone());var o=new $w.Group;return o.add(i),o.__globeObjType="object",o})},update:function(e,n){var r=Ht(e.objectLat),i=Ht(e.objectLng),o=Ht(e.objectAltitude),a=Ht(e.objectFacesSurface),s=Ht(e.objectRotation);n.hasOwnProperty("objectThreeObject")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(l,c){var u=+r(c),d=+i(c),f=+o(c);Object.assign(l.position,Rc(u,d,f)),a(c)?l.setRotationFromEuler(new Oa(lm(-u),lm(d),0,"YXZ")):l.rotation.set(0,0,0);var h=l.children[0],p=s(c);p&&h.setRotationFromEuler(new Oa(lm(p.x||0),lm(p.y||0),lm(p.z||0)))}).digest(e.objectsData)}}),mde=Ko({props:{customLayerData:{default:[]},customThreeObject:{},customThreeObjectUpdate:{triggerUpdate:!1}},init:function(e,n){Ri(e),n.scene=e,n.dataMapper=new ul(e,{objBindAttr:"__threeObjCustom"}).onCreateObj(function(r){var i=Ht(n.customThreeObject)(r,$i);return i&&(n.customThreeObject===i&&(i=i.clone()),i.__globeObjType="custom"),i})},update:function(e,n){e.customThreeObjectUpdate||Ri(e.scene);var r=Ht(e.customThreeObjectUpdate);n.hasOwnProperty("customThreeObject")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(i,o){return r(i,o,$i)}).digest(e.customLayerData)}}),Uw=window.THREE?window.THREE:{Camera:H2,Group:Xs,Vector2:Ft,Vector3:ve},dat=["globeLayer","pointsLayer","arcsLayer","hexBinLayer","heatmapsLayer","polygonsLayer","hexedPolygonsLayer","pathsLayer","tilesLayer","particlesLayer","ringsLayer","labelsLayer","htmlElementsLayer","objectsLayer","customLayer"],gde=Ls("globeLayer",Jue),fat=Object.assign.apply(Object,bi(["globeImageUrl","bumpImageUrl","globeCurvatureResolution","globeTileEngineUrl","globeTileEngineMaxLevel","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude"].map(function(t){return ha({},t,gde.linkProp(t))}))),hat=Object.assign.apply(Object,bi(["globeMaterial","globeTileEngineClearCache"].map(function(t){return ha({},t,gde.linkMethod(t))}))),pat=Ls("pointsLayer",ede),mat=Object.assign.apply(Object,bi(["pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration"].map(function(t){return ha({},t,pat.linkProp(t))}))),gat=Ls("arcsLayer",nde),Aat=Object.assign.apply(Object,bi(["arcsData","arcStartLat","arcStartLng","arcStartAltitude","arcEndLat","arcEndLng","arcEndAltitude","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration"].map(function(t){return ha({},t,gat.linkProp(t))}))),vat=Ls("hexBinLayer",rde),yat=Object.assign.apply(Object,bi(["hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration"].map(function(t){return ha({},t,vat.linkProp(t))}))),bat=Ls("heatmapsLayer",ode),xat=Object.assign.apply(Object,bi(["heatmapsData","heatmapPoints","heatmapPointLat","heatmapPointLng","heatmapPointWeight","heatmapBandwidth","heatmapColorFn","heatmapColorSaturation","heatmapBaseAltitude","heatmapTopAltitude","heatmapsTransitionDuration"].map(function(t){return ha({},t,bat.linkProp(t))}))),Sat=Ls("hexedPolygonsLayer",sde),_at=Object.assign.apply(Object,bi(["hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonUseDots","hexPolygonCurvatureResolution","hexPolygonDotResolution","hexPolygonsTransitionDuration"].map(function(t){return ha({},t,Sat.linkProp(t))}))),wat=Ls("polygonsLayer",ade),Cat=Object.assign.apply(Object,bi(["polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration"].map(function(t){return ha({},t,wat.linkProp(t))}))),Tat=Ls("pathsLayer",lde),Eat=Object.assign.apply(Object,bi(["pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration"].map(function(t){return ha({},t,Tat.linkProp(t))}))),Mat=Ls("tilesLayer",cde),Rat=Object.assign.apply(Object,bi(["tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration"].map(function(t){return ha({},t,Mat.linkProp(t))}))),Pat=Ls("particlesLayer",ude),Nat=Object.assign.apply(Object,bi(["particlesData","particlesList","particleLat","particleLng","particleAltitude","particlesSize","particlesSizeAttenuation","particlesColor","particlesTexture"].map(function(t){return ha({},t,Pat.linkProp(t))}))),Iat=Ls("ringsLayer",dde),Dat=Object.assign.apply(Object,bi(["ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod"].map(function(t){return ha({},t,Iat.linkProp(t))}))),Oat=Ls("labelsLayer",fde),Lat=Object.assign.apply(Object,bi(["labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration"].map(function(t){return ha({},t,Oat.linkProp(t))}))),Bat=Ls("htmlElementsLayer",hde),Fat=Object.assign.apply(Object,bi(["htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlElementVisibilityModifier","htmlTransitionDuration"].map(function(t){return ha({},t,Bat.linkProp(t))}))),$at=Ls("objectsLayer",pde),Uat=Object.assign.apply(Object,bi(["objectsData","objectLat","objectLng","objectAltitude","objectRotation","objectFacesSurface","objectThreeObject"].map(function(t){return ha({},t,$at.linkProp(t))}))),kat=Ls("customLayer",mde),Vat=Object.assign.apply(Object,bi(["customLayerData","customThreeObject","customThreeObjectUpdate"].map(function(t){return ha({},t,kat.linkProp(t))}))),zat=Ko({props:oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi({onGlobeReady:{triggerUpdate:!1},rendererSize:{default:new Uw.Vector2(window.innerWidth,window.innerHeight),onChange:function(e,n){n.pathsLayer.rendererSize(e)},triggerUpdate:!1}},fat),mat),Aat),yat),xat),Cat),_at),Eat),Rat),Nat),Dat),Lat),Fat),Uat),Vat),methods:oi({getGlobeRadius:WW,getCoords:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Rc.apply(void 0,r)},toGeoCoords:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Zue.apply(void 0,r)},setPointOfView:function(e,n){var r=n instanceof Uw.Camera?n.position:n,i=WW(),o=void 0;if(e.scene&&r){var a,s,l,c;o=function(d){a===void 0&&(a=r.clone().applyMatrix4(e.scene.matrixWorld.clone().invert())),s===void 0&&(s=a.length()),l===void 0&&(l=Math.sqrt(Math.pow(s,2)-Math.pow(i,2))),c===void 0&&(c=Math.acos(l/s));var f=a.distanceTo(d);if(f<l)return!1;var h=d.length(),p=Math.acos((Math.pow(s,2)+Math.pow(f,2)-Math.pow(h,2))/(2*s*f));return p<c}}e.layersThatNeedUpdatePov.forEach(function(u){return u.updatePov(n)}),e.layersThatNeedBehindGlobeChecker.forEach(function(u){return u.isBehindGlobe(o)})},pauseAnimation:function(e){return e.animationFrameRequestId!==null&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),e.pausableLayers.forEach(function(n){var r;return(r=n.pauseAnimation)===null||r===void 0?void 0:r.call(n)}),this},resumeAnimation:function(e){return e.animationFrameRequestId===null&&this._animationCycle(),e.pausableLayers.forEach(function(n){var r;return(r=n.resumeAnimation)===null||r===void 0?void 0:r.call(n)}),this},_animationCycle:function(e){e.animationFrameRequestId=requestAnimationFrame(this._animationCycle),e.tweenGroup.update()},_destructor:function(e){this.pauseAnimation(),e.destructableLayers.forEach(function(n){return n._destructor()})}},hat),stateInit:function(){var e=new VM,n={tweenGroup:e},r={globeLayer:Jue(n),pointsLayer:ede(n),arcsLayer:nde(n),hexBinLayer:rde(n),heatmapsLayer:ode(n),polygonsLayer:ade(n),hexedPolygonsLayer:sde(n),pathsLayer:lde(n),tilesLayer:cde(n),particlesLayer:ude(n),ringsLayer:dde(n),labelsLayer:fde(n),htmlElementsLayer:hde(n),objectsLayer:pde(n),customLayer:mde(n)};return oi(oi({tweenGroup:e},r),{},{layersThatNeedUpdatePov:Object.values(r).filter(function(i){return i.hasOwnProperty("updatePov")}),layersThatNeedBehindGlobeChecker:Object.values(r).filter(function(i){return i.hasOwnProperty("isBehindGlobe")}),destructableLayers:Object.values(r).filter(function(i){return i.hasOwnProperty("_destructor")}),pausableLayers:Object.values(r).filter(function(i){return i.hasOwnProperty("pauseAnimation")})})},init:function(e,n,r){var i=r.animateIn,o=i===void 0?!0:i,a=r.waitForGlobeReady,s=a===void 0?!0:a;Ri(e),n.scene=e,n.scene.visible=!1,dat.forEach(function(c){var u=new Uw.Group;n.scene.add(u),n[c](u)});var l=function(){if(o){n.scene.scale.set(1e-6,1e-6,1e-6),n.tweenGroup.add(new ss({k:1e-6}).to({k:1},600).easing(ko.Quadratic.Out).onUpdate(function(d){var f=d.k;return n.scene.scale.set(f,f,f)}).start());var u=new Uw.Vector3(0,1,0);n.tweenGroup.add(new ss({rot:Math.PI*2}).to({rot:0},1200).easing(ko.Quintic.Out).onUpdate(function(d){var f=d.rot;return n.scene.setRotationFromAxisAngle(u,f)}).start())}n.scene.visible=!0,n.onGlobeReady&&n.onGlobeReady()};s?n.globeLayer.onReady(l):l(),this._animationCycle()},update:function(e){}});function Gat(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=function(i){function o(){var a;CR(this,o);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=wR(this,o,[].concat(l)),a.__kapsuleInstance=x7(t,[].concat(bi(n?[a]:[]),l)),a}return ER(o,i),TR(o)}(e);return Object.keys(t()).forEach(function(i){return r.prototype[i]=function(){var o,a=(o=this.__kapsuleInstance)[i].apply(o,arguments);return a===this.__kapsuleInstance?this:a}}),r}var Hat=window.THREE?window.THREE:{Group:Xs},Ade=Gat(zat,Hat.Group,!0);const wI={type:"change"},C7={type:"start"},T7={type:"end"},nX=1e-6,ri={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4},kw=new Ft,th=new Ft,jat=new ve,Vw=new ve,CI=new ve,Rg=new pu,rX=new ve,zw=new ve,TI=new ve,Gw=new ve;class qat extends wF{constructor(e,n=null){super(e,n),this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:pc.ROTATE,MIDDLE:pc.DOLLY,RIGHT:pc.PAN},this.target=new ve,this.state=ri.NONE,this.keyState=ri.NONE,this._lastPosition=new ve,this._lastZoom=1,this._touchZoomDistanceStart=0,this._touchZoomDistanceEnd=0,this._lastAngle=0,this._eye=new ve,this._movePrev=new Ft,this._moveCurr=new Ft,this._lastAxis=new ve,this._zoomStart=new Ft,this._zoomEnd=new Ft,this._panStart=new Ft,this._panEnd=new Ft,this._pointers=[],this._pointerPositions={},this._onPointerMove=Xat.bind(this),this._onPointerDown=Wat.bind(this),this._onPointerUp=Yat.bind(this),this._onPointerCancel=Kat.bind(this),this._onContextMenu=rst.bind(this),this._onMouseWheel=nst.bind(this),this._onKeyDown=Zat.bind(this),this._onKeyUp=Qat.bind(this),this._onTouchStart=ist.bind(this),this._onTouchMove=ost.bind(this),this._onTouchEnd=ast.bind(this),this._onMouseDown=Jat.bind(this),this._onMouseMove=est.bind(this),this._onMouseUp=tst.bind(this),this._target0=this.target.clone(),this._position0=this.object.position.clone(),this._up0=this.object.up.clone(),this._zoom0=this.object.zoom,n!==null&&(this.connect(n),this.handleResize()),this.update()}connect(e){super.connect(e),window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}handleResize(){const e=this.domElement.getBoundingClientRect(),n=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-n.clientLeft,this.screen.top=e.top+window.pageYOffset-n.clientTop,this.screen.width=e.width,this.screen.height=e.height}update(){this._eye.subVectors(this.object.position,this.target),this.noRotate||this._rotateCamera(),this.noZoom||this._zoomCamera(),this.noPan||this._panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this._checkDistances(),this.object.lookAt(this.target),this._lastPosition.distanceToSquared(this.object.position)>nX&&(this.dispatchEvent(wI),this._lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this._lastPosition.distanceToSquared(this.object.position)>nX||this._lastZoom!==this.object.zoom)&&(this.dispatchEvent(wI),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type.")}reset(){this.state=ri.NONE,this.keyState=ri.NONE,this.target.copy(this._target0),this.object.position.copy(this._position0),this.object.up.copy(this._up0),this.object.zoom=this._zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(wI),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom}_panCamera(){if(th.copy(this._panEnd).sub(this._panStart),th.lengthSq()){if(this.object.isOrthographicCamera){const e=(this.object.right-this.object.left)/this.object.zoom/this.domElement.clientWidth,n=(this.object.top-this.object.bottom)/this.object.zoom/this.domElement.clientWidth;th.x*=e,th.y*=n}th.multiplyScalar(this._eye.length()*this.panSpeed),Vw.copy(this._eye).cross(this.object.up).setLength(th.x),Vw.add(jat.copy(this.object.up).setLength(th.y)),this.object.position.add(Vw),this.target.add(Vw),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(th.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}_rotateCamera(){Gw.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0);let e=Gw.length();e?(this._eye.copy(this.object.position).sub(this.target),rX.copy(this._eye).normalize(),zw.copy(this.object.up).normalize(),TI.crossVectors(zw,rX).normalize(),zw.setLength(this._moveCurr.y-this._movePrev.y),TI.setLength(this._moveCurr.x-this._movePrev.x),Gw.copy(zw.add(TI)),CI.crossVectors(Gw,this._eye).normalize(),e*=this.rotateSpeed,Rg.setFromAxisAngle(CI,e),this._eye.applyQuaternion(Rg),this.object.up.applyQuaternion(Rg),this._lastAxis.copy(CI),this._lastAngle=e):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),Rg.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(Rg),this.object.up.applyQuaternion(Rg)),this._movePrev.copy(this._moveCurr)}_zoomCamera(){let e;this.state===ri.TOUCH_ZOOM_PAN?(e=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(e):this.object.isOrthographicCamera?(this.object.zoom=_v.clamp(this.object.zoom/e,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(e=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed,e!==1&&e>0&&(this.object.isPerspectiveCamera?this._eye.multiplyScalar(e):this.object.isOrthographicCamera?(this.object.zoom=_v.clamp(this.object.zoom/e,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor)}_getMouseOnScreen(e,n){return kw.set((e-this.screen.left)/this.screen.width,(n-this.screen.top)/this.screen.height),kw}_getMouseOnCircle(e,n){return kw.set((e-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height+2*(this.screen.top-n))/this.screen.width),kw}_addPointer(e){this._pointers.push(e)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n].pointerId==e.pointerId){this._pointers.splice(n,1);return}}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new Ft,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0].pointerId?this._pointers[1]:this._pointers[0];return this._pointerPositions[n.pointerId]}_checkDistances(){(!this.noZoom||!this.noPan)&&(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}}function Wat(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.ownerDocument.addEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this._onPointerUp)),this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t))}function Xat(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function Yat(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchEnd(t):this._onMouseUp(),this._removePointer(t),this._pointers.length===0&&(this.domElement.releasePointerCapture(t.pointerId),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp)))}function Kat(t){this._removePointer(t)}function Qat(){this.enabled!==!1&&(this.keyState=ri.NONE,window.addEventListener("keydown",this._onKeyDown))}function Zat(t){this.enabled!==!1&&(window.removeEventListener("keydown",this._onKeyDown),this.keyState===ri.NONE&&(t.code===this.keys[ri.ROTATE]&&!this.noRotate?this.keyState=ri.ROTATE:t.code===this.keys[ri.ZOOM]&&!this.noZoom?this.keyState=ri.ZOOM:t.code===this.keys[ri.PAN]&&!this.noPan&&(this.keyState=ri.PAN)))}function Jat(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case pc.DOLLY:this.state=ri.ZOOM;break;case pc.ROTATE:this.state=ri.ROTATE;break;case pc.PAN:this.state=ri.PAN;break;default:this.state=ri.NONE}const n=this.keyState!==ri.NONE?this.keyState:this.state;n===ri.ROTATE&&!this.noRotate?(this._moveCurr.copy(this._getMouseOnCircle(t.pageX,t.pageY)),this._movePrev.copy(this._moveCurr)):n===ri.ZOOM&&!this.noZoom?(this._zoomStart.copy(this._getMouseOnScreen(t.pageX,t.pageY)),this._zoomEnd.copy(this._zoomStart)):n===ri.PAN&&!this.noPan&&(this._panStart.copy(this._getMouseOnScreen(t.pageX,t.pageY)),this._panEnd.copy(this._panStart)),this.dispatchEvent(C7)}function est(t){const e=this.keyState!==ri.NONE?this.keyState:this.state;e===ri.ROTATE&&!this.noRotate?(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(t.pageX,t.pageY))):e===ri.ZOOM&&!this.noZoom?this._zoomEnd.copy(this._getMouseOnScreen(t.pageX,t.pageY)):e===ri.PAN&&!this.noPan&&this._panEnd.copy(this._getMouseOnScreen(t.pageX,t.pageY))}function tst(){this.state=ri.NONE,this.dispatchEvent(T7)}function nst(t){if(this.enabled!==!1&&this.noZoom!==!0){switch(t.preventDefault(),t.deltaMode){case 2:this._zoomStart.y-=t.deltaY*.025;break;case 1:this._zoomStart.y-=t.deltaY*.01;break;default:this._zoomStart.y-=t.deltaY*25e-5;break}this.dispatchEvent(C7),this.dispatchEvent(T7)}}function rst(t){this.enabled!==!1&&t.preventDefault()}function ist(t){switch(this._trackPointer(t),this._pointers.length){case 1:this.state=ri.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(this._pointers[0].pageX,this._pointers[0].pageY)),this._movePrev.copy(this._moveCurr);break;default:this.state=ri.TOUCH_ZOOM_PAN;const e=this._pointers[0].pageX-this._pointers[1].pageX,n=this._pointers[0].pageY-this._pointers[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(e*e+n*n);const r=(this._pointers[0].pageX+this._pointers[1].pageX)/2,i=(this._pointers[0].pageY+this._pointers[1].pageY)/2;this._panStart.copy(this._getMouseOnScreen(r,i)),this._panEnd.copy(this._panStart);break}this.dispatchEvent(C7)}function ost(t){switch(this._trackPointer(t),this._pointers.length){case 1:this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(t.pageX,t.pageY));break;default:const e=this._getSecondPointerPosition(t),n=t.pageX-e.x,r=t.pageY-e.y;this._touchZoomDistanceEnd=Math.sqrt(n*n+r*r);const i=(t.pageX+e.x)/2,o=(t.pageY+e.y)/2;this._panEnd.copy(this._getMouseOnScreen(i,o));break}}function ast(t){switch(this._pointers.length){case 0:this.state=ri.NONE;break;case 1:this.state=ri.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(t.pageX,t.pageY)),this._movePrev.copy(this._moveCurr);break;case 2:this.state=ri.TOUCH_ZOOM_PAN;for(let e=0;e<this._pointers.length;e++)if(this._pointers[e].pointerId!==t.pointerId){const n=this._pointerPositions[this._pointers[e].pointerId];this._moveCurr.copy(this._getMouseOnCircle(n.x,n.y)),this._movePrev.copy(this._moveCurr);break}break}this.dispatchEvent(T7)}const iX={type:"change"},E7={type:"start"},vde={type:"end"},Hw=new G2,oX=new Gu,sst=Math.cos(70*_v.DEG2RAD),zo=new ve,Us=2*Math.PI,Ei={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},EI=1e-6;class lst extends wF{constructor(e,n=null){super(e,n),this.state=Ei.NONE,this.target=new ve,this.cursor=new ve,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:pc.ROTATE,MIDDLE:pc.DOLLY,RIGHT:pc.PAN},this.touches={ONE:Kg.ROTATE,TWO:Kg.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new ve,this._lastQuaternion=new pu,this._lastTargetPosition=new ve,this._quat=new pu().setFromUnitVectors(e.up,new ve(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new bH,this._sphericalDelta=new bH,this._scale=1,this._panOffset=new ve,this._rotateStart=new Ft,this._rotateEnd=new Ft,this._rotateDelta=new Ft,this._panStart=new Ft,this._panEnd=new Ft,this._panDelta=new Ft,this._dollyStart=new Ft,this._dollyEnd=new Ft,this._dollyDelta=new Ft,this._dollyDirection=new ve,this._mouse=new Ft,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=ust.bind(this),this._onPointerDown=cst.bind(this),this._onPointerUp=dst.bind(this),this._onContextMenu=vst.bind(this),this._onMouseWheel=pst.bind(this),this._onKeyDown=mst.bind(this),this._onTouchStart=gst.bind(this),this._onTouchMove=Ast.bind(this),this._onMouseDown=fst.bind(this),this._onMouseMove=hst.bind(this),this._interceptControlDown=yst.bind(this),this._interceptControlUp=bst.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(iX),this.update(),this.state=Ei.NONE}update(e=null){const n=this.object.position;zo.copy(n).sub(this.target),zo.applyQuaternion(this._quat),this._spherical.setFromVector3(zo),this.autoRotate&&this.state===Ei.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=Us:r>Math.PI&&(r-=Us),i<-Math.PI?i+=Us:i>Math.PI&&(i-=Us),r<=i?this._spherical.theta=Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let o=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const a=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),o=a!=this._spherical.radius}if(zo.setFromSpherical(this._spherical),zo.applyQuaternion(this._quatInverse),n.copy(this.target).add(zo),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let a=null;if(this.object.isPerspectiveCamera){const s=zo.length();a=this._clampDistance(s*this._scale);const l=s-a;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),o=!!l}else if(this.object.isOrthographicCamera){const s=new ve(this._mouse.x,this._mouse.y,0);s.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),o=l!==this.object.zoom;const c=new ve(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(s),this.object.updateMatrixWorld(),a=zo.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;a!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(a).add(this.object.position):(Hw.origin.copy(this.object.position),Hw.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(Hw.direction))<sst?this.object.lookAt(this.target):(oX.setFromNormalAndCoplanarPoint(this.object.up,this.target),Hw.intersectPlane(oX,this.target))))}else if(this.object.isOrthographicCamera){const a=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),a!==this.object.zoom&&(this.object.updateProjectionMatrix(),o=!0)}return this._scale=1,this._performCursorZoom=!1,o||this._lastPosition.distanceToSquared(this.object.position)>EI||8*(1-this._lastQuaternion.dot(this.object.quaternion))>EI||this._lastTargetPosition.distanceToSquared(this.target)>EI?(this.dispatchEvent(iX),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?Us/60*this.autoRotateSpeed*e:Us/60/60*this.autoRotateSpeed}_getZoomScale(e){const n=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,n){zo.setFromMatrixColumn(n,0),zo.multiplyScalar(-e),this._panOffset.add(zo)}_panUp(e,n){this.screenSpacePanning===!0?zo.setFromMatrixColumn(n,1):(zo.setFromMatrixColumn(n,0),zo.crossVectors(this.object.up,zo)),zo.multiplyScalar(e),this._panOffset.add(zo)}_pan(e,n){const r=this.domElement;if(this.object.isPerspectiveCamera){const i=this.object.position;zo.copy(i).sub(this.target);let o=zo.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*o/r.clientHeight,this.object.matrix),this._panUp(2*n*o/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),i=e-r.left,o=n-r.top,a=r.width,s=r.height;this._mouse.x=i/a*2-1,this._mouse.y=-(o/s)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(Us*this._rotateDelta.x/n.clientHeight),this._rotateUp(Us*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let n=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Us*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Us*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Us*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Us*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._rotateStart.set(r,i)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._panStart.set(r,i)}}_handleTouchStartDolly(e){const n=this._getSecondPointerPosition(e),r=e.pageX-n.x,i=e.pageY-n.y,o=Math.sqrt(r*r+i*i);this._dollyStart.set(0,o)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e),i=.5*(e.pageX+r.x),o=.5*(e.pageY+r.y);this._rotateEnd.set(i,o)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(Us*this._rotateDelta.x/n.clientHeight),this._rotateUp(Us*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._panEnd.set(r,i)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const n=this._getSecondPointerPosition(e),r=e.pageX-n.x,i=e.pageY-n.y,o=Math.sqrt(r*r+i*i);this._dollyEnd.set(0,o),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const a=(e.pageX+n.x)*.5,s=(e.pageY+n.y)*.5;this._updateZoomParameters(a,s)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(e){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId)return!0;return!1}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new Ft,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(e){const n=e.deltaMode,r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(n){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function cst(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.ownerDocument.addEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function ust(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function dst(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(vde),this.state=Ei.NONE;break;case 1:const e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y});break}}function fst(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case pc.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=Ei.DOLLY;break;case pc.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=Ei.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=Ei.ROTATE}break;case pc.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=Ei.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=Ei.PAN}break;default:this.state=Ei.NONE}this.state!==Ei.NONE&&this.dispatchEvent(E7)}function hst(t){switch(this.state){case Ei.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case Ei.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case Ei.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function pst(t){this.enabled===!1||this.enableZoom===!1||this.state!==Ei.NONE||(t.preventDefault(),this.dispatchEvent(E7),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(vde))}function mst(t){this.enabled!==!1&&this._handleKeyDown(t)}function gst(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case Kg.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=Ei.TOUCH_ROTATE;break;case Kg.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=Ei.TOUCH_PAN;break;default:this.state=Ei.NONE}break;case 2:switch(this.touches.TWO){case Kg.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=Ei.TOUCH_DOLLY_PAN;break;case Kg.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=Ei.TOUCH_DOLLY_ROTATE;break;default:this.state=Ei.NONE}break;default:this.state=Ei.NONE}this.state!==Ei.NONE&&this.dispatchEvent(E7)}function Ast(t){switch(this._trackPointer(t),this.state){case Ei.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case Ei.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case Ei.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case Ei.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=Ei.NONE}}function vst(t){this.enabled!==!1&&t.preventDefault()}function yst(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function bst(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const xst={type:"change"},aX=1e-6,sX=new pu;class Sst extends wF{constructor(e,n=null){super(e,n),this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1,this._moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this._moveVector=new ve(0,0,0),this._rotationVector=new ve(0,0,0),this._lastQuaternion=new pu,this._lastPosition=new ve,this._status=0,this._onKeyDown=_st.bind(this),this._onKeyUp=wst.bind(this),this._onPointerMove=Tst.bind(this),this._onPointerDown=Cst.bind(this),this._onPointerUp=Est.bind(this),this._onPointerCancel=Mst.bind(this),this._onContextMenu=Rst.bind(this),n!==null&&this.connect(n)}connect(e){super.connect(e),window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointerup",this._onPointerUp),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("contextmenu",this._onContextMenu)}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("contextmenu",this._onContextMenu)}dispose(){this.disconnect()}update(e){if(this.enabled===!1)return;const n=this.object,r=e*this.movementSpeed,i=e*this.rollSpeed;n.translateX(this._moveVector.x*r),n.translateY(this._moveVector.y*r),n.translateZ(this._moveVector.z*r),sX.set(this._rotationVector.x*i,this._rotationVector.y*i,this._rotationVector.z*i,1).normalize(),n.quaternion.multiply(sX),(this._lastPosition.distanceToSquared(n.position)>aX||8*(1-this._lastQuaternion.dot(n.quaternion))>aX)&&(this.dispatchEvent(xst),this._lastQuaternion.copy(n.quaternion),this._lastPosition.copy(n.position))}_updateMovementVector(){const e=this._moveState.forward||this.autoForward&&!this._moveState.back?1:0;this._moveVector.x=-this._moveState.left+this._moveState.right,this._moveVector.y=-this._moveState.down+this._moveState.up,this._moveVector.z=-e+this._moveState.back}_updateRotationVector(){this._rotationVector.x=-this._moveState.pitchDown+this._moveState.pitchUp,this._rotationVector.y=-this._moveState.yawRight+this._moveState.yawLeft,this._rotationVector.z=-this._moveState.rollRight+this._moveState.rollLeft}_getContainerDimensions(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}}}function _st(t){if(!(t.altKey||this.enabled===!1)){switch(t.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this._moveState.forward=1;break;case"KeyS":this._moveState.back=1;break;case"KeyA":this._moveState.left=1;break;case"KeyD":this._moveState.right=1;break;case"KeyR":this._moveState.up=1;break;case"KeyF":this._moveState.down=1;break;case"ArrowUp":this._moveState.pitchUp=1;break;case"ArrowDown":this._moveState.pitchDown=1;break;case"ArrowLeft":this._moveState.yawLeft=1;break;case"ArrowRight":this._moveState.yawRight=1;break;case"KeyQ":this._moveState.rollLeft=1;break;case"KeyE":this._moveState.rollRight=1;break}this._updateMovementVector(),this._updateRotationVector()}}function wst(t){if(this.enabled!==!1){switch(t.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this._moveState.forward=0;break;case"KeyS":this._moveState.back=0;break;case"KeyA":this._moveState.left=0;break;case"KeyD":this._moveState.right=0;break;case"KeyR":this._moveState.up=0;break;case"KeyF":this._moveState.down=0;break;case"ArrowUp":this._moveState.pitchUp=0;break;case"ArrowDown":this._moveState.pitchDown=0;break;case"ArrowLeft":this._moveState.yawLeft=0;break;case"ArrowRight":this._moveState.yawRight=0;break;case"KeyQ":this._moveState.rollLeft=0;break;case"KeyE":this._moveState.rollRight=0;break}this._updateMovementVector(),this._updateRotationVector()}}function Cst(t){if(this.enabled!==!1)if(this.dragToLook)this._status++;else{switch(t.button){case 0:this._moveState.forward=1;break;case 2:this._moveState.back=1;break}this._updateMovementVector()}}function Tst(t){if(this.enabled!==!1&&(!this.dragToLook||this._status>0)){const e=this._getContainerDimensions(),n=e.size[0]/2,r=e.size[1]/2;this._moveState.yawLeft=-(t.pageX-e.offset[0]-n)/n,this._moveState.pitchDown=(t.pageY-e.offset[1]-r)/r,this._updateRotationVector()}}function Est(t){if(this.enabled!==!1){if(this.dragToLook)this._status--,this._moveState.yawLeft=this._moveState.pitchDown=0;else{switch(t.button){case 0:this._moveState.forward=0;break;case 2:this._moveState.back=0;break}this._updateMovementVector()}this._updateRotationVector()}}function Mst(){this.enabled!==!1&&(this.dragToLook?(this._status=0,this._moveState.yawLeft=this._moveState.pitchDown=0):(this._moveState.forward=0,this._moveState.back=0,this._updateMovementVector()),this._updateRotationVector())}function Rst(t){this.enabled!==!1&&t.preventDefault()}const Pst={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class MR{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Nst=new hy(-1,1,1,-1,0,1);class Ist extends ei{constructor(){super(),this.setAttribute("position",new Gr([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Gr([0,2,0,0,2,0],2))}}const Dst=new Ist;class Ost{constructor(e){this._mesh=new Qr(Dst,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Nst)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class Lst extends MR{constructor(e,n="tDiffuse"){super(),this.textureID=n,this.uniforms=null,this.material=null,e instanceof as?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=DM.clone(e.uniforms),this.material=new as({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this._fsQuad=new Ost(this.material)}render(e,n,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this._fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this._fsQuad.render(e))}dispose(){this.material.dispose(),this._fsQuad.dispose()}}class lX extends MR{constructor(e,n){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,n,r){const i=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let a,s;this.inverse?(a=0,s=1):(a=1,s=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),o.buffers.stencil.setFunc(i.ALWAYS,a,4294967295),o.buffers.stencil.setClear(s),o.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(i.EQUAL,1,4294967295),o.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),o.buffers.stencil.setLocked(!0)}}class Bst extends MR{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Fst{constructor(e,n){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),n===void 0){const r=e.getSize(new Ft);this._width=r.width,this._height=r.height,n=new cu(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Ui}),n.texture.name="EffectComposer.rt1"}else this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Lst(Pst),this.copyPass.material.blending=Ms,this.clock=new Die}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,n){this.passes.splice(n,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const n=this.passes.indexOf(e);n!==-1&&this.passes.splice(n,1)}isLastEnabledPass(e){for(let n=e+1;n<this.passes.length;n++)if(this.passes[n].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const n=this.renderer.getRenderTarget();let r=!1;for(let i=0,o=this.passes.length;i<o;i++){const a=this.passes[i];if(a.enabled!==!1){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),a.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),a.needsSwap){if(r){const s=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}lX!==void 0&&(a instanceof lX?r=!0:a instanceof Bst&&(r=!1))}}this.renderer.setRenderTarget(n)}reset(e){if(e===void 0){const n=this.renderer.getSize(new Ft);this._pixelRatio=this.renderer.getPixelRatio(),this._width=n.width,this._height=n.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,n){this._width=e,this._height=n;const r=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(r,i),this.renderTarget2.setSize(r,i);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(r,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class $st extends MR{constructor(e,n,r=null,i=null,o=null){super(),this.scene=e,this.camera=n,this.overrideMaterial=r,this.clearColor=i,this.clearAlpha=o,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this.isRenderPass=!0,this._oldClearColor=new En}render(e,n,r){const i=e.autoClear;e.autoClear=!1;let o,a;this.overrideMaterial!==null&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(o=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(o),this.overrideMaterial!==null&&(this.scene.overrideMaterial=a),e.autoClear=i}}function M7(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$A(t,e)}var Qu=function(t){M7(e,t);function e(n){var r;return r=t.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this,Mr(r)}return e}(LT(Error));function MI(t){return Math.round(t*255)}function Ust(t,e,n){return MI(t)+","+MI(e)+","+MI(n)}function n2(t,e,n,r){if(r===void 0&&(r=Ust),e===0)return r(n,n,n);var i=(t%360+360)%360/60,o=(1-Math.abs(2*n-1))*e,a=o*(1-Math.abs(i%2-1)),s=0,l=0,c=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,c=a):i>=3&&i<4?(l=a,c=o):i>=4&&i<5?(s=a,c=o):i>=5&&i<6&&(s=o,c=a);var u=n-o/2,d=s+u,f=l+u,h=c+u;return r(d,f,h)}var cX={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function kst(t){if(typeof t!="string")return t;var e=t.toLowerCase();return cX[e]?"#"+cX[e]:t}var Vst=/^#[a-fA-F0-9]{6}$/,zst=/^#[a-fA-F0-9]{8}$/,Gst=/^#[a-fA-F0-9]{3}$/,Hst=/^#[a-fA-F0-9]{4}$/,RI=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,jst=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,qst=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Wst=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function a0(t){if(typeof t!="string")throw new Qu(3);var e=kst(t);if(e.match(Vst))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(zst)){var n=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:n}}if(e.match(Gst))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(Hst)){var r=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:r}}var i=RI.exec(e);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=jst.exec(e.substring(0,50));if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])>1?parseFloat(""+o[4])/100:parseFloat(""+o[4])};var a=qst.exec(e);if(a){var s=parseInt(""+a[1],10),l=parseInt(""+a[2],10)/100,c=parseInt(""+a[3],10)/100,u="rgb("+n2(s,l,c)+")",d=RI.exec(u);if(!d)throw new Qu(4,e,u);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10)}}var f=Wst.exec(e.substring(0,50));if(f){var h=parseInt(""+f[1],10),p=parseInt(""+f[2],10)/100,x=parseInt(""+f[3],10)/100,b="rgb("+n2(h,p,x)+")",y=RI.exec(b);if(!y)throw new Qu(4,e,b);return{red:parseInt(""+y[1],10),green:parseInt(""+y[2],10),blue:parseInt(""+y[3],10),alpha:parseFloat(""+f[4])>1?parseFloat(""+f[4])/100:parseFloat(""+f[4])}}throw new Qu(5)}function Xst(t){var e=t.red/255,n=t.green/255,r=t.blue/255,i=Math.max(e,n,r),o=Math.min(e,n,r),a=(i+o)/2;if(i===o)return t.alpha!==void 0?{hue:0,saturation:0,lightness:a,alpha:t.alpha}:{hue:0,saturation:0,lightness:a};var s,l=i-o,c=a>.5?l/(2-i-o):l/(i+o);switch(i){case e:s=(n-r)/l+(n<r?6:0);break;case n:s=(r-e)/l+2;break;default:s=(e-n)/l+4;break}return s*=60,t.alpha!==void 0?{hue:s,saturation:c,lightness:a,alpha:t.alpha}:{hue:s,saturation:c,lightness:a}}function vp(t){return Xst(a0(t))}var Yst=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},F6=Yst;function Zp(t){var e=t.toString(16);return e.length===1?"0"+e:e}function PI(t){return Zp(Math.round(t*255))}function Kst(t,e,n){return F6("#"+PI(t)+PI(e)+PI(n))}function XE(t,e,n){return n2(t,e,n,Kst)}function Qst(t,e,n){if(typeof t=="number"&&typeof e=="number"&&typeof n=="number")return XE(t,e,n);if(typeof t=="object"&&e===void 0&&n===void 0)return XE(t.hue,t.saturation,t.lightness);throw new Qu(1)}function Zst(t,e,n,r){if(typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number")return r>=1?XE(t,e,n):"rgba("+n2(t,e,n)+","+r+")";if(typeof t=="object"&&e===void 0&&n===void 0&&r===void 0)return t.alpha>=1?XE(t.hue,t.saturation,t.lightness):"rgba("+n2(t.hue,t.saturation,t.lightness)+","+t.alpha+")";throw new Qu(2)}function $6(t,e,n){if(typeof t=="number"&&typeof e=="number"&&typeof n=="number")return F6("#"+Zp(t)+Zp(e)+Zp(n));if(typeof t=="object"&&e===void 0&&n===void 0)return F6("#"+Zp(t.red)+Zp(t.green)+Zp(t.blue));throw new Qu(6)}function RR(t,e,n,r){if(typeof t=="string"&&typeof e=="number"){var i=a0(t);return"rgba("+i.red+","+i.green+","+i.blue+","+e+")"}else{if(typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number")return r>=1?$6(t,e,n):"rgba("+t+","+e+","+n+","+r+")";if(typeof t=="object"&&e===void 0&&n===void 0&&r===void 0)return t.alpha>=1?$6(t.red,t.green,t.blue):"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"}throw new Qu(7)}var Jst=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},elt=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},tlt=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},nlt=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"};function yp(t){if(typeof t!="object")throw new Qu(8);if(elt(t))return RR(t);if(Jst(t))return $6(t);if(nlt(t))return Zst(t);if(tlt(t))return Qst(t);throw new Qu(8)}function yde(t,e,n){return function(){var i=n.concat(Array.prototype.slice.call(arguments));return i.length>=e?t.apply(this,i):yde(t,e,i)}}function zl(t){return yde(t,t.length,[])}function rlt(t,e){if(e==="transparent")return e;var n=vp(e);return yp(it({},n,{hue:n.hue+parseFloat(t)}))}zl(rlt);function by(t,e,n){return Math.max(t,Math.min(e,n))}function ilt(t,e){if(e==="transparent")return e;var n=vp(e);return yp(it({},n,{lightness:by(0,1,n.lightness-parseFloat(t))}))}zl(ilt);function olt(t,e){if(e==="transparent")return e;var n=vp(e);return yp(it({},n,{saturation:by(0,1,n.saturation-parseFloat(t))}))}zl(olt);function alt(t,e){if(e==="transparent")return e;var n=vp(e);return yp(it({},n,{lightness:by(0,1,n.lightness+parseFloat(t))}))}zl(alt);function slt(t,e,n){if(e==="transparent")return n;if(n==="transparent")return e;if(t===0)return n;var r=a0(e),i=it({},r,{alpha:typeof r.alpha=="number"?r.alpha:1}),o=a0(n),a=it({},o,{alpha:typeof o.alpha=="number"?o.alpha:1}),s=i.alpha-a.alpha,l=parseFloat(t)*2-1,c=l*s===-1?l:l+s,u=1+l*s,d=(c/u+1)/2,f=1-d,h={red:Math.floor(i.red*d+a.red*f),green:Math.floor(i.green*d+a.green*f),blue:Math.floor(i.blue*d+a.blue*f),alpha:i.alpha*parseFloat(t)+a.alpha*(1-parseFloat(t))};return RR(h)}var llt=zl(slt),bde=llt;function clt(t,e){if(e==="transparent")return e;var n=a0(e),r=typeof n.alpha=="number"?n.alpha:1,i=it({},n,{alpha:by(0,1,(r*100+parseFloat(t)*100)/100)});return RR(i)}var ult=zl(clt),dlt=ult;function flt(t,e){if(e==="transparent")return e;var n=vp(e);return yp(it({},n,{saturation:by(0,1,n.saturation+parseFloat(t))}))}zl(flt);function hlt(t,e){return e==="transparent"?e:yp(it({},vp(e),{hue:parseFloat(t)}))}zl(hlt);function plt(t,e){return e==="transparent"?e:yp(it({},vp(e),{lightness:parseFloat(t)}))}zl(plt);function mlt(t,e){return e==="transparent"?e:yp(it({},vp(e),{saturation:parseFloat(t)}))}zl(mlt);function glt(t,e){return e==="transparent"?e:bde(parseFloat(t),"rgb(0, 0, 0)",e)}zl(glt);function Alt(t,e){return e==="transparent"?e:bde(parseFloat(t),"rgb(255, 255, 255)",e)}zl(Alt);function vlt(t,e){if(e==="transparent")return e;var n=a0(e),r=typeof n.alpha=="number"?n.alpha:1,i=it({},n,{alpha:by(0,1,+(r*100-parseFloat(t)*100).toFixed(2)/100)});return RR(i)}zl(vlt);var U6="http://www.w3.org/1999/xhtml";const uX={svg:"http://www.w3.org/2000/svg",xhtml:U6,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xde(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),uX.hasOwnProperty(e)?{space:uX[e],local:t}:t}function ylt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===U6&&e.documentElement.namespaceURI===U6?e.createElement(t):e.createElementNS(n,t)}}function blt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Sde(t){var e=xde(t);return(e.local?blt:ylt)(e)}function xlt(){}function _de(t){return t==null?xlt:function(){return this.querySelector(t)}}function Slt(t){typeof t!="function"&&(t=_de(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,c,u=0;u<a;++u)(l=o[u])&&(c=t.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Pc(r,this._parents)}function _lt(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function wlt(){return[]}function Clt(t){return t==null?wlt:function(){return this.querySelectorAll(t)}}function Tlt(t){return function(){return _lt(t.apply(this,arguments))}}function Elt(t){typeof t=="function"?t=Tlt(t):t=Clt(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(r.push(t.call(l,l.__data__,c,a)),i.push(l));return new Pc(r,i)}function Mlt(t){return function(){return this.matches(t)}}function wde(t){return function(e){return e.matches(t)}}var Rlt=Array.prototype.find;function Plt(t){return function(){return Rlt.call(this.children,t)}}function Nlt(){return this.firstElementChild}function Ilt(t){return this.select(t==null?Nlt:Plt(typeof t=="function"?t:wde(t)))}var Dlt=Array.prototype.filter;function Olt(){return Array.from(this.children)}function Llt(t){return function(){return Dlt.call(this.children,t)}}function Blt(t){return this.selectAll(t==null?Olt:Llt(typeof t=="function"?t:wde(t)))}function Flt(t){typeof t!="function"&&(t=Mlt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&s.push(l);return new Pc(r,this._parents)}function Cde(t){return new Array(t.length)}function $lt(){return new Pc(this._enter||this._groups.map(Cde),this._parents)}function YE(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}YE.prototype={constructor:YE,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ult(t){return function(){return t}}function klt(t,e,n,r,i,o){for(var a=0,s,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new YE(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function Vlt(t,e,n,r,i,o,a){var s,l,c=new Map,u=e.length,d=o.length,f=new Array(u),h;for(s=0;s<u;++s)(l=e[s])&&(f[s]=h=a.call(l,l.__data__,s,e)+"",c.has(h)?i[s]=l:c.set(h,l));for(s=0;s<d;++s)h=a.call(t,o[s],s,o)+"",(l=c.get(h))?(r[s]=l,l.__data__=o[s],c.delete(h)):n[s]=new YE(t,o[s]);for(s=0;s<u;++s)(l=e[s])&&c.get(f[s])===l&&(i[s]=l)}function zlt(t){return t.__data__}function Glt(t,e){if(!arguments.length)return Array.from(this,zlt);var n=e?Vlt:klt,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ult(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],f=d.length,h=Hlt(t.call(u,u&&u.__data__,c,r)),p=h.length,x=s[c]=new Array(p),b=a[c]=new Array(p),y=l[c]=new Array(f);n(u,d,x,b,y,h,e);for(var _=0,C=0,E,M;_<p;++_)if(E=x[_]){for(_>=C&&(C=_+1);!(M=b[C])&&++C<p;);E._next=M||null}}return a=new Pc(a,r),a._enter=s,a._exit=l,a}function Hlt(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jlt(){return new Pc(this._exit||this._groups.map(Cde),this._parents)}function qlt(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Wlt(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c=n[l],u=r[l],d=c.length,f=s[l]=new Array(d),h,p=0;p<d;++p)(h=c[p]||u[p])&&(f[p]=h);for(;l<i;++l)s[l]=n[l];return new Pc(s,this._parents)}function Xlt(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Ylt(t){t||(t=Klt);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(e)}return new Pc(i,this._parents).order()}function Klt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Qlt(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Zlt(){return Array.from(this)}function Jlt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ect(){let t=0;for(const e of this)++t;return t}function tct(){return!this.node()}function nct(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function rct(t){return function(){this.removeAttribute(t)}}function ict(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oct(t,e){return function(){this.setAttribute(t,e)}}function act(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function sct(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function lct(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function cct(t,e){var n=xde(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ict:rct:typeof e=="function"?n.local?lct:sct:n.local?act:oct)(n,e))}function Tde(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function uct(t){return function(){this.style.removeProperty(t)}}function dct(t,e,n){return function(){this.style.setProperty(t,e,n)}}function fct(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function hct(t,e,n){return arguments.length>1?this.each((e==null?uct:typeof e=="function"?fct:dct)(t,e,n??"")):pct(this.node(),t)}function pct(t,e){return t.style.getPropertyValue(e)||Tde(t).getComputedStyle(t,null).getPropertyValue(e)}function mct(t){return function(){delete this[t]}}function gct(t,e){return function(){this[t]=e}}function Act(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function vct(t,e){return arguments.length>1?this.each((e==null?mct:typeof e=="function"?Act:gct)(t,e)):this.node()[t]}function Ede(t){return t.trim().split(/^|\s+/)}function R7(t){return t.classList||new Mde(t)}function Mde(t){this._node=t,this._names=Ede(t.getAttribute("class")||"")}Mde.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Rde(t,e){for(var n=R7(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Pde(t,e){for(var n=R7(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function yct(t){return function(){Rde(this,t)}}function bct(t){return function(){Pde(this,t)}}function xct(t,e){return function(){(e.apply(this,arguments)?Rde:Pde)(this,t)}}function Sct(t,e){var n=Ede(t+"");if(arguments.length<2){for(var r=R7(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?xct:e?yct:bct)(n,e))}function _ct(){this.textContent=""}function wct(t){return function(){this.textContent=t}}function Cct(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Tct(t){return arguments.length?this.each(t==null?_ct:(typeof t=="function"?Cct:wct)(t)):this.node().textContent}function Ect(){this.innerHTML=""}function Mct(t){return function(){this.innerHTML=t}}function Rct(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Pct(t){return arguments.length?this.each(t==null?Ect:(typeof t=="function"?Rct:Mct)(t)):this.node().innerHTML}function Nct(){this.nextSibling&&this.parentNode.appendChild(this)}function Ict(){return this.each(Nct)}function Dct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Oct(){return this.each(Dct)}function Lct(t){var e=typeof t=="function"?t:Sde(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Bct(){return null}function Fct(t,e){var n=typeof t=="function"?t:Sde(t),r=e==null?Bct:typeof e=="function"?e:_de(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function $ct(){var t=this.parentNode;t&&t.removeChild(this)}function Uct(){return this.each($ct)}function kct(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vct(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zct(t){return this.select(t?Vct:kct)}function Gct(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Hct(t){return function(e){t.call(this,e,this.__data__)}}function jct(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function qct(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Wct(t,e,n){return function(){var r=this.__on,i,o=Hct(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Xct(t,e,n){var r=jct(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=e?Wct:qct,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Nde(t,e,n){var r=Tde(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Yct(t,e){return function(){return Nde(this,t,e)}}function Kct(t,e){return function(){return Nde(this,t,e.apply(this,arguments))}}function Qct(t,e){return this.each((typeof e=="function"?Kct:Yct)(t,e))}function*Zct(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Jct=[null];function Pc(t,e){this._groups=t,this._parents=e}function eut(){return this}Pc.prototype={constructor:Pc,select:Slt,selectAll:Elt,selectChild:Ilt,selectChildren:Blt,filter:Flt,data:Glt,enter:$lt,exit:jlt,join:qlt,merge:Wlt,selection:eut,order:Xlt,sort:Ylt,call:Qlt,nodes:Zlt,node:Jlt,size:ect,empty:tct,each:nct,attr:cct,style:hct,property:vct,classed:Sct,text:Tct,html:Pct,raise:Ict,lower:Oct,append:Lct,insert:Fct,remove:Uct,clone:zct,datum:Gct,on:Xct,dispatch:Qct,[Symbol.iterator]:Zct};function tut(t){return typeof t=="string"?new Pc([[document.querySelector(t)]],[document.documentElement]):new Pc([[t]],Jct)}function nut(t){let e;for(;e=t.sourceEvent;)t=e;return t}function rut(t,e){if(t=nut(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var sS,Qi,Ide,Dde,cm,dX,Ode,Lde,Bde,P7,k6,V6,r2={},Fde=[],iut=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,PR=Array.isArray;function Zu(t,e){for(var n in e)t[n]=e[n];return t}function N7(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function out(t,e,n){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?sS.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return Ob(t,a,r,i,null)}function Ob(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Ide,__i:-1,__u:0};return i==null&&Qi.vnode!=null&&Qi.vnode(o),o}function NR(t){return t.children}function jC(t,e){this.props=t,this.context=e}function $v(t,e){if(e==null)return t.__?$v(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?$v(t):null}function $de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return $de(t)}}function fX(t){(!t.__d&&(t.__d=!0)&&cm.push(t)&&!KE.__r++||dX!=Qi.debounceRendering)&&((dX=Qi.debounceRendering)||Ode)(KE)}function KE(){for(var t,e,n,r,i,o,a,s=1;cm.length;)cm.length>s&&cm.sort(Lde),t=cm.shift(),s=cm.length,t.__d&&(n=void 0,r=void 0,i=(r=(e=t).__v).__e,o=[],a=[],e.__P&&((n=Zu({},r)).__v=r.__v+1,Qi.vnode&&Qi.vnode(n),I7(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,o,i??$v(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,Vde(o,n,a),r.__e=r.__=null,n.__e!=i&&$de(n)));KE.__r=0}function Ude(t,e,n,r,i,o,a,s,l,c,u){var d,f,h,p,x,b,y,_=r&&r.__k||Fde,C=e.length;for(l=aut(n,e,_,l,C),d=0;d<C;d++)(h=n.__k[d])!=null&&(f=h.__i==-1?r2:_[h.__i]||r2,h.__i=d,b=I7(t,h,f,i,o,a,s,l,c,u),p=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&D7(f.ref,null,h),u.push(h.ref,h.__c||p,h)),x==null&&p!=null&&(x=p),(y=!!(4&h.__u))||f.__k===h.__k?l=kde(h,l,t,y):typeof h.type=="function"&&b!==void 0?l=b:p&&(l=p.nextSibling),h.__u&=-7);return n.__e=x,l}function aut(t,e,n,r,i){var o,a,s,l,c,u=n.length,d=u,f=0;for(t.__k=new Array(i),o=0;o<i;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=t.__k[o]=Ob(null,a,null,null,null):PR(a)?a=t.__k[o]=Ob(NR,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?a=t.__k[o]=Ob(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):t.__k[o]=a,l=o+f,a.__=t,a.__b=t.__b+1,s=null,(c=a.__i=sut(a,n,l,d))!=-1&&(d--,(s=n[c])&&(s.__u|=2)),s==null||s.__v==null?(c==-1&&(i>u?f--:i<u&&f++),typeof a.type!="function"&&(a.__u|=4)):c!=l&&(c==l-1?f--:c==l+1?f++:(c>l?f--:f++,a.__u|=4))):t.__k[o]=null;if(d)for(o=0;o<u;o++)(s=n[o])!=null&&!(2&s.__u)&&(s.__e==r&&(r=$v(s)),Gde(s,s));return r}function kde(t,e,n,r){var i,o;if(typeof t.type=="function"){for(i=t.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=t,e=kde(i[o],e,n,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=$v(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function sut(t,e,n,r){var i,o,a,s=t.key,l=t.type,c=e[n],u=c!=null&&(2&c.__u)==0;if(c===null&&s==null||u&&s==c.key&&l==c.type)return n;if(r>(u?1:0)){for(i=n-1,o=n+1;i>=0||o<e.length;)if((c=e[a=i>=0?i--:o++])!=null&&!(2&c.__u)&&s==c.key&&l==c.type)return a}return-1}function hX(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||iut.test(e)?n:n+"px"}function jw(t,e,n,r,i){var o,a;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||hX(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||hX(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(Bde,"$1")),a=e.toLowerCase(),e=a in t||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r?n.u=r.u:(n.u=P7,t.addEventListener(e,o?V6:k6,o)):t.removeEventListener(e,o?V6:k6,o);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function pX(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=P7++;else if(e.t<n.u)return;return n(Qi.event?Qi.event(e):e)}}}function I7(t,e,n,r,i,o,a,s,l,c){var u,d,f,h,p,x,b,y,_,C,E,M,R,N,O,I,L,F=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),o=[s=e.__e=n.__e]),(u=Qi.__b)&&u(e);e:if(typeof F=="function")try{if(y=e.props,_="prototype"in F&&F.prototype.render,C=(u=F.contextType)&&r[u.__c],E=u?C?C.props.value:u.__:r,n.__c?b=(d=e.__c=n.__c).__=d.__E:(_?e.__c=d=new F(y,E):(e.__c=d=new jC(y,E),d.constructor=F,d.render=cut),C&&C.sub(d),d.state||(d.state={}),d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),_&&d.__s==null&&(d.__s=d.state),_&&F.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Zu({},d.__s)),Zu(d.__s,F.getDerivedStateFromProps(y,d.__s))),h=d.props,p=d.state,d.__v=e,f)_&&F.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),_&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(_&&F.getDerivedStateFromProps==null&&y!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(y,E),e.__v==n.__v||!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(y,d.__s,E)===!1){for(e.__v!=n.__v&&(d.props=y,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function($){$&&($.__=e)}),M=0;M<d._sb.length;M++)d.__h.push(d._sb[M]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(y,d.__s,E),_&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,p,x)})}if(d.context=E,d.props=y,d.__P=t,d.__e=!1,R=Qi.__r,N=0,_){for(d.state=d.__s,d.__d=!1,R&&R(e),u=d.render(d.props,d.state,d.context),O=0;O<d._sb.length;O++)d.__h.push(d._sb[O]);d._sb=[]}else do d.__d=!1,R&&R(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++N<25);d.state=d.__s,d.getChildContext!=null&&(r=Zu(Zu({},r),d.getChildContext())),_&&!f&&d.getSnapshotBeforeUpdate!=null&&(x=d.getSnapshotBeforeUpdate(h,p)),I=u,u!=null&&u.type===NR&&u.key==null&&(I=zde(u.props.children)),s=Ude(t,PR(I)?I:[I],e,n,r,i,o,a,s,l,c),d.base=e.__e,e.__u&=-161,d.__h.length&&a.push(d),b&&(d.__E=d.__=null)}catch($){if(e.__v=null,l||o!=null)if($.then){for(e.__u|=l?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;o[o.indexOf(s)]=null,e.__e=s}else{for(L=o.length;L--;)N7(o[L]);z6(e)}else e.__e=n.__e,e.__k=n.__k,$.then||z6(e);Qi.__e($,e,n)}else o==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):s=e.__e=lut(n.__e,e,n,r,i,o,a,l,c);return(u=Qi.diffed)&&u(e),128&e.__u?void 0:s}function z6(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(z6)}function Vde(t,e,n){for(var r=0;r<n.length;r++)D7(n[r],n[++r],n[++r]);Qi.__c&&Qi.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(o){o.call(i)})}catch(o){Qi.__e(o,i.__v)}})}function zde(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:PR(t)?t.map(zde):Zu({},t)}function lut(t,e,n,r,i,o,a,s,l){var c,u,d,f,h,p,x,b=n.props||r2,y=e.props,_=e.type;if(_=="svg"?i="http://www.w3.org/2000/svg":_=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(c=0;c<o.length;c++)if((h=o[c])&&"setAttribute"in h==!!_&&(_?h.localName==_:h.nodeType==3)){t=h,o[c]=null;break}}if(t==null){if(_==null)return document.createTextNode(y);t=document.createElementNS(i,_,y.is&&y),s&&(Qi.__m&&Qi.__m(e,o),s=!1),o=null}if(_==null)b===y||s&&t.data==y||(t.data=y);else{if(o=o&&sS.call(t.childNodes),!s&&o!=null)for(b={},c=0;c<t.attributes.length;c++)b[(h=t.attributes[c]).name]=h.value;for(c in b)if(h=b[c],c!="children"){if(c=="dangerouslySetInnerHTML")d=h;else if(!(c in y)){if(c=="value"&&"defaultValue"in y||c=="checked"&&"defaultChecked"in y)continue;jw(t,c,null,h,i)}}for(c in y)h=y[c],c=="children"?f=h:c=="dangerouslySetInnerHTML"?u=h:c=="value"?p=h:c=="checked"?x=h:s&&typeof h!="function"||b[c]===h||jw(t,c,h,b[c],i);if(u)s||d&&(u.__html==d.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(d&&(t.innerHTML=""),Ude(e.type=="template"?t.content:t,PR(f)?f:[f],e,n,r,_=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:n.__k&&$v(n,0),s,l),o!=null)for(c=o.length;c--;)N7(o[c]);s||(c="value",_=="progress"&&p==null?t.removeAttribute("value"):p!=null&&(p!==t[c]||_=="progress"&&!p||_=="option"&&p!=b[c])&&jw(t,c,p,b[c],i),c="checked",x!=null&&x!=t[c]&&jw(t,c,x,b[c],i))}return t}function D7(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Qi.__e(i,n)}}function Gde(t,e,n){var r,i;if(Qi.unmount&&Qi.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||D7(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Qi.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Gde(r[i],e,n||typeof t.type!="function");n||N7(t.__e),t.__c=t.__=t.__e=void 0}function cut(t,e,n){return this.constructor(t,n)}function uut(t,e,n){var r,i,o,a;e==document&&(e=document.documentElement),Qi.__&&Qi.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],a=[],I7(e,t=(!r&&n||e).__k=out(NR,null,[t]),i||r2,r2,e.namespaceURI,!r&&n?[n]:i?null:e.firstChild?sS.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r,a),Vde(o,t,a)}function Hde(t,e,n){var r,i,o,a,s=Zu({},t.props);for(o in t.type&&t.type.defaultProps&&(a=t.type.defaultProps),e)o=="key"?r=e[o]:o=="ref"?i=e[o]:s[o]=e[o]===void 0&&a!=null?a[o]:e[o];return arguments.length>2&&(s.children=arguments.length>3?sS.call(arguments,2):n),Ob(t.type,s,r||t.key,i||t.ref,null)}sS=Fde.slice,Qi={__e:function(t,e,n,r){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(s){t=s}throw t}},Ide=0,Dde=function(t){return t!=null&&t.constructor===void 0},jC.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Zu({},this.state),typeof t=="function"&&(t=t(Zu({},n),this.props)),t&&Zu(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),fX(this))},jC.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),fX(this))},jC.prototype.render=NR,cm=[],Ode=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Lde=function(t,e){return t.__v.__b-e.__v.__b},KE.__r=0,Bde=/(PointerCapture)$|Capture$/i,P7=0,k6=pX(!1),V6=pX(!0);function mX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dut(t){if(Array.isArray(t))return t}function fut(t,e,n){return(e=vut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hut(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function put(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gX(Object(n),!0).forEach(function(r){fut(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gut(t,e){return dut(t)||hut(t,e)||yut(t,e)||put()}function Aut(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vut(t){var e=Aut(t,"string");return typeof e=="symbol"?e:e+""}function QE(t){"@babel/helpers - typeof";return QE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QE(t)}function yut(t,e){if(t){if(typeof t=="string")return mX(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mX(t,e):void 0}}var G6=function(e){if(QE(e)!=="object")return e;var n=Hde(e);if(n.props){var r;n.props=mut({},n.props),n!=null&&(r=n.props)!==null&&r!==void 0&&r.children&&(n.props.children=Array.isArray(n.props.children)?n.props.children.map(G6):G6(n.props.children))}return n},but=function(e){return Dde(Hde(e))},xut=function(e,n){delete n.__k,uut(G6(e),n)};function Sut(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var _ut=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Sut(_ut);var wut=Ko({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.style,o=i===void 0?{}:i,a=!!e&&QE(e)==="object"&&!!e.node&&typeof e.node=="function",s=tut(a?e.node():e);s.style("position")==="static"&&s.style("position","relative"),n.tooltipEl=s.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(c){var u=gut(c,2),d=u[0],f=u[1];return n.tooltipEl.style(d,f)}),n.tooltipEl.style("left","-10000px").style("display","none");var l="tooltip-".concat(Math.round(Math.random()*1e12));n.mouseInside=!1,s.on("mousemove.".concat(l),function(c){n.mouseInside=!0;var u=rut(c),d=s.node(),f=d.offsetWidth,h=d.offsetHeight,p=[n.offsetX===null||n.offsetX===void 0?"-".concat(u[0]/f*100,"%"):typeof n.offsetX=="number"?"calc(-50% + ".concat(n.offsetX,"px)"):n.offsetX,n.offsetY===null||n.offsetY===void 0?h>130&&h-u[1]<100?"calc(-100% - 6px)":"21px":typeof n.offsetY=="number"?n.offsetY<0?"calc(-100% - ".concat(Math.abs(n.offsetY),"px)"):"".concat(n.offsetY,"px"):n.offsetY];n.tooltipEl.style("left",u[0]+"px").style("top",u[1]+"px").style("transform","translate(".concat(p.join(","),")")),n.content&&n.tooltipEl.style("display","inline")}),s.on("mouseover.".concat(l),function(){n.mouseInside=!0,n.content&&n.tooltipEl.style("display","inline")}),s.on("mouseout.".concat(l),function(){n.mouseInside=!1,n.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):but(e.content)?(e.tooltipEl.text(""),xut(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function Cut(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var Tut=`.scene-nav-info {
  position: absolute;
  bottom: 5px;
  width: 100%;
  text-align: center;
  color: slategrey;
  opacity: 0.7;
  font-size: 10px;
  font-family: sans-serif;
  pointer-events: none;
  user-select: none;
}

.scene-container canvas:focus {
  outline: none;
}`;Cut(Tut);function H6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Eut(t){if(Array.isArray(t))return t}function Mut(t){if(Array.isArray(t))return H6(t)}function Rut(t,e,n){return(e=But(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Put(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nut(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Iut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Out(t,e){return Eut(t)||Nut(t,e)||jde(t,e)||Iut()}function jp(t){return Mut(t)||Put(t)||jde(t)||Dut()}function Lut(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function But(t){var e=Lut(t,"string");return typeof e=="symbol"?e:e+""}function jde(t,e){if(t){if(typeof t=="string")return H6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H6(t,e):void 0}}var Wi=window.THREE?window.THREE:{WebGLRenderer:oke,Scene:OM,PerspectiveCamera:la,Raycaster:oFe,SRGBColorSpace:wa,TextureLoader:xF,Vector2:Ft,Vector3:ve,Box3:Ef,Color:En,Mesh:Qr,SphereGeometry:Sd,MeshBasicMaterial:oc,BackSide:ui,Clock:Die},qde=Ko({props:{width:{default:window.innerWidth,onChange:function(e,n,r){isNaN(e)&&(n.width=r)}},height:{default:window.innerHeight,onChange:function(e,n,r){isNaN(e)&&(n.height=r)}},viewOffset:{default:[0,0]},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},lights:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,n){n.hoverObj=null,n.tooltip&&n.tooltip.content(null)},triggerUpdate:!1},pointerRaycasterThrottleMs:{default:50,triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},pointsHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){e.controls.enabled&&e.controls.update&&e.controls.update(Math.min(1,e.clock.getDelta())),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.extraRenderers.forEach(function(a){return a.render(e.scene,e.camera)});var n=+new Date;if(e.enablePointerInteraction&&n-e.lastRaycasterCheck>=e.pointerRaycasterThrottleMs){e.lastRaycasterCheck=n;var r=null;if(e.hoverDuringDrag||!e.isPointerDragging){var i=this.intersectingObjects(e.pointerPos.x,e.pointerPos.y);e.hoverOrderComparator&&i.sort(function(a,s){return e.hoverOrderComparator(a.object,s.object)});var o=i.find(function(a){return e.hoverFilter(a.object)})||null;r=o?o.object:null,e.intersection=o||null}r!==e.hoverObj&&(e.onHover(r,e.hoverObj,e.intersection),e.tooltip.content(r&&Ht(e.tooltipContent)(r,e.intersection)||null),e.hoverObj=r)}e.tweenGroup.update()}return this},getPointerPos:function(e){var n=e.pointerPos,r=n.x,i=n.y;return{x:r,y:i}},cameraPosition:function(e,n,r,i){var o=e.camera;if(n&&e.initialised){var a=n,s=r||{x:0,y:0,z:0};if(!i)u(a),d(s);else{var l=Object.assign({},o.position),c=f();e.tweenGroup.add(new ss(l).to(a,i).easing(ko.Quadratic.Out).onUpdate(u).start()),e.tweenGroup.add(new ss(c).to(s,i/3).easing(ko.Quadratic.Out).onUpdate(d).start())}return this}return Object.assign({},o.position,{lookAt:f()});function u(h){var p=h.x,x=h.y,b=h.z;p!==void 0&&(o.position.x=p),x!==void 0&&(o.position.y=x),b!==void 0&&(o.position.z=b)}function d(h){var p=new Wi.Vector3(h.x,h.y,h.z);e.controls.enabled&&e.controls.target?e.controls.target=p:o.lookAt(p)}function f(){return Object.assign(new Wi.Vector3(0,0,-1e3).applyQuaternion(o.quaternion).add(o.position))}},zoomToFit:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return this.fitToBbox(this.getBbox.apply(this,o),n,r)},fitToBbox:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10,o=e.camera;if(n){var a=new Wi.Vector3(0,0,0),s=Math.max.apply(Math,jp(Object.entries(n).map(function(h){var p=Out(h,2),x=p[0],b=p[1];return Math.max.apply(Math,jp(b.map(function(y){return Math.abs(a[x]-y)})))})))*2,l=(1-i*2/e.height)*o.fov,c=s/Math.atan(l*Math.PI/180),u=c/o.aspect,d=Math.max(c,u);if(d>0){var f=a.clone().sub(o.position).normalize().multiplyScalar(-d);this.cameraPosition(f,a,r)}}return this},getBbox:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},r=new Wi.Box3(new Wi.Vector3(0,0,0),new Wi.Vector3(0,0,0)),i=e.objects.filter(n);return i.length?(i.forEach(function(o){return r.expandByObject(o)}),Object.assign.apply(Object,jp(["x","y","z"].map(function(o){return Rut({},o,[r.min[o],r.max[o]])})))):null},getScreenCoords:function(e,n,r,i){var o=new Wi.Vector3(n,r,i);return o.project(this.camera()),{x:(o.x+1)*e.width/2,y:-(o.y-1)*e.height/2}},getSceneCoords:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=new Wi.Vector2(n/e.width*2-1,-(r/e.height)*2+1),a=new Wi.Raycaster;return a.setFromCamera(o,e.camera),Object.assign({},a.ray.at(i,new Wi.Vector3))},intersectingObjects:function(e,n,r){var i=new Wi.Vector2(n/e.width*2-1,-(r/e.height)*2+1),o=new Wi.Raycaster;return o.params.Line.threshold=e.lineHoverPrecision,o.params.Points.threshold=e.pointsHoverPrecision,o.setFromCamera(i,e.camera),o.intersectObjects(e.objects,!0)},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new Wi.Scene,camera:new Wi.PerspectiveCamera,clock:new Wi.Clock,tweenGroup:new VM,lastRaycasterCheck:0}},init:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.controlType,o=i===void 0?"trackball":i,a=r.useWebGPU,s=a===void 0?!1:a,l=r.rendererConfig,c=l===void 0?{}:l,u=r.extraRenderers,d=u===void 0?[]:u,f=r.waitForLoadComplete,h=f===void 0?!0:f;e.innerHTML="",e.appendChild(n.container=document.createElement("div")),n.container.className="scene-container",n.container.style.position="relative",n.container.appendChild(n.navInfo=document.createElement("div")),n.navInfo.className="scene-nav-info",n.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[o]||"",n.navInfo.style.display=n.showNavInfo?null:"none",n.tooltip=new wut(n.container),n.pointerPos=new Wi.Vector2,n.pointerPos.x=-2,n.pointerPos.y=-2,["pointermove","pointerdown"].forEach(function(p){return n.container.addEventListener(p,function(x){if(p==="pointerdown"&&(n.isPointerPressed=!0),!n.isPointerDragging&&x.type==="pointermove"&&(x.pressure>0||n.isPointerPressed)&&(x.pointerType==="mouse"||x.movementX===void 0||[x.movementX,x.movementY].some(function(_){return Math.abs(_)>1}))&&(n.isPointerDragging=!0),n.enablePointerInteraction){var b=y(n.container);n.pointerPos.x=x.pageX-b.left,n.pointerPos.y=x.pageY-b.top}function y(_){var C=_.getBoundingClientRect(),E=window.pageXOffset||document.documentElement.scrollLeft,M=window.pageYOffset||document.documentElement.scrollTop;return{top:C.top+M,left:C.left+E}}},{passive:!0})}),n.container.addEventListener("pointerup",function(p){n.isPointerPressed&&(n.isPointerPressed=!1,!(n.isPointerDragging&&(n.isPointerDragging=!1,!n.clickAfterDrag))&&requestAnimationFrame(function(){p.button===0&&n.onClick(n.hoverObj||null,p,n.intersection),p.button===2&&n.onRightClick&&n.onRightClick(n.hoverObj||null,p,n.intersection)}))},{passive:!0,capture:!0}),n.container.addEventListener("contextmenu",function(p){n.onRightClick&&p.preventDefault()}),n.renderer=new(s?jue:Wi.WebGLRenderer)(Object.assign({antialias:!0,alpha:!0},c)),n.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),n.container.appendChild(n.renderer.domElement),n.extraRenderers=d,n.extraRenderers.forEach(function(p){p.domElement.style.position="absolute",p.domElement.style.top="0px",p.domElement.style.pointerEvents="none",n.container.appendChild(p.domElement)}),n.postProcessingComposer=new Fst(n.renderer),n.postProcessingComposer.addPass(new $st(n.scene,n.camera)),n.controls=new{trackball:qat,orbit:lst,fly:Sst}[o](n.camera,n.renderer.domElement),o==="fly"&&(n.controls.movementSpeed=300,n.controls.rollSpeed=Math.PI/6,n.controls.dragToLook=!0),(o==="trackball"||o==="orbit")&&(n.controls.minDistance=.1,n.controls.maxDistance=n.skyRadius,n.controls.addEventListener("start",function(){n.controlsEngaged=!0}),n.controls.addEventListener("change",function(){n.controlsEngaged&&(n.controlsDragging=!0)}),n.controls.addEventListener("end",function(){n.controlsEngaged=!1,n.controlsDragging=!1})),[n.renderer,n.postProcessingComposer].concat(jp(n.extraRenderers)).forEach(function(p){return p.setSize(n.width,n.height)}),n.camera.aspect=n.width/n.height,n.camera.updateProjectionMatrix(),n.camera.position.z=1e3,n.scene.add(n.skysphere=new Wi.Mesh),n.skysphere.visible=!1,n.loadComplete=n.scene.visible=!h,window.scene=n.scene},update:function(e,n){if(e.width&&e.height&&(n.hasOwnProperty("width")||n.hasOwnProperty("height"))){var r,i=e.width,o=e.height;e.container.style.width="".concat(i,"px"),e.container.style.height="".concat(o,"px"),[e.renderer,e.postProcessingComposer].concat(jp(e.extraRenderers)).forEach(function(h){return h.setSize(i,o)}),e.camera.aspect=i/o;var a=e.viewOffset.slice(0,2);a.some(function(h){return h})&&(r=e.camera).setViewOffset.apply(r,[i,o].concat(jp(a),[i,o])),e.camera.updateProjectionMatrix()}if(n.hasOwnProperty("viewOffset")){var s,l=e.width,c=e.height,u=e.viewOffset.slice(0,2);u.some(function(h){return h})?(s=e.camera).setViewOffset.apply(s,[l,c].concat(jp(u),[l,c])):e.camera.clearViewOffset()}if(n.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&n.skyRadius&&(e.controls.maxDistance=Math.min(e.controls.maxDistance,e.skyRadius)),e.camera.far=e.skyRadius*2.5,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new Wi.SphereGeometry(e.skyRadius)),n.hasOwnProperty("backgroundColor")){var d=a0(e.backgroundColor).alpha;d===void 0&&(d=1),e.renderer.setClearColor(new Wi.Color(dlt(1,e.backgroundColor)),d)}n.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?new Wi.TextureLoader().load(e.backgroundImageUrl,function(h){h.colorSpace=Wi.SRGBColorSpace,e.skysphere.material=new Wi.MeshBasicMaterial({map:h,side:Wi.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&f()}):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&f())),n.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),n.hasOwnProperty("lights")&&((n.lights||[]).forEach(function(h){return e.scene.remove(h)}),e.lights.forEach(function(h){return e.scene.add(h)})),n.hasOwnProperty("objects")&&((n.objects||[]).forEach(function(h){return e.scene.remove(h)}),e.objects.forEach(function(h){return e.scene.add(h)}));function f(){e.loadComplete=e.scene.visible=!0}}});function Fut(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var $ut=`.scene-container .clickable {
  cursor: pointer;
}`;Fut($ut);function j6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Uut(t){if(Array.isArray(t))return j6(t)}function lS(t,e,n){return(e=jut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kut(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AX(Object(n),!0).forEach(function(r){lS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zut(t,e){if(t==null)return{};var n,r,i=Gut(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gut(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IR(t){return Uut(t)||kut(t)||qut(t)||Vut()}function Hut(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jut(t){var e=Hut(t,"string");return typeof e=="symbol"?e:e+""}function qut(t,e){if(t){if(typeof t=="string")return j6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j6(t,e):void 0}}function Wde(t,e){var n=new e;return n._destructor&&n._destructor(),{linkProp:function(i){return{default:n[i](),onChange:function(a,s){s[t][i](a)},triggerUpdate:!1}},linkMethod:function(i){return function(o){for(var a=o[t],s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];var u=a[i].apply(a,l);return u===a?this:u}}}}var Wut=["rendererConfig","waitForGlobeReady"],P1=um(um({},window.THREE?window.THREE:{AmbientLight:Nie,DirectionalLight:Pie,Vector2:Ft,REVISION:v0}),{},{CSS2DRenderer:ske}),Xde=Wde("globe",Ade),Xut=Object.assign.apply(Object,IR(["globeImageUrl","bumpImageUrl","globeTileEngineUrl","globeTileEngineMaxLevel","globeCurvatureResolution","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude","onGlobeReady","pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration","arcsData","arcStartLat","arcStartLng","arcStartAltitude","arcEndLat","arcEndLng","arcEndAltitude","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration","polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration","pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration","heatmapsData","heatmapPoints","heatmapPointLat","heatmapPointLng","heatmapPointWeight","heatmapBandwidth","heatmapColorFn","heatmapColorSaturation","heatmapBaseAltitude","heatmapTopAltitude","heatmapsTransitionDuration","hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration","hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonUseDots","hexPolygonCurvatureResolution","hexPolygonDotResolution","hexPolygonsTransitionDuration","tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration","particlesData","particlesList","particleLat","particleLng","particleAltitude","particlesSize","particlesSizeAttenuation","particlesColor","particlesTexture","ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod","labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration","htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlElementVisibilityModifier","htmlTransitionDuration","objectsData","objectLat","objectLng","objectAltitude","objectRotation","objectFacesSurface","objectThreeObject","customLayerData","customThreeObject","customThreeObjectUpdate"].map(function(t){return lS({},t,Xde.linkProp(t))}))),Yut=Object.assign.apply(Object,IR(["globeMaterial","globeTileEngineClearCache","getGlobeRadius","getCoords","toGeoCoords"].map(function(t){return lS({},t,Xde.linkMethod(t))}))),Yde=Wde("renderObjs",qde),Kut=Object.assign.apply(Object,IR(["width","height","backgroundColor","backgroundImageUrl","enablePointerInteraction"].map(function(t){return lS({},t,Yde.linkProp(t))}))),Qut=Object.assign.apply(Object,IR(["lights","postProcessingComposer"].map(function(t){return lS({},t,Yde.linkMethod(t))}))),Zut=Ko({props:um(um({onZoom:{triggerUpdate:!1},onGlobeClick:{triggerUpdate:!1},onGlobeRightClick:{triggerUpdate:!1},pointLabel:{default:"name",triggerUpdate:!1},onPointClick:{triggerUpdate:!1},onPointRightClick:{triggerUpdate:!1},onPointHover:{triggerUpdate:!1},arcLabel:{default:"name",triggerUpdate:!1},onArcClick:{triggerUpdate:!1},onArcRightClick:{triggerUpdate:!1},onArcHover:{triggerUpdate:!1},polygonLabel:{default:"name",triggerUpdate:!1},onPolygonClick:{triggerUpdate:!1},onPolygonRightClick:{triggerUpdate:!1},onPolygonHover:{triggerUpdate:!1},pathLabel:{default:"name",triggerUpdate:!1},onPathClick:{triggerUpdate:!1},onPathRightClick:{triggerUpdate:!1},onPathHover:{triggerUpdate:!1},onHeatmapClick:{triggerUpdate:!1},onHeatmapRightClick:{triggerUpdate:!1},onHeatmapHover:{triggerUpdate:!1},hexLabel:{triggerUpdate:!1},onHexClick:{triggerUpdate:!1},onHexRightClick:{triggerUpdate:!1},onHexHover:{triggerUpdate:!1},hexPolygonLabel:{triggerUpdate:!1},onHexPolygonClick:{triggerUpdate:!1},onHexPolygonRightClick:{triggerUpdate:!1},onHexPolygonHover:{triggerUpdate:!1},tileLabel:{default:"name",triggerUpdate:!1},onTileClick:{triggerUpdate:!1},onTileRightClick:{triggerUpdate:!1},onTileHover:{triggerUpdate:!1},particleLabel:{default:"name",triggerUpdate:!1},onParticleClick:{triggerUpdate:!1},onParticleRightClick:{triggerUpdate:!1},onParticleHover:{triggerUpdate:!1},labelLabel:{triggerUpdate:!1},onLabelClick:{triggerUpdate:!1},onLabelRightClick:{triggerUpdate:!1},onLabelHover:{triggerUpdate:!1},objectLabel:{default:"name",triggerUpdate:!1},onObjectClick:{triggerUpdate:!1},onObjectRightClick:{triggerUpdate:!1},onObjectHover:{triggerUpdate:!1},customLayerLabel:{default:"name",triggerUpdate:!1},onCustomLayerClick:{triggerUpdate:!1},onCustomLayerRightClick:{triggerUpdate:!1},onCustomLayerHover:{triggerUpdate:!1},pointerEventsFilter:{default:function(){return!0},triggerUpdate:!1},lineHoverPrecision:{default:.2,triggerUpdate:!1,onChange:function(e,n){n.renderObjs.lineHoverPrecision(e),n.renderObjs.pointsHoverPrecision(e)}},showPointerCursor:{default:!0,triggerUpdate:!1},globeOffset:{default:[0,0],triggerUpdate:!1,onChange:function(e,n){return Array.isArray(e)&&e.length===2&&n.renderObjs.viewOffset(e.map(function(r){return-r}))}}},Xut),Kut),methods:um(um({pauseAnimation:function(e){var n;return e.animationFrameRequestId!==null&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),(n=e.globe)===null||n===void 0||n.pauseAnimation(),this},resumeAnimation:function(e){var n;return e.animationFrameRequestId===null&&this._animationCycle(),(n=e.globe)===null||n===void 0||n.resumeAnimation(),this},_animationCycle:function(e){e.renderObjs.tick(),e.tweenGroup.update(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},pointOfView:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=a();if(n.lat===void 0&&n.lng===void 0&&n.altitude===void 0)return i;var o=Object.assign({},i,n);if(["lat","lng","altitude"].forEach(function(l){return o[l]=+o[l]}),!r)s(o);else{for(;i.lng-o.lng>180;)i.lng-=360;for(;i.lng-o.lng<-180;)i.lng+=360;e.tweenGroup.add(new ss(i).to(o,r).easing(ko.Cubic.InOut).onUpdate(s).start())}return this;function a(){return e.globe.toGeoCoords(e.renderObjs.cameraPosition())}function s(l){var c=l.lat,u=l.lng,d=l.altitude;e.renderObjs.cameraPosition(e.globe.getCoords(c,u,d)),e.globe.setPointOfView(e.renderObjs.camera())}},getScreenCoords:function(e){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=(n=e.globe).getCoords.apply(n,i);return e.renderObjs.getScreenCoords(a.x,a.y,a.z)},toGlobeCoords:function(e,n,r){var i=e.renderObjs.intersectingObjects(n,r).find(function(l){return(l.object.__globeObjType||l.object.parent.__globeObjType)==="globe"});if(!i)return null;var o=e.globe.toGeoCoords(i.point),a=o.lat,s=o.lng;return{lat:a,lng:s}},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},_destructor:function(e){e.globe._destructor(),this.pauseAnimation(),this.pointsData([]),this.arcsData([]),this.polygonsData([]),this.pathsData([]),this.heatmapsData([]),this.hexBinPointsData([]),this.hexPolygonsData([]),this.tilesData([]),this.particlesData([]),this.labelsData([]),this.htmlElementsData([]),this.objectsData([]),this.customLayerData([])}},Yut),Qut),stateInit:function(e){var n=e.rendererConfig,r=e.waitForGlobeReady,i=r===void 0?!0:r,o=zut(e,Wut),a=new Ade(um({waitForGlobeReady:i},o));return{globe:a,renderObjs:qde({controlType:"orbit",rendererConfig:n,waitForLoadComplete:i,extraRenderers:[new P1.CSS2DRenderer]}).skyRadius(a.getGlobeRadius()*500).showNavInfo(!1).objects([a]).lights([new P1.AmbientLight(13421772,Math.PI),new P1.DirectionalLight(16777215,.6*Math.PI)]),tweenGroup:new VM}},init:function(e,n){var r=this;e.innerHTML="",e.appendChild(n.container=document.createElement("div")),n.container.style.position="relative";var i=document.createElement("div");n.container.appendChild(i),n.renderObjs(i),n.globe.rendererSize(n.renderObjs.renderer().getSize(new P1.Vector2)),this.pointOfView({altitude:2.5});var o=n.globe.getGlobeRadius(),a=n.renderObjs.controls();n.renderObjs.camera().near=.05,a.minDistance=o+Math.max(.001,n.renderObjs.camera().near*1.1),a.maxDistance=o*100,a.enablePan=!1,a.enableDamping=!0,a.dampingFactor=.1,a.rotateSpeed=.3,a.zoomSpeed=.3,a.zoomToCursor=!0,a.addEventListener("change",function(){a.target.setScalar(0);var c=r.pointOfView();a.rotateSpeed=c.altitude*.3,a.zoomSpeed=Math.sqrt(c.altitude)*.5,n.globe.setPointOfView(n.renderObjs.camera()),n.onZoom&&n.onZoom(c)});var s=function(u){for(var d=u;d&&!d.hasOwnProperty("__globeObjType");)d=d.parent;return d},l={point:function(u){return u},arc:function(u){return u},polygon:function(u){return u.data},path:function(u){return u},heatmap:function(u){return u},hexbin:function(u){return u},hexPolygon:function(u){return u},tile:function(u){return u},particles:function(u,d){return!d||!d.hasOwnProperty("index")||u.length<=d.index?u:u[d.index]},label:function(u){return u},object:function(u){return u},custom:function(u){return u}};P1.REVISION<155&&(n.renderObjs.renderer().useLegacyLights=!1),n.renderObjs.hoverFilter(function(c){var u=s(c);if(!u)return!1;var d=u.__globeObjType;if(d!=="globe"&&!l.hasOwnProperty(d))return!1;var f=l.hasOwnProperty(d)&&u.__data?l[d](u.__data):null;return["points","hexBinPoints"].some(function(h){return h===d})&&Array.isArray(f)?!1:n.pointerEventsFilter(u,f)}).tooltipContent(function(c,u){var d={point:n.pointLabel,arc:n.arcLabel,polygon:n.polygonLabel,path:n.pathLabel,hexbin:n.hexLabel,hexPolygon:n.hexPolygonLabel,tile:n.tileLabel,particles:n.particleLabel,label:n.labelLabel,object:n.objectLabel,custom:n.customLayerLabel},f=s(c),h=f&&f.__globeObjType;return f&&h&&d.hasOwnProperty(h)&&l.hasOwnProperty(h)&&Ht(d[h])(l[h](f.__data,u))||""}).onHover(function(c,u,d){var f={point:n.onPointHover,arc:n.onArcHover,polygon:n.onPolygonHover,path:n.onPathHover,heatmap:n.onHeatmapHover,hexbin:n.onHexHover,hexPolygon:n.onHexPolygonHover,tile:n.onTileHover,particles:n.onParticleHover,label:n.onLabelHover,object:n.onObjectHover,custom:n.onCustomLayerHover},h={globe:n.onGlobeClick,point:n.onPointClick,arc:n.onArcClick,polygon:n.onPolygonClick,path:n.onPathClick,heatmap:n.onHeatmapClick,hexbin:n.onHexClick,hexPolygon:n.onHexPolygonClick,tile:n.onTileClick,particles:n.onParticleClick,label:n.onLabelClick,object:n.onObjectClick,custom:n.onCustomLayerClick},p=s(c);if(p&&!f.hasOwnProperty(p.__globeObjType)&&(p=null),p!==n.hoverObj){var x,b=n.hoverObj?n.hoverObj.__globeObjType:null,y=n.hoverData,_=p?p.__globeObjType:null,C=(x=p)!==null&&x!==void 0&&x.__data?l[_](p.__data,d):null;b&&b!==_&&f[b]&&f[b](null,y||null),_&&f[_]&&f[_](C,b===_?y:null),n.renderObjs.renderer().domElement.classList[_&&h[_]&&Ht(n.showPointerCursor)(_,C)?"add":"remove"]("clickable"),n.hoverObj=p,n.hoverData=C}}).onClick(function(c,u,d){if(c){var f={globe:n.onGlobeClick,point:n.onPointClick,arc:n.onArcClick,polygon:n.onPolygonClick,path:n.onPathClick,heatmap:n.onHeatmapClick,hexbin:n.onHexClick,hexPolygon:n.onHexPolygonClick,tile:n.onTileClick,particles:n.onParticleClick,label:n.onLabelClick,object:n.onObjectClick,custom:n.onCustomLayerClick},h=s(c),p=h.__globeObjType;if(h&&f.hasOwnProperty(p)&&f[p]){var x=[u],b=d!=null&&d.isVector3?d:d==null?void 0:d.point;if(p==="globe"){var y=r.toGeoCoords(b),_=y.lat,C=y.lng;x.unshift({lat:_,lng:C})}else x.push(r.toGeoCoords(b));l.hasOwnProperty(p)&&x.unshift(l[p](h.__data,d)),f[p].apply(f,x)}}}).onRightClick(function(c,u,d){if(c){var f={globe:n.onGlobeRightClick,point:n.onPointRightClick,arc:n.onArcRightClick,polygon:n.onPolygonRightClick,path:n.onPathRightClick,heatmap:n.onHeatmapRightClick,hexbin:n.onHexRightClick,hexPolygon:n.onHexPolygonRightClick,tile:n.onTileRightClick,particles:n.onParticleRightClick,label:n.onLabelRightClick,object:n.onObjectRightClick,custom:n.onCustomLayerRightClick},h=s(c),p=h.__globeObjType;if(h&&f.hasOwnProperty(p)&&f[p]){var x=[u],b=d!=null&&d.isVector3?d:d==null?void 0:d.point;if(p==="globe"){var y=r.toGeoCoords(b),_=y.lat,C=y.lng;x.unshift({lat:_,lng:C})}else x.push(r.toGeoCoords(b));l.hasOwnProperty(p)&&x.unshift(l[p](h.__data,d)),f[p].apply(f,x)}}}),this._animationCycle()}}),Kde={exports:{}},Jut="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",edt=Jut,tdt=edt;function Qde(){}function Zde(){}Zde.resetWarningCache=Qde;var ndt=function(){function t(r,i,o,a,s,l){if(l!==tdt){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Zde,resetWarningCache:Qde};return n.PropTypes=n,n};Kde.exports=ndt();var rdt=Kde.exports;const Z=sl(rdt);var idt={width:Z.number,height:Z.number,globeOffset:Z.arrayOf(Z.number),backgroundColor:Z.string,backgroundImageUrl:Z.string,globeImageUrl:Z.string,bumpImageUrl:Z.string,globeTileEngineUrl:Z.func,showGlobe:Z.bool,showGraticules:Z.bool,showAtmosphere:Z.bool,atmosphereColor:Z.string,atmosphereAltitude:Z.number,globeMaterial:Z.object,onGlobeReady:Z.func,onGlobeClick:Z.func,onGlobeRightClick:Z.func,pointsData:Z.arrayOf(Z.object),pointLat:Z.oneOfType([Z.number,Z.string,Z.func]),pointLng:Z.oneOfType([Z.number,Z.string,Z.func]),pointColor:Z.oneOfType([Z.string,Z.func]),pointAltitude:Z.oneOfType([Z.number,Z.string,Z.func]),pointRadius:Z.oneOfType([Z.number,Z.string,Z.func]),pointResolution:Z.number,pointsMerge:Z.bool,pointsTransitionDuration:Z.number,pointLabel:Z.oneOfType([Z.string,Z.func]),onPointClick:Z.func,onPointRightClick:Z.func,onPointHover:Z.func,arcsData:Z.arrayOf(Z.object),arcStartLat:Z.oneOfType([Z.number,Z.string,Z.func]),arcStartLng:Z.oneOfType([Z.number,Z.string,Z.func]),arcEndLat:Z.oneOfType([Z.number,Z.string,Z.func]),arcEndLng:Z.oneOfType([Z.number,Z.string,Z.func]),arcColor:Z.oneOfType([Z.string,Z.arrayOf(Z.string),Z.func]),arcAltitude:Z.oneOfType([Z.number,Z.string,Z.func]),arcAltitudeAutoScale:Z.oneOfType([Z.number,Z.string,Z.func]),arcStroke:Z.oneOfType([Z.number,Z.string,Z.func]),arcCurveResolution:Z.number,arcCircularResolution:Z.number,arcDashLength:Z.oneOfType([Z.number,Z.string,Z.func]),arcDashGap:Z.oneOfType([Z.number,Z.string,Z.func]),arcDashInitialGap:Z.oneOfType([Z.number,Z.string,Z.func]),arcDashAnimateTime:Z.oneOfType([Z.number,Z.string,Z.func]),arcsTransitionDuration:Z.number,arcLabel:Z.oneOfType([Z.string,Z.func]),onArcClick:Z.func,onArcRightClick:Z.func,onArcHover:Z.func,polygonsData:Z.arrayOf(Z.object),polygonGeoJsonGeometry:Z.oneOfType([Z.string,Z.func]),polygonCapColor:Z.oneOfType([Z.string,Z.func]),polygonCapMaterial:Z.oneOfType([Z.object,Z.string,Z.func]),polygonSideColor:Z.oneOfType([Z.string,Z.func]),polygonSideMaterial:Z.oneOfType([Z.object,Z.string,Z.func]),polygonStrokeColor:Z.oneOfType([Z.string,Z.func]),polygonAltitude:Z.oneOfType([Z.number,Z.string,Z.func]),polygonCapCurvatureResolution:Z.oneOfType([Z.number,Z.string,Z.func]),polygonsTransitionDuration:Z.number,polygonLabel:Z.oneOfType([Z.string,Z.func]),onPolygonClick:Z.func,onPolygonRightClick:Z.func,onPolygonHover:Z.func,pathsData:Z.array,pathPoints:Z.oneOfType([Z.array,Z.string,Z.func]),pathPointLat:Z.oneOfType([Z.number,Z.string,Z.func]),pathPointLng:Z.oneOfType([Z.number,Z.string,Z.func]),pathPointAlt:Z.oneOfType([Z.number,Z.string,Z.func]),pathResolution:Z.number,pathColor:Z.oneOfType([Z.string,Z.arrayOf(Z.string),Z.func]),pathStroke:Z.oneOfType([Z.number,Z.string,Z.func]),pathDashLength:Z.oneOfType([Z.number,Z.string,Z.func]),pathDashGap:Z.oneOfType([Z.number,Z.string,Z.func]),pathDashInitialGap:Z.oneOfType([Z.number,Z.string,Z.func]),pathDashAnimateTime:Z.oneOfType([Z.number,Z.string,Z.func]),pathTransitionDuration:Z.number,pathLabel:Z.oneOfType([Z.string,Z.func]),onPathClick:Z.func,onPathRightClick:Z.func,onPathHover:Z.func,heatmapsData:Z.array,heatmapPoints:Z.oneOfType([Z.array,Z.string,Z.func]),heatmapPointLat:Z.oneOfType([Z.number,Z.string,Z.func]),heatmapPointLng:Z.oneOfType([Z.number,Z.string,Z.func]),heatmapPointWeight:Z.oneOfType([Z.number,Z.string,Z.func]),heatmapBandwidth:Z.oneOfType([Z.number,Z.string,Z.func]),heatmapColorFn:Z.oneOfType([Z.string,Z.func]),heatmapColorSaturation:Z.oneOfType([Z.number,Z.string,Z.func]),heatmapBaseAltitude:Z.oneOfType([Z.number,Z.string,Z.func]),heatmapTopAltitude:Z.oneOfType([Z.number,Z.string,Z.func]),heatmapsTransitionDuration:Z.number,onHeatmapClick:Z.func,onHeatmapRightClick:Z.func,onHeatmapHover:Z.func,hexBinPointsData:Z.arrayOf(Z.object),hexBinPointLat:Z.oneOfType([Z.number,Z.string,Z.func]),hexBinPointLng:Z.oneOfType([Z.number,Z.string,Z.func]),hexBinPointWeight:Z.oneOfType([Z.number,Z.string,Z.func]),hexBinResolution:Z.number,hexMargin:Z.oneOfType([Z.number,Z.func]),hexTopColor:Z.func,hexSideColor:Z.func,hexAltitude:Z.oneOfType([Z.number,Z.func]),hexTopCurvatureResolution:Z.number,hexBinMerge:Z.bool,hexTransitionDuration:Z.number,hexLabel:Z.oneOfType([Z.string,Z.func]),onHexClick:Z.func,onHexRightClick:Z.func,onHexHover:Z.func,hexPolygonsData:Z.arrayOf(Z.object),hexPolygonGeoJsonGeometry:Z.oneOfType([Z.string,Z.func]),hexPolygonColor:Z.oneOfType([Z.string,Z.func]),hexPolygonAltitude:Z.oneOfType([Z.number,Z.string,Z.func]),hexPolygonResolution:Z.oneOfType([Z.number,Z.string,Z.func]),hexPolygonMargin:Z.oneOfType([Z.number,Z.string,Z.func]),hexPolygonUseDots:Z.oneOfType([Z.bool,Z.string,Z.func]),hexPolygonCurvatureResolution:Z.oneOfType([Z.number,Z.string,Z.func]),hexPolygonDotResolution:Z.oneOfType([Z.number,Z.string,Z.func]),hexPolygonsTransitionDuration:Z.number,hexPolygonLabel:Z.oneOfType([Z.string,Z.func]),onHexPolygonClick:Z.func,onHexPolygonRightClick:Z.func,onHexPolygonHover:Z.func,tilesData:Z.arrayOf(Z.object),tileLat:Z.oneOfType([Z.number,Z.string,Z.func]),tileLng:Z.oneOfType([Z.number,Z.string,Z.func]),tileAltitude:Z.oneOfType([Z.number,Z.string,Z.func]),tileWidth:Z.oneOfType([Z.number,Z.string,Z.func]),tileHeight:Z.oneOfType([Z.number,Z.string,Z.func]),tileUseGlobeProjection:Z.oneOfType([Z.bool,Z.string,Z.func]),tileMaterial:Z.oneOfType([Z.object,Z.string,Z.func]),tileCurvatureResolution:Z.oneOfType([Z.number,Z.string,Z.func]),tilesTransitionDuration:Z.number,tileLabel:Z.oneOfType([Z.string,Z.func]),onTileClick:Z.func,onTileRightClick:Z.func,onTileHover:Z.func,particlesData:Z.arrayOf(Z.object),particlesList:Z.oneOfType([Z.string,Z.func]),particleLat:Z.oneOfType([Z.number,Z.string,Z.func]),particleLng:Z.oneOfType([Z.number,Z.string,Z.func]),particleAltitude:Z.oneOfType([Z.number,Z.string,Z.func]),particlesSize:Z.oneOfType([Z.number,Z.string,Z.func]),particlesSizeAttenuation:Z.oneOfType([Z.bool,Z.string,Z.func]),particlesColor:Z.oneOfType([Z.string,Z.func]),particlesTexture:Z.oneOfType([Z.string,Z.func]),particleLabel:Z.oneOfType([Z.string,Z.func]),onParticleClick:Z.func,onParticleRightClick:Z.func,onParticleHover:Z.func,ringsData:Z.arrayOf(Z.object),ringLat:Z.oneOfType([Z.number,Z.string,Z.func]),ringLng:Z.oneOfType([Z.number,Z.string,Z.func]),ringAltitude:Z.oneOfType([Z.number,Z.string,Z.func]),ringColor:Z.oneOfType([Z.string,Z.arrayOf(Z.string),Z.func]),ringResolution:Z.number,ringMaxRadius:Z.oneOfType([Z.number,Z.string,Z.func]),ringPropagationSpeed:Z.oneOfType([Z.number,Z.string,Z.func]),ringRepeatPeriod:Z.oneOfType([Z.number,Z.string,Z.func]),labelsData:Z.arrayOf(Z.object),labelLat:Z.oneOfType([Z.number,Z.string,Z.func]),labelLng:Z.oneOfType([Z.number,Z.string,Z.func]),labelAltitude:Z.oneOfType([Z.number,Z.string,Z.func]),labelRotation:Z.oneOfType([Z.number,Z.string,Z.func]),labelText:Z.oneOfType([Z.string,Z.func]),labelSize:Z.oneOfType([Z.number,Z.string,Z.func]),labelTypeFace:Z.object,labelColor:Z.oneOfType([Z.string,Z.func]),labelResolution:Z.number,labelIncludeDot:Z.oneOfType([Z.bool,Z.string,Z.func]),labelDotRadius:Z.oneOfType([Z.number,Z.string,Z.func]),labelDotOrientation:Z.oneOfType([Z.string,Z.func]),labelsTransitionDuration:Z.number,labelLabel:Z.oneOfType([Z.string,Z.func]),onLabelClick:Z.func,onLabelRightClick:Z.func,onLabelHover:Z.func,htmlElementsData:Z.arrayOf(Z.object),htmlLat:Z.oneOfType([Z.number,Z.string,Z.func]),htmlLng:Z.oneOfType([Z.number,Z.string,Z.func]),htmlAltitude:Z.oneOfType([Z.number,Z.string,Z.func]),htmlElement:Z.oneOfType([Z.string,Z.func]),htmlElementVisibilityModifier:Z.func,htmlTransitionDuration:Z.number,objectsData:Z.arrayOf(Z.object),objectLat:Z.oneOfType([Z.number,Z.string,Z.func]),objectLng:Z.oneOfType([Z.number,Z.string,Z.func]),objectAltitude:Z.oneOfType([Z.number,Z.string,Z.func]),objectRotation:Z.oneOfType([Z.shape({x:Z.number,y:Z.number,z:Z.number}),Z.string,Z.func]),objectFacesSurface:Z.oneOfType([Z.bool,Z.string,Z.func]),objectThreeObject:Z.oneOfType([Z.object,Z.string,Z.func]),objectLabel:Z.oneOfType([Z.string,Z.func]),onObjectClick:Z.func,onObjectRightClick:Z.func,onObjectHover:Z.func,customLayerData:Z.arrayOf(Z.object),customThreeObject:Z.oneOfType([Z.object,Z.string,Z.func]),customThreeObjectUpdate:Z.oneOfType([Z.string,Z.func]),customLayerLabel:Z.oneOfType([Z.string,Z.func]),onCustomLayerClick:Z.func,onCustomLayerRightClick:Z.func,onCustomLayerHover:Z.func,enablePointerInteraction:Z.bool,pointerEventsFilter:Z.func,lineHoverPrecision:Z.number,showPointerCursor:Z.oneOfType([Z.bool,Z.func]),onZoom:Z.func},O7=H8e(Zut,{methodNames:["pauseAnimation","resumeAnimation","pointOfView","lights","scene","camera","renderer","postProcessingComposer","controls","getGlobeRadius","getCoords","getScreenCoords","toGeoCoords","toGlobeCoords","globeTileEngineClearCache"],initPropNames:["animateIn","waitForGlobeReady","rendererConfig"]});O7.displayName="Globe";O7.propTypes=idt;const odt=[{id:"tower-of-london",name:"Tower of London",position:[51.5081,-.0759],cityId:"london",description:"Historic castle located on the north bank of the River Thames.",imageUrl:"https://picsum.photos/id/1015/300/200",type:"History"},{id:"buckingham-palace",name:"Buckingham Palace",position:[51.5014,-.1419],cityId:"london",description:"The London residence and administrative headquarters of the monarch of the United Kingdom.",imageUrl:"https://picsum.photos/id/1016/300/200",type:"Landmark"},{id:"eiffel-tower",name:"Eiffel Tower",position:[48.8584,2.2945],cityId:"paris",description:"A wrought-iron lattice tower on the Champ de Mars in Paris, France.",imageUrl:"https://picsum.photos/id/1018/300/200",type:"Landmark"},{id:"louvre-museum",name:"Louvre Museum",position:[48.8606,2.3376],cityId:"paris",description:"The world's largest art museum and a historic monument in Paris, France.",imageUrl:"https://picsum.photos/id/1019/300/200",type:"Museum"},{id:"statue-of-liberty",name:"Statue of Liberty",position:[40.6892,-74.0445],cityId:"new-york",description:"A colossal neoclassical sculpture on Liberty Island in New York Harbor in New York City.",imageUrl:"https://picsum.photos/id/1021/300/200",type:"Landmark"},{id:"central-park",name:"Central Park",position:[40.785091,-73.968285],cityId:"new-york",description:"An urban park in New York City located between the Upper West and Upper East Sides of Manhattan.",imageUrl:"https://picsum.photos/id/1022/300/200",type:"Nature"},{id:"senso-ji",name:"Sens-ji",position:[35.7148,139.7967],cityId:"tokyo",description:"An ancient Buddhist temple located in Asakusa, Tokyo, Japan.",imageUrl:"https://picsum.photos/id/1025/300/200",type:"Temple"},{id:"tokyo-skytree",name:"Tokyo Skytree",position:[35.7101,139.8107],cityId:"tokyo",description:"A broadcasting and observation tower in Sumida, Tokyo.",imageUrl:"https://picsum.photos/id/1026/300/200",type:"Landmark"},{id:"meiji-shrine",name:"Meiji Shrine",position:[35.6764,139.6993],cityId:"tokyo",description:"A Shinto shrine in Shibuya, Tokyo, that is dedicated to the deified spirits of Emperor Meiji and his wife, Empress Shken.",imageUrl:"https://picsum.photos/id/1028/300/200",type:"Shrine"},{id:"shibuya-crossing",name:"Shibuya Crossing",position:[35.6595,139.7005],cityId:"tokyo",description:"A popular scrambling intersection in Shibuya, Tokyo, Japan. It is rumored to be the busiest intersection in the world.",imageUrl:"https://picsum.photos/id/1031/300/200",type:"City"},{id:"tokyo-imperial-palace",name:"Tokyo Imperial Palace",position:[35.6852,139.7528],cityId:"tokyo",description:"The primary residence of the Emperor of Japan.",imageUrl:"https://picsum.photos/id/1032/300/200",type:"Landmark"},{id:"tsukiji-market",name:"Tsukiji Market",position:[35.6655,139.7708],cityId:"tokyo",description:"A large wholesale market for fish, fruits and vegetables in central Tokyo.",imageUrl:"https://picsum.photos/id/1033/300/200",type:"Market"}],L7=S.createContext({});function B7(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Jde=typeof window<"u",efe=Jde?S.useLayoutEffect:S.useEffect,DR=S.createContext(null);function F7(t,e){t.indexOf(e)===-1&&t.push(e)}function $7(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const xd=(t,e,n)=>n>e?e:n<t?t:n;function vX(t,e){return e?`${t}. For more information and steps for solving, visit https://motion.dev/troubleshooting/${e}`:t}let cS=()=>{},s0=()=>{};var RK;typeof process<"u"&&((RK=process.env)==null?void 0:RK.NODE_ENV)!=="production"&&(cS=(t,e,n)=>{!t&&typeof console<"u"&&console.warn(vX(e,n))},s0=(t,e,n)=>{if(!t)throw new Error(vX(e,n))});const bf={},tfe=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function nfe(t){return typeof t=="object"&&t!==null}const rfe=t=>/^0[^.\s]+$/u.test(t);function U7(t){let e;return()=>(e===void 0&&(e=t()),e)}const gc=t=>t,adt=(t,e)=>n=>e(t(n)),uS=(...t)=>t.reduce(adt),i2=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class k7{constructor(){this.subscriptions=[]}add(e){return F7(this.subscriptions,e),()=>$7(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dd=t=>t*1e3,dc=t=>t/1e3;function ife(t,e){return e?t*(1e3/e):0}const ofe=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,sdt=1e-7,ldt=12;function cdt(t,e,n,r,i){let o,a,s=0;do a=e+(n-e)/2,o=ofe(a,r,i)-t,o>0?n=a:e=a;while(Math.abs(o)>sdt&&++s<ldt);return a}function dS(t,e,n,r){if(t===e&&n===r)return gc;const i=o=>cdt(o,0,1,t,n);return o=>o===0||o===1?o:ofe(i(o),e,r)}const afe=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sfe=t=>e=>1-t(1-e),lfe=dS(.33,1.53,.69,.99),V7=sfe(lfe),cfe=afe(V7),ufe=t=>(t*=2)<1?.5*V7(t):.5*(2-Math.pow(2,-10*(t-1))),z7=t=>1-Math.sin(Math.acos(t)),dfe=sfe(z7),ffe=afe(z7),udt=dS(.42,0,1,1),ddt=dS(0,0,.58,1),hfe=dS(.42,0,.58,1),fdt=t=>Array.isArray(t)&&typeof t[0]!="number",pfe=t=>Array.isArray(t)&&typeof t[0]=="number",yX={linear:gc,easeIn:udt,easeInOut:hfe,easeOut:ddt,circIn:z7,circInOut:ffe,circOut:dfe,backIn:V7,backInOut:cfe,backOut:lfe,anticipate:ufe},hdt=t=>typeof t=="string",bX=t=>{if(pfe(t)){s0(t.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[e,n,r,i]=t;return dS(e,n,r,i)}else if(hdt(t))return s0(yX[t]!==void 0,`Invalid easing type '${t}'`,"invalid-easing-type"),yX[t];return t},qw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],xX={value:null,addProjectionMetrics:null};function pdt(t,e){let n=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){a.has(d)&&(u.schedule(d),t()),l++,d(s)}const u={schedule:(d,f=!1,h=!1)=>{const x=h&&i?n:r;return f&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(s=d,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&xX.value&&xX.value.frameloop[e].push(l),l=0,n.clear(),i=!1,o&&(o=!1,u.process(d))}};return u}const mdt=40;function mfe(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=qw.reduce((C,E)=>(C[E]=pdt(o,e?E:void 0),C),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:f,render:h,postRender:p}=a,x=()=>{const C=bf.useManualTiming?i.timestamp:performance.now();n=!1,bf.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(C-i.timestamp,mdt),1)),i.timestamp=C,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},b=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:qw.reduce((C,E)=>{const M=a[E];return C[E]=(R,N=!1,O=!1)=>(n||b(),M.schedule(R,N,O)),C},{}),cancel:C=>{for(let E=0;E<qw.length;E++)a[qw[E]].cancel(C)},state:i,steps:a}}const{schedule:Hi,cancel:tp,state:Sa,steps:NI}=mfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:gc,!0);let qC;function gdt(){qC=void 0}const Cs={now:()=>(qC===void 0&&Cs.set(Sa.isProcessing||bf.useManualTiming?Sa.timestamp:performance.now()),qC),set:t=>{qC=t,queueMicrotask(gdt)}},gfe=t=>e=>typeof e=="string"&&e.startsWith(t),Afe=gfe("--"),Adt=gfe("var(--"),G7=t=>Adt(t)?vdt.test(t.split("/*")[0].trim()):!1,vdt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function SX(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const xy={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},o2={...xy,transform:t=>xd(0,1,t)},Ww={...xy,default:1},Lb=t=>Math.round(t*1e5)/1e5,H7=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ydt(t){return t==null}const bdt=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,j7=(t,e)=>n=>!!(typeof n=="string"&&bdt.test(n)&&n.startsWith(t)||e&&!ydt(n)&&Object.prototype.hasOwnProperty.call(n,e)),vfe=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,s]=r.match(H7);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},xdt=t=>xd(0,255,t),II={...xy,transform:t=>Math.round(xdt(t))},wm={test:j7("rgb","red"),parse:vfe("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+II.transform(t)+", "+II.transform(e)+", "+II.transform(n)+", "+Lb(o2.transform(r))+")"};function Sdt(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const q6={test:j7("#"),parse:Sdt,transform:wm.transform},fS=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ih=fS("deg"),fd=fS("%"),On=fS("px"),_dt=fS("vh"),wdt=fS("vw"),_X=(()=>({...fd,parse:t=>fd.parse(t)/100,transform:t=>fd.transform(t*100)}))(),iA={test:j7("hsl","hue"),parse:vfe("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+fd.transform(Lb(e))+", "+fd.transform(Lb(n))+", "+Lb(o2.transform(r))+")"},Oo={test:t=>wm.test(t)||q6.test(t)||iA.test(t),parse:t=>wm.test(t)?wm.parse(t):iA.test(t)?iA.parse(t):q6.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wm.transform(t):iA.transform(t),getAnimatableNone:t=>{const e=Oo.parse(t);return e.alpha=0,Oo.transform(e)}},Cdt=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Tdt(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(H7))==null?void 0:e.length)||0)+(((n=t.match(Cdt))==null?void 0:n.length)||0)>0}const yfe="number",bfe="color",Edt="var",Mdt="var(",wX="${}",Rdt=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function a2(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=e.replace(Rdt,l=>(Oo.test(l)?(r.color.push(o),i.push(bfe),n.push(Oo.parse(l))):l.startsWith(Mdt)?(r.var.push(o),i.push(Edt),n.push(l)):(r.number.push(o),i.push(yfe),n.push(parseFloat(l))),++o,wX)).split(wX);return{values:n,split:s,indexes:r,types:i}}function xfe(t){return a2(t).values}function Sfe(t){const{split:e,types:n}=a2(t),r=e.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],i[a]!==void 0){const s=n[a];s===yfe?o+=Lb(i[a]):s===bfe?o+=Oo.transform(i[a]):o+=i[a]}return o}}const Pdt=t=>typeof t=="number"?0:Oo.test(t)?Oo.getAnimatableNone(t):t;function Ndt(t){const e=xfe(t);return Sfe(t)(e.map(Pdt))}const np={test:Tdt,parse:xfe,createTransformer:Sfe,getAnimatableNone:Ndt};function DI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Idt({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,a=0;if(!e)i=o=a=n;else{const s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=DI(l,s,t+1/3),o=DI(l,s,t),a=DI(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function ZE(t,e){return n=>n>0?e:t}const fo=(t,e,n)=>t+(e-t)*n,OI=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Ddt=[q6,wm,iA],Odt=t=>Ddt.find(e=>e.test(t));function CX(t){const e=Odt(t);if(cS(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!e)return!1;let n=e.parse(t);return e===iA&&(n=Idt(n)),n}const TX=(t,e)=>{const n=CX(t),r=CX(e);if(!n||!r)return ZE(t,e);const i={...n};return o=>(i.red=OI(n.red,r.red,o),i.green=OI(n.green,r.green,o),i.blue=OI(n.blue,r.blue,o),i.alpha=fo(n.alpha,r.alpha,o),wm.transform(i))},W6=new Set(["none","hidden"]);function Ldt(t,e){return W6.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Bdt(t,e){return n=>fo(t,e,n)}function q7(t){return typeof t=="number"?Bdt:typeof t=="string"?G7(t)?ZE:Oo.test(t)?TX:Udt:Array.isArray(t)?_fe:typeof t=="object"?Oo.test(t)?TX:Fdt:ZE}function _fe(t,e){const n=[...t],r=n.length,i=t.map((o,a)=>q7(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function Fdt(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=q7(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function $dt(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][r[o]],s=t.values[a]??0;n[i]=s,r[o]++}return n}const Udt=(t,e)=>{const n=np.createTransformer(e),r=a2(t),i=a2(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?W6.has(t)&&!i.values.length||W6.has(e)&&!r.values.length?Ldt(t,e):uS(_fe($dt(r,i),i.values),n):(cS(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),ZE(t,e))};function wfe(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?fo(t,e,n):q7(t)(t,e)}const kdt=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Hi.update(e,n),stop:()=>tp(e),now:()=>Sa.isProcessing?Sa.timestamp:Cs.now()}},Cfe=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},JE=2e4;function W7(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<JE;)e+=n,r=t.next(e);return e>=JE?1/0:e}function Vdt(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(W7(r),JE);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:dc(i)}}const zdt=5;function Tfe(t,e,n){const r=Math.max(e-zdt,0);return ife(n-t(r),e-r)}const ao={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},LI=.001;function Gdt({duration:t=ao.duration,bounce:e=ao.bounce,velocity:n=ao.velocity,mass:r=ao.mass}){let i,o;cS(t<=dd(ao.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-e;a=xd(ao.minDamping,ao.maxDamping,a),t=xd(ao.minDuration,ao.maxDuration,dc(t)),a<1?(i=c=>{const u=c*a,d=u*t,f=u-n,h=X6(c,a),p=Math.exp(-d);return LI-f/h*p},o=c=>{const d=c*a*t,f=d*n+n,h=Math.pow(a,2)*Math.pow(c,2)*t,p=Math.exp(-d),x=X6(Math.pow(c,2),a);return(-i(c)+LI>0?-1:1)*((f-h)*p)/x}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-LI+u*d},o=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const s=5/t,l=jdt(i,o,s);if(t=dd(t),isNaN(l))return{stiffness:ao.stiffness,damping:ao.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const Hdt=12;function jdt(t,e,n){let r=n;for(let i=1;i<Hdt;i++)r=r-t(r)/e(r);return r}function X6(t,e){return t*Math.sqrt(1-e*e)}const qdt=["duration","bounce"],Wdt=["stiffness","damping","mass"];function EX(t,e){return e.some(n=>t[n]!==void 0)}function Xdt(t){let e={velocity:ao.velocity,stiffness:ao.stiffness,damping:ao.damping,mass:ao.mass,isResolvedFromDuration:!1,...t};if(!EX(t,Wdt)&&EX(t,qdt))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*xd(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ao.mass,stiffness:i,damping:o}}else{const n=Gdt(t);e={...e,...n,mass:ao.mass},e.isResolvedFromDuration=!0}return e}function e3(t=ao.visualDuration,e=ao.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=Xdt({...n,velocity:-dc(n.velocity||0)}),p=f||0,x=c/(2*Math.sqrt(l*u)),b=a-o,y=dc(Math.sqrt(l/u)),_=Math.abs(b)<5;r||(r=_?ao.restSpeed.granular:ao.restSpeed.default),i||(i=_?ao.restDelta.granular:ao.restDelta.default);let C;if(x<1){const M=X6(y,x);C=R=>{const N=Math.exp(-x*y*R);return a-N*((p+x*y*b)/M*Math.sin(M*R)+b*Math.cos(M*R))}}else if(x===1)C=M=>a-Math.exp(-y*M)*(b+(p+y*b)*M);else{const M=y*Math.sqrt(x*x-1);C=R=>{const N=Math.exp(-x*y*R),O=Math.min(M*R,300);return a-N*((p+x*y*b)*Math.sinh(O)+M*b*Math.cosh(O))/M}}const E={calculatedDuration:h&&d||null,next:M=>{const R=C(M);if(h)s.done=M>=d;else{let N=M===0?p:0;x<1&&(N=M===0?dd(p):Tfe(C,M,R));const O=Math.abs(N)<=r,I=Math.abs(a-R)<=i;s.done=O&&I}return s.value=s.done?a:R,s},toString:()=>{const M=Math.min(W7(E),JE),R=Cfe(N=>E.next(M*N).value,M,30);return M+"ms "+R},toTransition:()=>{}};return E}e3.applyToOptions=t=>{const e=Vdt(t,100,e3);return t.ease=e.ease,t.duration=dd(e.duration),t.type="keyframes",t};function Y6({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},h=O=>s!==void 0&&O<s||l!==void 0&&O>l,p=O=>s===void 0?l:l===void 0||Math.abs(s-O)<Math.abs(l-O)?s:l;let x=n*e;const b=d+x,y=a===void 0?b:a(b);y!==b&&(x=y-d);const _=O=>-x*Math.exp(-O/r),C=O=>y+_(O),E=O=>{const I=_(O),L=C(O);f.done=Math.abs(I)<=c,f.value=f.done?y:L};let M,R;const N=O=>{h(f.value)&&(M=O,R=e3({keyframes:[f.value,p(f.value)],velocity:Tfe(C,O,f.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return N(0),{calculatedDuration:null,next:O=>{let I=!1;return!R&&M===void 0&&(I=!0,E(O),N(O)),M!==void 0&&O>=M?R.next(O-M):(!I&&E(O),f)}}}function Ydt(t,e,n){const r=[],i=n||bf.mix||wfe,o=t.length-1;for(let a=0;a<o;a++){let s=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||gc:e;s=uS(l,s)}r.push(s)}return r}function Kdt(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(s0(o===e.length,"Both input and output ranges must be the same length","range-length"),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=Ydt(e,r,i),l=s.length,c=u=>{if(a&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=i2(t[d],t[d+1],u);return s[d](f)};return n?u=>c(xd(t[0],t[o-1],u)):c}function Qdt(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=i2(0,e,r);t.push(fo(n,1,i))}}function Zdt(t){const e=[0];return Qdt(e,t.length-1),e}function Jdt(t,e){return t.map(n=>n*e)}function eft(t,e){return t.map(()=>e||hfe).splice(0,t.length-1)}function Bb({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=fdt(r)?r.map(bX):bX(r),o={done:!1,value:e[0]},a=Jdt(n&&n.length===e.length?n:Zdt(e),t),s=Kdt(a,e,{ease:Array.isArray(i)?i:eft(e,i)});return{calculatedDuration:t,next:l=>(o.value=s(l),o.done=l>=t,o)}}const tft=t=>t!==null;function X7(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(tft),s=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const nft={decay:Y6,inertia:Y6,tween:Bb,keyframes:Bb,spring:e3};function Efe(t){typeof t.type=="string"&&(t.type=nft[t.type])}class Y7{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const rft=t=>t/100;class K7 extends Y7{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Cs.now()&&this.tick(Cs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Efe(e);const{type:n=Bb,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=e;let{keyframes:s}=e;const l=n||Bb;l!==Bb&&typeof s[0]!="number"&&(this.mixKeyframes=uS(rft,wfe(s[0],s[1])),s=[0,100]);const c=l({...e,keyframes:s});o==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...s].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=W7(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:s,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:h,type:p,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let C=this.currentTime,E=r;if(d){const O=Math.min(this.currentTime,i)/s;let I=Math.floor(O),L=O%1;!L&&O>=1&&(L=1),L===1&&I--,I=Math.min(I,d+1),!!(I%2)&&(f==="reverse"?(L=1-L,h&&(L-=h/s)):f==="mirror"&&(E=a)),C=xd(0,1,L)*s}const M=_?{done:!1,value:u[0]}:E.next(C);o&&(M.value=o(M.value));let{done:R}=M;!_&&l!==null&&(R=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return N&&p!==Y6&&(M.value=X7(u,this.options,b,this.speed)),x&&x(M.value),N&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return dc(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+dc(e)}get time(){return dc(this.currentTime)}set time(e){var n;e=dd(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=dc(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=kdt,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function ift(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Cm=t=>t*180/Math.PI,K6=t=>{const e=Cm(Math.atan2(t[1],t[0]));return Q6(e)},oft={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:K6,rotateZ:K6,skewX:t=>Cm(Math.atan(t[1])),skewY:t=>Cm(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Q6=t=>(t=t%360,t<0&&(t+=360),t),MX=K6,RX=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),PX=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),aft={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RX,scaleY:PX,scale:t=>(RX(t)+PX(t))/2,rotateX:t=>Q6(Cm(Math.atan2(t[6],t[5]))),rotateY:t=>Q6(Cm(Math.atan2(-t[2],t[0]))),rotateZ:MX,rotate:MX,skewX:t=>Cm(Math.atan(t[4])),skewY:t=>Cm(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Z6(t){return t.includes("scale")?1:0}function J6(t,e){if(!t||t==="none")return Z6(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=aft,i=n;else{const s=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=oft,i=s}if(!i)return Z6(e);const o=r[e],a=i[1].split(",").map(lft);return typeof o=="function"?o(a):a[o]}const sft=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return J6(n,e)};function lft(t){return parseFloat(t.trim())}const Sy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_y=(()=>new Set(Sy))(),NX=t=>t===xy||t===On,cft=new Set(["x","y","z"]),uft=Sy.filter(t=>!cft.has(t));function dft(t){const e=[];return uft.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const wh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>J6(e,"x"),y:(t,{transform:e})=>J6(e,"y")};wh.translateX=wh.x;wh.translateY=wh.y;const Lm=new Set;let e8=!1,t8=!1,n8=!1;function Mfe(){if(t8){const t=Array.from(Lm).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=dft(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var s;(s=r.getValue(o))==null||s.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}t8=!1,e8=!1,Lm.forEach(t=>t.complete(n8)),Lm.clear()}function Rfe(){Lm.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(t8=!0)})}function fft(){n8=!0,Rfe(),Mfe(),n8=!1}class Q7{constructor(e,n,r,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Lm.add(this),e8||(e8=!0,Hi.read(Rfe),Hi.resolveKeyframes(Mfe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const s=r.readValue(n,a);s!=null&&(e[0]=s)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}ift(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Lm.delete(this)}cancel(){this.state==="scheduled"&&(Lm.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hft=t=>t.startsWith("--");function pft(t,e,n){hft(e)?t.style.setProperty(e,n):t.style[e]=n}const mft=U7(()=>window.ScrollTimeline!==void 0),gft={};function Aft(t,e){const n=U7(t);return()=>gft[e]??n()}const Pfe=Aft(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nb=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,IX={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nb([0,.65,.55,1]),circOut:nb([.55,0,1,.45]),backIn:nb([.31,.01,.66,-.59]),backOut:nb([.33,1.53,.69,.99])};function Nfe(t,e){if(t)return typeof t=="function"?Pfe()?Cfe(t,e):"ease-out":pfe(t)?nb(t):Array.isArray(t)?t.map(n=>Nfe(n,e)||IX.easeOut):IX[t]}function vft(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=Nfe(s,i);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(u,f)}function Ife(t){return typeof t=="function"&&"applyToOptions"in t}function yft({type:t,...e}){return Ife(t)&&Pfe()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class bft extends Y7{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:s,onComplete:l}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,s0(typeof e.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=yft(e);this.animation=vft(n,r,i,c,o),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const u=X7(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(u):pft(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return dc(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+dc(e)}get time(){return dc(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=dd(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&mft()?(this.animation.timeline=e,gc):n(this)}}const Dfe={anticipate:ufe,backInOut:cfe,circInOut:ffe};function xft(t){return t in Dfe}function Sft(t){typeof t.ease=="string"&&xft(t.ease)&&(t.ease=Dfe[t.ease])}const BI=10;class _ft extends bft{constructor(e){Sft(e),Efe(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const s=new K7({...a,autoplay:!1}),l=Math.max(BI,Cs.now()-this.startTime),c=xd(0,BI,l-BI);n.setWithVelocity(s.sample(Math.max(0,l-c)).value,s.sample(l).value,c),s.stop()}}const DX=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(np.test(t)||t==="0")&&!t.startsWith("url("));function wft(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Cft(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=DX(i,e),s=DX(o,e);return cS(a===s,`You are trying to animate ${e} from "${i}" to "${o}". "${a?o:i}" is not an animatable value.`,"value-not-animatable"),!a||!s?!1:wft(t)||(n==="spring"||Ife(n))&&r}function r8(t){t.duration=0,t.type="keyframes"}const Tft=new Set(["opacity","clipPath","filter","transform"]),Eft=U7(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Mft(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Eft()&&n&&Tft.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&o!==0&&a!=="inertia"}const Rft=40;class Pft extends Y7{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:s,name:l,motionValue:c,element:u,...d}){var p;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Cs.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,name:l,motionValue:c,element:u,...d},h=(u==null?void 0:u.KeyframeResolver)||Q7;this.keyframeResolver=new h(s,(x,b,y)=>this.onKeyframesResolved(x,b,f,!y),l,c,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,n,r,i){var b,y;this.keyframeResolver=void 0;const{name:o,type:a,velocity:s,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Cs.now(),Cft(e,o,a,s)||((bf.instantAnimations||!l)&&(u==null||u(X7(e,r,n))),e[0]=e[e.length-1],r8(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Rft?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!c&&Mft(f),p=(y=(b=f.motionValue)==null?void 0:b.owner)==null?void 0:y.current,x=h?new _ft({...f,element:p}):new K7(f);x.finished.then(()=>{this.notifyFinished()}).catch(gc),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),fft()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function Ofe(t,e,n,r=0,i=1){const o=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),a=t.size,s=(a-1)*r;return typeof n=="function"?n(o,a):i===1?o*r:s-o*r}const Nft=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ift(t){const e=Nft.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}const Dft=4;function Lfe(t,e,n=1){s0(n<=Dft,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,i]=Ift(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return tfe(a)?parseFloat(a):a}return G7(i)?Lfe(i,e,n+1):i}const Oft={type:"spring",stiffness:500,damping:25,restSpeed:10},Lft=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Bft={type:"keyframes",duration:.8},Fft={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$ft=(t,{keyframes:e})=>e.length>2?Bft:_y.has(t)?t.startsWith("scale")?Lft(e[1]):Oft:Fft,Uft=t=>t!==null;function kft(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Uft),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}function Z7(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function Vft({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const J7=(t,e,n,r={},i,o)=>a=>{const s=Z7(r,t)||{},l=s.delay||r.delay||0;let{elapsed:c=0}=r;c=c-dd(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-c,onUpdate:f=>{e.set(f),s.onUpdate&&s.onUpdate(f)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:o?void 0:i};Vft(s)||Object.assign(u,$ft(t,u)),u.duration&&(u.duration=dd(u.duration)),u.repeatDelay&&(u.repeatDelay=dd(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(r8(u),u.delay===0&&(d=!0)),(bf.instantAnimations||bf.skipAnimations)&&(d=!0,r8(u),u.delay=0),u.allowFlatten=!s.type&&!s.ease,d&&!o&&e.get()!==void 0){const f=kft(u.keyframes,s);if(f!==void 0){Hi.update(()=>{u.onUpdate(f),u.onComplete()});return}}return s.isSync?new K7(u):new Pft(u)};function OX(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function e9(t,e,n,r){if(typeof e=="function"){const[i,o]=OX(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=OX(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function RA(t,e,n){const r=t.getProps();return e9(r,e,n!==void 0?n:r.custom,t)}const Bfe=new Set(["width","height","top","left","right","bottom",...Sy]),LX=30,zft=t=>!isNaN(parseFloat(t));class Gft{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=Cs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zft(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new k7);const r=this.events[e].add(n);return e==="change"?()=>{r(),Hi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>LX)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,LX);return ife(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uv(t,e){return new Gft(t,e)}const i8=t=>Array.isArray(t);function Hft(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Uv(n))}function jft(t){return i8(t)?t[t.length-1]||0:t}function qft(t,e){const n=RA(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const s=jft(o[a]);Hft(t,a,s)}}const es=t=>!!(t&&t.getVelocity);function Wft(t){return!!(es(t)&&t.add)}function o8(t,e){const n=t.getValue("willChange");if(Wft(n))return n.add(e);if(!n&&bf.WillChange){const r=new bf.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function t9(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Xft="framerAppearId",Ffe="data-"+t9(Xft);function $fe(t){return t.props[Ffe]}function Yft({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Ufe(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...s}=e;r&&(o=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in s){const d=t.getValue(u,t.latestValues[u]??null),f=s[u];if(f===void 0||c&&Yft(c,u))continue;const h={delay:n,...Z7(o||{},u)},p=d.get();if(p!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===p&&!h.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const y=$fe(t);if(y){const _=window.MotionHandoffAnimation(y,u,Hi);_!==null&&(h.startTime=_,x=!0)}}o8(t,u),d.start(J7(u,d,f,t.shouldReduceMotion&&Bfe.has(u)?{type:!1}:h,t,x));const b=d.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{Hi.update(()=>{a&&qft(t,a)})}),l}function a8(t,e,n={}){var l;const r=RA(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(Ufe(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return Kft(t,e,c,u,d,f,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[c,u]=s==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function Kft(t,e,n=0,r=0,i=0,o=1,a){const s=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),s.push(a8(l,e,{...a,delay:n+(typeof r=="function"?0:r)+Ofe(t.variantChildren,l,r,i,o)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(s)}function Qft(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>a8(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=a8(t,e,n);else{const i=typeof e=="function"?RA(t,e,n.custom):e;r=Promise.all(Ufe(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Zft={test:t=>t==="auto",parse:t=>t},kfe=t=>e=>e.test(t),Vfe=[xy,On,fd,ih,wdt,_dt,Zft],BX=t=>Vfe.find(kfe(t));function Jft(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rfe(t):!0}const eht=new Set(["brightness","contrast","saturate","opacity"]);function tht(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(H7)||[];if(!r)return t;const i=n.replace(r,"");let o=eht.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const nht=/\b([a-z-]*)\(.*?\)/gu,s8={...np,getAnimatableNone:t=>{const e=t.match(nht);return e?e.map(tht).join(" "):t}},FX={...xy,transform:Math.round},rht={rotate:ih,rotateX:ih,rotateY:ih,rotateZ:ih,scale:Ww,scaleX:Ww,scaleY:Ww,scaleZ:Ww,skew:ih,skewX:ih,skewY:ih,distance:On,translateX:On,translateY:On,translateZ:On,x:On,y:On,z:On,perspective:On,transformPerspective:On,opacity:o2,originX:_X,originY:_X,originZ:On},n9={borderWidth:On,borderTopWidth:On,borderRightWidth:On,borderBottomWidth:On,borderLeftWidth:On,borderRadius:On,radius:On,borderTopLeftRadius:On,borderTopRightRadius:On,borderBottomRightRadius:On,borderBottomLeftRadius:On,width:On,maxWidth:On,height:On,maxHeight:On,top:On,right:On,bottom:On,left:On,inset:On,insetBlock:On,insetBlockStart:On,insetBlockEnd:On,insetInline:On,insetInlineStart:On,insetInlineEnd:On,padding:On,paddingTop:On,paddingRight:On,paddingBottom:On,paddingLeft:On,paddingBlock:On,paddingBlockStart:On,paddingBlockEnd:On,paddingInline:On,paddingInlineStart:On,paddingInlineEnd:On,margin:On,marginTop:On,marginRight:On,marginBottom:On,marginLeft:On,marginBlock:On,marginBlockStart:On,marginBlockEnd:On,marginInline:On,marginInlineStart:On,marginInlineEnd:On,backgroundPositionX:On,backgroundPositionY:On,...rht,zIndex:FX,fillOpacity:o2,strokeOpacity:o2,numOctaves:FX},iht={...n9,color:Oo,backgroundColor:Oo,outlineColor:Oo,fill:Oo,stroke:Oo,borderColor:Oo,borderTopColor:Oo,borderRightColor:Oo,borderBottomColor:Oo,borderLeftColor:Oo,filter:s8,WebkitFilter:s8},zfe=t=>iht[t];function Gfe(t,e){let n=zfe(t);return n!==s8&&(n=np),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const oht=new Set(["auto","none","0"]);function aht(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!oht.has(o)&&a2(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=Gfe(n,i)}class sht extends Q7{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),G7(d))){const f=Lfe(d,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Bfe.has(r)||e.length!==2)return;const[i,o]=e,a=BX(i),s=BX(o),l=SX(i),c=SX(o);if(l!==c&&wh[r]){this.needsMeasurement=!0;return}if(a!==s)if(NX(a)&&NX(s))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else wh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Jft(e[i]))&&r.push(i);r.length&&aht(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var s;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=wh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(s=this.removedTransforms)!=null&&s.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function lht(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const Hfe=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function l8(t){return nfe(t)&&"offsetHeight"in t}const{schedule:r9,cancel:sbt}=mfe(queueMicrotask,!1),Hc={x:!1,y:!1};function jfe(){return Hc.x||Hc.y}function cht(t){return t==="x"||t==="y"?Hc[t]?null:(Hc[t]=!0,()=>{Hc[t]=!1}):Hc.x||Hc.y?null:(Hc.x=Hc.y=!0,()=>{Hc.x=Hc.y=!1})}function qfe(t,e){const n=lht(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function $X(t){return!(t.pointerType==="touch"||jfe())}function uht(t,e,n={}){const[r,i,o]=qfe(t,n),a=s=>{if(!$X(s))return;const{target:l}=s,c=e(l,s);if(typeof c!="function"||!l)return;const u=d=>{$X(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(s=>{s.addEventListener("pointerenter",a,i)}),o}const Wfe=(t,e)=>e?t===e?!0:Wfe(t,e.parentElement):!1,i9=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dht=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Xfe(t){return dht.has(t.tagName)||t.isContentEditable===!0}const WC=new WeakSet;function UX(t){return e=>{e.key==="Enter"&&t(e)}}function FI(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fht=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=UX(()=>{if(WC.has(n))return;FI(n,"down");const i=UX(()=>{FI(n,"up")}),o=()=>FI(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function kX(t){return i9(t)&&!jfe()}function hht(t,e,n={}){const[r,i,o]=qfe(t,n),a=s=>{const l=s.currentTarget;if(!kX(s))return;WC.add(l);const c=e(l,s),u=(h,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),WC.has(l)&&WC.delete(l),kX(h)&&typeof c=="function"&&c(h,{success:p})},d=h=>{u(h,l===window||l===document||n.useGlobalTarget||Wfe(l,h.target))},f=h=>{u(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(s=>{(n.useGlobalTarget?window:s).addEventListener("pointerdown",a,i),l8(s)&&(s.addEventListener("focus",c=>fht(c,i)),!Xfe(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),o}function Yfe(t){return nfe(t)&&"ownerSVGElement"in t}function pht(t){return Yfe(t)&&t.tagName==="svg"}const mht=[...Vfe,Oo,np],ght=t=>mht.find(kfe(t)),VX=()=>({translate:0,scale:1,origin:0,originPoint:0}),oA=()=>({x:VX(),y:VX()}),zX=()=>({min:0,max:0}),Go=()=>({x:zX(),y:zX()}),c8={current:null},Kfe={current:!1},Aht=typeof window<"u";function vht(){if(Kfe.current=!0,!!Aht)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>c8.current=t.matches;t.addEventListener("change",e),e()}else c8.current=!1}const yht=new WeakMap;function OR(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function s2(t){return typeof t=="string"||Array.isArray(t)}const o9=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],a9=["initial",...o9];function LR(t){return OR(t.animate)||a9.some(e=>s2(t[e]))}function Qfe(t){return!!(LR(t)||t.variants)}function bht(t,e,n){for(const r in e){const i=e[r],o=n[r];if(es(i))t.addValue(r,i);else if(es(o))t.addValue(r,Uv(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Uv(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const GX=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let t3={};function Zfe(t){t3=t}function xht(){return t3}class Sht{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Q7,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Cs.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Hi.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!o,this.isControllingVariants=LR(n),this.isVariantNode=Qfe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];l[f]!==void 0&&es(h)&&h.set(l[f])}}mount(e){var n;this.current=e,yht.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Kfe.current||vht(),this.shouldReduceMotion=c8.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),tp(this.notifyUpdate),tp(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_y.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Hi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in t3){const n=t3[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Go()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<GX.length;r++){const i=GX[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=bht(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Uv(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(tfe(r)||rfe(r))?r=parseFloat(r):!ght(r)&&np.test(n)&&(r=Gfe(e,n)),this.setBaseTarget(e,es(r)?r.get():r)),es(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=e9(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!es(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new k7),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){r9.render(this.render)}}class Jfe extends Sht{constructor(){super(...arguments),this.KeyframeResolver=sht}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;es(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class bp{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ehe({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function _ht({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wht(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function $I(t){return t===void 0||t===1}function u8({scale:t,scaleX:e,scaleY:n}){return!$I(t)||!$I(e)||!$I(n)}function Jp(t){return u8(t)||the(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function the(t){return HX(t.x)||HX(t.y)}function HX(t){return t&&t!=="0%"}function n3(t,e,n){const r=t-n,i=e*r;return n+i}function jX(t,e,n,r,i){return i!==void 0&&(t=n3(t,i,r)),n3(t,n,r)+e}function d8(t,e=0,n=1,r,i){t.min=jX(t.min,e,n,r,i),t.max=jX(t.max,e,n,r,i)}function nhe(t,{x:e,y:n}){d8(t.x,e.translate,e.scale,e.originPoint),d8(t.y,n.translate,n.scale,n.originPoint)}const qX=.999999999999,WX=1.0000000000001;function Cht(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,a;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&sA(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,nhe(t,a)),r&&Jp(o.latestValues)&&sA(t,o.latestValues))}e.x<WX&&e.x>qX&&(e.x=1),e.y<WX&&e.y>qX&&(e.y=1)}function aA(t,e){t.min=t.min+e,t.max=t.max+e}function XX(t,e,n,r,i=.5){const o=fo(t.min,t.max,i);d8(t,e,n,o,r)}function sA(t,e){XX(t.x,e.x,e.scaleX,e.scale,e.originX),XX(t.y,e.y,e.scaleY,e.scale,e.originY)}function rhe(t,e){return ehe(wht(t.getBoundingClientRect(),e))}function Tht(t,e,n){const r=rhe(t,n),{scroll:i}=e;return i&&(aA(r.x,i.offset.x),aA(r.y,i.offset.y)),r}const Eht={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Mht=Sy.length;function Rht(t,e,n){let r="",i=!0;for(let o=0;o<Mht;o++){const a=Sy[o],s=t[a];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(a.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||n){const c=Hfe(s,n9[a]);if(!l){i=!1;const u=Eht[a]||a;r+=`${u}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function s9(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,s=!1;for(const l in e){const c=e[l];if(_y.has(l)){a=!0;continue}else if(Afe(l)){i[l]=c;continue}else{const u=Hfe(c,n9[l]);l.startsWith("origin")?(s=!0,o[l]=u):r[l]=u}}if(e.transform||(a||n?r.transform=Rht(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:c="50%",originZ:u=0}=o;r.transformOrigin=`${l} ${c} ${u}`}}function ihe(t,{style:e,vars:n},r,i){const o=t.style;let a;for(a in e)o[a]=e[a];i==null||i.applyProjectionStyles(o,r);for(a in n)o.setProperty(a,n[a])}function YX(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const N1={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(On.test(t))t=parseFloat(t);else return t;const n=YX(t,e.target.x),r=YX(t,e.target.y);return`${n}% ${r}%`}},Pht={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=np.parse(t);if(i.length>5)return r;const o=np.createTransformer(t),a=typeof i[0]!="number"?1:0,s=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=s,i[1+a]/=l;const c=fo(s,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),o(i)}},f8={borderRadius:{...N1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:N1,borderTopRightRadius:N1,borderBottomLeftRadius:N1,borderBottomRightRadius:N1,boxShadow:Pht};function ohe(t,{layout:e,layoutId:n}){return _y.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!f8[t]||t==="opacity")}function l9(t,e,n){var a;const r=t.style,i=e==null?void 0:e.style,o={};if(!r)return o;for(const s in r)(es(r[s])||i&&es(i[s])||ohe(s,t)||((a=n==null?void 0:n.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(o[s]=r[s]);return o}function Nht(t){return window.getComputedStyle(t)}class Iht extends Jfe{constructor(){super(...arguments),this.type="html",this.renderInstance=ihe}readValueFromInstance(e,n){var r;if(_y.has(n))return(r=this.projection)!=null&&r.isProjecting?Z6(n):sft(e,n);{const i=Nht(e),o=(Afe(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rhe(e,n)}build(e,n,r){s9(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return l9(e,n,r)}}const Dht={offset:"stroke-dashoffset",array:"stroke-dasharray"},Oht={offset:"strokeDashoffset",array:"strokeDasharray"};function Lht(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?Dht:Oht;t[o.offset]=`${-r}`,t[o.array]=`${e} ${n}`}const Bht=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function ahe(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...s},l,c,u){if(s9(t,s,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox);for(const h of Bht)d[h]!==void 0&&(f[h]=d[h],delete d[h]);e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&Lht(d,i,o,a,!1)}const she=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),lhe=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Fht(t,e,n,r){ihe(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(she.has(i)?i:t9(i),e.attrs[i])}function che(t,e,n){const r=l9(t,e,n);for(const i in t)if(es(t[i])||es(e[i])){const o=Sy.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}class $ht extends Jfe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Go}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_y.has(n)){const r=zfe(n);return r&&r.default||0}return n=she.has(n)?n:t9(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return che(e,n,r)}build(e,n,r){ahe(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Fht(e,n,r,i)}mount(e){this.isSVGTag=lhe(e.tagName),super.mount(e)}}const Uht=a9.length;function uhe(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uhe(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Uht;n++){const r=a9[n],i=t.props[r];(s2(i)||i===!1)&&(e[r]=i)}return e}function dhe(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const kht=[...o9].reverse(),Vht=o9.length;function zht(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Qft(t,n,r)))}function Ght(t){let e=zht(t),n=KX(),r=!0;const i=l=>(c,u)=>{var f;const d=RA(t,u,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:p,...x}=d;c={...c,...x,...p}}return c};function o(l){e=l(t)}function a(l){const{props:c}=t,u=uhe(t.parent)||{},d=[],f=new Set;let h={},p=1/0;for(let b=0;b<Vht;b++){const y=kht[b],_=n[y],C=c[y]!==void 0?c[y]:u[y],E=s2(C),M=y===l?_.isActive:null;M===!1&&(p=b);let R=C===u[y]&&C!==c[y]&&E;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),_.protectedKeys={...h},!_.isActive&&M===null||!C&&!_.prevProp||OR(C)||typeof C=="boolean")continue;const N=Hht(_.prevProp,C);let O=N||y===l&&_.isActive&&!R&&E||b>p&&E,I=!1;const L=Array.isArray(C)?C:[C];let F=L.reduce(i(y),{});M===!1&&(F={});const{prevResolvedValues:$={}}=_,V={...$,...F},U=H=>{O=!0,f.has(H)&&(I=!0,f.delete(H)),_.needsAnimating[H]=!0;const j=t.getValue(H);j&&(j.liveStyle=!1)};for(const H in V){const j=F[H],X=$[H];if(h.hasOwnProperty(H))continue;let Y=!1;i8(j)&&i8(X)?Y=!dhe(j,X):Y=j!==X,Y?j!=null?U(H):f.add(H):j!==void 0&&f.has(H)?U(H):_.protectedKeys[H]=!0}_.prevProp=C,_.prevResolvedValues=F,_.isActive&&(h={...h,...F}),r&&t.blockInitialAnimation&&(O=!1);const k=R&&N;O&&(!k||I)&&d.push(...L.map(H=>{const j={type:y};if(typeof H=="string"&&r&&!k&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,Y=RA(X,H);if(X.enteringChildren&&Y){const{delayChildren:J}=Y.transition||{};j.delay=Ofe(X.enteringChildren,t,J)}}return{animation:H,options:j}}))}if(f.size){const b={};if(typeof c.initial!="boolean"){const y=RA(t,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(b.transition=y.transition)}f.forEach(y=>{const _=t.getBaseTarget(y),C=t.getValue(y);C&&(C.liveStyle=!0),b[y]=_??null}),d.push({animation:b})}let x=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(d):Promise.resolve()}function s(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,c)}),n[l].isActive=c;const u=a(l);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:a,setActive:s,setAnimateFunction:o,getState:()=>n,reset:()=>{n=KX()}}}function Hht(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dhe(e,t):!1}function qp(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KX(){return{animate:qp(!0),whileInView:qp(),whileHover:qp(),whileTap:qp(),whileDrag:qp(),whileFocus:qp(),exit:qp()}}function QX(t,e){t.min=e.min,t.max=e.max}function zc(t,e){QX(t.x,e.x),QX(t.y,e.y)}function ZX(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const fhe=1e-4,jht=1-fhe,qht=1+fhe,hhe=.01,Wht=0-hhe,Xht=0+hhe;function Ts(t){return t.max-t.min}function Yht(t,e,n){return Math.abs(t-e)<=n}function JX(t,e,n,r=.5){t.origin=r,t.originPoint=fo(e.min,e.max,t.origin),t.scale=Ts(n)/Ts(e),t.translate=fo(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jht&&t.scale<=qht||isNaN(t.scale))&&(t.scale=1),(t.translate>=Wht&&t.translate<=Xht||isNaN(t.translate))&&(t.translate=0)}function Fb(t,e,n,r){JX(t.x,e.x,n.x,r?r.originX:void 0),JX(t.y,e.y,n.y,r?r.originY:void 0)}function eY(t,e,n){t.min=n.min+e.min,t.max=t.min+Ts(e)}function Kht(t,e,n){eY(t.x,e.x,n.x),eY(t.y,e.y,n.y)}function tY(t,e,n){t.min=e.min-n.min,t.max=t.min+Ts(e)}function r3(t,e,n){tY(t.x,e.x,n.x),tY(t.y,e.y,n.y)}function nY(t,e,n,r,i){return t-=e,t=n3(t,1/n,r),i!==void 0&&(t=n3(t,1/i,r)),t}function Qht(t,e=0,n=1,r=.5,i,o=t,a=t){if(fd.test(e)&&(e=parseFloat(e),e=fo(a.min,a.max,e/100)-a.min),typeof e!="number")return;let s=fo(o.min,o.max,r);t===o&&(s-=e),t.min=nY(t.min,e,n,s,i),t.max=nY(t.max,e,n,s,i)}function rY(t,e,[n,r,i],o,a){Qht(t,e[n],e[r],e[i],e.scale,o,a)}const Zht=["x","scaleX","originX"],Jht=["y","scaleY","originY"];function iY(t,e,n,r){rY(t.x,e,Zht,n?n.x:void 0,r?r.x:void 0),rY(t.y,e,Jht,n?n.y:void 0,r?r.y:void 0)}function oY(t){return t.translate===0&&t.scale===1}function phe(t){return oY(t.x)&&oY(t.y)}function aY(t,e){return t.min===e.min&&t.max===e.max}function ept(t,e){return aY(t.x,e.x)&&aY(t.y,e.y)}function sY(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function mhe(t,e){return sY(t.x,e.x)&&sY(t.y,e.y)}function lY(t){return Ts(t.x)/Ts(t.y)}function cY(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Zl(t){return[t("x"),t("y")]}function tpt(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const ghe=["TopLeft","TopRight","BottomLeft","BottomRight"],npt=ghe.length,uY=t=>typeof t=="string"?parseFloat(t):t,dY=t=>typeof t=="number"||On.test(t);function rpt(t,e,n,r,i,o){i?(t.opacity=fo(0,n.opacity??1,ipt(r)),t.opacityExit=fo(e.opacity??1,0,opt(r))):o&&(t.opacity=fo(e.opacity??1,n.opacity??1,r));for(let a=0;a<npt;a++){const s=`border${ghe[a]}Radius`;let l=fY(e,s),c=fY(n,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||dY(l)===dY(c)?(t[s]=Math.max(fo(uY(l),uY(c),r),0),(fd.test(c)||fd.test(l))&&(t[s]+="%")):t[s]=c}(e.rotate||n.rotate)&&(t.rotate=fo(e.rotate||0,n.rotate||0,r))}function fY(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ipt=Ahe(0,.5,dfe),opt=Ahe(.5,.95,gc);function Ahe(t,e,n){return r=>r<t?0:r>e?1:n(i2(t,e,r))}function apt(t,e,n){const r=es(t)?t:Uv(t);return r.start(J7("",r,e,n)),r.animation}function l2(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const spt=(t,e)=>t.depth-e.depth;class lpt{constructor(){this.children=[],this.isDirty=!1}add(e){F7(this.children,e),this.isDirty=!0}remove(e){$7(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(spt),this.isDirty=!1,this.children.forEach(e)}}function cpt(t,e){const n=Cs.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(tp(r),t(o-e))};return Hi.setup(r,!0),()=>tp(r)}function XC(t){return es(t)?t.get():t}class upt{constructor(){this.members=[]}add(e){F7(this.members,e),e.scheduleRender()}remove(e){if($7(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const YC={hasAnimatedSinceResize:!0,hasEverUpdated:!1},UI=["","X","Y","Z"],dpt=1e3;let fpt=0;function kI(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function vhe(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=$fe(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Hi,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&vhe(r)}function yhe({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},s=e==null?void 0:e()){this.id=fpt++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mpt),this.nodes.forEach(ypt),this.nodes.forEach(bpt),this.nodes.forEach(gpt)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lpt)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new k7),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const l=this.eventHandlers.get(a);l&&l.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Yfe(a)&&!pht(a),this.instance=a;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||s)&&(this.isLayoutDirty=!0),t){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;Hi.read(()=>{d=window.innerWidth}),t(a,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,u&&u(),u=cpt(f,250),YC.hasAnimatedSinceResize&&(YC.hasAnimatedSinceResize=!1,this.nodes.forEach(mY)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||Cpt,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=c.getProps(),y=!this.targetLayout||!mhe(this.targetLayout,h),_=!d&&f;if(this.options.layoutRoot||this.resumeFrom||_||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Z7(p,"layout"),onPlay:x,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(u,_)}else d||mY(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xpt),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vhe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hY);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pY);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vpt),this.nodes.forEach(hpt),this.nodes.forEach(ppt)):this.nodes.forEach(pY),this.clearAllSnapshots();const s=Cs.now();Sa.delta=xd(0,1e3/60,s-Sa.timestamp),Sa.timestamp=s,Sa.isProcessing=!0,NI.update.process(Sa),NI.preRender.process(Sa),NI.render.process(Sa),Sa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r9.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Apt),this.sharedNodes.forEach(Spt)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ts(this.snapshot.measuredBox.x)&&!Ts(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Go(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!phe(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&this.instance&&(s||Jp(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return a&&(l=this.removeTransform(l)),Tpt(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return Go();const s=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Ept))){const{scroll:u}=this.root;u&&(aA(s.x,u.offset.x),aA(s.y,u.offset.y))}return s}removeElementScroll(a){var l;const s=Go();if(zc(s,a),(l=this.scroll)!=null&&l.wasRoot)return s;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&zc(s,a),aA(s.x,d.offset.x),aA(s.y,d.offset.y))}return s}applyTransform(a,s=!1){const l=Go();zc(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&sA(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Jp(u.latestValues)&&sA(l,u.latestValues)}return Jp(this.latestValues)&&sA(l,this.latestValues),l}removeTransform(a){const s=Go();zc(s,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Jp(c.latestValues))continue;u8(c.latestValues)&&c.updateSnapshot();const u=Go(),d=c.measurePageBox();zc(u,d),iY(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Jp(this.latestValues)&&iY(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!this.layout||!(u||d))return;this.resolvedRelativeTargetAt=Sa.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Go(),this.targetWithTransforms=Go()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kht(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zc(this.target,this.layout.layoutBox),nhe(this.target,this.targetDelta)):zc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||u8(this.parent.latestValues)||the(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,s,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Go(),this.relativeTargetOrigin=Go(),r3(this.relativeTargetOrigin,s,l),zc(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const a=this.getLead(),s=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Sa.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;zc(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;Cht(this.layoutCorrected,this.treeScale,this.path,s),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Go());const{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ZX(this.prevProjectionDelta.x,this.projectionDelta.x),ZX(this.prevProjectionDelta.y,this.projectionDelta.y)),Fb(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!cY(this.projectionDelta.x,this.prevProjectionDelta.x)||!cY(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var s;if((s=this.options.visualElement)==null||s.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=oA(),this.projectionDelta=oA(),this.projectionDeltaWithTransform=oA()}setAnimationOrigin(a,s=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=oA();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const f=Go(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,x=h!==p,b=this.getStack(),y=!b||b.members.length<=1,_=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(wpt));this.animationProgress=0;let C;this.mixTargetDelta=E=>{const M=E/1e3;gY(d.x,a.x,M),gY(d.y,a.y,M),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(r3(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_pt(this.relativeTarget,this.relativeTargetOrigin,f,M),C&&ept(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Go()),zc(C,this.relativeTarget)),x&&(this.animationValues=u,rpt(u,c,this.latestValues,M,_,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var s,l,c;this.notifyListeners("animationStart"),(s=this.currentAnimation)==null||s.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(tp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hi.update(()=>{YC.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uv(0)),this.currentAnimation=apt(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dpt),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:u}=a;if(!(!s||!l||!c)){if(this!==a&&this.layout&&c&&bhe(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Go();const d=Ts(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=Ts(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}zc(s,l),sA(s,u),Fb(this.projectionDeltaWithTransform,this.layoutCorrected,s,u)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new upt),this.sharedNodes.get(a).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())==null?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())==null?void 0:s.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const c={};l.z&&kI("z",a,c,this.animationValues);for(let u=0;u<UI.length;u++)kI(`rotate${UI[u]}`,a,c,this.animationValues),kI(`skew${UI[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}applyProjectionStyles(a,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=XC(s==null?void 0:s.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=XC(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Jp(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=tpt(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),a.transform=d;const{x:f,y:h}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in f8){if(u[p]===void 0)continue;const{correct:x,applyTo:b,isCSSVariable:y}=f8[p],_=d==="none"?u[p]:x(u[p],c);if(b){const C=b.length;for(let E=0;E<C;E++)a[b[E]]=_}else y?this.options.visualElement.renderState.vars[p]=_:a[p]=_}this.options.layoutId&&(a.pointerEvents=c===this?XC(s==null?void 0:s.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)==null?void 0:s.stop()}),this.root.nodes.forEach(hY),this.root.sharedNodes.clear()}}}function hpt(t){t.updateLayout()}function ppt(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?Zl(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],h=Ts(f);f.min=r[d].min,f.max=f.min+h}):bhe(o,e.layoutBox,r)&&Zl(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],h=Ts(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const s=oA();Fb(s,r,e.layoutBox);const l=oA();a?Fb(l,t.applyTransform(i,!0),e.measuredBox):Fb(l,r,e.layoutBox);const c=!phe(s);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=Go();r3(p,e.layoutBox,f.layoutBox);const x=Go();r3(x,r,h.layoutBox),mhe(p,x)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function mpt(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gpt(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Apt(t){t.clearSnapshot()}function hY(t){t.clearMeasurements()}function pY(t){t.isLayoutDirty=!1}function vpt(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mY(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ypt(t){t.resolveTargetDelta()}function bpt(t){t.calcProjection()}function xpt(t){t.resetSkewAndRotation()}function Spt(t){t.removeLeadSnapshot()}function gY(t,e,n){t.translate=fo(e.translate,0,n),t.scale=fo(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function AY(t,e,n,r){t.min=fo(e.min,n.min,r),t.max=fo(e.max,n.max,r)}function _pt(t,e,n,r){AY(t.x,e.x,n.x,r),AY(t.y,e.y,n.y,r)}function wpt(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Cpt={duration:.45,ease:[.4,0,.1,1]},vY=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yY=vY("applewebkit/")&&!vY("chrome/")?Math.round:gc;function bY(t){t.min=yY(t.min),t.max=yY(t.max)}function Tpt(t){bY(t.x),bY(t.y)}function bhe(t,e,n){return t==="position"||t==="preserve-aspect"&&!Yht(lY(e),lY(n),.2)}function Ept(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Mpt=yhe({attachResizeListener:(t,e)=>l2(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),VI={current:void 0},xhe=yhe({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!VI.current){const t=new Mpt({});t.mount(window),t.setOptions({layoutScroll:!0}),VI.current=t}return VI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),c9=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xY(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Rpt(...t){return e=>{let n=!1;const r=t.map(i=>{const o=xY(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():xY(t[i],null)}}}}function Ppt(...t){return S.useCallback(Rpt(...t),t)}class Npt extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=l8(r)&&r.offsetWidth||0,o=l8(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=o-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Ipt({children:t,isPresent:e,anchorX:n,anchorY:r,root:i}){var d;const o=S.useId(),a=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=S.useContext(c9),c=((d=t.props)==null?void 0:d.ref)??(t==null?void 0:t.ref),u=Ppt(a,c);return S.useInsertionEffect(()=>{const{width:f,height:h,top:p,left:x,right:b,bottom:y}=s.current;if(e||!a.current||!f||!h)return;const _=n==="left"?`left: ${x}`:`right: ${b}`,C=r==="bottom"?`bottom: ${y}`:`top: ${p}`;a.current.dataset.motionPopId=o;const E=document.createElement("style");l&&(E.nonce=l);const M=i??document.head;return M.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            ${_}px !important;
            ${C}px !important;
          }
        `),()=>{M.contains(E)&&M.removeChild(E)}},[e]),De.jsx(Npt,{isPresent:e,childRef:a,sizeRef:s,children:S.cloneElement(t,{ref:u})})}const Dpt=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a,anchorX:s,anchorY:l,root:c})=>{const u=B7(Opt),d=S.useId();let f=!0,h=S.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:p=>{u.set(p,!0);for(const x of u.values())if(!x)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return o&&f&&(h={...h}),S.useMemo(()=>{u.forEach((p,x)=>u.set(x,!1))},[n]),S.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=De.jsx(Ipt,{isPresent:n,anchorX:s,anchorY:l,root:c,children:t})),De.jsx(DR.Provider,{value:h,children:t})};function Opt(){return new Map}function She(t=!0){const e=S.useContext(DR);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=S.useId();S.useEffect(()=>{if(t)return i(o)},[t]);const a=S.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const Xw=t=>t.key||"";function SY(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const Lpt=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:s="left",anchorY:l="top",root:c})=>{const[u,d]=She(a),f=S.useMemo(()=>SY(t),[t]),h=a&&!u?[]:f.map(Xw),p=S.useRef(!0),x=S.useRef(f),b=B7(()=>new Map),y=S.useRef(new Set),[_,C]=S.useState(f),[E,M]=S.useState(f);efe(()=>{p.current=!1,x.current=f;for(let O=0;O<E.length;O++){const I=Xw(E[O]);h.includes(I)?(b.delete(I),y.current.delete(I)):b.get(I)!==!0&&b.set(I,!1)}},[E,h.length,h.join("-")]);const R=[];if(f!==_){let O=[...f];for(let I=0;I<E.length;I++){const L=E[I],F=Xw(L);h.includes(F)||(O.splice(I,0,L),R.push(L))}return o==="wait"&&R.length&&(O=R),M(SY(O)),C(f),null}const{forceRender:N}=S.useContext(L7);return De.jsx(De.Fragment,{children:E.map(O=>{const I=Xw(O),L=a&&!u?!1:f===E||h.includes(I),F=()=>{if(y.current.has(I))return;if(y.current.add(I),b.has(I))b.set(I,!0);else return;let $=!0;b.forEach(V=>{V||($=!1)}),$&&(N==null||N(),M(x.current),a&&(d==null||d()),r&&r())};return De.jsx(Dpt,{isPresent:L,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:c,onExitComplete:L?void 0:F,anchorX:s,anchorY:l,children:O},I)})})},_he=S.createContext({strict:!1}),_Y={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let wY=!1;function Bpt(){if(wY)return;const t={};for(const e in _Y)t[e]={isEnabled:n=>_Y[e].some(r=>!!n[r])};Zfe(t),wY=!0}function whe(){return Bpt(),xht()}function Fpt(t){const e=whe();for(const n in t)e[n]={...e[n],...t[n]};Zfe(e)}const $pt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function i3(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$pt.has(t)}let Che=t=>!i3(t);function Upt(t){typeof t=="function"&&(Che=e=>e.startsWith("on")?!i3(e):t(e))}try{Upt(require("@emotion/is-prop-valid").default)}catch{}function kpt(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Che(i)||n===!0&&i3(i)||!e&&!i3(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const BR=S.createContext({});function Vpt(t,e){if(LR(t)){const{initial:n,animate:r}=t;return{initial:n===!1||s2(n)?n:void 0,animate:s2(r)?r:void 0}}return t.inherit!==!1?e:{}}function zpt(t){const{initial:e,animate:n}=Vpt(t,S.useContext(BR));return S.useMemo(()=>({initial:e,animate:n}),[CY(e),CY(n)])}function CY(t){return Array.isArray(t)?t.join(" "):t}const u9=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function The(t,e,n){for(const r in e)!es(e[r])&&!ohe(r,n)&&(t[r]=e[r])}function Gpt({transformTemplate:t},e){return S.useMemo(()=>{const n=u9();return s9(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Hpt(t,e){const n=t.style||{},r={};return The(r,n,t),Object.assign(r,Gpt(t,e)),r}function jpt(t,e){const n={},r=Hpt(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Ehe=()=>({...u9(),attrs:{}});function qpt(t,e,n,r){const i=S.useMemo(()=>{const o=Ehe();return ahe(o,e,lhe(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};The(o,t.style,t),i.style={...o,...i.style}}return i}const Wpt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d9(t){return typeof t!="string"||t.includes("-")?!1:!!(Wpt.indexOf(t)>-1||/[A-Z]/u.test(t))}function Xpt(t,e,n,{latestValues:r},i,o=!1,a){const l=(a??d9(t)?qpt:jpt)(e,r,i,t),c=kpt(e,typeof t=="string",o),u=t!==S.Fragment?{...c,...l,ref:n}:{},{children:d}=e,f=S.useMemo(()=>es(d)?d.get():d,[d]);return S.createElement(t,{...u,children:f})}function Ypt({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Kpt(n,r,i,t),renderState:e()}}function Kpt(t,e,n,r){const i={},o=r(t,{});for(const f in o)i[f]=XC(o[f]);let{initial:a,animate:s}=t;const l=LR(t),c=Qfe(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),s===void 0&&(s=e.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const d=u?s:a;if(d&&typeof d!="boolean"&&!OR(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const p=e9(t,f[h]);if(p){const{transitionEnd:x,transition:b,...y}=p;for(const _ in y){let C=y[_];if(Array.isArray(C)){const E=u?C.length-1:0;C=C[E]}C!==null&&(i[_]=C)}for(const _ in x)i[_]=x[_]}}}return i}const Mhe=t=>(e,n)=>{const r=S.useContext(BR),i=S.useContext(DR),o=()=>Ypt(t,e,r,i);return n?o():B7(o)},Qpt=Mhe({scrapeMotionValuesFromProps:l9,createRenderState:u9}),Zpt=Mhe({scrapeMotionValuesFromProps:che,createRenderState:Ehe}),Jpt=Symbol.for("motionComponentSymbol");function emt(t,e,n){const r=S.useRef(n);S.useInsertionEffect(()=>{r.current=n});const i=S.useRef(null);return S.useCallback(o=>{var s;o&&((s=t.onMount)==null||s.call(t,o)),e&&(o?e.mount(o):e.unmount());const a=r.current;if(typeof a=="function")if(o){const l=a(o);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):a(o);else a&&(a.current=o)},[e])}const Rhe=S.createContext({});function rb(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tmt(t,e,n,r,i,o){var b,y;const{visualElement:a}=S.useContext(BR),s=S.useContext(_he),l=S.useContext(DR),c=S.useContext(c9).reducedMotion,u=S.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:o}));const d=u.current,f=S.useContext(Rhe);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&nmt(u.current,n,i,f);const h=S.useRef(!1);S.useInsertionEffect(()=>{d&&h.current&&d.update(n,l)});const p=n[Ffe],x=S.useRef(!!p&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return efe(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),S.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,p)}),x.current=!1),d.enteringChildren=void 0)}),d}function nmt(t,e,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Phe(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||s&&rb(s),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function Phe(t){if(t)return t.options.allowProjection!==!1?t.projection:Phe(t.parent)}function zI(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&Fpt(r);const o=n?n==="svg":d9(t),a=o?Zpt:Qpt;function s(c,u){let d;const f={...S.useContext(c9),...c,layoutId:rmt(c)},{isStatic:h}=f,p=zpt(c),x=a(c,h);if(!h&&Jde){imt();const b=omt(f);d=b.MeasureLayout,p.visualElement=tmt(t,x,f,i,b.ProjectionNode,o)}return De.jsxs(BR.Provider,{value:p,children:[d&&p.visualElement?De.jsx(d,{visualElement:p.visualElement,...f}):null,Xpt(t,c,emt(x,p.visualElement,u),x,h,e,o)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=S.forwardRef(s);return l[Jpt]=t,l}function rmt({layoutId:t}){const e=S.useContext(L7).id;return e&&t!==void 0?e+"-"+t:t}function imt(t,e){S.useContext(_he).strict}function omt(t){const e=whe(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function amt(t,e){if(typeof Proxy>"u")return zI;const n=new Map,r=(o,a)=>zI(o,a,t,e),i=(o,a)=>r(o,a);return new Proxy(i,{get:(o,a)=>a==="create"?r:(n.has(a)||n.set(a,zI(a,void 0,t,e)),n.get(a))})}const smt=(t,e)=>e.isSVG??d9(t)?new $ht(e):new Iht(e,{allowProjection:t!==S.Fragment});class lmt extends bp{constructor(e){super(e),e.animationState||(e.animationState=Ght(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();OR(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let cmt=0;class umt extends bp{constructor(){super(...arguments),this.id=cmt++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const dmt={animation:{Feature:lmt},exit:{Feature:umt}};function hS(t){return{point:{x:t.pageX,y:t.pageY}}}const fmt=t=>e=>i9(e)&&t(e,hS(e));function $b(t,e,n,r){return l2(t,e,fmt(n),r)}const Nhe=({current:t})=>t?t.ownerDocument.defaultView:null,TY=(t,e)=>Math.abs(t-e);function hmt(t,e){const n=TY(t.x,e.x),r=TY(t.y,e.y);return Math.sqrt(n**2+r**2)}const EY=new Set(["auto","scroll"]);class Ihe{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3,element:s}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=h=>{this.handleScroll(h.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=HI(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=hmt(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!x)return;const{point:b}=h,{timestamp:y}=Sa;this.history.push({...b,timestamp:y});const{onStart:_,onMove:C}=this.handlers;p||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=GI(p,this.transformPagePoint),Hi.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=HI(h.type==="pointercancel"?this.lastMoveEventInfo:GI(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(h,_),b&&b(h,_)},!i9(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=hS(e),c=GI(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Sa;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,HI(c,this.history)),this.removeListeners=uS($b(this.contextWindow,"pointermove",this.handlePointerMove),$b(this.contextWindow,"pointerup",this.handlePointerUp),$b(this.contextWindow,"pointercancel",this.handlePointerUp)),s&&this.startScrollTracking(s)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(EY.has(r.overflowX)||EY.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:i.x-n.x,y:i.y-n.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,i),Hi.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),tp(this.updatePoint)}}function GI(t,e){return e?{point:e(t.point)}:t}function MY(t,e){return{x:t.x-e.x,y:t.y-e.y}}function HI({point:t},e){return{point:t,delta:MY(t,Dhe(e)),offset:MY(t,pmt(e)),velocity:mmt(e,.1)}}function pmt(t){return t[0]}function Dhe(t){return t[t.length-1]}function mmt(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Dhe(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>dd(e)));)n--;if(!r)return{x:0,y:0};const o=dc(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function gmt(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?fo(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?fo(n,t,r.max):Math.min(t,n)),t}function RY(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Amt(t,{top:e,left:n,bottom:r,right:i}){return{x:RY(t.x,n,i),y:RY(t.y,e,r)}}function PY(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function vmt(t,e){return{x:PY(t.x,e.x),y:PY(t.y,e.y)}}function ymt(t,e){let n=.5;const r=Ts(t),i=Ts(e);return i>r?n=i2(e.min,e.max-r,t.min):r>i&&(n=i2(t.min,t.max-i,e.min)),xd(0,1,n)}function bmt(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const h8=.35;function xmt(t=h8){return t===!1?t=0:t===!0&&(t=h8),{x:NY(t,"left","right"),y:NY(t,"top","bottom")}}function NY(t,e,n){return{min:IY(t,e),max:IY(t,n)}}function IY(t,e){return typeof t=="number"?t:t[e]||0}const Smt=new WeakMap;class _mt{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Go(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=d=>{n?(this.stopAnimation(),this.snapToCursor(hS(d).point)):this.pauseAnimation()},a=(d,f)=>{this.stopAnimation();const{drag:h,dragPropagation:p,onDragStart:x}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cht(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zl(y=>{let _=this.getAxisMotionValue(y).get()||0;if(fd.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[y];E&&(_=Ts(E)*(parseFloat(_)/100))}}this.originPoint[y]=_}),x&&Hi.postRender(()=>x(d,f)),o8(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},s=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:x,onDrag:b}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=wmt(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),b&&b(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Zl(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Ihe(e,{onSessionStart:o,onStart:a,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:Nhe(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&Hi.postRender(()=>s(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Yw(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=gmt(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&rb(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Amt(r.layoutBox,e):this.constraints=!1,this.elastic=xmt(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Zl(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=bmt(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!rb(e))return!1;const r=e.current;s0(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Tht(r,i.root,this.visualElement.getTransformPagePoint());let a=vmt(i.layout.layoutBox,o);if(n){const s=n(_ht(a));this.hasMutatedConstraints=!!s,s&&(a=ehe(s))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Zl(u=>{if(!Yw(u,n,this.currentDirection))return;let d=l&&l[u]||{};a&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(s)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return o8(this.visualElement,e),r.start(J7(e,r,0,n,this.visualElement,!1))}stopAnimation(){Zl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zl(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Zl(n=>{const{drag:r}=this.getProps();if(!Yw(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:s}=i.layout.layoutBox[n],l=o.get()||0;o.set(e[n]-fo(a,s,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!rb(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Zl(a=>{const s=this.getAxisMotionValue(a);if(s&&this.constraints!==!1){const l=s.get();i[a]=ymt({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Zl(a=>{if(!Yw(a,e,null))return;const s=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];s.set(fo(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;Smt.set(this.visualElement,this);const e=this.visualElement.current,n=$b(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps(),d=l.target,f=d!==e&&Xfe(d);c&&u&&!f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();rb(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Hi.read(r);const a=l2(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Zl(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=h8,dragMomentum:s=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:s}}}function Yw(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wmt(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Cmt extends bp{constructor(e){super(e),this.removeGroupControls=gc,this.removeListeners=gc,this.controls=new _mt(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gc}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const DY=t=>(e,n)=>{t&&Hi.postRender(()=>t(e,n))};class Tmt extends bp{constructor(){super(...arguments),this.removePointerDownListener=gc}onPointerDown(e){this.session=new Ihe(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nhe(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:DY(e),onStart:DY(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&Hi.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=$b(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let jI=!1;class Emt extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),jI&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),YC.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,jI=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Hi.postRender(()=>{const s=a.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r9.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;jI=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ohe(t){const[e,n]=She(),r=S.useContext(L7);return De.jsx(Emt,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(Rhe),isPresent:e,safeToRemove:n})}const Mmt={pan:{Feature:Tmt},drag:{Feature:Cmt,ProjectionNode:xhe,MeasureLayout:Ohe}};function OY(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Hi.postRender(()=>o(e,hS(e)))}class Rmt extends bp{mount(){const{current:e}=this.node;e&&(this.unmount=uht(e,(n,r)=>(OY(this.node,r,"Start"),i=>OY(this.node,i,"End"))))}unmount(){}}class Pmt extends bp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uS(l2(this.node.current,"focus",()=>this.onFocus()),l2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LY(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Hi.postRender(()=>o(e,hS(e)))}class Nmt extends bp{mount(){const{current:e}=this.node;e&&(this.unmount=hht(e,(n,r)=>(LY(this.node,r,"Start"),(i,{success:o})=>LY(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const p8=new WeakMap,qI=new WeakMap,Imt=t=>{const e=p8.get(t.target);e&&e(t)},Dmt=t=>{t.forEach(Imt)};function Omt({root:t,...e}){const n=t||document;qI.has(n)||qI.set(n,{});const r=qI.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Dmt,{root:t,...e})),r[i]}function Lmt(t,e,n){const r=Omt(e);return p8.set(t,n),r.observe(t),()=>{p8.delete(t),r.unobserve(t)}}const Bmt={some:0,all:1};class Fmt extends bp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Bmt[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return Lmt(this.node.current,a,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($mt(e,n))&&this.startObserver()}unmount(){}}function $mt({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Umt={inView:{Feature:Fmt},tap:{Feature:Nmt},focus:{Feature:Pmt},hover:{Feature:Rmt}},kmt={layout:{ProjectionNode:xhe,MeasureLayout:Ohe}},Vmt={...dmt,...Umt,...Mmt,...kmt},ib=amt(Vmt,smt),{Title:zmt,Text:Gmt}=B2,Hmt=({onSelectSpot:t})=>{const e=S.useRef(),[n,r]=S.useState(window.innerWidth),[i,o]=S.useState(null);S.useEffect(()=>{const s=()=>r(window.innerWidth);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),S.useEffect(()=>{e.current&&(e.current.controls().autoRotate=!0,e.current.controls().autoRotateSpeed=.5,e.current.controls().enableZoom=!0)},[]);const a=S.useMemo(()=>odt.map(s=>({...s,lat:s.position[0],lng:s.position[1],size:1.2,color:"#F97316"})),[]);return De.jsxs("div",{className:"relative w-full h-[600px] bg-[#000011] rounded-xl overflow-hidden shadow-2xl border border-border group",children:[De.jsxs("div",{className:"absolute top-4 left-4 z-10 p-4 bg-white/10 backdrop-blur-md rounded-lg border border-white/20 shadow-lg max-w-xs pointer-events-none select-none",children:[De.jsx(zmt,{level:4,className:"!text-white !mb-1 font-heading",children:"Explore the World"}),De.jsx(Gmt,{className:"text-gray-200 text-sm",children:"Drag to rotate. Click on orange markers to select a destination."})]}),i&&De.jsxs(ib.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute top-4 right-4 z-10 w-64 bg-white/95 backdrop-blur-md rounded-lg shadow-xl overflow-hidden border border-white/50",children:[De.jsx("div",{className:"h-32 overflow-hidden",children:De.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-full h-full object-cover"})}),De.jsxs("div",{className:"p-4",children:[De.jsx("h3",{className:"font-heading font-bold text-lg text-primary mb-1",children:i.name}),De.jsx("p",{className:"text-xs text-text-secondary mb-3",children:i.description}),De.jsx(bo,{type:"primary",icon:De.jsx(xM,{}),block:!0,onClick:()=>t(i),className:"bg-cta hover:bg-orange-600 border-none",children:"Select Destination"})]})]}),De.jsx(O7,{ref:e,width:n>1200?n-600:n-100,height:600,globeImageUrl:"//unpkg.com/three-globe/example/img/earth-blue-marble.jpg",bumpImageUrl:"//unpkg.com/three-globe/example/img/earth-topology.png",backgroundImageUrl:"//unpkg.com/three-globe/example/img/night-sky.png",atmosphereColor:"#3B82F6",atmosphereAltitude:.15,pointsData:a,pointLat:"lat",pointLng:"lng",pointColor:"color",pointAltitude:.08,pointRadius:"size",pointsMerge:!1,onPointHover:s=>{o(s||null),document.body.style.cursor=s?"pointer":"default",e.current&&(e.current.controls().autoRotate=!s)},onPointClick:s=>{s&&t(s)},labelsData:a,labelLat:"lat",labelLng:"lng",labelText:"name",labelSize:1.5,labelDotRadius:.5,labelColor:()=>"rgba(255, 255, 255, 0.9)",labelResolution:2,onLabelClick:s=>{s&&t(s)}})]})},jmt=({spot:t,onAddToCart:e})=>De.jsx(Jc,{cover:De.jsx("img",{alt:t.name,src:t.imageUrl}),actions:[De.jsx(bo,{type:"primary",icon:De.jsx(x8e,{}),onClick:()=>e(t),children:"Add to Cart"})],children:De.jsx(Jc.Meta,{title:t.name,description:t.description})});function ks(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var BY=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),WI=function(){return Math.random().toString(36).substring(7).split("").join(".")},FY={INIT:"@@redux/INIT"+WI(),REPLACE:"@@redux/REPLACE"+WI(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+WI()}};function qmt(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Lhe(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ks(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ks(1));return n(Lhe)(t,e)}if(typeof t!="function")throw new Error(ks(2));var i=t,o=e,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(ks(3));return o}function d(x){if(typeof x!="function")throw new Error(ks(4));if(l)throw new Error(ks(5));var b=!0;return c(),s.push(x),function(){if(b){if(l)throw new Error(ks(6));b=!1,c();var _=s.indexOf(x);s.splice(_,1),a=null}}}function f(x){if(!qmt(x))throw new Error(ks(7));if(typeof x.type>"u")throw new Error(ks(8));if(l)throw new Error(ks(9));try{l=!0,o=i(o,x)}finally{l=!1}for(var b=a=s,y=0;y<b.length;y++){var _=b[y];_()}return x}function h(x){if(typeof x!="function")throw new Error(ks(10));i=x,f({type:FY.REPLACE})}function p(){var x,b=d;return x={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(ks(11));function C(){_.next&&_.next(u())}C();var E=b(C);return{unsubscribe:E}}},x[BY]=function(){return this},x}return f({type:FY.INIT}),r={dispatch:f,subscribe:d,getState:u,replaceReducer:h},r[BY]=p,r}function $Y(t,e){return function(){return e(t.apply(this,arguments))}}function UY(t,e){if(typeof t=="function")return $Y(t,e);if(typeof t!="object"||t===null)throw new Error(ks(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=$Y(i,e))}return n}function Bhe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Wmt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(ks(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=e.map(function(l){return l(a)});return o=Bhe.apply(void 0,s)(i.dispatch),we(we({},i),{},{dispatch:o})}}}var Fhe=je.createContext(null);function Xmt(t){t()}var $he=Xmt,Ymt=function(e){return $he=e},Kmt=function(){return $he};function Qmt(){var t=Kmt(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=e;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,a=n={callback:i,next:null,prev:n};return a.prev?a.prev.next=a:e=a,function(){!o||e===null||(o=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var kY={notify:function(){},get:function(){return[]}};function Uhe(t,e){var n,r=kY;function i(d){return l(),r.subscribe(d)}function o(){r.notify()}function a(){u.onStateChange&&u.onStateChange()}function s(){return!!n}function l(){n||(n=e?e.addNestedSub(a):t.subscribe(a),r=Qmt())}function c(){n&&(n(),n=void 0,r.clear(),r=kY)}var u={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:a,isSubscribed:s,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return r}};return u}var khe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect;function Zmt(t){var e=t.store,n=t.context,r=t.children,i=S.useMemo(function(){var s=Uhe(e);return{store:e,subscription:s}},[e]),o=S.useMemo(function(){return e.getState()},[e]);khe(function(){var s=i.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==e.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[i,o]);var a=n||Fhe;return je.createElement(a.Provider,{value:i},r)}var Vhe={exports:{}},_i={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pa=typeof Symbol=="function"&&Symbol.for,f9=pa?Symbol.for("react.element"):60103,h9=pa?Symbol.for("react.portal"):60106,FR=pa?Symbol.for("react.fragment"):60107,$R=pa?Symbol.for("react.strict_mode"):60108,UR=pa?Symbol.for("react.profiler"):60114,kR=pa?Symbol.for("react.provider"):60109,VR=pa?Symbol.for("react.context"):60110,p9=pa?Symbol.for("react.async_mode"):60111,zR=pa?Symbol.for("react.concurrent_mode"):60111,GR=pa?Symbol.for("react.forward_ref"):60112,HR=pa?Symbol.for("react.suspense"):60113,Jmt=pa?Symbol.for("react.suspense_list"):60120,jR=pa?Symbol.for("react.memo"):60115,qR=pa?Symbol.for("react.lazy"):60116,e0t=pa?Symbol.for("react.block"):60121,t0t=pa?Symbol.for("react.fundamental"):60117,n0t=pa?Symbol.for("react.responder"):60118,r0t=pa?Symbol.for("react.scope"):60119;function Gl(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case f9:switch(t=t.type,t){case p9:case zR:case FR:case UR:case $R:case HR:return t;default:switch(t=t&&t.$$typeof,t){case VR:case GR:case qR:case jR:case kR:return t;default:return e}}case h9:return e}}}function zhe(t){return Gl(t)===zR}_i.AsyncMode=p9;_i.ConcurrentMode=zR;_i.ContextConsumer=VR;_i.ContextProvider=kR;_i.Element=f9;_i.ForwardRef=GR;_i.Fragment=FR;_i.Lazy=qR;_i.Memo=jR;_i.Portal=h9;_i.Profiler=UR;_i.StrictMode=$R;_i.Suspense=HR;_i.isAsyncMode=function(t){return zhe(t)||Gl(t)===p9};_i.isConcurrentMode=zhe;_i.isContextConsumer=function(t){return Gl(t)===VR};_i.isContextProvider=function(t){return Gl(t)===kR};_i.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===f9};_i.isForwardRef=function(t){return Gl(t)===GR};_i.isFragment=function(t){return Gl(t)===FR};_i.isLazy=function(t){return Gl(t)===qR};_i.isMemo=function(t){return Gl(t)===jR};_i.isPortal=function(t){return Gl(t)===h9};_i.isProfiler=function(t){return Gl(t)===UR};_i.isStrictMode=function(t){return Gl(t)===$R};_i.isSuspense=function(t){return Gl(t)===HR};_i.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===FR||t===zR||t===UR||t===$R||t===HR||t===Jmt||typeof t=="object"&&t!==null&&(t.$$typeof===qR||t.$$typeof===jR||t.$$typeof===kR||t.$$typeof===VR||t.$$typeof===GR||t.$$typeof===t0t||t.$$typeof===n0t||t.$$typeof===r0t||t.$$typeof===e0t)};_i.typeOf=Gl;Vhe.exports=_i;var i0t=Vhe.exports,m9=i0t,o0t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a0t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s0t={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ghe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},g9={};g9[m9.ForwardRef]=s0t;g9[m9.Memo]=Ghe;function VY(t){return m9.isMemo(t)?Ghe:g9[t.$$typeof]||o0t}var l0t=Object.defineProperty,c0t=Object.getOwnPropertyNames,zY=Object.getOwnPropertySymbols,u0t=Object.getOwnPropertyDescriptor,d0t=Object.getPrototypeOf,GY=Object.prototype;function Hhe(t,e,n){if(typeof e!="string"){if(GY){var r=d0t(e);r&&r!==GY&&Hhe(t,r,n)}var i=c0t(e);zY&&(i=i.concat(zY(e)));for(var o=VY(t),a=VY(e),s=0;s<i.length;++s){var l=i[s];if(!a0t[l]&&!(n&&n[l])&&!(a&&a[l])&&!(o&&o[l])){var c=u0t(e,l);try{l0t(t,l,c)}catch{}}}}return t}var f0t=Hhe;const HY=sl(f0t);var jhe={exports:{}},Oi={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR=60103,XR=60106,pS=60107,mS=60108,gS=60114,AS=60109,vS=60110,yS=60112,bS=60113,A9=60120,xS=60115,SS=60116,qhe=60121,Whe=60122,Xhe=60117,Yhe=60129,Khe=60131;if(typeof Symbol=="function"&&Symbol.for){var va=Symbol.for;WR=va("react.element"),XR=va("react.portal"),pS=va("react.fragment"),mS=va("react.strict_mode"),gS=va("react.profiler"),AS=va("react.provider"),vS=va("react.context"),yS=va("react.forward_ref"),bS=va("react.suspense"),A9=va("react.suspense_list"),xS=va("react.memo"),SS=va("react.lazy"),qhe=va("react.block"),Whe=va("react.server.block"),Xhe=va("react.fundamental"),Yhe=va("react.debug_trace_mode"),Khe=va("react.legacy_hidden")}function Cu(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case WR:switch(t=t.type,t){case pS:case gS:case mS:case bS:case A9:return t;default:switch(t=t&&t.$$typeof,t){case vS:case yS:case SS:case xS:case AS:return t;default:return e}}case XR:return e}}}var h0t=AS,p0t=WR,m0t=yS,g0t=pS,A0t=SS,v0t=xS,y0t=XR,b0t=gS,x0t=mS,S0t=bS;Oi.ContextConsumer=vS;Oi.ContextProvider=h0t;Oi.Element=p0t;Oi.ForwardRef=m0t;Oi.Fragment=g0t;Oi.Lazy=A0t;Oi.Memo=v0t;Oi.Portal=y0t;Oi.Profiler=b0t;Oi.StrictMode=x0t;Oi.Suspense=S0t;Oi.isAsyncMode=function(){return!1};Oi.isConcurrentMode=function(){return!1};Oi.isContextConsumer=function(t){return Cu(t)===vS};Oi.isContextProvider=function(t){return Cu(t)===AS};Oi.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===WR};Oi.isForwardRef=function(t){return Cu(t)===yS};Oi.isFragment=function(t){return Cu(t)===pS};Oi.isLazy=function(t){return Cu(t)===SS};Oi.isMemo=function(t){return Cu(t)===xS};Oi.isPortal=function(t){return Cu(t)===XR};Oi.isProfiler=function(t){return Cu(t)===gS};Oi.isStrictMode=function(t){return Cu(t)===mS};Oi.isSuspense=function(t){return Cu(t)===bS};Oi.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pS||t===gS||t===Yhe||t===mS||t===bS||t===A9||t===Khe||typeof t=="object"&&t!==null&&(t.$$typeof===SS||t.$$typeof===xS||t.$$typeof===AS||t.$$typeof===vS||t.$$typeof===yS||t.$$typeof===Xhe||t.$$typeof===qhe||t[0]===Whe)};Oi.typeOf=Cu;jhe.exports=Oi;var _0t=jhe.exports,w0t=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],C0t=["reactReduxForwardedRef"],T0t=[],E0t=[null,null];function M0t(t,e){var n=t[1];return[e.payload,n+1]}function jY(t,e,n){khe(function(){return t.apply(void 0,e)},n)}function R0t(t,e,n,r,i,o,a){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,a())}function P0t(t,e,n,r,i,o,a,s,l,c){if(t){var u=!1,d=null,f=function(){if(!u){var x=e.getState(),b,y;try{b=r(x,i.current)}catch(_){y=_,d=_}y||(d=null),b===o.current?a.current||l():(o.current=b,s.current=b,a.current=!0,c({type:"STORE_UPDATED",payload:{error:y}}))}};n.onStateChange=f,n.trySubscribe(),f();var h=function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d};return h}}var N0t=function(){return[null,0]};function I0t(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(C){return"ConnectAdvanced("+C+")"}:r,o=n.methodName,a=o===void 0?"connectAdvanced":o,s=n.renderCountProp,l=s===void 0?void 0:s,c=n.shouldHandleStateChanges,u=c===void 0?!0:c,d=n.storeKey,f=d===void 0?"store":d;n.withRef;var h=n.forwardRef,p=h===void 0?!1:h,x=n.context,b=x===void 0?Fhe:x,y=lx(n,w0t),_=b;return function(E){var M=E.displayName||E.name||"Component",R=i(M),N=it({},y,{getDisplayName:i,methodName:a,renderCountProp:l,shouldHandleStateChanges:u,storeKey:f,displayName:R,wrappedComponentName:M,WrappedComponent:E}),O=y.pure;function I(U){return t(U.dispatch,N)}var L=O?S.useMemo:function(U){return U()};function F(U){var k=S.useMemo(function(){var Je=U.reactReduxForwardedRef,Ye=lx(U,C0t);return[U.context,Je,Ye]},[U]),z=k[0],H=k[1],j=k[2],X=S.useMemo(function(){return z&&z.Consumer&&_0t.isContextConsumer(je.createElement(z.Consumer,null))?z:_},[z,_]),Y=S.useContext(X),J=!!U.store&&!!U.store.getState&&!!U.store.dispatch;Y&&Y.store;var ee=J?U.store:Y.store,re=S.useMemo(function(){return I(ee)},[ee]),ue=S.useMemo(function(){if(!u)return E0t;var Je=Uhe(ee,J?null:Y.subscription),Ye=Je.notifyNestedSubs.bind(Je);return[Je,Ye]},[ee,J,Y]),fe=ue[0],oe=ue[1],ce=S.useMemo(function(){return J?Y:it({},Y,{subscription:fe})},[J,Y,fe]),pe=S.useReducer(M0t,T0t,N0t),ye=pe[0],xe=ye[0],be=pe[1];if(xe&&xe.error)throw xe.error;var Ce=S.useRef(),Ne=S.useRef(j),Ae=S.useRef(),me=S.useRef(!1),de=L(function(){return Ae.current&&j===Ne.current?Ae.current:re(ee.getState(),j)},[ee,xe,j]);jY(R0t,[Ne,Ce,me,j,de,Ae,oe]),jY(P0t,[u,ee,fe,re,Ne,Ce,me,Ae,oe,be],[ee,fe,re]);var Be=S.useMemo(function(){return je.createElement(E,it({},de,{ref:H}))},[H,E,de]),ne=S.useMemo(function(){return u?je.createElement(X.Provider,{value:ce},Be):Be},[X,Be,ce]);return ne}var $=O?je.memo(F):F;if($.WrappedComponent=E,$.displayName=F.displayName=R,p){var V=je.forwardRef(function(k,z){return je.createElement($,it({},k,{reactReduxForwardedRef:z}))});return V.displayName=R,V.WrappedComponent=E,HY(V,E)}return HY($,E)}}function qY(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function XI(t,e){if(qY(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!qY(t[n[i]],e[n[i]]))return!1;return!0}function D0t(t,e){var n={},r=function(a){var s=t[a];typeof s=="function"&&(n[a]=function(){return e(s.apply(void 0,arguments))})};for(var i in t)r(i);return n}function v9(t){return function(n,r){var i=t(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function WY(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function Qhe(t,e){return function(r,i){i.displayName;var o=function(s,l){return o.dependsOnOwnProps?o.mapToProps(s,l):o.mapToProps(s)};return o.dependsOnOwnProps=!0,o.mapToProps=function(s,l){o.mapToProps=t,o.dependsOnOwnProps=WY(t);var c=o(s,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=WY(c),c=o(s,l)),c},o}}function O0t(t){return typeof t=="function"?Qhe(t):void 0}function L0t(t){return t?void 0:v9(function(e){return{dispatch:e}})}function B0t(t){return t&&typeof t=="object"?v9(function(e){return D0t(t,e)}):void 0}const F0t=[O0t,L0t,B0t];function $0t(t){return typeof t=="function"?Qhe(t):void 0}function U0t(t){return t?void 0:v9(function(){return{}})}const k0t=[$0t,U0t];function V0t(t,e,n){return it({},n,t,e)}function z0t(t){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,a=!1,s;return function(c,u,d){var f=t(c,u,d);return a?(!i||!o(f,s))&&(s=f):(a=!0,s=f),s}}}function G0t(t){return typeof t=="function"?z0t(t):void 0}function H0t(t){return t?void 0:function(){return V0t}}const j0t=[G0t,H0t];var q0t=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function W0t(t,e,n,r){return function(o,a){return n(t(o,a),e(r,a),a)}}function X0t(t,e,n,r,i){var o=i.areStatesEqual,a=i.areOwnPropsEqual,s=i.areStatePropsEqual,l=!1,c,u,d,f,h;function p(C,E){return c=C,u=E,d=t(c,u),f=e(r,u),h=n(d,f,u),l=!0,h}function x(){return d=t(c,u),e.dependsOnOwnProps&&(f=e(r,u)),h=n(d,f,u),h}function b(){return t.dependsOnOwnProps&&(d=t(c,u)),e.dependsOnOwnProps&&(f=e(r,u)),h=n(d,f,u),h}function y(){var C=t(c,u),E=!s(C,d);return d=C,E&&(h=n(d,f,u)),h}function _(C,E){var M=!a(E,u),R=!o(C,c,E,u);return c=C,u=E,M&&R?x():M?b():R?y():h}return function(E,M){return l?_(E,M):p(E,M)}}function Y0t(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=lx(e,q0t),a=n(t,o),s=r(t,o),l=i(t,o),c=o.pure?X0t:W0t;return c(a,s,l,t,o)}var K0t=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function YI(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(o,a){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+a.wrappedComponentName+".")}}function Q0t(t,e){return t===e}function Z0t(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?I0t:n,i=e.mapStateToPropsFactories,o=i===void 0?k0t:i,a=e.mapDispatchToPropsFactories,s=a===void 0?F0t:a,l=e.mergePropsFactories,c=l===void 0?j0t:l,u=e.selectorFactory,d=u===void 0?Y0t:u;return function(h,p,x,b){b===void 0&&(b={});var y=b,_=y.pure,C=_===void 0?!0:_,E=y.areStatesEqual,M=E===void 0?Q0t:E,R=y.areOwnPropsEqual,N=R===void 0?XI:R,O=y.areStatePropsEqual,I=O===void 0?XI:O,L=y.areMergedPropsEqual,F=L===void 0?XI:L,$=lx(y,K0t),V=YI(h,o,"mapStateToProps"),U=YI(p,s,"mapDispatchToProps"),k=YI(x,c,"mergeProps");return r(d,it({methodName:"connect",getDisplayName:function(H){return"Connect("+H+")"},shouldHandleStateChanges:!!h,initMapStateToProps:V,initMapDispatchToProps:U,initMergeProps:k,pure:C,areStatesEqual:M,areOwnPropsEqual:N,areStatePropsEqual:I,areMergedPropsEqual:F},$))}}const Zhe=Z0t();Ymt(uf.unstable_batchedUpdates);function J0t(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Jhe(t,e){var n=S.useState(function(){return{inputs:e,result:t()}})[0],r=S.useRef(!0),i=S.useRef(n),o=r.current||!!(e&&i.current.inputs&&J0t(e,i.current.inputs)),a=o?i.current:{inputs:e,result:t()};return S.useEffect(function(){r.current=!1,i.current=a},[a]),a.result}function egt(t,e){return Jhe(function(){return t},e)}var Xr=Jhe,Yn=egt,tgt=!0,KI="Invariant failed";function ngt(t,e){if(!t){if(tgt)throw new Error(KI);var n=typeof e=="function"?e():e,r=n?"".concat(KI,": ").concat(n):KI;throw new Error(r)}}var ru=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,a=r-o,s=i-n,l={top:n,right:r,bottom:i,left:o,width:a,height:s,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},y9=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},XY=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},rgt=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},QI={top:0,right:0,bottom:0,left:0},b9=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?QI:r,o=e.border,a=o===void 0?QI:o,s=e.padding,l=s===void 0?QI:s,c=ru(y9(n,i)),u=ru(XY(n,a)),d=ru(XY(u,l));return{marginBox:c,borderBox:ru(n),paddingBox:u,contentBox:d,margin:i,border:a,padding:l}},Ql=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&ngt(!1),i},igt=function(){return{x:window.pageXOffset,y:window.pageYOffset}},o3=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,a=e.padding,s=rgt(r,n);return b9({borderBox:s,border:i,margin:o,padding:a})},a3=function(e,n){return n===void 0&&(n=igt()),o3(e,n)},epe=function(e,n){var r={top:Ql(n.marginTop),right:Ql(n.marginRight),bottom:Ql(n.marginBottom),left:Ql(n.marginLeft)},i={top:Ql(n.paddingTop),right:Ql(n.paddingRight),bottom:Ql(n.paddingBottom),left:Ql(n.paddingLeft)},o={top:Ql(n.borderTopWidth),right:Ql(n.borderRightWidth),bottom:Ql(n.borderBottomWidth),left:Ql(n.borderLeftWidth)};return b9({borderBox:e,margin:r,padding:i,border:o})},tpe=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return epe(n,r)},YY=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function ogt(t,e){return!!(t===e||YY(t)&&YY(e))}function agt(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!ogt(t[n],e[n]))return!1;return!0}function ua(t,e){e===void 0&&(e=agt);var n,r=[],i,o=!1;function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return o&&n===this&&e(s,r)||(i=t.apply(this,s),o=!0,n=this,r=s),i}return a}var sgt=function(e){var n=[],r=null,i=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];n=s,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};const c2=sgt;function npe(t,e){}npe.bind(null,"warn");npe.bind(null,"error");function Vh(){}function lgt(t,e){return it({},t,{},e)}function fc(t,e,n){var r=e.map(function(i){var o=lgt(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var cgt="Invariant failed";function s3(t){this.message=t}s3.prototype.toString=function(){return this.message};function sn(t,e){if(!t)throw new s3(cgt)}var ugt=function(t){M7(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,r.callbacks=null,r.unbind=Vh,r.onWindowError=function(s){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var c=s.error;c instanceof s3&&s.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(s){r.callbacks=s},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=fc(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof s3){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(je.Component),dgt=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,l3=function(e){return e+1},fgt=function(e){return`
  You have lifted an item in position `+l3(e.source.index)+`
`},rpe=function(e,n){var r=e.droppableId===n.droppableId,i=l3(e.index),o=l3(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},ipe=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},hgt=function(e){var n=e.destination;if(n)return rpe(e.source,n);var r=e.combine;return r?ipe(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},KY=function(e){return`
  The item has returned to its starting position
  of `+l3(e.index)+`
`},pgt=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+KY(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+rpe(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+ipe(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+KY(e.source)+`
  `},KC={dragHandleUsageInstructions:dgt,onDragStart:fgt,onDragUpdate:hgt,onDragEnd:pgt},da={x:0,y:0},Ma=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},Rl=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},zh=function(e,n){return e.x===n.x&&e.y===n.y},wy=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},l0=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},u2=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},QY=function(e,n){return Math.min.apply(Math,n.map(function(r){return u2(e,r)}))},ope=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},mgt=function(t,e){var n=ru({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},_S=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},ZY=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},ggt={top:0,right:0,bottom:0,left:0},Agt=function(e,n){return n?_S(e,n.scroll.diff.displacement):e},vgt=function(e,n,r){if(r&&r.increasedBy){var i;return it({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},ygt=function(e,n){return n&&n.shouldClipSubject?mgt(n.pageMarginBox,e):ru(e)},kv=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,o=Agt(e.marginBox,i),a=vgt(o,r,n),s=ygt(a,i);return{page:e,withPlaceholder:n,active:s}},x9=function(t,e){t.frame||sn(!1);var n=t.frame,r=Rl(e,n.scroll.initial),i=wy(r),o=it({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),a=kv({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o}),s=it({},t,{frame:o,subject:a});return s};function c3(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function S9(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function xp(t,e){if(t.find)return t.find(e);var n=S9(t,e);if(n!==-1)return t[n]}function ape(t){return Array.prototype.slice.call(t)}var spe=ua(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),lpe=ua(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),YR=ua(function(t){return c3(t)}),bgt=ua(function(t){return c3(t)}),Cy=ua(function(t,e){var n=bgt(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function _9(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function KR(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var QR=ua(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),xgt=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.previousImpact;if(!r.isCombineEnabled)return null;var a=_9(o);if(!a)return null;function s(x){var b={type:"COMBINE",combine:{draggableId:x,droppableId:r.descriptor.id}};return it({},o,{at:b})}var l=o.displaced.all,c=l.length?l[0]:null;if(e)return c?s(c):null;var u=QR(n,i);if(!c){if(!u.length)return null;var d=u[u.length-1];return s(d.descriptor.id)}var f=S9(u,function(x){return x.descriptor.id===c});f===-1&&sn(!1);var h=f-1;if(h<0)return null;var p=u[h];return s(p.descriptor.id)},Ty=function(t,e){return t.descriptor.droppableId===e.descriptor.id},cpe={point:da,value:0},d2={invisible:{},visible:{},all:[]},Sgt={displaced:d2,displacedBy:cpe,at:null},Ac=function(t,e){return function(n){return t<=n&&n<=e}},upe=function(t){var e=Ac(t.top,t.bottom),n=Ac(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=e(r.top)||e(r.bottom),a=n(r.left)||n(r.right),s=o&&a;if(s)return!0;var l=r.top<t.top&&r.bottom>t.bottom,c=r.left<t.left&&r.right>t.right,u=l&&c;if(u)return!0;var d=l&&a||c&&o;return d}},_gt=function(t){var e=Ac(t.top,t.bottom),n=Ac(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},w9={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},dpe={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},wgt=function(t){return function(e){var n=Ac(e.top,e.bottom),r=Ac(e.left,e.right);return function(i){return t===w9?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},Cgt=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:da;return _S(e,r)},Tgt=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},Egt=function(e,n,r){return r(n)(e)},C9=function(e){var n=e.target,r=e.destination,i=e.viewport,o=e.withDroppableDisplacement,a=e.isVisibleThroughFrameFn,s=o?Cgt(n,r):n;return Tgt(s,r,a)&&Egt(s,i,a)},Mgt=function(e){return C9(it({},e,{isVisibleThroughFrameFn:upe}))},fpe=function(e){return C9(it({},e,{isVisibleThroughFrameFn:_gt}))},Rgt=function(e){return C9(it({},e,{isVisibleThroughFrameFn:wgt(e.destination.axis)}))},Pgt=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[e])return!1;var a=o[e];return a?a.shouldAnimate:!0};function Ngt(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return ru(y9(n,r))}function f2(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,o=t.forceShouldAnimate,a=t.last;return e.reduce(function(l,c){var u=Ngt(c,r),d=c.descriptor.id;l.all.push(d);var f=Mgt({target:u,destination:n,viewport:i,withDroppableDisplacement:!0});if(!f)return l.invisible[c.descriptor.id]=!0,l;var h=Pgt(d,a,o),p={draggableId:d,shouldAnimate:h};return l.visible[d]=p,l},{all:[],visible:{},invisible:{}})}function Igt(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function JY(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,o=Igt(e,{inHomeList:n});return{displaced:d2,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function u3(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,o=t.displacedBy,a=t.last,s=t.index,l=t.forceShouldAnimate,c=Ty(e,r);if(s==null)return JY({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=xp(n,function(x){return x.descriptor.index===s});if(!u)return JY({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=QR(e,n),f=n.indexOf(u),h=d.slice(f),p=f2({afterDragging:h,destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l});return{displaced:p,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function rp(t,e){return!!e.effected[t]}var Dgt=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,o=t.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,s=r[a],l=s.descriptor.index,c=rp(a,o);return c?e?l:l-1:e?l+1:l},Ogt=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var o=i.index,a=e?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=n?l:l+1;return a<s||a>c?null:a},Lgt=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,o=t.destination,a=t.insideDestination,s=t.previousImpact,l=t.viewport,c=t.afterCritical,u=s.at;if(u||sn(!1),u.type==="REORDER"){var d=Ogt({isMovingForward:e,isInHomeList:n,location:u.destination,insideDestination:a});return d==null?null:u3({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var f=Dgt({isMovingForward:e,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return f==null?null:u3({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})},Bgt=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,o=!!(e.visible[r]||e.invisible[r]);return rp(r,n)?o?da:wy(i.point):o?i.point:da},Fgt=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=KR(n);i||sn(!1);var o=i.draggableId,a=r[o].page.borderBox.center,s=Bgt({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return Ma(a,s)},hpe=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},$gt=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},T9=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},eK=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return l0(n.line,r.marginBox[n.end]+hpe(n,i),T9(n,r.marginBox,i))},tK=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return l0(n.line,r.marginBox[n.start]-$gt(n,i),T9(n,r.marginBox,i))},Ugt=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return l0(n.line,r.contentBox[n.start]+hpe(n,i),T9(n,r.contentBox,i))},kgt=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,o=t.afterCritical,a=Cy(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return Ugt({axis:l,moveInto:i.page,isMoving:s});var c=e.displaced,u=e.displacedBy,d=c.all[0];if(d){var f=r[d];if(rp(d,o))return tK({axis:l,moveRelativeTo:f.page,isMoving:s});var h=o3(f.page,u.point);return tK({axis:l,moveRelativeTo:h,isMoving:s})}var p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return s.borderBox.center;if(rp(p.descriptor.id,o)){var x=o3(p.page,wy(o.displacedBy.point));return eK({axis:l,moveRelativeTo:x,isMoving:s})}return eK({axis:l,moveRelativeTo:p.page,isMoving:s})},m8=function(t,e){var n=t.frame;return n?Ma(e,n.scroll.diff.displacement):e},Vgt=function(e){var n=e.impact,r=e.draggable,i=e.droppable,o=e.draggables,a=e.afterCritical,s=r.page.borderBox.center,l=n.at;return!i||!l?s:l.type==="REORDER"?kgt({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:a}):Fgt({impact:n,draggables:o,afterCritical:a})},ZR=function(t){var e=Vgt(t),n=t.droppable,r=n?m8(n,e):e;return r},ppe=function(t,e){var n=Rl(e,t.scroll.initial),r=wy(n),i=ru({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),o={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return o};function nK(t,e){return t.map(function(n){return e[n]})}function zgt(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var Ggt=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,o=t.maxScrollChange,a=ppe(n,Ma(n.scroll.current,o)),s=r.frame?x9(r,Ma(r.frame.scroll.current,o)):r,l=e.displaced,c=f2({afterDragging:nK(l.all,i),destination:r,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=f2({afterDragging:nK(l.all,i),destination:s,displacedBy:e.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},f={},h=[l,c,u];l.all.forEach(function(x){var b=zgt(x,h);if(b){f[x]=b;return}d[x]=!0});var p=it({},e,{displaced:{all:l.all,invisible:d,visible:f}});return p},Hgt=function(t,e){return Ma(t.scroll.diff.displacement,e)},E9=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=Hgt(r,e),o=Rl(i,n.page.borderBox.center);return Ma(n.client.borderBox.center,o)},mpe=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,o=t.withDroppableDisplacement,a=t.onlyOnMainAxis,s=a===void 0?!1:a,l=Rl(r,e.page.borderBox.center),c=_S(e.page.borderBox,l),u={target:c,destination:n,withDroppableDisplacement:o,viewport:i};return s?Rgt(u):fpe(u)},jgt=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,o=t.previousImpact,a=t.viewport,s=t.previousPageBorderBoxCenter,l=t.previousClientSelection,c=t.afterCritical;if(!r.isEnabled)return null;var u=Cy(r.descriptor.id,i),d=Ty(n,r),f=xgt({isMovingForward:e,draggable:n,destination:r,insideDestination:u,previousImpact:o})||Lgt({isMovingForward:e,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!f)return null;var h=ZR({impact:f,draggable:n,droppable:r,draggables:i,afterCritical:c}),p=mpe({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(p){var x=E9({pageBorderBoxCenter:h,draggable:n,viewport:a});return{clientSelection:x,impact:f,scrollJumpRequest:null}}var b=Rl(h,s),y=Ggt({impact:f,viewport:a,destination:r,draggables:i,maxScrollChange:b});return{clientSelection:l,impact:y,scrollJumpRequest:b}},fs=function(e){var n=e.subject.active;return n||sn(!1),n},qgt=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,o=t.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=Ac(a[s.start],a[s.end]),c=YR(i).filter(function(d){return d!==r}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return upe(o.frame)(fs(d))}).filter(function(d){var f=fs(d);return e?a[s.crossAxisEnd]<f[s.crossAxisEnd]:f[s.crossAxisStart]<a[s.crossAxisStart]}).filter(function(d){var f=fs(d),h=Ac(f[s.start],f[s.end]);return l(f[s.start])||l(f[s.end])||h(a[s.start])||h(a[s.end])}).sort(function(d,f){var h=fs(d)[s.crossAxisStart],p=fs(f)[s.crossAxisStart];return e?h-p:p-h}).filter(function(d,f,h){return fs(d)[s.crossAxisStart]===fs(h[0])[s.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var u=c.filter(function(d){var f=Ac(fs(d)[s.start],fs(d)[s.end]);return f(n[s.line])});return u.length===1?u[0]:u.length>1?u.sort(function(d,f){return fs(d)[s.start]-fs(f)[s.start]})[0]:c.sort(function(d,f){var h=QY(n,ZY(fs(d))),p=QY(n,ZY(fs(f)));return h!==p?h-p:fs(d)[s.start]-fs(f)[s.start]})[0]},rK=function(e,n){var r=e.page.borderBox.center;return rp(e.descriptor.id,n)?Rl(r,n.displacedBy.point):r},Wgt=function(e,n){var r=e.page.borderBox;return rp(e.descriptor.id,n)?_S(r,wy(n.displacedBy.point)):r},Xgt=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,o=t.afterCritical,a=i.filter(function(s){return fpe({target:Wgt(s,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(s,l){var c=u2(e,m8(r,rK(s,o))),u=u2(e,m8(r,rK(l,o)));return c<u?-1:u<c?1:s.descriptor.index-l.descriptor.index});return a[0]||null},wS=ua(function(e,n){var r=n[e.line];return{value:r,point:l0(e.line,r)}}),Ygt=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return l0(i.line,n[i.line]);var o=e.subject.page.contentBox[i.size],a=Cy(e.descriptor.id,r),s=a.reduce(function(u,d){return u+d.client.marginBox[i.size]},0),l=s+n[i.line],c=l-o;return c<=0?null:l0(i.line,c)},gpe=function(e,n){return it({},e,{scroll:it({},e.scroll,{max:n})})},Ape=function(e,n,r){var i=e.frame;Ty(n,e)&&sn(!1),e.subject.withPlaceholder&&sn(!1);var o=wS(e.axis,n.displaceBy).point,a=Ygt(e,o,r),s={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=kv({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return it({},e,{subject:l})}var c=a?Ma(i.scroll.max,a):i.scroll.max,u=gpe(i,c),d=kv({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:u});return it({},e,{subject:d,frame:u})},Kgt=function(e){var n=e.subject.withPlaceholder;n||sn(!1);var r=e.frame;if(!r){var i=kv({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return it({},e,{subject:i})}var o=n.oldFrameMaxScroll;o||sn(!1);var a=gpe(r,o),s=kv({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return it({},e,{subject:s,frame:a})},Qgt=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,o=t.draggables,a=t.destination,s=t.viewport,l=t.afterCritical;if(!n){if(r.length)return null;var c={displaced:d2,displacedBy:cpe,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=ZR({impact:c,draggable:i,droppable:a,draggables:o,afterCritical:l}),d=Ty(i,a)?a:Ape(a,i,o),f=mpe({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?c:null}var h=e[a.axis.line]<=n.page.borderBox.center[a.axis.line],p=function(){var b=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?b:b+1}(),x=wS(a.axis,i.displaceBy);return u3({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:x,last:d2,index:p})},Zgt=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,o=t.draggables,a=t.droppables,s=t.viewport,l=t.afterCritical,c=qgt({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;var u=Cy(c.descriptor.id,o),d=Xgt({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),f=Qgt({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!f)return null;var h=ZR({impact:f,draggable:r,droppable:c,draggables:o,afterCritical:l}),p=E9({pageBorderBoxCenter:h,draggable:r,viewport:s});return{clientSelection:p,impact:f,scrollJumpRequest:null}},Ol=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},Jgt=function(e,n){var r=Ol(e);return r?n[r]:null},eAt=function(t){var e=t.state,n=t.type,r=Jgt(e.impact,e.dimensions.droppables),i=!!r,o=e.dimensions.droppables[e.critical.droppable.id],a=r||o,s=a.axis.direction,l=s==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||s==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var c=n==="MOVE_DOWN"||n==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,f=e.dimensions,h=f.draggables,p=f.droppables;return l?jgt({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Zgt({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:h,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function em(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function vpe(t){var e=Ac(t.top,t.bottom),n=Ac(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function tAt(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function nAt(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,o=r.map(function(a){var s=a.axis,l=l0(a.axis.line,e.center[s.line],a.page.borderBox.center[s.crossAxisLine]);return{id:a.descriptor.id,distance:u2(i,l)}}).sort(function(a,s){return s.distance-a.distance});return o[0]?o[0].id:null}function rAt(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=YR(r).filter(function(o){if(!o.isEnabled)return!1;var a=o.subject.active;if(!a||!tAt(e,a))return!1;if(vpe(a)(e.center))return!0;var s=o.axis,l=a.center[s.crossAxisLine],c=e[s.crossAxisStart],u=e[s.crossAxisEnd],d=Ac(a[s.crossAxisStart],a[s.crossAxisEnd]),f=d(c),h=d(u);return!f&&!h?!0:f?c<l:u>l});return i.length?i.length===1?i[0].descriptor.id:nAt({pageBorderBox:e,draggable:n,candidates:i}):null}var ype=function(e,n){return ru(_S(e,n))},iAt=function(t,e){var n=t.frame;return n?ype(e,n.scroll.diff.value):e};function bpe(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function oAt(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var aAt=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.last,a=t.viewport,s=t.afterCritical,l=r.axis,c=wS(r.axis,n.displaceBy),u=c.value,d=e[l.start],f=e[l.end],h=QR(n,i),p=xp(h,function(b){var y=b.descriptor.id,_=b.page.borderBox.center[l.line],C=rp(y,s),E=bpe({displaced:o,id:y});return C?E?f<=_:d<_-u:E?f<=_+u:d<_}),x=oAt({draggable:n,closest:p,inHomeList:Ty(n,r)});return u3({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:x})},sAt=4,lAt=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,o=t.insideDestination,a=t.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=wS(i.axis,e.displaceBy),c=l.value,u=n[s.start],d=n[s.end],f=QR(e,o),h=xp(f,function(x){var b=x.descriptor.id,y=x.page.borderBox,_=y[s.size],C=_/sAt,E=rp(b,a),M=bpe({displaced:r.displaced,id:b});return E?M?d>y[s.start]+C&&d<y[s.end]-C:u>y[s.start]-c+C&&u<y[s.end]-c-C:M?d>y[s.start]+c+C&&d<y[s.end]+c-C:u>y[s.start]+C&&u<y[s.end]-C});if(!h)return null;var p={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}};return p},xpe=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,o=t.previousImpact,a=t.viewport,s=t.afterCritical,l=ype(n.page.borderBox,e),c=rAt({pageBorderBox:l,draggable:n,droppables:i});if(!c)return Sgt;var u=i[c],d=Cy(u.descriptor.id,r),f=iAt(u,l);return lAt({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||aAt({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},M9=function(t,e){var n;return it({},t,(n={},n[e.descriptor.id]=e,n))},cAt=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,o=Ol(n),a=Ol(r);if(!o||o===a)return i;var s=i[o];if(!s.subject.withPlaceholder)return i;var l=Kgt(s);return M9(i,l)},uAt=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,o=t.impact,a=cAt({previousImpact:i,impact:o,droppables:r}),s=Ol(o);if(!s)return a;var l=r[s];if(Ty(e,l)||l.subject.withPlaceholder)return a;var c=Ape(l,e,n);return M9(a,c)},Ub=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,o=t.impact,a=t.scrollJumpRequest,s=i||e.viewport,l=r||e.dimensions,c=n||e.current.client.selection,u=Rl(c,e.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:Ma(e.initial.client.borderBoxCenter,u)},f={selection:Ma(d.selection,s.scroll.current),borderBoxCenter:Ma(d.borderBoxCenter,s.scroll.current),offset:Ma(d.offset,s.scroll.diff.value)},h={client:d,page:f};if(e.phase==="COLLECTING")return it({phase:"COLLECTING"},e,{dimensions:l,viewport:s,current:h});var p=l.draggables[e.critical.draggable.id],x=o||xpe({pageOffset:f.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),b=uAt({draggable:p,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),y=it({},e,{current:h,dimensions:{draggables:l.draggables,droppables:b},impact:x,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return y};function dAt(t,e){return t.map(function(n){return e[n]})}var Spe=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,o=t.forceShouldAnimate,a=e.displaced,s=dAt(a.all,r),l=f2({afterDragging:s,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return it({},e,{displaced:l})},_pe=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,o=t.viewport,a=t.afterCritical,s=ZR({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:a});return E9({pageBorderBoxCenter:s,draggable:n,viewport:o})},wpe=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&sn(!1);var i=e.impact,o=r||e.viewport,a=n||e.dimensions,s=a.draggables,l=a.droppables,c=s[e.critical.draggable.id],u=Ol(i);u||sn(!1);var d=l[u],f=Spe({impact:i,viewport:o,destination:d,draggables:s}),h=_pe({impact:f,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:e.afterCritical});return Ub({impact:f,clientSelection:h,state:e,dimensions:a,viewport:o})},fAt=function(t){return{index:t.index,droppableId:t.droppableId}},Cpe=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,o=wS(n.axis,e.displaceBy),a=Cy(n.descriptor.id,r),s=a.indexOf(e);s===-1&&sn(!1);var l=a.slice(s+1),c=l.reduce(function(h,p){return h[p.descriptor.id]=!0,h},{}),u={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:c},d=f2({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),f={displaced:d,displacedBy:o,at:{type:"REORDER",destination:fAt(e.descriptor)}};return{impact:f,afterCritical:u}},hAt=function(t,e){return{draggables:t.draggables,droppables:M9(t.droppables,e)}},pAt=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=o3(e.client,n),o=a3(i,r),a=it({},e,{placeholder:it({},e.placeholder,{client:i}),client:i,page:o});return a},mAt=function(t){var e=t.frame;return e||sn(!1),e},gAt=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(o){var a=o.descriptor.droppableId,s=n[a],l=mAt(s),c=l.scroll.diff.value,u=Ma(i,c),d=pAt({draggable:o,offset:u,initialWindowScroll:r.scroll.initial});return d})},AAt=function(t){var e=t.state,n=t.published,r=n.modified.map(function(C){var E=e.dimensions.droppables[C.droppableId],M=x9(E,C.scroll);return M}),i=it({},e.dimensions.droppables,{},spe(r)),o=lpe(gAt({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),a=it({},e.dimensions.draggables,{},o);n.removals.forEach(function(C){delete a[C]});var s={droppables:i,draggables:a},l=Ol(e.impact),c=l?s.droppables[l]:null,u=s.draggables[e.critical.draggable.id],d=s.droppables[e.critical.droppable.id],f=Cpe({draggable:u,home:d,draggables:a,viewport:e.viewport}),h=f.impact,p=f.afterCritical,x=c&&c.isCombineEnabled?e.impact:h,b=xpe({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:x,viewport:e.viewport,afterCritical:p}),y=it({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:b,onLiftImpact:h,dimensions:s,afterCritical:p,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return y;var _=it({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return _},g8=function(e){return e.movementMode==="SNAP"},ZI=function(e,n,r){var i=hAt(e.dimensions,n);return!g8(e)||r?Ub({state:e,dimensions:i}):wpe({state:e,dimensions:i})};function JI(t){return t.isDragging&&t.movementMode==="SNAP"?it({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var iK={phase:"IDLE",completed:null,shouldFlush:!1},vAt=function(t,e){if(t===void 0&&(t=iK),e.type==="FLUSH")return it({},iK,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&sn(!1);var n=e.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,s=n.movementMode,l=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:da},d={client:u,page:{selection:Ma(u.selection,o.scroll.initial),borderBoxCenter:Ma(u.selection,o.scroll.initial),offset:Ma(u.selection,o.scroll.diff.value)}},f=YR(a.droppables).every(function(be){return!be.isFixedOnPage}),h=Cpe({draggable:l,home:c,draggables:a.draggables,viewport:o}),p=h.impact,x=h.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:f,impact:p,afterCritical:x,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&sn(!1);var y=it({phase:"COLLECTING"},t,{phase:"COLLECTING"});return y}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||sn(!1),AAt({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;em(t)||sn(!1);var _=e.payload.client;return zh(_,t.current.client.selection)?t:Ub({state:t,clientSelection:_,impact:g8(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return JI(t);em(t)||sn(!1);var C=e.payload,E=C.id,M=C.newScroll,R=t.dimensions.droppables[E];if(!R)return t;var N=x9(R,M);return ZI(t,N,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;em(t)||sn(!1);var O=e.payload,I=O.id,L=O.isEnabled,F=t.dimensions.droppables[I];F||sn(!1),F.isEnabled===L&&sn(!1);var $=it({},F,{isEnabled:L});return ZI(t,$,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;em(t)||sn(!1);var V=e.payload,U=V.id,k=V.isCombineEnabled,z=t.dimensions.droppables[U];z||sn(!1),z.isCombineEnabled===k&&sn(!1);var H=it({},z,{isCombineEnabled:k});return ZI(t,H,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;em(t)||sn(!1),t.isWindowScrollAllowed||sn(!1);var j=e.payload.newScroll;if(zh(t.viewport.scroll.current,j))return JI(t);var X=ppe(t.viewport,j);return g8(t)?wpe({state:t,viewport:X}):Ub({state:t,viewport:X})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!em(t))return t;var Y=e.payload.maxScroll;if(zh(Y,t.viewport.scroll.max))return t;var J=it({},t.viewport,{scroll:it({},t.viewport.scroll,{max:Y})});return it({phase:"DRAGGING"},t,{viewport:J})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&sn(!1);var ee=eAt({state:t,type:e.type});return ee?Ub({state:t,impact:ee.impact,clientSelection:ee.clientSelection,scrollJumpRequest:ee.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var re=e.payload.reason;t.phase!=="COLLECTING"&&sn(!1);var ue=it({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:re});return ue}if(e.type==="DROP_ANIMATE"){var fe=e.payload,oe=fe.completed,ce=fe.dropDuration,pe=fe.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||sn(!1);var ye={phase:"DROP_ANIMATING",completed:oe,dropDuration:ce,newHomeClientOffset:pe,dimensions:t.dimensions};return ye}if(e.type==="DROP_COMPLETE"){var xe=e.payload.completed;return{phase:"IDLE",completed:xe,shouldFlush:!1}}return t},yAt=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},bAt=function(e){return{type:"LIFT",payload:e}},xAt=function(e){return{type:"INITIAL_PUBLISH",payload:e}},SAt=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},_At=function(){return{type:"COLLECTION_STARTING",payload:null}},wAt=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},CAt=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},TAt=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Tpe=function(e){return{type:"MOVE",payload:e}},EAt=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},MAt=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},RAt=function(){return{type:"MOVE_UP",payload:null}},PAt=function(){return{type:"MOVE_DOWN",payload:null}},NAt=function(){return{type:"MOVE_RIGHT",payload:null}},IAt=function(){return{type:"MOVE_LEFT",payload:null}},R9=function(){return{type:"FLUSH",payload:null}},DAt=function(e){return{type:"DROP_ANIMATE",payload:e}},P9=function(e){return{type:"DROP_COMPLETE",payload:e}},Epe=function(e){return{type:"DROP",payload:e}},OAt=function(e){return{type:"DROP_PENDING",payload:e}},Mpe=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},LAt=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var a=o.payload,s=a.id,l=a.clientSelection,c=a.movementMode,u=n();u.phase==="DROP_ANIMATING"&&r(P9({completed:u.completed})),n().phase!=="IDLE"&&sn(!1),r(R9()),r(yAt({draggableId:s,movementMode:c}));var d={shouldPublishImmediately:c==="SNAP"},f={draggableId:s,scrollOptions:d},h=t.startPublishing(f),p=h.critical,x=h.dimensions,b=h.viewport;r(xAt({critical:p,dimensions:x,clientSelection:l,movementMode:c,viewport:b}))}}}},BAt=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},N9={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},h2={opacity:{drop:0,combining:.7},scale:{drop:.75}},I9={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Wp=I9.outOfTheWay+"s "+N9.outOfTheWay,kb={fluid:"opacity "+Wp,snap:"transform "+Wp+", opacity "+Wp,drop:function(e){var n=e+"s "+N9.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Wp,placeholder:"height "+Wp+", width "+Wp+", margin "+Wp},oK=function(e){return zh(e,da)?null:"translate("+e.x+"px, "+e.y+"px)"},A8={moveTo:oK,drop:function(e,n){var r=oK(e);return r?n?r+" scale("+h2.scale.drop+")":r:null}},v8=I9.minDropTime,Rpe=I9.maxDropTime,FAt=Rpe-v8,aK=1500,$At=.6,UAt=function(t){var e=t.current,n=t.destination,r=t.reason,i=u2(e,n);if(i<=0)return v8;if(i>=aK)return Rpe;var o=i/aK,a=v8+FAt*o,s=r==="CANCEL"?a*$At:a;return Number(s.toFixed(2))},kAt=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,o=t.afterCritical,a=r.draggables,s=r.droppables,l=Ol(e),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=_pe({impact:e,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i}),f=Rl(d,n.client.borderBox.center);return f},VAt=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,o=t.viewport,a=t.onLiftImpact;if(!r.at||n!=="DROP"){var s=Spe({draggables:e,impact:a,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=it({},r,{displaced:d2});return{impact:l,didDropInsideDroppable:!0}},zAt=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=e(),a=i.payload.reason;if(o.phase==="COLLECTING"){n(OAt({reason:a}));return}if(o.phase!=="IDLE"){var s=o.phase==="DROP_PENDING"&&o.isWaiting;s&&sn(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||sn(!1);var l=o.critical,c=o.dimensions,u=c.draggables[o.critical.draggable.id],d=VAt({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),f=d.impact,h=d.didDropInsideDroppable,p=h?_9(f):null,x=h?KR(f):null,b={index:l.draggable.index,droppableId:l.droppable.id},y={draggableId:u.descriptor.id,type:u.descriptor.type,source:b,reason:a,mode:o.movementMode,destination:p,combine:x},_=kAt({impact:f,draggable:u,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),C={critical:o.critical,afterCritical:o.afterCritical,result:y,impact:f},E=!zh(o.current.client.offset,_)||!!y.combine;if(!E){n(P9({completed:C}));return}var M=UAt({current:o.current.client.offset,destination:_,reason:a}),R={newHomeClientOffset:_,dropDuration:M,completed:C};n(DAt(R))}}}},Ppe=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function GAt(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function HAt(t){var e=t.onWindowScroll;function n(){e(Ppe())}var r=c2(n),i=GAt(r),o=Vh;function a(){return o!==Vh}function s(){a()&&sn(!1),o=fc(window,[i])}function l(){a()||sn(!1),r.cancel(),o(),o=Vh}return{start:s,stop:l,isActive:a}}var jAt=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},qAt=function(t){var e=HAt({onWindowScroll:function(r){t.dispatch(EAt({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&jAt(r)&&e.stop(),n(r)}}},WAt=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(a){e||n||(e=!0,t(a),clearTimeout(r))};return i.wasCalled=function(){return e},i},XAt=function(){var t=[],e=function(o){var a=S9(t,function(c){return c.timerId===o});a===-1&&sn(!1);var s=t.splice(a,1),l=s[0];l.callback()},n=function(o){var a=setTimeout(function(){return e(a)}),s={timerId:a,callback:o};t.push(s)},r=function(){if(t.length){var o=[].concat(t);t.length=0,o.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:n,flush:r}},YAt=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},KAt=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},QAt=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},I1=function(e,n){n()},Kw=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},eD=function(e,n,r,i){if(!e){r(i(n));return}var o=WAt(r),a={announce:o};e(n,a),o.wasCalled()||r(i(n))},ZAt=function(t,e){var n=XAt(),r=null,i=function(f,h){r&&sn(!1),I1("onBeforeCapture",function(){var p=t().onBeforeCapture;if(p){var x={draggableId:f,mode:h};p(x)}})},o=function(f,h){r&&sn(!1),I1("onBeforeDragStart",function(){var p=t().onBeforeDragStart;p&&p(Kw(f,h))})},a=function(f,h){r&&sn(!1);var p=Kw(f,h);r={mode:h,lastCritical:f,lastLocation:p.source,lastCombine:null},n.add(function(){I1("onDragStart",function(){return eD(t().onDragStart,p,e,KC.onDragStart)})})},s=function(f,h){var p=_9(h),x=KR(h);r||sn(!1);var b=!QAt(f,r.lastCritical);b&&(r.lastCritical=f);var y=!YAt(r.lastLocation,p);y&&(r.lastLocation=p);var _=!KAt(r.lastCombine,x);if(_&&(r.lastCombine=x),!(!b&&!y&&!_)){var C=it({},Kw(f,r.mode),{combine:x,destination:p});n.add(function(){I1("onDragUpdate",function(){return eD(t().onDragUpdate,C,e,KC.onDragUpdate)})})}},l=function(){r||sn(!1),n.flush()},c=function(f){r||sn(!1),r=null,I1("onDragEnd",function(){return eD(t().onDragEnd,f,e,KC.onDragEnd)})},u=function(){if(r){var f=it({},Kw(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});c(f)}};return{beforeCapture:i,beforeStart:o,start:a,update:s,flush:l,drop:c,abort:u}},JAt=function(t,e){var n=ZAt(t,e);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),i(o),n.start(a,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var s=o.payload.completed.result;n.flush(),i(o),n.drop(s);return}if(i(o),o.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},evt=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&sn(!1),t.dispatch(P9({completed:r.completed}))}}},tvt=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=t.getState();l.phase==="DROP_ANIMATING"&&t.dispatch(Mpe())}};n=requestAnimationFrame(function(){n=null,e=fc(window,[a])})}}}},nvt=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},rvt=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},ivt=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},ovt=function(t){return function(e){return function(n){return function(r){if(ivt(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&sn(!1),t.start(i);return}n(r),t.scroll(e.getState())}}}},avt=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(Epe({reason:r.reason})))}}}},svt=Bhe,lvt=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,o=t.announce,a=t.autoScroller;return Lhe(vAt,svt(Wmt(BAt(r),nvt(e),LAt(e),zAt,evt,tvt,avt,ovt(a),qAt,rvt(n),JAt(i,o))))},tD=function(){return{additions:{},removals:{},modified:{}}};function cvt(t){var e=t.registry,n=t.callbacks,r=tD(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var u=r,d=u.additions,f=u.removals,h=u.modified,p=Object.keys(d).map(function(y){return e.draggable.getById(y).getDimension(da)}).sort(function(y,_){return y.descriptor.index-_.descriptor.index}),x=Object.keys(h).map(function(y){var _=e.droppable.getById(y),C=_.callbacks.getScrollWhileDragging();return{droppableId:y,scroll:C}}),b={additions:p,removals:Object.keys(f),modified:x};r=tD(),n.publish(b)}))},a=function(u){var d=u.descriptor.id;r.additions[d]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],o()},s=function(u){var d=u.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],o()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=tD())};return{add:a,remove:s,stop:l}}var Npe=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,o=Rl({x:n,y:e},{x:i,y:r}),a={x:Math.max(0,o.x),y:Math.max(0,o.y)};return a},Ipe=function(){var t=document.documentElement;return t||sn(!1),t},Dpe=function(){var t=Ipe(),e=Npe({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},uvt=function(){var t=Ppe(),e=Dpe(),n=t.y,r=t.x,i=Ipe(),o=i.clientWidth,a=i.clientHeight,s=r+o,l=n+a,c=ru({top:n,left:r,right:s,bottom:l}),u={frame:c,scroll:{initial:t,current:t,max:e,diff:{value:da,displacement:da}}};return u},dvt=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=uvt(),o=i.scroll.current,a=e.droppable,s=r.droppable.getAllByType(a.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(o,n)}),l=r.draggable.getAllByType(e.draggable.type).map(function(d){return d.getDimension(o)}),c={draggables:lpe(l),droppables:spe(s)},u={dimensions:c,critical:e,viewport:i};return u};function sK(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var fvt=function(t,e){var n=null,r=cvt({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(h,p){t.droppable.exists(h)||sn(!1),n&&e.updateDroppableIsEnabled({id:h,isEnabled:p})},o=function(h,p){n&&(t.droppable.exists(h)||sn(!1),e.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:p}))},a=function(h,p){n&&(t.droppable.exists(h)||sn(!1),e.updateDroppableScroll({id:h,newScroll:p}))},s=function(h,p){n&&t.droppable.getById(h).callbacks.scroll(p)},l=function(){if(n){r.stop();var h=n.critical.droppable;t.droppable.getAllByType(h.type).forEach(function(p){return p.callbacks.dragStopped()}),n.unsubscribe(),n=null}},c=function(h){n||sn(!1);var p=n.critical.draggable;h.type==="ADDITION"&&sK(t,p,h.value)&&r.add(h.value),h.type==="REMOVAL"&&sK(t,p,h.value)&&r.remove(h.value)},u=function(h){n&&sn(!1);var p=t.draggable.getById(h.draggableId),x=t.droppable.getById(p.descriptor.droppableId),b={draggable:p.descriptor,droppable:x.descriptor},y=t.subscribe(c);return n={critical:b,unsubscribe:y},dvt({critical:b,registry:t,scrollOptions:h.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:s,updateDroppableScroll:a,startPublishing:u,stopPublishing:l};return d},Ope=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},hvt=function(t){window.scrollBy(t.x,t.y)},pvt=ua(function(t){return YR(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),mvt=function(e,n){var r=xp(pvt(n),function(i){return i.frame||sn(!1),vpe(i.frame.pageMarginBox)(e)});return r},gvt=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var o=mvt(e,r);return o},Gh={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Avt=function(t,e){var n=t[e.size]*Gh.startFromPercentage,r=t[e.size]*Gh.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},Lpe=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var o=r-e,a=o/i;return a},D9=1,vvt=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return Gh.maxPixelScroll;if(t===e.startScrollingFrom)return D9;var n=Lpe({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=Gh.maxPixelScroll*Gh.ease(r);return Math.ceil(i)},lK=Gh.durationDampening.accelerateAt,cK=Gh.durationDampening.stopDampeningAt,yvt=function(t,e){var n=e,r=cK,i=Date.now(),o=i-n;if(o>=cK)return t;if(o<lK)return D9;var a=Lpe({startOfRange:lK,endOfRange:r,current:o}),s=t*Gh.ease(a);return Math.ceil(s)},uK=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,o=vvt(e,n);return o===0?0:i?Math.max(yvt(o,r),D9):o},dK=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,o=t.shouldUseTimeDampening,a=Avt(e,i),s=n[i.end]<n[i.start];return s?uK({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*uK({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},bvt=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,o=n.width>e.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},xvt=ope(function(t){return t===0?0:t}),Bpe=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,o=t.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=dK({container:n,distanceToEdges:a,dragStartTime:e,axis:w9,shouldUseTimeDampening:o}),l=dK({container:n,distanceToEdges:a,dragStartTime:e,axis:dpe,shouldUseTimeDampening:o}),c=xvt({x:l,y:s});if(zh(c,da))return null;var u=bvt({container:n,subject:r,proposedScroll:c});return u?zh(u,da)?null:u:null},Svt=ope(function(t){return t===0?0:t>0?1:-1}),O9=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,o=Ma(n,i),a={x:t(o.x,r.x),y:t(o.y,r.y)};return zh(a,da)?null:a}}(),Fpe=function(e){var n=e.max,r=e.current,i=e.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},a=Svt(i),s=O9({max:o,current:r,change:a});return!s||a.x!==0&&s.x===0||a.y!==0&&s.y===0},L9=function(e,n){return Fpe({current:e.scroll.current,max:e.scroll.max,change:n})},_vt=function(e,n){if(!L9(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return O9({current:i,max:r,change:n})},B9=function(e,n){var r=e.frame;return r?Fpe({current:r.scroll.current,max:r.scroll.max,change:n}):!1},wvt=function(e,n){var r=e.frame;return!r||!B9(e,n)?null:O9({current:r.scroll.current,max:r.scroll.max,change:n})},Cvt=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,a=Bpe({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&L9(e,a)?a:null},Tvt=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,a=e.frame;if(!a)return null;var s=Bpe({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&B9(e,s)?s:null},fK=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,o=t.scrollDroppable,a=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id],l=s.page.marginBox;if(e.isWindowScrollAllowed){var c=e.viewport,u=Cvt({dragStartTime:n,viewport:c,subject:l,center:a,shouldUseTimeDampening:r});if(u){i(u);return}}var d=gvt({center:a,destination:Ol(e.impact),droppables:e.dimensions.droppables});if(d){var f=Tvt({dragStartTime:n,droppable:d,subject:l,center:a,shouldUseTimeDampening:r});f&&o(d.descriptor.id,f)}},Evt=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=c2(e),i=c2(n),o=null,a=function(u){o||sn(!1);var d=o,f=d.shouldUseTimeDampening,h=d.dragStartTime;fK({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:f})},s=function(u){o&&sn(!1);var d=Date.now(),f=!1,h=function(){f=!0};fK({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),o={dragStartTime:d,shouldUseTimeDampening:f},f&&a(u)},l=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:s,stop:l,scroll:a}},Mvt=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(c,u){var d=Ma(c.current.client.selection,u);e({client:d})},o=function(c,u){if(!B9(c,u))return u;var d=wvt(c,u);if(!d)return n(c.descriptor.id,u),null;var f=Rl(u,d);n(c.descriptor.id,f);var h=Rl(u,f);return h},a=function(c,u,d){if(!c||!L9(u,d))return d;var f=_vt(u,d);if(!f)return r(d),null;var h=Rl(d,f);r(h);var p=Rl(d,h);return p},s=function(c){var u=c.scrollJumpRequest;if(u){var d=Ol(c.impact);d||sn(!1);var f=o(c.dimensions.droppables[d],u);if(f){var h=c.viewport,p=a(c.isWindowScrollAllowed,h,f);p&&i(c,p)}}};return s},Rvt=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=Evt({scrollWindow:n,scrollDroppable:e}),o=Mvt({move:r,scrollWindow:n,scrollDroppable:e}),a=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&o(c)}},s={scroll:a,start:i.start,stop:i.stop};return s},Vv="data-rbd",zv=function(){var t=Vv+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),y8=function(){var t=Vv+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),Pvt=function(){var t=Vv+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),hK={contextId:Vv+"-scroll-container-context-id"},Nvt=function(e){return function(n){return"["+n+'="'+e+'"]'}},D1=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},Ivt="pointer-events: none;",Dvt=function(t){var e=Nvt(t),n=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(zv.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:Ivt,dropAnimating:s}}}(),r=function(){var s=`
      transition: `+kb.outOfTheWay+`;
    `;return{selector:e(y8.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),i={selector:e(Pvt.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[r,n,i,o];return{always:D1(a,"always"),resting:D1(a,"resting"),dragging:D1(a,"dragging"),dropAnimating:D1(a,"dropAnimating"),userCancel:D1(a,"userCancel")}},Ll=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,nD=function(){var e=document.querySelector("head");return e||sn(!1),e},pK=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function Ovt(t,e){var n=Xr(function(){return Dvt(t)},[t]),r=S.useRef(null),i=S.useRef(null),o=Yn(ua(function(d){var f=i.current;f||sn(!1),f.textContent=d}),[]),a=Yn(function(d){var f=r.current;f||sn(!1),f.textContent=d},[]);Ll(function(){!r.current&&!i.current||sn(!1);var d=pK(e),f=pK(e);return r.current=d,i.current=f,d.setAttribute(Vv+"-always",t),f.setAttribute(Vv+"-dynamic",t),nD().appendChild(d),nD().appendChild(f),a(n.always),o(n.resting),function(){var h=function(x){var b=x.current;b||sn(!1),nD().removeChild(b),x.current=null};h(r),h(i)}},[e,a,o,n.always,n.resting,t]);var s=Yn(function(){return o(n.dragging)},[o,n.dragging]),l=Yn(function(d){if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),c=Yn(function(){i.current&&o(n.resting)},[o,n.resting]),u=Xr(function(){return{dragging:s,dropping:l,resting:c}},[s,l,c]);return u}var $pe=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function JR(t){return t instanceof $pe(t).HTMLElement}function Lvt(t,e){var n="["+zv.contextId+'="'+t+'"]',r=ape(document.querySelectorAll(n));if(!r.length)return null;var i=xp(r,function(o){return o.getAttribute(zv.draggableId)===e});return!i||!JR(i)?null:i}function Bvt(t){var e=S.useRef({}),n=S.useRef(null),r=S.useRef(null),i=S.useRef(!1),o=Yn(function(f,h){var p={id:f,focus:h};return e.current[f]=p,function(){var b=e.current,y=b[f];y!==p&&delete b[f]}},[]),a=Yn(function(f){var h=Lvt(t,f);h&&h!==document.activeElement&&h.focus()},[t]),s=Yn(function(f,h){n.current===f&&(n.current=h)},[]),l=Yn(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var f=n.current;f&&a(f)}))},[a]),c=Yn(function(f){n.current=null;var h=document.activeElement;h&&h.getAttribute(zv.draggableId)===f&&(n.current=f)},[]);Ll(function(){return i.current=!0,function(){i.current=!1;var f=r.current;f&&cancelAnimationFrame(f)}},[]);var u=Xr(function(){return{register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:s}},[o,c,l,s]);return u}function Fvt(){var t={draggables:{},droppables:{}},e=[];function n(d){return e.push(d),function(){var h=e.indexOf(d);h!==-1&&e.splice(h,1)}}function r(d){e.length&&e.forEach(function(f){return f(d)})}function i(d){return t.draggables[d]||null}function o(d){var f=i(d);return f||sn(!1),f}var a={register:function(f){t.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:function(f,h){var p=t.draggables[h.descriptor.id];p&&p.uniqueId===f.uniqueId&&(delete t.draggables[h.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:function(f){var h=f.descriptor.id,p=i(h);p&&f.uniqueId===p.uniqueId&&(delete t.draggables[h],r({type:"REMOVAL",value:f}))},getById:o,findById:i,exists:function(f){return!!i(f)},getAllByType:function(f){return c3(t.draggables).filter(function(h){return h.descriptor.type===f})}};function s(d){return t.droppables[d]||null}function l(d){var f=s(d);return f||sn(!1),f}var c={register:function(f){t.droppables[f.descriptor.id]=f},unregister:function(f){var h=s(f.descriptor.id);h&&f.uniqueId===h.uniqueId&&delete t.droppables[f.descriptor.id]},getById:l,findById:s,exists:function(f){return!!s(f)},getAllByType:function(f){return c3(t.droppables).filter(function(h){return h.descriptor.type===f})}};function u(){t.draggables={},t.droppables={},e.length=0}return{draggable:a,droppable:c,subscribe:n,clean:u}}function $vt(){var t=Xr(Fvt,[]);return S.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var F9=je.createContext(null),d3=function(){var t=document.body;return t||sn(!1),t},Uvt={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},kvt=function(e){return"rbd-announcement-"+e};function Vvt(t){var e=Xr(function(){return kvt(t)},[t]),n=S.useRef(null);S.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),it(o.style,Uvt),d3().appendChild(o),function(){setTimeout(function(){var l=d3();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[e]);var r=Yn(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var zvt=0,Gvt={separator:"::"};function $9(t,e){return e===void 0&&(e=Gvt),Xr(function(){return""+t+e.separator+zvt++},[e.separator,t])}function Hvt(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function jvt(t){var e=t.contextId,n=t.text,r=$9("hidden-text",{separator:"-"}),i=Xr(function(){return Hvt({contextId:e,uniqueId:r})},[r,e]);return S.useEffect(function(){var a=document.createElement("div");return a.id=i,a.textContent=n,a.style.display="none",d3().appendChild(a),function(){var l=d3();l.contains(a)&&l.removeChild(a)}},[i,n]),i}var eP=je.createContext(null);function Upe(t){var e=S.useRef(t);return S.useEffect(function(){e.current=t}),e}function qvt(){var t=null;function e(){return!!t}function n(a){return a===t}function r(a){t&&sn(!1);var s={abandon:a};return t=s,s}function i(){t||sn(!1),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}var Wvt=9,Xvt=13,U9=27,kpe=32,Yvt=33,Kvt=34,Qvt=35,Zvt=36,Jvt=37,eyt=38,tyt=39,nyt=40,Qw,ryt=(Qw={},Qw[Xvt]=!0,Qw[Wvt]=!0,Qw),Vpe=function(t){ryt[t.keyCode]&&t.preventDefault()},tP=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=xp(e,function(r){return"on"+r in document});return n||t}(),zpe=0,mK=5;function iyt(t,e){return Math.abs(e.x-t.x)>=mK||Math.abs(e.y-t.y)>=mK}var gK={type:"IDLE"};function oyt(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(a){var s=a.button,l=a.clientX,c=a.clientY;if(s===zpe){var u={x:l,y:c},d=r();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&sn(!1);var f=d.point;if(iyt(f,u)){a.preventDefault();var h=d.actions.fluidLift(u);i({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(a){var s=r();if(s.type!=="DRAGGING"){e();return}a.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(a){r().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:function(a){var s=r();if(s.type==="PENDING"){e();return}if(a.keyCode===U9){a.preventDefault(),e();return}Vpe(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(a){var s=r();if(s.type==="IDLE"&&sn(!1),s.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:tP,fn:e}]}function ayt(t){var e=S.useRef(gK),n=S.useRef(Vh),r=Xr(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===zpe&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var f=t.findClosestDraggableId(d);if(f){var h=t.tryGetLock(f,a,{sourceEvent:d});if(h){d.preventDefault();var p={x:d.clientX,y:d.clientY};n.current(),c(h,p)}}}}}},[t]),i=Xr(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var f=t.findClosestDraggableId(d);if(f){var h=t.findOptionsForDraggable(f);h&&(h.shouldRespectForcePress||t.canGetLock(f)&&d.preventDefault())}}}}},[t]),o=Yn(function(){var d={passive:!1,capture:!0};n.current=fc(window,[i,r],d)},[i,r]),a=Yn(function(){var u=e.current;u.type!=="IDLE"&&(e.current=gK,n.current(),o())},[o]),s=Yn(function(){var u=e.current;a(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[a]),l=Yn(function(){var d={capture:!0,passive:!1},f=oyt({cancel:s,completed:a,getPhase:function(){return e.current},setPhase:function(p){e.current=p}});n.current=fc(window,f,d)},[s,a]),c=Yn(function(d,f){e.current.type!=="IDLE"&&sn(!1),e.current={type:"PENDING",point:f,actions:d},l()},[l]);Ll(function(){return o(),function(){n.current()}},[o])}var Pg;function syt(){}var lyt=(Pg={},Pg[Kvt]=!0,Pg[Yvt]=!0,Pg[Zvt]=!0,Pg[Qvt]=!0,Pg);function cyt(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===U9){o.preventDefault(),n();return}if(o.keyCode===kpe){o.preventDefault(),r();return}if(o.keyCode===nyt){o.preventDefault(),t.moveDown();return}if(o.keyCode===eyt){o.preventDefault(),t.moveUp();return}if(o.keyCode===tyt){o.preventDefault(),t.moveRight();return}if(o.keyCode===Jvt){o.preventDefault(),t.moveLeft();return}if(lyt[o.keyCode]){o.preventDefault();return}Vpe(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:tP,fn:n}]}function uyt(t){var e=S.useRef(syt),n=Xr(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==kpe)return;var a=t.findClosestDraggableId(o);if(!a)return;var s=t.tryGetLock(a,u,{sourceEvent:o});if(!s)return;o.preventDefault();var l=!0,c=s.snapLift();e.current();function u(){l||sn(!1),l=!1,e.current(),r()}e.current=fc(window,cyt(c,u),{capture:!0,passive:!1})}}},[t]),r=Yn(function(){var o={passive:!1,capture:!0};e.current=fc(window,[n],o)},[n]);Ll(function(){return r(),function(){e.current()}},[r])}var rD={type:"IDLE"},dyt=120,fyt=.15;function hyt(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===U9&&i.preventDefault(),e()}},{eventName:tP,fn:e}]}function pyt(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var a=r();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;var s=o.touches[0],l=s.clientX,c=s.clientY,u={x:l,y:c};o.preventDefault(),a.actions.move(u)}},{eventName:"touchend",fn:function(o){var a=r();if(a.type!=="DRAGGING"){e();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){e();return}o.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(o){var a=r();a.type==="IDLE"&&sn(!1);var s=o.touches[0];if(s){var l=s.force>=fyt;if(l){var c=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){c&&e();return}if(c){if(a.hasMoved){o.preventDefault();return}e();return}o.preventDefault()}}}},{eventName:tP,fn:e}]}function myt(t){var e=S.useRef(rD),n=S.useRef(Vh),r=Yn(function(){return e.current},[]),i=Yn(function(h){e.current=h},[]),o=Xr(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var p=t.findClosestDraggableId(h);if(p){var x=t.tryGetLock(p,s,{sourceEvent:h});if(x){var b=h.touches[0],y=b.clientX,_=b.clientY,C={x:y,y:_};n.current(),d(x,C)}}}}}},[t]),a=Yn(function(){var h={capture:!0,passive:!1};n.current=fc(window,[o],h)},[o]),s=Yn(function(){var f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(rD),n.current(),a())},[a,i]),l=Yn(function(){var f=e.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),c=Yn(function(){var h={capture:!0,passive:!1},p={cancel:l,completed:s,getPhase:r},x=fc(window,pyt(p),h),b=fc(window,hyt(p),h);n.current=function(){x(),b()}},[l,r,s]),u=Yn(function(){var h=r();h.type!=="PENDING"&&sn(!1);var p=h.actions.fluidLift(h.point);i({type:"DRAGGING",actions:p,hasMoved:!1})},[r,i]),d=Yn(function(h,p){r().type!=="IDLE"&&sn(!1);var x=setTimeout(u,dyt);i({type:"PENDING",point:p,actions:h,longPressTimerId:x}),c()},[c,r,i,u]);Ll(function(){return a(),function(){n.current();var p=r();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),i(rD))}},[r,a,i]),Ll(function(){var h=fc(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var gyt={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Gpe(t,e){if(e==null)return!1;var n=!!gyt[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:Gpe(t,e.parentElement)}function Ayt(t,e){var n=e.target;return JR(n)?Gpe(t,n):!1}var vyt=function(t){return ru(t.getBoundingClientRect()).center};function yyt(t){return t instanceof $pe(t).Element}var byt=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=xp(e,function(r){return r in Element.prototype});return n||t}();function Hpe(t,e){return t==null?null:t[byt](e)?t:Hpe(t.parentElement,e)}function xyt(t,e){return t.closest?t.closest(e):Hpe(t,e)}function Syt(t){return"["+zv.contextId+'="'+t+'"]'}function _yt(t,e){var n=e.target;if(!yyt(n))return null;var r=Syt(t),i=xyt(n,r);return!i||!JR(i)?null:i}function wyt(t,e){var n=_yt(t,e);return n?n.getAttribute(zv.draggableId):null}function Cyt(t,e){var n="["+y8.contextId+'="'+t+'"]',r=ape(document.querySelectorAll(n)),i=xp(r,function(o){return o.getAttribute(y8.id)===e});return!i||!JR(i)?null:i}function Tyt(t){t.preventDefault()}function Zw(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function jpe(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!Ope(n.getState(),i))}function Eyt(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,o=t.draggableId,a=t.forceSensorStop,s=t.sourceEvent,l=jpe({lockAPI:e,store:r,registry:i,draggableId:o});if(!l)return null;var c=i.draggable.getById(o),u=Cyt(n,c.descriptor.id);if(!u||s&&!c.options.canDragInteractiveElements&&Ayt(u,s))return null;var d=e.claim(a||Vh),f="PRE_DRAG";function h(){return c.options.shouldRespectForcePress}function p(){return e.isActive(d)}function x(R,N){Zw({expected:R,phase:f,isLockActive:p,shouldWarn:!0})&&r.dispatch(N())}var b=x.bind(null,"DRAGGING");function y(R){function N(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(N(),f!=="PRE_DRAG"&&sn(!1)),r.dispatch(bAt(R.liftActionArgs)),f="DRAGGING";function O(I,L){if(L===void 0&&(L={shouldBlockNextClick:!1}),R.cleanup(),L.shouldBlockNextClick){var F=fc(window,[{eventName:"click",fn:Tyt,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(F)}N(),r.dispatch(Epe({reason:I}))}return it({isActive:function(){return Zw({expected:"DRAGGING",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(L){return O("DROP",L)},cancel:function(L){return O("CANCEL",L)}},R.actions)}function _(R){var N=c2(function(I){b(function(){return Tpe({client:I})})}),O=y({liftActionArgs:{id:o,clientSelection:R,movementMode:"FLUID"},cleanup:function(){return N.cancel()},actions:{move:N}});return it({},O,{move:N})}function C(){var R={moveUp:function(){return b(RAt)},moveRight:function(){return b(NAt)},moveDown:function(){return b(PAt)},moveLeft:function(){return b(IAt)}};return y({liftActionArgs:{id:o,clientSelection:vyt(u),movementMode:"SNAP"},cleanup:Vh,actions:R})}function E(){var R=Zw({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!0});R&&e.release()}var M={isActive:function(){return Zw({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:_,snapLift:C,abort:E};return M}var Myt=[ayt,uyt,myt];function Ryt(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,o=t.enableDefaultSensors,a=[].concat(o?Myt:[],i||[]),s=S.useState(function(){return qvt()})[0],l=Yn(function(_,C){_.isDragging&&!C.isDragging&&s.tryAbandon()},[s]);Ll(function(){var _=n.getState(),C=n.subscribe(function(){var E=n.getState();l(_,E),_=E});return C},[s,n,l]),Ll(function(){return s.tryAbandon},[s.tryAbandon]);for(var c=Yn(function(y){return jpe({lockAPI:s,registry:r,store:n,draggableId:y})},[s,r,n]),u=Yn(function(y,_,C){return Eyt({lockAPI:s,registry:r,contextId:e,store:n,draggableId:y,forceSensorStop:_,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null})},[e,s,r,n]),d=Yn(function(y){return wyt(e,y)},[e]),f=Yn(function(y){var _=r.draggable.findById(y);return _?_.options:null},[r.draggable]),h=Yn(function(){s.isClaimed()&&(s.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(R9()))},[s,n]),p=Yn(s.isClaimed,[s]),x=Xr(function(){return{canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:p}},[c,u,d,f,h,p]),b=0;b<a.length;b++)a[b](x)}var Pyt=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function O1(t){return t.current||sn(!1),t.current}function Nyt(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,o=t.dragHandleUsageInstructions,a=S.useRef(null),s=Upe(t),l=Yn(function(){return Pyt(s.current)},[s]),c=Vvt(e),u=jvt({contextId:e,text:o}),d=Ovt(e,i),f=Yn(function(I){O1(a).dispatch(I)},[]),h=Xr(function(){return UY({publishWhileDragging:SAt,updateDroppableScroll:wAt,updateDroppableIsEnabled:CAt,updateDroppableIsCombineEnabled:TAt,collectionStarting:_At},f)},[f]),p=$vt(),x=Xr(function(){return fvt(p,h)},[p,h]),b=Xr(function(){return Rvt(it({scrollWindow:hvt,scrollDroppable:x.scrollDroppable},UY({move:Tpe},f)))},[x.scrollDroppable,f]),y=Bvt(e),_=Xr(function(){return lvt({announce:c,autoScroller:b,dimensionMarshal:x,focusMarshal:y,getResponders:l,styleMarshal:d})},[c,b,x,y,l,d]);a.current=_;var C=Yn(function(){var I=O1(a),L=I.getState();L.phase!=="IDLE"&&I.dispatch(R9())},[]),E=Yn(function(){var I=O1(a).getState();return I.isDragging||I.phase==="DROP_ANIMATING"},[]),M=Xr(function(){return{isDragging:E,tryAbort:C}},[E,C]);n(M);var R=Yn(function(I){return Ope(O1(a).getState(),I)},[]),N=Yn(function(){return em(O1(a).getState())},[]),O=Xr(function(){return{marshal:x,focus:y,contextId:e,canLift:R,isMovementAllowed:N,dragHandleUsageInstructionsId:u,registry:p}},[e,x,u,y,R,N,p]);return Ryt({contextId:e,store:_,registry:p,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),S.useEffect(function(){return C},[C]),je.createElement(eP.Provider,{value:O},je.createElement(Zmt,{context:F9,store:_},t.children))}var Iyt=0;function Dyt(){return Xr(function(){return""+Iyt++},[])}function Oyt(t){var e=Dyt(),n=t.dragHandleUsageInstructions||KC.dragHandleUsageInstructions;return je.createElement(ugt,null,function(r){return je.createElement(Nyt,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var qpe=function(e){return function(n){return e===n}},Lyt=qpe("scroll"),Byt=qpe("auto"),AK=function(e,n){return n(e.overflowX)||n(e.overflowY)},Fyt=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return AK(r,Lyt)||AK(r,Byt)},$yt=function(){return!1},Uyt=function t(e){return e==null?null:e===document.body?$yt()?e:null:e===document.documentElement?null:Fyt(e)?e:t(e.parentElement)},b8=function(t){return{x:t.scrollLeft,y:t.scrollTop}},kyt=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},Vyt=function(t){var e=Uyt(t),n=kyt(t);return{closestScrollable:e,isFixedOnPage:n}},zyt=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,o=t.direction,a=t.client,s=t.page,l=t.closest,c=function(){if(!l)return null;var h=l.scrollSize,p=l.client,x=Npe({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:da,displacement:da}}}}(),u=o==="vertical"?w9:dpe,d=kv({page:s,withPlaceholder:null,axis:u,frame:c}),f={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:d};return f},Gyt=function(e,n){var r=tpe(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,a=i+n.scrollHeight,s=o+n.scrollWidth,l={top:i,right:s,bottom:a,left:o},c=y9(l,r.border),u=b9({borderBox:c,margin:r.margin,border:r.border,padding:r.padding});return u},Hyt=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,o=t.direction,a=t.isDropDisabled,s=t.isCombineEnabled,l=t.shouldClipSubject,c=r.closestScrollable,u=Gyt(e,c),d=a3(u,i),f=function(){if(!c)return null;var p=tpe(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:p,page:a3(p,i),scroll:b8(c),scrollSize:x,shouldClipSubject:l}}(),h=zyt({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:f});return h},jyt={passive:!1},qyt={passive:!0},vK=function(t){return t.shouldPublishImmediately?jyt:qyt};function f3(t){var e=S.useContext(t);return e||sn(!1),e}var Jw=function(e){return e&&e.env.closestScrollable||null};function Wyt(t){var e=S.useRef(null),n=f3(eP),r=$9("droppable"),i=n.registry,o=n.marshal,a=Upe(t),s=Xr(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),l=S.useRef(s),c=Xr(function(){return ua(function(E,M){e.current||sn(!1);var R={x:E,y:M};o.updateDroppableScroll(s.id,R)})},[s.id,o]),u=Yn(function(){var E=e.current;return!E||!E.env.closestScrollable?da:b8(E.env.closestScrollable)},[]),d=Yn(function(){var E=u();c(E.x,E.y)},[u,c]),f=Xr(function(){return c2(d)},[d]),h=Yn(function(){var E=e.current,M=Jw(E);E&&M||sn(!1);var R=E.scrollOptions;if(R.shouldPublishImmediately){d();return}f()},[f,d]),p=Yn(function(E,M){e.current&&sn(!1);var R=a.current,N=R.getDroppableRef();N||sn(!1);var O=Vyt(N),I={ref:N,descriptor:s,env:O,scrollOptions:M};e.current=I;var L=Hyt({ref:N,descriptor:s,env:O,windowScroll:E,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),F=O.closestScrollable;return F&&(F.setAttribute(hK.contextId,n.contextId),F.addEventListener("scroll",h,vK(I.scrollOptions))),L},[n.contextId,s,h,a]),x=Yn(function(){var E=e.current,M=Jw(E);return E&&M||sn(!1),b8(M)},[]),b=Yn(function(){var E=e.current;E||sn(!1);var M=Jw(E);e.current=null,M&&(f.cancel(),M.removeAttribute(hK.contextId),M.removeEventListener("scroll",h,vK(E.scrollOptions)))},[h,f]),y=Yn(function(E){var M=e.current;M||sn(!1);var R=Jw(M);R||sn(!1),R.scrollTop+=E.y,R.scrollLeft+=E.x},[]),_=Xr(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:x,dragStopped:b,scroll:y}},[b,p,x,y]),C=Xr(function(){return{uniqueId:r,descriptor:s,callbacks:_}},[_,s,r]);Ll(function(){return l.current=C.descriptor,i.droppable.register(C),function(){e.current&&b(),i.droppable.unregister(C)}},[_,s,b,C,o,i.droppable]),Ll(function(){e.current&&o.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),Ll(function(){e.current&&o.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function iD(){}var yK={width:0,height:0,margin:ggt},Xyt=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?yK:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},Yyt=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,o=Xyt({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?kb.placeholder:null}};function Kyt(t){var e=S.useRef(null),n=Yn(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,o=t.onClose,a=t.contextId,s=S.useState(t.animate==="open"),l=s[0],c=s[1];S.useEffect(function(){return l?r!=="open"?(n(),c(!1),iD):e.current?iD:(e.current=setTimeout(function(){e.current=null,c(!1)}),n):iD},[r,l,n]);var u=Yn(function(f){f.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),d=Yyt({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return je.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":a,onTransitionEnd:u,ref:t.innerRef})}var Qyt=je.memo(Kyt),k9=je.createContext(null),Zyt=function(t){M7(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(je.PureComponent),bK={dragging:5e3,dropAnimating:4500},Jyt=function(e,n){return n?kb.drop(n.duration):e?kb.snap:kb.fluid},e1t=function(e,n){return e?n?h2.opacity.drop:h2.opacity.combining:null},t1t=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function n1t(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,o=t.dropping,a=!!i,s=t1t(t),l=!!o,c=l?A8.drop(r,a):A8.moveTo(r),u={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Jyt(s,o),transform:c,opacity:e1t(a,l),zIndex:l?bK.dropAnimating:bK.dragging,pointerEvents:"none"};return u}function r1t(t){return{transform:A8.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function i1t(t){return t.type==="DRAGGING"?n1t(t):r1t(t)}function o1t(t,e,n){n===void 0&&(n=da);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=epe(i,r),a=a3(o,n),s={client:o,tagName:e.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height},c={descriptor:t,placeholder:s,displaceBy:l,client:o,page:a};return c}function a1t(t){var e=$9("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,o=t.canDragInteractiveElements,a=t.shouldRespectForcePress,s=t.isEnabled,l=Xr(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:a,isEnabled:s}},[o,s,a]),c=Yn(function(h){var p=i();return p||sn(!1),o1t(n,p,h)},[n,i]),u=Xr(function(){return{uniqueId:e,descriptor:n,options:l,getDimension:c}},[n,c,l,e]),d=S.useRef(u),f=S.useRef(!0);Ll(function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}},[r.draggable]),Ll(function(){if(f.current){f.current=!1;return}var h=d.current;d.current=u,r.draggable.update(u,h)},[u,r.draggable])}function s1t(t){t.preventDefault()}function l1t(t){var e=S.useRef(null),n=Yn(function(I){e.current=I},[]),r=Yn(function(){return e.current},[]),i=f3(eP),o=i.contextId,a=i.dragHandleUsageInstructionsId,s=i.registry,l=f3(k9),c=l.type,u=l.droppableId,d=Xr(function(){return{id:t.draggableId,index:t.index,type:c,droppableId:u}},[t.draggableId,t.index,c,u]),f=t.children,h=t.draggableId,p=t.isEnabled,x=t.shouldRespectForcePress,b=t.canDragInteractiveElements,y=t.isClone,_=t.mapped,C=t.dropAnimationFinished;if(!y){var E=Xr(function(){return{descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:x,isEnabled:p}},[d,s,r,b,x,p]);a1t(E)}var M=Xr(function(){return p?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:s1t}:null},[o,a,h,p]),R=Yn(function(I){_.type==="DRAGGING"&&_.dropping&&I.propertyName==="transform"&&C()},[C,_]),N=Xr(function(){var I=i1t(_),L=_.type==="DRAGGING"&&_.dropping?R:null,F={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":h,style:I,onTransitionEnd:L},dragHandleProps:M};return F},[o,M,h,_,R,n]),O=Xr(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return f(N,_.snapshot,O)}var Wpe=function(t,e){return t===e},Xpe=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},c1t=function(e){return e.combine?e.combine.draggableId:null},u1t=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function d1t(){var t=ua(function(i,o){return{x:i,y:o}}),e=ua(function(i,o,a,s,l){return{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:a,combineWith:s,combineTargetFor:null}}),n=ua(function(i,o,a,s,l,c,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:i,dimension:a,forceShouldAnimate:u,snapshot:e(o,s,l,c,null)}}}),r=function(o,a){if(o.isDragging){if(o.critical.draggable.id!==a.draggableId)return null;var s=o.current.client.offset,l=o.dimensions.draggables[a.draggableId],c=Ol(o.impact),u=u1t(o.impact),d=o.forceShouldAnimate;return n(t(s.x,s.y),o.movementMode,l,a.isClone,c,u,d)}if(o.phase==="DROP_ANIMATING"){var f=o.completed;if(f.result.draggableId!==a.draggableId)return null;var h=a.isClone,p=o.dimensions.draggables[a.draggableId],x=f.result,b=x.mode,y=Xpe(x),_=c1t(x),C=o.dropDuration,E={duration:C,curve:N9.drop,moveTo:o.newHomeClientOffset,opacity:_?h2.opacity.drop:null,scale:_?h2.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:p,dropping:E,draggingOver:y,combineWith:_,mode:b,forceShouldAnimate:null,snapshot:e(b,h,y,_,E)}}}return null};return r}function Ype(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var f1t={mapped:{type:"SECONDARY",offset:da,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Ype(null)}};function h1t(){var t=ua(function(a,s){return{x:a,y:s}}),e=ua(Ype),n=ua(function(a,s,l){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:s,shouldAnimateDisplacement:l,snapshot:e(s)}}}),r=function(s){return s?n(da,s,!0):null},i=function(s,l,c,u){var d=c.displaced.visible[s],f=!!(u.inVirtualList&&u.effected[s]),h=KR(c),p=h&&h.draggableId===s?l:null;if(!d){if(!f)return r(p);if(c.displaced.invisible[s])return null;var x=wy(u.displacedBy.point),b=t(x.x,x.y);return n(b,p,!0)}if(f)return r(p);var y=c.displacedBy.point,_=t(y.x,y.y);return n(_,p,d.shouldAnimate)},o=function(s,l){if(s.isDragging)return s.critical.draggable.id===l.draggableId?null:i(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var c=s.completed;return c.result.draggableId===l.draggableId?null:i(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return o}var p1t=function(){var e=d1t(),n=h1t(),r=function(o,a){return e(o,a)||n(o,a)||f1t};return r},m1t={dropAnimationFinished:Mpe},g1t=Zhe(p1t,m1t,null,{context:F9,pure:!0,areStatePropsEqual:Wpe})(l1t);function Kpe(t){var e=f3(k9),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:je.createElement(g1t,t)}function A1t(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return je.createElement(Kpe,it({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function v1t(t){var e=S.useContext(eP);e||sn(!1);var n=e.contextId,r=e.isMovementAllowed,i=S.useRef(null),o=S.useRef(null),a=t.children,s=t.droppableId,l=t.type,c=t.mode,u=t.direction,d=t.ignoreContainerClipping,f=t.isDropDisabled,h=t.isCombineEnabled,p=t.snapshot,x=t.useClone,b=t.updateViewportMaxScroll,y=t.getContainerForClone,_=Yn(function(){return i.current},[]),C=Yn(function(F){i.current=F},[]);Yn(function(){return o.current},[]);var E=Yn(function(F){o.current=F},[]),M=Yn(function(){r()&&b({maxScroll:Dpe()})},[r,b]);Wyt({droppableId:s,type:l,mode:c,direction:u,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:_});var R=je.createElement(Zyt,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(F){var $=F.onClose,V=F.data,U=F.animate;return je.createElement(Qyt,{placeholder:V,onClose:$,innerRef:E,animate:U,contextId:n,onTransitionEnd:M})}),N=Xr(function(){return{innerRef:C,placeholder:R,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":n}}},[n,s,R,C]),O=x?x.dragging.draggableId:null,I=Xr(function(){return{droppableId:s,type:l,isUsingCloneFor:O}},[s,O,l]);function L(){if(!x)return null;var F=x.dragging,$=x.render,V=je.createElement(Kpe,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(U,k){return $(U,k,F)});return xT.createPortal(V,y())}return je.createElement(k9.Provider,{value:I},a(N,p),L())}var oD=function(e,n){return e===n.droppable.type},xK=function(e,n){return n.draggables[e.draggable.id]},y1t=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=it({},e,{shouldAnimatePlaceholder:!1}),r=ua(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),i=ua(function(a,s,l,c,u,d){var f=u.descriptor.id,h=u.descriptor.droppableId===a;if(h){var p=d?{render:d,dragging:r(u.descriptor)}:null,x={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:p}}if(!s)return n;if(!c)return e;var b={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),o=function(s,l){var c=l.droppableId,u=l.type,d=!l.isDropDisabled,f=l.renderClone;if(s.isDragging){var h=s.critical;if(!oD(u,h))return n;var p=xK(h,s.dimensions),x=Ol(s.impact)===c;return i(c,d,x,x,p,f)}if(s.phase==="DROP_ANIMATING"){var b=s.completed;if(!oD(u,b.critical))return n;var y=xK(b.critical,s.dimensions);return i(c,d,Xpe(b.result)===c,Ol(b.impact)===c,y,f)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var _=s.completed;if(!oD(u,_.critical))return n;var C=Ol(_.impact)===c,E=!!(_.impact.at&&_.impact.at.type==="COMBINE"),M=_.critical.droppable.id===c;return C?E?e:n:M?e:n}return n};return o},b1t={updateViewportMaxScroll:MAt};function x1t(){return document.body||sn(!1),document.body}var S1t={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:x1t},V9=Zhe(y1t,b1t,null,{context:F9,pure:!0,areStatePropsEqual:Wpe})(v1t);V9.defaultProps=S1t;const{Text:x8}=B2,Ng=({session:t,dayIndex:e,period:n,sessionIndex:r,label:i,canAdd:o,onAdd:a})=>{const s=`${e}-${n}-${r}`;return De.jsxs("div",{className:"flex flex-col mb-2",children:[De.jsxs("div",{className:"flex justify-between items-center mb-1",children:[De.jsx(x8,{strong:!0,className:"capitalize text-text-secondary font-heading",children:i||n}),o&&a&&De.jsx(bo,{type:"text",size:"small",icon:De.jsx(xM,{}),onClick:a,className:"text-cta hover:text-primary"})]}),De.jsx(V9,{droppableId:s,children:(l,c)=>De.jsxs("div",{...l.droppableProps,ref:l.innerRef,className:`p-2 border border-dashed rounded min-h-[60px] transition-colors duration-200 ${c.isDraggingOver?"bg-background border-cta":"bg-white border-border"}`,children:[t.activities.map((u,d)=>De.jsx("div",{className:"mb-2 last:mb-0",children:typeof u=="string"?De.jsx("div",{className:"p-2 bg-background rounded text-sm text-text",children:u}):De.jsx(Jc,{size:"small",className:"shadow-sm border-border",bodyStyle:{padding:"8px"},children:De.jsxs("div",{className:"flex items-center gap-2",children:[De.jsx("img",{src:u.imageUrl,alt:u.name,className:"w-8 h-8 rounded object-cover"}),De.jsx(x8,{className:"text-xs font-medium truncate text-text",children:u.name})]})})},`${t.id}-${d}`)),l.placeholder]})})]})},_1t=({timetable:t,cart:e,onAddSession:n,onDragEnd:r})=>t?De.jsx(Oyt,{onDragEnd:i=>r(i),children:De.jsxs("div",{className:"flex h-full gap-4",children:[De.jsx("div",{className:"w-1/4 min-w-[250px] flex flex-col h-[calc(100vh-100px)] sticky top-4",children:De.jsx(Jc,{title:De.jsx("span",{className:"text-primary font-heading",children:"Attractions"}),className:"h-full flex flex-col border-border shadow-sm",bodyStyle:{flex:1,overflow:"hidden",padding:"12px"},children:De.jsx(V9,{droppableId:"cart",children:i=>De.jsxs("div",{...i.droppableProps,ref:i.innerRef,className:"h-full overflow-y-auto pr-2",children:[De.jsx(Wm,{dataSource:e,renderItem:(o,a)=>De.jsx(A1t,{draggableId:o.id,index:a,children:(s,l)=>De.jsx("div",{ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,className:"mb-2",style:{...s.draggableProps.style},children:De.jsx(Jc,{size:"small",hoverable:!0,className:`transform transition-all border-border ${l.isDragging?"shadow-lg rotate-2 scale-105 border-primary":""}`,cover:De.jsx("img",{alt:o.name,src:o.imageUrl,className:"h-32 object-cover"}),children:De.jsx(Jc.Meta,{title:De.jsx("span",{className:"text-text font-medium",children:o.name}),description:De.jsx(G5e,{color:"pink",children:o.type})})})})},o.id)}),i.placeholder]})})})}),De.jsx("div",{className:"w-3/4 overflow-x-auto pb-4",children:De.jsx("div",{className:"flex gap-4",children:t.schedule.map((i,o)=>De.jsx(Jc,{title:De.jsx("span",{className:"text-primary font-heading",children:new Date(i.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),className:"w-[300px] flex-shrink-0 shadow-md border-t-4 border-t-primary",bodyStyle:{padding:"12px",backgroundColor:"#FDF2F8"},children:De.jsxs("div",{className:"flex flex-col gap-1",children:[De.jsx(Ng,{session:i.sessions.breakfast,dayIndex:o,period:"breakfast",sessionIndex:0,label:" Breakfast"}),De.jsx(Zy,{className:"my-2 border-border"}),i.sessions.morning.map((a,s)=>De.jsx(Ng,{session:a,dayIndex:o,period:"morning",sessionIndex:s,label:s===0?" Morning":"",canAdd:s===0,onAdd:()=>n(o,"morning")},a.id)),De.jsx(Zy,{className:"my-2 border-border"}),De.jsx(Ng,{session:i.sessions.lunch,dayIndex:o,period:"lunch",sessionIndex:0,label:" Lunch"}),De.jsx(Zy,{className:"my-2 border-border"}),i.sessions.afternoon.map((a,s)=>De.jsx(Ng,{session:a,dayIndex:o,period:"afternoon",sessionIndex:s,label:s===0?" Afternoon":"",canAdd:s===0,onAdd:()=>n(o,"afternoon")},a.id)),De.jsx(Zy,{className:"my-2 border-border"}),De.jsx(Ng,{session:i.sessions.dinner,dayIndex:o,period:"dinner",sessionIndex:0,label:" Dinner"}),De.jsx(Zy,{className:"my-2 border-border"}),i.sessions.night.map((a,s)=>De.jsx(Ng,{session:a,dayIndex:o,period:"night",sessionIndex:s,label:s===0?" Night":"",canAdd:s===0,onAdd:()=>n(o,"night")},a.id))]})},o))})})]})}):De.jsx("div",{className:"p-8 text-center",children:De.jsx(x8,{className:"text-text-secondary",children:"Please set up flight information to generate a timetable."})}),w1t=({costEstimation:t})=>De.jsxs("div",{className:"p-4",children:[De.jsx("h2",{className:"text-2xl font-bold mb-4 text-text-primary",children:"Cost Estimation"}),De.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[De.jsxs("div",{children:[De.jsx("h3",{className:"text-xl font-semibold text-text-secondary",children:"Flights"}),De.jsx("ul",{children:t.flights.map((e,n)=>De.jsxs("li",{children:[e.name,": $",e.cost]},n))})]}),De.jsxs("div",{children:[De.jsx("h3",{className:"text-xl font-semibold text-text-secondary",children:"Accommodation"}),De.jsx("ul",{children:t.accommodation.map((e,n)=>De.jsxs("li",{children:[e.name,": $",e.cost]},n))})]}),De.jsxs("div",{children:[De.jsx("h3",{className:"text-xl font-semibold text-text-secondary",children:"Activities"}),De.jsx("ul",{children:t.activities.map((e,n)=>De.jsxs("li",{children:[e.name,": $",e.cost]},n))})]}),De.jsxs("div",{children:[De.jsx("h3",{className:"text-xl font-semibold text-text-secondary",children:"Food"}),De.jsx("ul",{children:t.food.map((e,n)=>De.jsxs("li",{children:[e.name,": $",e.cost]},n))})]}),De.jsxs("div",{children:[De.jsx("h3",{className:"text-xl font-semibold text-text-secondary",children:"Transportation"}),De.jsx("ul",{children:t.transportation.map((e,n)=>De.jsxs("li",{children:[e.name,": $",e.cost]},n))})]})]}),De.jsxs("div",{className:"mt-4 text-2xl font-bold",children:["Total: $",t.total]})]}),C1t={flights:[{name:"LHR to CDG",cost:250}],accommodation:[{name:"Hotel in Paris (2 nights)",cost:400}],activities:[{name:"Eiffel Tower visit",cost:25},{name:"Louvre Museum visit",cost:17}],food:[{name:"Daily food budget",cost:150}],transportation:[{name:"MTR tickets",cost:20}],total:862};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1t=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E1t=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),SK=t=>{const e=E1t(t);return e.charAt(0).toUpperCase()+e.slice(1)},Qpe=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),M1t=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R1t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1t=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>S.createElement("svg",{ref:l,...R1t,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Qpe("lucide",i),...!o&&!M1t(s)&&{"aria-hidden":"true"},...s},[...a.map(([c,u])=>S.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=(t,e)=>{const n=S.forwardRef(({className:r,...i},o)=>S.createElement(P1t,{ref:o,iconNode:e,className:Qpe(`lucide-${T1t(SK(t))}`,`lucide-${t}`,r),...i}));return n.displayName=SK(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1t=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],eC=Ey("arrow-right",N1t);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1t=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_K=Ey("calendar",I1t);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1t=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],O1t=Ey("circle-check",D1t);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1t=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],tC=Ey("map-pin",L1t);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1t=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],F1t=Ey("plane",B1t);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1t=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wK=Ey("search",$1t),{Title:aD,Text:CK}=B2,U1t=(t,e,n)=>[{id:"flight-1",number:"UA-123",from:t||"JFK",to:e||"LHR",departure:"10:00",arrival:"22:00",airline:"United Airlines",price:"$450",date:n},{id:"flight-2",number:"BA-456",from:t||"JFK",to:e||"LHR",departure:"12:00",arrival:"00:00",airline:"British Airways",price:"$520",date:n},{id:"flight-3",number:"AA-789",from:e||"LHR",to:t||"JFK",departure:"11:00",arrival:"14:00",airline:"American Airlines",price:"$480",date:n}],k1t=({onFlightInfoSubmit:t})=>{var _,C,E;const[e]=$s.useForm(),[n,r]=S.useState(!1),[i,o]=S.useState(null),[a,s]=S.useState({}),[l,c]=S.useState({}),[u,d]=S.useState(0),[f,h]=S.useState([]),p=(M,R)=>{var L;const N=R[`${M}From`],O=R[`${M}To`],I=(L=R[`${M}Date`])==null?void 0:L.toISOString();c(F=>({...F,[M]:{from:N,to:O,date:I}})),h(U1t(N,O,I)),o(M),r(!0)},x=M=>{i&&(e.setFieldsValue({[`${i}FlightNumber`]:M.number,[`${i}Airport`]:i==="arrival"?M.to:M.from,[`${i}Time`]:i==="arrival"?M.arrival:M.departure,[`${i}From`]:M.from,[`${i}To`]:M.to,[`${i}Date`]:_a(M.date)}),s(R=>{const N={...R,[i]:M};return N.arrival&&!N.departure&&u===0&&d(1),N.arrival&&N.departure&&d(2),N})),r(!1)},b=(M,R)=>{if(!M||!R)return new Date().toISOString();const[N,O]=R.split(":").map(Number);return _a(M).hour(N).minute(O).toISOString()},y=M=>{if(!a.arrival||!a.departure)return;const R=M.arrivalDate,N=M.departureDate,O=b(R,a.arrival.arrival),I=b(R,a.arrival.departure),L=b(N,a.departure.departure),F=b(N,a.departure.arrival),$={arrival:{flightNumber:M.arrivalFlightNumber,departureAirport:a.arrival.from,arrivalAirport:M.arrivalAirport,arrivalTime:O,departureTime:I},departure:{flightNumber:M.departureFlightNumber,departureAirport:M.departureAirport,arrivalAirport:a.departure.to,arrivalTime:F,departureTime:L}};t($)};return De.jsxs(ib.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto p-8",children:[De.jsxs("div",{className:"flex items-center justify-between mb-8",children:[De.jsxs("div",{children:[De.jsxs(aD,{level:2,className:"font-heading !text-text !mb-2 flex items-center gap-3",children:[De.jsx(F1t,{className:"text-primary w-8 h-8"}),"Flight Details"]}),De.jsx(CK,{className:"text-text-secondary text-lg",children:"Search and select your flights"})]}),De.jsx("div",{className:"w-1/3",children:De.jsx(I5e,{current:u,items:[{title:"Inbound",description:"Search & Select"},{title:"Outbound",description:"Search & Select"},{title:"Confirm",description:"Generate Plan"}]})})]}),De.jsxs($s,{form:e,onFinish:y,layout:"vertical",className:"relative",children:[De.jsxs(_M,{gutter:32,children:[De.jsx(jd,{span:12,children:De.jsxs(ib.div,{whileHover:{scale:1.01},className:"bg-white rounded-2xl shadow-lg border border-border overflow-hidden h-full flex flex-col",children:[De.jsxs("div",{className:"bg-primary/5 p-6 border-b border-primary/10 flex justify-between items-center",children:[De.jsxs("div",{className:"flex items-center gap-3",children:[De.jsx("div",{className:"p-2 bg-white rounded-full shadow-sm text-primary",children:De.jsx(eC,{className:"w-5 h-5 rotate-45"})}),De.jsx(aD,{level:4,className:"!m-0 font-heading !text-primary-dark",children:"Inbound Flight"})]}),a.arrival&&De.jsx(Oz,{status:"success",text:De.jsx("span",{className:"text-success font-medium",children:"Selected"})})]}),De.jsxs("div",{className:"p-8 flex-1 flex flex-col gap-4",children:[De.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[De.jsx($s.Item,{name:"arrivalFrom",label:"From",rules:[{required:!0}],children:De.jsx(Mu,{prefix:De.jsx(tC,{className:"w-4 h-4 text-gray-400"}),placeholder:"Origin (e.g. NYC)"})}),De.jsx($s.Item,{name:"arrivalTo",label:"To",rules:[{required:!0}],children:De.jsx(Mu,{prefix:De.jsx(tC,{className:"w-4 h-4 text-gray-400"}),placeholder:"Dest (e.g. LHR)"})})]}),De.jsx($s.Item,{label:"Travel Date",name:"arrivalDate",rules:[{required:!0}],children:De.jsx(hG,{className:"w-full h-12 rounded-lg border-gray-300 shadow-sm",suffixIcon:De.jsx(_K,{className:"text-primary w-5 h-5"})})}),De.jsx(bo,{type:"primary",onClick:()=>{e.validateFields(["arrivalFrom","arrivalTo","arrivalDate"]).then(M=>{p("arrival",M)})},className:"w-full h-10 mb-4 bg-primary hover:bg-primary-dark border-none flex items-center justify-center gap-2",icon:De.jsx(wK,{className:"w-4 h-4"}),children:"Search Inbound Flights"}),De.jsx("div",{className:"border-t border-gray-100 pt-4 mt-2",children:De.jsxs("div",{className:"grid grid-cols-3 gap-4 opacity-75",children:[De.jsx($s.Item,{name:"arrivalFlightNumber",label:"Flight",children:De.jsx(Mu,{readOnly:!0,className:"h-10 bg-gray-50 font-mono",placeholder:"-"})}),De.jsx($s.Item,{name:"arrivalAirport",label:"Airport",children:De.jsx(Mu,{readOnly:!0,className:"h-10 bg-gray-50",placeholder:"-"})}),De.jsx($s.Item,{name:"arrivalTime",label:"Time",children:De.jsx(Mu,{readOnly:!0,className:"h-10 bg-gray-50",placeholder:"-"})})]})})]})]})}),De.jsx(jd,{span:12,children:De.jsxs(ib.div,{whileHover:{scale:1.01},className:"bg-white rounded-2xl shadow-lg border border-border overflow-hidden h-full flex flex-col",children:[De.jsxs("div",{className:"bg-secondary/5 p-6 border-b border-secondary/10 flex justify-between items-center",children:[De.jsxs("div",{className:"flex items-center gap-3",children:[De.jsx("div",{className:"p-2 bg-white rounded-full shadow-sm text-secondary",children:De.jsx(eC,{className:"w-5 h-5 -rotate-45"})}),De.jsx(aD,{level:4,className:"!m-0 font-heading !text-secondary",children:"Outbound Flight"})]}),a.departure&&De.jsx(Oz,{status:"success",text:De.jsx("span",{className:"text-success font-medium",children:"Selected"})})]}),De.jsxs("div",{className:"p-8 flex-1 flex flex-col gap-4",children:[De.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[De.jsx($s.Item,{name:"departureFrom",label:"From",rules:[{required:!0}],children:De.jsx(Mu,{prefix:De.jsx(tC,{className:"w-4 h-4 text-gray-400"}),placeholder:"Origin"})}),De.jsx($s.Item,{name:"departureTo",label:"To",rules:[{required:!0}],children:De.jsx(Mu,{prefix:De.jsx(tC,{className:"w-4 h-4 text-gray-400"}),placeholder:"Dest"})})]}),De.jsx($s.Item,{label:"Travel Date",name:"departureDate",rules:[{required:!0}],children:De.jsx(hG,{className:"w-full h-12 rounded-lg border-gray-300 shadow-sm",suffixIcon:De.jsx(_K,{className:"text-secondary w-5 h-5"})})}),De.jsx(bo,{type:"primary",onClick:()=>{e.validateFields(["departureFrom","departureTo","departureDate"]).then(M=>{p("departure",M)})},className:"w-full h-10 mb-4 bg-secondary hover:bg-secondary-dark border-none flex items-center justify-center gap-2",icon:De.jsx(wK,{className:"w-4 h-4"}),children:"Search Outbound Flights"}),De.jsx("div",{className:"border-t border-gray-100 pt-4 mt-2",children:De.jsxs("div",{className:"grid grid-cols-3 gap-4 opacity-75",children:[De.jsx($s.Item,{name:"departureFlightNumber",label:"Flight",children:De.jsx(Mu,{readOnly:!0,className:"h-10 bg-gray-50 font-mono",placeholder:"-"})}),De.jsx($s.Item,{name:"departureAirport",label:"Airport",children:De.jsx(Mu,{readOnly:!0,className:"h-10 bg-gray-50",placeholder:"-"})}),De.jsx($s.Item,{name:"departureTime",label:"Time",children:De.jsx(Mu,{readOnly:!0,className:"h-10 bg-gray-50",placeholder:"-"})})]})})]})]})})]}),De.jsx(Lpt,{children:a.arrival&&a.departure&&De.jsx(ib.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-12 flex justify-end",children:De.jsxs(bo,{type:"primary",htmlType:"submit",size:"large",className:"bg-cta hover:bg-orange-600 border-none h-14 px-12 text-lg font-medium shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all flex items-center gap-2 rounded-full",children:["Generate Timetable ",De.jsx(O1t,{className:"w-5 h-5"})]})})})]}),De.jsxs(zre,{title:De.jsxs("div",{className:"font-heading text-xl",children:["Select ",i==="arrival"?"Inbound":"Outbound"," Flight",De.jsxs("div",{className:"text-sm font-normal text-gray-500 mt-1",children:[(_=l[i])==null?void 0:_.from," ",De.jsx(eC,{className:"w-3 h-3 inline mx-1"})," ",(C=l[i])==null?void 0:C.to," on ",_a((E=l[i])==null?void 0:E.date).format("MMM D, YYYY")]})]}),open:n,onCancel:()=>r(!1),footer:null,width:600,className:"rounded-xl overflow-hidden",children:[De.jsx(Wm,{itemLayout:"vertical",dataSource:f,renderItem:M=>De.jsx(Wm.Item,{className:"hover:bg-blue-50 transition-colors cursor-pointer rounded-lg px-4 -mx-4 border-b-0 mb-2",onClick:()=>x(M),children:De.jsxs("div",{className:"flex justify-between items-center w-full",children:[De.jsxs("div",{className:"flex flex-col gap-1",children:[De.jsxs("div",{className:"flex items-center gap-2",children:[De.jsx("span",{className:"font-bold text-lg text-text font-mono",children:M.number}),De.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 rounded-full text-gray-600",children:M.airline})]}),De.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[De.jsx("span",{children:M.from}),De.jsx(eC,{className:"w-4 h-4"}),De.jsx("span",{children:M.to})]}),De.jsxs("div",{className:"text-xs text-gray-400",children:["Dep: ",M.departure,"  Arr: ",M.arrival]})]}),De.jsxs("div",{className:"flex flex-col items-end gap-2",children:[De.jsx("span",{className:"font-bold text-xl text-primary",children:M.price}),De.jsx(bo,{type:"primary",size:"small",className:"bg-primary hover:bg-primary-dark shadow-sm",children:"Select"})]})]})})}),De.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg flex items-center gap-3",children:[De.jsxs("div",{className:"relative flex h-3 w-3",children:[De.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),De.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),De.jsx(CK,{className:"text-xs text-blue-800 font-medium",children:"Live flight data connected via Flightradar24 (Simulation Mode). Real-time prices and delays enabled."})]})]})]})},ya=[];for(let t=0;t<256;++t)ya.push((t+256).toString(16).slice(1));function V1t(t,e=0){return(ya[t[e+0]]+ya[t[e+1]]+ya[t[e+2]]+ya[t[e+3]]+"-"+ya[t[e+4]]+ya[t[e+5]]+"-"+ya[t[e+6]]+ya[t[e+7]]+"-"+ya[t[e+8]]+ya[t[e+9]]+"-"+ya[t[e+10]]+ya[t[e+11]]+ya[t[e+12]]+ya[t[e+13]]+ya[t[e+14]]+ya[t[e+15]]).toLowerCase()}let sD;const z1t=new Uint8Array(16);function G1t(){if(!sD){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sD=crypto.getRandomValues.bind(crypto)}return sD(z1t)}const H1t=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),TK={randomUUID:H1t};function j1t(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??G1t();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(n=n||0,n<0||n+16>e.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let o=0;o<16;++o)e[n+o]=r[o];return e}return V1t(r)}function Zpe(t,e,n){return TK.randomUUID&&!e&&!t?TK.randomUUID():j1t(t,e,n)}const tm=t=>({id:Zpe(),type:t,activities:[]}),q1t=t=>({date:t.toISOString(),sessions:{breakfast:tm("breakfast"),morning:[tm("morning")],lunch:tm("lunch"),afternoon:[tm("afternoon")],dinner:tm("dinner"),night:[tm("night")]}}),W1t=(t,e)=>{const[n,r]=S.useState(t);S.useEffect(()=>{r(t)},[t]);const i=S.useCallback(s=>{const l=new Date(s.arrival.arrivalTime),c=new Date(s.departure.departureTime),u=[];let d=new Date(l.getFullYear(),l.getMonth(),l.getDate());const f=new Date(c.getFullYear(),c.getMonth(),c.getDate());for(;d<=f;)u.push(q1t(new Date(d))),d.setDate(d.getDate()+1);const h={flight:s,schedule:u};r(h),e(h)},[e]),o=S.useCallback((s,l)=>{if(!n)return;const c=[...n.schedule];c[s].sessions[l].push(tm(l));const u={...n,schedule:c};r(u),e(u)},[n,e]),a=S.useCallback((s,l)=>{if(!s.destination||!n)return;const{source:c,destination:u}=s,d=c.droppableId,f=u.droppableId;if(d==="cart"){const h=l[c.index],[p,x,b]=f.split("-"),y=parseInt(p,10),_=parseInt(b,10),C=[...n.schedule],E=C[y].sessions;let M;["breakfast","lunch","dinner"].includes(x)?M=E[x]:M=E[x][_],M.activities.splice(u.index,0,h);const R={...n,schedule:C};r(R),e(R)}},[n,e]);return{timetable:n,generateTimetableFromFlight:i,addSessionRow:o,onDragEnd:a}},{Content:X1t,Sider:EK}=TM,{Title:MK}=B2,ra={MAP_SELECTION:"Map Selection",FLIGHT_INFO:"Flight Info",TIMETABLE_SCHEDULE:"Timetable Schedule",COST_ESTIMATION:"Cost Estimation"},Y1t=({plan:t,onUpdatePlan:e,onBack:n})=>{const[r,i]=S.useState(ra.MAP_SELECTION),[o,a]=S.useState(null),s=p=>{const x=[...t.cart||[],p];e({...t,cart:x})},{timetable:l,generateTimetableFromFlight:c,addSessionRow:u,onDragEnd:d}=W1t(t.timetable,p=>{e({...t,timetable:p})}),f=p=>{c(p),i(ra.TIMETABLE_SCHEDULE)},h=()=>{switch(r){case ra.MAP_SELECTION:return De.jsxs(TM,{style:{height:"calc(100vh - 200px)"},className:"bg-surface border border-border rounded-lg overflow-hidden",children:[De.jsx(X1t,{children:De.jsx(Hmt,{onSelectSpot:a})}),De.jsx(EK,{width:300,theme:"light",style:{overflow:"auto",padding:"10px"},className:"border-l border-border bg-surface",children:o?De.jsx(jmt,{spot:o,onAddToCart:s}):De.jsx("div",{className:"p-4 text-text-secondary",children:"Select a spot on the map to see details"})}),De.jsxs(EK,{width:250,theme:"light",style:{overflow:"auto",borderLeft:"1px solid #FBCFE8",padding:"10px"},className:"bg-surface",children:[De.jsx(MK,{level:5,className:"!text-primary font-heading",children:"Selected Spots"}),De.jsx(Wm,{dataSource:t.cart||[],renderItem:p=>De.jsx(Wm.Item,{children:De.jsx(Jc,{hoverable:!0,size:"small",className:"border-border w-full",cover:De.jsx("img",{alt:p.name,src:p.imageUrl,className:"h-20 object-cover"}),children:De.jsx(Jc.Meta,{title:De.jsx("span",{className:"text-text font-medium",children:p.name})})})})})]})]});case ra.FLIGHT_INFO:return De.jsx(k1t,{onFlightInfoSubmit:f});case ra.TIMETABLE_SCHEDULE:return De.jsx(_1t,{timetable:l,cart:t.cart||[],onAddSession:u,onDragEnd:p=>d(p,t.cart||[])});case ra.COST_ESTIMATION:return De.jsx(w1t,{costEstimation:C1t});default:return null}};return De.jsxs("div",{className:"flex flex-col h-full font-body",children:[De.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[De.jsx(bo,{icon:De.jsx(d8e,{}),onClick:n,className:"border-primary text-primary hover:text-primary-dark",children:"Back to Plans"}),De.jsx(MK,{level:3,style:{margin:0},className:"font-heading !text-text",children:t.title})]}),De.jsxs(_M,{style:{marginBottom:"16px"},gutter:16,children:[De.jsx(jd,{span:6,children:De.jsx(bo,{block:!0,type:r===ra.MAP_SELECTION?"primary":"default",onClick:()=>i(ra.MAP_SELECTION),className:r===ra.MAP_SELECTION?"bg-primary":"",children:"1. Map Selection"})}),De.jsx(jd,{span:6,children:De.jsx(bo,{block:!0,type:r===ra.FLIGHT_INFO?"primary":"default",onClick:()=>i(ra.FLIGHT_INFO),className:r===ra.FLIGHT_INFO?"bg-primary":"",children:"2. Flight Info"})}),De.jsx(jd,{span:6,children:De.jsx(bo,{block:!0,type:r===ra.TIMETABLE_SCHEDULE?"primary":"default",onClick:()=>i(ra.TIMETABLE_SCHEDULE),className:r===ra.TIMETABLE_SCHEDULE?"bg-primary":"",children:"3. Timetable Schedule"})}),De.jsx(jd,{span:6,children:De.jsx(bo,{block:!0,type:r===ra.COST_ESTIMATION?"primary":"default",onClick:()=>i(ra.COST_ESTIMATION),className:r===ra.COST_ESTIMATION?"bg-primary":"",children:"4. Cost Estimation"})})]}),De.jsx("div",{className:"flex-1 overflow-hidden",children:h()})]})};function K1t(t,e){const[n,r]=S.useState(()=>{try{const o=window.localStorage.getItem(t);return o?JSON.parse(o):e}catch(o){return console.error(o),e}});return[n,o=>{try{const a=o instanceof Function?o(n):o;r(a),window.localStorage.setItem(t,JSON.stringify(a))}catch(a){console.error(a)}}]}const Q1t=()=>{const[t,e]=K1t("travel-plans",[]),n=S.useCallback(()=>{const o={id:Zpe(),title:`Trip to somewhere ${t.length+1}`,createdAt:new Date().toISOString(),timetable:null,cart:[]};e(a=>[...a,o])},[t,e]),r=S.useCallback(o=>{e(a=>a.filter(s=>s.id!==o))},[e]),i=S.useCallback(o=>{e(a=>a.map(s=>s.id===o.id?o:s))},[e]);return{plans:t,addPlan:n,deletePlan:r,updatePlan:i}},{Header:Z1t,Content:J1t}=TM;function ebt(){const[t,e]=S.useState(!1),{plans:n,addPlan:r,deletePlan:i,updatePlan:o}=Q1t(),[a,s]=S.useState(null),l=u=>{s(u)},c=()=>{s(null)};return De.jsx(W3,{theme:{token:{colorPrimary:"#3B82F6",colorText:"#0F172A",fontFamily:"Work Sans, sans-serif",colorBgLayout:"#F0F9FF"},components:{Button:{colorPrimary:"#3B82F6",algorithm:!0},Layout:{headerBg:"#3B82F6"}}},children:De.jsxs(TM,{style:{minHeight:"100vh"},children:[De.jsxs(Z1t,{className:"bg-primary flex justify-between items-center px-6 shadow-md z-10",children:[De.jsx("h1",{className:"text-white text-2xl font-heading font-bold m-0 tracking-tight",children:"Travel Planner Pro"}),De.jsx(bo,{type:"primary",icon:De.jsx(g8e,{}),onClick:()=>e(!0),className:"bg-primary-dark border-primary-light hover:bg-primary-light shadow-sm",children:"Notifications"})]}),De.jsx(zre,{title:"Notifications",open:t,onCancel:()=>e(!1),footer:null,children:De.jsx(_8e,{onClose:()=>e(!1)})}),De.jsx(J1t,{style:{padding:"24px 50px"},children:a?De.jsx(Y1t,{plan:a,onUpdatePlan:u=>{o(u),s(u)},onBack:c}):De.jsx(C8e,{plans:n,onAddPlan:r,onSelectPlan:l,onDeletePlan:i})})]})})}lD.createRoot(document.getElementById("root")).render(De.jsx(je.StrictMode,{children:De.jsx(ebt,{})}));
